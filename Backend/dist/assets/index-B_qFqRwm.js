var OK=Object.defineProperty;var O6=e=>{throw TypeError(e)};var RK=(e,t,r)=>t in e?OK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vn=(e,t,r)=>RK(e,typeof t!="symbol"?t+"":t,r),db=(e,t,r)=>t.has(e)||O6("Cannot "+r);var Fe=(e,t,r)=>(db(e,t,"read from private field"),r?r.call(e):t.get(e)),or=(e,t,r)=>t.has(e)?O6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),It=(e,t,r,n)=>(db(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Lr=(e,t,r)=>(db(e,t,"access private method"),r);var G1=(e,t,r,n)=>({set _(s){It(e,t,s,r)},get _(){return Fe(e,t,n)}});function AL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $g(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uL={exports:{}},g2={},dL={exports:{}},Ur={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=Symbol.for("react.element"),DK=Symbol.for("react.portal"),UK=Symbol.for("react.fragment"),MK=Symbol.for("react.strict_mode"),QK=Symbol.for("react.profiler"),HK=Symbol.for("react.provider"),VK=Symbol.for("react.context"),KK=Symbol.for("react.forward_ref"),GK=Symbol.for("react.suspense"),WK=Symbol.for("react.memo"),zK=Symbol.for("react.lazy"),R6=Symbol.iterator;function $K(e){return e===null||typeof e!="object"?null:(e=R6&&e[R6]||e["@@iterator"],typeof e=="function"?e:null)}var hL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fL=Object.assign,mL={};function rm(e,t,r){this.props=e,this.context=t,this.refs=mL,this.updater=r||hL}rm.prototype.isReactComponent={};rm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pL(){}pL.prototype=rm.prototype;function GN(e,t,r){this.props=e,this.context=t,this.refs=mL,this.updater=r||hL}var WN=GN.prototype=new pL;WN.constructor=GN;fL(WN,rm.prototype);WN.isPureReactComponent=!0;var D6=Array.isArray,gL=Object.prototype.hasOwnProperty,zN={current:null},xL={key:!0,ref:!0,__self:!0,__source:!0};function yL(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)gL.call(t,n)&&!xL.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var A=Array(l),u=0;u<l;u++)A[u]=arguments[u+2];s.children=A}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:qg,type:e,key:i,ref:o,props:s,_owner:zN.current}}function qK(e,t){return{$$typeof:qg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $N(e){return typeof e=="object"&&e!==null&&e.$$typeof===qg}function XK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var U6=/\/+/g;function hb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XK(""+e.key):t.toString(36)}function ay(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qg:case DK:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+hb(o,0):n,D6(s)?(r="",e!=null&&(r=e.replace(U6,"$&/")+"/"),ay(s,t,r,"",function(u){return u})):s!=null&&($N(s)&&(s=qK(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(U6,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",D6(e))for(var l=0;l<e.length;l++){i=e[l];var A=n+hb(i,l);o+=ay(i,t,r,A,s)}else if(A=$K(e),typeof A=="function")for(e=A.call(e),l=0;!(i=e.next()).done;)i=i.value,A=n+hb(i,l++),o+=ay(i,t,r,A,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function W1(e,t,r){if(e==null)return e;var n=[],s=0;return ay(e,n,"","",function(i){return t.call(r,i,s++)}),n}function YK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var va={current:null},oy={transition:null},ZK={ReactCurrentDispatcher:va,ReactCurrentBatchConfig:oy,ReactCurrentOwner:zN};function wL(){throw Error("act(...) is not supported in production builds of React.")}Ur.Children={map:W1,forEach:function(e,t,r){W1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return W1(e,function(){t++}),t},toArray:function(e){return W1(e,function(t){return t})||[]},only:function(e){if(!$N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ur.Component=rm;Ur.Fragment=UK;Ur.Profiler=QK;Ur.PureComponent=GN;Ur.StrictMode=MK;Ur.Suspense=GK;Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZK;Ur.act=wL;Ur.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=fL({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=zN.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(A in t)gL.call(t,A)&&!xL.hasOwnProperty(A)&&(n[A]=t[A]===void 0&&l!==void 0?l[A]:t[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){l=Array(A);for(var u=0;u<A;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:qg,type:e.type,key:s,ref:i,props:n,_owner:o}};Ur.createContext=function(e){return e={$$typeof:VK,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HK,_context:e},e.Consumer=e};Ur.createElement=yL;Ur.createFactory=function(e){var t=yL.bind(null,e);return t.type=e,t};Ur.createRef=function(){return{current:null}};Ur.forwardRef=function(e){return{$$typeof:KK,render:e}};Ur.isValidElement=$N;Ur.lazy=function(e){return{$$typeof:zK,_payload:{_status:-1,_result:e},_init:YK}};Ur.memo=function(e,t){return{$$typeof:WK,type:e,compare:t===void 0?null:t}};Ur.startTransition=function(e){var t=oy.transition;oy.transition={};try{e()}finally{oy.transition=t}};Ur.unstable_act=wL;Ur.useCallback=function(e,t){return va.current.useCallback(e,t)};Ur.useContext=function(e){return va.current.useContext(e)};Ur.useDebugValue=function(){};Ur.useDeferredValue=function(e){return va.current.useDeferredValue(e)};Ur.useEffect=function(e,t){return va.current.useEffect(e,t)};Ur.useId=function(){return va.current.useId()};Ur.useImperativeHandle=function(e,t,r){return va.current.useImperativeHandle(e,t,r)};Ur.useInsertionEffect=function(e,t){return va.current.useInsertionEffect(e,t)};Ur.useLayoutEffect=function(e,t){return va.current.useLayoutEffect(e,t)};Ur.useMemo=function(e,t){return va.current.useMemo(e,t)};Ur.useReducer=function(e,t,r){return va.current.useReducer(e,t,r)};Ur.useRef=function(e){return va.current.useRef(e)};Ur.useState=function(e){return va.current.useState(e)};Ur.useSyncExternalStore=function(e,t,r){return va.current.useSyncExternalStore(e,t,r)};Ur.useTransition=function(){return va.current.useTransition()};Ur.version="18.3.1";dL.exports=Ur;var B=dL.exports;const Xe=$g(B),L0=AL({__proto__:null,default:Xe},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JK=B,eG=Symbol.for("react.element"),tG=Symbol.for("react.fragment"),rG=Object.prototype.hasOwnProperty,nG=JK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sG={key:!0,ref:!0,__self:!0,__source:!0};function vL(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)rG.call(t,n)&&!sG.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:eG,type:e,key:i,ref:o,props:s,_owner:nG.current}}g2.Fragment=tG;g2.jsx=vL;g2.jsxs=vL;uL.exports=g2;var a=uL.exports,bL={exports:{}},Bo={},CL={exports:{}},BL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,X){var fe=q.length;q.push(X);e:for(;0<fe;){var de=fe-1>>>1,Q=q[de];if(0<s(Q,X))q[de]=X,q[fe]=Q,fe=de;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var X=q[0],fe=q.pop();if(fe!==X){q[0]=fe;e:for(var de=0,Q=q.length,Z=Q>>>1;de<Z;){var ae=2*(de+1)-1,ee=q[ae],oe=ae+1,pe=q[oe];if(0>s(ee,fe))oe<Q&&0>s(pe,ee)?(q[de]=pe,q[oe]=fe,de=oe):(q[de]=ee,q[ae]=fe,de=ae);else if(oe<Q&&0>s(pe,fe))q[de]=pe,q[oe]=fe,de=oe;else break e}}return X}function s(q,X){var fe=q.sortIndex-X.sortIndex;return fe!==0?fe:q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var A=[],u=[],h=1,m=null,y=3,g=!1,b=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(q){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=q)n(u),X.sortIndex=X.expirationTime,t(A,X);else break;X=r(u)}}function T(q){if(C=!1,F(q),!b)if(r(A)!==null)b=!0,G(D);else{var X=r(u);X!==null&&K(T,X.startTime-q)}}function D(q,X){b=!1,C&&(C=!1,v(U),U=-1),g=!0;var fe=y;try{for(F(X),m=r(A);m!==null&&(!(m.expirationTime>X)||q&&!R());){var de=m.callback;if(typeof de=="function"){m.callback=null,y=m.priorityLevel;var Q=de(m.expirationTime<=X);X=e.unstable_now(),typeof Q=="function"?m.callback=Q:m===r(A)&&n(A),F(X)}else n(A);m=r(A)}if(m!==null)var Z=!0;else{var ae=r(u);ae!==null&&K(T,ae.startTime-X),Z=!1}return Z}finally{m=null,y=fe,g=!1}}var V=!1,P=null,U=-1,k=5,z=-1;function R(){return!(e.unstable_now()-z<k)}function H(){if(P!==null){var q=e.unstable_now();z=q;var X=!0;try{X=P(!0,q)}finally{X?J():(V=!1,P=null)}}else V=!1}var J;if(typeof N=="function")J=function(){N(H)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Y=ne.port2;ne.port1.onmessage=H,J=function(){Y.postMessage(null)}}else J=function(){I(H,0)};function G(q){P=q,V||(V=!0,J())}function K(q,X){U=I(function(){q(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,G(D))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(A)},e.unstable_next=function(q){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var fe=y;y=X;try{return q()}finally{y=fe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var fe=y;y=q;try{return X()}finally{y=fe}},e.unstable_scheduleCallback=function(q,X,fe){var de=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?de+fe:de):fe=de,q){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=fe+Q,q={id:h++,callback:X,priorityLevel:q,startTime:fe,expirationTime:Q,sortIndex:-1},fe>de?(q.sortIndex=fe,t(u,q),r(A)===null&&q===r(u)&&(C?(v(U),U=-1):C=!0,K(T,fe-de))):(q.sortIndex=Q,t(A,q),b||g||(b=!0,G(D))),q},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(q){var X=y;return function(){var fe=y;y=X;try{return q.apply(this,arguments)}finally{y=fe}}}})(BL);CL.exports=BL;var iG=CL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aG=B,vo=iG;function pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NL=new Set,qp={};function nf(e,t){P0(e,t),P0(e+"Capture",t)}function P0(e,t){for(qp[e]=t,e=0;e<t.length;e++)NL.add(t[e])}var FA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D5=Object.prototype.hasOwnProperty,oG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M6={},Q6={};function lG(e){return D5.call(Q6,e)?!0:D5.call(M6,e)?!1:oG.test(e)?Q6[e]=!0:(M6[e]=!0,!1)}function cG(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AG(e,t,r,n){if(t===null||typeof t>"u"||cG(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ba(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ti[e]=new ba(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ti[t]=new ba(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ti[e]=new ba(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ti[e]=new ba(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ti[e]=new ba(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ti[e]=new ba(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ti[e]=new ba(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ti[e]=new ba(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ti[e]=new ba(e,5,!1,e.toLowerCase(),null,!1,!1)});var qN=/[\-:]([a-z])/g;function XN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qN,XN);Ti[t]=new ba(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qN,XN);Ti[t]=new ba(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qN,XN);Ti[t]=new ba(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ti[e]=new ba(e,1,!1,e.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new ba("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ti[e]=new ba(e,1,!1,e.toLowerCase(),null,!0,!0)});function YN(e,t,r,n){var s=Ti.hasOwnProperty(t)?Ti[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AG(t,r,s,n)&&(r=null),n||s===null?lG(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var QA=aG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z1=Symbol.for("react.element"),Rf=Symbol.for("react.portal"),Df=Symbol.for("react.fragment"),ZN=Symbol.for("react.strict_mode"),U5=Symbol.for("react.profiler"),SL=Symbol.for("react.provider"),EL=Symbol.for("react.context"),JN=Symbol.for("react.forward_ref"),M5=Symbol.for("react.suspense"),Q5=Symbol.for("react.suspense_list"),e3=Symbol.for("react.memo"),Su=Symbol.for("react.lazy"),IL=Symbol.for("react.offscreen"),H6=Symbol.iterator;function Fm(e){return e===null||typeof e!="object"?null:(e=H6&&e[H6]||e["@@iterator"],typeof e=="function"?e:null)}var fs=Object.assign,fb;function ep(e){if(fb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);fb=t&&t[1]||""}return`
`+fb+e}var mb=!1;function pb(e,t){if(!e||mb)return"";mb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var A=`
`+s[o].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=o&&0<=l);break}}}finally{mb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ep(e):""}function uG(e){switch(e.tag){case 5:return ep(e.type);case 16:return ep("Lazy");case 13:return ep("Suspense");case 19:return ep("SuspenseList");case 0:case 2:case 15:return e=pb(e.type,!1),e;case 11:return e=pb(e.type.render,!1),e;case 1:return e=pb(e.type,!0),e;default:return""}}function H5(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Df:return"Fragment";case Rf:return"Portal";case U5:return"Profiler";case ZN:return"StrictMode";case M5:return"Suspense";case Q5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EL:return(e.displayName||"Context")+".Consumer";case SL:return(e._context.displayName||"Context")+".Provider";case JN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case e3:return t=e.displayName||null,t!==null?t:H5(e.type)||"Memo";case Su:t=e._payload,e=e._init;try{return H5(e(t))}catch{}}return null}function dG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H5(t);case 8:return t===ZN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function FL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hG(e){var t=FL(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $1(e){e._valueTracker||(e._valueTracker=hG(e))}function jL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=FL(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function V5(e,t){var r=t.checked;return fs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function V6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=gd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _L(e,t){t=t.checked,t!=null&&YN(e,"checked",t,!1)}function K5(e,t){_L(e,t);var r=gd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?G5(e,t.type,r):t.hasOwnProperty("defaultValue")&&G5(e,t.type,gd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function K6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function G5(e,t,r){(t!=="number"||qy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var tp=Array.isArray;function n0(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gd(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function W5(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pt(91));return fs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pt(92));if(tp(r)){if(1<r.length)throw Error(pt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:gd(r)}}function TL(e,t){var r=gd(t.value),n=gd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function W6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z5(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var q1,LL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(q1=q1||document.createElement("div"),q1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=q1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fG=["Webkit","ms","Moz","O"];Object.keys(Cp).forEach(function(e){fG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cp[t]=Cp[e]})});function PL(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cp.hasOwnProperty(e)&&Cp[e]?(""+t).trim():t+"px"}function OL(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=PL(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var mG=fs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $5(e,t){if(t){if(mG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pt(62))}}function q5(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X5=null;function t3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Y5=null,s0=null,i0=null;function z6(e){if(e=Zg(e)){if(typeof Y5!="function")throw Error(pt(280));var t=e.stateNode;t&&(t=b2(t),Y5(e.stateNode,e.type,t))}}function RL(e){s0?i0?i0.push(e):i0=[e]:s0=e}function DL(){if(s0){var e=s0,t=i0;if(i0=s0=null,z6(e),t)for(e=0;e<t.length;e++)z6(t[e])}}function UL(e,t){return e(t)}function ML(){}var gb=!1;function QL(e,t,r){if(gb)return e(t,r);gb=!0;try{return UL(e,t,r)}finally{gb=!1,(s0!==null||i0!==null)&&(ML(),DL())}}function Yp(e,t){var r=e.stateNode;if(r===null)return null;var n=b2(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pt(231,t,typeof r));return r}var Z5=!1;if(FA)try{var jm={};Object.defineProperty(jm,"passive",{get:function(){Z5=!0}}),window.addEventListener("test",jm,jm),window.removeEventListener("test",jm,jm)}catch{Z5=!1}function pG(e,t,r,n,s,i,o,l,A){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Bp=!1,Xy=null,Yy=!1,J5=null,gG={onError:function(e){Bp=!0,Xy=e}};function xG(e,t,r,n,s,i,o,l,A){Bp=!1,Xy=null,pG.apply(gG,arguments)}function yG(e,t,r,n,s,i,o,l,A){if(xG.apply(this,arguments),Bp){if(Bp){var u=Xy;Bp=!1,Xy=null}else throw Error(pt(198));Yy||(Yy=!0,J5=u)}}function sf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function HL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $6(e){if(sf(e)!==e)throw Error(pt(188))}function wG(e){var t=e.alternate;if(!t){if(t=sf(e),t===null)throw Error(pt(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return $6(s),e;if(i===n)return $6(s),t;i=i.sibling}throw Error(pt(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(pt(189))}}if(r.alternate!==n)throw Error(pt(190))}if(r.tag!==3)throw Error(pt(188));return r.stateNode.current===r?e:t}function VL(e){return e=wG(e),e!==null?KL(e):null}function KL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KL(e);if(t!==null)return t;e=e.sibling}return null}var GL=vo.unstable_scheduleCallback,q6=vo.unstable_cancelCallback,vG=vo.unstable_shouldYield,bG=vo.unstable_requestPaint,Ls=vo.unstable_now,CG=vo.unstable_getCurrentPriorityLevel,r3=vo.unstable_ImmediatePriority,WL=vo.unstable_UserBlockingPriority,Zy=vo.unstable_NormalPriority,BG=vo.unstable_LowPriority,zL=vo.unstable_IdlePriority,x2=null,hc=null;function NG(e){if(hc&&typeof hc.onCommitFiberRoot=="function")try{hc.onCommitFiberRoot(x2,e,void 0,(e.current.flags&128)===128)}catch{}}var Il=Math.clz32?Math.clz32:IG,SG=Math.log,EG=Math.LN2;function IG(e){return e>>>=0,e===0?32:31-(SG(e)/EG|0)|0}var X1=64,Y1=4194304;function rp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=rp(l):(i&=o,i!==0&&(n=rp(i)))}else o=r&~s,o!==0?n=rp(o):i!==0&&(n=rp(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Il(t),s=1<<r,n|=e[r],t&=~s;return n}function FG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Il(i),l=1<<o,A=s[o];A===-1?(!(l&r)||l&n)&&(s[o]=FG(l,t)):A<=t&&(e.expiredLanes|=l),i&=~l}}function e4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $L(){var e=X1;return X1<<=1,!(X1&4194240)&&(X1=64),e}function xb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Xg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Il(t),e[t]=r}function _G(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Il(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function n3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Il(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Bn=0;function qL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XL,s3,YL,ZL,JL,t4=!1,Z1=[],ed=null,td=null,rd=null,Zp=new Map,Jp=new Map,Fu=[],TG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X6(e,t){switch(e){case"focusin":case"focusout":ed=null;break;case"dragenter":case"dragleave":td=null;break;case"mouseover":case"mouseout":rd=null;break;case"pointerover":case"pointerout":Zp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jp.delete(t.pointerId)}}function _m(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Zg(t),t!==null&&s3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kG(e,t,r,n,s){switch(t){case"focusin":return ed=_m(ed,e,t,r,n,s),!0;case"dragenter":return td=_m(td,e,t,r,n,s),!0;case"mouseover":return rd=_m(rd,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Zp.set(i,_m(Zp.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Jp.set(i,_m(Jp.get(i)||null,e,t,r,n,s)),!0}return!1}function eP(e){var t=sh(e.target);if(t!==null){var r=sf(t);if(r!==null){if(t=r.tag,t===13){if(t=HL(r),t!==null){e.blockedOn=t,JL(e.priority,function(){YL(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ly(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=r4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);X5=n,r.target.dispatchEvent(n),X5=null}else return t=Zg(r),t!==null&&s3(t),e.blockedOn=r,!1;t.shift()}return!0}function Y6(e,t,r){ly(e)&&r.delete(t)}function LG(){t4=!1,ed!==null&&ly(ed)&&(ed=null),td!==null&&ly(td)&&(td=null),rd!==null&&ly(rd)&&(rd=null),Zp.forEach(Y6),Jp.forEach(Y6)}function Tm(e,t){e.blockedOn===t&&(e.blockedOn=null,t4||(t4=!0,vo.unstable_scheduleCallback(vo.unstable_NormalPriority,LG)))}function eg(e){function t(s){return Tm(s,e)}if(0<Z1.length){Tm(Z1[0],e);for(var r=1;r<Z1.length;r++){var n=Z1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ed!==null&&Tm(ed,e),td!==null&&Tm(td,e),rd!==null&&Tm(rd,e),Zp.forEach(t),Jp.forEach(t),r=0;r<Fu.length;r++)n=Fu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Fu.length&&(r=Fu[0],r.blockedOn===null);)eP(r),r.blockedOn===null&&Fu.shift()}var a0=QA.ReactCurrentBatchConfig,ew=!0;function PG(e,t,r,n){var s=Bn,i=a0.transition;a0.transition=null;try{Bn=1,i3(e,t,r,n)}finally{Bn=s,a0.transition=i}}function OG(e,t,r,n){var s=Bn,i=a0.transition;a0.transition=null;try{Bn=4,i3(e,t,r,n)}finally{Bn=s,a0.transition=i}}function i3(e,t,r,n){if(ew){var s=r4(e,t,r,n);if(s===null)Ib(e,t,n,tw,r),X6(e,n);else if(kG(s,e,t,r,n))n.stopPropagation();else if(X6(e,n),t&4&&-1<TG.indexOf(e)){for(;s!==null;){var i=Zg(s);if(i!==null&&XL(i),i=r4(e,t,r,n),i===null&&Ib(e,t,n,tw,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ib(e,t,n,null,r)}}var tw=null;function r4(e,t,r,n){if(tw=null,e=t3(n),e=sh(e),e!==null)if(t=sf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=HL(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tw=e,null}function tP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CG()){case r3:return 1;case WL:return 4;case Zy:case BG:return 16;case zL:return 536870912;default:return 16}default:return 16}}var Ku=null,a3=null,cy=null;function rP(){if(cy)return cy;var e,t=a3,r=t.length,n,s="value"in Ku?Ku.value:Ku.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return cy=s.slice(e,1<n?1-n:void 0)}function Ay(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function J1(){return!0}function Z6(){return!1}function No(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?J1:Z6,this.isPropagationStopped=Z6,this}return fs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=J1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=J1)},persist:function(){},isPersistent:J1}),t}var nm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o3=No(nm),Yg=fs({},nm,{view:0,detail:0}),RG=No(Yg),yb,wb,km,y2=fs({},Yg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==km&&(km&&e.type==="mousemove"?(yb=e.screenX-km.screenX,wb=e.screenY-km.screenY):wb=yb=0,km=e),yb)},movementY:function(e){return"movementY"in e?e.movementY:wb}}),J6=No(y2),DG=fs({},y2,{dataTransfer:0}),UG=No(DG),MG=fs({},Yg,{relatedTarget:0}),vb=No(MG),QG=fs({},nm,{animationName:0,elapsedTime:0,pseudoElement:0}),HG=No(QG),VG=fs({},nm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KG=No(VG),GG=fs({},nm,{data:0}),eI=No(GG),WG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$G={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$G[e])?!!t[e]:!1}function l3(){return qG}var XG=fs({},Yg,{key:function(e){if(e.key){var t=WG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ay(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zG[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l3,charCode:function(e){return e.type==="keypress"?Ay(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ay(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YG=No(XG),ZG=fs({},y2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tI=No(ZG),JG=fs({},Yg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l3}),eW=No(JG),tW=fs({},nm,{propertyName:0,elapsedTime:0,pseudoElement:0}),rW=No(tW),nW=fs({},y2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sW=No(nW),iW=[9,13,27,32],c3=FA&&"CompositionEvent"in window,Np=null;FA&&"documentMode"in document&&(Np=document.documentMode);var aW=FA&&"TextEvent"in window&&!Np,nP=FA&&(!c3||Np&&8<Np&&11>=Np),rI=" ",nI=!1;function sP(e,t){switch(e){case"keyup":return iW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uf=!1;function oW(e,t){switch(e){case"compositionend":return iP(t);case"keypress":return t.which!==32?null:(nI=!0,rI);case"textInput":return e=t.data,e===rI&&nI?null:e;default:return null}}function lW(e,t){if(Uf)return e==="compositionend"||!c3&&sP(e,t)?(e=rP(),cy=a3=Ku=null,Uf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nP&&t.locale!=="ko"?null:t.data;default:return null}}var cW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cW[e.type]:t==="textarea"}function aP(e,t,r,n){RL(n),t=rw(t,"onChange"),0<t.length&&(r=new o3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Sp=null,tg=null;function AW(e){gP(e,0)}function w2(e){var t=Hf(e);if(jL(t))return e}function uW(e,t){if(e==="change")return t}var oP=!1;if(FA){var bb;if(FA){var Cb="oninput"in document;if(!Cb){var iI=document.createElement("div");iI.setAttribute("oninput","return;"),Cb=typeof iI.oninput=="function"}bb=Cb}else bb=!1;oP=bb&&(!document.documentMode||9<document.documentMode)}function aI(){Sp&&(Sp.detachEvent("onpropertychange",lP),tg=Sp=null)}function lP(e){if(e.propertyName==="value"&&w2(tg)){var t=[];aP(t,tg,e,t3(e)),QL(AW,t)}}function dW(e,t,r){e==="focusin"?(aI(),Sp=t,tg=r,Sp.attachEvent("onpropertychange",lP)):e==="focusout"&&aI()}function hW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return w2(tg)}function fW(e,t){if(e==="click")return w2(t)}function mW(e,t){if(e==="input"||e==="change")return w2(t)}function pW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kl=typeof Object.is=="function"?Object.is:pW;function rg(e,t){if(kl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!D5.call(t,s)||!kl(e[s],t[s]))return!1}return!0}function oI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lI(e,t){var r=oI(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oI(r)}}function cP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AP(){for(var e=window,t=qy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qy(e.document)}return t}function A3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gW(e){var t=AP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cP(r.ownerDocument.documentElement,r)){if(n!==null&&A3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=lI(r,i);var o=lI(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xW=FA&&"documentMode"in document&&11>=document.documentMode,Mf=null,n4=null,Ep=null,s4=!1;function cI(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;s4||Mf==null||Mf!==qy(n)||(n=Mf,"selectionStart"in n&&A3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ep&&rg(Ep,n)||(Ep=n,n=rw(n4,"onSelect"),0<n.length&&(t=new o3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Mf)))}function ex(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qf={animationend:ex("Animation","AnimationEnd"),animationiteration:ex("Animation","AnimationIteration"),animationstart:ex("Animation","AnimationStart"),transitionend:ex("Transition","TransitionEnd")},Bb={},uP={};FA&&(uP=document.createElement("div").style,"AnimationEvent"in window||(delete Qf.animationend.animation,delete Qf.animationiteration.animation,delete Qf.animationstart.animation),"TransitionEvent"in window||delete Qf.transitionend.transition);function v2(e){if(Bb[e])return Bb[e];if(!Qf[e])return e;var t=Qf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uP)return Bb[e]=t[r];return e}var dP=v2("animationend"),hP=v2("animationiteration"),fP=v2("animationstart"),mP=v2("transitionend"),pP=new Map,AI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fd(e,t){pP.set(e,t),nf(t,[e])}for(var Nb=0;Nb<AI.length;Nb++){var Sb=AI[Nb],yW=Sb.toLowerCase(),wW=Sb[0].toUpperCase()+Sb.slice(1);Fd(yW,"on"+wW)}Fd(dP,"onAnimationEnd");Fd(hP,"onAnimationIteration");Fd(fP,"onAnimationStart");Fd("dblclick","onDoubleClick");Fd("focusin","onFocus");Fd("focusout","onBlur");Fd(mP,"onTransitionEnd");P0("onMouseEnter",["mouseout","mouseover"]);P0("onMouseLeave",["mouseout","mouseover"]);P0("onPointerEnter",["pointerout","pointerover"]);P0("onPointerLeave",["pointerout","pointerover"]);nf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nf("onBeforeInput",["compositionend","keypress","textInput","paste"]);nf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var np="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vW=new Set("cancel close invalid load scroll toggle".split(" ").concat(np));function uI(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,yG(n,t,void 0,e),e.currentTarget=null}function gP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],A=l.instance,u=l.currentTarget;if(l=l.listener,A!==i&&s.isPropagationStopped())break e;uI(s,l,u),i=A}else for(o=0;o<n.length;o++){if(l=n[o],A=l.instance,u=l.currentTarget,l=l.listener,A!==i&&s.isPropagationStopped())break e;uI(s,l,u),i=A}}}if(Yy)throw e=J5,Yy=!1,J5=null,e}function qn(e,t){var r=t[c4];r===void 0&&(r=t[c4]=new Set);var n=e+"__bubble";r.has(n)||(xP(t,e,2,!1),r.add(n))}function Eb(e,t,r){var n=0;t&&(n|=4),xP(r,e,n,t)}var tx="_reactListening"+Math.random().toString(36).slice(2);function ng(e){if(!e[tx]){e[tx]=!0,NL.forEach(function(r){r!=="selectionchange"&&(vW.has(r)||Eb(r,!1,e),Eb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tx]||(t[tx]=!0,Eb("selectionchange",!1,t))}}function xP(e,t,r,n){switch(tP(t)){case 1:var s=PG;break;case 4:s=OG;break;default:s=i3}r=s.bind(null,t,r,e),s=void 0,!Z5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ib(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var A=o.tag;if((A===3||A===4)&&(A=o.stateNode.containerInfo,A===s||A.nodeType===8&&A.parentNode===s))return;o=o.return}for(;l!==null;){if(o=sh(l),o===null)return;if(A=o.tag,A===5||A===6){n=i=o;continue e}l=l.parentNode}}n=n.return}QL(function(){var u=i,h=t3(r),m=[];e:{var y=pP.get(e);if(y!==void 0){var g=o3,b=e;switch(e){case"keypress":if(Ay(r)===0)break e;case"keydown":case"keyup":g=YG;break;case"focusin":b="focus",g=vb;break;case"focusout":b="blur",g=vb;break;case"beforeblur":case"afterblur":g=vb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=J6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=UG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=eW;break;case dP:case hP:case fP:g=HG;break;case mP:g=rW;break;case"scroll":g=RG;break;case"wheel":g=sW;break;case"copy":case"cut":case"paste":g=KG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=tI}var C=(t&4)!==0,I=!C&&e==="scroll",v=C?y!==null?y+"Capture":null:y;C=[];for(var N=u,F;N!==null;){F=N;var T=F.stateNode;if(F.tag===5&&T!==null&&(F=T,v!==null&&(T=Yp(N,v),T!=null&&C.push(sg(N,T,F)))),I)break;N=N.return}0<C.length&&(y=new g(y,b,null,r,h),m.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",y&&r!==X5&&(b=r.relatedTarget||r.fromElement)&&(sh(b)||b[jA]))break e;if((g||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=u,b=b?sh(b):null,b!==null&&(I=sf(b),b!==I||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(C=J6,T="onMouseLeave",v="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(C=tI,T="onPointerLeave",v="onPointerEnter",N="pointer"),I=g==null?y:Hf(g),F=b==null?y:Hf(b),y=new C(T,N+"leave",g,r,h),y.target=I,y.relatedTarget=F,T=null,sh(h)===u&&(C=new C(v,N+"enter",b,r,h),C.target=F,C.relatedTarget=I,T=C),I=T,g&&b)t:{for(C=g,v=b,N=0,F=C;F;F=pf(F))N++;for(F=0,T=v;T;T=pf(T))F++;for(;0<N-F;)C=pf(C),N--;for(;0<F-N;)v=pf(v),F--;for(;N--;){if(C===v||v!==null&&C===v.alternate)break t;C=pf(C),v=pf(v)}C=null}else C=null;g!==null&&dI(m,y,g,C,!1),b!==null&&I!==null&&dI(m,I,b,C,!0)}}e:{if(y=u?Hf(u):window,g=y.nodeName&&y.nodeName.toLowerCase(),g==="select"||g==="input"&&y.type==="file")var D=uW;else if(sI(y))if(oP)D=mW;else{D=hW;var V=dW}else(g=y.nodeName)&&g.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(D=fW);if(D&&(D=D(e,u))){aP(m,D,r,h);break e}V&&V(e,y,u),e==="focusout"&&(V=y._wrapperState)&&V.controlled&&y.type==="number"&&G5(y,"number",y.value)}switch(V=u?Hf(u):window,e){case"focusin":(sI(V)||V.contentEditable==="true")&&(Mf=V,n4=u,Ep=null);break;case"focusout":Ep=n4=Mf=null;break;case"mousedown":s4=!0;break;case"contextmenu":case"mouseup":case"dragend":s4=!1,cI(m,r,h);break;case"selectionchange":if(xW)break;case"keydown":case"keyup":cI(m,r,h)}var P;if(c3)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Uf?sP(e,r)&&(U="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(nP&&r.locale!=="ko"&&(Uf||U!=="onCompositionStart"?U==="onCompositionEnd"&&Uf&&(P=rP()):(Ku=h,a3="value"in Ku?Ku.value:Ku.textContent,Uf=!0)),V=rw(u,U),0<V.length&&(U=new eI(U,e,null,r,h),m.push({event:U,listeners:V}),P?U.data=P:(P=iP(r),P!==null&&(U.data=P)))),(P=aW?oW(e,r):lW(e,r))&&(u=rw(u,"onBeforeInput"),0<u.length&&(h=new eI("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:u}),h.data=P))}gP(m,t)})}function sg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rw(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yp(e,r),i!=null&&n.unshift(sg(e,i,s)),i=Yp(e,t),i!=null&&n.push(sg(e,i,s))),e=e.return}return n}function pf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dI(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,A=l.alternate,u=l.stateNode;if(A!==null&&A===n)break;l.tag===5&&u!==null&&(l=u,s?(A=Yp(r,i),A!=null&&o.unshift(sg(r,A,l))):s||(A=Yp(r,i),A!=null&&o.push(sg(r,A,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var bW=/\r\n?/g,CW=/\u0000|\uFFFD/g;function hI(e){return(typeof e=="string"?e:""+e).replace(bW,`
`).replace(CW,"")}function rx(e,t,r){if(t=hI(t),hI(e)!==t&&r)throw Error(pt(425))}function nw(){}var i4=null,a4=null;function o4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var l4=typeof setTimeout=="function"?setTimeout:void 0,BW=typeof clearTimeout=="function"?clearTimeout:void 0,fI=typeof Promise=="function"?Promise:void 0,NW=typeof queueMicrotask=="function"?queueMicrotask:typeof fI<"u"?function(e){return fI.resolve(null).then(e).catch(SW)}:l4;function SW(e){setTimeout(function(){throw e})}function Fb(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),eg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);eg(t)}function nd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sm=Math.random().toString(36).slice(2),lc="__reactFiber$"+sm,ig="__reactProps$"+sm,jA="__reactContainer$"+sm,c4="__reactEvents$"+sm,EW="__reactListeners$"+sm,IW="__reactHandles$"+sm;function sh(e){var t=e[lc];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jA]||r[lc]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mI(e);e!==null;){if(r=e[lc])return r;e=mI(e)}return t}e=r,r=e.parentNode}return null}function Zg(e){return e=e[lc]||e[jA],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pt(33))}function b2(e){return e[ig]||null}var A4=[],Vf=-1;function jd(e){return{current:e}}function Zn(e){0>Vf||(e.current=A4[Vf],A4[Vf]=null,Vf--)}function Hn(e,t){Vf++,A4[Vf]=e.current,e.current=t}var xd={},ta=jd(xd),Qa=jd(!1),Uh=xd;function O0(e,t){var r=e.type.contextTypes;if(!r)return xd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ha(e){return e=e.childContextTypes,e!=null}function sw(){Zn(Qa),Zn(ta)}function pI(e,t,r){if(ta.current!==xd)throw Error(pt(168));Hn(ta,t),Hn(Qa,r)}function yP(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(pt(108,dG(e)||"Unknown",s));return fs({},r,n)}function iw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xd,Uh=ta.current,Hn(ta,e),Hn(Qa,Qa.current),!0}function gI(e,t,r){var n=e.stateNode;if(!n)throw Error(pt(169));r?(e=yP(e,t,Uh),n.__reactInternalMemoizedMergedChildContext=e,Zn(Qa),Zn(ta),Hn(ta,e)):Zn(Qa),Hn(Qa,r)}var dA=null,C2=!1,jb=!1;function wP(e){dA===null?dA=[e]:dA.push(e)}function FW(e){C2=!0,wP(e)}function _d(){if(!jb&&dA!==null){jb=!0;var e=0,t=Bn;try{var r=dA;for(Bn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}dA=null,C2=!1}catch(s){throw dA!==null&&(dA=dA.slice(e+1)),GL(r3,_d),s}finally{Bn=t,jb=!1}}return null}var Kf=[],Gf=0,aw=null,ow=0,Ko=[],Go=0,Mh=null,yA=1,wA="";function qd(e,t){Kf[Gf++]=ow,Kf[Gf++]=aw,aw=e,ow=t}function vP(e,t,r){Ko[Go++]=yA,Ko[Go++]=wA,Ko[Go++]=Mh,Mh=e;var n=yA;e=wA;var s=32-Il(n)-1;n&=~(1<<s),r+=1;var i=32-Il(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,yA=1<<32-Il(t)+s|r<<s|n,wA=i+e}else yA=1<<i|r<<s|n,wA=e}function u3(e){e.return!==null&&(qd(e,1),vP(e,1,0))}function d3(e){for(;e===aw;)aw=Kf[--Gf],Kf[Gf]=null,ow=Kf[--Gf],Kf[Gf]=null;for(;e===Mh;)Mh=Ko[--Go],Ko[Go]=null,wA=Ko[--Go],Ko[Go]=null,yA=Ko[--Go],Ko[Go]=null}var xo=null,mo=null,as=!1,Nl=null;function bP(e,t){var r=$o(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xI(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xo=e,mo=nd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xo=e,mo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Mh!==null?{id:yA,overflow:wA}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$o(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xo=e,mo=null,!0):!1;default:return!1}}function u4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function d4(e){if(as){var t=mo;if(t){var r=t;if(!xI(e,t)){if(u4(e))throw Error(pt(418));t=nd(r.nextSibling);var n=xo;t&&xI(e,t)?bP(n,r):(e.flags=e.flags&-4097|2,as=!1,xo=e)}}else{if(u4(e))throw Error(pt(418));e.flags=e.flags&-4097|2,as=!1,xo=e}}}function yI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xo=e}function nx(e){if(e!==xo)return!1;if(!as)return yI(e),as=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!o4(e.type,e.memoizedProps)),t&&(t=mo)){if(u4(e))throw CP(),Error(pt(418));for(;t;)bP(e,t),t=nd(t.nextSibling)}if(yI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mo=nd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mo=null}}else mo=xo?nd(e.stateNode.nextSibling):null;return!0}function CP(){for(var e=mo;e;)e=nd(e.nextSibling)}function R0(){mo=xo=null,as=!1}function h3(e){Nl===null?Nl=[e]:Nl.push(e)}var jW=QA.ReactCurrentBatchConfig;function Lm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pt(309));var n=r.stateNode}if(!n)throw Error(pt(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(pt(284));if(!r._owner)throw Error(pt(290,e))}return e}function sx(e,t){throw e=Object.prototype.toString.call(t),Error(pt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wI(e){var t=e._init;return t(e._payload)}function BP(e){function t(v,N){if(e){var F=v.deletions;F===null?(v.deletions=[N],v.flags|=16):F.push(N)}}function r(v,N){if(!e)return null;for(;N!==null;)t(v,N),N=N.sibling;return null}function n(v,N){for(v=new Map;N!==null;)N.key!==null?v.set(N.key,N):v.set(N.index,N),N=N.sibling;return v}function s(v,N){return v=od(v,N),v.index=0,v.sibling=null,v}function i(v,N,F){return v.index=F,e?(F=v.alternate,F!==null?(F=F.index,F<N?(v.flags|=2,N):F):(v.flags|=2,N)):(v.flags|=1048576,N)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,N,F,T){return N===null||N.tag!==6?(N=Rb(F,v.mode,T),N.return=v,N):(N=s(N,F),N.return=v,N)}function A(v,N,F,T){var D=F.type;return D===Df?h(v,N,F.props.children,T,F.key):N!==null&&(N.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Su&&wI(D)===N.type)?(T=s(N,F.props),T.ref=Lm(v,N,F),T.return=v,T):(T=gy(F.type,F.key,F.props,null,v.mode,T),T.ref=Lm(v,N,F),T.return=v,T)}function u(v,N,F,T){return N===null||N.tag!==4||N.stateNode.containerInfo!==F.containerInfo||N.stateNode.implementation!==F.implementation?(N=Db(F,v.mode,T),N.return=v,N):(N=s(N,F.children||[]),N.return=v,N)}function h(v,N,F,T,D){return N===null||N.tag!==7?(N=Nh(F,v.mode,T,D),N.return=v,N):(N=s(N,F),N.return=v,N)}function m(v,N,F){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Rb(""+N,v.mode,F),N.return=v,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case z1:return F=gy(N.type,N.key,N.props,null,v.mode,F),F.ref=Lm(v,null,N),F.return=v,F;case Rf:return N=Db(N,v.mode,F),N.return=v,N;case Su:var T=N._init;return m(v,T(N._payload),F)}if(tp(N)||Fm(N))return N=Nh(N,v.mode,F,null),N.return=v,N;sx(v,N)}return null}function y(v,N,F,T){var D=N!==null?N.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return D!==null?null:l(v,N,""+F,T);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case z1:return F.key===D?A(v,N,F,T):null;case Rf:return F.key===D?u(v,N,F,T):null;case Su:return D=F._init,y(v,N,D(F._payload),T)}if(tp(F)||Fm(F))return D!==null?null:h(v,N,F,T,null);sx(v,F)}return null}function g(v,N,F,T,D){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(F)||null,l(N,v,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case z1:return v=v.get(T.key===null?F:T.key)||null,A(N,v,T,D);case Rf:return v=v.get(T.key===null?F:T.key)||null,u(N,v,T,D);case Su:var V=T._init;return g(v,N,F,V(T._payload),D)}if(tp(T)||Fm(T))return v=v.get(F)||null,h(N,v,T,D,null);sx(N,T)}return null}function b(v,N,F,T){for(var D=null,V=null,P=N,U=N=0,k=null;P!==null&&U<F.length;U++){P.index>U?(k=P,P=null):k=P.sibling;var z=y(v,P,F[U],T);if(z===null){P===null&&(P=k);break}e&&P&&z.alternate===null&&t(v,P),N=i(z,N,U),V===null?D=z:V.sibling=z,V=z,P=k}if(U===F.length)return r(v,P),as&&qd(v,U),D;if(P===null){for(;U<F.length;U++)P=m(v,F[U],T),P!==null&&(N=i(P,N,U),V===null?D=P:V.sibling=P,V=P);return as&&qd(v,U),D}for(P=n(v,P);U<F.length;U++)k=g(P,v,U,F[U],T),k!==null&&(e&&k.alternate!==null&&P.delete(k.key===null?U:k.key),N=i(k,N,U),V===null?D=k:V.sibling=k,V=k);return e&&P.forEach(function(R){return t(v,R)}),as&&qd(v,U),D}function C(v,N,F,T){var D=Fm(F);if(typeof D!="function")throw Error(pt(150));if(F=D.call(F),F==null)throw Error(pt(151));for(var V=D=null,P=N,U=N=0,k=null,z=F.next();P!==null&&!z.done;U++,z=F.next()){P.index>U?(k=P,P=null):k=P.sibling;var R=y(v,P,z.value,T);if(R===null){P===null&&(P=k);break}e&&P&&R.alternate===null&&t(v,P),N=i(R,N,U),V===null?D=R:V.sibling=R,V=R,P=k}if(z.done)return r(v,P),as&&qd(v,U),D;if(P===null){for(;!z.done;U++,z=F.next())z=m(v,z.value,T),z!==null&&(N=i(z,N,U),V===null?D=z:V.sibling=z,V=z);return as&&qd(v,U),D}for(P=n(v,P);!z.done;U++,z=F.next())z=g(P,v,U,z.value,T),z!==null&&(e&&z.alternate!==null&&P.delete(z.key===null?U:z.key),N=i(z,N,U),V===null?D=z:V.sibling=z,V=z);return e&&P.forEach(function(H){return t(v,H)}),as&&qd(v,U),D}function I(v,N,F,T){if(typeof F=="object"&&F!==null&&F.type===Df&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case z1:e:{for(var D=F.key,V=N;V!==null;){if(V.key===D){if(D=F.type,D===Df){if(V.tag===7){r(v,V.sibling),N=s(V,F.props.children),N.return=v,v=N;break e}}else if(V.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Su&&wI(D)===V.type){r(v,V.sibling),N=s(V,F.props),N.ref=Lm(v,V,F),N.return=v,v=N;break e}r(v,V);break}else t(v,V);V=V.sibling}F.type===Df?(N=Nh(F.props.children,v.mode,T,F.key),N.return=v,v=N):(T=gy(F.type,F.key,F.props,null,v.mode,T),T.ref=Lm(v,N,F),T.return=v,v=T)}return o(v);case Rf:e:{for(V=F.key;N!==null;){if(N.key===V)if(N.tag===4&&N.stateNode.containerInfo===F.containerInfo&&N.stateNode.implementation===F.implementation){r(v,N.sibling),N=s(N,F.children||[]),N.return=v,v=N;break e}else{r(v,N);break}else t(v,N);N=N.sibling}N=Db(F,v.mode,T),N.return=v,v=N}return o(v);case Su:return V=F._init,I(v,N,V(F._payload),T)}if(tp(F))return b(v,N,F,T);if(Fm(F))return C(v,N,F,T);sx(v,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,N!==null&&N.tag===6?(r(v,N.sibling),N=s(N,F),N.return=v,v=N):(r(v,N),N=Rb(F,v.mode,T),N.return=v,v=N),o(v)):r(v,N)}return I}var D0=BP(!0),NP=BP(!1),lw=jd(null),cw=null,Wf=null,f3=null;function m3(){f3=Wf=cw=null}function p3(e){var t=lw.current;Zn(lw),e._currentValue=t}function h4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function o0(e,t){cw=e,f3=Wf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ra=!0),e.firstContext=null)}function el(e){var t=e._currentValue;if(f3!==e)if(e={context:e,memoizedValue:t,next:null},Wf===null){if(cw===null)throw Error(pt(308));Wf=e,cw.dependencies={lanes:0,firstContext:e}}else Wf=Wf.next=e;return t}var ih=null;function g3(e){ih===null?ih=[e]:ih.push(e)}function SP(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,g3(t)):(r.next=s.next,s.next=r),t.interleaved=r,_A(e,n)}function _A(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Eu=!1;function x3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function CA(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sd(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,rn&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_A(e,r)}return s=n.interleaved,s===null?(t.next=t,g3(n)):(t.next=s.next,s.next=t),n.interleaved=t,_A(e,r)}function uy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,n3(e,r)}}function vI(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Aw(e,t,r,n){var s=e.updateQueue;Eu=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var A=l,u=A.next;A.next=null,o===null?i=u:o.next=u,o=A;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=A))}if(i!==null){var m=s.baseState;o=0,h=u=A=null,l=i;do{var y=l.lane,g=l.eventTime;if((n&y)===y){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,C=l;switch(y=t,g=r,C.tag){case 1:if(b=C.payload,typeof b=="function"){m=b.call(g,m,y);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=C.payload,y=typeof b=="function"?b.call(g,m,y):b,y==null)break e;m=fs({},m,y);break e;case 2:Eu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[l]:y.push(l))}else g={eventTime:g,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,A=m):h=h.next=g,o|=y;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;y=l,l=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(h===null&&(A=m),s.baseState=A,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Hh|=o,e.lanes=o,e.memoizedState=m}}function bI(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(pt(191,s));s.call(n)}}}var Jg={},fc=jd(Jg),ag=jd(Jg),og=jd(Jg);function ah(e){if(e===Jg)throw Error(pt(174));return e}function y3(e,t){switch(Hn(og,t),Hn(ag,e),Hn(fc,Jg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:z5(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=z5(t,e)}Zn(fc),Hn(fc,t)}function U0(){Zn(fc),Zn(ag),Zn(og)}function IP(e){ah(og.current);var t=ah(fc.current),r=z5(t,e.type);t!==r&&(Hn(ag,e),Hn(fc,r))}function w3(e){ag.current===e&&(Zn(fc),Zn(ag))}var cs=jd(0);function uw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _b=[];function v3(){for(var e=0;e<_b.length;e++)_b[e]._workInProgressVersionPrimary=null;_b.length=0}var dy=QA.ReactCurrentDispatcher,Tb=QA.ReactCurrentBatchConfig,Qh=0,us=null,Xs=null,ci=null,dw=!1,Ip=!1,lg=0,_W=0;function Ui(){throw Error(pt(321))}function b3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kl(e[r],t[r]))return!1;return!0}function C3(e,t,r,n,s,i){if(Qh=i,us=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dy.current=e===null||e.memoizedState===null?PW:OW,e=r(n,s),Ip){i=0;do{if(Ip=!1,lg=0,25<=i)throw Error(pt(301));i+=1,ci=Xs=null,t.updateQueue=null,dy.current=RW,e=r(n,s)}while(Ip)}if(dy.current=hw,t=Xs!==null&&Xs.next!==null,Qh=0,ci=Xs=us=null,dw=!1,t)throw Error(pt(300));return e}function B3(){var e=lg!==0;return lg=0,e}function rc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?us.memoizedState=ci=e:ci=ci.next=e,ci}function tl(){if(Xs===null){var e=us.alternate;e=e!==null?e.memoizedState:null}else e=Xs.next;var t=ci===null?us.memoizedState:ci.next;if(t!==null)ci=t,Xs=e;else{if(e===null)throw Error(pt(310));Xs=e,e={memoizedState:Xs.memoizedState,baseState:Xs.baseState,baseQueue:Xs.baseQueue,queue:Xs.queue,next:null},ci===null?us.memoizedState=ci=e:ci=ci.next=e}return ci}function cg(e,t){return typeof t=="function"?t(e):t}function kb(e){var t=tl(),r=t.queue;if(r===null)throw Error(pt(311));r.lastRenderedReducer=e;var n=Xs,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,A=null,u=i;do{var h=u.lane;if((Qh&h)===h)A!==null&&(A=A.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};A===null?(l=A=m,o=n):A=A.next=m,us.lanes|=h,Hh|=h}u=u.next}while(u!==null&&u!==i);A===null?o=n:A.next=l,kl(n,t.memoizedState)||(Ra=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=A,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,us.lanes|=i,Hh|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Lb(e){var t=tl(),r=t.queue;if(r===null)throw Error(pt(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);kl(i,t.memoizedState)||(Ra=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function FP(){}function jP(e,t){var r=us,n=tl(),s=t(),i=!kl(n.memoizedState,s);if(i&&(n.memoizedState=s,Ra=!0),n=n.queue,N3(kP.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ci!==null&&ci.memoizedState.tag&1){if(r.flags|=2048,Ag(9,TP.bind(null,r,n,s,t),void 0,null),ui===null)throw Error(pt(349));Qh&30||_P(r,t,s)}return s}function _P(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=us.updateQueue,t===null?(t={lastEffect:null,stores:null},us.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function TP(e,t,r,n){t.value=r,t.getSnapshot=n,LP(t)&&PP(e)}function kP(e,t,r){return r(function(){LP(t)&&PP(e)})}function LP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kl(e,r)}catch{return!0}}function PP(e){var t=_A(e,1);t!==null&&Fl(t,e,1,-1)}function CI(e){var t=rc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:e},t.queue=e,e=e.dispatch=LW.bind(null,us,e),[t.memoizedState,e]}function Ag(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=us.updateQueue,t===null?(t={lastEffect:null,stores:null},us.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function OP(){return tl().memoizedState}function hy(e,t,r,n){var s=rc();us.flags|=e,s.memoizedState=Ag(1|t,r,void 0,n===void 0?null:n)}function B2(e,t,r,n){var s=tl();n=n===void 0?null:n;var i=void 0;if(Xs!==null){var o=Xs.memoizedState;if(i=o.destroy,n!==null&&b3(n,o.deps)){s.memoizedState=Ag(t,r,i,n);return}}us.flags|=e,s.memoizedState=Ag(1|t,r,i,n)}function BI(e,t){return hy(8390656,8,e,t)}function N3(e,t){return B2(2048,8,e,t)}function RP(e,t){return B2(4,2,e,t)}function DP(e,t){return B2(4,4,e,t)}function UP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MP(e,t,r){return r=r!=null?r.concat([e]):null,B2(4,4,UP.bind(null,t,e),r)}function S3(){}function QP(e,t){var r=tl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&b3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HP(e,t){var r=tl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&b3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function VP(e,t,r){return Qh&21?(kl(r,t)||(r=$L(),us.lanes|=r,Hh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ra=!0),e.memoizedState=r)}function TW(e,t){var r=Bn;Bn=r!==0&&4>r?r:4,e(!0);var n=Tb.transition;Tb.transition={};try{e(!1),t()}finally{Bn=r,Tb.transition=n}}function KP(){return tl().memoizedState}function kW(e,t,r){var n=ad(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},GP(e))WP(t,r);else if(r=SP(e,t,r,n),r!==null){var s=xa();Fl(r,e,n,s),zP(r,t,n)}}function LW(e,t,r){var n=ad(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(GP(e))WP(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,kl(l,o)){var A=t.interleaved;A===null?(s.next=s,g3(t)):(s.next=A.next,A.next=s),t.interleaved=s;return}}catch{}finally{}r=SP(e,t,s,n),r!==null&&(s=xa(),Fl(r,e,n,s),zP(r,t,n))}}function GP(e){var t=e.alternate;return e===us||t!==null&&t===us}function WP(e,t){Ip=dw=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,n3(e,r)}}var hw={readContext:el,useCallback:Ui,useContext:Ui,useEffect:Ui,useImperativeHandle:Ui,useInsertionEffect:Ui,useLayoutEffect:Ui,useMemo:Ui,useReducer:Ui,useRef:Ui,useState:Ui,useDebugValue:Ui,useDeferredValue:Ui,useTransition:Ui,useMutableSource:Ui,useSyncExternalStore:Ui,useId:Ui,unstable_isNewReconciler:!1},PW={readContext:el,useCallback:function(e,t){return rc().memoizedState=[e,t===void 0?null:t],e},useContext:el,useEffect:BI,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hy(4194308,4,UP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hy(4194308,4,e,t)},useInsertionEffect:function(e,t){return hy(4,2,e,t)},useMemo:function(e,t){var r=rc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=kW.bind(null,us,e),[n.memoizedState,e]},useRef:function(e){var t=rc();return e={current:e},t.memoizedState=e},useState:CI,useDebugValue:S3,useDeferredValue:function(e){return rc().memoizedState=e},useTransition:function(){var e=CI(!1),t=e[0];return e=TW.bind(null,e[1]),rc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=us,s=rc();if(as){if(r===void 0)throw Error(pt(407));r=r()}else{if(r=t(),ui===null)throw Error(pt(349));Qh&30||_P(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,BI(kP.bind(null,n,i,e),[e]),n.flags|=2048,Ag(9,TP.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=rc(),t=ui.identifierPrefix;if(as){var r=wA,n=yA;r=(n&~(1<<32-Il(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=lg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_W++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OW={readContext:el,useCallback:QP,useContext:el,useEffect:N3,useImperativeHandle:MP,useInsertionEffect:RP,useLayoutEffect:DP,useMemo:HP,useReducer:kb,useRef:OP,useState:function(){return kb(cg)},useDebugValue:S3,useDeferredValue:function(e){var t=tl();return VP(t,Xs.memoizedState,e)},useTransition:function(){var e=kb(cg)[0],t=tl().memoizedState;return[e,t]},useMutableSource:FP,useSyncExternalStore:jP,useId:KP,unstable_isNewReconciler:!1},RW={readContext:el,useCallback:QP,useContext:el,useEffect:N3,useImperativeHandle:MP,useInsertionEffect:RP,useLayoutEffect:DP,useMemo:HP,useReducer:Lb,useRef:OP,useState:function(){return Lb(cg)},useDebugValue:S3,useDeferredValue:function(e){var t=tl();return Xs===null?t.memoizedState=e:VP(t,Xs.memoizedState,e)},useTransition:function(){var e=Lb(cg)[0],t=tl().memoizedState;return[e,t]},useMutableSource:FP,useSyncExternalStore:jP,useId:KP,unstable_isNewReconciler:!1};function vl(e,t){if(e&&e.defaultProps){t=fs({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function f4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fs({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var N2={isMounted:function(e){return(e=e._reactInternals)?sf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xa(),s=ad(e),i=CA(n,s);i.payload=t,r!=null&&(i.callback=r),t=sd(e,i,s),t!==null&&(Fl(t,e,s,n),uy(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xa(),s=ad(e),i=CA(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=sd(e,i,s),t!==null&&(Fl(t,e,s,n),uy(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xa(),n=ad(e),s=CA(r,n);s.tag=2,t!=null&&(s.callback=t),t=sd(e,s,n),t!==null&&(Fl(t,e,n,r),uy(t,e,n))}};function NI(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!rg(r,n)||!rg(s,i):!0}function $P(e,t,r){var n=!1,s=xd,i=t.contextType;return typeof i=="object"&&i!==null?i=el(i):(s=Ha(t)?Uh:ta.current,n=t.contextTypes,i=(n=n!=null)?O0(e,s):xd),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=N2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function SI(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&N2.enqueueReplaceState(t,t.state,null)}function m4(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},x3(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=el(i):(i=Ha(t)?Uh:ta.current,s.context=O0(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(f4(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&N2.enqueueReplaceState(s,s.state,null),Aw(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function M0(e,t){try{var r="",n=t;do r+=uG(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Pb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function p4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var DW=typeof WeakMap=="function"?WeakMap:Map;function qP(e,t,r){r=CA(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){mw||(mw=!0,S4=n),p4(e,t)},r}function XP(e,t,r){r=CA(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){p4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){p4(e,t),typeof n!="function"&&(id===null?id=new Set([this]):id.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function EI(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new DW;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=ZW.bind(null,e,t,r),t.then(e,e))}function II(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function FI(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=CA(-1,1),t.tag=2,sd(r,t,1))),r.lanes|=1),e)}var UW=QA.ReactCurrentOwner,Ra=!1;function ua(e,t,r,n){t.child=e===null?NP(t,null,r,n):D0(t,e.child,r,n)}function jI(e,t,r,n,s){r=r.render;var i=t.ref;return o0(t,s),n=C3(e,t,r,n,i,s),r=B3(),e!==null&&!Ra?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,TA(e,t,s)):(as&&r&&u3(t),t.flags|=1,ua(e,t,n,s),t.child)}function _I(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!L3(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,YP(e,t,i,n,s)):(e=gy(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:rg,r(o,n)&&e.ref===t.ref)return TA(e,t,s)}return t.flags|=1,e=od(i,n),e.ref=t.ref,e.return=t,t.child=e}function YP(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(rg(i,n)&&e.ref===t.ref)if(Ra=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ra=!0);else return t.lanes=e.lanes,TA(e,t,s)}return g4(e,t,r,n,s)}function ZP(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn($f,ho),ho|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hn($f,ho),ho|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Hn($f,ho),ho|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Hn($f,ho),ho|=n;return ua(e,t,s,r),t.child}function JP(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function g4(e,t,r,n,s){var i=Ha(r)?Uh:ta.current;return i=O0(t,i),o0(t,s),r=C3(e,t,r,n,i,s),n=B3(),e!==null&&!Ra?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,TA(e,t,s)):(as&&n&&u3(t),t.flags|=1,ua(e,t,r,s),t.child)}function TI(e,t,r,n,s){if(Ha(r)){var i=!0;iw(t)}else i=!1;if(o0(t,s),t.stateNode===null)fy(e,t),$P(t,r,n),m4(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var A=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=el(u):(u=Ha(r)?Uh:ta.current,u=O0(t,u));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||A!==u)&&SI(t,o,n,u),Eu=!1;var y=t.memoizedState;o.state=y,Aw(t,n,o,s),A=t.memoizedState,l!==n||y!==A||Qa.current||Eu?(typeof h=="function"&&(f4(t,r,h,n),A=t.memoizedState),(l=Eu||NI(t,r,l,n,y,A,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=A),o.props=n,o.state=A,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,EP(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:vl(t.type,l),o.props=u,m=t.pendingProps,y=o.context,A=r.contextType,typeof A=="object"&&A!==null?A=el(A):(A=Ha(r)?Uh:ta.current,A=O0(t,A));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||y!==A)&&SI(t,o,n,A),Eu=!1,y=t.memoizedState,o.state=y,Aw(t,n,o,s);var b=t.memoizedState;l!==m||y!==b||Qa.current||Eu?(typeof g=="function"&&(f4(t,r,g,n),b=t.memoizedState),(u=Eu||NI(t,r,u,n,y,b,A)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,A),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,A)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=A,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return x4(e,t,r,n,i,s)}function x4(e,t,r,n,s,i){JP(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&gI(t,r,!1),TA(e,t,i);n=t.stateNode,UW.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=D0(t,e.child,null,i),t.child=D0(t,null,l,i)):ua(e,t,l,i),t.memoizedState=n.state,s&&gI(t,r,!0),t.child}function eO(e){var t=e.stateNode;t.pendingContext?pI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pI(e,t.context,!1),y3(e,t.containerInfo)}function kI(e,t,r,n,s){return R0(),h3(s),t.flags|=256,ua(e,t,r,n),t.child}var y4={dehydrated:null,treeContext:null,retryLane:0};function w4(e){return{baseLanes:e,cachePool:null,transitions:null}}function tO(e,t,r){var n=t.pendingProps,s=cs.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Hn(cs,s&1),e===null)return d4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=I2(o,n,0,null),e=Nh(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=w4(r),t.memoizedState=y4,e):E3(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return MW(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var A={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=A,t.deletions=null):(n=od(s,A),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=od(l,i):(i=Nh(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?w4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=y4,n}return i=e.child,e=i.sibling,n=od(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function E3(e,t){return t=I2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ix(e,t,r,n){return n!==null&&h3(n),D0(t,e.child,null,r),e=E3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MW(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Pb(Error(pt(422))),ix(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=I2({mode:"visible",children:n.children},s,0,null),i=Nh(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&D0(t,e.child,null,o),t.child.memoizedState=w4(o),t.memoizedState=y4,i);if(!(t.mode&1))return ix(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(pt(419)),n=Pb(i,n,void 0),ix(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ra||l){if(n=ui,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_A(e,s),Fl(n,e,s,-1))}return k3(),n=Pb(Error(pt(421))),ix(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=JW.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,mo=nd(s.nextSibling),xo=t,as=!0,Nl=null,e!==null&&(Ko[Go++]=yA,Ko[Go++]=wA,Ko[Go++]=Mh,yA=e.id,wA=e.overflow,Mh=t),t=E3(t,n.children),t.flags|=4096,t)}function LI(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),h4(e.return,t,r)}function Ob(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function rO(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ua(e,t,n.children,r),n=cs.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&LI(e,r,t);else if(e.tag===19)LI(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Hn(cs,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&uw(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ob(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&uw(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ob(t,!0,r,null,i);break;case"together":Ob(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function TA(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pt(153));if(t.child!==null){for(e=t.child,r=od(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=od(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function QW(e,t,r){switch(t.tag){case 3:eO(t),R0();break;case 5:IP(t);break;case 1:Ha(t.type)&&iw(t);break;case 4:y3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Hn(lw,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Hn(cs,cs.current&1),t.flags|=128,null):r&t.child.childLanes?tO(e,t,r):(Hn(cs,cs.current&1),e=TA(e,t,r),e!==null?e.sibling:null);Hn(cs,cs.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return rO(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Hn(cs,cs.current),n)break;return null;case 22:case 23:return t.lanes=0,ZP(e,t,r)}return TA(e,t,r)}var nO,v4,sO,iO;nO=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};v4=function(){};sO=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ah(fc.current);var i=null;switch(r){case"input":s=V5(e,s),n=V5(e,n),i=[];break;case"select":s=fs({},s,{value:void 0}),n=fs({},n,{value:void 0}),i=[];break;case"textarea":s=W5(e,s),n=W5(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nw)}$5(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var A=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&A!==l&&(A!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||A&&A.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in A)A.hasOwnProperty(o)&&l[o]!==A[o]&&(r||(r={}),r[o]=A[o])}else r||(i||(i=[]),i.push(u,r)),r=A;else u==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,l=l?l.__html:void 0,A!=null&&l!==A&&(i=i||[]).push(u,A)):u==="children"?typeof A!="string"&&typeof A!="number"||(i=i||[]).push(u,""+A):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qp.hasOwnProperty(u)?(A!=null&&u==="onScroll"&&qn("scroll",e),i||l===A||(i=[])):(i=i||[]).push(u,A))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};iO=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pm(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Mi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function HW(e,t,r){var n=t.pendingProps;switch(d3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(t),null;case 1:return Ha(t.type)&&sw(),Mi(t),null;case 3:return n=t.stateNode,U0(),Zn(Qa),Zn(ta),v3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(nx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nl!==null&&(F4(Nl),Nl=null))),v4(e,t),Mi(t),null;case 5:w3(t);var s=ah(og.current);if(r=t.type,e!==null&&t.stateNode!=null)sO(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pt(166));return Mi(t),null}if(e=ah(fc.current),nx(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[lc]=t,n[ig]=i,e=(t.mode&1)!==0,r){case"dialog":qn("cancel",n),qn("close",n);break;case"iframe":case"object":case"embed":qn("load",n);break;case"video":case"audio":for(s=0;s<np.length;s++)qn(np[s],n);break;case"source":qn("error",n);break;case"img":case"image":case"link":qn("error",n),qn("load",n);break;case"details":qn("toggle",n);break;case"input":V6(n,i),qn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},qn("invalid",n);break;case"textarea":G6(n,i),qn("invalid",n)}$5(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&rx(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&rx(n.textContent,l,e),s=["children",""+l]):qp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qn("scroll",n)}switch(r){case"input":$1(n),K6(n,i,!0);break;case"textarea":$1(n),W6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=nw)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kL(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[lc]=t,e[ig]=n,nO(e,t,!1,!1),t.stateNode=e;e:{switch(o=q5(r,n),r){case"dialog":qn("cancel",e),qn("close",e),s=n;break;case"iframe":case"object":case"embed":qn("load",e),s=n;break;case"video":case"audio":for(s=0;s<np.length;s++)qn(np[s],e);s=n;break;case"source":qn("error",e),s=n;break;case"img":case"image":case"link":qn("error",e),qn("load",e),s=n;break;case"details":qn("toggle",e),s=n;break;case"input":V6(e,n),s=V5(e,n),qn("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=fs({},n,{value:void 0}),qn("invalid",e);break;case"textarea":G6(e,n),s=W5(e,n),qn("invalid",e);break;default:s=n}$5(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var A=l[i];i==="style"?OL(e,A):i==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&LL(e,A)):i==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&Xp(e,A):typeof A=="number"&&Xp(e,""+A):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qp.hasOwnProperty(i)?A!=null&&i==="onScroll"&&qn("scroll",e):A!=null&&YN(e,i,A,o))}switch(r){case"input":$1(e),K6(e,n,!1);break;case"textarea":$1(e),W6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+gd(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?n0(e,!!n.multiple,i,!1):n.defaultValue!=null&&n0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=nw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mi(t),null;case 6:if(e&&t.stateNode!=null)iO(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pt(166));if(r=ah(og.current),ah(fc.current),nx(t)){if(n=t.stateNode,r=t.memoizedProps,n[lc]=t,(i=n.nodeValue!==r)&&(e=xo,e!==null))switch(e.tag){case 3:rx(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rx(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lc]=t,t.stateNode=n}return Mi(t),null;case 13:if(Zn(cs),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(as&&mo!==null&&t.mode&1&&!(t.flags&128))CP(),R0(),t.flags|=98560,i=!1;else if(i=nx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(pt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pt(317));i[lc]=t}else R0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mi(t),i=!1}else Nl!==null&&(F4(Nl),Nl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||cs.current&1?ei===0&&(ei=3):k3())),t.updateQueue!==null&&(t.flags|=4),Mi(t),null);case 4:return U0(),v4(e,t),e===null&&ng(t.stateNode.containerInfo),Mi(t),null;case 10:return p3(t.type._context),Mi(t),null;case 17:return Ha(t.type)&&sw(),Mi(t),null;case 19:if(Zn(cs),i=t.memoizedState,i===null)return Mi(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Pm(i,!1);else{if(ei!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=uw(e),o!==null){for(t.flags|=128,Pm(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Hn(cs,cs.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ls()>Q0&&(t.flags|=128,n=!0,Pm(i,!1),t.lanes=4194304)}else{if(!n)if(e=uw(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!as)return Mi(t),null}else 2*Ls()-i.renderingStartTime>Q0&&r!==1073741824&&(t.flags|=128,n=!0,Pm(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ls(),t.sibling=null,r=cs.current,Hn(cs,n?r&1|2:r&1),t):(Mi(t),null);case 22:case 23:return T3(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ho&1073741824&&(Mi(t),t.subtreeFlags&6&&(t.flags|=8192)):Mi(t),null;case 24:return null;case 25:return null}throw Error(pt(156,t.tag))}function VW(e,t){switch(d3(t),t.tag){case 1:return Ha(t.type)&&sw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return U0(),Zn(Qa),Zn(ta),v3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return w3(t),null;case 13:if(Zn(cs),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pt(340));R0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zn(cs),null;case 4:return U0(),null;case 10:return p3(t.type._context),null;case 22:case 23:return T3(),null;case 24:return null;default:return null}}var ax=!1,Yi=!1,KW=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function zf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ns(e,t,n)}else r.current=null}function b4(e,t,r){try{r()}catch(n){Ns(e,t,n)}}var PI=!1;function GW(e,t){if(i4=ew,e=AP(),A3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,A=-1,u=0,h=0,m=e,y=null;t:for(;;){for(var g;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(A=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)y=m,m=g;for(;;){if(m===e)break t;if(y===r&&++u===s&&(l=o),y===i&&++h===n&&(A=o),(g=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=g}r=l===-1||A===-1?null:{start:l,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(a4={focusedElem:e,selectionRange:r},ew=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){t=Rt;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var C=b.memoizedProps,I=b.memoizedState,v=t.stateNode,N=v.getSnapshotBeforeUpdate(t.elementType===t.type?C:vl(t.type,C),I);v.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pt(163))}}catch(T){Ns(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}return b=PI,PI=!1,b}function Fp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&b4(t,r,i)}s=s.next}while(s!==n)}}function S2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function C4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function aO(e){var t=e.alternate;t!==null&&(e.alternate=null,aO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lc],delete t[ig],delete t[c4],delete t[EW],delete t[IW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function oO(e){return e.tag===5||e.tag===3||e.tag===4}function OI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||oO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function B4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nw));else if(n!==4&&(e=e.child,e!==null))for(B4(e,t,r),e=e.sibling;e!==null;)B4(e,t,r),e=e.sibling}function N4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(N4(e,t,r),e=e.sibling;e!==null;)N4(e,t,r),e=e.sibling}var bi=null,Bl=!1;function du(e,t,r){for(r=r.child;r!==null;)lO(e,t,r),r=r.sibling}function lO(e,t,r){if(hc&&typeof hc.onCommitFiberUnmount=="function")try{hc.onCommitFiberUnmount(x2,r)}catch{}switch(r.tag){case 5:Yi||zf(r,t);case 6:var n=bi,s=Bl;bi=null,du(e,t,r),bi=n,Bl=s,bi!==null&&(Bl?(e=bi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bi.removeChild(r.stateNode));break;case 18:bi!==null&&(Bl?(e=bi,r=r.stateNode,e.nodeType===8?Fb(e.parentNode,r):e.nodeType===1&&Fb(e,r),eg(e)):Fb(bi,r.stateNode));break;case 4:n=bi,s=Bl,bi=r.stateNode.containerInfo,Bl=!0,du(e,t,r),bi=n,Bl=s;break;case 0:case 11:case 14:case 15:if(!Yi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&b4(r,t,o),s=s.next}while(s!==n)}du(e,t,r);break;case 1:if(!Yi&&(zf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ns(r,t,l)}du(e,t,r);break;case 21:du(e,t,r);break;case 22:r.mode&1?(Yi=(n=Yi)||r.memoizedState!==null,du(e,t,r),Yi=n):du(e,t,r);break;default:du(e,t,r)}}function RI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new KW),t.forEach(function(n){var s=ez.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ml(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:bi=l.stateNode,Bl=!1;break e;case 3:bi=l.stateNode.containerInfo,Bl=!0;break e;case 4:bi=l.stateNode.containerInfo,Bl=!0;break e}l=l.return}if(bi===null)throw Error(pt(160));lO(i,o,s),bi=null,Bl=!1;var A=s.alternate;A!==null&&(A.return=null),s.return=null}catch(u){Ns(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cO(t,e),t=t.sibling}function cO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),Xl(e),n&4){try{Fp(3,e,e.return),S2(3,e)}catch(C){Ns(e,e.return,C)}try{Fp(5,e,e.return)}catch(C){Ns(e,e.return,C)}}break;case 1:ml(t,e),Xl(e),n&512&&r!==null&&zf(r,r.return);break;case 5:if(ml(t,e),Xl(e),n&512&&r!==null&&zf(r,r.return),e.flags&32){var s=e.stateNode;try{Xp(s,"")}catch(C){Ns(e,e.return,C)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&_L(s,i),q5(l,o);var u=q5(l,i);for(o=0;o<A.length;o+=2){var h=A[o],m=A[o+1];h==="style"?OL(s,m):h==="dangerouslySetInnerHTML"?LL(s,m):h==="children"?Xp(s,m):YN(s,h,m,u)}switch(l){case"input":K5(s,i);break;case"textarea":TL(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?n0(s,!!i.multiple,g,!1):y!==!!i.multiple&&(i.defaultValue!=null?n0(s,!!i.multiple,i.defaultValue,!0):n0(s,!!i.multiple,i.multiple?[]:"",!1))}s[ig]=i}catch(C){Ns(e,e.return,C)}}break;case 6:if(ml(t,e),Xl(e),n&4){if(e.stateNode===null)throw Error(pt(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(C){Ns(e,e.return,C)}}break;case 3:if(ml(t,e),Xl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{eg(t.containerInfo)}catch(C){Ns(e,e.return,C)}break;case 4:ml(t,e),Xl(e);break;case 13:ml(t,e),Xl(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(j3=Ls())),n&4&&RI(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Yi=(u=Yi)||h,ml(t,e),Yi=u):ml(t,e),Xl(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Rt=e,h=e.child;h!==null;){for(m=Rt=h;Rt!==null;){switch(y=Rt,g=y.child,y.tag){case 0:case 11:case 14:case 15:Fp(4,y,y.return);break;case 1:zf(y,y.return);var b=y.stateNode;if(typeof b.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(C){Ns(n,r,C)}}break;case 5:zf(y,y.return);break;case 22:if(y.memoizedState!==null){UI(m);continue}}g!==null?(g.return=y,Rt=g):UI(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,A=m.memoizedProps.style,o=A!=null&&A.hasOwnProperty("display")?A.display:null,l.style.display=PL("display",o))}catch(C){Ns(e,e.return,C)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(C){Ns(e,e.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ml(t,e),Xl(e),n&4&&RI(e);break;case 21:break;default:ml(t,e),Xl(e)}}function Xl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(oO(r)){var n=r;break e}r=r.return}throw Error(pt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Xp(s,""),n.flags&=-33);var i=OI(e);N4(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=OI(e);B4(e,l,o);break;default:throw Error(pt(161))}}catch(A){Ns(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WW(e,t,r){Rt=e,AO(e)}function AO(e,t,r){for(var n=(e.mode&1)!==0;Rt!==null;){var s=Rt,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ax;if(!o){var l=s.alternate,A=l!==null&&l.memoizedState!==null||Yi;l=ax;var u=Yi;if(ax=o,(Yi=A)&&!u)for(Rt=s;Rt!==null;)o=Rt,A=o.child,o.tag===22&&o.memoizedState!==null?MI(s):A!==null?(A.return=o,Rt=A):MI(s);for(;i!==null;)Rt=i,AO(i),i=i.sibling;Rt=s,ax=l,Yi=u}DI(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Rt=i):DI(e)}}function DI(e){for(;Rt!==null;){var t=Rt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Yi||S2(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Yi)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:vl(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bI(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bI(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&eg(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pt(163))}Yi||t.flags&512&&C4(t)}catch(y){Ns(t,t.return,y)}}if(t===e){Rt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function UI(e){for(;Rt!==null;){var t=Rt;if(t===e){Rt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function MI(e){for(;Rt!==null;){var t=Rt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{S2(4,t)}catch(A){Ns(t,r,A)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(A){Ns(t,s,A)}}var i=t.return;try{C4(t)}catch(A){Ns(t,i,A)}break;case 5:var o=t.return;try{C4(t)}catch(A){Ns(t,o,A)}}}catch(A){Ns(t,t.return,A)}if(t===e){Rt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Rt=l;break}Rt=t.return}}var zW=Math.ceil,fw=QA.ReactCurrentDispatcher,I3=QA.ReactCurrentOwner,Zo=QA.ReactCurrentBatchConfig,rn=0,ui=null,Ks=null,_i=0,ho=0,$f=jd(0),ei=0,ug=null,Hh=0,E2=0,F3=0,jp=null,Oa=null,j3=0,Q0=1/0,uA=null,mw=!1,S4=null,id=null,ox=!1,Gu=null,pw=0,_p=0,E4=null,my=-1,py=0;function xa(){return rn&6?Ls():my!==-1?my:my=Ls()}function ad(e){return e.mode&1?rn&2&&_i!==0?_i&-_i:jW.transition!==null?(py===0&&(py=$L()),py):(e=Bn,e!==0||(e=window.event,e=e===void 0?16:tP(e.type)),e):1}function Fl(e,t,r,n){if(50<_p)throw _p=0,E4=null,Error(pt(185));Xg(e,r,n),(!(rn&2)||e!==ui)&&(e===ui&&(!(rn&2)&&(E2|=r),ei===4&&ju(e,_i)),Va(e,n),r===1&&rn===0&&!(t.mode&1)&&(Q0=Ls()+500,C2&&_d()))}function Va(e,t){var r=e.callbackNode;jG(e,t);var n=Jy(e,e===ui?_i:0);if(n===0)r!==null&&q6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&q6(r),t===1)e.tag===0?FW(QI.bind(null,e)):wP(QI.bind(null,e)),NW(function(){!(rn&6)&&_d()}),r=null;else{switch(qL(n)){case 1:r=r3;break;case 4:r=WL;break;case 16:r=Zy;break;case 536870912:r=zL;break;default:r=Zy}r=xO(r,uO.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function uO(e,t){if(my=-1,py=0,rn&6)throw Error(pt(327));var r=e.callbackNode;if(l0()&&e.callbackNode!==r)return null;var n=Jy(e,e===ui?_i:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gw(e,n);else{t=n;var s=rn;rn|=2;var i=hO();(ui!==e||_i!==t)&&(uA=null,Q0=Ls()+500,Bh(e,t));do try{XW();break}catch(l){dO(e,l)}while(!0);m3(),fw.current=i,rn=s,Ks!==null?t=0:(ui=null,_i=0,t=ei)}if(t!==0){if(t===2&&(s=e4(e),s!==0&&(n=s,t=I4(e,s))),t===1)throw r=ug,Bh(e,0),ju(e,n),Va(e,Ls()),r;if(t===6)ju(e,n);else{if(s=e.current.alternate,!(n&30)&&!$W(s)&&(t=gw(e,n),t===2&&(i=e4(e),i!==0&&(n=i,t=I4(e,i))),t===1))throw r=ug,Bh(e,0),ju(e,n),Va(e,Ls()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(pt(345));case 2:Xd(e,Oa,uA);break;case 3:if(ju(e,n),(n&130023424)===n&&(t=j3+500-Ls(),10<t)){if(Jy(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xa(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=l4(Xd.bind(null,e,Oa,uA),t);break}Xd(e,Oa,uA);break;case 4:if(ju(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Il(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Ls()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zW(n/1960))-n,10<n){e.timeoutHandle=l4(Xd.bind(null,e,Oa,uA),n);break}Xd(e,Oa,uA);break;case 5:Xd(e,Oa,uA);break;default:throw Error(pt(329))}}}return Va(e,Ls()),e.callbackNode===r?uO.bind(null,e):null}function I4(e,t){var r=jp;return e.current.memoizedState.isDehydrated&&(Bh(e,t).flags|=256),e=gw(e,t),e!==2&&(t=Oa,Oa=r,t!==null&&F4(t)),e}function F4(e){Oa===null?Oa=e:Oa.push.apply(Oa,e)}function $W(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!kl(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ju(e,t){for(t&=~F3,t&=~E2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Il(t),n=1<<r;e[r]=-1,t&=~n}}function QI(e){if(rn&6)throw Error(pt(327));l0();var t=Jy(e,0);if(!(t&1))return Va(e,Ls()),null;var r=gw(e,t);if(e.tag!==0&&r===2){var n=e4(e);n!==0&&(t=n,r=I4(e,n))}if(r===1)throw r=ug,Bh(e,0),ju(e,t),Va(e,Ls()),r;if(r===6)throw Error(pt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xd(e,Oa,uA),Va(e,Ls()),null}function _3(e,t){var r=rn;rn|=1;try{return e(t)}finally{rn=r,rn===0&&(Q0=Ls()+500,C2&&_d())}}function Vh(e){Gu!==null&&Gu.tag===0&&!(rn&6)&&l0();var t=rn;rn|=1;var r=Zo.transition,n=Bn;try{if(Zo.transition=null,Bn=1,e)return e()}finally{Bn=n,Zo.transition=r,rn=t,!(rn&6)&&_d()}}function T3(){ho=$f.current,Zn($f)}function Bh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,BW(r)),Ks!==null)for(r=Ks.return;r!==null;){var n=r;switch(d3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sw();break;case 3:U0(),Zn(Qa),Zn(ta),v3();break;case 5:w3(n);break;case 4:U0();break;case 13:Zn(cs);break;case 19:Zn(cs);break;case 10:p3(n.type._context);break;case 22:case 23:T3()}r=r.return}if(ui=e,Ks=e=od(e.current,null),_i=ho=t,ei=0,ug=null,F3=E2=Hh=0,Oa=jp=null,ih!==null){for(t=0;t<ih.length;t++)if(r=ih[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ih=null}return e}function dO(e,t){do{var r=Ks;try{if(m3(),dy.current=hw,dw){for(var n=us.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}dw=!1}if(Qh=0,ci=Xs=us=null,Ip=!1,lg=0,I3.current=null,r===null||r.return===null){ei=1,ug=t,Ks=null;break}e:{var i=e,o=r.return,l=r,A=t;if(t=_i,l.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var u=A,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=II(o);if(g!==null){g.flags&=-257,FI(g,o,l,i,t),g.mode&1&&EI(i,u,t),t=g,A=u;var b=t.updateQueue;if(b===null){var C=new Set;C.add(A),t.updateQueue=C}else b.add(A);break e}else{if(!(t&1)){EI(i,u,t),k3();break e}A=Error(pt(426))}}else if(as&&l.mode&1){var I=II(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),FI(I,o,l,i,t),h3(M0(A,l));break e}}i=A=M0(A,l),ei!==4&&(ei=2),jp===null?jp=[i]:jp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=qP(i,A,t);vI(i,v);break e;case 1:l=A;var N=i.type,F=i.stateNode;if(!(i.flags&128)&&(typeof N.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(id===null||!id.has(F)))){i.flags|=65536,t&=-t,i.lanes|=t;var T=XP(i,l,t);vI(i,T);break e}}i=i.return}while(i!==null)}mO(r)}catch(D){t=D,Ks===r&&r!==null&&(Ks=r=r.return);continue}break}while(!0)}function hO(){var e=fw.current;return fw.current=hw,e===null?hw:e}function k3(){(ei===0||ei===3||ei===2)&&(ei=4),ui===null||!(Hh&268435455)&&!(E2&268435455)||ju(ui,_i)}function gw(e,t){var r=rn;rn|=2;var n=hO();(ui!==e||_i!==t)&&(uA=null,Bh(e,t));do try{qW();break}catch(s){dO(e,s)}while(!0);if(m3(),rn=r,fw.current=n,Ks!==null)throw Error(pt(261));return ui=null,_i=0,ei}function qW(){for(;Ks!==null;)fO(Ks)}function XW(){for(;Ks!==null&&!vG();)fO(Ks)}function fO(e){var t=gO(e.alternate,e,ho);e.memoizedProps=e.pendingProps,t===null?mO(e):Ks=t,I3.current=null}function mO(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=VW(r,t),r!==null){r.flags&=32767,Ks=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ei=6,Ks=null;return}}else if(r=HW(r,t,ho),r!==null){Ks=r;return}if(t=t.sibling,t!==null){Ks=t;return}Ks=t=e}while(t!==null);ei===0&&(ei=5)}function Xd(e,t,r){var n=Bn,s=Zo.transition;try{Zo.transition=null,Bn=1,YW(e,t,r,n)}finally{Zo.transition=s,Bn=n}return null}function YW(e,t,r,n){do l0();while(Gu!==null);if(rn&6)throw Error(pt(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(_G(e,i),e===ui&&(Ks=ui=null,_i=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ox||(ox=!0,xO(Zy,function(){return l0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Zo.transition,Zo.transition=null;var o=Bn;Bn=1;var l=rn;rn|=4,I3.current=null,GW(e,r),cO(r,e),gW(a4),ew=!!i4,a4=i4=null,e.current=r,WW(r),bG(),rn=l,Bn=o,Zo.transition=i}else e.current=r;if(ox&&(ox=!1,Gu=e,pw=s),i=e.pendingLanes,i===0&&(id=null),NG(r.stateNode),Va(e,Ls()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(mw)throw mw=!1,e=S4,S4=null,e;return pw&1&&e.tag!==0&&l0(),i=e.pendingLanes,i&1?e===E4?_p++:(_p=0,E4=e):_p=0,_d(),null}function l0(){if(Gu!==null){var e=qL(pw),t=Zo.transition,r=Bn;try{if(Zo.transition=null,Bn=16>e?16:e,Gu===null)var n=!1;else{if(e=Gu,Gu=null,pw=0,rn&6)throw Error(pt(331));var s=rn;for(rn|=4,Rt=e.current;Rt!==null;){var i=Rt,o=i.child;if(Rt.flags&16){var l=i.deletions;if(l!==null){for(var A=0;A<l.length;A++){var u=l[A];for(Rt=u;Rt!==null;){var h=Rt;switch(h.tag){case 0:case 11:case 15:Fp(8,h,i)}var m=h.child;if(m!==null)m.return=h,Rt=m;else for(;Rt!==null;){h=Rt;var y=h.sibling,g=h.return;if(aO(h),h===u){Rt=null;break}if(y!==null){y.return=g,Rt=y;break}Rt=g}}}var b=i.alternate;if(b!==null){var C=b.child;if(C!==null){b.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}Rt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Rt=o;else e:for(;Rt!==null;){if(i=Rt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fp(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Rt=v;break e}Rt=i.return}}var N=e.current;for(Rt=N;Rt!==null;){o=Rt;var F=o.child;if(o.subtreeFlags&2064&&F!==null)F.return=o,Rt=F;else e:for(o=N;Rt!==null;){if(l=Rt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:S2(9,l)}}catch(D){Ns(l,l.return,D)}if(l===o){Rt=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,Rt=T;break e}Rt=l.return}}if(rn=s,_d(),hc&&typeof hc.onPostCommitFiberRoot=="function")try{hc.onPostCommitFiberRoot(x2,e)}catch{}n=!0}return n}finally{Bn=r,Zo.transition=t}}return!1}function HI(e,t,r){t=M0(r,t),t=qP(e,t,1),e=sd(e,t,1),t=xa(),e!==null&&(Xg(e,1,t),Va(e,t))}function Ns(e,t,r){if(e.tag===3)HI(e,e,r);else for(;t!==null;){if(t.tag===3){HI(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(id===null||!id.has(n))){e=M0(r,e),e=XP(t,e,1),t=sd(t,e,1),e=xa(),t!==null&&(Xg(t,1,e),Va(t,e));break}}t=t.return}}function ZW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xa(),e.pingedLanes|=e.suspendedLanes&r,ui===e&&(_i&r)===r&&(ei===4||ei===3&&(_i&130023424)===_i&&500>Ls()-j3?Bh(e,0):F3|=r),Va(e,t)}function pO(e,t){t===0&&(e.mode&1?(t=Y1,Y1<<=1,!(Y1&130023424)&&(Y1=4194304)):t=1);var r=xa();e=_A(e,t),e!==null&&(Xg(e,t,r),Va(e,r))}function JW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pO(e,r)}function ez(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pt(314))}n!==null&&n.delete(t),pO(e,r)}var gO;gO=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qa.current)Ra=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ra=!1,QW(e,t,r);Ra=!!(e.flags&131072)}else Ra=!1,as&&t.flags&1048576&&vP(t,ow,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fy(e,t),e=t.pendingProps;var s=O0(t,ta.current);o0(t,r),s=C3(null,t,n,e,s,r);var i=B3();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ha(n)?(i=!0,iw(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,x3(t),s.updater=N2,t.stateNode=s,s._reactInternals=t,m4(t,n,e,r),t=x4(null,t,n,!0,i,r)):(t.tag=0,as&&i&&u3(t),ua(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fy(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=rz(n),e=vl(n,e),s){case 0:t=g4(null,t,n,e,r);break e;case 1:t=TI(null,t,n,e,r);break e;case 11:t=jI(null,t,n,e,r);break e;case 14:t=_I(null,t,n,vl(n.type,e),r);break e}throw Error(pt(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vl(n,s),g4(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vl(n,s),TI(e,t,n,s,r);case 3:e:{if(eO(t),e===null)throw Error(pt(387));n=t.pendingProps,i=t.memoizedState,s=i.element,EP(e,t),Aw(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=M0(Error(pt(423)),t),t=kI(e,t,n,r,s);break e}else if(n!==s){s=M0(Error(pt(424)),t),t=kI(e,t,n,r,s);break e}else for(mo=nd(t.stateNode.containerInfo.firstChild),xo=t,as=!0,Nl=null,r=NP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(R0(),n===s){t=TA(e,t,r);break e}ua(e,t,n,r)}t=t.child}return t;case 5:return IP(t),e===null&&d4(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,o4(n,s)?o=null:i!==null&&o4(n,i)&&(t.flags|=32),JP(e,t),ua(e,t,o,r),t.child;case 6:return e===null&&d4(t),null;case 13:return tO(e,t,r);case 4:return y3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=D0(t,null,n,r):ua(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vl(n,s),jI(e,t,n,s,r);case 7:return ua(e,t,t.pendingProps,r),t.child;case 8:return ua(e,t,t.pendingProps.children,r),t.child;case 12:return ua(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Hn(lw,n._currentValue),n._currentValue=o,i!==null)if(kl(i.value,o)){if(i.children===s.children&&!Qa.current){t=TA(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var A=l.firstContext;A!==null;){if(A.context===n){if(i.tag===1){A=CA(-1,r&-r),A.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?A.next=A:(A.next=h.next,h.next=A),u.pending=A}}i.lanes|=r,A=i.alternate,A!==null&&(A.lanes|=r),h4(i.return,r,t),l.lanes|=r;break}A=A.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(pt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),h4(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ua(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,o0(t,r),s=el(s),n=n(s),t.flags|=1,ua(e,t,n,r),t.child;case 14:return n=t.type,s=vl(n,t.pendingProps),s=vl(n.type,s),_I(e,t,n,s,r);case 15:return YP(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vl(n,s),fy(e,t),t.tag=1,Ha(n)?(e=!0,iw(t)):e=!1,o0(t,r),$P(t,n,s),m4(t,n,s,r),x4(null,t,n,!0,e,r);case 19:return rO(e,t,r);case 22:return ZP(e,t,r)}throw Error(pt(156,t.tag))};function xO(e,t){return GL(e,t)}function tz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(e,t,r,n){return new tz(e,t,r,n)}function L3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rz(e){if(typeof e=="function")return L3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===JN)return 11;if(e===e3)return 14}return 2}function od(e,t){var r=e.alternate;return r===null?(r=$o(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gy(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")L3(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Df:return Nh(r.children,s,i,t);case ZN:o=8,s|=8;break;case U5:return e=$o(12,r,t,s|2),e.elementType=U5,e.lanes=i,e;case M5:return e=$o(13,r,t,s),e.elementType=M5,e.lanes=i,e;case Q5:return e=$o(19,r,t,s),e.elementType=Q5,e.lanes=i,e;case IL:return I2(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case SL:o=10;break e;case EL:o=9;break e;case JN:o=11;break e;case e3:o=14;break e;case Su:o=16,n=null;break e}throw Error(pt(130,e==null?e:typeof e,""))}return t=$o(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Nh(e,t,r,n){return e=$o(7,e,n,t),e.lanes=r,e}function I2(e,t,r,n){return e=$o(22,e,n,t),e.elementType=IL,e.lanes=r,e.stateNode={isHidden:!1},e}function Rb(e,t,r){return e=$o(6,e,null,t),e.lanes=r,e}function Db(e,t,r){return t=$o(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nz(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xb(0),this.expirationTimes=xb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xb(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function P3(e,t,r,n,s,i,o,l,A){return e=new nz(e,t,r,l,A),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$o(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},x3(i),e}function sz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function yO(e){if(!e)return xd;e=e._reactInternals;e:{if(sf(e)!==e||e.tag!==1)throw Error(pt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ha(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pt(171))}if(e.tag===1){var r=e.type;if(Ha(r))return yP(e,r,t)}return t}function wO(e,t,r,n,s,i,o,l,A){return e=P3(r,n,!0,e,s,i,o,l,A),e.context=yO(null),r=e.current,n=xa(),s=ad(r),i=CA(n,s),i.callback=t??null,sd(r,i,s),e.current.lanes=s,Xg(e,s,n),Va(e,n),e}function F2(e,t,r,n){var s=t.current,i=xa(),o=ad(s);return r=yO(r),t.context===null?t.context=r:t.pendingContext=r,t=CA(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=sd(s,t,o),e!==null&&(Fl(e,s,o,i),uy(e,s,o)),o}function xw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function VI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function O3(e,t){VI(e,t),(e=e.alternate)&&VI(e,t)}function iz(){return null}var vO=typeof reportError=="function"?reportError:function(e){console.error(e)};function R3(e){this._internalRoot=e}j2.prototype.render=R3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pt(409));F2(e,t,null,null)};j2.prototype.unmount=R3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vh(function(){F2(null,e,null,null)}),t[jA]=null}};function j2(e){this._internalRoot=e}j2.prototype.unstable_scheduleHydration=function(e){if(e){var t=ZL();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fu.length&&t!==0&&t<Fu[r].priority;r++);Fu.splice(r,0,e),r===0&&eP(e)}};function D3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function KI(){}function az(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=xw(o);i.call(u)}}var o=wO(t,n,e,0,null,!1,!1,"",KI);return e._reactRootContainer=o,e[jA]=o.current,ng(e.nodeType===8?e.parentNode:e),Vh(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=xw(A);l.call(u)}}var A=P3(e,0,!1,null,null,!1,!1,"",KI);return e._reactRootContainer=A,e[jA]=A.current,ng(e.nodeType===8?e.parentNode:e),Vh(function(){F2(t,A,r,n)}),A}function T2(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var A=xw(o);l.call(A)}}F2(t,o,e,s)}else o=az(r,t,e,s,n);return xw(o)}XL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rp(t.pendingLanes);r!==0&&(n3(t,r|1),Va(t,Ls()),!(rn&6)&&(Q0=Ls()+500,_d()))}break;case 13:Vh(function(){var n=_A(e,1);if(n!==null){var s=xa();Fl(n,e,1,s)}}),O3(e,1)}};s3=function(e){if(e.tag===13){var t=_A(e,134217728);if(t!==null){var r=xa();Fl(t,e,134217728,r)}O3(e,134217728)}};YL=function(e){if(e.tag===13){var t=ad(e),r=_A(e,t);if(r!==null){var n=xa();Fl(r,e,t,n)}O3(e,t)}};ZL=function(){return Bn};JL=function(e,t){var r=Bn;try{return Bn=e,t()}finally{Bn=r}};Y5=function(e,t,r){switch(t){case"input":if(K5(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=b2(n);if(!s)throw Error(pt(90));jL(n),K5(n,s)}}}break;case"textarea":TL(e,r);break;case"select":t=r.value,t!=null&&n0(e,!!r.multiple,t,!1)}};UL=_3;ML=Vh;var oz={usingClientEntryPoint:!1,Events:[Zg,Hf,b2,RL,DL,_3]},Om={findFiberByHostInstance:sh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lz={bundleType:Om.bundleType,version:Om.version,rendererPackageName:Om.rendererPackageName,rendererConfig:Om.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:QA.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VL(e),e===null?null:e.stateNode},findFiberByHostInstance:Om.findFiberByHostInstance||iz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lx.isDisabled&&lx.supportsFiber)try{x2=lx.inject(lz),hc=lx}catch{}}Bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oz;Bo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D3(t))throw Error(pt(200));return sz(e,t,null,r)};Bo.createRoot=function(e,t){if(!D3(e))throw Error(pt(299));var r=!1,n="",s=vO;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=P3(e,1,!1,null,null,r,!1,n,s),e[jA]=t.current,ng(e.nodeType===8?e.parentNode:e),new R3(t)};Bo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pt(188)):(e=Object.keys(e).join(","),Error(pt(268,e)));return e=VL(t),e=e===null?null:e.stateNode,e};Bo.flushSync=function(e){return Vh(e)};Bo.hydrate=function(e,t,r){if(!_2(t))throw Error(pt(200));return T2(null,e,t,!0,r)};Bo.hydrateRoot=function(e,t,r){if(!D3(e))throw Error(pt(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=vO;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=wO(t,null,e,1,r??null,s,!1,i,o),e[jA]=t.current,ng(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new j2(t)};Bo.render=function(e,t,r){if(!_2(t))throw Error(pt(200));return T2(null,e,t,!1,r)};Bo.unmountComponentAtNode=function(e){if(!_2(e))throw Error(pt(40));return e._reactRootContainer?(Vh(function(){T2(null,null,e,!1,function(){e._reactRootContainer=null,e[jA]=null})}),!0):!1};Bo.unstable_batchedUpdates=_3;Bo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_2(r))throw Error(pt(200));if(e==null||e._reactInternals===void 0)throw Error(pt(38));return T2(e,t,r,!1,n)};Bo.version="18.3.1-next-f1338f8080-20240426";function bO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bO)}catch(e){console.error(e)}}bO(),bL.exports=Bo;var Td=bL.exports;const CO=$g(Td);var BO,GI=Td;BO=GI.createRoot,GI.hydrateRoot;var cz=e=>{switch(e){case"success":return dz;case"info":return fz;case"warning":return hz;case"error":return mz;default:return null}},Az=Array(12).fill(0),uz=({visible:e,className:t})=>Xe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Xe.createElement("div",{className:"sonner-spinner"},Az.map((r,n)=>Xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),dz=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hz=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fz=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mz=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pz=Xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gz=()=>{let[e,t]=Xe.useState(document.hidden);return Xe.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},j4=1,xz=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:j4++,o=this.toasts.find(A=>A.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(A=>A.id===i?(this.publish({...A,...t,id:i,title:n}),{...A,...t,id:i,dismissible:l,title:n}):A):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=t instanceof Promise?t:t(),i=n!==void 0,o,l=s.then(async u=>{if(o=["resolve",u],Xe.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(wz(u)&&!u.ok){i=!1;let h=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:h,description:m})}else if(r.success!==void 0){i=!1;let h=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:h,description:m})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;let h=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:h,description:m})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),A=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:A}:Object.assign(n,{unwrap:A})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||j4++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},La=new xz,yz=(e,t)=>{let r=(t==null?void 0:t.id)||j4++;return La.addToast({title:e,...t,id:r}),r},wz=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",vz=yz,bz=()=>La.toasts,Cz=()=>La.getActiveToasts(),je=Object.assign(vz,{success:La.success,info:La.info,warning:La.warning,error:La.error,custom:La.custom,message:La.message,promise:La.promise,dismiss:La.dismiss,loading:La.loading},{getHistory:bz,getToasts:Cz});function Bz(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Bz(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cx(e){return e.label!==void 0}var Nz=3,Sz="32px",Ez="16px",WI=4e3,Iz=356,Fz=14,jz=20,_z=200;function pl(...e){return e.filter(Boolean).join(" ")}function Tz(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var kz=e=>{var t,r,n,s,i,o,l,A,u,h,m;let{invert:y,toast:g,unstyled:b,interacting:C,setHeights:I,visibleToasts:v,heights:N,index:F,toasts:T,expanded:D,removeToast:V,defaultRichColors:P,closeButton:U,style:k,cancelButtonStyle:z,actionButtonStyle:R,className:H="",descriptionClassName:J="",duration:ne,position:Y,gap:G,loadingIcon:K,expandByDefault:q,classNames:X,icons:fe,closeButtonAriaLabel:de="Close toast",pauseWhenPageIsHidden:Q}=e,[Z,ae]=Xe.useState(null),[ee,oe]=Xe.useState(null),[pe,Be]=Xe.useState(!1),[_e,Le]=Xe.useState(!1),[ke,Oe]=Xe.useState(!1),[Se,Ce]=Xe.useState(!1),[he,ft]=Xe.useState(!1),[dt,Je]=Xe.useState(0),[Qe,vt]=Xe.useState(0),Ke=Xe.useRef(g.duration||ne||WI),Vt=Xe.useRef(null),bt=Xe.useRef(null),nt=F===0,ct=F+1<=v,At=g.type,Ht=g.dismissible!==!1,St=g.className||"",xt=g.descriptionClassName||"",Lt=Xe.useMemo(()=>N.findIndex(Pt=>Pt.toastId===g.id)||0,[N,g.id]),Bt=Xe.useMemo(()=>{var Pt;return(Pt=g.closeButton)!=null?Pt:U},[g.closeButton,U]),Mr=Xe.useMemo(()=>g.duration||ne||WI,[g.duration,ne]),Yt=Xe.useRef(0),Ge=Xe.useRef(0),jt=Xe.useRef(0),$e=Xe.useRef(null),[at,mt]=Y.split("-"),yt=Xe.useMemo(()=>N.reduce((Pt,lr,ir)=>ir>=Lt?Pt:Pt+lr.height,0),[N,Lt]),Kr=gz(),$t=g.invert||y,sr=At==="loading";Ge.current=Xe.useMemo(()=>Lt*G+yt,[Lt,yt]),Xe.useEffect(()=>{Ke.current=Mr},[Mr]),Xe.useEffect(()=>{Be(!0)},[]),Xe.useEffect(()=>{let Pt=bt.current;if(Pt){let lr=Pt.getBoundingClientRect().height;return vt(lr),I(ir=>[{toastId:g.id,height:lr,position:g.position},...ir]),()=>I(ir=>ir.filter(sn=>sn.toastId!==g.id))}},[I,g.id]),Xe.useLayoutEffect(()=>{if(!pe)return;let Pt=bt.current,lr=Pt.style.height;Pt.style.height="auto";let ir=Pt.getBoundingClientRect().height;Pt.style.height=lr,vt(ir),I(sn=>sn.find(Et=>Et.toastId===g.id)?sn.map(Et=>Et.toastId===g.id?{...Et,height:ir}:Et):[{toastId:g.id,height:ir,position:g.position},...sn])},[pe,g.title,g.description,I,g.id]);let Dt=Xe.useCallback(()=>{Le(!0),Je(Ge.current),I(Pt=>Pt.filter(lr=>lr.toastId!==g.id)),setTimeout(()=>{V(g)},_z)},[g,V,I,Ge]);Xe.useEffect(()=>{if(g.promise&&At==="loading"||g.duration===1/0||g.type==="loading")return;let Pt;return D||C||Q&&Kr?(()=>{if(jt.current<Yt.current){let lr=new Date().getTime()-Yt.current;Ke.current=Ke.current-lr}jt.current=new Date().getTime()})():Ke.current!==1/0&&(Yt.current=new Date().getTime(),Pt=setTimeout(()=>{var lr;(lr=g.onAutoClose)==null||lr.call(g,g),Dt()},Ke.current)),()=>clearTimeout(Pt)},[D,C,g,At,Q,Kr,Dt]),Xe.useEffect(()=>{g.delete&&Dt()},[Dt,g.delete]);function Tr(){var Pt,lr,ir;return fe!=null&&fe.loading?Xe.createElement("div",{className:pl(X==null?void 0:X.loader,(Pt=g==null?void 0:g.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":At==="loading"},fe.loading):K?Xe.createElement("div",{className:pl(X==null?void 0:X.loader,(lr=g==null?void 0:g.classNames)==null?void 0:lr.loader,"sonner-loader"),"data-visible":At==="loading"},K):Xe.createElement(uz,{className:pl(X==null?void 0:X.loader,(ir=g==null?void 0:g.classNames)==null?void 0:ir.loader),visible:At==="loading"})}return Xe.createElement("li",{tabIndex:0,ref:bt,className:pl(H,St,X==null?void 0:X.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,X==null?void 0:X.default,X==null?void 0:X[At],(r=g==null?void 0:g.classNames)==null?void 0:r[At]),"data-sonner-toast":"","data-rich-colors":(n=g.richColors)!=null?n:P,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":pe,"data-promise":!!g.promise,"data-swiped":he,"data-removed":_e,"data-visible":ct,"data-y-position":at,"data-x-position":mt,"data-index":F,"data-front":nt,"data-swiping":ke,"data-dismissible":Ht,"data-type":At,"data-invert":$t,"data-swipe-out":Se,"data-swipe-direction":ee,"data-expanded":!!(D||q&&pe),style:{"--index":F,"--toasts-before":F,"--z-index":T.length-F,"--offset":`${_e?dt:Ge.current}px`,"--initial-height":q?"auto":`${Qe}px`,...k,...g.style},onDragEnd:()=>{Oe(!1),ae(null),$e.current=null},onPointerDown:Pt=>{sr||!Ht||(Vt.current=new Date,Je(Ge.current),Pt.target.setPointerCapture(Pt.pointerId),Pt.target.tagName!=="BUTTON"&&(Oe(!0),$e.current={x:Pt.clientX,y:Pt.clientY}))},onPointerUp:()=>{var Pt,lr,ir,sn;if(Se||!Ht)return;$e.current=null;let Et=Number(((Pt=bt.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),an=Number(((lr=bt.current)==null?void 0:lr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ms=new Date().getTime()-((ir=Vt.current)==null?void 0:ir.getTime()),Gr=Z==="x"?Et:an,Sn=Math.abs(Gr)/ms;if(Math.abs(Gr)>=jz||Sn>.11){Je(Ge.current),(sn=g.onDismiss)==null||sn.call(g,g),oe(Z==="x"?Et>0?"right":"left":an>0?"down":"up"),Dt(),Ce(!0),ft(!1);return}Oe(!1),ae(null)},onPointerMove:Pt=>{var lr,ir,sn,Et;if(!$e.current||!Ht||((lr=window.getSelection())==null?void 0:lr.toString().length)>0)return;let an=Pt.clientY-$e.current.y,ms=Pt.clientX-$e.current.x,Gr=(ir=e.swipeDirections)!=null?ir:Tz(Y);!Z&&(Math.abs(ms)>1||Math.abs(an)>1)&&ae(Math.abs(ms)>Math.abs(an)?"x":"y");let Sn={x:0,y:0};Z==="y"?(Gr.includes("top")||Gr.includes("bottom"))&&(Gr.includes("top")&&an<0||Gr.includes("bottom")&&an>0)&&(Sn.y=an):Z==="x"&&(Gr.includes("left")||Gr.includes("right"))&&(Gr.includes("left")&&ms<0||Gr.includes("right")&&ms>0)&&(Sn.x=ms),(Math.abs(Sn.x)>0||Math.abs(Sn.y)>0)&&ft(!0),(sn=bt.current)==null||sn.style.setProperty("--swipe-amount-x",`${Sn.x}px`),(Et=bt.current)==null||Et.style.setProperty("--swipe-amount-y",`${Sn.y}px`)}},Bt&&!g.jsx?Xe.createElement("button",{"aria-label":de,"data-disabled":sr,"data-close-button":!0,onClick:sr||!Ht?()=>{}:()=>{var Pt;Dt(),(Pt=g.onDismiss)==null||Pt.call(g,g)},className:pl(X==null?void 0:X.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=fe==null?void 0:fe.close)!=null?i:pz):null,g.jsx||B.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:Xe.createElement(Xe.Fragment,null,At||g.icon||g.promise?Xe.createElement("div",{"data-icon":"",className:pl(X==null?void 0:X.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Tr():null,g.type!=="loading"?g.icon||(fe==null?void 0:fe[At])||cz(At):null):null,Xe.createElement("div",{"data-content":"",className:pl(X==null?void 0:X.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},Xe.createElement("div",{"data-title":"",className:pl(X==null?void 0:X.title,(A=g==null?void 0:g.classNames)==null?void 0:A.title)},typeof g.title=="function"?g.title():g.title),g.description?Xe.createElement("div",{"data-description":"",className:pl(J,xt,X==null?void 0:X.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),B.isValidElement(g.cancel)?g.cancel:g.cancel&&cx(g.cancel)?Xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||z,onClick:Pt=>{var lr,ir;cx(g.cancel)&&Ht&&((ir=(lr=g.cancel).onClick)==null||ir.call(lr,Pt),Dt())},className:pl(X==null?void 0:X.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,B.isValidElement(g.action)?g.action:g.action&&cx(g.action)?Xe.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||R,onClick:Pt=>{var lr,ir;cx(g.action)&&((ir=(lr=g.action).onClick)==null||ir.call(lr,Pt),!Pt.defaultPrevented&&Dt())},className:pl(X==null?void 0:X.actionButton,(m=g==null?void 0:g.classNames)==null?void 0:m.actionButton)},g.action.label):null))};function zI(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Lz(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?Ez:Sz;function A(u){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?A(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):A(l)}),r}var Pz=B.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:A,mobileOffset:u,theme:h="light",richColors:m,duration:y,style:g,visibleToasts:b=Nz,toastOptions:C,dir:I=zI(),gap:v=Fz,loadingIcon:N,icons:F,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:D}=e,[V,P]=Xe.useState([]),U=Xe.useMemo(()=>Array.from(new Set([n].concat(V.filter(Q=>Q.position).map(Q=>Q.position)))),[V,n]),[k,z]=Xe.useState([]),[R,H]=Xe.useState(!1),[J,ne]=Xe.useState(!1),[Y,G]=Xe.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=Xe.useRef(null),q=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=Xe.useRef(null),fe=Xe.useRef(!1),de=Xe.useCallback(Q=>{P(Z=>{var ae;return(ae=Z.find(ee=>ee.id===Q.id))!=null&&ae.delete||La.dismiss(Q.id),Z.filter(({id:ee})=>ee!==Q.id)})},[]);return Xe.useEffect(()=>La.subscribe(Q=>{if(Q.dismiss){P(Z=>Z.map(ae=>ae.id===Q.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{CO.flushSync(()=>{P(Z=>{let ae=Z.findIndex(ee=>ee.id===Q.id);return ae!==-1?[...Z.slice(0,ae),{...Z[ae],...Q},...Z.slice(ae+1)]:[Q,...Z]})})})}),[]),Xe.useEffect(()=>{if(h!=="system"){G(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:Z})=>{G(Z?"dark":"light")})}catch{Q.addListener(({matches:ae})=>{try{G(ae?"dark":"light")}catch(ee){console.error(ee)}})}},[h]),Xe.useEffect(()=>{V.length<=1&&H(!1)},[V]),Xe.useEffect(()=>{let Q=Z=>{var ae,ee;s.every(oe=>Z[oe]||Z.code===oe)&&(H(!0),(ae=K.current)==null||ae.focus()),Z.code==="Escape"&&(document.activeElement===K.current||(ee=K.current)!=null&&ee.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[s]),Xe.useEffect(()=>{if(K.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,fe.current=!1)}},[K.current]),Xe.createElement("section",{ref:t,"aria-label":`${T} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((Q,Z)=>{var ae;let[ee,oe]=Q.split("-");return V.length?Xe.createElement("ol",{key:Q,dir:I==="auto"?zI():I,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":ee,"data-lifted":R&&V.length>1&&!i,"data-x-position":oe,style:{"--front-toast-height":`${((ae=k[0])==null?void 0:ae.height)||0}px`,"--width":`${Iz}px`,"--gap":`${v}px`,...g,...Lz(A,u)},onBlur:pe=>{fe.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(fe.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,X.current=pe.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{J||H(!1)},onDragEnd:()=>H(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},V.filter(pe=>!pe.position&&Z===0||pe.position===Q).map((pe,Be)=>{var _e,Le;return Xe.createElement(kz,{key:pe.id,icons:F,index:Be,toast:pe,defaultRichColors:m,duration:(_e=C==null?void 0:C.duration)!=null?_e:y,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:b,closeButton:(Le=C==null?void 0:C.closeButton)!=null?Le:o,interacting:J,position:Q,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,removeToast:de,toasts:V.filter(ke=>ke.position==pe.position),heights:k.filter(ke=>ke.position==pe.position),setHeights:z,expandByDefault:i,gap:v,loadingIcon:N,expanded:R,pauseWhenPageIsHidden:D,swipeDirections:e.swipeDirections})})):null}))});let Oz={data:""},Rz=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Oz,Dz=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Uz=/\/\*[^]*?\*\/|  +/g,$I=/\n+/g,_u=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?_u(o,i):i+"{"+_u(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=_u(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,A=>/&/.test(A)?A.replace(/&/g,l):l?l+" "+A:A)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=_u.p?_u.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},rA={},NO=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+NO(e[r]);return t}return e},Mz=(e,t,r,n,s)=>{let i=NO(e),o=rA[i]||(rA[i]=(A=>{let u=0,h=11;for(;u<A.length;)h=101*h+A.charCodeAt(u++)>>>0;return"go"+h})(i));if(!rA[o]){let A=i!==e?e:(u=>{let h,m,y=[{}];for(;h=Dz.exec(u.replace(Uz,""));)h[4]?y.shift():h[3]?(m=h[3].replace($I," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][h[1]]=h[2].replace($I," ").trim();return y[0]})(e);rA[o]=_u(s?{["@keyframes "+o]:A}:A,r?"":"."+o)}let l=r&&rA.g?rA.g:null;return r&&(rA.g=rA[o]),((A,u,h,m)=>{m?u.data=u.data.replace(m,A):u.data.indexOf(A)===-1&&(u.data=h?A+u.data:u.data+A)})(rA[o],t,n,l),o},Qz=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let l=o(r),A=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=A?"."+A:l&&typeof l=="object"?l.props?"":_u(l,""):l===!1?"":l}return n+s+(o??"")},"");function k2(e){let t=this||{},r=e.call?e(t.p):e;return Mz(r.unshift?r.raw?Qz(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,Rz(t.target),t.g,t.o,t.k)}let SO,_4,T4;k2.bind({g:1});let kA=k2.bind({k:1});function Hz(e,t,r,n){_u.p=t,SO=e,_4=r,T4=n}function kd(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let l=Object.assign({},i),A=l.className||s.className;r.p=Object.assign({theme:_4&&_4()},l),r.o=/ *go\d+/.test(A),l.className=k2.apply(r,n)+(A?" "+A:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),T4&&u[0]&&T4(l),SO(u,l)}return s}}var Vz=e=>typeof e=="function",yw=(e,t)=>Vz(e)?e(t):e,Kz=(()=>{let e=0;return()=>(++e).toString()})(),EO=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Gz=20,IO=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Gz)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return IO(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},xy=[],oh={toasts:[],pausedAt:void 0},af=e=>{oh=IO(oh,e),xy.forEach(t=>{t(oh)})},Wz={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zz=(e={})=>{let[t,r]=B.useState(oh),n=B.useRef(oh);B.useEffect(()=>(n.current!==oh&&r(oh),xy.push(r),()=>{let i=xy.indexOf(r);i>-1&&xy.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,l,A;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Wz[i.type],style:{...e.style,...(A=e[i.type])==null?void 0:A.style,...i.style}}});return{...t,toasts:s}},$z=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Kz()}),e1=e=>(t,r)=>{let n=$z(t,e,r);return af({type:2,toast:n}),n.id},er=(e,t)=>e1("blank")(e,t);er.error=e1("error");er.success=e1("success");er.loading=e1("loading");er.custom=e1("custom");er.dismiss=e=>{af({type:3,toastId:e})};er.remove=e=>af({type:4,toastId:e});er.promise=(e,t,r)=>{let n=er.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?yw(t.success,s):void 0;return i?er.success(i,{id:n,...r,...r==null?void 0:r.success}):er.dismiss(n),s}).catch(s=>{let i=t.error?yw(t.error,s):void 0;i?er.error(i,{id:n,...r,...r==null?void 0:r.error}):er.dismiss(n)}),e};var qz=(e,t)=>{af({type:1,toast:{id:e,height:t}})},Xz=()=>{af({type:5,time:Date.now()})},Tp=new Map,Yz=1e3,Zz=(e,t=Yz)=>{if(Tp.has(e))return;let r=setTimeout(()=>{Tp.delete(e),af({type:4,toastId:e})},t);Tp.set(e,r)},Jz=e=>{let{toasts:t,pausedAt:r}=zz(e);B.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let A=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(A<0){l.visible&&er.dismiss(l.id);return}return setTimeout(()=>er.dismiss(l.id),A)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=B.useCallback(()=>{r&&af({type:6,time:Date.now()})},[r]),s=B.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:A=8,defaultPosition:u}=o||{},h=t.filter(g=>(g.position||u)===(i.position||u)&&g.height),m=h.findIndex(g=>g.id===i.id),y=h.filter((g,b)=>b<m&&g.visible).length;return h.filter(g=>g.visible).slice(...l?[y+1]:[0,y]).reduce((g,b)=>g+(b.height||0)+A,0)},[t]);return B.useEffect(()=>{t.forEach(i=>{if(i.dismissed)Zz(i.id,i.removeDelay);else{let o=Tp.get(i.id);o&&(clearTimeout(o),Tp.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:qz,startPause:Xz,endPause:n,calculateOffset:s}}},e$=kA`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,t$=kA`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,r$=kA`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,n$=kd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${e$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${t$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${r$} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,s$=kA`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,i$=kd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${s$} 1s linear infinite;
`,a$=kA`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,o$=kA`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,l$=kd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${a$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${o$} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,c$=kd("div")`
  position: absolute;
`,A$=kd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,u$=kA`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,d$=kd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${u$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,h$=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?B.createElement(d$,null,t):t:r==="blank"?null:B.createElement(A$,null,B.createElement(i$,{...n}),r!=="loading"&&B.createElement(c$,null,r==="error"?B.createElement(n$,{...n}):B.createElement(l$,{...n})))},f$=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,m$=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,p$="0%{opacity:0;} 100%{opacity:1;}",g$="0%{opacity:1;} 100%{opacity:0;}",x$=kd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,y$=kd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,w$=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=EO()?[p$,g$]:[f$(r),m$(r)];return{animation:t?`${kA(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${kA(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},v$=B.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?w$(e.position||t||"top-center",e.visible):{opacity:0},i=B.createElement(h$,{toast:e}),o=B.createElement(y$,{...e.ariaProps},yw(e.message,e));return B.createElement(x$,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):B.createElement(B.Fragment,null,i,o))});Hz(B.createElement);var b$=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=B.useCallback(o=>{if(o){let l=()=>{let A=o.getBoundingClientRect().height;n(e,A)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return B.createElement("div",{ref:i,className:t,style:r},s)},C$=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:EO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},B$=k2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ax=16,N$=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:A}=Jz(r);return B.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ax,left:Ax,right:Ax,bottom:Ax,pointerEvents:"none",...i},className:o,onMouseEnter:A.startPause,onMouseLeave:A.endPause},l.map(u=>{let h=u.position||t,m=A.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),y=C$(h,m);return B.createElement(b$,{id:u.id,key:u.id,onHeightUpdate:A.updateHeight,className:u.visible?B$:"",style:y},u.type==="custom"?yw(u.message,u):s?s(u):B.createElement(v$,{toast:u,position:h}))}))},im=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kh=typeof window>"u"||"Deno"in globalThis;function da(){}function S$(e,t){return typeof e=="function"?e(t):e}function k4(e){return typeof e=="number"&&e>=0&&e!==1/0}function FO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function c0(e,t){return typeof e=="function"?e(t):e}function Sl(e,t){return typeof e=="function"?e(t):e}function qI(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==U3(o,t.options))return!1}else if(!dg(t.queryKey,o))return!1}if(r!=="all"){const A=t.isActive();if(r==="active"&&!A||r==="inactive"&&A)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function XI(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Gh(t.options.mutationKey)!==Gh(i))return!1}else if(!dg(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function U3(e,t){return((t==null?void 0:t.queryKeyHashFn)||Gh)(e)}function Gh(e){return JSON.stringify(e,(t,r)=>L4(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function dg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>dg(e[r],t[r])):!1}function jO(e,t){if(e===t)return e;const r=YI(e)&&YI(t);if(r||L4(e)&&L4(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let A=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,A++):(l[h]=jO(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&A++)}return s===o&&A===s?e:l}return t}function ww(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function YI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function L4(e){if(!ZI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ZI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ZI(e){return Object.prototype.toString.call(e)==="[object Object]"}function E$(e){return new Promise(t=>{setTimeout(t,e)})}function P4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?jO(e,t):t}function I$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function F$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var M3=Symbol();function _O(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===M3?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function TO(e,t){return typeof e=="function"?e(...t):!!e}var ph,Lu,v0,eL,j$=(eL=class extends im{constructor(){super();or(this,ph);or(this,Lu);or(this,v0);It(this,v0,t=>{if(!Kh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Fe(this,Lu)||this.setEventListener(Fe(this,v0))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,Lu))==null||t.call(this),It(this,Lu,void 0))}setEventListener(t){var r;It(this,v0,t),(r=Fe(this,Lu))==null||r.call(this),It(this,Lu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Fe(this,ph)!==t&&(It(this,ph,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Fe(this,ph)=="boolean"?Fe(this,ph):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ph=new WeakMap,Lu=new WeakMap,v0=new WeakMap,eL),Q3=new j$,b0,Pu,C0,tL,_$=(tL=class extends im{constructor(){super();or(this,b0,!0);or(this,Pu);or(this,C0);It(this,C0,t=>{if(!Kh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Fe(this,Pu)||this.setEventListener(Fe(this,C0))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,Pu))==null||t.call(this),It(this,Pu,void 0))}setEventListener(t){var r;It(this,C0,t),(r=Fe(this,Pu))==null||r.call(this),It(this,Pu,t(this.setOnline.bind(this)))}setOnline(t){Fe(this,b0)!==t&&(It(this,b0,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Fe(this,b0)}},b0=new WeakMap,Pu=new WeakMap,C0=new WeakMap,tL),vw=new _$;function O4(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function T$(e){return Math.min(1e3*2**e,3e4)}function kO(e){return(e??"online")==="online"?vw.isOnline():!0}var LO=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ub(e){return e instanceof LO}function PO(e){let t=!1,r=0,n=!1,s;const i=O4(),o=C=>{var I;n||(y(new LO(C)),(I=e.abort)==null||I.call(e))},l=()=>{t=!0},A=()=>{t=!1},u=()=>Q3.isFocused()&&(e.networkMode==="always"||vw.isOnline())&&e.canRun(),h=()=>kO(e.networkMode)&&e.canRun(),m=C=>{var I;n||(n=!0,(I=e.onSuccess)==null||I.call(e,C),s==null||s(),i.resolve(C))},y=C=>{var I;n||(n=!0,(I=e.onError)==null||I.call(e,C),s==null||s(),i.reject(C))},g=()=>new Promise(C=>{var I;s=v=>{(n||u())&&C(v)},(I=e.onPause)==null||I.call(e)}).then(()=>{var C;s=void 0,n||(C=e.onContinue)==null||C.call(e)}),b=()=>{if(n)return;let C;const I=r===0?e.initialPromise:void 0;try{C=I??e.fn()}catch(v){C=Promise.reject(v)}Promise.resolve(C).then(m).catch(v=>{var V;if(n)return;const N=e.retry??(Kh?0:3),F=e.retryDelay??T$,T=typeof F=="function"?F(r,v):F,D=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,v);if(t||!D){y(v);return}r++,(V=e.onFail)==null||V.call(e,r,v),E$(T).then(()=>u()?void 0:g()).then(()=>{t?y(v):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:A,canStart:h,start:()=>(h()?b():g().then(b),i)}}var k$=e=>setTimeout(e,0);function L$(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=k$;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(A=>{r(A)})})})};return{batch:l=>{let A;t++;try{A=l()}finally{t--,t||o()}return A},batchCalls:l=>(...A)=>{i(()=>{l(...A)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ys=L$(),gh,rL,OO=(rL=class{constructor(){or(this,gh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),k4(this.gcTime)&&It(this,gh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Kh?1/0:5*60*1e3))}clearGcTimeout(){Fe(this,gh)&&(clearTimeout(Fe(this,gh)),It(this,gh,void 0))}},gh=new WeakMap,rL),B0,N0,Vo,xh,Wi,Kg,yh,bl,cA,nL,P$=(nL=class extends OO{constructor(t){super();or(this,bl);or(this,B0);or(this,N0);or(this,Vo);or(this,xh);or(this,Wi);or(this,Kg);or(this,yh);It(this,yh,!1),It(this,Kg,t.defaultOptions),this.setOptions(t.options),this.observers=[],It(this,xh,t.client),It(this,Vo,Fe(this,xh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,It(this,B0,O$(this.options)),this.state=t.state??Fe(this,B0),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Fe(this,Wi))==null?void 0:t.promise}setOptions(t){this.options={...Fe(this,Kg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Fe(this,Vo).remove(this)}setData(t,r){const n=P4(this.state.data,t,this.options);return Lr(this,bl,cA).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Lr(this,bl,cA).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Fe(this,Wi))==null?void 0:n.promise;return(s=Fe(this,Wi))==null||s.cancel(t),r?r.then(da).catch(da):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Fe(this,B0))}isActive(){return this.observers.some(t=>Sl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===M3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!FO(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Fe(this,Wi))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Fe(this,Wi))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Fe(this,Vo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Fe(this,Wi)&&(Fe(this,yh)?Fe(this,Wi).cancel({revert:!0}):Fe(this,Wi).cancelRetry()),this.scheduleGc()),Fe(this,Vo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lr(this,bl,cA).call(this,{type:"invalidate"})}fetch(t,r){var A,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Fe(this,Wi))return Fe(this,Wi).continueRetry(),Fe(this,Wi).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(It(this,yh,!0),n.signal)})},i=()=>{const m=_O(this.options,r),y={client:Fe(this,xh),queryKey:this.queryKey,meta:this.meta};return s(y),It(this,yh,!1),this.options.persister?this.options.persister(m,y,this):m(y)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Fe(this,xh),state:this.state,fetchFn:i};s(o),(A=this.options.behavior)==null||A.onFetch(o,this),It(this,N0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Lr(this,bl,cA).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=m=>{var y,g,b,C;Ub(m)&&m.silent||Lr(this,bl,cA).call(this,{type:"error",error:m}),Ub(m)||((g=(y=Fe(this,Vo).config).onError)==null||g.call(y,m,this),(C=(b=Fe(this,Vo).config).onSettled)==null||C.call(b,this.state.data,m,this)),this.scheduleGc()};return It(this,Wi,PO({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var y,g,b,C;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(I){l(I);return}(g=(y=Fe(this,Vo).config).onSuccess)==null||g.call(y,m,this),(C=(b=Fe(this,Vo).config).onSettled)==null||C.call(b,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,y)=>{Lr(this,bl,cA).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Lr(this,bl,cA).call(this,{type:"pause"})},onContinue:()=>{Lr(this,bl,cA).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Fe(this,Wi).start()}},B0=new WeakMap,N0=new WeakMap,Vo=new WeakMap,xh=new WeakMap,Wi=new WeakMap,Kg=new WeakMap,yh=new WeakMap,bl=new WeakSet,cA=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...RO(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Ub(s)&&s.revert&&Fe(this,N0)?{...Fe(this,N0),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ys.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Fe(this,Vo).notify({query:this,type:"updated",action:t})})},nL);function RO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kO(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function O$(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var nc,sL,R$=(sL=class extends im{constructor(t={}){super();or(this,nc);this.config=t,It(this,nc,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??U3(s,r);let o=this.get(i);return o||(o=new P$({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Fe(this,nc).has(t.queryHash)||(Fe(this,nc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Fe(this,nc).get(t.queryHash);r&&(t.destroy(),r===t&&Fe(this,nc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ys.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Fe(this,nc).get(t)}getAll(){return[...Fe(this,nc).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>qI(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>qI(t,n)):r}notify(t){Ys.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ys.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ys.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nc=new WeakMap,sL),sc,oa,wh,ic,wu,iL,D$=(iL=class extends OO{constructor(t){super();or(this,ic);or(this,sc);or(this,oa);or(this,wh);this.mutationId=t.mutationId,It(this,oa,t.mutationCache),It(this,sc,[]),this.state=t.state||DO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Fe(this,sc).includes(t)||(Fe(this,sc).push(t),this.clearGcTimeout(),Fe(this,oa).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){It(this,sc,Fe(this,sc).filter(r=>r!==t)),this.scheduleGc(),Fe(this,oa).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Fe(this,sc).length||(this.state.status==="pending"?this.scheduleGc():Fe(this,oa).remove(this))}continue(){var t;return((t=Fe(this,wh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,A,u,h,m,y,g,b,C,I,v,N,F,T,D,V,P,U;const r=()=>{Lr(this,ic,wu).call(this,{type:"continue"})};It(this,wh,PO({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,z)=>{Lr(this,ic,wu).call(this,{type:"failed",failureCount:k,error:z})},onPause:()=>{Lr(this,ic,wu).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Fe(this,oa).canRun(this)}));const n=this.state.status==="pending",s=!Fe(this,wh).canStart();try{if(n)r();else{Lr(this,ic,wu).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=Fe(this,oa).config).onMutate)==null?void 0:o.call(i,t,this));const z=await((A=(l=this.options).onMutate)==null?void 0:A.call(l,t));z!==this.state.context&&Lr(this,ic,wu).call(this,{type:"pending",context:z,variables:t,isPaused:s})}const k=await Fe(this,wh).start();return await((h=(u=Fe(this,oa).config).onSuccess)==null?void 0:h.call(u,k,t,this.state.context,this)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,k,t,this.state.context)),await((b=(g=Fe(this,oa).config).onSettled)==null?void 0:b.call(g,k,null,this.state.variables,this.state.context,this)),await((I=(C=this.options).onSettled)==null?void 0:I.call(C,k,null,t,this.state.context)),Lr(this,ic,wu).call(this,{type:"success",data:k}),k}catch(k){try{throw await((N=(v=Fe(this,oa).config).onError)==null?void 0:N.call(v,k,t,this.state.context,this)),await((T=(F=this.options).onError)==null?void 0:T.call(F,k,t,this.state.context)),await((V=(D=Fe(this,oa).config).onSettled)==null?void 0:V.call(D,void 0,k,this.state.variables,this.state.context,this)),await((U=(P=this.options).onSettled)==null?void 0:U.call(P,void 0,k,t,this.state.context)),k}finally{Lr(this,ic,wu).call(this,{type:"error",error:k})}}finally{Fe(this,oa).runNext(this)}}},sc=new WeakMap,oa=new WeakMap,wh=new WeakMap,ic=new WeakSet,wu=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ys.batch(()=>{Fe(this,sc).forEach(n=>{n.onMutationUpdate(t)}),Fe(this,oa).notify({mutation:this,type:"updated",action:t})})},iL);function DO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mA,Cl,Gg,aL,U$=(aL=class extends im{constructor(t={}){super();or(this,mA);or(this,Cl);or(this,Gg);this.config=t,It(this,mA,new Set),It(this,Cl,new Map),It(this,Gg,0)}build(t,r,n){const s=new D$({mutationCache:this,mutationId:++G1(this,Gg)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){Fe(this,mA).add(t);const r=ux(t);if(typeof r=="string"){const n=Fe(this,Cl).get(r);n?n.push(t):Fe(this,Cl).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Fe(this,mA).delete(t)){const r=ux(t);if(typeof r=="string"){const n=Fe(this,Cl).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&Fe(this,Cl).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ux(t);if(typeof r=="string"){const n=Fe(this,Cl).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=ux(t);if(typeof r=="string"){const s=(n=Fe(this,Cl).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ys.batch(()=>{Fe(this,mA).forEach(t=>{this.notify({type:"removed",mutation:t})}),Fe(this,mA).clear(),Fe(this,Cl).clear()})}getAll(){return Array.from(Fe(this,mA))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>XI(r,n))}findAll(t={}){return this.getAll().filter(r=>XI(t,r))}notify(t){Ys.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ys.batch(()=>Promise.all(t.map(r=>r.continue().catch(da))))}},mA=new WeakMap,Cl=new WeakMap,Gg=new WeakMap,aL);function ux(e){var t;return(t=e.options.scope)==null?void 0:t.id}function JI(e){return{onFetch:(t,r)=>{var h,m,y,g,b;const n=t.options,s=(y=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},A=0;const u=async()=>{let C=!1;const I=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},v=_O(t.options,t.fetchOptions),N=async(F,T,D)=>{if(C)return Promise.reject();if(T==null&&F.pages.length)return Promise.resolve(F);const V={client:t.client,queryKey:t.queryKey,pageParam:T,direction:D?"backward":"forward",meta:t.options.meta};I(V);const P=await v(V),{maxPages:U}=t.options,k=D?F$:I$;return{pages:k(F.pages,P,U),pageParams:k(F.pageParams,T,U)}};if(s&&i.length){const F=s==="backward",T=F?M$:eF,D={pages:i,pageParams:o},V=T(n,D);l=await N(D,V,F)}else{const F=e??i.length;do{const T=A===0?o[0]??n.initialPageParam:eF(n,l);if(A>0&&T==null)break;l=await N(l,T),A++}while(A<F)}return l};t.options.persister?t.fetchFn=()=>{var C,I;return(I=(C=t.options).persister)==null?void 0:I.call(C,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function eF(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function M$(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var vs,Ou,Ru,S0,E0,Du,I0,F0,oL,Q$=(oL=class{constructor(e={}){or(this,vs);or(this,Ou);or(this,Ru);or(this,S0);or(this,E0);or(this,Du);or(this,I0);or(this,F0);It(this,vs,e.queryCache||new R$),It(this,Ou,e.mutationCache||new U$),It(this,Ru,e.defaultOptions||{}),It(this,S0,new Map),It(this,E0,new Map),It(this,Du,0)}mount(){G1(this,Du)._++,Fe(this,Du)===1&&(It(this,I0,Q3.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,vs).onFocus())})),It(this,F0,vw.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,vs).onOnline())})))}unmount(){var e,t;G1(this,Du)._--,Fe(this,Du)===0&&((e=Fe(this,I0))==null||e.call(this),It(this,I0,void 0),(t=Fe(this,F0))==null||t.call(this),It(this,F0,void 0))}isFetching(e){return Fe(this,vs).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Fe(this,Ou).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Fe(this,vs).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Fe(this,vs).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(c0(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Fe(this,vs).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Fe(this,vs).get(n.queryHash),i=s==null?void 0:s.state.data,o=S$(t,i);if(o!==void 0)return Fe(this,vs).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ys.batch(()=>Fe(this,vs).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Fe(this,vs).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Fe(this,vs);Ys.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Fe(this,vs);return Ys.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ys.batch(()=>Fe(this,vs).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(da).catch(da)}invalidateQueries(e,t={}){return Ys.batch(()=>(Fe(this,vs).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ys.batch(()=>Fe(this,vs).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(da)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(da)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Fe(this,vs).build(this,t);return r.isStaleByTime(c0(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(da).catch(da)}fetchInfiniteQuery(e){return e.behavior=JI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(da).catch(da)}ensureInfiniteQueryData(e){return e.behavior=JI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vw.isOnline()?Fe(this,Ou).resumePausedMutations():Promise.resolve()}getQueryCache(){return Fe(this,vs)}getMutationCache(){return Fe(this,Ou)}getDefaultOptions(){return Fe(this,Ru)}setDefaultOptions(e){It(this,Ru,e)}setQueryDefaults(e,t){Fe(this,S0).set(Gh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Fe(this,S0).values()],r={};return t.forEach(n=>{dg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Fe(this,E0).set(Gh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Fe(this,E0).values()],r={};return t.forEach(n=>{dg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Fe(this,Ru).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=U3(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===M3&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Fe(this,Ru).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Fe(this,vs).clear(),Fe(this,Ou).clear()}},vs=new WeakMap,Ou=new WeakMap,Ru=new WeakMap,S0=new WeakMap,E0=new WeakMap,Du=new WeakMap,I0=new WeakMap,F0=new WeakMap,oL),_a,qr,Wg,la,vh,j0,Uu,Mu,zg,_0,T0,bh,Ch,Qu,k0,pn,sp,R4,D4,U4,M4,Q4,H4,V4,UO,lL,H$=(lL=class extends im{constructor(t,r){super();or(this,pn);or(this,_a);or(this,qr);or(this,Wg);or(this,la);or(this,vh);or(this,j0);or(this,Uu);or(this,Mu);or(this,zg);or(this,_0);or(this,T0);or(this,bh);or(this,Ch);or(this,Qu);or(this,k0,new Set);this.options=r,It(this,_a,t),It(this,Mu,null),It(this,Uu,O4()),this.options.experimental_prefetchInRender||Fe(this,Uu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Fe(this,qr).addObserver(this),tF(Fe(this,qr),this.options)?Lr(this,pn,sp).call(this):this.updateResult(),Lr(this,pn,M4).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return K4(Fe(this,qr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return K4(Fe(this,qr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Lr(this,pn,Q4).call(this),Lr(this,pn,H4).call(this),Fe(this,qr).removeObserver(this)}setOptions(t){const r=this.options,n=Fe(this,qr);if(this.options=Fe(this,_a).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sl(this.options.enabled,Fe(this,qr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Lr(this,pn,V4).call(this),Fe(this,qr).setOptions(this.options),r._defaulted&&!ww(this.options,r)&&Fe(this,_a).getQueryCache().notify({type:"observerOptionsUpdated",query:Fe(this,qr),observer:this});const s=this.hasListeners();s&&rF(Fe(this,qr),n,this.options,r)&&Lr(this,pn,sp).call(this),this.updateResult(),s&&(Fe(this,qr)!==n||Sl(this.options.enabled,Fe(this,qr))!==Sl(r.enabled,Fe(this,qr))||c0(this.options.staleTime,Fe(this,qr))!==c0(r.staleTime,Fe(this,qr)))&&Lr(this,pn,R4).call(this);const i=Lr(this,pn,D4).call(this);s&&(Fe(this,qr)!==n||Sl(this.options.enabled,Fe(this,qr))!==Sl(r.enabled,Fe(this,qr))||i!==Fe(this,Qu))&&Lr(this,pn,U4).call(this,i)}getOptimisticResult(t){const r=Fe(this,_a).getQueryCache().build(Fe(this,_a),t),n=this.createResult(r,t);return K$(this,n)&&(It(this,la,n),It(this,j0,this.options),It(this,vh,Fe(this,qr).state)),n}getCurrentResult(){return Fe(this,la)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){Fe(this,k0).add(t)}getCurrentQuery(){return Fe(this,qr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Fe(this,_a).defaultQueryOptions(t),n=Fe(this,_a).getQueryCache().build(Fe(this,_a),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Lr(this,pn,sp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Fe(this,la)))}createResult(t,r){var k;const n=Fe(this,qr),s=this.options,i=Fe(this,la),o=Fe(this,vh),l=Fe(this,j0),u=t!==n?t.state:Fe(this,Wg),{state:h}=t;let m={...h},y=!1,g;if(r._optimisticResults){const z=this.hasListeners(),R=!z&&tF(t,r),H=z&&rF(t,n,r,s);(R||H)&&(m={...m,...RO(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:C,status:I}=m;g=m.data;let v=!1;if(r.placeholderData!==void 0&&g===void 0&&I==="pending"){let z;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(z=i.data,v=!0):z=typeof r.placeholderData=="function"?r.placeholderData((k=Fe(this,T0))==null?void 0:k.state.data,Fe(this,T0)):r.placeholderData,z!==void 0&&(I="success",g=P4(i==null?void 0:i.data,z,r),y=!0)}if(r.select&&g!==void 0&&!v)if(i&&g===(o==null?void 0:o.data)&&r.select===Fe(this,zg))g=Fe(this,_0);else try{It(this,zg,r.select),g=r.select(g),g=P4(i==null?void 0:i.data,g,r),It(this,_0,g),It(this,Mu,null)}catch(z){It(this,Mu,z)}Fe(this,Mu)&&(b=Fe(this,Mu),g=Fe(this,_0),C=Date.now(),I="error");const N=m.fetchStatus==="fetching",F=I==="pending",T=I==="error",D=F&&N,V=g!==void 0,U={status:I,fetchStatus:m.fetchStatus,isPending:F,isSuccess:I==="success",isError:T,isInitialLoading:D,isLoading:D,data:g,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:C,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:N,isRefetching:N&&!F,isLoadingError:T&&!V,isPaused:m.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:T&&V,isStale:H3(t,r),refetch:this.refetch,promise:Fe(this,Uu)};if(this.options.experimental_prefetchInRender){const z=J=>{U.status==="error"?J.reject(U.error):U.data!==void 0&&J.resolve(U.data)},R=()=>{const J=It(this,Uu,U.promise=O4());z(J)},H=Fe(this,Uu);switch(H.status){case"pending":t.queryHash===n.queryHash&&z(H);break;case"fulfilled":(U.status==="error"||U.data!==H.value)&&R();break;case"rejected":(U.status!=="error"||U.error!==H.reason)&&R();break}}return U}updateResult(){const t=Fe(this,la),r=this.createResult(Fe(this,qr),this.options);if(It(this,vh,Fe(this,qr).state),It(this,j0,this.options),Fe(this,vh).data!==void 0&&It(this,T0,Fe(this,qr)),ww(r,t))return;It(this,la,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Fe(this,k0).size)return!0;const o=new Set(i??Fe(this,k0));return this.options.throwOnError&&o.add("error"),Object.keys(Fe(this,la)).some(l=>{const A=l;return Fe(this,la)[A]!==t[A]&&o.has(A)})};Lr(this,pn,UO).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Lr(this,pn,M4).call(this)}},_a=new WeakMap,qr=new WeakMap,Wg=new WeakMap,la=new WeakMap,vh=new WeakMap,j0=new WeakMap,Uu=new WeakMap,Mu=new WeakMap,zg=new WeakMap,_0=new WeakMap,T0=new WeakMap,bh=new WeakMap,Ch=new WeakMap,Qu=new WeakMap,k0=new WeakMap,pn=new WeakSet,sp=function(t){Lr(this,pn,V4).call(this);let r=Fe(this,qr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(da)),r},R4=function(){Lr(this,pn,Q4).call(this);const t=c0(this.options.staleTime,Fe(this,qr));if(Kh||Fe(this,la).isStale||!k4(t))return;const n=FO(Fe(this,la).dataUpdatedAt,t)+1;It(this,bh,setTimeout(()=>{Fe(this,la).isStale||this.updateResult()},n))},D4=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Fe(this,qr)):this.options.refetchInterval)??!1},U4=function(t){Lr(this,pn,H4).call(this),It(this,Qu,t),!(Kh||Sl(this.options.enabled,Fe(this,qr))===!1||!k4(Fe(this,Qu))||Fe(this,Qu)===0)&&It(this,Ch,setInterval(()=>{(this.options.refetchIntervalInBackground||Q3.isFocused())&&Lr(this,pn,sp).call(this)},Fe(this,Qu)))},M4=function(){Lr(this,pn,R4).call(this),Lr(this,pn,U4).call(this,Lr(this,pn,D4).call(this))},Q4=function(){Fe(this,bh)&&(clearTimeout(Fe(this,bh)),It(this,bh,void 0))},H4=function(){Fe(this,Ch)&&(clearInterval(Fe(this,Ch)),It(this,Ch,void 0))},V4=function(){const t=Fe(this,_a).getQueryCache().build(Fe(this,_a),this.options);if(t===Fe(this,qr))return;const r=Fe(this,qr);It(this,qr,t),It(this,Wg,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},UO=function(t){Ys.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Fe(this,la))}),Fe(this,_a).getQueryCache().notify({query:Fe(this,qr),type:"observerResultsUpdated"})})},lL);function V$(e,t){return Sl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function tF(e,t){return V$(e,t)||e.state.data!==void 0&&K4(e,t,t.refetchOnMount)}function K4(e,t,r){if(Sl(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&H3(e,t)}return!1}function rF(e,t,r,n){return(e!==t||Sl(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&H3(e,r)}function H3(e,t){return Sl(t.enabled,e)!==!1&&e.isStaleByTime(c0(t.staleTime,e))}function K$(e,t){return!ww(e.getCurrentResult(),t)}var Hu,Vu,Ta,pA,IA,yy,G4,cL,G$=(cL=class extends im{constructor(r,n){super();or(this,IA);or(this,Hu);or(this,Vu);or(this,Ta);or(this,pA);It(this,Hu,r),this.setOptions(n),this.bindMethods(),Lr(this,IA,yy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=Fe(this,Hu).defaultMutationOptions(r),ww(this.options,n)||Fe(this,Hu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Fe(this,Ta),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Gh(n.mutationKey)!==Gh(this.options.mutationKey)?this.reset():((s=Fe(this,Ta))==null?void 0:s.state.status)==="pending"&&Fe(this,Ta).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Fe(this,Ta))==null||r.removeObserver(this)}onMutationUpdate(r){Lr(this,IA,yy).call(this),Lr(this,IA,G4).call(this,r)}getCurrentResult(){return Fe(this,Vu)}reset(){var r;(r=Fe(this,Ta))==null||r.removeObserver(this),It(this,Ta,void 0),Lr(this,IA,yy).call(this),Lr(this,IA,G4).call(this)}mutate(r,n){var s;return It(this,pA,n),(s=Fe(this,Ta))==null||s.removeObserver(this),It(this,Ta,Fe(this,Hu).getMutationCache().build(Fe(this,Hu),this.options)),Fe(this,Ta).addObserver(this),Fe(this,Ta).execute(r)}},Hu=new WeakMap,Vu=new WeakMap,Ta=new WeakMap,pA=new WeakMap,IA=new WeakSet,yy=function(){var n;const r=((n=Fe(this,Ta))==null?void 0:n.state)??DO();It(this,Vu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},G4=function(r){Ys.batch(()=>{var n,s,i,o,l,A,u,h;if(Fe(this,pA)&&this.hasListeners()){const m=Fe(this,Vu).variables,y=Fe(this,Vu).context;(r==null?void 0:r.type)==="success"?((s=(n=Fe(this,pA)).onSuccess)==null||s.call(n,r.data,m,y),(o=(i=Fe(this,pA)).onSettled)==null||o.call(i,r.data,null,m,y)):(r==null?void 0:r.type)==="error"&&((A=(l=Fe(this,pA)).onError)==null||A.call(l,r.error,m,y),(h=(u=Fe(this,pA)).onSettled)==null||h.call(u,void 0,r.error,m,y))}this.listeners.forEach(m=>{m(Fe(this,Vu))})})},cL),MO=B.createContext(void 0),HA=e=>{const t=B.useContext(MO);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},W$=({client:e,children:t})=>(B.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(MO.Provider,{value:e,children:t})),QO=B.createContext(!1),z$=()=>B.useContext(QO);QO.Provider;function $$(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var q$=B.createContext($$()),X$=()=>B.useContext(q$),Y$=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Z$=e=>{B.useEffect(()=>{e.clearReset()},[e])},J$=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||TO(r,[e.error,n])),eq=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},tq=(e,t)=>e.isLoading&&e.isFetching&&!t,rq=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,nF=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function nq(e,t,r){var m,y,g,b,C;const n=HA(),s=z$(),i=X$(),o=n.defaultQueryOptions(e);(y=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||y.call(m,o),o._optimisticResults=s?"isRestoring":"optimistic",eq(o),Y$(o,i),Z$(i);const l=!n.getQueryCache().get(o.queryHash),[A]=B.useState(()=>new t(n,o)),u=A.getOptimisticResult(o),h=!s&&e.subscribed!==!1;if(B.useSyncExternalStore(B.useCallback(I=>{const v=h?A.subscribe(Ys.batchCalls(I)):da;return A.updateResult(),v},[A,h]),()=>A.getCurrentResult(),()=>A.getCurrentResult()),B.useEffect(()=>{A.setOptions(o)},[o,A]),rq(o,u))throw nF(o,A,i);if(J$({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(g=n.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||b.call(g,o,u),o.experimental_prefetchInRender&&!Kh&&tq(u,s)){const I=l?nF(o,A,i):(C=n.getQueryCache().get(o.queryHash))==null?void 0:C.promise;I==null||I.catch(da).finally(()=>{A.updateResult()})}return o.notifyOnChangeProps?u:A.trackResult(u)}function Ll(e,t){return nq(e,H$)}function ma(e,t){const r=HA(),[n]=B.useState(()=>new G$(r,e));B.useEffect(()=>{n.setOptions(e)},[n,e]);const s=B.useSyncExternalStore(B.useCallback(o=>n.subscribe(Ys.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=B.useCallback((o,l)=>{n.mutate(o,l).catch(da)},[n]);if(s.error&&TO(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(this,arguments)}var Wu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wu||(Wu={}));const sF="popstate";function sq(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:A=""}=of(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),W4("",{pathname:o,search:l,hash:A},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let A=s.location.href,u=A.indexOf("#");l=u===-1?A:A.slice(0,u)}return l+"#"+(typeof i=="string"?i:bw(i))}function n(s,i){V3(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return aq(t,r,n,e)}function ds(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function V3(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iq(){return Math.random().toString(36).substr(2,8)}function iF(e,t){return{usr:e.state,key:e.key,idx:t}}function W4(e,t,r,n){return r===void 0&&(r=null),hg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?of(t):t,{state:r,key:t&&t.key||n||iq()})}function bw(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function of(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function aq(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Wu.Pop,A=null,u=h();u==null&&(u=0,o.replaceState(hg({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=Wu.Pop;let I=h(),v=I==null?null:I-u;u=I,A&&A({action:l,location:C.location,delta:v})}function y(I,v){l=Wu.Push;let N=W4(C.location,I,v);r&&r(N,I),u=h()+1;let F=iF(N,u),T=C.createHref(N);try{o.pushState(F,"",T)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(T)}i&&A&&A({action:l,location:C.location,delta:1})}function g(I,v){l=Wu.Replace;let N=W4(C.location,I,v);r&&r(N,I),u=h();let F=iF(N,u),T=C.createHref(N);o.replaceState(F,"",T),i&&A&&A({action:l,location:C.location,delta:0})}function b(I){let v=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof I=="string"?I:bw(I);return N=N.replace(/ $/,"%20"),ds(v,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,v)}let C={get action(){return l},get location(){return e(s,o)},listen(I){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener(sF,m),A=I,()=>{s.removeEventListener(sF,m),A=null}},createHref(I){return t(s,I)},createURL:b,encodeLocation(I){let v=b(I);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:y,replace:g,go(I){return o.go(I)}};return C}var aF;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(aF||(aF={}));function oq(e,t,r){return r===void 0&&(r="/"),lq(e,t,r,!1)}function lq(e,t,r,n){let s=typeof t=="string"?of(t):t,i=H0(s.pathname||"/",r);if(i==null)return null;let o=HO(e);cq(o);let l=null;for(let A=0;l==null&&A<o.length;++A){let u=wq(i);l=xq(o[A],u,n)}return l}function HO(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let A={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};A.relativePath.startsWith("/")&&(ds(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let u=ld([n,A.relativePath]),h=r.concat(A);i.children&&i.children.length>0&&(ds(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),HO(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:pq(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let A of VO(i.path))s(i,o,A)}),t}function VO(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=VO(n.join("/")),l=[];return l.push(...o.map(A=>A===""?i:[i,A].join("/"))),s&&l.push(...o),l.map(A=>e.startsWith("/")&&A===""?"/":A)}function cq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Aq=/^:[\w-]+$/,uq=3,dq=2,hq=1,fq=10,mq=-2,oF=e=>e==="*";function pq(e,t){let r=e.split("/"),n=r.length;return r.some(oF)&&(n+=mq),t&&(n+=dq),r.filter(s=>!oF(s)).reduce((s,i)=>s+(Aq.test(i)?uq:i===""?hq:fq),n)}function gq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function xq(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let A=n[l],u=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Cw({path:A.relativePath,caseSensitive:A.caseSensitive,end:u},h),y=A.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=Cw({path:A.relativePath,caseSensitive:A.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:ld([i,m.pathname]),pathnameBase:Bq(ld([i,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(i=ld([i,m.pathnameBase]))}return o}function Cw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yq(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,h,m)=>{let{paramName:y,isOptional:g}=h;if(y==="*"){let C=l[m]||"";o=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const b=l[m];return g&&!b?u[y]=void 0:u[y]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function yq(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),V3(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,A)=>(n.push({paramName:l,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function wq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return V3(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function H0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function vq(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?of(e):e;return{pathname:r?r.startsWith("/")?r:bq(r,t):t,search:Nq(n),hash:Sq(s)}}function bq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Mb(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function K3(e,t){let r=Cq(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function G3(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=of(e):(s=hg({},e),ds(!s.pathname||!s.pathname.includes("?"),Mb("?","pathname","search",s)),ds(!s.pathname||!s.pathname.includes("#"),Mb("#","pathname","hash",s)),ds(!s.search||!s.search.includes("#"),Mb("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}l=m>=0?t[m]:"/"}let A=vq(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(u||h)&&(A.pathname+="/"),A}const ld=e=>e.join("/").replace(/\/\/+/g,"/"),Bq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Nq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Eq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const KO=["post","put","patch","delete"];new Set(KO);const Iq=["get",...KO];new Set(Iq);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}const L2=B.createContext(null),GO=B.createContext(null),VA=B.createContext(null),P2=B.createContext(null),KA=B.createContext({outlet:null,matches:[],isDataRoute:!1}),WO=B.createContext(null);function Fq(e,t){let{relative:r}=t===void 0?{}:t;am()||ds(!1);let{basename:n,navigator:s}=B.useContext(VA),{hash:i,pathname:o,search:l}=O2(e,{relative:r}),A=o;return n!=="/"&&(A=o==="/"?n:ld([n,o])),s.createHref({pathname:A,search:l,hash:i})}function am(){return B.useContext(P2)!=null}function Ld(){return am()||ds(!1),B.useContext(P2).location}function zO(e){B.useContext(VA).static||B.useLayoutEffect(e)}function Rr(){let{isDataRoute:e}=B.useContext(KA);return e?Hq():jq()}function jq(){am()||ds(!1);let e=B.useContext(L2),{basename:t,future:r,navigator:n}=B.useContext(VA),{matches:s}=B.useContext(KA),{pathname:i}=Ld(),o=JSON.stringify(K3(s,r.v7_relativeSplatPath)),l=B.useRef(!1);return zO(()=>{l.current=!0}),B.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=G3(u,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ld([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,o,i,e])}function GA(){let{matches:e}=B.useContext(KA),t=e[e.length-1];return t?t.params:{}}function O2(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=B.useContext(VA),{matches:s}=B.useContext(KA),{pathname:i}=Ld(),o=JSON.stringify(K3(s,n.v7_relativeSplatPath));return B.useMemo(()=>G3(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function _q(e,t){return Tq(e,t)}function Tq(e,t,r,n){am()||ds(!1);let{navigator:s}=B.useContext(VA),{matches:i}=B.useContext(KA),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let A=o?o.pathnameBase:"/";o&&o.route;let u=Ld(),h;if(t){var m;let I=typeof t=="string"?of(t):t;A==="/"||(m=I.pathname)!=null&&m.startsWith(A)||ds(!1),h=I}else h=u;let y=h.pathname||"/",g=y;if(A!=="/"){let I=A.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(I.length).join("/")}let b=oq(e,{pathname:g}),C=Rq(b&&b.map(I=>Object.assign({},I,{params:Object.assign({},l,I.params),pathname:ld([A,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?A:ld([A,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),i,r,n);return t&&C?B.createElement(P2.Provider,{value:{location:fg({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Wu.Pop}},C):C}function kq(){let e=Qq(),t=Eq(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),r?B.createElement("pre",{style:s},r):null,null)}const Lq=B.createElement(kq,null);class Pq extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?B.createElement(KA.Provider,{value:this.props.routeContext},B.createElement(WO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Oq(e){let{routeContext:t,match:r,children:n}=e,s=B.useContext(L2);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(KA.Provider,{value:t},n)}function Rq(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||ds(!1),o=o.slice(0,Math.min(o.length,h+1))}let A=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:y,errors:g}=r,b=m.route.loader&&y[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||b){A=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,m,y)=>{let g,b=!1,C=null,I=null;r&&(g=l&&m.route.id?l[m.route.id]:void 0,C=m.route.errorElement||Lq,A&&(u<0&&y===0?(b=!0,I=null):u===y&&(b=!0,I=m.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,y+1)),N=()=>{let F;return g?F=C:b?F=I:m.route.Component?F=B.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=h,B.createElement(Oq,{match:m,routeContext:{outlet:h,matches:v,isDataRoute:r!=null},children:F})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?B.createElement(Pq,{location:r.location,revalidation:r.revalidation,component:C,error:g,children:N(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):N()},null)}var $O=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($O||{}),Bw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bw||{});function Dq(e){let t=B.useContext(L2);return t||ds(!1),t}function Uq(e){let t=B.useContext(GO);return t||ds(!1),t}function Mq(e){let t=B.useContext(KA);return t||ds(!1),t}function qO(e){let t=Mq(),r=t.matches[t.matches.length-1];return r.route.id||ds(!1),r.route.id}function Qq(){var e;let t=B.useContext(WO),r=Uq(Bw.UseRouteError),n=qO(Bw.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Hq(){let{router:e}=Dq($O.UseNavigateStable),t=qO(Bw.UseNavigateStable),r=B.useRef(!1);return zO(()=>{r.current=!0}),B.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,fg({fromRouteId:t},i)))},[e,t])}function Vq(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function XO(e){let{to:t,replace:r,state:n,relative:s}=e;am()||ds(!1);let{future:i,static:o}=B.useContext(VA),{matches:l}=B.useContext(KA),{pathname:A}=Ld(),u=Rr(),h=G3(t,K3(l,i.v7_relativeSplatPath),A,s==="path"),m=JSON.stringify(h);return B.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function hr(e){ds(!1)}function Kq(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Wu.Pop,navigator:i,static:o=!1,future:l}=e;am()&&ds(!1);let A=t.replace(/^\/*/,"/"),u=B.useMemo(()=>({basename:A,navigator:i,static:o,future:fg({v7_relativeSplatPath:!1},l)}),[A,l,i,o]);typeof n=="string"&&(n=of(n));let{pathname:h="/",search:m="",hash:y="",state:g=null,key:b="default"}=n,C=B.useMemo(()=>{let I=H0(h,A);return I==null?null:{location:{pathname:I,search:m,hash:y,state:g,key:b},navigationType:s}},[A,h,m,y,g,b,s]);return C==null?null:B.createElement(VA.Provider,{value:u},B.createElement(P2.Provider,{children:r,value:C}))}function Gq(e){let{children:t,location:r}=e;return _q(z4(t),r)}new Promise(()=>{});function z4(e,t){t===void 0&&(t=[]);let r=[];return B.Children.forEach(e,(n,s)=>{if(!B.isValidElement(n))return;let i=[...t,s];if(n.type===B.Fragment){r.push.apply(r,z4(n.props.children,i));return}n.type!==hr&&ds(!1),!n.props.index||!n.props.children||ds(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=z4(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(this,arguments)}function YO(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Wq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zq(e,t){return e.button===0&&(!t||t==="_self")&&!Wq(e)}function $4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function $q(e,t){let r=$4(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const qq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xq=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Yq="6";try{window.__reactRouterVersion=Yq}catch{}const Zq=B.createContext({isTransitioning:!1}),Jq="startTransition",lF=L0[Jq];function eX(e){let{basename:t,children:r,future:n,window:s}=e,i=B.useRef();i.current==null&&(i.current=sq({window:s,v5Compat:!0}));let o=i.current,[l,A]=B.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},h=B.useCallback(m=>{u&&lF?lF(()=>A(m)):A(m)},[A,u]);return B.useLayoutEffect(()=>o.listen(h),[o,h]),B.useEffect(()=>Vq(n),[n]),B.createElement(Kq,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const tX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yr=B.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:A,to:u,preventScrollReset:h,viewTransition:m}=t,y=YO(t,qq),{basename:g}=B.useContext(VA),b,C=!1;if(typeof u=="string"&&rX.test(u)&&(b=u,tX))try{let F=new URL(window.location.href),T=u.startsWith("//")?new URL(F.protocol+u):new URL(u),D=H0(T.pathname,g);T.origin===F.origin&&D!=null?u=D+T.search+T.hash:C=!0}catch{}let I=Fq(u,{relative:s}),v=iX(u,{replace:o,state:l,target:A,preventScrollReset:h,relative:s,viewTransition:m});function N(F){n&&n(F),F.defaultPrevented||v(F)}return B.createElement("a",Nw({},y,{href:b||I,onClick:C||i?n:N,ref:r,target:A}))}),nX=B.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:A,viewTransition:u,children:h}=t,m=YO(t,Xq),y=O2(A,{relative:m.relative}),g=Ld(),b=B.useContext(GO),{navigator:C,basename:I}=B.useContext(VA),v=b!=null&&aX(y)&&u===!0,N=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,F=g.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(F=F.toLowerCase(),T=T?T.toLowerCase():null,N=N.toLowerCase()),T&&I&&(T=H0(T,I)||T);const D=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let V=F===N||!o&&F.startsWith(N)&&F.charAt(D)==="/",P=T!=null&&(T===N||!o&&T.startsWith(N)&&T.charAt(N.length)==="/"),U={isActive:V,isPending:P,isTransitioning:v},k=V?n:void 0,z;typeof i=="function"?z=i(U):z=[i,V?"active":null,P?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(U):l;return B.createElement(Yr,Nw({},m,{"aria-current":k,className:z,ref:r,style:R,to:A,viewTransition:u}),typeof h=="function"?h(U):h)});var q4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(q4||(q4={}));var cF;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cF||(cF={}));function sX(e){let t=B.useContext(L2);return t||ds(!1),t}function iX(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,A=Rr(),u=Ld(),h=O2(e,{relative:o});return B.useCallback(m=>{if(zq(m,r)){m.preventDefault();let y=n!==void 0?n:bw(u)===bw(h);A(e,{replace:y,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,A,h,n,s,r,e,i,o,l])}function W3(e){let t=B.useRef($4(e)),r=B.useRef(!1),n=Ld(),s=B.useMemo(()=>$q(n.search,r.current?null:t.current),[n.search]),i=Rr(),o=B.useCallback((l,A)=>{const u=$4(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,A)},[i,s]);return[s,o]}function aX(e,t){t===void 0&&(t={});let r=B.useContext(Zq);r==null&&ds(!1);let{basename:n}=sX(q4.useViewTransitionState),s=O2(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=H0(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=H0(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Cw(s.pathname,o)!=null||Cw(s.pathname,i)!=null}function Ir(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function oX(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ZO(...e){return t=>e.forEach(r=>oX(r,t))}function Jn(...e){return B.useCallback(ZO(...e),e)}function lX(e,t){const r=B.createContext(t),n=i=>{const{children:o,...l}=i,A=B.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:A,children:o})};n.displayName=e+"Provider";function s(i){const o=B.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function t1(e,t=[]){let r=[];function n(i,o){const l=B.createContext(o),A=r.length;r=[...r,o];const u=m=>{var v;const{scope:y,children:g,...b}=m,C=((v=y==null?void 0:y[e])==null?void 0:v[A])||l,I=B.useMemo(()=>b,Object.values(b));return a.jsx(C.Provider,{value:I,children:g})};u.displayName=i+"Provider";function h(m,y){var C;const g=((C=y==null?void 0:y[e])==null?void 0:C[A])||l,b=B.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=r.map(o=>B.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return B.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,cX(s,...t)]}function cX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:A,scopeName:u})=>{const m=A(i)[`__scope${u}`];return{...l,...m}},{});return B.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Wh=B.forwardRef((e,t)=>{const{children:r,...n}=e,s=B.Children.toArray(r),i=s.find(AX);if(i){const o=i.props.children,l=s.map(A=>A===i?B.Children.count(o)>1?B.Children.only(null):B.isValidElement(o)?o.props.children:null:A);return a.jsx(X4,{...n,ref:t,children:B.isValidElement(o)?B.cloneElement(o,void 0,l):null})}return a.jsx(X4,{...n,ref:t,children:r})});Wh.displayName="Slot";var X4=B.forwardRef((e,t)=>{const{children:r,...n}=e;if(B.isValidElement(r)){const s=dX(r);return B.cloneElement(r,{...uX(n,r.props),ref:t?ZO(t,s):s})}return B.Children.count(r)>1?B.Children.only(null):null});X4.displayName="SlotClone";var JO=({children:e})=>a.jsx(a.Fragment,{children:e});function AX(e){return B.isValidElement(e)&&e.type===JO}function uX(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function dX(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var hX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Zr=hX.reduce((e,t)=>{const r=B.forwardRef((n,s)=>{const{asChild:i,...o}=n,l=i?Wh:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function fX(e,t){e&&Td.flushSync(()=>e.dispatchEvent(t))}function Nc(e){const t=B.useRef(e);return B.useEffect(()=>{t.current=e}),B.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function mX(e,t=globalThis==null?void 0:globalThis.document){const r=Nc(e);B.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var pX="DismissableLayer",Y4="dismissableLayer.update",gX="dismissableLayer.pointerDownOutside",xX="dismissableLayer.focusOutside",AF,e7=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),R2=B.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...A}=e,u=B.useContext(e7),[h,m]=B.useState(null),y=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=B.useState({}),b=Jn(t,P=>m(P)),C=Array.from(u.layers),[I]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=C.indexOf(I),N=h?C.indexOf(h):-1,F=u.layersWithOutsidePointerEventsDisabled.size>0,T=N>=v,D=vX(P=>{const U=P.target,k=[...u.branches].some(z=>z.contains(U));!T||k||(s==null||s(P),o==null||o(P),P.defaultPrevented||l==null||l())},y),V=bX(P=>{const U=P.target;[...u.branches].some(z=>z.contains(U))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},y);return mX(P=>{N===u.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},y),B.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(AF=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),uF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=AF)}},[h,y,r,u]),B.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),uF())},[h,u]),B.useEffect(()=>{const P=()=>g({});return document.addEventListener(Y4,P),()=>document.removeEventListener(Y4,P)},[]),a.jsx(Zr.div,{...A,ref:b,style:{pointerEvents:F?T?"auto":"none":void 0,...e.style},onFocusCapture:Ir(e.onFocusCapture,V.onFocusCapture),onBlurCapture:Ir(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Ir(e.onPointerDownCapture,D.onPointerDownCapture)})});R2.displayName=pX;var yX="DismissableLayerBranch",wX=B.forwardRef((e,t)=>{const r=B.useContext(e7),n=B.useRef(null),s=Jn(t,n);return B.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Zr.div,{...e,ref:s})});wX.displayName=yX;function vX(e,t=globalThis==null?void 0:globalThis.document){const r=Nc(e),n=B.useRef(!1),s=B.useRef(()=>{});return B.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let A=function(){t7(gX,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=A,t.addEventListener("click",s.current,{once:!0})):A()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function bX(e,t=globalThis==null?void 0:globalThis.document){const r=Nc(e),n=B.useRef(!1);return B.useEffect(()=>{const s=i=>{i.target&&!n.current&&t7(xX,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function uF(){const e=new CustomEvent(Y4);document.dispatchEvent(e)}function t7(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?fX(s,i):s.dispatchEvent(i)}var wa=globalThis!=null&&globalThis.document?B.useLayoutEffect:()=>{},CX=L0.useId||(()=>{}),BX=0;function BA(e){const[t,r]=B.useState(CX());return wa(()=>{r(n=>n??String(BX++))},[e]),t?`radix-${t}`:""}const NX=["top","right","bottom","left"],yd=Math.min,fo=Math.max,Sw=Math.round,dx=Math.floor,wd=e=>({x:e,y:e}),SX={left:"right",right:"left",bottom:"top",top:"bottom"},EX={start:"end",end:"start"};function Z4(e,t,r){return fo(e,yd(t,r))}function LA(e,t){return typeof e=="function"?e(t):e}function PA(e){return e.split("-")[0]}function om(e){return e.split("-")[1]}function z3(e){return e==="x"?"y":"x"}function $3(e){return e==="y"?"height":"width"}function vd(e){return["top","bottom"].includes(PA(e))?"y":"x"}function q3(e){return z3(vd(e))}function IX(e,t,r){r===void 0&&(r=!1);const n=om(e),s=q3(e),i=$3(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ew(o)),[o,Ew(o)]}function FX(e){const t=Ew(e);return[J4(e),t,J4(t)]}function J4(e){return e.replace(/start|end/g,t=>EX[t])}function jX(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function _X(e,t,r,n){const s=om(e);let i=jX(PA(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(J4)))),i}function Ew(e){return e.replace(/left|right|bottom|top/g,t=>SX[t])}function TX(e){return{top:0,right:0,bottom:0,left:0,...e}}function r7(e){return typeof e!="number"?TX(e):{top:e,right:e,bottom:e,left:e}}function Iw(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function dF(e,t,r){let{reference:n,floating:s}=e;const i=vd(t),o=q3(t),l=$3(o),A=PA(t),u=i==="y",h=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,y=n[l]/2-s[l]/2;let g;switch(A){case"top":g={x:h,y:n.y-s.height};break;case"bottom":g={x:h,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:m};break;case"left":g={x:n.x-s.width,y:m};break;default:g={x:n.x,y:n.y}}switch(om(t)){case"start":g[o]-=y*(r&&u?-1:1);break;case"end":g[o]+=y*(r&&u?-1:1);break}return g}const kX=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),A=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:m}=dF(u,n,A),y=n,g={},b=0;for(let C=0;C<l.length;C++){const{name:I,fn:v}=l[C],{x:N,y:F,data:T,reset:D}=await v({x:h,y:m,initialPlacement:n,placement:y,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:e,floating:t}});h=N??h,m=F??m,g={...g,[I]:{...g[I],...T}},D&&b<=50&&(b++,typeof D=="object"&&(D.placement&&(y=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):D.rects),{x:h,y:m}=dF(u,y,A)),C=-1)}return{x:h,y:m,placement:y,strategy:s,middlewareData:g}};async function mg(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:A}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:y=!1,padding:g=0}=LA(t,e),b=r7(g),I=l[y?m==="floating"?"reference":"floating":m],v=Iw(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(I)))==null||r?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:A})),N=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,F=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),T=await(i.isElement==null?void 0:i.isElement(F))?await(i.getScale==null?void 0:i.getScale(F))||{x:1,y:1}:{x:1,y:1},D=Iw(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:F,strategy:A}):N);return{top:(v.top-D.top+b.top)/T.y,bottom:(D.bottom-v.bottom+b.bottom)/T.y,left:(v.left-D.left+b.left)/T.x,right:(D.right-v.right+b.right)/T.x}}const LX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:A}=t,{element:u,padding:h=0}=LA(e,t)||{};if(u==null)return{};const m=r7(h),y={x:r,y:n},g=q3(s),b=$3(g),C=await o.getDimensions(u),I=g==="y",v=I?"top":"left",N=I?"bottom":"right",F=I?"clientHeight":"clientWidth",T=i.reference[b]+i.reference[g]-y[g]-i.floating[b],D=y[g]-i.reference[g],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=V?V[F]:0;(!P||!await(o.isElement==null?void 0:o.isElement(V)))&&(P=l.floating[F]||i.floating[b]);const U=T/2-D/2,k=P/2-C[b]/2-1,z=yd(m[v],k),R=yd(m[N],k),H=z,J=P-C[b]-R,ne=P/2-C[b]/2+U,Y=Z4(H,ne,J),G=!A.arrow&&om(s)!=null&&ne!==Y&&i.reference[b]/2-(ne<H?z:R)-C[b]/2<0,K=G?ne<H?ne-H:ne-J:0;return{[g]:y[g]+K,data:{[g]:Y,centerOffset:ne-Y-K,...G&&{alignmentOffset:K}},reset:G}}}),PX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:A,elements:u}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:C=!0,...I}=LA(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=PA(s),N=vd(l),F=PA(l)===l,T=await(A.isRTL==null?void 0:A.isRTL(u.floating)),D=y||(F||!C?[Ew(l)]:FX(l)),V=b!=="none";!y&&V&&D.push(..._X(l,C,b,T));const P=[l,...D],U=await mg(t,I),k=[];let z=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&k.push(U[v]),m){const ne=IX(s,o,T);k.push(U[ne[0]],U[ne[1]])}if(z=[...z,{placement:s,overflows:k}],!k.every(ne=>ne<=0)){var R,H;const ne=(((R=i.flip)==null?void 0:R.index)||0)+1,Y=P[ne];if(Y)return{data:{index:ne,overflows:z},reset:{placement:Y}};let G=(H=z.filter(K=>K.overflows[0]<=0).sort((K,q)=>K.overflows[1]-q.overflows[1])[0])==null?void 0:H.placement;if(!G)switch(g){case"bestFit":{var J;const K=(J=z.filter(q=>{if(V){const X=vd(q.placement);return X===N||X==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(X=>X>0).reduce((X,fe)=>X+fe,0)]).sort((q,X)=>q[1]-X[1])[0])==null?void 0:J[0];K&&(G=K);break}case"initialPlacement":G=l;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function hF(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fF(e){return NX.some(t=>e[t]>=0)}const OX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=LA(e,t);switch(n){case"referenceHidden":{const i=await mg(t,{...s,elementContext:"reference"}),o=hF(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:fF(o)}}}case"escaped":{const i=await mg(t,{...s,altBoundary:!0}),o=hF(i,r.floating);return{data:{escapedOffsets:o,escaped:fF(o)}}}default:return{}}}}};async function RX(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=PA(r),l=om(r),A=vd(r)==="y",u=["left","top"].includes(o)?-1:1,h=i&&A?-1:1,m=LA(t,e);let{mainAxis:y,crossAxis:g,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),A?{x:g*h,y:y*u}:{x:y*u,y:g*h}}const DX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,A=await RX(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+A.x,y:i+A.y,data:{...A,placement:o}}}}},UX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:I=>{let{x:v,y:N}=I;return{x:v,y:N}}},...A}=LA(e,t),u={x:r,y:n},h=await mg(t,A),m=vd(PA(s)),y=z3(m);let g=u[y],b=u[m];if(i){const I=y==="y"?"top":"left",v=y==="y"?"bottom":"right",N=g+h[I],F=g-h[v];g=Z4(N,g,F)}if(o){const I=m==="y"?"top":"left",v=m==="y"?"bottom":"right",N=b+h[I],F=b-h[v];b=Z4(N,b,F)}const C=l.fn({...t,[y]:g,[m]:b});return{...C,data:{x:C.x-r,y:C.y-n,enabled:{[y]:i,[m]:o}}}}}},MX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:A=!0,crossAxis:u=!0}=LA(e,t),h={x:r,y:n},m=vd(s),y=z3(m);let g=h[y],b=h[m];const C=LA(l,t),I=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(A){const F=y==="y"?"height":"width",T=i.reference[y]-i.floating[F]+I.mainAxis,D=i.reference[y]+i.reference[F]-I.mainAxis;g<T?g=T:g>D&&(g=D)}if(u){var v,N;const F=y==="y"?"width":"height",T=["top","left"].includes(PA(s)),D=i.reference[m]-i.floating[F]+(T&&((v=o.offset)==null?void 0:v[m])||0)+(T?0:I.crossAxis),V=i.reference[m]+i.reference[F]+(T?0:((N=o.offset)==null?void 0:N[m])||0)-(T?I.crossAxis:0);b<D?b=D:b>V&&(b=V)}return{[y]:g,[m]:b}}}},QX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:A=()=>{},...u}=LA(e,t),h=await mg(t,u),m=PA(s),y=om(s),g=vd(s)==="y",{width:b,height:C}=i.floating;let I,v;m==="top"||m==="bottom"?(I=m,v=y===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,I=y==="end"?"top":"bottom");const N=C-h.top-h.bottom,F=b-h.left-h.right,T=yd(C-h[I],N),D=yd(b-h[v],F),V=!t.middlewareData.shift;let P=T,U=D;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(U=F),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=N),V&&!y){const z=fo(h.left,0),R=fo(h.right,0),H=fo(h.top,0),J=fo(h.bottom,0);g?U=b-2*(z!==0||R!==0?z+R:fo(h.left,h.right)):P=C-2*(H!==0||J!==0?H+J:fo(h.top,h.bottom))}await A({...t,availableWidth:U,availableHeight:P});const k=await o.getDimensions(l.floating);return b!==k.width||C!==k.height?{reset:{rects:!0}}:{}}}};function D2(){return typeof window<"u"}function lm(e){return n7(e)?(e.nodeName||"").toLowerCase():"#document"}function yo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tc(e){var t;return(t=(n7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function n7(e){return D2()?e instanceof Node||e instanceof yo(e).Node:!1}function Pl(e){return D2()?e instanceof Element||e instanceof yo(e).Element:!1}function Sc(e){return D2()?e instanceof HTMLElement||e instanceof yo(e).HTMLElement:!1}function mF(e){return!D2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof yo(e).ShadowRoot}function r1(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ol(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function HX(e){return["table","td","th"].includes(lm(e))}function U2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function X3(e){const t=Y3(),r=Pl(e)?Ol(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function VX(e){let t=bd(e);for(;Sc(t)&&!V0(t);){if(X3(t))return t;if(U2(t))return null;t=bd(t)}return null}function Y3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function V0(e){return["html","body","#document"].includes(lm(e))}function Ol(e){return yo(e).getComputedStyle(e)}function M2(e){return Pl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bd(e){if(lm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mF(e)&&e.host||Tc(e);return mF(t)?t.host:t}function s7(e){const t=bd(e);return V0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sc(t)&&r1(t)?t:s7(t)}function pg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=s7(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=yo(s);if(i){const l=eB(o);return t.concat(o,o.visualViewport||[],r1(s)?s:[],l&&r?pg(l):[])}return t.concat(s,pg(s,[],r))}function eB(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function i7(e){const t=Ol(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Sc(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Sw(r)!==i||Sw(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Z3(e){return Pl(e)?e:e.contextElement}function A0(e){const t=Z3(e);if(!Sc(t))return wd(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=i7(t);let o=(i?Sw(r.width):r.width)/n,l=(i?Sw(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const KX=wd(0);function a7(e){const t=yo(e);return!Y3()||!t.visualViewport?KX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==yo(e)?!1:t}function zh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Z3(e);let o=wd(1);t&&(n?Pl(n)&&(o=A0(n)):o=A0(e));const l=GX(i,r,n)?a7(i):wd(0);let A=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(i){const y=yo(i),g=n&&Pl(n)?yo(n):n;let b=y,C=eB(b);for(;C&&n&&g!==b;){const I=A0(C),v=C.getBoundingClientRect(),N=Ol(C),F=v.left+(C.clientLeft+parseFloat(N.paddingLeft))*I.x,T=v.top+(C.clientTop+parseFloat(N.paddingTop))*I.y;A*=I.x,u*=I.y,h*=I.x,m*=I.y,A+=F,u+=T,b=yo(C),C=eB(b)}}return Iw({width:h,height:m,x:A,y:u})}function WX(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Tc(n),l=t?U2(t.floating):!1;if(n===o||l&&i)return r;let A={scrollLeft:0,scrollTop:0},u=wd(1);const h=wd(0),m=Sc(n);if((m||!m&&!i)&&((lm(n)!=="body"||r1(o))&&(A=M2(n)),Sc(n))){const y=zh(n);u=A0(n),h.x=y.x+n.clientLeft,h.y=y.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-A.scrollLeft*u.x+h.x,y:r.y*u.y-A.scrollTop*u.y+h.y}}function zX(e){return Array.from(e.getClientRects())}function tB(e,t){const r=M2(e).scrollLeft;return t?t.left+r:zh(Tc(e)).left+r}function $X(e){const t=Tc(e),r=M2(e),n=e.ownerDocument.body,s=fo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=fo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+tB(e);const l=-r.scrollTop;return Ol(n).direction==="rtl"&&(o+=fo(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function qX(e,t){const r=yo(e),n=Tc(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,A=0;if(s){i=s.width,o=s.height;const u=Y3();(!u||u&&t==="fixed")&&(l=s.offsetLeft,A=s.offsetTop)}return{width:i,height:o,x:l,y:A}}function XX(e,t){const r=zh(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Sc(e)?A0(e):wd(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,A=s*i.x,u=n*i.y;return{width:o,height:l,x:A,y:u}}function pF(e,t,r){let n;if(t==="viewport")n=qX(e,r);else if(t==="document")n=$X(Tc(e));else if(Pl(t))n=XX(t,r);else{const s=a7(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Iw(n)}function o7(e,t){const r=bd(e);return r===t||!Pl(r)||V0(r)?!1:Ol(r).position==="fixed"||o7(r,t)}function YX(e,t){const r=t.get(e);if(r)return r;let n=pg(e,[],!1).filter(l=>Pl(l)&&lm(l)!=="body"),s=null;const i=Ol(e).position==="fixed";let o=i?bd(e):e;for(;Pl(o)&&!V0(o);){const l=Ol(o),A=X3(o);!A&&l.position==="fixed"&&(s=null),(i?!A&&!s:!A&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||r1(o)&&!A&&o7(e,o))?n=n.filter(h=>h!==o):s=l,o=bd(o)}return t.set(e,n),n}function ZX(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?U2(t)?[]:YX(t,this._c):[].concat(r),n],l=o[0],A=o.reduce((u,h)=>{const m=pF(t,h,s);return u.top=fo(m.top,u.top),u.right=yd(m.right,u.right),u.bottom=yd(m.bottom,u.bottom),u.left=fo(m.left,u.left),u},pF(t,l,s));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}}function JX(e){const{width:t,height:r}=i7(e);return{width:t,height:r}}function eY(e,t,r){const n=Sc(t),s=Tc(t),i=r==="fixed",o=zh(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const A=wd(0);if(n||!n&&!i)if((lm(t)!=="body"||r1(s))&&(l=M2(t)),n){const g=zh(t,!0,i,t);A.x=g.x+t.clientLeft,A.y=g.y+t.clientTop}else s&&(A.x=tB(s));let u=0,h=0;if(s&&!n&&!i){const g=s.getBoundingClientRect();h=g.top+l.scrollTop,u=g.left+l.scrollLeft-tB(s,g)}const m=o.left+l.scrollLeft-A.x-u,y=o.top+l.scrollTop-A.y-h;return{x:m,y,width:o.width,height:o.height}}function Qb(e){return Ol(e).position==="static"}function gF(e,t){if(!Sc(e)||Ol(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Tc(e)===r&&(r=r.ownerDocument.body),r}function l7(e,t){const r=yo(e);if(U2(e))return r;if(!Sc(e)){let s=bd(e);for(;s&&!V0(s);){if(Pl(s)&&!Qb(s))return s;s=bd(s)}return r}let n=gF(e,t);for(;n&&HX(n)&&Qb(n);)n=gF(n,t);return n&&V0(n)&&Qb(n)&&!X3(n)?r:n||VX(e)||r}const tY=async function(e){const t=this.getOffsetParent||l7,r=this.getDimensions,n=await r(e.floating);return{reference:eY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function rY(e){return Ol(e).direction==="rtl"}const nY={convertOffsetParentRelativeRectToViewportRelativeRect:WX,getDocumentElement:Tc,getClippingRect:ZX,getOffsetParent:l7,getElementRects:tY,getClientRects:zX,getDimensions:JX,getScale:A0,isElement:Pl,isRTL:rY};function sY(e,t){let r=null,n;const s=Tc(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,A){l===void 0&&(l=!1),A===void 0&&(A=1),i();const{left:u,top:h,width:m,height:y}=e.getBoundingClientRect();if(l||t(),!m||!y)return;const g=dx(h),b=dx(s.clientWidth-(u+m)),C=dx(s.clientHeight-(h+y)),I=dx(u),N={rootMargin:-g+"px "+-b+"px "+-C+"px "+-I+"px",threshold:fo(0,yd(1,A))||1};let F=!0;function T(D){const V=D[0].intersectionRatio;if(V!==A){if(!F)return o();V?o(!1,V):n=setTimeout(()=>{o(!1,1e-7)},1e3)}F=!1}try{r=new IntersectionObserver(T,{...N,root:s.ownerDocument})}catch{r=new IntersectionObserver(T,N)}r.observe(e)}return o(!0),i}function c7(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:A=!1}=n,u=Z3(e),h=s||i?[...u?pg(u):[],...pg(t)]:[];h.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const m=u&&l?sY(u,r):null;let y=-1,g=null;o&&(g=new ResizeObserver(v=>{let[N]=v;N&&N.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var F;(F=g)==null||F.observe(t)})),r()}),u&&!A&&g.observe(u),g.observe(t));let b,C=A?zh(e):null;A&&I();function I(){const v=zh(e);C&&(v.x!==C.x||v.y!==C.y||v.width!==C.width||v.height!==C.height)&&r(),C=v,b=requestAnimationFrame(I)}return r(),()=>{var v;h.forEach(N=>{s&&N.removeEventListener("scroll",r),i&&N.removeEventListener("resize",r)}),m==null||m(),(v=g)==null||v.disconnect(),g=null,A&&cancelAnimationFrame(b)}}const iY=DX,aY=UX,oY=PX,lY=QX,cY=OX,xF=LX,AY=MX,uY=(e,t,r)=>{const n=new Map,s={platform:nY,...r},i={...s.platform,_c:n};return kX(e,t,{...s,platform:i})};var wy=typeof document<"u"?B.useLayoutEffect:B.useEffect;function Fw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Fw(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Fw(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function A7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yF(e,t){const r=A7(e);return Math.round(t*r)/r}function Hb(e){const t=B.useRef(e);return wy(()=>{t.current=e}),t}function dY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:A,open:u}=e,[h,m]=B.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,g]=B.useState(n);Fw(y,n)||g(n);const[b,C]=B.useState(null),[I,v]=B.useState(null),N=B.useCallback(q=>{q!==V.current&&(V.current=q,C(q))},[]),F=B.useCallback(q=>{q!==P.current&&(P.current=q,v(q))},[]),T=i||b,D=o||I,V=B.useRef(null),P=B.useRef(null),U=B.useRef(h),k=A!=null,z=Hb(A),R=Hb(s),H=Hb(u),J=B.useCallback(()=>{if(!V.current||!P.current)return;const q={placement:t,strategy:r,middleware:y};R.current&&(q.platform=R.current),uY(V.current,P.current,q).then(X=>{const fe={...X,isPositioned:H.current!==!1};ne.current&&!Fw(U.current,fe)&&(U.current=fe,Td.flushSync(()=>{m(fe)}))})},[y,t,r,R,H]);wy(()=>{u===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,m(q=>({...q,isPositioned:!1})))},[u]);const ne=B.useRef(!1);wy(()=>(ne.current=!0,()=>{ne.current=!1}),[]),wy(()=>{if(T&&(V.current=T),D&&(P.current=D),T&&D){if(z.current)return z.current(T,D,J);J()}},[T,D,J,z,k]);const Y=B.useMemo(()=>({reference:V,floating:P,setReference:N,setFloating:F}),[N,F]),G=B.useMemo(()=>({reference:T,floating:D}),[T,D]),K=B.useMemo(()=>{const q={position:r,left:0,top:0};if(!G.floating)return q;const X=yF(G.floating,h.x),fe=yF(G.floating,h.y);return l?{...q,transform:"translate("+X+"px, "+fe+"px)",...A7(G.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:fe}},[r,l,G.floating,h.x,h.y]);return B.useMemo(()=>({...h,update:J,refs:Y,elements:G,floatingStyles:K}),[h,J,Y,G,K])}const hY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?xF({element:n.current,padding:s}).fn(r):{}:n?xF({element:n,padding:s}).fn(r):{}}}},fY=(e,t)=>({...iY(e),options:[e,t]}),mY=(e,t)=>({...aY(e),options:[e,t]}),pY=(e,t)=>({...AY(e),options:[e,t]}),gY=(e,t)=>({...oY(e),options:[e,t]}),xY=(e,t)=>({...lY(e),options:[e,t]}),yY=(e,t)=>({...cY(e),options:[e,t]}),wY=(e,t)=>({...hY(e),options:[e,t]});var vY="Arrow",u7=B.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Zr.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});u7.displayName=vY;var bY=u7;function CY(e,t=[]){let r=[];function n(i,o){const l=B.createContext(o),A=r.length;r=[...r,o];function u(m){const{scope:y,children:g,...b}=m,C=(y==null?void 0:y[e][A])||l,I=B.useMemo(()=>b,Object.values(b));return a.jsx(C.Provider,{value:I,children:g})}function h(m,y){const g=(y==null?void 0:y[e][A])||l,b=B.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>B.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return B.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,BY(s,...t)]}function BY(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:A,scopeName:u})=>{const m=A(i)[`__scope${u}`];return{...l,...m}},{});return B.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function d7(e){const[t,r]=B.useState(void 0);return wa(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const A=i.borderBoxSize,u=Array.isArray(A)?A[0]:A;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var J3="Popper",[h7,Q2]=CY(J3),[NY,f7]=h7(J3),m7=e=>{const{__scopePopper:t,children:r}=e,[n,s]=B.useState(null);return a.jsx(NY,{scope:t,anchor:n,onAnchorChange:s,children:r})};m7.displayName=J3;var p7="PopperAnchor",g7=B.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=f7(p7,r),o=B.useRef(null),l=Jn(t,o);return B.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Zr.div,{...s,ref:l})});g7.displayName=p7;var eS="PopperContent",[SY,EY]=h7(eS),x7=B.forwardRef((e,t)=>{var pe,Be,_e,Le,ke,Oe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:A=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:g="optimized",onPlaced:b,...C}=e,I=f7(eS,r),[v,N]=B.useState(null),F=Jn(t,Se=>N(Se)),[T,D]=B.useState(null),V=d7(T),P=(V==null?void 0:V.width)??0,U=(V==null?void 0:V.height)??0,k=n+(i!=="center"?"-"+i:""),z=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(u)?u:[u],H=R.length>0,J={padding:z,boundary:R.filter(FY),altBoundary:H},{refs:ne,floatingStyles:Y,placement:G,isPositioned:K,middlewareData:q}=dY({strategy:"fixed",placement:k,whileElementsMounted:(...Se)=>c7(...Se,{animationFrame:g==="always"}),elements:{reference:I.anchor},middleware:[fY({mainAxis:s+U,alignmentAxis:o}),A&&mY({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?pY():void 0,...J}),A&&gY({...J}),xY({...J,apply:({elements:Se,rects:Ce,availableWidth:he,availableHeight:ft})=>{const{width:dt,height:Je}=Ce.reference,Qe=Se.floating.style;Qe.setProperty("--radix-popper-available-width",`${he}px`),Qe.setProperty("--radix-popper-available-height",`${ft}px`),Qe.setProperty("--radix-popper-anchor-width",`${dt}px`),Qe.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),T&&wY({element:T,padding:l}),jY({arrowWidth:P,arrowHeight:U}),y&&yY({strategy:"referenceHidden",...J})]}),[X,fe]=v7(G),de=Nc(b);wa(()=>{K&&(de==null||de())},[K,de]);const Q=(pe=q.arrow)==null?void 0:pe.x,Z=(Be=q.arrow)==null?void 0:Be.y,ae=((_e=q.arrow)==null?void 0:_e.centerOffset)!==0,[ee,oe]=B.useState();return wa(()=>{v&&oe(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:K?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(Le=q.transformOrigin)==null?void 0:Le.x,(ke=q.transformOrigin)==null?void 0:ke.y].join(" "),...((Oe=q.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(SY,{scope:r,placedSide:X,onArrowChange:D,arrowX:Q,arrowY:Z,shouldHideArrow:ae,children:a.jsx(Zr.div,{"data-side":X,"data-align":fe,...C,ref:F,style:{...C.style,animation:K?void 0:"none"}})})})});x7.displayName=eS;var y7="PopperArrow",IY={top:"bottom",right:"left",bottom:"top",left:"right"},w7=B.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=EY(y7,n),o=IY[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(bY,{...s,ref:r,style:{...s.style,display:"block"}})})});w7.displayName=y7;function FY(e){return e!==null}var jY=e=>({name:"transformOrigin",options:e,fn(t){var I,v,N;const{placement:r,rects:n,middlewareData:s}=t,o=((I=s.arrow)==null?void 0:I.centerOffset)!==0,l=o?0:e.arrowWidth,A=o?0:e.arrowHeight,[u,h]=v7(r),m={start:"0%",center:"50%",end:"100%"}[h],y=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,g=(((N=s.arrow)==null?void 0:N.y)??0)+A/2;let b="",C="";return u==="bottom"?(b=o?m:`${y}px`,C=`${-A}px`):u==="top"?(b=o?m:`${y}px`,C=`${n.floating.height+A}px`):u==="right"?(b=`${-A}px`,C=o?m:`${g}px`):u==="left"&&(b=`${n.floating.width+A}px`,C=o?m:`${g}px`),{data:{x:b,y:C}}}});function v7(e){const[t,r="center"]=e.split("-");return[t,r]}var b7=m7,C7=g7,B7=x7,N7=w7,_Y="Portal",tS=B.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=B.useState(!1);wa(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?CO.createPortal(a.jsx(Zr.div,{...n,ref:t}),o):null});tS.displayName=_Y;function TY(e,t){return B.useReducer((r,n)=>t[r][n]??r,e)}var lf=e=>{const{present:t,children:r}=e,n=kY(t),s=typeof r=="function"?r({present:n.isPresent}):B.Children.only(r),i=Jn(n.ref,LY(s));return typeof r=="function"||n.isPresent?B.cloneElement(s,{ref:i}):null};lf.displayName="Presence";function kY(e){const[t,r]=B.useState(),n=B.useRef({}),s=B.useRef(e),i=B.useRef("none"),o=e?"mounted":"unmounted",[l,A]=TY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const u=hx(n.current);i.current=l==="mounted"?u:"none"},[l]),wa(()=>{const u=n.current,h=s.current;if(h!==e){const y=i.current,g=hx(u);e?A("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?A("UNMOUNT"):A(h&&y!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,A]),wa(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,m=g=>{const C=hx(n.current).includes(g.animationName);if(g.target===t&&C&&(A("ANIMATION_END"),!s.current)){const I=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=I)})}},y=g=>{g.target===t&&(i.current=hx(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else A("ANIMATION_END")},[t,A]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:B.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function hx(e){return(e==null?void 0:e.animationName)||"none"}function LY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function $h({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=PY({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Nc(r),A=B.useCallback(u=>{if(i){const m=typeof u=="function"?u(e):u;m!==e&&l(m)}else s(u)},[i,e,s,l]);return[o,A]}function PY({defaultProp:e,onChange:t}){const r=B.useState(e),[n]=r,s=B.useRef(n),i=Nc(t);return B.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var OY="VisuallyHidden",rS=B.forwardRef((e,t)=>a.jsx(Zr.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));rS.displayName=OY;var RY=rS,[H2,C4e]=t1("Tooltip",[Q2]),V2=Q2(),S7="TooltipProvider",DY=700,rB="tooltip.open",[UY,nS]=H2(S7),E7=e=>{const{__scopeTooltip:t,delayDuration:r=DY,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,[o,l]=B.useState(!0),A=B.useRef(!1),u=B.useRef(0);return B.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),a.jsx(UY,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:B.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:B.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:A,onPointerInTransitChange:B.useCallback(h=>{A.current=h},[]),disableHoverableContent:s,children:i})};E7.displayName=S7;var K2="Tooltip",[MY,G2]=H2(K2),I7=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,A=nS(K2,e.__scopeTooltip),u=V2(t),[h,m]=B.useState(null),y=BA(),g=B.useRef(0),b=o??A.disableHoverableContent,C=l??A.delayDuration,I=B.useRef(!1),[v=!1,N]=$h({prop:n,defaultProp:s,onChange:P=>{P?(A.onOpen(),document.dispatchEvent(new CustomEvent(rB))):A.onClose(),i==null||i(P)}}),F=B.useMemo(()=>v?I.current?"delayed-open":"instant-open":"closed",[v]),T=B.useCallback(()=>{window.clearTimeout(g.current),g.current=0,I.current=!1,N(!0)},[N]),D=B.useCallback(()=>{window.clearTimeout(g.current),g.current=0,N(!1)},[N]),V=B.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{I.current=!0,N(!0),g.current=0},C)},[C,N]);return B.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(b7,{...u,children:a.jsx(MY,{scope:t,contentId:y,open:v,stateAttribute:F,trigger:h,onTriggerChange:m,onTriggerEnter:B.useCallback(()=>{A.isOpenDelayed?V():T()},[A.isOpenDelayed,V,T]),onTriggerLeave:B.useCallback(()=>{b?D():(window.clearTimeout(g.current),g.current=0)},[D,b]),onOpen:T,onClose:D,disableHoverableContent:b,children:r})})};I7.displayName=K2;var nB="TooltipTrigger",F7=B.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=G2(nB,r),i=nS(nB,r),o=V2(r),l=B.useRef(null),A=Jn(t,l,s.onTriggerChange),u=B.useRef(!1),h=B.useRef(!1),m=B.useCallback(()=>u.current=!1,[]);return B.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(C7,{asChild:!0,...o,children:a.jsx(Zr.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:A,onPointerMove:Ir(e.onPointerMove,y=>{y.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ir(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Ir(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ir(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ir(e.onBlur,s.onClose),onClick:Ir(e.onClick,s.onClose)})})});F7.displayName=nB;var QY="TooltipPortal",[B4e,HY]=H2(QY,{forceMount:void 0}),K0="TooltipContent",j7=B.forwardRef((e,t)=>{const r=HY(K0,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=G2(K0,e.__scopeTooltip);return a.jsx(lf,{present:n||o.open,children:o.disableHoverableContent?a.jsx(_7,{side:s,...i,ref:t}):a.jsx(VY,{side:s,...i,ref:t})})}),VY=B.forwardRef((e,t)=>{const r=G2(K0,e.__scopeTooltip),n=nS(K0,e.__scopeTooltip),s=B.useRef(null),i=Jn(t,s),[o,l]=B.useState(null),{trigger:A,onClose:u}=r,h=s.current,{onPointerInTransitChange:m}=n,y=B.useCallback(()=>{l(null),m(!1)},[m]),g=B.useCallback((b,C)=>{const I=b.currentTarget,v={x:b.clientX,y:b.clientY},N=zY(v,I.getBoundingClientRect()),F=$Y(v,N),T=qY(C.getBoundingClientRect()),D=YY([...F,...T]);l(D),m(!0)},[m]);return B.useEffect(()=>()=>y(),[y]),B.useEffect(()=>{if(A&&h){const b=I=>g(I,h),C=I=>g(I,A);return A.addEventListener("pointerleave",b),h.addEventListener("pointerleave",C),()=>{A.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",C)}}},[A,h,g,y]),B.useEffect(()=>{if(o){const b=C=>{const I=C.target,v={x:C.clientX,y:C.clientY},N=(A==null?void 0:A.contains(I))||(h==null?void 0:h.contains(I)),F=!XY(v,o);N?y():F&&(y(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[A,h,o,u,y]),a.jsx(_7,{...e,ref:i})}),[KY,GY]=H2(K2,{isInside:!1}),_7=B.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,A=G2(K0,r),u=V2(r),{onClose:h}=A;return B.useEffect(()=>(document.addEventListener(rB,h),()=>document.removeEventListener(rB,h)),[h]),B.useEffect(()=>{if(A.trigger){const m=y=>{const g=y.target;g!=null&&g.contains(A.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[A.trigger,h]),a.jsx(R2,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:a.jsxs(B7,{"data-state":A.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(JO,{children:n}),a.jsx(KY,{scope:r,isInside:!0,children:a.jsx(RY,{id:A.contentId,role:"tooltip",children:s||n})})]})})});j7.displayName=K0;var T7="TooltipArrow",WY=B.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=V2(r);return GY(T7,r).isInside?null:a.jsx(N7,{...s,...n,ref:t})});WY.displayName=T7;function zY(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function $Y(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function qY(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function XY(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,A=t[i].y,u=t[o].x,h=t[o].y;A>n!=h>n&&r<(u-l)*(n-A)/(h-A)+l&&(s=!s)}return s}function YY(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ZY(t)}function ZY(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var JY=E7,eZ=I7,tZ=F7,k7=j7;function L7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=L7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function P7(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=L7(e))&&(n&&(n+=" "),n+=t);return n}const sS="-",rZ=e=>{const t=sZ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(sS);return l[0]===""&&l.length!==1&&l.shift(),O7(l,t)||nZ(o)},getConflictingClassGroupIds:(o,l)=>{const A=r[o]||[];return l&&n[o]?[...A,...n[o]]:A}}},O7=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?O7(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(sS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},wF=/^\[(.+)\]$/,nZ=e=>{if(wF.test(e)){const t=wF.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},sZ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return aZ(Object.entries(e.classGroups),r).forEach(([i,o])=>{sB(o,n,i,t)}),n},sB=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:vF(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(iZ(s)){sB(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{sB(o,vF(t,i),r,n)})})},vF=(e,t)=>{let r=e;return t.split(sS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},iZ=e=>e.isThemeGetter,aZ=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,oZ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},R7="!",lZ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const A=[];let u=0,h=0,m;for(let I=0;I<l.length;I++){let v=l[I];if(u===0){if(v===s&&(n||l.slice(I,I+i)===t)){A.push(l.slice(h,I)),h=I+i;continue}if(v==="/"){m=I;continue}}v==="["?u++:v==="]"&&u--}const y=A.length===0?l:l.substring(h),g=y.startsWith(R7),b=g?y.substring(1):y,C=m&&m>h?m-h:void 0;return{modifiers:A,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:C}};return r?l=>r({className:l,parseClassName:o}):o},cZ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},AZ=e=>({cache:oZ(e.cacheSize),parseClassName:lZ(e),...rZ(e)}),uZ=/\s+/,dZ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(uZ);let l="";for(let A=o.length-1;A>=0;A-=1){const u=o[A],{modifiers:h,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}=r(u);let b=!!g,C=n(b?y.substring(0,g):y);if(!C){if(!b){l=u+(l.length>0?" "+l:l);continue}if(C=n(y),!C){l=u+(l.length>0?" "+l:l);continue}b=!1}const I=cZ(h).join(":"),v=m?I+R7:I,N=v+C;if(i.includes(N))continue;i.push(N);const F=s(C,b);for(let T=0;T<F.length;++T){const D=F[T];i.push(v+D)}l=u+(l.length>0?" "+l:l)}return l};function hZ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=D7(t))&&(n&&(n+=" "),n+=r);return n}const D7=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=D7(e[n]))&&(r&&(r+=" "),r+=t);return r};function fZ(e,...t){let r,n,s,i=o;function o(A){const u=t.reduce((h,m)=>m(h),e());return r=AZ(u),n=r.cache.get,s=r.cache.set,i=l,l(A)}function l(A){const u=n(A);if(u)return u;const h=dZ(A,r);return s(A,h),h}return function(){return i(hZ.apply(null,arguments))}}const $n=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},U7=/^\[(?:([a-z-]+):)?(.+)\]$/i,mZ=/^\d+\/\d+$/,pZ=new Set(["px","full","screen"]),gZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nA=e=>u0(e)||pZ.has(e)||mZ.test(e),hu=e=>cm(e,"length",FZ),u0=e=>!!e&&!Number.isNaN(Number(e)),Vb=e=>cm(e,"number",u0),Rm=e=>!!e&&Number.isInteger(Number(e)),bZ=e=>e.endsWith("%")&&u0(e.slice(0,-1)),_r=e=>U7.test(e),fu=e=>gZ.test(e),CZ=new Set(["length","size","percentage"]),BZ=e=>cm(e,CZ,M7),NZ=e=>cm(e,"position",M7),SZ=new Set(["image","url"]),EZ=e=>cm(e,SZ,_Z),IZ=e=>cm(e,"",jZ),Dm=()=>!0,cm=(e,t,r)=>{const n=U7.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},FZ=e=>xZ.test(e)&&!yZ.test(e),M7=()=>!1,jZ=e=>wZ.test(e),_Z=e=>vZ.test(e),TZ=()=>{const e=$n("colors"),t=$n("spacing"),r=$n("blur"),n=$n("brightness"),s=$n("borderColor"),i=$n("borderRadius"),o=$n("borderSpacing"),l=$n("borderWidth"),A=$n("contrast"),u=$n("grayscale"),h=$n("hueRotate"),m=$n("invert"),y=$n("gap"),g=$n("gradientColorStops"),b=$n("gradientColorStopPositions"),C=$n("inset"),I=$n("margin"),v=$n("opacity"),N=$n("padding"),F=$n("saturate"),T=$n("scale"),D=$n("sepia"),V=$n("skew"),P=$n("space"),U=$n("translate"),k=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",_r,t],H=()=>[_r,t],J=()=>["",nA,hu],ne=()=>["auto",u0,_r],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",_r],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[u0,_r];return{cacheSize:500,separator:":",theme:{colors:[Dm],spacing:[nA,hu],blur:["none","",fu,_r],brightness:de(),borderColor:[e],borderRadius:["none","","full",fu,_r],borderSpacing:H(),borderWidth:J(),contrast:de(),grayscale:X(),hueRotate:de(),invert:X(),gap:H(),gradientColorStops:[e],gradientColorStopPositions:[bZ,hu],inset:R(),margin:R(),opacity:de(),padding:H(),saturate:de(),scale:de(),sepia:X(),skew:de(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",_r]}],container:["container"],columns:[{columns:[fu]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),_r]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rm,_r]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_r]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",Rm,_r]}],"grid-cols":[{"grid-cols":[Dm]}],"col-start-end":[{col:["auto",{span:["full",Rm,_r]},_r]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[Dm]}],"row-start-end":[{row:["auto",{span:[Rm,_r]},_r]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_r]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_r]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_r,t]}],"min-w":[{"min-w":[_r,t,"min","max","fit"]}],"max-w":[{"max-w":[_r,t,"none","full","min","max","fit","prose",{screen:[fu]},fu]}],h:[{h:[_r,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_r,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_r,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_r,t,"auto","min","max","fit"]}],"font-size":[{text:["base",fu,hu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vb]}],"font-family":[{font:[Dm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_r]}],"line-clamp":[{"line-clamp":["none",u0,Vb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nA,_r]}],"list-image":[{"list-image":["none",_r]}],"list-style-type":[{list:["none","disc","decimal",_r]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nA,hu]}],"underline-offset":[{"underline-offset":["auto",nA,_r]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_r]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_r]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),NZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",BZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EZ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[nA,_r]}],"outline-w":[{outline:[nA,hu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[nA,hu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",fu,IZ]}],"shadow-color":[{shadow:[Dm]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[A]}],"drop-shadow":[{"drop-shadow":["","none",fu,_r]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[F]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[A]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_r]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",_r]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",_r]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Rm,_r]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_r]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_r]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_r]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nA,hu,Vb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kZ=fZ(TZ);function vr(...e){return kZ(P7(e))}const Q7=JY,Kb=eZ,Gb=tZ,vy=B.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(k7,{ref:n,sideOffset:t,className:vr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));vy.displayName=k7.displayName;function H7(e,t){return function(){return e.apply(t,arguments)}}const{toString:LZ}=Object.prototype,{getPrototypeOf:iS}=Object,{iterator:W2,toStringTag:V7}=Symbol,z2=(e=>t=>{const r=LZ.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ul=e=>(e=e.toLowerCase(),t=>z2(t)===e),$2=e=>t=>typeof t===e,{isArray:Am}=Array,gg=$2("undefined");function PZ(e){return e!==null&&!gg(e)&&e.constructor!==null&&!gg(e.constructor)&&Ka(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const K7=Ul("ArrayBuffer");function OZ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&K7(e.buffer),t}const RZ=$2("string"),Ka=$2("function"),G7=$2("number"),q2=e=>e!==null&&typeof e=="object",DZ=e=>e===!0||e===!1,by=e=>{if(z2(e)!=="object")return!1;const t=iS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(V7 in e)&&!(W2 in e)},UZ=Ul("Date"),MZ=Ul("File"),QZ=Ul("Blob"),HZ=Ul("FileList"),VZ=e=>q2(e)&&Ka(e.pipe),KZ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ka(e.append)&&((t=z2(e))==="formdata"||t==="object"&&Ka(e.toString)&&e.toString()==="[object FormData]"))},GZ=Ul("URLSearchParams"),[WZ,zZ,$Z,qZ]=["ReadableStream","Request","Response","Headers"].map(Ul),XZ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function n1(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),Am(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function W7(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const lh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,z7=e=>!gg(e)&&e!==lh;function iB(){const{caseless:e}=z7(this)&&this||{},t={},r=(n,s)=>{const i=e&&W7(t,s)||s;by(t[i])&&by(n)?t[i]=iB(t[i],n):by(n)?t[i]=iB({},n):Am(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&n1(arguments[n],r);return t}const YZ=(e,t,r,{allOwnKeys:n}={})=>(n1(t,(s,i)=>{r&&Ka(s)?e[i]=H7(s,r):e[i]=s},{allOwnKeys:n}),e),ZZ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),JZ=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},eJ=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&iS(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},tJ=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},rJ=e=>{if(!e)return null;if(Am(e))return e;let t=e.length;if(!G7(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},nJ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&iS(Uint8Array)),sJ=(e,t)=>{const n=(e&&e[W2]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},iJ=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},aJ=Ul("HTMLFormElement"),oJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),bF=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),lJ=Ul("RegExp"),$7=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};n1(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},cJ=e=>{$7(e,(t,r)=>{if(Ka(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ka(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},AJ=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Am(e)?n(e):n(String(e).split(t)),r},uJ=()=>{},dJ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function hJ(e){return!!(e&&Ka(e.append)&&e[V7]==="FormData"&&e[W2])}const fJ=e=>{const t=new Array(10),r=(n,s)=>{if(q2(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const i=Am(n)?[]:{};return n1(n,(o,l)=>{const A=r(o,s+1);!gg(A)&&(i[l]=A)}),t[s]=void 0,i}}return n};return r(e,0)},mJ=Ul("AsyncFunction"),pJ=e=>e&&(q2(e)||Ka(e))&&Ka(e.then)&&Ka(e.catch),q7=((e,t)=>e?setImmediate:t?((r,n)=>(lh.addEventListener("message",({source:s,data:i})=>{s===lh&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),lh.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ka(lh.postMessage)),gJ=typeof queueMicrotask<"u"?queueMicrotask.bind(lh):typeof process<"u"&&process.nextTick||q7,xJ=e=>e!=null&&Ka(e[W2]),qe={isArray:Am,isArrayBuffer:K7,isBuffer:PZ,isFormData:KZ,isArrayBufferView:OZ,isString:RZ,isNumber:G7,isBoolean:DZ,isObject:q2,isPlainObject:by,isReadableStream:WZ,isRequest:zZ,isResponse:$Z,isHeaders:qZ,isUndefined:gg,isDate:UZ,isFile:MZ,isBlob:QZ,isRegExp:lJ,isFunction:Ka,isStream:VZ,isURLSearchParams:GZ,isTypedArray:nJ,isFileList:HZ,forEach:n1,merge:iB,extend:YZ,trim:XZ,stripBOM:ZZ,inherits:JZ,toFlatObject:eJ,kindOf:z2,kindOfTest:Ul,endsWith:tJ,toArray:rJ,forEachEntry:sJ,matchAll:iJ,isHTMLForm:aJ,hasOwnProperty:bF,hasOwnProp:bF,reduceDescriptors:$7,freezeMethods:cJ,toObjectSet:AJ,toCamelCase:oJ,noop:uJ,toFiniteNumber:dJ,findKey:W7,global:lh,isContextDefined:z7,isSpecCompliantForm:hJ,toJSONObject:fJ,isAsyncFn:mJ,isThenable:pJ,setImmediate:q7,asap:gJ,isIterable:xJ};function Er(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}qe.inherits(Er,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qe.toJSONObject(this.config),code:this.code,status:this.status}}});const X7=Er.prototype,Y7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Y7[e]={value:e}});Object.defineProperties(Er,Y7);Object.defineProperty(X7,"isAxiosError",{value:!0});Er.from=(e,t,r,n,s,i)=>{const o=Object.create(X7);return qe.toFlatObject(e,o,function(A){return A!==Error.prototype},l=>l!=="isAxiosError"),Er.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const yJ=null;function aB(e){return qe.isPlainObject(e)||qe.isArray(e)}function Z7(e){return qe.endsWith(e,"[]")?e.slice(0,-2):e}function CF(e,t,r){return e?e.concat(t).map(function(s,i){return s=Z7(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function wJ(e){return qe.isArray(e)&&!e.some(aB)}const vJ=qe.toFlatObject(qe,{},null,function(t){return/^is[A-Z]/.test(t)});function X2(e,t,r){if(!qe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=qe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,I){return!qe.isUndefined(I[C])});const n=r.metaTokens,s=r.visitor||h,i=r.dots,o=r.indexes,A=(r.Blob||typeof Blob<"u"&&Blob)&&qe.isSpecCompliantForm(t);if(!qe.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(qe.isDate(b))return b.toISOString();if(!A&&qe.isBlob(b))throw new Er("Blob is not supported. Use a Buffer instead.");return qe.isArrayBuffer(b)||qe.isTypedArray(b)?A&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,C,I){let v=b;if(b&&!I&&typeof b=="object"){if(qe.endsWith(C,"{}"))C=n?C:C.slice(0,-2),b=JSON.stringify(b);else if(qe.isArray(b)&&wJ(b)||(qe.isFileList(b)||qe.endsWith(C,"[]"))&&(v=qe.toArray(b)))return C=Z7(C),v.forEach(function(F,T){!(qe.isUndefined(F)||F===null)&&t.append(o===!0?CF([C],T,i):o===null?C:C+"[]",u(F))}),!1}return aB(b)?!0:(t.append(CF(I,C,i),u(b)),!1)}const m=[],y=Object.assign(vJ,{defaultVisitor:h,convertValue:u,isVisitable:aB});function g(b,C){if(!qe.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+C.join("."));m.push(b),qe.forEach(b,function(v,N){(!(qe.isUndefined(v)||v===null)&&s.call(t,v,qe.isString(N)?N.trim():N,C,y))===!0&&g(v,C?C.concat(N):[N])}),m.pop()}}if(!qe.isObject(e))throw new TypeError("data must be an object");return g(e),t}function BF(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function aS(e,t){this._pairs=[],e&&X2(e,this,t)}const J7=aS.prototype;J7.append=function(t,r){this._pairs.push([t,r])};J7.toString=function(t){const r=t?function(n){return t.call(this,n,BF)}:BF;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function bJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eR(e,t,r){if(!t)return e;const n=r&&r.encode||bJ;qe.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=qe.isURLSearchParams(t)?t.toString():new aS(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class NF{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){qe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const tR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CJ=typeof URLSearchParams<"u"?URLSearchParams:aS,BJ=typeof FormData<"u"?FormData:null,NJ=typeof Blob<"u"?Blob:null,SJ={isBrowser:!0,classes:{URLSearchParams:CJ,FormData:BJ,Blob:NJ},protocols:["http","https","file","blob","url","data"]},oS=typeof window<"u"&&typeof document<"u",oB=typeof navigator=="object"&&navigator||void 0,EJ=oS&&(!oB||["ReactNative","NativeScript","NS"].indexOf(oB.product)<0),IJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FJ=oS&&window.location.href||"http://localhost",jJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oS,hasStandardBrowserEnv:EJ,hasStandardBrowserWebWorkerEnv:IJ,navigator:oB,origin:FJ},Symbol.toStringTag,{value:"Module"})),Zi={...jJ,...SJ};function _J(e,t){return X2(e,new Zi.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return Zi.isNode&&qe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function TJ(e){return qe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function kJ(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function rR(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),A=i>=r.length;return o=!o&&qe.isArray(s)?s.length:o,A?(qe.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!qe.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&qe.isArray(s[o])&&(s[o]=kJ(s[o])),!l)}if(qe.isFormData(e)&&qe.isFunction(e.entries)){const r={};return qe.forEachEntry(e,(n,s)=>{t(TJ(n),s,r,0)}),r}return null}function LJ(e,t,r){if(qe.isString(e))try{return(t||JSON.parse)(e),qe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const s1={transitional:tR,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=qe.isObject(t);if(i&&qe.isHTMLForm(t)&&(t=new FormData(t)),qe.isFormData(t))return s?JSON.stringify(rR(t)):t;if(qe.isArrayBuffer(t)||qe.isBuffer(t)||qe.isStream(t)||qe.isFile(t)||qe.isBlob(t)||qe.isReadableStream(t))return t;if(qe.isArrayBufferView(t))return t.buffer;if(qe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _J(t,this.formSerializer).toString();if((l=qe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return X2(l?{"files[]":t}:t,A&&new A,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),LJ(t)):t}],transformResponse:[function(t){const r=this.transitional||s1.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(qe.isResponse(t)||qe.isReadableStream(t))return t;if(t&&qe.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?Er.from(l,Er.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zi.classes.FormData,Blob:Zi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qe.forEach(["delete","get","head","post","put","patch"],e=>{s1.headers[e]={}});const PJ=qe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),OJ=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&PJ[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},SF=Symbol("internals");function Um(e){return e&&String(e).trim().toLowerCase()}function Cy(e){return e===!1||e==null?e:qe.isArray(e)?e.map(Cy):String(e)}function RJ(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const DJ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wb(e,t,r,n,s){if(qe.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!qe.isString(t)){if(qe.isString(n))return t.indexOf(n)!==-1;if(qe.isRegExp(n))return n.test(t)}}function UJ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function MJ(e,t){const r=qe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}class Ga{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,A,u){const h=Um(A);if(!h)throw new Error("header name must be a non-empty string");const m=qe.findKey(s,h);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||A]=Cy(l))}const o=(l,A)=>qe.forEach(l,(u,h)=>i(u,h,A));if(qe.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(qe.isString(t)&&(t=t.trim())&&!DJ(t))o(OJ(t),r);else if(qe.isObject(t)&&qe.isIterable(t)){let l={},A,u;for(const h of t){if(!qe.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(A=l[u])?qe.isArray(A)?[...A,h[1]]:[A,h[1]]:h[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Um(t),t){const n=qe.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return RJ(s);if(qe.isFunction(r))return r.call(this,s,n);if(qe.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Um(t),t){const n=qe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Wb(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Um(o),o){const l=qe.findKey(n,o);l&&(!r||Wb(n,n[l],l,r))&&(delete n[l],s=!0)}}return qe.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||Wb(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return qe.forEach(this,(s,i)=>{const o=qe.findKey(n,i);if(o){r[o]=Cy(s),delete r[i];return}const l=t?UJ(i):String(i).trim();l!==i&&delete r[i],r[l]=Cy(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return qe.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&qe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[SF]=this[SF]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Um(o);n[l]||(MJ(s,o),n[l]=!0)}return qe.isArray(t)?t.forEach(i):i(t),this}}Ga.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);qe.reduceDescriptors(Ga.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});qe.freezeMethods(Ga);function zb(e,t){const r=this||s1,n=t||r,s=Ga.from(n.headers);let i=n.data;return qe.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function nR(e){return!!(e&&e.__CANCEL__)}function um(e,t,r){Er.call(this,e??"canceled",Er.ERR_CANCELED,t,r),this.name="CanceledError"}qe.inherits(um,Er,{__CANCEL__:!0});function sR(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Er("Request failed with status code "+r.status,[Er.ERR_BAD_REQUEST,Er.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function QJ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function HJ(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(A){const u=Date.now(),h=n[i];o||(o=u),r[s]=A,n[s]=u;let m=i,y=0;for(;m!==s;)y+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const g=h&&u-h;return g?Math.round(y*1e3/g):void 0}}function VJ(e,t){let r=0,n=1e3/t,s,i;const o=(u,h=Date.now())=>{r=h,s=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const h=Date.now(),m=h-r;m>=n?o(u,h):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const jw=(e,t,r=3)=>{let n=0;const s=HJ(50,250);return VJ(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,A=o-n,u=s(A),h=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:A,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},EF=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},IF=e=>(...t)=>qe.asap(()=>e(...t)),KJ=Zi.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Zi.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Zi.origin),Zi.navigator&&/(msie|trident)/i.test(Zi.navigator.userAgent)):()=>!0,GJ=Zi.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];qe.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),qe.isString(n)&&o.push("path="+n),qe.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function WJ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function zJ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function iR(e,t,r){let n=!WJ(t);return e&&(n||r==!1)?zJ(e,t):t}const FF=e=>e instanceof Ga?{...e}:e;function qh(e,t){t=t||{};const r={};function n(u,h,m,y){return qe.isPlainObject(u)&&qe.isPlainObject(h)?qe.merge.call({caseless:y},u,h):qe.isPlainObject(h)?qe.merge({},h):qe.isArray(h)?h.slice():h}function s(u,h,m,y){if(qe.isUndefined(h)){if(!qe.isUndefined(u))return n(void 0,u,m,y)}else return n(u,h,m,y)}function i(u,h){if(!qe.isUndefined(h))return n(void 0,h)}function o(u,h){if(qe.isUndefined(h)){if(!qe.isUndefined(u))return n(void 0,u)}else return n(void 0,h)}function l(u,h,m){if(m in t)return n(u,h);if(m in e)return n(void 0,u)}const A={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,m)=>s(FF(u),FF(h),m,!0)};return qe.forEach(Object.keys(Object.assign({},e,t)),function(h){const m=A[h]||s,y=m(e[h],t[h],h);qe.isUndefined(y)&&m!==l||(r[h]=y)}),r}const aR=e=>{const t=qh({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=Ga.from(o),t.url=eR(iR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let A;if(qe.isFormData(r)){if(Zi.hasStandardBrowserEnv||Zi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((A=o.getContentType())!==!1){const[u,...h]=A?A.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Zi.hasStandardBrowserEnv&&(n&&qe.isFunction(n)&&(n=n(t)),n||n!==!1&&KJ(t.url))){const u=s&&i&&GJ.read(i);u&&o.set(s,u)}return t},$J=typeof XMLHttpRequest<"u",qJ=$J&&function(e){return new Promise(function(r,n){const s=aR(e);let i=s.data;const o=Ga.from(s.headers).normalize();let{responseType:l,onUploadProgress:A,onDownloadProgress:u}=s,h,m,y,g,b;function C(){g&&g(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let I=new XMLHttpRequest;I.open(s.method.toUpperCase(),s.url,!0),I.timeout=s.timeout;function v(){if(!I)return;const F=Ga.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:F,config:e,request:I};sR(function(P){r(P),C()},function(P){n(P),C()},D),I=null}"onloadend"in I?I.onloadend=v:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(v)},I.onabort=function(){I&&(n(new Er("Request aborted",Er.ECONNABORTED,e,I)),I=null)},I.onerror=function(){n(new Er("Network Error",Er.ERR_NETWORK,e,I)),I=null},I.ontimeout=function(){let T=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const D=s.transitional||tR;s.timeoutErrorMessage&&(T=s.timeoutErrorMessage),n(new Er(T,D.clarifyTimeoutError?Er.ETIMEDOUT:Er.ECONNABORTED,e,I)),I=null},i===void 0&&o.setContentType(null),"setRequestHeader"in I&&qe.forEach(o.toJSON(),function(T,D){I.setRequestHeader(D,T)}),qe.isUndefined(s.withCredentials)||(I.withCredentials=!!s.withCredentials),l&&l!=="json"&&(I.responseType=s.responseType),u&&([y,b]=jw(u,!0),I.addEventListener("progress",y)),A&&I.upload&&([m,g]=jw(A),I.upload.addEventListener("progress",m),I.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(h=F=>{I&&(n(!F||F.type?new um(null,e,I):F),I.abort(),I=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const N=QJ(s.url);if(N&&Zi.protocols.indexOf(N)===-1){n(new Er("Unsupported protocol "+N+":",Er.ERR_BAD_REQUEST,e));return}I.send(i||null)})},XJ=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const h=u instanceof Error?u:this.reason;n.abort(h instanceof Er?h:new um(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new Er(`timeout ${t} of ms exceeded`,Er.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:A}=n;return A.unsubscribe=()=>qe.asap(l),A}},YJ=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},ZJ=async function*(e,t){for await(const r of JJ(e))yield*YJ(r,t)},JJ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},jF=(e,t,r,n)=>{const s=ZJ(e,t);let i=0,o,l=A=>{o||(o=!0,n&&n(A))};return new ReadableStream({async pull(A){try{const{done:u,value:h}=await s.next();if(u){l(),A.close();return}let m=h.byteLength;if(r){let y=i+=m;r(y)}A.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(A){return l(A),s.return()}},{highWaterMark:2})},Y2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",oR=Y2&&typeof ReadableStream=="function",eee=Y2&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),lR=(e,...t)=>{try{return!!e(...t)}catch{return!1}},tee=oR&&lR(()=>{let e=!1;const t=new Request(Zi.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),_F=64*1024,lB=oR&&lR(()=>qe.isReadableStream(new Response("").body)),_w={stream:lB&&(e=>e.body)};Y2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!_w[t]&&(_w[t]=qe.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Er(`Response type '${t}' is not supported`,Er.ERR_NOT_SUPPORT,n)})})})(new Response);const ree=async e=>{if(e==null)return 0;if(qe.isBlob(e))return e.size;if(qe.isSpecCompliantForm(e))return(await new Request(Zi.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(qe.isArrayBufferView(e)||qe.isArrayBuffer(e))return e.byteLength;if(qe.isURLSearchParams(e)&&(e=e+""),qe.isString(e))return(await eee(e)).byteLength},nee=async(e,t)=>{const r=qe.toFiniteNumber(e.getContentLength());return r??ree(t)},see=Y2&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:A,responseType:u,headers:h,withCredentials:m="same-origin",fetchOptions:y}=aR(e);u=u?(u+"").toLowerCase():"text";let g=XJ([s,i&&i.toAbortSignal()],o),b;const C=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let I;try{if(A&&tee&&r!=="get"&&r!=="head"&&(I=await nee(h,n))!==0){let D=new Request(t,{method:"POST",body:n,duplex:"half"}),V;if(qe.isFormData(n)&&(V=D.headers.get("content-type"))&&h.setContentType(V),D.body){const[P,U]=EF(I,jw(IF(A)));n=jF(D.body,_F,P,U)}}qe.isString(m)||(m=m?"include":"omit");const v="credentials"in Request.prototype;b=new Request(t,{...y,signal:g,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:v?m:void 0});let N=await fetch(b);const F=lB&&(u==="stream"||u==="response");if(lB&&(l||F&&C)){const D={};["status","statusText","headers"].forEach(k=>{D[k]=N[k]});const V=qe.toFiniteNumber(N.headers.get("content-length")),[P,U]=l&&EF(V,jw(IF(l),!0))||[];N=new Response(jF(N.body,_F,P,()=>{U&&U(),C&&C()}),D)}u=u||"text";let T=await _w[qe.findKey(_w,u)||"text"](N,e);return!F&&C&&C(),await new Promise((D,V)=>{sR(D,V,{data:T,headers:Ga.from(N.headers),status:N.status,statusText:N.statusText,config:e,request:b})})}catch(v){throw C&&C(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Er("Network Error",Er.ERR_NETWORK,e,b),{cause:v.cause||v}):Er.from(v,v&&v.code,e,b)}}),cB={http:yJ,xhr:qJ,fetch:see};qe.forEach(cB,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const TF=e=>`- ${e}`,iee=e=>qe.isFunction(e)||e===null||e===!1,cR={getAdapter:e=>{e=qe.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!iee(r)&&(n=cB[(o=String(r)).toLowerCase()],n===void 0))throw new Er(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([l,A])=>`adapter ${l} `+(A===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(TF).join(`
`):" "+TF(i[0]):"as no adapter specified";throw new Er("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:cB};function $b(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new um(null,e)}function kF(e){return $b(e),e.headers=Ga.from(e.headers),e.data=zb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),cR.getAdapter(e.adapter||s1.adapter)(e).then(function(n){return $b(e),n.data=zb.call(e,e.transformResponse,n),n.headers=Ga.from(n.headers),n},function(n){return nR(n)||($b(e),n&&n.response&&(n.response.data=zb.call(e,e.transformResponse,n.response),n.response.headers=Ga.from(n.response.headers))),Promise.reject(n)})}const AR="1.9.0",Z2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Z2[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const LF={};Z2.transitional=function(t,r,n){function s(i,o){return"[Axios v"+AR+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Er(s(o," has been removed"+(r?" in "+r:"")),Er.ERR_DEPRECATED);return r&&!LF[o]&&(LF[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Z2.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function aee(e,t,r){if(typeof e!="object")throw new Er("options must be an object",Er.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],A=l===void 0||o(l,i,e);if(A!==!0)throw new Er("option "+i+" must be "+A,Er.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Er("Unknown option "+i,Er.ERR_BAD_OPTION)}}const By={assertOptions:aee,validators:Z2},Yl=By.validators;class Sh{constructor(t){this.defaults=t||{},this.interceptors={request:new NF,response:new NF}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=qh(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&By.assertOptions(n,{silentJSONParsing:Yl.transitional(Yl.boolean),forcedJSONParsing:Yl.transitional(Yl.boolean),clarifyTimeoutError:Yl.transitional(Yl.boolean)},!1),s!=null&&(qe.isFunction(s)?r.paramsSerializer={serialize:s}:By.assertOptions(s,{encode:Yl.function,serialize:Yl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),By.assertOptions(r,{baseUrl:Yl.spelling("baseURL"),withXsrfToken:Yl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&qe.merge(i.common,i[r.method]);i&&qe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),r.headers=Ga.concat(o,i);const l=[];let A=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(A=A&&C.synchronous,l.unshift(C.fulfilled,C.rejected))});const u=[];this.interceptors.response.forEach(function(C){u.push(C.fulfilled,C.rejected)});let h,m=0,y;if(!A){const b=[kF.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,u),y=b.length,h=Promise.resolve(r);m<y;)h=h.then(b[m++],b[m++]);return h}y=l.length;let g=r;for(m=0;m<y;){const b=l[m++],C=l[m++];try{g=b(g)}catch(I){C.call(this,I);break}}try{h=kF.call(this,g)}catch(b){return Promise.reject(b)}for(m=0,y=u.length;m<y;)h=h.then(u[m++],u[m++]);return h}getUri(t){t=qh(this.defaults,t);const r=iR(t.baseURL,t.url,t.allowAbsoluteUrls);return eR(r,t.params,t.paramsSerializer)}}qe.forEach(["delete","get","head","options"],function(t){Sh.prototype[t]=function(r,n){return this.request(qh(n||{},{method:t,url:r,data:(n||{}).data}))}});qe.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(qh(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Sh.prototype[t]=r(),Sh.prototype[t+"Form"]=r(!0)});class lS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new um(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new lS(function(s){t=s}),cancel:t}}}function oee(e){return function(r){return e.apply(null,r)}}function lee(e){return qe.isObject(e)&&e.isAxiosError===!0}const AB={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(AB).forEach(([e,t])=>{AB[t]=e});function uR(e){const t=new Sh(e),r=H7(Sh.prototype.request,t);return qe.extend(r,Sh.prototype,t,{allOwnKeys:!0}),qe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return uR(qh(e,s))},r}const Vn=uR(s1);Vn.Axios=Sh;Vn.CanceledError=um;Vn.CancelToken=lS;Vn.isCancel=nR;Vn.VERSION=AR;Vn.toFormData=X2;Vn.AxiosError=Er;Vn.Cancel=Vn.CanceledError;Vn.all=function(t){return Promise.all(t)};Vn.spread=oee;Vn.isAxiosError=lee;Vn.mergeConfig=qh;Vn.AxiosHeaders=Ga;Vn.formToJSON=e=>rR(qe.isHTMLForm(e)?new FormData(e):e);Vn.getAdapter=cR.getAdapter;Vn.HttpStatusCode=AB;Vn.default=Vn;const cee=()=>{const e=typeof window<"u"&&window.location.hostname==="localhost";return typeof navigator<"u"&&(navigator.userAgent.includes("Cordova")||navigator.userAgent.includes("Capacitor")||typeof window<"u"&&window.location.protocol==="file:")?"https://havenn.onrender.com/api":e?"/api":"https://havenn.onrender.com/api"},xg=cee(),Ei=(e,t={})=>fetch(`${xg}${e}`,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}}),cS=xg;console.log(" API_URL configured as:",cS);console.log(" Window location:",typeof window<"u"?window.location.href:"N/A");console.log(" User agent:",typeof navigator<"u"?navigator.userAgent:"N/A");console.log(" Is mobile app:",typeof navigator<"u"&&(navigator.userAgent.includes("Cordova")||navigator.userAgent.includes("Capacitor")||typeof window<"u"&&window.location.protocol==="file:"));const it=Vn.create({baseURL:cS,withCredentials:!0});let PF=0;it.interceptors.request.use(e=>(console.log(" API Request Details:",{url:e.url,baseURL:e.baseURL,fullURL:e.baseURL+e.url,method:e.method,headers:e.headers}),e));const yg=e=>{if(Array.isArray(e))return e.map(t=>yg(t));if(e&&typeof e=="object"&&e!==null){const t={};for(const[r,n]of Object.entries(e)){const s=r.replace(/_([a-z])/g,(i,o)=>o.toUpperCase());t[s]=yg(n)}return t}return e},wg=e=>{if(Array.isArray(e))return e.map(t=>wg(t));if(e&&typeof e=="object"&&e!==null){const t={};for(const[r,n]of Object.entries(e)){const s=r.replace(/([A-Z])/g,"_$1").toLowerCase();t[s]=wg(n)}return t}return e};it.interceptors.request.use(e=>{const t=localStorage.getItem("user");return t&&(e.headers["X-User-Info"]=t),e});it.interceptors.request.use(e=>(console.log("API Request:",{url:e.url,method:e.method,data:e.data,headers:e.headers}),e));it.interceptors.request.use(e=>{if(e.data&&typeof e.data=="object"&&!(e.data instanceof FormData)){let t={...e.data};t.hasOwnProperty("branch_id")&&t.hasOwnProperty("branchId")&&(console.warn('[API.TS INTERCEPTOR] Conflict: Found both "branch_id" (value:',t.branch_id,') and "branchId" (value:',t.branchId,'). Removing "branchId" to prioritize the snake_case "branch_id".'),delete t.branchId),e.data=wg(t)}return e});it.interceptors.response.use(e=>(e.data&&typeof e.data=="object"&&(e.data=yg(e.data)),e),e=>{var n,s,i,o,l,A,u;if(((n=e.response)==null?void 0:n.status)===401)console.warn("401 Unauthorized - Authentication required:",(i=(s=e.response)==null?void 0:s.data)==null?void 0:i.message);else if(((o=e.response)==null?void 0:o.status)===403&&((A=(l=e.response)==null?void 0:l.data)!=null&&A.subscriptionExpired)){console.warn("403 Forbidden - Subscription inactive/expired");const h=Date.now();h-PF>5e3&&(je.error("Subscription inactive or trial expired. Viewing is allowed, but actions are disabled. Please renew on the Subscription page."),PF=h)}else e.response||(console.error("Network error - please check your connection:",e.message),console.error("Connection failed - this may be a network connectivity issue"));const t=((u=e.response)==null?void 0:u.data)||{message:e.message};console.error("API Error (Axios Interceptor - Response Error):",JSON.stringify(t,null,2));const r=t.message||"An unexpected error occurred while processing your request";return Promise.reject(new Error(r))});const De={login:async({username:e,password:t,libraryCode:r})=>{var n;try{const s=await it.post("/auth/login",{username:e,password:t,libraryCode:r}),{message:i,user:o}=s.data;if(i==="Login successful"&&o)return console.log("Login successful, user:",o),localStorage.setItem("user",JSON.stringify(o)),o;throw new Error(i||"Login failed: Invalid response from server")}catch(s){throw console.error("Login error details:",((n=s.response)==null?void 0:n.data)||s.message),s instanceof Error?s:new Error("Login failed due to server error")}},logout:async()=>{var e;try{const t=await it.get("/auth/logout");return console.log("Logout response:",t.data),localStorage.removeItem("user"),t.data}catch(t){throw console.error("Logout error:",((e=t.response)==null?void 0:e.data)||t.message),t}},checkAuthStatus:async()=>{var e,t;try{const r=await it.get("/auth/status");return console.log("Auth status check:",r.data),r.data}catch(r){if(console.error("Auth status check failed:",((e=r.response)==null?void 0:e.data)||r.message),((t=r.response)==null?void 0:t.status)===401)return{isAuthenticated:!1,user:null};throw r}},getBranches:async()=>{var e,t,r;try{return(await it.get("/branches")).data.branches}catch(n){throw console.error("[api.ts getBranches] Error:",n.message,JSON.stringify((e=n.response)==null?void 0:e.data,null,2)),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch branches")}},addBranch:async e=>(await it.post("/branches",e)).data,updateBranch:async(e,t)=>(await it.put(`/branches/${e}`,t)).data,deleteBranch:async e=>(await it.delete(`/branches/${e}`)).data,getProducts:async()=>(await it.get("/products")).data.products,addProduct:async e=>(await it.post("/products",e)).data,updateProduct:async(e,t)=>(await it.put(`/products/${e}`,t)).data,deleteProduct:async e=>(await it.delete(`/products/${e}`)).data,getHostelBranches:async()=>{var e;try{return(await it.get("/hostel/branches")).data.branches}catch(t){throw console.error("Error fetching hostel branches:",((e=t.response)==null?void 0:e.data)||t.message),t}},addHostelBranch:async e=>{try{return(await it.post("/hostel/branches",e)).data.branch}catch(t){throw t}},updateHostelBranch:async(e,t)=>{try{return(await it.put(`/hostel/branches/${e}`,t)).data.branch}catch(r){throw r}},deleteHostelBranch:async e=>{try{return(await it.delete(`/hostel/branches/${e}`)).data}catch(t){throw t}},getHostelStudents:async e=>{try{const t={};return e&&(t.branchId=e),(await it.get("/hostel/students",{params:t})).data.students}catch(t){throw t}},getHostelStudent:async e=>{try{return(await it.get(`/hostel/students/${e}`)).data}catch(t){throw t}},addHostelStudent:async e=>{var t;try{return(await it.post("/hostel/students",e)).data}catch(r){throw console.error("Error in api.ts addHostelStudent:",r.message,JSON.stringify((t=r.response)==null?void 0:t.data,null,2)),r}},updateHostelStudent:async(e,t)=>{try{return(await it.put(`/hostel/students/${e}`,t)).data}catch(r){throw r}},deleteHostelStudent:async e=>{try{return(await it.delete(`/hostel/students/${e}`)).data}catch(t){throw t}},uploadImage:async e=>{try{return(await it.post("/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw t}},getExpiredHostelStudents:async()=>{try{return(await it.get("/hostel/students/meta/expired")).data}catch(e){throw e}},renewHostelStudent:async(e,t)=>{try{return(await it.post(`/hostel/students/${e}/renew`,t)).data}catch(r){throw r}},getHostelCollections:async e=>{var t;try{const r={};return e!=null&&e.month&&(r.month=e.month),e!=null&&e.branchId&&(r.branchId=e.branchId),(await it.get("/hostel/collections",{params:r})).data}catch(r){throw console.error("[api.ts getHostelCollections] Error:",r.message,JSON.stringify((t=r.response)==null?void 0:t.data,null,2)),r}},updateHostelCollectionPayment:async(e,t)=>{try{return(await it.put(`/hostel/collections/${e}`,t)).data}catch(r){throw r}},getQueries:async()=>{var e,t,r;try{return(await it.get("/queries")).data}catch(n){throw console.error("[api.ts getQueries] Error:",n.message,JSON.stringify((e=n.response)==null?void 0:e.data,null,2)),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch queries")}},getAllQueriesForAdmin:async()=>{var e,t;try{return(await it.get("/queries/admin")).data}catch(r){throw console.error("Error fetching admin queries:",r),new Error(((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to fetch admin queries")}},getQueryById:async e=>{var t,r,n;try{return(await it.get(`/queries/${e}`)).data}catch(s){throw console.error("[api.ts getQueryById] Error:",s.message,JSON.stringify((t=s.response)==null?void 0:t.data,null,2)),new Error(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to fetch query details")}},postQuery:async e=>{var t,r,n;try{return(await it.post("/queries",e)).data}catch(s){throw console.error("[api.ts postQuery] Error:",s.message,JSON.stringify((t=s.response)==null?void 0:t.data,null,2)),new Error(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to post query")}},voteOnQuery:async(e,t)=>{var r,n,s;try{return(await it.post(`/queries/${e}/vote`,{vote_type:t})).data}catch(i){throw console.error("[api.ts voteOnQuery] Error:",i.message,JSON.stringify((r=i.response)==null?void 0:r.data,null,2)),new Error(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to vote on query")}},updateQueryStatus:async(e,t)=>{var r,n,s;try{return(await it.put(`/queries/${e}/status`,{status:t})).data}catch(i){throw console.error("[api.ts updateQueryStatus] Error:",i.message,JSON.stringify((r=i.response)==null?void 0:r.data,null,2)),new Error(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to update query status")}},postComment:async(e,t)=>{var r,n,s;try{return(await it.post(`/queries/${e}/comments`,t)).data}catch(i){throw console.error("[api.ts postComment] Error:",i.message,JSON.stringify((r=i.response)==null?void 0:r.data,null,2)),new Error(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to post comment")}},getInactiveStudents:async()=>(await it.get("/students/inactive")).data,updateStudentStatus:async(e,t)=>(await it.put(`/students/${e}/status`,t)).data,getStudents:async(e,t,r)=>{const n={fromDate:e,toDate:t};return r&&(n.branchId=r),(await it.get("/students",{params:n})).data},getStudent:async e=>(await it.get(`/students/${e}`)).data,getActiveStudents:async e=>{const t={};return e&&(t.branchId=e),(await it.get("/students/active",{params:t})).data},getExpiredMemberships:async e=>{const t={};return e&&(t.branchId=e),(await it.get("/students/expired",{params:t})).data},getExpiringSoon:async(e,t)=>{const r={};return e&&(r.branchId=e),t&&(r.days=t),(await it.get("/students/expiring-soon",{params:r})).data},getExpiringByRange:async(e,t,r)=>{const n={};return e&&(n.branchId=e),t!==void 0&&(n.fromDays=t),r!==void 0&&(n.toDays=r),(await it.get("/students/expiring-by-range",{params:n})).data},getExpiringCounts:async e=>{const t={};return e&&(t.branchId=e),(await it.get("/students/expiring-counts",{params:t})).data},getTotalStudentsCount:async e=>(await De.getStudents(void 0,void 0,e)).students.length,getActiveStudentsCount:async e=>(await De.getActiveStudents(e)).students.length,getExpiredMembershipsCount:async e=>(await De.getExpiredMemberships(e)).students.length,addStudent:async e=>{var t,r;try{const n={...e,cash:e.cash??0,online:e.online??0,securityMoney:e.securityMoney??0,remark:e.remark??null,profileImageUrl:e.profileImageUrl??null,aadhaarFrontUrl:e.aadhaarFrontUrl??null,aadhaarBackUrl:e.aadhaarBackUrl??null};console.log("[api.ts addStudent] Sending student data:",JSON.stringify(n,null,2));const s=await it.post("/students",n);return console.log("[api.ts addStudent] Response received:",JSON.stringify(s.data,null,2)),s.data}catch(n){throw console.error("[api.ts addStudent] Error:",{message:n.message,response:(t=n.response)==null?void 0:t.data,status:(r=n.response)==null?void 0:r.status}),n}},updateStudent:async(e,t)=>(await it.put(`/students/${e}`,t)).data,deleteStudent:async e=>(await it.delete(`/students/${e}`)).data,renewStudent:async(e,t)=>(await it.post(`/students/${e}/renew`,t)).data,getDashboardStats:async e=>(await it.get("/students/stats/dashboard",{params:e})).data,getSchedules:async(e=null)=>{const t={};e!=null?(t.branch_id=e,console.log("Fetching schedules for branch ID:",e)):console.log("Fetching schedules for all branches");try{const r=await it.get("/schedules/with-students",{params:t});console.log("API Response:",r);let n=[];return Array.isArray(r.data)?(console.log("Received array response with",r.data.length,"schedules"),n=r.data):r.data&&Array.isArray(r.data.schedules)?(console.log("Received object response with",r.data.schedules.length,"schedules"),n=r.data.schedules):console.warn("Unexpected API response format, defaulting to empty array:",r.data),{schedules:n}}catch(r){throw console.error("Error in getSchedules:",r),r}},getSchedule:async e=>(await it.get(`/schedules/${e}`)).data,getSchedulesWithStudents:async()=>{var e;try{return(await it.get("/schedules/with-students")).data}catch(t){throw console.error("Error fetching schedules with students:",((e=t.response)==null?void 0:e.data)||t.message),t}},addSchedule:async e=>(await it.post("/schedules",e)).data,updateSchedule:async(e,t)=>(await it.put(`/schedules/${e}`,t)).data,deleteSchedule:async e=>(await it.delete(`/schedules/${e}`)).data,getUserProfile:async()=>{var e;try{return(await it.get("/users/profile")).data}catch(t){throw console.error("Error fetching user profile:",((e=t.response)==null?void 0:e.data)||t.message),t}},updateUserProfile:async e=>{var t;try{return(await it.put("/users/profile",e)).data}catch(r){throw console.error("Error updating user profile:",((t=r.response)==null?void 0:t.data)||r.message),r}},addUser:async e=>{var t;try{return(await it.post("/users",e)).data}catch(r){throw console.error("Error adding user:",((t=r.response)==null?void 0:t.data)||r.message),r}},getAllUsers:async()=>{var e;try{return(await it.get("/users")).data}catch(t){throw console.error("Error fetching users:",((e=t.response)==null?void 0:e.data)||t.message),t}},deleteUser:async e=>{var t;try{return(await it.delete(`/users/${e}`)).data}catch(r){throw console.error("Error deleting user:",((t=r.response)==null?void 0:t.data)||r.message),r}},changeUserPassword:async e=>{var t;try{return(await it.put("/users/profile",e)).data}catch(r){throw console.error("Error changing password:",((t=r.response)==null?void 0:t.data)||r.message),r}},getStudentsByShift:async(e,t)=>(await it.get(`/students/shift/${e}`,{params:t})).data,getSeats:async e=>(await it.get("/seats",{params:e})).data,addSeats:async e=>(await it.post("/seats",e)).data,deleteSeat:async e=>(await it.delete(`/seats/${e}`)).data,getSeatAssignments:async e=>{var t;try{return(await it.get(`/seats/${e}/assignments`)).data}catch(r){throw console.error("Error fetching seat assignments:",((t=r.response)==null?void 0:t.data)||r.message),r}},getAvailableShifts:async e=>{var t,r;try{return(await it.get(`/seats/${e}/all-shifts-status`)).data}catch(n){throw console.error(`Error fetching shifts status for seat ${e}:`,n.message),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch shifts status")}},getSettings:async()=>{var e;try{return(await it.get("/settings")).data}catch(t){throw console.error("Error fetching settings:",((e=t.response)==null?void 0:e.data)||t.message),t}},updateSettings:async e=>{var t;try{return(await it.put("/settings",e)).data}catch(r){throw console.error("Error updating settings:",((t=r.response)==null?void 0:t.data)||r.message),r}},getTransactions:async()=>{var e;try{return(await it.get("/transactions")).data}catch(t){throw console.error("Error fetching transactions:",((e=t.response)==null?void 0:e.data)||t.message),t}},addTransaction:async e=>{var t;try{return(await it.post("/transactions",e)).data}catch(r){throw console.error("Error adding transaction:",((t=r.response)==null?void 0:t.data)||r.message),r}},updateTransaction:async(e,t)=>{var r;try{return(await it.put(`/transactions/${e}`,t)).data}catch(n){throw console.error("Error updating transaction:",((r=n.response)==null?void 0:r.data)||n.message),n}},deleteTransaction:async e=>{var t;try{return(await it.delete(`/transactions/${e}`)).data}catch(r){throw console.error("Error deleting transaction:",((t=r.response)==null?void 0:t.data)||r.message),r}},getCollections:async(e={})=>(await it.get("/collections",{params:e})).data,getCollectionStats:async(e={})=>(await it.get("/collections/stats",{params:e})).data,updateCollectionPayment:async(e,t)=>{const{amount:r,method:n}=t;return(await it.put(`/collections/${e}`,{paymentAmount:r,paymentMethod:n})).data},getExpenses:async e=>{const t={};return e&&(t.branchId=e),(await it.get("/expenses",{params:t})).data},addExpense:async e=>(await it.post("/expenses",e)).data,updateExpense:async(e,t)=>(await it.put(`/expenses/${e}`,t)).data,deleteExpense:async e=>(await it.delete(`/expenses/${e}`)).data,getProfitLoss:async e=>(await it.get("/reports/profit-loss",{params:e})).data,getMonthlyCollections:async e=>(await it.get("/reports/monthly-collections",{params:{month:e}})).data,getLockers:async e=>{const t={};return e&&(t.branchId=e),(await it.get("/lockers",{params:t})).data},addLockers:async e=>(await it.post("/lockers",{lockerNumbers:e})).data,createLocker:async e=>(await it.post("/lockers",e)).data,updateLocker:async(e,t)=>(await it.put(`/lockers/${e}`,t)).data,deleteLocker:async e=>(await it.delete(`/lockers/${e}`)).data,assignLocker:async(e,t)=>(await it.put(`/lockers/${e}/assign`,t)).data,fetchAttendance:async(e={})=>{var t,r;try{const n={...e,includeMembership:!0},s=await it.get("/owner-dashboard/attendance",{params:n}),i=s.data.attendance.map(o=>({...o,membershipStatus:o.membershipStatus||"inactive",membershipEndDate:o.membershipEndDate||null,hasDueAmount:o.hasDueAmount||!1,dueAmount:o.dueAmount||0}));return{...s.data,attendance:i}}catch(n){throw console.error("[api.ts fetchAttendance] Error:",n.message),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch attendance")}},getLibraryProfile:async()=>(await it.get("/owner-dashboard/profile")).data,getStudentProfile:async()=>(await it.get("/student-auth/profile")).data,markAttendanceWithQR:async e=>{try{const t=typeof e=="string"?JSON.parse(e):e,r=Vn.create(),n={qrData:t,notes:"Scanned via mobile app"};return console.log("Sending QR attendance data:",n),(await r.post(`${cS}/student-auth/attendance/qr`,n,{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")?`Bearer ${localStorage.getItem("token")}`:""},withCredentials:!0})).data}catch(t){throw console.error("Error in markAttendanceWithQR:",t),t.response&&console.error("Server responded with:",t.response.data),new Error("Failed to mark attendance. Please try again.")}},getStudentAttendanceHistory:async(e={})=>(await it.get("/student-auth/attendance",{params:e})).data,getAnnouncements:async e=>(await it.get("/announcements",{params:e})).data,getStudentMembershipHistory:async()=>(await it.get("/student-auth/membership-history")).data,getStudentTransactions:()=>it.get("/student-auth/transactions").then(e=>e.data),getAttendanceStatus:()=>it.get("/student-auth/attendance/status").then(e=>e.data),toggleAttendance:e=>it.post("/student-auth/attendance/toggle",{notes:e}).then(t=>t.data),createAnnouncement:e=>it.post("/announcements",wg(e)).then(t=>t.data),updateAnnouncement:(e,t)=>it.put(`/announcements/${e}`,wg(t)).then(r=>r.data),deleteAnnouncement:e=>it.delete(`/announcements/${e}`).then(t=>t.data),getOwnerProfile:async()=>{const e=await it.get("/settings/owner/profile");return yg(e.data)},updateOwnerProfile:async e=>{const t=await it.put("/settings/owner/profile",e);return yg(t.data)},changeOwnerPassword:async e=>(await it.put("/settings/owner/password",e)).data,updateUserPermissions:async(e,t)=>{var r;try{return(await it.put(`/users/${e}/permissions`,{permissions:t})).data}catch(n){throw console.error("Error updating user permissions:",((r=n.response)==null?void 0:r.data)||n.message),n}}},dR=B.createContext({isAuthenticated:!1,user:null,login:()=>{},logout:async()=>{},refreshUser:async()=>{},isLoading:!1}),Aee=({children:e})=>{const[t,r]=B.useState(null),[n,s]=B.useState(!0),i=async()=>{var A,u,h;try{const y=(A=(await Vn.get("/api/auth/refresh",{withCredentials:!0})).data)==null?void 0:A.user;y?(y.permissions=y.permissions||[],r(y),console.log("[AuthContext] Session refreshed:",y)):console.warn("[AuthContext] No user data in refresh response")}catch(m){console.error("[AuthContext] Failed to refresh session:",m),(((u=m.response)==null?void 0:u.status)===401||((h=m.response)==null?void 0:h.status)===403)&&(console.log("[AuthContext] Authentication failed, logging out"),r(null))}};B.useEffect(()=>{const A=async h=>{h&&s(!0);try{const m=await Ei("/owner-auth/status");if(m.ok){const b=await m.json();if(b.isAuthenticated&&b.owner){let C={};try{const v=await Ei("/subscriptions/status");if(v.ok){const N=await v.json();C={is_trial:N.subscription.isTrial,subscription_end_date:N.subscription.endDate,subscription_plan:N.subscription.plan,is_subscription_active:N.subscription.isActive}}}catch(v){console.warn("[AuthContext] Failed to fetch subscription info:",v)}const I={id:b.owner.id.toString(),username:b.owner.ownerName,role:"admin",permissions:["view_dashboard","manage_students","manage_memberships","view_reports","manage_seats","manage_shifts","manage_hostel","manage_transactions","manage_expenses","manage_products","manage_lockers_or_staff","manage_branches","manage_users"],libraryId:b.owner.id,libraryCode:b.owner.libraryCode,isOwner:!0,...C};r(I);return}}const y=await De.checkAuthStatus();if(y&&y.isAuthenticated&&y.user){const b={...y.user,permissions:y.user.permissions||[]};r(b);return}const g=await Ei("/student-auth/status");if(g.ok){const b=await g.json();if(b.isAuthenticated&&b.student){const C={id:b.student.id.toString(),username:b.student.name,role:"student",permissions:[],libraryId:b.student.library_id};r(C);return}}r(null)}catch(m){console.error("Error during auth check:",m),r(null)}finally{h&&s(!1)}};A(!0);const u=setInterval(()=>A(!1),3e4);return()=>clearInterval(u)},[]);const o=A=>{A.permissions=A.permissions||[],r(A),s(!1)},l=async()=>{s(!0);try{t&&t.isOwner?await Ei("/owner-auth/logout",{method:"POST"}):await De.logout(),r(null),window.location.href="/#/"}catch(A){console.error("Logout failed:",A)}finally{s(!1)}};return a.jsx(dR.Provider,{value:{isAuthenticated:!!t,user:t,login:o,logout:l,refreshUser:i,isLoading:n},children:e})},Ca=()=>B.useContext(dR);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hR=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=B.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},A)=>B.createElement("svg",{ref:A,...dee,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:hR("lucide",s),...l},[...o.map(([u,h])=>B.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=(e,t)=>{const r=B.forwardRef(({className:n,...s},i)=>B.createElement(hee,{ref:i,iconNode:t,className:hR(`lucide-${uee(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=gt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=gt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=gt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=gt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=gt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=gt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=gt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=gt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=gt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=gt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=gt("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=gt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=gt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=gt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=gt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=gt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=gt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=gt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=gt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=gt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=gt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=gt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=gt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=gt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=gt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=gt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=gt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=gt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=gt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=gt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=gt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=gt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=gt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=gt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=gt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=gt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=gt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=gt("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=gt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=gt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=gt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=gt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=gt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=gt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=gt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=gt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=gt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=gt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=gt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=gt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=gt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=gt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=gt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=gt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=gt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=gt("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=gt("Rows3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=gt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=gt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=gt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=gt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=gt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=gt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=gt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=gt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=gt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=gt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=gt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=gt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=gt("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=gt("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=gt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=gt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=gt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=gt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=gt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=gt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=gt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=gt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=gt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=gt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=gt("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=gt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=gt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=gt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ri=()=>{const{user:e,logout:t}=Ca(),r=Rr(),s=(()=>{if(e!=null&&e.subscription_end_date){const A=new Date(e.subscription_end_date),u=new Date,h=A.getTime()-u.getTime(),m=Math.ceil(h/(1e3*3600*24));return m>0?m:0}return null})(),o=e!=null&&e.subscription_plan?{free_trial:"Free Trial","1_month":"Monthly Plan","3_month":"Quarterly Plan","6_month":"Half-Yearly Plan","9_month":"Nine-Month Plan","12_month":"Annual Plan"}[e.subscription_plan]||e.subscription_plan:"No Plan",l=()=>{t(),r("/login")};return a.jsxs("div",{className:"flex flex-col bg-white",children:[(e==null?void 0:e.is_trial)&&s!==null&&s>0&&a.jsxs("div",{className:"bg-green-100 border-b border-green-400 text-green-700 px-4 py-2 text-center text-sm font-medium",children:[" ",o," Active  ",s," Days Left"]}),(e==null?void 0:e.is_subscription_active)&&!(e!=null&&e.is_trial)&&a.jsxs("div",{className:"bg-blue-100 border-b border-blue-400 text-blue-700 px-4 py-2 text-center text-sm font-medium",children:[" ",o," Active"]}),!(e!=null&&e.is_subscription_active)&&!(e!=null&&e.is_trial)&&(e==null?void 0:e.role)==="admin"&&a.jsxs("div",{className:"bg-yellow-100 border-b border-yellow-400 text-yellow-700 px-4 py-2 text-center text-sm font-medium",children:[" No Active Subscription  ",a.jsx("a",{href:"/subscription-plans",className:"underline font-bold",children:"Subscribe Now"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2 px-4 border-b border-gray-200",children:[a.jsx("div",{className:"flex-1 max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-purple-300"})]})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:a.jsx(mee,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-9 w-9 rounded-full bg-purple-600 flex items-center justify-center text-white",children:e&&e.username?e.username.charAt(0).toUpperCase():"U"}),a.jsxs("div",{className:"hidden md:block",children:[a.jsx("p",{className:"text-sm font-medium",children:(e==null?void 0:e.username)||"User"}),a.jsx("button",{onClick:l,className:"text-xs text-gray-500 hover:text-purple-600",children:"Sign out"})]})]})]})]})]})};var xS={};xS.match=Vee;xS.parse=CR;var Dee=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,Uee=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,Mee=/^(?:(min|max)-)?(.+)/,Qee=/(em|rem|px|cm|mm|in|pt|pc)?$/,Hee=/(dpi|dpcm|dppx)?$/;function Vee(e,t){return CR(e).some(function(r){var n=r.inverse,s=r.type==="all"||t.type===r.type;if(s&&n||!(s||n))return!1;var i=r.expressions.every(function(o){var l=o.feature,A=o.modifier,u=o.value,h=t[l];if(!h)return!1;switch(l){case"orientation":case"scan":return h.toLowerCase()===u.toLowerCase();case"width":case"height":case"device-width":case"device-height":u=GF(u),h=GF(h);break;case"resolution":u=KF(u),h=KF(h);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":u=VF(u),h=VF(h);break;case"grid":case"color":case"color-index":case"monochrome":u=parseInt(u,10)||1,h=parseInt(h,10)||0;break}switch(A){case"min":return h>=u;case"max":return h<=u;default:return h===u}});return i&&!n||!i&&n})}function CR(e){return e.split(",").map(function(t){t=t.trim();var r=t.match(Dee),n=r[1],s=r[2],i=r[3]||"",o={};return o.inverse=!!n&&n.toLowerCase()==="not",o.type=s?s.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],o.expressions=i.map(function(l){var A=l.match(Uee),u=A[1].toLowerCase().match(Mee);return{modifier:u[1],feature:u[2],value:A[2]}}),o})}function VF(e){var t=Number(e),r;return t||(r=e.match(/^(\d+)\s*\/\s*(\d+)$/),t=r[1]/r[2]),t}function KF(e){var t=parseFloat(e),r=String(e).match(Hee)[1];switch(r){case"dpcm":return t/2.54;case"dppx":return t*96;default:return t}}function GF(e){var t=parseFloat(e),r=String(e).match(Qee)[1];switch(r){case"em":return t*16;case"rem":return t*16;case"cm":return t*96/2.54;case"mm":return t*96/2.54/10;case"in":return t*96;case"pt":return t*72;case"pc":return t*72/12;default:return t}}var Kee=xS.match,WF=typeof window<"u"?window.matchMedia:null;function Gee(e,t,r){var n=this,s;WF&&!r&&(s=WF.call(window,e)),s?(this.matches=s.matches,this.media=s.media,s.addListener(l)):(this.matches=Kee(e,t),this.media=e),this.addListener=i,this.removeListener=o,this.dispose=A;function i(u){s&&s.addListener(u)}function o(u){s&&s.removeListener(u)}function l(u){n.matches=u.matches,n.media=u.media}function A(){s&&s.removeListener(l)}}function Wee(e,t,r){return new Gee(e,t,r)}var zee=Wee;const $ee=$g(zee);var qee=/[A-Z]/g,Xee=/^ms-/,Xb={};function Yee(e){return"-"+e.toLowerCase()}function BR(e){if(Xb.hasOwnProperty(e))return Xb[e];var t=e.replace(qee,Yee);return Xb[e]=Xee.test(t)?"-"+t:t}function Zee(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),n=Object.keys(t),s=r.length;if(n.length!==s)return!1;for(let i=0;i<s;i++){const o=r[i];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var NR={exports:{}},Jee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ete=Jee,tte=ete;function SR(){}function ER(){}ER.resetWarningCache=SR;var rte=function(){function e(n,s,i,o,l,A){if(A!==tte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ER,resetWarningCache:SR};return r.PropTypes=r,r};NR.exports=rte();var nte=NR.exports;const dn=$g(nte),Aa=dn.oneOfType([dn.string,dn.number]),yS={all:dn.bool,grid:dn.bool,aural:dn.bool,braille:dn.bool,handheld:dn.bool,print:dn.bool,projection:dn.bool,screen:dn.bool,tty:dn.bool,tv:dn.bool,embossed:dn.bool},IR={orientation:dn.oneOf(["portrait","landscape"]),scan:dn.oneOf(["progressive","interlace"]),aspectRatio:dn.string,deviceAspectRatio:dn.string,height:Aa,deviceHeight:Aa,width:Aa,deviceWidth:Aa,color:dn.bool,colorIndex:dn.bool,monochrome:dn.bool,resolution:Aa,type:Object.keys(yS)},{type:N4e,...ste}=IR,FR={minAspectRatio:dn.string,maxAspectRatio:dn.string,minDeviceAspectRatio:dn.string,maxDeviceAspectRatio:dn.string,minHeight:Aa,maxHeight:Aa,minDeviceHeight:Aa,maxDeviceHeight:Aa,minWidth:Aa,maxWidth:Aa,minDeviceWidth:Aa,maxDeviceWidth:Aa,minColor:dn.number,maxColor:dn.number,minColorIndex:dn.number,maxColorIndex:dn.number,minMonochrome:dn.number,maxMonochrome:dn.number,minResolution:Aa,maxResolution:Aa,...ste},ite={...yS,...FR};var ate={all:ite,types:yS,matchers:IR,features:FR};const ote=e=>`not ${e}`,lte=(e,t)=>{const r=BR(e);return typeof t=="number"&&(t=`${t}px`),t===!0?r:t===!1?ote(r):`(${r}: ${t})`},cte=e=>e.join(" and "),Ate=e=>{const t=[];return Object.keys(ate.all).forEach(r=>{const n=e[r];n!=null&&t.push(lte(r,n))}),cte(t)},ute=B.createContext(void 0),dte=e=>e.query||Ate(e),zF=e=>e?Object.keys(e).reduce((r,n)=>(r[BR(n)]=e[n],r),{}):void 0,jR=()=>{const e=B.useRef(!1);return B.useEffect(()=>{e.current=!0},[]),e.current},hte=e=>{const t=B.useContext(ute),r=()=>zF(e)||zF(t),[n,s]=B.useState(r);return B.useEffect(()=>{const i=r();Zee(n,i)||s(i)},[e,t]),n},fte=e=>{const t=()=>dte(e),[r,n]=B.useState(t);return B.useEffect(()=>{const s=t();r!==s&&n(s)},[e]),r},mte=(e,t)=>{const r=()=>$ee(e,t||{},!!t),[n,s]=B.useState(r),i=jR();return B.useEffect(()=>{if(i){const o=r();return s(o),()=>{o&&o.dispose()}}},[e,t]),n},pte=e=>{const[t,r]=B.useState(e.matches);return B.useEffect(()=>{const n=s=>{r(s.matches)};return e.addListener(n),r(e.matches),()=>{e.removeListener(n)}},[e]),t},gte=(e,t,r)=>{const n=hte(t),s=fte(e);if(!s)throw new Error("Invalid or missing MediaQuery!");const i=mte(s,n),o=pte(i),l=jR();return B.useEffect(()=>{l&&r&&r(o)},[o]),B.useEffect(()=>()=>{i&&i.dispose()},[]),o},xte=""+new URL("logo-B0DErw8i.jpg",import.meta.url).href,yte=(e,t)=>!e||!e.permissions?!1:e.role==="admin"?!0:t==="manage_lockers_or_staff"?e.role==="admin"||e.role==="staff":e.permissions.includes(t),Kn=({isCollapsed:e,setIsCollapsed:t,onBarcodeClick:r})=>{const{user:n}=Ca(),s=Ld(),i=Rr(),[o,l]=B.useState(!1),[A,u]=B.useState(!1),[h,m]=B.useState(!1),y=gte({query:"(max-width: 767px)"}),g=y?!1:e,b=v=>v==="/"?s.pathname==="/":s.pathname.startsWith(v),C=[{path:"/dashboard",icon:a.jsx(dS,{size:20}),label:"Home",permission:null},{path:"/students",icon:a.jsx(Pee,{size:20}),label:"Library Students",hasDropdown:!0,permission:"manage_library_students"},{path:"/attendance",icon:a.jsx(Fc,{size:20}),label:"Attendance",permission:"manage_library_students"},{path:"#",icon:a.jsx(NA,{size:20}),label:"Barcode",permission:"manage_library_students",onClick:r},{path:"/announcements",icon:a.jsx(W0,{size:20}),label:"Announcements",permission:"manage_library_students"},{path:"/admission-requests",icon:a.jsx(Lee,{size:20}),label:"Admission Requests",permission:"manage_library_students"},{path:"/admin/queries",icon:a.jsx(Tee,{size:20}),label:"Admin Queries",permission:"admin_only"},{path:"/schedule",icon:a.jsx(rl,{size:20}),label:"Schedule",permission:"manage_schedules"},{path:"/shifts",icon:a.jsx(Js,{size:20}),label:"Shifts",permission:"manage_schedules"},{path:"/seats",icon:a.jsx(pR,{size:20}),label:"Seats",permission:"manage_seats"},{path:"/branches",icon:a.jsx(dm,{size:20}),label:"Manage Branches",permission:"manage_branches"},{path:"/products",icon:a.jsx(Eee,{size:20}),label:"Products",permission:"manage_products"},{path:"/transactions",icon:a.jsx(ev,{size:20}),label:"Transactions",permission:"view_transactions"},{path:"/collections",icon:a.jsx(Ny,{size:20}),label:"Collection & Due",permission:"view_collections"},{path:"/expenses",icon:a.jsx(QF,{size:20}),label:"Expenses",permission:"manage_expenses"},{path:"/profit-loss",icon:a.jsx(wee,{size:20}),label:"Profit & Loss",permission:"view_reports"},{path:"/lockers",icon:a.jsx(fee,{size:20}),label:"Lockers",permission:"manage_lockers_or_staff"},{path:"/settings",icon:a.jsx(yR,{size:20}),label:"Settings",permission:"admin_only"},{path:"/subscription",icon:a.jsx(QF,{size:20}),label:"Subscription",permission:"admin_only"}],I=()=>{i("/"),y&&m(!1)};return a.jsxs(a.Fragment,{children:[y&&a.jsx("button",{className:"fixed top-4 left-4 z-50 md:hidden p-2 rounded-md bg-white shadow-md",onClick:()=>m(!0),children:a.jsx(Nee,{size:24})}),y&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>m(!1)}),a.jsxs("div",{className:`h-screen bg-gradient-to-br from-purple-50 to-orange-50 border-r border-gray-100 flex flex-col min-h-0 transition-all duration-300 ${y?h?"fixed top-0 left-0 z-50 w-64":"hidden":g?"w-16":"w-64"}`,children:[a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[!g&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("img",{src:xte,alt:"Library Logo",className:"h-10 w-10 rounded-full object-cover"}),a.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-orange-400 text-transparent bg-clip-text",children:["HAVENN ",a.jsx("br",{}),a.jsx("p",{className:"text-sm text-gray-500",children:"Library into Heaven"})]})]}),y?a.jsx("button",{onClick:()=>m(!1),className:"p-1 rounded-full hover:bg-gray-100",children:a.jsx(zA,{size:20})}):a.jsx("button",{onClick:()=>t(!e),className:"p-1 rounded-full hover:bg-gray-100",children:a.jsx(Cn,{size:20,className:`${e?"rotate-180":""}`})})]}),a.jsx("nav",{className:"flex-1 px-2 py-4 overflow-y-auto",children:a.jsx("ul",{className:"space-y-1",children:C.map(v=>{let N=!1;return v.permission===null?N=!0:v.permission==="admin_only"?N=(n==null?void 0:n.role)==="admin":N=yte(n,v.permission),N?a.jsxs("li",{children:[v.onClick?a.jsxs("button",{onClick:()=>{console.log("Barcode button clicked!",v.label),v.onClick?(console.log("Calling onClick handler"),v.onClick()):console.log("No onClick handler found"),y&&m(!1)},className:`flex items-center w-full text-left py-2.5 px-4 rounded-lg transition-colors duration-200 ${g?"justify-center":""} ${b(v.path)?"bg-purple-100 text-purple-700":"text-gray-700 hover:bg-gray-100"}`,children:[v.icon,!g&&a.jsx("span",{className:"ml-3 font-medium",children:v.label})]}):a.jsxs(Yr,{to:v.path,onClick:F=>{v.hasDropdown&&!g?(F.preventDefault(),v.label==="Library Students"?l(!o):v.label==="Hostel Students"&&u(!A)):y&&m(!1)},className:`flex items-center py-2.5 px-4 rounded-lg transition-colors duration-200 ${g?"justify-center":""} ${b(v.path)?"bg-purple-100 text-purple-700":"text-gray-700 hover:bg-gray-100"}`,children:[v.icon,!g&&a.jsxs("div",{className:"flex justify-between items-center w-full",children:[a.jsx("span",{className:"ml-3 font-medium",children:v.label}),v.hasDropdown&&a.jsx(Cn,{size:16,className:`transition-transform ${v.label==="Library Students"&&o||v.label==="Hostel Students"&&A?"rotate-90":""}`})]})]}),!g&&v.hasDropdown&&o&&v.label==="Library Students"&&a.jsxs("div",{className:"ml-8 mt-1 space-y-1 animate-fade-in",children:[a.jsx(Yr,{to:"/students/add",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/students/add")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Add Student"}),a.jsx(Yr,{to:"/students",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/students")&&s.pathname.split("/").length===2?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"View All"}),a.jsxs(Yr,{to:"/active-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/active-students")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:[a.jsx(Bd,{size:14,className:"mr-1.5"}),"Active Students"]}),a.jsxs(Yr,{to:"/expired-memberships",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/expired-memberships")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:[a.jsx(gA,{size:14,className:"mr-1.5"}),"Expired Members"]}),a.jsxs(Yr,{to:"/inactive-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/inactive-students")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:[a.jsx(wR,{size:14,className:"mr-1.5"}),"Inactive Students"]})]}),!g&&v.hasDropdown&&A&&v.label==="Hostel Students"&&a.jsxs("div",{className:"ml-8 mt-1 space-y-1 animate-fade-in",children:[a.jsx(Yr,{to:"/hostel-dashboard",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel-dashboard")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Hostel Dashboard"}),a.jsxs(Yr,{to:"/hostel/active-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/active-students")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:[a.jsx(Bd,{size:14,className:"mr-1.5"}),"Active Students"]}),a.jsx(Yr,{to:"/hostel/collections",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/collections")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Collection & Due"}),a.jsx(Yr,{to:"/hostel/expired",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/expired")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Expired Memberships"}),a.jsx(Yr,{to:"/hostel",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel")&&s.pathname.split("/").length===2?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Student Management"})]})]},v.path):null})})}),a.jsx("div",{className:"p-2",children:a.jsx("button",{className:`flex items-center w-full px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors ${g?"justify-center":""}`,onClick:I,children:a.jsxs("div",{className:`flex items-center gap-3 ${g?"justify-center":""}`,children:[a.jsx(gR,{size:20,className:"text-gray-500"}),!g&&a.jsx("span",{className:"font-medium",children:"Logout"})]})})})]})]})},ka=({title:e,value:t,icon:r,iconBgColor:n,textColor:s="text-gray-900",arrowIcon:i})=>a.jsxs("div",{className:"bg-white rounded-xl p-5 flex flex-col shadow-sm border border-gray-100 relative overflow-hidden",children:[a.jsx("div",{className:`${n} p-2 rounded-lg inline-block`,children:r}),a.jsx("h3",{className:"text-sm text-gray-500 mt-3",children:e}),a.jsx("p",{className:`text-4xl font-semibold mt-1 ${s}`,children:t}),i&&a.jsx("div",{className:"absolute bottom-4 right-4",children:i})]}),wte=e=>e||"N/A",vte=({limit:e,selectedBranchId:t})=>{const[r,n]=B.useState([]),[s,i]=B.useState(!0),[o,l]=B.useState(""),[A,u]=B.useState(1),[h,m]=B.useState(5),y=Rr();B.useEffect(()=>{(async()=>{i(!0);try{const D=await De.getStudents(void 0,void 0,t??void 0);if(!D||!Array.isArray(D.students))throw new Error("Invalid students data");n(D.students)}catch(D){D.response&&D.response.status===401?(je.error("Session expired. Please log in again."),y("/login")):(console.error("Failed to fetch students:",D.message),je.error("Failed to fetch students")),n([])}finally{i(!1)}})()},[y,t]);const g=async T=>{if(window.confirm("Are you sure you want to delete this student?"))try{await De.deleteStudent(T),n(r.filter(D=>D.id!==T)),je.success("Student deleted successfully")}catch(D){console.error("Failed to delete student:",D.message),je.error("Failed to delete student")}},b=T=>{y(`/students/${T}`)},C=r.filter(T=>T.name.toLowerCase().includes(o.toLowerCase())||T.phone.toLowerCase().includes(o.toLowerCase())||T.registrationNumber&&T.registrationNumber.toLowerCase().includes(o.toLowerCase())||T.seatNumber&&T.seatNumber.toLowerCase().includes(o.toLowerCase())),I=e??A*h,v=e?0:I-h,N=C.slice(v,I),F=e?1:Math.ceil(C.length/h);return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-start md:items-center justify-between space-y-2 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Students List"}),!e&&a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:o,onChange:T=>l(T.target.value)})]})]}),s?a.jsx("div",{className:"flex justify-center p-8",children:"Loading students..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-left",children:[a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Registration Number"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Seat"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Membership End"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:N.map(T=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:T.name}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:T.registrationNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:T.seatNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:T.phone}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${T.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.status.charAt(0).toUpperCase()+T.status.slice(1)})}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:wte(T.membershipEnd)}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>b(T.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:a.jsx(za,{size:16})}),a.jsx("button",{onClick:()=>g(T.id),className:"text-red-600 hover:text-red-800 p-2",children:a.jsx(il,{size:16})})]})]},T.id))})]})}),C.length===0&&a.jsx("div",{className:"py-8 text-center text-gray-500",children:"No students found matching your search."})]}),!e&&C.length>0&&a.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:justify-between md:space-y-0 border-t border-gray-200 px-6 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:h,onChange:T=>{m(Number(T.target.value)),u(1)},className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:5,children:"5"}),a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>u(T=>Math.max(T-1,1)),disabled:A===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(Pd,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",A," of ",F]}),a.jsx("button",{onClick:()=>u(T=>Math.min(T+1,F)),disabled:A===F,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(Cn,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",v+1," to ",Math.min(I,C.length)," of"," ",C.length," students"]})]}),e&&C.length>e&&a.jsx("div",{className:"flex justify-center border-t border-gray-100 p-4",children:a.jsxs("button",{onClick:()=>y("/students"),className:"text-purple-600 hover:text-purple-800 text-sm font-medium flex items-center p-2",children:["View all students ",a.jsx(Cn,{size:16,className:"ml-1"})]})})]})};function en(e){"@babel/helpers - typeof";return en=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},en(e)}function bte(e,t){if(en(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(en(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _R(e){var t=bte(e,"string");return en(t)=="symbol"?t:t+""}function ip(e,t,r){return(t=_R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$F(Object(r),!0).forEach(function(n){ip(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$F(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cte(e){if(Array.isArray(e))return e}function Bte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],A=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;A=!1}else for(;!(A=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);A=!0);}catch(h){u=!0,s=h}finally{try{if(!A&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function fB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function TR(e,t){if(e){if(typeof e=="string")return fB(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fB(e,t):void 0}}function Nte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jl(e,t){return Cte(e)||Bte(e,t)||TR(e,t)||Nte()}function Ste(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $A(e,t){if(e==null)return{};var r,n,s=Ste(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var Ete=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Ite(e){var t=e.defaultInputValue,r=t===void 0?"":t,n=e.defaultMenuIsOpen,s=n===void 0?!1:n,i=e.defaultValue,o=i===void 0?null:i,l=e.inputValue,A=e.menuIsOpen,u=e.onChange,h=e.onInputChange,m=e.onMenuClose,y=e.onMenuOpen,g=e.value,b=$A(e,Ete),C=B.useState(l!==void 0?l:r),I=jl(C,2),v=I[0],N=I[1],F=B.useState(A!==void 0?A:s),T=jl(F,2),D=T[0],V=T[1],P=B.useState(g!==void 0?g:o),U=jl(P,2),k=U[0],z=U[1],R=B.useCallback(function(q,X){typeof u=="function"&&u(q,X),z(q)},[u]),H=B.useCallback(function(q,X){var fe;typeof h=="function"&&(fe=h(q,X)),N(fe!==void 0?fe:q)},[h]),J=B.useCallback(function(){typeof y=="function"&&y(),V(!0)},[y]),ne=B.useCallback(function(){typeof m=="function"&&m(),V(!1)},[m]),Y=l!==void 0?l:v,G=A!==void 0?A:D,K=g!==void 0?g:k;return Ar(Ar({},b),{},{inputValue:Y,menuIsOpen:G,onChange:R,onInputChange:H,onMenuClose:ne,onMenuOpen:J,value:K})}function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fr.apply(null,arguments)}function Fte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_R(n.key),n)}}function jte(e,t,r){return t&&qF(e.prototype,t),r&&qF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mB(e,t){return mB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},mB(e,t)}function _te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mB(e,t)}function kw(e){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kw(e)}function kR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kR=function(){return!!e})()}function Tte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kte(e,t){if(t&&(en(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tte(e)}function Lte(e){var t=kR();return function(){var r,n=kw(e);if(t){var s=kw(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return kte(this,r)}}function Pte(e){if(Array.isArray(e))return fB(e)}function Ote(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wS(e){return Pte(e)||Ote(e)||TR(e)||Rte()}var Dte=!1;function Ute(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Mte(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Qte=function(){function e(r){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!Dte:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Mte(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Ute(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Gi="-ms-",Lw="-moz-",An="-webkit-",LR="comm",vS="rule",bS="decl",Hte="@import",PR="@keyframes",Vte="@layer",Kte=Math.abs,rv=String.fromCharCode,Gte=Object.assign;function Wte(e,t){return Si(e,0)^45?(((t<<2^Si(e,0))<<2^Si(e,1))<<2^Si(e,2))<<2^Si(e,3):0}function OR(e){return e.trim()}function zte(e,t){return(e=t.exec(e))?e[0]:e}function un(e,t,r){return e.replace(t,r)}function pB(e,t){return e.indexOf(t)}function Si(e,t){return e.charCodeAt(t)|0}function vg(e,t,r){return e.slice(t,r)}function ac(e){return e.length}function CS(e){return e.length}function fx(e,t){return t.push(e),e}function $te(e,t){return e.map(t).join("")}var nv=1,z0=1,RR=0,$a=0,Hs=0,hm="";function sv(e,t,r,n,s,i,o){return{value:e,root:t,parent:r,type:n,props:s,children:i,line:nv,column:z0,length:o,return:""}}function Qm(e,t){return Gte(sv("",null,null,"",null,null,0),e,{length:-e.length},t)}function qte(){return Hs}function Xte(){return Hs=$a>0?Si(hm,--$a):0,z0--,Hs===10&&(z0=1,nv--),Hs}function wo(){return Hs=$a<RR?Si(hm,$a++):0,z0++,Hs===10&&(z0=1,nv++),Hs}function pc(){return Si(hm,$a)}function Sy(){return $a}function o1(e,t){return vg(hm,e,t)}function bg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DR(e){return nv=z0=1,RR=ac(hm=e),$a=0,[]}function UR(e){return hm="",e}function Ey(e){return OR(o1($a-1,gB(e===91?e+2:e===40?e+1:e)))}function Yte(e){for(;(Hs=pc())&&Hs<33;)wo();return bg(e)>2||bg(Hs)>3?"":" "}function Zte(e,t){for(;--t&&wo()&&!(Hs<48||Hs>102||Hs>57&&Hs<65||Hs>70&&Hs<97););return o1(e,Sy()+(t<6&&pc()==32&&wo()==32))}function gB(e){for(;wo();)switch(Hs){case e:return $a;case 34:case 39:e!==34&&e!==39&&gB(Hs);break;case 40:e===41&&gB(e);break;case 92:wo();break}return $a}function Jte(e,t){for(;wo()&&e+Hs!==57;)if(e+Hs===84&&pc()===47)break;return"/*"+o1(t,$a-1)+"*"+rv(e===47?e:wo())}function ere(e){for(;!bg(pc());)wo();return o1(e,$a)}function tre(e){return UR(Iy("",null,null,null,[""],e=DR(e),0,[0],e))}function Iy(e,t,r,n,s,i,o,l,A){for(var u=0,h=0,m=o,y=0,g=0,b=0,C=1,I=1,v=1,N=0,F="",T=s,D=i,V=n,P=F;I;)switch(b=N,N=wo()){case 40:if(b!=108&&Si(P,m-1)==58){pB(P+=un(Ey(N),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:P+=Ey(N);break;case 9:case 10:case 13:case 32:P+=Yte(b);break;case 92:P+=Zte(Sy()-1,7);continue;case 47:switch(pc()){case 42:case 47:fx(rre(Jte(wo(),Sy()),t,r),A);break;default:P+="/"}break;case 123*C:l[u++]=ac(P)*v;case 125*C:case 59:case 0:switch(N){case 0:case 125:I=0;case 59+h:v==-1&&(P=un(P,/\f/g,"")),g>0&&ac(P)-m&&fx(g>32?YF(P+";",n,r,m-1):YF(un(P," ","")+";",n,r,m-2),A);break;case 59:P+=";";default:if(fx(V=XF(P,t,r,u,h,s,l,F,T=[],D=[],m),i),N===123)if(h===0)Iy(P,t,V,V,T,i,m,l,D);else switch(y===99&&Si(P,3)===110?100:y){case 100:case 108:case 109:case 115:Iy(e,V,V,n&&fx(XF(e,V,V,0,0,s,l,F,s,T=[],m),D),s,D,m,l,n?T:D);break;default:Iy(P,V,V,V,[""],D,0,l,D)}}u=h=g=0,C=v=1,F=P="",m=o;break;case 58:m=1+ac(P),g=b;default:if(C<1){if(N==123)--C;else if(N==125&&C++==0&&Xte()==125)continue}switch(P+=rv(N),N*C){case 38:v=h>0?1:(P+="\f",-1);break;case 44:l[u++]=(ac(P)-1)*v,v=1;break;case 64:pc()===45&&(P+=Ey(wo())),y=pc(),h=m=ac(F=P+=ere(Sy())),N++;break;case 45:b===45&&ac(P)==2&&(C=0)}}return i}function XF(e,t,r,n,s,i,o,l,A,u,h){for(var m=s-1,y=s===0?i:[""],g=CS(y),b=0,C=0,I=0;b<n;++b)for(var v=0,N=vg(e,m+1,m=Kte(C=o[b])),F=e;v<g;++v)(F=OR(C>0?y[v]+" "+N:un(N,/&\f/g,y[v])))&&(A[I++]=F);return sv(e,t,r,s===0?vS:l,A,u,h)}function rre(e,t,r){return sv(e,t,r,LR,rv(qte()),vg(e,2,-2),0)}function YF(e,t,r,n){return sv(e,t,r,bS,vg(e,0,n),vg(e,n+1,-1),n)}function d0(e,t){for(var r="",n=CS(e),s=0;s<n;s++)r+=t(e[s],s,e,t)||"";return r}function nre(e,t,r,n){switch(e.type){case Vte:if(e.children.length)break;case Hte:case bS:return e.return=e.return||e.value;case LR:return"";case PR:return e.return=e.value+"{"+d0(e.children,n)+"}";case vS:e.value=e.props.join(",")}return ac(r=d0(e.children,n))?e.return=e.value+"{"+r+"}":""}function sre(e){var t=CS(e);return function(r,n,s,i){for(var o="",l=0;l<t;l++)o+=e[l](r,n,s,i)||"";return o}}function ire(e){return function(t){t.root||(t=t.return)&&e(t)}}function are(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var ore=function(t,r,n){for(var s=0,i=0;s=i,i=pc(),s===38&&i===12&&(r[n]=1),!bg(i);)wo();return o1(t,$a)},lre=function(t,r){var n=-1,s=44;do switch(bg(s)){case 0:s===38&&pc()===12&&(r[n]=1),t[n]+=ore($a-1,r,n);break;case 2:t[n]+=Ey(s);break;case 4:if(s===44){t[++n]=pc()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=rv(s)}while(s=wo());return t},cre=function(t,r){return UR(lre(DR(t),r))},ZF=new WeakMap,Are=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,s=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!ZF.get(n))&&!s){ZF.set(t,!0);for(var i=[],o=cre(r,i),l=n.props,A=0,u=0;A<o.length;A++)for(var h=0;h<l.length;h++,u++)t.props[u]=i[A]?o[A].replace(/&\f/g,l[h]):l[h]+" "+o[A]}}},ure=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function MR(e,t){switch(Wte(e,t)){case 5103:return An+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return An+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return An+e+Lw+e+Gi+e+e;case 6828:case 4268:return An+e+Gi+e+e;case 6165:return An+e+Gi+"flex-"+e+e;case 5187:return An+e+un(e,/(\w+).+(:[^]+)/,An+"box-$1$2"+Gi+"flex-$1$2")+e;case 5443:return An+e+Gi+"flex-item-"+un(e,/flex-|-self/,"")+e;case 4675:return An+e+Gi+"flex-line-pack"+un(e,/align-content|flex-|-self/,"")+e;case 5548:return An+e+Gi+un(e,"shrink","negative")+e;case 5292:return An+e+Gi+un(e,"basis","preferred-size")+e;case 6060:return An+"box-"+un(e,"-grow","")+An+e+Gi+un(e,"grow","positive")+e;case 4554:return An+un(e,/([^-])(transform)/g,"$1"+An+"$2")+e;case 6187:return un(un(un(e,/(zoom-|grab)/,An+"$1"),/(image-set)/,An+"$1"),e,"")+e;case 5495:case 3959:return un(e,/(image-set\([^]*)/,An+"$1$`$1");case 4968:return un(un(e,/(.+:)(flex-)?(.*)/,An+"box-pack:$3"+Gi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+An+e+e;case 4095:case 3583:case 4068:case 2532:return un(e,/(.+)-inline(.+)/,An+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ac(e)-1-t>6)switch(Si(e,t+1)){case 109:if(Si(e,t+4)!==45)break;case 102:return un(e,/(.+:)(.+)-([^]+)/,"$1"+An+"$2-$3$1"+Lw+(Si(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~pB(e,"stretch")?MR(un(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Si(e,t+1)!==115)break;case 6444:switch(Si(e,ac(e)-3-(~pB(e,"!important")&&10))){case 107:return un(e,":",":"+An)+e;case 101:return un(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+An+(Si(e,14)===45?"inline-":"")+"box$3$1"+An+"$2$3$1"+Gi+"$2box$3")+e}break;case 5936:switch(Si(e,t+11)){case 114:return An+e+Gi+un(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return An+e+Gi+un(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return An+e+Gi+un(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return An+e+Gi+e+e}return e}var dre=function(t,r,n,s){if(t.length>-1&&!t.return)switch(t.type){case bS:t.return=MR(t.value,t.length);break;case PR:return d0([Qm(t,{value:un(t.value,"@","@"+An)})],s);case vS:if(t.length)return $te(t.props,function(i){switch(zte(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return d0([Qm(t,{props:[un(i,/:(read-\w+)/,":"+Lw+"$1")]})],s);case"::placeholder":return d0([Qm(t,{props:[un(i,/:(plac\w+)/,":"+An+"input-$1")]}),Qm(t,{props:[un(i,/:(plac\w+)/,":"+Lw+"$1")]}),Qm(t,{props:[un(i,/:(plac\w+)/,Gi+"input-$1")]})],s)}return""})}},hre=[dre],fre=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(C){var I=C.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var s=t.stylisPlugins||hre,i={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(C){for(var I=C.getAttribute("data-emotion").split(" "),v=1;v<I.length;v++)i[I[v]]=!0;l.push(C)});var A,u=[Are,ure];{var h,m=[nre,ire(function(C){h.insert(C)})],y=sre(u.concat(s,m)),g=function(I){return d0(tre(I),y)};A=function(I,v,N,F){h=N,g(I?I+"{"+v.styles+"}":v.styles),F&&(b.inserted[v.name]=!0)}}var b={key:r,sheet:new Qte({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:A};return b.sheet.hydrate(l),b},QR={exports:{}},Nn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=typeof Symbol=="function"&&Symbol.for,BS=di?Symbol.for("react.element"):60103,NS=di?Symbol.for("react.portal"):60106,iv=di?Symbol.for("react.fragment"):60107,av=di?Symbol.for("react.strict_mode"):60108,ov=di?Symbol.for("react.profiler"):60114,lv=di?Symbol.for("react.provider"):60109,cv=di?Symbol.for("react.context"):60110,SS=di?Symbol.for("react.async_mode"):60111,Av=di?Symbol.for("react.concurrent_mode"):60111,uv=di?Symbol.for("react.forward_ref"):60112,dv=di?Symbol.for("react.suspense"):60113,mre=di?Symbol.for("react.suspense_list"):60120,hv=di?Symbol.for("react.memo"):60115,fv=di?Symbol.for("react.lazy"):60116,pre=di?Symbol.for("react.block"):60121,gre=di?Symbol.for("react.fundamental"):60117,xre=di?Symbol.for("react.responder"):60118,yre=di?Symbol.for("react.scope"):60119;function So(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case BS:switch(e=e.type,e){case SS:case Av:case iv:case ov:case av:case dv:return e;default:switch(e=e&&e.$$typeof,e){case cv:case uv:case fv:case hv:case lv:return e;default:return t}}case NS:return t}}}function HR(e){return So(e)===Av}Nn.AsyncMode=SS;Nn.ConcurrentMode=Av;Nn.ContextConsumer=cv;Nn.ContextProvider=lv;Nn.Element=BS;Nn.ForwardRef=uv;Nn.Fragment=iv;Nn.Lazy=fv;Nn.Memo=hv;Nn.Portal=NS;Nn.Profiler=ov;Nn.StrictMode=av;Nn.Suspense=dv;Nn.isAsyncMode=function(e){return HR(e)||So(e)===SS};Nn.isConcurrentMode=HR;Nn.isContextConsumer=function(e){return So(e)===cv};Nn.isContextProvider=function(e){return So(e)===lv};Nn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===BS};Nn.isForwardRef=function(e){return So(e)===uv};Nn.isFragment=function(e){return So(e)===iv};Nn.isLazy=function(e){return So(e)===fv};Nn.isMemo=function(e){return So(e)===hv};Nn.isPortal=function(e){return So(e)===NS};Nn.isProfiler=function(e){return So(e)===ov};Nn.isStrictMode=function(e){return So(e)===av};Nn.isSuspense=function(e){return So(e)===dv};Nn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===iv||e===Av||e===ov||e===av||e===dv||e===mre||typeof e=="object"&&e!==null&&(e.$$typeof===fv||e.$$typeof===hv||e.$$typeof===lv||e.$$typeof===cv||e.$$typeof===uv||e.$$typeof===gre||e.$$typeof===xre||e.$$typeof===yre||e.$$typeof===pre)};Nn.typeOf=So;QR.exports=Nn;var wre=QR.exports,VR=wre,vre={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bre={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},KR={};KR[VR.ForwardRef]=vre;KR[VR.Memo]=bre;var Cre=!0;function Bre(e,t,r){var n="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(n+=s+" ")}),n}var GR=function(t,r,n){var s=t.key+"-"+r.name;(n===!1||Cre===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},Nre=function(t,r,n){GR(t,r,n);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function Sre(e){for(var t=0,r,n=0,s=e.length;s>=4;++n,s-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Ere={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ire=!1,Fre=/[A-Z]|^ms/g,jre=/_EMO_([^_]+?)_([^]*?)_EMO_/g,WR=function(t){return t.charCodeAt(1)===45},JF=function(t){return t!=null&&typeof t!="boolean"},Yb=are(function(e){return WR(e)?e:e.replace(Fre,"-$&").toLowerCase()}),ej=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(jre,function(n,s,i){return oc={name:s,styles:i,next:oc},s})}return Ere[t]!==1&&!WR(t)&&typeof r=="number"&&r!==0?r+"px":r},_re="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Cg(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return oc={name:s.name,styles:s.styles,next:oc},s.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)oc={name:o.name,styles:o.styles,next:oc},o=o.next;var l=i.styles+";";return l}return Tre(e,t,r)}case"function":{if(e!==void 0){var A=oc,u=r(e);return oc=A,Cg(e,t,u)}break}}var h=r;return h}function Tre(e,t,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=Cg(e,t,r[s])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;JF(l)&&(n+=Yb(i)+":"+ej(i,l)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&Ire)throw new Error(_re);if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var A=0;A<o.length;A++)JF(o[A])&&(n+=Yb(i)+":"+ej(i,o[A])+";");else{var u=Cg(e,t,o);switch(i){case"animation":case"animationName":{n+=Yb(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}}return n}var tj=/label:\s*([^\s;{]+)\s*(;|$)/g,oc;function zR(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,s="";oc=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,s+=Cg(r,t,i);else{var o=i;s+=o[0]}for(var l=1;l<e.length;l++)if(s+=Cg(r,t,e[l]),n){var A=i;s+=A[l]}tj.lastIndex=0;for(var u="",h;(h=tj.exec(s))!==null;)u+="-"+h[1];var m=Sre(s)+u;return{name:m,styles:s,next:oc}}var kre=function(t){return t()},Lre=L0.useInsertionEffect?L0.useInsertionEffect:!1,Pre=Lre||kre,Ore=!1,$R=B.createContext(typeof HTMLElement<"u"?fre({key:"css"}):null);$R.Provider;var Rre=function(t){return B.forwardRef(function(r,n){var s=B.useContext($R);return t(r,s,n)})},Dre=B.createContext({}),ES={}.hasOwnProperty,xB="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ure=function(t,r){var n={};for(var s in r)ES.call(r,s)&&(n[s]=r[s]);return n[xB]=t,n},Mre=function(t){var r=t.cache,n=t.serialized,s=t.isStringTag;return GR(r,n,s),Pre(function(){return Nre(r,n,s)}),null},Qre=Rre(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var s=e[xB],i=[n],o="";typeof e.className=="string"?o=Bre(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var l=zR(i,void 0,B.useContext(Dre));o+=t.key+"-"+l.name;var A={};for(var u in e)ES.call(e,u)&&u!=="css"&&u!==xB&&!Ore&&(A[u]=e[u]);return A.className=o,r&&(A.ref=r),B.createElement(B.Fragment,null,B.createElement(Mre,{cache:t,serialized:l,isStringTag:typeof s=="string"}),B.createElement(s,A))}),Hre=Qre,nr=function(t,r){var n=arguments;if(r==null||!ES.call(r,"css"))return B.createElement.apply(void 0,n);var s=n.length,i=new Array(s);i[0]=Hre,i[1]=Ure(t,r);for(var o=2;o<s;o++)i[o]=n[o];return B.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(nr||(nr={}));function IS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return zR(t)}function Vre(){var e=IS.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Kre(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yB=B.useLayoutEffect,Gre=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Pw=function(){};function Wre(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function zre(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var i=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&i.push("".concat(Wre(e,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var rj=function(t){return rne(t)?t.filter(Boolean):en(t)==="object"&&t!==null?[t]:[]},qR=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=$A(t,Gre);return Ar({},r)},Es=function(t,r,n){var s=t.cx,i=t.getStyles,o=t.getClassNames,l=t.className;return{css:i(r,t),className:s(n??{},o(r,t),l)}};function mv(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function $re(e){return mv(e)?window.innerHeight:e.clientHeight}function XR(e){return mv(e)?window.pageYOffset:e.scrollTop}function Ow(e,t){if(mv(e)){window.scrollTo(0,t);return}e.scrollTop=t}function qre(e){var t=getComputedStyle(e),r=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),!(r&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function Xre(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function mx(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Pw,s=XR(e),i=t-s,o=10,l=0;function A(){l+=o;var u=Xre(l,s,i,r);Ow(e,u),l<r?window.requestAnimationFrame(A):n(e)}A()}function nj(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=t.offsetHeight/3;n.bottom+s>r.bottom?Ow(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):n.top-s<r.top&&Ow(e,Math.max(t.offsetTop-s,0))}function Yre(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function sj(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Zre(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var YR=!1,Jre={get passive(){return YR=!0}},px=typeof window<"u"?window:{};px.addEventListener&&px.removeEventListener&&(px.addEventListener("p",Pw,Jre),px.removeEventListener("p",Pw,!1));var ene=YR;function tne(e){return e!=null}function rne(e){return Array.isArray(e)}function gx(e,t,r){return e?t:r}var nne=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var i=Object.entries(t).filter(function(o){var l=jl(o,1),A=l[0];return!n.includes(A)});return i.reduce(function(o,l){var A=jl(l,2),u=A[0],h=A[1];return o[u]=h,o},{})},sne=["children","innerProps"],ine=["children","innerProps"];function ane(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,s=e.placement,i=e.shouldScroll,o=e.isFixedPosition,l=e.controlHeight,A=qre(r),u={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return u;var h=A.getBoundingClientRect(),m=h.height,y=r.getBoundingClientRect(),g=y.bottom,b=y.height,C=y.top,I=r.offsetParent.getBoundingClientRect(),v=I.top,N=o?window.innerHeight:$re(A),F=XR(A),T=parseInt(getComputedStyle(r).marginBottom,10),D=parseInt(getComputedStyle(r).marginTop,10),V=v-D,P=N-C,U=V+F,k=m-F-C,z=g-N+F+T,R=F+C-D,H=160;switch(s){case"auto":case"bottom":if(P>=b)return{placement:"bottom",maxHeight:t};if(k>=b&&!o)return i&&mx(A,z,H),{placement:"bottom",maxHeight:t};if(!o&&k>=n||o&&P>=n){i&&mx(A,z,H);var J=o?P-T:k-T;return{placement:"bottom",maxHeight:J}}if(s==="auto"||o){var ne=t,Y=o?V:U;return Y>=n&&(ne=Math.min(Y-T-l,t)),{placement:"top",maxHeight:ne}}if(s==="bottom")return i&&Ow(A,z),{placement:"bottom",maxHeight:t};break;case"top":if(V>=b)return{placement:"top",maxHeight:t};if(U>=b&&!o)return i&&mx(A,R,H),{placement:"top",maxHeight:t};if(!o&&U>=n||o&&V>=n){var G=t;return(!o&&U>=n||o&&V>=n)&&(G=o?V-D:U-D),i&&mx(A,R,H),{placement:"top",maxHeight:G}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function one(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var ZR=function(t){return t==="auto"?"bottom":t},lne=function(t,r){var n,s=t.placement,i=t.theme,o=i.borderRadius,l=i.spacing,A=i.colors;return Ar((n={label:"menu"},ip(n,one(s),"100%"),ip(n,"position","absolute"),ip(n,"width","100%"),ip(n,"zIndex",1),n),r?{}:{backgroundColor:A.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},JR=B.createContext(null),cne=function(t){var r=t.children,n=t.minMenuHeight,s=t.maxMenuHeight,i=t.menuPlacement,o=t.menuPosition,l=t.menuShouldScrollIntoView,A=t.theme,u=B.useContext(JR)||{},h=u.setPortalPlacement,m=B.useRef(null),y=B.useState(s),g=jl(y,2),b=g[0],C=g[1],I=B.useState(null),v=jl(I,2),N=v[0],F=v[1],T=A.spacing.controlHeight;return yB(function(){var D=m.current;if(D){var V=o==="fixed",P=l&&!V,U=ane({maxHeight:s,menuEl:D,minHeight:n,placement:i,shouldScroll:P,isFixedPosition:V,controlHeight:T});C(U.maxHeight),F(U.placement),h==null||h(U.placement)}},[s,i,o,l,n,h,T]),r({ref:m,placerProps:Ar(Ar({},t),{},{placement:N||ZR(i),maxHeight:b})})},Ane=function(t){var r=t.children,n=t.innerRef,s=t.innerProps;return nr("div",fr({},Es(t,"menu",{menu:!0}),{ref:n},s),r)},une=Ane,dne=function(t,r){var n=t.maxHeight,s=t.theme.spacing.baseUnit;return Ar({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},hne=function(t){var r=t.children,n=t.innerProps,s=t.innerRef,i=t.isMulti;return nr("div",fr({},Es(t,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},n),r)},eD=function(t,r){var n=t.theme,s=n.spacing.baseUnit,i=n.colors;return Ar({textAlign:"center"},r?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},fne=eD,mne=eD,pne=function(t){var r=t.children,n=r===void 0?"No options":r,s=t.innerProps,i=$A(t,sne);return nr("div",fr({},Es(Ar(Ar({},i),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},gne=function(t){var r=t.children,n=r===void 0?"Loading...":r,s=t.innerProps,i=$A(t,ine);return nr("div",fr({},Es(Ar(Ar({},i),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},xne=function(t){var r=t.rect,n=t.offset,s=t.position;return{left:r.left,position:s,top:n,width:r.width,zIndex:1}},yne=function(t){var r=t.appendTo,n=t.children,s=t.controlElement,i=t.innerProps,o=t.menuPlacement,l=t.menuPosition,A=B.useRef(null),u=B.useRef(null),h=B.useState(ZR(o)),m=jl(h,2),y=m[0],g=m[1],b=B.useMemo(function(){return{setPortalPlacement:g}},[]),C=B.useState(null),I=jl(C,2),v=I[0],N=I[1],F=B.useCallback(function(){if(s){var P=Yre(s),U=l==="fixed"?0:window.pageYOffset,k=P[y]+U;(k!==(v==null?void 0:v.offset)||P.left!==(v==null?void 0:v.rect.left)||P.width!==(v==null?void 0:v.rect.width))&&N({offset:k,rect:P})}},[s,l,y,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);yB(function(){F()},[F]);var T=B.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&A.current&&(u.current=c7(s,A.current,F,{elementResize:"ResizeObserver"in window}))},[s,F]);yB(function(){T()},[T]);var D=B.useCallback(function(P){A.current=P,T()},[T]);if(!r&&l!=="fixed"||!v)return null;var V=nr("div",fr({ref:D},Es(Ar(Ar({},t),{},{offset:v.offset,position:l,rect:v.rect}),"menuPortal",{"menu-portal":!0}),i),n);return nr(JR.Provider,{value:b},r?Td.createPortal(V,r):V)},wne=function(t){var r=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},vne=function(t){var r=t.children,n=t.innerProps,s=t.isDisabled,i=t.isRtl;return nr("div",fr({},Es(t,"container",{"--is-disabled":s,"--is-rtl":i}),n),r)},bne=function(t,r){var n=t.theme.spacing,s=t.isMulti,i=t.hasValue,o=t.selectProps.controlShouldRenderValue;return Ar({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Cne=function(t){var r=t.children,n=t.innerProps,s=t.isMulti,i=t.hasValue;return nr("div",fr({},Es(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),n),r)},Bne=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Nne=function(t){var r=t.children,n=t.innerProps;return nr("div",fr({},Es(t,"indicatorsContainer",{indicators:!0}),n),r)},ij,Sne=["size"],Ene=["innerProps","isRtl","size"],Ine={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},tD=function(t){var r=t.size,n=$A(t,Sne);return nr("svg",fr({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Ine},n))},FS=function(t){return nr(tD,fr({size:20},t),nr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},rD=function(t){return nr(tD,fr({size:20},t),nr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},nD=function(t,r){var n=t.isFocused,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return Ar({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:i*2,":hover":{color:n?o.neutral80:o.neutral40}})},Fne=nD,jne=function(t){var r=t.children,n=t.innerProps;return nr("div",fr({},Es(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||nr(rD,null))},_ne=nD,Tne=function(t){var r=t.children,n=t.innerProps;return nr("div",fr({},Es(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||nr(FS,null))},kne=function(t,r){var n=t.isDisabled,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return Ar({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},Lne=function(t){var r=t.innerProps;return nr("span",fr({},r,Es(t,"indicatorSeparator",{"indicator-separator":!0})))},Pne=Vre(ij||(ij=Kre([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),One=function(t,r){var n=t.isFocused,s=t.size,i=t.theme,o=i.colors,l=i.spacing.baseUnit;return Ar({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},Zb=function(t){var r=t.delay,n=t.offset;return nr("span",{css:IS({animation:"".concat(Pne," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Rne=function(t){var r=t.innerProps,n=t.isRtl,s=t.size,i=s===void 0?4:s,o=$A(t,Ene);return nr("div",fr({},Es(Ar(Ar({},o),{},{innerProps:r,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),nr(Zb,{delay:0,offset:n}),nr(Zb,{delay:160,offset:!0}),nr(Zb,{delay:320,offset:!n}))},Dne=function(t,r){var n=t.isDisabled,s=t.isFocused,i=t.theme,o=i.colors,l=i.borderRadius,A=i.spacing;return Ar({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:A.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},Une=function(t){var r=t.children,n=t.isDisabled,s=t.isFocused,i=t.innerRef,o=t.innerProps,l=t.menuIsOpen;return nr("div",fr({ref:i},Es(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},Mne=Une,Qne=["data"],Hne=function(t,r){var n=t.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},Vne=function(t){var r=t.children,n=t.cx,s=t.getStyles,i=t.getClassNames,o=t.Heading,l=t.headingProps,A=t.innerProps,u=t.label,h=t.theme,m=t.selectProps;return nr("div",fr({},Es(t,"group",{group:!0}),A),nr(o,fr({},l,{selectProps:m,theme:h,getStyles:s,getClassNames:i,cx:n}),u),nr("div",null,r))},Kne=function(t,r){var n=t.theme,s=n.colors,i=n.spacing;return Ar({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},Gne=function(t){var r=qR(t);r.data;var n=$A(r,Qne);return nr("div",fr({},Es(t,"groupHeading",{"group-heading":!0}),n))},Wne=Vne,zne=["innerRef","isDisabled","isHidden","inputClassName"],$ne=function(t,r){var n=t.isDisabled,s=t.value,i=t.theme,o=i.spacing,l=i.colors;return Ar(Ar({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},qne),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},sD={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},qne={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ar({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},sD)},Xne=function(t){return Ar({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},sD)},Yne=function(t){var r=t.cx,n=t.value,s=qR(t),i=s.innerRef,o=s.isDisabled,l=s.isHidden,A=s.inputClassName,u=$A(s,zne);return nr("div",fr({},Es(t,"input",{"input-container":!0}),{"data-value":n||""}),nr("input",fr({className:r({input:!0},A),ref:i,style:Xne(l),disabled:o},u)))},Zne=Yne,Jne=function(t,r){var n=t.theme,s=n.spacing,i=n.borderRadius,o=n.colors;return Ar({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},ese=function(t,r){var n=t.theme,s=n.borderRadius,i=n.colors,o=t.cropWithEllipsis;return Ar({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},tse=function(t,r){var n=t.theme,s=n.spacing,i=n.borderRadius,o=n.colors,l=t.isFocused;return Ar({alignItems:"center",display:"flex"},r?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},iD=function(t){var r=t.children,n=t.innerProps;return nr("div",n,r)},rse=iD,nse=iD;function sse(e){var t=e.children,r=e.innerProps;return nr("div",fr({role:"button"},r),t||nr(FS,{size:14}))}var ise=function(t){var r=t.children,n=t.components,s=t.data,i=t.innerProps,o=t.isDisabled,l=t.removeProps,A=t.selectProps,u=n.Container,h=n.Label,m=n.Remove;return nr(u,{data:s,innerProps:Ar(Ar({},Es(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:A},nr(h,{data:s,innerProps:Ar({},Es(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:A},r),nr(m,{data:s,innerProps:Ar(Ar({},Es(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:A}))},ase=ise,ose=function(t,r){var n=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.theme,l=o.spacing,A=o.colors;return Ar({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:i?A.primary:s?A.primary25:"transparent",color:n?A.neutral20:i?A.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?A.primary:A.primary50}})},lse=function(t){var r=t.children,n=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.innerRef,l=t.innerProps;return nr("div",fr({},Es(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":n},l),r)},cse=lse,Ase=function(t,r){var n=t.theme,s=n.spacing,i=n.colors;return Ar({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},use=function(t){var r=t.children,n=t.innerProps;return nr("div",fr({},Es(t,"placeholder",{placeholder:!0}),n),r)},dse=use,hse=function(t,r){var n=t.isDisabled,s=t.theme,i=s.spacing,o=s.colors;return Ar({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},fse=function(t){var r=t.children,n=t.isDisabled,s=t.innerProps;return nr("div",fr({},Es(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),r)},mse=fse,pse={ClearIndicator:Tne,Control:Mne,DropdownIndicator:jne,DownChevron:rD,CrossIcon:FS,Group:Wne,GroupHeading:Gne,IndicatorsContainer:Nne,IndicatorSeparator:Lne,Input:Zne,LoadingIndicator:Rne,Menu:une,MenuList:hne,MenuPortal:yne,LoadingMessage:gne,NoOptionsMessage:pne,MultiValue:ase,MultiValueContainer:rse,MultiValueLabel:nse,MultiValueRemove:sse,Option:cse,Placeholder:dse,SelectContainer:vne,SingleValue:mse,ValueContainer:Cne},gse=function(t){return Ar(Ar({},pse),t.components)},aj=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function xse(e,t){return!!(e===t||aj(e)&&aj(t))}function yse(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!xse(e[r],t[r]))return!1;return!0}function wse(e,t){t===void 0&&(t=yse);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var vse={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},bse=function(t){return nr("span",fr({css:vse},t))},oj=bse,Cse={guidance:function(t){var r=t.isSearchable,n=t.isMulti,s=t.tabSelectsValue,i=t.context,o=t.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,n=t.label,s=n===void 0?"":n,i=t.labels,o=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var r=t.context,n=t.focused,s=t.options,i=t.label,o=i===void 0?"":i,l=t.selectValue,A=t.isDisabled,u=t.isSelected,h=t.isAppleDevice,m=function(C,I){return C&&C.length?"".concat(C.indexOf(I)+1," of ").concat(C.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(m(l,n),".");if(r==="menu"&&h){var y=A?" disabled":"",g="".concat(u?" selected":"").concat(y);return"".concat(o).concat(g,", ").concat(m(s,n),".")}return""},onFilter:function(t){var r=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Bse=function(t){var r=t.ariaSelection,n=t.focusedOption,s=t.focusedValue,i=t.focusableOptions,o=t.isFocused,l=t.selectValue,A=t.selectProps,u=t.id,h=t.isAppleDevice,m=A.ariaLiveMessages,y=A.getOptionLabel,g=A.inputValue,b=A.isMulti,C=A.isOptionDisabled,I=A.isSearchable,v=A.menuIsOpen,N=A.options,F=A.screenReaderStatus,T=A.tabSelectsValue,D=A.isLoading,V=A["aria-label"],P=A["aria-live"],U=B.useMemo(function(){return Ar(Ar({},Cse),m||{})},[m]),k=B.useMemo(function(){var Y="";if(r&&U.onChange){var G=r.option,K=r.options,q=r.removedValue,X=r.removedValues,fe=r.value,de=function(Be){return Array.isArray(Be)?null:Be},Q=q||G||de(fe),Z=Q?y(Q):"",ae=K||X||void 0,ee=ae?ae.map(y):[],oe=Ar({isDisabled:Q&&C(Q,l),label:Z,labels:ee},r);Y=U.onChange(oe)}return Y},[r,U,C,l,y]),z=B.useMemo(function(){var Y="",G=n||s,K=!!(n&&l&&l.includes(n));if(G&&U.onFocus){var q={focused:G,label:y(G),isDisabled:C(G,l),isSelected:K,options:i,context:G===n?"menu":"value",selectValue:l,isAppleDevice:h};Y=U.onFocus(q)}return Y},[n,s,y,C,U,i,l,h]),R=B.useMemo(function(){var Y="";if(v&&N.length&&!D&&U.onFilter){var G=F({count:i.length});Y=U.onFilter({inputValue:g,resultsMessage:G})}return Y},[i,g,v,U,N,F,D]),H=(r==null?void 0:r.action)==="initial-input-focus",J=B.useMemo(function(){var Y="";if(U.guidance){var G=s?"value":v?"menu":"input";Y=U.guidance({"aria-label":V,context:G,isDisabled:n&&C(n,l),isMulti:b,isSearchable:I,tabSelectsValue:T,isInitialFocus:H})}return Y},[V,n,s,b,C,I,v,U,l,T,H]),ne=nr(B.Fragment,null,nr("span",{id:"aria-selection"},k),nr("span",{id:"aria-focused"},z),nr("span",{id:"aria-results"},R),nr("span",{id:"aria-guidance"},J));return nr(B.Fragment,null,nr(oj,{id:u},H&&ne),nr(oj,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!H&&ne))},Nse=Bse,wB=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Sse=new RegExp("["+wB.map(function(e){return e.letters}).join("")+"]","g"),aD={};for(var Jb=0;Jb<wB.length;Jb++)for(var eC=wB[Jb],tC=0;tC<eC.letters.length;tC++)aD[eC.letters[tC]]=eC.base;var oD=function(t){return t.replace(Sse,function(r){return aD[r]})},Ese=wse(oD),lj=function(t){return t.replace(/^\s+|\s+$/g,"")},Ise=function(t){return"".concat(t.label," ").concat(t.value)},Fse=function(t){return function(r,n){if(r.data.__isNew__)return!0;var s=Ar({ignoreCase:!0,ignoreAccents:!0,stringify:Ise,trim:!0,matchFrom:"any"},t),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,A=s.trim,u=s.matchFrom,h=A?lj(n):n,m=A?lj(l(r)):l(r);return i&&(h=h.toLowerCase(),m=m.toLowerCase()),o&&(h=Ese(h),m=oD(m)),u==="start"?m.substr(0,h.length)===h:m.indexOf(h)>-1}},jse=["innerRef"];function _se(e){var t=e.innerRef,r=$A(e,jse),n=nne(r,"onExited","in","enter","exit","appear");return nr("input",fr({ref:t},n,{css:IS({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Tse=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function kse(e){var t=e.isEnabled,r=e.onBottomArrive,n=e.onBottomLeave,s=e.onTopArrive,i=e.onTopLeave,o=B.useRef(!1),l=B.useRef(!1),A=B.useRef(0),u=B.useRef(null),h=B.useCallback(function(I,v){if(u.current!==null){var N=u.current,F=N.scrollTop,T=N.scrollHeight,D=N.clientHeight,V=u.current,P=v>0,U=T-D-F,k=!1;U>v&&o.current&&(n&&n(I),o.current=!1),P&&l.current&&(i&&i(I),l.current=!1),P&&v>U?(r&&!o.current&&r(I),V.scrollTop=T,k=!0,o.current=!0):!P&&-v>F&&(s&&!l.current&&s(I),V.scrollTop=0,k=!0,l.current=!0),k&&Tse(I)}},[r,n,s,i]),m=B.useCallback(function(I){h(I,I.deltaY)},[h]),y=B.useCallback(function(I){A.current=I.changedTouches[0].clientY},[]),g=B.useCallback(function(I){var v=A.current-I.changedTouches[0].clientY;h(I,v)},[h]),b=B.useCallback(function(I){if(I){var v=ene?{passive:!1}:!1;I.addEventListener("wheel",m,v),I.addEventListener("touchstart",y,v),I.addEventListener("touchmove",g,v)}},[g,y,m]),C=B.useCallback(function(I){I&&(I.removeEventListener("wheel",m,!1),I.removeEventListener("touchstart",y,!1),I.removeEventListener("touchmove",g,!1))},[g,y,m]);return B.useEffect(function(){if(t){var I=u.current;return b(I),function(){C(I)}}},[t,b,C]),function(I){u.current=I}}var cj=["boxSizing","height","overflow","paddingRight","position"],Aj={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function uj(e){e.cancelable&&e.preventDefault()}function dj(e){e.stopPropagation()}function hj(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function fj(){return"ontouchstart"in window||navigator.maxTouchPoints}var mj=!!(typeof window<"u"&&window.document&&window.document.createElement),Hm=0,gf={capture:!1,passive:!1};function Lse(e){var t=e.isEnabled,r=e.accountForScrollbars,n=r===void 0?!0:r,s=B.useRef({}),i=B.useRef(null),o=B.useCallback(function(A){if(mj){var u=document.body,h=u&&u.style;if(n&&cj.forEach(function(b){var C=h&&h[b];s.current[b]=C}),n&&Hm<1){var m=parseInt(s.current.paddingRight,10)||0,y=document.body?document.body.clientWidth:0,g=window.innerWidth-y+m||0;Object.keys(Aj).forEach(function(b){var C=Aj[b];h&&(h[b]=C)}),h&&(h.paddingRight="".concat(g,"px"))}u&&fj()&&(u.addEventListener("touchmove",uj,gf),A&&(A.addEventListener("touchstart",hj,gf),A.addEventListener("touchmove",dj,gf))),Hm+=1}},[n]),l=B.useCallback(function(A){if(mj){var u=document.body,h=u&&u.style;Hm=Math.max(Hm-1,0),n&&Hm<1&&cj.forEach(function(m){var y=s.current[m];h&&(h[m]=y)}),u&&fj()&&(u.removeEventListener("touchmove",uj,gf),A&&(A.removeEventListener("touchstart",hj,gf),A.removeEventListener("touchmove",dj,gf)))}},[n]);return B.useEffect(function(){if(t){var A=i.current;return o(A),function(){l(A)}}},[t,o,l]),function(A){i.current=A}}var Pse=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},Ose={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Rse(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,s=n===void 0?!0:n,i=e.onBottomArrive,o=e.onBottomLeave,l=e.onTopArrive,A=e.onTopLeave,u=kse({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:A}),h=Lse({isEnabled:r}),m=function(g){u(g),h(g)};return nr(B.Fragment,null,r&&nr("div",{onClick:Pse,css:Ose}),t(m))}var Dse={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Use=function(t){var r=t.name,n=t.onFocus;return nr("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Dse,value:"",onChange:function(){}})},Mse=Use;function jS(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Qse(){return jS(/^iPhone/i)}function lD(){return jS(/^Mac/i)}function Hse(){return jS(/^iPad/i)||lD()&&navigator.maxTouchPoints>1}function Vse(){return Qse()||Hse()}function Kse(){return lD()||Vse()}var Gse=function(t){return t.label},Wse=function(t){return t.label},zse=function(t){return t.value},$se=function(t){return!!t.isDisabled},qse={clearIndicator:_ne,container:wne,control:Dne,dropdownIndicator:Fne,group:Hne,groupHeading:Kne,indicatorsContainer:Bne,indicatorSeparator:kne,input:$ne,loadingIndicator:One,loadingMessage:mne,menu:lne,menuList:dne,menuPortal:xne,multiValue:Jne,multiValueLabel:ese,multiValueRemove:tse,noOptionsMessage:fne,option:ose,placeholder:Ase,singleValue:hse,valueContainer:bne},Xse={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Yse=4,cD=4,Zse=38,Jse=cD*2,eie={baseUnit:cD,controlHeight:Zse,menuGutter:Jse},rC={borderRadius:Yse,colors:Xse,spacing:eie},tie={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:sj(),captureMenuScroll:!sj(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Fse(),formatGroupLabel:Gse,getOptionLabel:Wse,getOptionValue:zse,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:$se,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Zre(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function pj(e,t,r,n){var s=dD(e,t,r),i=hD(e,t,r),o=uD(e,t),l=Rw(e,t);return{type:"option",data:t,isDisabled:s,isSelected:i,label:o,value:l,index:n}}function Fy(e,t){return e.options.map(function(r,n){if("options"in r){var s=r.options.map(function(o,l){return pj(e,o,t,l)}).filter(function(o){return xj(e,o)});return s.length>0?{type:"group",data:r,options:s,index:n}:void 0}var i=pj(e,r,t,n);return xj(e,i)?i:void 0}).filter(tne)}function AD(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,wS(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function gj(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,wS(n.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(n.index,"-").concat(s.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function rie(e,t){return AD(Fy(e,t))}function xj(e,t){var r=e.inputValue,n=r===void 0?"":r,s=t.data,i=t.isSelected,o=t.label,l=t.value;return(!mD(e)||!i)&&fD(e,{label:o,value:l,data:s},n)}function nie(e,t){var r=e.focusedValue,n=e.selectValue,s=n.indexOf(r);if(s>-1){var i=t.indexOf(r);if(i>-1)return r;if(s<t.length)return t[s]}return null}function sie(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var nC=function(t,r){var n,s=(n=t.find(function(i){return i.data===r}))===null||n===void 0?void 0:n.id;return s||null},uD=function(t,r){return t.getOptionLabel(r)},Rw=function(t,r){return t.getOptionValue(r)};function dD(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function hD(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=Rw(e,t);return r.some(function(s){return Rw(e,s)===n})}function fD(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var mD=function(t){var r=t.hideSelectedOptions,n=t.isMulti;return r===void 0?n:r},iie=1,pD=function(e){_te(r,e);var t=Lte(r);function r(n){var s;if(Fte(this,r),s=t.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=Kse(),s.controlRef=null,s.getControlRef=function(A){s.controlRef=A},s.focusedOptionRef=null,s.getFocusedOptionRef=function(A){s.focusedOptionRef=A},s.menuListRef=null,s.getMenuListRef=function(A){s.menuListRef=A},s.inputRef=null,s.getInputRef=function(A){s.inputRef=A},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(A,u){var h=s.props,m=h.onChange,y=h.name;u.name=y,s.ariaOnChange(A,u),m(A,u)},s.setValue=function(A,u,h){var m=s.props,y=m.closeMenuOnSelect,g=m.isMulti,b=m.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:b}),y&&(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(A,{action:u,option:h})},s.selectOption=function(A){var u=s.props,h=u.blurInputOnSelect,m=u.isMulti,y=u.name,g=s.state.selectValue,b=m&&s.isOptionSelected(A,g),C=s.isOptionDisabled(A,g);if(b){var I=s.getOptionValue(A);s.setValue(g.filter(function(v){return s.getOptionValue(v)!==I}),"deselect-option",A)}else if(!C)m?s.setValue([].concat(wS(g),[A]),"select-option",A):s.setValue(A,"select-option");else{s.ariaOnChange(A,{action:"select-option",option:A,name:y});return}h&&s.blurInput()},s.removeValue=function(A){var u=s.props.isMulti,h=s.state.selectValue,m=s.getOptionValue(A),y=h.filter(function(b){return s.getOptionValue(b)!==m}),g=gx(u,y,y[0]||null);s.onChange(g,{action:"remove-value",removedValue:A}),s.focusInput()},s.clearValue=function(){var A=s.state.selectValue;s.onChange(gx(s.props.isMulti,[],null),{action:"clear",removedValues:A})},s.popValue=function(){var A=s.props.isMulti,u=s.state.selectValue,h=u[u.length-1],m=u.slice(0,u.length-1),y=gx(A,m,m[0]||null);h&&s.onChange(y,{action:"pop-value",removedValue:h})},s.getFocusedOptionId=function(A){return nC(s.state.focusableOptionsWithIds,A)},s.getFocusableOptionsWithIds=function(){return gj(Fy(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var A=arguments.length,u=new Array(A),h=0;h<A;h++)u[h]=arguments[h];return zre.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(A){return uD(s.props,A)},s.getOptionValue=function(A){return Rw(s.props,A)},s.getStyles=function(A,u){var h=s.props.unstyled,m=qse[A](u,h);m.boxSizing="border-box";var y=s.props.styles[A];return y?y(m,u):m},s.getClassNames=function(A,u){var h,m;return(h=(m=s.props.classNames)[A])===null||h===void 0?void 0:h.call(m,u)},s.getElementId=function(A){return"".concat(s.state.instancePrefix,"-").concat(A)},s.getComponents=function(){return gse(s.props)},s.buildCategorizedOptions=function(){return Fy(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return AD(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(A,u){s.setState({ariaSelection:Ar({value:A},u)})},s.onMenuMouseDown=function(A){A.button===0&&(A.stopPropagation(),A.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(A){s.blockOptionHover=!1},s.onControlMouseDown=function(A){if(!A.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?A.target.tagName!=="INPUT"&&A.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),A.target.tagName!=="INPUT"&&A.target.tagName!=="TEXTAREA"&&A.preventDefault()}},s.onDropdownIndicatorMouseDown=function(A){if(!(A&&A.type==="mousedown"&&A.button!==0)&&!s.props.isDisabled){var u=s.props,h=u.isMulti,m=u.menuIsOpen;s.focusInput(),m?(s.setState({inputIsHiddenAfterUpdate:!h}),s.onMenuClose()):s.openMenu("first"),A.preventDefault()}},s.onClearIndicatorMouseDown=function(A){A&&A.type==="mousedown"&&A.button!==0||(s.clearValue(),A.preventDefault(),s.openAfterFocus=!1,A.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(A){typeof s.props.closeMenuOnScroll=="boolean"?A.target instanceof HTMLElement&&mv(A.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(A)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(A){var u=A.touches,h=u&&u.item(0);h&&(s.initialTouchX=h.clientX,s.initialTouchY=h.clientY,s.userIsDragging=!1)},s.onTouchMove=function(A){var u=A.touches,h=u&&u.item(0);if(h){var m=Math.abs(h.clientX-s.initialTouchX),y=Math.abs(h.clientY-s.initialTouchY),g=5;s.userIsDragging=m>g||y>g}},s.onTouchEnd=function(A){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(A.target)&&s.menuListRef&&!s.menuListRef.contains(A.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(A){s.userIsDragging||s.onControlMouseDown(A)},s.onClearIndicatorTouchEnd=function(A){s.userIsDragging||s.onClearIndicatorMouseDown(A)},s.onDropdownIndicatorTouchEnd=function(A){s.userIsDragging||s.onDropdownIndicatorMouseDown(A)},s.handleInputChange=function(A){var u=s.props.inputValue,h=A.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(h,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(A){s.props.onFocus&&s.props.onFocus(A),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(A){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(A),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(A){if(!(s.blockOptionHover||s.state.focusedOption===A)){var u=s.getFocusableOptions(),h=u.indexOf(A);s.setState({focusedOption:A,focusedOptionId:h>-1?s.getFocusedOptionId(A):null})}},s.shouldHideSelectedOptions=function(){return mD(s.props)},s.onValueInputFocus=function(A){A.preventDefault(),A.stopPropagation(),s.focus()},s.onKeyDown=function(A){var u=s.props,h=u.isMulti,m=u.backspaceRemovesValue,y=u.escapeClearsValue,g=u.inputValue,b=u.isClearable,C=u.isDisabled,I=u.menuIsOpen,v=u.onKeyDown,N=u.tabSelectsValue,F=u.openMenuOnFocus,T=s.state,D=T.focusedOption,V=T.focusedValue,P=T.selectValue;if(!C&&!(typeof v=="function"&&(v(A),A.defaultPrevented))){switch(s.blockOptionHover=!0,A.key){case"ArrowLeft":if(!h||g)return;s.focusValue("previous");break;case"ArrowRight":if(!h||g)return;s.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(V)s.removeValue(V);else{if(!m)return;h?s.popValue():b&&s.clearValue()}break;case"Tab":if(s.isComposing||A.shiftKey||!I||!N||!D||F&&s.isOptionSelected(D,P))return;s.selectOption(D);break;case"Enter":if(A.keyCode===229)break;if(I){if(!D||s.isComposing)return;s.selectOption(D);break}return;case"Escape":I?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:g}),s.onMenuClose()):b&&y&&s.clearValue();break;case" ":if(g)return;if(!I){s.openMenu("first");break}if(!D)return;s.selectOption(D);break;case"ArrowUp":I?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":I?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!I)return;s.focusOption("pageup");break;case"PageDown":if(!I)return;s.focusOption("pagedown");break;case"Home":if(!I)return;s.focusOption("first");break;case"End":if(!I)return;s.focusOption("last");break;default:return}A.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++iie),s.state.selectValue=rj(n.value),n.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=nC(i,o[l])}return s}return jte(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&nj(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,A=this.state.isFocused;(A&&!o&&s.isDisabled||A&&l&&!s.menuIsOpen)&&this.focusInput(),A&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!A&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(nj(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,A=o.isFocused,u=this.buildFocusableOptions(),h=s==="first"?0:u.length-1;if(!this.props.isMulti){var m=u.indexOf(l[0]);m>-1&&(h=m)}this.scrollToFocusedOptionOnUpdate=!(A&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[h],focusedOptionId:this.getFocusedOptionId(u[h])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var A=o.indexOf(l);l||(A=-1);var u=o.length-1,h=-1;if(o.length){switch(s){case"previous":A===0?h=0:A===-1?h=u:h=A-1;break;case"next":A>-1&&A<u&&(h=A+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var A=0,u=l.indexOf(o);o||(u=-1),s==="up"?A=u>0?u-1:l.length-1:s==="down"?A=(u+1)%l.length:s==="pageup"?(A=u-i,A<0&&(A=0)):s==="pagedown"?(A=u+i,A>l.length-1&&(A=l.length-1)):s==="last"&&(A=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[A],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[A])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(rC):Ar(Ar({},rC),this.props.theme):rC}},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,A=this.getValue,u=this.selectOption,h=this.setValue,m=this.props,y=m.isMulti,g=m.isRtl,b=m.options,C=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:A,hasValue:C,isMulti:y,isRtl:g,options:b,selectOption:u,selectProps:m,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return dD(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return hD(this.props,s,i)}},{key:"filterOption",value:function(s,i){return fD(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,A=s.inputValue,u=s.tabIndex,h=s.form,m=s.menuIsOpen,y=s.required,g=this.getComponents(),b=g.Input,C=this.state,I=C.inputIsHidden,v=C.ariaSelection,N=this.commonProps,F=l||this.getElementId("input"),T=Ar(Ar(Ar({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":y,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?B.createElement(b,fr({},N,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:F,innerRef:this.getInputRef,isDisabled:i,isHidden:I,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:h,type:"text",value:A},T)):B.createElement(_se,fr({id:F,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Pw,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:h,value:""},T))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,A=i.MultiValueLabel,u=i.MultiValueRemove,h=i.SingleValue,m=i.Placeholder,y=this.commonProps,g=this.props,b=g.controlShouldRenderValue,C=g.isDisabled,I=g.isMulti,v=g.inputValue,N=g.placeholder,F=this.state,T=F.selectValue,D=F.focusedValue,V=F.isFocused;if(!this.hasValue()||!b)return v?null:B.createElement(m,fr({},y,{key:"placeholder",isDisabled:C,isFocused:V,innerProps:{id:this.getElementId("placeholder")}}),N);if(I)return T.map(function(U,k){var z=U===D,R="".concat(s.getOptionLabel(U),"-").concat(s.getOptionValue(U));return B.createElement(o,fr({},y,{components:{Container:l,Label:A,Remove:u},isFocused:z,isDisabled:C,key:R,index:k,removeProps:{onClick:function(){return s.removeValue(U)},onTouchEnd:function(){return s.removeValue(U)},onMouseDown:function(J){J.preventDefault()}},data:U}),s.formatOptionLabel(U,"value"))});if(v)return null;var P=T[0];return B.createElement(h,fr({},y,{data:P,isDisabled:C}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,A=l.isDisabled,u=l.isLoading,h=this.state.isFocused;if(!this.isClearable()||!i||A||!this.hasValue()||u)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return B.createElement(i,fr({},o,{innerProps:m,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,A=l.isDisabled,u=l.isLoading,h=this.state.isFocused;if(!i||!u)return null;var m={"aria-hidden":"true"};return B.createElement(i,fr({},o,{innerProps:m,isDisabled:A,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,A=this.props.isDisabled,u=this.state.isFocused;return B.createElement(o,fr({},l,{isDisabled:A,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,A=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return B.createElement(i,fr({},o,{innerProps:u,isDisabled:l,isFocused:A}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,A=i.Menu,u=i.MenuList,h=i.MenuPortal,m=i.LoadingMessage,y=i.NoOptionsMessage,g=i.Option,b=this.commonProps,C=this.state.focusedOption,I=this.props,v=I.captureMenuScroll,N=I.inputValue,F=I.isLoading,T=I.loadingMessage,D=I.minMenuHeight,V=I.maxMenuHeight,P=I.menuIsOpen,U=I.menuPlacement,k=I.menuPosition,z=I.menuPortalTarget,R=I.menuShouldBlockScroll,H=I.menuShouldScrollIntoView,J=I.noOptionsMessage,ne=I.onMenuScrollToTop,Y=I.onMenuScrollToBottom;if(!P)return null;var G=function(Z,ae){var ee=Z.type,oe=Z.data,pe=Z.isDisabled,Be=Z.isSelected,_e=Z.label,Le=Z.value,ke=C===oe,Oe=pe?void 0:function(){return s.onOptionHover(oe)},Se=pe?void 0:function(){return s.selectOption(oe)},Ce="".concat(s.getElementId("option"),"-").concat(ae),he={id:Ce,onClick:Se,onMouseMove:Oe,onMouseOver:Oe,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:Be};return B.createElement(g,fr({},b,{innerProps:he,data:oe,isDisabled:pe,isSelected:Be,key:Ce,label:_e,type:ee,value:Le,isFocused:ke,innerRef:ke?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(Z.data,"menu"))},K;if(this.hasOptions())K=this.getCategorizedOptions().map(function(Q){if(Q.type==="group"){var Z=Q.data,ae=Q.options,ee=Q.index,oe="".concat(s.getElementId("group"),"-").concat(ee),pe="".concat(oe,"-heading");return B.createElement(o,fr({},b,{key:oe,data:Z,options:ae,Heading:l,headingProps:{id:pe,data:Q.data},label:s.formatGroupLabel(Q.data)}),Q.options.map(function(Be){return G(Be,"".concat(ee,"-").concat(Be.index))}))}else if(Q.type==="option")return G(Q,"".concat(Q.index))});else if(F){var q=T({inputValue:N});if(q===null)return null;K=B.createElement(m,b,q)}else{var X=J({inputValue:N});if(X===null)return null;K=B.createElement(y,b,X)}var fe={minMenuHeight:D,maxMenuHeight:V,menuPlacement:U,menuPosition:k,menuShouldScrollIntoView:H},de=B.createElement(cne,fr({},b,fe),function(Q){var Z=Q.ref,ae=Q.placerProps,ee=ae.placement,oe=ae.maxHeight;return B.createElement(A,fr({},b,fe,{innerRef:Z,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:F,placement:ee}),B.createElement(Rse,{captureEnabled:v,onTopArrive:ne,onBottomArrive:Y,lockEnabled:R},function(pe){return B.createElement(u,fr({},b,{innerRef:function(_e){s.getMenuListRef(_e),pe(_e)},innerProps:{role:"listbox","aria-multiselectable":b.isMulti,id:s.getElementId("listbox")},isLoading:F,maxHeight:oe,focusedOption:C}),K)}))});return z||k==="fixed"?B.createElement(h,fr({},b,{appendTo:z,controlElement:this.controlRef,menuPlacement:U,menuPosition:k}),de):de}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,A=i.isMulti,u=i.name,h=i.required,m=this.state.selectValue;if(h&&!this.hasValue()&&!l)return B.createElement(Mse,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(A)if(o){var y=m.map(function(C){return s.getOptionValue(C)}).join(o);return B.createElement("input",{name:u,type:"hidden",value:y})}else{var g=m.length>0?m.map(function(C,I){return B.createElement("input",{key:"i-".concat(I),name:u,type:"hidden",value:s.getOptionValue(C)})}):B.createElement("input",{name:u,type:"hidden",value:""});return B.createElement("div",null,g)}else{var b=m[0]?this.getOptionValue(m[0]):"";return B.createElement("input",{name:u,type:"hidden",value:b})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,A=i.focusedValue,u=i.isFocused,h=i.selectValue,m=this.getFocusableOptions();return B.createElement(Nse,fr({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:A,isFocused:u,selectValue:h,focusableOptions:m,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,A=s.ValueContainer,u=this.props,h=u.className,m=u.id,y=u.isDisabled,g=u.menuIsOpen,b=this.state.isFocused,C=this.commonProps=this.getCommonProps();return B.createElement(l,fr({},C,{className:h,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:y,isFocused:b}),this.renderLiveRegion(),B.createElement(i,fr({},C,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:y,isFocused:b,menuIsOpen:g}),B.createElement(A,fr({},C,{isDisabled:y}),this.renderPlaceholderOrValue(),this.renderInput()),B.createElement(o,fr({},C,{isDisabled:y}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,A=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,h=i.isFocused,m=i.prevWasFocused,y=i.instancePrefix,g=s.options,b=s.value,C=s.menuIsOpen,I=s.inputValue,v=s.isMulti,N=rj(b),F={};if(o&&(b!==o.value||g!==o.options||C!==o.menuIsOpen||I!==o.inputValue)){var T=C?rie(s,N):[],D=C?gj(Fy(s,N),"".concat(y,"-option")):[],V=l?nie(i,N):null,P=sie(i,T),U=nC(D,P);F={selectValue:N,focusedOption:P,focusedOptionId:U,focusableOptionsWithIds:D,focusedValue:V,clearFocusValueOnUpdate:!1}}var k=A!=null&&s!==o?{inputIsHidden:A,inputIsHiddenAfterUpdate:void 0}:{},z=u,R=h&&m;return h&&!R&&(z={value:gx(v,N,N[0]||null),options:N,action:"initial-input-focus"},R=!m),(u==null?void 0:u.action)==="initial-input-focus"&&(z=null),Ar(Ar(Ar({},F),k),{},{prevProps:s,ariaSelection:z,prevWasFocused:R})}}]),r}(B.Component);pD.defaultProps=tie;var aie=B.forwardRef(function(e,t){var r=Ite(e);return B.createElement(pD,fr({ref:t},r))}),fa=aie;const gD=()=>{const e=Rr(),[t,r]=B.useState({name:"",registrationNumber:"",fatherName:"",aadharNumber:"",email:"",phone:"",address:"",branchId:null,membershipStart:"",membershipEnd:"",seatId:null,shiftIds:[],lockerId:null,totalFee:"",cash:"",online:"",securityMoney:"",remark:"",image:null,imageUrl:null,aadhaarFront:null,aadhaarFrontUrl:null,aadhaarBack:null,aadhaarBackUrl:null,discount:"0"}),[n,s]=B.useState([]),[i,o]=B.useState([]),[l,A]=B.useState([]),[u,h]=B.useState(null),[m,y]=B.useState([]),[g,b]=B.useState(!1),[C,I]=B.useState(!1),[v,N]=B.useState(!1),[F,T]=B.useState(null);B.useEffect(()=>{(async()=>{try{const Q=await De.getBranches();s(Q),T(null)}catch(Q){console.error("Failed to fetch branches:",Q),T("You do not have permission to view branches. Contact an admin."),je.error("Failed to load branches. Check your permissions.")}})()},[]),B.useEffect(()=>{(async()=>{if(t.branchId!==null){b(!0),N(!0);try{const Q=De.getSeats({branchId:t.branchId}),Z=De.getLockers(t.branchId),[ae,ee]=await Promise.all([Q,Z]);o(ae.seats),y(ee.lockers),T(null)}catch(Q){console.error("Failed to fetch branch data:",Q),T("Failed to load seats and lockers for this branch. Check permissions."),je.error("Failed to load seats and lockers.")}finally{b(!1),N(!1)}}else o([]),y([])})()},[t.branchId]),B.useEffect(()=>{(async()=>{if(t.branchId){I(!0);try{const Z=(await De.getSchedules(t.branchId)).schedules.map(ae=>({...ae,fee:ae.fee??0}));A(Z),T(null)}catch(Q){console.error("Failed to fetch shifts for branch:",Q),T("Failed to load shifts for the selected branch."),je.error("Failed to load shifts."),A([])}finally{I(!1)}}else A([])})()},[t.branchId]),B.useEffect(()=>{(async()=>{if(t.branchId&&u){b(!0);try{const ae=((await De.getSeats({branchId:t.branchId,shiftId:u})).seats||[]).filter(ee=>{const oe=(ee.shifts||[]).find(pe=>pe.shiftId===u);return oe?!oe.isAssigned:!0});o(ae)}catch(Q){console.error("Failed to fetch seats for shift:",Q),o([])}finally{b(!1)}}})()},[t.branchId,u]);const D=de=>{const{name:Q,value:Z}=de.target;r(ae=>({...ae,[Q]:Z}))},V=(de,Q)=>{const Z=Q?Q.value:null;r(de==="branchId"?ae=>({...ae,branchId:Z,seatId:null,shiftIds:[],lockerId:null,totalFee:""}):de==="seatId"?ae=>({...ae,seatId:Z,shiftIds:[]}):ae=>({...ae,[de]:Z}))},P=de=>{const Q=de?de.value:null;h(Q),r(Z=>({...Z,shiftIds:Q?[Q]:[]})),r(Z=>({...Z,seatId:null}))},U=de=>{const Q=de.target.files?de.target.files[0]:null;if(Q){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(Q.type)){je.error("Only JPEG, JPG, PNG, and GIF images are allowed");return}if(Q.size>200*1024){je.error("Image size exceeds 200KB limit");return}r(Z=>({...Z,image:Q}))}},k=de=>{const Q=de.target.files?de.target.files[0]:null;if(Q){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(Q.type)){je.error("Only JPEG, JPG, PNG, and GIF images are allowed for Aadhaar front");return}if(Q.size>200*1024){je.error("Aadhaar front image size exceeds 200KB limit");return}r(Z=>({...Z,aadhaarFront:Q}))}},z=de=>{const Q=de.target.files?de.target.files[0]:null;if(Q){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(Q.type)){je.error("Only JPEG, JPG, PNG, and GIF images are allowed for Aadhaar back");return}if(Q.size>200*1024){je.error("Aadhaar back image size exceeds 200KB limit");return}r(Z=>({...Z,aadhaarBack:Q}))}},R=n.map(de=>({value:de.id,label:de.name})),H=[{value:null,label:"None",isDisabled:!1},...i.map(de=>({value:de.id,label:de.seatNumber,isDisabled:!1}))],J=[{value:null,label:"None",isDisabled:!1},...m.filter(de=>!de.isAssigned).map(de=>({value:de.id,label:de.lockerNumber,isDisabled:!1}))],ne=l.map(de=>({value:de.id,label:`${de.title} [Rs.${de.fee}] ${de.description?`[${de.description}]`:""}`.trim(),isDisabled:!1}));B.useEffect(()=>{if(t.shiftIds&&t.shiftIds.length>0){const de=l.filter(Q=>t.shiftIds.includes(Q.id)).reduce((Q,Z)=>Q+(Z.fee??0),0);r(Q=>({...Q,totalFee:de.toString()}))}else t.totalFee&&t.totalFee!==""||r(de=>({...de,totalFee:""}))},[t.shiftIds,l]);const Y=async()=>{var de;if(!t.name||!t.phone||t.branchId===null||!t.membershipStart||!t.membershipEnd){je.error("Please fill in all required fields (Name, Phone, Branch, Membership Start, Membership End)");return}try{let Q=t.imageUrl||"";if(t.image){const oe=new FormData;oe.append("image",t.image),Q=(await De.uploadImage(oe)).imageUrl||""}let Z=t.aadhaarFrontUrl||"";if(t.aadhaarFront){const oe=new FormData;oe.append("image",t.aadhaarFront),Z=(await De.uploadImage(oe)).imageUrl||""}let ae=t.aadhaarBackUrl||"";if(t.aadhaarBack){const oe=new FormData;oe.append("image",t.aadhaarBack),ae=(await De.uploadImage(oe)).imageUrl||""}const ee={name:t.name,registrationNumber:t.registrationNumber||void 0,fatherName:t.fatherName||void 0,aadharNumber:t.aadharNumber||void 0,email:t.email||void 0,phone:t.phone,address:((de=t.address)==null?void 0:de.trim())||void 0,branchId:t.branchId,membershipStart:t.membershipStart,membershipEnd:t.membershipEnd,totalFee:t.totalFee?parseFloat(t.totalFee):0,amountPaid:(parseFloat(t.cash)||0)+(parseFloat(t.online)||0),cash:parseFloat(t.cash)||0,online:parseFloat(t.online)||0,securityMoney:parseFloat(t.securityMoney)||0,discount:parseFloat(t.discount)||0,remark:t.remark||void 0,profileImageUrl:Q||void 0,aadhaarFrontUrl:Z||void 0,aadhaarBackUrl:ae||void 0,seatId:t.seatId!==null?t.seatId:void 0,shiftIds:t.shiftIds,lockerId:t.lockerId!==null?t.lockerId:void 0};await De.addStudent(ee),je.success("Student added successfully"),e("/students")}catch(Q){console.error("Failed to add student:",Q),je.error(Q.message||"Failed to add student")}},G=parseFloat(t.cash)||0,K=parseFloat(t.online)||0,q=G+K,fe=(parseFloat(t.totalFee)||0)-(parseFloat(t.discount)||0)-q;return a.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add New Student"}),F&&a.jsx("div",{className:"text-red-500 mb-4",children:F}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number *"}),a.jsx("input",{type:"text",id:"registrationNumber",name:"registrationNumber",value:t.registrationNumber||"",onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fatherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),a.jsx("input",{type:"text",id:"fatherName",name:"fatherName",value:t.fatherName||"",onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadharNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),a.jsx("input",{type:"text",id:"aadharNumber",name:"aadharNumber",value:t.aadharNumber||"",onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:t.email||"",onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),a.jsx("input",{type:"text",id:"phone",name:"phone",value:t.phone,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),a.jsx("input",{type:"text",id:"address",name:"address",value:t.address||"",onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch *"}),a.jsx(fa,{options:R,value:R.find(de=>de.value===t.branchId)||null,onChange:de=>V("branchId",de),placeholder:"Select a branch",className:"w-full",isDisabled:n.length===0,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipStart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership Start *"}),a.jsx("input",{type:"date",id:"membershipStart",name:"membershipStart",value:t.membershipStart,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipEnd",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership End *"}),a.jsx("input",{type:"date",id:"membershipEnd",name:"membershipEnd",value:t.membershipEnd,onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"shiftId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Shift *"}),a.jsx(fa,{options:ne,value:ne.find(de=>de.value===u)||null,onChange:de=>P(de),isLoading:C,placeholder:C?"Loading shifts...":t.branchId?l.length===0?"No shifts found for this branch":"Select a shift":"Select a branch first",className:"w-full",isDisabled:!t.branchId||C})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"seatId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Seat *"}),a.jsx(fa,{options:H,value:H.find(de=>de.value===t.seatId)||null,onChange:de=>V("seatId",de),isLoading:g,placeholder:t.branchId?u?i.length===0?"No available seats for this shift":"Select a seat":"Select a shift first":"Select a branch first",className:"w-full",isDisabled:!t.branchId||!u||i.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lockerId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Locker"}),a.jsx(fa,{options:J,value:J.find(de=>de.value===t.lockerId)||null,onChange:de=>V("lockerId",de),isLoading:v,placeholder:t.branchId?"Select an available locker":"Select a branch first",className:"w-full",isDisabled:!t.branchId||m.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"totalFee",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee *"}),a.jsx("input",{type:"number",id:"totalFee",name:"totalFee",value:t.totalFee,onChange:D,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount"}),a.jsx("input",{type:"number",id:"discount",name:"discount",value:t.discount,onChange:D,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cash",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Payment"}),a.jsx("input",{type:"number",id:"cash",name:"cash",value:t.cash,onChange:D,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"online",className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Payment"}),a.jsx("input",{type:"number",id:"online",name:"online",value:t.online,onChange:D,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"securityMoney",className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money"}),a.jsx("input",{type:"number",id:"securityMoney",name:"securityMoney",value:t.securityMoney,onChange:D,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount Paid"}),a.jsx("input",{type:"number",id:"amountPaid",name:"amountPaid",value:q.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dueAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),a.jsx("input",{type:"number",id:"dueAmount",name:"dueAmount",value:fe.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"remark",className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{id:"remark",name:"remark",value:t.remark||"",onChange:D,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image (max 200KB)"}),a.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:U,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarFront",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Front Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarFront",name:"aadhaarFront",accept:"image/*",onChange:k,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarBack",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Back Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarBack",name:"aadhaarBack",accept:"image/*",onChange:z,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),a.jsx("button",{onClick:Y,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-200",disabled:!!F,children:"Add Student"})]})]})},oie=e=>e||"N/A",lie=({limit:e,selectedBranchId:t})=>{const[r,n]=B.useState([]),[s,i]=B.useState(!0),[o,l]=B.useState(1),[A,u]=B.useState(5),h=Rr();B.useEffect(()=>{(async()=>{i(!0);try{const F=await De.getExpiringSoon(t??void 0);if(!F||!Array.isArray(F.students))throw new Error("Invalid data received for expiring students");n(F.students)}catch(F){F.response&&F.response.status===401?(je.error("Session expired. Please log in again."),h("/login")):(console.error("Failed to fetch expiring memberships:",F.message),je.error("Failed to fetch expiring memberships")),n([])}finally{i(!1)}})()},[h,t]);const m=N=>{if(!N){je.error("No phone number available for this student.");return}let F=N.replace(/\D/g,"");F.length===10&&(F=`91${F}`);const T=`https://wa.me/${F}`;window.open(T,"_blank","noopener,noreferrer")},y=async N=>{if(window.confirm("Are you sure you want to delete this student?"))try{await De.deleteStudent(N),n(r.filter(F=>F.id!==N)),je.success("Student deleted successfully")}catch(F){console.error("Failed to delete student:",F.message),je.error("Failed to delete student")}},g=N=>{h(`/students/${N}`)};if(s)return a.jsx("div",{className:"flex justify-center p-4",children:"Loading expiring memberships..."});const b=e??o*A,C=e?0:b-A,I=r.slice(C,b),v=e?1:Math.ceil(r.length/A);return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-orange-100 p-2 rounded-lg",children:a.jsx(ya,{size:20,className:"text-orange-500"})}),a.jsx("h3",{className:"ml-3 text-lg font-medium",children:"Expiring Memberships"})]})}),I.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-left",children:[a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Seat"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Expiry Date"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:I.map(N=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:N.name}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:N.seatNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:N.phone}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${N.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-orange-100 text-orange-800",children:oie(N.membershipEnd)})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>g(N.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",title:"View student details",children:a.jsx(za,{size:16})}),a.jsx("button",{onClick:()=>y(N.id),className:"mr-2 text-red-600 hover:text-red-800 p-2",title:"Delete student",children:a.jsx(il,{size:16})}),a.jsx("button",{onClick:()=>m(N.phone),className:"text-green-600 hover:text-green-800 p-2",title:`Send WhatsApp message to ${N.name}`,children:a.jsx(hS,{size:16})})]})]},N.id))})]})}):a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No memberships expiring soon."}),!e&&r.length>0&&a.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:justify-between md:space-y-0 border-t border-gray-200 px-6 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:A,onChange:N=>{u(Number(N.target.value)),l(1)},className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:5,children:"5"}),a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>l(N=>Math.max(N-1,1)),disabled:o===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(Pd,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",o," of ",v]}),a.jsx("button",{onClick:()=>l(N=>Math.min(N+1,v)),disabled:o===v,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(Cn,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",C+1," to ",Math.min(b,r.length)," of"," ",r.length," students"]})]}),e&&r.length>e&&a.jsx("div",{className:"flex justify-center border-t border-gray-100 p-4",children:a.jsxs("button",{onClick:()=>h("/expiring-memberships"),className:"text-purple-600 hover:text-purple-800 text-sm font-medium flex items-center p-2",children:["View all expiring memberships ",a.jsx(Cn,{size:16,className:"ml-1"})]})})]})},l1=function(e,t){let s=e;const i=ap[t];let o=null,l=0,A=null;const u=[],h={},m=function(P,U){l=s*4+17,o=function(k){const z=new Array(k);for(let R=0;R<k;R+=1){z[R]=new Array(k);for(let H=0;H<k;H+=1)z[R][H]=null}return z}(l),y(0,0),y(l-7,0),y(0,l-7),C(),b(),v(P,U),s>=7&&I(P),A==null&&(A=T(s,i,u)),N(A,U)},y=function(P,U){for(let k=-1;k<=7;k+=1)if(!(P+k<=-1||l<=P+k))for(let z=-1;z<=7;z+=1)U+z<=-1||l<=U+z||(0<=k&&k<=6&&(z==0||z==6)||0<=z&&z<=6&&(k==0||k==6)||2<=k&&k<=4&&2<=z&&z<=4?o[P+k][U+z]=!0:o[P+k][U+z]=!1)},g=function(){let P=0,U=0;for(let k=0;k<8;k+=1){m(!0,k);const z=pu.getLostPoint(h);(k==0||P>z)&&(P=z,U=k)}return U},b=function(){for(let P=8;P<l-8;P+=1)o[P][6]==null&&(o[P][6]=P%2==0);for(let P=8;P<l-8;P+=1)o[6][P]==null&&(o[6][P]=P%2==0)},C=function(){const P=pu.getPatternPosition(s);for(let U=0;U<P.length;U+=1)for(let k=0;k<P.length;k+=1){const z=P[U],R=P[k];if(o[z][R]==null)for(let H=-2;H<=2;H+=1)for(let J=-2;J<=2;J+=1)H==-2||H==2||J==-2||J==2||H==0&&J==0?o[z+H][R+J]=!0:o[z+H][R+J]=!1}},I=function(P){const U=pu.getBCHTypeNumber(s);for(let k=0;k<18;k+=1){const z=!P&&(U>>k&1)==1;o[Math.floor(k/3)][k%3+l-8-3]=z}for(let k=0;k<18;k+=1){const z=!P&&(U>>k&1)==1;o[k%3+l-8-3][Math.floor(k/3)]=z}},v=function(P,U){const k=i<<3|U,z=pu.getBCHTypeInfo(k);for(let R=0;R<15;R+=1){const H=!P&&(z>>R&1)==1;R<6?o[R][8]=H:R<8?o[R+1][8]=H:o[l-15+R][8]=H}for(let R=0;R<15;R+=1){const H=!P&&(z>>R&1)==1;R<8?o[8][l-R-1]=H:R<9?o[8][15-R-1+1]=H:o[8][15-R-1]=H}o[l-8][8]=!P},N=function(P,U){let k=-1,z=l-1,R=7,H=0;const J=pu.getMaskFunction(U);for(let ne=l-1;ne>0;ne-=2)for(ne==6&&(ne-=1);;){for(let Y=0;Y<2;Y+=1)if(o[z][ne-Y]==null){let G=!1;H<P.length&&(G=(P[H]>>>R&1)==1),J(z,ne-Y)&&(G=!G),o[z][ne-Y]=G,R-=1,R==-1&&(H+=1,R=7)}if(z+=k,z<0||l<=z){z-=k,k=-k;break}}},F=function(P,U){let k=0,z=0,R=0;const H=new Array(U.length),J=new Array(U.length);for(let K=0;K<U.length;K+=1){const q=U[K].dataCount,X=U[K].totalCount-q;z=Math.max(z,q),R=Math.max(R,X),H[K]=new Array(q);for(let Z=0;Z<H[K].length;Z+=1)H[K][Z]=255&P.getBuffer()[Z+k];k+=q;const fe=pu.getErrorCorrectPolynomial(X),Q=Bg(H[K],fe.getLength()-1).mod(fe);J[K]=new Array(fe.getLength()-1);for(let Z=0;Z<J[K].length;Z+=1){const ae=Z+Q.getLength()-J[K].length;J[K][Z]=ae>=0?Q.getAt(ae):0}}let ne=0;for(let K=0;K<U.length;K+=1)ne+=U[K].totalCount;const Y=new Array(ne);let G=0;for(let K=0;K<z;K+=1)for(let q=0;q<U.length;q+=1)K<H[q].length&&(Y[G]=H[q][K],G+=1);for(let K=0;K<R;K+=1)for(let q=0;q<U.length;q+=1)K<J[q].length&&(Y[G]=J[q][K],G+=1);return Y},T=function(P,U,k){const z=yj.getRSBlocks(P,U),R=wj();for(let J=0;J<k.length;J+=1){const ne=k[J];R.put(ne.getMode(),4),R.put(ne.getLength(),pu.getLengthInBits(ne.getMode(),P)),ne.write(R)}let H=0;for(let J=0;J<z.length;J+=1)H+=z[J].dataCount;if(R.getLengthInBits()>H*8)throw"code length overflow. ("+R.getLengthInBits()+">"+H*8+")";for(R.getLengthInBits()+4<=H*8&&R.put(0,4);R.getLengthInBits()%8!=0;)R.putBit(!1);for(;!(R.getLengthInBits()>=H*8||(R.put(236,8),R.getLengthInBits()>=H*8));)R.put(17,8);return F(R,z)};h.addData=function(P,U){U=U||"Byte";let k=null;switch(U){case"Numeric":k=cie(P);break;case"Alphanumeric":k=Aie(P);break;case"Byte":k=uie(P);break;case"Kanji":k=die(P);break;default:throw"mode:"+U}u.push(k),A=null},h.isDark=function(P,U){if(P<0||l<=P||U<0||l<=U)throw P+","+U;return o[P][U]},h.getModuleCount=function(){return l},h.make=function(){if(s<1){let P=1;for(;P<40;P++){const U=yj.getRSBlocks(P,i),k=wj();for(let R=0;R<u.length;R++){const H=u[R];k.put(H.getMode(),4),k.put(H.getLength(),pu.getLengthInBits(H.getMode(),P)),H.write(k)}let z=0;for(let R=0;R<U.length;R++)z+=U[R].dataCount;if(k.getLengthInBits()<=z*8)break}s=P}m(!1,g())},h.createTableTag=function(P,U){P=P||2,U=typeof U>"u"?P*4:U;let k="";k+='<table style="',k+=" border-width: 0px; border-style: none;",k+=" border-collapse: collapse;",k+=" padding: 0px; margin: "+U+"px;",k+='">',k+="<tbody>";for(let z=0;z<h.getModuleCount();z+=1){k+="<tr>";for(let R=0;R<h.getModuleCount();R+=1)k+='<td style="',k+=" border-width: 0px; border-style: none;",k+=" border-collapse: collapse;",k+=" padding: 0px; margin: 0px;",k+=" width: "+P+"px;",k+=" height: "+P+"px;",k+=" background-color: ",k+=h.isDark(z,R)?"#000000":"#ffffff",k+=";",k+='"/>';k+="</tr>"}return k+="</tbody>",k+="</table>",k},h.createSvgTag=function(P,U,k,z){let R={};typeof arguments[0]=="object"&&(R=arguments[0],P=R.cellSize,U=R.margin,k=R.alt,z=R.title),P=P||2,U=typeof U>"u"?P*4:U,k=typeof k=="string"?{text:k}:k||{},k.text=k.text||null,k.id=k.text?k.id||"qrcode-description":null,z=typeof z=="string"?{text:z}:z||{},z.text=z.text||null,z.id=z.text?z.id||"qrcode-title":null;const H=h.getModuleCount()*P+U*2;let J,ne,Y,G,K="",q;for(q="l"+P+",0 0,"+P+" -"+P+",0 0,-"+P+"z ",K+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',K+=R.scalable?"":' width="'+H+'px" height="'+H+'px"',K+=' viewBox="0 0 '+H+" "+H+'" ',K+=' preserveAspectRatio="xMinYMin meet"',K+=z.text||k.text?' role="img" aria-labelledby="'+D([z.id,k.id].join(" ").trim())+'"':"",K+=">",K+=z.text?'<title id="'+D(z.id)+'">'+D(z.text)+"</title>":"",K+=k.text?'<description id="'+D(k.id)+'">'+D(k.text)+"</description>":"",K+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',K+='<path d="',Y=0;Y<h.getModuleCount();Y+=1)for(G=Y*P+U,J=0;J<h.getModuleCount();J+=1)h.isDark(Y,J)&&(ne=J*P+U,K+="M"+ne+","+G+q);return K+='" stroke="transparent" fill="black"/>',K+="</svg>",K},h.createDataURL=function(P,U){P=P||2,U=typeof U>"u"?P*4:U;const k=h.getModuleCount()*P+U*2,z=U,R=k-U;return pie(k,k,function(H,J){if(z<=H&&H<R&&z<=J&&J<R){const ne=Math.floor((H-z)/P),Y=Math.floor((J-z)/P);return h.isDark(Y,ne)?0:1}else return 1})},h.createImgTag=function(P,U,k){P=P||2,U=typeof U>"u"?P*4:U;const z=h.getModuleCount()*P+U*2;let R="";return R+="<img",R+=' src="',R+=h.createDataURL(P,U),R+='"',R+=' width="',R+=z,R+='"',R+=' height="',R+=z,R+='"',k&&(R+=' alt="',R+=D(k),R+='"'),R+="/>",R};const D=function(P){let U="";for(let k=0;k<P.length;k+=1){const z=P.charAt(k);switch(z){case"<":U+="&lt;";break;case">":U+="&gt;";break;case"&":U+="&amp;";break;case'"':U+="&quot;";break;default:U+=z;break}}return U},V=function(P){P=typeof P>"u"?1*2:P;const k=h.getModuleCount()*1+P*2,z=P,R=k-P;let H,J,ne,Y,G;const K={"":""," ":""," ":"","  ":" "},q={"":""," ":""," ":" ","  ":" "};let X="";for(H=0;H<k;H+=2){for(ne=Math.floor((H-z)/1),Y=Math.floor((H+1-z)/1),J=0;J<k;J+=1)G="",z<=J&&J<R&&z<=H&&H<R&&h.isDark(ne,Math.floor((J-z)/1))&&(G=" "),z<=J&&J<R&&z<=H+1&&H+1<R&&h.isDark(Y,Math.floor((J-z)/1))?G+=" ":G+="",X+=P<1&&H+1>=R?q[G]:K[G];X+=`
`}return k%2&&P>0?X.substring(0,X.length-k-1)+Array(k+1).join(""):X.substring(0,X.length-1)};return h.createASCII=function(P,U){if(P=P||1,P<2)return V(U);P-=1,U=typeof U>"u"?P*2:U;const k=h.getModuleCount()*P+U*2,z=U,R=k-U;let H,J,ne,Y;const G=Array(P+1).join(""),K=Array(P+1).join("  ");let q="",X="";for(H=0;H<k;H+=1){for(ne=Math.floor((H-z)/P),X="",J=0;J<k;J+=1)Y=1,z<=J&&J<R&&z<=H&&H<R&&h.isDark(ne,Math.floor((J-z)/P))&&(Y=0),X+=Y?G:K;for(ne=0;ne<P;ne+=1)q+=X+`
`}return q.substring(0,q.length-1)},h.renderTo2dContext=function(P,U){U=U||2;const k=h.getModuleCount();for(let z=0;z<k;z++)for(let R=0;R<k;R++)P.fillStyle=h.isDark(z,R)?"black":"white",P.fillRect(z*U,R*U,U,U)},h};l1.stringToBytes=function(e){const t=[];for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t.push(n&255)}return t};l1.createStringToBytes=function(e,t){const r=function(){const s=fie(e),i=function(){const A=s.read();if(A==-1)throw"eof";return A};let o=0;const l={};for(;;){const A=s.read();if(A==-1)break;const u=i(),h=i(),m=i(),y=String.fromCharCode(A<<8|u),g=h<<8|m;l[y]=g,o+=1}if(o!=t)throw o+" != "+t;return l}(),n=63;return function(s){const i=[];for(let o=0;o<s.length;o+=1){const l=s.charCodeAt(o);if(l<128)i.push(l);else{const A=r[s.charAt(o)];typeof A=="number"?(A&255)==A?i.push(A):(i.push(A>>>8),i.push(A&255)):i.push(n)}}return i}};const zi={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},ap={L:1,M:0,Q:3,H:2},mu={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},pu=function(){const e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],t=1335,r=7973,n=21522,s={},i=function(o){let l=0;for(;o!=0;)l+=1,o>>>=1;return l};return s.getBCHTypeInfo=function(o){let l=o<<10;for(;i(l)-i(t)>=0;)l^=t<<i(l)-i(t);return(o<<10|l)^n},s.getBCHTypeNumber=function(o){let l=o<<12;for(;i(l)-i(r)>=0;)l^=r<<i(l)-i(r);return o<<12|l},s.getPatternPosition=function(o){return e[o-1]},s.getMaskFunction=function(o){switch(o){case mu.PATTERN000:return function(l,A){return(l+A)%2==0};case mu.PATTERN001:return function(l,A){return l%2==0};case mu.PATTERN010:return function(l,A){return A%3==0};case mu.PATTERN011:return function(l,A){return(l+A)%3==0};case mu.PATTERN100:return function(l,A){return(Math.floor(l/2)+Math.floor(A/3))%2==0};case mu.PATTERN101:return function(l,A){return l*A%2+l*A%3==0};case mu.PATTERN110:return function(l,A){return(l*A%2+l*A%3)%2==0};case mu.PATTERN111:return function(l,A){return(l*A%3+(l+A)%2)%2==0};default:throw"bad maskPattern:"+o}},s.getErrorCorrectPolynomial=function(o){let l=Bg([1],0);for(let A=0;A<o;A+=1)l=l.multiply(Bg([1,vu.gexp(A)],0));return l},s.getLengthInBits=function(o,l){if(1<=l&&l<10)switch(o){case zi.MODE_NUMBER:return 10;case zi.MODE_ALPHA_NUM:return 9;case zi.MODE_8BIT_BYTE:return 8;case zi.MODE_KANJI:return 8;default:throw"mode:"+o}else if(l<27)switch(o){case zi.MODE_NUMBER:return 12;case zi.MODE_ALPHA_NUM:return 11;case zi.MODE_8BIT_BYTE:return 16;case zi.MODE_KANJI:return 10;default:throw"mode:"+o}else if(l<41)switch(o){case zi.MODE_NUMBER:return 14;case zi.MODE_ALPHA_NUM:return 13;case zi.MODE_8BIT_BYTE:return 16;case zi.MODE_KANJI:return 12;default:throw"mode:"+o}else throw"type:"+l},s.getLostPoint=function(o){const l=o.getModuleCount();let A=0;for(let m=0;m<l;m+=1)for(let y=0;y<l;y+=1){let g=0;const b=o.isDark(m,y);for(let C=-1;C<=1;C+=1)if(!(m+C<0||l<=m+C))for(let I=-1;I<=1;I+=1)y+I<0||l<=y+I||C==0&&I==0||b==o.isDark(m+C,y+I)&&(g+=1);g>5&&(A+=3+g-5)}for(let m=0;m<l-1;m+=1)for(let y=0;y<l-1;y+=1){let g=0;o.isDark(m,y)&&(g+=1),o.isDark(m+1,y)&&(g+=1),o.isDark(m,y+1)&&(g+=1),o.isDark(m+1,y+1)&&(g+=1),(g==0||g==4)&&(A+=3)}for(let m=0;m<l;m+=1)for(let y=0;y<l-6;y+=1)o.isDark(m,y)&&!o.isDark(m,y+1)&&o.isDark(m,y+2)&&o.isDark(m,y+3)&&o.isDark(m,y+4)&&!o.isDark(m,y+5)&&o.isDark(m,y+6)&&(A+=40);for(let m=0;m<l;m+=1)for(let y=0;y<l-6;y+=1)o.isDark(y,m)&&!o.isDark(y+1,m)&&o.isDark(y+2,m)&&o.isDark(y+3,m)&&o.isDark(y+4,m)&&!o.isDark(y+5,m)&&o.isDark(y+6,m)&&(A+=40);let u=0;for(let m=0;m<l;m+=1)for(let y=0;y<l;y+=1)o.isDark(y,m)&&(u+=1);const h=Math.abs(100*u/l/l-50)/5;return A+=h*10,A},s}(),vu=function(){const e=new Array(256),t=new Array(256);for(let n=0;n<8;n+=1)e[n]=1<<n;for(let n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(let n=0;n<255;n+=1)t[e[n]]=n;const r={};return r.glog=function(n){if(n<1)throw"glog("+n+")";return t[n]},r.gexp=function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return e[n]},r}(),Bg=function(e,t){if(typeof e.length>"u")throw e.length+"/"+t;const r=function(){let s=0;for(;s<e.length&&e[s]==0;)s+=1;const i=new Array(e.length-s+t);for(let o=0;o<e.length-s;o+=1)i[o]=e[o+s];return i}(),n={};return n.getAt=function(s){return r[s]},n.getLength=function(){return r.length},n.multiply=function(s){const i=new Array(n.getLength()+s.getLength()-1);for(let o=0;o<n.getLength();o+=1)for(let l=0;l<s.getLength();l+=1)i[o+l]^=vu.gexp(vu.glog(n.getAt(o))+vu.glog(s.getAt(l)));return Bg(i,0)},n.mod=function(s){if(n.getLength()-s.getLength()<0)return n;const i=vu.glog(n.getAt(0))-vu.glog(s.getAt(0)),o=new Array(n.getLength());for(let l=0;l<n.getLength();l+=1)o[l]=n.getAt(l);for(let l=0;l<s.getLength();l+=1)o[l]^=vu.gexp(vu.glog(s.getAt(l))+i);return Bg(o,0).mod(s)},n},yj=function(){const e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(s,i){const o={};return o.totalCount=s,o.dataCount=i,o},r={},n=function(s,i){switch(i){case ap.L:return e[(s-1)*4+0];case ap.M:return e[(s-1)*4+1];case ap.Q:return e[(s-1)*4+2];case ap.H:return e[(s-1)*4+3];default:return}};return r.getRSBlocks=function(s,i){const o=n(s,i);if(typeof o>"u")throw"bad rs block @ typeNumber:"+s+"/errorCorrectionLevel:"+i;const l=o.length/3,A=[];for(let u=0;u<l;u+=1){const h=o[u*3+0],m=o[u*3+1],y=o[u*3+2];for(let g=0;g<h;g+=1)A.push(t(m,y))}return A},r}(),wj=function(){const e=[];let t=0;const r={};return r.getBuffer=function(){return e},r.getAt=function(n){const s=Math.floor(n/8);return(e[s]>>>7-n%8&1)==1},r.put=function(n,s){for(let i=0;i<s;i+=1)r.putBit((n>>>s-i-1&1)==1)},r.getLengthInBits=function(){return t},r.putBit=function(n){const s=Math.floor(t/8);e.length<=s&&e.push(0),n&&(e[s]|=128>>>t%8),t+=1},r},cie=function(e){const t=zi.MODE_NUMBER,r=e,n={};n.getMode=function(){return t},n.getLength=function(o){return r.length},n.write=function(o){const l=r;let A=0;for(;A+2<l.length;)o.put(s(l.substring(A,A+3)),10),A+=3;A<l.length&&(l.length-A==1?o.put(s(l.substring(A,A+1)),4):l.length-A==2&&o.put(s(l.substring(A,A+2)),7))};const s=function(o){let l=0;for(let A=0;A<o.length;A+=1)l=l*10+i(o.charAt(A));return l},i=function(o){if("0"<=o&&o<="9")return o.charCodeAt(0)-48;throw"illegal char :"+o};return n},Aie=function(e){const t=zi.MODE_ALPHA_NUM,r=e,n={};n.getMode=function(){return t},n.getLength=function(i){return r.length},n.write=function(i){const o=r;let l=0;for(;l+1<o.length;)i.put(s(o.charAt(l))*45+s(o.charAt(l+1)),11),l+=2;l<o.length&&i.put(s(o.charAt(l)),6)};const s=function(i){if("0"<=i&&i<="9")return i.charCodeAt(0)-48;if("A"<=i&&i<="Z")return i.charCodeAt(0)-65+10;switch(i){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+i}};return n},uie=function(e){const t=zi.MODE_8BIT_BYTE,r=l1.stringToBytes(e),n={};return n.getMode=function(){return t},n.getLength=function(s){return r.length},n.write=function(s){for(let i=0;i<r.length;i+=1)s.put(r[i],8)},n},die=function(e){const t=zi.MODE_KANJI,r=l1.stringToBytes;(function(i,o){const l=r(i);if(l.length!=2||(l[0]<<8|l[1])!=o)throw"sjis not supported."})("",38726);const n=r(e),s={};return s.getMode=function(){return t},s.getLength=function(i){return~~(n.length/2)},s.write=function(i){const o=n;let l=0;for(;l+1<o.length;){let A=(255&o[l])<<8|255&o[l+1];if(33088<=A&&A<=40956)A-=33088;else if(57408<=A&&A<=60351)A-=49472;else throw"illegal char at "+(l+1)+"/"+A;A=(A>>>8&255)*192+(A&255),i.put(A,13),l+=2}if(l<o.length)throw"illegal char at "+(l+1)},s},xD=function(){const e=[],t={};return t.writeByte=function(r){e.push(r&255)},t.writeShort=function(r){t.writeByte(r),t.writeByte(r>>>8)},t.writeBytes=function(r,n,s){n=n||0,s=s||r.length;for(let i=0;i<s;i+=1)t.writeByte(r[i+n])},t.writeString=function(r){for(let n=0;n<r.length;n+=1)t.writeByte(r.charCodeAt(n))},t.toByteArray=function(){return e},t.toString=function(){let r="";r+="[";for(let n=0;n<e.length;n+=1)n>0&&(r+=","),r+=e[n];return r+="]",r},t},hie=function(){let e=0,t=0,r=0,n="";const s={},i=function(l){n+=String.fromCharCode(o(l&63))},o=function(l){if(l<0)throw"n:"+l;if(l<26)return 65+l;if(l<52)return 97+(l-26);if(l<62)return 48+(l-52);if(l==62)return 43;if(l==63)return 47;throw"n:"+l};return s.writeByte=function(l){for(e=e<<8|l&255,t+=8,r+=1;t>=6;)i(e>>>t-6),t-=6},s.flush=function(){if(t>0&&(i(e<<6-t),e=0,t=0),r%3!=0){const l=3-r%3;for(let A=0;A<l;A+=1)n+="="}},s.toString=function(){return n},s},fie=function(e){const t=e;let r=0,n=0,s=0;const i={};i.read=function(){for(;s<8;){if(r>=t.length){if(s==0)return-1;throw"unexpected end of file./"+s}const A=t.charAt(r);if(r+=1,A=="=")return s=0,-1;if(A.match(/^\s$/))continue;n=n<<6|o(A.charCodeAt(0)),s+=6}const l=n>>>s-8&255;return s-=8,l};const o=function(l){if(65<=l&&l<=90)return l-65;if(97<=l&&l<=122)return l-97+26;if(48<=l&&l<=57)return l-48+52;if(l==43)return 62;if(l==47)return 63;throw"c:"+l};return i},mie=function(e,t){const r=e,n=t,s=new Array(e*t),i={};i.setPixel=function(u,h,m){s[h*r+u]=m},i.write=function(u){u.writeString("GIF87a"),u.writeShort(r),u.writeShort(n),u.writeByte(128),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(255),u.writeByte(255),u.writeByte(255),u.writeString(","),u.writeShort(0),u.writeShort(0),u.writeShort(r),u.writeShort(n),u.writeByte(0);const h=2,m=l(h);u.writeByte(h);let y=0;for(;m.length-y>255;)u.writeByte(255),u.writeBytes(m,y,255),y+=255;u.writeByte(m.length-y),u.writeBytes(m,y,m.length-y),u.writeByte(0),u.writeString(";")};const o=function(u){const h=u;let m=0,y=0;const g={};return g.write=function(b,C){if(b>>>C)throw"length over";for(;m+C>=8;)h.writeByte(255&(b<<m|y)),C-=8-m,b>>>=8-m,y=0,m=0;y=b<<m|y,m=m+C},g.flush=function(){m>0&&h.writeByte(y)},g},l=function(u){const h=1<<u,m=(1<<u)+1;let y=u+1;const g=A();for(let N=0;N<h;N+=1)g.add(String.fromCharCode(N));g.add(String.fromCharCode(h)),g.add(String.fromCharCode(m));const b=xD(),C=o(b);C.write(h,y);let I=0,v=String.fromCharCode(s[I]);for(I+=1;I<s.length;){const N=String.fromCharCode(s[I]);I+=1,g.contains(v+N)?v=v+N:(C.write(g.indexOf(v),y),g.size()<4095&&(g.size()==1<<y&&(y+=1),g.add(v+N)),v=N)}return C.write(g.indexOf(v),y),C.write(m,y),C.flush(),b.toByteArray()},A=function(){const u={};let h=0;const m={};return m.add=function(y){if(m.contains(y))throw"dup key:"+y;u[y]=h,h+=1},m.size=function(){return h},m.indexOf=function(y){return u[y]},m.contains=function(y){return typeof u[y]<"u"},m};return i},pie=function(e,t,r){const n=mie(e,t);for(let l=0;l<t;l+=1)for(let A=0;A<e;A+=1)n.setPixel(A,l,r(A,l));const s=xD();n.write(s);const i=hie(),o=s.toByteArray();for(let l=0;l<o.length;l+=1)i.writeByte(o[l]);return i.flush(),"data:image/gif;base64,"+i},c1=({libraryCode:e,libraryName:t,libraryId:r,isOpen:n,onClose:s})=>{const i=B.useRef(null),[o,l]=B.useState(""),[A,u]=B.useState("");B.useEffect(()=>{n&&e&&r&&h()},[n,e,r]);const h=()=>{const C=JSON.stringify({libraryId:r,libraryCode:e,libraryName:t,type:"attendance"});l(C);try{const I=l1(0,"M");I.addData(C),I.make();const v=I.createSvgTag(4,0);u(v),m(I)}catch(I){console.error("Error generating QR code:",I),er.error("Failed to generate barcode")}},m=b=>{const C=i.current;if(!C)return;const I=C.getContext("2d");if(!I)return;const v=b.getModuleCount(),N=8,F=32,T=v*N+F*2;C.width=T,C.height=T+60,I.fillStyle="#ffffff",I.fillRect(0,0,C.width,C.height),I.fillStyle="#000000";for(let D=0;D<v;D++)for(let V=0;V<v;V++)b.isDark(D,V)&&I.fillRect(V*N+F,D*N+F,N,N);I.fillStyle="#000000",I.font="bold 16px Arial",I.textAlign="center",I.fillText(t,C.width/2,T+25),I.font="12px Arial",I.fillText(`Code: ${e}`,C.width/2,T+45)},y=()=>{const b=i.current;if(!b)return;const C=document.createElement("a");C.download=`${e}_barcode.png`,C.href=b.toDataURL(),C.click(),er.success("Barcode downloaded successfully!")},g=()=>{navigator.clipboard.writeText(o).then(()=>{er.success("Barcode data copied to clipboard!")}).catch(()=>{er.error("Failed to copy barcode data")})};return n?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(NA,{className:"w-5 h-5 mr-2 text-blue-600"}),"Library Barcode"]}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(zA,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:t}),a.jsx("p",{className:"text-sm text-gray-600",children:"Students can scan this QR code to check in/out for attendance"})]}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"p-4 bg-white border-2 border-gray-200 rounded-lg shadow-sm",children:A?a.jsx("div",{dangerouslySetInnerHTML:{__html:A}}):a.jsx("canvas",{ref:i,className:"border border-gray-300",style:{maxWidth:"200px",maxHeight:"200px"}})})}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Library Code:"}),a.jsx("p",{className:"text-gray-900 font-mono",children:e})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Library ID:"}),a.jsx("p",{className:"text-gray-900 font-mono",children:r})]})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Barcode Data:"}),a.jsx("p",{className:"text-xs text-gray-600 font-mono bg-white p-2 rounded border break-all",children:o})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:y,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(a1,{className:"w-4 h-4 mr-2"}),"Download"]}),a.jsxs("button",{onClick:g,className:"flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[a.jsx(uB,{className:"w-4 h-4 mr-2"}),"Copy Data"]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Instructions:"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Print this QR code and display it prominently in your library"}),a.jsx("li",{children:" Students can scan this code to check in when arriving"}),a.jsx("li",{children:" Students can scan again to check out when leaving"}),a.jsx("li",{children:" Each library has a unique QR code for security"}),a.jsx("li",{children:" Students can only mark attendance using their registered library's QR code"})]})]})]}),a.jsx("canvas",{ref:i,style:{display:"none"}})]})}):null},gie=({libraryCode:e,libraryName:t})=>{const[r,n]=B.useState(!1),s=typeof window<"u"?`${window.location.protocol}//${window.location.host}`:"https://yourdomain.com",i=`${s}/#/register/${e}`,o=`${s}/#/registration-status/${e}`,l=async(h,m)=>{try{await navigator.clipboard.writeText(h),n(!0),je.success(`${m} copied to clipboard!`),setTimeout(()=>n(!1),2e3)}catch(y){console.error("Failed to copy text: ",y),je.error("Failed to copy to clipboard")}},A=h=>{window.open(h,"_blank","noopener,noreferrer")},u=async()=>{if(navigator.share)try{await navigator.share({title:`Register for ${t}`,text:`Join ${t} - Register now!`,url:i})}catch(h){console.error("Error sharing:",h),l(i,"Registration link")}else l(i,"Registration link")};return a.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(MF,{className:"w-5 h-5 mr-2 text-purple-600"}),"Public Registration Link"]}),a.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Library Code: ",e]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Registration URL"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-800 font-mono break-all",children:i}),a.jsx("button",{onClick:()=>l(i,"Registration link"),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",title:"Copy registration link",children:r?a.jsx(Tw,{className:"w-4 h-4"}):a.jsx(uB,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>A(i),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Open registration page",children:a.jsx(DF,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Status Check URL"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-800 font-mono break-all",children:o}),a.jsx("button",{onClick:()=>l(o,"Status check link"),className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",title:"Copy status check link",children:r?a.jsx(Tw,{className:"w-4 h-4"}):a.jsx(uB,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>A(o),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Open status check page",children:a.jsx(DF,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"How to use:"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("li",{children:[" Share the ",a.jsx("strong",{children:"Registration URL"})," with prospective students"]}),a.jsxs("li",{children:[" Students can check their application status using the ",a.jsx("strong",{children:"Status Check URL"})]}),a.jsxs("li",{children:[" Review and manage applications in the ",a.jsx("strong",{children:"Admission Requests"})," section"]}),a.jsx("li",{children:" Approved students will automatically get accounts and membership"})]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:u,className:"flex-1 flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:[a.jsx(MF,{className:"w-4 h-4 mr-2"}),"Share Registration Link"]})})]})]})},xie=()=>{const e=Rr();let t=null;try{const Ce=Ca();if(!Ce)throw new Error("Auth context is not available");t=Ce.user}catch(Ce){return console.error("Auth context error:",Ce),je.error("Authentication error. Please log in again."),e("/login"),null}const[r,n]=B.useState(0),[s,i]=B.useState({totalStudents:0,activeStudents:0,expiredMemberships:0}),[o,l]=B.useState({expiring1to2Days:0,expiring3to5Days:0,expiring5to7Days:0}),[A,u]=B.useState({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}),[h,m]=B.useState(!1),[y,g]=B.useState([]),[b,C]=B.useState(null),[I,v]=B.useState({totalStudents:0,branches:[],expiredCount:0,totalCollection:0,totalDue:0}),[N,F]=B.useState(!0),[T,D]=B.useState([]),[V,P]=B.useState(!1),[U,k]=B.useState("daily"),[z,R]=B.useState(new Date().toISOString().split("T")[0]),[H,J]=B.useState(""),[ne,Y]=B.useState(!1),[G,K]=B.useState(null),[q,X]=B.useState({totalPresent:0,totalCheckedIn:0,totalCheckedOut:0}),[fe,de]=B.useState({page:1,limit:10,totalRecords:0,totalPages:1}),[Q,Z]=B.useState(!1),[ae,ee]=B.useState(()=>{const Ce=typeof window<"u"?localStorage.getItem("dashboardView"):null;return Ce==="standard"||Ce==="compact"||Ce==="detailed"?Ce:"standard"});B.useEffect(()=>{(async()=>{if(t)try{const he=await De.getLibraryProfile();he&&he.library&&K({id:he.library.id,library_code:he.library.libraryCode,name:he.library.libraryName})}catch(he){console.error("Failed to load library info:",he),je.error("Could not load library information.")}})()},[t]),B.useEffect(()=>{try{typeof window<"u"&&localStorage.setItem("dashboardView",ae)}catch{}},[ae]);const oe=()=>{Y(!0)},pe=async()=>{try{const Ce=await De.getBranches();if(!Ce||!Array.isArray(Ce))throw new Error("Invalid branches data");g(Ce)}catch(Ce){je.error("Failed to load branches"),console.error("Error fetching branches:",Ce),g([])}},Be=async()=>{var Ce;try{const[he,ft,dt,Je]=await Promise.all([De.getTotalStudentsCount(b??void 0).catch(()=>0),De.getActiveStudentsCount(b??void 0).catch(()=>0),De.getExpiredMembershipsCount(b??void 0).catch(()=>0),De.getExpiringCounts(b??void 0).catch(()=>({expiring1to2Days:0,expiring3to5Days:0,expiring5to7Days:0}))]);i({totalStudents:Number(he)||0,activeStudents:Number(ft)||0,expiredMemberships:Number(dt)||0}),l({expiring1to2Days:Number(Je.expiring1to2Days)||0,expiring3to5Days:Number(Je.expiring3to5Days)||0,expiring5to7Days:Number(Je.expiring5to7Days)||0});const Qe=await De.getDashboardStats(b?{branchId:b}:void 0).catch(()=>({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}));u({totalCollection:Number(Qe.totalCollection)||0,totalDue:Number(Qe.totalDue)||0,totalExpense:Number(Qe.totalExpense)||0,profitLoss:Number(Qe.profitLoss)||0})}catch(he){((Ce=he.response)==null?void 0:Ce.status)===401?(je.error("Session expired. Please log in again."),e("/login")):(je.error("Failed to load dashboard stats"),console.error("Error fetching stats:",he),i({totalStudents:0,activeStudents:0,expiredMemberships:0}),l({expiring1to2Days:0,expiring3to5Days:0,expiring5to7Days:0}),u({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}))}},_e=async()=>{var Ce;F(!0);try{const[he,ft,dt,Je]=await Promise.all([De.getHostelBranches(),De.getHostelStudents(),De.getExpiredHostelStudents(),De.getHostelCollections()]),Qe=(ft??[]).reduce((ct,At)=>{const Ht=At.branchId;return Ht&&(ct[Ht]=(ct[Ht]||0)+1),ct},{}),vt=(Array.isArray(he)?he:[]).map(ct=>({...ct,studentCount:Qe[ct.id]||0})),Ke=((Ce=dt==null?void 0:dt.expiredStudents)==null?void 0:Ce.length)??0,Vt=(Je==null?void 0:Je.collections)??[],bt=Vt.reduce((ct,At)=>{const Ht=parseFloat(String(At.cashPaid||0)),St=parseFloat(String(At.onlinePaid||0));return ct+Ht+St},0),nt=Vt.reduce((ct,At)=>{const Ht=parseFloat(String(At.dueAmount||0));return ct+Ht},0);v({totalStudents:Array.isArray(ft)?ft.length:0,branches:vt,expiredCount:Ke,totalCollection:bt,totalDue:nt})}catch(he){je.error("Failed to load hostel statistics"),console.error("Error fetching hostel stats:",he)}finally{F(!1)}};B.useEffect(()=>{t&&(pe(),Be(),_e(),Oe())},[t,b]),B.useEffect(()=>{t&&Oe()},[U,z,H]);const Le=t&&(t.role==="admin"||t.role==="staff"),ke=()=>{n(Ce=>Ce+1)},Oe=async(Ce=1)=>{if(t){P(!0);try{const he=await De.fetchAttendance({date:z,search:H,page:Ce,limit:fe.limit,view:U});D(he.attendance),de(he.pagination);const ft=he.attendance.filter(Je=>Je.firstIn&&!Je.lastOut).length,dt=he.attendance.filter(Je=>Je.lastOut).length;X({totalPresent:he.pagination.totalRecords,totalCheckedIn:ft,totalCheckedOut:dt})}catch(he){console.error("Failed to load attendance:",he),je.error("Could not load attendance records.")}finally{P(!1)}}},Se=Ce=>Ce?new Date(Ce).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"Not recorded";return t?a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(Kn,{isCollapsed:Q,setIsCollapsed:Z,onBarcodeClick:oe}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Library Dashboard"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 hidden sm:inline",children:"View:"}),a.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>ee("standard"),className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${ae==="standard"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Standard View",children:[a.jsx(Bee,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Standard"})]}),a.jsxs("button",{onClick:()=>ee("compact"),className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${ae==="compact"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Compact View",children:[a.jsx(pR,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Compact"})]}),a.jsxs("button",{onClick:()=>ee("detailed"),className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${ae==="detailed"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Detailed View",children:[a.jsx(Fee,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Detailed"})]})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"branch-select",className:"text-sm font-medium text-gray-700 mr-2",children:"Filter by Branch:"}),a.jsxs("select",{id:"branch-select",value:b??"all",onChange:Ce=>C(Ce.target.value==="all"?null:parseInt(Ce.target.value,10)),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",children:[a.jsx("option",{value:"all",children:"All Branches"}),y.map(Ce=>a.jsx("option",{value:Ce.id.toString(),children:Ce.name},Ce.id))]})]}),a.jsx("h2",{className:`font-semibold mb-4 ${ae==="compact"?"text-lg":ae==="detailed"?"text-2xl":"text-xl"}`,children:"Library Statistics"}),a.jsxs("div",{className:`grid gap-4 sm:gap-6 mb-6 ${ae==="compact"?"grid-cols-2 sm:grid-cols-3 lg:grid-cols-6":ae==="detailed"?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 md:grid-cols-3"}`,children:[a.jsx(Yr,{to:"/students",className:"block",children:a.jsx(ka,{title:"Total Students",value:s.totalStudents,icon:a.jsx(Fc,{className:"h-6 w-6 text-purple-500"}),iconBgColor:"bg-purple-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-purple-400"})})}),a.jsx(Yr,{to:"/active-students",className:"block",children:a.jsx(ka,{title:"Active Students",value:s.activeStudents,icon:a.jsx(Bd,{className:"h-6 w-6 text-blue-500"}),iconBgColor:"bg-blue-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-blue-400"})})}),a.jsx(Yr,{to:"/expired-memberships",className:"block",children:a.jsx(ka,{title:"Expired Memberships",value:s.expiredMemberships,icon:a.jsx(gA,{className:"h-6 w-6 text-orange-500"}),iconBgColor:"bg-orange-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-orange-400"})})})]}),a.jsx("h2",{className:`font-semibold mb-4 ${ae==="compact"?"text-lg":ae==="detailed"?"text-2xl":"text-xl"}`,children:"Expiring Memberships"}),a.jsxs("div",{className:`grid gap-4 sm:gap-6 mb-6 ${ae==="compact"?"grid-cols-2 sm:grid-cols-3 lg:grid-cols-6":ae==="detailed"?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 md:grid-cols-3"}`,children:[a.jsx(Yr,{to:"/expiring-memberships?range=1-2",className:"block",children:a.jsx(ka,{title:"Expiring in 1-2 Days",value:o.expiring1to2Days,icon:a.jsx(gA,{className:"h-6 w-6 text-red-500"}),iconBgColor:"bg-red-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-red-400"})})}),a.jsx(Yr,{to:"/expiring-memberships?range=3-5",className:"block",children:a.jsx(ka,{title:"Expiring in 3-5 Days",value:o.expiring3to5Days,icon:a.jsx(gA,{className:"h-6 w-6 text-yellow-500"}),iconBgColor:"bg-yellow-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-yellow-400"})})}),a.jsx(Yr,{to:"/expiring-memberships?range=5-7",className:"block",children:a.jsx(ka,{title:"Expiring in 5-7 Days",value:o.expiring5to7Days,icon:a.jsx(gA,{className:"h-6 w-6 text-orange-500"}),iconBgColor:"bg-orange-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-orange-400"})})})]}),a.jsx("h2",{className:`font-semibold mb-4 ${ae==="compact"?"text-lg":ae==="detailed"?"text-2xl":"text-xl"}`,children:"Financial Overview (This Month)"}),a.jsxs("div",{className:`grid gap-4 sm:gap-6 mb-6 ${ae==="compact"?"grid-cols-2 sm:grid-cols-4 lg:grid-cols-8":ae==="detailed"?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4"}`,children:[a.jsx(Yr,{to:"/collections",className:"block",children:a.jsx(ka,{title:"Total Collection",value:A.totalCollection,icon:a.jsx(ev,{className:"h-6 w-6 text-green-500"}),iconBgColor:"bg-green-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-green-400"})})}),a.jsx(Yr,{to:"/collections?showOnlyDue=true",className:"block",children:a.jsx(ka,{title:"Total Due",value:A.totalDue,icon:a.jsx(gA,{className:"h-6 w-6 text-red-500"}),iconBgColor:"bg-red-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-red-400"})})}),a.jsx(Yr,{to:"/expenses",className:"block",children:a.jsx(ka,{title:"Total Expense",value:A.totalExpense,icon:a.jsx(HF,{className:"h-6 w-6 text-yellow-500"}),iconBgColor:"bg-yellow-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-yellow-400"})})}),a.jsx(Yr,{to:"/profit-loss",className:"block",children:a.jsx(ka,{title:A.profitLoss>=0?"Profit":"Loss",value:Math.abs(A.profitLoss),icon:A.profitLoss>=0?a.jsx(bR,{className:"h-6 w-6 text-teal-500"}):a.jsx(HF,{className:"h-6 w-6 text-red-500"}),iconBgColor:A.profitLoss>=0?"bg-teal-100":"bg-red-100",arrowIcon:a.jsx(Cn,{className:`h-5 w-5 ${A.profitLoss>=0?"text-teal-400":"text-red-400"}`})})})]}),G&&a.jsx(gie,{libraryCode:G.library_code,libraryName:G.name}),Le&&G&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Attendance Management"}),a.jsx("p",{className:"text-blue-100",children:"Monitor and manage student attendance"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 w-full sm:w-auto",children:[a.jsx(rl,{className:"w-5 h-5 mb-1"}),a.jsx("input",{type:"date",value:z,onChange:Ce=>R(Ce.target.value),className:"bg-transparent text-white placeholder-blue-200 border-0 focus:ring-0 p-0 text-sm font-medium w-full"})]}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 flex items-center w-full sm:w-auto",children:[a.jsx(Ic,{className:"w-4 h-4 mr-2 text-white"}),a.jsx("input",{type:"text",placeholder:"Search students...",value:H,onChange:Ce=>J(Ce.target.value),className:"bg-transparent text-white placeholder-blue-200 border-0 focus:ring-0 p-0 text-sm font-medium w-full sm:w-48"})]}),a.jsxs("button",{onClick:()=>Y(!0),className:"bg-green-500/20 backdrop-blur-sm hover:bg-green-500/30 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 w-full sm:w-auto",children:[a.jsx(NA,{className:"w-4 h-4"}),a.jsx("span",{children:"Generate QR"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Total Present"}),a.jsx("p",{className:"text-2xl font-bold",children:q.totalPresent})]}),a.jsx(Bd,{className:"w-8 h-8 text-blue-200"})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Checked In"}),a.jsx("p",{className:"text-2xl font-bold",children:q.totalCheckedIn})]}),a.jsx(Js,{className:"w-8 h-8 text-green-200"})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Checked Out"}),a.jsx("p",{className:"text-2xl font-bold",children:q.totalCheckedOut})]}),a.jsx(Js,{className:"w-8 h-8 text-red-200"})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Records"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>k("daily"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${U==="daily"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Daily"}),a.jsx("button",{onClick:()=>k("monthly"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${U==="monthly"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Monthly"})]})]})}),V?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading attendance..."})]}):T.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration Number"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check In"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check Out"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(Ce=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ce.studentName}),a.jsx("div",{className:"text-sm text-gray-500",children:Ce.phone})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ce.registrationNumber}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Se(Ce.firstIn||"")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Se(Ce.lastOut||"")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ce.lastOut?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:Ce.lastOut?"Checked Out":"Checked In"})})]},Ce.studentId))})]})}),fe.totalRecords>0&&a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6",children:[a.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>Oe(fe.page-1),disabled:fe.page<=1,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>Oe(fe.page+1),disabled:fe.page>=fe.totalPages,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:(fe.page-1)*fe.limit+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(fe.page*fe.limit,fe.totalRecords)})," of"," ",a.jsx("span",{className:"font-medium",children:fe.totalRecords})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[a.jsxs("button",{onClick:()=>Oe(fe.page-1),disabled:fe.page<=1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(Cn,{className:"h-5 w-5 rotate-180","aria-hidden":"true"})]}),a.jsxs("button",{onClick:()=>Oe(fe.page+1),disabled:fe.page>=fe.totalPages,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(Cn,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(rl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Attendance Records"}),a.jsx("p",{className:"text-gray-500",children:"No students have marked attendance for the selected date."})]})]})]}),Le&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Manage Library Students"}),h?a.jsx("button",{onClick:()=>{m(!1),ke()},className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition duration-200",children:"Cancel"}):a.jsx("button",{onClick:()=>m(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition duration-200",children:"Add Student"})]}),h&&a.jsx(gD,{}),a.jsx(vte,{selectedBranchId:b},r.toString())]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Expiring Soon (Library)"}),a.jsx(lie,{selectedBranchId:b})]})]})})]}),G&&a.jsx(c1,{isOpen:ne,libraryCode:G.library_code,libraryName:G.name,libraryId:G.id,onClose:()=>Y(!1)})]}):null},yie=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-orange-50 p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold text-purple-600 mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-700 mb-6",children:"Oops! Page not found"}),a.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"The page you are looking for might have been removed or is temporarily unavailable."}),a.jsx(Yr,{to:"/",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Return to Dashboard"})]})}),kc=B.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:vr("w-full caption-bottom text-sm",e),...t})}));kc.displayName="Table";const Lc=B.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:vr("[&_tr]:border-b",e),...t}));Lc.displayName="TableHeader";const Pc=B.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:vr("[&_tr:last-child]:border-0",e),...t}));Pc.displayName="TableBody";const wie=B.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:vr("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));wie.displayName="TableFooter";const os=B.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:vr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));os.displayName="TableRow";const rr=B.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:vr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));rr.displayName="TableHead";const qt=B.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:vr("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));qt.displayName="TableCell";const yD=B.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:vr("mt-4 text-sm text-muted-foreground",e),...t}));yD.displayName="TableCaption";const vie=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",bie=()=>{const[e,t]=B.useState([]),[r,n]=B.useState(!0),[s,i]=B.useState(""),[o,l]=B.useState(1),[A,u]=B.useState(10),[h,m]=B.useState(!1),[y,g]=B.useState(""),[b,C]=B.useState("asc"),I=Rr();B.useEffect(()=>{(async()=>{try{const H=await De.getActiveStudents();if(!H||!Array.isArray(H.students))throw new Error("Invalid data received for active students");t(H.students),n(!1)}catch(H){console.error("Failed to fetch active students:",H.message),n(!1)}})()},[]),B.useEffect(()=>{l(1)},[s]);const v=R=>{y===R?C(b==="asc"?"desc":"asc"):(g(R),C("asc"))},N=Xe.useMemo(()=>y?[...e].sort((R,H)=>{var Y,G,K,q,X,fe,de,Q,Z,ae,ee,oe,pe,Be;let J,ne;switch(y){case"name":J=((Y=R.name)==null?void 0:Y.toLowerCase())||"",ne=((G=H.name)==null?void 0:G.toLowerCase())||"";break;case"registrationNumber":J=((K=R.registrationNumber)==null?void 0:K.toLowerCase())||"",ne=((q=H.registrationNumber)==null?void 0:q.toLowerCase())||"";break;case"phone":J=R.phone||"",ne=H.phone||"";break;case"status":J=((X=R.status)==null?void 0:X.toLowerCase())||"",ne=((fe=H.status)==null?void 0:fe.toLowerCase())||"";break;case"seat":J=((de=R.seatNumber)==null?void 0:de.toLowerCase())||((ae=(Z=(Q=R.assignments)==null?void 0:Q[0])==null?void 0:Z.seatNumber)==null?void 0:ae.toLowerCase())||"",ne=((ee=H.seatNumber)==null?void 0:ee.toLowerCase())||((Be=(pe=(oe=H.assignments)==null?void 0:oe[0])==null?void 0:pe.seatNumber)==null?void 0:Be.toLowerCase())||"";break;case"membershipEnd":J=new Date(R.membershipEnd||0).getTime(),ne=new Date(H.membershipEnd||0).getTime();break;default:return 0}return J<ne?b==="asc"?-1:1:J>ne?b==="asc"?1:-1:0}):e,[e,y,b]),F=R=>y!==R?null:b==="asc"?a.jsx(J2,{size:16}):a.jsx(i1,{size:16}),T=N.filter(R=>R.name.toLowerCase().includes(s.toLowerCase())||R.phone.toLowerCase().includes(s.toLowerCase())||R.registrationNumber&&R.registrationNumber.toLowerCase().includes(s.toLowerCase())),D=o*A,V=D-A,P=T.slice(V,D),U=Math.ceil(T.length/A),k=async R=>{if(window.confirm("Are you sure you want to delete this student?"))try{await De.deleteStudent(R),t(e.filter(H=>H.id!==R)),je.success("Student deleted successfully")}catch(H){console.error("Failed to delete student:",H.message),je.error("Failed to delete student")}},z=R=>{I(`/students/${R}`)};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(Kn,{isCollapsed:h,setIsCollapsed:m,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Active Students"}),a.jsx("p",{className:"text-gray-500",children:"Manage all your active students"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-col md:flex-row items-start md:items-center justify-between space-y-2 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Active Students List"}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:s,onChange:R=>i(R.target.value)})]})]}),r?a.jsx("div",{className:"flex justify-center p-8",children:"Loading active students..."}):a.jsx(a.Fragment,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(kc,{children:[a.jsx(Lc,{children:a.jsxs(os,{children:[a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>v("name"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Name"}),F("name")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>v("registrationNumber"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Registration Number"}),F("registrationNumber")]})}),a.jsx(rr,{className:"hidden md:table-cell cursor-pointer hover:bg-gray-50 select-none",onClick:()=>v("phone"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Phone"}),F("phone")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>v("status"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Status"}),F("status")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>v("seat"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Seat"}),F("seat")]})}),a.jsx(rr,{className:"hidden md:table-cell cursor-pointer hover:bg-gray-50 select-none",onClick:()=>v("membershipEnd"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Membership End"}),F("membershipEnd")]})}),a.jsx(rr,{children:"Actions"})]})}),a.jsx(Pc,{children:P.length>0?P.map(R=>{var H,J;return a.jsxs(os,{children:[a.jsx(qt,{children:R.name}),a.jsx(qt,{children:R.registrationNumber||"N/A"}),a.jsx(qt,{className:"hidden md:table-cell",children:R.phone}),a.jsx(qt,{children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${R.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.status==="active"?"Active":"Expired"})}),a.jsx(qt,{children:R.seatNumber||((J=(H=R.assignments)==null?void 0:H[0])==null?void 0:J.seatNumber)||"N/A"}),a.jsx(qt,{className:"hidden md:table-cell",children:vie(R.membershipEnd)}),a.jsxs(qt,{children:[a.jsx("button",{onClick:()=>z(R.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:a.jsx(za,{size:16})}),a.jsx("button",{onClick:()=>k(R.id),className:"text-red-600 hover:text-red-800 p-2",children:a.jsx(il,{size:16})})]})]},R.id)}):a.jsx(os,{children:a.jsx(qt,{colSpan:7,className:"text-center py-8 text-gray-500",children:T.length===0?"No active students found matching your search.":"No active students on this page."})})})]})})}),!r&&T.length>0&&a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border-t border-gray-200 px-6 py-3 space-y-2 md:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:A,onChange:R=>{u(Number(R.target.value)),l(1)},className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>l(R=>Math.max(R-1,1)),disabled:o===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(Pd,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",o," of ",U]}),a.jsx("button",{onClick:()=>l(R=>Math.min(R+1,U)),disabled:o===U,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(Cn,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",V+1," to ",Math.min(D,T.length)," of ",T.length," students"]})]})]})]})})]})]})};var wD={exports:{}};(function(e,t){(function(r,n){e.exports=n(B)})(typeof self<"u"?self:Tf,function(r){return function(){var n={155:function(v){v.exports=r}},s={};function i(v){var N=s[v];if(N!==void 0)return N.exports;var F=s[v]={exports:{}};return n[v](F,F.exports,i),F.exports}i.d=function(v,N){for(var F in N)i.o(N,F)&&!i.o(v,F)&&Object.defineProperty(v,F,{enumerable:!0,get:N[F]})},i.o=function(v,N){return Object.prototype.hasOwnProperty.call(v,N)},i.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})};var o={};i.r(o),i.d(o,{useReactToPrint:function(){return I}});var l=i(155);function A({level:v="error",messages:N,suppressErrors:F=!1}){F||(v==="error"?console.error(N):v==="warning"?console.warn(N):console.debug(N))}function u(v,N){if(N||!v){const F=document.getElementById("printWindow");F&&document.body.removeChild(F)}}function h(v){return v instanceof Error?v:new Error("Unknown Error")}function m(v,N){const{documentTitle:F,onAfterPrint:T,onPrintError:D,preserveAfterPrint:V,print:P,suppressErrors:U}=N;setTimeout(()=>{var k,z;if(v.contentWindow){let R=function(){T==null||T(),u(V)};if(v.contentWindow.focus(),P)P(v).then(R).catch(H=>{D?D("print",h(H)):A({messages:["An error was thrown by the specified `print` function"],suppressErrors:U})});else{if(v.contentWindow.print){const H=(z=(k=v.contentDocument)===null||k===void 0?void 0:k.title)!==null&&z!==void 0?z:"",J=v.ownerDocument.title;F&&(v.ownerDocument.title=F,v.contentDocument&&(v.contentDocument.title=F)),v.contentWindow.print(),F&&(v.ownerDocument.title=J,v.contentDocument&&(v.contentDocument.title=H))}else A({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:U});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(H=>{var J,ne;return((ne=(J=navigator.userAgent)!==null&&J!==void 0?J:navigator.vendor)!==null&&ne!==void 0?ne:"opera"in window&&window.opera).match(H)})?setTimeout(R,500):R()}}else A({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:U})},500)}function y(v){const N=[],F=document.createTreeWalker(v,NodeFilter.SHOW_ELEMENT,null);let T=F.nextNode();for(;T;)N.push(T),T=F.nextNode();return N}function g(v,N,F){const T=y(v),D=y(N);if(T.length===D.length)for(let V=0;V<T.length;V++){const P=T[V],U=D[V],k=P.shadowRoot;if(k!==null){const z=U.attachShadow({mode:k.mode});z.innerHTML=k.innerHTML,g(k,z,F)}}else A({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",v,N],suppressErrors:F})}const b=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function C(v,N,F,T){var D,V,P,U,k;const{contentNode:z,clonedContentNode:R,clonedImgNodes:H,clonedVideoNodes:J,numResourcesToLoad:ne,originalCanvasNodes:Y}=F,{bodyClass:G,fonts:K,ignoreGlobalStyles:q,pageStyle:X,nonce:fe,suppressErrors:de,copyShadowRoots:Q}=T;v.onload=null;const Z=(D=v.contentDocument)!==null&&D!==void 0?D:(V=v.contentWindow)===null||V===void 0?void 0:V.document;if(Z){const ae=Z.body.appendChild(R);Q&&g(z,ae,!!de),K&&(!((P=v.contentDocument)===null||P===void 0)&&P.fonts&&(!((U=v.contentWindow)===null||U===void 0)&&U.FontFace)?K.forEach(ke=>{const Oe=new FontFace(ke.family,ke.source,{weight:ke.weight,style:ke.style});v.contentDocument.fonts.add(Oe),Oe.loaded.then(()=>{N(Oe)}).catch(Se=>{N(Oe,["Failed loading the font:",Oe,"Load error:",h(Se)])})}):(K.forEach(ke=>{N(ke)}),A({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:de})));const ee=X??b,oe=Z.createElement("style");fe&&(oe.setAttribute("nonce",fe),Z.head.setAttribute("nonce",fe)),oe.appendChild(Z.createTextNode(ee)),Z.head.appendChild(oe),G&&Z.body.classList.add(...G.split(" "));const pe=Z.querySelectorAll("canvas");for(let ke=0;ke<Y.length;++ke){const Oe=Y[ke],Se=pe[ke];if(Se===void 0){A({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Oe],suppressErrors:de});continue}const Ce=Se.getContext("2d");Ce&&Ce.drawImage(Oe,0,0)}for(let ke=0;ke<H.length;ke++){const Oe=H[ke],Se=Oe.getAttribute("src");if(Se){const Ce=new Image;Ce.onload=()=>{N(Oe)},Ce.onerror=(he,ft,dt,Je,Qe)=>{N(Oe,["Error loading <img>",Oe,"Error",Qe])},Ce.src=Se}else N(Oe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Oe])}for(let ke=0;ke<J.length;ke++){const Oe=J[ke];Oe.preload="auto";const Se=Oe.getAttribute("poster");if(Se){const Ce=new Image;Ce.onload=()=>{N(Oe)},Ce.onerror=(he,ft,dt,Je,Qe)=>{N(Oe,["Error loading video poster",Se,"for video",Oe,"Error:",Qe])},Ce.src=Se}else Oe.readyState>=2?N(Oe):Oe.src?(Oe.onloadeddata=()=>{N(Oe)},Oe.onerror=(Ce,he,ft,dt,Je)=>{N(Oe,["Error loading video",Oe,"Error",Je])},Oe.onstalled=()=>{N(Oe,["Loading video stalled, skipping",Oe])}):N(Oe,["Error loading video, `src` is empty",Oe])}const Be="select",_e=z.querySelectorAll(Be),Le=Z.querySelectorAll(Be);for(let ke=0;ke<_e.length;ke++)Le[ke].value=_e[ke].value;if(!q){const ke=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Oe=0,Se=ke.length;Oe<Se;++Oe){const Ce=ke[Oe];if(Ce.tagName.toLowerCase()==="style"){const he=Z.createElement(Ce.tagName),ft=Ce.sheet;if(ft){let dt="";try{const Je=ft.cssRules.length;for(let Qe=0;Qe<Je;++Qe)typeof ft.cssRules[Qe].cssText=="string"&&(dt+=`${ft.cssRules[Qe].cssText}\r
`)}catch(Je){A({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ce,`Original error: ${h(Je).message}`],level:"warning"})}he.setAttribute("id",`react-to-print-${Oe}`),fe&&he.setAttribute("nonce",fe),he.appendChild(Z.createTextNode(dt)),Z.head.appendChild(he)}}else if(Ce.getAttribute("href"))if(Ce.hasAttribute("disabled"))A({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ce],level:"warning"}),N(Ce);else{const he=Z.createElement(Ce.tagName);for(let ft=0,dt=Ce.attributes.length;ft<dt;++ft){const Je=Ce.attributes[ft];Je&&he.setAttribute(Je.nodeName,(k=Je.nodeValue)!==null&&k!==void 0?k:"")}he.onload=()=>{N(he)},he.onerror=(ft,dt,Je,Qe,vt)=>{N(he,["Failed to load",he,"Error:",vt])},fe&&he.setAttribute("nonce",fe),Z.head.appendChild(he)}else A({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ce],level:"warning"}),N(Ce)}}}ne===0&&m(v,T)}function I({bodyClass:v,contentRef:N,copyShadowRoots:F,documentTitle:T,fonts:D,ignoreGlobalStyles:V,nonce:P,onAfterPrint:U,onBeforePrint:k,onPrintError:z,pageStyle:R,preserveAfterPrint:H,print:J,suppressErrors:ne}){return(0,l.useCallback)(Y=>{function G(){const K={bodyClass:v,contentRef:N,copyShadowRoots:F,documentTitle:T,fonts:D,ignoreGlobalStyles:V,nonce:P,onAfterPrint:U,onBeforePrint:k,onPrintError:z,pageStyle:R,preserveAfterPrint:H,print:J,suppressErrors:ne},q=function(){const de=document.createElement("iframe");return de.width=`${document.documentElement.clientWidth}px`,de.height=`${document.documentElement.clientHeight}px`,de.style.position="absolute",de.style.top=`-${document.documentElement.clientHeight+100}px`,de.style.left=`-${document.documentElement.clientWidth+100}px`,de.id="printWindow",de.srcdoc="<!DOCTYPE html>",de}(),X=function(de,Q){const{contentRef:Z,fonts:ae,ignoreGlobalStyles:ee,suppressErrors:oe}=Q,pe=function({contentRef:Se,optionalContent:Ce,suppressErrors:he}){return Ce&&typeof Ce=="function"?(Se&&A({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Ce()):Se?Se.current:void A({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:he})}({contentRef:Z,optionalContent:de,suppressErrors:oe});if(!pe)return;const Be=pe.cloneNode(!0),_e=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Le=Be.querySelectorAll("img"),ke=Be.querySelectorAll("video"),Oe=ae?ae.length:0;return{contentNode:pe,clonedContentNode:Be,clonedImgNodes:Le,clonedVideoNodes:ke,numResourcesToLoad:(ee?0:_e.length)+Le.length+ke.length+Oe,originalCanvasNodes:pe.querySelectorAll("canvas")}}(Y,K);if(!X)return void A({messages:["There is nothing to print"],suppressErrors:ne});const fe=function(de,Q,Z){const{suppressErrors:ae}=de,ee=[],oe=[];return function(pe,Be){ee.includes(pe)?A({level:"debug",messages:["Tried to mark a resource that has already been handled",pe],suppressErrors:ae}):(Be?(A({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Be],suppressErrors:ae}),oe.push(pe)):ee.push(pe),ee.length+oe.length===Q&&m(Z,de))}}(K,X.numResourcesToLoad,q);(function(de,Q,Z,ae){de.onload=()=>{C(de,Q,Z,ae)},document.body.appendChild(de)})(q,fe,X,K)}u(H,!0),k?k().then(()=>{G()}).catch(K=>{z==null||z("onBeforePrint",h(K))}):G()},[v,N,F,T,D,V,P,U,k,z,R,H,J,ne])}return o}()})})(wD);var vD=wD.exports;const Cie="modulepreload",Bie=function(e,t){return new URL(e,t).href},vj={},sC=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),A=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Bie(u,n),u in vj)return;vj[u]=!0;const h=u.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(!!n)for(let b=o.length-1;b>=0;b--){const C=o[b];if(C.href===u&&(!h||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Cie,h||(g.as="script"),g.crossOrigin="",g.href=u,A&&g.setAttribute("nonce",A),document.head.appendChild(g),h)return new Promise((b,C)=>{g.addEventListener("load",b),g.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var Rl=Uint8Array,po=Uint16Array,_S=Int32Array,TS=new Rl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kS=new Rl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bj=new Rl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bD=function(e,t){for(var r=new po(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new _S(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},CD=bD(TS,2),Nie=CD.b,vB=CD.r;Nie[28]=258,vB[258]=28;var Sie=bD(kS,0),Cj=Sie.r,bB=new po(32768);for(var Yn=0;Yn<32768;++Yn){var gu=(Yn&43690)>>1|(Yn&21845)<<1;gu=(gu&52428)>>2|(gu&13107)<<2,gu=(gu&61680)>>4|(gu&3855)<<4,bB[Yn]=((gu&65280)>>8|(gu&255)<<8)>>1}var kp=function(e,t,r){for(var n=e.length,s=0,i=new po(t);s<n;++s)e[s]&&++i[e[s]-1];var o=new po(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new po(1<<t);var A=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],h=t-e[s],m=o[e[s]-1]++<<h,y=m|(1<<h)-1;m<=y;++m)l[bB[m]>>A]=u}else for(l=new po(n),s=0;s<n;++s)e[s]&&(l[s]=bB[o[e[s]-1]++]>>15-e[s]);return l},Xh=new Rl(288);for(var Yn=0;Yn<144;++Yn)Xh[Yn]=8;for(var Yn=144;Yn<256;++Yn)Xh[Yn]=9;for(var Yn=256;Yn<280;++Yn)Xh[Yn]=7;for(var Yn=280;Yn<288;++Yn)Xh[Yn]=8;var Dw=new Rl(32);for(var Yn=0;Yn<32;++Yn)Dw[Yn]=5;var Eie=kp(Xh,9,0),Iie=kp(Dw,5,0),BD=function(e){return(e+7)/8|0},Fie=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Rl(e.subarray(t,r))},sA=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Vm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},iC=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:SD,l:0};if(s==1){var o=new Rl(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(D,V){return D.f-V.f}),r.push({s:-1,f:25001});var l=r[0],A=r[1],u=0,h=1,m=2;for(r[0]={s:-1,f:l.f+A.f,l,r:A};h!=s-1;)l=r[r[u].f<r[m].f?u++:m++],A=r[u!=h&&r[u].f<r[m].f?u++:m++],r[h++]={s:-1,f:l.f+A.f,l,r:A};for(var y=i[0].s,n=1;n<s;++n)i[n].s>y&&(y=i[n].s);var g=new po(y+1),b=CB(r[h-1],g,0);if(b>t){var n=0,C=0,I=b-t,v=1<<I;for(i.sort(function(V,P){return g[P.s]-g[V.s]||V.f-P.f});n<s;++n){var N=i[n].s;if(g[N]>t)C+=v-(1<<b-g[N]),g[N]=t;else break}for(C>>=I;C>0;){var F=i[n].s;g[F]<t?C-=1<<t-g[F]++-1:++n}for(;n>=0&&C;--n){var T=i[n].s;g[T]==t&&(--g[T],++C)}b=t}return{t:new Rl(g),l:b}},CB=function(e,t,r){return e.s==-1?Math.max(CB(e.l,t,r+1),CB(e.r,t,r+1)):t[e.s]=r},Bj=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new po(++t),n=0,s=e[0],i=1,o=function(A){r[n++]=A},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},Km=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},ND=function(e,t,r){var n=r.length,s=BD(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},Nj=function(e,t,r,n,s,i,o,l,A,u,h){sA(t,h++,r),++s[256];for(var m=iC(s,15),y=m.t,g=m.l,b=iC(i,15),C=b.t,I=b.l,v=Bj(y),N=v.c,F=v.n,T=Bj(C),D=T.c,V=T.n,P=new po(19),U=0;U<N.length;++U)++P[N[U]&31];for(var U=0;U<D.length;++U)++P[D[U]&31];for(var k=iC(P,7),z=k.t,R=k.l,H=19;H>4&&!z[bj[H-1]];--H);var J=u+5<<3,ne=Km(s,Xh)+Km(i,Dw)+o,Y=Km(s,y)+Km(i,C)+o+14+3*H+Km(P,z)+2*P[16]+3*P[17]+7*P[18];if(A>=0&&J<=ne&&J<=Y)return ND(t,h,e.subarray(A,A+u));var G,K,q,X;if(sA(t,h,1+(Y<ne)),h+=2,Y<ne){G=kp(y,g,0),K=y,q=kp(C,I,0),X=C;var fe=kp(z,R,0);sA(t,h,F-257),sA(t,h+5,V-1),sA(t,h+10,H-4),h+=14;for(var U=0;U<H;++U)sA(t,h+3*U,z[bj[U]]);h+=3*H;for(var de=[N,D],Q=0;Q<2;++Q)for(var Z=de[Q],U=0;U<Z.length;++U){var ae=Z[U]&31;sA(t,h,fe[ae]),h+=z[ae],ae>15&&(sA(t,h,Z[U]>>5&127),h+=Z[U]>>12)}}else G=Eie,K=Xh,q=Iie,X=Dw;for(var U=0;U<l;++U){var ee=n[U];if(ee>255){var ae=ee>>18&31;Vm(t,h,G[ae+257]),h+=K[ae+257],ae>7&&(sA(t,h,ee>>23&31),h+=TS[ae]);var oe=ee&31;Vm(t,h,q[oe]),h+=X[oe],oe>3&&(Vm(t,h,ee>>5&8191),h+=kS[oe])}else Vm(t,h,G[ee]),h+=K[ee]}return Vm(t,h,G[256]),h+K[256]},jie=new _S([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SD=new Rl(0),_ie=function(e,t,r,n,s,i){var o=i.z||e.length,l=new Rl(n+o+5*(1+Math.ceil(o/7e3))+s),A=l.subarray(n,l.length-s),u=i.l,h=(i.r||0)&7;if(t){h&&(A[0]=i.r>>3);for(var m=jie[t-1],y=m>>13,g=m&8191,b=(1<<r)-1,C=i.p||new po(32768),I=i.h||new po(b+1),v=Math.ceil(r/3),N=2*v,F=function(Ce){return(e[Ce]^e[Ce+1]<<v^e[Ce+2]<<N)&b},T=new _S(25e3),D=new po(288),V=new po(32),P=0,U=0,k=i.i||0,z=0,R=i.w||0,H=0;k+2<o;++k){var J=F(k),ne=k&32767,Y=I[J];if(C[ne]=Y,I[J]=ne,R<=k){var G=o-k;if((P>7e3||z>24576)&&(G>423||!u)){h=Nj(e,A,0,T,D,V,U,z,H,k-H,h),z=P=U=0,H=k;for(var K=0;K<286;++K)D[K]=0;for(var K=0;K<30;++K)V[K]=0}var q=2,X=0,fe=g,de=ne-Y&32767;if(G>2&&J==F(k-de))for(var Q=Math.min(y,G)-1,Z=Math.min(32767,k),ae=Math.min(258,G);de<=Z&&--fe&&ne!=Y;){if(e[k+q]==e[k+q-de]){for(var ee=0;ee<ae&&e[k+ee]==e[k+ee-de];++ee);if(ee>q){if(q=ee,X=de,ee>Q)break;for(var oe=Math.min(de,ee-2),pe=0,K=0;K<oe;++K){var Be=k-de+K&32767,_e=C[Be],Le=Be-_e&32767;Le>pe&&(pe=Le,Y=Be)}}}ne=Y,Y=C[ne],de+=ne-Y&32767}if(X){T[z++]=268435456|vB[q]<<18|Cj[X];var ke=vB[q]&31,Oe=Cj[X]&31;U+=TS[ke]+kS[Oe],++D[257+ke],++V[Oe],R=k+q,++P}else T[z++]=e[k],++D[e[k]]}}for(k=Math.max(k,R);k<o;++k)T[z++]=e[k],++D[e[k]];h=Nj(e,A,u,T,D,V,U,z,H,k-H,h),u||(i.r=h&7|A[h/8|0]<<3,h-=7,i.h=I,i.p=C,i.i=k,i.w=R)}else{for(var k=i.w||0;k<o+u;k+=65535){var Se=k+65535;Se>=o&&(A[h/8|0]=u,Se=o),h=ND(A,h+1,e.subarray(k,Se))}i.i=o}return Fie(l,0,n+BD(h)+s)},ED=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Tie=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Rl(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return _ie(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},ID=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},kie=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=ED();s.p(t.dictionary),ID(e,2,s.d())}};function BB(e,t){t||(t={});var r=ED();r.p(e);var n=Tie(e,t,t.dictionary?6:2,4);return kie(n,t),ID(n,n.length-4,r.d()),n}var Lie=typeof TextDecoder<"u"&&new TextDecoder,Pie=0;try{Lie.decode(SD,{stream:!0}),Pie=1}catch{}function Sj(e,t="utf8"){return new TextDecoder(t).decode(e)}const Oie=new TextEncoder;function Rie(e){return Oie.encode(e)}const Die=1024*8,Uie=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),aC={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class LS{constructor(t=Die,r={}){vn(this,"buffer");vn(this,"byteLength");vn(this,"byteOffset");vn(this,"length");vn(this,"offset");vn(this,"lastWrittenByte");vn(this,"littleEndian");vn(this,"_data");vn(this,"_mark");vn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof LS)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=aC[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===Uie&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const A=new aC[r](l.buffer);return this.offset+=n,A.reverse(),A}const o=new aC[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return Sj(this.readBytes(t))}decodeText(t=1,r="utf8"){return Sj(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Rie(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Mie=4,Ej=0,Ij=1,Qie=2;function fm(e){let t=e.length;for(;--t>=0;)e[t]=0}const Hie=0,FD=1,Vie=2,Kie=3,Gie=258,PS=29,A1=256,Ng=A1+1+PS,h0=30,OS=19,jD=2*Ng+1,ch=15,oC=16,Wie=7,RS=256,_D=16,TD=17,kD=18,NB=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),jy=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),zie=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),LD=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$ie=512,hA=new Array((Ng+2)*2);fm(hA);const Lp=new Array(h0*2);fm(Lp);const Sg=new Array($ie);fm(Sg);const Eg=new Array(Gie-Kie+1);fm(Eg);const DS=new Array(PS);fm(DS);const Uw=new Array(h0);fm(Uw);function lC(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let PD,OD,RD;function cC(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const DD=e=>e<256?Sg[e]:Sg[256+(e>>>7)],Ig=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Da=(e,t,r)=>{e.bi_valid>oC-r?(e.bi_buf|=t<<e.bi_valid&65535,Ig(e,e.bi_buf),e.bi_buf=t>>oC-e.bi_valid,e.bi_valid+=r-oC):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},cc=(e,t,r)=>{Da(e,r[t*2],r[t*2+1])},UD=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},qie=e=>{e.bi_valid===16?(Ig(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Xie=(e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,A=t.stat_desc.max_length;let u,h,m,y,g,b,C=0;for(y=0;y<=ch;y++)e.bl_count[y]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<jD;u++)h=e.heap[u],y=r[r[h*2+1]*2+1]+1,y>A&&(y=A,C++),r[h*2+1]=y,!(h>n)&&(e.bl_count[y]++,g=0,h>=l&&(g=o[h-l]),b=r[h*2],e.opt_len+=b*(y+g),i&&(e.static_len+=b*(s[h*2+1]+g)));if(C!==0){do{for(y=A-1;e.bl_count[y]===0;)y--;e.bl_count[y]--,e.bl_count[y+1]+=2,e.bl_count[A]--,C-=2}while(C>0);for(y=A;y!==0;y--)for(h=e.bl_count[y];h!==0;)m=e.heap[--u],!(m>n)&&(r[m*2+1]!==y&&(e.opt_len+=(y-r[m*2+1])*r[m*2],r[m*2+1]=y),h--)}},MD=(e,t,r)=>{const n=new Array(ch+1);let s=0,i,o;for(i=1;i<=ch;i++)s=s+r[i-1]<<1,n[i]=s;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=UD(n[l]++,l))}},Yie=()=>{let e,t,r,n,s;const i=new Array(ch+1);for(r=0,n=0;n<PS-1;n++)for(DS[n]=r,e=0;e<1<<NB[n];e++)Eg[r++]=n;for(Eg[r-1]=n,s=0,n=0;n<16;n++)for(Uw[n]=s,e=0;e<1<<jy[n];e++)Sg[s++]=n;for(s>>=7;n<h0;n++)for(Uw[n]=s<<7,e=0;e<1<<jy[n]-7;e++)Sg[256+s++]=n;for(t=0;t<=ch;t++)i[t]=0;for(e=0;e<=143;)hA[e*2+1]=8,e++,i[8]++;for(;e<=255;)hA[e*2+1]=9,e++,i[9]++;for(;e<=279;)hA[e*2+1]=7,e++,i[7]++;for(;e<=287;)hA[e*2+1]=8,e++,i[8]++;for(MD(hA,Ng+1,i),e=0;e<h0;e++)Lp[e*2+1]=5,Lp[e*2]=UD(e,5);PD=new lC(hA,NB,A1+1,Ng,ch),OD=new lC(Lp,jy,0,h0,ch),RD=new lC(new Array(0),zie,0,OS,Wie)},QD=e=>{let t;for(t=0;t<Ng;t++)e.dyn_ltree[t*2]=0;for(t=0;t<h0;t++)e.dyn_dtree[t*2]=0;for(t=0;t<OS;t++)e.bl_tree[t*2]=0;e.dyn_ltree[RS*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},HD=e=>{e.bi_valid>8?Ig(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Fj=(e,t,r,n)=>{const s=t*2,i=r*2;return e[s]<e[i]||e[s]===e[i]&&n[t]<=n[r]},AC=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&Fj(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!Fj(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},jj=(e,t,r)=>{let n,s,i=0,o,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],n===0?cc(e,s,t):(o=Eg[s],cc(e,o+A1+1,t),l=NB[o],l!==0&&(s-=DS[o],Da(e,s,l)),n--,o=DD(n),cc(e,o,r),l=jy[o],l!==0&&(n-=Uw[o],Da(e,n,l)));while(i<e.sym_next);cc(e,RS,t)},SB=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,l,A=-1,u;for(e.heap_len=0,e.heap_max=jD,o=0;o<i;o++)r[o*2]!==0?(e.heap[++e.heap_len]=A=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=A<2?++A:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,s&&(e.static_len-=n[u*2+1]);for(t.max_code=A,o=e.heap_len>>1;o>=1;o--)AC(e,r,o);u=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],AC(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,r[u*2]=r[o*2]+r[l*2],e.depth[u]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,r[o*2+1]=r[l*2+1]=u,e.heap[1]=u++,AC(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Xie(e,t),MD(r,A,e.bl_count)},_j=(e,t,r)=>{let n,s=-1,i,o=t[0*2+1],l=0,A=7,u=4;for(o===0&&(A=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=o,o=t[(n+1)*2+1],!(++l<A&&i===o)&&(l<u?e.bl_tree[i*2]+=l:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[_D*2]++):l<=10?e.bl_tree[TD*2]++:e.bl_tree[kD*2]++,l=0,s=i,o===0?(A=138,u=3):i===o?(A=6,u=3):(A=7,u=4))},Tj=(e,t,r)=>{let n,s=-1,i,o=t[0*2+1],l=0,A=7,u=4;for(o===0&&(A=138,u=3),n=0;n<=r;n++)if(i=o,o=t[(n+1)*2+1],!(++l<A&&i===o)){if(l<u)do cc(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==s&&(cc(e,i,e.bl_tree),l--),cc(e,_D,e.bl_tree),Da(e,l-3,2)):l<=10?(cc(e,TD,e.bl_tree),Da(e,l-3,3)):(cc(e,kD,e.bl_tree),Da(e,l-11,7));l=0,s=i,o===0?(A=138,u=3):i===o?(A=6,u=3):(A=7,u=4)}},Zie=e=>{let t;for(_j(e,e.dyn_ltree,e.l_desc.max_code),_j(e,e.dyn_dtree,e.d_desc.max_code),SB(e,e.bl_desc),t=OS-1;t>=3&&e.bl_tree[LD[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},Jie=(e,t,r,n)=>{let s;for(Da(e,t-257,5),Da(e,r-1,5),Da(e,n-4,4),s=0;s<n;s++)Da(e,e.bl_tree[LD[s]*2+1],3);Tj(e,e.dyn_ltree,t-1),Tj(e,e.dyn_dtree,r-1)},eae=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Ej;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Ij;for(r=32;r<A1;r++)if(e.dyn_ltree[r*2]!==0)return Ij;return Ej};let kj=!1;const tae=e=>{kj||(Yie(),kj=!0),e.l_desc=new cC(e.dyn_ltree,PD),e.d_desc=new cC(e.dyn_dtree,OD),e.bl_desc=new cC(e.bl_tree,RD),e.bi_buf=0,e.bi_valid=0,QD(e)},VD=(e,t,r,n)=>{Da(e,(Hie<<1)+(n?1:0),3),HD(e),Ig(e,r),Ig(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},rae=e=>{Da(e,FD<<1,3),cc(e,RS,hA),qie(e)},nae=(e,t,r,n)=>{let s,i,o=0;e.level>0?(e.strm.data_type===Qie&&(e.strm.data_type=eae(e)),SB(e,e.l_desc),SB(e,e.d_desc),o=Zie(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&t!==-1?VD(e,t,r,n):e.strategy===Mie||i===s?(Da(e,(FD<<1)+(n?1:0),3),jj(e,hA,Lp)):(Da(e,(Vie<<1)+(n?1:0),3),Jie(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),jj(e,e.dyn_ltree,e.dyn_dtree)),QD(e),n&&HD(e)},sae=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Eg[r]+A1+1)*2]++,e.dyn_dtree[DD(t)*2]++),e.sym_next===e.sym_end);var iae=tae,aae=VD,oae=nae,lae=sae,cae=rae,Aae={_tr_init:iae,_tr_stored_block:aae,_tr_flush_block:oae,_tr_tally:lae,_tr_align:cae};const uae=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Fg=uae;const dae=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},hae=new Uint32Array(dae()),fae=(e,t,r,n)=>{const s=hae,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var li=fae,$0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},u1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:mae,_tr_stored_block:EB,_tr_flush_block:pae,_tr_tally:Ad,_tr_align:gae}=Aae,{Z_NO_FLUSH:ud,Z_PARTIAL_FLUSH:xae,Z_FULL_FLUSH:yae,Z_FINISH:zo,Z_BLOCK:Lj,Z_OK:Ci,Z_STREAM_END:Pj,Z_STREAM_ERROR:gc,Z_DATA_ERROR:wae,Z_BUF_ERROR:uC,Z_DEFAULT_COMPRESSION:vae,Z_FILTERED:bae,Z_HUFFMAN_ONLY:xx,Z_RLE:Cae,Z_FIXED:Bae,Z_DEFAULT_STRATEGY:Nae,Z_UNKNOWN:Sae,Z_DEFLATED:pv}=u1,Eae=9,Iae=15,Fae=8,jae=29,_ae=256,IB=_ae+1+jae,Tae=30,kae=19,Lae=2*IB+1,Pae=15,Xr=3,zu=258,xc=zu+Xr+1,Oae=32,q0=42,US=57,FB=69,jB=73,_B=91,TB=103,Ah=113,op=666,pa=1,mm=2,Yh=3,pm=4,Rae=3,uh=(e,t)=>(e.msg=$0[t],t),Oj=e=>e*2-(e>4?9:0),Tu=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Dae=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=s?r-s:0;while(--t);t=s,n=t;do r=e.prev[--n],e.prev[n]=r>=s?r-s:0;while(--t)};let Uae=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,dd=Uae;const uo=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},go=(e,t)=>{pae(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,uo(e.strm)},cn=(e,t)=>{e.pending_buf[e.pending++]=t},Gm=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},kB=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=Fg(e.adler,t,s,r):e.state.wrap===2&&(e.adler=li(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},KD=(e,t)=>{let r=e.max_chain_length,n=e.strstart,s,i,o=e.prev_length,l=e.nice_match;const A=e.strstart>e.w_size-xc?e.strstart-(e.w_size-xc):0,u=e.window,h=e.w_mask,m=e.prev,y=e.strstart+zu;let g=u[n+o-1],b=u[n+o];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(s=t,!(u[s+o]!==b||u[s+o-1]!==g||u[s]!==u[n]||u[++s]!==u[n+1])){n+=2,s++;do;while(u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&n<y);if(i=zu-(y-n),n=y-zu,i>o){if(e.match_start=t,o=i,i>=l)break;g=u[n+o-1],b=u[n+o]}}while((t=m[t&h])>A&&--r!==0);return o<=e.lookahead?o:e.lookahead},X0=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-xc)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Dae(e),n+=t),e.strm.avail_in===0)break;if(r=kB(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Xr)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=dd(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=dd(e,e.ins_h,e.window[s+Xr-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Xr)););}while(e.lookahead<xc&&e.strm.avail_in!==0)},GD=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,i,o=0,l=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,n>s+e.strm.avail_in&&(n=s+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==zo||t===ud||n!==s+e.strm.avail_in)))break;o=t===zo&&n===s+e.strm.avail_in?1:0,EB(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,uo(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(kB(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?pm:t!==ud&&t!==zo&&e.strm.avail_in===0&&e.strstart===e.block_start?mm:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(kB(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=r||(s||t===zo)&&t!==ud&&e.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,o=t===zo&&e.strm.avail_in===0&&n===s?1:0,EB(e,e.block_start,n,o),e.block_start+=n,uo(e.strm)),o?Yh:pa)},dC=(e,t)=>{let r,n;for(;;){if(e.lookahead<xc){if(X0(e),e.lookahead<xc&&t===ud)return pa;if(e.lookahead===0)break}if(r=0,e.lookahead>=Xr&&(e.ins_h=dd(e,e.ins_h,e.window[e.strstart+Xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-xc&&(e.match_length=KD(e,r)),e.match_length>=Xr)if(n=Ad(e,e.strstart-e.match_start,e.match_length-Xr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Xr){e.match_length--;do e.strstart++,e.ins_h=dd(e,e.ins_h,e.window[e.strstart+Xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=dd(e,e.ins_h,e.window[e.strstart+1]);else n=Ad(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(go(e,!1),e.strm.avail_out===0))return pa}return e.insert=e.strstart<Xr-1?e.strstart:Xr-1,t===zo?(go(e,!0),e.strm.avail_out===0?Yh:pm):e.sym_next&&(go(e,!1),e.strm.avail_out===0)?pa:mm},xf=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<xc){if(X0(e),e.lookahead<xc&&t===ud)return pa;if(e.lookahead===0)break}if(r=0,e.lookahead>=Xr&&(e.ins_h=dd(e,e.ins_h,e.window[e.strstart+Xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Xr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-xc&&(e.match_length=KD(e,r),e.match_length<=5&&(e.strategy===bae||e.match_length===Xr&&e.strstart-e.match_start>4096)&&(e.match_length=Xr-1)),e.prev_length>=Xr&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-Xr,n=Ad(e,e.strstart-1-e.prev_match,e.prev_length-Xr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=dd(e,e.ins_h,e.window[e.strstart+Xr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Xr-1,e.strstart++,n&&(go(e,!1),e.strm.avail_out===0))return pa}else if(e.match_available){if(n=Ad(e,0,e.window[e.strstart-1]),n&&go(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return pa}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Ad(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Xr-1?e.strstart:Xr-1,t===zo?(go(e,!0),e.strm.avail_out===0?Yh:pm):e.sym_next&&(go(e,!1),e.strm.avail_out===0)?pa:mm},Mae=(e,t)=>{let r,n,s,i;const o=e.window;for(;;){if(e.lookahead<=zu){if(X0(e),e.lookahead<=zu&&t===ud)return pa;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Xr&&e.strstart>0&&(s=e.strstart-1,n=o[s],n===o[++s]&&n===o[++s]&&n===o[++s])){i=e.strstart+zu;do;while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<i);e.match_length=zu-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Xr?(r=Ad(e,1,e.match_length-Xr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Ad(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(go(e,!1),e.strm.avail_out===0))return pa}return e.insert=0,t===zo?(go(e,!0),e.strm.avail_out===0?Yh:pm):e.sym_next&&(go(e,!1),e.strm.avail_out===0)?pa:mm},Qae=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(X0(e),e.lookahead===0)){if(t===ud)return pa;break}if(e.match_length=0,r=Ad(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(go(e,!1),e.strm.avail_out===0))return pa}return e.insert=0,t===zo?(go(e,!0),e.strm.avail_out===0?Yh:pm):e.sym_next&&(go(e,!1),e.strm.avail_out===0)?pa:mm};function Zl(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const lp=[new Zl(0,0,0,0,GD),new Zl(4,4,8,4,dC),new Zl(4,5,16,8,dC),new Zl(4,6,32,32,dC),new Zl(4,4,16,16,xf),new Zl(8,16,32,32,xf),new Zl(8,16,128,128,xf),new Zl(8,32,128,256,xf),new Zl(32,128,258,1024,xf),new Zl(32,258,258,4096,xf)],Hae=e=>{e.window_size=2*e.w_size,Tu(e.head),e.max_lazy_match=lp[e.level].max_lazy,e.good_match=lp[e.level].good_length,e.nice_match=lp[e.level].nice_length,e.max_chain_length=lp[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Xr-1,e.match_available=0,e.ins_h=0};function Vae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pv,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Lae*2),this.dyn_dtree=new Uint16Array((2*Tae+1)*2),this.bl_tree=new Uint16Array((2*kae+1)*2),Tu(this.dyn_ltree),Tu(this.dyn_dtree),Tu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Pae+1),this.heap=new Uint16Array(2*IB+1),Tu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*IB+1),Tu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const d1=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==q0&&t.status!==US&&t.status!==FB&&t.status!==jB&&t.status!==_B&&t.status!==TB&&t.status!==Ah&&t.status!==op?1:0},WD=e=>{if(d1(e))return uh(e,gc);e.total_in=e.total_out=0,e.data_type=Sae;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?US:t.wrap?q0:Ah,e.adler=t.wrap===2?0:1,t.last_flush=-2,mae(t),Ci},zD=e=>{const t=WD(e);return t===Ci&&Hae(e.state),t},Kae=(e,t)=>d1(e)||e.state.wrap!==2?gc:(e.state.gzhead=t,Ci),$D=(e,t,r,n,s,i)=>{if(!e)return gc;let o=1;if(t===vae&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>Eae||r!==pv||n<8||n>15||t<0||t>9||i<0||i>Bae||n===8&&o!==1)return uh(e,gc);n===8&&(n=9);const l=new Vae;return e.state=l,l.strm=e,l.status=q0,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Xr-1)/Xr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=r,zD(e)},Gae=(e,t)=>$D(e,t,pv,Iae,Fae,Nae),Wae=(e,t)=>{if(d1(e)||t>Lj||t<0)return e?uh(e,gc):gc;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===op&&t!==zo)return uh(e,e.avail_out===0?uC:gc);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(uo(e),e.avail_out===0)return r.last_flush=-1,Ci}else if(e.avail_in===0&&Oj(t)<=Oj(n)&&t!==zo)return uh(e,uC);if(r.status===op&&e.avail_in!==0)return uh(e,uC);if(r.status===q0&&r.wrap===0&&(r.status=Ah),r.status===q0){let s=pv+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=xx||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=Oae),s+=31-s%31,Gm(r,s),r.strstart!==0&&(Gm(r,e.adler>>>16),Gm(r,e.adler&65535)),e.adler=1,r.status=Ah,uo(e),r.pending!==0)return r.last_flush=-1,Ci}if(r.status===US){if(e.adler=0,cn(r,31),cn(r,139),cn(r,8),r.gzhead)cn(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),cn(r,r.gzhead.time&255),cn(r,r.gzhead.time>>8&255),cn(r,r.gzhead.time>>16&255),cn(r,r.gzhead.time>>24&255),cn(r,r.level===9?2:r.strategy>=xx||r.level<2?4:0),cn(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(cn(r,r.gzhead.extra.length&255),cn(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=li(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=FB;else if(cn(r,0),cn(r,0),cn(r,0),cn(r,0),cn(r,0),cn(r,r.level===9?2:r.strategy>=xx||r.level<2?4:0),cn(r,Rae),r.status=Ah,uo(e),r.pending!==0)return r.last_flush=-1,Ci}if(r.status===FB){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=li(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=l,uo(e),r.pending!==0)return r.last_flush=-1,Ci;s=0,i-=l}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(e.adler=li(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=jB}if(r.status===jB){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=li(e.adler,r.pending_buf,r.pending-s,s)),uo(e),r.pending!==0)return r.last_flush=-1,Ci;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,cn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=li(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=_B}if(r.status===_B){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=li(e.adler,r.pending_buf,r.pending-s,s)),uo(e),r.pending!==0)return r.last_flush=-1,Ci;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,cn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=li(e.adler,r.pending_buf,r.pending-s,s))}r.status=TB}if(r.status===TB){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(uo(e),r.pending!==0))return r.last_flush=-1,Ci;cn(r,e.adler&255),cn(r,e.adler>>8&255),e.adler=0}if(r.status=Ah,uo(e),r.pending!==0)return r.last_flush=-1,Ci}if(e.avail_in!==0||r.lookahead!==0||t!==ud&&r.status!==op){let s=r.level===0?GD(r,t):r.strategy===xx?Qae(r,t):r.strategy===Cae?Mae(r,t):lp[r.level].func(r,t);if((s===Yh||s===pm)&&(r.status=op),s===pa||s===Yh)return e.avail_out===0&&(r.last_flush=-1),Ci;if(s===mm&&(t===xae?gae(r):t!==Lj&&(EB(r,0,0,!1),t===yae&&(Tu(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),uo(e),e.avail_out===0))return r.last_flush=-1,Ci}return t!==zo?Ci:r.wrap<=0?Pj:(r.wrap===2?(cn(r,e.adler&255),cn(r,e.adler>>8&255),cn(r,e.adler>>16&255),cn(r,e.adler>>24&255),cn(r,e.total_in&255),cn(r,e.total_in>>8&255),cn(r,e.total_in>>16&255),cn(r,e.total_in>>24&255)):(Gm(r,e.adler>>>16),Gm(r,e.adler&65535)),uo(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ci:Pj)},zae=e=>{if(d1(e))return gc;const t=e.state.status;return e.state=null,t===Ah?uh(e,wae):Ci},$ae=(e,t)=>{let r=t.length;if(d1(e))return gc;const n=e.state,s=n.wrap;if(s===2||s===1&&n.status!==q0||n.lookahead)return gc;if(s===1&&(e.adler=Fg(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){s===0&&(Tu(n.head),n.strstart=0,n.block_start=0,n.insert=0);let A=new Uint8Array(n.w_size);A.set(t.subarray(r-n.w_size,r),0),t=A,r=n.w_size}const i=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,X0(n);n.lookahead>=Xr;){let A=n.strstart,u=n.lookahead-(Xr-1);do n.ins_h=dd(n,n.ins_h,n.window[A+Xr-1]),n.prev[A&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=A,A++;while(--u);n.strstart=A,n.lookahead=Xr-1,X0(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Xr-1,n.match_available=0,e.next_in=o,e.input=l,e.avail_in=i,n.wrap=s,Ci};var qae=Gae,Xae=$D,Yae=zD,Zae=WD,Jae=Kae,eoe=Wae,toe=zae,roe=$ae,noe="pako deflate (from Nodeca project)",Pp={deflateInit:qae,deflateInit2:Xae,deflateReset:Yae,deflateResetKeep:Zae,deflateSetHeader:Jae,deflate:eoe,deflateEnd:toe,deflateSetDictionary:roe,deflateInfo:noe};const soe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var ioe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)soe(r,n)&&(e[n]=r[n])}}return e},aoe=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let o=e[n];r.set(o,s),s+=o.length}return r},gv={assign:ioe,flattenChunks:aoe};let qD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{qD=!1}const jg=new Uint8Array(256);for(let e=0;e<256;e++)jg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;jg[254]=jg[254]=1;var ooe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const loe=(e,t)=>{if(t<65534&&e.subarray&&qD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var coe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let o=e[n++];if(o<128){i[s++]=o;continue}let l=jg[o];if(l>4){i[s++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return loe(i,s)},Aoe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+jg[e[r]]>t?r:t},_g={string2buf:ooe,buf2string:coe,utf8border:Aoe};function uoe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var XD=uoe;const YD=Object.prototype.toString,{Z_NO_FLUSH:doe,Z_SYNC_FLUSH:hoe,Z_FULL_FLUSH:foe,Z_FINISH:moe,Z_OK:Mw,Z_STREAM_END:poe,Z_DEFAULT_COMPRESSION:goe,Z_DEFAULT_STRATEGY:xoe,Z_DEFLATED:yoe}=u1;function MS(e){this.options=gv.assign({level:goe,method:yoe,chunkSize:16384,windowBits:15,memLevel:8,strategy:xoe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XD,this.strm.avail_out=0;let r=Pp.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Mw)throw new Error($0[r]);if(t.header&&Pp.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=_g.string2buf(t.dictionary):YD.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Pp.deflateSetDictionary(this.strm,n),r!==Mw)throw new Error($0[r]);this._dict_set=!0}}MS.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?moe:doe,typeof e=="string"?r.input=_g.string2buf(e):YD.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===hoe||i===foe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=Pp.deflate(r,i),s===poe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=Pp.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Mw;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};MS.prototype.onData=function(e){this.chunks.push(e)};MS.prototype.onEnd=function(e){e===Mw&&(this.result=gv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const yx=16209,woe=16191;var voe=function(t,r){let n,s,i,o,l,A,u,h,m,y,g,b,C,I,v,N,F,T,D,V,P,U,k,z;const R=t.state;n=t.next_in,k=t.input,s=n+(t.avail_in-5),i=t.next_out,z=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),A=R.dmax,u=R.wsize,h=R.whave,m=R.wnext,y=R.window,g=R.hold,b=R.bits,C=R.lencode,I=R.distcode,v=(1<<R.lenbits)-1,N=(1<<R.distbits)-1;e:do{b<15&&(g+=k[n++]<<b,b+=8,g+=k[n++]<<b,b+=8),F=C[g&v];t:for(;;){if(T=F>>>24,g>>>=T,b-=T,T=F>>>16&255,T===0)z[i++]=F&65535;else if(T&16){D=F&65535,T&=15,T&&(b<T&&(g+=k[n++]<<b,b+=8),D+=g&(1<<T)-1,g>>>=T,b-=T),b<15&&(g+=k[n++]<<b,b+=8,g+=k[n++]<<b,b+=8),F=I[g&N];r:for(;;){if(T=F>>>24,g>>>=T,b-=T,T=F>>>16&255,T&16){if(V=F&65535,T&=15,b<T&&(g+=k[n++]<<b,b+=8,b<T&&(g+=k[n++]<<b,b+=8)),V+=g&(1<<T)-1,V>A){t.msg="invalid distance too far back",R.mode=yx;break e}if(g>>>=T,b-=T,T=i-o,V>T){if(T=V-T,T>h&&R.sane){t.msg="invalid distance too far back",R.mode=yx;break e}if(P=0,U=y,m===0){if(P+=u-T,T<D){D-=T;do z[i++]=y[P++];while(--T);P=i-V,U=z}}else if(m<T){if(P+=u+m-T,T-=m,T<D){D-=T;do z[i++]=y[P++];while(--T);if(P=0,m<D){T=m,D-=T;do z[i++]=y[P++];while(--T);P=i-V,U=z}}}else if(P+=m-T,T<D){D-=T;do z[i++]=y[P++];while(--T);P=i-V,U=z}for(;D>2;)z[i++]=U[P++],z[i++]=U[P++],z[i++]=U[P++],D-=3;D&&(z[i++]=U[P++],D>1&&(z[i++]=U[P++]))}else{P=i-V;do z[i++]=z[P++],z[i++]=z[P++],z[i++]=z[P++],D-=3;while(D>2);D&&(z[i++]=z[P++],D>1&&(z[i++]=z[P++]))}}else if(T&64){t.msg="invalid distance code",R.mode=yx;break e}else{F=I[(F&65535)+(g&(1<<T)-1)];continue r}break}}else if(T&64)if(T&32){R.mode=woe;break e}else{t.msg="invalid literal/length code",R.mode=yx;break e}else{F=C[(F&65535)+(g&(1<<T)-1)];continue t}break}}while(n<s&&i<l);D=b>>3,n-=D,b-=D<<3,g&=(1<<b)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<l?257+(l-i):257-(i-l),R.hold=g,R.bits=b};const yf=15,Rj=852,Dj=592,Uj=0,hC=1,Mj=2,boe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Coe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Boe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Noe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Soe=(e,t,r,n,s,i,o,l)=>{const A=l.bits;let u=0,h=0,m=0,y=0,g=0,b=0,C=0,I=0,v=0,N=0,F,T,D,V,P,U=null,k;const z=new Uint16Array(yf+1),R=new Uint16Array(yf+1);let H=null,J,ne,Y;for(u=0;u<=yf;u++)z[u]=0;for(h=0;h<n;h++)z[t[r+h]]++;for(g=A,y=yf;y>=1&&z[y]===0;y--);if(g>y&&(g=y),y===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<y&&z[m]===0;m++);for(g<m&&(g=m),I=1,u=1;u<=yf;u++)if(I<<=1,I-=z[u],I<0)return-1;if(I>0&&(e===Uj||y!==1))return-1;for(R[1]=0,u=1;u<yf;u++)R[u+1]=R[u]+z[u];for(h=0;h<n;h++)t[r+h]!==0&&(o[R[t[r+h]]++]=h);if(e===Uj?(U=H=o,k=20):e===hC?(U=boe,H=Coe,k=257):(U=Boe,H=Noe,k=0),N=0,h=0,u=m,P=i,b=g,C=0,D=-1,v=1<<g,V=v-1,e===hC&&v>Rj||e===Mj&&v>Dj)return 1;for(;;){J=u-C,o[h]+1<k?(ne=0,Y=o[h]):o[h]>=k?(ne=H[o[h]-k],Y=U[o[h]-k]):(ne=96,Y=0),F=1<<u-C,T=1<<b,m=T;do T-=F,s[P+(N>>C)+T]=J<<24|ne<<16|Y|0;while(T!==0);for(F=1<<u-1;N&F;)F>>=1;if(F!==0?(N&=F-1,N+=F):N=0,h++,--z[u]===0){if(u===y)break;u=t[r+o[h]]}if(u>g&&(N&V)!==D){for(C===0&&(C=g),P+=m,b=u-C,I=1<<b;b+C<y&&(I-=z[b+C],!(I<=0));)b++,I<<=1;if(v+=1<<b,e===hC&&v>Rj||e===Mj&&v>Dj)return 1;D=N&V,s[D]=g<<24|b<<16|P-i|0}}return N!==0&&(s[P+N]=u-C<<24|64<<16|0),l.bits=g,0};var Op=Soe;const Eoe=0,ZD=1,JD=2,{Z_FINISH:Qj,Z_BLOCK:Ioe,Z_TREES:wx,Z_OK:Zh,Z_STREAM_END:Foe,Z_NEED_DICT:joe,Z_STREAM_ERROR:nl,Z_DATA_ERROR:eU,Z_MEM_ERROR:tU,Z_BUF_ERROR:_oe,Z_DEFLATED:Hj}=u1,xv=16180,Vj=16181,Kj=16182,Gj=16183,Wj=16184,zj=16185,$j=16186,qj=16187,Xj=16188,Yj=16189,Qw=16190,iA=16191,fC=16192,Zj=16193,mC=16194,Jj=16195,e8=16196,t8=16197,r8=16198,vx=16199,bx=16200,n8=16201,s8=16202,i8=16203,a8=16204,o8=16205,pC=16206,l8=16207,c8=16208,ss=16209,rU=16210,nU=16211,Toe=852,koe=592,Loe=15,Poe=Loe,A8=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Ooe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const cf=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<xv||t.mode>nU?1:0},sU=e=>{if(cf(e))return nl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=xv,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Toe),t.distcode=t.distdyn=new Int32Array(koe),t.sane=1,t.back=-1,Zh},iU=e=>{if(cf(e))return nl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,sU(e)},aU=(e,t)=>{let r;if(cf(e))return nl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?nl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,iU(e))},oU=(e,t)=>{if(!e)return nl;const r=new Ooe;e.state=r,r.strm=e,r.window=null,r.mode=xv;const n=aU(e,t);return n!==Zh&&(e.state=null),n},Roe=e=>oU(e,Poe);let u8=!0,gC,xC;const Doe=e=>{if(u8){gC=new Int32Array(512),xC=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Op(ZD,e.lens,0,288,gC,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Op(JD,e.lens,0,32,xC,0,e.work,{bits:5}),u8=!1}e.lencode=gC,e.lenbits=9,e.distcode=xC,e.distbits=5},lU=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},Uoe=(e,t)=>{let r,n,s,i,o,l,A,u,h,m,y,g,b,C,I=0,v,N,F,T,D,V,P,U;const k=new Uint8Array(4);let z,R;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(cf(e)||!e.output||!e.input&&e.avail_in!==0)return nl;r=e.state,r.mode===iA&&(r.mode=fC),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,h=r.bits,m=l,y=A,U=Zh;e:for(;;)switch(r.mode){case xv:if(r.wrap===0){r.mode=fC;break}for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=u&255,k[1]=u>>>8&255,r.check=li(r.check,k,2,0),u=0,h=0,r.mode=Vj;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=ss;break}if((u&15)!==Hj){e.msg="unknown compression method",r.mode=ss;break}if(u>>>=4,h-=4,P=(u&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){e.msg="invalid window size",r.mode=ss;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?Yj:iA,u=0,h=0;break;case Vj:for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==Hj){e.msg="unknown compression method",r.mode=ss;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ss;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=li(r.check,k,2,0)),u=0,h=0,r.mode=Kj;case Kj:for(;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,r.check=li(r.check,k,4,0)),u=0,h=0,r.mode=Gj;case Gj:for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=li(r.check,k,2,0)),u=0,h=0,r.mode=Wj;case Wj:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,r.check=li(r.check,k,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=zj;case zj:if(r.flags&1024&&(g=r.length,g>l&&(g=l),g&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+g),P)),r.flags&512&&r.wrap&4&&(r.check=li(r.check,n,g,i)),l-=g,i+=g,r.length-=g),r.length))break e;r.length=0,r.mode=$j;case $j:if(r.flags&2048){if(l===0)break e;g=0;do P=n[i+g++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=li(r.check,n,g,i)),l-=g,i+=g,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=qj;case qj:if(r.flags&4096){if(l===0)break e;g=0;do P=n[i+g++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=li(r.check,n,g,i)),l-=g,i+=g,P)break e}else r.head&&(r.head.comment=null);r.mode=Xj;case Xj:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ss;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=iA;break;case Yj:for(;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}e.adler=r.check=A8(u),u=0,h=0,r.mode=Qw;case Qw:if(r.havedict===0)return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,joe;e.adler=r.check=1,r.mode=iA;case iA:if(t===Ioe||t===wx)break e;case fC:if(r.last){u>>>=h&7,h-=h&7,r.mode=pC;break}for(;h<3;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=Zj;break;case 1:if(Doe(r),r.mode=vx,t===wx){u>>>=2,h-=2;break e}break;case 2:r.mode=e8;break;case 3:e.msg="invalid block type",r.mode=ss}u>>>=2,h-=2;break;case Zj:for(u>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ss;break}if(r.length=u&65535,u=0,h=0,r.mode=mC,t===wx)break e;case mC:r.mode=Jj;case Jj:if(g=r.length,g){if(g>l&&(g=l),g>A&&(g=A),g===0)break e;s.set(n.subarray(i,i+g),o),l-=g,i+=g,A-=g,o+=g,r.length-=g;break}r.mode=iA;break;case e8:for(;h<14;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ss;break}r.have=0,r.mode=t8;case t8:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.lens[H[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[H[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,z={bits:r.lenbits},U=Op(Eoe,r.lens,0,19,r.lencode,0,r.work,z),r.lenbits=z.bits,U){e.msg="invalid code lengths set",r.mode=ss;break}r.have=0,r.mode=r8;case r8:for(;r.have<r.nlen+r.ndist;){for(;I=r.lencode[u&(1<<r.lenbits)-1],v=I>>>24,N=I>>>16&255,F=I&65535,!(v<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(F<16)u>>>=v,h-=v,r.lens[r.have++]=F;else{if(F===16){for(R=v+2;h<R;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(u>>>=v,h-=v,r.have===0){e.msg="invalid bit length repeat",r.mode=ss;break}P=r.lens[r.have-1],g=3+(u&3),u>>>=2,h-=2}else if(F===17){for(R=v+3;h<R;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=v,h-=v,P=0,g=3+(u&7),u>>>=3,h-=3}else{for(R=v+7;h<R;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=v,h-=v,P=0,g=11+(u&127),u>>>=7,h-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ss;break}for(;g--;)r.lens[r.have++]=P}}if(r.mode===ss)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ss;break}if(r.lenbits=9,z={bits:r.lenbits},U=Op(ZD,r.lens,0,r.nlen,r.lencode,0,r.work,z),r.lenbits=z.bits,U){e.msg="invalid literal/lengths set",r.mode=ss;break}if(r.distbits=6,r.distcode=r.distdyn,z={bits:r.distbits},U=Op(JD,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,z),r.distbits=z.bits,U){e.msg="invalid distances set",r.mode=ss;break}if(r.mode=vx,t===wx)break e;case vx:r.mode=bx;case bx:if(l>=6&&A>=258){e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,voe(e,y),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,h=r.bits,r.mode===iA&&(r.back=-1);break}for(r.back=0;I=r.lencode[u&(1<<r.lenbits)-1],v=I>>>24,N=I>>>16&255,F=I&65535,!(v<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(N&&!(N&240)){for(T=v,D=N,V=F;I=r.lencode[V+((u&(1<<T+D)-1)>>T)],v=I>>>24,N=I>>>16&255,F=I&65535,!(T+v<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=T,h-=T,r.back+=T}if(u>>>=v,h-=v,r.back+=v,r.length=F,N===0){r.mode=o8;break}if(N&32){r.back=-1,r.mode=iA;break}if(N&64){e.msg="invalid literal/length code",r.mode=ss;break}r.extra=N&15,r.mode=n8;case n8:if(r.extra){for(R=r.extra;h<R;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=s8;case s8:for(;I=r.distcode[u&(1<<r.distbits)-1],v=I>>>24,N=I>>>16&255,F=I&65535,!(v<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(!(N&240)){for(T=v,D=N,V=F;I=r.distcode[V+((u&(1<<T+D)-1)>>T)],v=I>>>24,N=I>>>16&255,F=I&65535,!(T+v<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=T,h-=T,r.back+=T}if(u>>>=v,h-=v,r.back+=v,N&64){e.msg="invalid distance code",r.mode=ss;break}r.offset=F,r.extra=N&15,r.mode=i8;case i8:if(r.extra){for(R=r.extra;h<R;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ss;break}r.mode=a8;case a8:if(A===0)break e;if(g=y-A,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ss;break}g>r.wnext?(g-=r.wnext,b=r.wsize-g):b=r.wnext-g,g>r.length&&(g=r.length),C=r.window}else C=s,b=o-r.offset,g=r.length;g>A&&(g=A),A-=g,r.length-=g;do s[o++]=C[b++];while(--g);r.length===0&&(r.mode=bx);break;case o8:if(A===0)break e;s[o++]=r.length,A--,r.mode=bx;break;case pC:if(r.wrap){for(;h<32;){if(l===0)break e;l--,u|=n[i++]<<h,h+=8}if(y-=A,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?li(r.check,s,y,o-y):Fg(r.check,s,y,o-y)),y=A,r.wrap&4&&(r.flags?u:A8(u))!==r.check){e.msg="incorrect data check",r.mode=ss;break}u=0,h=0}r.mode=l8;case l8:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ss;break}u=0,h=0}r.mode=c8;case c8:U=Foe;break e;case ss:U=eU;break e;case rU:return tU;case nU:default:return nl}return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,(r.wsize||y!==e.avail_out&&r.mode<ss&&(r.mode<pC||t!==Qj))&&lU(e,e.output,e.next_out,y-e.avail_out),m-=e.avail_in,y-=e.avail_out,e.total_in+=m,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?li(r.check,s,y,e.next_out-y):Fg(r.check,s,y,e.next_out-y)),e.data_type=r.bits+(r.last?64:0)+(r.mode===iA?128:0)+(r.mode===vx||r.mode===mC?256:0),(m===0&&y===0||t===Qj)&&U===Zh&&(U=_oe),U},Moe=e=>{if(cf(e))return nl;let t=e.state;return t.window&&(t.window=null),e.state=null,Zh},Qoe=(e,t)=>{if(cf(e))return nl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Zh):nl},Hoe=(e,t)=>{const r=t.length;let n,s,i;return cf(e)||(n=e.state,n.wrap!==0&&n.mode!==Qw)?nl:n.mode===Qw&&(s=1,s=Fg(s,t,r,0),s!==n.check)?eU:(i=lU(e,t,r,r),i?(n.mode=rU,tU):(n.havedict=1,Zh))};var Voe=iU,Koe=aU,Goe=sU,Woe=Roe,zoe=oU,$oe=Uoe,qoe=Moe,Xoe=Qoe,Yoe=Hoe,Zoe="pako inflate (from Nodeca project)",fA={inflateReset:Voe,inflateReset2:Koe,inflateResetKeep:Goe,inflateInit:Woe,inflateInit2:zoe,inflate:$oe,inflateEnd:qoe,inflateGetHeader:Xoe,inflateSetDictionary:Yoe,inflateInfo:Zoe};function Joe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ele=Joe;const cU=Object.prototype.toString,{Z_NO_FLUSH:tle,Z_FINISH:rle,Z_OK:Tg,Z_STREAM_END:yC,Z_NEED_DICT:wC,Z_STREAM_ERROR:nle,Z_DATA_ERROR:d8,Z_MEM_ERROR:sle}=u1;function h1(e){this.options=gv.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XD,this.strm.avail_out=0;let r=fA.inflateInit2(this.strm,t.windowBits);if(r!==Tg)throw new Error($0[r]);if(this.header=new ele,fA.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=_g.string2buf(t.dictionary):cU.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=fA.inflateSetDictionary(this.strm,t.dictionary),r!==Tg)))throw new Error($0[r])}h1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?rle:tle,cU.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=fA.inflate(r,o),i===wC&&s&&(i=fA.inflateSetDictionary(r,s),i===Tg?i=fA.inflate(r,o):i===d8&&(i=wC));r.avail_in>0&&i===yC&&r.state.wrap>0&&e[r.next_in]!==0;)fA.inflateReset(r),i=fA.inflate(r,o);switch(i){case nle:case d8:case wC:case sle:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===yC))if(this.options.to==="string"){let A=_g.utf8border(r.output,r.next_out),u=r.next_out-A,h=_g.buf2string(r.output,A);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(A,A+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Tg&&l===0)){if(i===yC)return i=fA.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};h1.prototype.onData=function(e){this.chunks.push(e)};h1.prototype.onEnd=function(e){e===Tg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function QS(e,t){const r=new h1(t);if(r.push(e),r.err)throw r.msg||$0[r.err];return r.result}function ile(e,t){return t=t||{},t.raw=!0,QS(e,t)}var ale=h1,ole=QS,lle=ile,cle=QS,Ale=u1,ule={Inflate:ale,inflate:ole,inflateRaw:lle,ungzip:cle,constants:Ale};const{Inflate:dle,inflate:hle,inflateRaw:S4e,ungzip:E4e}=ule;var h8=dle,fle=hle;const AU=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;AU[e]=t}const f8=4294967295;function mle(e,t,r){let n=e;for(let s=0;s<r;s++)n=AU[(n^t[s])&255]^n>>>8;return n}function ple(e,t){return(mle(f8,e,t)^f8)>>>0}function m8(e,t,r){const n=e.readUint32(),s=ple(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function uU(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function dU(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function hU(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function fU(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function mU(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+gle(t[i-s],r[i],r[i-s])&255}}function gle(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return s<=i&&s<=o?e:i<=o?t:r}function xle(e,t,r,n,s,i){switch(e){case 0:uU(t,r,s);break;case 1:dU(t,r,s,i);break;case 2:hU(t,r,n,s);break;case 3:fU(t,r,n,s,i);break;case 4:mU(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const yle=new Uint16Array([255]),wle=new Uint8Array(yle.buffer),vle=wle[0]===255;function ble(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,A=new Uint8Array(n*r*l);let u=0;for(let h=0;h<7;h++){const m=o[h],y=Math.ceil((r-m.x)/m.xStep),g=Math.ceil((n-m.y)/m.yStep);if(y<=0||g<=0)continue;const b=y*l,C=new Uint8Array(b);for(let I=0;I<g;I++){const v=t[u++],N=t.subarray(u,u+b);u+=b;const F=new Uint8Array(b);xle(v,N,F,C,b,l),C.set(F);for(let T=0;T<y;T++){const D=m.x+T*m.xStep,V=m.y+I*m.yStep;if(!(D>=r||V>=n))for(let P=0;P<l;P++)A[(V*r+D)*l+P]=F[T*l+P]}}}if(i===16){const h=new Uint16Array(A.buffer);if(vle)for(let m=0;m<h.length;m++)h[m]=Cle(h[m]);return h}else return A}function Cle(e){return(e&255)<<8|e>>8&255}const Ble=new Uint16Array([255]),Nle=new Uint8Array(Ble.buffer),Sle=Nle[0]===255,Ele=new Uint8Array(0);function p8(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),A=new Uint8Array(n*l);let u=Ele,h=0,m,y;for(let g=0;g<n;g++){switch(m=t.subarray(h+1,h+1+l),y=A.subarray(g*l,(g+1)*l),t[h]){case 0:uU(m,y,l);break;case 1:dU(m,y,l,o);break;case 2:hU(m,y,u,l);break;case 3:fU(m,y,u,l,o);break;case 4:mU(m,y,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=y,h+=l+1}if(i===16){const g=new Uint16Array(A.buffer);if(Sle)for(let b=0;b<g.length;b++)g[b]=Ile(g[b]);return g}else return A}function Ile(e){return(e&255)<<8|e>>8&255}const _y=Uint8Array.of(137,80,78,71,13,10,26,10);function g8(e){if(!Fle(e.readBytes(_y.length)))throw new Error("wrong PNG signature")}function Fle(e){if(e.length<_y.length)return!1;for(let t=0;t<_y.length;t++)if(e[t]!==_y[t])return!1;return!0}const jle="tEXt",_le=0,pU=new TextDecoder("latin1");function Tle(e){if(Lle(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const kle=/^[\u0000-\u00FF]*$/;function Lle(e){if(!kle.test(e))throw new Error("invalid latin1 text")}function Ple(e,t,r){const n=gU(t);e[n]=Ole(t,r-n.length-1)}function gU(e){for(e.mark();e.readByte()!==_le;);const t=e.offset;e.reset();const r=pU.decode(e.readBytes(t-e.offset-1));return e.skip(1),Tle(r),r}function Ole(e,t){return pU.decode(e.readBytes(t))}const lo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},vC={UNKNOWN:-1,DEFLATE:0},x8={UNKNOWN:-1,ADAPTIVE:0},bC={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Cx={NONE:0,BACKGROUND:1,PREVIOUS:2},CC={SOURCE:0,OVER:1};class Rle extends LS{constructor(r,n={}){super(r);vn(this,"_checkCrc");vn(this,"_inflator");vn(this,"_png");vn(this,"_apng");vn(this,"_end");vn(this,"_hasPalette");vn(this,"_palette");vn(this,"_hasTransparency");vn(this,"_transparency");vn(this,"_compressionMethod");vn(this,"_filterMethod");vn(this,"_interlaceMethod");vn(this,"_colorType");vn(this,"_isAnimated");vn(this,"_numberOfFrames");vn(this,"_numberOfPlays");vn(this,"_frames");vn(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new h8,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=vC.UNKNOWN,this._filterMethod=x8.UNKNOWN,this._interlaceMethod=bC.UNKNOWN,this._colorType=lo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(g8(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(g8(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case jle:Ple(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?m8(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?m8(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Dle(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case lo.GREYSCALE:s=1;break;case lo.TRUECOLOUR:s=3;break;case lo.INDEXED_COLOUR:s=1;break;case lo.GREYSCALE_ALPHA:s=2;break;case lo.TRUECOLOUR_ALPHA:s=4;break;case lo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==vC.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case lo.GREYSCALE:case lo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case lo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case lo.UNKNOWN:case lo.GREYSCALE_ALPHA:case lo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=gU(this),s=this.readUint8();if(s!==vC.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:fle(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=p8({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case Cx.NONE:break;case Cx.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let A=0;A<this._png.channels;A++)s.data[l+A]=0}break;case Cx.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(o,l)=>{const A=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:A,frameIndex:u}};switch(n.blendOp){case CC.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:A,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++)r.data[A+h]=n.data[u+h]}break;case CC.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:A,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++){const m=n.data[u+this._png.channels-1]/s,y=h%(this._png.channels-1)===0?1:n.data[u+h],g=Math.floor(m*y+(1-m)*r.data[A+h]);r.data[A+h]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==x8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===bC.NO_INTERLACE)this._png.data=p8({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===bC.ADAM7)this._png.data=ble({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Cx.NONE,blendOp:CC.SOURCE,data:r}),this._inflator=new h8,this._writingDataChunks=!1}}function Dle(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var y8;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(y8||(y8={}));function Ule(e,t){return new Rle(e,t).decode()}var xr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function BC(){xr.console&&typeof xr.console.log=="function"&&xr.console.log.apply(xr.console,arguments)}var Pn={log:BC,warn:function(e){xr.console&&(typeof xr.console.warn=="function"?xr.console.warn.apply(xr.console,arguments):BC.call(null,arguments))},error:function(e){xr.console&&(typeof xr.console.error=="function"?xr.console.error.apply(xr.console,arguments):BC(e))}};function NC(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Yd(n.response,t,r)},n.onerror=function(){Pn.error("could not download file")},n.send()}function w8(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Bx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Yd=xr.saveAs||((typeof window>"u"?"undefined":en(window))!=="object"||window!==xr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=xr.URL||xr.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?w8(s.href)?NC(e,t,r):Bx(s,s.target="_blank"):Bx(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Bx(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(w8(e))NC(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Bx(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:en(i)!=="object"&&(Pn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return NC(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(xr.HTMLElement)||xr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":en(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},l.readAsDataURL(e)}else{var A=xr.URL||xr.webkitURL,u=A.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){A.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function xU(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),A=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),u.length==1&&(u="0"+u),"#"+l+A+u}}var Ty=xr.atob.bind(xr),v8=xr.btoa.bind(xr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function SC(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=Qi(r,n,s,i,t[0],7,-680876936),i=Qi(i,r,n,s,t[1],12,-389564586),s=Qi(s,i,r,n,t[2],17,606105819),n=Qi(n,s,i,r,t[3],22,-1044525330),r=Qi(r,n,s,i,t[4],7,-176418897),i=Qi(i,r,n,s,t[5],12,1200080426),s=Qi(s,i,r,n,t[6],17,-1473231341),n=Qi(n,s,i,r,t[7],22,-45705983),r=Qi(r,n,s,i,t[8],7,1770035416),i=Qi(i,r,n,s,t[9],12,-1958414417),s=Qi(s,i,r,n,t[10],17,-42063),n=Qi(n,s,i,r,t[11],22,-1990404162),r=Qi(r,n,s,i,t[12],7,1804603682),i=Qi(i,r,n,s,t[13],12,-40341101),s=Qi(s,i,r,n,t[14],17,-1502002290),r=Hi(r,n=Qi(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Hi(i,r,n,s,t[6],9,-1069501632),s=Hi(s,i,r,n,t[11],14,643717713),n=Hi(n,s,i,r,t[0],20,-373897302),r=Hi(r,n,s,i,t[5],5,-701558691),i=Hi(i,r,n,s,t[10],9,38016083),s=Hi(s,i,r,n,t[15],14,-660478335),n=Hi(n,s,i,r,t[4],20,-405537848),r=Hi(r,n,s,i,t[9],5,568446438),i=Hi(i,r,n,s,t[14],9,-1019803690),s=Hi(s,i,r,n,t[3],14,-187363961),n=Hi(n,s,i,r,t[8],20,1163531501),r=Hi(r,n,s,i,t[13],5,-1444681467),i=Hi(i,r,n,s,t[2],9,-51403784),s=Hi(s,i,r,n,t[7],14,1735328473),r=Vi(r,n=Hi(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Vi(i,r,n,s,t[8],11,-2022574463),s=Vi(s,i,r,n,t[11],16,1839030562),n=Vi(n,s,i,r,t[14],23,-35309556),r=Vi(r,n,s,i,t[1],4,-1530992060),i=Vi(i,r,n,s,t[4],11,1272893353),s=Vi(s,i,r,n,t[7],16,-155497632),n=Vi(n,s,i,r,t[10],23,-1094730640),r=Vi(r,n,s,i,t[13],4,681279174),i=Vi(i,r,n,s,t[0],11,-358537222),s=Vi(s,i,r,n,t[3],16,-722521979),n=Vi(n,s,i,r,t[6],23,76029189),r=Vi(r,n,s,i,t[9],4,-640364487),i=Vi(i,r,n,s,t[12],11,-421815835),s=Vi(s,i,r,n,t[15],16,530742520),r=Ki(r,n=Vi(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Ki(i,r,n,s,t[7],10,1126891415),s=Ki(s,i,r,n,t[14],15,-1416354905),n=Ki(n,s,i,r,t[5],21,-57434055),r=Ki(r,n,s,i,t[12],6,1700485571),i=Ki(i,r,n,s,t[3],10,-1894986606),s=Ki(s,i,r,n,t[10],15,-1051523),n=Ki(n,s,i,r,t[1],21,-2054922799),r=Ki(r,n,s,i,t[8],6,1873313359),i=Ki(i,r,n,s,t[15],10,-30611744),s=Ki(s,i,r,n,t[6],15,-1560198380),n=Ki(n,s,i,r,t[13],21,1309151649),r=Ki(r,n,s,i,t[4],6,-145523070),i=Ki(i,r,n,s,t[11],10,-1120210379),s=Ki(s,i,r,n,t[2],15,718787259),n=Ki(n,s,i,r,t[9],21,-343485551),e[0]=$u(r,e[0]),e[1]=$u(n,e[1]),e[2]=$u(s,e[2]),e[3]=$u(i,e[3])}function yv(e,t,r,n,s,i){return t=$u($u(t,e),$u(n,i)),$u(t<<s|t>>>32-s,r)}function Qi(e,t,r,n,s,i,o){return yv(t&r|~t&n,e,t,s,i,o)}function Hi(e,t,r,n,s,i,o){return yv(t&n|r&~n,e,t,s,i,o)}function Vi(e,t,r,n,s,i,o){return yv(t^r^n,e,t,s,i,o)}function Ki(e,t,r,n,s,i,o){return yv(r^(t|~n),e,t,s,i,o)}function yU(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)SC(n,Mle(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(SC(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,SC(n,s),n}function Mle(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var b8="0123456789abcdef".split("");function Qle(e){for(var t="",r=0;r<4;r++)t+=b8[e>>8*r+4&15]+b8[e>>8*r&15];return t}function Hle(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function LB(e){return yU(e).map(Hle).join("")}var Vle=function(e){for(var t=0;t<e.length;t++)e[t]=Qle(e[t]);return e.join("")}(yU("hello"))!="5d41402abc4b2a76b9719d911017c592";function $u(e,t){if(Vle){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function PB(e,t){var r,n,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],A=0;A<256;A++)l[A]=A;var u=0;for(A=0;A<256;A++){var h=l[A];u=(u+h+o.charCodeAt(A))%256,l[A]=l[u],l[u]=h}r=e,n=l}else l=n;var m=t.length,y=0,g=0,b="";for(A=0;A<m;A++)g=(g+(h=l[y=(y+1)%256]))%256,l[y]=l[g],l[g]=h,o=l[(l[y]+l[g])%256],b+=String.fromCharCode(t.charCodeAt(A)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var C8={print:4,modify:8,copy:16,"annot-forms":32};function kf(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(C8.perm!==void 0)throw new Error("Invalid permission: "+l);s+=C8[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=LB(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=PB(this.encryptionKey,this.padding)}function Lf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function B8(e){if(en(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){xr.console&&Pn.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Hw(e){if(!(this instanceof Hw))return new Hw(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function wU(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function th(e,t,r,n,s){if(!(this instanceof th))return new th(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,wU.call(this,n,s)}function qf(e,t,r,n,s){if(!(this instanceof qf))return new qf(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,wU.call(this,n,s)}function Xt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,A=16,u="S",h=null;en(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(A=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=B8;var b="1.3",C=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(O){b=O};var I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return I};var v=g.__private__.getPageFormat=function(O){return I[O]};s=s||"a4";var N="compat",F="advanced",T=N;function D(){this.saveGraphicsState(),he(new Et(Lt,0,0,-Lt,0,Sr()*Lt).toString()+" cm"),this.setFontSize(this.getFontSize()/Lt),u="n",T=F}function V(){this.restoreGraphicsState(),u="S",T=N}var P=g.__private__.combineFontStyleAndFontWeight=function(O,se){if(O=="bold"&&se=="normal"||O=="bold"&&se==400||O=="normal"&&se=="italic"||O=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(O=se==400||se==="normal"?O==="italic"?"italic":"normal":se!=700&&se!=="bold"||O!=="normal"?(se==700?"bold":se)+""+O:"bold"),O};g.advancedAPI=function(O){var se=T===N;return se&&D.call(this),typeof O!="function"||(O(this),se&&V.call(this)),this},g.compatAPI=function(O){var se=T===F;return se&&V.call(this),typeof O!="function"||(O(this),se&&D.call(this)),this},g.isAdvancedAPI=function(){return T===F};var U,k=function(O){if(T!==F)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=g.roundToPrecision=g.__private__.roundToPrecision=function(O,se){var we=t||se;if(isNaN(O)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(we).replace(/0+$/,"")};U=g.hpf=g.__private__.hpf=typeof A=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return z(O,A)}:A==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return z(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return z(O,16)};var R=g.f2=g.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return z(O,2)},H=g.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return z(O,3)},J=g.scale=g.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return T===N?O*Lt:T===F?O:void 0},ne=function(O){return J(function(se){return T===N?Sr()-se:T===F?se:void 0}(O))};g.__private__.setPrecision=g.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(t=parseInt(O,10))};var Y,G="00000000000000000000000000000000",K=g.__private__.getFileId=function(){return G},q=g.__private__.setFileId=function(O){return G=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(In=new kf(h.userPermissions,h.userPassword,h.ownerPassword,G)),G};g.setFileId=function(O){return q(O),this},g.getFileId=function(){return K()};var X=g.__private__.convertDateToPDFDate=function(O){var se=O.getTimezoneOffset(),we=se<0?"+":"-",Ae=Math.floor(Math.abs(se/60)),Ie=Math.abs(se%60),ze=[we,ae(Ae),"'",ae(Ie),"'"].join("");return["D:",O.getFullYear(),ae(O.getMonth()+1),ae(O.getDate()),ae(O.getHours()),ae(O.getMinutes()),ae(O.getSeconds()),ze].join("")},fe=g.__private__.convertPDFDateToDate=function(O){var se=parseInt(O.substr(2,4),10),we=parseInt(O.substr(6,2),10)-1,Ae=parseInt(O.substr(8,2),10),Ie=parseInt(O.substr(10,2),10),ze=parseInt(O.substr(12,2),10),rt=parseInt(O.substr(14,2),10);return new Date(se,we,Ae,Ie,ze,rt,0)},de=g.__private__.setCreationDate=function(O){var se;if(O===void 0&&(O=new Date),O instanceof Date)se=X(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=O}return Y=se},Q=g.__private__.getCreationDate=function(O){var se=Y;return O==="jsDate"&&(se=fe(Y)),se};g.setCreationDate=function(O){return de(O),this},g.getCreationDate=function(O){return Q(O)};var Z,ae=g.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},ee=g.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},oe=0,pe=[],Be=[],_e=0,Le=[],ke=[],Oe=!1,Se=Be;g.__private__.setCustomOutputDestination=function(O){Oe=!0,Se=O};var Ce=function(O){Oe||(Se=O)};g.__private__.resetCustomOutputDestination=function(){Oe=!1,Se=Be};var he=g.__private__.out=function(O){return O=O.toString(),_e+=O.length+1,Se.push(O),Se},ft=g.__private__.write=function(O){return he(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},dt=g.__private__.getArrayBuffer=function(O){for(var se=O.length,we=new ArrayBuffer(se),Ae=new Uint8Array(we);se--;)Ae[se]=O.charCodeAt(se);return we},Je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Je};var Qe=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(O){return Qe=T===F?O/Lt:O,this};var vt,Ke=g.__private__.getFontSize=g.getFontSize=function(){return T===N?Qe:Qe*Lt},Vt=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(O){return Vt=O,this},g.__private__.getR2L=g.getR2L=function(){return Vt};var bt,nt=g.__private__.setZoomMode=function(O){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))vt=O;else if(isNaN(O)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');vt=O}else vt=parseInt(O,10)};g.__private__.getZoomMode=function(){return vt};var ct,At=g.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');bt=O};g.__private__.getPageMode=function(){return bt};var Ht=g.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');ct=O};g.__private__.getLayoutMode=function(){return ct},g.__private__.setDisplayMode=g.setDisplayMode=function(O,se,we){return nt(O),Ht(se),At(we),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(O){if(Object.keys(St).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[O]},g.__private__.getDocumentProperties=function(){return St},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(O){for(var se in St)St.hasOwnProperty(se)&&O[se]&&(St[se]=O[se]);return this},g.__private__.setDocumentProperty=function(O,se){if(Object.keys(St).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[O]=se};var xt,Lt,Bt,Mr,Yt,Ge={},jt={},$e=[],at={},mt={},yt={},Kr={},$t=null,sr=0,Dt=[],Tr=new B8(g),Pt=e.hotfixes||[],lr={},ir={},sn=[],Et=function O(se,we,Ae,Ie,ze,rt){if(!(this instanceof O))return new O(se,we,Ae,Ie,ze,rt);isNaN(se)&&(se=1),isNaN(we)&&(we=0),isNaN(Ae)&&(Ae=0),isNaN(Ie)&&(Ie=1),isNaN(ze)&&(ze=0),isNaN(rt)&&(rt=0),this._matrix=[se,we,Ae,Ie,ze,rt]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(O)},Et.prototype.multiply=function(O){var se=O.sx*this.sx+O.shy*this.shx,we=O.sx*this.shy+O.shy*this.sy,Ae=O.shx*this.sx+O.sy*this.shx,Ie=O.shx*this.shy+O.sy*this.sy,ze=O.tx*this.sx+O.ty*this.shx+this.tx,rt=O.tx*this.shy+O.ty*this.sy+this.ty;return new Et(se,we,Ae,Ie,ze,rt)},Et.prototype.decompose=function(){var O=this.sx,se=this.shy,we=this.shx,Ae=this.sy,Ie=this.tx,ze=this.ty,rt=Math.sqrt(O*O+se*se),Ot=(O/=rt)*we+(se/=rt)*Ae;we-=O*Ot,Ae-=se*Ot;var Kt=Math.sqrt(we*we+Ae*Ae);return Ot/=Kt,O*(Ae/=Kt)<se*(we/=Kt)&&(O=-O,se=-se,Ot=-Ot,rt=-rt),{scale:new Et(rt,0,0,Kt,0,0),translate:new Et(1,0,0,1,Ie,ze),rotate:new Et(O,se,-se,O,0,0),skew:new Et(1,0,Ot,1,0,0)}},Et.prototype.toString=function(O){return this.join(" ")},Et.prototype.inversed=function(){var O=this.sx,se=this.shy,we=this.shx,Ae=this.sy,Ie=this.tx,ze=this.ty,rt=1/(O*Ae-se*we),Ot=Ae*rt,Kt=-se*rt,mr=-we*rt,br=O*rt;return new Et(Ot,Kt,mr,br,-Ot*Ie-mr*ze,-Kt*Ie-br*ze)},Et.prototype.applyToPoint=function(O){var se=O.x*this.sx+O.y*this.shx+this.tx,we=O.x*this.shy+O.y*this.sy+this.ty;return new gs(se,we)},Et.prototype.applyToRectangle=function(O){var se=this.applyToPoint(O),we=this.applyToPoint(new gs(O.x+O.w,O.y+O.h));return new eu(se.x,se.y,we.x-se.x,we.y-se.y)},Et.prototype.clone=function(){var O=this.sx,se=this.shy,we=this.shx,Ae=this.sy,Ie=this.tx,ze=this.ty;return new Et(O,se,we,Ae,Ie,ze)},g.Matrix=Et;var an=g.matrixMult=function(O,se){return se.multiply(O)},ms=new Et(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ms;var Gr=function(O,se){if(!mt[O]){var we=(se instanceof th?"Sh":"P")+(Object.keys(at).length+1).toString(10);se.id=we,mt[O]=we,at[we]=se,Tr.publish("addPattern",se)}};g.ShadingPattern=th,g.TilingPattern=qf,g.addShadingPattern=function(O,se){return k("addShadingPattern()"),Gr(O,se),this},g.beginTilingPattern=function(O){k("beginTilingPattern()"),tu(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},g.endTilingPattern=function(O,se){k("endTilingPattern()"),se.stream=ke[Z].join(`
`),Gr(O,se),Tr.publish("endTilingPattern",se),sn.pop().restore()};var Sn,Dr=g.__private__.newObject=function(){var O=Un();return hn(O,!0),O},Un=g.__private__.newObjectDeferred=function(){return oe++,pe[oe]=function(){return _e},oe},hn=function(O,se){return se=typeof se=="boolean"&&se,pe[O]=_e,se&&he(O+" 0 obj"),O},Ct=g.__private__.newAdditionalObject=function(){var O={objId:Un(),content:""};return Le.push(O),O},ra=Un(),na=Un(),Wn=g.__private__.decodeColorString=function(O){var se=O.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var we=parseFloat(se[0]);se=[we,we,we,"r"]}for(var Ae="#",Ie=0;Ie<3;Ie++)Ae+=("0"+Math.floor(255*parseFloat(se[Ie])).toString(16)).slice(-2);return Ae},ni=g.__private__.encodeColorString=function(O){var se;typeof O=="string"&&(O={ch1:O});var we=O.ch1,Ae=O.ch2,Ie=O.ch3,ze=O.ch4,rt=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var Ot=new xU(we);if(Ot.ok)we=Ot.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var Kt=parseInt(we.substr(1),16);we=Kt>>16&255,Ae=Kt>>8&255,Ie=255&Kt}if(Ae===void 0||ze===void 0&&we===Ae&&Ae===Ie)se=typeof we=="string"?we+" "+rt[0]:O.precision===2?R(we/255)+" "+rt[0]:H(we/255)+" "+rt[0];else if(ze===void 0||en(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return["1.","1.","1.",rt[1]].join(" ");se=typeof we=="string"?[we,Ae,Ie,rt[1]].join(" "):O.precision===2?[R(we/255),R(Ae/255),R(Ie/255),rt[1]].join(" "):[H(we/255),H(Ae/255),H(Ie/255),rt[1]].join(" ")}else se=typeof we=="string"?[we,Ae,Ie,ze,rt[2]].join(" "):O.precision===2?[R(we),R(Ae),R(Ie),R(ze),rt[2]].join(" "):[H(we),H(Ae),H(Ie),H(ze),rt[2]].join(" ");return se},ki=g.__private__.getFilters=function(){return o},hi=g.__private__.putStream=function(O){var se=(O=O||{}).data||"",we=O.filters||ki(),Ae=O.alreadyAppliedFilters||[],Ie=O.addLength1||!1,ze=se.length,rt=O.objectId,Ot=function(ns){return ns};if(h!==null&&rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Ot=In.encryptor(rt,0));var Kt={};we===!0&&(we=["FlateEncode"]);var mr=O.additionalKeyValues||[],br=(Kt=Xt.API.processDataByFilters!==void 0?Xt.API.processDataByFilters(se,we):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(Kt.data.length!==0&&(mr.push({key:"Length",value:Kt.data.length}),Ie===!0&&mr.push({key:"Length1",value:ze})),br.length!=0)if(br.split("/").length-1==1)mr.push({key:"Filter",value:br});else{mr.push({key:"Filter",value:"["+br+"]"});for(var zr=0;zr<mr.length;zr+=1)if(mr[zr].key==="DecodeParms"){for(var Br=[],rs=0;rs<Kt.reverseChain.split("/").length-1;rs+=1)Br.push("null");Br.push(mr[zr].value),mr[zr].value="["+Br.join(" ")+"]"}}he("<<");for(var ur=0;ur<mr.length;ur++)he("/"+mr[ur].key+" "+mr[ur].value);he(">>"),Kt.data.length!==0&&(he("stream"),he(Ot(Kt.data)),he("endstream"))},si=g.__private__.putPage=function(O){var se=O.number,we=O.data,Ae=O.objId,Ie=O.contentsObjId;hn(Ae,!0),he("<</Type /Page"),he("/Parent "+O.rootDictionaryObjId+" 0 R"),he("/Resources "+O.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(U(O.mediaBox.bottomLeftX))+" "+parseFloat(U(O.mediaBox.bottomLeftY))+" "+U(O.mediaBox.topRightX)+" "+U(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&he("/CropBox ["+U(O.cropBox.bottomLeftX)+" "+U(O.cropBox.bottomLeftY)+" "+U(O.cropBox.topRightX)+" "+U(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&he("/BleedBox ["+U(O.bleedBox.bottomLeftX)+" "+U(O.bleedBox.bottomLeftY)+" "+U(O.bleedBox.topRightX)+" "+U(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&he("/TrimBox ["+U(O.trimBox.bottomLeftX)+" "+U(O.trimBox.bottomLeftY)+" "+U(O.trimBox.topRightX)+" "+U(O.trimBox.topRightY)+"]"),O.artBox!==null&&he("/ArtBox ["+U(O.artBox.bottomLeftX)+" "+U(O.artBox.bottomLeftY)+" "+U(O.artBox.topRightX)+" "+U(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&he("/UserUnit "+O.userUnit),Tr.publish("putPage",{objId:Ae,pageContext:Dt[se],pageNumber:se,page:we}),he("/Contents "+Ie+" 0 R"),he(">>"),he("endobj");var ze=we.join(`
`);return T===F&&(ze+=`
Q`),hn(Ie,!0),hi({data:ze,filters:ki(),objectId:Ie}),he("endobj"),Ae},Eo=g.__private__.putPages=function(){var O,se,we=[];for(O=1;O<=sr;O++)Dt[O].objId=Un(),Dt[O].contentsObjId=Un();for(O=1;O<=sr;O++)we.push(si({number:O,data:ke[O],objId:Dt[O].objId,contentsObjId:Dt[O].contentsObjId,mediaBox:Dt[O].mediaBox,cropBox:Dt[O].cropBox,bleedBox:Dt[O].bleedBox,trimBox:Dt[O].trimBox,artBox:Dt[O].artBox,userUnit:Dt[O].userUnit,rootDictionaryObjId:ra,resourceDictionaryObjId:na}));hn(ra,!0),he("<</Type /Pages");var Ae="/Kids [";for(se=0;se<sr;se++)Ae+=we[se]+" 0 R ";he(Ae+"]"),he("/Count "+sr),he(">>"),he("endobj"),Tr.publish("postPutPages")},Mc=function(O){Tr.publish("putFont",{font:O,out:he,newObject:Dr,putStream:hi}),O.isAlreadyPutted!==!0&&(O.objectNumber=Dr(),he("<<"),he("/Type /Font"),he("/BaseFont /"+Lf(O.postScriptName)),he("/Subtype /Type1"),typeof O.encoding=="string"&&he("/Encoding /"+O.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},fi=function(O){O.objectNumber=Dr();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[U(O.x),U(O.y),U(O.x+O.width),U(O.y+O.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var we=O.pages[1].join(`
`);hi({data:we,additionalKeyValues:se,objectId:O.objectNumber}),he("endobj")},ps=function(O,se){se||(se=21);var we=Dr(),Ae=function(rt,Ot){var Kt,mr=[],br=1/(Ot-1);for(Kt=0;Kt<1;Kt+=br)mr.push(Kt);if(mr.push(1),rt[0].offset!=0){var zr={offset:0,color:rt[0].color};rt.unshift(zr)}if(rt[rt.length-1].offset!=1){var Br={offset:1,color:rt[rt.length-1].color};rt.push(Br)}for(var rs="",ur=0,ns=0;ns<mr.length;ns++){for(Kt=mr[ns];Kt>rt[ur+1].offset;)ur++;var Fn=rt[ur].offset,yr=(Kt-Fn)/(rt[ur+1].offset-Fn),Gt=rt[ur].color,Wl=rt[ur+1].color;rs+=ee(Math.round((1-yr)*Gt[0]+yr*Wl[0]).toString(16))+ee(Math.round((1-yr)*Gt[1]+yr*Wl[1]).toString(16))+ee(Math.round((1-yr)*Gt[2]+yr*Wl[2]).toString(16))}return rs.trim()}(O.colors,se),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+se+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hi({data:Ae,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),he("endobj"),O.objectNumber=Dr(),he("<< /ShadingType "+O.type),he("/ColorSpace /DeviceRGB");var ze="/Coords ["+U(parseFloat(O.coords[0]))+" "+U(parseFloat(O.coords[1]))+" ";O.type===2?ze+=U(parseFloat(O.coords[2]))+" "+U(parseFloat(O.coords[3])):ze+=U(parseFloat(O.coords[2]))+" "+U(parseFloat(O.coords[3]))+" "+U(parseFloat(O.coords[4]))+" "+U(parseFloat(O.coords[5])),he(ze+="]"),O.matrix&&he("/Matrix ["+O.matrix.toString()+"]"),he("/Function "+we+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},ln=function(O,se){var we=Un(),Ae=Dr();se.push({resourcesOid:we,objectOid:Ae}),O.objectNumber=Ae;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+O.boundingBox.map(U).join(" ")+"]"}),Ie.push({key:"XStep",value:U(O.xStep)}),Ie.push({key:"YStep",value:U(O.yStep)}),Ie.push({key:"Resources",value:we+" 0 R"}),O.matrix&&Ie.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),hi({data:O.stream,additionalKeyValues:Ie,objectId:O.objectNumber}),he("endobj")},df=function(O){for(var se in O.objectNumber=Dr(),he("<<"),O)switch(se){case"opacity":he("/ca "+R(O[se]));break;case"stroke-opacity":he("/CA "+R(O[se]))}he(">>"),he("endobj")},Ba=function(O){hn(O.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var se in he("/Font <<"),Ge)Ge.hasOwnProperty(se)&&(m===!1||m===!0&&y.hasOwnProperty(se))&&he("/"+se+" "+Ge[se].objectNumber+" 0 R");he(">>")}(),function(){if(Object.keys(at).length>0){for(var se in he("/Shading <<"),at)at.hasOwnProperty(se)&&at[se]instanceof th&&at[se].objectNumber>=0&&he("/"+se+" "+at[se].objectNumber+" 0 R");Tr.publish("putShadingPatternDict"),he(">>")}}(),function(se){if(Object.keys(at).length>0){for(var we in he("/Pattern <<"),at)at.hasOwnProperty(we)&&at[we]instanceof g.TilingPattern&&at[we].objectNumber>=0&&at[we].objectNumber<se&&he("/"+we+" "+at[we].objectNumber+" 0 R");Tr.publish("putTilingPatternDict"),he(">>")}}(O.objectOid),function(){if(Object.keys(yt).length>0){var se;for(se in he("/ExtGState <<"),yt)yt.hasOwnProperty(se)&&yt[se].objectNumber>=0&&he("/"+se+" "+yt[se].objectNumber+" 0 R");Tr.publish("putGStateDict"),he(">>")}}(),function(){for(var se in he("/XObject <<"),lr)lr.hasOwnProperty(se)&&lr[se].objectNumber>=0&&he("/"+se+" "+lr[se].objectNumber+" 0 R");Tr.publish("putXobjectDict"),he(">>")}(),he(">>"),he("endobj")},XA=function(O){jt[O.fontName]=jt[O.fontName]||{},jt[O.fontName][O.fontStyle]=O.id},tt=function(O,se,we,Ae,Ie){var ze={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:O,fontName:se,fontStyle:we,encoding:Ae,isStandardFont:Ie||!1,metadata:{}};return Tr.publish("addFont",{font:ze,instance:this}),Ge[ze.id]=ze,XA(ze),ze.id},Na=g.__private__.pdfEscape=g.pdfEscape=function(O,se){return function(we,Ae){var Ie,ze,rt,Ot,Kt,mr,br,zr,Br;if(rt=(Ae=Ae||{}).sourceEncoding||"Unicode",Kt=Ae.outputEncoding,(Ae.autoencode||Kt)&&Ge[xt].metadata&&Ge[xt].metadata[rt]&&Ge[xt].metadata[rt].encoding&&(Ot=Ge[xt].metadata[rt].encoding,!Kt&&Ge[xt].encoding&&(Kt=Ge[xt].encoding),!Kt&&Ot.codePages&&(Kt=Ot.codePages[0]),typeof Kt=="string"&&(Kt=Ot[Kt]),Kt)){for(br=!1,mr=[],Ie=0,ze=we.length;Ie<ze;Ie++)(zr=Kt[we.charCodeAt(Ie)])?mr.push(String.fromCharCode(zr)):mr.push(we[Ie]),mr[Ie].charCodeAt(0)>>8&&(br=!0);we=mr.join("")}for(Ie=we.length;br===void 0&&Ie!==0;)we.charCodeAt(Ie-1)>>8&&(br=!0),Ie--;if(!br)return we;for(mr=Ae.noBOM?[]:[254,255],Ie=0,ze=we.length;Ie<ze;Ie++){if((Br=(zr=we.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+we+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mr.push(Br),mr.push(zr-(Br<<8))}return String.fromCharCode.apply(void 0,mr)}(O,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},En=g.__private__.beginPage=function(O){ke[++sr]=[],Dt[sr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},Wr(sr),Ce(ke[Z])},ol=function(O,se){var we,Ae,Ie;switch(r=se||r,typeof O=="string"&&(we=v(O.toLowerCase()),Array.isArray(we)&&(Ae=we[0],Ie=we[1])),Array.isArray(O)&&(Ae=O[0]*Lt,Ie=O[1]*Lt),isNaN(Ae)&&(Ae=s[0],Ie=s[1]),(Ae>14400||Ie>14400)&&(Pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),Ie=Math.min(14400,Ie)),s=[Ae,Ie],r.substr(0,1)){case"l":Ie>Ae&&(s=[Ie,Ae]);break;case"p":Ae>Ie&&(s=[Ie,Ae])}En(s),Kc(Qd),he(Gc),JA!==0&&he(JA+" J"),Al!==0&&he(Al+" j"),Tr.publish("addPage",{pageNumber:sr})},Ud=function(O){O>0&&O<=sr&&(ke.splice(O,1),Dt.splice(O,1),sr--,Z>sr&&(Z=sr),this.setPage(Z))},Wr=function(O){O>0&&O<=sr&&(Z=O)},Qr=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return ke.length-1},kr=function(O,se,we){var Ae,Ie=void 0;return we=we||{},O=O!==void 0?O:Ge[xt].fontName,se=se!==void 0?se:Ge[xt].fontStyle,Ae=O.toLowerCase(),jt[Ae]!==void 0&&jt[Ae][se]!==void 0?Ie=jt[Ae][se]:jt[O]!==void 0&&jt[O][se]!==void 0?Ie=jt[O][se]:we.disableWarning===!1&&Pn.warn("Unable to look up font label for font '"+O+"', '"+se+"'. Refer to getFontList() for available fonts."),Ie||we.noFallback||(Ie=jt.times[se])==null&&(Ie=jt.times.normal),Ie},Kl=g.__private__.putInfo=function(){var O=Dr(),se=function(Ae){return Ae};for(var we in h!==null&&(se=In.encryptor(O,0)),he("<<"),he("/Producer ("+Na(se("jsPDF "+Xt.version))+")"),St)St.hasOwnProperty(we)&&St[we]&&he("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+Na(se(St[we]))+")");he("/CreationDate ("+Na(se(Y))+")"),he(">>"),he("endobj")},Md=g.__private__.putCatalog=function(O){var se=(O=O||{}).rootDictionaryObjId||ra;switch(Dr(),he("<<"),he("/Type /Catalog"),he("/Pages "+se+" 0 R"),vt||(vt="fullwidth"),vt){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+vt;we.substr(we.length-1)==="%"&&(vt=parseInt(vt)/100),typeof vt=="number"&&he("/OpenAction [3 0 R /XYZ null null "+R(vt)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}bt&&he("/PageMode /"+bt),Tr.publish("putCatalog"),he(">>"),he("endobj")},es=g.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(oe+1)),he("/Root "+oe+" 0 R"),he("/Info "+(oe-1)+" 0 R"),h!==null&&he("/Encrypt "+In.oid+" 0 R"),he("/ID [ <"+G+"> <"+G+"> ]"),he(">>")},ts=g.__private__.putHeader=function(){he("%PDF-"+b),he("%")},Ya=g.__private__.putXRef=function(){var O="0000000000";he("xref"),he("0 "+(oe+1)),he("0000000000 65535 f ");for(var se=1;se<=oe;se++)typeof pe[se]=="function"?he((O+pe[se]()).slice(-10)+" 00000 n "):pe[se]!==void 0?he((O+pe[se]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},ll=g.__private__.buildDocument=function(){var O;oe=0,_e=0,Be=[],pe=[],Le=[],ra=Un(),na=Un(),Ce(Be),Tr.publish("buildDocument"),ts(),Eo(),function(){Tr.publish("putAdditionalObjects");for(var we=0;we<Le.length;we++){var Ae=Le[we];hn(Ae.objId,!0),he(Ae.content),he("endobj")}Tr.publish("postPutAdditionalObjects")}(),O=[],function(){for(var we in Ge)Ge.hasOwnProperty(we)&&(m===!1||m===!0&&y.hasOwnProperty(we))&&Mc(Ge[we])}(),function(){var we;for(we in yt)yt.hasOwnProperty(we)&&df(yt[we])}(),function(){for(var we in lr)lr.hasOwnProperty(we)&&fi(lr[we])}(),function(we){var Ae;for(Ae in at)at.hasOwnProperty(Ae)&&(at[Ae]instanceof th?ps(at[Ae]):at[Ae]instanceof qf&&ln(at[Ae],we))}(O),Tr.publish("putResources"),O.forEach(Ba),Ba({resourcesOid:na,objectOid:Number.MAX_SAFE_INTEGER}),Tr.publish("postPutResources"),h!==null&&(In.oid=Dr(),he("<<"),he("/Filter /Standard"),he("/V "+In.v),he("/R "+In.r),he("/U <"+In.toHexString(In.U)+">"),he("/O <"+In.toHexString(In.O)+">"),he("/P "+In.P),he(">>"),he("endobj")),Kl(),Md();var se=_e;return Ya(),es(),he("startxref"),he(""+se),he("%%EOF"),Ce(ke[Z]),Be.join(`
`)},gn=g.__private__.getBlob=function(O){return new Blob([dt(O)],{type:"application/pdf"})},Us=g.output=g.__private__.output=(Sn=function(O,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",O){case void 0:return ll();case"save":g.save(se.filename);break;case"arraybuffer":return dt(ll());case"blob":return gn(ll());case"bloburi":case"bloburl":if(xr.URL!==void 0&&typeof xr.URL.createObjectURL=="function")return xr.URL&&xr.URL.createObjectURL(gn(ll()))||void 0;Pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Ae=ll();try{we=v8(Ae)}catch{we=v8(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+se.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Ie=se.pdfObjectUrl,ze="");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",Ot=xr.open();return Ot!==null&&Ot.document.write(rt),Ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',mr=xr.open();if(mr!==null){mr.document.write(Kt);var br=this;mr.document.documentElement.querySelector("#pdfViewer").onload=function(){mr.document.title=se.filename,mr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(br.output("bloburl"))}}return mr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',Br=xr.open();if(Br!==null&&(Br.document.write(zr),Br.document.title=se.filename),Br||typeof safari>"u")return Br;break;case"datauri":case"dataurl":return xr.document.location.href=this.output("datauristring",se);default:return null}},Sn.foo=function(){try{return Sn.apply(this,arguments)}catch(we){var O=we.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var se="Error in function "+O.split(`
`)[0].split("<")[0]+": "+we.message;if(!xr.console)throw new Error(se);xr.console.error(se,we),xr.alert&&alert(se)}},Sn.foo.bar=Sn,Sn.foo),Qc=function(O){return Array.isArray(Pt)===!0&&Pt.indexOf(O)>-1};switch(n){case"pt":Lt=1;break;case"mm":Lt=72/25.4;break;case"cm":Lt=72/2.54;break;case"in":Lt=72;break;case"px":Lt=Qc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Lt=12;break;case"ex":Lt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Lt=n}var In=null;de(),q();var on=g.__private__.getPageInfo=g.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[O].objId,pageNumber:O,pageContext:Dt[O]}},Ms=g.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in Dt)if(Dt[se].objId===O)break;return on(se)},Me=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Dt[Z].objId,pageNumber:Z,pageContext:Dt[Z]}};g.addPage=function(){return ol.apply(this,arguments),this},g.setPage=function(){return Wr.apply(this,arguments),Ce.call(this,ke[Z]),this},g.insertPage=function(O){return this.addPage(),this.movePage(Z,O),this},g.movePage=function(O,se){var we,Ae;if(O>se){we=ke[O],Ae=Dt[O];for(var Ie=O;Ie>se;Ie--)ke[Ie]=ke[Ie-1],Dt[Ie]=Dt[Ie-1];ke[se]=we,Dt[se]=Ae,this.setPage(se)}else if(O<se){we=ke[O],Ae=Dt[O];for(var ze=O;ze<se;ze++)ke[ze]=ke[ze+1],Dt[ze]=Dt[ze+1];ke[se]=we,Dt[se]=Ae,this.setPage(se)}return this},g.deletePage=function(){return Ud.apply(this,arguments),this},g.__private__.text=g.text=function(O,se,we,Ae,Ie){var ze,rt,Ot,Kt,mr,br,zr,Br,rs,ur=(Ae=Ae||{}).scope||this;if(typeof O=="number"&&typeof se=="number"&&(typeof we=="string"||Array.isArray(we))){var ns=we;we=se,se=O,O=ns}if(arguments[3]instanceof Et==0?(Ot=arguments[4],Kt=arguments[5],en(zr=arguments[3])==="object"&&zr!==null||(typeof Ot=="string"&&(Kt=Ot,Ot=null),typeof zr=="string"&&(Kt=zr,zr=null),typeof zr=="number"&&(Ot=zr,zr=null),Ae={flags:zr,angle:Ot,align:Kt})):(k("The transform parameter of text() with a Matrix value"),rs=Ie),isNaN(se)||isNaN(we)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return ur;var Fn,yr="",Gt=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:cl,Wl=ur.internal.scaleFactor;function xn(le){return le=le.split("	").join(Array(Ae.TabLen||9).join(" ")),Na(le,zr)}function To(le){for(var xe,Ne=le.concat(),Ee=[],Re=Ne.length;Re--;)typeof(xe=Ne.shift())=="string"?Ee.push(xe):Array.isArray(le)&&(xe.length===1||xe[1]===void 0&&xe[2]===void 0)?Ee.push(xe[0]):Ee.push([xe[0],xe[1],xe[2]]);return Ee}function Sa(le,xe){var Ne;if(typeof le=="string")Ne=xe(le)[0];else if(Array.isArray(le)){for(var Ee,Re,We=le.concat(),ot=[],ht=We.length;ht--;)typeof(Ee=We.shift())=="string"?ot.push(xe(Ee)[0]):Array.isArray(Ee)&&typeof Ee[0]=="string"&&(Re=xe(Ee[0],Ee[1],Ee[2]),ot.push([Re[0],Re[1],Re[2]]));Ne=ot}return Ne}var to=!1,Pi=!0;if(typeof O=="string")to=!0;else if(Array.isArray(O)){var zl=O.concat();rt=[];for(var ul,xs=zl.length;xs--;)(typeof(ul=zl.shift())!="string"||Array.isArray(ul)&&typeof ul[0]!="string")&&(Pi=!1);to=Pi}if(to===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var ko=Qe/ur.internal.scaleFactor,Lo=ko*(Gt-1);switch(Ae.baseline){case"bottom":we-=Lo;break;case"top":we+=ko-Lo;break;case"hanging":we+=ko-2*Lo;break;case"middle":we+=ko/2-Lo}if((br=Ae.maxWidth||0)>0&&(typeof O=="string"?O=ur.splitTextToSize(O,br):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(le,xe){return le.concat(ur.splitTextToSize(xe,br))},[]))),ze={text:O,x:se,y:we,options:Ae,mutex:{pdfEscape:Na,activeFontKey:xt,fonts:Ge,activeFontSize:Qe}},Tr.publish("preProcessText",ze),O=ze.text,Ot=(Ae=ze.options).angle,rs instanceof Et==0&&Ot&&typeof Ot=="number"){Ot*=Math.PI/180,Ae.rotationDirection===0&&(Ot=-Ot),T===F&&(Ot=-Ot);var ru=Math.cos(Ot),Po=Math.sin(Ot);rs=new Et(ru,Po,-Po,ru,0,0)}else Ot&&Ot instanceof Et&&(rs=Ot);T!==F||rs||(rs=ms),(mr=Ae.charSpace||_o)!==void 0&&(yr+=U(J(mr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Br=Ae.horizontalScale)!==void 0&&(yr+=U(100*Br)+` Tz
`),Ae.lang;var Gs=-1,hf=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Oo=ur.internal.getCurrentPageInfo().pageContext;switch(hf){case 0:case!1:case"fill":Gs=0;break;case 1:case!0:case"stroke":Gs=1;break;case 2:case"fillThenStroke":Gs=2;break;case 3:case"invisible":Gs=3;break;case 4:case"fillAndAddForClipping":Gs=4;break;case 5:case"strokeAndAddPathForClipping":Gs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gs=6;break;case 7:case"addToPathForClipping":Gs=7}var ff=Oo.usedRenderingMode!==void 0?Oo.usedRenderingMode:-1;Gs!==-1?yr+=Gs+` Tr
`:ff!==-1&&(yr+=`0 Tr
`),Gs!==-1&&(Oo.usedRenderingMode=Gs),Kt=Ae.align||"left";var jn,pi=Qe*Gt,ii=ur.internal.pageSize.getWidth(),nu=Ge[xt];mr=Ae.charSpace||_o,br=Ae.maxWidth||0,zr=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var Ws=[],su=function(le){return ur.getStringUnitWidth(le,{font:nu,charSpace:mr,fontSize:Qe,doKerning:!1})*Qe/Wl};if(Object.prototype.toString.call(O)==="[object Array]"){var ai;rt=To(O),Kt!=="left"&&(jn=rt.map(su));var Oi,$l=0;if(Kt==="right"){se-=jn[0],O=[],xs=rt.length;for(var Is=0;Is<xs;Is++)Is===0?(Oi=dr(se),ai=kn(we)):(Oi=J($l-jn[Is]),ai=-pi),O.push([rt[Is],Oi,ai]),$l=jn[Is]}else if(Kt==="center"){se-=jn[0]/2,O=[],xs=rt.length;for(var ql=0;ql<xs;ql++)ql===0?(Oi=dr(se),ai=kn(we)):(Oi=J(($l-jn[ql])/2),ai=-pi),O.push([rt[ql],Oi,ai]),$l=jn[ql]}else if(Kt==="left"){O=[],xs=rt.length;for(var Xc=0;Xc<xs;Xc++)O.push(rt[Xc])}else if(Kt==="justify"&&nu.encoding==="Identity-H"){O=[],xs=rt.length,br=br!==0?br:ii;for(var Ea=0,tr=0;tr<xs;tr++)if(ai=tr===0?kn(we):-pi,Oi=tr===0?dr(se):Ea,tr<xs-1){var iu=J((br-jn[tr])/(rt[tr].split(" ").length-1)),te=rt[tr].split(" ");O.push([te[0]+" ",Oi,ai]),Ea=0;for(var c=1;c<te.length;c++){var d=(su(te[c-1]+" "+te[c])-su(te[c]))*Wl+iu;c==te.length-1?O.push([te[c],d,0]):O.push([te[c]+" ",d,0]),Ea-=d}}else O.push([rt[tr],Oi,ai]);O.push(["",Ea,0])}else{if(Kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],xs=rt.length,br=br!==0?br:ii,tr=0;tr<xs;tr++)ai=tr===0?kn(we):-pi,Oi=tr===0?dr(se):0,tr<xs-1?Ws.push(U(J((br-jn[tr])/(rt[tr].split(" ").length-1)))):Ws.push(0),O.push([rt[tr],Oi,ai])}}(typeof Ae.R2L=="boolean"?Ae.R2L:Vt)===!0&&(O=Sa(O,function(le,xe,Ne){return[le.split("").reverse().join(""),xe,Ne]})),ze={text:O,x:se,y:we,options:Ae,mutex:{pdfEscape:Na,activeFontKey:xt,fonts:Ge,activeFontSize:Qe}},Tr.publish("postProcessText",ze),O=ze.text,Fn=ze.mutex.isHex||!1;var f=Ge[xt].encoding;f!=="WinAnsiEncoding"&&f!=="StandardEncoding"||(O=Sa(O,function(le,xe,Ne){return[xn(le),xe,Ne]})),rt=To(O),O=[];for(var p,x,w,E=Array.isArray(rt[0])?1:0,_="",L=function(le,xe,Ne){var Ee="";return Ne instanceof Et?(Ne=typeof Ae.angle=="number"?an(Ne,new Et(1,0,0,1,le,xe)):an(new Et(1,0,0,1,le,xe),Ne),T===F&&(Ne=an(new Et(1,0,0,-1,0,0),Ne)),Ee=Ne.join(" ")+` Tm
`):Ee=U(le)+" "+U(xe)+` Td
`,Ee},W=0;W<rt.length;W++){switch(_="",E){case 1:w=(Fn?"<":"(")+rt[W][0]+(Fn?">":")"),p=parseFloat(rt[W][1]),x=parseFloat(rt[W][2]);break;case 0:w=(Fn?"<":"(")+rt[W]+(Fn?">":")"),p=dr(se),x=kn(we)}Ws!==void 0&&Ws[W]!==void 0&&(_=Ws[W]+` Tw
`),W===0?O.push(_+L(p,x,rs)+w):E===0?O.push(_+w):E===1&&O.push(_+L(p,x,rs)+w)}O=E===0?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var re=`BT
/`;return re+=xt+" "+Qe+` Tf
`,re+=U(Qe*Gt)+` TL
`,re+=Wc+`
`,re+=yr,re+=O,he(re+="ET"),y[xt]=!0,ur};var ye=g.__private__.clip=g.clip=function(O){return he(O==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return ye("evenodd")},g.__private__.discardPath=g.discardPath=function(){return he("n"),this};var _t=g.__private__.isValidStyle=function(O){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(se=!0),se};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(O){return _t(O)&&(u=O),this};var ls=g.__private__.getStyle=g.getStyle=function(O){var se=u;switch(O){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=O}return se},mi=g.close=function(){return he("h"),this};g.stroke=function(){return he("S"),this},g.fill=function(O){return Gl("f",O),this},g.fillEvenOdd=function(O){return Gl("f*",O),this},g.fillStroke=function(O){return Gl("B",O),this},g.fillStrokeEvenOdd=function(O){return Gl("B*",O),this};var Gl=function(O,se){en(se)==="object"?Jt(se,O):he(O)},Hc=function(O){O===null||T===F&&O===void 0||(O=ls(O),he(O))};function Li(O,se,we,Ae,Ie){var ze=new qf(se||this.boundingBox,we||this.xStep,Ae||this.yStep,this.gState,Ie||this.matrix);ze.stream=this.stream;var rt=O+"$$"+this.cloneIndex+++"$$";return Gr(rt,ze),ze}var Jt=function(O,se){var we=mt[O.key],Ae=at[we];if(Ae instanceof th)he("q"),he(Tn(se)),Ae.gState&&g.setGState(Ae.gState),he(O.matrix.toString()+" cm"),he("/"+we+" sh"),he("Q");else if(Ae instanceof qf){var Ie=new Et(1,0,0,-1,0,Sr());O.matrix&&(Ie=Ie.multiply(O.matrix||ms),we=Li.call(Ae,O.key,O.boundingBox,O.xStep,O.yStep,Ie).id),he("q"),he("/Pattern cs"),he("/"+we+" scn"),Ae.gState&&g.setGState(Ae.gState),he(se),he("Q")}},Tn=function(O){switch(O){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},YA=g.moveTo=function(O,se){return he(U(J(O))+" "+U(ne(se))+" m"),this},Vc=g.lineTo=function(O,se){return he(U(J(O))+" "+U(ne(se))+" l"),this},Io=g.curveTo=function(O,se,we,Ae,Ie,ze){return he([U(J(O)),U(ne(se)),U(J(we)),U(ne(Ae)),U(J(Ie)),U(ne(ze)),"c"].join(" ")),this};g.__private__.line=g.line=function(O,se,we,Ae,Ie){if(isNaN(O)||isNaN(se)||isNaN(we)||isNaN(Ae)||!_t(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return T===N?this.lines([[we-O,Ae-se]],O,se,[1,1],Ie||"S"):this.lines([[we-O,Ae-se]],O,se,[1,1]).stroke()},g.__private__.lines=g.lines=function(O,se,we,Ae,Ie,ze){var rt,Ot,Kt,mr,br,zr,Br,rs,ur,ns,Fn,yr;if(typeof O=="number"&&(yr=we,we=se,se=O,O=yr),Ae=Ae||[1,1],ze=ze||!1,isNaN(se)||isNaN(we)||!Array.isArray(O)||!Array.isArray(Ae)||!_t(Ie)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(YA(se,we),rt=Ae[0],Ot=Ae[1],mr=O.length,ns=se,Fn=we,Kt=0;Kt<mr;Kt++)(br=O[Kt]).length===2?(ns=br[0]*rt+ns,Fn=br[1]*Ot+Fn,Vc(ns,Fn)):(zr=br[0]*rt+ns,Br=br[1]*Ot+Fn,rs=br[2]*rt+ns,ur=br[3]*Ot+Fn,ns=br[4]*rt+ns,Fn=br[5]*Ot+Fn,Io(zr,Br,rs,ur,ns,Fn));return ze&&mi(),Hc(Ie),this},g.path=function(O){for(var se=0;se<O.length;se++){var we=O[se],Ae=we.c;switch(we.op){case"m":YA(Ae[0],Ae[1]);break;case"l":Vc(Ae[0],Ae[1]);break;case"c":Io.apply(this,Ae);break;case"h":mi()}}return this},g.__private__.rect=g.rect=function(O,se,we,Ae,Ie){if(isNaN(O)||isNaN(se)||isNaN(we)||isNaN(Ae)||!_t(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return T===N&&(Ae=-Ae),he([U(J(O)),U(ne(se)),U(J(we)),U(J(Ae)),"re"].join(" ")),Hc(Ie),this},g.__private__.triangle=g.triangle=function(O,se,we,Ae,Ie,ze,rt){if(isNaN(O)||isNaN(se)||isNaN(we)||isNaN(Ae)||isNaN(Ie)||isNaN(ze)||!_t(rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-O,Ae-se],[Ie-we,ze-Ae],[O-Ie,se-ze]],O,se,[1,1],rt,!0),this},g.__private__.roundedRect=g.roundedRect=function(O,se,we,Ae,Ie,ze,rt){if(isNaN(O)||isNaN(se)||isNaN(we)||isNaN(Ae)||isNaN(Ie)||isNaN(ze)||!_t(rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ot=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*we),ze=Math.min(ze,.5*Ae),this.lines([[we-2*Ie,0],[Ie*Ot,0,Ie,ze-ze*Ot,Ie,ze],[0,Ae-2*ze],[0,ze*Ot,-Ie*Ot,ze,-Ie,ze],[2*Ie-we,0],[-Ie*Ot,0,-Ie,-ze*Ot,-Ie,-ze],[0,2*ze-Ae],[0,-ze*Ot,Ie*Ot,-ze,Ie,-ze]],O+Ie,se,[1,1],rt,!0),this},g.__private__.ellipse=g.ellipse=function(O,se,we,Ae,Ie){if(isNaN(O)||isNaN(se)||isNaN(we)||isNaN(Ae)||!_t(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*we,rt=4/3*(Math.SQRT2-1)*Ae;return YA(O+we,se),Io(O+we,se-rt,O+ze,se-Ae,O,se-Ae),Io(O-ze,se-Ae,O-we,se-rt,O-we,se),Io(O-we,se+rt,O-ze,se+Ae,O,se+Ae),Io(O+ze,se+Ae,O+we,se+rt,O+we,se),Hc(Ie),this},g.__private__.circle=g.circle=function(O,se,we,Ae){if(isNaN(O)||isNaN(se)||isNaN(we)||!_t(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,se,we,we,Ae)},g.setFont=function(O,se,we){return we&&(se=P(se,we)),xt=kr(O,se,{disableWarning:!1}),this};var ZA=g.__private__.getFont=g.getFont=function(){return Ge[kr.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var O,se,we={};for(O in jt)if(jt.hasOwnProperty(O))for(se in we[O]=[],jt[O])jt[O].hasOwnProperty(se)&&we[O].push(se);return we},g.addFont=function(O,se,we,Ae,Ie){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(we=P(we,Ae)),tt.call(this,O,se,we,Ie=Ie||"Identity-H")};var cl,Qd=e.lineWidth||.200025,Mt=g.__private__.getLineWidth=g.getLineWidth=function(){return Qd},Kc=g.__private__.setLineWidth=g.setLineWidth=function(O){return Qd=O,he(U(J(O))+" w"),this};g.__private__.setLineDash=Xt.API.setLineDash=Xt.API.setLineDashPattern=function(O,se){if(O=O||[],se=se||0,isNaN(se)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(we){return U(J(we))}).join(" "),se=U(J(se)),he("["+O+"] "+se+" d"),this};var Fo=g.__private__.getLineHeight=g.getLineHeight=function(){return Qe*cl};g.__private__.getLineHeight=g.getLineHeight=function(){return Qe*cl};var ar=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(cl=O),this},bm=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return cl};ar(e.lineHeight);var dr=g.__private__.getHorizontalCoordinate=function(O){return J(O)},kn=g.__private__.getVerticalCoordinate=function(O){return T===F?O:Dt[Z].mediaBox.topRightY-Dt[Z].mediaBox.bottomLeftY-J(O)},Cm=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(O){return U(dr(O))},Hd=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(O){return U(kn(O))},Gc=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Wn(Gc)},g.__private__.setStrokeColor=g.setDrawColor=function(O,se,we,Ae){return Gc=ni({ch1:O,ch2:se,ch3:we,ch4:Ae,pdfColorType:"draw",precision:2}),he(Gc),this};var Za=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Wn(Za)},g.__private__.setFillColor=g.setFillColor=function(O,se,we,Ae){return Za=ni({ch1:O,ch2:se,ch3:we,ch4:Ae,pdfColorType:"fill",precision:2}),he(Za),this};var Wc=e.textColor||"0 g",jo=g.__private__.getTextColor=g.getTextColor=function(){return Wn(Wc)};g.__private__.setTextColor=g.setTextColor=function(O,se,we,Ae){return Wc=ni({ch1:O,ch2:se,ch3:we,ch4:Ae,pdfColorType:"text",precision:3}),this};var _o=e.charSpace,zc=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(_o||0)};g.__private__.setCharSpace=g.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _o=O,this};var JA=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(O){var se=g.CapJoinStyles[O];if(se===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return JA=se,he(se+" J"),this};var Al=0;g.__private__.setLineJoin=g.setLineJoin=function(O){var se=g.CapJoinStyles[O];if(se===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Al=se,he(se+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(U(J(O))+" M"),this},g.GState=Hw,g.setGState=function(O){(O=typeof O=="string"?yt[Kr[O]]:Ja(null,O)).equals($t)||(he("/"+O.id+" gs"),$t=O)};var Ja=function(O,se){if(!O||!Kr[O]){var we=!1;for(var Ae in yt)if(yt.hasOwnProperty(Ae)&&yt[Ae].equals(se)){we=!0;break}if(we)se=yt[Ae];else{var Ie="GS"+(Object.keys(yt).length+1).toString(10);yt[Ie]=se,se.id=Ie}return O&&(Kr[O]=se.id),Tr.publish("addGState",se),se}};g.addGState=function(O,se){return Ja(O,se),this},g.saveGraphicsState=function(){return he("q"),$e.push({key:xt,size:Qe,color:Wc}),this},g.restoreGraphicsState=function(){he("Q");var O=$e.pop();return xt=O.key,Qe=O.size,Wc=O.color,$t=null,this},g.setCurrentTransformationMatrix=function(O){return he(O.toString()+" cm"),this},g.comment=function(O){return he("#"+O),this};var gs=function(O,se){var we=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(ze){isNaN(ze)||(we=parseFloat(ze))}});var Ae=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(ze){isNaN(ze)||(Ae=parseFloat(ze))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(ze){Ie=ze.toString()}}),this},eu=function(O,se,we,Ae){gs.call(this,O,se),this.type="rect";var Ie=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(rt){isNaN(rt)||(Ie=parseFloat(rt))}});var ze=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(rt){isNaN(rt)||(ze=parseFloat(rt))}}),this},$c=function(){this.page=sr,this.currentPage=Z,this.pages=ke.slice(0),this.pagesContext=Dt.slice(0),this.x=Bt,this.y=Mr,this.matrix=Yt,this.width=Vd(Z),this.height=Sr(Z),this.outputDestination=Se,this.id="",this.objectNumber=-1};$c.prototype.restore=function(){sr=this.page,Z=this.currentPage,Dt=this.pagesContext,ke=this.pages,Bt=this.x,Mr=this.y,Yt=this.matrix,Kd(Z,this.width),eo(Z,this.height),Se=this.outputDestination};var tu=function(O,se,we,Ae,Ie){sn.push(new $c),sr=Z=0,ke=[],Bt=O,Mr=se,Yt=Ie,En([we,Ae])};for(var qc in g.beginFormObject=function(O,se,we,Ae,Ie){return tu(O,se,we,Ae,Ie),this},g.endFormObject=function(O){return function(se){if(ir[se])sn.pop().restore();else{var we=new $c,Ae="Xo"+(Object.keys(lr).length+1).toString(10);we.id=Ae,ir[se]=Ae,lr[Ae]=we,Tr.publish("addFormObject",we),sn.pop().restore()}}(O),this},g.doFormObject=function(O,se){var we=lr[ir[O]];return he("q"),he(se.toString()+" cm"),he("/"+we.id+" Do"),he("Q"),this},g.getFormObject=function(O){var se=lr[ir[O]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},g.save=function(O,se){return O=O||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(Yd(gn(ll()),O),typeof Yd.unload=="function"&&xr.setTimeout&&setTimeout(Yd.unload,911),this):new Promise(function(we,Ae){try{var Ie=Yd(gn(ll()),O);typeof Yd.unload=="function"&&xr.setTimeout&&setTimeout(Yd.unload,911),we(Ie)}catch(ze){Ae(ze.message)}})},Xt.API)Xt.API.hasOwnProperty(qc)&&(qc==="events"&&Xt.API.events.length?function(O,se){var we,Ae,Ie;for(Ie=se.length-1;Ie!==-1;Ie--)we=se[Ie][0],Ae=se[Ie][1],O.subscribe.apply(O,[we].concat(typeof Ae=="function"?[Ae]:Ae))}(Tr,Xt.API.events):g[qc]=Xt.API[qc]);var Vd=g.getPageWidth=function(O){return(Dt[O=O||Z].mediaBox.topRightX-Dt[O].mediaBox.bottomLeftX)/Lt},Kd=g.setPageWidth=function(O,se){Dt[O].mediaBox.topRightX=se*Lt+Dt[O].mediaBox.bottomLeftX},Sr=g.getPageHeight=function(O){return(Dt[O=O||Z].mediaBox.topRightY-Dt[O].mediaBox.bottomLeftY)/Lt},eo=g.setPageHeight=function(O,se){Dt[O].mediaBox.topRightY=se*Lt+Dt[O].mediaBox.bottomLeftY};return g.internal={pdfEscape:Na,getStyle:ls,getFont:ZA,getFontSize:Ke,getCharSpace:zc,getTextColor:jo,getLineHeight:Fo,getLineHeightFactor:bm,getLineWidth:Mt,write:ft,getHorizontalCoordinate:dr,getVerticalCoordinate:kn,getCoordinateString:Cm,getVerticalCoordinateString:Hd,collections:{},newObject:Dr,newAdditionalObject:Ct,newObjectDeferred:Un,newObjectDeferredBegin:hn,getFilters:ki,putStream:hi,events:Tr,scaleFactor:Lt,pageSize:{getWidth:function(){return Vd(Z)},setWidth:function(O){Kd(Z,O)},getHeight:function(){return Sr(Z)},setHeight:function(O){eo(Z,O)}},encryptionOptions:h,encryption:In,getEncryptor:function(O){return h!==null?In.encryptor(O,0):function(se){return se}},output:Us,getNumberOfPages:Qr,pages:ke,out:he,f2:R,f3:H,getPageInfo:on,getPageInfoByObjId:Ms,getCurrentPageInfo:Me,getPDFVersion:C,Point:gs,Rectangle:eu,Matrix:Et,hasHotfix:Qc},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Vd(Z)},set:function(O){Kd(Z,O)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Sr(Z)},set:function(O){eo(Z,O)},enumerable:!0,configurable:!0}),(function(O){for(var se=0,we=Je.length;se<we;se++){var Ae=tt.call(this,O[se][0],O[se][1],O[se][2],Je[se][3],!0);m===!1&&(y[Ae]=!0);var Ie=O[se][0].split("-");XA({id:Ae,fontName:Ie[0],fontStyle:Ie[1]||""})}Tr.publish("addFonts",{fonts:Ge,dictionary:jt})}).call(g,Je),xt="F1",ol(s,r),Tr.publish("initialized"),g}kf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},kf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},kf.prototype.processOwnerPassword=function(e,t){return PB(LB(t).substr(0,5),e)},kf.prototype.encryptor=function(e,t){var r=LB(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return PB(r,n)}},Hw.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||en(e)!==en(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Xt.API={events:[]},Xt.version="3.0.2";var bs=Xt.API,HS=1,Af=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Cr=function(e){return e.toFixed(2)},xu=function(e){return e.toFixed(5)};bs.__acroform__={};var qa=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},N8=function(e){return e*HS},ec=function(e){var t=new bU,r=Qt.internal.getHeight(e)||0,n=Qt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Cr(n)),Number(Cr(r))],t},Kle=bs.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Gle=bs.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Wle=bs.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ps=bs.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Wle(e,t-1)},Os=bs.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Kle(e,t-1)},Rs=bs.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Gle(e,t-1)},zle=bs.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],A={};return A.lowerLeft_X=r(s)||0,A.lowerLeft_Y=n(i+l)||0,A.upperRight_X=r(s+o)||0,A.upperRight_Y=n(i)||0,[Number(Cr(A.lowerLeft_X)),Number(Cr(A.lowerLeft_Y)),Number(Cr(A.upperRight_X)),Number(Cr(A.upperRight_Y))]},$le=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=OB(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Cr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ec(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},OB=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(R){return R.split(`
`)}):s.map(function(R){return[R]});var i=r,o=Qt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Qt.internal.getWidth(e)||0;l=l<0?-l:l;var A=function(R,H,J){if(R+1<s.length){var ne=H+" "+s[R+1][0];return Nx(ne,e,J).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,h,m=Nx("3",e,i).height,y=e.multiline?o-i:(o-m)/2,g=y+=2,b=0,C=0,I=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Nx(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var v="",N=0,F=0;F<s.length;F++)if(s.hasOwnProperty(F)){var T=!1;if(s[F].length!==1&&I!==s[F].length-1){if((m+2)*(N+2)+2>o)continue e;v+=s[F][I],T=!0,C=F,F--}else{v=(v+=s[F][I]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var D=parseInt(F),V=A(D,v,i),P=F>=s.length-1;if(V&&!P){v+=" ",I=0;continue}if(V||P){if(P)C=D;else if(e.multiline&&(m+2)*(N+2)+2>o)continue e}else{if(!e.multiline||(m+2)*(N+2)+2>o)continue e;C=D}}for(var U="",k=b;k<=C;k++){var z=s[k];if(e.multiline){if(k===C){U+=z[I]+" ",I=(I+1)%z.length;continue}if(k===b){U+=z[z.length-1]+" ";continue}}U+=z[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,h=Nx(U,e,i).width,e.textAlign){case"right":u=l-h-2;break;case"center":u=(l-h)/2;break;default:u=2}t+=Cr(u)+" "+Cr(g)+` Td
`,t+="("+Af(U)+`) Tj
`,t+=-Cr(u)+` 0 Td
`,g=-(i+2),h=0,b=T?C:C+1,N++,v=""}break}return n.text=t,n.fontSize=i,n},Nx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},qle={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Xle=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Yle=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ml.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(qle)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");HS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new CU,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&Xle(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],A=[],u=l.Rect;if(l.Rect&&(l.Rect=zle(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Qt.createDefaultAppearanceStream(l),en(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(A=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=$le(l);A.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var g=l.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var b=g[o];typeof b=="function"&&(b=b.call(s,l)),m+="/"+o+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(s,l)),m+="/"+o+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);m+=">>"}A.push({key:"AP",value:`<<
`+m+">>"})}s.internal.putStream({additionalKeyValues:A,objectId:l.objId}),s.internal.out("endobj")}i&&function(C,I){for(var v in C)if(C.hasOwnProperty(v)){var N=v,F=C[v];I.internal.newObjectDeferredBegin(F.objId,!0),en(F)==="object"&&typeof F.putStream=="function"&&F.putStream(),delete C[N]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},vU=bs.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),en(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Af(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},EC=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Af(n(e))+")"},uc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};uc.prototype.toString=function(){return this.objId+" 0 R"},uc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},uc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:vU(s,this.objId,this.scope)}):s instanceof uc?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var bU=function(){uc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};qa(bU,uc);var CU=function(){uc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Af(r(e))+")"}},set:function(r){e=r}})};qa(CU,uc);var Ml=function e(){uc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ps(t,3)},set:function(v){v?this.F=Os(t,3):this.F=Rs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Vw)return;i="FieldObject"+e.FieldNum++}var v=function(N){return N};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Af(v(i))+")"},set:function(v){i=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(v){i=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(v){A=v}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/HS:u},set:function(v){u=v}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(v){h=v}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Vw||this instanceof Ih))return EC(m,this.objId,this.scope)},set:function(v){v=v.toString(),m=v}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ai==0?EC(y,this.objId,this.scope):y},set:function(v){v=v.toString(),y=this instanceof Ai==0?v.substr(0,1)==="("?wf(v.substr(1,v.length-2)):wf(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ai==1?wf(y.substr(1,y.length-1)):y},set:function(v){v=v.toString(),y=this instanceof Ai==1?"/"+v:v}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ai==0?EC(g,this.objId,this.scope):g},set:function(v){v=v.toString(),g=this instanceof Ai==0?v.substr(0,1)==="("?wf(v.substr(1,v.length-2)):wf(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ai==1?wf(g.substr(1,g.length-1)):g},set:function(v){v=v.toString(),g=this instanceof Ai==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(v){v=!!v,C=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(v){b=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,1)},set:function(v){v?this.Ff=Os(this.Ff,1):this.Ff=Rs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,2)},set:function(v){v?this.Ff=Os(this.Ff,2):this.Ff=Rs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,3)},set:function(v){v?this.Ff=Os(this.Ff,3):this.Ff=Rs(this.Ff,3)}});var I=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(I!==null)return I},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');I=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(I){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:I=2;break;case"center":case 1:I=1;break;default:I=0}}})};qa(Ml,uc);var f0=function(){Ml.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return vU(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,o,l){l||(l=1);for(var A,u=[];A=o.exec(i);)u.push(A[l]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,18)},set:function(r){r?this.Ff=Os(this.Ff,18):this.Ff=Rs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Os(this.Ff,19):this.Ff=Rs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,20)},set:function(r){r?(this.Ff=Os(this.Ff,20),t.sort()):this.Ff=Rs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,22)},set:function(r){r?this.Ff=Os(this.Ff,22):this.Ff=Rs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,23)},set:function(r){r?this.Ff=Os(this.Ff,23):this.Ff=Rs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,27)},set:function(r){r?this.Ff=Os(this.Ff,27):this.Ff=Rs(this.Ff,27)}}),this.hasAppearanceStream=!1};qa(f0,Ml);var m0=function(){f0.call(this),this.fontName="helvetica",this.combo=!1};qa(m0,f0);var p0=function(){m0.call(this),this.combo=!0};qa(p0,m0);var ky=function(){p0.call(this),this.edit=!0};qa(ky,p0);var Ai=function(){Ml.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,15)},set:function(r){r?this.Ff=Os(this.Ff,15):this.Ff=Rs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,16)},set:function(r){r?this.Ff=Os(this.Ff,16):this.Ff=Rs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,17)},set:function(r){r?this.Ff=Os(this.Ff,17):this.Ff=Rs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,26)},set:function(r){r?this.Ff=Os(this.Ff,26):this.Ff=Rs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Af(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){en(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};qa(Ai,Ml);var Ly=function(){Ai.call(this),this.pushButton=!0};qa(Ly,Ai);var g0=function(){Ai.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};qa(g0,Ai);var Vw=function(){var e,t;Ml.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Af(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){en(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qa(Vw,Ml),g0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},g0.prototype.createOption=function(e){var t=new Vw;return t.Parent=this,t.optionName=e,this.Kids.push(t),Zle.call(this.scope,t),t};var Py=function(){Ai.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qt.CheckBox.createAppearanceStream()};qa(Py,Ai);var Ih=function(){Ml.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,13)},set:function(t){t?this.Ff=Os(this.Ff,13):this.Ff=Rs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,21)},set:function(t){t?this.Ff=Os(this.Ff,21):this.Ff=Rs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,23)},set:function(t){t?this.Ff=Os(this.Ff,23):this.Ff=Rs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,24)},set:function(t){t?this.Ff=Os(this.Ff,24):this.Ff=Rs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,25)},set:function(t){t?this.Ff=Os(this.Ff,25):this.Ff=Rs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,26)},set:function(t){t?this.Ff=Os(this.Ff,26):this.Ff=Rs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qa(Ih,Ml);var Oy=function(){Ih.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ps(this.Ff,14)},set:function(e){e?this.Ff=Os(this.Ff,14):this.Ff=Rs(this.Ff,14)}}),this.password=!0};qa(Oy,Ih);var Qt={CheckBox:{createAppearanceStream:function(){return{N:{On:Qt.CheckBox.YesNormal},D:{On:Qt.CheckBox.YesPushDown,Off:Qt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ec(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=OB(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Cr(Qt.internal.getWidth(e))+" "+Cr(Qt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Cr(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ec(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Qt.internal.getHeight(e),o=Qt.internal.getWidth(e),l=OB(e,e.caption);return s.push("1 g"),s.push("0 0 "+Cr(o)+" "+Cr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Cr(o-1)+" "+Cr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Cr(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=ec(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Cr(Qt.internal.getWidth(e))+" "+Cr(Qt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Qt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Qt.RadioButton.Circle.YesNormal,t.D[e]=Qt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ec(e);t.scope=e.scope;var r=[],n=Qt.internal.getWidth(e)<=Qt.internal.getHeight(e)?Qt.internal.getWidth(e)/4:Qt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Qt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xu(Qt.internal.getWidth(e)/2)+" "+xu(Qt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ec(e);t.scope=e.scope;var r=[],n=Qt.internal.getWidth(e)<=Qt.internal.getHeight(e)?Qt.internal.getWidth(e)/4:Qt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Qt.internal.Bezier_C).toFixed(5)),o=Number((n*Qt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xu(Qt.internal.getWidth(e)/2)+" "+xu(Qt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xu(Qt.internal.getWidth(e)/2)+" "+xu(Qt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ec(e);t.scope=e.scope;var r=[],n=Qt.internal.getWidth(e)<=Qt.internal.getHeight(e)?Qt.internal.getWidth(e)/4:Qt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Qt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xu(Qt.internal.getWidth(e)/2)+" "+xu(Qt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Qt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Qt.RadioButton.Cross.YesNormal,t.D[e]=Qt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ec(e);t.scope=e.scope;var r=[],n=Qt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Cr(Qt.internal.getWidth(e)-2)+" "+Cr(Qt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Cr(n.x1.x)+" "+Cr(n.x1.y)+" m"),r.push(Cr(n.x2.x)+" "+Cr(n.x2.y)+" l"),r.push(Cr(n.x4.x)+" "+Cr(n.x4.y)+" m"),r.push(Cr(n.x3.x)+" "+Cr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ec(e);t.scope=e.scope;var r=Qt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Cr(Qt.internal.getWidth(e))+" "+Cr(Qt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Cr(Qt.internal.getWidth(e)-2)+" "+Cr(Qt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Cr(r.x1.x)+" "+Cr(r.x1.y)+" m"),n.push(Cr(r.x2.x)+" "+Cr(r.x2.y)+" l"),n.push(Cr(r.x4.x)+" "+Cr(r.x4.y)+" m"),n.push(Cr(r.x3.x)+" "+Cr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ec(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Cr(Qt.internal.getWidth(e))+" "+Cr(Qt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Qt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Qt.internal.getWidth(e),r=Qt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Qt.internal.getWidth=function(e){var t=0;return en(e)==="object"&&(t=N8(e.Rect[2])),t},Qt.internal.getHeight=function(e){var t=0;return en(e)==="object"&&(t=N8(e.Rect[3])),t};var Zle=bs.addField=function(e){if(Yle(this,e),!(e instanceof Ml))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};bs.AcroFormChoiceField=f0,bs.AcroFormListBox=m0,bs.AcroFormComboBox=p0,bs.AcroFormEditBox=ky,bs.AcroFormButton=Ai,bs.AcroFormPushButton=Ly,bs.AcroFormRadioButton=g0,bs.AcroFormCheckBox=Py,bs.AcroFormTextField=Ih,bs.AcroFormPasswordField=Oy,bs.AcroFormAppearance=Qt,bs.AcroForm={ChoiceField:f0,ListBox:m0,ComboBox:p0,EditBox:ky,Button:Ai,PushButton:Ly,RadioButton:g0,CheckBox:Py,TextField:Ih,PasswordField:Oy,Appearance:Qt},Xt.AcroForm={ChoiceField:f0,ListBox:m0,ComboBox:p0,EditBox:ky,Button:Ai,PushButton:Ly,RadioButton:g0,CheckBox:Py,TextField:Ih,PasswordField:Oy,Appearance:Qt};function BU(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(R,H){var J,ne,Y,G,K,q=r;if((H=H||r)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(V(R))for(K in n)for(Y=n[K],J=0;J<Y.length;J+=1){for(G=!0,ne=0;ne<Y[J].length;ne+=1)if(Y[J][ne]!==void 0&&Y[J][ne]!==R[ne]){G=!1;break}if(G===!0){q=K;break}}else for(K in n)for(Y=n[K],J=0;J<Y.length;J+=1){for(G=!0,ne=0;ne<Y[J].length;ne+=1)if(Y[J][ne]!==void 0&&Y[J][ne]!==R.charCodeAt(ne)){G=!1;break}if(G===!0){q=K;break}}return q===r&&H!==r&&(q=H),q},i=function R(H){for(var J=this.internal.write,ne=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:H.width}),G.push({key:"Height",value:H.height}),H.colorSpace===v.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===v.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)){for(var K="",q=0,X=H.transparency.length;q<X;q++)K+=H.transparency[q]+" "+H.transparency[q]+" ";G.push({key:"Mask",value:"["+K+"]"})}H.sMask!==void 0&&G.push({key:"SMask",value:H.objectId+1+" 0 R"});var fe=H.filter!==void 0?["/"+H.filter]:void 0;if(ne({data:H.data,additionalKeyValues:G,alreadyAppliedFilters:fe,objectId:H.objectId}),J("endobj"),"sMask"in H&&H.sMask!==void 0){var de=(H.predictor!=null?"/Predictor "+H.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+H.width,Q={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:H.bitsPerComponent,decodeParameters:de,data:H.sMask};"filter"in H&&(Q.filter=H.filter),R.call(this,Q)}if(H.colorSpace===v.INDEXED){var Z=this.internal.newObject();ne({data:U(new Uint8Array(H.palette)),objectId:Z}),J("endobj")}},o=function(){var R=this.internal.collections[t+"images"];for(var H in R)i.call(this,R[H])},l=function(){var R,H=this.internal.collections[t+"images"],J=this.internal.write;for(var ne in H)J("/I"+(R=H[ne]).index,R.objectId,"0","R")},A=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var R=this.internal.collections[t+"images"];return A.call(this),R},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(R){return typeof e["process"+R.toUpperCase()]=="function"},y=function(R){return en(R)==="object"&&R.nodeType===1},g=function(R,H){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var J=""+R.getAttribute("src");if(J.indexOf("data:image/")===0)return Ty(unescape(J).split("base64,").pop());var ne=e.loadFile(J,!0);if(ne!==void 0)return ne}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var Y;switch(H){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return Ty(R.toDataURL(Y,1).split("base64,").pop())}},b=function(R){var H=this.internal.collections[t+"images"];if(H){for(var J in H)if(R===H[J].alias)return H[J]}},C=function(R,H,J){return R||H||(R=-96,H=-96),R<0&&(R=-1*J.width*72/R/this.internal.scaleFactor),H<0&&(H=-1*J.height*72/H/this.internal.scaleFactor),R===0&&(R=H*J.width/J.height),H===0&&(H=R*J.height/J.width),[R,H]},I=function(R,H,J,ne,Y,G){var K=C.call(this,J,ne,Y),q=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,fe=u.call(this);if(J=K[0],ne=K[1],fe[Y.index]=Y,G){G*=Math.PI/180;var de=Math.cos(G),Q=Math.sin(G),Z=function(ee){return ee.toFixed(4)},ae=[Z(de),Z(Q),Z(-1*Q),Z(de),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,q(R),X(H+ne),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([q(J),"0","0",q(ne),"0","0","cm"].join(" "))):this.internal.write([q(J),"0","0",q(ne),q(R),X(H+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},F=e.__addimage__.sHashCode=function(R){var H,J,ne=0;if(typeof R=="string")for(J=R.length,H=0;H<J;H++)ne=(ne<<5)-ne+R.charCodeAt(H),ne|=0;else if(V(R))for(J=R.byteLength/2,H=0;H<J;H++)ne=(ne<<5)-ne+R[H],ne|=0;return ne},T=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var H=!0;return R.length===0&&(H=!1),R.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(H=!1),H},D=e.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var H=R.indexOf(",");return H<0?null:R.substring(0,H).trim().endsWith("base64")?R.substring(H+1):null};e.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var V=e.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},P=e.__addimage__.binaryStringToUint8Array=function(R){for(var H=R.length,J=new Uint8Array(H),ne=0;ne<H;ne++)J[ne]=R.charCodeAt(ne);return J},U=e.__addimage__.arrayBufferToBinaryString=function(R){for(var H="",J=V(R)?R:new Uint8Array(R),ne=0;ne<J.length;ne+=8192)H+=String.fromCharCode.apply(null,J.subarray(ne,ne+8192));return H};e.addImage=function(){var R,H,J,ne,Y,G,K,q,X;if(typeof arguments[1]=="number"?(H=r,J=arguments[1],ne=arguments[2],Y=arguments[3],G=arguments[4],K=arguments[5],q=arguments[6],X=arguments[7]):(H=arguments[1],J=arguments[2],ne=arguments[3],Y=arguments[4],G=arguments[5],K=arguments[6],q=arguments[7],X=arguments[8]),en(R=arguments[0])==="object"&&!y(R)&&"imageData"in R){var fe=R;R=fe.imageData,H=fe.format||H||r,J=fe.x||J||0,ne=fe.y||ne||0,Y=fe.w||fe.width||Y,G=fe.h||fe.height||G,K=fe.alias||K,q=fe.compression||q,X=fe.rotation||fe.angle||X}var de=this.internal.getFilters();if(q===void 0&&de.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(J)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var Q=k.call(this,R,H,K,q);return I.call(this,J,ne,Y,G,Q,X),this};var k=function(R,H,J,ne){var Y,G,K;if(typeof R=="string"&&s(R)===r){R=unescape(R);var q=z(R,!1);(q!==""||(q=e.loadFile(R,!0))!==void 0)&&(R=q)}if(y(R)&&(R=g(R,H)),H=s(R,H),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((K=J)==null||K.length===0)&&(J=function(X){return typeof X=="string"||V(X)?F(X):V(X.data)?F(X.data):null}(R)),(Y=b.call(this,J))||(R instanceof Uint8Array||H==="RGBA"||(G=R,R=P(R)),Y=this["process"+H.toUpperCase()](R,h.call(this),J,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in e.image_compression?X:N.NONE}(ne),G)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},z=e.__addimage__.convertBase64ToBinaryString=function(R,H){H=typeof H!="boolean"||H;var J,ne="";if(typeof R=="string"){var Y;J=(Y=D(R))!==null&&Y!==void 0?Y:R;try{ne=Ty(J)}catch(G){if(H)throw T(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};e.getImageProperties=function(R){var H,J,ne="";if(y(R)&&(R=g(R)),typeof R=="string"&&s(R)===r&&((ne=z(R,!1))===""&&(ne=e.loadFile(R)||""),R=ne),J=s(R),!m(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(R instanceof Uint8Array||(R=P(R)),!(H=this["process"+J.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=J,H}})(Xt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Xt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,m=0;m<u.length&&!h;m++)switch((n=u[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){n=u[y];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),I=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(C.objId),N=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(v(n.contents))+")",i+=" /Popup "+I.objId+" 0 R",i+=" /P "+A.objId+" 0 R",i+=" /T ("+g(v(N))+") >>",C.content=i;var F=C.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+F,n.open&&(i+=" /Open true"),i+=" >>",I.content=i,this.internal.write(C.objId,"0 R",I.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var T=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var D=this.annotations._nameMap[n.options.name];n.options.pageNumber=D.page,n.options.top=D.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var V=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+V+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,o){var l=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:A(r),y:u(n),w:A(r+s),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,s,i){var o,l,A=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(u*h)}else l=A,o=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=A/2),i.align==="right"&&(n-=A),this.link(n,s-u,l,o,i),A},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Xt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(C){return t[C.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},l=e.__arabicParser__.isArabicEndLetter=function(C){return o(C)&&i(C)&&t[C.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(C){return o(C)&&s.indexOf(C.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return o(C)&&i(C)&&t[C.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(C){return o(C)&&i(C)&&t[C.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(C){return o(C)&&i(C)&&t[C.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(C){return o(C)&&i(C)&&t[C.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(C){var I=0,v=r,N="",F=0;for(I=0;I<C.length;I+=1)v[C.charCodeAt(I)]!==void 0?(F++,typeof(v=v[C.charCodeAt(I)])=="number"&&(N+=String.fromCharCode(v),v=r,F=0),I===C.length-1&&(v=r,N+=C.charAt(I-(F-1)),I-=F-1,F=0)):(v=r,N+=C.charAt(I-F),I-=F,F=0);return N};e.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&n[C.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(C,I,v){return o(C)?i(C)===!1?-1:!u(C)||!o(I)&&!o(v)||!o(v)&&l(I)||l(C)&&!o(I)||l(C)&&A(I)||l(C)&&l(I)?0:h(C)&&o(I)&&!l(I)&&o(v)&&u(v)?3:l(C)||!o(v)?1:2:-1},g=function(C){var I=0,v=0,N=0,F="",T="",D="",V=(C=C||"").split("\\s+"),P=[];for(I=0;I<V.length;I+=1){for(P.push(""),v=0;v<V[I].length;v+=1)F=V[I][v],T=V[I][v-1],D=V[I][v+1],o(F)?(N=y(F,T,D),P[I]+=N!==-1?String.fromCharCode(t[F.charCodeAt(0)][N]):F):P[I]+=F;P[I]=m(P[I])}return P.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var C,I=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(I)){var N=0;for(v=[],N=0;N<I.length;N+=1)Array.isArray(I[N])?v.push([g(I[N][0]),I[N][1],I[N][2]]):v.push([g(I[N])]);C=v}else C=g(I);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};e.events.push(["preProcessText",b])}(Xt.API),Xt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Xt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(C){A=C}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(C){u=C}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(C){h=C}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(C){m=C}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(C){y=C}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(C){b=C}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(A){return n.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},e.getTextDimensions=function(A,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,g=0,b=0,C=0,I=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var v=u.maxWidth;v>0?typeof A=="string"?A=this.splitTextToSize(A,v):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(F,T){return F.concat(I.splitTextToSize(T,v))},[])):A=Array.isArray(A)?A:[A];for(var N=0;N<A.length;N++)g<(C=this.getStringUnitWidth(A[N],{font:m})*h)&&(g=C);return g!==0&&(b=A.length),{w:g/=y,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var A=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var A;A=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===A.lineNumber?(A.x=(u.x||0)+(u.width||0),A.y=u.y||0):u.y+u.height+A.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=m.top,g&&y&&(this.printHeaderRow(A.lineNumber,!0),A.y+=y[0].height)):A.y=u.y+u.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,r===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-h,A.y+h,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+h,{align:"center",baseline:"top",maxWidth:A.width-h-h}):this.text(A.text,A.x+h,A.y+h,{align:"left",baseline:"top",maxWidth:A.width-h-h})),this.internal.__cell__.lastCell=A,this};e.table=function(A,u,h,m,y){if(n.call(this),!h)throw new Error("No data for PDF table.");var g,b,C,I,v=[],N=[],F=[],T={},D={},V=[],P=[],U=(y=y||{}).autoSize||!1,k=y.printHeaders!==!1,z=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,R=y.margins||Object.assign({width:this.getPageWidth()},t),H=typeof y.padding=="number"?y.padding:3,J=y.headerBackgroundColor||"#c8c8c8",ne=y.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=ne,this.setFontSize(z),m==null)N=v=Object.keys(h[0]),F=v.map(function(){return"left"});else if(Array.isArray(m)&&en(m[0])==="object")for(v=m.map(function(fe){return fe.name}),N=m.map(function(fe){return fe.prompt||fe.name||""}),F=m.map(function(fe){return fe.align||"left"}),g=0;g<m.length;g+=1)D[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(N=v=m,F=v.map(function(){return"left"}));if(U||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<v.length;g+=1){for(T[I=v[g]]=h.map(function(fe){return fe[I]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(N[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=T[I],this.setFont(void 0,"normal"),C=0;C<b.length;C+=1)V.push(this.getTextDimensions(b[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[I]=Math.max.apply(null,V)+H+H,V=[]}if(k){var Y={};for(g=0;g<v.length;g+=1)Y[v[g]]={},Y[v[g]].text=N[g],Y[v[g]].align=F[g];var G=l.call(this,Y,D);P=v.map(function(fe){return new i(A,u,D[fe],G,Y[fe].text,void 0,Y[fe].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var K=m.reduce(function(fe,de){return fe[de.name]=de.align,fe},{});for(g=0;g<h.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:h[g]},this);var q=l.call(this,h[g],D);for(C=0;C<v.length;C+=1){var X=h[g][v[C]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:C,data:X},this),o.call(this,new i(A,u,D[v[C]],q,X,g+2,K[v[C]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=u,this};var l=function(A,u){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(A).map(function(g){var b=A[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[g]-h-h)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/y+h+h},this).reduce(function(g,b){return Math.max(g,b)},0)};e.setTableHeaderRow=function(A){n.call(this),this.internal.__cell__.tableHeaderRow=A},e.printHeaderRow=function(A,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){h=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,y.push(h)),h.lineNumber=A;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(b)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(Xt.API);var NU={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},SU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],RB=BU(SU),EU=[100,200,300,400,500,600,700,800,900],Jle=BU(EU);function IC(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return NU[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof RB[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function S8(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var ece={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},E8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function I8(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function F8(e){return e.trimLeft()}function tce(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function rce(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Sx,j8,_8,vf,Ex,T8,k8,L8,FC=["times"];function P8(e,t,r,n){var s=4,i=R8;switch(n){case Xt.API.image_compression.FAST:s=1,i=O8;break;case Xt.API.image_compression.MEDIUM:s=6,i=D8;break;case Xt.API.image_compression.SLOW:s=9,i=U8}e=function(l,A,u,h){for(var m,y=l.length/A,g=new Uint8Array(l.length+y),b=[nce,O8,R8,D8,U8],C=0;C<y;C+=1){var I=C*A,v=l.subarray(I,I+A);if(h)g.set(h(v,u,m),I+C);else{for(var N=b.length,F=[],T=0;T<N;T+=1)F[T]=b[T](v,u,m);var D=ice(F.concat());g.set(F[D],I+C)}m=v}return g}(e,t,r,i);var o=BB(e,{level:s});return Xt.API.__addimage__.arrayBufferToBinaryString(o)}function nce(e){var t=Array.apply([],e);return t.unshift(0),t}function O8(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function R8(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function D8(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function U8(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var o=sce(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function sce(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function ice(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function jC(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),o=(1<<r)-1;return IU(e,s)>>i&o}function M8(e,t,r,n){var s=r*n,i=Math.floor(s/8),o=16-(s-8*i+n),l=(1<<n)-1,A=(t&l)<<o;(function(u,h,m){if(h+1<u.byteLength)u.setUint16(h,m,!1);else{var y=m>>8&255;u.setUint8(h,y)}})(e,i,IU(e,i)&~(l<<o)&65535|A)}function IU(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function ace(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,A=null;i&&(l=t,A=o,t+=3*o);var u=!0,h=[],m=0,y=null,g=0,b=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var C=e[t++];m=e[t++]|e[t++]<<8,y=e[t++],1&C||(y=null),g=C>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var I=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,F=e[t++]|e[t++]<<8,T=e[t++],D=T>>6&1,V=1<<1+(7&T),P=l,U=A,k=!1;T>>7&&(k=!0,P=t,U=V,t+=3*V);var z=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}h.push({x:I,y:v,width:N,height:F,has_local_palette:k,palette_offset:P,palette_size:U,data_offset:z,data_length:t-z,transparent_index:y,interlaced:!!D,delay:m,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(H){if(H<0||H>=h.length)throw new Error("Frame index out of range.");return h[H]},this.decodeAndBlitFrameBGRA=function(H,J){var ne=this.frameInfo(H),Y=ne.width*ne.height,G=new Uint8Array(Y);Q8(e,ne.data_offset,G,Y);var K=ne.palette_offset,q=ne.transparent_index;q===null&&(q=256);var X=ne.width,fe=r-X,de=X,Q=4*(ne.y*r+ne.x),Z=4*((ne.y+ne.height)*r+ne.x),ae=Q,ee=4*fe;ne.interlaced===!0&&(ee+=4*r*7);for(var oe=8,pe=0,Be=G.length;pe<Be;++pe){var _e=G[pe];if(de===0&&(de=X,(ae+=ee)>=Z&&(ee=4*fe+4*r*(oe-1),ae=Q+(X+fe)*(oe<<1),oe>>=1)),_e===q)ae+=4;else{var Le=e[K+3*_e],ke=e[K+3*_e+1],Oe=e[K+3*_e+2];J[ae++]=Oe,J[ae++]=ke,J[ae++]=Le,J[ae++]=255}--de}},this.decodeAndBlitFrameRGBA=function(H,J){var ne=this.frameInfo(H),Y=ne.width*ne.height,G=new Uint8Array(Y);Q8(e,ne.data_offset,G,Y);var K=ne.palette_offset,q=ne.transparent_index;q===null&&(q=256);var X=ne.width,fe=r-X,de=X,Q=4*(ne.y*r+ne.x),Z=4*((ne.y+ne.height)*r+ne.x),ae=Q,ee=4*fe;ne.interlaced===!0&&(ee+=4*r*7);for(var oe=8,pe=0,Be=G.length;pe<Be;++pe){var _e=G[pe];if(de===0&&(de=X,(ae+=ee)>=Z&&(ee=4*fe+4*r*(oe-1),ae=Q+(X+fe)*(oe<<1),oe>>=1)),_e===q)ae+=4;else{var Le=e[K+3*_e],ke=e[K+3*_e+1],Oe=e[K+3*_e+2];J[ae++]=Le,J[ae++]=ke,J[ae++]=Oe,J[ae++]=255}--de}}}function Q8(e,t,r,n){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,A=s+1,u=(1<<A)-1,h=0,m=0,y=0,g=e[t++],b=new Int32Array(4096),C=null;;){for(;h<16&&g!==0;)m|=e[t++]<<h,h+=8,g===1?g=e[t++]:--g;if(h<A)break;var I=m&u;if(m>>=A,h-=A,I!==i){if(I===o)break;for(var v=I<l?I:C,N=0,F=v;F>i;)F=b[F]>>8,++N;var T=F;if(y+N+(v!==I?1:0)>n)return void Pn.log("Warning, gif stream longer than expected.");r[y++]=T;var D=y+=N;for(v!==I&&(r[y++]=T),F=v;N--;)F=b[F],r[--D]=255&F,F>>=8;C!==null&&l<4096&&(b[l++]=C<<8|T,l>=u+1&&A<12&&(++A,u=u<<1|1)),C=I}else l=o+1,u=(1<<(A=s+1))-1,C=null}return y!==n&&Pn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _C(e){var t,r,n,s,i,o=Math.floor,l=new Array(64),A=new Array(64),u=new Array(64),h=new Array(64),m=new Array(65535),y=new Array(65535),g=new Array(64),b=new Array(64),C=[],I=0,v=7,N=new Array(64),F=new Array(64),T=new Array(64),D=new Array(256),V=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(Q,Z){for(var ae=0,ee=0,oe=new Array,pe=1;pe<=16;pe++){for(var Be=1;Be<=Q[pe];Be++)oe[Z[ee]]=[],oe[Z[ee]][0]=ae,oe[Z[ee]][1]=pe,ee++,ae++;ae*=2}return oe}function K(Q){for(var Z=Q[0],ae=Q[1]-1;ae>=0;)Z&1<<ae&&(I|=1<<v),ae--,--v<0&&(I==255?(q(255),q(0)):q(I),v=7,I=0)}function q(Q){C.push(Q)}function X(Q){q(Q>>8&255),q(255&Q)}function fe(Q,Z,ae,ee,oe){for(var pe,Be=oe[0],_e=oe[240],Le=function(Qe,vt){var Ke,Vt,bt,nt,ct,At,Ht,St,xt,Lt,Bt=0;for(xt=0;xt<8;++xt){Ke=Qe[Bt],Vt=Qe[Bt+1],bt=Qe[Bt+2],nt=Qe[Bt+3],ct=Qe[Bt+4],At=Qe[Bt+5],Ht=Qe[Bt+6];var Mr=Ke+(St=Qe[Bt+7]),Yt=Ke-St,Ge=Vt+Ht,jt=Vt-Ht,$e=bt+At,at=bt-At,mt=nt+ct,yt=nt-ct,Kr=Mr+mt,$t=Mr-mt,sr=Ge+$e,Dt=Ge-$e;Qe[Bt]=Kr+sr,Qe[Bt+4]=Kr-sr;var Tr=.707106781*(Dt+$t);Qe[Bt+2]=$t+Tr,Qe[Bt+6]=$t-Tr;var Pt=.382683433*((Kr=yt+at)-(Dt=jt+Yt)),lr=.5411961*Kr+Pt,ir=1.306562965*Dt+Pt,sn=.707106781*(sr=at+jt),Et=Yt+sn,an=Yt-sn;Qe[Bt+5]=an+lr,Qe[Bt+3]=an-lr,Qe[Bt+1]=Et+ir,Qe[Bt+7]=Et-ir,Bt+=8}for(Bt=0,xt=0;xt<8;++xt){Ke=Qe[Bt],Vt=Qe[Bt+8],bt=Qe[Bt+16],nt=Qe[Bt+24],ct=Qe[Bt+32],At=Qe[Bt+40],Ht=Qe[Bt+48];var ms=Ke+(St=Qe[Bt+56]),Gr=Ke-St,Sn=Vt+Ht,Dr=Vt-Ht,Un=bt+At,hn=bt-At,Ct=nt+ct,ra=nt-ct,na=ms+Ct,Wn=ms-Ct,ni=Sn+Un,ki=Sn-Un;Qe[Bt]=na+ni,Qe[Bt+32]=na-ni;var hi=.707106781*(ki+Wn);Qe[Bt+16]=Wn+hi,Qe[Bt+48]=Wn-hi;var si=.382683433*((na=ra+hn)-(ki=Dr+Gr)),Eo=.5411961*na+si,Mc=1.306562965*ki+si,fi=.707106781*(ni=hn+Dr),ps=Gr+fi,ln=Gr-fi;Qe[Bt+40]=ln+Eo,Qe[Bt+24]=ln-Eo,Qe[Bt+8]=ps+Mc,Qe[Bt+56]=ps-Mc,Bt++}for(xt=0;xt<64;++xt)Lt=Qe[xt]*vt[xt],g[xt]=Lt>0?Lt+.5|0:Lt-.5|0;return g}(Q,Z),ke=0;ke<64;++ke)b[P[ke]]=Le[ke];var Oe=b[0]-ae;ae=b[0],Oe==0?K(ee[0]):(K(ee[y[pe=32767+Oe]]),K(m[pe]));for(var Se=63;Se>0&&b[Se]==0;)Se--;if(Se==0)return K(Be),ae;for(var Ce,he=1;he<=Se;){for(var ft=he;b[he]==0&&he<=Se;)++he;var dt=he-ft;if(dt>=16){Ce=dt>>4;for(var Je=1;Je<=Ce;++Je)K(_e);dt&=15}pe=32767+b[he],K(oe[(dt<<4)+y[pe]]),K(m[pe]),he++}return Se!=63&&K(Be),ae}function de(Q){Q=Math.min(Math.max(Q,1),100),i!=Q&&(function(Z){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var oe=o((ae[ee]*Z+50)/100);oe=Math.min(Math.max(oe,1),255),l[P[ee]]=oe}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Be=0;Be<64;Be++){var _e=o((pe[Be]*Z+50)/100);_e=Math.min(Math.max(_e,1),255),A[P[Be]]=_e}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Oe=0;Oe<8;Oe++)for(var Se=0;Se<8;Se++)u[ke]=1/(l[P[ke]]*Le[Oe]*Le[Se]*8),h[ke]=1/(A[P[ke]]*Le[Oe]*Le[Se]*8),ke++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),i=Q)}this.encode=function(Q,Z){Z&&de(Z),C=new Array,I=0,v=7,X(65496),X(65504),X(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),X(1),X(1),q(0),q(0),function(){X(65499),X(132),q(0);for(var Vt=0;Vt<64;Vt++)q(l[Vt]);q(1);for(var bt=0;bt<64;bt++)q(A[bt])}(),function(Vt,bt){X(65472),X(17),q(8),X(bt),X(Vt),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(Q.width,Q.height),function(){X(65476),X(418),q(0);for(var Vt=0;Vt<16;Vt++)q(U[Vt+1]);for(var bt=0;bt<=11;bt++)q(k[bt]);q(16);for(var nt=0;nt<16;nt++)q(z[nt+1]);for(var ct=0;ct<=161;ct++)q(R[ct]);q(1);for(var At=0;At<16;At++)q(H[At+1]);for(var Ht=0;Ht<=11;Ht++)q(J[Ht]);q(17);for(var St=0;St<16;St++)q(ne[St+1]);for(var xt=0;xt<=161;xt++)q(Y[xt])}(),X(65498),X(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var ae=0,ee=0,oe=0;I=0,v=7,this.encode.displayName="_encode_";for(var pe,Be,_e,Le,ke,Oe,Se,Ce,he,ft=Q.data,dt=Q.width,Je=Q.height,Qe=4*dt,vt=0;vt<Je;){for(pe=0;pe<Qe;){for(ke=Qe*vt+pe,Se=-1,Ce=0,he=0;he<64;he++)Oe=ke+(Ce=he>>3)*Qe+(Se=4*(7&he)),vt+Ce>=Je&&(Oe-=Qe*(vt+1+Ce-Je)),pe+Se>=Qe&&(Oe-=pe+Se-Qe+4),Be=ft[Oe++],_e=ft[Oe++],Le=ft[Oe++],N[he]=(V[Be]+V[_e+256|0]+V[Le+512|0]>>16)-128,F[he]=(V[Be+768|0]+V[_e+1024|0]+V[Le+1280|0]>>16)-128,T[he]=(V[Be+1280|0]+V[_e+1536|0]+V[Le+1792|0]>>16)-128;ae=fe(N,u,ae,t,n),ee=fe(F,h,ee,r,s),oe=fe(T,h,oe,r,s),pe+=32}vt+=8}if(v>=0){var Ke=[];Ke[1]=v+1,Ke[0]=(1<<v+1)-1,K(Ke)}return X(65497),new Uint8Array(C)},e=e||50,function(){for(var Q=String.fromCharCode,Z=0;Z<256;Z++)D[Z]=Q(Z)}(),t=G(U,k),r=G(H,J),n=G(z,R),s=G(ne,Y),function(){for(var Q=1,Z=2,ae=1;ae<=15;ae++){for(var ee=Q;ee<Z;ee++)y[32767+ee]=ae,m[32767+ee]=[],m[32767+ee][1]=ae,m[32767+ee][0]=ee;for(var oe=-(Z-1);oe<=-Q;oe++)y[32767+oe]=ae,m[32767+oe]=[],m[32767+oe][1]=ae,m[32767+oe][0]=Z-1+oe;Q<<=1,Z<<=1}}(),function(){for(var Q=0;Q<256;Q++)V[Q]=19595*Q,V[Q+256|0]=38470*Q,V[Q+512|0]=7471*Q+32768,V[Q+768|0]=-11059*Q,V[Q+1024|0]=-21709*Q,V[Q+1280|0]=32768*Q+8421375,V[Q+1536|0]=-27439*Q,V[Q+1792|0]=-5329*Q}(),de(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function gl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function H8(e){function t(k){if(!k)throw Error("assert :P")}function r(k,z,R){for(var H=0;4>H;H++)if(k[z+H]!=R.charCodeAt(H))return!0;return!1}function n(k,z,R,H,J){for(var ne=0;ne<J;ne++)k[z+ne]=R[H+ne]}function s(k,z,R,H){for(var J=0;J<H;J++)k[z+J]=R}function i(k){return new Int32Array(k)}function o(k,z){for(var R=[],H=0;H<k;H++)R.push(new z);return R}function l(k,z){var R=[];return function H(J,ne,Y){for(var G=Y[ne],K=0;K<G&&(J.push(Y.length>ne+1?[]:new z),!(Y.length<ne+1));K++)H(J[K],ne+1,Y)}(R,0,k),R}var A=function(){var k=this;function z(S,j){for(var M=1<<j-1>>>0;S&M;)M>>>=1;return M?(S&M-1)+M:S}function R(S,j,M,$,ie){t(!($%M));do S[j+($-=M)]=ie;while(0<$)}function H(S,j,M,$,ie){if(t(2328>=ie),512>=ie)var ce=i(512);else if((ce=i(ie))==null)return 0;return function(ue,me,ge,ve,Te,Ve){var be,Pe,Ue=me,Ye=1<<ge,He=i(16),Ze=i(16);for(t(Te!=0),t(ve!=null),t(ue!=null),t(0<ge),Pe=0;Pe<Te;++Pe){if(15<ve[Pe])return 0;++He[ve[Pe]]}if(He[0]==Te)return 0;for(Ze[1]=0,be=1;15>be;++be){if(He[be]>1<<be)return 0;Ze[be+1]=Ze[be]+He[be]}for(Pe=0;Pe<Te;++Pe)be=ve[Pe],0<ve[Pe]&&(Ve[Ze[be]++]=Pe);if(Ze[15]==1)return(ve=new J).g=0,ve.value=Ve[0],R(ue,Ue,1,Ye,ve),Ye;var et,ut=-1,st=Ye-1,Zt=0,Ut=1,Fr=1,Wt=1<<ge;for(Pe=0,be=1,Te=2;be<=ge;++be,Te<<=1){if(Ut+=Fr<<=1,0>(Fr-=He[be]))return 0;for(;0<He[be];--He[be])(ve=new J).g=be,ve.value=Ve[Pe++],R(ue,Ue+Zt,Te,Wt,ve),Zt=z(Zt,be)}for(be=ge+1,Te=2;15>=be;++be,Te<<=1){if(Ut+=Fr<<=1,0>(Fr-=He[be]))return 0;for(;0<He[be];--He[be]){if(ve=new J,(Zt&st)!=ut){for(Ue+=Wt,et=1<<(ut=be)-ge;15>ut&&!(0>=(et-=He[ut]));)++ut,et<<=1;Ye+=Wt=1<<(et=ut-ge),ue[me+(ut=Zt&st)].g=et+ge,ue[me+ut].value=Ue-me-ut}ve.g=be-ge,ve.value=Ve[Pe++],R(ue,Ue+(Zt>>ge),Te,Wt,ve),Zt=z(Zt,be)}}return Ut!=2*Ze[15]-1?0:Ye}(S,j,M,$,ie,ce)}function J(){this.value=this.g=0}function ne(){this.value=this.g=0}function Y(){this.G=o(5,J),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Is,ne)}function G(S,j,M,$){t(S!=null),t(j!=null),t(2147483648>$),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=j,S.pa=M,S.Jd=j,S.Yc=M+$,S.Zc=4<=$?M+$-4+1:M,Be(S)}function K(S,j){for(var M=0;0<j--;)M|=Le(S,128)<<j;return M}function q(S,j){var M=K(S,j);return _e(S)?-M:M}function X(S,j,M,$){var ie,ce=0;for(t(S!=null),t(j!=null),t(4294967288>$),S.Sb=$,S.Ra=0,S.u=0,S.h=0,4<$&&($=4),ie=0;ie<$;++ie)ce+=j[M+ie]<<8*ie;S.Ra=ce,S.bb=$,S.oa=j,S.pa=M}function fe(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Ea-8>>>0,++S.bb,S.u-=8;ee(S)&&(S.h=1,S.u=0)}function de(S,j){if(t(0<=j),!S.h&&j<=Xc){var M=ae(S)&ql[j];return S.u+=j,fe(S),M}return S.h=1,S.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(S){return S.Ra>>>(S.u&Ea-1)>>>0}function ee(S){return t(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Ea}function oe(S,j){S.u=j,S.h=ee(S)}function pe(S){S.u>=tr&&(t(S.u>=tr),fe(S))}function Be(S){t(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(t(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function _e(S){return K(S,1)}function Le(S,j){var M=S.Ca;0>S.b&&Be(S);var $=S.b,ie=M*j>>>8,ce=(S.I>>>$>ie)+0;for(ce?(M-=ie,S.I-=ie+1<<$>>>0):M=ie+1,$=M,ie=0;256<=$;)ie+=8,$>>=8;return $=7^ie+iu[$],S.b-=$,S.Ca=(M<<$)-1,ce}function ke(S,j,M){S[j+0]=M>>24&255,S[j+1]=M>>16&255,S[j+2]=M>>8&255,S[j+3]=255&M}function Oe(S,j){return S[j+0]|S[j+1]<<8}function Se(S,j){return Oe(S,j)|S[j+2]<<16}function Ce(S,j){return Oe(S,j)|Oe(S,j+2)<<16}function he(S,j){var M=1<<j;return t(S!=null),t(0<j),S.X=i(M),S.X==null?0:(S.Mb=32-j,S.Xa=j,1)}function ft(S,j){t(S!=null),t(j!=null),t(S.Xa==j.Xa),n(j.X,0,S.X,0,1<<j.Xa)}function dt(){this.X=[],this.Xa=this.Mb=0}function Je(S,j,M,$){t(M!=null),t($!=null);var ie=M[0],ce=$[0];return ie==0&&(ie=(S*ce+j/2)/j),ce==0&&(ce=(j*ie+S/2)/S),0>=ie||0>=ce?0:(M[0]=ie,$[0]=ce,1)}function Qe(S,j){return S+(1<<j)-1>>>j}function vt(S,j){return((4278255360&S)+(4278255360&j)>>>0&4278255360)+((16711935&S)+(16711935&j)>>>0&16711935)>>>0}function Ke(S,j){k[j]=function(M,$,ie,ce,ue,me,ge){var ve;for(ve=0;ve<ue;++ve){var Te=k[S](me[ge+ve-1],ie,ce+ve);me[ge+ve]=vt(M[$+ve],Te)}}}function Vt(){this.ud=this.hd=this.jd=0}function bt(S,j){return((4278124286&(S^j))>>>1)+(S&j)>>>0}function nt(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function ct(S,j){return nt(S+(S-j+.5>>1))}function At(S,j,M){return Math.abs(j-M)-Math.abs(S-M)}function Ht(S,j,M,$,ie,ce,ue){for($=ce[ue-1],M=0;M<ie;++M)ce[ue+M]=$=vt(S[j+M],$)}function St(S,j,M,$,ie){var ce;for(ce=0;ce<M;++ce){var ue=S[j+ce],me=ue>>8&255,ge=16711935&(ge=(ge=16711935&ue)+((me<<16)+me));$[ie+ce]=(4278255360&ue)+ge>>>0}}function xt(S,j){j.jd=255&S,j.hd=S>>8&255,j.ud=S>>16&255}function Lt(S,j,M,$,ie,ce){var ue;for(ue=0;ue<$;++ue){var me=j[M+ue],ge=me>>>8,ve=me,Te=255&(Te=(Te=me>>>16)+((S.jd<<24>>24)*(ge<<24>>24)>>>5));ve=255&(ve=(ve+=(S.hd<<24>>24)*(ge<<24>>24)>>>5)+((S.ud<<24>>24)*(Te<<24>>24)>>>5)),ie[ce+ue]=(4278255360&me)+(Te<<16)+ve}}function Bt(S,j,M,$,ie){k[j]=function(ce,ue,me,ge,ve,Te,Ve,be,Pe){for(ge=Ve;ge<be;++ge)for(Ve=0;Ve<Pe;++Ve)ve[Te++]=ie(me[$(ce[ue++])])},k[S]=function(ce,ue,me,ge,ve,Te,Ve){var be=8>>ce.b,Pe=ce.Ea,Ue=ce.K[0],Ye=ce.w;if(8>be)for(ce=(1<<ce.b)-1,Ye=(1<<be)-1;ue<me;++ue){var He,Ze=0;for(He=0;He<Pe;++He)He&ce||(Ze=$(ge[ve++])),Te[Ve++]=ie(Ue[Ze&Ye]),Ze>>=be}else k["VP8LMapColor"+M](ge,ve,Ue,Ye,Te,Ve,ue,me,Pe)}}function Mr(S,j,M,$,ie){for(M=j+M;j<M;){var ce=S[j++];$[ie++]=ce>>16&255,$[ie++]=ce>>8&255,$[ie++]=255&ce}}function Yt(S,j,M,$,ie){for(M=j+M;j<M;){var ce=S[j++];$[ie++]=ce>>16&255,$[ie++]=ce>>8&255,$[ie++]=255&ce,$[ie++]=ce>>24&255}}function Ge(S,j,M,$,ie){for(M=j+M;j<M;){var ce=(ue=S[j++])>>16&240|ue>>12&15,ue=240&ue|ue>>28&15;$[ie++]=ce,$[ie++]=ue}}function jt(S,j,M,$,ie){for(M=j+M;j<M;){var ce=(ue=S[j++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;$[ie++]=ce,$[ie++]=ue}}function $e(S,j,M,$,ie){for(M=j+M;j<M;){var ce=S[j++];$[ie++]=255&ce,$[ie++]=ce>>8&255,$[ie++]=ce>>16&255}}function at(S,j,M,$,ie,ce){if(ce==0)for(M=j+M;j<M;)ke($,((ce=S[j++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),ie+=32;else n($,ie,S,j,M)}function mt(S,j){k[j][0]=k[S+"0"],k[j][1]=k[S+"1"],k[j][2]=k[S+"2"],k[j][3]=k[S+"3"],k[j][4]=k[S+"4"],k[j][5]=k[S+"5"],k[j][6]=k[S+"6"],k[j][7]=k[S+"7"],k[j][8]=k[S+"8"],k[j][9]=k[S+"9"],k[j][10]=k[S+"10"],k[j][11]=k[S+"11"],k[j][12]=k[S+"12"],k[j][13]=k[S+"13"],k[j][14]=k[S+"0"],k[j][15]=k[S+"0"]}function yt(S){return S==Zv||S==Jv||S==L1||S==eb}function Kr(){this.eb=[],this.size=this.A=this.fb=0}function $t(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function sr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Kr,this.f.kb=new $t,this.sd=null}function Dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Pt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function lr(S,j){var M=S.T,$=j.ba.f.RGBA,ie=$.eb,ce=$.fb+S.ka*$.A,ue=Do[j.ba.S],me=S.y,ge=S.O,ve=S.f,Te=S.N,Ve=S.ea,be=S.W,Pe=j.cc,Ue=j.dc,Ye=j.Mc,He=j.Nc,Ze=S.ka,et=S.ka+S.T,ut=S.U,st=ut+1>>1;for(Ze==0?ue(me,ge,null,null,ve,Te,Ve,be,ve,Te,Ve,be,ie,ce,null,null,ut):(ue(j.ec,j.fc,me,ge,Pe,Ue,Ye,He,ve,Te,Ve,be,ie,ce-$.A,ie,ce,ut),++M);Ze+2<et;Ze+=2)Pe=ve,Ue=Te,Ye=Ve,He=be,Te+=S.Rc,be+=S.Rc,ce+=2*$.A,ue(me,(ge+=2*S.fa)-S.fa,me,ge,Pe,Ue,Ye,He,ve,Te,Ve,be,ie,ce-$.A,ie,ce,ut);return ge+=S.fa,S.j+et<S.o?(n(j.ec,j.fc,me,ge,ut),n(j.cc,j.dc,ve,Te,st),n(j.Mc,j.Nc,Ve,be,st),M--):1&et||ue(me,ge,null,null,ve,Te,Ve,be,ve,Te,Ve,be,ie,ce+$.A,null,null,ut),M}function ir(S,j,M){var $=S.F,ie=[S.J];if($!=null){var ce=S.U,ue=j.ba.S,me=ue==k1||ue==L1;j=j.ba.f.RGBA;var ge=[0],ve=S.ka;ge[0]=S.T,S.Kb&&(ve==0?--ge[0]:(--ve,ie[0]-=S.width),S.j+S.ka+S.T==S.o&&(ge[0]=S.o-S.j-ve));var Te=j.eb;ve=j.fb+ve*j.A,S=i6($,ie[0],S.width,ce,ge,Te,ve+(me?0:3),j.A),t(M==ge),S&&yt(ue)&&Gd(Te,ve,me,ce,ge,j.A)}return 0}function sn(S){var j=S.ma,M=j.ba.S,$=11>M,ie=M==_1||M==T1||M==k1||M==Yv||M==12||yt(M);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!ai(j.Oa,S,ie?11:12))return 0;if(ie&&yt(M)&&Pi(),S.da)alert("todo:use_scaling");else{if($){if(j.Ib=Pt,S.Kb){if(M=S.U+1>>1,j.memory=i(S.U+2*M),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+S.U,j.Mc=j.cc,j.Nc=j.dc+M,j.Ib=lr,Pi()}}else alert("todo:EmitYUV");ie&&(j.Jb=ir,$&&Sa())}if($&&!b6){for(S=0;256>S;++S)gK[S]=89858*(S-128)+O1>>P1,wK[S]=-22014*(S-128)+O1,yK[S]=-45773*(S-128),xK[S]=113618*(S-128)+O1>>P1;for(S=Nm;S<nb;++S)j=76283*(S-16)+O1>>P1,vK[S-Nm]=jn(j,255),bK[S-Nm]=jn(j+8>>4,15);b6=1}return 1}function Et(S){var j=S.ma,M=S.U,$=S.T;return t(!(1&S.ka)),0>=M||0>=$?0:(M=j.Ib(S,j),j.Jb!=null&&j.Jb(S,j,M),j.Dc+=M,1)}function an(S){S.ma.memory=null}function ms(S,j,M,$){return de(S,8)!=47?0:(j[0]=de(S,14)+1,M[0]=de(S,14)+1,$[0]=de(S,1),de(S,3)!=0?0:!S.h)}function Gr(S,j){if(4>S)return S+1;var M=S-2>>1;return(2+(1&S)<<M)+de(j,M)+1}function Sn(S,j){return 120<j?j-120:1<=(M=((M=nK[j-1])>>4)*S+(8-(15&M)))?M:1;var M}function Dr(S,j,M){var $=ae(M),ie=S[j+=255&$].g-8;return 0<ie&&(oe(M,M.u+8),$=ae(M),j+=S[j].value,j+=$&(1<<ie)-1),oe(M,M.u+S[j].g),S[j].value}function Un(S,j,M){return M.g+=S.g,M.value+=S.value<<j>>>0,t(8>=M.g),S.g}function hn(S,j,M){var $=S.xc;return t((j=$==0?0:S.vc[S.md*(M>>$)+(j>>$)])<S.Wb),S.Ya[j]}function Ct(S,j,M,$){var ie=S.ab,ce=S.c*j,ue=S.C;j=ue+j;var me=M,ge=$;for($=S.Ta,M=S.Ua;0<ie--;){var ve=S.gc[ie],Te=ue,Ve=j,be=me,Pe=ge,Ue=(ge=$,me=M,ve.Ea);switch(t(Te<Ve),t(Ve<=ve.nc),ve.hc){case 2:d(be,Pe,(Ve-Te)*Ue,ge,me);break;case 0:var Ye=Te,He=Ve,Ze=ge,et=me,ut=(Wt=ve).Ea;Ye==0&&(te(be,Pe,null,null,1,Ze,et),Ht(be,Pe+1,0,0,ut-1,Ze,et+1),Pe+=ut,et+=ut,++Ye);for(var st=1<<Wt.b,Zt=st-1,Ut=Qe(ut,Wt.b),Fr=Wt.K,Wt=Wt.w+(Ye>>Wt.b)*Ut;Ye<He;){var $r=Fr,zs=Wt,jr=1;for(c(be,Pe,Ze,et-ut,1,Ze,et);jr<ut;){var zt=(jr&~Zt)+st;zt>ut&&(zt=ut),(0,E[$r[zs++]>>8&15])(be,Pe+ +jr,Ze,et+jr-ut,zt-jr,Ze,et+jr),jr=zt}Pe+=ut,et+=ut,++Ye&Zt||(Wt+=Ut)}Ve!=ve.nc&&n(ge,me-Ue,ge,me+(Ve-Te-1)*Ue,Ue);break;case 1:for(Ue=be,He=Pe,ut=(be=ve.Ea)-(et=be&~(Ze=(Pe=1<<ve.b)-1)),Ye=Qe(be,ve.b),st=ve.K,ve=ve.w+(Te>>ve.b)*Ye;Te<Ve;){for(Zt=st,Ut=ve,Fr=new Vt,Wt=He+et,$r=He+be;He<Wt;)xt(Zt[Ut++],Fr),_(Fr,Ue,He,Pe,ge,me),He+=Pe,me+=Pe;He<$r&&(xt(Zt[Ut++],Fr),_(Fr,Ue,He,ut,ge,me),He+=ut,me+=ut),++Te&Ze||(ve+=Ye)}break;case 3:if(be==ge&&Pe==me&&0<ve.b){for(He=ge,be=Ue=me+(Ve-Te)*Ue-(et=(Ve-Te)*Qe(ve.Ea,ve.b)),Pe=ge,Ze=me,Ye=[],et=(ut=et)-1;0<=et;--et)Ye[et]=Pe[Ze+et];for(et=ut-1;0<=et;--et)He[be+et]=Ye[et];f(ve,Te,Ve,ge,Ue,ge,me)}else f(ve,Te,Ve,be,Pe,ge,me)}me=$,ge=M}ge!=M&&n($,M,me,ge,ce)}function ra(S,j){var M=S.V,$=S.Ba+S.c*S.C,ie=j-S.C;if(t(j<=S.l.o),t(16>=ie),0<ie){var ce=S.l,ue=S.Ta,me=S.Ua,ge=ce.width;if(Ct(S,ie,M,$),ie=me=[me],t((M=S.C)<($=j)),t(ce.v<ce.va),$>ce.o&&($=ce.o),M<ce.j){var ve=ce.j-M;M=ce.j,ie[0]+=ve*ge}if(M>=$?M=0:(ie[0]+=4*ce.v,ce.ka=M-ce.j,ce.U=ce.va-ce.v,ce.T=$-M,M=1),M){if(me=me[0],11>(M=S.ca).S){var Te=M.f.RGBA,Ve=($=M.S,ie=ce.U,ce=ce.T,ve=Te.eb,Te.A),be=ce;for(Te=Te.fb+S.Ma*Te.A;0<be--;){var Pe=ue,Ue=me,Ye=ie,He=ve,Ze=Te;switch($){case j1:L(Pe,Ue,Ye,He,Ze);break;case _1:W(Pe,Ue,Ye,He,Ze);break;case Zv:W(Pe,Ue,Ye,He,Ze),Gd(He,Ze,0,Ye,1,0);break;case d6:xe(Pe,Ue,Ye,He,Ze);break;case T1:at(Pe,Ue,Ye,He,Ze,1);break;case Jv:at(Pe,Ue,Ye,He,Ze,1),Gd(He,Ze,0,Ye,1,0);break;case k1:at(Pe,Ue,Ye,He,Ze,0);break;case L1:at(Pe,Ue,Ye,He,Ze,0),Gd(He,Ze,1,Ye,1,0);break;case Yv:re(Pe,Ue,Ye,He,Ze);break;case eb:re(Pe,Ue,Ye,He,Ze),s6(He,Ze,Ye,1,0);break;case h6:le(Pe,Ue,Ye,He,Ze);break;default:t(0)}me+=ge,Te+=Ve}S.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");t(S.Ma<=M.height)}}S.C=j,t(S.C<=S.i)}function na(S){var j;if(0<S.ua)return 0;for(j=0;j<S.Wb;++j){var M=S.Ya[j].G,$=S.Ya[j].H;if(0<M[1][$[1]+0].g||0<M[2][$[2]+0].g||0<M[3][$[3]+0].g)return 0}return 1}function Wn(S,j,M,$,ie,ce){if(S.Z!=0){var ue=S.qd,me=S.rd;for(t(ou[S.Z]!=null);j<M;++j)ou[S.Z](ue,me,$,ie,$,ie,ce),ue=$,me=ie,ie+=ce;S.qd=ue,S.rd=me}}function ni(S,j){var M=S.l.ma,$=M.Z==0||M.Z==1?S.l.j:S.C;if($=S.C<$?$:S.C,t(j<=S.l.o),j>$){var ie=S.l.width,ce=M.ca,ue=M.tb+ie*$,me=S.V,ge=S.Ba+S.c*$,ve=S.gc;t(S.ab==1),t(ve[0].hc==3),x(ve[0],$,j,me,ge,ce,ue),Wn(M,$,j,ce,ue,ie)}S.C=S.Ma=j}function ki(S,j,M,$,ie,ce,ue){var me=S.$/$,ge=S.$%$,ve=S.m,Te=S.s,Ve=M+S.$,be=Ve;ie=M+$*ie;var Pe=M+$*ce,Ue=280+Te.ua,Ye=S.Pb?me:16777216,He=0<Te.ua?Te.Wa:null,Ze=Te.wc,et=Ve<Pe?hn(Te,ge,me):null;t(S.C<ce),t(Pe<=ie);var ut=!1;e:for(;;){for(;ut||Ve<Pe;){var st=0;if(me>=Ye){var Zt=Ve-M;t((Ye=S).Pb),Ye.wd=Ye.m,Ye.xd=Zt,0<Ye.s.ua&&ft(Ye.s.Wa,Ye.s.vb),Ye=me+iK}if(ge&Ze||(et=hn(Te,ge,me)),t(et!=null),et.Qb&&(j[Ve]=et.qb,ut=!0),!ut)if(pe(ve),et.jc){st=ve,Zt=j;var Ut=Ve,Fr=et.pd[ae(st)&Is-1];t(et.jc),256>Fr.g?(oe(st,st.u+Fr.g),Zt[Ut]=Fr.value,st=0):(oe(st,st.u+Fr.g-256),t(256<=Fr.value),st=Fr.value),st==0&&(ut=!0)}else st=Dr(et.G[0],et.H[0],ve);if(ve.h)break;if(ut||256>st){if(!ut)if(et.nd)j[Ve]=(et.qb|st<<8)>>>0;else{if(pe(ve),ut=Dr(et.G[1],et.H[1],ve),pe(ve),Zt=Dr(et.G[2],et.H[2],ve),Ut=Dr(et.G[3],et.H[3],ve),ve.h)break;j[Ve]=(Ut<<24|ut<<16|st<<8|Zt)>>>0}if(ut=!1,++Ve,++ge>=$&&(ge=0,++me,ue!=null&&me<=ce&&!(me%16)&&ue(S,me),He!=null))for(;be<Ve;)st=j[be++],He.X[(506832829*st&4294967295)>>>He.Mb]=st}else if(280>st){if(st=Gr(st-256,ve),Zt=Dr(et.G[4],et.H[4],ve),pe(ve),Zt=Sn($,Zt=Gr(Zt,ve)),ve.h)break;if(Ve-M<Zt||ie-Ve<st)break e;for(Ut=0;Ut<st;++Ut)j[Ve+Ut]=j[Ve+Ut-Zt];for(Ve+=st,ge+=st;ge>=$;)ge-=$,++me,ue!=null&&me<=ce&&!(me%16)&&ue(S,me);if(t(Ve<=ie),ge&Ze&&(et=hn(Te,ge,me)),He!=null)for(;be<Ve;)st=j[be++],He.X[(506832829*st&4294967295)>>>He.Mb]=st}else{if(!(st<Ue))break e;for(ut=st-280,t(He!=null);be<Ve;)st=j[be++],He.X[(506832829*st&4294967295)>>>He.Mb]=st;st=Ve,t(!(ut>>>(Zt=He).Xa)),j[st]=Zt.X[ut],ut=!0}ut||t(ve.h==ee(ve))}if(S.Pb&&ve.h&&Ve<ie)t(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&ft(S.s.vb,S.s.Wa);else{if(ve.h)break e;ue!=null&&ue(S,me>ce?ce:me),S.a=0,S.$=Ve-M}return 1}return S.a=3,0}function hi(S){t(S!=null),S.vc=null,S.yc=null,S.Ya=null;var j=S.Wa;j!=null&&(j.X=null),S.vb=null,t(S!=null)}function si(){var S=new Br;return S==null?null:(S.a=0,S.xb=p6,mt("Predictor","VP8LPredictors"),mt("Predictor","VP8LPredictors_C"),mt("PredictorAdd","VP8LPredictorsAdd"),mt("PredictorAdd","VP8LPredictorsAdd_C"),d=St,_=Lt,L=Mr,W=Yt,re=Ge,le=jt,xe=$e,k.VP8LMapColor32b=p,k.VP8LMapColor8b=w,S)}function Eo(S,j,M,$,ie){var ce=1,ue=[S],me=[j],ge=$.m,ve=$.s,Te=null,Ve=0;e:for(;;){if(M)for(;ce&&de(ge,1);){var be=ue,Pe=me,Ue=$,Ye=1,He=Ue.m,Ze=Ue.gc[Ue.ab],et=de(He,2);if(Ue.Oc&1<<et)ce=0;else{switch(Ue.Oc|=1<<et,Ze.hc=et,Ze.Ea=be[0],Ze.nc=Pe[0],Ze.K=[null],++Ue.ab,t(4>=Ue.ab),et){case 0:case 1:Ze.b=de(He,3)+2,Ye=Eo(Qe(Ze.Ea,Ze.b),Qe(Ze.nc,Ze.b),0,Ue,Ze.K),Ze.K=Ze.K[0];break;case 3:var ut,st=de(He,8)+1,Zt=16<st?0:4<st?1:2<st?2:3;if(be[0]=Qe(Ze.Ea,Zt),Ze.b=Zt,ut=Ye=Eo(st,1,0,Ue,Ze.K)){var Ut,Fr=st,Wt=Ze,$r=1<<(8>>Wt.b),zs=i($r);if(zs==null)ut=0;else{var jr=Wt.K[0],zt=Wt.w;for(zs[0]=Wt.K[0][0],Ut=1;Ut<1*Fr;++Ut)zs[Ut]=vt(jr[zt+Ut],zs[Ut-1]);for(;Ut<4*$r;++Ut)zs[Ut]=0;Wt.K[0]=null,Wt.K[0]=zs,ut=1}}Ye=ut;break;case 2:break;default:t(0)}ce=Ye}}if(ue=ue[0],me=me[0],ce&&de(ge,1)&&!(ce=1<=(Ve=de(ge,4))&&11>=Ve)){$.a=3;break e}var wt;if(wt=ce)t:{var Fs,Nr,Jr,zn=$,yi=ue,sa=me,ys=Ve,Di=M,ia=zn.m,$s=zn.s,tn=[null],yn=1,ws=0,wn=sK[ys];r:for(;;){if(Di&&de(ia,1)){var wi=de(ia,3)+2,hl=Qe(yi,wi),js=Qe(sa,wi),Fa=hl*js;if(!Eo(hl,js,0,zn,tn))break r;for(tn=tn[0],$s.xc=wi,Fs=0;Fs<Fa;++Fs){var Ln=tn[Fs]>>8&65535;tn[Fs]=Ln,Ln>=yn&&(yn=Ln+1)}}if(ia.h)break r;for(Nr=0;5>Nr;++Nr){var qs=f6[Nr];!Nr&&0<ys&&(qs+=1<<ys),ws<qs&&(ws=qs)}var no=o(yn*wn,J),aa=yn,so=o(aa,Y);if(so==null)var io=null;else t(65536>=aa),io=so;var ja=i(ws);if(io==null||ja==null||no==null){zn.a=1;break r}var ao=no;for(Fs=Jr=0;Fs<yn;++Fs){var Mn=io[Fs],oo=Mn.G,fl=Mn.H,Wd=0,eA=1,vi=0;for(Nr=0;5>Nr;++Nr){qs=f6[Nr],oo[Nr]=ao,fl[Nr]=Jr,!Nr&&0<ys&&(qs+=1<<ys);s:{var D1,sb=qs,U1=zn,Sm=ja,NK=ao,SK=Jr,ib=0,lu=U1.m,EK=de(lu,1);if(s(Sm,0,0,sb),EK){var IK=de(lu,1)+1,FK=de(lu,1),N6=de(lu,FK==0?1:8);Sm[N6]=1,IK==2&&(Sm[N6=de(lu,8)]=1);var M1=1}else{var S6=i(19),E6=de(lu,4)+4;if(19<E6){U1.a=3;var Q1=0;break s}for(D1=0;D1<E6;++D1)S6[rK[D1]]=de(lu,3);var ab=void 0,Em=void 0,I6=U1,jK=S6,H1=sb,F6=Sm,ob=0,cu=I6.m,j6=8,_6=o(128,J);n:for(;H(_6,0,7,jK,19);){if(de(cu,1)){var _K=2+2*de(cu,3);if((ab=2+de(cu,_K))>H1)break n}else ab=H1;for(Em=0;Em<H1&&ab--;){pe(cu);var T6=_6[0+(127&ae(cu))];oe(cu,cu.u+T6.g);var mf=T6.value;if(16>mf)F6[Em++]=mf,mf!=0&&(j6=mf);else{var TK=mf==16,k6=mf-16,kK=eK[k6],L6=de(cu,JV[k6])+kK;if(Em+L6>H1)break n;for(var LK=TK?j6:0;0<L6--;)F6[Em++]=LK}}ob=1;break n}ob||(I6.a=3),M1=ob}(M1=M1&&!lu.h)&&(ib=H(NK,SK,8,Sm,sb)),M1&&ib!=0?Q1=ib:(U1.a=3,Q1=0)}if(Q1==0)break r;if(eA&&tK[Nr]==1&&(eA=ao[Jr].g==0),Wd+=ao[Jr].g,Jr+=Q1,3>=Nr){var Im,lb=ja[0];for(Im=1;Im<qs;++Im)ja[Im]>lb&&(lb=ja[Im]);vi+=lb}}if(Mn.nd=eA,Mn.Qb=0,eA&&(Mn.qb=(oo[3][fl[3]+0].value<<24|oo[1][fl[1]+0].value<<16|oo[2][fl[2]+0].value)>>>0,Wd==0&&256>oo[0][fl[0]+0].value&&(Mn.Qb=1,Mn.qb+=oo[0][fl[0]+0].value<<8)),Mn.jc=!Mn.Qb&&6>vi,Mn.jc){var V1,tA=Mn;for(V1=0;V1<Is;++V1){var Au=V1,uu=tA.pd[Au],K1=tA.G[0][tA.H[0]+Au];256<=K1.value?(uu.g=K1.g+256,uu.value=K1.value):(uu.g=0,uu.value=0,Au>>=Un(K1,8,uu),Au>>=Un(tA.G[1][tA.H[1]+Au],16,uu),Au>>=Un(tA.G[2][tA.H[2]+Au],0,uu),Un(tA.G[3][tA.H[3]+Au],24,uu))}}}$s.vc=tn,$s.Wb=yn,$s.Ya=io,$s.yc=no,wt=1;break t}wt=0}if(!(ce=wt)){$.a=3;break e}if(0<Ve){if(ve.ua=1<<Ve,!he(ve.Wa,Ve)){$.a=1,ce=0;break e}}else ve.ua=0;var cb=$,P6=ue,PK=me,Ab=cb.s,ub=Ab.xc;if(cb.c=P6,cb.i=PK,Ab.md=Qe(P6,ub),Ab.wc=ub==0?-1:(1<<ub)-1,M){$.xb=dK;break e}if((Te=i(ue*me))==null){$.a=1,ce=0;break e}ce=(ce=ki($,Te,0,ue,me,me,null))&&!ge.h;break e}return ce?(ie!=null?ie[0]=Te:(t(Te==null),t(M)),$.$=0,M||hi(ve)):hi(ve),ce}function Mc(S,j){var M=S.c*S.i,$=M+j+16*j;return t(S.c<=j),S.V=i($),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+M+j,1)}function fi(S,j){var M=S.C,$=j-M,ie=S.V,ce=S.Ba+S.c*M;for(t(j<=S.l.o);0<$;){var ue=16<$?16:$,me=S.l.ma,ge=S.l.width,ve=ge*ue,Te=me.ca,Ve=me.tb+ge*M,be=S.Ta,Pe=S.Ua;Ct(S,ue,ie,ce),a6(be,Pe,Te,Ve,ve),Wn(me,M,M+ue,Te,Ve,ge),$-=ue,ie+=ue*S.c,M+=ue}t(M==j),S.C=S.Ma=j}function ps(){this.ub=this.yd=this.td=this.Rb=0}function ln(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function df(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ba(){this.Yb=function(){var S=[];return function j(M,$,ie){for(var ce=ie[$],ue=0;ue<ce&&(M.push(ie.length>$+1?[]:0),!(ie.length<$+1));ue++)j(M[ue],$+1,ie)}(S,0,[3,11]),S}()}function XA(){this.jb=i(3),this.Wc=l([4,8],Ba),this.Xc=l([4,17],Ba)}function tt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Na(){this.ld=this.La=this.dd=this.tc=0}function En(){this.Na=this.la=0}function ol(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ud(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Na),this.Y=0,this.ya=Array(new Ud),this.aa=0,this.l=new Kl}function Qr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function kr(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new ps,this.Kc=new ln,this.ed=new tt,this.Qa=new df,this.Ic=this.$c=this.Aa=0,this.D=new Wr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Q),this.ia=0,this.pb=o(4,ol),this.Pa=new XA,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qr),this.Hd=0,this.rb=Array(new En),this.sb=0,this.wa=Array(new Na),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ud),this.L=this.aa=0,this.gd=l([4,2],Na),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Kl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Md(){var S=new kr;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,Bm||(Bm=ll)),S}function es(S,j,M){return S.a==0&&(S.a=j,S.sc=M,S.cb=0),0}function ts(S,j,M){return 3<=M&&S[j+0]==157&&S[j+1]==1&&S[j+2]==42}function Ya(S,j){if(S==null)return 0;if(S.a=0,S.sc="OK",j==null)return es(S,2,"null VP8Io passed to VP8GetHeaders()");var M=j.data,$=j.w,ie=j.ha;if(4>ie)return es(S,7,"Truncated header.");var ce=M[$+0]|M[$+1]<<8|M[$+2]<<16,ue=S.Od;if(ue.Rb=!(1&ce),ue.td=ce>>1&7,ue.yd=ce>>4&1,ue.ub=ce>>5,3<ue.td)return es(S,3,"Incorrect keyframe parameters.");if(!ue.yd)return es(S,4,"Frame not displayable.");$+=3,ie-=3;var me=S.Kc;if(ue.Rb){if(7>ie)return es(S,7,"cannot parse picture header");if(!ts(M,$,ie))return es(S,3,"Bad code word");me.c=16383&(M[$+4]<<8|M[$+3]),me.Td=M[$+4]>>6,me.i=16383&(M[$+6]<<8|M[$+5]),me.Ud=M[$+6]>>6,$+=7,ie-=7,S.za=me.c+15>>4,S.Ub=me.i+15>>4,j.width=me.c,j.height=me.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,s((ce=S.Pa).jb,0,255,ce.jb.length),t((ce=S.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,s(ce.Zb,0,0,ce.Zb.length),s(ce.Lb,0,0,ce.Lb)}if(ue.ub>ie)return es(S,7,"bad partition length");G(ce=S.m,M,$,ue.ub),$+=ue.ub,ie-=ue.ub,ue.Rb&&(me.Ld=_e(ce),me.Kd=_e(ce)),me=S.Qa;var ge,ve=S.Pa;if(t(ce!=null),t(me!=null),me.Cb=_e(ce),me.Cb){if(me.Bb=_e(ce),_e(ce)){for(me.Fb=_e(ce),ge=0;4>ge;++ge)me.Zb[ge]=_e(ce)?q(ce,7):0;for(ge=0;4>ge;++ge)me.Lb[ge]=_e(ce)?q(ce,6):0}if(me.Bb)for(ge=0;3>ge;++ge)ve.jb[ge]=_e(ce)?K(ce,8):255}else me.Bb=0;if(ce.Ka)return es(S,3,"cannot parse segment header");if((me=S.ed).zd=_e(ce),me.Tb=K(ce,6),me.wb=K(ce,3),me.Pc=_e(ce),me.Pc&&_e(ce)){for(ve=0;4>ve;++ve)_e(ce)&&(me.vd[ve]=q(ce,6));for(ve=0;4>ve;++ve)_e(ce)&&(me.od[ve]=q(ce,6))}if(S.L=me.Tb==0?0:me.zd?1:2,ce.Ka)return es(S,3,"cannot parse filter header");var Te=ie;if(ie=ge=$,$=ge+Te,me=Te,S.Xb=(1<<K(S.m,2))-1,Te<3*(ve=S.Xb))M=7;else{for(ge+=3*ve,me-=3*ve,Te=0;Te<ve;++Te){var Ve=M[ie+0]|M[ie+1]<<8|M[ie+2]<<16;Ve>me&&(Ve=me),G(S.Jc[+Te],M,ge,Ve),ge+=Ve,me-=Ve,ie+=3}G(S.Jc[+ve],M,ge,me),M=ge<$?0:5}if(M!=0)return es(S,M,"cannot parse partitions");for(M=K(ge=S.m,7),ie=_e(ge)?q(ge,4):0,$=_e(ge)?q(ge,4):0,me=_e(ge)?q(ge,4):0,ve=_e(ge)?q(ge,4):0,ge=_e(ge)?q(ge,4):0,Te=S.Qa,Ve=0;4>Ve;++Ve){if(Te.Cb){var be=Te.Zb[Ve];Te.Fb||(be+=M)}else{if(0<Ve){S.pb[Ve]=S.pb[0];continue}be=M}var Pe=S.pb[Ve];Pe.Sc[0]=tb[jn(be+ie,127)],Pe.Sc[1]=rb[jn(be+0,127)],Pe.Eb[0]=2*tb[jn(be+$,127)],Pe.Eb[1]=101581*rb[jn(be+me,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=tb[jn(be+ve,117)],Pe.Qc[1]=rb[jn(be+ge,127)],Pe.lc=be+ge}if(!ue.Rb)return es(S,4,"Not a key frame.");for(_e(ce),ue=S.Pa,M=0;4>M;++M){for(ie=0;8>ie;++ie)for($=0;3>$;++$)for(me=0;11>me;++me)ve=Le(ce,AK[M][ie][$][me])?K(ce,8):lK[M][ie][$][me],ue.Wc[M][ie].Yb[$][me]=ve;for(ie=0;17>ie;++ie)ue.Xc[M][ie]=ue.Wc[M][uK[ie]]}return S.kc=_e(ce),S.kc&&(S.Bd=K(ce,8)),S.cb=1}function ll(S,j,M,$,ie,ce,ue){var me=j[ie].Yb[M];for(M=0;16>ie;++ie){if(!Le(S,me[M+0]))return ie;for(;!Le(S,me[M+1]);)if(me=j[++ie].Yb[0],M=0,ie==16)return 16;var ge=j[ie+1].Yb;if(Le(S,me[M+2])){var ve=S,Te=0;if(Le(ve,(be=me)[(Ve=M)+3]))if(Le(ve,be[Ve+6])){for(me=0,Ve=2*(Te=Le(ve,be[Ve+8]))+(be=Le(ve,be[Ve+9+Te])),Te=0,be=aK[Ve];be[me];++me)Te+=Te+Le(ve,be[me]);Te+=3+(8<<Ve)}else Le(ve,be[Ve+7])?(Te=7+2*Le(ve,165),Te+=Le(ve,145)):Te=5+Le(ve,159);else Te=Le(ve,be[Ve+4])?3+Le(ve,be[Ve+5]):2;me=ge[2]}else Te=1,me=ge[1];ge=ue+oK[ie],0>(ve=S).b&&Be(ve);var Ve,be=ve.b,Pe=(Ve=ve.Ca>>1)-(ve.I>>be)>>31;--ve.b,ve.Ca+=Pe,ve.Ca|=1,ve.I-=(Ve+1&Pe)<<be,ce[ge]=((Te^Pe)-Pe)*$[(0<ie)+0]}return 16}function gn(S){var j=S.rb[S.sb-1];j.la=0,j.Na=0,s(S.zc,0,0,S.zc.length),S.ja=0}function Us(S,j,M,$,ie){ie=S[j+M+32*$]+(ie>>3),S[j+M+32*$]=-256&ie?0>ie?0:255:ie}function Qc(S,j,M,$,ie,ce){Us(S,j,0,M,$+ie),Us(S,j,1,M,$+ce),Us(S,j,2,M,$-ce),Us(S,j,3,M,$-ie)}function In(S){return(20091*S>>16)+S}function on(S,j,M,$){var ie,ce=0,ue=i(16);for(ie=0;4>ie;++ie){var me=S[j+0]+S[j+8],ge=S[j+0]-S[j+8],ve=(35468*S[j+4]>>16)-In(S[j+12]),Te=In(S[j+4])+(35468*S[j+12]>>16);ue[ce+0]=me+Te,ue[ce+1]=ge+ve,ue[ce+2]=ge-ve,ue[ce+3]=me-Te,ce+=4,j++}for(ie=ce=0;4>ie;++ie)me=(S=ue[ce+0]+4)+ue[ce+8],ge=S-ue[ce+8],ve=(35468*ue[ce+4]>>16)-In(ue[ce+12]),Us(M,$,0,0,me+(Te=In(ue[ce+4])+(35468*ue[ce+12]>>16))),Us(M,$,1,0,ge+ve),Us(M,$,2,0,ge-ve),Us(M,$,3,0,me-Te),ce++,$+=32}function Ms(S,j,M,$){var ie=S[j+0]+4,ce=35468*S[j+4]>>16,ue=In(S[j+4]),me=35468*S[j+1]>>16;Qc(M,$,0,ie+ue,S=In(S[j+1]),me),Qc(M,$,1,ie+ce,S,me),Qc(M,$,2,ie-ce,S,me),Qc(M,$,3,ie-ue,S,me)}function Me(S,j,M,$,ie){on(S,j,M,$),ie&&on(S,j+16,M,$+4)}function ye(S,j,M,$){Ee(S,j+0,M,$,1),Ee(S,j+32,M,$+128,1)}function _t(S,j,M,$){var ie;for(S=S[j+0]+4,ie=0;4>ie;++ie)for(j=0;4>j;++j)Us(M,$,j,ie,S)}function ls(S,j,M,$){S[j+0]&&ot(S,j+0,M,$),S[j+16]&&ot(S,j+16,M,$+4),S[j+32]&&ot(S,j+32,M,$+128),S[j+48]&&ot(S,j+48,M,$+128+4)}function mi(S,j,M,$){var ie,ce=i(16);for(ie=0;4>ie;++ie){var ue=S[j+0+ie]+S[j+12+ie],me=S[j+4+ie]+S[j+8+ie],ge=S[j+4+ie]-S[j+8+ie],ve=S[j+0+ie]-S[j+12+ie];ce[0+ie]=ue+me,ce[8+ie]=ue-me,ce[4+ie]=ve+ge,ce[12+ie]=ve-ge}for(ie=0;4>ie;++ie)ue=(S=ce[0+4*ie]+3)+ce[3+4*ie],me=ce[1+4*ie]+ce[2+4*ie],ge=ce[1+4*ie]-ce[2+4*ie],ve=S-ce[3+4*ie],M[$+0]=ue+me>>3,M[$+16]=ve+ge>>3,M[$+32]=ue-me>>3,M[$+48]=ve-ge>>3,$+=64}function Gl(S,j,M){var $,ie=j-32,ce=ro,ue=255-S[ie-1];for($=0;$<M;++$){var me,ge=ce,ve=ue+S[j-1];for(me=0;me<M;++me)S[j+me]=ge[ve+S[ie+me]];j+=32}}function Hc(S,j){Gl(S,j,4)}function Li(S,j){Gl(S,j,8)}function Jt(S,j){Gl(S,j,16)}function Tn(S,j){var M;for(M=0;16>M;++M)n(S,j+32*M,S,j-32,16)}function YA(S,j){var M;for(M=16;0<M;--M)s(S,j,S[j-1],16),j+=32}function Vc(S,j,M){var $;for($=0;16>$;++$)s(j,M+32*$,S,16)}function Io(S,j){var M,$=16;for(M=0;16>M;++M)$+=S[j-1+32*M]+S[j+M-32];Vc($>>5,S,j)}function ZA(S,j){var M,$=8;for(M=0;16>M;++M)$+=S[j-1+32*M];Vc($>>4,S,j)}function cl(S,j){var M,$=8;for(M=0;16>M;++M)$+=S[j+M-32];Vc($>>4,S,j)}function Qd(S,j){Vc(128,S,j)}function Mt(S,j,M){return S+2*j+M+2>>2}function Kc(S,j){var M,$=j-32;for($=new Uint8Array([Mt(S[$-1],S[$+0],S[$+1]),Mt(S[$+0],S[$+1],S[$+2]),Mt(S[$+1],S[$+2],S[$+3]),Mt(S[$+2],S[$+3],S[$+4])]),M=0;4>M;++M)n(S,j+32*M,$,0,$.length)}function Fo(S,j){var M=S[j-1],$=S[j-1+32],ie=S[j-1+64],ce=S[j-1+96];ke(S,j+0,16843009*Mt(S[j-1-32],M,$)),ke(S,j+32,16843009*Mt(M,$,ie)),ke(S,j+64,16843009*Mt($,ie,ce)),ke(S,j+96,16843009*Mt(ie,ce,ce))}function ar(S,j){var M,$=4;for(M=0;4>M;++M)$+=S[j+M-32]+S[j-1+32*M];for($>>=3,M=0;4>M;++M)s(S,j+32*M,$,4)}function bm(S,j){var M=S[j-1+0],$=S[j-1+32],ie=S[j-1+64],ce=S[j-1-32],ue=S[j+0-32],me=S[j+1-32],ge=S[j+2-32],ve=S[j+3-32];S[j+0+96]=Mt($,ie,S[j-1+96]),S[j+1+96]=S[j+0+64]=Mt(M,$,ie),S[j+2+96]=S[j+1+64]=S[j+0+32]=Mt(ce,M,$),S[j+3+96]=S[j+2+64]=S[j+1+32]=S[j+0+0]=Mt(ue,ce,M),S[j+3+64]=S[j+2+32]=S[j+1+0]=Mt(me,ue,ce),S[j+3+32]=S[j+2+0]=Mt(ge,me,ue),S[j+3+0]=Mt(ve,ge,me)}function dr(S,j){var M=S[j+1-32],$=S[j+2-32],ie=S[j+3-32],ce=S[j+4-32],ue=S[j+5-32],me=S[j+6-32],ge=S[j+7-32];S[j+0+0]=Mt(S[j+0-32],M,$),S[j+1+0]=S[j+0+32]=Mt(M,$,ie),S[j+2+0]=S[j+1+32]=S[j+0+64]=Mt($,ie,ce),S[j+3+0]=S[j+2+32]=S[j+1+64]=S[j+0+96]=Mt(ie,ce,ue),S[j+3+32]=S[j+2+64]=S[j+1+96]=Mt(ce,ue,me),S[j+3+64]=S[j+2+96]=Mt(ue,me,ge),S[j+3+96]=Mt(me,ge,ge)}function kn(S,j){var M=S[j-1+0],$=S[j-1+32],ie=S[j-1+64],ce=S[j-1-32],ue=S[j+0-32],me=S[j+1-32],ge=S[j+2-32],ve=S[j+3-32];S[j+0+0]=S[j+1+64]=ce+ue+1>>1,S[j+1+0]=S[j+2+64]=ue+me+1>>1,S[j+2+0]=S[j+3+64]=me+ge+1>>1,S[j+3+0]=ge+ve+1>>1,S[j+0+96]=Mt(ie,$,M),S[j+0+64]=Mt($,M,ce),S[j+0+32]=S[j+1+96]=Mt(M,ce,ue),S[j+1+32]=S[j+2+96]=Mt(ce,ue,me),S[j+2+32]=S[j+3+96]=Mt(ue,me,ge),S[j+3+32]=Mt(me,ge,ve)}function Cm(S,j){var M=S[j+0-32],$=S[j+1-32],ie=S[j+2-32],ce=S[j+3-32],ue=S[j+4-32],me=S[j+5-32],ge=S[j+6-32],ve=S[j+7-32];S[j+0+0]=M+$+1>>1,S[j+1+0]=S[j+0+64]=$+ie+1>>1,S[j+2+0]=S[j+1+64]=ie+ce+1>>1,S[j+3+0]=S[j+2+64]=ce+ue+1>>1,S[j+0+32]=Mt(M,$,ie),S[j+1+32]=S[j+0+96]=Mt($,ie,ce),S[j+2+32]=S[j+1+96]=Mt(ie,ce,ue),S[j+3+32]=S[j+2+96]=Mt(ce,ue,me),S[j+3+64]=Mt(ue,me,ge),S[j+3+96]=Mt(me,ge,ve)}function Hd(S,j){var M=S[j-1+0],$=S[j-1+32],ie=S[j-1+64],ce=S[j-1+96];S[j+0+0]=M+$+1>>1,S[j+2+0]=S[j+0+32]=$+ie+1>>1,S[j+2+32]=S[j+0+64]=ie+ce+1>>1,S[j+1+0]=Mt(M,$,ie),S[j+3+0]=S[j+1+32]=Mt($,ie,ce),S[j+3+32]=S[j+1+64]=Mt(ie,ce,ce),S[j+3+64]=S[j+2+64]=S[j+0+96]=S[j+1+96]=S[j+2+96]=S[j+3+96]=ce}function Gc(S,j){var M=S[j-1+0],$=S[j-1+32],ie=S[j-1+64],ce=S[j-1+96],ue=S[j-1-32],me=S[j+0-32],ge=S[j+1-32],ve=S[j+2-32];S[j+0+0]=S[j+2+32]=M+ue+1>>1,S[j+0+32]=S[j+2+64]=$+M+1>>1,S[j+0+64]=S[j+2+96]=ie+$+1>>1,S[j+0+96]=ce+ie+1>>1,S[j+3+0]=Mt(me,ge,ve),S[j+2+0]=Mt(ue,me,ge),S[j+1+0]=S[j+3+32]=Mt(M,ue,me),S[j+1+32]=S[j+3+64]=Mt($,M,ue),S[j+1+64]=S[j+3+96]=Mt(ie,$,M),S[j+1+96]=Mt(ce,ie,$)}function Za(S,j){var M;for(M=0;8>M;++M)n(S,j+32*M,S,j-32,8)}function Wc(S,j){var M;for(M=0;8>M;++M)s(S,j,S[j-1],8),j+=32}function jo(S,j,M){var $;for($=0;8>$;++$)s(j,M+32*$,S,8)}function _o(S,j){var M,$=8;for(M=0;8>M;++M)$+=S[j+M-32]+S[j-1+32*M];jo($>>4,S,j)}function zc(S,j){var M,$=4;for(M=0;8>M;++M)$+=S[j+M-32];jo($>>3,S,j)}function JA(S,j){var M,$=4;for(M=0;8>M;++M)$+=S[j-1+32*M];jo($>>3,S,j)}function Al(S,j){jo(128,S,j)}function Ja(S,j,M){var $=S[j-M],ie=S[j+0],ce=3*(ie-$)+Xv[1020+S[j-2*M]-S[j+M]],ue=F1[112+(ce+4>>3)];S[j-M]=ro[255+$+F1[112+(ce+3>>3)]],S[j+0]=ro[255+ie-ue]}function gs(S,j,M,$){var ie=S[j+0],ce=S[j+M];return Ro[255+S[j-2*M]-S[j-M]]>$||Ro[255+ce-ie]>$}function eu(S,j,M,$){return 4*Ro[255+S[j-M]-S[j+0]]+Ro[255+S[j-2*M]-S[j+M]]<=$}function $c(S,j,M,$,ie){var ce=S[j-3*M],ue=S[j-2*M],me=S[j-M],ge=S[j+0],ve=S[j+M],Te=S[j+2*M],Ve=S[j+3*M];return 4*Ro[255+me-ge]+Ro[255+ue-ve]>$?0:Ro[255+S[j-4*M]-ce]<=ie&&Ro[255+ce-ue]<=ie&&Ro[255+ue-me]<=ie&&Ro[255+Ve-Te]<=ie&&Ro[255+Te-ve]<=ie&&Ro[255+ve-ge]<=ie}function tu(S,j,M,$){var ie=2*$+1;for($=0;16>$;++$)eu(S,j+$,M,ie)&&Ja(S,j+$,M)}function qc(S,j,M,$){var ie=2*$+1;for($=0;16>$;++$)eu(S,j+$*M,1,ie)&&Ja(S,j+$*M,1)}function Vd(S,j,M,$){var ie;for(ie=3;0<ie;--ie)tu(S,j+=4*M,M,$)}function Kd(S,j,M,$){var ie;for(ie=3;0<ie;--ie)qc(S,j+=4,M,$)}function Sr(S,j,M,$,ie,ce,ue,me){for(ce=2*ce+1;0<ie--;){if($c(S,j,M,ce,ue))if(gs(S,j,M,me))Ja(S,j,M);else{var ge=S,ve=j,Te=M,Ve=ge[ve-2*Te],be=ge[ve-Te],Pe=ge[ve+0],Ue=ge[ve+Te],Ye=ge[ve+2*Te],He=27*(et=Xv[1020+3*(Pe-be)+Xv[1020+Ve-Ue]])+63>>7,Ze=18*et+63>>7,et=9*et+63>>7;ge[ve-3*Te]=ro[255+ge[ve-3*Te]+et],ge[ve-2*Te]=ro[255+Ve+Ze],ge[ve-Te]=ro[255+be+He],ge[ve+0]=ro[255+Pe-He],ge[ve+Te]=ro[255+Ue-Ze],ge[ve+2*Te]=ro[255+Ye-et]}j+=$}}function eo(S,j,M,$,ie,ce,ue,me){for(ce=2*ce+1;0<ie--;){if($c(S,j,M,ce,ue))if(gs(S,j,M,me))Ja(S,j,M);else{var ge=S,ve=j,Te=M,Ve=ge[ve-Te],be=ge[ve+0],Pe=ge[ve+Te],Ue=F1[112+(4+(Ye=3*(be-Ve))>>3)],Ye=F1[112+(Ye+3>>3)],He=Ue+1>>1;ge[ve-2*Te]=ro[255+ge[ve-2*Te]+He],ge[ve-Te]=ro[255+Ve+Ye],ge[ve+0]=ro[255+be-Ue],ge[ve+Te]=ro[255+Pe-He]}j+=$}}function O(S,j,M,$,ie,ce){Sr(S,j,M,1,16,$,ie,ce)}function se(S,j,M,$,ie,ce){Sr(S,j,1,M,16,$,ie,ce)}function we(S,j,M,$,ie,ce){var ue;for(ue=3;0<ue;--ue)eo(S,j+=4*M,M,1,16,$,ie,ce)}function Ae(S,j,M,$,ie,ce){var ue;for(ue=3;0<ue;--ue)eo(S,j+=4,1,M,16,$,ie,ce)}function Ie(S,j,M,$,ie,ce,ue,me){Sr(S,j,ie,1,8,ce,ue,me),Sr(M,$,ie,1,8,ce,ue,me)}function ze(S,j,M,$,ie,ce,ue,me){Sr(S,j,1,ie,8,ce,ue,me),Sr(M,$,1,ie,8,ce,ue,me)}function rt(S,j,M,$,ie,ce,ue,me){eo(S,j+4*ie,ie,1,8,ce,ue,me),eo(M,$+4*ie,ie,1,8,ce,ue,me)}function Ot(S,j,M,$,ie,ce,ue,me){eo(S,j+4,1,ie,8,ce,ue,me),eo(M,$+4,1,ie,8,ce,ue,me)}function Kt(){this.ba=new sr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function br(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function zr(){this.ua=0,this.Wa=new dt,this.vb=new dt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new J}function Br(){this.xb=this.a=0,this.l=new Kl,this.ca=new sr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Z,this.Pb=0,this.wd=new Z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new zr,this.ab=0,this.gc=o(4,br),this.Oc=0}function rs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Kl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ur(S,j,M,$,ie,ce,ue){for(S=S==null?0:S[j+0],j=0;j<ue;++j)ie[ce+j]=S+M[$+j]&255,S=ie[ce+j]}function ns(S,j,M,$,ie,ce,ue){var me;if(S==null)ur(null,null,M,$,ie,ce,ue);else for(me=0;me<ue;++me)ie[ce+me]=S[j+me]+M[$+me]&255}function Fn(S,j,M,$,ie,ce,ue){if(S==null)ur(null,null,M,$,ie,ce,ue);else{var me,ge=S[j+0],ve=ge,Te=ge;for(me=0;me<ue;++me)ve=Te+(ge=S[j+me])-ve,Te=M[$+me]+(-256&ve?0>ve?0:255:ve)&255,ve=ge,ie[ce+me]=Te}}function yr(S,j,M,$){var ie=j.width,ce=j.o;if(t(S!=null&&j!=null),0>M||0>=$||M+$>ce)return null;if(!S.Cc){if(S.ga==null){var ue;if(S.ga=new rs,(ue=S.ga==null)||(ue=j.width*j.o,t(S.Gb.length==0),S.Gb=i(ue),S.Uc=0,S.Gb==null?ue=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,ue=1),ue=!ue),!ue){ue=S.ga;var me=S.Fa,ge=S.P,ve=S.qc,Te=S.mb,Ve=S.nb,be=ge+1,Pe=ve-1,Ue=ue.l;if(t(me!=null&&Te!=null&&j!=null),ou[0]=null,ou[1]=ur,ou[2]=ns,ou[3]=Fn,ue.ca=Te,ue.tb=Ve,ue.c=j.width,ue.i=j.height,t(0<ue.c&&0<ue.i),1>=ve)j=0;else if(ue.$a=3&me[ge+0],ue.Z=me[ge+0]>>2&3,ue.Lc=me[ge+0]>>4&3,ge=me[ge+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ge)j=0;else if(Ue.put=Et,Ue.ac=sn,Ue.bc=an,Ue.ma=ue,Ue.width=j.width,Ue.height=j.height,Ue.Da=j.Da,Ue.v=j.v,Ue.va=j.va,Ue.j=j.j,Ue.o=j.o,ue.$a)e:{t(ue.$a==1),j=si();t:for(;;){if(j==null){j=0;break e}if(t(ue!=null),ue.mc=j,j.c=ue.c,j.i=ue.i,j.l=ue.l,j.l.ma=ue,j.l.width=ue.c,j.l.height=ue.i,j.a=0,X(j.m,me,be,Pe),!Eo(ue.c,ue.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&na(j.s)?(ue.ic=1,me=j.c*j.i,j.Ta=null,j.Ua=0,j.V=i(me),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(ue.ic=0,j=Mc(j,ue.c)),!j))break t;j=1;break e}ue.mc=null,j=0}else j=Pe>=ue.c*ue.i;ue=!j}if(ue)return null;S.ga.Lc!=1?S.Ga=0:$=ce-M}t(S.ga!=null),t(M+$<=ce);e:{if(j=(me=S.ga).c,ce=me.l.o,me.$a==0){if(be=S.rc,Pe=S.Vc,Ue=S.Fa,ge=S.P+1+M*j,ve=S.mb,Te=S.nb+M*j,t(ge<=S.P+S.qc),me.Z!=0)for(t(ou[me.Z]!=null),ue=0;ue<$;++ue)ou[me.Z](be,Pe,Ue,ge,ve,Te,j),be=ve,Pe=Te,Te+=j,ge+=j;else for(ue=0;ue<$;++ue)n(ve,Te,Ue,ge,j),be=ve,Pe=Te,Te+=j,ge+=j;S.rc=be,S.Vc=Pe}else{if(t(me.mc!=null),j=M+$,t((ue=me.mc)!=null),t(j<=ue.i),ue.C>=j)j=1;else if(me.ic||Sa(),me.ic){me=ue.V,be=ue.Ba,Pe=ue.c;var Ye=ue.i,He=(Ue=1,ge=ue.$/Pe,ve=ue.$%Pe,Te=ue.m,Ve=ue.s,ue.$),Ze=Pe*Ye,et=Pe*j,ut=Ve.wc,st=He<et?hn(Ve,ve,ge):null;t(He<=Ze),t(j<=Ye),t(na(Ve));t:for(;;){for(;!Te.h&&He<et;){if(ve&ut||(st=hn(Ve,ve,ge)),t(st!=null),pe(Te),256>(Ye=Dr(st.G[0],st.H[0],Te)))me[be+He]=Ye,++He,++ve>=Pe&&(ve=0,++ge<=j&&!(ge%16)&&ni(ue,ge));else{if(!(280>Ye)){Ue=0;break t}Ye=Gr(Ye-256,Te);var Zt,Ut=Dr(st.G[4],st.H[4],Te);if(pe(Te),!(He>=(Ut=Sn(Pe,Ut=Gr(Ut,Te)))&&Ze-He>=Ye)){Ue=0;break t}for(Zt=0;Zt<Ye;++Zt)me[be+He+Zt]=me[be+He+Zt-Ut];for(He+=Ye,ve+=Ye;ve>=Pe;)ve-=Pe,++ge<=j&&!(ge%16)&&ni(ue,ge);He<et&&ve&ut&&(st=hn(Ve,ve,ge))}t(Te.h==ee(Te))}ni(ue,ge>j?j:ge);break t}!Ue||Te.h&&He<Ze?(Ue=0,ue.a=Te.h?5:3):ue.$=He,j=Ue}else j=ki(ue,ue.V,ue.Ba,ue.c,ue.i,j,fi);if(!j){$=0;break e}}M+$>=ce&&(S.Cc=1),$=1}if(!$)return null;if(S.Cc&&(($=S.ga)!=null&&($.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+M*ie}function Gt(S,j,M,$,ie,ce){for(;0<ie--;){var ue,me=S,ge=j+(M?1:0),ve=S,Te=j+(M?0:3);for(ue=0;ue<$;++ue){var Ve=ve[Te+4*ue];Ve!=255&&(Ve*=32897,me[ge+4*ue+0]=me[ge+4*ue+0]*Ve>>23,me[ge+4*ue+1]=me[ge+4*ue+1]*Ve>>23,me[ge+4*ue+2]=me[ge+4*ue+2]*Ve>>23)}j+=ce}}function Wl(S,j,M,$,ie){for(;0<$--;){var ce;for(ce=0;ce<M;++ce){var ue=S[j+2*ce+0],me=15&(ve=S[j+2*ce+1]),ge=4369*me,ve=(240&ve|ve>>4)*ge>>16;S[j+2*ce+0]=(240&ue|ue>>4)*ge>>16&240|(15&ue|ue<<4)*ge>>16>>4&15,S[j+2*ce+1]=240&ve|me}j+=ie}}function xn(S,j,M,$,ie,ce,ue,me){var ge,ve,Te=255;for(ve=0;ve<ie;++ve){for(ge=0;ge<$;++ge){var Ve=S[j+ge];ce[ue+4*ge]=Ve,Te&=Ve}j+=M,ue+=me}return Te!=255}function To(S,j,M,$,ie){var ce;for(ce=0;ce<ie;++ce)M[$+ce]=S[j+ce]>>8}function Sa(){Gd=Gt,s6=Wl,i6=xn,a6=To}function to(S,j,M){k[S]=function($,ie,ce,ue,me,ge,ve,Te,Ve,be,Pe,Ue,Ye,He,Ze,et,ut){var st,Zt=ut-1>>1,Ut=me[ge+0]|ve[Te+0]<<16,Fr=Ve[be+0]|Pe[Ue+0]<<16;t($!=null);var Wt=3*Ut+Fr+131074>>2;for(j($[ie+0],255&Wt,Wt>>16,Ye,He),ce!=null&&(Wt=3*Fr+Ut+131074>>2,j(ce[ue+0],255&Wt,Wt>>16,Ze,et)),st=1;st<=Zt;++st){var $r=me[ge+st]|ve[Te+st]<<16,zs=Ve[be+st]|Pe[Ue+st]<<16,jr=Ut+$r+Fr+zs+524296,zt=jr+2*($r+Fr)>>3;Wt=zt+Ut>>1,Ut=(jr=jr+2*(Ut+zs)>>3)+$r>>1,j($[ie+2*st-1],255&Wt,Wt>>16,Ye,He+(2*st-1)*M),j($[ie+2*st-0],255&Ut,Ut>>16,Ye,He+(2*st-0)*M),ce!=null&&(Wt=jr+Fr>>1,Ut=zt+zs>>1,j(ce[ue+2*st-1],255&Wt,Wt>>16,Ze,et+(2*st-1)*M),j(ce[ue+2*st+0],255&Ut,Ut>>16,Ze,et+(2*st+0)*M)),Ut=$r,Fr=zs}1&ut||(Wt=3*Ut+Fr+131074>>2,j($[ie+ut-1],255&Wt,Wt>>16,Ye,He+(ut-1)*M),ce!=null&&(Wt=3*Fr+Ut+131074>>2,j(ce[ue+ut-1],255&Wt,Wt>>16,Ze,et+(ut-1)*M)))}}function Pi(){Do[j1]=hK,Do[_1]=g6,Do[d6]=fK,Do[T1]=x6,Do[k1]=y6,Do[Yv]=w6,Do[h6]=mK,Do[Zv]=g6,Do[Jv]=x6,Do[L1]=y6,Do[eb]=w6}function zl(S){return S&~pK?0>S?0:255:S>>v6}function ul(S,j){return zl((19077*S>>8)+(26149*j>>8)-14234)}function xs(S,j,M){return zl((19077*S>>8)-(6419*j>>8)-(13320*M>>8)+8708)}function ko(S,j){return zl((19077*S>>8)+(33050*j>>8)-17685)}function Lo(S,j,M,$,ie){$[ie+0]=ul(S,M),$[ie+1]=xs(S,j,M),$[ie+2]=ko(S,j)}function ru(S,j,M,$,ie){$[ie+0]=ko(S,j),$[ie+1]=xs(S,j,M),$[ie+2]=ul(S,M)}function Po(S,j,M,$,ie){var ce=xs(S,j,M);j=ce<<3&224|ko(S,j)>>3,$[ie+0]=248&ul(S,M)|ce>>5,$[ie+1]=j}function Gs(S,j,M,$,ie){var ce=240&ko(S,j)|15;$[ie+0]=240&ul(S,M)|xs(S,j,M)>>4,$[ie+1]=ce}function hf(S,j,M,$,ie){$[ie+0]=255,Lo(S,j,M,$,ie+1)}function Oo(S,j,M,$,ie){ru(S,j,M,$,ie),$[ie+3]=255}function ff(S,j,M,$,ie){Lo(S,j,M,$,ie),$[ie+3]=255}function jn(S,j){return 0>S?0:S>j?j:S}function pi(S,j,M){k[S]=function($,ie,ce,ue,me,ge,ve,Te,Ve){for(var be=Te+(-2&Ve)*M;Te!=be;)j($[ie+0],ce[ue+0],me[ge+0],ve,Te),j($[ie+1],ce[ue+0],me[ge+0],ve,Te+M),ie+=2,++ue,++ge,Te+=2*M;1&Ve&&j($[ie+0],ce[ue+0],me[ge+0],ve,Te)}}function ii(S,j,M){return M==0?S==0?j==0?6:5:j==0?4:0:M}function nu(S,j,M,$,ie){switch(S>>>30){case 3:Ee(j,M,$,ie,0);break;case 2:Re(j,M,$,ie);break;case 1:ot(j,M,$,ie)}}function Ws(S,j){var M,$,ie=j.M,ce=j.Nb,ue=S.oc,me=S.pc+40,ge=S.oc,ve=S.pc+584,Te=S.oc,Ve=S.pc+600;for(M=0;16>M;++M)ue[me+32*M-1]=129;for(M=0;8>M;++M)ge[ve+32*M-1]=129,Te[Ve+32*M-1]=129;for(0<ie?ue[me-1-32]=ge[ve-1-32]=Te[Ve-1-32]=129:(s(ue,me-32-1,127,21),s(ge,ve-32-1,127,9),s(Te,Ve-32-1,127,9)),$=0;$<S.za;++$){var be=j.ya[j.aa+$];if(0<$){for(M=-1;16>M;++M)n(ue,me+32*M-4,ue,me+32*M+12,4);for(M=-1;8>M;++M)n(ge,ve+32*M-4,ge,ve+32*M+4,4),n(Te,Ve+32*M-4,Te,Ve+32*M+4,4)}var Pe=S.Gd,Ue=S.Hd+$,Ye=be.ad,He=be.Hc;if(0<ie&&(n(ue,me-32,Pe[Ue].y,0,16),n(ge,ve-32,Pe[Ue].f,0,8),n(Te,Ve-32,Pe[Ue].ea,0,8)),be.Za){var Ze=ue,et=me-32+16;for(0<ie&&($>=S.za-1?s(Ze,et,Pe[Ue].y[15],4):n(Ze,et,Pe[Ue+1].y,0,4)),M=0;4>M;M++)Ze[et+128+M]=Ze[et+256+M]=Ze[et+384+M]=Ze[et+0+M];for(M=0;16>M;++M,He<<=2)Ze=ue,et=me+C6[M],dl[be.Ob[M]](Ze,et),nu(He,Ye,16*+M,Ze,et)}else if(Ze=ii($,ie,be.Ob[0]),au[Ze](ue,me),He!=0)for(M=0;16>M;++M,He<<=2)nu(He,Ye,16*+M,ue,me+C6[M]);for(M=be.Gc,Ze=ii($,ie,be.Dd),Jc[Ze](ge,ve),Jc[Ze](Te,Ve),He=Ye,Ze=ge,et=ve,255&(be=0|M)&&(170&be?We(He,256,Ze,et):ht(He,256,Ze,et)),be=Te,He=Ve,255&(M>>=8)&&(170&M?We(Ye,320,be,He):ht(Ye,320,be,He)),ie<S.Ub-1&&(n(Pe[Ue].y,0,ue,me+480,16),n(Pe[Ue].f,0,ge,ve+224,8),n(Pe[Ue].ea,0,Te,Ve+224,8)),M=8*ce*S.B,Pe=S.sa,Ue=S.ta+16*$+16*ce*S.R,Ye=S.qa,be=S.ra+8*$+M,He=S.Ha,Ze=S.Ia+8*$+M,M=0;16>M;++M)n(Pe,Ue+M*S.R,ue,me+32*M,16);for(M=0;8>M;++M)n(Ye,be+M*S.B,ge,ve+32*M,8),n(He,Ze+M*S.B,Te,Ve+32*M,8)}}function su(S,j,M,$,ie,ce,ue,me,ge){var ve=[0],Te=[0],Ve=0,be=ge!=null?ge.kd:0,Pe=ge??new mr;if(S==null||12>M)return 7;Pe.data=S,Pe.w=j,Pe.ha=M,j=[j],M=[M],Pe.gb=[Pe.gb];e:{var Ue=j,Ye=M,He=Pe.gb;if(t(S!=null),t(Ye!=null),t(He!=null),He[0]=0,12<=Ye[0]&&!r(S,Ue[0],"RIFF")){if(r(S,Ue[0]+8,"WEBP")){He=3;break e}var Ze=Ce(S,Ue[0]+4);if(12>Ze||4294967286<Ze){He=3;break e}if(be&&Ze>Ye[0]-8){He=7;break e}He[0]=Ze,Ue[0]+=12,Ye[0]-=12}He=0}if(He!=0)return He;for(Ze=0<Pe.gb[0],M=M[0];;){e:{var et=S;Ye=j,He=M;var ut=ve,st=Te,Zt=Ue=[0];if((Wt=Ve=[Ve])[0]=0,8>He[0])He=7;else{if(!r(et,Ye[0],"VP8X")){if(Ce(et,Ye[0]+4)!=10){He=3;break e}if(18>He[0]){He=7;break e}var Ut=Ce(et,Ye[0]+8),Fr=1+Se(et,Ye[0]+12);if(2147483648<=Fr*(et=1+Se(et,Ye[0]+15))){He=3;break e}Zt!=null&&(Zt[0]=Ut),ut!=null&&(ut[0]=Fr),st!=null&&(st[0]=et),Ye[0]+=18,He[0]-=18,Wt[0]=1}He=0}}if(Ve=Ve[0],Ue=Ue[0],He!=0)return He;if(Ye=!!(2&Ue),!Ze&&Ve)return 3;if(ce!=null&&(ce[0]=!!(16&Ue)),ue!=null&&(ue[0]=Ye),me!=null&&(me[0]=0),ue=ve[0],Ue=Te[0],Ve&&Ye&&ge==null){He=0;break}if(4>M){He=7;break}if(Ze&&Ve||!Ze&&!Ve&&!r(S,j[0],"ALPH")){M=[M],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{Ut=S,He=j,Ze=M;var Wt=Pe.gb;ut=Pe.na,st=Pe.P,Zt=Pe.Sa,Fr=22,t(Ut!=null),t(Ze!=null),et=He[0];var $r=Ze[0];for(t(ut!=null),t(Zt!=null),ut[0]=null,st[0]=null,Zt[0]=0;;){if(He[0]=et,Ze[0]=$r,8>$r){He=7;break e}var zs=Ce(Ut,et+4);if(4294967286<zs){He=3;break e}var jr=8+zs+1&-2;if(Fr+=jr,0<Wt&&Fr>Wt){He=3;break e}if(!r(Ut,et,"VP8 ")||!r(Ut,et,"VP8L")){He=0;break e}if($r[0]<jr){He=7;break e}r(Ut,et,"ALPH")||(ut[0]=Ut,st[0]=et+8,Zt[0]=zs),et+=jr,$r-=jr}}if(M=M[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],He!=0)break}M=[M],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(Wt=S,He=j,Ze=M,ut=Pe.gb[0],st=Pe.Ja,Zt=Pe.xa,Ut=He[0],et=!r(Wt,Ut,"VP8 "),Fr=!r(Wt,Ut,"VP8L"),t(Wt!=null),t(Ze!=null),t(st!=null),t(Zt!=null),8>Ze[0])He=7;else{if(et||Fr){if(Wt=Ce(Wt,Ut+4),12<=ut&&Wt>ut-12){He=3;break e}if(be&&Wt>Ze[0]-8){He=7;break e}st[0]=Wt,He[0]+=8,Ze[0]-=8,Zt[0]=Fr}else Zt[0]=5<=Ze[0]&&Wt[Ut+0]==47&&!(Wt[Ut+4]>>5),st[0]=Ze[0];He=0}if(M=M[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],j=j[0],He!=0)break;if(4294967286<Pe.Ja)return 3;if(me==null||Ye||(me[0]=Pe.xa?2:1),ue=[ue],Ue=[Ue],Pe.xa){if(5>M){He=7;break}me=ue,be=Ue,Ye=ce,S==null||5>M?S=0:5<=M&&S[j+0]==47&&!(S[j+4]>>5)?(Ze=[0],Wt=[0],ut=[0],X(st=new Z,S,j,M),ms(st,Ze,Wt,ut)?(me!=null&&(me[0]=Ze[0]),be!=null&&(be[0]=Wt[0]),Ye!=null&&(Ye[0]=ut[0]),S=1):S=0):S=0}else{if(10>M){He=7;break}me=Ue,S==null||10>M||!ts(S,j+3,M-3)?S=0:(be=S[j+0]|S[j+1]<<8|S[j+2]<<16,Ye=16383&(S[j+7]<<8|S[j+6]),S=16383&(S[j+9]<<8|S[j+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=Pe.Ja||!Ye||!S?S=0:(ue&&(ue[0]=Ye),me&&(me[0]=S),S=1))}if(!S||(ue=ue[0],Ue=Ue[0],Ve&&(ve[0]!=ue||Te[0]!=Ue)))return 3;ge!=null&&(ge[0]=Pe,ge.offset=j-ge.w,t(4294967286>j-ge.w),t(ge.offset==ge.ha-M));break}return He==0||He==7&&Ve&&ge==null?(ce!=null&&(ce[0]|=Pe.na!=null&&0<Pe.na.length),$!=null&&($[0]=ue),ie!=null&&(ie[0]=Ue),0):He}function ai(S,j,M){var $=j.width,ie=j.height,ce=0,ue=0,me=$,ge=ie;if(j.Da=S!=null&&0<S.Da,j.Da&&(me=S.cd,ge=S.bd,ce=S.v,ue=S.j,11>M||(ce&=-2,ue&=-2),0>ce||0>ue||0>=me||0>=ge||ce+me>$||ue+ge>ie))return 0;if(j.v=ce,j.j=ue,j.va=ce+me,j.o=ue+ge,j.U=me,j.T=ge,j.da=S!=null&&0<S.da,j.da){if(!Je(me,ge,M=[S.ib],ce=[S.hb]))return 0;j.ib=M[0],j.hb=ce[0]}return j.ob=S!=null&&S.ob,j.Kb=S==null||!S.Sd,j.da&&(j.ob=j.ib<3*$/4&&j.hb<3*ie/4,j.Kb=0),1}function Oi(S){if(S==null)return 2;if(11>S.S){var j=S.f.RGBA;j.fb+=(S.height-1)*j.A,j.A=-j.A}else j=S.f.kb,S=S.height,j.O+=(S-1)*j.fa,j.fa=-j.fa,j.N+=(S-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(S-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(S-1)*j.lb,j.lb=-j.lb);return 0}function $l(S,j,M,$){if($==null||0>=S||0>=j)return 2;if(M!=null){if(M.Da){var ie=M.cd,ce=M.bd,ue=-2&M.v,me=-2&M.j;if(0>ue||0>me||0>=ie||0>=ce||ue+ie>S||me+ce>j)return 2;S=ie,j=ce}if(M.da){if(!Je(S,j,ie=[M.ib],ce=[M.hb]))return 2;S=ie[0],j=ce[0]}}$.width=S,$.height=j;e:{var ge=$.width,ve=$.height;if(S=$.S,0>=ge||0>=ve||!(S>=j1&&13>S))S=2;else{if(0>=$.Rd&&$.sd==null){ue=ce=ie=j=0;var Te=(me=ge*B6[S])*ve;if(11>S||(ce=(ve+1)/2*(j=(ge+1)/2),S==12&&(ue=(ie=ge)*ve)),(ve=i(Te+2*ce+ue))==null){S=1;break e}$.sd=ve,11>S?((ge=$.f.RGBA).eb=ve,ge.fb=0,ge.A=me,ge.size=Te):((ge=$.f.kb).y=ve,ge.O=0,ge.fa=me,ge.Fd=Te,ge.f=ve,ge.N=0+Te,ge.Ab=j,ge.Cd=ce,ge.ea=ve,ge.W=0+Te+ce,ge.Db=j,ge.Ed=ce,S==12&&(ge.F=ve,ge.J=0+Te+2*ce),ge.Tc=ue,ge.lb=ie)}if(j=1,ie=$.S,ce=$.width,ue=$.height,ie>=j1&&13>ie)if(11>ie)S=$.f.RGBA,j&=(me=Math.abs(S.A))*(ue-1)+ce<=S.size,j&=me>=ce*B6[ie],j&=S.eb!=null;else{S=$.f.kb,me=(ce+1)/2,Te=(ue+1)/2,ge=Math.abs(S.fa),ve=Math.abs(S.Ab);var Ve=Math.abs(S.Db),be=Math.abs(S.lb),Pe=be*(ue-1)+ce;j&=ge*(ue-1)+ce<=S.Fd,j&=ve*(Te-1)+me<=S.Cd,j=(j&=Ve*(Te-1)+me<=S.Ed)&ge>=ce&ve>=me&Ve>=me,j&=S.y!=null,j&=S.f!=null,j&=S.ea!=null,ie==12&&(j&=be>=ce,j&=Pe<=S.Tc,j&=S.F!=null)}else j=0;S=j?0:2}}return S!=0||M!=null&&M.fd&&(S=Oi($)),S}var Is=64,ql=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xc=24,Ea=32,tr=8,iu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(S){return S},k.Predictor2=function(S,j,M){return j[M+0]},k.Predictor3=function(S,j,M){return j[M+1]},k.Predictor4=function(S,j,M){return j[M-1]},k.Predictor5=function(S,j,M){return bt(bt(S,j[M+1]),j[M+0])},k.Predictor6=function(S,j,M){return bt(S,j[M-1])},k.Predictor7=function(S,j,M){return bt(S,j[M+0])},k.Predictor8=function(S,j,M){return bt(j[M-1],j[M+0])},k.Predictor9=function(S,j,M){return bt(j[M+0],j[M+1])},k.Predictor10=function(S,j,M){return bt(bt(S,j[M-1]),bt(j[M+0],j[M+1]))},k.Predictor11=function(S,j,M){var $=j[M+0];return 0>=At($>>24&255,S>>24&255,(j=j[M-1])>>24&255)+At($>>16&255,S>>16&255,j>>16&255)+At($>>8&255,S>>8&255,j>>8&255)+At(255&$,255&S,255&j)?$:S},k.Predictor12=function(S,j,M){var $=j[M+0];return(nt((S>>24&255)+($>>24&255)-((j=j[M-1])>>24&255))<<24|nt((S>>16&255)+($>>16&255)-(j>>16&255))<<16|nt((S>>8&255)+($>>8&255)-(j>>8&255))<<8|nt((255&S)+(255&$)-(255&j)))>>>0},k.Predictor13=function(S,j,M){var $=j[M-1];return(ct((S=bt(S,j[M+0]))>>24&255,$>>24&255)<<24|ct(S>>16&255,$>>16&255)<<16|ct(S>>8&255,$>>8&255)<<8|ct(255&S,255&$))>>>0};var te=k.PredictorAdd0;k.PredictorAdd1=Ht,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var c=k.PredictorAdd2;Bt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),Bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var d,f=k.ColorIndexInverseTransform,p=k.MapARGB,x=k.VP8LColorIndexInverseTransformAlpha,w=k.MapAlpha,E=k.VP8LPredictorsAdd=[];E.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var _,L,W,re,le,xe,Ne,Ee,Re,We,ot,ht,lt,Pr,wr,gi,Ia,xi,fn,Qs,Ri,Yc,Zc,I1,Gd,s6,i6,a6,o6=i(511),l6=i(2041),c6=i(225),A6=i(767),u6=0,Xv=l6,F1=c6,ro=A6,Ro=o6,j1=0,_1=1,d6=2,T1=3,k1=4,Yv=5,h6=6,Zv=7,Jv=8,L1=9,eb=10,JV=[2,3,7],eK=[3,3,11],f6=[280,256,256,256,40],tK=[0,1,1,1,0],rK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],nK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],sK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],iK=8,tb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],rb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Bm=null,aK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],m6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],cK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],AK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],au=[],dl=[],Jc=[],dK=1,p6=2,ou=[],Do=[];to("UpsampleRgbLinePair",Lo,3),to("UpsampleBgrLinePair",ru,3),to("UpsampleRgbaLinePair",ff,4),to("UpsampleBgraLinePair",Oo,4),to("UpsampleArgbLinePair",hf,4),to("UpsampleRgba4444LinePair",Gs,2),to("UpsampleRgb565LinePair",Po,2);var hK=k.UpsampleRgbLinePair,fK=k.UpsampleBgrLinePair,g6=k.UpsampleRgbaLinePair,x6=k.UpsampleBgraLinePair,y6=k.UpsampleArgbLinePair,w6=k.UpsampleRgba4444LinePair,mK=k.UpsampleRgb565LinePair,P1=16,O1=1<<P1-1,Nm=-227,nb=482,v6=6,pK=(256<<v6)-1,b6=0,gK=i(256),xK=i(256),yK=i(256),wK=i(256),vK=i(nb-Nm),bK=i(nb-Nm);pi("YuvToRgbRow",Lo,3),pi("YuvToBgrRow",ru,3),pi("YuvToRgbaRow",ff,4),pi("YuvToBgraRow",Oo,4),pi("YuvToArgbRow",hf,4),pi("YuvToRgba4444Row",Gs,2),pi("YuvToRgb565Row",Po,2);var C6=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],R1=[0,2,8],CK=[8,7,6,4,4,2,2,2,1,1,1,1],BK=1;this.WebPDecodeRGBA=function(S,j,M,$,ie){var ce=_1,ue=new Kt,me=new sr;ue.ba=me,me.S=ce,me.width=[me.width],me.height=[me.height];var ge=me.width,ve=me.height,Te=new Dt;if(Te==null||S==null)var Ve=2;else t(Te!=null),Ve=su(S,j,M,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(Ve!=0?ge=0:(ge!=null&&(ge[0]=Te.width[0]),ve!=null&&(ve[0]=Te.height[0]),ge=1),ge){me.width=me.width[0],me.height=me.height[0],$!=null&&($[0]=me.width),ie!=null&&(ie[0]=me.height);e:{if($=new Kl,(ie=new mr).data=S,ie.w=j,ie.ha=M,ie.kd=1,j=[0],t(ie!=null),((S=su(ie.data,ie.w,ie.ha,null,null,null,j,null,ie))==0||S==7)&&j[0]&&(S=4),(j=S)==0){if(t(ue!=null),$.data=ie.data,$.w=ie.w+ie.offset,$.ha=ie.ha-ie.offset,$.put=Et,$.ac=sn,$.bc=an,$.ma=ue,ie.xa){if((S=si())==null){ue=1;break e}if(function(be,Pe){var Ue=[0],Ye=[0],He=[0];t:for(;;){if(be==null)return 0;if(Pe==null)return be.a=2,0;if(be.l=Pe,be.a=0,X(be.m,Pe.data,Pe.w,Pe.ha),!ms(be.m,Ue,Ye,He)){be.a=3;break t}if(be.xb=p6,Pe.width=Ue[0],Pe.height=Ye[0],!Eo(Ue[0],Ye[0],1,be,null))break t;return 1}return t(be.a!=0),0}(S,$)){if($=(j=$l($.width,$.height,ue.Oa,ue.ba))==0){t:{$=S;r:for(;;){if($==null){$=0;break t}if(t($.s.yc!=null),t($.s.Ya!=null),t(0<$.s.Wb),t((M=$.l)!=null),t((ie=M.ma)!=null),$.xb!=0){if($.ca=ie.ba,$.tb=ie.tb,t($.ca!=null),!ai(ie.Oa,M,T1)){$.a=2;break r}if(!Mc($,M.width)||M.da)break r;if((M.da||yt($.ca.S))&&Sa(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Sa()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!he($.s.vb,$.s.Wa.Xa)){$.a=1;break r}$.xb=0}if(!ki($,$.V,$.Ba,$.c,$.i,M.o,ra))break r;ie.Dc=$.Ma,$=1;break t}t($.a!=0),$=0}$=!$}$&&(j=S.a)}else j=S.a}else{if((S=new Md)==null){ue=1;break e}if(S.Fa=ie.na,S.P=ie.P,S.qc=ie.Sa,Ya(S,$)){if((j=$l($.width,$.height,ue.Oa,ue.ba))==0){if(S.Aa=0,M=ue.Oa,t((ie=S)!=null),M!=null){if(0<(ge=0>(ge=M.Md)?0:100<ge?255:255*ge/100)){for(ve=Te=0;4>ve;++ve)12>(Ve=ie.pb[ve]).lc&&(Ve.ia=ge*CK[0>Ve.lc?0:Ve.lc]>>3),Te|=Ve.ia;Te&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=M.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}(function(be,Pe){if(be==null)return 0;if(Pe==null)return es(be,2,"NULL VP8Io parameter in VP8Decode().");if(!be.cb&&!Ya(be,Pe))return 0;if(t(be.cb),Pe.ac==null||Pe.ac(Pe)){Pe.ob&&(be.L=0);var Ue=R1[be.L];if(be.L==2?(be.yb=0,be.zb=0):(be.yb=Pe.v-Ue>>4,be.zb=Pe.j-Ue>>4,0>be.yb&&(be.yb=0),0>be.zb&&(be.zb=0)),be.Va=Pe.o+15+Ue>>4,be.Hb=Pe.va+15+Ue>>4,be.Hb>be.za&&(be.Hb=be.za),be.Va>be.Ub&&(be.Va=be.Ub),0<be.L){var Ye=be.ed;for(Ue=0;4>Ue;++Ue){var He;if(be.Qa.Cb){var Ze=be.Qa.Lb[Ue];be.Qa.Fb||(Ze+=Ye.Tb)}else Ze=Ye.Tb;for(He=0;1>=He;++He){var et=be.gd[Ue][He],ut=Ze;if(Ye.Pc&&(ut+=Ye.vd[0],He&&(ut+=Ye.od[0])),0<(ut=0>ut?0:63<ut?63:ut)){var st=ut;0<Ye.wb&&(st=4<Ye.wb?st>>2:st>>1)>9-Ye.wb&&(st=9-Ye.wb),1>st&&(st=1),et.dd=st,et.tc=2*ut+st,et.ld=40<=ut?2:15<=ut?1:0}else et.tc=0;et.La=He}}}Ue=0}else es(be,6,"Frame setup failed"),Ue=be.a;if(Ue=Ue==0){if(Ue){be.$c=0,0<be.Aa||(be.Ic=BK);t:{Ue=be.Ic,Ye=4*(st=be.za);var Zt=32*st,Ut=st+1,Fr=0<be.L?st*(0<be.Aa?2:1):0,Wt=(be.Aa==2?2:1)*st;if((et=Ye+832+(He=3*(16*Ue+R1[be.L])/2*Zt)+(Ze=be.Fa!=null&&0<be.Fa.length?be.Kc.c*be.Kc.i:0))!=et)Ue=0;else{if(et>be.Vb){if(be.Vb=0,be.Ec=i(et),be.Fc=0,be.Ec==null){Ue=es(be,1,"no memory during frame initialization.");break t}be.Vb=et}et=be.Ec,ut=be.Fc,be.Ac=et,be.Bc=ut,ut+=Ye,be.Gd=o(Zt,Qr),be.Hd=0,be.rb=o(Ut+1,En),be.sb=1,be.wa=Fr?o(Fr,Na):null,be.Y=0,be.D.Nb=0,be.D.wa=be.wa,be.D.Y=be.Y,0<be.Aa&&(be.D.Y+=st),t(!0),be.oc=et,be.pc=ut,ut+=832,be.ya=o(Wt,Ud),be.aa=0,be.D.ya=be.ya,be.D.aa=be.aa,be.Aa==2&&(be.D.aa+=st),be.R=16*st,be.B=8*st,st=(Zt=R1[be.L])*be.R,Zt=Zt/2*be.B,be.sa=et,be.ta=ut+st,be.qa=be.sa,be.ra=be.ta+16*Ue*be.R+Zt,be.Ha=be.qa,be.Ia=be.ra+8*Ue*be.B+Zt,be.$c=0,ut+=He,be.mb=Ze?et:null,be.nb=Ze?ut:null,t(ut+Ze<=be.Fc+be.Vb),gn(be),s(be.Ac,be.Bc,0,Ye),Ue=1}}if(Ue){if(Pe.ka=0,Pe.y=be.sa,Pe.O=be.ta,Pe.f=be.qa,Pe.N=be.ra,Pe.ea=be.Ha,Pe.Vd=be.Ia,Pe.fa=be.R,Pe.Rc=be.B,Pe.F=null,Pe.J=0,!u6){for(Ue=-255;255>=Ue;++Ue)o6[255+Ue]=0>Ue?-Ue:Ue;for(Ue=-1020;1020>=Ue;++Ue)l6[1020+Ue]=-128>Ue?-128:127<Ue?127:Ue;for(Ue=-112;112>=Ue;++Ue)c6[112+Ue]=-16>Ue?-16:15<Ue?15:Ue;for(Ue=-255;510>=Ue;++Ue)A6[255+Ue]=0>Ue?0:255<Ue?255:Ue;u6=1}Ne=mi,Ee=Me,We=ye,ot=_t,ht=ls,Re=Ms,lt=O,Pr=se,wr=Ie,gi=ze,Ia=we,xi=Ae,fn=rt,Qs=Ot,Ri=tu,Yc=qc,Zc=Vd,I1=Kd,dl[0]=ar,dl[1]=Hc,dl[2]=Kc,dl[3]=Fo,dl[4]=bm,dl[5]=kn,dl[6]=dr,dl[7]=Cm,dl[8]=Gc,dl[9]=Hd,au[0]=Io,au[1]=Jt,au[2]=Tn,au[3]=YA,au[4]=ZA,au[5]=cl,au[6]=Qd,Jc[0]=_o,Jc[1]=Li,Jc[2]=Za,Jc[3]=Wc,Jc[4]=JA,Jc[5]=zc,Jc[6]=Al,Ue=1}else Ue=0}Ue&&(Ue=function($r,zs){for($r.M=0;$r.M<$r.Va;++$r.M){var jr,zt=$r.Jc[$r.M&$r.Xb],wt=$r.m,Fs=$r;for(jr=0;jr<Fs.za;++jr){var Nr=wt,Jr=Fs,zn=Jr.Ac,yi=Jr.Bc+4*jr,sa=Jr.zc,ys=Jr.ya[Jr.aa+jr];if(Jr.Qa.Bb?ys.$b=Le(Nr,Jr.Pa.jb[0])?2+Le(Nr,Jr.Pa.jb[2]):Le(Nr,Jr.Pa.jb[1]):ys.$b=0,Jr.kc&&(ys.Ad=Le(Nr,Jr.Bd)),ys.Za=!Le(Nr,145)+0,ys.Za){var Di=ys.Ob,ia=0;for(Jr=0;4>Jr;++Jr){var $s,tn=sa[0+Jr];for($s=0;4>$s;++$s){tn=cK[zn[yi+$s]][tn];for(var yn=m6[Le(Nr,tn[0])];0<yn;)yn=m6[2*yn+Le(Nr,tn[yn])];tn=-yn,zn[yi+$s]=tn}n(Di,ia,zn,yi,4),ia+=4,sa[0+Jr]=tn}}else tn=Le(Nr,156)?Le(Nr,128)?1:3:Le(Nr,163)?2:0,ys.Ob[0]=tn,s(zn,yi,tn,4),s(sa,0,tn,4);ys.Dd=Le(Nr,142)?Le(Nr,114)?Le(Nr,183)?1:3:2:0}if(Fs.m.Ka)return es($r,7,"Premature end-of-partition0 encountered.");for(;$r.ja<$r.za;++$r.ja){if(Fs=zt,Nr=(wt=$r).rb[wt.sb-1],zn=wt.rb[wt.sb+wt.ja],jr=wt.ya[wt.aa+wt.ja],yi=wt.kc?jr.Ad:0)Nr.la=zn.la=0,jr.Za||(Nr.Na=zn.Na=0),jr.Hc=0,jr.Gc=0,jr.ia=0;else{var ws,wn;if(Nr=zn,zn=Fs,yi=wt.Pa.Xc,sa=wt.ya[wt.aa+wt.ja],ys=wt.pb[sa.$b],Jr=sa.ad,Di=0,ia=wt.rb[wt.sb-1],tn=$s=0,s(Jr,Di,0,384),sa.Za)var wi=0,hl=yi[3];else{yn=i(16);var js=Nr.Na+ia.Na;if(js=Bm(zn,yi[1],js,ys.Eb,0,yn,0),Nr.Na=ia.Na=(0<js)+0,1<js)Ne(yn,0,Jr,Di);else{var Fa=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)Jr[Di+yn]=Fa}wi=1,hl=yi[0]}var Ln=15&Nr.la,qs=15&ia.la;for(yn=0;4>yn;++yn){var no=1&qs;for(Fa=wn=0;4>Fa;++Fa)Ln=Ln>>1|(no=(js=Bm(zn,hl,js=no+(1&Ln),ys.Sc,wi,Jr,Di))>wi)<<7,wn=wn<<2|(3<js?3:1<js?2:Jr[Di+0]!=0),Di+=16;Ln>>=4,qs=qs>>1|no<<7,$s=($s<<8|wn)>>>0}for(hl=Ln,wi=qs>>4,ws=0;4>ws;ws+=2){for(wn=0,Ln=Nr.la>>4+ws,qs=ia.la>>4+ws,yn=0;2>yn;++yn){for(no=1&qs,Fa=0;2>Fa;++Fa)js=no+(1&Ln),Ln=Ln>>1|(no=0<(js=Bm(zn,yi[2],js,ys.Qc,0,Jr,Di)))<<3,wn=wn<<2|(3<js?3:1<js?2:Jr[Di+0]!=0),Di+=16;Ln>>=2,qs=qs>>1|no<<5}tn|=wn<<4*ws,hl|=Ln<<4<<ws,wi|=(240&qs)<<ws}Nr.la=hl,ia.la=wi,sa.Hc=$s,sa.Gc=tn,sa.ia=43690&tn?0:ys.ia,yi=!($s|tn)}if(0<wt.L&&(wt.wa[wt.Y+wt.ja]=wt.gd[jr.$b][jr.Za],wt.wa[wt.Y+wt.ja].La|=!yi),Fs.Ka)return es($r,7,"Premature end-of-file encountered.")}if(gn($r),wt=zs,Fs=1,jr=(zt=$r).D,Nr=0<zt.L&&zt.M>=zt.zb&&zt.M<=zt.Va,zt.Aa==0)t:{if(jr.M=zt.M,jr.uc=Nr,Ws(zt,jr),Fs=1,jr=(wn=zt.D).Nb,Nr=(tn=R1[zt.L])*zt.R,zn=tn/2*zt.B,yn=16*jr*zt.R,Fa=8*jr*zt.B,yi=zt.sa,sa=zt.ta-Nr+yn,ys=zt.qa,Jr=zt.ra-zn+Fa,Di=zt.Ha,ia=zt.Ia-zn+Fa,qs=(Ln=wn.M)==0,$s=Ln>=zt.Va-1,zt.Aa==2&&Ws(zt,wn),wn.uc)for(no=(js=zt).D.M,t(js.D.uc),wn=js.yb;wn<js.Hb;++wn){wi=wn,hl=no;var aa=(so=(vi=js).D).Nb;ws=vi.R;var so=so.wa[so.Y+wi],io=vi.sa,ja=vi.ta+16*aa*ws+16*wi,ao=so.dd,Mn=so.tc;if(Mn!=0)if(t(3<=Mn),vi.L==1)0<wi&&Yc(io,ja,ws,Mn+4),so.La&&I1(io,ja,ws,Mn),0<hl&&Ri(io,ja,ws,Mn+4),so.La&&Zc(io,ja,ws,Mn);else{var oo=vi.B,fl=vi.qa,Wd=vi.ra+8*aa*oo+8*wi,eA=vi.Ha,vi=vi.Ia+8*aa*oo+8*wi;aa=so.ld,0<wi&&(Pr(io,ja,ws,Mn+4,ao,aa),gi(fl,Wd,eA,vi,oo,Mn+4,ao,aa)),so.La&&(xi(io,ja,ws,Mn,ao,aa),Qs(fl,Wd,eA,vi,oo,Mn,ao,aa)),0<hl&&(lt(io,ja,ws,Mn+4,ao,aa),wr(fl,Wd,eA,vi,oo,Mn+4,ao,aa)),so.La&&(Ia(io,ja,ws,Mn,ao,aa),fn(fl,Wd,eA,vi,oo,Mn,ao,aa))}}if(zt.ia&&alert("todo:DitherRow"),wt.put!=null){if(wn=16*Ln,Ln=16*(Ln+1),qs?(wt.y=zt.sa,wt.O=zt.ta+yn,wt.f=zt.qa,wt.N=zt.ra+Fa,wt.ea=zt.Ha,wt.W=zt.Ia+Fa):(wn-=tn,wt.y=yi,wt.O=sa,wt.f=ys,wt.N=Jr,wt.ea=Di,wt.W=ia),$s||(Ln-=tn),Ln>wt.o&&(Ln=wt.o),wt.F=null,wt.J=null,zt.Fa!=null&&0<zt.Fa.length&&wn<Ln&&(wt.J=yr(zt,wt,wn,Ln-wn),wt.F=zt.mb,wt.F==null&&wt.F.length==0)){Fs=es(zt,3,"Could not decode alpha data.");break t}wn<wt.j&&(tn=wt.j-wn,wn=wt.j,t(!(1&tn)),wt.O+=zt.R*tn,wt.N+=zt.B*(tn>>1),wt.W+=zt.B*(tn>>1),wt.F!=null&&(wt.J+=wt.width*tn)),wn<Ln&&(wt.O+=wt.v,wt.N+=wt.v>>1,wt.W+=wt.v>>1,wt.F!=null&&(wt.J+=wt.v),wt.ka=wn-wt.j,wt.U=wt.va-wt.v,wt.T=Ln-wn,Fs=wt.put(wt))}jr+1!=zt.Ic||$s||(n(zt.sa,zt.ta-Nr,yi,sa+16*zt.R,Nr),n(zt.qa,zt.ra-zn,ys,Jr+8*zt.B,zn),n(zt.Ha,zt.Ia-zn,Di,ia+8*zt.B,zn))}if(!Fs)return es($r,6,"Output aborted.")}return 1}(be,Pe)),Pe.bc!=null&&Pe.bc(Pe),Ue&=1}return Ue?(be.cb=0,Ue):0})(S,$)||(j=S.a)}}else j=S.a}j==0&&ue.Oa!=null&&ue.Oa.fd&&(j=Oi(ue.ba))}ue=j}ce=ue!=0?null:11>ce?me.f.RGBA.eb:me.f.kb.y}else ce=null;return ce};var B6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,z){for(var R="",H=0;H<4;H++)R+=String.fromCharCode(k[z++]);return R}function h(k,z){return k[z+0]|k[z+1]<<8}function m(k,z){return(k[z+0]|k[z+1]<<8|k[z+2]<<16)>>>0}function y(k,z){return(k[z+0]|k[z+1]<<8|k[z+2]<<16|k[z+3]<<24)>>>0}new A;var g=[0],b=[0],C=[],I=new A,v=e,N=function(k,z){var R={},H=0,J=!1,ne=0,Y=0;if(R.frames=[],!function(Q,Z){for(var ae=0;ae<4;ae++)if(Q[Z+ae]!="RIFF".charCodeAt(ae))return!0;return!1}(k,z)){for(y(k,z+=4),z+=8;z<k.length;){var G=u(k,z),K=y(k,z+=4);z+=4;var q=K+(1&K);switch(G){case"VP8 ":case"VP8L":R.frames[H]===void 0&&(R.frames[H]={}),(de=R.frames[H]).src_off=J?Y:z-8,de.src_size=ne+K+8,H++,J&&(J=!1,ne=0,Y=0);break;case"VP8X":(de=R.header={}).feature_flags=k[z];var X=z+4;de.canvas_width=1+m(k,X),X+=3,de.canvas_height=1+m(k,X),X+=3;break;case"ALPH":J=!0,ne=q+8,Y=z-8;break;case"ANIM":(de=R.header).bgcolor=y(k,z),X=z+4,de.loop_count=h(k,X),X+=2;break;case"ANMF":var fe,de;(de=R.frames[H]={}).offset_x=2*m(k,z),z+=3,de.offset_y=2*m(k,z),z+=3,de.width=1+m(k,z),z+=3,de.height=1+m(k,z),z+=3,de.duration=m(k,z),z+=3,fe=k[z++],de.dispose=1&fe,de.blend=fe>>1&1}G!="ANMF"&&(z+=q)}return R}}(v,0);N.response=v,N.rgbaoutput=!0,N.dataurl=!1;var F=N.header?N.header:null,T=N.frames?N.frames:null;if(F){F.loop_counter=F.loop_count,g=[F.canvas_height],b=[F.canvas_width];for(var D=0;D<T.length&&T[D].blend!=0;D++);}var V=T[0],P=I.WebPDecodeRGBA(v,V.src_off,V.src_size,b,g);V.rgba=P,V.imgwidth=b[0],V.imgheight=g[0];for(var U=0;U<b[0]*g[0]*4;U++)C[U]=P[U];return this.width=b,this.height=g,this.data=C,this}(function(e){var t,r,n,s,i,o,l,A,u,h=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new A,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,A=this.internal.Matrix,u=new h}]);var m=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Z=Q;Object.defineProperty(this,"pdf",{get:function(){return Z}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(Ce){ae=!!Ce}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Ce){ee=!!Ce}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Ce){isNaN(Ce)||(oe=Ce)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(Ce){isNaN(Ce)||(pe=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ce){var he;typeof Ce=="number"?he=[Ce,Ce,Ce,Ce]:((he=new Array(4))[0]=Ce[0],he[1]=Ce.length>=2?Ce[1]:he[0],he[2]=Ce.length>=3?Ce[2]:he[0],he[3]=Ce.length>=4?Ce[3]:he[1]),u.margin=he}});var Be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Be},set:function(Ce){Be=Ce}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(Ce){_e=Ce}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(Ce){Le=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ce){Ce instanceof h&&(u=Ce)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ce){u.path=Ce}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Ce){ke=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var he;he=y(Ce),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var he=y(Ce);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var Oe=null,Se=null;Object.defineProperty(this,"fontFaces",{get:function(){return Se},set:function(Ce){Oe=null,Se=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var he;if(this.ctx.font=Ce,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var ft=he[1];he[2];var dt=he[3],Je=he[4];he[5];var Qe=he[6],vt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(vt==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:vt==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var Ke=function(Lt){var Bt,Mr,Yt=[],Ge=Lt.trim();if(Ge==="")return FC;if(Ge in E8)return[E8[Ge]];for(;Ge!=="";){switch(Mr=null,Bt=(Ge=F8(Ge)).charAt(0)){case'"':case"'":Mr=tce(Ge.substring(1),Bt);break;default:Mr=rce(Ge)}if(Mr===null||(Yt.push(Mr[0]),(Ge=F8(Mr[1]))!==""&&Ge.charAt(0)!==","))return FC;Ge=Ge.replace(/^,/,"")}return Yt}(Qe);if(this.fontFaces){var Vt=function(Lt,Bt){if(Oe===null){var Mr=function(Yt){var Ge=[];return Object.keys(Yt).forEach(function(jt){Yt[jt].forEach(function($e){var at=null;switch($e){case"bold":at={family:jt,weight:"bold"};break;case"italic":at={family:jt,style:"italic"};break;case"bolditalic":at={family:jt,weight:"bold",style:"italic"};break;case"":case"normal":at={family:jt}}at!==null&&(at.ref={name:jt,style:$e},Ge.push(at))})}),Ge}(Lt.getFontList());Oe=function(Yt){for(var Ge={},jt=0;jt<Yt.length;++jt){var $e=IC(Yt[jt]),at=$e.family,mt=$e.stretch,yt=$e.style,Kr=$e.weight;Ge[at]=Ge[at]||{},Ge[at][mt]=Ge[at][mt]||{},Ge[at][mt][yt]=Ge[at][mt][yt]||{},Ge[at][mt][yt][Kr]=$e}return Ge}(Mr.concat(Bt))}return Oe}(this.pdf,this.fontFaces),bt=Ke.map(function(Lt){return{family:Lt,stretch:"normal",weight:dt,style:ft}}),nt=function(Lt,Bt,Mr){for(var Yt=(Mr=Mr||{}).defaultFontFamily||"times",Ge=Object.assign({},ece,Mr.genericFontFamilies||{}),jt=null,$e=null,at=0;at<Bt.length;++at)if(Ge[(jt=IC(Bt[at])).family]&&(jt.family=Ge[jt.family]),Lt.hasOwnProperty(jt.family)){$e=Lt[jt.family];break}if(!($e=$e||Lt[Yt]))throw new Error("Could not find a font-family for the rule '"+I8(jt)+"' and default family '"+Yt+"'.");if($e=function(mt,yt){if(yt[mt])return yt[mt];var Kr=RB[mt],$t=Kr<=RB.normal?-1:1,sr=S8(yt,SU,Kr,$t);if(!sr)throw new Error("Could not find a matching font-stretch value for "+mt);return sr}(jt.stretch,$e),$e=function(mt,yt){if(yt[mt])return yt[mt];for(var Kr=NU[mt],$t=0;$t<Kr.length;++$t)if(yt[Kr[$t]])return yt[Kr[$t]];throw new Error("Could not find a matching font-style for "+mt)}(jt.style,$e),!($e=function(mt,yt){if(yt[mt])return yt[mt];if(mt===400&&yt[500])return yt[500];if(mt===500&&yt[400])return yt[400];var Kr=Jle[mt],$t=S8(yt,EU,Kr,mt<400?-1:1);if(!$t)throw new Error("Could not find a matching font-weight for value "+mt);return $t}(jt.weight,$e)))throw new Error("Failed to resolve a font for the rule '"+I8(jt)+"'.");return $e}(Vt,bt);this.pdf.setFont(nt.ref.name,nt.ref.style)}else{var ct="";(dt==="bold"||parseInt(dt,10)>=700||ft==="bold")&&(ct="bold"),ft==="italic"&&(ct+="italic"),ct.length===0&&(ct="normal");for(var At="",Ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Ke.length;St++){if(this.pdf.internal.getFont(Ke[St],ct,{noFallback:!0,disableWarning:!0})!==void 0){At=Ke[St];break}if(ct==="bolditalic"&&this.pdf.internal.getFont(Ke[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=Ke[St],ct="bold";else if(this.pdf.internal.getFont(Ke[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=Ke[St],ct="normal";break}}if(At===""){for(var xt=0;xt<Ke.length;xt++)if(Ht[Ke[xt]]){At=Ht[Ke[xt]];break}}At=At===""?"Times":At,this.pdf.setFont(At,ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};m.prototype.setLineDash=function(Q){this.lineDash=Q},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){T.call(this,"fill",!1)},m.prototype.stroke=function(){T.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(Q,Z){if(isNaN(Q)||isNaN(Z))throw Pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new o(Q,Z));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(Q,Z)},m.prototype.closePath=function(){var Q=new o(0,0),Z=0;for(Z=this.path.length-1;Z!==-1;Z--)if(this.path[Z].type==="begin"&&en(this.path[Z+1])==="object"&&typeof this.path[Z+1].x=="number"){Q=new o(this.path[Z+1].x,this.path[Z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},m.prototype.lineTo=function(Q,Z){if(isNaN(Q)||isNaN(Z))throw Pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new o(Q,Z));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},m.prototype.quadraticCurveTo=function(Q,Z,ae,ee){if(isNaN(ae)||isNaN(ee)||isNaN(Q)||isNaN(Z))throw Pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(ae,ee)),pe=this.ctx.transform.applyToPoint(new o(Q,Z));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},m.prototype.bezierCurveTo=function(Q,Z,ae,ee,oe,pe){if(isNaN(oe)||isNaN(pe)||isNaN(Q)||isNaN(Z)||isNaN(ae)||isNaN(ee))throw Pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Be=this.ctx.transform.applyToPoint(new o(oe,pe)),_e=this.ctx.transform.applyToPoint(new o(Q,Z)),Le=this.ctx.transform.applyToPoint(new o(ae,ee));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Le.x,y2:Le.y,x:Be.x,y:Be.y}),this.ctx.lastPoint=new o(Be.x,Be.y)},m.prototype.arc=function(Q,Z,ae,ee,oe,pe){if(isNaN(Q)||isNaN(Z)||isNaN(ae)||isNaN(ee)||isNaN(oe))throw Pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var Be=this.ctx.transform.applyToPoint(new o(Q,Z));Q=Be.x,Z=Be.y;var _e=this.ctx.transform.applyToPoint(new o(0,ae)),Le=this.ctx.transform.applyToPoint(new o(0,0));ae=Math.sqrt(Math.pow(_e.x-Le.x,2)+Math.pow(_e.y-Le.y,2))}Math.abs(oe-ee)>=2*Math.PI&&(ee=0,oe=2*Math.PI),this.path.push({type:"arc",x:Q,y:Z,radius:ae,startAngle:ee,endAngle:oe,counterclockwise:pe})},m.prototype.arcTo=function(Q,Z,ae,ee,oe){throw new Error("arcTo not implemented.")},m.prototype.rect=function(Q,Z,ae,ee){if(isNaN(Q)||isNaN(Z)||isNaN(ae)||isNaN(ee))throw Pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,Z),this.lineTo(Q+ae,Z),this.lineTo(Q+ae,Z+ee),this.lineTo(Q,Z+ee),this.lineTo(Q,Z),this.lineTo(Q+ae,Z),this.lineTo(Q,Z)},m.prototype.fillRect=function(Q,Z,ae,ee){if(isNaN(Q)||isNaN(Z)||isNaN(ae)||isNaN(ee))throw Pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,Z,ae,ee),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},m.prototype.strokeRect=function(Q,Z,ae,ee){if(isNaN(Q)||isNaN(Z)||isNaN(ae)||isNaN(ee))throw Pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(Q,Z,ae,ee),this.stroke())},m.prototype.clearRect=function(Q,Z,ae,ee){if(isNaN(Q)||isNaN(Z)||isNaN(ae)||isNaN(ee))throw Pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,Z,ae,ee))},m.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(Z),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},m.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var Z=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(Z),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(Q){var Z,ae,ee,oe;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))Z=0,ae=0,ee=0,oe=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(pe!==null)Z=parseInt(pe[1]),ae=parseInt(pe[2]),ee=parseInt(pe[3]),oe=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)Z=parseInt(pe[1]),ae=parseInt(pe[2]),ee=parseInt(pe[3]),oe=parseFloat(pe[4]);else{if(oe=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var Be=new xU(Q);Q=Be.ok?Be.toHex():"#000000"}Q.length===4?(Z=Q.substring(1,2),Z+=Z,ae=Q.substring(2,3),ae+=ae,ee=Q.substring(3,4),ee+=ee):(Z=Q.substring(1,3),ae=Q.substring(3,5),ee=Q.substring(5,7)),Z=parseInt(Z,16),ae=parseInt(ae,16),ee=parseInt(ee,16)}}return{r:Z,g:ae,b:ee,a:oe,style:Q}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(Q,Z,ae,ee){if(isNaN(Z)||isNaN(ae)||typeof Q!="string")throw Pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!g.call(this)){var oe=q(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;H.call(this,{text:Q,x:Z,y:ae,scale:pe,angle:oe,align:this.textAlign,maxWidth:ee})}},m.prototype.strokeText=function(Q,Z,ae,ee){if(isNaN(Z)||isNaN(ae)||typeof Q!="string")throw Pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ee=isNaN(ee)?void 0:ee;var oe=q(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;H.call(this,{text:Q,x:Z,y:ae,scale:pe,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ee})}},m.prototype.measureText=function(Q){if(typeof Q!="string")throw Pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Z=this.pdf,ae=this.pdf.internal.scaleFactor,ee=Z.internal.getFontSize(),oe=Z.getStringUnitWidth(Q)*ee/Z.internal.scaleFactor;return new function(pe){var Be=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Be}}),this}({width:oe*=Math.round(96*ae/72*1e4)/1e4})},m.prototype.scale=function(Q,Z){if(isNaN(Q)||isNaN(Z))throw Pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new A(Q,0,0,Z,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.rotate=function(Q){if(isNaN(Q))throw Pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Z=new A(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.translate=function(Q,Z){if(isNaN(Q)||isNaN(Z))throw Pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new A(1,0,0,1,Q,Z);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.transform=function(Q,Z,ae,ee,oe,pe){if(isNaN(Q)||isNaN(Z)||isNaN(ae)||isNaN(ee)||isNaN(oe)||isNaN(pe))throw Pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Be=new A(Q,Z,ae,ee,oe,pe);this.ctx.transform=this.ctx.transform.multiply(Be)},m.prototype.setTransform=function(Q,Z,ae,ee,oe,pe){Q=isNaN(Q)?1:Q,Z=isNaN(Z)?0:Z,ae=isNaN(ae)?0:ae,ee=isNaN(ee)?1:ee,oe=isNaN(oe)?0:oe,pe=isNaN(pe)?0:pe,this.ctx.transform=new A(Q,Z,ae,ee,oe,pe)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(Q,Z,ae,ee,oe,pe,Be,_e,Le){var ke=this.pdf.getImageProperties(Q),Oe=1,Se=1,Ce=1,he=1;ee!==void 0&&_e!==void 0&&(Ce=_e/ee,he=Le/oe,Oe=ke.width/ee*_e/ee,Se=ke.height/oe*Le/oe),pe===void 0&&(pe=Z,Be=ae,Z=0,ae=0),ee!==void 0&&_e===void 0&&(_e=ee,Le=oe),ee===void 0&&_e===void 0&&(_e=ke.width,Le=ke.height);for(var ft,dt=this.ctx.transform.decompose(),Je=q(dt.rotate.shx),Qe=new A,vt=(Qe=(Qe=(Qe=Qe.multiply(dt.translate)).multiply(dt.skew)).multiply(dt.scale)).applyToRectangle(new l(pe-Z*Ce,Be-ae*he,ee*Oe,oe*Se)),Ke=I.call(this,vt),Vt=[],bt=0;bt<Ke.length;bt+=1)Vt.indexOf(Ke[bt])===-1&&Vt.push(Ke[bt]);if(F(Vt),this.autoPaging)for(var nt=Vt[0],ct=Vt[Vt.length-1],At=nt;At<ct+1;At++){this.pdf.setPage(At);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=At===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bt=At===1?0:xt+(At-2)*Lt;if(this.ctx.clip_path.length!==0){var Mr=this.path;ft=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ft,this.posX+this.margin[3],-Bt+St+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Mr}var Yt=JSON.parse(JSON.stringify(vt));Yt=N([Yt],this.posX+this.margin[3],-Bt+St+this.ctx.prevPageLastElemOffset)[0];var Ge=(At>nt||At<ct)&&C.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,Lt,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Je),Ge&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,Je)};var I=function(Q,Z,ae){var ee=[];Z=Z||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":ee.push(Math.floor((Q.y+oe)/ae)+1);break;case"arc":ee.push(Math.floor((Q.y+oe-Q.radius)/ae)+1),ee.push(Math.floor((Q.y+oe+Q.radius)/ae)+1);break;case"qct":var pe=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);ee.push(Math.floor((pe.y+oe)/ae)+1),ee.push(Math.floor((pe.y+pe.h+oe)/ae)+1);break;case"bct":var Be=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);ee.push(Math.floor((Be.y+oe)/ae)+1),ee.push(Math.floor((Be.y+Be.h+oe)/ae)+1);break;case"rect":ee.push(Math.floor((Q.y+oe)/ae)+1),ee.push(Math.floor((Q.y+Q.h+oe)/ae)+1)}for(var _e=0;_e<ee.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<ee[_e];)v.call(this);return ee},v=function(){var Q=this.fillStyle,Z=this.strokeStyle,ae=this.font,ee=this.lineCap,oe=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=Z,this.font=ae,this.lineCap=ee,this.lineWidth=oe,this.lineJoin=pe},N=function(Q,Z,ae){for(var ee=0;ee<Q.length;ee++)switch(Q[ee].type){case"bct":Q[ee].x2+=Z,Q[ee].y2+=ae;case"qct":Q[ee].x1+=Z,Q[ee].y1+=ae;default:Q[ee].x+=Z,Q[ee].y+=ae}return Q},F=function(Q){return Q.sort(function(Z,ae){return Z-ae})},T=function(Q,Z){for(var ae,ee,oe=this.fillStyle,pe=this.strokeStyle,Be=this.lineCap,_e=this.lineWidth,Le=Math.abs(_e*this.ctx.transform.scaleX),ke=this.lineJoin,Oe=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),Ce=[],he=0;he<Se.length;he++)if(Se[he].x!==void 0)for(var ft=I.call(this,Se[he]),dt=0;dt<ft.length;dt+=1)Ce.indexOf(ft[dt])===-1&&Ce.push(ft[dt]);for(var Je=0;Je<Ce.length;Je++)for(;this.pdf.internal.getNumberOfPages()<Ce[Je];)v.call(this);if(F(Ce),this.autoPaging)for(var Qe=Ce[0],vt=Ce[Ce.length-1],Ke=Qe;Ke<vt+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=oe,this.strokeStyle=pe,this.lineCap=Be,this.lineWidth=Le,this.lineJoin=ke;var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=Ke===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=Ke===1?0:nt+(Ke-2)*ct;if(this.ctx.clip_path.length!==0){var Ht=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ae,this.posX+this.margin[3],-At+bt+this.ctx.prevPageLastElemOffset),D.call(this,Q,!0),this.path=Ht}if(ee=JSON.parse(JSON.stringify(Oe)),this.path=N(ee,this.posX+this.margin[3],-At+bt+this.ctx.prevPageLastElemOffset),Z===!1||Ke===0){var St=(Ke>Qe||Ke<vt)&&C.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,ct,null).clip().discardPath()),D.call(this,Q,Z),St&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}else this.lineWidth=Le,D.call(this,Q,Z),this.lineWidth=_e;this.path=Oe},D=function(Q,Z){if((Q!=="stroke"||Z||!b.call(this))&&(Q==="stroke"||Z||!g.call(this))){for(var ae,ee,oe=[],pe=this.path,Be=0;Be<pe.length;Be++){var _e=pe[Be];switch(_e.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:_e,deltas:[],abs:[]});break;case"lt":var Le=oe.length;if(pe[Be-1]&&!isNaN(pe[Be-1].x)&&(ae=[_e.x-pe[Be-1].x,_e.y-pe[Be-1].y],Le>0)){for(;Le>=0;Le--)if(oe[Le-1].close!==!0&&oe[Le-1].begin!==!0){oe[Le-1].deltas.push(ae),oe[Le-1].abs.push(_e);break}}break;case"bct":ae=[_e.x1-pe[Be-1].x,_e.y1-pe[Be-1].y,_e.x2-pe[Be-1].x,_e.y2-pe[Be-1].y,_e.x-pe[Be-1].x,_e.y-pe[Be-1].y],oe[oe.length-1].deltas.push(ae);break;case"qct":var ke=pe[Be-1].x+2/3*(_e.x1-pe[Be-1].x),Oe=pe[Be-1].y+2/3*(_e.y1-pe[Be-1].y),Se=_e.x+2/3*(_e.x1-_e.x),Ce=_e.y+2/3*(_e.y1-_e.y),he=_e.x,ft=_e.y;ae=[ke-pe[Be-1].x,Oe-pe[Be-1].y,Se-pe[Be-1].x,Ce-pe[Be-1].y,he-pe[Be-1].x,ft-pe[Be-1].y],oe[oe.length-1].deltas.push(ae);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(_e)}}ee=Z?null:Q==="stroke"?"stroke":"fill";for(var dt=!1,Je=0;Je<oe.length;Je++)if(oe[Je].arc)for(var Qe=oe[Je].abs,vt=0;vt<Qe.length;vt++){var Ke=Qe[vt];Ke.type==="arc"?U.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,Z,!dt):J.call(this,Ke.x,Ke.y),dt=!0}else if(oe[Je].close===!0)this.pdf.internal.out("h"),dt=!1;else if(oe[Je].begin!==!0){var Vt=oe[Je].start.x,bt=oe[Je].start.y;ne.call(this,oe[Je].deltas,Vt,bt),dt=!0}ee&&k.call(this,ee),Z&&z.call(this)}},V=function(Q){var Z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=Z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-ae;case"top":return Q+Z-ae;case"hanging":return Q+Z-2*ae;case"middle":return Q+Z/2-ae;default:return Q}},P=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(Z,ae){this.colorStops.push([Z,ae])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(Q,Z,ae,ee,oe,pe,Be,_e,Le){for(var ke=G.call(this,ae,ee,oe,pe),Oe=0;Oe<ke.length;Oe++){var Se=ke[Oe];Oe===0&&(Le?R.call(this,Se.x1+Q,Se.y1+Z):J.call(this,Se.x1+Q,Se.y1+Z)),Y.call(this,Q,Z,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}_e?z.call(this):k.call(this,Be)},k=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(Q,Z){this.pdf.internal.out(r(Q)+" "+n(Z)+" m")},H=function(Q){var Z;switch(Q.align){case"right":case"end":Z="right";break;case"center":Z="center";break;default:Z="left"}var ae=this.pdf.getTextDimensions(Q.text),ee=V.call(this,Q.y),oe=P.call(this,ee)-ae.h,pe=this.ctx.transform.applyToPoint(new o(Q.x,ee)),Be=this.ctx.transform.decompose(),_e=new A;_e=(_e=(_e=_e.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale);for(var Le,ke,Oe,Se=this.ctx.transform.applyToRectangle(new l(Q.x,ee,ae.w,ae.h)),Ce=_e.applyToRectangle(new l(Q.x,oe,ae.w,ae.h)),he=I.call(this,Ce),ft=[],dt=0;dt<he.length;dt+=1)ft.indexOf(he[dt])===-1&&ft.push(he[dt]);if(F(ft),this.autoPaging)for(var Je=ft[0],Qe=ft[ft.length-1],vt=Je;vt<Qe+1;vt++){this.pdf.setPage(vt);var Ke=vt===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],nt=bt-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],At=ct-this.margin[3],Ht=vt===1?0:Vt+(vt-2)*nt;if(this.ctx.clip_path.length!==0){var St=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Le,this.posX+this.margin[3],-1*Ht+Ke),D.call(this,"fill",!0),this.path=St}var xt=N([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-Ht+Ke+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*Q.scale),Oe=this.lineWidth,this.lineWidth=Oe*Q.scale);var Lt=this.autoPaging!=="text";if(Lt||xt.y+xt.h<=bt){if(Lt||xt.y>=Ke&&xt.x<=ct){var Bt=Lt?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||ct-xt.x)[0],Mr=N([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-Ht+Ke+this.ctx.prevPageLastElemOffset)[0],Yt=Lt&&(vt>Je||vt<Qe)&&C.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,nt,null).clip().discardPath()),this.pdf.text(Bt,Mr.x,Mr.y,{angle:Q.angle,align:Z,renderingMode:Q.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else xt.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-xt.y);Q.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Oe)}else Q.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*Q.scale),Oe=this.lineWidth,this.lineWidth=Oe*Q.scale),this.pdf.text(Q.text,pe.x+this.posX,pe.y+this.posY,{angle:Q.angle,align:Z,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Oe)},J=function(Q,Z,ae,ee){ae=ae||0,ee=ee||0,this.pdf.internal.out(r(Q+ae)+" "+n(Z+ee)+" l")},ne=function(Q,Z,ae){return this.pdf.lines(Q,Z,ae,null,null)},Y=function(Q,Z,ae,ee,oe,pe,Be,_e){this.pdf.internal.out([t(s(ae+Q)),t(i(ee+Z)),t(s(oe+Q)),t(i(pe+Z)),t(s(Be+Q)),t(i(_e+Z)),"c"].join(" "))},G=function(Q,Z,ae,ee){for(var oe=2*Math.PI,pe=Math.PI/2;Z>ae;)Z-=oe;var Be=Math.abs(ae-Z);Be<oe&&ee&&(Be=oe-Be);for(var _e=[],Le=ee?-1:1,ke=Z;Be>1e-5;){var Oe=ke+Le*Math.min(Be,pe);_e.push(K.call(this,Q,ke,Oe)),Be-=Math.abs(Oe-ke),ke=Oe}return _e},K=function(Q,Z,ae){var ee=(ae-Z)/2,oe=Q*Math.cos(ee),pe=Q*Math.sin(ee),Be=oe,_e=-pe,Le=Be*Be+_e*_e,ke=Le+Be*oe+_e*pe,Oe=4/3*(Math.sqrt(2*Le*ke)-ke)/(Be*pe-_e*oe),Se=Be-Oe*_e,Ce=_e+Oe*Be,he=Se,ft=-Ce,dt=ee+Z,Je=Math.cos(dt),Qe=Math.sin(dt);return{x1:Q*Math.cos(Z),y1:Q*Math.sin(Z),x2:Se*Je-Ce*Qe,y2:Se*Qe+Ce*Je,x3:he*Je-ft*Qe,y3:he*Qe+ft*Je,x4:Q*Math.cos(ae),y4:Q*Math.sin(ae)}},q=function(Q){return 180*Q/Math.PI},X=function(Q,Z,ae,ee,oe,pe){var Be=Q+.5*(ae-Q),_e=Z+.5*(ee-Z),Le=oe+.5*(ae-oe),ke=pe+.5*(ee-pe),Oe=Math.min(Q,oe,Be,Le),Se=Math.max(Q,oe,Be,Le),Ce=Math.min(Z,pe,_e,ke),he=Math.max(Z,pe,_e,ke);return new l(Oe,Ce,Se-Oe,he-Ce)},fe=function(Q,Z,ae,ee,oe,pe,Be,_e){var Le,ke,Oe,Se,Ce,he,ft,dt,Je,Qe,vt,Ke,Vt,bt,nt=ae-Q,ct=ee-Z,At=oe-ae,Ht=pe-ee,St=Be-oe,xt=_e-pe;for(ke=0;ke<41;ke++)Je=(ft=(Oe=Q+(Le=ke/40)*nt)+Le*((Ce=ae+Le*At)-Oe))+Le*(Ce+Le*(oe+Le*St-Ce)-ft),Qe=(dt=(Se=Z+Le*ct)+Le*((he=ee+Le*Ht)-Se))+Le*(he+Le*(pe+Le*xt-he)-dt),ke==0?(vt=Je,Ke=Qe,Vt=Je,bt=Qe):(vt=Math.min(vt,Je),Ke=Math.min(Ke,Qe),Vt=Math.max(Vt,Je),bt=Math.max(bt,Qe));return new l(Math.round(vt),Math.round(Ke),Math.round(Vt-vt),Math.round(bt-Ke))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,Z,ae=(Q=this.ctx.lineDash,Z=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:Z}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(Xt.API),function(e){var t=function(o){var l,A,u,h,m,y,g,b,C,I;for(A=[],u=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>u;u+=4)(m=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(y=(m=((m=((m=((m=(m-(I=m%85))/85)-(C=m%85))/85)-(b=m%85))/85)-(g=m%85))/85)%85,A.push(y+33,g+33,b+33,C+33,I+33)):A.push(122);return function(v,N){for(var F=N;F>0;F--)v.pop()}(A,l.length),String.fromCharCode.apply(String,A)+"~>"},r=function(o){var l,A,u,h,m,y=String,g="length",b=255,C="charCodeAt",I="slice",v="replace";for(o[I](-2),o=o[I](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),u=[],h=0,m=(o+=l="uuuuu"[I](o[g]%5||5))[g];m>h;h+=5)A=52200625*(o[C](h)-33)+614125*(o[C](h+1)-33)+7225*(o[C](h+2)-33)+85*(o[C](h+3)-33)+(o[C](h+4)-33),u.push(b&A>>24,b&A>>16,b&A>>8,b&A);return function(N,F){for(var T=F;T>0;T--)N.pop()}(u,l[g]),y.fromCharCode.apply(y,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var A="",u=0;u<o.length;u+=2)A+=String.fromCharCode("0x"+(o[u]+o[u+1]));return A},i=function(o){for(var l=new Uint8Array(o.length),A=o.length;A--;)l[A]=o.charCodeAt(A);return(l=BB(l)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,l){var A=0,u=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),A=0;A<l.length;A+=1)switch(l[A]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[A]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(Xt.API),function(e){e.loadFile=function(t,r,n){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(A,u,h){var m=new XMLHttpRequest,y=0,g=function(b){var C=b.length,I=[],v=String.fromCharCode;for(y=0;y<C;y+=1)I.push(v(255&b.charCodeAt(y)));return I.join("")};if(m.open("GET",A,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?h(g(this.responseText)):h(void 0)}),m.send(null),u&&m.status===200)return g(m.responseText)}(s,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Xt.API),function(e){function t(){return(xr.html2canvas?Promise.resolve(xr.html2canvas):sC(()=>Promise.resolve().then(()=>Wfe),void 0,import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(xr.DOMPurify?Promise.resolve(xr.DOMPurify):sC(()=>import("./purify.es-BFmuJLeH.js"),[],import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var A=en(l);return A==="undefined"?"undefined":A==="string"||l instanceof String?"string":A==="number"||l instanceof Number?"number":A==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(l,A){var u=document.createElement(l);for(var h in A.className&&(u.className=A.className),A.innerHTML&&A.dompurify&&(u.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)u.style[h]=A.style[h];return u},i=function l(A,u){for(var h=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),m=A.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,u));return A.nodeType===1&&(A.nodeName==="CANVAS"?(h.width=A.width,h.height=A.height,h.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(h.value=A.value),h.addEventListener("load",function(){h.scrollTop=A.scrollTop,h.scrollLeft=A.scrollLeft},!0)),h},o=function l(A){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),u);return(h=h.setProgress(1,l,1,[l])).set(A)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,A){return l.__proto__=A||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,A){return this.then(function(){switch(A=A||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),A){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(A){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,A(this.prop.container,u)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(A){var u=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var g=0;g<h.length;++g){var b=h[g],C=b.src.find(function(I){return I.format==="truetype"});C&&u.addFont(C.url,b.ref.name,b.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),A(this.prop.container,y)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,A,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,A):this.outputPdf(l,A)},o.prototype.outputPdf=function(l,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,A)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var A=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(A)})},o.prototype.get=function(l,A){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return A?A(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function A(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(l=l||Xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:A(l.inner.width,l.k),height:A(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,A,u,h){return l!=null&&(this.progress.val=l),A!=null&&(this.progress.state=A),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,A,u,h){return this.setProgress(l?this.progress.val+l:null,A||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,A){var u=this;return this.thenCore(l,A,function(h,m){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,h),y}).then(h,m).then(function(y){return u.updateProgress(1),y})})},o.prototype.thenCore=function(l,A,u){u=u||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),A&&(A=A.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),y=u.call(m,l,A);return o.convert(y,h.__proto__)},o.prototype.thenExternal=function(l,A){return Promise.prototype.then.call(this,l,A)},o.prototype.thenList=function(l){var A=this;return l.forEach(function(u){A=A.thenCore(u)}),A},o.prototype.catch=function(l){l&&(l=l.bind(this));var A=Promise.prototype.catch.call(this,l);return o.convert(A,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Xt.getPageSize=function(l,A,u){if(en(l)==="object"){var h=l;l=h.orientation,A=h.unit||A,u=h.format||u}A=A||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var m,y=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+A}var b,C=0,I=0;if(g.hasOwnProperty(y))C=g[y][1]/m,I=g[y][0]/m;else try{C=u[1],I=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",I>C&&(b=I,I=C,C=b);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",C>I&&(b=I,I=C,C=b)}return{width:I,height:C,unit:A,k:m,orientation:l}},e.html=function(l,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(IC):null;var u=new o(A);return A.worker?u:u.from(l).doCallback()}}(Xt.API),Xt.API.addJS=function(e){return _8=e,this.internal.events.subscribe("postPutResources",function(){Sx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),j8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+_8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sx!==void 0&&j8!==void 0&&this.internal.out("/Names <</JavaScript "+Sx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=n.exec(o);if(l!=null){var A=l[1];r.internal.newObjectDeferredBegin(A,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(i=0;i<u;i++){var m=r.internal.newObject();h.push(m);var y=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var A=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Xt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,o,l){var A,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,A=function(m){for(var y,g=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,C={width:0,height:0,numcomponents:1},I=4;I<b;I+=2){if(I+=g,t.indexOf(m.charCodeAt(I+1))!==-1){y=256*m.charCodeAt(I+5)+m.charCodeAt(I+6),C={width:256*m.charCodeAt(I+7)+m.charCodeAt(I+8),height:y,numcomponents:m.charCodeAt(I+9)};break}g=256*m.charCodeAt(I+2)+m.charCodeAt(I+3)}return C}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),A.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:A.width,height:A.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:s}}return h}}(Xt.API),Xt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=Ule(e,{checkCrc:!0}),o=i.width,l=i.height,A=i.channels,u=i.palette,h=i.depth;s=u&&A===1?function(P){for(var U=P.width,k=P.height,z=P.data,R=P.palette,H=P.depth,J=!1,ne=[],Y=[],G=void 0,K=!1,q=0,X=0;X<R.length;X++){var fe=jl(R[X],4),de=fe[0],Q=fe[1],Z=fe[2],ae=fe[3];ne.push(de,Q,Z),ae!=null&&(ae===0?(q++,Y.length<1&&Y.push(X)):ae<255&&(K=!0))}if(K||q>1){J=!0,Y=void 0;var ee=U*k;G=new Uint8Array(ee);for(var oe=new DataView(z.buffer),pe=0;pe<ee;pe++){var Be=jC(oe,pe,H),_e=jl(R[Be],4)[3];G[pe]=_e}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:z,alphaBytes:G,needSMask:J,palette:ne,mask:Y}}(i):A===2||A===4?function(P){for(var U=P.data,k=P.width,z=P.height,R=P.channels,H=P.depth,J=R===2?"DeviceGray":"DeviceRGB",ne=R-1,Y=k*z,G=ne,K=Y*G,q=1*Y,X=Math.ceil(K*H/8),fe=Math.ceil(q*H/8),de=new Uint8Array(X),Q=new Uint8Array(fe),Z=new DataView(U.buffer),ae=new DataView(de.buffer),ee=new DataView(Q.buffer),oe=!1,pe=0;pe<Y;pe++){for(var Be=pe*R,_e=0;_e<G;_e++)M8(ae,jC(Z,Be+_e,H),pe*G+_e,H);var Le=jC(Z,Be+G,H);Le<(1<<H)-1&&(oe=!0),M8(ee,Le,1*pe,H)}return{colorSpace:J,colorsPerPixel:ne,colorBytes:de,alphaBytes:Q,needSMask:oe}}(i):function(P){var U=P.data,k=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:k,colorsPerPixel:k==="DeviceGray"?1:3,colorBytes:U instanceof Uint8Array?U:new Uint8Array(U.buffer),needSMask:!1}}(i);var m,y,g,b=s,C=b.colorSpace,I=b.colorsPerPixel,v=b.colorBytes,N=b.alphaBytes,F=b.needSMask,T=b.palette,D=b.mask,V=null;return n!==Xt.API.image_compression.NONE&&typeof BB=="function"?(V=function(P){var U;switch(P){case Xt.API.image_compression.FAST:U=11;break;case Xt.API.image_compression.MEDIUM:U=13;break;case Xt.API.image_compression.SLOW:U=14;break;default:U=12}return U}(n),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(V," "),e=P8(v,o*I,I,n),F&&(g=P8(N,o,1,n))):(m=void 0,y="",e=v,F&&(g=N)),y+="/Colors ".concat(I," /BitsPerComponent ").concat(h," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:m,decodeParameters:y,transparency:D,palette:T,sMask:g,predictor:V,width:o,height:l,bitsPerComponent:h,colorSpace:C}}},function(e){e.processGIF89A=function(t,r,n,s){var i=new ace(t),o=i.width,l=i.height,A=[];i.decodeAndBlitFrameRGBA(0,A);var u={data:A,width:o,height:l},h=new _C(100).encode(u,100);return e.processJPEG.call(this,h,r,n,s)},e.processGIF87A=e.processGIF89A}(Xt.API),gl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Pn.log("bit decode error:"+r)}},gl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var A=this.palette[i>>7-l&1];this.data[o+4*l]=A.blue,this.data[o+4*l+1]=A.green,this.data[o+4*l+2]=A.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},gl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=i>>4,A=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[A],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},gl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},gl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,A=(i>>10&t)/t*255|0,u=i>>15?255:0,h=n*this.width*4+4*s;this.data[h]=A,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=u}this.pos+=e}},gl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,A=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,h=s*this.width*4+4*i;this.data[h]=u,this.data[h+1]=A,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},gl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},gl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},gl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new gl(t,!1),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},u=new _C(100).encode(A,100);return e.processJPEG.call(this,u,r,n,s)}}(Xt.API),H8.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new H8(t),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},u=new _C(100).encode(A,100);return e.processJPEG.call(this,u,r,n,s)}}(Xt.API),Xt.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,A=0,u=0;u<s;u+=4){var h=n[u],m=n[u+1],y=n[u+2],g=n[u+3];i[l++]=h,i[l++]=m,i[l++]=y,o[A++]=g}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Xt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vf=Xt.API,Ex=vf.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,A=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,h=u.fof?u.fof:1,m=t.doKerning!==!1,y=0,g=e.length,b=0,C=l[0]||A,I=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?I.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(y=m&&en(u[n])==="object"&&!isNaN(parseInt(u[n][b],10))?u[n][b]/h:0,I.push((l[n]||C)/A+y)),b=n;return I},T8=vf.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return vf.processArabic&&(e=vf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:Ex.apply(this,arguments).reduce(function(i,o){return i+o},0)},k8=function(e,t,r,n){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var A=i;for(l=0;i!==o;)l+t[i]>n&&(s.push(e.slice(A,i)),l=0,A=i),l+=t[i],i++;return A!==i&&s.push(e.slice(A,i)),s},L8=function(e,t,r){r||(r={});var n,s,i,o,l,A,u,h=[],m=[h],y=r.textIndent||0,g=0,b=0,C=e.split(" "),I=Ex.apply(this,[" ",r])[0];if(A=r.lineIndent===-1?C[0].length+2:r.lineIndent||0){var v=Array(A).join(" "),N=[];C.map(function(T){(T=T.split(/\s*\n/)).length>1?N=N.concat(T.map(function(D,V){return(V&&D.length?`
`:"")+D})):N.push(T[0])}),C=N,A=T8.apply(this,[v,r])}for(i=0,o=C.length;i<o;i++){var F=0;if(n=C[i],A&&n[0]==`
`&&(n=n.substr(1),F=1),y+g+(b=(s=Ex.apply(this,[n,r])).reduce(function(T,D){return T+D},0))>t||F){if(b>t){for(l=k8.apply(this,[n,s,t-(y+g),t]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);b=s.slice(n.length-(h[0]?h[0].length:0)).reduce(function(T,D){return T+D},0)}else h=[n];m.push(h),y=b+A,g=I}else h.push(n),y+=g+b,g=I}return u=A?function(T,D){return(D?v:"")+T.join(" ")}:function(T){return T.join(" ")},m.map(u)},vf.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,A,u=[];for(l=0,A=n.length;l<A;l++)u=u.concat(L8.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var o=function(y){return"0x"+parseInt(y,10).toString(16)},l=e.__fontmetrics__.compress=function(y){var g,b,C,I,v=["{"];for(var N in y){if(g=y[N],isNaN(parseInt(N,10))?b="'"+N+"'":(N=parseInt(N,10),b=(b=o(N).slice(2)).slice(0,-1)+s[b.slice(-1)]),typeof g=="number")g<0?(C=o(g).slice(3),I="-"):(C=o(g).slice(2),I=""),C=I+C.slice(0,-1)+s[C.slice(-1)];else{if(en(g)!=="object")throw new Error("Don't know what to do with value type "+en(g)+".");C=l(g)}v.push(b+C)}return v.push("}"),v.join("")},A=e.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,b,C,I,v={},N=1,F=v,T=[],D="",V="",P=y.length-1,U=1;U<P;U+=1)(I=y[U])=="'"?g?(C=g.join(""),g=void 0):g=[]:g?g.push(I):I=="{"?(T.push([F,C]),F={},C=void 0):I=="}"?((b=T.pop())[0][b[1]]=F,C=void 0,F=b[0]):I=="-"?N=-1:C===void 0?n.hasOwnProperty(I)?(D+=n[I],C=parseInt(D,16)*N,N=1,D=""):D+=I:n.hasOwnProperty(I)?(V+=n[I],F[C]=parseInt(V,16)*N,N=1,C=void 0,V=""):V+=I;return v},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(y){var g=y.font,b=m.Unicode[g.postScriptName];b&&(g.metadata.Unicode={},g.metadata.Unicode.widths=b.widths,g.metadata.Unicode.kerning=b.kerning);var C=h.Unicode[g.postScriptName];C&&(g.metadata.Unicode.encoding=C,g.encoding=C.codePages[0])}])}(Xt.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Ty(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(Xt),Xt.API.addSvgAsImage=function(e,t,r,n,s,i,o,l){if(isNaN(t)||isNaN(r))throw Pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=n,A.height=s;var u=A.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,A.width,A.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(xr.canvg?Promise.resolve(xr.canvg):sC(()=>import("./index.es-wkS-Kdcp.js"),[],import.meta.url)).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(h)}).then(function(){m.addImage(A.toDataURL("image/jpeg",1),t,r,n,s,o,l)})},Xt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Xt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),A=[],u=0,h=0,m=0;function y(b,C){var I,v=!1;for(I=0;I<b.length;I+=1)b[I]===C&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=l.length;for(m=0;m<g;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(en(e)==="object"){for(s in e)if(i=e[s],y(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&y(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")A.push(String(i[u]-1));else if(i[u].length>1){for(h=0;h<i[u].length;h+=1)typeof i[u][h]!="number"&&(n=!1);n===!0&&A.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+A.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,C=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?C.push("/"+b+" /"+r[b].value):C.push("/"+b+" "+r[b].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+A),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Xt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,A=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],m=0,y=i.length;m<y;++m){if(l=o.metadata.characterToGlyph(i.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(m),A.indexOf(l)==-1&&(A.push(l),A.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(u[4-l.length],l)}return h.join("")},n=function(i){var o,l,A,u,h,m,y;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],m=0,y=(l=Object.keys(i).sort(function(g,b){return g-b})).length;m<y;m++)o=l[m],A.length>=100&&(h+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+u+">"));return A.length&&(h+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",b=0;b<y.length;b++)g+=String.fromCharCode(y[b]);var C=u();h({data:g,addLength1:!0,objectId:C}),A("endobj");var I=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:I}),A("endobj");var v=u();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+Lf(l.fontName)),A("/FontFile2 "+C+" 0 R"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/Flags "+l.metadata.flags),A("/StemV "+l.metadata.stemV),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A(">>"),A("endobj");var N=u();A("<<"),A("/Type /Font"),A("/BaseFont /"+Lf(l.fontName)),A("/FontDescriptor "+v+" 0 R"),A("/W "+e.API.PDFObject.convert(m)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+l.encoding+")"),A(">>"),A(">>"),A("endobj"),l.objectNumber=u(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+I+" 0 R"),A("/BaseFont /"+Lf(l.fontName)),A("/Encoding /"+l.encoding),A("/DescendantFonts ["+N+" 0 R]"),A(">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,y="",g=0;g<m.length;g++)y+=String.fromCharCode(m[g]);var b=u();h({data:y,addLength1:!0,objectId:b}),A("endobj");var C=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:C}),A("endobj");var I=u();A("<<"),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A("/StemV "+l.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+b+" 0 R"),A("/Flags 96"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/FontName /"+Lf(l.fontName)),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A(">>"),A("endobj"),l.objectNumber=u();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+Lf(l.fontName)+"/FontDescriptor "+I+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",A=i.x,u=i.y,h=i.options||{},m=i.mutex||{},y=m.pdfEscape,g=m.activeFontKey,b=m.fonts,C=g,I="",v=0,N="",F=b[C].encoding;if(b[C].encoding!=="Identity-H")return{text:l,x:A,y:u,options:h,mutex:m};for(N=l,C=g,Array.isArray(l)&&(N=l[0]),v=0;v<N.length;v+=1)b[C].metadata.hasOwnProperty("cmap")&&(o=b[C].metadata.cmap.unicode.codeMap[N[v].charCodeAt(0)]),o||N[v].charCodeAt(0)<256&&b[C].metadata.hasOwnProperty("Unicode")?I+=N[v]:I+="";var T="";return parseInt(C.slice(1))<14||F==="WinAnsiEncoding"?T=y(I,C).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):F==="Identity-H"&&(T=r(I,b[C])),m.isHex=!0,{text:T,x:A,y:u,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],A={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},A,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},A,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},A,{text:o})).text}])}(Xt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Xt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,o,l,A,u,h,m=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},I=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,F=0;this.__bidiEngine__={};var T=function(R){var H=R.charCodeAt(),J=H>>8,ne=C[J];return ne!==void 0?m[256*ne+(255&H)]:J===252||J===253?"AL":v.test(J)?"L":J===8?"R":"N"},D=function(R){for(var H,J=0;J<R.length;J++){if((H=T(R.charAt(J)))==="L")return!1;if(H==="R")return!0}return!1},V=function(R,H,J,ne){var Y,G,K,q,X=H[ne];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(X="AN");break;case"AL":N=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":ne<1||ne+1>=H.length||(Y=J[ne-1])!=="EN"&&Y!=="AN"||(G=H[ne+1])!=="EN"&&G!=="AN"?X="N":N&&(G="AN"),X=G===Y?G:"N";break;case"ES":X=(Y=ne>0?J[ne-1]:"B")==="EN"&&ne+1<H.length&&H[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&J[ne-1]==="EN"){X="EN";break}if(N){X="N";break}for(K=ne+1,q=H.length;K<q&&H[K]==="ET";)K++;X=K<q&&H[K]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(q=H.length,K=ne+1;K<q&&H[K]==="NSM";)K++;if(K<q){var fe=R[ne],de=fe>=1425&&fe<=2303||fe===64286;if(Y=H[K],de&&(Y==="R"||Y==="AL")){X="R";break}}}X=ne<1||(Y=H[ne-1])==="B"?"N":J[ne-1];break;case"B":N=!1,s=!0,X=F;break;case"S":i=!0,X="N"}return X},P=function(R,H,J){var ne=R.split("");return J&&U(ne,J,{hiLevel:F}),ne.reverse(),H&&H.reverse(),ne.join("")},U=function(R,H,J){var ne,Y,G,K,q,X=-1,fe=R.length,de=0,Q=[],Z=F?g:y,ae=[];for(N=!1,s=!1,i=!1,Y=0;Y<fe;Y++)ae[Y]=T(R[Y]);for(G=0;G<fe;G++){if(q=de,Q[G]=V(R,ae,Q,G),ne=240&(de=Z[q][b[Q[G]]]),de&=15,H[G]=K=Z[de][5],ne>0)if(ne===16){for(Y=X;Y<G;Y++)H[Y]=1;X=-1}else X=-1;if(Z[de][6])X===-1&&(X=G);else if(X>-1){for(Y=X;Y<G;Y++)H[Y]=K;X=-1}ae[G]==="B"&&(H[G]=0),J.hiLevel|=K}i&&function(ee,oe,pe){for(var Be=0;Be<pe;Be++)if(ee[Be]==="S"){oe[Be]=F;for(var _e=Be-1;_e>=0&&ee[_e]==="WS";_e--)oe[_e]=F}}(ae,H,fe)},k=function(R,H,J,ne,Y){if(!(Y.hiLevel<R)){if(R===1&&F===1&&!s)return H.reverse(),void(J&&J.reverse());for(var G,K,q,X,fe=H.length,de=0;de<fe;){if(ne[de]>=R){for(q=de+1;q<fe&&ne[q]>=R;)q++;for(X=de,K=q-1;X<K;X++,K--)G=H[X],H[X]=H[K],H[K]=G,J&&(G=J[X],J[X]=J[K],J[K]=G);de=q}de++}}},z=function(R,H,J){var ne=R.split(""),Y={hiLevel:F};return J||(J=[]),U(ne,J,Y),function(G,K,q){if(q.hiLevel!==0&&h)for(var X,fe=0;fe<G.length;fe++)K[fe]===1&&(X=I.indexOf(G[fe]))>=0&&(G[fe]=I[X+1])}(ne,J,Y),k(2,ne,H,J,Y),k(1,ne,H,J,Y),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(R,H,J){if(function(Y,G){if(G)for(var K=0;K<Y.length;K++)G[K]=K;l===void 0&&(l=D(Y)),u===void 0&&(u=D(Y))}(R,H),o||!A||u)if(o&&A&&l^u)F=l?1:0,R=P(R,H,J);else if(!o&&A&&u)F=l?1:0,R=z(R,H,J),R=P(R,H);else if(!o||l||A||u){if(o&&!A&&l^u)R=P(R,H),l?(F=0,R=z(R,H,J)):(F=1,R=z(R,H,J),R=P(R,H));else if(o&&l&&!A&&u)F=1,R=z(R,H,J),R=P(R,H);else if(!o&&!A&&l^u){var ne=h;l?(F=1,R=z(R,H,J),F=0,h=!1,R=z(R,H,J),h=ne):(F=0,R=z(R,H,J),R=P(R,H),F=1,h=!1,R=z(R,H,J),h=ne,R=P(R,H))}}else F=0,R=z(R,H,J);else F=l?1:0,R=z(R,H,J);return R},this.__bidiEngine__.setOptions=function(R){R&&(o=R.isInputVisual,A=R.isOutputVisual,l=R.isInputRtl,u=R.isOutputRtl,h=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Xt),Xt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Nd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new vce(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new oce(this.contents),this.head=new cce(this),this.name=new fce(this),this.cmap=new FU(this),this.toUnicode={},this.hhea=new Ace(this),this.maxp=new mce(this),this.hmtx=new pce(this),this.post=new dce(this),this.os2=new uce(this),this.loca=new wce(this),this.glyf=new gce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,A,u;for(u=[],o=0,l=(A=this.bbox).length;o<l;o++)t=A[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ql,Nd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,o,l,A;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),A=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^A)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*l+A},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),oce=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,o,l,A,u,h,m,y,g,b,C;for(C in g=Object.keys(r).length,A=Math.log(2),m=16*Math.floor(Math.log(g)/A),o=Math.floor(m/A),h=16*g-m,(s=new Nd).writeInt(this.scalarType),s.writeShort(g),s.writeShort(m),s.writeShort(o),s.writeShort(h),i=16*g,u=s.pos+i,l=null,b=[],r)for(y=r[C],s.writeString(C),s.writeInt(e(y)),s.writeInt(u),s.writeInt(y.length),b=b.concat(y),C==="head"&&(l=u),u+=y.length;u%4;)b.push(0),u++;return s.write(b),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,o;for(r=jU.call(r);r.length%4;)r.push(0);for(i=new Nd(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),lce={}.hasOwnProperty,Oc=function(e,t){for(var r in t)lce.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ql=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var cce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oc(e,Ql),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Nd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),V8=function(){function e(t,r){var n,s,i,o,l,A,u,h,m,y,g,b,C,I,v,N,F;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=t.readByte();break;case 4:for(g=t.readUInt16(),y=g/2,t.pos+=6,i=function(){var T,D;for(D=[],A=T=0;0<=y?T<y:T>y;A=0<=y?++T:--T)D.push(t.readUInt16());return D}(),t.pos+=2,C=function(){var T,D;for(D=[],A=T=0;0<=y?T<y:T>y;A=0<=y?++T:--T)D.push(t.readUInt16());return D}(),u=function(){var T,D;for(D=[],A=T=0;0<=y?T<y:T>y;A=0<=y?++T:--T)D.push(t.readUInt16());return D}(),h=function(){var T,D;for(D=[],A=T=0;0<=y?T<y:T>y;A=0<=y?++T:--T)D.push(t.readUInt16());return D}(),s=(this.length-t.pos+this.offset)/2,l=function(){var T,D;for(D=[],A=T=0;0<=s?T<s:T>s;A=0<=s?++T:--T)D.push(t.readUInt16());return D}(),A=v=0,F=i.length;v<F;A=++v)for(I=i[A],n=N=b=C[A];b<=I?N<=I:N>=I;n=b<=I?++N:--N)h[A]===0?o=n+u[A]:(o=l[h[A]/2+(n-b)-(y-A)]||0)!==0&&(o+=u[A]),this.codeMap[n]=65535&o}t.pos=m}return e.encode=function(t,r){var n,s,i,o,l,A,u,h,m,y,g,b,C,I,v,N,F,T,D,V,P,U,k,z,R,H,J,ne,Y,G,K,q,X,fe,de,Q,Z,ae,ee,oe,pe,Be,_e,Le,ke,Oe;switch(ne=new Nd,o=Object.keys(t).sort(function(Se,Ce){return Se-Ce}),r){case"macroman":for(C=0,I=function(){var Se=[];for(b=0;b<256;++b)Se.push(0);return Se}(),N={0:0},i={},Y=0,X=o.length;Y<X;Y++)N[_e=t[s=o[Y]]]==null&&(N[_e]=++C),i[s]={old:t[s],new:N[t[s]]},I[s]=N[t[s]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(I),{charMap:i,subtable:ne.data,maxGlyphID:C+1};case"unicode":for(H=[],m=[],F=0,N={},n={},v=u=null,G=0,fe=o.length;G<fe;G++)N[D=t[s=o[G]]]==null&&(N[D]=++F),n[s]={old:D,new:N[D]},l=N[D]-s,v!=null&&l===u||(v&&m.push(v),H.push(s),u=l),v=s;for(v&&m.push(v),m.push(65535),H.push(65535),z=2*(k=H.length),U=2*Math.pow(Math.log(k)/Math.LN2,2),y=Math.log(U/2)/Math.LN2,P=2*k-U,A=[],V=[],g=[],b=K=0,de=H.length;K<de;b=++K){if(R=H[b],h=m[b],R===65535){A.push(0),V.push(0);break}if(R-(J=n[R].new)>=32768)for(A.push(0),V.push(2*(g.length+k-b)),s=q=R;R<=h?q<=h:q>=h;s=R<=h?++q:--q)g.push(n[s].new);else A.push(J-R),V.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*k+2*g.length),ne.writeUInt16(0),ne.writeUInt16(z),ne.writeUInt16(U),ne.writeUInt16(y),ne.writeUInt16(P),pe=0,Q=m.length;pe<Q;pe++)s=m[pe],ne.writeUInt16(s);for(ne.writeUInt16(0),Be=0,Z=H.length;Be<Z;Be++)s=H[Be],ne.writeUInt16(s);for(Le=0,ae=A.length;Le<ae;Le++)l=A[Le],ne.writeUInt16(l);for(ke=0,ee=V.length;ke<ee;ke++)T=V[ke],ne.writeUInt16(T);for(Oe=0,oe=g.length;Oe<oe;Oe++)C=g[Oe],ne.writeUInt16(C);return{charMap:n,subtable:ne.data,maxGlyphID:F+1}}},e}(),FU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oc(e,Ql),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new V8(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=V8.encode(t,r),(s=new Nd).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),Ace=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oc(e,Ql),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),uce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oc(e,Ql),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),dce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oc(e,Ql),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,A;for(A=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)A.push(t.readUInt32());return A}).call(this)}},e}(),hce=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},fce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oc(e,Ql),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,o,l,A,u,h,m,y;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(A={},i=h=0,m=n.length;h<m;i=++h)s=n[i],t.pos=s.offset,u=t.readString(s.length),o=new hce(u,s),A[y=s.nameID]==null&&(A[y]=[]),A[s.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e}(),mce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oc(e,Ql),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),pce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oc(e,Ql),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,o,l,A;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,m,y;for(y=[],u=0,h=(m=this.metrics).length;u<h;u++)i=m[u],y.push(i.advance);return y}).call(this),n=this.widths[this.widths.length-1],A=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)A.push(this.widths.push(n));return A},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),jU=[].slice,gce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oc(e,Ql),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,o,l,A,u,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Nd(r.read(s))).readShort(),u=l.readShort(),m=l.readShort(),A=l.readShort(),h=l.readShort(),this.cache[t]=o===-1?new yce(l,u,m,A,h):new xce(l,o,u,m,A,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,o,l,A;for(o=[],i=[],l=0,A=r.length;l<A;l++)s=t[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),xce=function(){function e(t,r,n,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),yce=function(){function e(t,r,n,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Nd(jU.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),wce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Oc(e,Ql),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<n.length;++o)if(n[o]=s,i<r.length&&r[i]==o){++i,n[o]=s;var l=this.offsets[o],A=this.offsets[o+1]-l;A>0&&(s+=A)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},e}(),vce=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,o,l,A;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in A=this.glyphsFor(r))n=A[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,o,l,A,u,h,m,y,g,b,C,I,v;for(s in n=FU.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},v=n.charMap)g[(A=v[s]).old]=A.new;for(b in y=n.maxGlyphID,o)b in g||(g[b]=y++);return h=function(N){var F,T;for(F in T={},N)T[N[F]]=F;return T}(g),m=Object.keys(h).sort(function(N,F){return N-F}),C=function(){var N,F,T;for(T=[],N=0,F=m.length;N<F;N++)l=m[N],T.push(h[l]);return T}(),i=this.font.glyf.encode(o,C,g),u=this.font.loca.encode(i.offsets,C),I={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(I["OS/2"]=this.font.os2.raw()),this.font.directory.encode(I)},e}();Xt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+function(){var l,A,u;for(u=[],l=0,A=r.length;l<A;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var DB=function(e,t){return DB=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},DB(e,t)};function Hl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");DB(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var UB=function(){return UB=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},UB.apply(this,arguments)};function ca(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,[])).next())})}function $i(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ix(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var OA=function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),wv=function(e,t){return OA.fromClientRect(e,t.getBoundingClientRect())},bce=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new OA(0,0,n,s)},vv=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},ks=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},K8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cce=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Fx=0;Fx<K8.length;Fx++)Cce[K8.charCodeAt(Fx)]=Fx;var G8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var jx=0;jx<G8.length;jx++)cp[G8.charCodeAt(jx)]=jx;var Bce=function(e){var t=e.length*.75,r=e.length,n,s=0,i,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),h=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=cp[e.charCodeAt(n)],o=cp[e.charCodeAt(n+1)],l=cp[e.charCodeAt(n+2)],A=cp[e.charCodeAt(n+3)],h[s++]=i<<2|o>>4,h[s++]=(o&15)<<4|l>>2,h[s++]=(l&3)<<6|A&63;return u},Nce=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Sce=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Fh=5,VS=11,TC=2,Ece=VS-Fh,_U=65536>>Fh,Ice=1<<Fh,kC=Ice-1,Fce=1024>>Fh,jce=_U+Fce,_ce=jce,Tce=32,kce=_ce+Tce,Lce=65536>>VS,Pce=1<<Ece,Oce=Pce-1,W8=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},Rce=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},Dce=function(e,t){var r=Bce(e),n=Array.isArray(r)?Sce(r):new Uint32Array(r),s=Array.isArray(r)?Nce(r):new Uint16Array(r),i=24,o=W8(s,i/2,n[4]/2),l=n[5]===2?W8(s,(i+n[4])/2):Rce(n,Math.ceil((i+n[4])/4));return new Uce(n[0],n[1],n[2],n[3],o,l)},Uce=function(){function e(t,r,n,s,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Fh],r=(r<<TC)+(t&kC),this.data[r];if(t<=65535)return r=this.index[_U+(t-55296>>Fh)],r=(r<<TC)+(t&kC),this.data[r];if(t<this.highStart)return r=kce-Lce+(t>>VS),r=this.index[r],r+=t>>Fh&Oce,r=this.index[r],r=(r<<TC)+(t&kC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),z8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Mce=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _x=0;_x<z8.length;_x++)Mce[z8.charCodeAt(_x)]=_x;var Qce="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",$8=50,Hce=1,TU=2,kU=3,Vce=4,Kce=5,q8=7,LU=8,X8=9,qu=10,MB=11,Y8=12,QB=13,Gce=14,Ap=15,HB=16,Tx=17,Wm=18,Wce=19,Z8=20,VB=21,zm=22,LC=23,bf=24,co=25,up=26,dp=27,Cf=28,zce=29,rh=30,$ce=31,kx=32,Lx=33,KB=34,GB=35,WB=36,kg=37,zB=38,Ry=39,Dy=40,PC=41,PU=42,qce=43,Xce=[9001,65288],OU="!",Hr="",Px="",$B=Dce(Qce),aA=[rh,WB],qB=[Hce,TU,kU,Kce],RU=[qu,LU],J8=[dp,up],Yce=qB.concat(RU),e_=[zB,Ry,Dy,KB,GB],Zce=[Ap,QB],Jce=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(i,o){var l=$B.get(i);if(l>$8?(s.push(!0),l-=$8):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(HB);if(l===Vce||l===MB){if(o===0)return n.push(o),r.push(rh);var A=r[o-1];return Yce.indexOf(A)===-1?(n.push(n[o-1]),r.push(A)):(n.push(o),r.push(rh))}if(n.push(o),l===$ce)return r.push(t==="strict"?VB:kg);if(l===PU||l===zce)return r.push(rh);if(l===qce)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(kg):r.push(rh);r.push(l)}),[n,r,s]},OC=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===t)return!0;if(o!==qu)break}if(s===qu)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var A=r;A<=n.length;){A++;var o=n[A];if(o===t)return!0;if(o!==qu)break}if(l!==qu)break}return!1},t_=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===qu)r--;else return n}return 0},eAe=function(e,t,r,n,s){if(r[n]===0)return Hr;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Hr;var o=i-1,l=i+1,A=t[i],u=o>=0?t[o]:0,h=t[l];if(A===TU&&h===kU)return Hr;if(qB.indexOf(A)!==-1)return OU;if(qB.indexOf(h)!==-1||RU.indexOf(h)!==-1)return Hr;if(t_(i,t)===LU)return Px;if($B.get(e[i])===MB||(A===kx||A===Lx)&&$B.get(e[l])===MB||A===q8||h===q8||A===X8||[qu,QB,Ap].indexOf(A)===-1&&h===X8||[Tx,Wm,Wce,bf,Cf].indexOf(h)!==-1||t_(i,t)===zm||OC(LC,zm,i,t)||OC([Tx,Wm],VB,i,t)||OC(Y8,Y8,i,t))return Hr;if(A===qu)return Px;if(A===LC||h===LC)return Hr;if(h===HB||A===HB)return Px;if([QB,Ap,VB].indexOf(h)!==-1||A===Gce||u===WB&&Zce.indexOf(A)!==-1||A===Cf&&h===WB||h===Z8||aA.indexOf(h)!==-1&&A===co||aA.indexOf(A)!==-1&&h===co||A===dp&&[kg,kx,Lx].indexOf(h)!==-1||[kg,kx,Lx].indexOf(A)!==-1&&h===up||aA.indexOf(A)!==-1&&J8.indexOf(h)!==-1||J8.indexOf(A)!==-1&&aA.indexOf(h)!==-1||[dp,up].indexOf(A)!==-1&&(h===co||[zm,Ap].indexOf(h)!==-1&&t[l+1]===co)||[zm,Ap].indexOf(A)!==-1&&h===co||A===co&&[co,Cf,bf].indexOf(h)!==-1)return Hr;if([co,Cf,bf,Tx,Wm].indexOf(h)!==-1)for(var m=i;m>=0;){var y=t[m];if(y===co)return Hr;if([Cf,bf].indexOf(y)!==-1)m--;else break}if([dp,up].indexOf(h)!==-1)for(var m=[Tx,Wm].indexOf(A)!==-1?o:i;m>=0;){var y=t[m];if(y===co)return Hr;if([Cf,bf].indexOf(y)!==-1)m--;else break}if(zB===A&&[zB,Ry,KB,GB].indexOf(h)!==-1||[Ry,KB].indexOf(A)!==-1&&[Ry,Dy].indexOf(h)!==-1||[Dy,GB].indexOf(A)!==-1&&h===Dy||e_.indexOf(A)!==-1&&[Z8,up].indexOf(h)!==-1||e_.indexOf(h)!==-1&&A===dp||aA.indexOf(A)!==-1&&aA.indexOf(h)!==-1||A===bf&&aA.indexOf(h)!==-1||aA.concat(co).indexOf(A)!==-1&&h===zm&&Xce.indexOf(e[l])===-1||aA.concat(co).indexOf(h)!==-1&&A===Wm)return Hr;if(A===PC&&h===PC){for(var g=r[i],b=1;g>0&&(g--,t[g]===PC);)b++;if(b%2!==0)return Hr}return A===kx&&h===Lx?Hr:Px},tAe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Jce(e,t.lineBreak),n=r[0],s=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(l){return[co,rh,PU].indexOf(l)!==-1?kg:l}));var o=t.wordBreak==="keep-all"?i.map(function(l,A){return l&&e[A]>=19968&&e[A]<=40959}):void 0;return[n,s,o]},rAe=function(){function e(t,r,n,s){this.codePoints=t,this.required=r===OU,this.start=n,this.end=s}return e.prototype.slice=function(){return ks.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),nAe=function(e,t){var r=vv(e),n=tAe(r,t),s=n[0],i=n[1],o=n[2],l=r.length,A=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var h=Hr;u<l&&(h=eAe(r,i,s,++u,o))===Hr;);if(h!==Hr||u===l){var m=new rAe(r,h,A,u);return A=u,{value:m,done:!1}}return{done:!0,value:null}}}},sAe=1,iAe=2,f1=4,r_=8,Kw=10,n_=47,Rp=92,aAe=9,oAe=32,Ox=34,$m=61,lAe=35,cAe=36,AAe=37,Rx=39,Dx=40,qm=41,uAe=95,Pa=45,dAe=33,hAe=60,fAe=62,mAe=64,pAe=91,gAe=93,xAe=61,yAe=123,Ux=63,wAe=125,s_=124,vAe=126,bAe=128,i_=65533,RC=42,dh=43,CAe=44,BAe=58,NAe=59,Lg=46,SAe=0,EAe=8,IAe=11,FAe=14,jAe=31,_Ae=127,Jl=-1,DU=48,UU=97,MU=101,TAe=102,kAe=117,LAe=122,QU=65,HU=69,VU=70,PAe=85,OAe=90,Xi=function(e){return e>=DU&&e<=57},RAe=function(e){return e>=55296&&e<=57343},Bf=function(e){return Xi(e)||e>=QU&&e<=VU||e>=UU&&e<=TAe},DAe=function(e){return e>=UU&&e<=LAe},UAe=function(e){return e>=QU&&e<=OAe},MAe=function(e){return DAe(e)||UAe(e)},QAe=function(e){return e>=bAe},Mx=function(e){return e===Kw||e===aAe||e===oAe},Gw=function(e){return MAe(e)||QAe(e)||e===uAe},a_=function(e){return Gw(e)||Xi(e)||e===Pa},HAe=function(e){return e>=SAe&&e<=EAe||e===IAe||e>=FAe&&e<=jAe||e===_Ae},Iu=function(e,t){return e!==Rp?!1:t!==Kw},Qx=function(e,t,r){return e===Pa?Gw(t)||Iu(t,r):Gw(e)?!0:!!(e===Rp&&Iu(e,t))},DC=function(e,t,r){return e===dh||e===Pa?Xi(t)?!0:t===Lg&&Xi(r):Xi(e===Lg?t:e)},VAe=function(e){var t=0,r=1;(e[t]===dh||e[t]===Pa)&&(e[t]===Pa&&(r=-1),t++);for(var n=[];Xi(e[t]);)n.push(e[t++]);var s=n.length?parseInt(ks.apply(void 0,n),10):0;e[t]===Lg&&t++;for(var i=[];Xi(e[t]);)i.push(e[t++]);var o=i.length,l=o?parseInt(ks.apply(void 0,i),10):0;(e[t]===HU||e[t]===MU)&&t++;var A=1;(e[t]===dh||e[t]===Pa)&&(e[t]===Pa&&(A=-1),t++);for(var u=[];Xi(e[t]);)u.push(e[t++]);var h=u.length?parseInt(ks.apply(void 0,u),10):0;return r*(s+l*Math.pow(10,-o))*Math.pow(10,A*h)},KAe={type:2},GAe={type:3},WAe={type:4},zAe={type:13},$Ae={type:8},qAe={type:21},XAe={type:9},YAe={type:10},ZAe={type:11},JAe={type:12},eue={type:14},Hx={type:23},tue={type:1},rue={type:25},nue={type:24},sue={type:26},iue={type:27},aue={type:28},oue={type:29},lue={type:31},XB={type:32},KU=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(vv(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==XB;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Ox:return this.consumeStringToken(Ox);case lAe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(a_(r)||Iu(n,s)){var i=Qx(r,n,s)?iAe:sAe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case cAe:if(this.peekCodePoint(0)===$m)return this.consumeCodePoint(),zAe;break;case Rx:return this.consumeStringToken(Rx);case Dx:return KAe;case qm:return GAe;case RC:if(this.peekCodePoint(0)===$m)return this.consumeCodePoint(),eue;break;case dh:if(DC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case CAe:return WAe;case Pa:var l=t,A=this.peekCodePoint(0),u=this.peekCodePoint(1);if(DC(l,A,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Qx(l,A,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(A===Pa&&u===fAe)return this.consumeCodePoint(),this.consumeCodePoint(),nue;break;case Lg:if(DC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case n_:if(this.peekCodePoint(0)===RC)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===RC&&(h=this.consumeCodePoint(),h===n_))return this.consumeToken();if(h===Jl)return this.consumeToken()}break;case BAe:return sue;case NAe:return iue;case hAe:if(this.peekCodePoint(0)===dAe&&this.peekCodePoint(1)===Pa&&this.peekCodePoint(2)===Pa)return this.consumeCodePoint(),this.consumeCodePoint(),rue;break;case mAe:var m=this.peekCodePoint(0),y=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Qx(m,y,g)){var o=this.consumeName();return{type:7,value:o}}break;case pAe:return aue;case Rp:if(Iu(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case gAe:return oue;case xAe:if(this.peekCodePoint(0)===$m)return this.consumeCodePoint(),$Ae;break;case yAe:return ZAe;case wAe:return JAe;case kAe:case PAe:var b=this.peekCodePoint(0),C=this.peekCodePoint(1);return b===dh&&(Bf(C)||C===Ux)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case s_:if(this.peekCodePoint(0)===$m)return this.consumeCodePoint(),XAe;if(this.peekCodePoint(0)===s_)return this.consumeCodePoint(),qAe;break;case vAe:if(this.peekCodePoint(0)===$m)return this.consumeCodePoint(),YAe;break;case Jl:return XB}return Mx(t)?(this.consumeWhiteSpace(),lue):Xi(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Gw(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:ks(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Bf(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===Ux&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(ks.apply(void 0,t.map(function(A){return A===Ux?DU:A})),16),i=parseInt(ks.apply(void 0,t.map(function(A){return A===Ux?VU:A})),16);return{type:30,start:s,end:i}}var o=parseInt(ks.apply(void 0,t),16);if(this.peekCodePoint(0)===Pa&&Bf(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Bf(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(ks.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Dx?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Dx?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Jl)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Rx||r===Ox){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Jl||this.peekCodePoint(0)===qm)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Hx)}for(;;){var s=this.consumeCodePoint();if(s===Jl||s===qm)return{type:22,value:ks.apply(void 0,t)};if(Mx(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Jl||this.peekCodePoint(0)===qm?(this.consumeCodePoint(),{type:22,value:ks.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Hx);if(s===Ox||s===Rx||s===Dx||HAe(s))return this.consumeBadUrlRemnants(),Hx;if(s===Rp)if(Iu(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Hx;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;Mx(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===qm||t===Jl)return;Iu(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=ks.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===Jl||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Kw)return this._value.splice(0,n),tue;if(s===Rp){var i=this._value[n+1];i!==Jl&&i!==void 0&&(i===Kw?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Iu(s,i)&&(r+=this.consumeStringSlice(n),r+=ks(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=f1,n=this.peekCodePoint(0);for((n===dh||n===Pa)&&t.push(this.consumeCodePoint());Xi(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Lg&&Xi(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=r_;Xi(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===HU||n===MU)&&((s===dh||s===Pa)&&Xi(i)||Xi(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=r_;Xi(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[VAe(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Qx(s,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return s===AAe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Bf(t)){for(var r=ks(t);Bf(this.peekCodePoint(0))&&r.length<6;)r+=ks(this.consumeCodePoint());Mx(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||RAe(n)||n>1114111?i_:n}return t===Jl?i_:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(a_(r))t+=ks(r);else if(Iu(r,this.peekCodePoint(0)))t+=ks(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),GU=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new KU;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||Aue(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?XB:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),m1=function(e){return e.type===15},gm=function(e){return e.type===17},_n=function(e){return e.type===20},cue=function(e){return e.type===0},YB=function(e,t){return _n(e)&&e.value===t},WU=function(e){return e.type!==31},Y0=function(e){return e.type!==31&&e.type!==4},Rc=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},Aue=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Sd=function(e){return e.type===17||e.type===15},Vs=function(e){return e.type===16||Sd(e)},zU=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ii={type:17,number:0,flags:f1},KS={type:16,number:50,flags:f1},Xu={type:16,number:100,flags:f1},hp=function(e,t,r){var n=e[0],s=e[1];return[Qn(n,t),Qn(typeof s<"u"?s:n,r)]},Qn=function(e,t){if(e.type===16)return e.number/100*t;if(m1(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},$U="deg",qU="grad",XU="rad",YU="turn",bv={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case $U:return Math.PI*t.number/180;case qU:return Math.PI/200*t.number;case XU:return t.number;case YU:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},ZU=function(e){return e.type===15&&(e.unit===$U||e.unit===qU||e.unit===XU||e.unit===YU)},JU=function(e){var t=e.filter(_n).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ii,Ii];case"to top":case"bottom":return Xo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ii,Xu];case"to right":case"left":return Xo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Xu,Xu];case"to bottom":case"top":return Xo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Xu,Ii];case"to left":case"right":return Xo(270)}return 0},Xo=function(e){return Math.PI*e/180},hd={name:"color",parse:function(e,t){if(t.type===18){var r=uue[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);return Yu(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return Yu(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6);return Yu(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return Yu(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var l=SA[t.value.toUpperCase()];if(typeof l<"u")return l}return SA.TRANSPARENT}},fd=function(e){return(255&e)===0},oi=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},Yu=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},o_=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},l_=function(e,t){var r=t.filter(Y0);if(r.length===3){var n=r.map(o_),s=n[0],i=n[1],o=n[2];return Yu(s,i,o,1)}if(r.length===4){var l=r.map(o_),s=l[0],i=l[1],o=l[2],A=l[3];return Yu(s,i,o,A)}return 0};function UC(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var c_=function(e,t){var r=t.filter(Y0),n=r[0],s=r[1],i=r[2],o=r[3],l=(n.type===17?Xo(n.number):bv.parse(e,n))/(Math.PI*2),A=Vs(s)?s.number/100:0,u=Vs(i)?i.number/100:0,h=typeof o<"u"&&Vs(o)?Qn(o,1):1;if(A===0)return Yu(u*255,u*255,u*255,1);var m=u<=.5?u*(A+1):u+A-u*A,y=u*2-m,g=UC(y,m,l+1/3),b=UC(y,m,l),C=UC(y,m,l-1/3);return Yu(g*255,b*255,C*255,h)},uue={hsl:c_,hsla:c_,rgb:l_,rgba:l_},Dp=function(e,t){return hd.parse(e,GU.create(t).parseComponentValue())},SA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},due={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(_n(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},hue={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Cv=function(e,t){var r=hd.parse(e,t[0]),n=t[1];return n&&Vs(n)?{color:r,stop:n}:{color:r,stop:null}},A_=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Ii),n.stop===null&&(n.stop=Xu);for(var s=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var A=Qn(l,t);A>i?s.push(A):s.push(i),i=A}else s.push(null)}for(var u=null,o=0;o<s.length;o++){var h=s[o];if(h===null)u===null&&(u=o);else if(u!==null){for(var m=o-u,y=s[u-1],g=(h-y)/(m+1),b=1;b<=m;b++)s[u+b-1]=g*b;u=null}}return e.map(function(C,I){var v=C.color;return{color:v,stop:Math.max(Math.min(1,s[I]/t),0)}})},fue=function(e,t,r){var n=t/2,s=r/2,i=Qn(e[0],t)-n,o=s-Qn(e[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},mue=function(e,t,r){var n=typeof e=="number"?e:fue(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,o=r/2,l=s/2,A=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[s,i-u,i+u,o-A,o+A]},xl=function(e,t){return Math.sqrt(e*e+t*t)},u_=function(e,t,r,n,s){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,l){var A=l[0],u=l[1],h=xl(r-A,n-u);return(s?h<o.optimumDistance:h>o.optimumDistance)?{optimumCorner:l,optimumDistance:h}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},pue=function(e,t,r,n,s){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)i=o=Math.min(xl(t,r),xl(t,r-s),xl(t-n,r),xl(t-n,r-s));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),A=u_(n,s,t,r,!0),u=A[0],h=A[1];i=xl(u-t,(h-r)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)i=o=Math.max(xl(t,r),xl(t,r-s),xl(t-n,r),xl(t-n,r-s));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),m=u_(n,s,t,r,!1),u=m[0],h=m[1];i=xl(u-t,(h-r)/l),o=l*i}break}return Array.isArray(e.size)&&(i=Qn(e.size[0],n),o=e.size.length===2?Qn(e.size[1],s):i),[i,o]},gue=function(e,t){var r=Xo(180),n=[];return Rc(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){r=JU(s);return}else if(ZU(o)){r=bv.parse(e,o);return}}var l=Cv(e,s);n.push(l)}),{angle:r,stops:n,type:1}},Vx=function(e,t){var r=Xo(180),n=[];return Rc(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=JU(s);return}else if(ZU(o)){r=(bv.parse(e,o)+Xo(270))%Xo(360);return}}var l=Cv(e,s);n.push(l)}),{angle:r,stops:n,type:1}},xue=function(e,t){var r=Xo(180),n=[],s=1,i=0,o=3,l=[];return Rc(t).forEach(function(A,u){var h=A[0];if(u===0){if(_n(h)&&h.value==="linear"){s=1;return}else if(_n(h)&&h.value==="radial"){s=2;return}}if(h.type===18){if(h.name==="from"){var m=hd.parse(e,h.values[0]);n.push({stop:Ii,color:m})}else if(h.name==="to"){var m=hd.parse(e,h.values[0]);n.push({stop:Xu,color:m})}else if(h.name==="color-stop"){var y=h.values.filter(Y0);if(y.length===2){var m=hd.parse(e,y[1]),g=y[0];gm(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:m})}}}}),s===1?{angle:(r+Xo(180))%Xo(360),stops:n,type:s}:{size:o,shape:i,stops:n,position:l,type:s}},eM="closest-side",tM="farthest-side",rM="closest-corner",nM="farthest-corner",sM="circle",iM="ellipse",aM="cover",oM="contain",yue=function(e,t){var r=0,n=3,s=[],i=[];return Rc(t).forEach(function(o,l){var A=!0;if(l===0){var u=!1;A=o.reduce(function(m,y){if(u)if(_n(y))switch(y.value){case"center":return i.push(KS),m;case"top":case"left":return i.push(Ii),m;case"right":case"bottom":return i.push(Xu),m}else(Vs(y)||Sd(y))&&i.push(y);else if(_n(y))switch(y.value){case sM:return r=0,!1;case iM:return r=1,!1;case"at":return u=!0,!1;case eM:return n=0,!1;case aM:case tM:return n=1,!1;case oM:case rM:return n=2,!1;case nM:return n=3,!1}else if(Sd(y)||Vs(y))return Array.isArray(n)||(n=[]),n.push(y),!1;return m},A)}if(A){var h=Cv(e,o);s.push(h)}}),{size:n,shape:r,stops:s,position:i,type:2}},Kx=function(e,t){var r=0,n=3,s=[],i=[];return Rc(t).forEach(function(o,l){var A=!0;if(l===0?A=o.reduce(function(h,m){if(_n(m))switch(m.value){case"center":return i.push(KS),!1;case"top":case"left":return i.push(Ii),!1;case"right":case"bottom":return i.push(Xu),!1}else if(Vs(m)||Sd(m))return i.push(m),!1;return h},A):l===1&&(A=o.reduce(function(h,m){if(_n(m))switch(m.value){case sM:return r=0,!1;case iM:return r=1,!1;case oM:case eM:return n=0,!1;case tM:return n=1,!1;case rM:return n=2,!1;case aM:case nM:return n=3,!1}else if(Sd(m)||Vs(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return h},A)),A){var u=Cv(e,o);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},wue=function(e){return e.type===1},vue=function(e){return e.type===2},GS={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=lM[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function bue(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!lM[e.name])}var lM={"linear-gradient":gue,"-moz-linear-gradient":Vx,"-ms-linear-gradient":Vx,"-o-linear-gradient":Vx,"-webkit-linear-gradient":Vx,"radial-gradient":yue,"-moz-radial-gradient":Kx,"-ms-radial-gradient":Kx,"-o-radial-gradient":Kx,"-webkit-radial-gradient":Kx,"-webkit-gradient":xue},Cue={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Y0(n)&&bue(n)}).map(function(n){return GS.parse(e,n)})}},Bue={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(_n(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Nue={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Rc(t).map(function(r){return r.filter(Vs)}).map(zU)}},Sue={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Rc(t).map(function(r){return r.filter(_n).map(function(n){return n.value}).join(" ")}).map(Eue)}},Eue=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},x0;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(x0||(x0={}));var Iue={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Rc(t).map(function(r){return r.filter(Fue)})}},Fue=function(e){return _n(e)||Vs(e)},Bv=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},jue=Bv("top"),_ue=Bv("right"),Tue=Bv("bottom"),kue=Bv("left"),Nv=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return zU(r.filter(Vs))}}},Lue=Nv("top-left"),Pue=Nv("top-right"),Oue=Nv("bottom-right"),Rue=Nv("bottom-left"),Sv=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Due=Sv("top"),Uue=Sv("right"),Mue=Sv("bottom"),Que=Sv("left"),Ev=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return m1(r)?r.number:0}}},Hue=Ev("top"),Vue=Ev("right"),Kue=Ev("bottom"),Gue=Ev("left"),Wue={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zue={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},$ue={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).reduce(function(r,n){return r|que(n.value)},0)}},que=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Xue={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Yue={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},Ww;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Ww||(Ww={}));var Zue={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return Ww.STRICT;case"normal":default:return Ww.NORMAL}}},Jue={name:"line-height",initialValue:"normal",prefix:!1,type:4},d_=function(e,t){return _n(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Vs(e)?Qn(e,t):t},ede={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:GS.parse(e,t)}},tde={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},ZB={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Iv=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},rde=Iv("top"),nde=Iv("right"),sde=Iv("bottom"),ide=Iv("left"),ade={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ode={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Fv=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lde=Fv("top"),cde=Fv("right"),Ade=Fv("bottom"),ude=Fv("left"),dde={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},hde={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},fde={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&YB(t[0],"none")?[]:Rc(t).map(function(r){for(var n={color:SA.TRANSPARENT,offsetX:Ii,offsetY:Ii,blur:Ii},s=0,i=0;i<r.length;i++){var o=r[i];Sd(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:n.blur=o,s++):n.color=hd.parse(e,o)}return n})}},mde={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},pde={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=yde[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},gde=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},xde=function(e){var t=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,s,i,o,l]:null},yde={matrix:gde,matrix3d:xde},h_={type:16,number:50,flags:f1},wde=[h_,h_],vde={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Vs);return r.length!==2?wde:[r[0],r[1]]}},bde={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Up;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Up||(Up={}));var Cde={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Up.BREAK_ALL;case"keep-all":return Up.KEEP_ALL;case"normal":default:return Up.NORMAL}}},Bde={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(gm(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},cM={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Nde={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return gm(t)?t.number:1}},Sde={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ede={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Ide={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},Fde={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},jde={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(gm(t))return t.number;if(_n(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},_de={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(_n).map(function(r){return r.value})}},Tde={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Zs=function(e,t){return(e&t)!==0},kde={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},Lde={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(WU),i=0;i<s.length;i++){var o=s[i],l=s[i+1];if(o.type===20){var A=l&&gm(l)?l.number:1;n.push({counter:o.value,increment:A})}}return n}},Pde={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(WU),s=0;s<n.length;s++){var i=n[s],o=n[s+1];if(_n(i)&&i.value!=="none"){var l=o&&gm(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},Ode={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(m1).map(function(r){return cM.parse(e,r)})}},Rde={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(cue);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,l=s[i+1].value;n.push({open:o,close:l})}return n}},f_=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},Dde={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&YB(t[0],"none")?[]:Rc(t).map(function(r){for(var n={color:255,offsetX:Ii,offsetY:Ii,blur:Ii,spread:Ii,inset:!1},s=0,i=0;i<r.length;i++){var o=r[i];YB(o,"inset")?n.inset=!0:Sd(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:s===2?n.blur=o:n.spread=o,s++):n.color=hd.parse(e,o)}return n})}},Ude={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(_n).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},Mde={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Qde={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return m1(t)?t.number:0}},Hde=function(){function e(t,r){var n,s;this.animationDuration=Ft(t,Ode,r.animationDuration),this.backgroundClip=Ft(t,due,r.backgroundClip),this.backgroundColor=Ft(t,hue,r.backgroundColor),this.backgroundImage=Ft(t,Cue,r.backgroundImage),this.backgroundOrigin=Ft(t,Bue,r.backgroundOrigin),this.backgroundPosition=Ft(t,Nue,r.backgroundPosition),this.backgroundRepeat=Ft(t,Sue,r.backgroundRepeat),this.backgroundSize=Ft(t,Iue,r.backgroundSize),this.borderTopColor=Ft(t,jue,r.borderTopColor),this.borderRightColor=Ft(t,_ue,r.borderRightColor),this.borderBottomColor=Ft(t,Tue,r.borderBottomColor),this.borderLeftColor=Ft(t,kue,r.borderLeftColor),this.borderTopLeftRadius=Ft(t,Lue,r.borderTopLeftRadius),this.borderTopRightRadius=Ft(t,Pue,r.borderTopRightRadius),this.borderBottomRightRadius=Ft(t,Oue,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ft(t,Rue,r.borderBottomLeftRadius),this.borderTopStyle=Ft(t,Due,r.borderTopStyle),this.borderRightStyle=Ft(t,Uue,r.borderRightStyle),this.borderBottomStyle=Ft(t,Mue,r.borderBottomStyle),this.borderLeftStyle=Ft(t,Que,r.borderLeftStyle),this.borderTopWidth=Ft(t,Hue,r.borderTopWidth),this.borderRightWidth=Ft(t,Vue,r.borderRightWidth),this.borderBottomWidth=Ft(t,Kue,r.borderBottomWidth),this.borderLeftWidth=Ft(t,Gue,r.borderLeftWidth),this.boxShadow=Ft(t,Dde,r.boxShadow),this.color=Ft(t,Wue,r.color),this.direction=Ft(t,zue,r.direction),this.display=Ft(t,$ue,r.display),this.float=Ft(t,Xue,r.cssFloat),this.fontFamily=Ft(t,Ide,r.fontFamily),this.fontSize=Ft(t,Fde,r.fontSize),this.fontStyle=Ft(t,Tde,r.fontStyle),this.fontVariant=Ft(t,_de,r.fontVariant),this.fontWeight=Ft(t,jde,r.fontWeight),this.letterSpacing=Ft(t,Yue,r.letterSpacing),this.lineBreak=Ft(t,Zue,r.lineBreak),this.lineHeight=Ft(t,Jue,r.lineHeight),this.listStyleImage=Ft(t,ede,r.listStyleImage),this.listStylePosition=Ft(t,tde,r.listStylePosition),this.listStyleType=Ft(t,ZB,r.listStyleType),this.marginTop=Ft(t,rde,r.marginTop),this.marginRight=Ft(t,nde,r.marginRight),this.marginBottom=Ft(t,sde,r.marginBottom),this.marginLeft=Ft(t,ide,r.marginLeft),this.opacity=Ft(t,Nde,r.opacity);var i=Ft(t,ade,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ft(t,ode,r.overflowWrap),this.paddingTop=Ft(t,lde,r.paddingTop),this.paddingRight=Ft(t,cde,r.paddingRight),this.paddingBottom=Ft(t,Ade,r.paddingBottom),this.paddingLeft=Ft(t,ude,r.paddingLeft),this.paintOrder=Ft(t,Ude,r.paintOrder),this.position=Ft(t,hde,r.position),this.textAlign=Ft(t,dde,r.textAlign),this.textDecorationColor=Ft(t,Sde,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Ft(t,Ede,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=Ft(t,fde,r.textShadow),this.textTransform=Ft(t,mde,r.textTransform),this.transform=Ft(t,pde,r.transform),this.transformOrigin=Ft(t,vde,r.transformOrigin),this.visibility=Ft(t,bde,r.visibility),this.webkitTextStrokeColor=Ft(t,Mde,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ft(t,Qde,r.webkitTextStrokeWidth),this.wordBreak=Ft(t,Cde,r.wordBreak),this.zIndex=Ft(t,Bde,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return fd(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Zs(this.display,4)||Zs(this.display,33554432)||Zs(this.display,268435456)||Zs(this.display,536870912)||Zs(this.display,67108864)||Zs(this.display,134217728)},e}(),Vde=function(){function e(t,r){this.content=Ft(t,kde,r.content),this.quotes=Ft(t,Rde,r.quotes)}return e}(),m_=function(){function e(t,r){this.counterIncrement=Ft(t,Lde,r.counterIncrement),this.counterReset=Ft(t,Pde,r.counterReset)}return e}(),Ft=function(e,t,r){var n=new KU,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var i=new GU(n.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,_n(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return bv.parse(e,i.parseComponentValue());case"color":return hd.parse(e,i.parseComponentValue());case"image":return GS.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return Sd(l)?l:Ii;case"length-percentage":var A=i.parseComponentValue();return Vs(A)?A:Ii;case"time":return cM.parse(e,i.parseComponentValue())}break}},Kde="data-html2canvas-debug",Gde=function(e){var t=e.getAttribute(Kde);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},JB=function(e,t){var r=Gde(e);return r===1||t===r},Dc=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,JB(r,3))debugger;this.styles=new Hde(t,window.getComputedStyle(r,null)),rN(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=wv(this.context,r),JB(r,4)&&(this.flags|=16)}return e}(),Wde="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",p_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gx=0;Gx<p_.length;Gx++)fp[p_.charCodeAt(Gx)]=Gx;var zde=function(e){var t=e.length*.75,r=e.length,n,s=0,i,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),h=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=fp[e.charCodeAt(n)],o=fp[e.charCodeAt(n+1)],l=fp[e.charCodeAt(n+2)],A=fp[e.charCodeAt(n+3)],h[s++]=i<<2|o>>4,h[s++]=(o&15)<<4|l>>2,h[s++]=(l&3)<<6|A&63;return u},$de=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},qde=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},jh=5,WS=11,MC=2,Xde=WS-jh,AM=65536>>jh,Yde=1<<jh,QC=Yde-1,Zde=1024>>jh,Jde=AM+Zde,ehe=Jde,the=32,rhe=ehe+the,nhe=65536>>WS,she=1<<Xde,ihe=she-1,g_=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},ahe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},ohe=function(e,t){var r=zde(e),n=Array.isArray(r)?qde(r):new Uint32Array(r),s=Array.isArray(r)?$de(r):new Uint16Array(r),i=24,o=g_(s,i/2,n[4]/2),l=n[5]===2?g_(s,(i+n[4])/2):ahe(n,Math.ceil((i+n[4])/4));return new lhe(n[0],n[1],n[2],n[3],o,l)},lhe=function(){function e(t,r,n,s,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>jh],r=(r<<MC)+(t&QC),this.data[r];if(t<=65535)return r=this.index[AM+(t-55296>>jh)],r=(r<<MC)+(t&QC),this.data[r];if(t<this.highStart)return r=rhe-nhe+(t>>WS),r=this.index[r],r+=t>>jh&ihe,r=this.index[r],r=(r<<MC)+(t&QC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),x_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",che=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Wx=0;Wx<x_.length;Wx++)che[x_.charCodeAt(Wx)]=Wx;var Ahe=1,HC=2,VC=3,y_=4,w_=5,uhe=7,v_=8,KC=9,GC=10,b_=11,C_=12,B_=13,N_=14,WC=15,dhe=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},hhe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},fhe=ohe(Wde),Ho="",zC="",mhe=function(e){return fhe.get(e)},phe=function(e,t,r){var n=r-2,s=t[n],i=t[r-1],o=t[r];if(i===HC&&o===VC)return Ho;if(i===HC||i===VC||i===y_||o===HC||o===VC||o===y_)return zC;if(i===v_&&[v_,KC,b_,C_].indexOf(o)!==-1||(i===b_||i===KC)&&(o===KC||o===GC)||(i===C_||i===GC)&&o===GC||o===B_||o===w_||o===uhe||i===Ahe)return Ho;if(i===B_&&o===N_){for(;s===w_;)s=t[--n];if(s===N_)return Ho}if(i===WC&&o===WC){for(var l=0;s===WC;)l++,s=t[--n];if(l%2===0)return Ho}return zC},ghe=function(e){var t=dhe(e),r=t.length,n=0,s=0,i=t.map(mhe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Ho;n<r&&(o=phe(t,i,++n))===Ho;);if(o!==Ho||n===r){var l=hhe.apply(null,t.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},xhe=function(e){for(var t=ghe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},yhe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(n),i===t)return!0}}return!1},whe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=vv(n.data).map(function(A){return ks(A)}),i=0,o={},l=s.every(function(A,u){r.setStart(n,i),r.setEnd(n,i+A.length);var h=r.getBoundingClientRect();i+=A.length;var m=h.x>o.x||h.y>o.y;return o=h,u===0?!0:m});return e.body.removeChild(t),l},vhe=function(){return typeof new Image().crossOrigin<"u"},bhe=function(){return typeof new XMLHttpRequest().responseType=="string"},Che=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},S_=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},Bhe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=t.toDataURL();s.src=i;var o=eN(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),E_(o).then(function(l){n.drawImage(l,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=r+"px",S_(A)?E_(eN(r,r,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),S_(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},eN=function(e,t,r,n,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},E_=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ni={get SUPPORT_RANGE_BOUNDS(){var e=yhe(document);return Object.defineProperty(Ni,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ni.SUPPORT_RANGE_BOUNDS&&whe(document);return Object.defineProperty(Ni,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Che(document);return Object.defineProperty(Ni,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?Bhe(document):Promise.resolve(!1);return Object.defineProperty(Ni,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=vhe();return Object.defineProperty(Ni,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=bhe();return Object.defineProperty(Ni,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ni,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ni,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Mp=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),Nhe=function(e,t,r,n){var s=Ihe(t,r),i=[],o=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Ni.SUPPORT_RANGE_BOUNDS){var A=I_(n,o,l.length).getClientRects();if(A.length>1){var u=zS(l),h=0;u.forEach(function(y){i.push(new Mp(y,OA.fromDOMRectList(e,I_(n,h+o,y.length).getClientRects()))),h+=y.length})}else i.push(new Mp(l,OA.fromDOMRectList(e,A)))}else{var m=n.splitText(l.length);i.push(new Mp(l,She(e,n))),n=m}else Ni.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},She=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var i=wv(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return OA.EMPTY},I_=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},zS=function(e){if(Ni.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return xhe(e)},Ehe=function(e,t){if(Ni.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return jhe(e,t)},Ihe=function(e,t){return t.letterSpacing!==0?zS(e):Ehe(e,t)},Fhe=[32,160,4961,65792,65793,4153,4241],jhe=function(e,t){for(var r=nAe(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,i=function(){if(s.value){var o=s.value.slice(),l=vv(o),A="";l.forEach(function(u){Fhe.indexOf(u)===-1?A+=ks(u):(A.length&&n.push(A),n.push(ks(u)),A="")}),A.length&&n.push(A)}};!(s=r.next()).done;)i();return n},_he=function(){function e(t,r,n){this.text=The(r.data,n.textTransform),this.textBounds=Nhe(t,this.text,n,r)}return e}(),The=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(khe,Lhe);case 2:return e.toUpperCase();default:return e}},khe=/(^|\s|:|-|\(|\))([a-z])/g,Lhe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},uM=function(e){Hl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t}(Dc),dM=function(e){Hl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t}(Dc),hM=function(e){Hl(t,e);function t(r,n){var s=e.call(this,r,n)||this,i=new XMLSerializer,o=wv(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(Dc),fM=function(e){Hl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Dc),tN=function(e){Hl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t}(Dc),Phe=[{type:15,flags:0,unit:"px",number:3}],Ohe=[{type:16,flags:0,number:50}],Rhe=function(e){return e.width>e.height?new OA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new OA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Dhe=function(e){var t=e.type===Uhe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},zw="checkbox",$w="radio",Uhe="password",F_=707406591,$S=function(e){Hl(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=Dhe(n),(s.type===zw||s.type===$w)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=Rhe(s.bounds)),s.type){case zw:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Phe;break;case $w:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Ohe;break}return s}return t}(Dc),mM=function(e){Hl(t,e);function t(r,n){var s=e.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return t}(Dc),pM=function(e){Hl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Dc),gM=function(e){Hl(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=yM(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Dp(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):SA.TRANSPARENT,o=n.contentWindow.document.body?Dp(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):SA.TRANSPARENT;s.backgroundColor=fd(i)?fd(o)?s.styles.backgroundColor:o:i}}catch{}return s}return t}(Dc),Mhe=["OL","UL","MENU"],Uy=function(e,t,r,n){for(var s=t.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,wM(s)&&s.data.trim().length>0)r.textNodes.push(new _he(e,s,r.styles));else if(Xf(s))if(BM(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return Uy(e,l,r,n)});else{var o=xM(e,s);o.styles.isVisible()&&(Qhe(s,o,n)?o.flags|=4:Hhe(o.styles)&&(o.flags|=2),Mhe.indexOf(s.tagName)!==-1&&(o.flags|=8),r.elements.push(o),s.slot,s.shadowRoot?Uy(e,s.shadowRoot,o,n):!qw(s)&&!vM(s)&&!Xw(s)&&Uy(e,s,o,n))}},xM=function(e,t){return nN(t)?new uM(e,t):bM(t)?new dM(e,t):vM(t)?new hM(e,t):Vhe(t)?new fM(e,t):Khe(t)?new tN(e,t):Ghe(t)?new $S(e,t):Xw(t)?new mM(e,t):qw(t)?new pM(e,t):CM(t)?new gM(e,t):new Dc(e,t)},yM=function(e,t){var r=xM(e,t);return r.flags|=4,Uy(e,t,r,r),r},Qhe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||qS(e)&&r.styles.isTransparent()},Hhe=function(e){return e.isPositioned()||e.isFloating()},wM=function(e){return e.nodeType===Node.TEXT_NODE},Xf=function(e){return e.nodeType===Node.ELEMENT_NODE},rN=function(e){return Xf(e)&&typeof e.style<"u"&&!My(e)},My=function(e){return typeof e.className=="object"},Vhe=function(e){return e.tagName==="LI"},Khe=function(e){return e.tagName==="OL"},Ghe=function(e){return e.tagName==="INPUT"},Whe=function(e){return e.tagName==="HTML"},vM=function(e){return e.tagName==="svg"},qS=function(e){return e.tagName==="BODY"},bM=function(e){return e.tagName==="CANVAS"},j_=function(e){return e.tagName==="VIDEO"},nN=function(e){return e.tagName==="IMG"},CM=function(e){return e.tagName==="IFRAME"},__=function(e){return e.tagName==="STYLE"},zhe=function(e){return e.tagName==="SCRIPT"},qw=function(e){return e.tagName==="TEXTAREA"},Xw=function(e){return e.tagName==="SELECT"},BM=function(e){return e.tagName==="SLOT"},T_=function(e){return e.tagName.indexOf("-")>0},$he=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,i=!0;n!==null&&n.forEach(function(l){var A=r.counters[l.counter];A&&l.increment!==0&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var o=[];return i&&s.forEach(function(l){var A=r.counters[l.counter];o.push(l.counter),A||(A=r.counters[l.counter]=[]),A.push(l.reset)}),o},e}(),k_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},L_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qhe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Xhe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Nf=function(e,t,r,n,s,i){return e<t||e>r?Pg(e,s,i.length>0):n.integers.reduce(function(o,l,A){for(;e>=l;)e-=l,o+=n.values[A];return o},"")+i},NM=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},_s=function(e,t,r,n,s){var i=r-t+1;return(e<0?"-":"")+(NM(Math.abs(e),i,n,function(o){return ks(Math.floor(o%i)+t)})+s)},zd=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return NM(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},Pf=1,bu=2,Cu=4,mp=8,oA=function(e,t,r,n,s,i){if(e<-9999||e>9999)return Pg(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return t[0]+l;for(var A=0;o>0&&A<=4;A++){var u=o%10;u===0&&Zs(i,Pf)&&l!==""?l=t[u]+l:u>1||u===1&&A===0||u===1&&A===1&&Zs(i,bu)||u===1&&A===1&&Zs(i,Cu)&&e>100||u===1&&A>1&&Zs(i,mp)?l=t[u]+(A>0?r[A-1]:"")+l:u===1&&A>0&&(l=r[A-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},P_="",O_="",R_="",$C="",Pg=function(e,t,r){var n=r?". ":"",s=r?"":"",i=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=_s(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return zd(e,"",s);case 6:return Nf(e,1,3999,k_,3,n).toLowerCase();case 7:return Nf(e,1,3999,k_,3,n);case 8:return _s(e,945,969,!1,n);case 9:return _s(e,97,122,!1,n);case 10:return _s(e,65,90,!1,n);case 11:return _s(e,1632,1641,!0,n);case 12:case 49:return Nf(e,1,9999,L_,3,n);case 35:return Nf(e,1,9999,L_,3,n).toLowerCase();case 13:return _s(e,2534,2543,!0,n);case 14:case 30:return _s(e,6112,6121,!0,n);case 15:return zd(e,"",s);case 16:return zd(e,"",s);case 17:case 48:return oA(e,"",P_,"",s,bu|Cu|mp);case 47:return oA(e,"",O_,"",s,Pf|bu|Cu|mp);case 42:return oA(e,"",P_,"",s,bu|Cu|mp);case 41:return oA(e,"",O_,"",s,Pf|bu|Cu|mp);case 26:return oA(e,"","",R_,s,0);case 25:return oA(e,"","",R_,s,Pf|bu|Cu);case 31:return oA(e,"","",$C,i,Pf|bu|Cu);case 33:return oA(e,"","",$C,i,0);case 32:return oA(e,"","",$C,i,Pf|bu|Cu);case 18:return _s(e,2406,2415,!0,n);case 20:return Nf(e,1,19999,Xhe,3,n);case 21:return _s(e,2790,2799,!0,n);case 22:return _s(e,2662,2671,!0,n);case 22:return Nf(e,1,10999,qhe,3,n);case 23:return zd(e,"");case 24:return zd(e,"");case 27:return _s(e,3302,3311,!0,n);case 28:return zd(e,"",s);case 29:return zd(e,"",s);case 34:return _s(e,3792,3801,!0,n);case 37:return _s(e,6160,6169,!0,n);case 38:return _s(e,4160,4169,!0,n);case 39:return _s(e,2918,2927,!0,n);case 40:return _s(e,1776,1785,!0,n);case 43:return _s(e,3046,3055,!0,n);case 44:return _s(e,3174,3183,!0,n);case 45:return _s(e,3664,3673,!0,n);case 46:return _s(e,3872,3881,!0,n);case 3:default:return _s(e,48,57,!0,n)}},SM="data-html2canvas-ignore",D_=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new $he,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=Yhe(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=s.contentWindow,A=l.document,u=efe(s).then(function(){return ca(n,void 0,void 0,function(){var h,m;return $i(this,function(y){switch(y.label){case 0:return this.scrolledElements.forEach(sfe),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),h=this.options.onclone,m=this.clonedReferenceElement,typeof m>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:y.sent(),y.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Jhe(A)]:[3,4];case 3:y.sent(),y.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(A,m)}).then(function(){return s})]:[2,s]}})})});return A.open(),A.write(rfe(document.doctype)+"<html></html>"),nfe(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),u},e.prototype.createElementClone=function(t){if(JB(t,2))debugger;if(bM(t))return this.createCanvasClone(t);if(j_(t))return this.createVideoClone(t);if(__(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return nN(r)&&(nN(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),T_(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return qC(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var i=t.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!Xf(r)||!zhe(r)&&!r.hasAttribute(SM)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Xf(r)||!__(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(Xf(i)&&BM(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},e.prototype.cloneNode=function(t,r){if(wM(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Xf(t)&&(rN(t)||My(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var i=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&rN(s)&&(this.clonedReferenceElement=s),qS(s)&&ofe(s);var A=this.counters.parse(new m_(this.context,i)),u=this.resolvePseudoContent(t,s,o,Qp.BEFORE);T_(t)&&(r=!0),j_(t)||this.cloneChildNodes(t,s,r),u&&s.insertBefore(u,s.firstChild);var h=this.resolvePseudoContent(t,s,l,Qp.AFTER);return h&&s.appendChild(h),this.counters.pop(A),(i&&(this.options.copyStyles||My(t))&&!CM(t)||r)&&qC(i,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(qw(t)||Xw(t))&&(qw(s)||Xw(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new m_(this.context,n));var A=new Vde(this.context,n),u=l.createElement("html2canvaspseudoelement");qC(n,u),A.content.forEach(function(m){if(m.type===0)u.appendChild(l.createTextNode(m.value));else if(m.type===22){var y=l.createElement("img");y.src=m.value,y.style.opacity="1",u.appendChild(y)}else if(m.type===18){if(m.name==="attr"){var g=m.values.filter(_n);g.length&&u.appendChild(l.createTextNode(t.getAttribute(g[0].value)||""))}else if(m.name==="counter"){var b=m.values.filter(Y0),C=b[0],I=b[1];if(C&&_n(C)){var v=i.counters.getCounterValue(C.value),N=I&&_n(I)?ZB.parse(i.context,I.value):3;u.appendChild(l.createTextNode(Pg(v,N,!1)))}}else if(m.name==="counters"){var F=m.values.filter(Y0),C=F[0],T=F[1],I=F[2];if(C&&_n(C)){var D=i.counters.getCounterValues(C.value),V=I&&_n(I)?ZB.parse(i.context,I.value):3,P=T&&T.type===0?T.value:"",U=D.map(function(R){return Pg(R,V,!1)}).join(P);u.appendChild(l.createTextNode(U))}}}else if(m.type===20)switch(m.value){case"open-quote":u.appendChild(l.createTextNode(f_(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(f_(A.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(m.value))}}),u.className=sN+" "+iN;var h=s===Qp.BEFORE?" "+sN:" "+iN;return My(r)?r.className.baseValue+=h:r.className+=h,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Qp;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Qp||(Qp={}));var Yhe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(SM,"true"),e.body.appendChild(r),r},Zhe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},Jhe=function(e){return Promise.all([].slice.call(e.images,0).map(Zhe))},efe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},tfe=["all","d","content"],qC=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);tfe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},rfe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},nfe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},sfe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},ife=":before",afe=":after",sN="___html2canvas___pseudoelement_before",iN="___html2canvas___pseudoelement_after",U_=`{
    content: "" !important;
    display: none !important;
}`,ofe=function(e){lfe(e,"."+sN+ife+U_+`
         .`+iN+afe+U_)},lfe=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},EM=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),cfe=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(YC(t)||hfe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ca(this,void 0,void 0,function(){var r,n,s,i,o=this;return $i(this,function(l){switch(l.label){case 0:return r=EM.isSameOrigin(t),n=!XC(t)&&this._options.useCORS===!0&&Ni.SUPPORT_CORS_IMAGES&&!r,s=!XC(t)&&!r&&!YC(t)&&typeof this._options.proxy=="string"&&Ni.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!XC(t)&&!YC(t)&&!s&&!n?[2]:(i=t,s?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(A,u){var h=new Image;h.onload=function(){return A(h)},h.onerror=u,(ffe(i)||n)&&(h.crossOrigin="anonymous"),h.src=i,h.complete===!0&&setTimeout(function(){return A(h)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(i,o){var l=Ni.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")i(A.response);else{var m=new FileReader;m.addEventListener("load",function(){return i(m.result)},!1),m.addEventListener("error",function(y){return o(y)},!1),m.readAsDataURL(A.response)}else o("Failed to proxy resource "+s+" with status code "+A.status)},A.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),r._options.imageTimeout){var h=r._options.imageTimeout;A.timeout=h,A.ontimeout=function(){return o("Timed out ("+h+"ms) proxying "+s)}}A.send()})},e}(),Afe=/^data:image\/svg\+xml/i,ufe=/^data:image\/.*;base64,/i,dfe=/^data:image\/.*/i,hfe=function(e){return Ni.SUPPORT_SVG_DRAWING||!mfe(e)},XC=function(e){return dfe.test(e)},ffe=function(e){return ufe.test(e)},YC=function(e){return e.substr(0,4)==="blob"},mfe=function(e){return e.substr(-3).toLowerCase()==="svg"||Afe.test(e)},Nt=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Sf=function(e,t,r){return new Nt(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},zx=function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=Sf(this.start,this.startControl,t),s=Sf(this.startControl,this.endControl,t),i=Sf(this.endControl,this.end,t),o=Sf(n,s,t),l=Sf(s,i,t),A=Sf(o,l,t);return r?new e(this.start,n,o,A):new e(A,l,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Wo=function(e){return e.type===1},pfe=function(){function e(t){var r=t.styles,n=t.bounds,s=hp(r.borderTopLeftRadius,n.width,n.height),i=s[0],o=s[1],l=hp(r.borderTopRightRadius,n.width,n.height),A=l[0],u=l[1],h=hp(r.borderBottomRightRadius,n.width,n.height),m=h[0],y=h[1],g=hp(r.borderBottomLeftRadius,n.width,n.height),b=g[0],C=g[1],I=[];I.push((i+A)/n.width),I.push((b+m)/n.width),I.push((o+C)/n.height),I.push((u+y)/n.height);var v=Math.max.apply(Math,I);v>1&&(i/=v,o/=v,A/=v,u/=v,m/=v,y/=v,b/=v,C/=v);var N=n.width-A,F=n.height-y,T=n.width-m,D=n.height-C,V=r.borderTopWidth,P=r.borderRightWidth,U=r.borderBottomWidth,k=r.borderLeftWidth,z=Qn(r.paddingTop,t.bounds.width),R=Qn(r.paddingRight,t.bounds.width),H=Qn(r.paddingBottom,t.bounds.width),J=Qn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?is(n.left+k/3,n.top+V/3,i-k/3,o-V/3,mn.TOP_LEFT):new Nt(n.left+k/3,n.top+V/3),this.topRightBorderDoubleOuterBox=i>0||o>0?is(n.left+N,n.top+V/3,A-P/3,u-V/3,mn.TOP_RIGHT):new Nt(n.left+n.width-P/3,n.top+V/3),this.bottomRightBorderDoubleOuterBox=m>0||y>0?is(n.left+T,n.top+F,m-P/3,y-U/3,mn.BOTTOM_RIGHT):new Nt(n.left+n.width-P/3,n.top+n.height-U/3),this.bottomLeftBorderDoubleOuterBox=b>0||C>0?is(n.left+k/3,n.top+D,b-k/3,C-U/3,mn.BOTTOM_LEFT):new Nt(n.left+k/3,n.top+n.height-U/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?is(n.left+k*2/3,n.top+V*2/3,i-k*2/3,o-V*2/3,mn.TOP_LEFT):new Nt(n.left+k*2/3,n.top+V*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?is(n.left+N,n.top+V*2/3,A-P*2/3,u-V*2/3,mn.TOP_RIGHT):new Nt(n.left+n.width-P*2/3,n.top+V*2/3),this.bottomRightBorderDoubleInnerBox=m>0||y>0?is(n.left+T,n.top+F,m-P*2/3,y-U*2/3,mn.BOTTOM_RIGHT):new Nt(n.left+n.width-P*2/3,n.top+n.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||C>0?is(n.left+k*2/3,n.top+D,b-k*2/3,C-U*2/3,mn.BOTTOM_LEFT):new Nt(n.left+k*2/3,n.top+n.height-U*2/3),this.topLeftBorderStroke=i>0||o>0?is(n.left+k/2,n.top+V/2,i-k/2,o-V/2,mn.TOP_LEFT):new Nt(n.left+k/2,n.top+V/2),this.topRightBorderStroke=i>0||o>0?is(n.left+N,n.top+V/2,A-P/2,u-V/2,mn.TOP_RIGHT):new Nt(n.left+n.width-P/2,n.top+V/2),this.bottomRightBorderStroke=m>0||y>0?is(n.left+T,n.top+F,m-P/2,y-U/2,mn.BOTTOM_RIGHT):new Nt(n.left+n.width-P/2,n.top+n.height-U/2),this.bottomLeftBorderStroke=b>0||C>0?is(n.left+k/2,n.top+D,b-k/2,C-U/2,mn.BOTTOM_LEFT):new Nt(n.left+k/2,n.top+n.height-U/2),this.topLeftBorderBox=i>0||o>0?is(n.left,n.top,i,o,mn.TOP_LEFT):new Nt(n.left,n.top),this.topRightBorderBox=A>0||u>0?is(n.left+N,n.top,A,u,mn.TOP_RIGHT):new Nt(n.left+n.width,n.top),this.bottomRightBorderBox=m>0||y>0?is(n.left+T,n.top+F,m,y,mn.BOTTOM_RIGHT):new Nt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=b>0||C>0?is(n.left,n.top+D,b,C,mn.BOTTOM_LEFT):new Nt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?is(n.left+k,n.top+V,Math.max(0,i-k),Math.max(0,o-V),mn.TOP_LEFT):new Nt(n.left+k,n.top+V),this.topRightPaddingBox=A>0||u>0?is(n.left+Math.min(N,n.width-P),n.top+V,N>n.width+P?0:Math.max(0,A-P),Math.max(0,u-V),mn.TOP_RIGHT):new Nt(n.left+n.width-P,n.top+V),this.bottomRightPaddingBox=m>0||y>0?is(n.left+Math.min(T,n.width-k),n.top+Math.min(F,n.height-U),Math.max(0,m-P),Math.max(0,y-U),mn.BOTTOM_RIGHT):new Nt(n.left+n.width-P,n.top+n.height-U),this.bottomLeftPaddingBox=b>0||C>0?is(n.left+k,n.top+Math.min(D,n.height-U),Math.max(0,b-k),Math.max(0,C-U),mn.BOTTOM_LEFT):new Nt(n.left+k,n.top+n.height-U),this.topLeftContentBox=i>0||o>0?is(n.left+k+J,n.top+V+z,Math.max(0,i-(k+J)),Math.max(0,o-(V+z)),mn.TOP_LEFT):new Nt(n.left+k+J,n.top+V+z),this.topRightContentBox=A>0||u>0?is(n.left+Math.min(N,n.width+k+J),n.top+V+z,N>n.width+k+J?0:A-k+J,u-(V+z),mn.TOP_RIGHT):new Nt(n.left+n.width-(P+R),n.top+V+z),this.bottomRightContentBox=m>0||y>0?is(n.left+Math.min(T,n.width-(k+J)),n.top+Math.min(F,n.height+V+z),Math.max(0,m-(P+R)),y-(U+H),mn.BOTTOM_RIGHT):new Nt(n.left+n.width-(P+R),n.top+n.height-(U+H)),this.bottomLeftContentBox=b>0||C>0?is(n.left+k+J,n.top+D,Math.max(0,b-(k+J)),C-(U+H),mn.BOTTOM_LEFT):new Nt(n.left+k+J,n.top+n.height-(U+H))}return e}(),mn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(mn||(mn={}));var is=function(e,t,r,n,s){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,A=e+r,u=t+n;switch(s){case mn.TOP_LEFT:return new zx(new Nt(e,u),new Nt(e,u-l),new Nt(A-o,t),new Nt(A,t));case mn.TOP_RIGHT:return new zx(new Nt(e,t),new Nt(e+o,t),new Nt(A,u-l),new Nt(A,u));case mn.BOTTOM_RIGHT:return new zx(new Nt(A,t),new Nt(A,t+l),new Nt(e+o,u),new Nt(e,u));case mn.BOTTOM_LEFT:default:return new zx(new Nt(A,u),new Nt(A-o,u),new Nt(e,t+l),new Nt(e,t))}},Yw=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},gfe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Zw=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},xfe=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),$x=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),yfe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),wfe=function(e){return e.type===0},IM=function(e){return e.type===1},vfe=function(e){return e.type===2},M_=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},bfe=function(e,t,r,n,s){return e.map(function(i,o){switch(o){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+s);case 3:return i.add(t,r+s)}return i})},FM=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),jM=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new pfe(this.container),this.container.styles.opacity<1&&this.effects.push(new yfe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new xfe(n,s,i))}if(this.container.styles.overflowX!==0){var o=Yw(this.curves),l=Zw(this.curves);M_(o,l)?this.effects.push(new $x(o,6)):(this.effects.push(new $x(o,2)),this.effects.push(new $x(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(A){return!IM(A)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=Yw(n.curves),l=Zw(n.curves);M_(o,l)||s.unshift(new $x(l,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(A){return Zs(A.target,t)})},e}(),aN=function(e,t,r,n){e.container.elements.forEach(function(s){var i=Zs(s.flags,4),o=Zs(s.flags,2),l=new jM(s,e);Zs(s.styles.display,2048)&&n.push(l);var A=Zs(s.flags,8)?[]:n;if(i||o){var u=i||s.styles.isPositioned()?r:t,h=new FM(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var m=s.styles.zIndex.order;if(m<0){var y=0;u.negativeZIndex.some(function(b,C){return m>b.element.container.styles.zIndex.order?(y=C,!1):y>0}),u.negativeZIndex.splice(y,0,h)}else if(m>0){var g=0;u.positiveZIndex.some(function(b,C){return m>=b.element.container.styles.zIndex.order?(g=C+1,!1):g>0}),u.positiveZIndex.splice(g,0,h)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else s.styles.isFloating()?u.nonPositionedFloats.push(h):u.nonPositionedInlineLevel.push(h);aN(l,h,i?h:r,A)}else s.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),aN(l,t,r,A);Zs(s.flags,8)&&_M(s,A)})},_M=function(e,t){for(var r=e instanceof tN?e.start:1,n=e instanceof tN?e.reversed:!1,s=0;s<t.length;s++){var i=t[s];i.container instanceof fM&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Pg(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},Cfe=function(e){var t=new jM(e,null),r=new FM(t),n=[];return aN(t,r,r,n),_M(t.container,n),r},Q_=function(e,t){switch(t){case 0:return Yo(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Yo(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Yo(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Yo(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Bfe=function(e,t){switch(t){case 0:return Yo(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Yo(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Yo(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Yo(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Nfe=function(e,t){switch(t){case 0:return Yo(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Yo(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Yo(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Yo(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Sfe=function(e,t){switch(t){case 0:return qx(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return qx(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return qx(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return qx(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},qx=function(e,t){var r=[];return Wo(e)?r.push(e.subdivide(.5,!1)):r.push(e),Wo(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Yo=function(e,t,r,n){var s=[];return Wo(e)?s.push(e.subdivide(.5,!1)):s.push(e),Wo(r)?s.push(r.subdivide(.5,!0)):s.push(r),Wo(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),Wo(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},TM=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Jw=function(e){var t=e.styles,r=e.bounds,n=Qn(t.paddingLeft,r.width),s=Qn(t.paddingRight,r.width),i=Qn(t.paddingTop,r.width),o=Qn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+i+o))},Efe=function(e,t){return e===0?t.bounds:e===2?Jw(t):TM(t)},Ife=function(e,t){return e===0?t.bounds:e===2?Jw(t):TM(t)},ZC=function(e,t,r){var n=Efe(Of(e.styles.backgroundOrigin,t),e),s=Ife(Of(e.styles.backgroundClip,t),e),i=Ffe(Of(e.styles.backgroundSize,t),r,n),o=i[0],l=i[1],A=hp(Of(e.styles.backgroundPosition,t),n.width-o,n.height-l),u=jfe(Of(e.styles.backgroundRepeat,t),A,i,n,s),h=Math.round(n.left+A[0]),m=Math.round(n.top+A[1]);return[u,h,m,o,l]},Ef=function(e){return _n(e)&&e.value===x0.AUTO},Xx=function(e){return typeof e=="number"},Ffe=function(e,t,r){var n=t[0],s=t[1],i=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(Vs(o)&&l&&Vs(l))return[Qn(o,r.width),Qn(l,r.height)];var A=Xx(i);if(_n(o)&&(o.value===x0.CONTAIN||o.value===x0.COVER)){if(Xx(i)){var u=r.width/r.height;return u<i!=(o.value===x0.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var h=Xx(n),m=Xx(s),y=h||m;if(Ef(o)&&(!l||Ef(l))){if(h&&m)return[n,s];if(!A&&!y)return[r.width,r.height];if(y&&A){var g=h?n:s*i,b=m?s:n/i;return[g,b]}var C=h?n:r.width,I=m?s:r.height;return[C,I]}if(A){var v=0,N=0;return Vs(o)?v=Qn(o,r.width):Vs(l)&&(N=Qn(l,r.height)),Ef(o)?v=N*i:(!l||Ef(l))&&(N=v/i),[v,N]}var F=null,T=null;if(Vs(o)?F=Qn(o,r.width):l&&Vs(l)&&(T=Qn(l,r.height)),F!==null&&(!l||Ef(l))&&(T=h&&m?F/n*s:r.height),T!==null&&Ef(o)&&(F=h&&m?T/s*n:r.width),F!==null&&T!==null)return[F,T];throw new Error("Unable to calculate background-size for element")},Of=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},jfe=function(e,t,r,n,s){var i=t[0],o=t[1],l=r[0],A=r[1];switch(e){case 2:return[new Nt(Math.round(n.left),Math.round(n.top+o)),new Nt(Math.round(n.left+n.width),Math.round(n.top+o)),new Nt(Math.round(n.left+n.width),Math.round(A+n.top+o)),new Nt(Math.round(n.left),Math.round(A+n.top+o))];case 3:return[new Nt(Math.round(n.left+i),Math.round(n.top)),new Nt(Math.round(n.left+i+l),Math.round(n.top)),new Nt(Math.round(n.left+i+l),Math.round(n.height+n.top)),new Nt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Nt(Math.round(n.left+i),Math.round(n.top+o)),new Nt(Math.round(n.left+i+l),Math.round(n.top+o)),new Nt(Math.round(n.left+i+l),Math.round(n.top+o+A)),new Nt(Math.round(n.left+i),Math.round(n.top+o+A))];default:return[new Nt(Math.round(s.left),Math.round(s.top)),new Nt(Math.round(s.left+s.width),Math.round(s.top)),new Nt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Nt(Math.round(s.left),Math.round(s.height+s.top))]}},_fe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",H_="Hidden Text",Tfe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),s.src=_fe,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(H_)),n.appendChild(i),n.appendChild(s);var l=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(H_)),n.style.lineHeight="normal",s.style.verticalAlign="super";var A=s.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:A}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),kM=function(){function e(t,r){this.context=t,this.options=r}return e}(),kfe=1e4,Lfe=function(e){Hl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new Tfe(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),vfe(r)&&(this.ctx.globalAlpha=r.opacity),wfe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),IM(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return ca(this,void 0,void 0,function(){var n;return $i(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return ca(this,void 0,void 0,function(){return $i(this,function(n){switch(n.label){case 0:if(Zs(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var o=zS(r.text);o.reduce(function(l,A){return i.ctx.fillText(A,l,r.bounds.top+s),l+i.ctx.measureText(A).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=Ufe(r.fontFamily).join(", "),i=m1(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},t.prototype.renderTextNode=function(r,n){return ca(this,void 0,void 0,function(){var s,i,o,l,A,u,h,m,y=this;return $i(this,function(g){return s=this.createFontStyle(n),i=s[0],o=s[1],l=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,l),u=A.baseline,h=A.middle,m=n.paintOrder,r.textBounds.forEach(function(b){m.forEach(function(C){switch(C){case 0:y.ctx.fillStyle=oi(n.color),y.renderTextWithLetterSpacing(b,n.letterSpacing,u);var I=n.textShadow;I.length&&b.text.trim().length&&(I.slice(0).reverse().forEach(function(v){y.ctx.shadowColor=oi(v.color),y.ctx.shadowOffsetX=v.offsetX.number*y.options.scale,y.ctx.shadowOffsetY=v.offsetY.number*y.options.scale,y.ctx.shadowBlur=v.blur.number,y.renderTextWithLetterSpacing(b,n.letterSpacing,u)}),y.ctx.shadowColor="",y.ctx.shadowOffsetX=0,y.ctx.shadowOffsetY=0,y.ctx.shadowBlur=0),n.textDecorationLine.length&&(y.ctx.fillStyle=oi(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:y.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:y.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:y.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+h),b.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&b.text.trim().length&&(y.ctx.strokeStyle=oi(n.webkitTextStrokeColor),y.ctx.lineWidth=n.webkitTextStrokeWidth,y.ctx.lineJoin=window.chrome?"miter":"round",y.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),y.ctx.strokeStyle="",y.ctx.lineWidth=0,y.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Jw(r),o=Zw(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return ca(this,void 0,void 0,function(){var n,s,i,o,l,A,N,N,u,h,m,y,T,g,b,D,C,I,v,N,F,T,D;return $i(this,function(V){switch(V.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,o=0,l=n.textNodes,V.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,i)]):[3,4];case 2:V.sent(),V.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof uM))return[3,8];V.label=5;case 5:return V.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return N=V.sent(),this.renderReplacedElement(n,s,N),[3,8];case 7:return V.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof dM&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof hM))return[3,12];V.label=9;case 9:return V.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return N=V.sent(),this.renderReplacedElement(n,s,N),[3,12];case 11:return V.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof gM&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:h=V.sent(),n.width&&n.height&&this.ctx.drawImage(h,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),V.label=14;case 14:if(n instanceof $S&&(m=Math.min(n.bounds.width,n.bounds.height),n.type===zw?n.checked&&(this.ctx.save(),this.path([new Nt(n.bounds.left+m*.39363,n.bounds.top+m*.79),new Nt(n.bounds.left+m*.16,n.bounds.top+m*.5549),new Nt(n.bounds.left+m*.27347,n.bounds.top+m*.44071),new Nt(n.bounds.left+m*.39694,n.bounds.top+m*.5649),new Nt(n.bounds.left+m*.72983,n.bounds.top+m*.23),new Nt(n.bounds.left+m*.84,n.bounds.top+m*.34085),new Nt(n.bounds.left+m*.39363,n.bounds.top+m*.79)]),this.ctx.fillStyle=oi(F_),this.ctx.fill(),this.ctx.restore()):n.type===$w&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+m/2,n.bounds.top+m/2,m/4,0,Math.PI*2,!0),this.ctx.fillStyle=oi(F_),this.ctx.fill(),this.ctx.restore())),Pfe(n)&&n.value.length){switch(y=this.createFontStyle(i),T=y[0],g=y[1],b=this.fontMetrics.getMetrics(T,g).baseline,this.ctx.font=T,this.ctx.fillStyle=oi(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Rfe(n.styles.textAlign),D=Jw(n),C=0,n.styles.textAlign){case 1:C+=D.width/2;break;case 2:C+=D.width;break}I=D.add(C,0,0,-D.height/2+1),this.ctx.save(),this.path([new Nt(D.left,D.top),new Nt(D.left+D.width,D.top),new Nt(D.left+D.width,D.top+D.height),new Nt(D.left,D.top+D.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Mp(n.value,I),i.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Zs(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];N=void 0,F=v.url,V.label=15;case 15:return V.trys.push([15,17,,18]),[4,this.context.cache.match(F)];case 16:return N=V.sent(),this.ctx.drawImage(N,n.bounds.left-(N.width+10),n.bounds.top),[3,18];case 17:return V.sent(),this.context.logger.error("Error loading list-style-image "+F),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(T=this.createFontStyle(i)[0],this.ctx.font=T,this.ctx.fillStyle=oi(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",D=new OA(n.bounds.left,n.bounds.top+Qn(n.styles.paddingTop,n.bounds.width),n.bounds.width,d_(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Mp(r.listValue,D),i.letterSpacing,d_(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),V.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return ca(this,void 0,void 0,function(){var n,s,v,i,o,v,l,A,v,u,h,v,m,y,v,g,b,v,C,I,v;return $i(this,function(N){switch(N.label){case 0:if(Zs(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:N.sent(),n=0,s=r.negativeZIndex,N.label=2;case 2:return n<s.length?(v=s[n],[4,this.renderStack(v)]):[3,5];case 3:N.sent(),N.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:N.sent(),i=0,o=r.nonInlineLevel,N.label=7;case 7:return i<o.length?(v=o[i],[4,this.renderNode(v)]):[3,10];case 8:N.sent(),N.label=9;case 9:return i++,[3,7];case 10:l=0,A=r.nonPositionedFloats,N.label=11;case 11:return l<A.length?(v=A[l],[4,this.renderStack(v)]):[3,14];case 12:N.sent(),N.label=13;case 13:return l++,[3,11];case 14:u=0,h=r.nonPositionedInlineLevel,N.label=15;case 15:return u<h.length?(v=h[u],[4,this.renderStack(v)]):[3,18];case 16:N.sent(),N.label=17;case 17:return u++,[3,15];case 18:m=0,y=r.inlineLevel,N.label=19;case 19:return m<y.length?(v=y[m],[4,this.renderNode(v)]):[3,22];case 20:N.sent(),N.label=21;case 21:return m++,[3,19];case 22:g=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,N.label=23;case 23:return g<b.length?(v=b[g],[4,this.renderStack(v)]):[3,26];case 24:N.sent(),N.label=25;case 25:return g++,[3,23];case 26:C=0,I=r.positiveZIndex,N.label=27;case 27:return C<I.length?(v=I[C],[4,this.renderStack(v)]):[3,30];case 28:N.sent(),N.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var o=Wo(s)?s.start:s;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Wo(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},t.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var A=l.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,s),l},t.prototype.renderBackgroundImage=function(r){return ca(this,void 0,void 0,function(){var n,s,i,o,l,A;return $i(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,s=function(h){var m,y,g,z,G,K,J,ne,U,b,z,G,K,J,ne,C,I,v,N,F,T,D,V,P,U,k,z,R,H,J,ne,Y,G,K,q,X,fe,de,Q,Z,ae,ee;return $i(this,function(oe){switch(oe.label){case 0:if(h.type!==0)return[3,5];m=void 0,y=h.url,oe.label=1;case 1:return oe.trys.push([1,3,,4]),[4,i.context.cache.match(y)];case 2:return m=oe.sent(),[3,4];case 3:return oe.sent(),i.context.logger.error("Error loading background-image "+y),[3,4];case 4:return m&&(g=ZC(r,n,[m.width,m.height,m.width/m.height]),z=g[0],G=g[1],K=g[2],J=g[3],ne=g[4],U=i.ctx.createPattern(i.resizeImage(m,J,ne),"repeat"),i.renderRepeat(z,U,G,K)),[3,6];case 5:wue(h)?(b=ZC(r,n,[null,null,null]),z=b[0],G=b[1],K=b[2],J=b[3],ne=b[4],C=mue(h.angle,J,ne),I=C[0],v=C[1],N=C[2],F=C[3],T=C[4],D=document.createElement("canvas"),D.width=J,D.height=ne,V=D.getContext("2d"),P=V.createLinearGradient(v,F,N,T),A_(h.stops,I).forEach(function(pe){return P.addColorStop(pe.stop,oi(pe.color))}),V.fillStyle=P,V.fillRect(0,0,J,ne),J>0&&ne>0&&(U=i.ctx.createPattern(D,"repeat"),i.renderRepeat(z,U,G,K))):vue(h)&&(k=ZC(r,n,[null,null,null]),z=k[0],R=k[1],H=k[2],J=k[3],ne=k[4],Y=h.position.length===0?[KS]:h.position,G=Qn(Y[0],J),K=Qn(Y[Y.length-1],ne),q=pue(h,G,K,J,ne),X=q[0],fe=q[1],X>0&&fe>0&&(de=i.ctx.createRadialGradient(R+G,H+K,0,R+G,H+K,X),A_(h.stops,X*2).forEach(function(pe){return de.addColorStop(pe.stop,oi(pe.color))}),i.path(z),i.ctx.fillStyle=de,X!==fe?(Q=r.bounds.left+.5*r.bounds.width,Z=r.bounds.top+.5*r.bounds.height,ae=fe/X,ee=1/ae,i.ctx.save(),i.ctx.translate(Q,Z),i.ctx.transform(1,0,0,ae,0,0),i.ctx.translate(-Q,-Z),i.ctx.fillRect(R,ee*(H-Z)+Z,J,ne*ee),i.ctx.restore()):i.ctx.fill())),oe.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(A=l[o],[5,s(A)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return ca(this,void 0,void 0,function(){return $i(this,function(i){return this.path(Q_(s,n)),this.ctx.fillStyle=oi(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,i){return ca(this,void 0,void 0,function(){var o,l;return $i(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return A.sent(),[2];case 2:return o=Bfe(i,s),this.path(o),this.ctx.fillStyle=oi(r),this.ctx.fill(),l=Nfe(i,s),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return ca(this,void 0,void 0,function(){var n,s,i,o,l,A,u,h,m=this;return $i(this,function(y){switch(y.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!fd(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=Ofe(Of(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),fd(n.backgroundColor)||(this.ctx.fillStyle=oi(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:y.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){m.ctx.save();var b=Yw(r.curves),C=g.inset?0:kfe,I=bfe(b,-C+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(m.path(b),m.ctx.clip(),m.mask(I)):(m.mask(b),m.ctx.clip(),m.path(I)),m.ctx.shadowOffsetX=g.offsetX.number+C,m.ctx.shadowOffsetY=g.offsetY.number,m.ctx.shadowColor=oi(g.color),m.ctx.shadowBlur=g.blur.number,m.ctx.fillStyle=g.inset?oi(g.color):"rgba(0,0,0,1)",m.ctx.fill(),m.ctx.restore()}),y.label=2;case 2:l=0,A=0,u=i,y.label=3;case 3:return A<u.length?(h=u[A],h.style!==0&&!fd(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return y.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,l,r.curves,3)];case 6:return y.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,l,r.curves)];case 8:return y.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,l,r.curves)];case 10:y.sent(),y.label=11;case 11:l++,y.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,i,o){return ca(this,void 0,void 0,function(){var l,A,u,h,m,y,g,b,C,I,v,N,F,T,D,V,D,V;return $i(this,function(P){return this.ctx.save(),l=Sfe(i,s),A=Q_(i,s),o===2&&(this.path(A),this.ctx.clip()),Wo(A[0])?(u=A[0].start.x,h=A[0].start.y):(u=A[0].x,h=A[0].y),Wo(A[1])?(m=A[1].end.x,y=A[1].end.y):(m=A[1].x,y=A[1].y),s===0||s===2?g=Math.abs(u-m):g=Math.abs(h-y),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(A.slice(0,2)),b=n<3?n*3:n*2,C=n<3?n*2:n,o===3&&(b=n,C=n),I=!0,g<=b*2?I=!1:g<=b*2+C?(v=g/(2*b+C),b*=v,C*=v):(N=Math.floor((g+C)/(b+C)),F=(g-N*b)/(N-1),T=(g-(N+1)*b)/N,C=T<=0||Math.abs(C-F)<Math.abs(C-T)?F:T),I&&(o===3?this.ctx.setLineDash([0,b+C]):this.ctx.setLineDash([b,C])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=oi(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Wo(A[0])&&(D=A[3],V=A[0],this.ctx.beginPath(),this.formatPath([new Nt(D.end.x,D.end.y),new Nt(V.start.x,V.start.y)]),this.ctx.stroke()),Wo(A[1])&&(D=A[1],V=A[2],this.ctx.beginPath(),this.formatPath([new Nt(D.end.x,D.end.y),new Nt(V.start.x,V.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return ca(this,void 0,void 0,function(){var n;return $i(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=oi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Cfe(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(kM),Pfe=function(e){return e instanceof pM||e instanceof mM?!0:e instanceof $S&&e.type!==$w&&e.type!==zw},Ofe=function(e,t){switch(e){case 0:return Yw(t);case 2:return gfe(t);case 1:default:return Zw(t)}},Rfe=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Dfe=["-apple-system","system-ui"],Ufe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Dfe.indexOf(t)===-1}):e},Mfe=function(e){Hl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return ca(this,void 0,void 0,function(){var n,s;return $i(this,function(i){switch(i.label){case 0:return n=eN(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Qfe(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=oi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(kM),Qfe=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Hfe=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Ix([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Ix([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Ix([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Ix([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Vfe=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new Hfe({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new cfe(this,t)}return e.instanceCount=1,e}(),jv=function(e,t){return t===void 0&&(t={}),Kfe(e,t)};typeof window<"u"&&EM.setContext(window);var Kfe=function(e,t){return ca(void 0,void 0,void 0,function(){var r,n,s,i,o,l,A,u,h,m,y,g,b,C,I,v,N,F,T,D,P,V,P,U,k,z,R,H,J,ne,Y,G,K,q,X,fe,de,Q,Z,ae;return $i(this,function(ee){switch(ee.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(U=t.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(k=t.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:t.proxy,useCORS:(z=t.useCORS)!==null&&z!==void 0?z:!1},i=UB({logging:(R=t.logging)!==null&&R!==void 0?R:!0,cache:t.cache},s),o={windowWidth:(H=t.windowWidth)!==null&&H!==void 0?H:n.innerWidth,windowHeight:(J=t.windowHeight)!==null&&J!==void 0?J:n.innerHeight,scrollX:(ne=t.scrollX)!==null&&ne!==void 0?ne:n.pageXOffset,scrollY:(Y=t.scrollY)!==null&&Y!==void 0?Y:n.pageYOffset},l=new OA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new Vfe(i,l),u=(G=t.foreignObjectRendering)!==null&&G!==void 0?G:!1,h={allowTaint:(K=t.allowTaint)!==null&&K!==void 0?K:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),m=new D_(A,e,h),y=m.clonedReferenceElement,y?[4,m.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=ee.sent(),b=qS(y)||Whe(y)?bce(y.ownerDocument):wv(A,y),C=b.width,I=b.height,v=b.left,N=b.top,F=Gfe(A,y,t.backgroundColor),T={canvas:t.canvas,backgroundColor:F,scale:(X=(q=t.scale)!==null&&q!==void 0?q:n.devicePixelRatio)!==null&&X!==void 0?X:1,x:((fe=t.x)!==null&&fe!==void 0?fe:0)+v,y:((de=t.y)!==null&&de!==void 0?de:0)+N,width:(Q=t.width)!==null&&Q!==void 0?Q:Math.ceil(C),height:(Z=t.height)!==null&&Z!==void 0?Z:Math.ceil(I)},u?(A.logger.debug("Document cloned, using foreign object rendering"),P=new Mfe(A,T),[4,P.render(y)]):[3,3];case 2:return D=ee.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+v+","+N+" with size "+C+"x"+I+" using computed rendering"),A.logger.debug("Starting DOM parsing"),V=yM(A,y),F===V.styles.backgroundColor&&(V.styles.backgroundColor=SA.TRANSPARENT),A.logger.debug("Starting renderer for element at "+T.x+","+T.y+" with size "+T.width+"x"+T.height),P=new Lfe(A,T),[4,P.render(V)];case 4:D=ee.sent(),ee.label=5;case 5:return(!((ae=t.removeContainer)!==null&&ae!==void 0)||ae)&&(D_.destroy(g)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,D]}})})},Gfe=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?Dp(e,getComputedStyle(n.documentElement).backgroundColor):SA.TRANSPARENT,i=n.body?Dp(e,getComputedStyle(n.body).backgroundColor):SA.TRANSPARENT,o=typeof r=="string"?Dp(e,r):r===null?SA.TRANSPARENT:4294967295;return t===n.documentElement?fd(s)?fd(i)?o:i:s:o};const Wfe=Object.freeze(Object.defineProperty({__proto__:null,default:jv},Symbol.toStringTag,{value:"Module"})),V_=e=>new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),JC=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),zfe=({isOpen:e,onClose:t,studentId:r})=>{const[n,s]=B.useState(null),[i,o]=B.useState(!0),[l,A]=B.useState(null),u=B.useRef(null),h=B.useCallback(async()=>{if(r){o(!0),A(null);try{const C=await De.getStudent(r),I={...C,name:C.name||"",email:C.email||"",phone:C.phone||"",address:C.address||"",membershipStart:C.membershipStart||new Date().toISOString(),membershipEnd:C.membershipEnd||new Date().toISOString(),status:C.status||"active",totalFee:C.totalFee??0,amountPaid:C.amountPaid??0,dueAmount:C.dueAmount??0,cash:C.cash??0,online:C.online??0,securityMoney:C.securityMoney??0,branchId:C.branchId??0,remark:C.remark||null,createdAt:C.createdAt||new Date().toISOString(),discount:0};C.discount!==void 0&&(I.discount=Number(C.discount)||0),s(I)}catch(C){console.error("Error fetching student data:",C),A("Failed to load student data"),je.error("Failed to load student data")}finally{o(!1)}}},[r]);B.useEffect(()=>{e&&r&&h()},[e,r,h]);const m=vD.useReactToPrint({content:()=>u.current,onAfterPrint:()=>je.success("Invoice printed successfully!"),pageStyle:`
      @page { 
        size: A4;
        margin: 10mm;
      }
      @media print {
        body { 
          -webkit-print-color-adjust: exact; 
        }
        .no-print { 
          display: none !important; 
        }
      }
    `,documentTitle:`Invoice_${(n==null?void 0:n.name)||"Student"}_${new Date().toISOString().split("T")[0]}`,removeAfterPrint:!1}),y=B.useCallback(async()=>{if(!u.current)return null;const C=u.current,v=(await jv(C,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),N=new Xt("p","mm","a4"),F=N.getImageProperties(v),T=N.internal.pageSize.getWidth(),D=F.height*T/F.width;return N.addImage(v,"PNG",0,0,T,D),N},[]),g=B.useCallback(async()=>{if(n)try{const C=await y();if(!C)return;const I=`invoice_${n.name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;C.save(I),je.success("Invoice downloaded as PDF!")}catch(C){console.error("Error generating PDF:",C),je.error("Failed to generate PDF")}},[n,y]),b=B.useCallback(async()=>{if(n)try{const C=await y();if(!C)return;const I=C.output("blob"),v=URL.createObjectURL(I),N=document.createElement("a");N.href=v,N.download=`invoice_${n.name.replace(/\s+/g,"_")}.pdf`,document.body.appendChild(N),N.click(),document.body.removeChild(N),setTimeout(()=>URL.revokeObjectURL(v),100);const F=`Here's the invoice for ${n.name}`,T=`https://wa.me/?text=${encodeURIComponent(F)}`;window.open(T,"_blank"),je.success("Downloaded PDF. Please attach it to WhatsApp.")}catch(C){console.error("Error sharing via WhatsApp:",C),je.error("Failed to share via WhatsApp")}},[n,y]);return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75"}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 px-4 py-3 sm:px-6 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-white",children:n?`Invoice - ${n.name}`:"Invoice"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:m,className:"p-1 rounded-full text-white hover:bg-blue-700",children:a.jsx(fS,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-1 rounded-full text-white hover:bg-blue-700",children:a.jsx(zA,{className:"h-5 w-5"})})]})]}),a.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6",children:i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(ya,{className:"mx-auto h-12 w-12 text-red-500"}),a.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Error loading invoice"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l}),a.jsx("button",{onClick:h,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Retry"})]}):n?a.jsxs("div",{ref:u,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bill To:"}),a.jsx("p",{className:"text-gray-900",children:n.name}),n.fatherName&&a.jsxs("p",{className:"text-gray-600",children:["S/O ",n.fatherName]}),n.registrationNumber&&a.jsxs("p",{className:"text-gray-600",children:["Reg: ",n.registrationNumber]}),n.phone&&a.jsxs("p",{className:"text-gray-600 flex items-center",children:[a.jsx(WA,{className:"h-4 w-4 mr-1"})," ",n.phone]}),n.email&&a.jsxs("p",{className:"text-gray-600 flex items-center",children:[a.jsx(Cd,{className:"h-4 w-4 mr-1"})," ",n.email]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Membership Period"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Start Date"}),a.jsx("p",{className:"text-sm font-medium",children:V_(n.membershipStart)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"End Date"}),a.jsx("p",{className:"text-sm font-medium",children:V_(n.membershipEnd)})]})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payment Summary"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Fee:"}),a.jsx("span",{className:"font-medium",children:JC(n.totalFee)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Amount Paid:"}),a.jsx("span",{className:"text-green-600",children:JC(n.amountPaid)})]}),a.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2",children:[a.jsx("span",{className:"font-medium",children:"Balance Due:"}),a.jsx("span",{className:"font-medium",children:JC(n.dueAmount)})]})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsxs("button",{onClick:g,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(a1,{className:"h-4 w-4 mr-2"}),"Download"]}),a.jsxs("button",{onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:[a.jsx(_ee,{className:"h-4 w-4 mr-2"}),"Share via WhatsApp"]})]})]}):null})]})]})}):null},$fe=Xe.memo(zfe),qfe=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",Xfe=()=>{var Oe;const[e,t]=B.useState(null),[r,n]=B.useState([]),[s,i]=B.useState([]),[o,l]=B.useState(void 0),[A,u]=B.useState(!0),[h,m]=B.useState(""),[y,g]=B.useState(1),[b,C]=B.useState(10),[I,v]=B.useState(""),[N,F]=B.useState("");B.useState("desc");const[T,D]=B.useState(!1),[V,P]=B.useState("createdAt"),[U,k]=B.useState("desc"),[z,R]=B.useState(!1),[H,J]=B.useState(!1),[ne,Y]=B.useState(null),G=Rr(),K=Se=>{Y(Se),J(!0)},q=()=>{R(!0)},X=async()=>{try{const Se=await De.getLibraryProfile();t({id:Se.library.id,library_code:Se.library.libraryCode,name:Se.library.libraryName})}catch(Se){console.error("Error fetching library data:",Se),je.error("Failed to load library information")}};B.useEffect(()=>{X()},[]);const fe=async()=>{try{u(!0);const Ce=(await De.getStudents(I||void 0,N||void 0,o)).students.map(he=>{const Je=new Date(he.membershipEnd)<new Date;return{...he,status:Je?"expired":"active",createdAt:he.createdAt||"N/A",isActive:he.isActive}});n(Ce)}catch(Se){console.error("Failed to fetch students:",Se.message),je.error("Failed to fetch students")}finally{u(!1)}};B.useEffect(()=>{(async()=>{try{const Ce=await De.getBranches();i(Ce||[])}catch(Ce){console.error("Failed to fetch branches:",Ce.message),je.error("Failed to fetch branches"),i([])}})(),fe(),X()},[o,I,N]),B.useEffect(()=>{g(1)},[h,o,I,N]);const de=Se=>{V===Se?k(U==="asc"?"desc":"asc"):(P(Se),k("asc"))},Q=Se=>V!==Se?null:U==="asc"?a.jsx(J2,{size:16}):a.jsx(i1,{size:16}),Z=async(Se,Ce)=>{const he=!Ce,ft=he?"activate":"deactivate";if(window.confirm(`Are you sure you want to ${ft} this student?${he?"":`
This will unassign their seat.`}`))try{await De.updateStudentStatus(Se,{isActive:he}),je.success(`Student ${ft}d successfully`),fe()}catch{je.error(`Failed to ${ft} student`)}},ee=Xe.useMemo(()=>[...r].sort((Se,Ce)=>{var dt,Je,Qe,vt,Ke,Vt,bt,nt,ct,At,Ht,St,xt,Lt;let he,ft;switch(V){case"name":he=((dt=Se.name)==null?void 0:dt.toLowerCase())||"",ft=((Je=Ce.name)==null?void 0:Je.toLowerCase())||"";break;case"registrationNumber":he=((Qe=Se.registrationNumber)==null?void 0:Qe.toLowerCase())||"",ft=((vt=Ce.registrationNumber)==null?void 0:vt.toLowerCase())||"";break;case"phone":he=Se.phone||"",ft=Ce.phone||"";break;case"status":he=((Ke=Se.status)==null?void 0:Ke.toLowerCase())||"",ft=((Vt=Ce.status)==null?void 0:Vt.toLowerCase())||"";break;case"seat":he=((bt=Se.seatNumber)==null?void 0:bt.toLowerCase())||((At=(ct=(nt=Se.assignments)==null?void 0:nt[0])==null?void 0:ct.seatNumber)==null?void 0:At.toLowerCase())||"",ft=((Ht=Ce.seatNumber)==null?void 0:Ht.toLowerCase())||((Lt=(xt=(St=Ce.assignments)==null?void 0:St[0])==null?void 0:xt.seatNumber)==null?void 0:Lt.toLowerCase())||"";break;case"createdAt":default:const Bt=new Date(Se.createdAt),Mr=new Date(Ce.createdAt);he=isNaN(Bt.getTime())?0:Bt.getTime(),ft=isNaN(Mr.getTime())?0:Mr.getTime();break}return he<ft?U==="asc"?-1:1:he>ft?U==="asc"?1:-1:0}),[r,V,U]).filter(Se=>Se.name.toLowerCase().includes(h.toLowerCase())||Se.phone.toLowerCase().includes(h.toLowerCase())||Se.registrationNumber&&Se.registrationNumber.toLowerCase().includes(h.toLowerCase())),oe=y*b,pe=oe-b,Be=ee.slice(pe,oe),_e=Math.ceil(ee.length/b),Le=async Se=>{if(window.confirm("Are you sure you want to delete this student?"))try{await De.deleteStudent(Se),n(r.filter(Ce=>Ce.id!==Se)),je.success("Student deleted successfully")}catch(Ce){console.error("Failed to delete student:",Ce.message),je.error("Failed to delete student")}},ke=Se=>{G(`/students/${Se}`)};return o&&((Oe=s.find(Se=>Se.id===o))==null||Oe.name),a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(Kn,{isCollapsed:T,setIsCollapsed:D,onBarcodeClick:q}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"All Students"}),a.jsx("p",{className:"text-gray-500",children:"Manage all your students"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Students List"}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:h,onChange:Se=>m(Se.target.value)})]})]}),a.jsxs("div",{className:"p-4 flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"Branch:"}),a.jsxs("select",{value:o??"",onChange:Se=>l(Se.target.value?Number(Se.target.value):void 0),className:"p-2 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Branches"}),s.map(Se=>a.jsx("option",{value:Se.id,children:Se.name},Se.id))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"From:"}),a.jsx("input",{type:"date",value:I,onChange:Se=>v(Se.target.value),className:"p-2 border rounded"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"To:"}),a.jsx("input",{type:"date",value:N,onChange:Se=>F(Se.target.value),className:"p-2 border rounded"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(kc,{children:[a.jsx(Lc,{children:a.jsxs(os,{children:[a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>de("name"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Name"}),Q("name")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>de("registrationNumber"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Registration"}),Q("registrationNumber")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>de("phone"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Phone"}),Q("phone")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>de("status"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Status"}),Q("status")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>de("seat"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Seat"}),Q("seat")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>de("createdAt"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Added On"}),Q("createdAt")]})}),a.jsx(rr,{children:"Invoice"}),a.jsx(rr,{children:"Action"}),a.jsx(rr,{children:"Actions"})]})}),a.jsx(Pc,{children:A?a.jsx(os,{children:a.jsx(qt,{colSpan:9,className:"text-center py-8",children:"Loading..."})}):Be.length>0?Be.map(Se=>{var Ce,he;return a.jsxs(os,{className:`${Se.isActive?"":"bg-gray-100 text-gray-400"}`,children:[a.jsx(qt,{children:Se.name}),a.jsx(qt,{children:Se.registrationNumber||"N/A"}),a.jsx(qt,{children:Se.phone}),a.jsx(qt,{children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Se.isActive?Se.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Se.isActive?Se.status==="active"?"Active":"Expired":"Inactive"})}),a.jsx(qt,{children:Se.seatNumber||((he=(Ce=Se.assignments)==null?void 0:Ce[0])==null?void 0:he.seatNumber)||"N/A"}),a.jsx(qt,{children:qfe(Se.createdAt)}),a.jsx(qt,{children:a.jsxs("button",{onClick:()=>K(Se.id),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 p-2 rounded transition-colors",title:"View Invoice",children:[a.jsx(dB,{size:16}),a.jsx("span",{className:"text-xs font-medium",children:"Invoice"})]})}),a.jsx(qt,{children:a.jsxs("button",{onClick:()=>Z(Se.id,Se.isActive),className:`flex items-center gap-1 text-xs p-1 rounded font-semibold ${Se.isActive?"text-yellow-600 hover:bg-yellow-100":"text-green-600 hover:bg-green-100"}`,title:Se.isActive?"Deactivate Student":"Activate Student",children:[Se.isActive?a.jsx(wR,{size:16}):a.jsx(vR,{size:16}),Se.isActive?"Deactivate":"Activate"]})}),a.jsxs(qt,{children:[a.jsx("button",{onClick:()=>ke(Se.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:a.jsx(za,{size:16})}),a.jsx("button",{onClick:()=>Le(Se.id),className:"text-red-600 hover:text-red-800 p-2",children:a.jsx(il,{size:16})})]})]},Se.id)}):a.jsx(os,{children:a.jsx(qt,{colSpan:9,className:"text-center py-8",children:"No students found."})})})]})}),!A&&ee.length>0&&a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border-t p-4 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:b,onChange:Se=>C(Number(Se.target.value)),className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>g(Se=>Math.max(Se-1,1)),disabled:y===1,className:"p-2 rounded border disabled:opacity-50",children:a.jsx(Pd,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",y," of ",_e]}),a.jsx("button",{onClick:()=>g(Se=>Math.min(Se+1,_e)),disabled:y===_e,className:"p-2 rounded border disabled:opacity-50",children:a.jsx(Cn,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",pe+1,"-",Math.min(oe,ee.length)," of ",ee.length]})]})]})]})})]}),e&&a.jsx(c1,{isOpen:z,onClose:()=>R(!1),libraryCode:e.library_code,libraryName:e.name,libraryId:e.id}),ne&&a.jsx($fe,{isOpen:H,onClose:()=>{J(!1),Y(null)},studentId:ne})]})},K_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,G_=P7,_v=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return G_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const h=r==null?void 0:r[u],m=i==null?void 0:i[u];if(h===null)return null;const y=K_(h)||K_(m);return s[u][y]}),l=r&&Object.entries(r).reduce((u,h)=>{let[m,y]=h;return y===void 0||(u[m]=y),u},{}),A=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:m,className:y,...g}=h;return Object.entries(g).every(b=>{let[C,I]=b;return Array.isArray(I)?I.includes({...i,...l}[C]):{...i,...l}[C]===I})?[...u,m,y]:u},[]);return G_(e,o,A,r==null?void 0:r.class,r==null?void 0:r.className)},oN=_v("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),cr=B.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?Wh:"button";return a.jsx(o,{className:vr(oN({variant:t,size:r,className:e})),ref:i,...s})});cr.displayName="Button";const W_=()=>{const[e]=W3(),[t,r]=B.useState([]),[n,s]=B.useState(!0),[i,o]=B.useState("all"),[l,A]=B.useState(!1);B.useEffect(()=>{const y=e.get("range")||"all";o(y)},[e]),B.useEffect(()=>{(async()=>{s(!0);try{let g;switch(i){case"1-2":g=await De.getExpiringByRange(void 0,0,2);break;case"3-5":g=await De.getExpiringByRange(void 0,2,5);break;case"5-7":g=await De.getExpiringByRange(void 0,5,7);break;default:g=await De.getExpiringSoon();break}r(g.students)}catch(g){je.error(g.message||"Failed to fetch expiring memberships.")}finally{s(!1)}})()},[i]);const u=y=>{if(!y){je.error("No phone number available for this student.");return}let g=y.replace(/\D/g,"");g.length===10&&(g=`91${g}`);const b=`https://wa.me/${g}`;window.open(b,"_blank","noopener,noreferrer")},h=y=>new Date(y).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),m=()=>{switch(i){case"1-2":return"Memberships Expiring in 1-2 Days";case"3-5":return"Memberships Expiring in 3-5 Days";case"5-7":return"Memberships Expiring in 5-7 Days";default:return"All Expiring Memberships"}};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(Kn,{isCollapsed:l,setIsCollapsed:A,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:m()}),a.jsx("p",{className:"text-gray-500",children:"View memberships expiring in the selected time range."})]}),a.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(AS,{className:"h-5 w-5 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by:"})]}),a.jsxs("select",{value:i,onChange:y=>o(y.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",children:[a.jsx("option",{value:"all",children:"All Expiring Soon"}),a.jsx("option",{value:"1-2",children:"1-2 Days"}),a.jsx("option",{value:"3-5",children:"3-5 Days"}),a.jsx("option",{value:"5-7",children:"5-7 Days"})]})]}),a.jsx("div",{className:"rounded-lg border bg-white shadow-sm",children:n?a.jsx("p",{className:"p-4 text-center text-gray-500",children:"Loading..."}):t.length===0?a.jsx("p",{className:"p-4 text-center text-gray-500",children:"No memberships are expiring soon."}):a.jsxs(kc,{children:[a.jsx(Lc,{children:a.jsxs(os,{children:[a.jsx(rr,{children:"Name"}),a.jsx(rr,{children:"Phone"}),a.jsx(rr,{children:"Expiry Date"}),a.jsx(rr,{children:"Days Until Expiry"}),a.jsx(rr,{className:"text-right",children:"Contact"})]})}),a.jsx(Pc,{children:t.map(y=>{const g=Math.ceil((new Date(y.membershipEnd).getTime()-new Date().getTime())/864e5);return a.jsxs(os,{children:[a.jsx(qt,{className:"font-medium",children:y.name}),a.jsx(qt,{children:y.phone}),a.jsx(qt,{children:h(y.membershipEnd)}),a.jsx(qt,{children:a.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g<=2?"bg-red-100 text-red-800":g<=5?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800"}`,children:[g," day",g!==1?"s":""]})}),a.jsx(qt,{className:"text-right",children:a.jsx(cr,{variant:"ghost",size:"icon",onClick:()=>u(y.phone),title:`Send WhatsApp message to ${y.name}`,children:a.jsx(hS,{className:"h-5 w-5 text-green-600"})})})]},y.id)})})]})})]})})]})]})};var e5="focusScope.autoFocusOnMount",t5="focusScope.autoFocusOnUnmount",z_={bubbles:!1,cancelable:!0},Yfe="FocusScope",XS=B.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,A]=B.useState(null),u=Nc(s),h=Nc(i),m=B.useRef(null),y=Jn(t,C=>A(C)),g=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(n){let C=function(F){if(g.paused||!l)return;const T=F.target;l.contains(T)?m.current=T:Bu(m.current,{select:!0})},I=function(F){if(g.paused||!l)return;const T=F.relatedTarget;T!==null&&(l.contains(T)||Bu(m.current,{select:!0}))},v=function(F){if(document.activeElement===document.body)for(const D of F)D.removedNodes.length>0&&Bu(l)};document.addEventListener("focusin",C),document.addEventListener("focusout",I);const N=new MutationObserver(v);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",I),N.disconnect()}}},[n,l,g.paused]),B.useEffect(()=>{if(l){q_.add(g);const C=document.activeElement;if(!l.contains(C)){const v=new CustomEvent(e5,z_);l.addEventListener(e5,u),l.dispatchEvent(v),v.defaultPrevented||(Zfe(n0e(LM(l)),{select:!0}),document.activeElement===C&&Bu(l))}return()=>{l.removeEventListener(e5,u),setTimeout(()=>{const v=new CustomEvent(t5,z_);l.addEventListener(t5,h),l.dispatchEvent(v),v.defaultPrevented||Bu(C??document.body,{select:!0}),l.removeEventListener(t5,h),q_.remove(g)},0)}}},[l,u,h,g]);const b=B.useCallback(C=>{if(!r&&!n||g.paused)return;const I=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,v=document.activeElement;if(I&&v){const N=C.currentTarget,[F,T]=Jfe(N);F&&T?!C.shiftKey&&v===T?(C.preventDefault(),r&&Bu(F,{select:!0})):C.shiftKey&&v===F&&(C.preventDefault(),r&&Bu(T,{select:!0})):v===N&&C.preventDefault()}},[r,n,g.paused]);return a.jsx(Zr.div,{tabIndex:-1,...o,ref:y,onKeyDown:b})});XS.displayName=Yfe;function Zfe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bu(n,{select:t}),document.activeElement!==r)return}function Jfe(e){const t=LM(e),r=$_(t,e),n=$_(t.reverse(),e);return[r,n]}function LM(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $_(e,t){for(const r of e)if(!e0e(r,{upTo:t}))return r}function e0e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function t0e(e){return e instanceof HTMLInputElement&&"select"in e}function Bu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&t0e(e)&&t&&e.select()}}var q_=r0e();function r0e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=X_(e,t),e.unshift(t)},remove(t){var r;e=X_(e,t),(r=e[0])==null||r.resume()}}}function X_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function n0e(e){return e.filter(t=>t.tagName!=="A")}var r5=0;function PM(){B.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Y_()),document.body.insertAdjacentElement("beforeend",e[1]??Y_()),r5++,()=>{r5===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),r5--}},[])}function Y_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ac=function(){return Ac=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ac.apply(this,arguments)};function OM(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function s0e(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Qy="right-scroll-bar-position",Hy="width-before-scroll-bar",i0e="with-scroll-bars-hidden",a0e="--removed-body-scroll-bar-size";function n5(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function o0e(e,t){var r=B.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var l0e=typeof window<"u"?B.useLayoutEffect:B.useEffect,Z_=new WeakMap;function c0e(e,t){var r=o0e(null,function(n){return e.forEach(function(s){return n5(s,n)})});return l0e(function(){var n=Z_.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||n5(l,null)}),i.forEach(function(l){s.has(l)||n5(l,o)})}Z_.set(r,e)},[e]),r}function A0e(e){return e}function u0e(e,t){t===void 0&&(t=A0e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var A=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(A)};u(),r={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),r}}}};return s}function d0e(e){e===void 0&&(e={});var t=u0e(null);return t.options=Ac({async:!0,ssr:!1},e),t}var RM=function(e){var t=e.sideCar,r=OM(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return B.createElement(n,Ac({},r))};RM.isSideCarExport=!0;function h0e(e,t){return e.useMedium(t),RM}var DM=d0e(),s5=function(){},Tv=B.forwardRef(function(e,t){var r=B.useRef(null),n=B.useState({onScrollCapture:s5,onWheelCapture:s5,onTouchMoveCapture:s5}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,A=e.className,u=e.removeScrollBar,h=e.enabled,m=e.shards,y=e.sideCar,g=e.noIsolation,b=e.inert,C=e.allowPinchZoom,I=e.as,v=I===void 0?"div":I,N=e.gapMode,F=OM(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=y,D=c0e([r,t]),V=Ac(Ac({},F),s);return B.createElement(B.Fragment,null,h&&B.createElement(T,{sideCar:DM,removeScrollBar:u,shards:m,noIsolation:g,inert:b,setCallbacks:i,allowPinchZoom:!!C,lockRef:r,gapMode:N}),o?B.cloneElement(B.Children.only(l),Ac(Ac({},V),{ref:D})):B.createElement(v,Ac({},V,{className:A,ref:D}),l))});Tv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Tv.classNames={fullWidth:Hy,zeroRight:Qy};var f0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m0e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=f0e();return t&&e.setAttribute("nonce",t),e}function p0e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function g0e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var x0e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=m0e())&&(p0e(t,r),g0e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},y0e=function(){var e=x0e();return function(t,r){B.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},UM=function(){var e=y0e(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},w0e={left:0,top:0,right:0,gap:0},i5=function(e){return parseInt(e||"",10)||0},v0e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[i5(r),i5(n),i5(s)]},b0e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return w0e;var t=v0e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},C0e=UM(),y0="data-scroll-locked",B0e=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(i0e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(y0,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Hy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Qy," .").concat(Qy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Hy," .").concat(Hy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(y0,`] {
    `).concat(a0e,": ").concat(l,`px;
  }
`)},J_=function(){var e=parseInt(document.body.getAttribute(y0)||"0",10);return isFinite(e)?e:0},N0e=function(){B.useEffect(function(){return document.body.setAttribute(y0,(J_()+1).toString()),function(){var e=J_()-1;e<=0?document.body.removeAttribute(y0):document.body.setAttribute(y0,e.toString())}},[])},S0e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;N0e();var i=B.useMemo(function(){return b0e(s)},[s]);return B.createElement(C0e,{styles:B0e(i,!t,s,r?"":"!important")})},lN=!1;if(typeof window<"u")try{var Yx=Object.defineProperty({},"passive",{get:function(){return lN=!0,!0}});window.addEventListener("test",Yx,Yx),window.removeEventListener("test",Yx,Yx)}catch{lN=!1}var If=lN?{passive:!1}:!1,E0e=function(e){return e.tagName==="TEXTAREA"},MM=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!E0e(e)&&r[t]==="visible")},I0e=function(e){return MM(e,"overflowY")},F0e=function(e){return MM(e,"overflowX")},eT=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=QM(e,n);if(s){var i=HM(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},j0e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},_0e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},QM=function(e,t){return e==="v"?I0e(t):F0e(t)},HM=function(e,t){return e==="v"?j0e(t):_0e(t)},T0e=function(e,t){return e==="h"&&t==="rtl"?-1:1},k0e=function(e,t,r,n,s){var i=T0e(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,A=t.contains(l),u=!1,h=o>0,m=0,y=0;do{var g=HM(e,l),b=g[0],C=g[1],I=g[2],v=C-I-i*b;(b||v)&&QM(e,l)&&(m+=v,y+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!A&&l!==document.body||A&&(t.contains(l)||t===l));return(h&&(Math.abs(m)<1||!s)||!h&&(Math.abs(y)<1||!s))&&(u=!0),u},Zx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tT=function(e){return[e.deltaX,e.deltaY]},rT=function(e){return e&&"current"in e?e.current:e},L0e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},P0e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},O0e=0,Ff=[];function R0e(e){var t=B.useRef([]),r=B.useRef([0,0]),n=B.useRef(),s=B.useState(O0e++)[0],i=B.useState(UM)[0],o=B.useRef(e);B.useEffect(function(){o.current=e},[e]),B.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var C=s0e([e.lockRef.current],(e.shards||[]).map(rT),!0).filter(Boolean);return C.forEach(function(I){return I.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=B.useCallback(function(C,I){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!o.current.allowPinchZoom;var v=Zx(C),N=r.current,F="deltaX"in C?C.deltaX:N[0]-v[0],T="deltaY"in C?C.deltaY:N[1]-v[1],D,V=C.target,P=Math.abs(F)>Math.abs(T)?"h":"v";if("touches"in C&&P==="h"&&V.type==="range")return!1;var U=eT(P,V);if(!U)return!0;if(U?D=P:(D=P==="v"?"h":"v",U=eT(P,V)),!U)return!1;if(!n.current&&"changedTouches"in C&&(F||T)&&(n.current=D),!D)return!0;var k=n.current||D;return k0e(k,I,C,k==="h"?F:T,!0)},[]),A=B.useCallback(function(C){var I=C;if(!(!Ff.length||Ff[Ff.length-1]!==i)){var v="deltaY"in I?tT(I):Zx(I),N=t.current.filter(function(D){return D.name===I.type&&(D.target===I.target||I.target===D.shadowParent)&&L0e(D.delta,v)})[0];if(N&&N.should){I.cancelable&&I.preventDefault();return}if(!N){var F=(o.current.shards||[]).map(rT).filter(Boolean).filter(function(D){return D.contains(I.target)}),T=F.length>0?l(I,F[0]):!o.current.noIsolation;T&&I.cancelable&&I.preventDefault()}}},[]),u=B.useCallback(function(C,I,v,N){var F={name:C,delta:I,target:v,should:N,shadowParent:D0e(v)};t.current.push(F),setTimeout(function(){t.current=t.current.filter(function(T){return T!==F})},1)},[]),h=B.useCallback(function(C){r.current=Zx(C),n.current=void 0},[]),m=B.useCallback(function(C){u(C.type,tT(C),C.target,l(C,e.lockRef.current))},[]),y=B.useCallback(function(C){u(C.type,Zx(C),C.target,l(C,e.lockRef.current))},[]);B.useEffect(function(){return Ff.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",A,If),document.addEventListener("touchmove",A,If),document.addEventListener("touchstart",h,If),function(){Ff=Ff.filter(function(C){return C!==i}),document.removeEventListener("wheel",A,If),document.removeEventListener("touchmove",A,If),document.removeEventListener("touchstart",h,If)}},[]);var g=e.removeScrollBar,b=e.inert;return B.createElement(B.Fragment,null,b?B.createElement(i,{styles:P0e(s)}):null,g?B.createElement(S0e,{gapMode:e.gapMode}):null)}function D0e(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const U0e=h0e(DM,R0e);var YS=B.forwardRef(function(e,t){return B.createElement(Tv,Ac({},e,{ref:t,sideCar:U0e}))});YS.classNames=Tv.classNames;var M0e=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jf=new WeakMap,Jx=new WeakMap,ey={},a5=0,VM=function(e){return e&&(e.host||VM(e.parentNode))},Q0e=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=VM(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},H0e=function(e,t,r,n){var s=Q0e(t,Array.isArray(e)?e:[e]);ey[r]||(ey[r]=new WeakMap);var i=ey[r],o=[],l=new Set,A=new Set(s),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};s.forEach(u);var h=function(m){!m||A.has(m)||Array.prototype.forEach.call(m.children,function(y){if(l.has(y))h(y);else try{var g=y.getAttribute(n),b=g!==null&&g!=="false",C=(jf.get(y)||0)+1,I=(i.get(y)||0)+1;jf.set(y,C),i.set(y,I),o.push(y),C===1&&b&&Jx.set(y,!0),I===1&&y.setAttribute(r,"true"),b||y.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",y,v)}})};return h(t),l.clear(),a5++,function(){o.forEach(function(m){var y=jf.get(m)-1,g=i.get(m)-1;jf.set(m,y),i.set(m,g),y||(Jx.has(m)||m.removeAttribute(n),Jx.delete(m)),g||m.removeAttribute(r)}),a5--,a5||(jf=new WeakMap,jf=new WeakMap,Jx=new WeakMap,ey={})}},KM=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=M0e(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),H0e(n,s,r,"aria-hidden")):function(){return null}},ZS="Dialog",[GM,I4e]=t1(ZS),[V0e,Vl]=GM(ZS),WM=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=B.useRef(null),A=B.useRef(null),[u=!1,h]=$h({prop:n,defaultProp:s,onChange:i});return a.jsx(V0e,{scope:t,triggerRef:l,contentRef:A,contentId:BA(),titleId:BA(),descriptionId:BA(),open:u,onOpenChange:h,onOpenToggle:B.useCallback(()=>h(m=>!m),[h]),modal:o,children:r})};WM.displayName=ZS;var zM="DialogTrigger",K0e=B.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vl(zM,r),i=Jn(t,s.triggerRef);return a.jsx(Zr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tE(s.open),...n,ref:i,onClick:Ir(e.onClick,s.onOpenToggle)})});K0e.displayName=zM;var JS="DialogPortal",[G0e,$M]=GM(JS,{forceMount:void 0}),qM=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Vl(JS,t);return a.jsx(G0e,{scope:t,forceMount:r,children:B.Children.map(n,o=>a.jsx(lf,{present:r||i.open,children:a.jsx(tS,{asChild:!0,container:s,children:o})}))})};qM.displayName=JS;var e2="DialogOverlay",XM=B.forwardRef((e,t)=>{const r=$M(e2,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Vl(e2,e.__scopeDialog);return i.modal?a.jsx(lf,{present:n||i.open,children:a.jsx(W0e,{...s,ref:t})}):null});XM.displayName=e2;var W0e=B.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vl(e2,r);return a.jsx(YS,{as:Wh,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Zr.div,{"data-state":tE(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Jh="DialogContent",YM=B.forwardRef((e,t)=>{const r=$M(Jh,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Vl(Jh,e.__scopeDialog);return a.jsx(lf,{present:n||i.open,children:i.modal?a.jsx(z0e,{...s,ref:t}):a.jsx($0e,{...s,ref:t})})});YM.displayName=Jh;var z0e=B.forwardRef((e,t)=>{const r=Vl(Jh,e.__scopeDialog),n=B.useRef(null),s=Jn(t,r.contentRef,n);return B.useEffect(()=>{const i=n.current;if(i)return KM(i)},[]),a.jsx(ZM,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ir(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ir(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ir(e.onFocusOutside,i=>i.preventDefault())})}),$0e=B.forwardRef((e,t)=>{const r=Vl(Jh,e.__scopeDialog),n=B.useRef(!1),s=B.useRef(!1);return a.jsx(ZM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var A,u;(A=e.onInteractOutside)==null||A.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ZM=B.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Vl(Jh,r),A=B.useRef(null),u=Jn(t,A);return PM(),a.jsxs(a.Fragment,{children:[a.jsx(XS,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(R2,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(q0e,{titleId:l.titleId}),a.jsx(Y0e,{contentRef:A,descriptionId:l.descriptionId})]})]})}),eE="DialogTitle",JM=B.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vl(eE,r);return a.jsx(Zr.h2,{id:s.titleId,...n,ref:t})});JM.displayName=eE;var eQ="DialogDescription",tQ=B.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vl(eQ,r);return a.jsx(Zr.p,{id:s.descriptionId,...n,ref:t})});tQ.displayName=eQ;var rQ="DialogClose",nQ=B.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Vl(rQ,r);return a.jsx(Zr.button,{type:"button",...n,ref:t,onClick:Ir(e.onClick,()=>s.onOpenChange(!1))})});nQ.displayName=rQ;function tE(e){return e?"open":"closed"}var sQ="DialogTitleWarning",[F4e,iQ]=lX(sQ,{contentName:Jh,titleName:eE,docsSlug:"dialog"}),q0e=({titleId:e})=>{const t=iQ(sQ),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return B.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},X0e="DialogDescriptionWarning",Y0e=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iQ(X0e).contentName}}.`;return B.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Z0e=WM,J0e=qM,aQ=XM,oQ=YM,lQ=JM,cQ=tQ,AQ=nQ;const w0=Z0e,eme=J0e,o5=AQ,uQ=B.forwardRef(({className:e,...t},r)=>a.jsx(aQ,{ref:r,className:vr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));uQ.displayName=aQ.displayName;const _h=B.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(eme,{children:[a.jsx(uQ,{}),a.jsxs(oQ,{ref:n,className:vr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(AQ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(zA,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_h.displayName=oQ.displayName;const Th=({className:e,...t})=>a.jsx("div",{className:vr("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Th.displayName="DialogHeader";const kh=({className:e,...t})=>a.jsx("div",{className:vr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kh.displayName="DialogFooter";const Lh=B.forwardRef(({className:e,...t},r)=>a.jsx(lQ,{ref:r,className:vr("text-lg font-semibold leading-none tracking-tight",e),...t}));Lh.displayName=lQ.displayName;const Ph=B.forwardRef(({className:e,...t},r)=>a.jsx(cQ,{ref:r,className:vr("text-sm text-muted-foreground",e),...t}));Ph.displayName=cQ.displayName;function nn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function bo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ha(e,t){const r=nn(e);return isNaN(t)?bo(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Co(e,t){const r=nn(e);if(isNaN(t))return bo(e,NaN);if(!t)return r;const n=r.getDate(),s=bo(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const rE=6048e5,tme=864e5;let rme={};function p1(){return rme}function jc(e,t){var l,A,u,h;const r=p1(),n=(t==null?void 0:t.weekStartsOn)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=nn(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function ef(e){return jc(e,{weekStartsOn:1})}function dQ(e){const t=nn(e),r=t.getFullYear(),n=bo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=ef(n),i=bo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=ef(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Z0(e){const t=nn(e);return t.setHours(0,0,0,0),t}function t2(e){const t=nn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function dc(e,t){const r=Z0(e),n=Z0(t),s=+r-t2(r),i=+n-t2(n);return Math.round((s-i)/tme)}function nme(e){const t=dQ(e),r=bo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ef(r)}function cN(e,t){const r=t*7;return ha(e,r)}function sme(e,t){return Co(e,t*12)}function ime(e){let t;return e.forEach(function(r){const n=nn(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function ame(e){let t;return e.forEach(r=>{const n=nn(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Ua(e,t){const r=Z0(e),n=Z0(t);return+r==+n}function nE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ome(e){if(!nE(e)&&typeof e!="number")return!1;const t=nn(e);return!isNaN(Number(t))}function Og(e,t){const r=nn(e),n=nn(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function lme(e,t,r){const n=jc(e,r),s=jc(t,r),i=+n-t2(n),o=+s-t2(s);return Math.round((i-o)/rE)}function sE(e){const t=nn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Wa(e){const t=nn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function hQ(e){const t=nn(e),r=bo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function iE(e,t){var l,A,u,h;const r=p1(),n=(t==null?void 0:t.weekStartsOn)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=nn(e),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function fQ(e){return iE(e,{weekStartsOn:1})}const cme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ame=(e,t,r)=>{let n;const s=cme[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function l5(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ume={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fme={date:l5({formats:ume,defaultWidth:"full"}),time:l5({formats:dme,defaultWidth:"full"}),dateTime:l5({formats:hme,defaultWidth:"full"})},mme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pme=(e,t,r,n)=>mme[e];function Xm(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const gme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cme=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Bme={ordinalNumber:Cme,era:Xm({values:gme,defaultWidth:"wide"}),quarter:Xm({values:xme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Xm({values:yme,defaultWidth:"wide"}),day:Xm({values:wme,defaultWidth:"wide"}),dayPeriod:Xm({values:vme,defaultWidth:"wide",formattingValues:bme,defaultFormattingWidth:"wide"})};function Ym(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],A=Array.isArray(l)?Sme(l,m=>m.test(o)):Nme(l,m=>m.test(o));let u;u=e.valueCallback?e.valueCallback(A):A,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function Nme(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Sme(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Eme(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Ime=/^(\d+)(th|st|nd|rd)?/i,Fme=/\d+/i,jme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_me={any:[/^b/i,/^(a|c)/i]},Tme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kme={any:[/1/i,/2/i,/3/i,/4/i]},Lme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ome={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Rme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ume={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mme={ordinalNumber:Eme({matchPattern:Ime,parsePattern:Fme,valueCallback:e=>parseInt(e,10)}),era:Ym({matchPatterns:jme,defaultMatchWidth:"wide",parsePatterns:_me,defaultParseWidth:"any"}),quarter:Ym({matchPatterns:Tme,defaultMatchWidth:"wide",parsePatterns:kme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ym({matchPatterns:Lme,defaultMatchWidth:"wide",parsePatterns:Pme,defaultParseWidth:"any"}),day:Ym({matchPatterns:Ome,defaultMatchWidth:"wide",parsePatterns:Rme,defaultParseWidth:"any"}),dayPeriod:Ym({matchPatterns:Dme,defaultMatchWidth:"any",parsePatterns:Ume,defaultParseWidth:"any"})},mQ={code:"en-US",formatDistance:Ame,formatLong:fme,formatRelative:pme,localize:Bme,match:Mme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qme(e){const t=nn(e);return dc(t,hQ(t))+1}function pQ(e){const t=nn(e),r=+ef(t)-+nme(t);return Math.round(r/rE)+1}function gQ(e,t){var h,m,y,g;const r=nn(e),n=r.getFullYear(),s=p1(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(y=s.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,o=bo(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=jc(o,t),A=bo(e,0);A.setFullYear(n,0,i),A.setHours(0,0,0,0);const u=jc(A,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Hme(e,t){var l,A,u,h;const r=p1(),n=(t==null?void 0:t.firstWeekContainsDate)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=gQ(e,t),i=bo(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),jc(i,t)}function xQ(e,t){const r=nn(e),n=+jc(r,t)-+Hme(r,t);return Math.round(n/rE)+1}function bn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const yu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return bn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):bn(r+1,2)},d(e,t){return bn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return bn(e.getHours()%12||12,t.length)},H(e,t){return bn(e.getHours(),t.length)},m(e,t){return bn(e.getMinutes(),t.length)},s(e,t){return bn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return bn(s,t.length)}},_f={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nT={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return yu.y(e,t)},Y:function(e,t,r,n){const s=gQ(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return bn(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):bn(i,t.length)},R:function(e,t){const r=dQ(e);return bn(r,t.length)},u:function(e,t){const r=e.getFullYear();return bn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return bn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return bn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return yu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return bn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=xQ(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):bn(s,t.length)},I:function(e,t,r){const n=pQ(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):bn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):yu.d(e,t)},D:function(e,t,r){const n=Qme(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):bn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return bn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return bn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return bn(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=_f.noon:n===0?s=_f.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=_f.evening:n>=12?s=_f.afternoon:n>=4?s=_f.morning:s=_f.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return yu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):yu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):bn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):bn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):yu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):yu.s(e,t)},S:function(e,t){return yu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return iT(n);case"XXXX":case"XX":return Zd(n);case"XXXXX":case"XXX":default:return Zd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return iT(n);case"xxxx":case"xx":return Zd(n);case"xxxxx":case"xxx":default:return Zd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sT(n,":");case"OOOO":default:return"GMT"+Zd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sT(n,":");case"zzzz":default:return"GMT"+Zd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return bn(n,t.length)},T:function(e,t,r){const n=e.getTime();return bn(n,t.length)}};function sT(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+bn(i,2)}function iT(e,t){return e%60===0?(e>0?"-":"+")+bn(Math.abs(e)/60,2):Zd(e,t)}function Zd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=bn(Math.trunc(n/60),2),i=bn(n%60,2);return r+s+t+i}const aT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},yQ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Vme=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return aT(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",aT(n,t)).replace("{{time}}",yQ(s,t))},Kme={p:yQ,P:Vme},Gme=/^D+$/,Wme=/^Y+$/,zme=["D","DD","YY","YYYY"];function $me(e){return Gme.test(e)}function qme(e){return Wme.test(e)}function Xme(e,t,r){const n=Yme(e,t,r);if(console.warn(n),zme.includes(e))throw new RangeError(n)}function Yme(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Zme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,epe=/^'([^]*?)'?$/,tpe=/''/g,rpe=/[a-zA-Z]/;function RA(e,t,r){var h,m,y,g,b,C,I,v;const n=p1(),s=(r==null?void 0:r.locale)??n.locale??mQ,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(y=n.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((C=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:C.weekStartsOn)??n.weekStartsOn??((v=(I=n.locale)==null?void 0:I.options)==null?void 0:v.weekStartsOn)??0,l=nn(e);if(!ome(l))throw new RangeError("Invalid time value");let A=t.match(Jme).map(N=>{const F=N[0];if(F==="p"||F==="P"){const T=Kme[F];return T(N,s.formatLong)}return N}).join("").match(Zme).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const F=N[0];if(F==="'")return{isToken:!1,value:npe(N)};if(nT[F])return{isToken:!0,value:N};if(F.match(rpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return{isToken:!1,value:N}});s.localize.preprocessor&&(A=s.localize.preprocessor(l,A));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return A.map(N=>{if(!N.isToken)return N.value;const F=N.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&qme(F)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&$me(F))&&Xme(F,t,String(e));const T=nT[F[0]];return T(l,F,s.localize,u)}).join("")}function npe(e){const t=e.match(epe);return t?t[1].replace(tpe,"'"):e}function spe(e){const t=nn(e),r=t.getFullYear(),n=t.getMonth(),s=bo(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function ipe(e){return Math.trunc(+nn(e)/1e3)}function ape(e){const t=nn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function ope(e,t){return lme(ape(e),Wa(e),t)+1}function AN(e,t){const r=nn(e),n=nn(t);return r.getTime()>n.getTime()}function wQ(e,t){const r=nn(e),n=nn(t);return+r<+n}function aE(e,t){const r=nn(e),n=nn(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function lpe(e,t){const r=nn(e),n=nn(t);return r.getFullYear()===n.getFullYear()}function c5(e,t){return ha(e,-t)}function A5(e,t){const r=nn(e),n=r.getFullYear(),s=r.getDate(),i=bo(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=spe(i);return r.setMonth(t,Math.min(s,o)),r}function oT(e,t){const r=nn(e);return isNaN(+r)?bo(e,NaN):(r.setFullYear(t),r)}var gr=function(){return gr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},gr.apply(this,arguments)};function cpe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function vQ(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function g1(e){return e.mode==="multiple"}function x1(e){return e.mode==="range"}function kv(e){return e.mode==="single"}var Ape={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function upe(e,t){return RA(e,"LLLL y",t)}function dpe(e,t){return RA(e,"d",t)}function hpe(e,t){return RA(e,"LLLL",t)}function fpe(e){return"".concat(e)}function mpe(e,t){return RA(e,"cccccc",t)}function ppe(e,t){return RA(e,"yyyy",t)}var gpe=Object.freeze({__proto__:null,formatCaption:upe,formatDay:dpe,formatMonthCaption:hpe,formatWeekNumber:fpe,formatWeekdayName:mpe,formatYearCaption:ppe}),xpe=function(e,t,r){return RA(e,"do MMMM (EEEE)",r)},ype=function(){return"Month: "},wpe=function(){return"Go to next month"},vpe=function(){return"Go to previous month"},bpe=function(e,t){return RA(e,"cccc",t)},Cpe=function(e){return"Week n. ".concat(e)},Bpe=function(){return"Year: "},Npe=Object.freeze({__proto__:null,labelDay:xpe,labelMonthDropdown:ype,labelNext:wpe,labelPrevious:vpe,labelWeekNumber:Cpe,labelWeekday:bpe,labelYearDropdown:Bpe});function Spe(){var e="buttons",t=Ape,r=mQ,n={},s={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:gpe,labels:Npe,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Epe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Wa(n):t&&(i=new Date(t,0,1)),s?o=sE(s):r&&(o=new Date(r,11,31)),{fromDate:i?Z0(i):void 0,toDate:o?Z0(o):void 0}}var bQ=B.createContext(void 0);function Ipe(e){var t,r=e.initialProps,n=Spe(),s=Epe(r),i=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var A;(kv(r)||g1(r)||x1(r))&&(A=r.onSelect);var u=gr(gr(gr({},n),r),{captionLayout:l,classNames:gr(gr({},n.classNames),r.classNames),components:gr({},r.components),formatters:gr(gr({},n.formatters),r.formatters),fromDate:i,labels:gr(gr({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:gr(gr({},n.modifiers),r.modifiers),modifiersClassNames:gr(gr({},n.modifiersClassNames),r.modifiersClassNames),onSelect:A,styles:gr(gr({},n.styles),r.styles),toDate:o});return a.jsx(bQ.Provider,{value:u,children:e.children})}function Gn(){var e=B.useContext(bQ);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function CQ(e){var t=Gn(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Fpe(e){return a.jsx("svg",gr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function BQ(e){var t,r,n=e.onChange,s=e.value,i=e.children,o=e.caption,l=e.className,A=e.style,u=Gn(),h=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Fpe;return a.jsxs("div",{className:l,style:A,children:[a.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:i}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(h,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function jpe(e){var t,r=Gn(),n=r.fromDate,s=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,A=r.classNames,u=r.components,h=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var m=[];if(lpe(n,s))for(var y=Wa(n),g=n.getMonth();g<=s.getMonth();g++)m.push(A5(y,g));else for(var y=Wa(new Date),g=0;g<=11;g++)m.push(A5(y,g));var b=function(I){var v=Number(I.target.value),N=A5(Wa(e.displayMonth),v);e.onChange(N)},C=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:BQ;return a.jsx(C,{name:"months","aria-label":h(),className:A.dropdown_month,style:i.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(I){return a.jsx("option",{value:I.getMonth(),children:l(I,{locale:o})},I.getMonth())})})}function _pe(e){var t,r=e.displayMonth,n=Gn(),s=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,A=n.classNames,u=n.components,h=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,y=[];if(!s)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var g=s.getFullYear(),b=i.getFullYear(),C=g;C<=b;C++)y.push(oT(hQ(new Date),C));var I=function(N){var F=oT(Wa(r),Number(N.target.value));e.onChange(F)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:BQ;return a.jsx(v,{name:"years","aria-label":m(),className:A.dropdown_year,style:l.dropdown_year,onChange:I,value:r.getFullYear(),caption:h(r,{locale:o}),children:y.map(function(N){return a.jsx("option",{value:N.getFullYear(),children:h(N,{locale:o})},N.getFullYear())})})}function Tpe(e,t){var r=B.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function kpe(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,A=l===void 0?1:l;if(i&&Og(i,s)<0){var u=-1*(A-1);s=Co(i,u)}return o&&Og(s,o)<0&&(s=o),Wa(s)}function Lpe(){var e=Gn(),t=kpe(e),r=Tpe(t,e.month),n=r[0],s=r[1],i=function(o){var l;if(!e.disableNavigation){var A=Wa(o);s(A),(l=e.onMonthChange)===null||l===void 0||l.call(e,A)}};return[n,i]}function Ppe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Wa(e),i=Wa(Co(s,n)),o=Og(i,s),l=[],A=0;A<o;A++){var u=Co(s,A);l.push(u)}return r&&(l=l.reverse()),l}function Ope(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=Wa(e);if(!r)return Co(l,o);var A=Og(r,e);if(!(A<i))return Co(l,o)}}function Rpe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=Wa(e);if(!r)return Co(l,-o);var A=Og(l,r);if(!(A<=0))return Co(l,-o)}}var NQ=B.createContext(void 0);function Dpe(e){var t=Gn(),r=Lpe(),n=r[0],s=r[1],i=Ppe(n,t),o=Ope(n,t),l=Rpe(n,t),A=function(m){return i.some(function(y){return aE(m,y)})},u=function(m,y){A(m)||(y&&wQ(m,y)?s(Co(m,1+t.numberOfMonths*-1)):s(m))},h={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:A};return a.jsx(NQ.Provider,{value:h,children:e.children})}function y1(){var e=B.useContext(NQ);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function lT(e){var t,r=Gn(),n=r.classNames,s=r.styles,i=r.components,o=y1().goToMonth,l=function(h){o(Co(h,e.displayIndex?-e.displayIndex:0))},A=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:CQ,u=a.jsx(A,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:u}),a.jsx(jpe,{onChange:l,displayMonth:e.displayMonth}),a.jsx(_pe,{onChange:l,displayMonth:e.displayMonth})]})}function Upe(e){return a.jsx("svg",gr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Mpe(e){return a.jsx("svg",gr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var r2=B.forwardRef(function(e,t){var r=Gn(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=gr(gr({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),a.jsx("button",gr({},e,{ref:t,type:"button",className:o,style:l}))});function Qpe(e){var t,r,n=Gn(),s=n.dir,i=n.locale,o=n.classNames,l=n.styles,A=n.labels,u=A.labelPrevious,h=A.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var y=u(e.previousMonth,{locale:i}),g=[o.nav_button,o.nav_button_previous].join(" "),b=h(e.nextMonth,{locale:i}),C=[o.nav_button,o.nav_button_next].join(" "),I=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:Mpe,v=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:Upe;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(r2,{name:"previous-month","aria-label":y,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(I,{className:o.nav_icon,style:l.nav_icon}):a.jsx(v,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(r2,{name:"next-month","aria-label":b,className:C,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(v,{className:o.nav_icon,style:l.nav_icon}):a.jsx(I,{className:o.nav_icon,style:l.nav_icon})})]})}function cT(e){var t=Gn().numberOfMonths,r=y1(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(b){return aE(e.displayMonth,b)}),A=l===0,u=l===o.length-1,h=t>1&&(A||!u),m=t>1&&(u||!A),y=function(){n&&i(n)},g=function(){s&&i(s)};return a.jsx(Qpe,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:s,previousMonth:n,onPreviousClick:y,onNextClick:g})}function Hpe(e){var t,r=Gn(),n=r.classNames,s=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,A=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:CQ,u;return s?u=a.jsx(A,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=a.jsx(lT,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(lT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(cT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(A,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(cT,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:n.caption,style:i.caption,children:u})}function Vpe(e){var t=Gn(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function Kpe(e,t,r){for(var n=r?ef(new Date):jc(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=ha(n,i);s.push(o)}return s}function Gpe(){var e=Gn(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,A=e.labels.labelWeekday,u=Kpe(s,i,o);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(h,m){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":A(h,{locale:s}),children:l(h,{locale:s})},m)})]})}function Wpe(){var e,t=Gn(),r=t.classNames,n=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:Gpe;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(i,{})})}function zpe(e){var t=Gn(),r=t.locale,n=t.formatters.formatDay;return a.jsx(a.Fragment,{children:n(e.date,{locale:r})})}var oE=B.createContext(void 0);function $pe(e){if(!g1(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(oE.Provider,{value:t,children:e.children})}return a.jsx(qpe,{initialProps:e.initialProps,children:e.children})}function qpe(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,o=function(u,h,m){var y,g;(y=t.onDayClick)===null||y===void 0||y.call(t,u,h,m);var b=!!(h.selected&&s&&(n==null?void 0:n.length)===s);if(!b){var C=!!(!h.selected&&i&&(n==null?void 0:n.length)===i);if(!C){var I=n?vQ([],n):[];if(h.selected){var v=I.findIndex(function(N){return Ua(u,N)});I.splice(v,1)}else I.push(u);(g=t.onSelect)===null||g===void 0||g.call(t,I,u,h,m)}}},l={disabled:[]};n&&l.disabled.push(function(u){var h=i&&n.length>i-1,m=n.some(function(y){return Ua(y,u)});return!!(h&&!m)});var A={selected:n,onDayClick:o,modifiers:l};return a.jsx(oE.Provider,{value:A,children:r})}function lE(){var e=B.useContext(oE);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Xpe(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Ua(s,e)&&Ua(n,e)?void 0:Ua(s,e)?{from:s,to:void 0}:Ua(n,e)?void 0:AN(n,e)?{from:e,to:s}:{from:n,to:e}:s?AN(e,s)?{from:s,to:e}:{from:e,to:s}:n?wQ(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var cE=B.createContext(void 0);function Ype(e){if(!x1(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(cE.Provider,{value:t,children:e.children})}return a.jsx(Zpe,{initialProps:e.initialProps,children:e.children})}function Zpe(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,o=s.to,l=t.min,A=t.max,u=function(g,b,C){var I,v;(I=t.onDayClick)===null||I===void 0||I.call(t,g,b,C);var N=Xpe(g,n);(v=t.onSelect)===null||v===void 0||v.call(t,N,g,b,C)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(h.range_start=[i],o?(h.range_end=[o],Ua(i,o)||(h.range_middle=[{after:i,before:o}])):h.range_end=[i]):o&&(h.range_start=[o],h.range_end=[o]),l&&(i&&!o&&h.disabled.push({after:c5(i,l-1),before:ha(i,l-1)}),i&&o&&h.disabled.push({after:i,before:ha(i,l-1)}),!i&&o&&h.disabled.push({after:c5(o,l-1),before:ha(o,l-1)})),A){if(i&&!o&&(h.disabled.push({before:ha(i,-A+1)}),h.disabled.push({after:ha(i,A-1)})),i&&o){var m=dc(o,i)+1,y=A-m;h.disabled.push({before:c5(i,y)}),h.disabled.push({after:ha(o,y)})}!i&&o&&(h.disabled.push({before:ha(o,-A+1)}),h.disabled.push({after:ha(o,A-1)}))}return a.jsx(cE.Provider,{value:{selected:n,onDayClick:u,modifiers:h},children:r})}function AE(){var e=B.useContext(cE);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Vy(e){return Array.isArray(e)?vQ([],e):e!==void 0?[e]:[]}function Jpe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Vy(s)}),t}var Dl;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Dl||(Dl={}));var ege=Dl.Selected,lA=Dl.Disabled,tge=Dl.Hidden,rge=Dl.Today,u5=Dl.RangeEnd,d5=Dl.RangeMiddle,h5=Dl.RangeStart,nge=Dl.Outside;function sge(e,t,r){var n,s=(n={},n[ege]=Vy(e.selected),n[lA]=Vy(e.disabled),n[tge]=Vy(e.hidden),n[rge]=[e.today],n[u5]=[],n[d5]=[],n[h5]=[],n[nge]=[],n);return e.fromDate&&s[lA].push({before:e.fromDate}),e.toDate&&s[lA].push({after:e.toDate}),g1(e)?s[lA]=s[lA].concat(t.modifiers[lA]):x1(e)&&(s[lA]=s[lA].concat(r.modifiers[lA]),s[h5]=r.modifiers[h5],s[d5]=r.modifiers[d5],s[u5]=r.modifiers[u5]),s}var SQ=B.createContext(void 0);function ige(e){var t=Gn(),r=lE(),n=AE(),s=sge(t,r,n),i=Jpe(t.modifiers),o=gr(gr({},s),i);return a.jsx(SQ.Provider,{value:o,children:e.children})}function EQ(){var e=B.useContext(SQ);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function age(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function oge(e){return!!(e&&typeof e=="object"&&"from"in e)}function lge(e){return!!(e&&typeof e=="object"&&"after"in e)}function cge(e){return!!(e&&typeof e=="object"&&"before"in e)}function Age(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function uge(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=dc(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var o=dc(e,n)>=0&&dc(s,e)>=0;return o}return s?Ua(s,e):n?Ua(n,e):!1}function dge(e){return nE(e)}function hge(e){return Array.isArray(e)&&e.every(nE)}function fge(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(dge(r))return Ua(e,r);if(hge(r))return r.includes(e);if(oge(r))return uge(e,r);if(Age(r))return r.dayOfWeek.includes(e.getDay());if(age(r)){var n=dc(r.before,e),s=dc(r.after,e),i=n>0,o=s<0,l=AN(r.before,r.after);return l?o&&i:i||o}return lge(r)?dc(e,r.after)>0:cge(r)?dc(r.before,e)>0:typeof r=="function"?r(e):!1})}function uE(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return fge(e,l)&&i.push(o),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!aE(e,r)&&(s.outside=!0),s}function mge(e,t){for(var r=Wa(e[0]),n=sE(e[e.length-1]),s,i,o=r;o<=n;){var l=uE(o,t),A=!l.disabled&&!l.hidden;if(!A){o=ha(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=ha(o,1)}return i||s}var pge=365;function IQ(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,A=s.weekStartsOn,u=s.fromDate,h=s.toDate,m=s.locale,y={day:ha,week:cN,month:Co,year:sme,startOfWeek:function(I){return s.ISOWeek?ef(I):jc(I,{locale:m,weekStartsOn:A})},endOfWeek:function(I){return s.ISOWeek?fQ(I):iE(I,{locale:m,weekStartsOn:A})}},g=y[r](e,n==="after"?1:-1);n==="before"&&u?g=ime([u,g]):n==="after"&&h&&(g=ame([h,g]));var b=!0;if(i){var C=uE(g,i);b=!C.disabled&&!C.hidden}return b?g:l.count>pge?l.lastFocused:IQ(g,{moveBy:r,direction:n,context:s,modifiers:i,retry:gr(gr({},l),{count:l.count+1})})}var FQ=B.createContext(void 0);function gge(e){var t=y1(),r=EQ(),n=B.useState(),s=n[0],i=n[1],o=B.useState(),l=o[0],A=o[1],u=mge(t.displayMonths,r),h=s??(l&&t.isDateDisplayed(l))?l:u,m=function(){A(s),i(void 0)},y=function(I){i(I)},g=Gn(),b=function(I,v){if(s){var N=IQ(s,{moveBy:I,direction:v,context:g,modifiers:r});Ua(s,N)||(t.goToDate(N,s),y(N))}},C={focusedDay:s,focusTarget:h,blur:m,focus:y,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return a.jsx(FQ.Provider,{value:C,children:e.children})}function dE(){var e=B.useContext(FQ);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function xge(e,t){var r=EQ(),n=uE(e,r,t);return n}var hE=B.createContext(void 0);function yge(e){if(!kv(e.initialProps)){var t={selected:void 0};return a.jsx(hE.Provider,{value:t,children:e.children})}return a.jsx(wge,{initialProps:e.initialProps,children:e.children})}function wge(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var A,u,h;if((A=t.onDayClick)===null||A===void 0||A.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,i,i,o,l)},s={selected:t.selected,onDayClick:n};return a.jsx(hE.Provider,{value:s,children:r})}function jQ(){var e=B.useContext(hE);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function vge(e,t){var r=Gn(),n=jQ(),s=lE(),i=AE(),o=dE(),l=o.focusDayAfter,A=o.focusDayBefore,u=o.focusWeekAfter,h=o.focusWeekBefore,m=o.blur,y=o.focus,g=o.focusMonthBefore,b=o.focusMonthAfter,C=o.focusYearBefore,I=o.focusYearAfter,v=o.focusStartOfWeek,N=o.focusEndOfWeek,F=function(K){var q,X,fe,de;kv(r)?(q=n.onDayClick)===null||q===void 0||q.call(n,e,t,K):g1(r)?(X=s.onDayClick)===null||X===void 0||X.call(s,e,t,K):x1(r)?(fe=i.onDayClick)===null||fe===void 0||fe.call(i,e,t,K):(de=r.onDayClick)===null||de===void 0||de.call(r,e,t,K)},T=function(K){var q;y(e),(q=r.onDayFocus)===null||q===void 0||q.call(r,e,t,K)},D=function(K){var q;m(),(q=r.onDayBlur)===null||q===void 0||q.call(r,e,t,K)},V=function(K){var q;(q=r.onDayMouseEnter)===null||q===void 0||q.call(r,e,t,K)},P=function(K){var q;(q=r.onDayMouseLeave)===null||q===void 0||q.call(r,e,t,K)},U=function(K){var q;(q=r.onDayPointerEnter)===null||q===void 0||q.call(r,e,t,K)},k=function(K){var q;(q=r.onDayPointerLeave)===null||q===void 0||q.call(r,e,t,K)},z=function(K){var q;(q=r.onDayTouchCancel)===null||q===void 0||q.call(r,e,t,K)},R=function(K){var q;(q=r.onDayTouchEnd)===null||q===void 0||q.call(r,e,t,K)},H=function(K){var q;(q=r.onDayTouchMove)===null||q===void 0||q.call(r,e,t,K)},J=function(K){var q;(q=r.onDayTouchStart)===null||q===void 0||q.call(r,e,t,K)},ne=function(K){var q;(q=r.onDayKeyUp)===null||q===void 0||q.call(r,e,t,K)},Y=function(K){var q;switch(K.key){case"ArrowLeft":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?l():A();break;case"ArrowRight":K.preventDefault(),K.stopPropagation(),r.dir==="rtl"?A():l();break;case"ArrowDown":K.preventDefault(),K.stopPropagation(),u();break;case"ArrowUp":K.preventDefault(),K.stopPropagation(),h();break;case"PageUp":K.preventDefault(),K.stopPropagation(),K.shiftKey?C():g();break;case"PageDown":K.preventDefault(),K.stopPropagation(),K.shiftKey?I():b();break;case"Home":K.preventDefault(),K.stopPropagation(),v();break;case"End":K.preventDefault(),K.stopPropagation(),N();break}(q=r.onDayKeyDown)===null||q===void 0||q.call(r,e,t,K)},G={onClick:F,onFocus:T,onBlur:D,onKeyDown:Y,onKeyUp:ne,onMouseEnter:V,onMouseLeave:P,onPointerEnter:U,onPointerLeave:k,onTouchCancel:z,onTouchEnd:R,onTouchMove:H,onTouchStart:J};return G}function bge(){var e=Gn(),t=jQ(),r=lE(),n=AE(),s=kv(e)?t.selected:g1(e)?r.selected:x1(e)?n.selected:void 0;return s}function Cge(e){return Object.values(Dl).includes(e)}function Bge(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(Cge(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Nge(e,t){var r=gr({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=gr(gr({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function Sge(e,t,r){var n,s,i,o=Gn(),l=dE(),A=xge(e,t),u=vge(e,A),h=bge(),m=!!(o.onDayClick||o.mode!=="default");B.useEffect(function(){var V;A.outside||l.focusedDay&&m&&Ua(l.focusedDay,e)&&((V=r.current)===null||V===void 0||V.focus())},[l.focusedDay,e,r,m,A.outside]);var y=Bge(o,A).join(" "),g=Nge(o,A),b=!!(A.outside&&!o.showOutsideDays||A.hidden),C=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:zpe,I=a.jsx(C,{date:e,displayMonth:t,activeModifiers:A}),v={style:g,className:y,children:I,role:"gridcell"},N=l.focusTarget&&Ua(l.focusTarget,e)&&!A.outside,F=l.focusedDay&&Ua(l.focusedDay,e),T=gr(gr(gr({},v),(n={disabled:A.disabled,role:"gridcell"},n["aria-selected"]=A.selected,n.tabIndex=F||N?0:-1,n)),u),D={isButton:m,isHidden:b,activeModifiers:A,selectedDays:h,buttonProps:T,divProps:v};return D}function Ege(e){var t=B.useRef(null),r=Sge(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(r2,gr({name:"day",ref:t},r.buttonProps)):a.jsx("div",gr({},r.divProps))}function Ige(e){var t=e.number,r=e.dates,n=Gn(),s=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,A=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,h=u(Number(t),{locale:l});if(!s)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:h});var m=A(Number(t),{locale:l}),y=function(g){s(t,r,g)};return a.jsx(r2,{name:"week-number","aria-label":m,className:o.weeknumber,style:i.weeknumber,onClick:y,children:h})}function Fge(e){var t,r,n=Gn(),s=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,A=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Ege,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Ige,h;return o&&(h=a.jsx("td",{className:i.cell,style:s.cell,children:a.jsx(u,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:i.row,style:s.row,children:[h,e.dates.map(function(m){return a.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:a.jsx(A,{displayMonth:e.displayMonth,date:m})},ipe(m))})]})}function AT(e,t,r){for(var n=r!=null&&r.ISOWeek?fQ(t):iE(t,r),s=r!=null&&r.ISOWeek?ef(e):jc(e,r),i=dc(n,s),o=[],l=0;l<=i;l++)o.push(ha(s,l));var A=o.reduce(function(u,h){var m=r!=null&&r.ISOWeek?pQ(h):xQ(h,r),y=u.find(function(g){return g.weekNumber===m});return y?(y.dates.push(h),u):(u.push({weekNumber:m,dates:[h]}),u)},[]);return A}function jge(e,t){var r=AT(Wa(e),sE(e),t);if(t!=null&&t.useFixedWeeks){var n=ope(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],o=cN(i,6-n),l=AT(cN(i,1),o,t);r.push.apply(r,l)}}return r}function _ge(e){var t,r,n,s=Gn(),i=s.locale,o=s.classNames,l=s.styles,A=s.hideHead,u=s.fixedWeeks,h=s.components,m=s.weekStartsOn,y=s.firstWeekContainsDate,g=s.ISOWeek,b=jge(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:i,weekStartsOn:m,firstWeekContainsDate:y}),C=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:Wpe,I=(r=h==null?void 0:h.Row)!==null&&r!==void 0?r:Fge,v=(n=h==null?void 0:h.Footer)!==null&&n!==void 0?n:Vpe;return a.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!A&&a.jsx(C,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:b.map(function(N){return a.jsx(I,{displayMonth:e.displayMonth,dates:N.dates,weekNumber:N.weekNumber},N.weekNumber)})}),a.jsx(v,{displayMonth:e.displayMonth})]})}function Tge(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var kge=Tge()?B.useLayoutEffect:B.useEffect,f5=!1,Lge=0;function uT(){return"react-day-picker-".concat(++Lge)}function Pge(e){var t,r=e??(f5?uT():null),n=B.useState(r),s=n[0],i=n[1];return kge(function(){s===null&&i(uT())},[]),B.useEffect(function(){f5===!1&&(f5=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function Oge(e){var t,r,n=Gn(),s=n.dir,i=n.classNames,o=n.styles,l=n.components,A=y1().displayMonths,u=Pge(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),h=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],y=o.month,g=e.displayIndex===0,b=e.displayIndex===A.length-1,C=!g&&!b;s==="rtl"&&(t=[g,b],b=t[0],g=t[1]),g&&(m.push(i.caption_start),y=gr(gr({},y),o.caption_start)),b&&(m.push(i.caption_end),y=gr(gr({},y),o.caption_end)),C&&(m.push(i.caption_between),y=gr(gr({},y),o.caption_between));var I=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Hpe;return a.jsxs("div",{className:m.join(" "),style:y,children:[a.jsx(I,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(_ge,{id:h,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Rge(e){var t=Gn(),r=t.classNames,n=t.styles;return a.jsx("div",{className:r.months,style:n.months,children:e.children})}function Dge(e){var t,r,n=e.initialProps,s=Gn(),i=dE(),o=y1(),l=B.useState(!1),A=l[0],u=l[1];B.useEffect(function(){s.initialFocus&&i.focusTarget&&(A||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,A,i.focus,i.focusTarget,i]);var h=[s.classNames.root,s.className];s.numberOfMonths>1&&h.push(s.classNames.multiple_months),s.showWeekNumber&&h.push(s.classNames.with_weeknumber);var m=gr(gr({},s.styles.root),s.style),y=Object.keys(n).filter(function(b){return b.startsWith("data-")}).reduce(function(b,C){var I;return gr(gr({},b),(I={},I[C]=n[C],I))},{}),g=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Rge;return a.jsx("div",gr({className:h.join(" "),style:m,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},y,{children:a.jsx(g,{children:o.displayMonths.map(function(b,C){return a.jsx(Oge,{displayIndex:C,displayMonth:b},C)})})}))}function Uge(e){var t=e.children,r=cpe(e,["children"]);return a.jsx(Ipe,{initialProps:r,children:a.jsx(Dpe,{children:a.jsx(yge,{initialProps:r,children:a.jsx($pe,{initialProps:r,children:a.jsx(Ype,{initialProps:r,children:a.jsx(ige,{children:a.jsx(gge,{children:t})})})})})})})}function Mge(e){return a.jsx(Uge,gr({},e,{children:a.jsx(Dge,{initialProps:e})}))}function n2({className:e,classNames:t,showOutsideDays:r=!0,...n}){return a.jsx(Mge,{showOutsideDays:r,className:vr("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:vr(oN({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:vr(oN({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(Pd,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(Cn,{className:"h-4 w-4"})},...n})}n2.displayName="Calendar";const Qge=e=>e&&"permissions"in e&&Array.isArray(e.permissions),Hge=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",Vge=()=>{const[e,t]=B.useState([]),[r,n]=B.useState(!0),[s,i]=B.useState(""),[o,l]=B.useState(!1),[A,u]=B.useState(null),[h,m]=B.useState(""),[y,g]=B.useState("asc"),[b,C]=B.useState(null),[I,v]=B.useState([]),[N,F]=B.useState(""),[T,D]=B.useState(""),[V,P]=B.useState(""),[U,k]=B.useState(""),[z,R]=B.useState(""),[H,J]=B.useState(""),[ne,Y]=B.useState(""),[G,K]=B.useState(new Date),[q,X]=B.useState(Co(new Date,1)),[fe,de]=B.useState([]),[Q,Z]=B.useState(!1),[ae,ee]=B.useState([]),[oe,pe]=B.useState([]),[Be,_e]=B.useState(null),[Le,ke]=B.useState(null),[Oe,Se]=B.useState(null),[Ce,he]=B.useState(""),[ft,dt]=B.useState(""),[Je,Qe]=B.useState(""),[vt,Ke]=B.useState(""),[Vt,bt]=B.useState(""),nt=Rr(),{user:ct}=Ca(),At=$e=>{h===$e?g(y==="asc"?"desc":"asc"):(m($e),g("asc"))},Ht=Xe.useMemo(()=>h?[...e].sort(($e,at)=>{var Kr,$t,sr,Dt,Tr,Pt,lr,ir,sn,Et,an,ms,Gr,Sn;let mt,yt;switch(h){case"name":mt=((Kr=$e.name)==null?void 0:Kr.toLowerCase())||"",yt=(($t=at.name)==null?void 0:$t.toLowerCase())||"";break;case"registrationNumber":mt=((sr=$e.registrationNumber)==null?void 0:sr.toLowerCase())||"",yt=((Dt=at.registrationNumber)==null?void 0:Dt.toLowerCase())||"";break;case"email":mt=((Tr=$e.email)==null?void 0:Tr.toLowerCase())||"",yt=((Pt=at.email)==null?void 0:Pt.toLowerCase())||"";break;case"phone":mt=$e.phone||"",yt=at.phone||"";break;case"membershipEnd":mt=new Date($e.membershipEnd||0).getTime(),yt=new Date(at.membershipEnd||0).getTime();break;case"seat":mt=((lr=$e.seatNumber)==null?void 0:lr.toLowerCase())||((Et=(sn=(ir=$e.assignments)==null?void 0:ir[0])==null?void 0:sn.seatNumber)==null?void 0:Et.toLowerCase())||"",yt=((an=at.seatNumber)==null?void 0:an.toLowerCase())||((Sn=(Gr=(ms=at.assignments)==null?void 0:ms[0])==null?void 0:Gr.seatNumber)==null?void 0:Sn.toLowerCase())||"";break;default:return 0}return mt<yt?y==="asc"?-1:1:mt>yt?y==="asc"?1:-1:0}):e,[e,h,y]),St=$e=>h!==$e?null:y==="asc"?a.jsx(J2,{size:16}):a.jsx(i1,{size:16});B.useEffect(()=>{(async()=>{try{const mt=(await De.getBranches()||[]).map(yt=>({value:yt.id,label:yt.name}));pe(mt),v([{value:null,label:"All Branches"},...mt])}catch(at){console.error("Error fetching branches:",at),je.error(at.message||"Failed to fetch branches.")}})()},[]),B.useEffect(()=>{(async()=>{n(!0);try{const $e=await De.getExpiredMemberships(b==null?void 0:b.value);t($e.students)}catch($e){console.error("Error fetching expired memberships:",$e),je.error($e.message||"Failed to fetch expired memberships.")}finally{n(!1)}})()},[b]),B.useEffect(()=>{Oe!=null&&Oe.value?(async()=>{Z(!0);try{const at=await De.getSchedules(Oe.value);de(at.schedules.map(mt=>({value:mt.id,label:mt.title})))}catch(at){console.error("Error fetching shifts for branch:",at),je.error("Failed to fetch shifts."),de([])}finally{Z(!1)}})():de([])},[Oe]),B.useEffect(()=>{Be!=null&&Be.value&&(Oe!=null&&Oe.value)&&A?(async()=>{var at;try{const yt=(await De.getSeats({branchId:Oe.value,shiftId:Be.value})).seats||[],Kr=yt.filter(sr=>{const Dt=(sr.shifts||[]).find(Tr=>Tr.shiftId===Be.value);return Dt?!Dt.isAssigned:!0}),$t=(at=A.assignments)==null?void 0:at[0];if($t&&!Kr.some(sr=>sr.id===$t.seatId)){const sr=yt.find(Dt=>Dt.id===$t.seatId);sr&&Kr.push(sr)}ee([{value:null,label:"None"},...Kr.map(sr=>({value:sr.id,label:sr.seatNumber}))]),Le&&!Kr.some(sr=>sr.id===Le.value)&&ke(null)}catch(mt){console.error("Error fetching seats:",mt),je.error("Failed to fetch seats."),ee([])}})():ee([])},[Be,Oe,A]);const xt=async $e=>{var at;try{n(!0);const mt=await De.getStudent($e.id);u(mt),K(new Date),X(Co(new Date,1)),F(mt.name||""),D(mt.registrationNumber||""),P(mt.fatherName||""),k(mt.aadharNumber||""),J(mt.email||""),Y(mt.phone||""),R(mt.address||""),Se(mt.branchId?{value:mt.branchId,label:mt.branchName}:null);const yt=(at=mt.assignments)==null?void 0:at[0];_e(yt?{value:yt.shiftId,label:yt.shiftTitle}:null),setTimeout(()=>{ke(yt?{value:yt.seatId,label:yt.seatNumber}:null)},200),he(mt.totalFee?mt.totalFee.toString():"0"),dt(mt.cash?mt.cash.toString():"0"),Qe(mt.online?mt.online.toString():"0"),Ke(mt.securityMoney?mt.securityMoney.toString():"0"),bt(mt.remark||""),l(!0)}catch(mt){console.error("Failed to fetch student details for renewal:",mt),je.error("Failed to load student details for renewal.")}finally{n(!1)}},Lt=$e=>{const mt=`https://wa.me/${$e.replace(/\D/g,"")}`;window.open(mt,"_blank")},Bt=async()=>{var $e,at,mt;if(!A||!G||!q||!N.trim()||!ne.trim()||!z.trim()||!(Be!=null&&Be.value)||!Ce||!(Oe!=null&&Oe.value)){je.error("Please ensure Name, Phone, Address, Branch, Shift, and Fee are filled correctly.");return}try{await De.renewStudent(A.id,{name:N,registrationNumber:T,fatherName:V,aadharNumber:U,address:z,membershipStart:RA(G,"yyyy-MM-dd"),membershipEnd:RA(q,"yyyy-MM-dd"),email:H,phone:ne,branchId:Oe.value,shiftIds:[Be.value],seatId:Le?Le.value:void 0,totalFee:parseFloat(Ce),cash:parseFloat(ft)||0,online:parseFloat(Je)||0,securityMoney:parseFloat(vt)||0,remark:Vt.trim()||void 0}),je.success(`Membership renewed for ${A.name}`),l(!1);const yt=await De.getExpiredMemberships(b==null?void 0:b.value);t(yt.students)}catch(yt){console.error("Renew error:",(($e=yt.response)==null?void 0:$e.data)||yt.message),je.error(((mt=(at=yt.response)==null?void 0:at.data)==null?void 0:mt.message)||"Failed to renew membership")}},Mr=parseFloat(ft)||0,Yt=parseFloat(Je)||0,Ge=Mr+Yt,jt=(parseFloat(Ce)||0)-Ge;return ct?a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(Kn,{isCollapsed:!1,setIsCollapsed:()=>{},onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[a.jsx(ri,{}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Expired Memberships"}),a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ic,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{className:"pl-10 pr-4 py-2 border rounded",placeholder:"Search by name, phone, or Reg. No.",value:s,onChange:$e=>i($e.target.value)})]}),a.jsx("div",{className:"w-64",children:a.jsx(fa,{options:I,value:b,onChange:C,placeholder:"Filter by Branch",isClearable:!0})})]}),r?a.jsx("p",{children:"Loading..."}):a.jsxs(kc,{children:[a.jsx(Lc,{children:a.jsxs(os,{children:[a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>At("name"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Name"}),St("name")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>At("registrationNumber"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Registration Number"}),St("registrationNumber")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>At("email"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Email"}),St("email")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>At("phone"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Phone"}),St("phone")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>At("seat"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Seat"}),St("seat")]})}),a.jsx(rr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>At("membershipEnd"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Expiry"}),St("membershipEnd")]})}),a.jsx(rr,{children:"Actions"})]})}),a.jsx(Pc,{children:Ht.filter($e=>$e.name.toLowerCase().includes(s.toLowerCase())||$e.phone&&$e.phone.includes(s)||$e.registrationNumber&&$e.registrationNumber.toLowerCase().includes(s.toLowerCase())).map($e=>{var at,mt;return a.jsxs(os,{children:[a.jsx(qt,{children:$e.name}),a.jsx(qt,{children:$e.registrationNumber||"N/A"}),a.jsx(qt,{children:$e.email}),a.jsx(qt,{children:$e.phone}),a.jsx(qt,{children:$e.seatNumber||((mt=(at=$e.assignments)==null?void 0:at[0])==null?void 0:mt.seatNumber)||"N/A"}),a.jsx(qt,{children:Hge($e.membershipEnd)}),a.jsxs(qt,{className:"space-x-2",children:[a.jsx(cr,{onClick:()=>nt(`/students/${$e.id}`),variant:"outline",children:a.jsx(za,{size:16})}),((ct==null?void 0:ct.role)==="admin"||(ct==null?void 0:ct.role)==="staff")&&a.jsxs(cr,{onClick:()=>xt($e),children:[a.jsx(Cn,{size:16})," Renew"]}),((ct==null?void 0:ct.role)==="admin"||Qge(ct)&&ct.permissions.includes("manage_students"))&&a.jsx(cr,{variant:"destructive",onClick:async()=>{if(window.confirm("Are you sure you want to delete this student? This action cannot be undone."))try{await De.deleteStudent($e.id),t(e.filter(yt=>yt.id!==$e.id)),je.success("Student deleted successfully.")}catch(yt){je.error(yt.message||"Failed to delete student.")}},children:a.jsx(il,{size:16})}),a.jsx(cr,{variant:"outline",onClick:()=>Lt($e.phone),title:"Send WhatsApp Message",children:a.jsx(See,{size:16})})]})]},$e.id)})})]})]}),a.jsx(w0,{open:o,onOpenChange:l,children:a.jsxs(_h,{className:"max-h-[90vh] overflow-y-auto",children:[a.jsxs(Th,{children:[a.jsx(Lh,{children:"Renew Membership"}),a.jsxs(Ph,{children:["Renew for ",A==null?void 0:A.name]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Branch"}),a.jsx(fa,{options:oe,value:Oe,onChange:$e=>{Se($e),_e(null),ke(null),he("")},placeholder:"Select a branch"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Name"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:N,onChange:$e=>F($e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Registration Number"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:T,onChange:$e=>D($e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Father's Name"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:V,onChange:$e=>P($e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Aadhar Number"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:U,onChange:$e=>k($e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Address"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 mt-1",value:z,onChange:$e=>R($e.target.value),rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Start Date"}),a.jsx(n2,{mode:"single",selected:G,onSelect:K,className:"rounded-md border"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"End Date"}),a.jsx(n2,{mode:"single",selected:q,onSelect:X,className:"rounded-md border"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Email"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"email",value:H,onChange:$e=>J($e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Phone"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"tel",value:ne,onChange:$e=>Y($e.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Branch"}),a.jsx(fa,{options:oe,value:Oe,onChange:Se,placeholder:"Select Branch"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Shift"}),a.jsx(fa,{options:fe,value:Be,onChange:_e,placeholder:"Select Shift"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Seat"}),a.jsx(fa,{options:ae,value:Le,onChange:ke,placeholder:"Select Seat",isDisabled:!Be})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Total Fee"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:Ce,onChange:$e=>he($e.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Cash Payment"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:ft,onChange:$e=>dt($e.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Online Payment"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:Je,onChange:$e=>Qe($e.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Security Money"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:vt,onChange:$e=>Ke($e.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Amount Paid"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1 bg-gray-100",type:"number",value:Ge.toFixed(2),readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Due Amount"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1 bg-gray-100",type:"number",value:jt.toFixed(2),readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Remark"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 mt-1",value:Vt,onChange:$e=>bt($e.target.value),rows:3})]})]}),a.jsxs(kh,{children:[a.jsx(cr,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),a.jsx(cr,{onClick:Bt,children:"Renew Membership"})]})]})})]})]}):(nt("/login"),null)},dT=""+new URL("invoiceimage-CC0K_7ae.jpg",import.meta.url).href,m5=e=>{if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"N/A":t.toISOString().split("T")[0]},Kge=()=>{const{id:e}=GA(),t=Rr(),[r,n]=B.useState(null),[s,i]=B.useState(!0),[o,l]=B.useState(null),A=B.useRef(null);B.useEffect(()=>{(async()=>{try{const b=parseInt(e,10);if(isNaN(b))throw new Error("Invalid student ID");const C=await De.getStudent(b);if(!C)throw new Error("Student data not found");console.log("Fetched student data:",C);const N=new Date(C.membershipEnd)<new Date;n({...C,status:N?"expired":C.status,totalFee:C.totalFee,amountPaid:C.amountPaid,dueAmount:C.dueAmount,cash:C.cash,online:C.online,securityMoney:C.securityMoney??0,discount:C.discount??0}),l(null)}catch(b){console.error("Failed to fetch student:",b);const C=b.message==="Server error"?"Failed to load student details due to a server error. Please try again later.":b.message;l(C),je.error(C),n(null)}finally{i(!1)}})()},[e]);const u=async()=>{if(window.confirm("Are you sure you want to delete this student?"))try{const g=parseInt(e,10);if(isNaN(g))throw new Error("Invalid student ID");await De.deleteStudent(g),je.success("Student deleted successfully"),t("/students")}catch(g){console.error("Failed to delete student:",g.message);const b=g.message==="Student not found"?"Student not found. It may have already been deleted.":"Failed to delete student: "+g.message;je.error(b)}},h=()=>{window.print()};if(s)return a.jsx("div",{children:"Loading student details..."});if(o)return a.jsx("div",{children:o});if(!r)return a.jsx("div",{children:"Student not found"});const m=r.assignments&&r.assignments.length>0?r.assignments.map(g=>g.shiftTitle).filter(Boolean).join(", "):void 0,y=r.assignments&&r.assignments.length>0?Array.from(new Set(r.assignments.map(g=>g.seatNumber).filter(Boolean))).join(", "):void 0;return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          @media print {
            body {
              margin: 0;
              padding: 0;
              -webkit-print-color-adjust: exact;
            }
            .no-print {
              display: none !important;
            }
            .print-logo {
              width: 15%;
              max-width: 15%;
              display: block;
              margin: 0 auto 20px auto;
            }
            .print-title {
              text-align: center;
              color: #f97316;
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 20px;
            }
            .print-container {
              padding: 20px;
            }
          }
        `}),a.jsx("div",{className:"flex h-screen bg-gray-50",children:a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto print-container",ref:A,children:[a.jsx("h1",{className:"print-title hidden print:block",children:"Student Details"}),a.jsxs("button",{onClick:()=>t(-1),className:"mb-4 flex items-center text-purple-600 hover:text-purple-800 no-print",children:[a.jsx(sl,{size:20,className:"mr-2"}),"Back"]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[a.jsx("div",{className:"flex justify-center mb-6 no-print",children:a.jsx("img",{src:dT,alt:"SDM Library Logo",className:"max-w-[250px]"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6 no-print",children:"Student Details"}),r.profileImageUrl&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-2",children:"Profile Image"}),a.jsx("img",{src:r.profileImageUrl,alt:"Profile",className:"w-32 h-32 object-cover rounded-full"})]}),r.aadhaarFrontUrl&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-2",children:"Aadhaar Front Image"}),a.jsx("img",{src:r.aadhaarFrontUrl,alt:"Aadhaar Front",className:"w-32 h-32 object-cover rounded"})]}),r.aadhaarBackUrl&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-2",children:"Aadhaar Back Image"}),a.jsx("img",{src:r.aadhaarBackUrl,alt:"Aadhaar Back",className:"w-32 h-32 object-cover rounded"})]}),a.jsx("img",{src:dT,alt:"SDM Library Logo",className:"print-logo hidden print:block"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Name"}),a.jsx("p",{className:"text-gray-600",children:r.name||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Registration Number"}),a.jsx("p",{className:"text-gray-600",children:r.registrationNumber||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Father's Name"}),a.jsx("p",{className:"text-gray-600",children:r.fatherName||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Aadhar Number"}),a.jsx("p",{className:"text-gray-600",children:r.aadharNumber||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Email"}),a.jsx("p",{className:"text-gray-600",children:r.email||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Phone"}),a.jsx("p",{className:"text-gray-600",children:r.phone||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Address"}),a.jsx("p",{className:"text-gray-600",children:r.address||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Branch"}),a.jsx("p",{className:"text-gray-600",children:r.branchName||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Status"}),a.jsx("p",{className:`inline-block px-2 py-1 rounded-full text-xs ${r.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.status==="active"?"Active":"Expired"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Membership Start"}),a.jsx("p",{className:"text-gray-600",children:m5(r.membershipStart)})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Membership End"}),a.jsx("p",{className:"text-gray-600",children:m5(r.membershipEnd)})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Assigned Shift(s)"}),a.jsx("p",{className:"text-gray-600",children:m||"No shift assigned"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Seat Number(s)"}),a.jsx("p",{className:"text-gray-600",children:y||"None"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Locker Number"}),a.jsx("p",{className:"text-gray-600",children:r.lockerNumber||"None"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Total Fee"}),a.jsx("p",{className:"text-gray-600",children:r.totalFee!==void 0&&r.totalFee!==null?`Rs. ${r.totalFee.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Amount Paid"}),a.jsx("p",{className:"text-gray-600",children:r.amountPaid!==void 0&&r.amountPaid!==null?`Rs. ${r.amountPaid.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Due Amount"}),a.jsx("p",{className:"text-gray-600",children:r.dueAmount!==void 0&&r.dueAmount!==null?`Rs. ${r.dueAmount.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Cash Payment"}),a.jsx("p",{className:"text-gray-600",children:r.cash!==void 0&&r.cash!==null?`Rs. ${r.cash.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Online Payment"}),a.jsx("p",{className:"text-gray-600",children:r.online!==void 0&&r.online!==null?`Rs. ${r.online.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Security Money"}),a.jsx("p",{className:"text-gray-600",children:r.securityMoney!==void 0&&r.securityMoney!==null?`Rs. ${r.securityMoney.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Discount"})," ",a.jsx("p",{className:"text-gray-600",children:r.discount!==void 0&&r.discount!==null?`Rs. ${r.discount.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Created At"}),a.jsx("p",{className:"text-gray-600",children:m5(r.createdAt)})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("h2",{className:"text-lg font-medium",children:"Remark"}),a.jsx("p",{className:"text-gray-600",children:r.remark||"N/A"})]})]}),a.jsxs("div",{className:"mt-6 flex space-x-4 no-print",children:[a.jsxs("button",{onClick:()=>t(`/students/${r.id}/edit`),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[a.jsx(mS,{size:16,className:"mr-2"}),"Edit"]}),a.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[a.jsx(il,{size:16,className:"mr-2"}),"Delete"]}),a.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[a.jsx(fS,{size:16,className:"mr-2"}),"Print"]})]})]})]})})})})]})};var Gge="Label",_Q=B.forwardRef((e,t)=>a.jsx(Zr.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_Q.displayName=Gge;var TQ=_Q;const Wge=_v("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Tt=B.forwardRef(({className:e,...t},r)=>a.jsx(TQ,{ref:r,className:vr(Wge(),e),...t}));Tt.displayName=TQ.displayName;function hT(e,[t,r]){return Math.min(r,Math.max(t,e))}function zge(e,t=[]){let r=[];function n(i,o){const l=B.createContext(o),A=r.length;r=[...r,o];function u(m){const{scope:y,children:g,...b}=m,C=(y==null?void 0:y[e][A])||l,I=B.useMemo(()=>b,Object.values(b));return a.jsx(C.Provider,{value:I,children:g})}function h(m,y){const g=(y==null?void 0:y[e][A])||l,b=B.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>B.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return B.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,$ge(s,...t)]}function $ge(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:A,scopeName:u})=>{const m=A(i)[`__scope${u}`];return{...l,...m}},{});return B.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function kQ(e){const t=e+"CollectionProvider",[r,n]=zge(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:C}=g,I=Xe.useRef(null),v=Xe.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:v,collectionRef:I,children:C})};o.displayName=t;const l=e+"CollectionSlot",A=Xe.forwardRef((g,b)=>{const{scope:C,children:I}=g,v=i(l,C),N=Jn(b,v.collectionRef);return a.jsx(Wh,{ref:N,children:I})});A.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=Xe.forwardRef((g,b)=>{const{scope:C,children:I,...v}=g,N=Xe.useRef(null),F=Jn(b,N),T=i(u,C);return Xe.useEffect(()=>(T.itemMap.set(N,{ref:N,...v}),()=>void T.itemMap.delete(N))),a.jsx(Wh,{[h]:"",ref:F,children:I})});m.displayName=u;function y(g){const b=i(e+"CollectionConsumer",g);return Xe.useCallback(()=>{const I=b.collectionRef.current;if(!I)return[];const v=Array.from(I.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((T,D)=>v.indexOf(T.ref.current)-v.indexOf(D.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:A,ItemSlot:m},y,n]}var qge=B.createContext(void 0);function fE(e){const t=B.useContext(qge);return e||t||"ltr"}function LQ(e){const t=B.useRef({value:e,previous:e});return B.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Xge=[" ","Enter","ArrowUp","ArrowDown"],Yge=[" ","Enter"],w1="Select",[Lv,Pv,Zge]=kQ(w1),[xm,j4e]=t1(w1,[Zge,Q2]),Ov=Q2(),[Jge,Od]=xm(w1),[e1e,t1e]=xm(w1),PQ=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:A,dir:u,name:h,autoComplete:m,disabled:y,required:g,form:b}=e,C=Ov(t),[I,v]=B.useState(null),[N,F]=B.useState(null),[T,D]=B.useState(!1),V=fE(u),[P=!1,U]=$h({prop:n,defaultProp:s,onChange:i}),[k,z]=$h({prop:o,defaultProp:l,onChange:A}),R=B.useRef(null),H=I?b||!!I.closest("form"):!0,[J,ne]=B.useState(new Set),Y=Array.from(J).map(G=>G.props.value).join(";");return a.jsx(b7,{...C,children:a.jsxs(Jge,{required:g,scope:t,trigger:I,onTriggerChange:v,valueNode:N,onValueNodeChange:F,valueNodeHasChildren:T,onValueNodeHasChildrenChange:D,contentId:BA(),value:k,onValueChange:z,open:P,onOpenChange:U,dir:V,triggerPointerDownPosRef:R,disabled:y,children:[a.jsx(Lv.Provider,{scope:t,children:a.jsx(e1e,{scope:e.__scopeSelect,onNativeOptionAdd:B.useCallback(G=>{ne(K=>new Set(K).add(G))},[]),onNativeOptionRemove:B.useCallback(G=>{ne(K=>{const q=new Set(K);return q.delete(G),q})},[]),children:r})}),H?a.jsxs(a9,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:m,value:k,onChange:G=>z(G.target.value),disabled:y,form:b,children:[k===void 0?a.jsx("option",{value:""}):null,Array.from(J)]},Y):null]})})};PQ.displayName=w1;var OQ="SelectTrigger",RQ=B.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Ov(r),o=Od(OQ,r),l=o.disabled||n,A=Jn(t,o.onTriggerChange),u=Pv(r),h=B.useRef("touch"),[m,y,g]=o9(C=>{const I=u().filter(F=>!F.disabled),v=I.find(F=>F.value===o.value),N=l9(I,C,v);N!==void 0&&o.onValueChange(N.value)}),b=C=>{l||(o.onOpenChange(!0),g()),C&&(o.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return a.jsx(C7,{asChild:!0,...i,children:a.jsx(Zr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":i9(o.value)?"":void 0,...s,ref:A,onClick:Ir(s.onClick,C=>{C.currentTarget.focus(),h.current!=="mouse"&&b(C)}),onPointerDown:Ir(s.onPointerDown,C=>{h.current=C.pointerType;const I=C.target;I.hasPointerCapture(C.pointerId)&&I.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(b(C),C.preventDefault())}),onKeyDown:Ir(s.onKeyDown,C=>{const I=m.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&y(C.key),!(I&&C.key===" ")&&Xge.includes(C.key)&&(b(),C.preventDefault())})})})});RQ.displayName=OQ;var DQ="SelectValue",UQ=B.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,A=Od(DQ,r),{onValueNodeHasChildrenChange:u}=A,h=i!==void 0,m=Jn(t,A.onValueNodeChange);return wa(()=>{u(h)},[u,h]),a.jsx(Zr.span,{...l,ref:m,style:{pointerEvents:"none"},children:i9(A.value)?a.jsx(a.Fragment,{children:o}):i})});UQ.displayName=DQ;var r1e="SelectIcon",MQ=B.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Zr.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});MQ.displayName=r1e;var n1e="SelectPortal",QQ=e=>a.jsx(tS,{asChild:!0,...e});QQ.displayName=n1e;var tf="SelectContent",HQ=B.forwardRef((e,t)=>{const r=Od(tf,e.__scopeSelect),[n,s]=B.useState();if(wa(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Td.createPortal(a.jsx(VQ,{scope:e.__scopeSelect,children:a.jsx(Lv.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(KQ,{...e,ref:t})});HQ.displayName=tf;var yl=10,[VQ,Rd]=xm(tf),s1e="SelectContentImpl",KQ=B.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:A,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:y,collisionPadding:g,sticky:b,hideWhenDetached:C,avoidCollisions:I,...v}=e,N=Od(tf,r),[F,T]=B.useState(null),[D,V]=B.useState(null),P=Jn(t,pe=>T(pe)),[U,k]=B.useState(null),[z,R]=B.useState(null),H=Pv(r),[J,ne]=B.useState(!1),Y=B.useRef(!1);B.useEffect(()=>{if(F)return KM(F)},[F]),PM();const G=B.useCallback(pe=>{const[Be,..._e]=H().map(Oe=>Oe.ref.current),[Le]=_e.slice(-1),ke=document.activeElement;for(const Oe of pe)if(Oe===ke||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Be&&D&&(D.scrollTop=0),Oe===Le&&D&&(D.scrollTop=D.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==ke))return},[H,D]),K=B.useCallback(()=>G([U,F]),[G,U,F]);B.useEffect(()=>{J&&K()},[J,K]);const{onOpenChange:q,triggerPointerDownPosRef:X}=N;B.useEffect(()=>{if(F){let pe={x:0,y:0};const Be=Le=>{var ke,Oe;pe={x:Math.abs(Math.round(Le.pageX)-(((ke=X.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(Le.pageY)-(((Oe=X.current)==null?void 0:Oe.y)??0))}},_e=Le=>{pe.x<=10&&pe.y<=10?Le.preventDefault():F.contains(Le.target)||q(!1),document.removeEventListener("pointermove",Be),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",_e,{capture:!0})}}},[F,q,X]),B.useEffect(()=>{const pe=()=>q(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[q]);const[fe,de]=o9(pe=>{const Be=H().filter(ke=>!ke.disabled),_e=Be.find(ke=>ke.ref.current===document.activeElement),Le=l9(Be,pe,_e);Le&&setTimeout(()=>Le.ref.current.focus())}),Q=B.useCallback((pe,Be,_e)=>{const Le=!Y.current&&!_e;(N.value!==void 0&&N.value===Be||Le)&&(k(pe),Le&&(Y.current=!0))},[N.value]),Z=B.useCallback(()=>F==null?void 0:F.focus(),[F]),ae=B.useCallback((pe,Be,_e)=>{const Le=!Y.current&&!_e;(N.value!==void 0&&N.value===Be||Le)&&R(pe)},[N.value]),ee=n==="popper"?uN:GQ,oe=ee===uN?{side:l,sideOffset:A,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:y,collisionPadding:g,sticky:b,hideWhenDetached:C,avoidCollisions:I}:{};return a.jsx(VQ,{scope:r,content:F,viewport:D,onViewportChange:V,itemRefCallback:Q,selectedItem:U,onItemLeave:Z,itemTextRefCallback:ae,focusSelectedItem:K,selectedItemText:z,position:n,isPositioned:J,searchRef:fe,children:a.jsx(YS,{as:Wh,allowPinchZoom:!0,children:a.jsx(XS,{asChild:!0,trapped:N.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:Ir(s,pe=>{var Be;(Be=N.trigger)==null||Be.focus({preventScroll:!0}),pe.preventDefault()}),children:a.jsx(R2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:a.jsx(ee,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:pe=>pe.preventDefault(),...v,...oe,onPlaced:()=>ne(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ir(v.onKeyDown,pe=>{const Be=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Be&&pe.key.length===1&&de(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Le=H().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const ke=pe.target,Oe=Le.indexOf(ke);Le=Le.slice(Oe+1)}setTimeout(()=>G(Le)),pe.preventDefault()}})})})})})})});KQ.displayName=s1e;var i1e="SelectItemAlignedPosition",GQ=B.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Od(tf,r),o=Rd(tf,r),[l,A]=B.useState(null),[u,h]=B.useState(null),m=Jn(t,P=>h(P)),y=Pv(r),g=B.useRef(!1),b=B.useRef(!0),{viewport:C,selectedItem:I,selectedItemText:v,focusSelectedItem:N}=o,F=B.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&C&&I&&v){const P=i.trigger.getBoundingClientRect(),U=u.getBoundingClientRect(),k=i.valueNode.getBoundingClientRect(),z=v.getBoundingClientRect();if(i.dir!=="rtl"){const ke=z.left-U.left,Oe=k.left-ke,Se=P.left-Oe,Ce=P.width+Se,he=Math.max(Ce,U.width),ft=window.innerWidth-yl,dt=hT(Oe,[yl,Math.max(yl,ft-he)]);l.style.minWidth=Ce+"px",l.style.left=dt+"px"}else{const ke=U.right-z.right,Oe=window.innerWidth-k.right-ke,Se=window.innerWidth-P.right-Oe,Ce=P.width+Se,he=Math.max(Ce,U.width),ft=window.innerWidth-yl,dt=hT(Oe,[yl,Math.max(yl,ft-he)]);l.style.minWidth=Ce+"px",l.style.right=dt+"px"}const R=y(),H=window.innerHeight-yl*2,J=C.scrollHeight,ne=window.getComputedStyle(u),Y=parseInt(ne.borderTopWidth,10),G=parseInt(ne.paddingTop,10),K=parseInt(ne.borderBottomWidth,10),q=parseInt(ne.paddingBottom,10),X=Y+G+J+q+K,fe=Math.min(I.offsetHeight*5,X),de=window.getComputedStyle(C),Q=parseInt(de.paddingTop,10),Z=parseInt(de.paddingBottom,10),ae=P.top+P.height/2-yl,ee=H-ae,oe=I.offsetHeight/2,pe=I.offsetTop+oe,Be=Y+G+pe,_e=X-Be;if(Be<=ae){const ke=R.length>0&&I===R[R.length-1].ref.current;l.style.bottom="0px";const Oe=u.clientHeight-C.offsetTop-C.offsetHeight,Se=Math.max(ee,oe+(ke?Z:0)+Oe+K),Ce=Be+Se;l.style.height=Ce+"px"}else{const ke=R.length>0&&I===R[0].ref.current;l.style.top="0px";const Se=Math.max(ae,Y+C.offsetTop+(ke?Q:0)+oe)+_e;l.style.height=Se+"px",C.scrollTop=Be-ae+C.offsetTop}l.style.margin=`${yl}px 0`,l.style.minHeight=fe+"px",l.style.maxHeight=H+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[y,i.trigger,i.valueNode,l,u,C,I,v,i.dir,n]);wa(()=>F(),[F]);const[T,D]=B.useState();wa(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const V=B.useCallback(P=>{P&&b.current===!0&&(F(),N==null||N(),b.current=!1)},[F,N]);return a.jsx(o1e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:V,children:a.jsx("div",{ref:A,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:a.jsx(Zr.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});GQ.displayName=i1e;var a1e="SelectPopperPosition",uN=B.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=yl,...i}=e,o=Ov(r);return a.jsx(B7,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});uN.displayName=a1e;var[o1e,mE]=xm(tf,{}),dN="SelectViewport",WQ=B.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Rd(dN,r),o=mE(dN,r),l=Jn(t,i.onViewportChange),A=B.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Lv.Slot,{scope:r,children:a.jsx(Zr.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ir(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&m){const g=Math.abs(A.current-h.scrollTop);if(g>0){const b=window.innerHeight-yl*2,C=parseFloat(m.style.minHeight),I=parseFloat(m.style.height),v=Math.max(C,I);if(v<b){const N=v+g,F=Math.min(b,N),T=N-F;m.style.height=F+"px",m.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,m.style.justifyContent="flex-end")}}}A.current=h.scrollTop})})})]})});WQ.displayName=dN;var zQ="SelectGroup",[l1e,c1e]=xm(zQ),A1e=B.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=BA();return a.jsx(l1e,{scope:r,id:s,children:a.jsx(Zr.div,{role:"group","aria-labelledby":s,...n,ref:t})})});A1e.displayName=zQ;var $Q="SelectLabel",qQ=B.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=c1e($Q,r);return a.jsx(Zr.div,{id:s.id,...n,ref:t})});qQ.displayName=$Q;var s2="SelectItem",[u1e,XQ]=xm(s2),YQ=B.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Od(s2,r),A=Rd(s2,r),u=l.value===n,[h,m]=B.useState(i??""),[y,g]=B.useState(!1),b=Jn(t,N=>{var F;return(F=A.itemRefCallback)==null?void 0:F.call(A,N,n,s)}),C=BA(),I=B.useRef("touch"),v=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(u1e,{scope:r,value:n,disabled:s,textId:C,isSelected:u,onItemTextChange:B.useCallback(N=>{m(F=>F||((N==null?void 0:N.textContent)??"").trim())},[]),children:a.jsx(Lv.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:a.jsx(Zr.div,{role:"option","aria-labelledby":C,"data-highlighted":y?"":void 0,"aria-selected":u&&y,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:Ir(o.onFocus,()=>g(!0)),onBlur:Ir(o.onBlur,()=>g(!1)),onClick:Ir(o.onClick,()=>{I.current!=="mouse"&&v()}),onPointerUp:Ir(o.onPointerUp,()=>{I.current==="mouse"&&v()}),onPointerDown:Ir(o.onPointerDown,N=>{I.current=N.pointerType}),onPointerMove:Ir(o.onPointerMove,N=>{var F;I.current=N.pointerType,s?(F=A.onItemLeave)==null||F.call(A):I.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ir(o.onPointerLeave,N=>{var F;N.currentTarget===document.activeElement&&((F=A.onItemLeave)==null||F.call(A))}),onKeyDown:Ir(o.onKeyDown,N=>{var T;((T=A.searchRef)==null?void 0:T.current)!==""&&N.key===" "||(Yge.includes(N.key)&&v(),N.key===" "&&N.preventDefault())})})})})});YQ.displayName=s2;var pp="SelectItemText",ZQ=B.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Od(pp,r),l=Rd(pp,r),A=XQ(pp,r),u=t1e(pp,r),[h,m]=B.useState(null),y=Jn(t,v=>m(v),A.onItemTextChange,v=>{var N;return(N=l.itemTextRefCallback)==null?void 0:N.call(l,v,A.value,A.disabled)}),g=h==null?void 0:h.textContent,b=B.useMemo(()=>a.jsx("option",{value:A.value,disabled:A.disabled,children:g},A.value),[A.disabled,A.value,g]),{onNativeOptionAdd:C,onNativeOptionRemove:I}=u;return wa(()=>(C(b),()=>I(b)),[C,I,b]),a.jsxs(a.Fragment,{children:[a.jsx(Zr.span,{id:A.textId,...i,ref:y}),A.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Td.createPortal(i.children,o.valueNode):null]})});ZQ.displayName=pp;var JQ="SelectItemIndicator",e9=B.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return XQ(JQ,r).isSelected?a.jsx(Zr.span,{"aria-hidden":!0,...n,ref:t}):null});e9.displayName=JQ;var hN="SelectScrollUpButton",t9=B.forwardRef((e,t)=>{const r=Rd(hN,e.__scopeSelect),n=mE(hN,e.__scopeSelect),[s,i]=B.useState(!1),o=Jn(t,n.onScrollButtonChange);return wa(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=A.scrollTop>0;i(u)};const A=r.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(n9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=r;l&&A&&(l.scrollTop=l.scrollTop-A.offsetHeight)}}):null});t9.displayName=hN;var fN="SelectScrollDownButton",r9=B.forwardRef((e,t)=>{const r=Rd(fN,e.__scopeSelect),n=mE(fN,e.__scopeSelect),[s,i]=B.useState(!1),o=Jn(t,n.onScrollButtonChange);return wa(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=A.scrollHeight-A.clientHeight,h=Math.ceil(A.scrollTop)<u;i(h)};const A=r.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(n9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=r;l&&A&&(l.scrollTop=l.scrollTop+A.offsetHeight)}}):null});r9.displayName=fN;var n9=B.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Rd("SelectScrollButton",r),o=B.useRef(null),l=Pv(r),A=B.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return B.useEffect(()=>()=>A(),[A]),wa(()=>{var h;const u=l().find(m=>m.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(Zr.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ir(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ir(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ir(s.onPointerLeave,()=>{A()})})}),d1e="SelectSeparator",s9=B.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Zr.div,{"aria-hidden":!0,...n,ref:t})});s9.displayName=d1e;var mN="SelectArrow",h1e=B.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ov(r),i=Od(mN,r),o=Rd(mN,r);return i.open&&o.position==="popper"?a.jsx(N7,{...s,...n,ref:t}):null});h1e.displayName=mN;function i9(e){return e===""||e===void 0}var a9=B.forwardRef((e,t)=>{const{value:r,...n}=e,s=B.useRef(null),i=Jn(t,s),o=LQ(r);return B.useEffect(()=>{const l=s.current,A=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(A,"value").set;if(o!==r&&h){const m=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(m)}},[o,r]),a.jsx(rS,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});a9.displayName="BubbleSelect";function o9(e){const t=Nc(e),r=B.useRef(""),n=B.useRef(0),s=B.useCallback(o=>{const l=r.current+o;t(l),function A(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>A(""),1e3))}(l)},[t]),i=B.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function l9(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=f1e(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const A=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return A!==r?A:void 0}function f1e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var m1e=PQ,c9=RQ,p1e=UQ,g1e=MQ,x1e=QQ,A9=HQ,y1e=WQ,u9=qQ,d9=YQ,w1e=ZQ,v1e=e9,h9=t9,f9=r9,m9=s9;const yc=m1e,wc=p1e,_l=B.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(c9,{ref:n,className:vr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(g1e,{asChild:!0,children:a.jsx(i1,{className:"h-4 w-4 opacity-50"})})]}));_l.displayName=c9.displayName;const p9=B.forwardRef(({className:e,...t},r)=>a.jsx(h9,{ref:r,className:vr("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(J2,{className:"h-4 w-4"})}));p9.displayName=h9.displayName;const g9=B.forwardRef(({className:e,...t},r)=>a.jsx(f9,{ref:r,className:vr("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(i1,{className:"h-4 w-4"})}));g9.displayName=f9.displayName;const Tl=B.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(x1e,{children:a.jsxs(A9,{ref:s,className:vr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(p9,{}),a.jsx(y1e,{className:vr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(g9,{})]})}));Tl.displayName=A9.displayName;const b1e=B.forwardRef(({className:e,...t},r)=>a.jsx(u9,{ref:r,className:vr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));b1e.displayName=u9.displayName;const Ds=B.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(d9,{ref:n,className:vr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(v1e,{children:a.jsx(Tw,{className:"h-4 w-4"})})}),a.jsx(w1e,{children:t})]}));Ds.displayName=d9.displayName;const C1e=B.forwardRef(({className:e,...t},r)=>a.jsx(m9,{ref:r,className:vr("-mx-1 my-1 h-px bg-muted",e),...t}));C1e.displayName=m9.displayName;const Vr=B.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:vr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Vr.displayName="Input";const J0=B.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:vr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));J0.displayName="Textarea";const On=B.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:vr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));On.displayName="Card";const Fi=B.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:vr("flex flex-col space-y-1.5 p-6",e),...t}));Fi.displayName="CardHeader";const ji=B.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:vr("text-2xl font-semibold leading-none tracking-tight",e),...t}));ji.displayName="CardTitle";const _c=B.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:vr("text-sm text-muted-foreground",e),...t}));_c.displayName="CardDescription";const Ss=B.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:vr("p-6 pt-0",e),...t}));Ss.displayName="CardContent";const B1e=B.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:vr("flex items-center p-6 pt-0",e),...t}));B1e.displayName="CardFooter";class N1e extends Xe.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){var t;return this.state.hasError?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:a.jsxs(On,{className:"p-6 shadow-lg border-gray-200 dark:border-gray-700",children:[a.jsx(Fi,{children:a.jsx(ji,{className:"text-xl font-bold text-red-600",children:"Something Went Wrong"})}),a.jsxs(Ss,{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:((t=this.state.error)==null?void 0:t.toString())||"An unknown error occurred while loading the schedule. Please try refreshing the page or contact support if the issue persists."}),a.jsx(cr,{onClick:()=>window.location.reload(),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Refresh Page"})]})]})}):this.props.children}}const fT=e=>{if(!e)return null;const t=new Date(e+"T00:00:00");return isNaN(t.getTime())?null:t},S1e=e=>{if(!e||!e.includes(":"))return"N/A";const[t,r]=e.split(":").map(Number);if(isNaN(t)||isNaN(r))return"Invalid time";const n=new Date;return n.setHours(t,r,0),new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(n)},p5=e=>{const t=typeof e=="string"?new Date(e+"T00:00:00"):e;return isNaN(t.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)},E1e=()=>{var ne,Y;const[e,t]=B.useState(void 0),[r,n]=B.useState([]),[s,i]=B.useState([]),[o,l]=B.useState(!1),[A,u]=B.useState(!1),[h,m]=B.useState(null),y=()=>{je.info("Barcode scanning functionality is not yet implemented.")},[g,b]=B.useState(!1),[C,I]=B.useState(!1),[v,N]=B.useState(null),[F,T]=B.useState(null),D={title:"",date:new Date,time:"",description:"",fee:0,branchId:h||void 0},[V,P]=B.useState(D),U=B.useCallback(async()=>{try{const G=await De.getBranches(),K=Array.isArray(G)?G:[];i(K),K.length>0&&P(q=>({...q,branchId:h||K[0].id}))}catch(G){console.error("Error fetching branches:",G),je.error("Failed to load branches")}},[h]),k=B.useCallback(async()=>{l(!0);try{console.log("Fetching schedules for branch ID:",h);const G=await De.getSchedules(h||null);console.log("Raw API Response:",G);let K=[];Array.isArray(G)?(console.log("Response is an array, using directly"),K=G):G&&Array.isArray(G.schedules)?(console.log("Response has schedules array"),K=G.schedules):(console.warn("Unexpected response format, defaulting to empty array",G),K=[]),console.log("Processed schedules:",K),console.log("Raw schedules data:",K);const q=K.filter(X=>X&&typeof X=="object").map(X=>{var de;const fe=X.branch_name||X.branch_id&&((de=s.find(Q=>Q.id===X.branch_id))==null?void 0:de.name)||"";return{id:X.id,title:X.title||"Untitled Event",description:X.description||"",time:X.time||"",eventDate:X.eventDate||X.event_date||"",fee:typeof X.fee=="number"?X.fee:parseFloat(X.fee)||0,branchId:X.branch_id,branchName:fe}});console.log("Setting events:",q),n(q)}catch(G){console.error("Error caught in fetchEvents:",G),je.error(G.message||"Failed to load events"),n([])}finally{l(!1)}},[h]);B.useEffect(()=>{k(),U()},[k,U]);const z=async()=>{if(!V.title.trim()||!V.time||!V.branchId){je.error("Please fill in all required fields: Event Title, Time, and Branch.");return}const K=(V.date instanceof Date&&!isNaN(V.date.getTime())?V.date:new Date).toISOString().split("T")[0],q={title:V.title.trim(),description:V.description.trim()||null,time:V.time,eventDate:K,fee:V.fee,branch_id:V.branchId};console.log("Sending add event data:",q),l(!0);try{await De.addSchedule(q),await k(),b(!1),P(D),je.success("Event added successfully!")}catch(X){console.error("Error in handleAddEventSubmit:",X),je.error(X.message||"Failed to add event.")}finally{l(!1)}},R=async()=>{var X;if(!v)return;if(!v.title.trim()||!v.time||!v.branchId){je.error("Please fill in all required fields: Event Title, Time, and Branch.");return}const G=fT(v.eventDate),K=G?G.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],q={title:v.title.trim(),description:((X=v.description)==null?void 0:X.trim())||null,time:v.time,eventDate:K,fee:v.fee,branch_id:v.branchId};console.log("Sending update event data:",q),l(!0);try{await De.updateSchedule(v.id,q),await k(),I(!1),N(null),je.success("Event updated successfully!")}catch(fe){console.error("Error in handleUpdateEventSubmit:",fe),je.error(fe.message||"Failed to update event.")}finally{l(!1)}},H=async()=>{if(F){l(!0);try{await De.deleteSchedule(F.id),n(G=>G.filter(K=>K.id!==F.id)),je.success("Event removed from schedule.")}catch(G){je.error(G.message||"Failed to delete event.")}finally{l(!1),T(null)}}},J=e?r.filter(G=>{const K=fT(G.eventDate);return K?K.getFullYear()===e.getFullYear()&&K.getMonth()===e.getMonth()&&K.getDate()===e.getDate():!1}):r;return a.jsx(N1e,{children:a.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[a.jsx(Kn,{isCollapsed:A,setIsCollapsed:u,onBarcodeClick:y}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Schedules & Events"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-1",children:"Manage your daily activities and classes."})]}),a.jsxs("div",{className:"w-full sm:w-64",children:[a.jsx(Tt,{htmlFor:"branchFilter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by Branch"}),a.jsxs(yc,{value:(h==null?void 0:h.toString())||"all",onValueChange:G=>{const K=G==="all"?null:parseInt(G);console.log("Selected branch ID changed:",K),m(K)},children:[a.jsx(_l,{className:"w-[200px]",children:a.jsx(wc,{placeholder:"Select a branch"})}),a.jsxs(Tl,{children:[a.jsx(Ds,{value:"all",children:"All Branches"}),s.map(G=>a.jsx(Ds,{value:G.id.toString(),children:G.name},G.id))]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[a.jsx("div",{className:"lg:col-span-1 space-y-8",children:a.jsxs(On,{className:"shadow-lg border-gray-200 dark:border-gray-700",children:[a.jsx(Fi,{children:a.jsxs(ji,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Calendar"}),a.jsx(rl,{className:"h-5 w-5 text-gray-400"})]})}),a.jsxs(Ss,{children:[a.jsx(n2,{mode:"single",selected:e,onSelect:t,className:"p-0"}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs(cr,{onClick:()=>{P({...D,date:e||new Date}),b(!0)},disabled:o,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:[a.jsx(tv,{size:18,className:"mr-2"})," Add New Event"]}),e&&a.jsxs(cr,{variant:"ghost",className:"w-full text-red-500 hover:text-red-600",onClick:()=>t(void 0),disabled:o,children:[a.jsx(zA,{size:16,className:"mr-2"})," Clear Selection"]})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(On,{className:"shadow-lg border-gray-200 dark:border-gray-700",children:[a.jsx(Fi,{children:a.jsx(ji,{children:e?`Events for ${p5(e)}`:"All Upcoming Events"})}),a.jsx(Ss,{children:o?a.jsx("div",{className:"py-12 flex justify-center items-center",children:a.jsx(ti,{className:"h-8 w-8 animate-spin text-indigo-600"})}):a.jsxs(kc,{children:[a.jsx(yD,{children:J.length===0?"No events to display.":"A list of your scheduled events."}),a.jsx(Lc,{children:a.jsxs(os,{children:[a.jsx(rr,{className:"w-[150px]",children:"Event"}),a.jsx(rr,{children:"Branch"}),a.jsx(rr,{children:"Time"}),a.jsx(rr,{children:"Fee"}),a.jsx(rr,{className:"hidden md:table-cell",children:"Description"}),a.jsx(rr,{className:"text-right",children:"Actions"})]})}),a.jsx(Pc,{children:J.map(G=>a.jsxs(os,{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[a.jsx(qt,{className:"font-medium",children:G.title}),a.jsx(qt,{children:G.branchName||""}),a.jsx(qt,{children:S1e(G.time)}),a.jsxs(qt,{children:["",G.fee.toFixed(2)]}),a.jsx(qt,{className:"hidden md:table-cell max-w-xs truncate",children:G.description||""}),a.jsxs(qt,{className:"text-right space-x-1",children:[a.jsx(cr,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-500 hover:text-blue-700",onClick:()=>{N(G),I(!0)},children:a.jsx(Iee,{size:16})}),a.jsx(cr,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-700",onClick:()=>T(G),children:a.jsx(il,{size:16})})]})]},G.id))})]})})]})})]})]})})]}),a.jsx(w0,{open:g,onOpenChange:b,children:a.jsxs(_h,{className:"sm:max-w-[480px] dark:bg-gray-800",children:[a.jsxs(Th,{children:[a.jsx(Lh,{children:"Add New Event"}),a.jsx(Ph,{children:"Fill in the details for your new schedule event."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"eventTitle",children:"Event Title *"}),a.jsx(Vr,{id:"eventTitle",placeholder:"Enter event title",value:V.title,onChange:G=>P({...V,title:G.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"eventBranch",children:"Branch *"}),a.jsxs(yc,{value:((ne=V.branchId)==null?void 0:ne.toString())||"",onValueChange:G=>P({...V,branchId:parseInt(G)}),children:[a.jsx(_l,{children:a.jsx(wc,{placeholder:"Select a branch"})}),a.jsx(Tl,{children:s.map(G=>a.jsx(Ds,{value:G.id.toString(),children:G.name},G.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"eventTime",children:"Time *"}),a.jsx(Vr,{id:"eventTime",type:"time",value:V.time,onChange:G=>P({...V,time:G.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"eventFee",children:"Fee"}),a.jsx(Vr,{id:"eventFee",type:"number",placeholder:"0.00",value:V.fee,onChange:G=>P({...V,fee:parseFloat(G.target.value)||0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"eventDescription",children:"Description (optional)"}),a.jsx(J0,{id:"eventDescription",placeholder:"Enter event description",value:V.description||"",onChange:G=>P({...V,description:G.target.value})})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Tt,{children:"Date"}),a.jsx("div",{children:p5(V.date)})]})]}),a.jsxs(kh,{children:[a.jsx(o5,{asChild:!0,children:a.jsx(cr,{variant:"outline",children:"Cancel"})}),a.jsxs(cr,{onClick:z,disabled:o,children:[o&&a.jsx(ti,{className:"h-4 w-4 animate-spin mr-2"})," Add Event"]})]})]})}),a.jsx(w0,{open:C,onOpenChange:I,children:a.jsxs(_h,{className:"sm:max-w-[480px] dark:bg-gray-800",children:[a.jsxs(Th,{children:[a.jsx(Lh,{children:"Edit Event"}),a.jsx(Ph,{children:"Update the details for this schedule event."})]}),v&&a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"editEventTitle",children:"Event Title *"}),a.jsx(Vr,{id:"editEventTitle",placeholder:"Enter event title",value:v.title,onChange:G=>N({...v,title:G.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"editEventBranch",children:"Branch *"}),a.jsxs(yc,{value:((Y=v.branchId)==null?void 0:Y.toString())||"",onValueChange:G=>N({...v,branchId:parseInt(G)}),children:[a.jsx(_l,{children:a.jsx(wc,{placeholder:"Select a branch"})}),a.jsx(Tl,{children:s.map(G=>a.jsx(Ds,{value:G.id.toString(),children:G.name},G.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"editEventTime",children:"Time *"}),a.jsx(Vr,{id:"editEventTime",type:"time",value:v.time,onChange:G=>N({...v,time:G.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"editEventFee",children:"Fee"}),a.jsx(Vr,{id:"editEventFee",type:"number",placeholder:"0.00",value:v.fee,onChange:G=>N({...v,fee:parseFloat(G.target.value)||0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"editEventDescription",children:"Description (optional)"}),a.jsx(J0,{id:"editEventDescription",placeholder:"Enter event description",value:v.description||"",onChange:G=>N({...v,description:G.target.value})})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Tt,{children:"Date"}),a.jsx("div",{children:p5(v.eventDate)})]})]}),a.jsxs(kh,{children:[a.jsx(o5,{asChild:!0,children:a.jsx(cr,{variant:"outline",children:"Cancel"})}),a.jsxs(cr,{onClick:R,disabled:o,children:[o&&a.jsx(ti,{className:"h-4 w-4 animate-spin mr-2"})," Save Changes"]})]})]})}),a.jsx(w0,{open:!!F,onOpenChange:()=>T(null),children:a.jsxs(_h,{className:"sm:max-w-md dark:bg-gray-800",children:[a.jsxs(Th,{children:[a.jsx(Lh,{children:"Are you absolutely sure?"}),a.jsxs(Ph,{children:["This action cannot be undone. This will permanently delete the event",a.jsxs("span",{className:"font-bold",children:[' "',F==null?void 0:F.title,'"']}),"."]})]}),a.jsxs(kh,{className:"sm:justify-end",children:[a.jsx(o5,{asChild:!0,children:a.jsx(cr,{type:"button",variant:"secondary",children:"Cancel"})}),a.jsxs(cr,{type:"button",variant:"destructive",onClick:H,disabled:o,children:[o&&a.jsx(ti,{className:"h-4 w-4 animate-spin mr-2"})," Delete"]})]})]})})]})})};var pE="Checkbox",[I1e,_4e]=t1(pE),[F1e,j1e]=I1e(pE),x9=B.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:A="on",onCheckedChange:u,form:h,...m}=e,[y,g]=B.useState(null),b=Jn(t,T=>g(T)),C=B.useRef(!1),I=y?h||!!y.closest("form"):!0,[v=!1,N]=$h({prop:s,defaultProp:i,onChange:u}),F=B.useRef(v);return B.useEffect(()=>{const T=y==null?void 0:y.form;if(T){const D=()=>N(F.current);return T.addEventListener("reset",D),()=>T.removeEventListener("reset",D)}},[y,N]),a.jsxs(F1e,{scope:r,state:v,disabled:l,children:[a.jsx(Zr.button,{type:"button",role:"checkbox","aria-checked":md(v)?"mixed":v,"aria-required":o,"data-state":v9(v),"data-disabled":l?"":void 0,disabled:l,value:A,...m,ref:b,onKeyDown:Ir(e.onKeyDown,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:Ir(e.onClick,T=>{N(D=>md(D)?!0:!D),I&&(C.current=T.isPropagationStopped(),C.current||T.stopPropagation())})}),I&&a.jsx(_1e,{control:y,bubbles:!C.current,name:n,value:A,checked:v,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:md(i)?!1:i})]})});x9.displayName=pE;var y9="CheckboxIndicator",w9=B.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=j1e(y9,r);return a.jsx(lf,{present:n||md(i.state)||i.state===!0,children:a.jsx(Zr.span,{"data-state":v9(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});w9.displayName=y9;var _1e=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...i}=e,o=B.useRef(null),l=LQ(r),A=d7(t);B.useEffect(()=>{const h=o.current,m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&g){const b=new Event("click",{bubbles:n});h.indeterminate=md(r),g.call(h,md(r)?!1:r),h.dispatchEvent(b)}},[l,r,n]);const u=B.useRef(md(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function md(e){return e==="indeterminate"}function v9(e){return md(e)?"indeterminate":e?"checked":"unchecked"}var b9=x9,T1e=w9;const pN=B.forwardRef(({className:e,...t},r)=>a.jsx(b9,{ref:r,className:vr("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(T1e,{className:vr("flex items-center justify-center text-current"),children:a.jsx(Tw,{className:"h-4 w-4"})})}));pN.displayName=b9.displayName;const k1e=_v("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oh({className:e,variant:t,...r}){return a.jsx("div",{className:vr(k1e({variant:t}),e),...r})}const mT=[{id:"manage_library_students",label:"Manage Library Students",category:"Library"},{id:"manage_schedules",label:"Manage Schedules & Shifts",category:"Library"},{id:"manage_seats",label:"Manage Seats",category:"Library"},{id:"view_collections",label:"View Library Collections",category:"Library"},{id:"manage_hostel_students",label:"Manage Hostel Students",category:"Hostel"},{id:"manage_hostel_branches",label:"Manage Hostel Branches",category:"Hostel"},{id:"view_hostel_collections",label:"View Hostel Collections",category:"Hostel"},{id:"manage_branches",label:"Manage Main Branches",category:"General"},{id:"manage_products",label:"Manage Products",category:"General"},{id:"manage_expenses",label:"Manage Expenses",category:"General"},{id:"view_transactions",label:"View Transactions",category:"General"},{id:"view_reports",label:"View Profit & Loss",category:"General"}],L1e=()=>{const e=HA(),[t,r]=B.useState(!1),[n,s]=B.useState({username:"",password:"",role:"staff",full_name:"",email:"",permissions:[],branch_access:[]}),{data:i=[],isLoading:o}=Ll({queryKey:["allUsers"],queryFn:De.getAllUsers}),{data:l=[],isLoading:A}=Ll({queryKey:["branches"],queryFn:De.getBranches}),u=ma({mutationFn:v=>De.addUser(v),onSuccess:()=>{je.success("Staff member created successfully!"),s({username:"",password:"",role:"staff",full_name:"",email:"",permissions:[],branch_access:[]}),e.invalidateQueries({queryKey:["allUsers"]})},onError:v=>je.error(v.message||"Failed to create staff member")}),h=ma({mutationFn:v=>De.deleteUser(v),onSuccess:()=>{je.success("Staff member deleted successfully!"),e.invalidateQueries({queryKey:["allUsers"]})},onError:v=>je.error(v.message||"Failed to delete staff member")}),m=mT.reduce((v,N)=>(v[N.category]||(v[N.category]=[]),v[N.category].push(N),v),{}),y=(v,N)=>{s(F=>({...F,permissions:N?[...F.permissions,v]:F.permissions.filter(T=>T!==v)}))},g=(v,N)=>{s(F=>({...F,branch_access:N?[...F.branch_access,v]:F.branch_access.filter(T=>T!==v)}))},b=v=>{if(v.preventDefault(),!n.username||!n.password){je.error("Username and password are required");return}if(!n.full_name){je.error("Full name is required");return}if(n.permissions.length===0){je.error("Please select at least one permission");return}if(n.branch_access.length===0){je.error("Please select at least one branch for access");return}u.mutate(n)},C=(v,N)=>{window.confirm(`Are you sure you want to delete staff member "${N}"?`)&&h.mutate(v)},I=(Array.isArray(i)?i:[]).filter(v=>v.role==="staff").map(v=>({...v,permissions:Array.isArray(v.permissions)?v.permissions:[],branch_details:Array.isArray(v.branch_details)?v.branch_details:Array.isArray(v.branchDetails)?v.branchDetails:[]}));return o||A?a.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(On,{children:[a.jsxs(Fi,{children:[a.jsxs(ji,{className:"flex items-center gap-2",children:[a.jsx(Fc,{className:"w-5 h-5"}),"Create New Staff Member"]}),a.jsx(_c,{children:"Create a new staff account with customizable permissions and branch access"})]}),a.jsx(Ss,{children:a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"username",children:"Username *"}),a.jsx(Vr,{id:"username",value:n.username,onChange:v=>s(N=>({...N,username:v.target.value})),placeholder:"Enter username",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"full_name",children:"Full Name *"}),a.jsx(Vr,{id:"full_name",value:n.full_name,onChange:v=>s(N=>({...N,full_name:v.target.value})),placeholder:"Enter full name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"email",children:"Email"}),a.jsx(Vr,{id:"email",type:"email",value:n.email,onChange:v=>s(N=>({...N,email:v.target.value})),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Tt,{htmlFor:"password",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vr,{id:"password",type:t?"text":"password",value:n.password,onChange:v=>s(N=>({...N,password:v.target.value})),placeholder:"Enter password",required:!0}),a.jsx(cr,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2",onClick:()=>r(!t),children:t?a.jsx(G0,{className:"w-4 h-4"}):a.jsx(za,{className:"w-4 h-4"})})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kee,{className:"w-5 h-5"}),a.jsx(Tt,{className:"text-base font-semibold",children:"Feature Permissions *"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(m).map(([v,N])=>a.jsxs(On,{className:"p-4",children:[a.jsx("h4",{className:"font-medium mb-3 text-sm text-gray-700",children:v}),a.jsx("div",{className:"space-y-2",children:N.map(F=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pN,{id:F.id,checked:n.permissions.includes(F.id),onCheckedChange:T=>y(F.id,T)}),a.jsx(Tt,{htmlFor:F.id,className:"text-sm font-normal cursor-pointer",children:F.label})]},F.id))})]},v))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gee,{className:"w-5 h-5"}),a.jsx(Tt,{className:"text-base font-semibold",children:"Branch Access *"})]}),a.jsxs(On,{className:"p-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(v=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pN,{id:`branch-${v.id}`,checked:n.branch_access.includes(v.id),onCheckedChange:N=>g(v.id,N)}),a.jsxs(Tt,{htmlFor:`branch-${v.id}`,className:"text-sm font-normal cursor-pointer",children:[v.name," ",v.code&&`(${v.code})`]})]},v.id))}),l.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No branches available. Please create branches first."})]})]}),a.jsx(cr,{type:"submit",className:"w-full md:w-auto",disabled:u.isPending,children:u.isPending?"Creating...":"Create Staff Member"})]})})]}),a.jsxs(On,{children:[a.jsxs(Fi,{children:[a.jsx(ji,{children:"Existing Staff Members"}),a.jsx(_c,{children:"Manage existing staff accounts and their permissions"})]}),a.jsx(Ss,{children:I.length===0?a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No staff members found."}):a.jsx("div",{className:"space-y-4",children:I.map(v=>a.jsx(On,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qo,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:v.full_name||v.fullName||v.username}),a.jsx(Oh,{variant:"secondary",children:v.role})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["@",v.username]}),v.email&&a.jsx("p",{className:"text-sm text-gray-600",children:v.email}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",children:"Permissions: "}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.isArray(v.permissions)&&v.permissions.map(N=>{const F=mT.find(T=>T.id===N);return F?a.jsx(Oh,{variant:"outline",className:"text-xs",children:F.label},N):null})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",children:"Branch Access: "}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(Array.isArray(v.branch_details)?v.branch_details:Array.isArray(v.branchDetails)?v.branchDetails:[]).map(N=>a.jsx(Oh,{variant:"outline",className:"text-xs",children:N.name},N.id))})]})]})]}),a.jsx(cr,{variant:"destructive",size:"sm",onClick:()=>C(v.id,v.username),disabled:h.isPending,children:a.jsx(il,{className:"w-4 h-4"})})]})},v.id))})})]})]})},P1e=()=>{const e=HA(),{user:t}=Ca(),{data:r,isLoading:n,error:s}=Ll({queryKey:["userProfile"],queryFn:()=>t!=null&&t.isOwner?De.getOwnerProfile():De.getUserProfile(),enabled:!!t}),{data:i,isLoading:o,error:l}=Ll({queryKey:["settings"],queryFn:De.getSettings,enabled:(t==null?void 0:t.role)==="admin"}),[A,u]=B.useState({fullName:"",email:"",libraryName:"",ownerPhone:"",oldPassword:"",newPassword:"",confirmPassword:""}),[h,m]=B.useState({brevoTemplateId:"",daysBeforeExpiration:""}),[y,g]=B.useState(!1),[b,C]=B.useState(!1);B.useEffect(()=>{const k=(r==null?void 0:r.owner)||(r==null?void 0:r.user);k&&u(z=>({...z,fullName:k.ownerName||k.fullName||"",email:k.ownerEmail||k.email||"",libraryName:k.libraryName||"",ownerPhone:k.ownerPhone||""}))},[r]),B.useEffect(()=>{var k;i&&m({brevoTemplateId:i.brevoTemplateId||"",daysBeforeExpiration:((k=i.daysBeforeExpiration)==null?void 0:k.toString())||""})},[i]);const I=k=>{const{name:z,value:R}=k.target;u(H=>({...H,[z]:R}))},v=k=>{const{name:z,value:R}=k.target;m(H=>({...H,[z]:R}))},N=k=>{k.preventDefault(),t!=null&&t.isOwner?T.mutate({libraryName:A.libraryName,ownerName:A.fullName,ownerEmail:A.email,ownerPhone:A.ownerPhone}):F.mutate({fullName:A.fullName,email:A.email})},F=ma({mutationFn:k=>De.updateUserProfile(k),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),je.success("Profile updated successfully!")},onError:k=>je.error(k.message||"Failed to update profile")}),T=ma({mutationFn:k=>De.updateOwnerProfile(k),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),je.success("Profile updated successfully!")},onError:k=>je.error(k.message||"Failed to update profile")}),D=ma({mutationFn:k=>t!=null&&t.isOwner?De.changeOwnerPassword({currentPassword:k.currentPassword,newPassword:k.newPassword}):De.changeUserPassword(k),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),je.success("Password changed successfully!"),u(k=>({...k,oldPassword:"",newPassword:"",confirmPassword:""}))},onError:k=>je.error(k.message||"Failed to change password")}),V=ma({mutationFn:k=>De.updateSettings(k),onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]}),je.success("Settings updated successfully!")},onError:k=>je.error(k.message||"Failed to update settings")}),P=k=>{if(k.preventDefault(),!A.oldPassword||!A.newPassword){je.error("Please fill current and new password fields");return}if(A.newPassword!==A.confirmPassword){je.error("New passwords do not match");return}D.mutate({currentPassword:A.oldPassword,newPassword:A.newPassword})},U=k=>{k.preventDefault();const z=parseInt(h.daysBeforeExpiration,10);if(isNaN(z)||z<=0){je.error("Days Before Expiration must be a positive number");return}V.mutate({brevoTemplateId:h.brevoTemplateId,daysBeforeExpiration:z})};return t?n?a.jsx("div",{children:"Loading..."}):s?a.jsxs("div",{children:["Error loading profile: ",s.message]}):a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx("div",{className:`fixed inset-y-0 left-0 transform ${y?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${b?"md:w-16":"md:w-64"}`,children:a.jsx(Kn,{isCollapsed:b,setIsCollapsed:C,onBarcodeClick:()=>{}})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Settings"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),a.jsxs("form",{onSubmit:N,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(t==null?void 0:t.isOwner)&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"libraryName",className:"block text-sm font-medium text-gray-700",children:"Library Name"}),a.jsx(Vr,{id:"libraryName",name:"libraryName",value:A.libraryName,onChange:I})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:t!=null&&t.isOwner?"Owner Name":"Full Name"}),a.jsx(Vr,{id:"fullName",name:"fullName",value:A.fullName,onChange:I})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx(Vr,{id:"email",name:"email",type:"email",value:A.email,onChange:I})]}),(t==null?void 0:t.isOwner)&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"ownerPhone",className:"block text-sm font-medium text-gray-700",children:"Owner Phone"}),a.jsx(Vr,{id:"ownerPhone",name:"ownerPhone",value:A.ownerPhone,onChange:I})]})]}),a.jsx("div",{className:"mt-4 text-right",children:a.jsx(cr,{type:"submit",disabled:F.isPending||T.isPending,children:F.isPending||T.isPending?"Saving...":"Save Changes"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Change Password"}),a.jsxs("form",{onSubmit:P,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"oldPassword",children:"Current Password"}),a.jsx(Vr,{id:"oldPassword",name:"oldPassword",value:A.oldPassword,onChange:I,type:"password"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",children:"New Password"}),a.jsx(Vr,{id:"newPassword",name:"newPassword",value:A.newPassword,onChange:I,type:"password"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsx(Vr,{id:"confirmPassword",name:"confirmPassword",value:A.confirmPassword,onChange:I,type:"password"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(cr,{type:"submit",children:"Update Password"})})]})]})]}),t.role==="admin"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Email Settings"}),o?a.jsx("div",{children:"Loading..."}):l?a.jsx("div",{children:"Error..."}):a.jsxs("form",{onSubmit:U,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"brevoTemplateId",children:"Brevo Template ID"}),a.jsx(Vr,{id:"brevoTemplateId",name:"brevoTemplateId",value:h.brevoTemplateId,onChange:v})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"daysBeforeExpiration",children:"Remind Before Expiration (Days)"}),a.jsx(Vr,{id:"daysBeforeExpiration",name:"daysBeforeExpiration",type:"number",value:h.daysBeforeExpiration,onChange:v})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(cr,{type:"submit",children:"Save Email Settings"})})]})]}),a.jsx(L1e,{})]})]})})]})]}):a.jsx("div",{children:"Please log in to access settings."})},pT=({children:e})=>{const{user:t,isLoading:r}=Ca();return r?a.jsx("div",{children:"Loading..."}):!t||t.role!=="admin"?a.jsx(XO,{to:"/owner-login"}):a.jsx(a.Fragment,{children:e})},O1e=()=>{const e=Rr(),[t,r]=B.useState({username:"",password:"",role:"staff"}),n=i=>{const{name:o,value:l}=i.target;r(A=>({...A,[o]:l}))},s=async i=>{i.preventDefault();try{const o={username:t.username,password:t.password,role:t.role};await De.addUser(o),je.success("User added successfully"),e("/dashboard")}catch(o){console.error("Failed to add user:",o.message),je.error("Failed to add user")}};return a.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add New User"}),a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),a.jsx("input",{type:"text",id:"username",name:"username",value:t.username,onChange:n,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:n,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",name:"role",value:t.role,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",children:[a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"staff",children:"Staff"})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-200",children:"Add User"})]})]})},R1e=()=>{const{id:e}=GA(),t=Rr(),[r,n]=B.useState({name:"",registrationNumber:"",fatherName:"",aadharNumber:"",email:"",phone:"",address:"",branchId:null,membershipStart:"",membershipEnd:"",shiftIds:[],seatId:null,lockerId:null,totalFee:"",cash:"",online:"",securityMoney:"",remark:"",discount:"0",profileImage:null,profileImageUrl:"",aadhaarFrontImage:null,aadhaarFrontUrl:"",aadhaarBackImage:null,aadhaarBackUrl:""}),[s,i]=B.useState([]),[o,l]=B.useState([]),[A,u]=B.useState([]),[h,m]=B.useState([]),[y,g]=B.useState(!1),[b,C]=B.useState(!0),[I,v]=B.useState(!1),N=e?parseInt(e,10):NaN;if(isNaN(N))return a.jsx("div",{className:"p-6 text-red-500 text-center",children:"Invalid student ID."});B.useEffect(()=>{(async()=>{var q,X,fe,de,Q;try{const[Z,ae,ee]=await Promise.all([De.getStudent(N),De.getBranches(),De.getLockers()]),oe=Z,pe=(oe.assignments||[]).map(Be=>Be.shiftId).filter(Boolean);n({name:oe.name||"",registrationNumber:oe.registrationNumber||"",fatherName:oe.fatherName||"",aadharNumber:oe.aadharNumber||"",email:oe.email||"",phone:oe.phone||"",address:oe.address||"",branchId:oe.branchId||null,membershipStart:oe.membershipStart.split("T")[0],membershipEnd:oe.membershipEnd.split("T")[0],shiftIds:pe,seatId:((X=(q=oe.assignments)==null?void 0:q[0])==null?void 0:X.seatId)||null,lockerId:oe.lockerId||null,totalFee:oe.totalFee.toString(),cash:oe.cash.toString(),online:oe.online.toString(),securityMoney:oe.securityMoney.toString(),discount:oe.discount?oe.discount.toString():"0",remark:oe.remark||"",profileImage:null,profileImageUrl:oe.profileImageUrl||"",aadhaarFrontImage:null,aadhaarFrontUrl:oe.aadhaarFrontUrl||"",aadhaarBackImage:null,aadhaarBackUrl:oe.aadhaarBackUrl||""}),u(ae),m(ee.lockers)}catch(Z){console.error("Failed to fetch data:",Z);const ae=((fe=Z.response)==null?void 0:fe.status)===404?"Student not found":((Q=(de=Z.response)==null?void 0:de.data)==null?void 0:Q.message)||Z.message||"Failed to load student, shifts, branches, or lockers";je.error(ae)}finally{C(!1)}})()},[N]),B.useEffect(()=>{(async()=>{if(!r.branchId){i([]);return}try{const X=(await De.getSchedules(r.branchId)).schedules.map(fe=>({...fe,fee:fe.fee??0}));i(X)}catch(q){console.error("Failed to fetch shifts:",q),je.error("Failed to load shifts for the selected branch."),i([])}})()},[r.branchId]),B.useEffect(()=>{(async()=>{var fe,de;const q=r.branchId,X=r.shiftIds&&r.shiftIds.length>0?r.shiftIds[0]:null;if(q&&X){g(!0);try{const Z=(await De.getSeats({branchId:q,shiftId:X})).seats||[],ae=Z.filter(ee=>{const oe=(ee.shifts||[]).find(pe=>pe.shiftId===X);return oe?!oe.isAssigned:!0});if(r.seatId&&!ae.some(ee=>ee.id===r.seatId)){const ee=Z.find(oe=>oe.id===r.seatId);ee&&ae.push(ee)}l(ae)}catch(Q){console.error("Failed to fetch seats:",Q),je.error(((de=(fe=Q.response)==null?void 0:fe.data)==null?void 0:de.message)||"Failed to load seats"),l([])}finally{g(!1)}}else l(q?[]:[])})()},[r.branchId,r.shiftIds]);const F=K=>{const{name:q,value:X}=K.target;n(fe=>({...fe,[q]:X}))},T=(K,q)=>{const X=q?q.value:null;K==="branchId"?n(fe=>({...fe,branchId:X,seatId:null,shiftIds:[]})):K==="seatId"?n(fe=>({...fe,seatId:X})):K==="lockerId"&&n(fe=>({...fe,lockerId:X}))},D=K=>{const q=K?K.map(fe=>fe.value):[],X=s.filter(fe=>q.includes(fe.id)).reduce((fe,de)=>fe+(de.fee??0),0);n(fe=>({...fe,shiftIds:q,totalFee:X?X.toString():fe.totalFee}))},V=(K,q)=>{const X=K.target.files?K.target.files[0]:null;if(X){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(X.type)){je.error(`Only JPEG, JPG, PNG, and GIF images are allowed for ${q}`);return}if(X.size>200*1024){je.error(`Image size exceeds 200KB limit for ${q}`);return}n(fe=>({...fe,[q]:X}))}},P=async()=>{var K,q;if(!r.name||!r.phone||!r.address||r.branchId===null||!r.membershipStart||!r.membershipEnd){je.error("Please fill in all required fields: Name, Phone, Address, Branch, Membership Start, Membership End");return}v(!0);try{let X=r.profileImageUrl;if(r.profileImage){const Z=new FormData;Z.append("image",r.profileImage),X=(await De.uploadImage(Z)).imageUrl||""}let fe=r.aadhaarFrontUrl;if(r.aadhaarFrontImage){const Z=new FormData;Z.append("image",r.aadhaarFrontImage),fe=(await De.uploadImage(Z)).imageUrl||""}let de=r.aadhaarBackUrl;if(r.aadhaarBackImage){const Z=new FormData;Z.append("image",r.aadhaarBackImage),de=(await De.uploadImage(Z)).imageUrl||""}const Q={name:r.name,registrationNumber:r.registrationNumber||"",fatherName:r.fatherName||"",aadharNumber:r.aadharNumber||"",email:r.email||"",phone:r.phone,address:r.address,branchId:r.branchId,membershipStart:r.membershipStart,membershipEnd:r.membershipEnd,totalFee:parseFloat(r.totalFee)||0,amountPaid:(parseFloat(r.cash)||0)+(parseFloat(r.online)||0),discount:parseFloat(r.discount)||0,shiftIds:r.shiftIds,seatId:r.seatId,lockerId:r.lockerId,cash:parseFloat(r.cash)||0,online:parseFloat(r.online)||0,securityMoney:parseFloat(r.securityMoney)||0,remark:r.remark||"",profileImageUrl:X||"",aadhaarFrontUrl:fe||"",aadhaarBackUrl:de||""};await De.updateStudent(N,Q),je.success("Student updated successfully"),t(`/students/${N}`)}catch(X){console.error("Failed to update student:",X),je.error(((q=(K=X.response)==null?void 0:K.data)==null?void 0:q.message)||X.message||"Failed to update student")}finally{v(!1)}},U=A.map(K=>({value:K.id,label:K.name})),k=[{value:null,label:"None"},...o.map(K=>({value:K.id,label:K.seatNumber}))],z=s.map(K=>({value:K.id,label:`${K.title} (${K.time} on ${K.eventDate})`})),R=[{value:null,label:"None"},...h.filter(K=>!K.isAssigned||K.studentId===N).map(K=>({value:K.id,label:K.lockerNumber}))],H=parseFloat(r.cash)||0,J=parseFloat(r.online)||0,ne=H+J,G=(parseFloat(r.totalFee)||0)-(parseFloat(r.discount)||0)-ne;return b?a.jsx("div",{className:"p-6 text-center",children:"Loading..."}):a.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsxs(cr,{variant:"ghost",onClick:()=>t(`/students/${N}`),className:"mr-4",children:[a.jsx(sl,{className:"h-4 w-4 mr-2"})," Back"]}),a.jsx("h1",{className:"text-2xl font-bold",children:"Edit Student"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),a.jsx("input",{type:"text",id:"registrationNumber",name:"registrationNumber",value:r.registrationNumber,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fatherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),a.jsx("input",{type:"text",id:"fatherName",name:"fatherName",value:r.fatherName,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadharNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),a.jsx("input",{type:"text",id:"aadharNumber",name:"aadharNumber",value:r.aadharNumber,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"text",id:"phone",name:"phone",value:r.phone,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("input",{type:"text",id:"address",name:"address",value:r.address,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),a.jsx(fa,{options:U,value:U.find(K=>K.value===r.branchId)||null,onChange:K=>T("branchId",K),placeholder:"Select a branch",className:"w-full",isDisabled:A.length===0,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipStart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership Start"}),a.jsx("input",{type:"date",id:"membershipStart",name:"membershipStart",value:r.membershipStart,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipEnd",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership End"}),a.jsx("input",{type:"date",id:"membershipEnd",name:"membershipEnd",value:r.membershipEnd,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"shiftIds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Shift(s)"}),a.jsx(fa,{isMulti:!0,options:z,value:z.filter(K=>r.shiftIds.includes(K.value)),onChange:D,placeholder:s.length===0?"No shifts for this branch":"Select one or more shifts",className:"w-full",isDisabled:s.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"seatId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Seat"}),a.jsx(fa,{options:k,value:k.find(K=>K.value===r.seatId)||null,onChange:K=>T("seatId",K),isLoading:y,placeholder:r.branchId?r.shiftIds.length===0?"Select a shift first":"Select a seat":"Select a branch first",className:"w-full",isDisabled:!r.branchId||r.shiftIds.length===0||o.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lockerId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Locker"}),a.jsx(fa,{options:R,value:R.find(K=>K.value===r.lockerId)||null,onChange:K=>T("lockerId",K),placeholder:r.branchId?"Select an available locker":"Select a branch first",className:"w-full",isDisabled:!r.branchId||h.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"totalFee",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee"}),a.jsx("input",{type:"number",id:"totalFee",name:"totalFee",value:r.totalFee,onChange:F,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount"}),a.jsx("input",{type:"number",id:"discount",name:"discount",value:r.discount,onChange:F,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cash",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Payment"}),a.jsx("input",{type:"number",id:"cash",name:"cash",value:r.cash,onChange:F,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"online",className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Payment"}),a.jsx("input",{type:"number",id:"online",name:"online",value:r.online,onChange:F,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"securityMoney",className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money"}),a.jsx("input",{type:"number",id:"securityMoney",name:"securityMoney",value:r.securityMoney,onChange:F,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount Paid"}),a.jsx("input",{type:"number",id:"amountPaid",name:"amountPaid",value:ne.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dueAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),a.jsx("input",{type:"number",id:"dueAmount",name:"dueAmount",value:G.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"remark",className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{id:"remark",name:"remark",value:r.remark,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"profileImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image (max 200KB)"}),a.jsx("input",{type:"file",id:"profileImage",name:"profileImage",accept:"image/*",onChange:K=>V(K,"profileImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.profileImageUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:r.profileImageUrl,alt:"Profile Preview",className:"h-20 w-20 object-cover rounded"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarFrontImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Front Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarFrontImage",name:"aadhaarFrontImage",accept:"image/*",onChange:K=>V(K,"aadhaarFrontImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.aadhaarFrontUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:r.aadhaarFrontUrl,alt:"Aadhaar Front Preview",className:"h-20 w-20 object-cover rounded"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarBackImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Back Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarBackImage",name:"aadhaarBackImage",accept:"image/*",onChange:K=>V(K,"aadhaarBackImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.aadhaarBackUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:r.aadhaarBackUrl,alt:"Aadhaar Back Preview",className:"h-20 w-20 object-cover rounded"})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(cr,{variant:"outline",onClick:()=>t(`/students/${N}`),disabled:I,children:"Cancel"}),a.jsx(cr,{onClick:P,disabled:I,children:I?"Updating...":"Update Student"})]})]})]})},D1e=()=>{const[e,t]=B.useState([]),[r,n]=B.useState([]),[s,i]=B.useState(!0),[o,l]=B.useState(null),[A,u]=B.useState(""),[h,m]=B.useState(!1),[y,g]=B.useState(!1),[b,C]=B.useState([]),[I,v]=B.useState(null),[N,F]=B.useState(""),[T,D]=B.useState(null),V=Rr(),{isAuthenticated:P,isLoading:U}=Ca(),k=()=>{je.info("Barcode scanning functionality is not yet implemented.")};B.useEffect(()=>{!U&&!P&&V("/login")},[P,U,V]);const z=async()=>{try{const G=await De.getBranches();C(G||[])}catch(G){je.error(G.message||"Failed to load branches"),C([])}},R=async(G=0)=>{try{i(!0);const q={};I&&(q.branchId=I),T&&(q.shiftId=T);const X=await De.getSeats(q);if(X.seats&&Array.isArray(X.seats))t(X.seats.sort((fe,de)=>parseInt(fe.seatNumber)-parseInt(de.seatNumber))),l(null);else throw new Error("Invalid data format from API")}catch(q){l(q.message||"Failed to fetch seats. Please try again."),G<2?(await new Promise(X=>setTimeout(X,1e3*(G+1))),await R(G+1)):je.error(q.message||"Failed to fetch seats after multiple attempts")}finally{i(!1)}},H=async(G=null)=>{try{const K=await De.getSchedules(G);if(K.schedules&&Array.isArray(K.schedules)){const q=K.schedules.sort((X,fe)=>{const de=X.eventDate.localeCompare(fe.eventDate);return de!==0?de:X.time.localeCompare(fe.time)});n(q)}else throw new Error("Invalid schedules data format from API")}catch(K){console.error("Failed to fetch schedules:",K),je.error(K.message||"Failed to fetch schedules"),n([])}},J=async G=>{if(G.preventDefault(),!I){je.error("Please select a branch before adding seats");return}m(!0);try{const K=await De.addSeats({seatNumbers:A,branchId:I});je.success(K.message||"Seats added successfully"),u(""),await R()}catch(K){je.error(K.message||"Failed to add seats")}finally{m(!1)}},ne=async G=>{if(window.confirm("Are you sure you want to delete this seat?"))try{const K=await De.deleteSeat(G);je.success(K.message||"Seat deleted successfully"),await R()}catch(K){je.error(K.message||"Failed to delete seat")}};B.useEffect(()=>{P&&z()},[P]),B.useEffect(()=>{P&&H(I)},[P,I]),B.useEffect(()=>{P&&(R(),T&&r.length>0&&(r.some(K=>K.id===T)||D(null)))},[P,I,T,r]);const Y=e.filter(G=>G.seatNumber.includes(N));return U?a.jsx("div",{className:"flex min-h-screen justify-center items-center",children:a.jsx(ti,{size:24,className:"animate-spin text-gray-500 dark:text-gray-400"})}):a.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(Kn,{isCollapsed:y,setIsCollapsed:g,onBarcodeClick:k}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-end justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-gray-200",children:"Seat Assignments"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-400 mt-1",children:"Manage library seat availability"})]}),a.jsxs("button",{onClick:()=>V(-1),className:"flex items-center text-purple-600 hover:text-purple-800 transition-colors",children:[a.jsx(sl,{size:20,className:"mr-1"})," Back"]})]}),a.jsxs("div",{className:"mb-4 flex flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"branch-select",className:"text-sm font-medium text-gray-700 dark:text-gray-300 mr-2",children:"Filter by Branch:"}),a.jsxs("select",{id:"branch-select",value:I??"",onChange:G=>v(G.target.value?parseInt(G.target.value,10):null),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:"",children:"All Branches"}),b.map(G=>a.jsx("option",{value:G.id.toString(),children:G.name},G.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mr-2",children:"Search Seat:"}),a.jsx("input",{type:"text",value:N,onChange:G=>F(G.target.value),placeholder:"Enter seat number",className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mr-2",children:"Filter by Shift:"}),a.jsxs("select",{value:T??"",onChange:G=>D(G.target.value?parseInt(G.target.value,10):null),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm",children:[a.jsx("option",{value:"",children:"All Shifts"}),r.map(G=>a.jsx("option",{value:G.id,children:G.title},G.id))]})]})]}),s?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(ti,{size:24,className:"animate-spin text-gray-500 dark:text-gray-400"})}):o?a.jsx("div",{className:"text-red-500 dark:text-red-400 bg-red-50 dark:bg-red-900/30 p-4 rounded-lg mb-6",children:o}):Y.length===0?a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No seats found."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:Y.map(G=>a.jsxs("div",{className:"p-3 border rounded-lg shadow-sm bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h3",{className:"text-base font-semibold text-gray-800 dark:text-gray-200",children:["Seat ",G.seatNumber]}),a.jsx("button",{onClick:()=>ne(G.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-800/50",children:a.jsx(il,{size:14})})]}),G.shifts.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"No shifts available."}):a.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:G.shifts.map(K=>a.jsxs("div",{className:`flex items-center gap-1 p-1 rounded-md text-xs ${K.isAssigned?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-500":"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300"}`,children:[a.jsxs("span",{className:"flex-1 truncate",children:[K.shiftTitle,K.description&&` (${K.description})`]}),K.isAssigned&&K.studentName&&a.jsx("span",{className:"text-[15px] italic truncate",children:K.studentName})]},K.shiftId))})]},G.id))}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{htmlFor:"seat-numbers",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Add New Seats"}),a.jsx("input",{id:"seat-numbers",type:"text",value:A,onChange:G=>u(G.target.value),placeholder:"Enter seat numbers (e.g., 1,2,3)",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 text-sm bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,disabled:h||!I})]}),a.jsx("button",{onClick:J,className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 dark:hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:h||!A.trim()||!I,children:h?a.jsxs(a.Fragment,{children:[a.jsx(ti,{size:16,className:"animate-spin"})," Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bee,{size:16})," Add Seats"]})})]})})]})})]})]})},U1e=_v("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vA=B.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:vr(U1e({variant:t}),e),...r}));vA.displayName="Alert";const gE=B.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:vr("mb-1 font-medium leading-none tracking-tight",e),...t}));gE.displayName="AlertTitle";const bA=B.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:vr("text-sm [&_p]:leading-relaxed",e),...t}));bA.displayName="AlertDescription";const M1e=()=>{const[e,t]=B.useState([]),[r,n]=B.useState(!0),[s,i]=B.useState(null),[o,l]=B.useState(!1),[A,u]=B.useState([]),[h,m]=B.useState("all");B.useEffect(()=>{(async()=>{try{const C=await De.getSchedulesWithStudents();t(C.schedules||[])}catch(C){i("Failed to load shifts. Please try again later."),console.error("Failed to fetch shifts:",C)}finally{n(!1)}})()},[]),B.useEffect(()=>{(async()=>{try{const C=await De.getBranches();u(C||[])}catch(C){console.error("Failed to load branches:",C)}})()},[]);const y=b=>new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(new Date(b)),g=Xe.useMemo(()=>{if(h==="all")return e;const b=parseInt(h,10);return Number.isNaN(b)?e:e.filter(C=>C.branchId===b)},[e,h]);return a.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(Kn,{isCollapsed:o,setIsCollapsed:l}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(On,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm animate-fade-in",children:[a.jsxs(Fi,{className:"border-b border-gray-200 dark:border-gray-700",children:[a.jsxs(ji,{className:"flex items-center gap-2 text-2xl sm:text-3xl font-bold text-gray-800 dark:text-gray-200",children:[a.jsx(Js,{size:24,className:"text-purple-600 dark:text-purple-400"}),"Shifts Overview"]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"View and manage your scheduled shifts"})]}),a.jsxs(Ss,{className:"pt-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4",children:a.jsx("div",{className:"w-full sm:w-64",children:a.jsxs(yc,{value:h,onValueChange:m,children:[a.jsx(_l,{children:a.jsx(wc,{placeholder:"Filter by branch"})}),a.jsxs(Tl,{children:[a.jsx(Ds,{value:"all",children:"All branches"}),A.map(b=>a.jsx(Ds,{value:String(b.id),children:b.name},b.id))]})]})})}),r?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(ti,{size:24,className:"animate-spin text-gray-500 dark:text-gray-400"})}):s?a.jsxs(vA,{variant:"destructive",className:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700",children:[a.jsx(gE,{className:"text-red-700 dark:text-red-300",children:"Error"}),a.jsx(bA,{className:"text-red-600 dark:text-red-400",children:s})]}):g.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No shifts available. Add a new shift to get started."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(kc,{children:[a.jsx(Lc,{children:a.jsxs(os,{children:[a.jsx(rr,{className:"text-gray-700 dark:text-gray-300",children:a.jsx("div",{className:"flex items-center gap-1.5",children:"Title"})}),a.jsx(rr,{className:"text-gray-700 dark:text-gray-300",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(rl,{size:16}),"Date"]})}),a.jsx(rr,{className:"text-gray-700 dark:text-gray-300",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Js,{size:16}),"Time"]})}),a.jsx(rr,{className:"text-right text-gray-700 dark:text-gray-300",children:a.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[a.jsx(Fc,{size:16}),"Students"]})})]})}),a.jsx(Pc,{children:g.map(b=>a.jsxs(os,{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors animate-fade-in-row",children:[a.jsx(qt,{className:"font-medium text-gray-800 dark:text-gray-200",children:b.title}),a.jsx(qt,{className:"text-gray-600 dark:text-gray-400",children:y(b.eventDate)}),a.jsxs(qt,{className:"text-gray-600 dark:text-gray-400",children:[b.description," "]}),a.jsx(qt,{className:"text-right",children:a.jsx(Yr,{to:`/shifts/${b.id}/students`,className:"text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 hover:underline transition-colors",children:b.studentCount})})]},b.id))})]})})]})]})})})]}),a.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInRow {
          from {
            opacity: 0;
            transform: translateX(-10px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        .animate-fade-in {
          animation: fadeIn 0.5s ease-out forwards;
        }
        .animate-fade-in-row {
          animation: fadeInRow 0.3s ease-out forwards;
        }
      `})]})},Q1e=()=>{const{id:e}=GA(),t=Rr(),[r,n]=B.useState([]),[s,i]=B.useState(""),[o,l]=B.useState({search:"",status:"all"}),[A,u]=B.useState(!0),[h,m]=B.useState(null),[y,g]=B.useState(!1),[b,C]=B.useState(!1),[I,v]=B.useState([]),[N,F]=B.useState("all"),T=()=>{je.info("Barcode scanning functionality is not yet implemented.")};B.useEffect(()=>{(async()=>{try{const k=parseInt(e,10);if(isNaN(k))throw new Error("Invalid shift ID");const z=await De.getSchedule(k);i(z.title||`Shift ${k}`);const R=await De.getStudentsByShift(k,o);if(!R||!Array.isArray(R.students))throw new Error("Invalid response: Students data is missing or not an array");n(R.students)}catch(k){const z=k.message||"Failed to load shift details or students. Please try again later.";m(z),je.error(z),console.error("Failed to fetch shift or students:",k)}finally{u(!1)}})()},[e,o]),B.useEffect(()=>{(async()=>{try{const k=await De.getBranches();v(k||[])}catch(k){console.error("Failed to load branches:",k)}})()},[]);const D=U=>{const{name:k,value:z}=U.target;l(R=>({...R,[k]:z}))},V=U=>{l(k=>({...k,status:U}))},P=Xe.useMemo(()=>{if(N==="all")return r;const U=parseInt(N,10);return Number.isNaN(U)?r:r.filter(k=>k.branchId===U)},[r,N]);return a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("button",{onClick:()=>g(!y),className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-md shadow-md dark:bg-gray-800 dark:text-gray-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),a.jsx("div",{className:`fixed inset-y-0 left-0 transform ${y?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${b?"md:w-16":"md:w-64"}`,children:a.jsx(Kn,{isCollapsed:b,setIsCollapsed:C,onBarcodeClick:T})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>g(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(On,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[a.jsxs(Fi,{className:"flex flex-row items-center justify-between",children:[a.jsxs(ji,{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:["Students in ",s]}),a.jsxs(cr,{variant:"outline",onClick:()=>t("/shifts"),className:"flex items-center gap-2",children:[a.jsx(sl,{size:16}),"Back to Shifts"]})]}),a.jsxs(Ss,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsx(Vr,{type:"text",name:"search",value:o.search,onChange:D,placeholder:"Search by name, phone, or Reg. No.",className:"max-w-sm"}),a.jsxs(yc,{value:o.status,onValueChange:V,children:[a.jsx(_l,{className:"w-[180px]",children:a.jsx(wc,{placeholder:"Filter by status"})}),a.jsxs(Tl,{children:[a.jsx(Ds,{value:"all",children:"All"}),a.jsx(Ds,{value:"active",children:"Active"}),a.jsx(Ds,{value:"expired",children:"Expired"})]})]}),a.jsxs(yc,{value:N,onValueChange:F,children:[a.jsx(_l,{className:"w-[200px]",children:a.jsx(wc,{placeholder:"Filter by branch"})}),a.jsxs(Tl,{children:[a.jsx(Ds,{value:"all",children:"All branches"}),I.map(U=>a.jsx(Ds,{value:String(U.id),children:U.name},U.id))]})]})]}),A?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Loading students..."}):h?a.jsxs(vA,{variant:"destructive",children:[a.jsx(gE,{children:"Error"}),a.jsx(bA,{children:h})]}):P.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No students found for this shift."}):a.jsxs(kc,{children:[a.jsx(Lc,{children:a.jsxs(os,{children:[a.jsx(rr,{children:"Name"}),a.jsx(rr,{children:"Registration Number"}),a.jsx(rr,{children:"Email"}),a.jsx(rr,{children:"Phone"}),a.jsx(rr,{children:"Status"})]})}),a.jsx(Pc,{children:P.map(U=>a.jsxs(os,{children:[a.jsx(qt,{className:"font-medium",children:U.name}),a.jsx(qt,{children:U.registrationNumber||"N/A"}),a.jsx(qt,{children:U.email||"N/A"}),a.jsx(qt,{children:U.phone||"N/A"}),a.jsx(qt,{children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${U.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:U.status})})]},U.id))})]})]})]})})})]})]})},H1e=({onSubmit:e})=>{const[t,r]=B.useState(""),n=s=>{if(s.preventDefault(),!t){je.error("Branch name is required");return}e({name:t}),r("")};return a.jsxs("form",{onSubmit:n,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch Name"}),a.jsx("input",{type:"text",value:t,onChange:s=>r(s.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsx("button",{type:"submit",className:"inline-flex justify-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors",children:"Add Branch"})]})},C9=({branches:e,onSubmit:t,initialData:r})=>{var ft,dt,Je,Qe,vt,Ke,Vt,bt;const[n,s]=B.useState((r==null?void 0:r.branchId)||(r==null?void 0:r.branch_id)||(!r&&e&&e.length>0?e[0].id:"")),[i,o]=B.useState((r==null?void 0:r.name)||""),[l,A]=B.useState((r==null?void 0:r.address)||""),[u,h]=B.useState((r==null?void 0:r.fatherName)||(r==null?void 0:r.father_name)||""),[m,y]=B.useState((r==null?void 0:r.motherName)||(r==null?void 0:r.mother_name)||""),[g,b]=B.useState((r==null?void 0:r.aadharNumber)||(r==null?void 0:r.aadhar_number)||""),[C,I]=B.useState((r==null?void 0:r.phoneNumber)||(r==null?void 0:r.phone_number)||""),[v,N]=B.useState((r==null?void 0:r.profileImageUrl)||(r==null?void 0:r.profile_image_url)||""),[F,T]=B.useState((r==null?void 0:r.aadharImageUrl)||(r==null?void 0:r.aadhar_image_url)||""),[D,V]=B.useState((r==null?void 0:r.religion)||""),[P,U]=B.useState((r==null?void 0:r.foodPreference)||(r==null?void 0:r.food_preference)||""),[k,z]=B.useState((r==null?void 0:r.gender)||""),[R,H]=B.useState(((ft=r==null?void 0:r.securityMoney)==null?void 0:ft.toString())||((dt=r==null?void 0:r.security_money)==null?void 0:dt.toString())||""),[J,ne]=B.useState((r==null?void 0:r.registrationNumber)||(r==null?void 0:r.registration_number)||""),[Y,G]=B.useState((r==null?void 0:r.stayStartDate)||(r==null?void 0:r.stay_start_date)||""),[K,q]=B.useState((r==null?void 0:r.stayEndDate)||(r==null?void 0:r.stay_end_date)||""),[X,fe]=B.useState(((Je=r==null?void 0:r.totalFee)==null?void 0:Je.toString())||((Qe=r==null?void 0:r.total_fee)==null?void 0:Qe.toString())||""),[de,Q]=B.useState(((vt=r==null?void 0:r.cashPaid)==null?void 0:vt.toString())||((Ke=r==null?void 0:r.cash_paid)==null?void 0:Ke.toString())||""),[Z,ae]=B.useState(((Vt=r==null?void 0:r.onlinePaid)==null?void 0:Vt.toString())||((bt=r==null?void 0:r.online_paid)==null?void 0:bt.toString())||""),[ee,oe]=B.useState((r==null?void 0:r.roomNumber)||(r==null?void 0:r.room_number)||""),[pe,Be]=B.useState((r==null?void 0:r.remark)||""),[_e,Le]=B.useState(0),[ke,Oe]=B.useState(!1),Se=Rr();B.useEffect(()=>{const nt=parseFloat(X)||0,ct=parseFloat(de)||0,At=parseFloat(Z)||0,Ht=nt-(ct+At);Le(Ht>=0?Ht:0)},[X,de,Z]),B.useEffect(()=>{var nt,ct,At,Ht,St,xt,Lt,Bt;r?(s(r.branchId||r.branch_id||(e&&e.length>0&&!r.branch_id&&!r.branchId?e[0].id:"")),o(r.name||""),A(r.address||""),h(r.fatherName||r.father_name||""),y(r.motherName||r.mother_name||""),b(r.aadharNumber||r.aadhar_number||""),I(r.phoneNumber||r.phone_number||""),N(r.profileImageUrl||r.profile_image_url||""),T(r.aadharImageUrl||r.aadhar_image_url||""),V(r.religion||""),U(r.foodPreference||r.food_preference||""),z(r.gender||""),H(((nt=r.securityMoney)==null?void 0:nt.toString())||((ct=r.security_money)==null?void 0:ct.toString())||""),ne(r.registrationNumber||r.registration_number||""),G(r.stayStartDate||r.stay_start_date||""),q(r.stayEndDate||r.stay_end_date||""),fe(((At=r.totalFee)==null?void 0:At.toString())||((Ht=r.total_fee)==null?void 0:Ht.toString())||""),Q(((St=r.cashPaid)==null?void 0:St.toString())||((xt=r.cash_paid)==null?void 0:xt.toString())||""),ae(((Lt=r.onlinePaid)==null?void 0:Lt.toString())||((Bt=r.online_paid)==null?void 0:Bt.toString())||""),oe(r.roomNumber||r.room_number||""),Be(r.remark||"")):!r&&e&&e.length>0&&!n&&s(e[0].id)},[r,e,n]);const Ce=async(nt,ct)=>{Oe(!0);try{const At=new FormData;At.append("image",nt);const Ht=await De.uploadImage(At);if(!Ht.imageUrl)throw new Error("No image URL returned");ct(Ht.imageUrl),je.success("Image uploaded successfully")}catch(At){console.error("Image upload error:",At),je.error("Failed to upload image")}finally{Oe(!1)}},he=async nt=>{nt.preventDefault();const ct=[];n||ct.push("Branch is required"),i.trim()||ct.push("Name is required"),Y||ct.push("Stay Start Date is required"),K||ct.push("Stay End Date is required");const At=parseFloat(X);(isNaN(At)||At<0)&&ct.push("Total Fee must be a non-negative number"),ee.trim()||ct.push("Room Number is required"),D.trim()||ct.push("Religion is required"),P||ct.push("Food Preference is required"),k||ct.push("Gender is required");const Ht=parseFloat(de);de&&(isNaN(Ht)||Ht<0)&&ct.push("Cash Paid must be a non-negative number");const St=parseFloat(Z);Z&&(isNaN(St)||St<0)&&ct.push("Online Paid must be a non-negative number");const xt=parseFloat(R);if(R&&(isNaN(xt)||xt<0)&&ct.push("Security Money must be a non-negative number"),g&&!/^\d{12}$/.test(g)&&ct.push("Aadhar Number must be a 12-digit number"),C&&!/^\d{10}$/.test(C)&&ct.push("Phone Number must be a 10-digit number"),ct.length>0){je.error(ct.join(", "));return}const Lt={branch_id:String(n),name:i.trim(),address:l.trim()||null,father_name:u.trim()||null,mother_name:m.trim()||null,aadhar_number:g||null,phone_number:C||null,profile_image_url:v||null,aadhar_image_url:F||null,religion:D.trim(),food_preference:P,gender:k,security_money:R?parseFloat(R):0,registration_number:J.trim()||null,stay_start_date:Y,stay_end_date:K,total_fee:At,cash_paid:de?parseFloat(de):0,online_paid:Z?parseFloat(Z):0,room_number:ee.trim(),remark:pe.trim()||null};console.log("Submitting student data to API (HostelStudentForm.tsx):",JSON.stringify(Lt,null,2));try{await t(Lt),je.success(r?"Student updated successfully":"Student added successfully"),r||(s(e&&e.length>0?e[0].id:""),o(""),A(""),h(""),y(""),b(""),I(""),N(""),T(""),V(""),U(""),z(""),H(""),ne(""),G(""),q(""),fe(""),Q(""),ae(""),oe(""),Be(""))}catch(Bt){console.error("Error submitting student data (HostelStudentForm.tsx):",Bt),je.error(Bt.message||"Failed to add/update student. Check the console for details.")}};return a.jsxs("form",{onSubmit:he,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),a.jsxs("select",{value:n,onChange:nt=>s(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Branch"}),e.map(nt=>a.jsx("option",{value:nt.id,children:nt.name},nt.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:i,onChange:nt=>o(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("input",{type:"text",value:l,onChange:nt=>A(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),a.jsx("input",{type:"text",value:u,onChange:nt=>h(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Name"}),a.jsx("input",{type:"text",value:m,onChange:nt=>y(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),a.jsx("input",{type:"text",value:g,onChange:nt=>b(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"text",value:C,onChange:nt=>I(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stay Start Date"}),a.jsx("input",{type:"date",value:Y,onChange:nt=>G(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stay End Date"}),a.jsx("input",{type:"date",value:K,onChange:nt=>q(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:X,onChange:nt=>fe(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Paid (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:de,onChange:nt=>Q(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Paid (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:Z,onChange:nt=>ae(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount (in INR)"}),a.jsx("input",{type:"text",value:`${_e.toFixed(2)}`,readOnly:!0,className:"block w-full rounded-md border-gray-300 bg-gray-100 shadow-sm sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),a.jsx("input",{type:"text",value:ee,onChange:nt=>oe(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:R,onChange:nt=>H(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),a.jsx("input",{type:"text",value:J,onChange:nt=>ne(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Religion"}),a.jsx("input",{type:"text",value:D,onChange:nt=>V(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Food Preference"}),a.jsxs("select",{value:P,onChange:nt=>U(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Food Preference"}),a.jsx("option",{value:"Veg",children:"Veg"}),a.jsx("option",{value:"Non-Veg",children:"Non-Veg"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),a.jsxs("select",{value:k,onChange:nt=>z(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Gender"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{value:pe,onChange:nt=>Be(nt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:nt=>nt.target.files&&Ce(nt.target.files[0],N),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",disabled:ke}),v&&a.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Uploaded: ",v.split("/").pop()]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:nt=>nt.target.files&&Ce(nt.target.files[0],T),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",disabled:ke}),F&&a.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Uploaded: ",F.split("/").pop()]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",disabled:ke,className:"inline-flex justify-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors disabled:bg-indigo-400",children:ke?"Uploading...":r?"Update Student":"Add Student"}),a.jsx("button",{type:"button",onClick:()=>Se(-1),className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors",children:"Cancel"})]})]})},V1e=({branches:e,onUpdateBranch:t,onDeleteBranch:r})=>{const[n,s]=B.useState(null),[i,o]=B.useState(""),l=h=>{s(h),o(h.name)},A=()=>{n&&(t(n.id,i),s(null))},u=()=>{s(null)};return a.jsx("div",{className:"space-y-4",children:e.map(h=>a.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-md",children:(n==null?void 0:n.id)===h.id?a.jsxs("div",{className:"flex items-center space-x-2 w-full",children:[a.jsx("input",{type:"text",value:i,onChange:m=>o(m.target.value),className:"flex-grow rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),a.jsx("button",{onClick:A,className:"text-green-600 hover:text-green-800",children:"Save"}),a.jsx("button",{onClick:u,className:"text-gray-600 hover:text-gray-800",children:"Cancel"})]}):a.jsxs(a.Fragment,{children:[a.jsxs(Yr,{to:`/hostel/branches/${h.id}/students`,className:"text-indigo-600 hover:text-indigo-800 font-medium",children:[h.name," (",h.studentCount," students)"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>l(h),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),a.jsx("button",{onClick:()=>r(h.id),className:"text-red-600 hover:text-red-800",disabled:h.studentCount>0,children:"Delete"})]})]})},h.id))})},K1e=()=>{const e=HA(),t=Rr(),{data:r,isLoading:n,error:s}=Ll({queryKey:["hostelBranches"],queryFn:()=>De.getHostelBranches()}),i=ma({mutationFn:y=>De.addHostelBranch(y),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),je.success("Branch added successfully")},onError:()=>{je.error("Failed to add branch")}}),o=ma({mutationFn:({id:y,name:g})=>De.updateHostelBranch(y,{name:g}),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),je.success("Branch updated successfully")},onError:()=>{je.error("Failed to update branch")}}),l=ma({mutationFn:y=>De.deleteHostelBranch(y),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),je.success("Branch deleted successfully")},onError:y=>{je.error(y.message||"Failed to delete branch")}}),A=ma({mutationFn:y=>De.addHostelStudent(y),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),je.success("Student added successfully")},onError:()=>{je.error("Failed to add student")}}),u=(y,g)=>{o.mutate({id:y,name:g})},h=y=>{window.confirm("Are you sure you want to delete this branch?")&&l.mutate(y)},m=y=>{const g={...y,branchId:parseInt(y.branchId,10)};A.mutate(g)};return n?a.jsx("div",{className:"p-6 animate-pulse",children:"Loading..."}):s?a.jsxs("div",{className:"p-6",children:["Error: ",s.message]}):a.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(sl,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Hostel Management"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Add Branch"}),a.jsx(H1e,{onSubmit:y=>i.mutate(y)})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Add Student"}),a.jsx(C9,{branches:r||[],onSubmit:m})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Branches"}),a.jsx(V1e,{branches:r||[],onUpdateBranch:u,onDeleteBranch:h})]})]})},G1e=({branchId:e})=>{const[t,r]=B.useState([]),[n,s]=B.useState(!0),[i,o]=B.useState(""),[l,A]=B.useState(1),u=10,h=Rr();B.useEffect(()=>{(async()=>{var F;try{const T=await De.getHostelStudents(e);let D=[];Array.isArray(T)?D=T:T.students?D=T.students:(F=T.data)!=null&&F.students&&(D=T.data.students);const V=D.filter(P=>String(P.branch_id??P.branchId)===e);r(V)}catch{je.error("Failed to fetch students")}finally{s(!1)}})()},[e]);const m=async N=>{if(window.confirm("Are you sure you want to delete this student?"))try{await De.deleteHostelStudent(N),r(F=>F.filter(T=>T.id!==N)),je.success("Student deleted successfully")}catch{je.error("Failed to delete student")}},y=N=>{h(`/hostel/students/${N}`)},g=t.filter(N=>{var F;return N.name.toLowerCase().includes(i.toLowerCase())||(((F=N.phoneNumber)==null?void 0:F.toLowerCase().includes(i.toLowerCase()))??!1)}),b=l*u,C=b-u,I=g.slice(C,b),v=Math.ceil(g.length/u);return a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"relative max-w-sm",children:[a.jsx(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search students...",value:i,onChange:N=>o(N.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm transition-colors"})]})}),n?a.jsx("div",{className:"flex justify-center p-8 animate-pulse",children:"Loading students..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900",children:"Name"}),a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900 hidden md:table-cell",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900 hidden md:table-cell",children:"Aadhar"}),a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:I.map(N=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:N.name}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:N.phoneNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:N.aadharNumber||"N/A"}),a.jsxs("td",{className:"px-6 py-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>y(N.id),className:"text-indigo-600 hover:text-indigo-800 p-1 transition-colors",title:"View Details",children:a.jsx(za,{size:18})}),a.jsx("button",{onClick:()=>m(N.id),className:"text-red-600 hover:text-red-800 p-1 transition-colors",title:"Delete",children:a.jsx(il,{size:18})})]})]},N.id))})]})}),v>1&&a.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>A(N=>Math.max(N-1,1)),disabled:l===1,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Pd,{className:"w-4 h-4 mr-2"}),"Previous"]}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",l," of ",v]}),a.jsxs("button",{onClick:()=>A(N=>Math.min(N+1,v)),disabled:l===v,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Next",a.jsx(Cn,{className:"w-4 h-4 ml-2"})]})]})]})]})},W1e=()=>{const{branchId:e}=GA(),t=Rr();return e?a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(sl,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Branch Students"})]}),a.jsx(G1e,{branchId:e})]}):a.jsx("div",{className:"p-6",children:"Invalid branch ID"})},z1e=""+new URL("SDMLibLogo-BCZtqCjy.jpg",import.meta.url).href,$1e=()=>{const{id:e}=GA(),t=Rr(),{data:r,isLoading:n,error:s}=Ll({queryKey:["hostelStudent",e],queryFn:()=>De.getHostelStudent(e),enabled:!!e});if(n)return a.jsx("div",{className:"p-6 animate-pulse",children:"Loading student details..."});if(s)return a.jsxs("div",{className:"p-6 text-red-600",children:["Error loading student: ",s.message]});if(!r||!r.student)return a.jsx("div",{className:"p-6",children:"Student not found."});const{student:i,history:o}=r,l=o[0]||{};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(sl,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>t(`/hostel/students/${e}/edit`),className:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-indigo-700 transition-colors",children:"Edit"}),a.jsx("button",{onClick:()=>window.print(),className:"inline-flex items-center rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-gray-700 transition-colors",children:"Print"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-6",children:[a.jsx("div",{className:"w-full",children:a.jsx("img",{src:z1e,alt:"SDM Boy's Hostel Banner",className:"w-full h-auto object-cover"})}),a.jsxs("div",{className:"flex space-x-4",children:[i.profileImageUrl&&a.jsx("img",{src:i.profileImageUrl,alt:"Profile",className:"w-24 h-24 object-cover rounded-lg border border-gray-200"}),i.aadharImageUrl&&a.jsx("img",{src:i.aadharImageUrl,alt:"Aadhar",className:"w-24 h-24 object-cover rounded-lg border border-gray-200"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{label:"Name",value:i.name||"N/A"},{label:"Address",value:i.address||"N/A"},{label:"Fathers Name",value:i.fatherName||"N/A"},{label:"Mothers Name",value:i.motherName||"N/A"},{label:"Aadhar Number",value:i.aadharNumber||"N/A"},{label:"Phone Number",value:i.phoneNumber||"N/A"},{label:"Branch",value:i.branchName||"N/A"},{label:"Security Money",value:`${(Number(i.securityMoney)||0).toFixed(2)}`},{label:"Registration Number",value:i.registrationNumber||"N/A"},{label:"Status",value:i.status||"N/A"},{label:"Current Room Number",value:l.roomNumber||"N/A"},{label:"Current Stay Start",value:l.stayStartDate?new Date(l.stayStartDate).toLocaleDateString():"N/A"},{label:"Current Stay End",value:l.stayEndDate?new Date(l.stayEndDate).toLocaleDateString():"N/A"},{label:"Current Total Fee",value:`${(l.totalFee||0).toFixed(2)}`},{label:"Current Cash Paid",value:`${(l.cashPaid||0).toFixed(2)}`},{label:"Current Online Paid",value:`${(l.onlinePaid||0).toFixed(2)}`},{label:"Current Due Amount",value:`${(l.dueAmount||0).toFixed(2)}`}].map((A,u)=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:A.label}),a.jsx("span",{className:"text-gray-900",children:A.value})]},u))}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Stay History"}),o.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Fee"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cash Paid"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Online Paid"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Amount"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remark"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(A=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:new Date(A.stayStartDate).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:new Date(A.stayEndDate).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:A.roomNumber||"N/A"}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["",A.totalFee.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["",A.cashPaid.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["",A.onlinePaid.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-600",children:["",A.dueAmount.toFixed(2)]}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:A.remark||"N/A"})]},A.id))})]})}):a.jsx("p",{className:"text-gray-500",children:"No stay history available."})]})]})]})},q1e=()=>{var g,b,C;const{id:e}=GA(),t=HA(),r=Rr(),{data:n,isLoading:s,error:i}=Ll({queryKey:["hostelStudent",e],queryFn:()=>De.getHostelStudent(e),enabled:!!e}),{data:o,isLoading:l,error:A}=Ll({queryKey:["hostelBranches"],queryFn:()=>De.getHostelBranches()}),u=ma({mutationFn:I=>De.updateHostelStudent(e,I),onSuccess:I=>{t.invalidateQueries({queryKey:["hostelStudent",e]}),t.invalidateQueries({queryKey:["hostelStudents"]}),t.invalidateQueries({queryKey:["hostelBranches"]}),je.success("Student updated successfully"),r(`/hostel/students/${e}`)},onError:I=>{je.error(I.message||"Failed to update student")}});if(s||l)return a.jsx("div",{className:"p-6 animate-pulse",children:"Loading..."});if(i)return a.jsxs("div",{className:"p-6 text-red-500",children:["Error loading student data: ",i.message]});if(A)return a.jsxs("div",{className:"p-6 text-red-500",children:["Error loading branches: ",A.message]});if(!n||!n.student)return a.jsx("div",{className:"p-6",children:"Student data not found."});const h=n.student,m=n.history&&n.history.length>0?n.history[0]:{},y={...h,stayStartDate:m.stayStartDate||"",stayEndDate:m.stayEndDate||"",totalFee:((g=m.totalFee)==null?void 0:g.toString())||"",cashPaid:((b=m.cashPaid)==null?void 0:b.toString())||"",onlinePaid:((C=m.onlinePaid)==null?void 0:C.toString())||""};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>r(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(sl,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Hostel Student"}),a.jsx("div",{})," "]}),a.jsx("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-lg",children:a.jsx(C9,{branches:o||[],onSubmit:u.mutate,initialData:y})})]})},B9=B.createContext({});function X1e(e){const t=B.useRef(null);return t.current===null&&(t.current=e()),t.current}const xE=typeof window<"u",Y1e=xE?B.useLayoutEffect:B.useEffect,yE=B.createContext(null),N9=B.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Z1e(e=!0){const t=B.useContext(yE);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=B.useId();B.useEffect(()=>{if(e)return s(i)},[e]);const o=B.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}function wE(e,t){e.indexOf(t)===-1&&e.push(t)}function vE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const DA=(e,t,r)=>r>t?t:r<e?e:r;let i2=()=>{};const UA={},S9=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),E9=e=>/^0[^.\s]+$/u.test(e);function bE(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jo=e=>e,J1e=(e,t)=>r=>t(e(r)),v1=(...e)=>e.reduce(J1e),Rg=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class CE{constructor(){this.subscriptions=[]}add(t){return wE(this.subscriptions,t),()=>vE(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vc=e=>e*1e3,bc=e=>e/1e3;function I9(e,t){return t?e*(1e3/t):0}const F9=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,exe=1e-7,txe=12;function rxe(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=F9(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>exe&&++l<txe);return o}function b1(e,t,r,n){if(e===t&&r===n)return Jo;const s=i=>rxe(i,0,1,e,r);return i=>i===0||i===1?i:F9(s(i),t,n)}const j9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_9=e=>t=>1-e(1-t),T9=b1(.33,1.53,.69,.99),BE=_9(T9),k9=j9(BE),L9=e=>(e*=2)<1?.5*BE(e):.5*(2-Math.pow(2,-10*(e-1))),NE=e=>1-Math.sin(Math.acos(e)),P9=_9(NE),O9=j9(NE),nxe=b1(.42,0,1,1),sxe=b1(0,0,.58,1),R9=b1(.42,0,.58,1),ixe=e=>Array.isArray(e)&&typeof e[0]!="number",D9=e=>Array.isArray(e)&&typeof e[0]=="number",gT={linear:Jo,easeIn:nxe,easeInOut:R9,easeOut:sxe,circIn:NE,circInOut:O9,circOut:P9,backIn:BE,backInOut:k9,backOut:T9,anticipate:L9},axe=e=>typeof e=="string",xT=e=>{if(D9(e)){i2(e.length===4);const[t,r,n,s]=e;return b1(t,r,n,s)}else if(axe(e))return i2(gT[e]!==void 0),gT[e];return e},ty=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],yT={value:null,addProjectionMetrics:null};function oxe(e,t){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},A=0;function u(m){o.has(m)&&(h.schedule(m),e()),A++,m(l)}const h={schedule:(m,y=!1,g=!1)=>{const C=g&&s?r:n;return y&&o.add(m),C.has(m)||C.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(l=m,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&yT.value&&yT.value.frameloop[t].push(A),A=0,r.clear(),s=!1,i&&(i=!1,h.process(m))}};return h}const lxe=40;function U9(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=ty.reduce((F,T)=>(F[T]=oxe(i,t?T:void 0),F),{}),{setup:l,read:A,resolveKeyframes:u,preUpdate:h,update:m,preRender:y,render:g,postRender:b}=o,C=()=>{const F=UA.useManualTiming?s.timestamp:performance.now();r=!1,UA.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(F-s.timestamp,lxe),1)),s.timestamp=F,s.isProcessing=!0,l.process(s),A.process(s),u.process(s),h.process(s),m.process(s),y.process(s),g.process(s),b.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(C))},I=()=>{r=!0,n=!0,s.isProcessing||e(C)};return{schedule:ty.reduce((F,T)=>{const D=o[T];return F[T]=(V,P=!1,U=!1)=>(r||I(),D.schedule(V,P,U)),F},{}),cancel:F=>{for(let T=0;T<ty.length;T++)o[ty[T]].cancel(F)},state:s,steps:o}}const{schedule:hs,cancel:Ed,state:Bi,steps:g5}=U9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jo,!0);let Ky;function cxe(){Ky=void 0}const Ma={now:()=>(Ky===void 0&&Ma.set(Bi.isProcessing||UA.useManualTiming?Bi.timestamp:performance.now()),Ky),set:e=>{Ky=e,queueMicrotask(cxe)}},M9=e=>t=>typeof t=="string"&&t.startsWith(e),SE=M9("--"),Axe=M9("var(--"),EE=e=>Axe(e)?uxe.test(e.split("/*")[0].trim()):!1,uxe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ym={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Dg={...ym,transform:e=>DA(0,1,e)},ry={...ym,default:1},Hp=e=>Math.round(e*1e5)/1e5,IE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dxe(e){return e==null}const hxe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,FE=(e,t)=>r=>!!(typeof r=="string"&&hxe.test(r)&&r.startsWith(e)||t&&!dxe(r)&&Object.prototype.hasOwnProperty.call(r,t)),Q9=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(IE);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},fxe=e=>DA(0,255,e),x5={...ym,transform:e=>Math.round(fxe(e))},hh={test:FE("rgb","red"),parse:Q9("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+x5.transform(e)+", "+x5.transform(t)+", "+x5.transform(r)+", "+Hp(Dg.transform(n))+")"};function mxe(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const gN={test:FE("#"),parse:mxe,transform:hh.transform},C1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Nu=C1("deg"),Cc=C1("%"),pr=C1("px"),pxe=C1("vh"),gxe=C1("vw"),wT={...Cc,parse:e=>Cc.parse(e)/100,transform:e=>Cc.transform(e*100)},Yf={test:FE("hsl","hue"),parse:Q9("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Cc.transform(Hp(t))+", "+Cc.transform(Hp(r))+", "+Hp(Dg.transform(n))+")"},qi={test:e=>hh.test(e)||gN.test(e)||Yf.test(e),parse:e=>hh.test(e)?hh.parse(e):Yf.test(e)?Yf.parse(e):gN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?hh.transform(e):Yf.transform(e)},xxe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yxe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(IE))==null?void 0:t.length)||0)+(((r=e.match(xxe))==null?void 0:r.length)||0)>0}const H9="number",V9="color",wxe="var",vxe="var(",vT="${}",bxe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ug(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(bxe,A=>(qi.test(A)?(n.color.push(i),s.push(V9),r.push(qi.parse(A))):A.startsWith(vxe)?(n.var.push(i),s.push(wxe),r.push(A)):(n.number.push(i),s.push(H9),r.push(parseFloat(A))),++i,vT)).split(vT);return{values:r,split:l,indexes:n,types:s}}function K9(e){return Ug(e).values}function G9(e){const{split:t,types:r}=Ug(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===H9?i+=Hp(s[o]):l===V9?i+=qi.transform(s[o]):i+=s[o]}return i}}const Cxe=e=>typeof e=="number"?0:e;function Bxe(e){const t=K9(e);return G9(e)(t.map(Cxe))}const Id={test:yxe,parse:K9,createTransformer:G9,getAnimatableNone:Bxe};function y5(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Nxe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,A=2*r-l;s=y5(A,l,e+1/3),i=y5(A,l,e),o=y5(A,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function a2(e,t){return r=>r>0?t:e}const As=(e,t,r)=>e+(t-e)*r,w5=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},Sxe=[gN,hh,Yf],Exe=e=>Sxe.find(t=>t.test(e));function bT(e){const t=Exe(e);if(!t)return!1;let r=t.parse(e);return t===Yf&&(r=Nxe(r)),r}const CT=(e,t)=>{const r=bT(e),n=bT(t);if(!r||!n)return a2(e,t);const s={...r};return i=>(s.red=w5(r.red,n.red,i),s.green=w5(r.green,n.green,i),s.blue=w5(r.blue,n.blue,i),s.alpha=As(r.alpha,n.alpha,i),hh.transform(s))},xN=new Set(["none","hidden"]);function Ixe(e,t){return xN.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Fxe(e,t){return r=>As(e,t,r)}function jE(e){return typeof e=="number"?Fxe:typeof e=="string"?EE(e)?a2:qi.test(e)?CT:Txe:Array.isArray(e)?W9:typeof e=="object"?qi.test(e)?CT:jxe:a2}function W9(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>jE(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function jxe(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=jE(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function _xe(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][n[i]],l=e.values[o]??0;r[s]=l,n[i]++}return r}const Txe=(e,t)=>{const r=Id.createTransformer(t),n=Ug(e),s=Ug(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?xN.has(e)&&!s.values.length||xN.has(t)&&!n.values.length?Ixe(e,t):v1(W9(_xe(n,s),s.values),r):a2(e,t)};function z9(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?As(e,t,r):jE(e)(e,t)}const kxe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>hs.update(t,r),stop:()=>Ed(t),now:()=>Bi.isProcessing?Bi.timestamp:Ma.now()}},$9=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(i/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},o2=2e4;function _E(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<o2;)t+=r,n=e.next(t);return t>=o2?1/0:t}function Lxe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(_E(n),o2);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:bc(s)}}const Pxe=5;function q9(e,t,r){const n=Math.max(t-Pxe,0);return I9(r-e(n),t-n)}const Bs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},v5=.001;function Oxe({duration:e=Bs.duration,bounce:t=Bs.bounce,velocity:r=Bs.velocity,mass:n=Bs.mass}){let s,i,o=1-t;o=DA(Bs.minDamping,Bs.maxDamping,o),e=DA(Bs.minDuration,Bs.maxDuration,bc(e)),o<1?(s=u=>{const h=u*o,m=h*e,y=h-r,g=yN(u,o),b=Math.exp(-m);return v5-y/g*b},i=u=>{const m=u*o*e,y=m*r+r,g=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-m),C=yN(Math.pow(u,2),o);return(-s(u)+v5>0?-1:1)*((y-g)*b)/C}):(s=u=>{const h=Math.exp(-u*e),m=(u-r)*e+1;return-v5+h*m},i=u=>{const h=Math.exp(-u*e),m=(r-u)*(e*e);return h*m});const l=5/e,A=Dxe(s,i,l);if(e=vc(e),isNaN(A))return{stiffness:Bs.stiffness,damping:Bs.damping,duration:e};{const u=Math.pow(A,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const Rxe=12;function Dxe(e,t,r){let n=r;for(let s=1;s<Rxe;s++)n=n-e(n)/t(n);return n}function yN(e,t){return e*Math.sqrt(1-t*t)}const Uxe=["duration","bounce"],Mxe=["stiffness","damping","mass"];function BT(e,t){return t.some(r=>e[r]!==void 0)}function Qxe(e){let t={velocity:Bs.velocity,stiffness:Bs.stiffness,damping:Bs.damping,mass:Bs.mass,isResolvedFromDuration:!1,...e};if(!BT(e,Mxe)&&BT(e,Uxe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*DA(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Bs.mass,stiffness:s,damping:i}}else{const r=Oxe(e);t={...t,...r,mass:Bs.mass},t.isResolvedFromDuration=!0}return t}function l2(e=Bs.visualDuration,t=Bs.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:A,damping:u,mass:h,duration:m,velocity:y,isResolvedFromDuration:g}=Qxe({...r,velocity:-bc(r.velocity||0)}),b=y||0,C=u/(2*Math.sqrt(A*h)),I=o-i,v=bc(Math.sqrt(A/h)),N=Math.abs(I)<5;n||(n=N?Bs.restSpeed.granular:Bs.restSpeed.default),s||(s=N?Bs.restDelta.granular:Bs.restDelta.default);let F;if(C<1){const D=yN(v,C);F=V=>{const P=Math.exp(-C*v*V);return o-P*((b+C*v*I)/D*Math.sin(D*V)+I*Math.cos(D*V))}}else if(C===1)F=D=>o-Math.exp(-v*D)*(I+(b+v*I)*D);else{const D=v*Math.sqrt(C*C-1);F=V=>{const P=Math.exp(-C*v*V),U=Math.min(D*V,300);return o-P*((b+C*v*I)*Math.sinh(U)+D*I*Math.cosh(U))/D}}const T={calculatedDuration:g&&m||null,next:D=>{const V=F(D);if(g)l.done=D>=m;else{let P=D===0?b:0;C<1&&(P=D===0?vc(b):q9(F,D,V));const U=Math.abs(P)<=n,k=Math.abs(o-V)<=s;l.done=U&&k}return l.value=l.done?o:V,l},toString:()=>{const D=Math.min(_E(T),o2),V=$9(P=>T.next(D*P).value,D,30);return D+"ms "+V},toTransition:()=>{}};return T}l2.applyToOptions=e=>{const t=Lxe(e,100,l2);return e.ease=t.ease,e.duration=vc(t.duration),e.type="keyframes",e};function wN({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:A,restDelta:u=.5,restSpeed:h}){const m=e[0],y={done:!1,value:m},g=U=>l!==void 0&&U<l||A!==void 0&&U>A,b=U=>l===void 0?A:A===void 0||Math.abs(l-U)<Math.abs(A-U)?l:A;let C=r*t;const I=m+C,v=o===void 0?I:o(I);v!==I&&(C=v-m);const N=U=>-C*Math.exp(-U/n),F=U=>v+N(U),T=U=>{const k=N(U),z=F(U);y.done=Math.abs(k)<=u,y.value=y.done?v:z};let D,V;const P=U=>{g(y.value)&&(D=U,V=l2({keyframes:[y.value,b(y.value)],velocity:q9(F,U,y.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return P(0),{calculatedDuration:null,next:U=>{let k=!1;return!V&&D===void 0&&(k=!0,T(U),P(U)),D!==void 0&&U>=D?V.next(U-D):(!k&&T(U),y)}}}function Hxe(e,t,r){const n=[],s=r||UA.mix||z9,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const A=Array.isArray(t)?t[o]||Jo:t;l=v1(A,l)}n.push(l)}return n}function Vxe(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(i2(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Hxe(t,n,s),A=l.length,u=h=>{if(o&&h<e[0])return t[0];let m=0;if(A>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const y=Rg(e[m],e[m+1],h);return l[m](y)};return r?h=>u(DA(e[0],e[i-1],h)):u}function Kxe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Rg(0,t,n);e.push(As(r,1,s))}}function Gxe(e){const t=[0];return Kxe(t,e.length-1),t}function Wxe(e,t){return e.map(r=>r*t)}function zxe(e,t){return e.map(()=>t||R9).splice(0,e.length-1)}function Vp({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=ixe(n)?n.map(xT):xT(n),i={done:!1,value:t[0]},o=Wxe(r&&r.length===t.length?r:Gxe(t),e),l=Vxe(o,t,{ease:Array.isArray(s)?s:zxe(t,s)});return{calculatedDuration:e,next:A=>(i.value=l(A),i.done=A>=e,i)}}const $xe=e=>e!==null;function TE(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter($xe),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const qxe={decay:wN,inertia:wN,tween:Vp,keyframes:Vp,spring:l2};function X9(e){typeof e.type=="string"&&(e.type=qxe[e.type])}class kE{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Xxe=e=>e/100;class LE extends kE{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:s}=this.options;s&&s.updatedAt!==Ma.now()&&this.tick(Ma.now())}if(this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;X9(t);const{type:r=Vp,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const A=r||Vp;A!==Vp&&typeof l[0]!="number"&&(this.mixKeyframes=v1(Xxe,z9(l[0],l[1])),l=[0,100]);const u=A({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=A({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=_E(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:A}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:h,repeat:m,repeatType:y,repeatDelay:g,type:b,onUpdate:C,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,T=n;if(m){const U=Math.min(this.currentTime,s)/l;let k=Math.floor(U),z=U%1;!z&&U>=1&&(z=1),z===1&&k--,k=Math.min(k,m+1),!!(k%2)&&(y==="reverse"?(z=1-z,g&&(z-=g/l)):y==="mirror"&&(T=o)),F=DA(0,1,z)*l}const D=N?{done:!1,value:h[0]}:T.next(F);i&&(D.value=i(D.value));let{done:V}=D;!N&&A!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return P&&b!==wN&&(D.value=TE(h,this.options,I,this.speed)),C&&C(D.value),P&&this.finish(),D}then(t,r){return this.finished.then(t,r)}get duration(){return bc(this.calculatedDuration)}get time(){return bc(this.currentTime)}set time(t){var r;t=vc(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ma.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=bc(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=kxe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ma.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Yxe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const fh=e=>e*180/Math.PI,vN=e=>{const t=fh(Math.atan2(e[1],e[0]));return bN(t)},Zxe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:vN,rotateZ:vN,skewX:e=>fh(Math.atan(e[1])),skewY:e=>fh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},bN=e=>(e=e%360,e<0&&(e+=360),e),NT=vN,ST=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ET=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Jxe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ST,scaleY:ET,scale:e=>(ST(e)+ET(e))/2,rotateX:e=>bN(fh(Math.atan2(e[6],e[5]))),rotateY:e=>bN(fh(Math.atan2(-e[2],e[0]))),rotateZ:NT,rotate:NT,skewX:e=>fh(Math.atan(e[4])),skewY:e=>fh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function IT(e){return e.includes("scale")?1:0}function CN(e,t){if(!e||e==="none")return IT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=Jxe,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Zxe,s=l}if(!s)return IT(t);const i=n[t],o=s[1].split(",").map(tye);return typeof i=="function"?i(o):o[i]}const eye=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return CN(r,t)};function tye(e){return parseFloat(e.trim())}const wm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vm=new Set(wm),FT=e=>e===ym||e===pr,rye=new Set(["x","y","z"]),nye=wm.filter(e=>!rye.has(e));function sye(e){const t=[];return nye.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Rh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>CN(t,"x"),y:(e,{transform:t})=>CN(t,"y")};Rh.translateX=Rh.x;Rh.translateY=Rh.y;const Dh=new Set;let BN=!1,NN=!1,SN=!1;function Y9(){if(NN){const e=Array.from(Dh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=sye(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}NN=!1,BN=!1,Dh.forEach(e=>e.complete(SN)),Dh.clear()}function Z9(){Dh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(NN=!0)})}function iye(){SN=!0,Z9(),Y9(),SN=!1}class PE{constructor(t,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Dh.add(this),BN||(BN=!0,hs.read(Z9),hs.resolveKeyframes(Y9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}Yxe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Dh.delete(this)}cancel(){this.state==="scheduled"&&(Dh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aye=e=>e.startsWith("--");function oye(e,t,r){aye(t)?e.style.setProperty(t,r):e.style[t]=r}const lye=bE(()=>window.ScrollTimeline!==void 0),cye={};function Aye(e,t){const r=bE(e);return()=>cye[t]??r()}const J9=Aye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,jT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gp([0,.65,.55,1]),circOut:gp([.55,0,1,.45]),backIn:gp([.31,.01,.66,-.59]),backOut:gp([.33,1.53,.69,.99])};function eH(e,t){if(e)return typeof e=="function"?J9()?$9(e,t):"ease-out":D9(e)?gp(e):Array.isArray(e)?e.map(r=>eH(r,t)||jT.easeOut):jT[e]}function uye(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:A}={},u=void 0){const h={[t]:r};A&&(h.offset=A);const m=eH(l,s);Array.isArray(m)&&(h.easing=m);const y={delay:n,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(y.pseudoElement=u),e.animate(h,y)}function tH(e){return typeof e=="function"&&"applyToOptions"in e}function dye({type:e,...t}){return tH(e)&&J9()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class hye extends kE{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:A}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,i2(typeof t.type!="string");const u=dye(t);this.animation=uye(r,n,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=TE(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):oye(r,n,h),this.animation.cancel()}A==null||A(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return bc(Number(t))}get time(){return bc(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=vc(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&lye()?(this.animation.timeline=t,Jo):r(this)}}const rH={anticipate:L9,backInOut:k9,circInOut:O9};function fye(e){return e in rH}function mye(e){typeof e.ease=="string"&&fye(e.ease)&&(e.ease=rH[e.ease])}const _T=10;class pye extends hye{constructor(t){mye(t),X9(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new LE({...o,autoplay:!1}),A=vc(this.finishedTime??this.time);r.setWithVelocity(l.sample(A-_T).value,l.sample(A).value,_T),l.stop()}}const TT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Id.test(e)||e==="0")&&!e.startsWith("url("));function gye(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function xye(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=TT(s,t),l=TT(i,t);return!o||!l?!1:gye(e)||(r==="spring"||tH(r))&&n}const yye=new Set(["opacity","clipPath","filter","transform"]),wye=bE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vye(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:A}=t.owner.getProps();return wye()&&r&&yye.has(r)&&(r!=="transform"||!A)&&!l&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const bye=40;class Cye extends kE{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:A,motionValue:u,element:h,...m}){var b;super(),this.stop=()=>{var C,I;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(I=this.keyframeResolver)==null||I.cancel()},this.createdAt=Ma.now();const y={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:A,motionValue:u,element:h,...m},g=(h==null?void 0:h.KeyframeResolver)||PE;this.keyframeResolver=new g(l,(C,I,v)=>this.onKeyframesResolved(C,I,y,!v),A,u,h),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:A,isHandoff:u,onUpdate:h}=n;this.resolvedAt=Ma.now(),xye(t,i,o,l)||((UA.instantAnimations||!A)&&(h==null||h(TE(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>bye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!u&&vye(y)?new pye({...y,element:y.motionValue.owner.current}):new LE(y);g.finished.then(()=>this.notifyFinished()).catch(Jo),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),iye()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Bye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nye(e){const t=Bye.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function nH(e,t,r=1){const[n,s]=Nye(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return S9(o)?parseFloat(o):o}return EE(s)?nH(s,t,r+1):s}function OE(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const sH=new Set(["width","height","top","left","right","bottom",...wm]),Sye={test:e=>e==="auto",parse:e=>e},iH=e=>t=>t.test(e),aH=[ym,pr,Cc,Nu,gxe,pxe,Sye],kT=e=>aH.find(iH(e));function Eye(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||E9(e):!0}const Iye=new Set(["brightness","contrast","saturate","opacity"]);function Fye(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(IE)||[];if(!n)return e;const s=r.replace(n,"");let i=Iye.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const jye=/\b([a-z-]*)\(.*?\)/gu,EN={...Id,getAnimatableNone:e=>{const t=e.match(jye);return t?t.map(Fye).join(" "):e}},LT={...ym,transform:Math.round},_ye={rotate:Nu,rotateX:Nu,rotateY:Nu,rotateZ:Nu,scale:ry,scaleX:ry,scaleY:ry,scaleZ:ry,skew:Nu,skewX:Nu,skewY:Nu,distance:pr,translateX:pr,translateY:pr,translateZ:pr,x:pr,y:pr,z:pr,perspective:pr,transformPerspective:pr,opacity:Dg,originX:wT,originY:wT,originZ:pr},RE={borderWidth:pr,borderTopWidth:pr,borderRightWidth:pr,borderBottomWidth:pr,borderLeftWidth:pr,borderRadius:pr,radius:pr,borderTopLeftRadius:pr,borderTopRightRadius:pr,borderBottomRightRadius:pr,borderBottomLeftRadius:pr,width:pr,maxWidth:pr,height:pr,maxHeight:pr,top:pr,right:pr,bottom:pr,left:pr,padding:pr,paddingTop:pr,paddingRight:pr,paddingBottom:pr,paddingLeft:pr,margin:pr,marginTop:pr,marginRight:pr,marginBottom:pr,marginLeft:pr,backgroundPositionX:pr,backgroundPositionY:pr,..._ye,zIndex:LT,fillOpacity:Dg,strokeOpacity:Dg,numOctaves:LT},Tye={...RE,color:qi,backgroundColor:qi,outlineColor:qi,fill:qi,stroke:qi,borderColor:qi,borderTopColor:qi,borderRightColor:qi,borderBottomColor:qi,borderLeftColor:qi,filter:EN,WebkitFilter:EN},oH=e=>Tye[e];function lH(e,t){let r=oH(e);return r!==EN&&(r=Id),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const kye=new Set(["auto","none","0"]);function Lye(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!kye.has(i)&&Ug(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=lH(r,s)}class Pye extends PE{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let A=0;A<t.length;A++){let u=t[A];if(typeof u=="string"&&(u=u.trim(),EE(u))){const h=nH(u,r.current);h!==void 0&&(t[A]=h),A===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!sH.has(n)||t.length!==2)return;const[s,i]=t,o=kT(s),l=kT(i);if(o!==l)if(FT(o)&&FT(l))for(let A=0;A<t.length;A++){const u=t[A];typeof u=="string"&&(t[A]=parseFloat(u))}else Rh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||Eye(t[s]))&&n.push(s);n.length&&Lye(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Rh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Rh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([A,u])=>{t.getValue(A).set(u)}),this.resolveNoneKeyframes()}}function Oye(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const PT=30,Rye=e=>!isNaN(parseFloat(e));class Dye{constructor(t,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{var o,l;const i=Ma.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const A of this.dependents)A.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ma.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Rye(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new CE);const n=this.events[t].add(r);return t==="change"?()=>{n(),hs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ma.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>PT)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,PT);return I9(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function em(e,t){return new Dye(e,t)}const cH=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:DE,cancel:T4e}=U9(queueMicrotask,!1),wl={x:!1,y:!1};function AH(){return wl.x||wl.y}function Uye(e){return e==="x"||e==="y"?wl[e]?null:(wl[e]=!0,()=>{wl[e]=!1}):wl.x||wl.y?null:(wl.x=wl.y=!0,()=>{wl.x=wl.y=!1})}function uH(e,t){const r=Oye(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function OT(e){return!(e.pointerType==="touch"||AH())}function Mye(e,t,r={}){const[n,s,i]=uH(e,r),o=l=>{if(!OT(l))return;const{target:A}=l,u=t(A,l);if(typeof u!="function"||!A)return;const h=m=>{OT(m)&&(u(m),A.removeEventListener("pointerleave",h))};A.addEventListener("pointerleave",h,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const dH=(e,t)=>t?e===t?!0:dH(e,t.parentElement):!1,UE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Qye=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Hye(e){return Qye.has(e.tagName)||e.tabIndex!==-1}const Gy=new WeakSet;function RT(e){return t=>{t.key==="Enter"&&e(t)}}function b5(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Vye=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=RT(()=>{if(Gy.has(r))return;b5(r,"down");const s=RT(()=>{b5(r,"up")}),i=()=>b5(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function DT(e){return UE(e)&&!AH()}function Kye(e,t,r={}){const[n,s,i]=uH(e,r),o=l=>{const A=l.currentTarget;if(!DT(l))return;Gy.add(A);const u=t(A,l),h=(g,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Gy.has(A)&&Gy.delete(A),DT(g)&&typeof u=="function"&&u(g,{success:b})},m=g=>{h(g,A===window||A===document||r.useGlobalTarget||dH(A,g.target))},y=g=>{h(g,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",y,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l instanceof HTMLElement&&(l.addEventListener("focus",u=>Vye(u,s)),!Hye(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}const Gye=[...aH,qi,Id],Wye=e=>Gye.find(iH(e)),hH=B.createContext({strict:!1}),UT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tm={};for(const e in UT)tm[e]={isEnabled:t=>UT[e].some(r=>!!t[r])};function zye(e){for(const t in e)tm[t]={...tm[t],...e[t]}}const $ye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function c2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$ye.has(e)}let fH=e=>!c2(e);function qye(e){e&&(fH=t=>t.startsWith("on")?!c2(t):e(t))}try{qye(require("@emotion/is-prop-valid").default)}catch{}function Xye(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(fH(s)||r===!0&&c2(s)||!t&&!c2(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function Yye(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Rv=B.createContext({});function Dv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Mg(e){return typeof e=="string"||Array.isArray(e)}const ME=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QE=["initial",...ME];function Uv(e){return Dv(e.animate)||QE.some(t=>Mg(e[t]))}function mH(e){return!!(Uv(e)||e.variants)}function Zye(e,t){if(Uv(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Mg(r)?r:void 0,animate:Mg(n)?n:void 0}}return e.inherit!==!1?t:{}}function Jye(e){const{initial:t,animate:r}=Zye(e,B.useContext(Rv));return B.useMemo(()=>({initial:t,animate:r}),[MT(t),MT(r)])}function MT(e){return Array.isArray(e)?e.join(" "):e}const ewe=Symbol.for("motionComponentSymbol");function Zf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function twe(e,t,r){return B.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Zf(r)&&(r.current=n))},[t])}const HE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rwe="framerAppearId",pH="data-"+HE(rwe),gH=B.createContext({});function nwe(e,t,r,n,s){var C,I;const{visualElement:i}=B.useContext(Rv),o=B.useContext(hH),l=B.useContext(yE),A=B.useContext(N9).reducedMotion,u=B.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:A}));const h=u.current,m=B.useContext(gH);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&swe(u.current,r,s,m);const y=B.useRef(!1);B.useInsertionEffect(()=>{h&&y.current&&h.update(r,l)});const g=r[pH],b=B.useRef(!!g&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,g))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,g)));return Y1e(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),DE.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),B.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,g)}),b.current=!1))}),h}function swe(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:A,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:xH(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Zf(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:A,layoutRoot:u})}function xH(e){if(e)return e.options.allowProjection!==!1?e.projection:xH(e.parent)}function iwe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&zye(e);function i(l,A){let u;const h={...B.useContext(N9),...l,layoutId:awe(l)},{isStatic:m}=h,y=Jye(l),g=n(l,m);if(!m&&xE){owe();const b=lwe(h);u=b.MeasureLayout,y.visualElement=nwe(s,g,h,t,b.ProjectionNode)}return a.jsxs(Rv.Provider,{value:y,children:[u&&y.visualElement?a.jsx(u,{visualElement:y.visualElement,...h}):null,r(s,l,twe(g,y.visualElement,A),g,m,y.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=B.forwardRef(i);return o[ewe]=s,o}function awe({layoutId:e}){const t=B.useContext(B9).id;return t&&e!==void 0?t+"-"+e:e}function owe(e,t){B.useContext(hH).strict}function lwe(e){const{drag:t,layout:r}=tm;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Qg={};function cwe(e){for(const t in e)Qg[t]=e[t],SE(t)&&(Qg[t].isCSSVariable=!0)}function yH(e,{layout:t,layoutId:r}){return vm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Qg[e]||e==="opacity")}const Ji=e=>!!(e&&e.getVelocity),Awe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uwe=wm.length;function dwe(e,t,r){let n="",s=!0;for(let i=0;i<uwe;i++){const o=wm[i],l=e[o];if(l===void 0)continue;let A=!0;if(typeof l=="number"?A=l===(o.startsWith("scale")?1:0):A=parseFloat(l)===0,!A||r){const u=cH(l,RE[o]);if(!A){s=!1;const h=Awe[o]||o;n+=`${h}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function VE(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const A in t){const u=t[A];if(vm.has(A)){o=!0;continue}else if(SE(A)){s[A]=u;continue}else{const h=cH(u,RE[A]);A.startsWith("origin")?(l=!0,i[A]=h):n[A]=h}}if(t.transform||(o||r?n.transform=dwe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:A="50%",originY:u="50%",originZ:h=0}=i;n.transformOrigin=`${A} ${u} ${h}`}}const KE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wH(e,t,r){for(const n in t)!Ji(t[n])&&!yH(n,r)&&(e[n]=t[n])}function hwe({transformTemplate:e},t){return B.useMemo(()=>{const r=KE();return VE(r,t,e),Object.assign({},r.vars,r.style)},[t])}function fwe(e,t){const r=e.style||{},n={};return wH(n,r,e),Object.assign(n,hwe(e,t)),n}function mwe(e,t){const r={},n=fwe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const pwe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function GE(e){return typeof e!="string"||e.includes("-")?!1:!!(pwe.indexOf(e)>-1||/[A-Z]/u.test(e))}const gwe={offset:"stroke-dashoffset",array:"stroke-dasharray"},xwe={offset:"strokeDashoffset",array:"strokeDasharray"};function ywe(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?gwe:xwe;e[i.offset]=pr.transform(-n);const o=pr.transform(t),l=pr.transform(r);e[i.array]=`${o} ${l}`}function vH(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},A,u,h){if(VE(e,l,u),A){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y}=e;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),s!==void 0&&ywe(m,s,i,o,!1)}const bH=()=>({...KE(),attrs:{}}),CH=e=>typeof e=="string"&&e.toLowerCase()==="svg";function wwe(e,t,r,n){const s=B.useMemo(()=>{const i=bH();return vH(i,t,CH(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};wH(i,e.style,e),s.style={...i,...s.style}}return s}function vwe(e=!1){return(r,n,s,{latestValues:i},o)=>{const A=(GE(r)?wwe:mwe)(n,i,o,r),u=Xye(n,typeof r=="string",e),h=r!==B.Fragment?{...u,...A,ref:s}:{},{children:m}=n,y=B.useMemo(()=>Ji(m)?m.get():m,[m]);return B.createElement(r,{...h,children:y})}}function QT(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function WE(e,t,r,n){if(typeof t=="function"){const[s,i]=QT(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=QT(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function Wy(e){return Ji(e)?e.get():e}function bwe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:Cwe(r,n,s,e),renderState:t()}}const BH=e=>(t,r)=>{const n=B.useContext(Rv),s=B.useContext(yE),i=()=>bwe(e,t,n,s);return r?i():X1e(i)};function Cwe(e,t,r,n){const s={},i=n(e,{});for(const y in i)s[y]=Wy(i[y]);let{initial:o,animate:l}=e;const A=Uv(e),u=mH(e);t&&u&&!A&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Dv(m)){const y=Array.isArray(m)?m:[m];for(let g=0;g<y.length;g++){const b=WE(e,y[g]);if(b){const{transitionEnd:C,transition:I,...v}=b;for(const N in v){let F=v[N];if(Array.isArray(F)){const T=h?F.length-1:0;F=F[T]}F!==null&&(s[N]=F)}for(const N in C)s[N]=C[N]}}}return s}function zE(e,t,r){var i;const{style:n}=e,s={};for(const o in n)(Ji(n[o])||t.style&&Ji(t.style[o])||yH(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const Bwe={useVisualState:BH({scrapeMotionValuesFromProps:zE,createRenderState:KE})};function NH(e,t,r){const n=zE(e,t,r);for(const s in e)if(Ji(e[s])||Ji(t[s])){const i=wm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const Nwe={useVisualState:BH({scrapeMotionValuesFromProps:NH,createRenderState:bH})};function Swe(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...GE(n)?Nwe:Bwe,preloadedFeatures:e,useRender:vwe(s),createVisualElement:t,Component:n};return iwe(o)}}function Hg(e,t,r){const n=e.getProps();return WE(n,t,r!==void 0?r:n.custom,e)}const IN=e=>Array.isArray(e);function Ewe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,em(r))}function Iwe(e){return IN(e)?e[e.length-1]||0:e}function Fwe(e,t){const r=Hg(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=Iwe(i[o]);Ewe(e,o,l)}}function jwe(e){return!!(Ji(e)&&e.add)}function FN(e,t){const r=e.getValue("willChange");if(jwe(r))return r.add(t);if(!r&&UA.WillChange){const n=new UA.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function SH(e){return e.props[pH]}const _we=e=>e!==null;function Twe(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(_we),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const kwe={type:"spring",stiffness:500,damping:25,restSpeed:10},Lwe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Pwe={type:"keyframes",duration:.8},Owe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rwe=(e,{keyframes:t})=>t.length>2?Pwe:vm.has(e)?e.startsWith("scale")?Lwe(t[1]):kwe:Owe;function Dwe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:A,elapsed:u,...h}){return!!Object.keys(h).length}const $E=(e,t,r,n={},s,i)=>o=>{const l=OE(n,e)||{},A=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-vc(A);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:y=>{t.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};Dwe(l)||Object.assign(h,Rwe(e,h)),h.duration&&(h.duration=vc(h.duration)),h.repeatDelay&&(h.repeatDelay=vc(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(m=!0)),(UA.instantAnimations||UA.skipAnimations)&&(m=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&t.get()!==void 0){const y=Twe(h.keyframes,l);if(y!==void 0){hs.update(()=>{h.onUpdate(y),h.onComplete()});return}}return l.isSync?new LE(h):new Cye(h)};function Uwe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function EH(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const A=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const m=e.getValue(h,e.latestValues[h]??null),y=l[h];if(y===void 0||u&&Uwe(u,h))continue;const g={delay:r,...OE(i||{},h)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===b&&!g.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const v=SH(e);if(v){const N=window.MotionHandoffAnimation(v,h,hs);N!==null&&(g.startTime=N,C=!0)}}FN(e,h),m.start($E(h,m,y,e.shouldReduceMotion&&sH.has(h)?{type:!1}:g,e,C));const I=m.animation;I&&A.push(I)}return o&&Promise.all(A).then(()=>{hs.update(()=>{o&&Fwe(e,o)})}),A}function jN(e,t,r={}){var A;const n=Hg(e,t,r.type==="exit"?(A=e.presenceContext)==null?void 0:A.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(EH(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:y}=s;return Mwe(e,t,h+u,m,y,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function Mwe(e,t,r=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,A=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(Qwe).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(jN(u,t,{...i,delay:r+A(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Qwe(e,t){return e.sortNodePosition(t)}function Hwe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>jN(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=jN(e,t,r);else{const s=typeof t=="function"?Hg(e,t,r.custom):t;n=Promise.all(EH(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function IH(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Vwe=QE.length;function FH(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?FH(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Vwe;r++){const n=QE[r],s=e.props[n];(Mg(s)||s===!1)&&(t[n]=s)}return t}const Kwe=[...ME].reverse(),Gwe=ME.length;function Wwe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Hwe(e,r,n)))}function zwe(e){let t=Wwe(e),r=HT(),n=!0;const s=A=>(u,h)=>{var y;const m=Hg(e,h,A==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);if(m){const{transition:g,transitionEnd:b,...C}=m;u={...u,...C,...b}}return u};function i(A){t=A(e)}function o(A){const{props:u}=e,h=FH(e.parent)||{},m=[],y=new Set;let g={},b=1/0;for(let I=0;I<Gwe;I++){const v=Kwe[I],N=r[v],F=u[v]!==void 0?u[v]:h[v],T=Mg(F),D=v===A?N.isActive:null;D===!1&&(b=I);let V=F===h[v]&&F!==u[v]&&T;if(V&&n&&e.manuallyAnimateOnMount&&(V=!1),N.protectedKeys={...g},!N.isActive&&D===null||!F&&!N.prevProp||Dv(F)||typeof F=="boolean")continue;const P=$we(N.prevProp,F);let U=P||v===A&&N.isActive&&!V&&T||I>b&&T,k=!1;const z=Array.isArray(F)?F:[F];let R=z.reduce(s(v),{});D===!1&&(R={});const{prevResolvedValues:H={}}=N,J={...H,...R},ne=K=>{U=!0,y.has(K)&&(k=!0,y.delete(K)),N.needsAnimating[K]=!0;const q=e.getValue(K);q&&(q.liveStyle=!1)};for(const K in J){const q=R[K],X=H[K];if(g.hasOwnProperty(K))continue;let fe=!1;IN(q)&&IN(X)?fe=!IH(q,X):fe=q!==X,fe?q!=null?ne(K):y.add(K):q!==void 0&&y.has(K)?ne(K):N.protectedKeys[K]=!0}N.prevProp=F,N.prevResolvedValues=R,N.isActive&&(g={...g,...R}),n&&e.blockInitialAnimation&&(U=!1),U&&(!(V&&P)||k)&&m.push(...z.map(K=>({animation:K,options:{type:v}})))}if(y.size){const I={};if(typeof u.initial!="boolean"){const v=Hg(e,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(I.transition=v.transition)}y.forEach(v=>{const N=e.getBaseTarget(v),F=e.getValue(v);F&&(F.liveStyle=!0),I[v]=N??null}),m.push({animation:I})}let C=!!m.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(C=!1),n=!1,C?t(m):Promise.resolve()}function l(A,u){var m;if(r[A].isActive===u)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(y=>{var g;return(g=y.animationState)==null?void 0:g.setActive(A,u)}),r[A].isActive=u;const h=o(A);for(const y in r)r[y].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=HT(),n=!0}}}function $we(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IH(t,e):!1}function $d(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HT(){return{animate:$d(!0),whileInView:$d(),whileHover:$d(),whileTap:$d(),whileDrag:$d(),whileFocus:$d(),exit:$d()}}class Dd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class qwe extends Dd{constructor(t){super(t),t.animationState||(t.animationState=zwe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Dv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Xwe=0;class Ywe extends Dd{constructor(){super(...arguments),this.id=Xwe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Zwe={animation:{Feature:qwe},exit:{Feature:Ywe}};function Vg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function B1(e){return{point:{x:e.pageX,y:e.pageY}}}const Jwe=e=>t=>UE(t)&&e(t,B1(t));function Kp(e,t,r,n){return Vg(e,t,Jwe(r),n)}function jH({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function e2e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function t2e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const _H=1e-4,r2e=1-_H,n2e=1+_H,TH=.01,s2e=0-TH,i2e=0+TH;function ga(e){return e.max-e.min}function a2e(e,t,r){return Math.abs(e-t)<=r}function VT(e,t,r,n=.5){e.origin=n,e.originPoint=As(t.min,t.max,e.origin),e.scale=ga(r)/ga(t),e.translate=As(r.min,r.max,e.origin)-e.originPoint,(e.scale>=r2e&&e.scale<=n2e||isNaN(e.scale))&&(e.scale=1),(e.translate>=s2e&&e.translate<=i2e||isNaN(e.translate))&&(e.translate=0)}function Gp(e,t,r,n){VT(e.x,t.x,r.x,n?n.originX:void 0),VT(e.y,t.y,r.y,n?n.originY:void 0)}function KT(e,t,r){e.min=r.min+t.min,e.max=e.min+ga(t)}function o2e(e,t,r){KT(e.x,t.x,r.x),KT(e.y,t.y,r.y)}function GT(e,t,r){e.min=t.min-r.min,e.max=e.min+ga(t)}function Wp(e,t,r){GT(e.x,t.x,r.x),GT(e.y,t.y,r.y)}const WT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jf=()=>({x:WT(),y:WT()}),zT=()=>({min:0,max:0}),Ts=()=>({x:zT(),y:zT()});function Qo(e){return[e("x"),e("y")]}function C5(e){return e===void 0||e===1}function _N({scale:e,scaleX:t,scaleY:r}){return!C5(e)||!C5(t)||!C5(r)}function Jd(e){return _N(e)||kH(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kH(e){return $T(e.x)||$T(e.y)}function $T(e){return e&&e!=="0%"}function A2(e,t,r){const n=e-r,s=t*n;return r+s}function qT(e,t,r,n,s){return s!==void 0&&(e=A2(e,s,n)),A2(e,r,n)+t}function TN(e,t=0,r=1,n,s){e.min=qT(e.min,t,r,n,s),e.max=qT(e.max,t,r,n,s)}function LH(e,{x:t,y:r}){TN(e.x,t.translate,t.scale,t.originPoint),TN(e.y,r.translate,r.scale,r.originPoint)}const XT=.999999999999,YT=1.0000000000001;function l2e(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:A}=i.options;A&&A.props.style&&A.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&t0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,LH(e,o)),n&&Jd(i.latestValues)&&t0(e,i.latestValues))}t.x<YT&&t.x>XT&&(t.x=1),t.y<YT&&t.y>XT&&(t.y=1)}function e0(e,t){e.min=e.min+t,e.max=e.max+t}function ZT(e,t,r,n,s=.5){const i=As(e.min,e.max,s);TN(e,t,r,i,n)}function t0(e,t){ZT(e.x,t.x,t.scaleX,t.scale,t.originX),ZT(e.y,t.y,t.scaleY,t.scale,t.originY)}function PH(e,t){return jH(t2e(e.getBoundingClientRect(),t))}function c2e(e,t,r){const n=PH(e,r),{scroll:s}=t;return s&&(e0(n.x,s.offset.x),e0(n.y,s.offset.y)),n}const OH=({current:e})=>e?e.ownerDocument.defaultView:null,JT=(e,t)=>Math.abs(e-t);function A2e(e,t){const r=JT(e.x,t.x),n=JT(e.y,t.y);return Math.sqrt(r**2+n**2)}class RH{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=N5(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,g=A2e(m.offset,{x:0,y:0})>=3;if(!y&&!g)return;const{point:b}=m,{timestamp:C}=Bi;this.history.push({...b,timestamp:C});const{onStart:I,onMove:v}=this.handlers;y||(I&&I(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=B5(y,this.transformPagePoint),hs.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=N5(m.type==="pointercancel"?this.lastMoveEventInfo:B5(y,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,I),b&&b(m,I)},!UE(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=B1(t),l=B5(o,this.transformPagePoint),{point:A}=l,{timestamp:u}=Bi;this.history=[{...A,timestamp:u}];const{onSessionStart:h}=r;h&&h(t,N5(l,this.history)),this.removeListeners=v1(Kp(this.contextWindow,"pointermove",this.handlePointerMove),Kp(this.contextWindow,"pointerup",this.handlePointerUp),Kp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ed(this.updatePoint)}}function B5(e,t){return t?{point:t(e.point)}:e}function ek(e,t){return{x:e.x-t.x,y:e.y-t.y}}function N5({point:e},t){return{point:e,delta:ek(e,DH(t)),offset:ek(e,u2e(t)),velocity:d2e(t,.1)}}function u2e(e){return e[0]}function DH(e){return e[e.length-1]}function d2e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=DH(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>vc(t)));)r--;if(!n)return{x:0,y:0};const i=bc(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function h2e(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?As(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?As(r,e,n.max):Math.min(e,r)),e}function tk(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function f2e(e,{top:t,left:r,bottom:n,right:s}){return{x:tk(e.x,r,s),y:tk(e.y,t,n)}}function rk(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function m2e(e,t){return{x:rk(e.x,t.x),y:rk(e.y,t.y)}}function p2e(e,t){let r=.5;const n=ga(e),s=ga(t);return s>n?r=Rg(t.min,t.max-n,e.min):n>s&&(r=Rg(e.min,e.max-s,t.min)),DA(0,1,r)}function g2e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const kN=.35;function x2e(e=kN){return e===!1?e=0:e===!0&&(e=kN),{x:nk(e,"left","right"),y:nk(e,"top","bottom")}}function nk(e,t,r){return{min:sk(e,t),max:sk(e,r)}}function sk(e,t){return typeof e=="number"?e:e[t]||0}const y2e=new WeakMap;class w2e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ts(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(B1(h).point)},i=(h,m)=>{const{drag:y,dragPropagation:g,onDragStart:b}=this.getProps();if(y&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Uye(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qo(I=>{let v=this.getAxisMotionValue(I).get()||0;if(Cc.test(v)){const{projection:N}=this.visualElement;if(N&&N.layout){const F=N.layout.layoutBox[I];F&&(v=ga(F)*(parseFloat(v)/100))}}this.originPoint[I]=v}),b&&hs.postRender(()=>b(h,m)),FN(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},o=(h,m)=>{const{dragPropagation:y,dragDirectionLock:g,onDirectionLock:b,onDrag:C}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:I}=m;if(g&&this.currentDirection===null){this.currentDirection=v2e(I),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,I),this.updateAxis("y",m.point,I),this.visualElement.render(),C&&C(h,m)},l=(h,m)=>this.stop(h,m),A=()=>Qo(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new RH(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:A},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:OH(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&hs.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!ny(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=h2e(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Zf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=f2e(n.layoutBox,t):this.constraints=!1,this.elastic=x2e(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Qo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=g2e(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Zf(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=c2e(n,s.root,this.visualElement.getTransformPagePoint());let o=m2e(s.layout.layoutBox,i);if(r){const l=r(e2e(o));this.hasMutatedConstraints=!!l,l&&(o=jH(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),A=this.constraints||{},u=Qo(h=>{if(!ny(h,r,this.currentDirection))return;let m=A&&A[h]||{};o&&(m={min:0,max:0});const y=s?200:1e6,g=s?40:1e7,b={type:"inertia",velocity:n?t[h]:0,bounceStiffness:y,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return FN(this.visualElement,t),n.start($E(t,n,0,r,this.visualElement,!1))}stopAnimation(){Qo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Qo(r=>{const{drag:n}=this.getProps();if(!ny(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-As(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Zf(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qo(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const A=l.get();s[o]=p2e({min:A,max:A},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Qo(o=>{if(!ny(o,t,null))return;const l=this.getAxisMotionValue(o),{min:A,max:u}=this.constraints[o];l.set(As(A,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;y2e.set(this.visualElement,this);const t=this.visualElement.current,r=Kp(t,"pointerdown",A=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(A)}),n=()=>{const{dragConstraints:A}=this.getProps();Zf(A)&&A.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),hs.read(n);const o=Vg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:A,hasLayoutChanged:u})=>{this.isDragging&&u&&(Qo(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=A[h].translate,m.set(m.get()+A[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=kN,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function ny(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function v2e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class b2e extends Dd{constructor(t){super(t),this.removeGroupControls=Jo,this.removeListeners=Jo,this.controls=new w2e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jo}unmount(){this.removeGroupControls(),this.removeListeners()}}const ik=e=>(t,r)=>{e&&hs.postRender(()=>e(t,r))};class C2e extends Dd{constructor(){super(...arguments),this.removePointerDownListener=Jo}onPointerDown(t){this.session=new RH(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OH(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:ik(t),onStart:ik(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&hs.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Kp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ak(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pr.test(e))e=parseFloat(e);else return e;const r=ak(e,t.target.x),n=ak(e,t.target.y);return`${r}% ${n}%`}},B2e={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Id.parse(e);if(s.length>5)return n;const i=Id.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,A=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=A;const u=As(l,A,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class N2e extends B.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;cwe(S2e),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||hs.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),DE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function UH(e){const[t,r]=Z1e(),n=B.useContext(B9);return a.jsx(N2e,{...e,layoutGroup:n,switchLayoutGroup:B.useContext(gH),isPresent:t,safeToRemove:r})}const S2e={borderRadius:{...Zm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zm,borderTopRightRadius:Zm,borderBottomLeftRadius:Zm,borderBottomRightRadius:Zm,boxShadow:B2e};function E2e(e,t,r){const n=Ji(e)?e:em(e);return n.start($E("",n,t,r)),n.animation}function I2e(e){return e instanceof SVGElement&&e.tagName!=="svg"}const F2e=(e,t)=>e.depth-t.depth;class j2e{constructor(){this.children=[],this.isDirty=!1}add(t){wE(this.children,t),this.isDirty=!0}remove(t){vE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(F2e),this.isDirty=!1,this.children.forEach(t)}}function _2e(e,t){const r=Ma.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Ed(n),e(i-t))};return hs.setup(n,!0),()=>Ed(n)}const MH=["TopLeft","TopRight","BottomLeft","BottomRight"],T2e=MH.length,ok=e=>typeof e=="string"?parseFloat(e):e,lk=e=>typeof e=="number"||pr.test(e);function k2e(e,t,r,n,s,i){s?(e.opacity=As(0,r.opacity??1,L2e(n)),e.opacityExit=As(t.opacity??1,0,P2e(n))):i&&(e.opacity=As(t.opacity??1,r.opacity??1,n));for(let o=0;o<T2e;o++){const l=`border${MH[o]}Radius`;let A=ck(t,l),u=ck(r,l);if(A===void 0&&u===void 0)continue;A||(A=0),u||(u=0),A===0||u===0||lk(A)===lk(u)?(e[l]=Math.max(As(ok(A),ok(u),n),0),(Cc.test(u)||Cc.test(A))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=As(t.rotate||0,r.rotate||0,n))}function ck(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const L2e=QH(0,.5,P9),P2e=QH(.5,.95,Jo);function QH(e,t,r){return n=>n<e?0:n>t?1:r(Rg(e,t,n))}function Ak(e,t){e.min=t.min,e.max=t.max}function Uo(e,t){Ak(e.x,t.x),Ak(e.y,t.y)}function uk(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function dk(e,t,r,n,s){return e-=t,e=A2(e,1/r,n),s!==void 0&&(e=A2(e,1/s,n)),e}function O2e(e,t=0,r=1,n=.5,s,i=e,o=e){if(Cc.test(t)&&(t=parseFloat(t),t=As(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=As(i.min,i.max,n);e===i&&(l-=t),e.min=dk(e.min,t,r,l,s),e.max=dk(e.max,t,r,l,s)}function hk(e,t,[r,n,s],i,o){O2e(e,t[r],t[n],t[s],t.scale,i,o)}const R2e=["x","scaleX","originX"],D2e=["y","scaleY","originY"];function fk(e,t,r,n){hk(e.x,t,R2e,r?r.x:void 0,n?n.x:void 0),hk(e.y,t,D2e,r?r.y:void 0,n?n.y:void 0)}function mk(e){return e.translate===0&&e.scale===1}function HH(e){return mk(e.x)&&mk(e.y)}function pk(e,t){return e.min===t.min&&e.max===t.max}function U2e(e,t){return pk(e.x,t.x)&&pk(e.y,t.y)}function gk(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function VH(e,t){return gk(e.x,t.x)&&gk(e.y,t.y)}function xk(e){return ga(e.x)/ga(e.y)}function yk(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class M2e{constructor(){this.members=[]}add(t){wE(this.members,t),t.scheduleRender()}remove(t){if(vE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Q2e(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:m,rotateY:y,skewX:g,skewY:b}=r;u&&(n=`perspective(${u}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),y&&(n+=`rotateY(${y}deg) `),g&&(n+=`skewX(${g}deg) `),b&&(n+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,A=e.y.scale*t.y;return(l!==1||A!==1)&&(n+=`scale(${l}, ${A})`),n||"none"}const S5=["","X","Y","Z"],H2e={visibility:"hidden"},V2e=1e3;let K2e=0;function E5(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function KH(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=SH(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",hs,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&KH(n)}function GH({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=K2e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(z2e),this.nodes.forEach(Z2e),this.nodes.forEach(J2e),this.nodes.forEach($2e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let A=0;A<this.path.length;A++)this.path[A].shouldResetTransform=!0;this.root===this&&(this.nodes=new j2e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new CE),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const A=this.eventHandlers.get(o);A&&A.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=I2e(o),this.instance=o;const{layoutId:l,layout:A,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(A||l)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=_2e(m,250),zy.hasAnimatedSinceResize&&(zy.hasAnimatedSinceResize=!1,this.nodes.forEach(vk))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||A)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||sve,{onLayoutAnimationStart:C,onLayoutAnimationComplete:I}=u.getProps(),v=!this.targetLayout||!VH(this.targetLayout,g),N=!m&&y;if(this.options.layoutRoot||this.resumeFrom||N||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,N);const F={...OE(b,"layout"),onPlay:C,onComplete:I};(u.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else m||vk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ed(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eve),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:A}=this.options;if(l===void 0&&!A)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wk);return}this.isUpdating||this.nodes.forEach(X2e),this.isUpdating=!1,this.nodes.forEach(Y2e),this.nodes.forEach(G2e),this.nodes.forEach(W2e),this.clearAllSnapshots();const l=Ma.now();Bi.delta=DA(0,1e3/60,l-Bi.timestamp),Bi.timestamp=l,Bi.isProcessing=!0,g5.update.process(Bi),g5.preRender.process(Bi),g5.render.process(Bi),Bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,DE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q2e),this.sharedNodes.forEach(tve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ga(this.snapshot.measuredBox.x)&&!ga(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let A=0;A<this.path.length;A++)this.path[A].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ts(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const A=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:A,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:A}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!HH(this.projectionDelta),A=this.getTransformTemplate(),u=A?A(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Jd(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let A=this.removeElementScroll(l);return o&&(A=this.removeTransform(A)),ive(A),{animationId:this.root.animationId,measuredBox:l,layoutBox:A,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ts();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(ave))){const{scroll:h}=this.root;h&&(e0(l.x,h.offset.x),e0(l.y,h.offset.y))}return l}removeElementScroll(o){var A;const l=Ts();if(Uo(l,o),(A=this.scroll)!=null&&A.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:m,options:y}=h;h!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&Uo(l,o),e0(l.x,m.offset.x),e0(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const A=Ts();Uo(A,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&t0(A,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Jd(h.latestValues)&&t0(A,h.latestValues)}return Jd(this.latestValues)&&t0(A,this.latestValues),A}removeTransform(o){const l=Ts();Uo(l,o);for(let A=0;A<this.path.length;A++){const u=this.path[A];if(!u.instance||!Jd(u.latestValues))continue;_N(u.latestValues)&&u.updateSnapshot();const h=Ts(),m=u.measurePageBox();Uo(h,m),fk(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Jd(this.latestValues)&&fk(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var y;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const A=!!this.resumingFrom||this!==l;if(!(o||A&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Bi.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ts(),this.relativeTargetOrigin=Ts(),Wp(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ts(),this.targetWithTransforms=Ts()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o2e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Uo(this.target,this.layout.layoutBox),LH(this.target,this.targetDelta)):Uo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ts(),this.relativeTargetOrigin=Ts(),Wp(this.relativeTargetOrigin,this.target,g.target),Uo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_N(this.parent.latestValues)||kH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let A=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(A=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(A=!1),this.resolvedRelativeTargetAt===Bi.timestamp&&(A=!1),A)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Uo(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;l2e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ts());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uk(this.prevProjectionDelta.x,this.projectionDelta.x),uk(this.prevProjectionDelta.y,this.projectionDelta.y)),Gp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!yk(this.projectionDelta.x,this.prevProjectionDelta.x)||!yk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const A=this.getStack();A&&A.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jf(),this.projectionDelta=Jf(),this.projectionDeltaWithTransform=Jf()}setAnimationOrigin(o,l=!1){const A=this.snapshot,u=A?A.latestValues:{},h={...this.latestValues},m=Jf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=Ts(),g=A?A.source:void 0,b=this.layout?this.layout.source:void 0,C=g!==b,I=this.getStack(),v=!I||I.members.length<=1,N=!!(C&&!v&&this.options.crossfade===!0&&!this.path.some(nve));this.animationProgress=0;let F;this.mixTargetDelta=T=>{const D=T/1e3;bk(m.x,o.x,D),bk(m.y,o.y,D),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wp(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rve(this.relativeTarget,this.relativeTargetOrigin,y,D),F&&U2e(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Ts()),Uo(F,this.relativeTarget)),C&&(this.animationValues=h,k2e(h,u,this.latestValues,D,N,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,A,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(u=(A=this.resumingFrom)==null?void 0:A.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(Ed(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hs.update(()=>{zy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=em(0)),this.currentAnimation=E2e(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(V2e),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:A,layout:u,latestValues:h}=o;if(!(!l||!A||!u)){if(this!==o&&this.layout&&u&&WH(this.options.animationType,this.layout.layoutBox,u.layoutBox)){A=this.target||Ts();const m=ga(this.layout.layoutBox.x);A.x.min=o.target.x.min,A.x.max=A.x.min+m;const y=ga(this.layout.layoutBox.y);A.y.min=o.target.y.min,A.y.max=A.y.min+y}Uo(l,A),t0(l,h),Gp(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new M2e),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:A}={}){const u=this.getStack();u&&u.promote(this,A),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:A}=o;if((A.z||A.rotate||A.rotateX||A.rotateY||A.rotateZ||A.skewX||A.skewY)&&(l=!0),!l)return;const u={};A.z&&E5("z",o,u,this.animationValues);for(let h=0;h<S5.length;h++)E5(`rotate${S5[h]}`,o,u,this.animationValues),E5(`skew${S5[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return H2e;const l={visibility:""},A=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Wy(o==null?void 0:o.pointerEvents)||"",l.transform=A?A(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Wy(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Jd(this.latestValues)&&(g.transform=A?A({},""):"none",this.hasProjected=!1),g}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=Q2e(this.projectionDeltaWithTransform,this.treeScale,h),A&&(l.transform=A(h,l.transform));const{x:m,y}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,u.animationValues?l.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Qg){if(h[g]===void 0)continue;const{correct:b,applyTo:C,isCSSVariable:I}=Qg[g],v=l.transform==="none"?h[g]:b(h[g],u);if(C){const N=C.length;for(let F=0;F<N;F++)l[C[F]]=v}else I?this.options.visualElement.renderState.vars[g]=v:l[g]=v}return this.options.layoutId&&(l.pointerEvents=u===this?Wy(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(wk),this.root.sharedNodes.clear()}}}function G2e(e){e.updateLayout()}function W2e(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Qo(m=>{const y=o?t.measuredBox[m]:t.layoutBox[m],g=ga(y);y.min=n[m].min,y.max=y.min+g}):WH(i,t.layoutBox,n)&&Qo(m=>{const y=o?t.measuredBox[m]:t.layoutBox[m],g=ga(n[m]);y.max=y.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+g)});const l=Jf();Gp(l,n,t.layoutBox);const A=Jf();o?Gp(A,e.applyTransform(s,!0),t.measuredBox):Gp(A,n,t.layoutBox);const u=!HH(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:g}=m;if(y&&g){const b=Ts();Wp(b,t.layoutBox,y.layoutBox);const C=Ts();Wp(C,n,g.layoutBox),VH(b,C)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:A,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function z2e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $2e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function q2e(e){e.clearSnapshot()}function wk(e){e.clearMeasurements()}function X2e(e){e.isLayoutDirty=!1}function Y2e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Z2e(e){e.resolveTargetDelta()}function J2e(e){e.calcProjection()}function eve(e){e.resetSkewAndRotation()}function tve(e){e.removeLeadSnapshot()}function bk(e,t,r){e.translate=As(t.translate,0,r),e.scale=As(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Ck(e,t,r,n){e.min=As(t.min,r.min,n),e.max=As(t.max,r.max,n)}function rve(e,t,r,n){Ck(e.x,t.x,r.x,n),Ck(e.y,t.y,r.y,n)}function nve(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sve={duration:.45,ease:[.4,0,.1,1]},Bk=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Nk=Bk("applewebkit/")&&!Bk("chrome/")?Math.round:Jo;function Sk(e){e.min=Nk(e.min),e.max=Nk(e.max)}function ive(e){Sk(e.x),Sk(e.y)}function WH(e,t,r){return e==="position"||e==="preserve-aspect"&&!a2e(xk(t),xk(r),.2)}function ave(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ove=GH({attachResizeListener:(e,t)=>Vg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),I5={current:void 0},zH=GH({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!I5.current){const e=new ove({});e.mount(window),e.setOptions({layoutScroll:!0}),I5.current=e}return I5.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lve={pan:{Feature:C2e},drag:{Feature:b2e,ProjectionNode:zH,MeasureLayout:UH}};function Ek(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&hs.postRender(()=>i(t,B1(t)))}class cve extends Dd{mount(){const{current:t}=this.node;t&&(this.unmount=Mye(t,(r,n)=>(Ek(this.node,n,"Start"),s=>Ek(this.node,s,"End"))))}unmount(){}}class Ave extends Dd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=v1(Vg(this.node.current,"focus",()=>this.onFocus()),Vg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ik(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&hs.postRender(()=>i(t,B1(t)))}class uve extends Dd{mount(){const{current:t}=this.node;t&&(this.unmount=Kye(t,(r,n)=>(Ik(this.node,n,"Start"),(s,{success:i})=>Ik(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const LN=new WeakMap,F5=new WeakMap,dve=e=>{const t=LN.get(e.target);t&&t(e)},hve=e=>{e.forEach(dve)};function fve({root:e,...t}){const r=e||document;F5.has(r)||F5.set(r,{});const n=F5.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(hve,{root:e,...t})),n[s]}function mve(e,t,r){const n=fve(t);return LN.set(e,r),n.observe(e),()=>{LN.delete(e),n.unobserve(e)}}const pve={some:0,all:1};class gve extends Dd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:pve[s]},l=A=>{const{isIntersecting:u}=A;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),y=u?h:m;y&&y(A)};return mve(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(xve(t,r))&&this.startObserver()}unmount(){}}function xve({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const yve={inView:{Feature:gve},tap:{Feature:uve},focus:{Feature:Ave},hover:{Feature:cve}},wve={layout:{ProjectionNode:zH,MeasureLayout:UH}},PN={current:null},$H={current:!1};function vve(){if($H.current=!0,!!xE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>PN.current=e.matches;e.addListener(t),t()}else PN.current=!1}const bve=new WeakMap;function Cve(e,t,r){for(const n in t){const s=t[n],i=r[n];if(Ji(s))e.addValue(n,s);else if(Ji(i))e.addValue(n,em(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,em(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Fk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Bve{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=PE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Ma.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,hs.render(this.render,!1,!0))};const{latestValues:A,renderState:u}=o;this.latestValues=A,this.baseTarget={...A},this.initialValues=r.initial?{...A}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Uv(r),this.isVariantNode=mH(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in m){const g=m[y];A[y]!==void 0&&Ji(g)&&g.set(A[y],!1)}}mount(t){this.current=t,bve.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),$H.current||vve(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:PN.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ed(this.notifyUpdate),Ed(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=vm.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&hs.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in tm){const r=tm[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ts()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Fk.length;n++){const s=Fk[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Cve(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=em(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(S9(n)||E9(n))?n=parseFloat(n):!Wye(n)&&Id.test(r)&&(n=lH(t,r)),this.setBaseTarget(t,Ji(n)?n.get():n)),Ji(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=WE(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ji(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new CE),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class qH extends Bve{constructor(){super(...arguments),this.KeyframeResolver=Pye}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ji(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function XH(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function Nve(e){return window.getComputedStyle(e)}class Sve extends qH{constructor(){super(...arguments),this.type="html",this.renderInstance=XH}readValueFromInstance(t,r){if(vm.has(r))return eye(t,r);{const n=Nve(t),s=(SE(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return PH(t,r)}build(t,r,n){VE(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return zE(t,r,n)}}const YH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Eve(e,t,r,n){XH(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(YH.has(s)?s:HE(s),t.attrs[s])}class Ive extends qH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ts}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(vm.has(r)){const n=oH(r);return n&&n.default||0}return r=YH.has(r)?r:HE(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return NH(t,r,n)}build(t,r,n){vH(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){Eve(t,r,n,s)}mount(t){this.isSVGTag=CH(t.tagName),super.mount(t)}}const Fve=(e,t)=>GE(e)?new Ive(t):new Sve(t,{allowProjection:e!==B.Fragment}),jve=Swe({...Zwe,...yve,...lve,...wve},Fve),Rn=Yye(jve),_ve=({onAddSuccess:e})=>{const[t,r]=B.useState(""),[n,s]=B.useState(""),[i,o]=B.useState(""),[l,A]=B.useState(""),[u,h]=B.useState(""),m=ma({mutationFn:g=>De.addTransaction(g),onSuccess:()=>{e(),r(""),s(""),o(""),A(""),h("")},onError:g=>{console.error("Failed to add transaction:",g.message),alert("Failed to add transaction: "+g.message)}}),y=g=>{if(g.preventDefault(),!t.trim()){alert("Name is required");return}const b={name:t.trim(),cashReceipt:n===""?0:parseFloat(n),onlineReceipt:i===""?0:parseFloat(i),cashExpense:l===""?0:parseFloat(l),onlineExpense:u===""?0:parseFloat(u)};m.mutate(b)};return a.jsx("form",{onSubmit:y,className:"mb-4",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("input",{type:"text",value:t,onChange:g=>r(g.target.value),placeholder:"Name",className:"border p-2 rounded",required:!0}),a.jsx("input",{type:"number",value:n,onChange:g=>s(g.target.value),placeholder:"Cash Receipt",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("input",{type:"number",value:i,onChange:g=>o(g.target.value),placeholder:"Online Receipt",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("input",{type:"number",value:l,onChange:g=>A(g.target.value),placeholder:"Cash Expense",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("input",{type:"number",value:u,onChange:g=>h(g.target.value),placeholder:"Online Expense",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 disabled:bg-blue-300",disabled:m.isPending,children:m.isPending?"Adding...":"Add Transaction"})]})})},Tve=({transaction:e})=>{const t=HA(),[r,n]=B.useState(e.name),[s,i]=B.useState(e.cashReceipt.toString()),[o,l]=B.useState(e.onlineReceipt.toString()),[A,u]=B.useState(e.cashExpense.toString()),[h,m]=B.useState(e.onlineExpense.toString()),y=((parseFloat(s)||0)+(parseFloat(o)||0)-(parseFloat(A)||0)-(parseFloat(h)||0)).toFixed(2),g=ma({mutationFn:v=>De.updateTransaction(e.id,v),onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]}),alert("Transaction updated successfully")},onError:v=>{console.error("Failed to update transaction:",v.message),alert("Failed to update transaction: "+v.message)}}),b=ma({mutationFn:()=>De.deleteTransaction(e.id),onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]}),alert("Transaction deleted successfully")},onError:v=>{console.error("Failed to delete transaction:",v.message),alert("Failed to delete transaction: "+v.message)}}),C=()=>{if(!r.trim()){alert("Name is required");return}const v={name:r.trim(),cashReceipt:parseFloat(s)||0,onlineReceipt:parseFloat(o)||0,cashExpense:parseFloat(A)||0,onlineExpense:parseFloat(h)||0};g.mutate(v)},I=()=>{window.confirm("Are you sure you want to delete this transaction?")&&b.mutate()};return a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"text",value:r,onChange:v=>n(v.target.value),className:"w-full border rounded p-1",required:!0})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:s,onChange:v=>i(v.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:o,onChange:v=>l(v.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:A,onChange:v=>u(v.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:h,onChange:v=>m(v.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:y}),a.jsxs("td",{className:"py-2 px-4 border-b",children:[a.jsx("button",{onClick:C,className:"bg-green-500 text-white p-1 rounded mr-2 hover:bg-green-600 disabled:bg-green-300",disabled:g.isPending,children:g.isPending?"Saving...":"Save"}),a.jsx("button",{onClick:I,className:"bg-red-500 text-white p-1 rounded hover:bg-red-600 disabled:bg-red-300",disabled:b.isPending,children:b.isPending?"Deleting...":"Delete"})]})]})},kve=()=>{const[e,t]=B.useState(!1),r=HA(),{data:n,isLoading:s,error:i}=Ll({queryKey:["transactions"],queryFn:De.getTransactions}),o=()=>{r.invalidateQueries({queryKey:["transactions"]})},l=(n==null?void 0:n.transactions)||[];return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(Kn,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsxs(Rn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs("h1",{className:"text-3xl font-bold mb-6 text-gray-800 flex items-center gap-2",children:[a.jsx("span",{role:"img","aria-label":"money",children:""})," Transactions"]}),a.jsx(Rn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},className:"bg-white shadow-lg rounded-xl p-4 mb-6 w-full",children:a.jsx(_ve,{onAddSuccess:o})}),s?a.jsxs("div",{className:"flex items-center justify-center text-gray-600 mt-6",children:[a.jsx(ti,{className:"animate-spin mr-2"}),"Loading transactions..."]}):i?a.jsxs("div",{className:"flex items-center justify-center text-red-500 mt-6",children:[a.jsx(gA,{className:"mr-2"}),"Error: ",i.message]}):a.jsx(Rn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"overflow-x-auto bg-white shadow-md rounded-xl w-full",children:a.jsxs("table",{className:"w-full text-sm text-left table-auto",children:[a.jsx("thead",{className:"bg-gray-100 text-gray-700 font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Name"}),a.jsx("th",{className:"px-4 py-3",children:"Cash Receipt"}),a.jsx("th",{className:"px-4 py-3",children:"Online Receipt"}),a.jsx("th",{className:"px-4 py-3",children:"Cash Expense"}),a.jsx("th",{className:"px-4 py-3",children:"Online Expense"}),a.jsx("th",{className:"px-4 py-3",children:"Total"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{children:l.length>0?l.map(A=>a.jsx(Tve,{transaction:A},A.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-gray-500",children:"No transactions found."})})})]})})]})})]})},Lve=()=>{const{user:e}=Ca(),t=HA(),[r]=W3(),n=new Date().toISOString().slice(0,7),[s,i]=B.useState(!1),o=()=>{je.info("Barcode scanning functionality is not yet implemented.")},[l,A]=B.useState(""),[u,h]=B.useState(n),[m,y]=B.useState(null),[g,b]=B.useState([]),[C,I]=B.useState(!1),[v,N]=B.useState(""),[F,T]=B.useState("");B.useEffect(()=>{r.get("showOnlyDue")==="true"&&I(!0)},[r]);const[D,V]=B.useState(!1),[P,U]=B.useState(null),[k,z]=B.useState(""),[R,H]=B.useState(null);B.useEffect(()=>{De.getBranches().then(b).catch(()=>je.error("Failed to load branches"))},[]);const{data:J,isLoading:ne}=Ll({queryKey:["collections",u,m,v,F],queryFn:()=>{const ee={branchId:m||void 0};return v&&F?(ee.fromDate=v,ee.toDate=F):ee.month=u,De.getCollections(ee)}}),{data:Y,isLoading:G}=Ll({queryKey:["collectionStats",u,m,v,F],queryFn:()=>{const ee={branchId:m||void 0};return v&&F?(ee.fromDate=v,ee.toDate=F):ee.month=u,De.getCollectionStats(ee)},enabled:!!e&&e.role==="admin"}),K=ma({mutationFn:ee=>De.updateCollectionPayment(ee.historyId,{amount:ee.amount,method:ee.method}),onSuccess:()=>{je.success("Payment updated successfully"),V(!1),t.invalidateQueries({queryKey:["collections"]}),(e==null?void 0:e.role)==="admin"&&t.invalidateQueries({queryKey:["collectionStats"]})},onError:ee=>{je.error(ee.message||"Failed to update payment")}}),q=ee=>{U(ee),z(ee.dueAmount.toFixed(2)),H(null),V(!0)},X=()=>{if(!P||!R||!k){je.error("Please select a payment method and enter a payment amount");return}const ee=parseFloat(k);if(isNaN(ee)||ee<=0||ee>P.dueAmount+.01){je.error("Invalid payment amount. Cannot be zero or more than the due amount.");return}K.mutate({historyId:P.historyId,amount:ee,method:R})},fe=async(ee,oe=!0)=>{try{const pe=document.getElementById(`invoice-${ee.historyId}`);if(!pe)return null;const Be=await jv(pe,{scale:2,useCORS:!0,logging:!0,allowTaint:!0}),_e=Be.toDataURL("image/png"),Le=new Xt("p","mm","a4"),ke=Le.internal.pageSize.getWidth(),Oe=Be.height*ke/Be.width;return Le.addImage(_e,"PNG",0,0,ke,Oe),oe&&Le.save(`invoice-${ee.studentId}-${new Date().toISOString().split("T")[0]}.pdf`),Le}catch(pe){return console.error("Error generating PDF:",pe),je.error("Failed to generate invoice PDF"),null}},de=async ee=>{await fe(ee,!0)},Q=async ee=>{try{const oe=await fe(ee,!1);if(!oe)return;const pe=oe.output("blob"),Be=new File([pe],`invoice-${ee.studentId}.pdf`,{type:"application/pdf"}),_e=URL.createObjectURL(Be),Le=document.createElement("a");Le.href=_e,Le.download=`invoice-${ee.studentId}.pdf`,document.body.appendChild(Le),Le.click(),setTimeout(()=>{document.body.removeChild(Le),URL.revokeObjectURL(_e)},100);const ke=`https://wa.me/?text=Here%20is%20the%20invoice%20for%20${encodeURIComponent(ee.name)}`;window.open(ke,"_blank")}catch(oe){console.error("Error sharing on WhatsApp:",oe),je.error("Failed to share on WhatsApp")}},Z=(J==null?void 0:J.collections.filter(ee=>{const oe=ee.name.toLowerCase().includes(l.toLowerCase()),pe=!C||ee.dueAmount>0;return oe&&pe}))||[],ae=(J==null?void 0:J.collections.length)||0;return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(Kn,{isCollapsed:s,setIsCollapsed:i,onBarcodeClick:o}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:[a.jsxs(Rn.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:" Collection & Due"}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0",children:[a.jsx("input",{type:"text",placeholder:"Search by student name...",value:l,onChange:ee=>A(ee.target.value),className:"flex-1 p-2 border rounded-md"}),a.jsxs("label",{className:"flex items-center space-x-2 p-2 border rounded-md bg-white cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:C,onChange:ee=>I(ee.target.checked),className:"rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Only Due"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0",children:[a.jsx("input",{type:"month",value:u,onChange:ee=>h(ee.target.value),className:"p-2 border rounded-md",placeholder:"Month"}),a.jsx("input",{type:"date",value:v,onChange:ee=>N(ee.target.value),className:"p-2 border rounded-md",placeholder:"From Date"}),a.jsx("input",{type:"date",value:F,onChange:ee=>T(ee.target.value),className:"p-2 border rounded-md",placeholder:"To Date"}),a.jsxs("select",{value:m||"",onChange:ee=>y(ee.target.value?Number(ee.target.value):null),className:"p-2 border rounded-md",children:[a.jsx("option",{value:"",children:"All Branches"}),g.map(ee=>a.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]})]}),(e==null?void 0:e.role)==="admin"&&a.jsxs(Rn.div,{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",initial:{opacity:0},animate:{opacity:1},children:[a.jsx(Jm,{title:"Total Students",value:ae,isLoading:ne}),a.jsx(Jm,{title:"Total Collected",value:Y==null?void 0:Y.totalPaid,isLoading:G,isCurrency:!0,color:"text-green-600"}),a.jsx(Jm,{title:"Total Due",value:Y==null?void 0:Y.totalDue,isLoading:G,isCurrency:!0,color:"text-red-600"}),a.jsx(Jm,{title:"Cash Collected",value:Y==null?void 0:Y.totalCash,isLoading:G,isCurrency:!0,color:"text-blue-600"}),a.jsx(Jm,{title:"Online Collected",value:Y==null?void 0:Y.totalOnline,isLoading:G,isCurrency:!0,color:"text-purple-600"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:ne?a.jsx("div",{className:"text-center p-8",children:a.jsx(ti,{className:"h-8 w-8 animate-spin mx-auto"})}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Branch"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Shift"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Seat"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Fee"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cash"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Online"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Security"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Paid"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Due"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remark"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:13,className:"px-4 py-4 text-center text-gray-500",children:"No collections found."})}):Z.map(ee=>{var oe;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:ee.name}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:((oe=g.find(pe=>pe.id===ee.branchId))==null?void 0:oe.name)||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:ee.shiftTitle||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:ee.seatNumber||"N/A"}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["",ee.totalFee.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["",ee.cash.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["",ee.online.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["",ee.securityMoney.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:["",ee.amountPaid.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-bold text-red-600",children:["",ee.dueAmount.toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-wrap text-sm text-gray-500",children:ee.remark||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:ee.createdAt?new Date(ee.createdAt).toLocaleDateString():"N/A"}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:[ee.dueAmount>0&&a.jsx("button",{onClick:()=>q(ee),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Pay Due"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"p-1 text-gray-500 hover:text-blue-600",onClick:pe=>{pe.stopPropagation(),de(ee)},title:"Download Invoice",children:a.jsx(a1,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1 text-gray-500 hover:text-green-600",onClick:pe=>{pe.stopPropagation(),Q(ee)},title:"Share on WhatsApp",children:a.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17.498 14.382v-.002c-.301-.15-1.767-.867-2.04-.966-.273-.101-.473-.15-.673.15-.197.295-.771.964-.944 1.162-.175.195-.349.21-.646.075-.3-.15-1.263-.465-2.403-1.485-.888-.795-1.484-1.761-1.66-2.059-.173-.297-.018-.458.13-.606.136-.135.297-.354.446-.521.146-.181.194-.296.297-.494.1-.21.049-.375-.025-.524-.075-.15-.672-1.62-.922-2.206-.24-.584-.487-.51-.672-.51-.172-.015-.371-.015-.571-.015-.2 0-.523.074-.797.359-.273.3-1.045 1.02-1.045 2.475s1.07 2.865 1.219 3.075c.15.195 2.105 3.195 5.1 4.485.714.3 1.27.489 1.704.621.714.227 1.365.195 1.88.121.574-.09 1.767-.721 2.016-1.426.255-.705.255-1.29.18-1.425-.074-.135-.27-.21-.57-.36m-5.446 7.443h-.016a9.87 9.87 0 01-5.031-1.379l-.36-.214-3.75.975 1.005-3.645-.239-.375a9.86 9.86 0 01-1.51-5.26c.001-5.445 4.455-9.885 9.942-9.885 2.654 0 5.145 1.035 7.021 2.91 1.875 1.86 2.909 4.35 2.909 6.99-.004 5.444-4.458 9.885-9.933 9.885M20.52 3.449C18.24 1.245 15.24 0 12.045 0 5.462 0 .103 5.334.101 11.893c0 2.096.549 4.14 1.595 5.945L0 24l6.335-1.652a12.01 12.01 0 005.71 1.447h.006c6.585 0 11.946-5.336 11.949-11.896 0-3.176-1.24-6.165-3.495-8.411"})})})]})]})]},ee.historyId)})})]})})]}),D&&P&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Pay Due for ",P.name]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Total Due Amount: ",P.dueAmount.toFixed(2)]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Payment Method:"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:R==="cash",onChange:()=>H("cash"),className:"mr-2"}),"Cash"]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:R==="online",onChange:()=>H("online"),className:"mr-2"}),"Online"]})]})]}),a.jsx("input",{type:"number",value:k,onChange:ee=>z(ee.target.value),placeholder:"Enter payment amount",className:"w-full p-2 border rounded-md mb-4",max:P.dueAmount.toString()}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 border rounded-md",children:"Cancel"}),a.jsx("button",{onClick:X,disabled:K.isPending,className:"px-4 py-2 bg-purple-600 text-white rounded-md disabled:bg-purple-300",children:K.isPending?a.jsx(ti,{className:"h-4 w-4 animate-spin"}):"Submit Payment"})]})]})})]})]})},Jm=({title:e,value:t,isLoading:r,isCurrency:n=!1,color:s="text-gray-800"})=>a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),a.jsx("div",{className:`text-xl font-bold ${s}`,children:r?a.jsx(ti,{className:"h-5 w-5 animate-spin"}):n?`${(t||0).toFixed(2)}`:t||0})]}),Pve=()=>{const[e]=W3(),[t,r]=B.useState(!1),[n,s]=B.useState([]),[i,o]=B.useState([]),[l,A]=B.useState([]),[u,h]=B.useState(void 0),[m,y]=B.useState({title:"",amount:"",date:"",remark:"",branchId:""}),[g,b]=B.useState(""),[C,I]=B.useState(!1),[v,N]=B.useState(null),[F,T]=B.useState(!0),[D,V]=B.useState(null);B.useEffect(()=>{const G=e.get("month"),K=e.get("view");G&&V(G),K==="profit"&&je.info("Viewing profit/loss details for the selected month")},[e]),B.useEffect(()=>{(async()=>{try{const K=await De.getBranches();console.log("Fetched branches:",K),A(Array.isArray(K)?K:[])}catch(K){console.error("Failed to fetch branches:",K),je.error("Failed to load branches"),A([])}})()},[]),B.useEffect(()=>{(async()=>{T(!0);try{console.log("Fetching expenses with branchId:",u);const K=await De.getExpenses(u);if(console.log("API response for expenses:",K),!K||!Array.isArray(K.expenses))throw new Error("Invalid API response: expenses is not an array");const q=K.expenses.map(X=>{const fe=parseFloat(String(X.amount));return{id:X.id,title:X.title,amount:isNaN(fe)?0:fe,date:X.date,remark:X.remark,branchId:X.branchId??null,branchName:X.branchName??null}});console.log("Parsed expenses:",q),s(q),o(Array.isArray(K.products)?K.products:[])}catch(K){console.error("Failed to fetch expenses:",K),je.error("Failed to load expenses"),s([]),o([])}finally{T(!1)}})()},[u]),B.useEffect(()=>{var G;if(v){const K=v.date.includes("T")?v.date.split("T")[0]:v.date,q=i.some(X=>X.name===v.title);y({title:q?v.title:"Other",amount:v.amount.toString(),date:K,remark:v.remark||"",branchId:((G=v.branchId)==null?void 0:G.toString())||""}),I(!q),b(q?"":v.title)}else y({title:"",amount:"",date:"",remark:"",branchId:(u==null?void 0:u.toString())||""}),I(!1),b("")},[v,i,u]);const P=G=>{const{name:K,value:q}=G.target;K==="title"&&(I(q==="Other"),q!=="Other"&&b("")),y(X=>({...X,[K]:q}))},U=G=>{b(G.target.value)},k=G=>{const K=G.target.value?parseInt(G.target.value,10):void 0;h(K)},z=async()=>{const G=C&&g?g:m.title;if(!G||!m.amount||!m.date){je.error("Title, amount, and date are required");return}try{const K={title:G,amount:m.amount,date:m.date,remark:m.remark,branchId:m.branchId?parseInt(m.branchId,10):null};if(console.log("Submitting expense data:",K),v){const q=await De.updateExpense(v.id,K),X={...q,amount:parseFloat(String(q.amount)),branchId:q.branchId??null,branchName:q.branchName??null};s(fe=>fe.map(de=>de.id===X.id?X:de)),N(null),je.success("Expense updated successfully")}else{const q=await De.addExpense(K),X={...q,amount:parseFloat(String(q.amount)),branchId:q.branchId??null,branchName:q.branchName??null};s(fe=>[X,...fe]),y({title:"",amount:"",date:"",remark:"",branchId:(u==null?void 0:u.toString())||""}),I(!1),b(""),je.success("Expense added successfully")}}catch(K){console.error("Failed to save expense:",K),je.error("Failed to save expense")}},R=G=>{console.log("Editing expense:",G),N(G)},H=async G=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await De.deleteExpense(G),s(K=>K.filter(q=>q.id!==G)),v&&v.id===G&&N(null),je.success("Expense deleted successfully")}catch(K){console.error("Failed to delete expense:",K),je.error("Failed to delete expense")}},J=n.reduce((G,K)=>{const q=new Date(K.date);if(isNaN(q.getTime()))return console.warn(`Invalid date for expense ${K.id}: ${K.date}`),G;const X=q.toLocaleString("default",{month:"long",year:"numeric"});return G[X]||(G[X]=[]),G[X].push(K),G},{}),ne=G=>{try{const K=new Date(G);return isNaN(K.getTime())?(console.warn(`Invalid date string: ${G}`),G):G.includes("T")?G.split("T")[0]:G}catch(K){return console.error("Error formatting date:",G,K),G}},Y=G=>{if(G.branchName)return G.branchName;if(G.branchId){const K=l.find(q=>q.id===G.branchId);return K?K.name:"Global"}return"Global"};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(Kn,{isCollapsed:t,setIsCollapsed:r,onBarcodeClick:()=>{}}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:F?a.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):a.jsxs(Rn.div,{className:"max-w-4xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(Rn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:" Expenses"}),a.jsxs(Rn.div,{className:"bg-white shadow-md rounded-lg p-6 mb-4",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.15},children:[a.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Filter by Branch"}),a.jsxs("select",{value:u??"",onChange:k,className:"w-full sm:w-1/3 px-4 py-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"All Branches"}),l.map(G=>a.jsx("option",{value:G.id.toString(),children:G.name},G.id))]})]}),a.jsxs(Rn.div,{className:"bg-white shadow-md rounded-lg p-6 mb-8",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.15},children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:v?"Edit Expense":"Add New Expense"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4",children:[a.jsxs("select",{name:"title",value:m.title,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"Select Title"}),i.map(G=>a.jsx("option",{value:G.name,children:G.name},G.id)),a.jsx("option",{value:"Other",children:"Other"})]}),C&&a.jsx("input",{type:"text",name:"customTitle",value:g,onChange:U,placeholder:"Enter custom title",className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),a.jsx("input",{type:"number",name:"amount",value:m.amount,onChange:P,placeholder:"Amount",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),a.jsx("input",{type:"text",name:"remark",value:m.remark,onChange:P,placeholder:"Remark",className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),a.jsx("input",{type:"date",name:"date",value:m.date,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),a.jsxs("select",{name:"branchId",value:m.branchId,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"Select Branch (Optional)"}),l.map(G=>a.jsx("option",{value:G.id.toString(),children:G.name},G.id))]})]}),a.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[a.jsx("button",{onClick:z,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition",children:v?"Update Expense":"Add Expense"}),v&&a.jsx("button",{onClick:()=>N(null),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition",children:"Cancel"})]})]}),Object.entries(J).sort(([G],[K])=>new Date(K).getTime()-new Date(G).getTime()).map(([G,K],q)=>{const X=K.reduce((de,Q)=>de+(Q.amount||0),0),fe=D&&G.includes(new Date(D+"-01").toLocaleString("default",{month:"long",year:"numeric"}));return a.jsxs(Rn.div,{className:`mb-8 ${fe?"ring-2 ring-blue-500 rounded-lg p-4 bg-blue-50":""}`,initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2+q*.1},children:[a.jsxs("h2",{className:`text-xl font-semibold mb-4 ${fe?"text-blue-800":"text-gray-800"}`,children:[G," ",fe&&""]}),a.jsx("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-100 text-gray-700 font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-3 px-4 text-left",children:"Title"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Amount"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Remark"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Date"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Branch"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:K.map((de,Q)=>a.jsxs(Rn.tr,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.25+Q*.02},className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"py-3 px-4 border-b",children:de.title||"Untitled"}),a.jsx("td",{className:"py-3 px-4 border-b",children:(de.amount||0).toFixed(2)}),a.jsx("td",{className:"py-3 px-4 border-b",children:de.remark||"-"}),a.jsx("td",{className:"py-3 px-4 border-b",children:ne(de.date)}),a.jsx("td",{className:"py-3 px-4 border-b",children:Y(de)}),a.jsxs("td",{className:"py-3 px-4 border-b",children:[a.jsx("button",{onClick:()=>R(de),className:"text-blue-600 hover:underline mr-2",children:"Edit"}),a.jsx("button",{onClick:()=>H(de.id),className:"text-red-600 hover:underline",children:"Delete"})]})]},de.id))})]})}),a.jsxs("div",{className:"mt-2 text-right font-semibold",children:["Total for ",G,": Rs. ",X.toFixed(2)]})]},G)}),n.length===0&&!F&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No expenses found."})]})})]})},Ove=()=>{const[e,t]=B.useState(!1),[r,n]=B.useState(new Date().toISOString().slice(0,7)),[s,i]=B.useState(null),[o,l]=B.useState([]),[A,u]=B.useState(null);B.useEffect(()=>{(async()=>{try{const y=await De.getBranches();l(y)}catch(y){console.error("Failed to fetch branches:",y),je.error("Failed to load branches")}})()},[]);const h=async()=>{try{const m={month:r,branchId:s},y=await De.getProfitLoss(m);u(y)}catch(m){console.error("Failed to fetch profit/loss:",m),je.error("Failed to load profit/loss data")}};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(Kn,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsxs(Rn.div,{className:"max-w-3xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(Rn.h1,{className:"text-2xl md:text-3xl font-bold mb-6 text-gray-800 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:" Profit & Loss"}),a.jsxs(Rn.div,{className:"bg-white rounded-lg shadow p-6 mb-6",initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},transition:{delay:.15},children:[a.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Month"}),a.jsx("input",{type:"month",id:"month",value:r,onChange:m=>n(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4"}),a.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Branch"}),a.jsxs("select",{id:"branch",value:s||"",onChange:m=>i(m.target.value?Number(m.target.value):null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4",children:[a.jsx("option",{value:"",children:"All Branches"}),o.map(m=>a.jsx("option",{value:m.id,children:m.name},m.id))]}),a.jsx("button",{onClick:h,className:"w-full sm:w-auto bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition",children:"Fetch Report"})]}),A&&a.jsxs(Rn.div,{className:"bg-white p-6 rounded-lg shadow",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:[a.jsxs("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:["Financial Summary for ",A.month]}),a.jsxs("div",{className:"space-y-2 text-sm sm:text-base",children:[a.jsxs("p",{children:["Total Collected: ",a.jsx("span",{className:"font-semibold",children:A.totalCollected.toFixed(2)})]}),a.jsxs("p",{children:["Total Expenses: ",a.jsx("span",{className:"font-semibold",children:A.totalExpenses.toFixed(2)})]}),a.jsxs("p",{className:`font-semibold ${A.profitLoss>=0?"text-green-600":"text-red-600"}`,children:[A.profitLoss>=0?"Profit":"Loss",": ",Math.abs(A.profitLoss).toFixed(2)]})]})]})]})})]})},Rve=()=>{const e=new Date().toISOString().slice(0,7),[t,r]=B.useState(!1),[n,s]=B.useState([]),[i,o]=B.useState(!0),[l,A]=B.useState(null),[u,h]=B.useState(""),[m,y]=B.useState(e),[g,b]=B.useState([]),[C,I]=B.useState(""),[v,N]=B.useState([]),[F,T]=B.useState(!1),[D,V]=B.useState(null),[P,U]=B.useState(""),[k,z]=B.useState("cash"),[R,H]=B.useState(!1);B.useEffect(()=>{(async()=>{try{const Z=await De.getHostelBranches();b(Z||[])}catch(Z){console.error("Failed to fetch branches for filter:",Z),je.error("Failed to load branches for filter.")}})()},[]);const J=async(Q,Z)=>{o(!0),A(null);try{const ae={};Q&&(ae.month=Q),Z&&Z!==""&&(ae.branch_id=Z),console.log("[HostelCollectionDue] Fetching collections with params:",ae);const ee=await De.getHostelCollections(ae);if(console.log("[HostelCollectionDue] API Response (after camelCasing by interceptor):",JSON.stringify(ee,null,2)),!ee||typeof ee!="object")throw console.error("[HostelCollectionDue] Invalid response structure (not an object):",ee),new Error("Invalid response structure from server: Response is not an object");if(!Array.isArray(ee.collections))throw console.error("[HostelCollectionDue] Invalid response structure (collections not an array):",ee),new Error('Invalid response structure from server: Expected "responseData.collections" to be an array');s(ee.collections.map(oe=>({historyId:oe.historyId,studentId:oe.studentId,studentName:oe.studentName||null,branchId:oe.branchId||null,branchName:oe.branchName||null,studentPhoneNumber:oe.studentPhoneNumber||null,studentRegistrationNumber:oe.studentRegistrationNumber||null,studentCurrentRoomNumber:oe.studentCurrentRoomNumber||null,studentSecurityMoney:parseFloat(String(oe.studentSecurityMoney||0)),stayStartDate:oe.stayStartDate,stayEndDate:oe.stayEndDate,totalFee:parseFloat(String(oe.totalFee||0)),cashPaid:parseFloat(String(oe.cashPaid||0)),onlinePaid:parseFloat(String(oe.onlinePaid||0)),dueAmount:parseFloat(String(oe.dueAmount||0)),historyRemark:oe.historyRemark||null,historyCreatedAt:oe.historyCreatedAt,historyUpdatedAt:oe.historyUpdatedAt||null})))}catch(ae){console.error("[HostelCollectionDue] Failed to fetch collections:",ae);const ee=ae.message||"Failed to load collection data";A(ee),s([]),je.error(ee)}finally{o(!1)}};B.useEffect(()=>{J(m,C)},[m,C]),B.useEffect(()=>{N(n.filter(Q=>{const Z=Q.studentName??"",ae=Q.studentCurrentRoomNumber??"",ee=Q.studentRegistrationNumber??"",oe=Q.studentPhoneNumber??"",pe=Q.branchName??"",Be=u.toLowerCase();return Z.toLowerCase().includes(Be)||ae.toLowerCase().includes(Be)||ee.toLowerCase().includes(Be)||pe.toLowerCase().includes(Be)||oe.includes(Be)}))},[n,u]);const ne=v.length,Y=v.reduce((Q,Z)=>Q+Z.cashPaid+Z.onlinePaid,0),G=v.reduce((Q,Z)=>Q+Z.dueAmount,0),K=v.reduce((Q,Z)=>Q+Z.cashPaid,0),q=v.reduce((Q,Z)=>Q+Z.onlinePaid,0),X=v.reduce((Q,Z)=>Q+(Z.studentSecurityMoney||0),0),fe=Q=>{V(Q),U(Q.dueAmount>0?Q.dueAmount.toFixed(2):""),z("cash"),T(!0)},de=async()=>{if(!D){je.error("No collection selected for payment.");return}if(!P){je.error("Payment amount is required");return}const Q=parseFloat(P);if(isNaN(Q)||Q<=0){je.error("Invalid payment amount. Must be greater than 0.");return}if(Q>D.dueAmount+.001){je.error(`Payment amount (${Q.toFixed(2)}) cannot exceed current due amount (${D.dueAmount.toFixed(2)}).`);return}H(!0);try{await De.updateHostelCollectionPayment(String(D.historyId),{payment_amount:Q,payment_type:k}),je.success("Payment updated successfully"),T(!1),V(null),await J(m,C)}catch(Z){console.error("[HostelCollectionDue] Failed to update payment:",Z),je.error(Z.message||"Failed to update payment")}finally{H(!1)}};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(Kn,{isCollapsed:t,setIsCollapsed:r}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsxs(Rn.div,{className:"max-w-full mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(Rn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:" Hostel Collections & Due"}),a.jsx("p",{className:"text-gray-600 mb-6 text-sm md:text-base",children:"View and manage hostel student payment history and dues."}),a.jsxs(Rn.div,{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:[a.jsx("input",{type:"text",placeholder:"Search by Name, Room, Reg No, Phone...",value:u,onChange:Q=>h(Q.target.value),className:"md:col-span-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base"}),a.jsx("input",{type:"month",value:m,onChange:Q=>y(Q.target.value),className:"p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base"}),a.jsxs("select",{value:C,onChange:Q=>I(Q.target.value),className:"p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base",children:[a.jsx("option",{value:"",children:"All Branches"}),g.map(Q=>a.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),a.jsxs(Rn.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Filtered Records"}),a.jsx("p",{className:"text-xl font-bold text-gray-800",children:ne})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Collected"}),a.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",Y.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Security Money"}),a.jsxs("p",{className:"text-xl font-bold text-orange-600",children:["",X.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Due"}),a.jsxs("p",{className:"text-xl font-bold text-red-600",children:["",G.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Cash Collected"}),a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["",K.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Online Collected"}),a.jsxs("p",{className:"text-xl font-bold text-purple-600",children:["",q.toFixed(2)]})]})]}),i&&a.jsx("div",{className:"text-center text-gray-500 py-10",children:"Loading collections..."}),l&&!i&&a.jsxs("div",{className:"text-center text-red-500 py-10",children:["Error: ",l]}),!i&&!l&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Student Name"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Current Room (M)"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Security Money"})," ",a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Reg. No"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Stay Start"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Stay End"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Total Fee"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Cash Paid"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Online Paid"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Due Amount"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Remark (H)"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Created (H)"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:15,className:"px-3 py-4 text-center text-gray-500",children:[" ","No collections found for the selected criteria."]})}):v.map(Q=>a.jsxs(Rn.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.studentName||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.branchName||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.studentCurrentRoomNumber||"N/A"}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["",(Q.studentSecurityMoney||0).toFixed(2)]})," ",a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.studentRegistrationNumber||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.studentPhoneNumber||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.stayStartDate?new Date(Q.stayStartDate).toLocaleDateString():"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.stayEndDate?new Date(Q.stayEndDate).toLocaleDateString():"N/A"}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["",Q.totalFee.toFixed(2)]}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["",Q.cashPaid.toFixed(2)]}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["",Q.onlinePaid.toFixed(2)]}),a.jsxs("td",{className:`px-3 py-4 whitespace-nowrap text-right font-semibold ${Q.dueAmount>0?"text-red-600":"text-green-600"}`,children:["",Q.dueAmount.toFixed(2)]}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap truncate max-w-xs",title:Q.historyRemark||"",children:Q.historyRemark||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.historyCreatedAt?new Date(Q.historyCreatedAt).toLocaleString():"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.dueAmount>0&&a.jsx("button",{onClick:()=>fe(Q),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Pay Due"})})]},Q.historyId))})]})}),F&&D&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm",children:a.jsxs(Rn.div,{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full m-4",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},children:[a.jsxs("h3",{className:"text-lg font-semibold mb-1 text-gray-800",children:["Pay Due for ",D.studentName||"N/A"]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Room: ",D.studentCurrentRoomNumber||"N/A"," | Branch: ",D.branchName||"N/A"]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Current Due: ",a.jsxs("span",{className:"font-bold text-red-600",children:["",D.dueAmount.toFixed(2)]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount"}),a.jsx("input",{id:"paymentAmount",type:"number",value:P,onChange:Q=>U(Q.target.value),placeholder:"Enter payment amount",className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400",step:"0.01",min:"0.01",max:D.dueAmount.toString(),required:!0})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"paymentType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Type"}),a.jsxs("select",{id:"paymentType",value:k,onChange:Q=>z(Q.target.value),className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400",children:[a.jsx("option",{value:"cash",children:"Cash"}),a.jsx("option",{value:"online",children:"Online"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",children:"Cancel"}),a.jsx("button",{type:"button",onClick:de,disabled:R,className:"px-4 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:bg-purple-300",children:R?"Processing...":"Submit Payment"})]})]})})]})})]})},Dve=()=>{const[e,t]=B.useState(!1),[r,n]=B.useState([]),[s,i]=B.useState(!0),[o,l]=B.useState(null),[A,u]=B.useState(!1),[h,m]=B.useState(null),[y,g]=B.useState(""),[b,C]=B.useState(""),[I,v]=B.useState(""),[N,F]=B.useState(""),[T,D]=B.useState(""),[V,P]=B.useState(""),[U,k]=B.useState(""),[z,R]=B.useState(0),[H,J]=B.useState(0);B.useEffect(()=>{(async()=>{try{const K=await De.getExpiredHostelStudents();if(!K||!Array.isArray(K.expiredStudents))throw new Error("Invalid data structure received from server");n(K.expiredStudents),l(null)}catch(K){console.error("Failed to fetch expired students:",K),l(K.message||"Failed to fetch expired students"),n([]),je.error(K.message||"Failed to fetch expired students")}finally{i(!1)}})()},[]),B.useEffect(()=>{const G=parseFloat(N)||0,K=parseFloat(T)||0,q=G+K,fe=(parseFloat(I)||0)-q;R(q),J(fe>=0?fe:0)},[N,T,I]);const ne=G=>{m(G),g(""),C(""),v(""),F(""),D(""),P(""),k(""),u(!0)},Y=async()=>{if(!h||!y||!b||!I){je.error("Required fields are missing");return}try{await De.renewHostelStudent(h.id,{stay_start_date:y,stay_end_date:b,total_fee:parseFloat(I),cash_paid:parseFloat(N)||0,online_paid:parseFloat(T)||0,room_number:V,remark:U}),je.success("Student renewed successfully"),u(!1);const G=await De.getExpiredHostelStudents();G&&Array.isArray(G.expiredStudents)?n(G.expiredStudents):(n([]),je.error("Invalid data structure received after renewal"))}catch(G){je.error(G.message||"Failed to renew student")}};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(Kn,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:s?a.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):o?a.jsx("div",{className:"text-center text-red-500",children:o}):a.jsxs(Rn.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(Rn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:" Expired Hostel Memberships"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aadhar"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Latest End Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-4 text-center text-gray-500",children:"No expired memberships found"})}):r.map(G=>a.jsxs(Rn.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:G.name||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:G.phoneNumber||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:G.aadharNumber||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:G.latestStayEndDate?new Date(G.latestStayEndDate).toLocaleDateString():"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:a.jsx("button",{onClick:()=>ne(G),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Renew"})})]},G.id))})]})}),A&&h&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Renew Membership for ",h.name]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),a.jsx("input",{type:"date",value:y,onChange:G=>g(G.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),a.jsx("input",{type:"date",value:b,onChange:G=>C(G.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee"}),a.jsx("input",{type:"number",step:"0.01",value:I,onChange:G=>v(G.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Paid"}),a.jsx("input",{type:"number",step:"0.01",value:N,onChange:G=>F(G.target.value),className:"w-full p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Paid"}),a.jsx("input",{type:"number",step:"0.01",value:T,onChange:G=>D(G.target.value),className:"w-full p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Paid"}),a.jsx("input",{type:"text",value:`${z.toFixed(2)}`,disabled:!0,className:"w-full p-2 border rounded-md bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),a.jsx("input",{type:"text",value:`${H.toFixed(2)}`,disabled:!0,className:"w-full p-2 border rounded-md bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),a.jsx("input",{type:"text",value:V,onChange:G=>P(G.target.value),className:"w-full p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{value:U,onChange:G=>k(G.target.value),className:"w-full p-2 border rounded-md",rows:3})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border rounded-md text-gray-600 hover:bg-gray-100",children:"Cancel"}),a.jsx("button",{onClick:Y,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Renew"})]})]})})]})})]})},Uve=()=>{const[e,t]=B.useState([]),[r,n]=B.useState({name:"",code:""}),[s,i]=B.useState(null),[o,l]=B.useState(!1),{refreshUser:A}=Ca();B.useEffect(()=>{(async()=>{try{await A();const g=await De.getBranches();t(g||[])}catch(g){console.error("Failed to load branches:",g),je.error(g.message||"Could not fetch branches"),t([])}})()},[A]);const u=y=>{const{name:g,value:b}=y.target;n(C=>({...C,[g]:b}))},h=async()=>{try{if(await A(),s){const y=await De.updateBranch(s.id,r);t(g=>g.map(b=>b.id===y.id?y:b)),i(null)}else{const y=await De.addBranch(r);t(g=>[...g,y]),n({name:"",code:""})}je.success("Branch saved successfully")}catch(y){console.error("Save error:",y),je.error(y.message||"Failed to save branch")}},m=async y=>{if(window.confirm("Are you sure?"))try{await A(),await De.deleteBranch(y),t(g=>g.filter(b=>b.id!==y)),je.success("Branch deleted")}catch(g){console.error("Delete error:",g),je.error(g.message||"Failed to delete branch")}};return a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(Kn,{isCollapsed:o,setIsCollapsed:l,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 sm:mb-6",children:"Manage Branches"}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[a.jsx("input",{name:"name",value:r.name,onChange:u,placeholder:"Branch Name",className:"w-full sm:w-auto flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"}),a.jsx("input",{name:"code",value:r.code,onChange:u,placeholder:"Branch Code",className:"w-full sm:w-auto flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"}),a.jsxs("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s?"Update":"Add"," Branch"]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[560px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Name"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Code"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{children:e.map(y=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 sm:px-6 py-3",children:y.name}),a.jsx("td",{className:"px-4 sm:px-6 py-3 text-gray-600",children:y.code||"-"}),a.jsx("td",{className:"px-4 sm:px-6 py-3",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>i(y),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),a.jsx("button",{onClick:()=>m(y.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})})]},y.id))})]})})]})})]})]})},Mve=()=>{const[e,t]=B.useState([]),[r,n]=B.useState({name:""}),[s,i]=B.useState(null),[o,l]=B.useState(!1),A=()=>{};B.useEffect(()=>{(async()=>{const b=await De.getProducts();t(b)})()},[]);const u=g=>{const{name:b,value:C}=g.target;n(I=>({...I,[b]:C}))},h=async()=>{try{if(s){const g=await De.updateProduct(s.id,r);t(b=>b.map(C=>C.id===g.id?g:C)),i(null)}else{const g=await De.addProduct(r);t(b=>[...b,g]),n({name:""})}je.success("Product saved successfully")}catch{je.error("Failed to save product")}},m=g=>{i(g),n({name:g.name})},y=async g=>{window.confirm("Are you sure?")&&(await De.deleteProduct(g),t(b=>b.filter(C=>C.id!==g)),je.success("Product deleted"))};return a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(Kn,{isCollapsed:o,setIsCollapsed:l,onBarcodeClick:A}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 sm:mb-6",children:"Products"}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[a.jsx("input",{name:"name",value:r.name,onChange:u,placeholder:"Product Name",className:"w-full sm:w-auto flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"}),a.jsxs("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s?"Update":"Add"," Product"]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[480px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Name"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{children:e.map(g=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 sm:px-6 py-3",children:g.name}),a.jsx("td",{className:"px-4 sm:px-6 py-3",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>m(g),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),a.jsx("button",{onClick:()=>y(g.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})})]},g.id))})]})})]})})]})]})},Qve=()=>{const e=Rr();try{const o=Ca();if(!o||!o.user)throw new Error("Auth context is not available")}catch(o){return console.error("Auth context error:",o),je.error("Authentication error. Please log in again."),e("/login"),null}const[t,r]=B.useState({totalStudents:0,branches:[],expiredCount:0,totalCollection:0,totalDue:0}),[n,s]=B.useState(!0),i=async()=>{var o;s(!0);try{const[l,A,u,h]=await Promise.all([De.getHostelBranches(),De.getHostelStudents(),De.getExpiredHostelStudents(),De.getHostelCollections()]),m=(A??[]).reduce((v,N)=>{const F=N.branchId;return F&&(v[F]=(v[F]||0)+1),v},{}),y=(Array.isArray(l)?l:[]).map(v=>({...v,studentCount:m[v.id]||0})),g=((o=u==null?void 0:u.expiredStudents)==null?void 0:o.length)??0,b=(h==null?void 0:h.collections)??[],C=b.reduce((v,N)=>v+parseFloat(String(N.cashPaid||0))+parseFloat(String(N.onlinePaid||0)),0),I=b.reduce((v,N)=>v+parseFloat(String(N.dueAmount||0)),0);r({totalStudents:Array.isArray(A)?A.length:0,branches:y,expiredCount:g,totalCollection:C,totalDue:I})}catch(l){je.error("Failed to load hostel statistics"),console.error("Error fetching hostel stats:",l)}finally{s(!1)}};return B.useEffect(()=>{i()},[]),a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(Kn,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Hostel Dashboard"}),a.jsx("div",{className:"my-8",children:n?a.jsx("div",{className:"text-center p-4 bg-white rounded-lg shadow",children:"Loading hostel stats..."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx(ka,{title:"Total Hostel Students",value:t.totalStudents,icon:a.jsx(Fc,{className:"h-6 w-6 text-cyan-500"}),iconBgColor:"bg-cyan-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-cyan-400"})}),a.jsx(Yr,{to:"/hostel/collections",className:"block",children:a.jsx(ka,{title:"Total Hostel Collection",value:t.totalCollection,icon:a.jsx(ev,{className:"h-6 w-6 text-green-500"}),iconBgColor:"bg-green-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-green-400"})})}),a.jsx(Yr,{to:"/hostel/collections",className:"block",children:a.jsx(ka,{title:"Total Hostel Due",value:t.totalDue,icon:a.jsx(gA,{className:"h-6 w-6 text-red-500"}),iconBgColor:"bg-red-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-red-400"})})}),a.jsx(Yr,{to:"/hostel/expired",className:"block",children:a.jsx(ka,{title:"Expired Students",value:t.expiredCount,icon:a.jsx(Bd,{className:"h-6 w-6 text-orange-500"}),iconBgColor:"bg-orange-100",arrowIcon:a.jsx(Cn,{className:"h-5 w-5 text-orange-400"})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:"Branch Details"}),t.branches.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.branches.map(o=>a.jsxs(Yr,{to:`/hostel/branches/${o.id}/students`,className:"block p-4 bg-white rounded-lg shadow-md hover:shadow-lg hover:scale-105 transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-semibold text-lg text-gray-800 truncate",children:o.name}),a.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:a.jsx(dS,{className:"h-5 w-5 text-indigo-500"})})]}),a.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-600",children:[a.jsx(Fc,{className:"h-4 w-4 mr-2 text-gray-400"}),a.jsxs("span",{children:[o.studentCount," Students"]})]})]},o.id))}):a.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center text-gray-500",children:"No hostel branches have been added yet."})]})]})})]})})]})]})},Hve=()=>{const[e,t]=B.useState(!1),[r,n]=B.useState([]),[s,i]=B.useState(!0),[o,l]=B.useState(null);return B.useEffect(()=>{(async()=>{i(!0),l(null);try{const u=await De.getHostelStudents();if(!Array.isArray(u))throw new Error("Invalid data received from server");const h=new Date;h.setHours(0,0,0,0);const m=u.filter(y=>y.stayEndDate?new Date(y.stayEndDate)>=h:!1).map(y=>({id:y.id,name:y.name,phoneNumber:y.studentPhoneNumber||"N/A",branchName:y.branchName||"N/A",stayEndDate:new Date(y.stayEndDate).toLocaleDateString()}));n(m)}catch(u){console.error("Failed to fetch active students:",u);const h=u.message||"Failed to fetch active students";l(h),je.error(h)}finally{i(!1)}})()},[]),a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(Kn,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:s?a.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):o?a.jsx("div",{className:"text-center text-red-500",children:o}):a.jsxs(Rn.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(Rn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:" Active Hostel Students"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Membership End Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-4 py-4 text-center text-gray-500",children:"No active students found."})}):r.map(A=>a.jsxs(Rn.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.name}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.phoneNumber}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.branchName}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.stayEndDate})]},A.id))})]})})]})})]})},Vve=()=>{const[e,t]=B.useState([]),[r,n]=B.useState(!0),[s,i]=B.useState(!1),o=async()=>{try{n(!0);const A=await De.getInactiveStudents();t(A.students)}catch(A){console.error("Failed to fetch inactive students:",A.message),je.error("Failed to fetch inactive students")}finally{n(!1)}};B.useEffect(()=>{o()},[]);const l=async A=>{if(window.confirm("Are you sure you want to reactivate this student?"))try{await De.updateStudentStatus(A,{isActive:!0}),je.success("Student activated successfully"),o()}catch(u){console.error("Failed to activate student:",u.message),je.error("Failed to activate student")}};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(Kn,{isCollapsed:s,setIsCollapsed:i}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Inactive Students"}),a.jsx("p",{className:"text-gray-500",children:"List of all manually deactivated students."})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(kc,{children:[a.jsx(Lc,{children:a.jsxs(os,{children:[a.jsx(rr,{children:"Name"}),a.jsx(rr,{children:"Registration Number"}),a.jsx(rr,{children:"Phone"}),a.jsx(rr,{children:"Branch"}),a.jsx(rr,{children:"Actions"})]})}),a.jsx(Pc,{children:r?a.jsx(os,{children:a.jsx(qt,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):e.length>0?e.map(A=>a.jsxs(os,{children:[a.jsx(qt,{children:A.name}),a.jsx(qt,{children:A.registrationNumber||"N/A"}),a.jsx(qt,{children:A.phone}),a.jsx(qt,{children:A.branchName||"N/A"}),a.jsx(qt,{children:a.jsxs("button",{onClick:()=>l(A.id),className:"flex items-center gap-2 text-green-600 hover:text-green-800 font-semibold p-2",title:"Reactivate Student",children:[a.jsx(vR,{size:18}),a.jsx("span",{children:"Activate"})]})})]},A.id)):a.jsx(os,{children:a.jsx(qt,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No inactive students found."})})})]})})})]})})]})]})},Kve=()=>{const[e,t]=B.useState([]),[r,n]=B.useState([]),[s,i]=B.useState(null),[o,l]=B.useState(!0),[A,u]=B.useState(null),[h,m]=B.useState({lockerNumber:"",branchId:null}),[y,g]=B.useState(!1),b=()=>{};B.useEffect(()=>{(async()=>{try{const V=await De.getBranches();n(V)}catch(V){je.error("Failed to load branches"),console.error("Failed to fetch branches:",V)}finally{l(!1)}})()},[]),B.useEffect(()=>{(async()=>{if(s&&s.value){l(!0);try{const V=await De.getLockers(s.value);t(V.lockers)}catch(V){je.error("Failed to load lockers for this branch"),console.error("Failed to fetch lockers:",V)}finally{l(!1)}}else t([])})()},[s]);const C=async()=>{if(!h.lockerNumber){je.error("Locker number is required");return}if(!s||!s.value){je.error("Please select a branch first");return}try{const D=await De.createLocker({lockerNumber:h.lockerNumber,branchId:s.value});t(V=>[D.locker,...V]),m({lockerNumber:"",branchId:null}),je.success("Locker created successfully")}catch(D){console.error("Failed to create locker:",D),je.error(D.message||"Failed to create locker")}},I=async()=>{if(!A||!h.lockerNumber||!h.branchId){je.error("Locker number and branch are required");return}try{const D=await De.updateLocker(A.id,{lockerNumber:h.lockerNumber,branchId:h.branchId});if(s&&s.value){const V=await De.getLockers(s.value);t(V.lockers)}u(null),m({lockerNumber:"",branchId:null}),je.success("Locker updated successfully")}catch(D){console.error("Failed to update locker:",D),je.error(D.message||"Failed to update locker")}},v=async D=>{if(window.confirm("Are you sure you want to delete this locker? This action cannot be undone."))try{await De.deleteLocker(D),t(e.filter(V=>V.id!==D)),je.success("Locker deleted successfully")}catch(V){console.error("Failed to delete locker:",V),je.error(V.message||"Failed to delete locker")}},N=r.map(D=>({value:D.id,label:D.name})),F=D=>{u(D),m({lockerNumber:D.lockerNumber,branchId:D.branchId||null})},T=()=>{u(null),m({lockerNumber:"",branchId:null})};return a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(Kn,{isCollapsed:y,setIsCollapsed:g,onBarcodeClick:b}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 sm:mb-6",children:"Locker Management"}),a.jsxs("div",{className:"mb-6 max-w-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Branch"}),a.jsx(fa,{options:N,value:s,onChange:D=>i(D),placeholder:"Select a branch to view lockers",isClearable:!0})]}),a.jsxs("div",{className:`mb-6 bg-white rounded-lg border border-gray-200 shadow-sm p-4 ${s?"":"opacity-50"}`,children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:A?`Editing Locker: ${A.lockerNumber}`:"Add New Locker"}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[a.jsx("input",{type:"text",value:h.lockerNumber,onChange:D=>m(V=>({...V,lockerNumber:D.target.value})),placeholder:"Enter locker number",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",disabled:!s&&!A}),A&&a.jsx("div",{className:"w-full sm:w-48",children:a.jsx(fa,{options:N,value:N.find(D=>D.value===h.branchId),onChange:D=>m(V=>({...V,branchId:(D==null?void 0:D.value)||null}))})}),A?a.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[a.jsxs("button",{onClick:I,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[a.jsx(xR,{size:16,className:"mr-2"})," Save"]}),a.jsxs("button",{onClick:T,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:[a.jsx(zA,{size:16,className:"mr-2"})," Cancel"]})]}):a.jsxs("button",{onClick:C,disabled:!s,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[a.jsx(tv,{size:16,className:"mr-2"})," Add Locker"]})]}),!s&&!A&&a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Please select a branch to add a new locker."})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Locker Number"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Branch"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Status"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Assigned Student"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-4",children:"Loading..."})}):e.length>0?e.map(D=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 sm:px-6 py-4 font-medium",children:D.lockerNumber}),a.jsx("td",{className:"px-4 sm:px-6 py-4 text-gray-600",children:D.branchName}),a.jsx("td",{className:"px-4 sm:px-6 py-4",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${D.isAssigned?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:D.isAssigned?"Assigned":"Available"})}),a.jsx("td",{className:"px-4 sm:px-6 py-4 text-gray-600",children:D.studentName||"N/A"}),a.jsx("td",{className:"px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[a.jsx("button",{onClick:()=>F(D),className:"text-blue-600 hover:text-blue-800",title:"Edit Locker",children:a.jsx(mS,{size:16})}),a.jsx("button",{onClick:()=>v(D.id),className:"text-red-600 hover:text-red-800",title:"Delete Locker",children:a.jsx(il,{size:16})})]})})]},D.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:s?"No lockers found for this branch.":"Please select a branch to view lockers."})})})]})})]})})]})]})},Gve=()=>{var ae;const[e,t]=B.useState([]),[r,n]=B.useState(null),[s,i]=B.useState(!0),[o,l]=B.useState(""),[A,u]=B.useState(new Date().toISOString().split("T")[0]),[h,m]=B.useState(!1),[y,g]=B.useState(!1),[b,C]=B.useState(null),[I,v]=B.useState("daily"),[N,F]=B.useState(!1),[T,D]=B.useState({startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[V,P]=B.useState(new Date().toISOString().slice(0,7)),[U,k]=B.useState("all"),[z,R]=B.useState({page:1,limit:50,total:0}),H=ee=>{l(ee),R(oe=>({...oe,page:1}))},J=ee=>{P(ee),R(oe=>({...oe,page:1}))},ne=ee=>{v(ee),R(oe=>({...oe,page:1}))},Y=ee=>{k(ee),R(oe=>({...oe,page:1}))},G=()=>{l(""),u(new Date().toISOString().split("T")[0]),P(new Date().toISOString().slice(0,7)),k("all"),F(!1),R(ee=>({...ee,page:1}))};B.useEffect(()=>{q(),X(),K()},[I,A,V,U,o,z.page]);const K=async()=>{try{const ee=await De.getLibraryProfile();C({id:ee.library.id,library_code:ee.library.libraryCode,name:ee.library.libraryName})}catch(ee){console.error("Error loading library info:",ee)}},q=async()=>{i(!0);try{const ee={page:z.page,limit:z.limit,view:I,search:o.trim()};if(I==="daily")N&&T.startDate&&T.endDate?ee.date=T.startDate:ee.date=A;else if(I==="monthly"){const[pe,Be]=V.split("-");ee.month=parseInt(Be),ee.year=parseInt(pe)}console.log("Loading attendance with filters:",ee);const oe=await De.fetchAttendance(ee);t(oe.attendance||[]),R(pe=>{var Be;return{...pe,total:((Be=oe.pagination)==null?void 0:Be.totalRecords)||0}})}catch(ee){console.error("Error loading attendance:",ee),er.error(ee.message||"Failed to load attendance records"),t([])}finally{i(!1)}},X=async()=>{try{const[ee,oe,pe]=await Promise.all([De.getDashboardStats(),De.getTotalStudentsCount().catch(()=>0),De.getActiveStudentsCount().catch(()=>0)]);n({totalCollection:ee.totalCollection||0,totalDue:ee.totalDue||0,totalExpense:ee.totalExpense||0,profitLoss:ee.profitLoss||0,totalStudents:Number(oe)||0,activeStudents:Number(pe)||0,todayAttendance:e.length,monthlyAttendance:e.length})}catch(ee){console.error("Error loading stats:",ee),n({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0,totalStudents:0,activeStudents:0,todayAttendance:e.length,monthlyAttendance:e.length})}},fe=()=>{g(!0)},de=ee=>{if(!ee)return"--:--";try{return new Date(ee).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}catch{return"--:--"}},Q=ee=>{try{return new Date(ee).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return ee}},Z=()=>{const oe=[["Student Name","Registration Number","Phone","Date","First In","Last Out","Total Scans"].join(","),...e.map(Le=>[Le.studentName,Le.registrationNumber,Le.phone,Q(Le.date),de(Le.firstIn),de(Le.lastOut),Le.totalScans].join(","))].join(`
`),pe=new Blob([oe],{type:"text/csv"}),Be=window.URL.createObjectURL(pe),_e=document.createElement("a");_e.href=Be,_e.download=`attendance-${I}-${A||V}.csv`,_e.click(),window.URL.revokeObjectURL(Be)};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(Kn,{isCollapsed:h,setIsCollapsed:m,onBarcodeClick:fe}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Attendance Management"}),a.jsx("p",{className:"text-blue-100",children:"Monitor and analyze student attendance patterns"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex bg-white/20 backdrop-blur-sm rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>ne("daily"),className:`px-4 py-2 rounded-md transition-all duration-200 flex items-center space-x-2 ${I==="daily"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[a.jsx(xee,{className:"w-4 h-4"}),a.jsx("span",{children:"Daily"})]}),a.jsxs("button",{onClick:()=>ne("monthly"),className:`px-4 py-2 rounded-md transition-all duration-200 flex items-center space-x-2 ${I==="monthly"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[a.jsx(OF,{className:"w-4 h-4"}),a.jsx("span",{children:"Monthly"})]})]}),a.jsxs("button",{onClick:()=>F(!N),className:`bg-white/20 backdrop-blur-sm hover:bg-white/30 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 ${N?"ring-2 ring-white/50":""}`,children:[a.jsx(AS,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"})]}),a.jsxs("button",{onClick:Z,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2",children:[a.jsx(a1,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]}),a.jsxs("button",{onClick:q,disabled:s,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 disabled:opacity-50 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2",children:[a.jsx(hB,{className:`w-4 h-4 ${s?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]})]})]}),N&&a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 mb-4 border border-white/20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Search Students"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-blue-200"}),a.jsx("input",{type:"text",placeholder:"Name, phone, or reg. no.",value:o,onChange:ee=>H(ee.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),I==="daily"?a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Date Range"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"date",value:T.startDate,onChange:ee=>D(oe=>({...oe,startDate:ee.target.value})),className:"flex-1 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"}),a.jsx("input",{type:"date",value:T.endDate,onChange:ee=>D(oe=>({...oe,endDate:ee.target.value})),className:"flex-1 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Select Month"}),a.jsx("input",{type:"month",value:V,onChange:ee=>J(ee.target.value),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Filter by Status"}),a.jsxs("select",{value:U,onChange:ee=>Y(ee.target.value),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[a.jsx("option",{value:"all",className:"text-gray-800",children:"All Students"}),a.jsx("option",{value:"present",className:"text-gray-800",children:"Present Only"}),a.jsx("option",{value:"absent",className:"text-gray-800",children:"Absent Only"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100 opacity-0",children:"Action"}),a.jsxs("button",{onClick:q,className:"w-full bg-white/30 hover:bg-white/40 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[a.jsx(za,{className:"w-4 h-4"}),a.jsx("span",{children:"Apply Filters"})]})]})]}),(o||U!=="all")&&a.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:a.jsxs("button",{onClick:G,className:"text-white/80 hover:text-white text-sm flex items-center space-x-1",children:[a.jsx(zA,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear all filters"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bd,{className:"w-8 h-8 text-green-300 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length}),a.jsx("p",{className:"text-blue-100 text-sm",children:I==="daily"?"Present Today":"Monthly Records"})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qo,{className:"w-8 h-8 text-blue-300 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:(r==null?void 0:r.totalStudents)||0}),a.jsx("p",{className:"text-blue-100 text-sm",children:"Total Students"})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Js,{className:"w-8 h-8 text-yellow-300 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length>0?de((ae=e[0])==null?void 0:ae.firstIn):"--:--"}),a.jsx("p",{className:"text-blue-100 text-sm",children:"First Check-in"})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(bR,{className:"w-8 h-8 text-purple-300 mr-3"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:[r?Math.round(e.length/r.totalStudents*100):0,"%"]}),a.jsx("p",{className:"text-blue-100 text-sm",children:"Attendance Rate"})]})]})})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:s?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(hB,{className:"w-8 h-8 animate-spin text-blue-500"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading attendance records..."})]}):e.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qo,{className:"w-4 h-4 mr-2"}),"Student Details"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(rl,{className:"w-4 h-4 mr-2"}),"Date"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Js,{className:"w-4 h-4 mr-2"}),"First In"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Js,{className:"w-4 h-4 mr-2"}),"Last Out"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(OF,{className:"w-4 h-4 mr-2"}),"Total Scans"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(mc,{className:"w-4 h-4 mr-2"}),"Status"]})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:e.map((ee,oe)=>{var pe,Be;return a.jsxs("tr",{className:`hover:bg-blue-50 transition-colors duration-150 ${oe%2===0?"bg-white":"bg-gray-50/50"}`,children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:((Be=(pe=ee.studentName)==null?void 0:pe.charAt(0))==null?void 0:Be.toUpperCase())||"S"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ee.studentName}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(WA,{className:"w-3 h-3 mr-1"}),ee.phone]}),ee.registrationNumber&&a.jsxs("div",{className:"text-xs text-gray-400",children:["Reg: ",ee.registrationNumber]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q(ee.date)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:a.jsx(Js,{className:"w-4 h-4 text-green-600"})}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:de(ee.firstIn)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-lg mr-3",children:a.jsx(Js,{className:"w-4 h-4 text-red-600"})}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:de(ee.lastOut)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[ee.totalScans," scans"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee.lastOut?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:ee.lastOut?"Checked Out":"Checked In"})})]},`${ee.studentId}-${ee.date}`)})})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(gA,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No attendance records found"}),a.jsx("p",{className:"text-gray-500",children:o||U!=="all"?"Try adjusting your filters or search terms.":`No attendance records for ${I==="daily"?"this date":"this month"}.`})]})}),z.total>z.limit&&a.jsxs("div",{className:"flex items-center justify-between bg-white px-6 py-3 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"flex items-center text-sm text-gray-700",children:a.jsxs("span",{children:["Showing ",(z.page-1)*z.limit+1," to ",Math.min(z.page*z.limit,z.total)," of ",z.total," results"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>R(ee=>({...ee,page:Math.max(1,ee.page-1)})),disabled:z.page===1,className:"p-2 rounded-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Pd,{className:"w-4 h-4"})}),a.jsxs("span",{className:"px-3 py-1 text-sm font-medium text-gray-700",children:["Page ",z.page," of ",Math.ceil(z.total/z.limit)]}),a.jsx("button",{onClick:()=>R(ee=>({...ee,page:Math.min(Math.ceil(z.total/z.limit),ee.page+1)})),disabled:z.page>=Math.ceil(z.total/z.limit),className:"p-2 rounded-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Cn,{className:"w-4 h-4"})})]})]})]})})]}),b&&y&&a.jsx(c1,{isOpen:y,onClose:()=>g(!1),libraryCode:b.library_code,libraryName:b.name,libraryId:b.id})]})},Wve=()=>{const[e,t]=B.useState(null),[r,n]=B.useState(!1),[s,i]=B.useState(!0),[o,l]=B.useState(null);B.useEffect(()=>{A()},[]);const A=async()=>{i(!0),l(null);try{console.log("Testing QR Code Generation..."),console.log("Step 1: Testing API accessibility...");const h=await De.getLibraryProfile();if(console.log("API Response:",h),!h||!h.library)throw new Error("No library data received from API");console.log("Step 2: Checking library data structure...");const m=h.library;if(!m.id||!m.libraryCode||!m.libraryName)throw new Error(`Missing required library fields: ${JSON.stringify(m)}`);console.log("Step 3: Setting library data for QR generation..."),t({id:m.id,library_code:m.libraryCode,name:m.libraryName}),console.log("QR Code test completed successfully!"),er.success("QR Code generation test passed!")}catch(h){console.error("QR Code test failed:",h),l(h.message||"Failed to load library information"),er.error(`QR Code test failed: ${h.message}`)}finally{i(!1)}},u=()=>{if(!e){er.error("Library information not available");return}n(!0)};return a.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-md mx-auto",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx(NA,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"QR Code Test"}),a.jsx("p",{className:"text-gray-600",children:"Testing QR code generation functionality"})]}),s&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Testing QR code generation..."})]}),o&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ya,{className:"w-5 h-5 text-red-500 mr-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Test Failed"}),a.jsx("p",{className:"text-sm text-red-600 mt-1",children:o})]})]}),a.jsx("button",{onClick:A,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry Test"})]}),e&&!s&&!o&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(mc,{className:"w-5 h-5 text-green-500 mr-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-green-800",children:"Test Passed"}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Library data loaded successfully"})]})]})}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Library Information:"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"ID:"})," ",e.id]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Code:"})," ",e.library_code]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",e.name]})]})]}),a.jsxs("button",{onClick:u,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[a.jsx(NA,{className:"w-4 h-4 mr-2"}),"Generate QR Code"]})]}),e&&r&&a.jsx(c1,{isOpen:r,onClose:()=>n(!1),libraryCode:e.library_code,libraryName:e.name,libraryId:e.id})]})},zve=()=>new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},document.body.appendChild(t)}),$ve=()=>{Rr();const{user:e}=Ca(),[t,r]=B.useState(null),[n,s]=B.useState(!0);B.useEffect(()=>{(async()=>{try{const h=await Vn.get("/api/subscriptions/status");r(h.data.subscription)}catch(h){console.error("Error fetching subscription info:",h)}finally{s(!1)}})()},[]);const i=async(u,h)=>{try{if((await Vn.post("/api/subscriptions/verify-payment",{razorpay_order_id:u.razorpay_order_id,razorpay_payment_id:u.razorpay_payment_id,razorpay_signature:u.razorpay_signature,planId:h.id})).data.success){const y=await Vn.get("/api/subscriptions/status");r(y.data.subscription),alert("Payment successful! Your subscription has been activated.")}else alert("Payment verification failed. Please contact support.")}catch(m){console.error("Error verifying payment:",m),alert("Error verifying payment. Please contact support.")}},o=async u=>{if(!await zve()){alert("Failed to load Razorpay. Please check your internet connection.");return}try{const m=await Vn.post("/api/subscriptions/create-order",{planId:u.id,amount:u.amount}),y={key:"rzp_live_R9JUr6fbSLyOOM",amount:m.data.amount,currency:"INR",name:"StudyLib",description:`Subscription for ${u.name}`,order_id:m.data.id,handler:async function(b){await i(b,u)},prefill:{name:(e==null?void 0:e.username)||"",email:"",contact:""},notes:{plan_id:u.id},theme:{color:"#6366f1"}};new window.Razorpay(y).open()}catch(m){console.error("Error creating Razorpay order:",m),alert("Error initiating payment. Please try again.")}},l=u=>{if(!t||t.plan!==u)return!1;const h=t.endDate?new Date(t.endDate):null,m=new Date;return!!t.isActive&&!!h&&h.getTime()>m.getTime()},A=[{id:"free_trial",name:"Free Trial Plan",description:"Kickstart Your Journey  7 Days Free",price:"0",amount:0,features:["Full access to all features","Manage unlimited students","Track attendance","Generate reports"],cta:"Current Plan",isCurrent:l("free_trial"),disabled:!0},{id:"1_month",name:"1-Month Plan",description:"One Month to Build a Routine",price:"300",amount:3e4,features:["Unlimited student addition","All library management features","Priority support","No restrictions"],cta:"Start My Focus Journey",isCurrent:l("1_month"),disabled:!1},{id:"3_month",name:"3-Month Plan",description:"Stay Focused for 90 Days",price:"850",amount:85e3,features:["Unlimited students","All features included","Discounted rate","Priority support"],cta:"I'm In  Let's Go",isCurrent:l("3_month"),disabled:!1},{id:"6_month",name:"6-Month Plan",description:"Make This Your Growth Phase",price:"1600",amount:16e4,features:["Great value package","All premium features","Extended support","Best for growing libraries"],cta:"Fuel My Discipline",isCurrent:l("6_month"),disabled:!1},{id:"12_month",name:"12-Month Plan",description:"All In for the Year",price:"3000",amount:3e5,features:["Best ;-) value","All features unlocked","24/7 priority support","Focus for the long term"],cta:"Commit to Success",isCurrent:l("12_month"),disabled:!1},{id:"1_day",name:"1-Day Plan",description:"Full access for 24 hours",price:"10",amount:1e3,features:["All features for 1 day","Great for quick needs","Priority support"],cta:"Get 1 Day Access",isCurrent:l("1_day"),disabled:!1}];return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading subscription details..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Subscription Plans"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Choose a plan that fits your library's growth journey"})]}),(e==null?void 0:e.is_trial)&&(t==null?void 0:t.daysLeft)!==null&&(t==null?void 0:t.daysLeft)>0&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-8 text-center",children:a.jsxs("p",{className:"font-bold",children:[" 7-Day Free Trial Active  ",t.daysLeft," Days Left"]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-10 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Most people don't finish what they start. Not you."}),a.jsx("p",{className:"text-gray-600",children:"This subscription isn't just a payment  it's your decision to run things smarter. And it starts now."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[A.map(u=>a.jsx("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden border-2 ${u.isCurrent?"border-purple-500":"border-gray-200"}`,children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:u.name}),a.jsx("p",{className:"text-gray-600 mb-4",children:u.description}),a.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-4",children:u.price}),a.jsx("ul",{className:"space-y-2 mb-6",children:u.features.map((h,m)=>a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-gray-700",children:h})]},m))}),a.jsx("button",{onClick:()=>o(u),disabled:u.disabled||u.isCurrent,className:`w-full py-3 px-4 rounded-lg font-semibold transition-colors ${u.isCurrent?"bg-gray-200 text-gray-700 cursor-default":u.disabled?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600"}`,children:u.isCurrent?"Current Plan":u.cta})]})},u.id)),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 border-gray-200",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"9-Month Plan"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The Transformation Period"}),a.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-4",children:"2200"}),a.jsxs("ul",{className:"space-y-2 mb-6",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-gray-700",children:"All premium features"})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-gray-700",children:"Best value for serious libraries"})]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-gray-700",children:"Extended support period"})]})]}),(()=>{const u=l("9_month");return a.jsx("button",{onClick:()=>o({id:"9_month",name:"9-Month Plan",amount:22e4}),disabled:u,className:`w-full py-3 px-4 rounded-lg font-semibold transition-colors ${u?"bg-gray-200 text-gray-700 cursor-default":"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600"}`,children:u?"Current Plan":"Transform My Library"})})()]})})]}),a.jsxs("div",{className:"mt-10 text-center",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:'"Just 10/day to manage your study space professionally."'}),a.jsx("p",{className:"text-gray-600",children:'"Join 300+ libraries building distraction-free environments."'})]})]})})},qve=()=>{const e=Rr(),[t,r]=B.useState({ownerName:"",ownerEmail:"",ownerPhone:"",libraryName:"",password:"",confirmPassword:"",libraryCode:""}),[n,s]=B.useState(!1),[i,o]=B.useState(!1),[l,A]=B.useState(!1),[u,h]=B.useState(null),[m,y]=B.useState(!1),g=I=>{const{name:v,value:N}=I.target;r(F=>({...F,[v]:N})),v==="libraryCode"&&h(null)},b=async()=>{if(!t.libraryCode||t.libraryCode.length<3){h(null);return}y(!0);try{const v=await(await Ei(`/owner-auth/check-code/${t.libraryCode}`)).json();h(v.available)}catch(I){console.error("Error checking library code:",I),er.error("Error checking library code availability")}finally{y(!1)}},C=async I=>{if(I.preventDefault(),!t.ownerName||!t.ownerEmail||!t.ownerPhone||!t.libraryName||!t.password||!t.confirmPassword){er.error("All fields are required");return}if(t.password!==t.confirmPassword){er.error("Passwords do not match");return}if(t.password.length<6){er.error("Password must be at least 6 characters long");return}if(t.ownerPhone.length!==10||!/^\d+$/.test(t.ownerPhone)){er.error("Phone number must be exactly 10 digits");return}if(t.libraryCode&&u===!1){er.error("Library code is not available. Please choose a different one.");return}A(!0);try{const v=await Ei("/owner-auth/register",{method:"POST",body:JSON.stringify(t)}),N=await v.json();v.ok?(er.success("Registration successful! Please login with your credentials."),e("/owner-login")):er.error(N.message||"Registration failed")}catch(v){console.error("Registration error:",v),er.error("Network error. Please try again.")}finally{A(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-purple-600 to-orange-400 rounded-full flex items-center justify-center mb-4",children:a.jsx(Ec,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Register Your Library"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create an account to manage your library"})]}),a.jsxs("form",{onSubmit:C,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Name *"}),a.jsxs("div",{className:"relative",children:[a.jsx(qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"ownerName",value:t.ownerName,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",name:"ownerEmail",value:t.ownerEmail,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(WA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",name:"ownerPhone",value:t.ownerPhone,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Name *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryName",value:t.libraryName,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your library name",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code *"}),a.jsxs("div",{className:"relative",children:[a.jsx(fR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryCode",value:t.libraryCode,onChange:g,onBlur:b,className:`w-full pl-10 pr-20 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u===!0?"border-green-300":u===!1?"border-red-300":"border-gray-300"}`,placeholder:"Leave empty to auto-generate",maxLength:20}),m&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"})}),!m&&u===!0&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-600 text-sm",children:" Available"}),!m&&u===!1&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-red-600 text-sm",children:" Taken"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students will use this code to log in. If left empty, we'll generate one for you."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:n?"text":"password",name:"password",value:t.password,onChange:g,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter password (min 6 characters)",required:!0}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?a.jsx(G0,{className:"w-5 h-5"}):a.jsx(za,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:g,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?a.jsx(G0,{className:"w-5 h-5"}):a.jsx(za,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:l?"Creating Account...":"Register Library"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",a.jsx(Yr,{to:"/owner-login",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Sign in here"})]})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(Yr,{to:"/student-login",className:"text-sm text-gray-500 hover:text-gray-700",children:"Student Login "})})]})})},Xve=({onBack:e,mode:t})=>{const[r,n]=B.useState("verify"),[s,i]=B.useState(!1),[o,l]=B.useState({email:"",phone:"",libraryCode:""}),[A,u]=B.useState({newPassword:"",confirmPassword:""}),h=async y=>{y.preventDefault(),i(!0);try{let g;t==="owner"?g=await Ei("/owner-auth/forgot-password/verify",{method:"POST",body:JSON.stringify({email:o.email,phone:o.phone})}):g=await Ei("/auth/forgot-password/verify",{method:"POST",body:JSON.stringify({email:o.email,phone:o.phone,libraryCode:o.libraryCode})});const b=await g.json();g.ok?(er.success("Account verified! You can now reset your password."),n("reset")):er.error(b.message||"Verification failed")}catch(g){console.error("Verification error:",g),er.error("Network error. Please try again.")}finally{i(!1)}},m=async y=>{if(y.preventDefault(),A.newPassword!==A.confirmPassword){er.error("Passwords do not match");return}if(A.newPassword.length<6){er.error("Password must be at least 6 characters long");return}i(!0);try{let g;t==="owner"?g=await Ei("/owner-auth/forgot-password/reset",{method:"POST",body:JSON.stringify(A)}):g=await Ei("/auth/forgot-password/reset",{method:"POST",body:JSON.stringify(A)});const b=await g.json();g.ok?(er.success("Password reset successfully! You can now log in."),e()):er.error(b.message||"Password reset failed")}catch(g){console.error("Password reset error:",g),er.error("Network error. Please try again.")}finally{i(!1)}};return a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-purple-600 to-orange-400 rounded-full flex items-center justify-center mb-4",children:a.jsx(cd,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r==="verify"?"Forgot Password":"Reset Password"}),a.jsx("p",{className:"text-gray-600 mt-2",children:r==="verify"?`Verify your ${t==="owner"?"owner":"staff"} account`:"Enter your new password"})]}),r==="verify"?a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[t==="user"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:o.libraryCode,onChange:y=>l(g=>({...g,libraryCode:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter library code",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",value:o.email,onChange:y=>l(g=>({...g,email:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email address",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(WA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",value:o.phone,onChange:y=>l(g=>({...g,phone:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your phone number",required:!0})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:s?"Verifying...":"Verify Account"})]}):a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"password",value:A.newPassword,onChange:y=>u(g=>({...g,newPassword:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter new password",required:!0,minLength:6})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"password",value:A.confirmPassword,onChange:y=>u(g=>({...g,confirmPassword:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm new password",required:!0,minLength:6})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:s?"Resetting Password...":"Reset Password"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("button",{onClick:e,className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-medium",children:[a.jsx(sl,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})},Yve=()=>{const e=Rr(),{login:t}=Ca(),[r,n]=B.useState("owner"),[s,i]=B.useState(!1),[o,l]=B.useState({phone:"",password:""}),[A,u]=B.useState({username:"",password:"",libraryCode:""}),[h,m]=B.useState(!1),[y,g]=B.useState(!1),[b,C]=B.useState(!1),I=N=>{const{name:F,value:T}=N.target;l(D=>({...D,[F]:T}))},v=async N=>{if(N.preventDefault(),r==="owner"){if(!o.phone||!o.password){er.error("Phone number and password are required");return}g(!0);try{const F=await Ei("/owner-auth/login",{method:"POST",body:JSON.stringify(o)}),T=await F.json();F.ok?(er.success("Login successful!"),t(T.owner),e("/dashboard"),setTimeout(()=>window.location.reload(),500)):er.error(T.message||"Login failed")}catch(F){console.error("Login error:",F),er.error("Network error. Please try again.")}finally{g(!1)}}else{if(!A.username||!A.password){er.error("Username and password are required");return}C(!0);try{const F=await De.login({username:A.username,password:A.password,libraryCode:A.libraryCode});F&&(er.success("Login successful!"),t({...F,permissions:F.permissions||[]}),e("/dashboard"),setTimeout(()=>window.location.reload(),300))}catch(F){er.error((F==null?void 0:F.message)||"Login failed")}finally{C(!1)}}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center p-4",children:s?a.jsx(Xve,{mode:r,onBack:()=>i(!1)}):a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-purple-600 to-orange-400 rounded-full flex items-center justify-center mb-4",children:a.jsx(Ec,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sign In"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Owner or Staff/Admin"})]}),a.jsxs("div",{className:"flex mb-6 p-1 bg-gray-100 rounded-lg",children:[a.jsx("button",{type:"button",onClick:()=>n("owner"),className:`flex-1 py-2 rounded-md text-sm font-medium ${r==="owner"?"bg-white shadow border border-gray-200":"text-gray-600"}`,children:"Owner"}),a.jsx("button",{type:"button",onClick:()=>n("user"),className:`flex-1 py-2 rounded-md text-sm font-medium ${r==="user"?"bg-white shadow border border-gray-200":"text-gray-600"}`,children:"Staff / Admin"})]}),a.jsx("form",{onSubmit:v,className:"space-y-6",children:r==="owner"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:I,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your phone number",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:h?"text":"password",name:"password",value:o.password,onChange:I,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?a.jsx(G0,{className:"w-5 h-5"}):a.jsx(za,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:y?"Signing In...":"Sign In as Owner"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryCode",value:A.libraryCode,onChange:N=>u(F=>({...F,libraryCode:N.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter library code",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"username",value:A.username,onChange:N=>u(F=>({...F,username:N.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter username",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:h?"text":"password",name:"user_password",value:A.password,onChange:N=>u(F=>({...F,password:N.target.value})),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?a.jsx(G0,{className:"w-5 h-5"}):a.jsx(za,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:b,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:b?"Signing In...":"Sign In as Staff/Admin"})]})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("button",{onClick:()=>i(!0),className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"Forgot Password?"})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",a.jsx(Yr,{to:"/owner-register",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Register your library"})]})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(Yr,{to:"/student-login",className:"text-sm text-gray-500 hover:text-gray-700",children:"Student Login "})})]})})},Zve=()=>{const e=Rr(),[t,r]=B.useState({libraryCode:"",phone:"",password:""}),[n,s]=B.useState(!1),[i,o]=B.useState(!1),l=u=>{const{name:h,value:m}=u.target;r(y=>({...y,[h]:h==="libraryCode"?m.toUpperCase():m}))},A=async u=>{if(u.preventDefault(),!t.libraryCode||!t.phone||!t.password){er.error("All fields are required");return}if(t.phone.length!==10||!/^\d+$/.test(t.phone)){er.error("Phone number must be exactly 10 digits");return}o(!0);try{const h=await Ei("/student-auth/login",{method:"POST",body:JSON.stringify({libraryCode:t.libraryCode,phone:t.phone,password:t.password})}),m=await h.json();h.ok?(er.success(`Welcome, ${m.student.name}!`),e("/student-dashboard")):er.error(m.message||"Login failed")}catch(h){console.error("Student login error:",h),er.error("Network error. Please try again.")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center mb-4",children:a.jsx(mR,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Login"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Access your library account"})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(fR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryCode",value:t.libraryCode,onChange:l,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent uppercase",placeholder:"Enter library code",maxLength:20,required:!0})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ask your library for the library code"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(WA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:l,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number",maxLength:10,required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(cd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:n?"text":"password",name:"password",value:t.password,onChange:l,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?a.jsx(G0,{className:"w-5 h-5"}):a.jsx(za,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your password is the same as your phone number"})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:i?"Signing In...":"Sign In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-gray-600 text-sm",children:"Don't have an account? Contact your library to get registered."})}),a.jsxs("div",{className:"mt-4 text-center space-y-2",children:[a.jsx(Yr,{to:"/owner-login",className:"block text-sm text-gray-500 hover:text-gray-700",children:"Library Owner Login "}),a.jsx(Yr,{to:"/",className:"block text-sm text-gray-500 hover:text-gray-700",children:" Register Library"})]})]})})},j5=B.forwardRef(({studentId:e,studentName:t,className:r="",variant:n="default",children:s},i)=>{const[o,l]=B.useState(!1),A=B.useRef(null),u=i||A,h=B.useCallback(async()=>{const b=u.current;if(!b)throw new Error("No content to generate PDF from");try{const C=b.cloneNode(!0);C.style.position="absolute",C.style.left="-9999px",C.style.top="0",document.body.appendChild(C);const I=await jv(C,{scale:2,useCORS:!0,logging:!0,backgroundColor:"#ffffff",allowTaint:!0,imageTimeout:15e3,onclone:z=>{const R=Array.from(z.images);return R.length>0?Promise.all(R.map(H=>H.complete?Promise.resolve():new Promise(J=>{H.onload=J,H.onerror=J}))):Promise.resolve()}});if(document.body.removeChild(C),!I)throw new Error("Failed to capture content");const v=I.toDataURL("image/png");if(!v||v==="data:,")throw new Error("Failed to generate image data from content");const N=new Xt("p","mm","a4"),F=N.internal.pageSize.getWidth(),T=N.internal.pageSize.getHeight(),D=F/I.width,V=T/I.height,P=Math.min(D,V,1),U=(F-I.width*P)/2,k=10;try{N.addImage(v,"PNG",U,k,I.width*P,I.height*P,void 0,"FAST")}catch(z){throw console.error("Error adding image to PDF:",z),new Error("Failed to add content to PDF. The content might contain unsupported elements.")}return N}catch(C){throw console.error("Error generating PDF:",C),C}},[u]),m=B.useCallback(async()=>{if(!o){l(!0);try{const b=await h();if(!b)return;const C=`invoice_${t.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;b.save(C),je.success("Invoice downloaded as PDF!")}catch(b){console.error("Error generating PDF:",b),je.error(b instanceof Error?b.message:"Failed to generate PDF")}finally{l(!1)}}},[h,o,t]),y=vD.useReactToPrint({pageContent:()=>u.current||null,onAfterPrint:()=>{l(!1),je.success("Invoice printed successfully!")},onBeforeGetContent:async()=>(l(!0),new Promise(b=>{setTimeout(b,500)})),onBeforePrint:()=>new Promise(b=>{setTimeout(b,500)}),pageStyle:`
      @page { 
        size: A4;
        margin: 10mm;
      }
      @media print {
        body { 
          -webkit-print-color-adjust: exact; 
        }
        .no-print, .print-hide { 
          display: none !important; 
        }
      }
    `,documentTitle:`Invoice_${t}_${new Date().toISOString().split("T")[0]}`,removeAfterPrint:!1,onPrintError:b=>{console.error("Print error:",b),l(!1),je.error("Failed to print. Please try again.")}}),g=n==="text"?"text-blue-600 hover:text-blue-800 hover:bg-blue-50 px-2 py-1 rounded":"px-3 py-1.5 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500";return a.jsxs("div",{className:r,children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:m,disabled:o,className:`inline-flex items-center ${g} disabled:opacity-50`,type:"button",children:[a.jsx(a1,{className:"h-4 w-4 mr-1.5"}),o?"Generating...":n==="text"?"Download":"Download Invoice"]}),a.jsxs("button",{onClick:y,disabled:o,className:`inline-flex items-center ${g} disabled:opacity-50`,type:"button",children:[a.jsx(fS,{className:"h-4 w-4 mr-1.5"}),n==="text"?"Print":"Print Invoice"]})]}),a.jsx("div",{className:"hidden",children:a.jsx("div",{ref:A,className:"p-6 bg-white",children:s})})]})});var kt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(kt||(kt={}));var jk=new Map([[kt.QR_CODE,"QR_CODE"],[kt.AZTEC,"AZTEC"],[kt.CODABAR,"CODABAR"],[kt.CODE_39,"CODE_39"],[kt.CODE_93,"CODE_93"],[kt.CODE_128,"CODE_128"],[kt.DATA_MATRIX,"DATA_MATRIX"],[kt.MAXICODE,"MAXICODE"],[kt.ITF,"ITF"],[kt.EAN_13,"EAN_13"],[kt.EAN_8,"EAN_8"],[kt.PDF_417,"PDF_417"],[kt.RSS_14,"RSS_14"],[kt.RSS_EXPANDED,"RSS_EXPANDED"],[kt.UPC_A,"UPC_A"],[kt.UPC_E,"UPC_E"],[kt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),_k;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(_k||(_k={}));function Jve(e){return Object.values(kt).includes(e)}var u2;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(u2||(u2={}));var ebe=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[u2.SCAN_TYPE_CAMERA,u2.SCAN_TYPE_FILE],e}(),ZH=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!jk.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,jk.get(t))},e}(),Tk=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),ON;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(ON||(ON={}));var tbe=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:ON.UNKWOWN_ERROR}},e}(),rbe=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function AA(e){return typeof e>"u"||e===null}var r0=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),JH=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(s),o=Object.keys(t),l=0,A=o;l<A.length;l++){var u=A[l];if(i.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e}(),RN={exports:{}};(function(e,t){(function(r,n){n(t)})(Tf,function(r){function n(te){return te==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,c){te.__proto__=c}||function(te,c){for(var d in c)c.hasOwnProperty(d)&&(te[d]=c[d])};function i(te,c){s(te,c);function d(){this.constructor=te}te.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}function o(te,c){var d=Object.setPrototypeOf;d?d(te,c):te.__proto__=c}function l(te,c){c===void 0&&(c=te.constructor);var d=Error.captureStackTrace;d&&d(te,c)}var A=function(te){i(c,te);function c(d){var f=this.constructor,p=te.call(this,d)||this;return Object.defineProperty(p,"name",{value:f.name,enumerable:!1}),o(p,f.prototype),l(p),p}return c}(Error);class u extends A{constructor(c=void 0){super(c),this.message=c}getKind(){return this.constructor.kind}}u.kind="Exception";class h extends u{}h.kind="ArgumentException";class m extends u{}m.kind="IllegalArgumentException";class y{constructor(c){if(this.binarizer=c,c===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(c,d){return this.binarizer.getBlackRow(c,d)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(c,d,f,p){const x=this.binarizer.getLuminanceSource().crop(c,d,f,p);return new y(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new y(this.binarizer.createBinarizer(c))}rotateCounterClockwise45(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new y(this.binarizer.createBinarizer(c))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class g extends u{static getChecksumInstance(){return new g}}g.kind="ChecksumException";class b{constructor(c){this.source=c}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(c,d,f,p,x){for(;x--;)f[p++]=c[d++]}static currentTimeMillis(){return Date.now()}}class I extends u{}I.kind="IndexOutOfBoundsException";class v extends I{constructor(c=void 0,d=void 0){super(d),this.index=c,this.message=d}}v.kind="ArrayIndexOutOfBoundsException";class N{static fill(c,d){for(let f=0,p=c.length;f<p;f++)c[f]=d}static fillWithin(c,d,f,p){N.rangeCheck(c.length,d,f);for(let x=d;x<f;x++)c[x]=p}static rangeCheck(c,d,f){if(d>f)throw new m("fromIndex("+d+") > toIndex("+f+")");if(d<0)throw new v(d);if(f>c)throw new v(f)}static asList(...c){return c}static create(c,d,f){return Array.from({length:c}).map(x=>Array.from({length:d}).fill(f))}static createInt32Array(c,d,f){return Array.from({length:c}).map(x=>Int32Array.from({length:d}).fill(f))}static equals(c,d){if(!c||!d||!c.length||!d.length||c.length!==d.length)return!1;for(let f=0,p=c.length;f<p;f++)if(c[f]!==d[f])return!1;return!0}static hashCode(c){if(c===null)return 0;let d=1;for(const f of c)d=31*d+f;return d}static fillUint8Array(c,d){for(let f=0;f!==c.length;f++)c[f]=d}static copyOf(c,d){return c.slice(0,d)}static copyOfUint8Array(c,d){if(c.length<=d){const f=new Uint8Array(d);return f.set(c),f}return c.slice(0,d)}static copyOfRange(c,d,f){const p=f-d,x=new Int32Array(p);return C.arraycopy(c,d,x,0,p),x}static binarySearch(c,d,f){f===void 0&&(f=N.numberComparator);let p=0,x=c.length-1;for(;p<=x;){const w=x+p>>1,E=f(d,c[w]);if(E>0)p=w+1;else if(E<0)x=w-1;else return w}return-p-1}static numberComparator(c,d){return c-d}}class F{static numberOfTrailingZeros(c){let d;if(c===0)return 32;let f=31;return d=c<<16,d!==0&&(f-=16,c=d),d=c<<8,d!==0&&(f-=8,c=d),d=c<<4,d!==0&&(f-=4,c=d),d=c<<2,d!==0&&(f-=2,c=d),f-(c<<1>>>31)}static numberOfLeadingZeros(c){if(c===0)return 32;let d=1;return c>>>16||(d+=16,c<<=16),c>>>24||(d+=8,c<<=8),c>>>28||(d+=4,c<<=4),c>>>30||(d+=2,c<<=2),d-=c>>>31,d}static toHexString(c){return c.toString(16)}static toBinaryString(c){return String(parseInt(String(c),2))}static bitCount(c){return c=c-(c>>>1&1431655765),c=(c&858993459)+(c>>>2&858993459),c=c+(c>>>4)&252645135,c=c+(c>>>8),c=c+(c>>>16),c&63}static truncDivision(c,d){return Math.trunc(c/d)}static parseInt(c,d=void 0){return parseInt(c,d)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class T{constructor(c,d){c===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=c,d==null?this.bits=T.makeArray(c):this.bits=d)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(c){if(c>this.bits.length*32){const d=T.makeArray(c);C.arraycopy(this.bits,0,d,0,this.bits.length),this.bits=d}}get(c){return(this.bits[Math.floor(c/32)]&1<<(c&31))!==0}set(c){this.bits[Math.floor(c/32)]|=1<<(c&31)}flip(c){this.bits[Math.floor(c/32)]^=1<<(c&31)}getNextSet(c){const d=this.size;if(c>=d)return d;const f=this.bits;let p=Math.floor(c/32),x=f[p];x&=~((1<<(c&31))-1);const w=f.length;for(;x===0;){if(++p===w)return d;x=f[p]}const E=p*32+F.numberOfTrailingZeros(x);return E>d?d:E}getNextUnset(c){const d=this.size;if(c>=d)return d;const f=this.bits;let p=Math.floor(c/32),x=~f[p];x&=~((1<<(c&31))-1);const w=f.length;for(;x===0;){if(++p===w)return d;x=~f[p]}const E=p*32+F.numberOfTrailingZeros(x);return E>d?d:E}setBulk(c,d){this.bits[Math.floor(c/32)]=d}setRange(c,d){if(d<c||c<0||d>this.size)throw new m;if(d===c)return;d--;const f=Math.floor(c/32),p=Math.floor(d/32),x=this.bits;for(let w=f;w<=p;w++){const E=w>f?0:c&31,L=(2<<(w<p?31:d&31))-(1<<E);x[w]|=L}}clear(){const c=this.bits.length,d=this.bits;for(let f=0;f<c;f++)d[f]=0}isRange(c,d,f){if(d<c||c<0||d>this.size)throw new m;if(d===c)return!0;d--;const p=Math.floor(c/32),x=Math.floor(d/32),w=this.bits;for(let E=p;E<=x;E++){const _=E>p?0:c&31,W=(2<<(E<x?31:d&31))-(1<<_)&4294967295;if((w[E]&W)!==(f?W:0))return!1}return!0}appendBit(c){this.ensureCapacity(this.size+1),c&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(c,d){if(d<0||d>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+d);for(let f=d;f>0;f--)this.appendBit((c>>f-1&1)===1)}appendBitArray(c){const d=c.size;this.ensureCapacity(this.size+d);for(let f=0;f<d;f++)this.appendBit(c.get(f))}xor(c){if(this.size!==c.size)throw new m("Sizes don't match");const d=this.bits;for(let f=0,p=d.length;f<p;f++)d[f]^=c.bits[f]}toBytes(c,d,f,p){for(let x=0;x<p;x++){let w=0;for(let E=0;E<8;E++)this.get(c)&&(w|=1<<7-E),c++;d[f+x]=w}}getBitArray(){return this.bits}reverse(){const c=new Int32Array(this.bits.length),d=Math.floor((this.size-1)/32),f=d+1,p=this.bits;for(let x=0;x<f;x++){let w=p[x];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,c[d-x]=w}if(this.size!==f*32){const x=f*32-this.size;let w=c[0]>>>x;for(let E=1;E<f;E++){const _=c[E];w|=_<<32-x,c[E-1]=w,w=_>>>x}c[f-1]=w}this.bits=c}static makeArray(c){return new Int32Array(Math.floor((c+31)/32))}equals(c){if(!(c instanceof T))return!1;const d=c;return this.size===d.size&&N.equals(this.bits,d.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let c="";for(let d=0,f=this.size;d<f;d++)d&7||(c+=" "),c+=this.get(d)?"X":".";return c}clone(){return new T(this.size,this.bits.slice())}}var D;(function(te){te[te.OTHER=0]="OTHER",te[te.PURE_BARCODE=1]="PURE_BARCODE",te[te.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",te[te.TRY_HARDER=3]="TRY_HARDER",te[te.CHARACTER_SET=4]="CHARACTER_SET",te[te.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",te[te.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",te[te.ASSUME_GS1=7]="ASSUME_GS1",te[te.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",te[te.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",te[te.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(D||(D={}));var V=D;class P extends u{static getFormatInstance(){return new P}}P.kind="FormatException";var U;(function(te){te[te.Cp437=0]="Cp437",te[te.ISO8859_1=1]="ISO8859_1",te[te.ISO8859_2=2]="ISO8859_2",te[te.ISO8859_3=3]="ISO8859_3",te[te.ISO8859_4=4]="ISO8859_4",te[te.ISO8859_5=5]="ISO8859_5",te[te.ISO8859_6=6]="ISO8859_6",te[te.ISO8859_7=7]="ISO8859_7",te[te.ISO8859_8=8]="ISO8859_8",te[te.ISO8859_9=9]="ISO8859_9",te[te.ISO8859_10=10]="ISO8859_10",te[te.ISO8859_11=11]="ISO8859_11",te[te.ISO8859_13=12]="ISO8859_13",te[te.ISO8859_14=13]="ISO8859_14",te[te.ISO8859_15=14]="ISO8859_15",te[te.ISO8859_16=15]="ISO8859_16",te[te.SJIS=16]="SJIS",te[te.Cp1250=17]="Cp1250",te[te.Cp1251=18]="Cp1251",te[te.Cp1252=19]="Cp1252",te[te.Cp1256=20]="Cp1256",te[te.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",te[te.UTF8=22]="UTF8",te[te.ASCII=23]="ASCII",te[te.Big5=24]="Big5",te[te.GB18030=25]="GB18030",te[te.EUC_KR=26]="EUC_KR"})(U||(U={}));class k{constructor(c,d,f,...p){this.valueIdentifier=c,this.name=f,typeof d=="number"?this.values=Int32Array.from([d]):this.values=d,this.otherEncodingNames=p,k.VALUE_IDENTIFIER_TO_ECI.set(c,this),k.NAME_TO_ECI.set(f,this);const x=this.values;for(let w=0,E=x.length;w!==E;w++){const _=x[w];k.VALUES_TO_ECI.set(_,this)}for(const w of p)k.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(c){if(c<0||c>=900)throw new P("incorect value");const d=k.VALUES_TO_ECI.get(c);if(d===void 0)throw new P("incorect value");return d}static getCharacterSetECIByName(c){const d=k.NAME_TO_ECI.get(c);if(d===void 0)throw new P("incorect value");return d}equals(c){if(!(c instanceof k))return!1;const d=c;return this.getName()===d.getName()}}k.VALUE_IDENTIFIER_TO_ECI=new Map,k.VALUES_TO_ECI=new Map,k.NAME_TO_ECI=new Map,k.Cp437=new k(U.Cp437,Int32Array.from([0,2]),"Cp437"),k.ISO8859_1=new k(U.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),k.ISO8859_2=new k(U.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),k.ISO8859_3=new k(U.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),k.ISO8859_4=new k(U.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),k.ISO8859_5=new k(U.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),k.ISO8859_6=new k(U.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),k.ISO8859_7=new k(U.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),k.ISO8859_8=new k(U.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),k.ISO8859_9=new k(U.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),k.ISO8859_10=new k(U.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),k.ISO8859_11=new k(U.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),k.ISO8859_13=new k(U.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),k.ISO8859_14=new k(U.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),k.ISO8859_15=new k(U.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),k.ISO8859_16=new k(U.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),k.SJIS=new k(U.SJIS,20,"SJIS","Shift_JIS"),k.Cp1250=new k(U.Cp1250,21,"Cp1250","windows-1250"),k.Cp1251=new k(U.Cp1251,22,"Cp1251","windows-1251"),k.Cp1252=new k(U.Cp1252,23,"Cp1252","windows-1252"),k.Cp1256=new k(U.Cp1256,24,"Cp1256","windows-1256"),k.UnicodeBigUnmarked=new k(U.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),k.UTF8=new k(U.UTF8,26,"UTF8","UTF-8"),k.ASCII=new k(U.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),k.Big5=new k(U.Big5,28,"Big5"),k.GB18030=new k(U.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),k.EUC_KR=new k(U.EUC_KR,30,"EUC_KR","EUC-KR");class z extends u{}z.kind="UnsupportedOperationException";class R{static decode(c,d){const f=this.encodingName(d);return this.customDecoder?this.customDecoder(c,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(c,f):new TextDecoder(f).decode(c)}static shouldDecodeOnFallback(c){return!R.isBrowser()&&c==="ISO-8859-1"}static encode(c,d){const f=this.encodingName(d);return this.customEncoder?this.customEncoder(c,f):typeof TextEncoder>"u"?this.encodeFallback(c):new TextEncoder().encode(c)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(c){return typeof c=="string"?c:c.getName()}static encodingCharacterSet(c){return c instanceof k?c:k.getCharacterSetECIByName(c)}static decodeFallback(c,d){const f=this.encodingCharacterSet(d);if(R.isDecodeFallbackSupported(f)){let p="";for(let x=0,w=c.length;x<w;x++){let E=c[x].toString(16);E.length<2&&(E="0"+E),p+="%"+E}return decodeURIComponent(p)}if(f.equals(k.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(c.buffer));throw new z(`Encoding ${this.encodingName(d)} not supported by fallback.`)}static isDecodeFallbackSupported(c){return c.equals(k.UTF8)||c.equals(k.ISO8859_1)||c.equals(k.ASCII)}static encodeFallback(c){const f=btoa(unescape(encodeURIComponent(c))).split(""),p=[];for(let x=0;x<f.length;x++)p.push(f[x].charCodeAt(0));return new Uint8Array(p)}}class H{static castAsNonUtf8Char(c,d=null){const f=d?d.getName():this.ISO88591;return R.decode(new Uint8Array([c]),f)}static guessEncoding(c,d){if(d!=null&&d.get(V.CHARACTER_SET)!==void 0)return d.get(V.CHARACTER_SET).toString();const f=c.length;let p=!0,x=!0,w=!0,E=0,_=0,L=0,W=0,re=0,le=0,xe=0,Ne=0,Ee=0,Re=0,We=0;const ot=c.length>3&&c[0]===239&&c[1]===187&&c[2]===191;for(let ht=0;ht<f&&(p||x||w);ht++){const lt=c[ht]&255;w&&(E>0?lt&128?E--:w=!1:lt&128&&(lt&64?(E++,lt&32?(E++,lt&16?(E++,lt&8?w=!1:W++):L++):_++):w=!1)),p&&(lt>127&&lt<160?p=!1:lt>159&&(lt<192||lt===215||lt===247)&&We++),x&&(re>0?lt<64||lt===127||lt>252?x=!1:re--:lt===128||lt===160||lt>239?x=!1:lt>160&&lt<224?(le++,Ne=0,xe++,xe>Ee&&(Ee=xe)):lt>127?(re++,xe=0,Ne++,Ne>Re&&(Re=Ne)):(xe=0,Ne=0))}return w&&E>0&&(w=!1),x&&re>0&&(x=!1),w&&(ot||_+L+W>0)?H.UTF8:x&&(H.ASSUME_SHIFT_JIS||Ee>=3||Re>=3)?H.SHIFT_JIS:p&&x?Ee===2&&le===2||We*10>=f?H.SHIFT_JIS:H.ISO88591:p?H.ISO88591:x?H.SHIFT_JIS:w?H.UTF8:H.PLATFORM_DEFAULT_ENCODING}static format(c,...d){let f=-1;function p(w,E,_,L,W,re){if(w==="%%")return"%";if(d[++f]===void 0)return;w=L?parseInt(L.substr(1)):void 0;let le=W?parseInt(W.substr(1)):void 0,xe;switch(re){case"s":xe=d[f];break;case"c":xe=d[f][0];break;case"f":xe=parseFloat(d[f]).toFixed(w);break;case"p":xe=parseFloat(d[f]).toPrecision(w);break;case"e":xe=parseFloat(d[f]).toExponential(w);break;case"x":xe=parseInt(d[f]).toString(le||16);break;case"d":xe=parseFloat(parseInt(d[f],le||10).toPrecision(w)).toFixed(0);break}xe=typeof xe=="object"?JSON.stringify(xe):(+xe).toString(le);let Ne=parseInt(_),Ee=_&&_[0]+""=="0"?"0":" ";for(;xe.length<Ne;)xe=E!==void 0?xe+Ee:Ee+xe;return xe}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(x,p)}static getBytes(c,d){return R.encode(c,d)}static getCharCode(c,d=0){return c.charCodeAt(d)}static getCharAt(c){return String.fromCharCode(c)}}H.SHIFT_JIS=k.SJIS.getName(),H.GB2312="GB2312",H.ISO88591=k.ISO8859_1.getName(),H.EUC_JP="EUC_JP",H.UTF8=k.UTF8.getName(),H.PLATFORM_DEFAULT_ENCODING=H.UTF8,H.ASSUME_SHIFT_JIS=!1;class J{constructor(c=""){this.value=c}enableDecoding(c){return this.encoding=c,this}append(c){return typeof c=="string"?this.value+=c.toString():this.encoding?this.value+=H.castAsNonUtf8Char(c,this.encoding):this.value+=String.fromCharCode(c),this}appendChars(c,d,f){for(let p=d;d<d+f;p++)this.append(c[p]);return this}length(){return this.value.length}charAt(c){return this.value.charAt(c)}deleteCharAt(c){this.value=this.value.substr(0,c)+this.value.substring(c+1)}setCharAt(c,d){this.value=this.value.substr(0,c)+d+this.value.substr(c+1)}substring(c,d){return this.value.substring(c,d)}setLengthToZero(){this.value=""}toString(){return this.value}insert(c,d){this.value=this.value.substr(0,c)+d+this.value.substr(c+d.length)}}class ne{constructor(c,d,f,p){if(this.width=c,this.height=d,this.rowSize=f,this.bits=p,d==null&&(d=c),this.height=d,c<1||d<1)throw new m("Both dimensions must be greater than 0");f==null&&(f=Math.floor((c+31)/32)),this.rowSize=f,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(c){const d=c.length,f=c[0].length,p=new ne(f,d);for(let x=0;x<d;x++){const w=c[x];for(let E=0;E<f;E++)w[E]&&p.set(E,x)}return p}static parseFromString(c,d,f){if(c===null)throw new m("stringRepresentation cannot be null");const p=new Array(c.length);let x=0,w=0,E=-1,_=0,L=0;for(;L<c.length;)if(c.charAt(L)===`
`||c.charAt(L)==="\r"){if(x>w){if(E===-1)E=x-w;else if(x-w!==E)throw new m("row lengths do not match");w=x,_++}L++}else if(c.substring(L,L+d.length)===d)L+=d.length,p[x]=!0,x++;else if(c.substring(L,L+f.length)===f)L+=f.length,p[x]=!1,x++;else throw new m("illegal character encountered: "+c.substring(L));if(x>w){if(E===-1)E=x-w;else if(x-w!==E)throw new m("row lengths do not match");_++}const W=new ne(E,_);for(let re=0;re<x;re++)p[re]&&W.set(Math.floor(re%E),Math.floor(re/E));return W}get(c,d){const f=d*this.rowSize+Math.floor(c/32);return(this.bits[f]>>>(c&31)&1)!==0}set(c,d){const f=d*this.rowSize+Math.floor(c/32);this.bits[f]|=1<<(c&31)&4294967295}unset(c,d){const f=d*this.rowSize+Math.floor(c/32);this.bits[f]&=~(1<<(c&31)&4294967295)}flip(c,d){const f=d*this.rowSize+Math.floor(c/32);this.bits[f]^=1<<(c&31)&4294967295}xor(c){if(this.width!==c.getWidth()||this.height!==c.getHeight()||this.rowSize!==c.getRowSize())throw new m("input matrix dimensions do not match");const d=new T(Math.floor(this.width/32)+1),f=this.rowSize,p=this.bits;for(let x=0,w=this.height;x<w;x++){const E=x*f,_=c.getRow(x,d).getBitArray();for(let L=0;L<f;L++)p[E+L]^=_[L]}}clear(){const c=this.bits,d=c.length;for(let f=0;f<d;f++)c[f]=0}setRegion(c,d,f,p){if(d<0||c<0)throw new m("Left and top must be nonnegative");if(p<1||f<1)throw new m("Height and width must be at least 1");const x=c+f,w=d+p;if(w>this.height||x>this.width)throw new m("The region must fit inside the matrix");const E=this.rowSize,_=this.bits;for(let L=d;L<w;L++){const W=L*E;for(let re=c;re<x;re++)_[W+Math.floor(re/32)]|=1<<(re&31)&4294967295}}getRow(c,d){d==null||d.getSize()<this.width?d=new T(this.width):d.clear();const f=this.rowSize,p=this.bits,x=c*f;for(let w=0;w<f;w++)d.setBulk(w*32,p[x+w]);return d}setRow(c,d){C.arraycopy(d.getBitArray(),0,this.bits,c*this.rowSize,this.rowSize)}rotate180(){const c=this.getWidth(),d=this.getHeight();let f=new T(c),p=new T(c);for(let x=0,w=Math.floor((d+1)/2);x<w;x++)f=this.getRow(x,f),p=this.getRow(d-1-x,p),f.reverse(),p.reverse(),this.setRow(x,p),this.setRow(d-1-x,f)}getEnclosingRectangle(){const c=this.width,d=this.height,f=this.rowSize,p=this.bits;let x=c,w=d,E=-1,_=-1;for(let L=0;L<d;L++)for(let W=0;W<f;W++){const re=p[L*f+W];if(re!==0){if(L<w&&(w=L),L>_&&(_=L),W*32<x){let le=0;for(;!(re<<31-le&4294967295);)le++;W*32+le<x&&(x=W*32+le)}if(W*32+31>E){let le=31;for(;!(re>>>le);)le--;W*32+le>E&&(E=W*32+le)}}}return E<x||_<w?null:Int32Array.from([x,w,E-x+1,_-w+1])}getTopLeftOnBit(){const c=this.rowSize,d=this.bits;let f=0;for(;f<d.length&&d[f]===0;)f++;if(f===d.length)return null;const p=f/c;let x=f%c*32;const w=d[f];let E=0;for(;!(w<<31-E&4294967295);)E++;return x+=E,Int32Array.from([x,p])}getBottomRightOnBit(){const c=this.rowSize,d=this.bits;let f=d.length-1;for(;f>=0&&d[f]===0;)f--;if(f<0)return null;const p=Math.floor(f/c);let x=Math.floor(f%c)*32;const w=d[f];let E=31;for(;!(w>>>E);)E--;return x+=E,Int32Array.from([x,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(c){if(!(c instanceof ne))return!1;const d=c;return this.width===d.width&&this.height===d.height&&this.rowSize===d.rowSize&&N.equals(this.bits,d.bits)}hashCode(){let c=this.width;return c=31*c+this.width,c=31*c+this.height,c=31*c+this.rowSize,c=31*c+N.hashCode(this.bits),c}toString(c="X ",d="  ",f=`
`){return this.buildToString(c,d,f)}buildToString(c,d,f){let p=new J;for(let x=0,w=this.height;x<w;x++){for(let E=0,_=this.width;E<_;E++)p.append(this.get(E,x)?c:d);p.append(f)}return p.toString()}clone(){return new ne(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends u{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class G extends b{constructor(c){super(c),this.luminances=G.EMPTY,this.buckets=new Int32Array(G.LUMINANCE_BUCKETS)}getBlackRow(c,d){const f=this.getLuminanceSource(),p=f.getWidth();d==null||d.getSize()<p?d=new T(p):d.clear(),this.initArrays(p);const x=f.getRow(c,this.luminances),w=this.buckets;for(let _=0;_<p;_++)w[(x[_]&255)>>G.LUMINANCE_SHIFT]++;const E=G.estimateBlackPoint(w);if(p<3)for(let _=0;_<p;_++)(x[_]&255)<E&&d.set(_);else{let _=x[0]&255,L=x[1]&255;for(let W=1;W<p-1;W++){const re=x[W+1]&255;(L*4-_-re)/2<E&&d.set(W),_=L,L=re}}return d}getBlackMatrix(){const c=this.getLuminanceSource(),d=c.getWidth(),f=c.getHeight(),p=new ne(d,f);this.initArrays(d);const x=this.buckets;for(let _=1;_<5;_++){const L=Math.floor(f*_/5),W=c.getRow(L,this.luminances),re=Math.floor(d*4/5);for(let le=Math.floor(d/5);le<re;le++){const xe=W[le]&255;x[xe>>G.LUMINANCE_SHIFT]++}}const w=G.estimateBlackPoint(x),E=c.getMatrix();for(let _=0;_<f;_++){const L=_*d;for(let W=0;W<d;W++)(E[L+W]&255)<w&&p.set(W,_)}return p}createBinarizer(c){return new G(c)}initArrays(c){this.luminances.length<c&&(this.luminances=new Uint8ClampedArray(c));const d=this.buckets;for(let f=0;f<G.LUMINANCE_BUCKETS;f++)d[f]=0}static estimateBlackPoint(c){const d=c.length;let f=0,p=0,x=0;for(let W=0;W<d;W++)c[W]>x&&(p=W,x=c[W]),c[W]>f&&(f=c[W]);let w=0,E=0;for(let W=0;W<d;W++){const re=W-p,le=c[W]*re*re;le>E&&(w=W,E=le)}if(p>w){const W=p;p=w,w=W}if(w-p<=d/16)throw new Y;let _=w-1,L=-1;for(let W=w-1;W>p;W--){const re=W-p,le=re*re*(w-W)*(f-c[W]);le>L&&(_=W,L=le)}return _<<G.LUMINANCE_SHIFT}}G.LUMINANCE_BITS=5,G.LUMINANCE_SHIFT=8-G.LUMINANCE_BITS,G.LUMINANCE_BUCKETS=1<<G.LUMINANCE_BITS,G.EMPTY=Uint8ClampedArray.from([0]);class K extends G{constructor(c){super(c),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const c=this.getLuminanceSource(),d=c.getWidth(),f=c.getHeight();if(d>=K.MINIMUM_DIMENSION&&f>=K.MINIMUM_DIMENSION){const p=c.getMatrix();let x=d>>K.BLOCK_SIZE_POWER;d&K.BLOCK_SIZE_MASK&&x++;let w=f>>K.BLOCK_SIZE_POWER;f&K.BLOCK_SIZE_MASK&&w++;const E=K.calculateBlackPoints(p,x,w,d,f),_=new ne(d,f);K.calculateThresholdForBlock(p,x,w,d,f,E,_),this.matrix=_}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(c){return new K(c)}static calculateThresholdForBlock(c,d,f,p,x,w,E){const _=x-K.BLOCK_SIZE,L=p-K.BLOCK_SIZE;for(let W=0;W<f;W++){let re=W<<K.BLOCK_SIZE_POWER;re>_&&(re=_);const le=K.cap(W,2,f-3);for(let xe=0;xe<d;xe++){let Ne=xe<<K.BLOCK_SIZE_POWER;Ne>L&&(Ne=L);const Ee=K.cap(xe,2,d-3);let Re=0;for(let ot=-2;ot<=2;ot++){const ht=w[le+ot];Re+=ht[Ee-2]+ht[Ee-1]+ht[Ee]+ht[Ee+1]+ht[Ee+2]}const We=Re/25;K.thresholdBlock(c,Ne,re,We,p,E)}}}static cap(c,d,f){return c<d?d:c>f?f:c}static thresholdBlock(c,d,f,p,x,w){for(let E=0,_=f*x+d;E<K.BLOCK_SIZE;E++,_+=x)for(let L=0;L<K.BLOCK_SIZE;L++)(c[_+L]&255)<=p&&w.set(d+L,f+E)}static calculateBlackPoints(c,d,f,p,x){const w=x-K.BLOCK_SIZE,E=p-K.BLOCK_SIZE,_=new Array(f);for(let L=0;L<f;L++){_[L]=new Int32Array(d);let W=L<<K.BLOCK_SIZE_POWER;W>w&&(W=w);for(let re=0;re<d;re++){let le=re<<K.BLOCK_SIZE_POWER;le>E&&(le=E);let xe=0,Ne=255,Ee=0;for(let We=0,ot=W*p+le;We<K.BLOCK_SIZE;We++,ot+=p){for(let ht=0;ht<K.BLOCK_SIZE;ht++){const lt=c[ot+ht]&255;xe+=lt,lt<Ne&&(Ne=lt),lt>Ee&&(Ee=lt)}if(Ee-Ne>K.MIN_DYNAMIC_RANGE)for(We++,ot+=p;We<K.BLOCK_SIZE;We++,ot+=p)for(let ht=0;ht<K.BLOCK_SIZE;ht++)xe+=c[ot+ht]&255}let Re=xe>>K.BLOCK_SIZE_POWER*2;if(Ee-Ne<=K.MIN_DYNAMIC_RANGE&&(Re=Ne/2,L>0&&re>0)){const We=(_[L-1][re]+2*_[L][re-1]+_[L-1][re-1])/4;Ne<We&&(Re=We)}_[L][re]=Re}}return _}}K.BLOCK_SIZE_POWER=3,K.BLOCK_SIZE=1<<K.BLOCK_SIZE_POWER,K.BLOCK_SIZE_MASK=K.BLOCK_SIZE-1,K.MINIMUM_DIMENSION=K.BLOCK_SIZE*5,K.MIN_DYNAMIC_RANGE=24;class q{constructor(c,d){this.width=c,this.height=d}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(c,d,f,p){throw new z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new z("This luminance source does not support rotation by 45 degrees.")}toString(){const c=new Uint8ClampedArray(this.width);let d=new J;for(let f=0;f<this.height;f++){const p=this.getRow(f,c);for(let x=0;x<this.width;x++){const w=p[x]&255;let E;w<64?E="#":w<128?E="+":w<192?E=".":E=" ",d.append(E)}d.append(`
`)}return d.toString()}}class X extends q{constructor(c){super(c.getWidth(),c.getHeight()),this.delegate=c}getRow(c,d){const f=this.delegate.getRow(c,d),p=this.getWidth();for(let x=0;x<p;x++)f[x]=255-(f[x]&255);return f}getMatrix(){const c=this.delegate.getMatrix(),d=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(d);for(let p=0;p<d;p++)f[p]=255-(c[p]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(c,d,f,p){return new X(this.delegate.crop(c,d,f,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new X(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new X(this.delegate.rotateCounterClockwise45())}}class fe extends q{constructor(c){super(c.width,c.height),this.canvas=c,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(c)}static makeBufferFromCanvasImageData(c){const d=c.getContext("2d").getImageData(0,0,c.width,c.height);return fe.toGrayscaleBuffer(d.data,c.width,c.height)}static toGrayscaleBuffer(c,d,f){const p=new Uint8ClampedArray(d*f);for(let x=0,w=0,E=c.length;x<E;x+=4,w++){let _;if(c[x+3]===0)_=255;else{const W=c[x],re=c[x+1],le=c[x+2];_=306*W+601*re+117*le+512>>10}p[w]=_}return p}getRow(c,d){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const f=this.getWidth(),p=c*f;return d===null?d=this.buffer.slice(p,p+f):(d.length<f&&(d=new Uint8ClampedArray(f)),d.set(this.buffer.slice(p,p+f))),d}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(c,d,f,p){return super.crop(c,d,f,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const c=this.canvas.ownerDocument.createElement("canvas");c.width=this.canvas.width,c.height=this.canvas.height,this.tempCanvasElement=c}return this.tempCanvasElement}rotate(c){const d=this.getTempCanvasElement(),f=d.getContext("2d"),p=c*fe.DEGREE_TO_RADIANS,x=this.canvas.width,w=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(p))*x+Math.abs(Math.sin(p))*w),_=Math.ceil(Math.abs(Math.sin(p))*x+Math.abs(Math.cos(p))*w);return d.width=E,d.height=_,f.translate(E/2,_/2),f.rotate(p),f.drawImage(this.canvas,x/-2,w/-2),this.buffer=fe.makeBufferFromCanvasImageData(d),this}invert(){return new X(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class de{constructor(c,d,f){this.deviceId=c,this.label=d,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Q=(globalThis||Tf||self||window||void 0)&&(globalThis||Tf||self||window||void 0).__awaiter||function(te,c,d,f){function p(x){return x instanceof d?x:new d(function(w){w(x)})}return new(d||(d=Promise))(function(x,w){function E(W){try{L(f.next(W))}catch(re){w(re)}}function _(W){try{L(f.throw(W))}catch(re){w(re)}}function L(W){W.done?x(W.value):p(W.value).then(E,_)}L((f=f.apply(te,c||[])).next())})};class Z{constructor(c,d=500,f){this.reader=c,this.timeBetweenScansMillis=d,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(c){this._timeBetweenDecodingAttempts=c<0?0:c}set hints(c){this._hints=c||null}get hints(){return this._hints}listVideoInputDevices(){return Q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const c=yield navigator.mediaDevices.enumerateDevices(),d=[];for(const f of c){const p=f.kind==="video"?"videoinput":f.kind;if(p!=="videoinput")continue;const x=f.deviceId||f.id,w=f.label||`Video device ${d.length+1}`,E=f.groupId,_={deviceId:x,label:w,kind:p,groupId:E};d.push(_)}return d})}getVideoInputDevices(){return Q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(d=>new de(d.deviceId,d.label))})}findDeviceById(c){return Q(this,void 0,void 0,function*(){const d=yield this.listVideoInputDevices();return d?d.find(f=>f.deviceId===c):null})}decodeFromInputVideoDevice(c,d){return Q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(c,d)})}decodeOnceFromVideoDevice(c,d){return Q(this,void 0,void 0,function*(){this.reset();let f;c?f={deviceId:{exact:c}}:f={facingMode:"environment"};const p={video:f};return yield this.decodeOnceFromConstraints(p,d)})}decodeOnceFromConstraints(c,d){return Q(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeOnceFromStream(f,d)})}decodeOnceFromStream(c,d){return Q(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(c,d);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(c,d,f){return Q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(c,d,f)})}decodeFromVideoDevice(c,d,f){return Q(this,void 0,void 0,function*(){let p;c?p={deviceId:{exact:c}}:p={facingMode:"environment"};const x={video:p};return yield this.decodeFromConstraints(x,d,f)})}decodeFromConstraints(c,d,f){return Q(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeFromStream(p,d,f)})}decodeFromStream(c,d,f){return Q(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(c,d);return yield this.decodeContinuously(p,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(c,d){return Q(this,void 0,void 0,function*(){const f=this.prepareVideoElement(d);return this.addVideoSource(f,c),this.videoElement=f,this.stream=c,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(c){return new Promise((d,f)=>this.playVideoOnLoad(c,()=>d()))}playVideoOnLoad(c,d){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(c),c.addEventListener("ended",this.videoEndedListener),c.addEventListener("canplay",this.videoCanPlayListener),c.addEventListener("playing",d),this.tryPlayVideo(c)}isVideoPlaying(c){return c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2}tryPlayVideo(c){return Q(this,void 0,void 0,function*(){if(this.isVideoPlaying(c)){console.warn("Trying to play video that is already playing.");return}try{yield c.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(c,d){const f=document.getElementById(c);if(!f)throw new h(`element with id '${c}' not found`);if(f.nodeName.toLowerCase()!==d.toLowerCase())throw new h(`element with id '${c}' must be an ${d} element`);return f}decodeFromImage(c,d){if(!c&&!d)throw new h("either imageElement with a src set or an url must be provided");return d&&!c?this.decodeFromImageUrl(d):this.decodeFromImageElement(c)}decodeFromVideo(c,d){if(!c&&!d)throw new h("Either an element with a src set or an URL must be provided");return d&&!c?this.decodeFromVideoUrl(d):this.decodeFromVideoElement(c)}decodeFromVideoContinuously(c,d,f){if(c===void 0&&d===void 0)throw new h("Either an element with a src set or an URL must be provided");return d&&!c?this.decodeFromVideoUrlContinuously(d,f):this.decodeFromVideoElementContinuously(c,f)}decodeFromImageElement(c){if(!c)throw new h("An image element must be provided.");this.reset();const d=this.prepareImageElement(c);this.imageElement=d;let f;return this.isImageLoaded(d)?f=this.decodeOnce(d,!1,!0):f=this._decodeOnLoadImage(d),f}decodeFromVideoElement(c){const d=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideo(d)}decodeFromVideoElementContinuously(c,d){const f=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideoContinuously(f,d)}_decodeFromVideoElementSetup(c){if(!c)throw new h("A video element must be provided.");this.reset();const d=this.prepareVideoElement(c);return this.videoElement=d,d}decodeFromImageUrl(c){if(!c)throw new h("An URL must be provided.");this.reset();const d=this.prepareImageElement();this.imageElement=d;const f=this._decodeOnLoadImage(d);return d.src=c,f}decodeFromVideoUrl(c){if(!c)throw new h("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),f=this.decodeFromVideoElement(d);return d.src=c,f}decodeFromVideoUrlContinuously(c,d){if(!c)throw new h("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(f,d);return f.src=c,p}_decodeOnLoadImage(c){return new Promise((d,f)=>{this.imageLoadedListener=()=>this.decodeOnce(c,!1,!0).then(d,f),c.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(c){return Q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(c),yield this.decodeOnce(c)})}_decodeOnLoadVideoContinuously(c,d){return Q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(c),this.decodeContinuously(c,d)})}isImageLoaded(c){return!(!c.complete||c.naturalWidth===0)}prepareImageElement(c){let d;return typeof c>"u"&&(d=document.createElement("img"),d.width=200,d.height=200),typeof c=="string"&&(d=this.getMediaElement(c,"img")),c instanceof HTMLImageElement&&(d=c),d}prepareVideoElement(c){let d;return!c&&typeof document<"u"&&(d=document.createElement("video"),d.width=200,d.height=200),typeof c=="string"&&(d=this.getMediaElement(c,"video")),c instanceof HTMLVideoElement&&(d=c),d.setAttribute("autoplay","true"),d.setAttribute("muted","true"),d.setAttribute("playsinline","true"),d}decodeOnce(c,d=!0,f=!0){this._stopAsyncDecode=!1;const p=(x,w)=>{if(this._stopAsyncDecode){w(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(c);x(E)}catch(E){const _=d&&E instanceof Y,W=(E instanceof g||E instanceof P)&&f;if(_||W)return setTimeout(p,this._timeBetweenDecodingAttempts,x,w);w(E)}};return new Promise((x,w)=>p(x,w))}decodeContinuously(c,d){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(c);d(p,null),setTimeout(f,this.timeBetweenScansMillis)}catch(p){d(null,p);const x=p instanceof g||p instanceof P,w=p instanceof Y;(x||w)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(c){const d=this.createBinaryBitmap(c);return this.decodeBitmap(d)}_isHTMLVideoElement(c){return c.videoWidth!==0}drawFrameOnCanvas(c,d,f){d||(d={sx:0,sy:0,sWidth:c.videoWidth,sHeight:c.videoHeight,dx:0,dy:0,dWidth:c.videoWidth,dHeight:c.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(c,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}drawImageOnCanvas(c,d,f=this.captureCanvasContext){d||(d={sx:0,sy:0,sWidth:c.naturalWidth,sHeight:c.naturalHeight,dx:0,dy:0,dWidth:c.naturalWidth,dHeight:c.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(c,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}createBinaryBitmap(c){this.getCaptureCanvasContext(c),this._isHTMLVideoElement(c)?this.drawFrameOnCanvas(c):this.drawImageOnCanvas(c);const d=this.getCaptureCanvas(c),f=new fe(d),p=new K(f);return new y(p)}getCaptureCanvasContext(c){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(c).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(c){if(!this.captureCanvas){const d=this.createCaptureCanvas(c);this.captureCanvas=d}return this.captureCanvas}decodeBitmap(c){return this.reader.decode(c,this._hints)}createCaptureCanvas(c){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const d=document.createElement("canvas");let f,p;return typeof c<"u"&&(c instanceof HTMLVideoElement?(f=c.videoWidth,p=c.videoHeight):c instanceof HTMLImageElement&&(f=c.naturalWidth||c.width,p=c.naturalHeight||c.height)),d.style.width=f+"px",d.style.height=p+"px",d.width=f,d.height=p,d}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(c=>c.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(c,d){try{c.srcObject=d}catch{c.src=URL.createObjectURL(d)}}cleanVideoSource(c){try{c.srcObject=null}catch{c.src=""}this.videoElement.removeAttribute("src")}}class ae{constructor(c,d,f=d==null?0:8*d.length,p,x,w=C.currentTimeMillis()){this.text=c,this.rawBytes=d,this.numBits=f,this.resultPoints=p,this.format=x,this.timestamp=w,this.text=c,this.rawBytes=d,f==null?this.numBits=d==null?0:8*d.length:this.numBits=f,this.resultPoints=p,this.format=x,this.resultMetadata=null,w==null?this.timestamp=C.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(c,d){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(c,d)}putAllMetadata(c){c!==null&&(this.resultMetadata===null?this.resultMetadata=c:this.resultMetadata=new Map(c))}addResultPoints(c){const d=this.resultPoints;if(d===null)this.resultPoints=c;else if(c!==null&&c.length>0){const f=new Array(d.length+c.length);C.arraycopy(d,0,f,0,d.length),C.arraycopy(c,0,f,d.length,c.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ee;(function(te){te[te.AZTEC=0]="AZTEC",te[te.CODABAR=1]="CODABAR",te[te.CODE_39=2]="CODE_39",te[te.CODE_93=3]="CODE_93",te[te.CODE_128=4]="CODE_128",te[te.DATA_MATRIX=5]="DATA_MATRIX",te[te.EAN_8=6]="EAN_8",te[te.EAN_13=7]="EAN_13",te[te.ITF=8]="ITF",te[te.MAXICODE=9]="MAXICODE",te[te.PDF_417=10]="PDF_417",te[te.QR_CODE=11]="QR_CODE",te[te.RSS_14=12]="RSS_14",te[te.RSS_EXPANDED=13]="RSS_EXPANDED",te[te.UPC_A=14]="UPC_A",te[te.UPC_E=15]="UPC_E",te[te.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ee||(ee={}));var oe=ee,pe;(function(te){te[te.OTHER=0]="OTHER",te[te.ORIENTATION=1]="ORIENTATION",te[te.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",te[te.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",te[te.ISSUE_NUMBER=4]="ISSUE_NUMBER",te[te.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",te[te.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",te[te.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",te[te.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",te[te.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",te[te.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pe||(pe={}));var Be=pe;class _e{constructor(c,d,f,p,x=-1,w=-1){this.rawBytes=c,this.text=d,this.byteSegments=f,this.ecLevel=p,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=w,this.numBits=c==null?0:8*c.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(c){this.numBits=c}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(c){this.errorsCorrected=c}getErasures(){return this.erasures}setErasures(c){this.erasures=c}getOther(){return this.other}setOther(c){this.other=c}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Le{exp(c){return this.expTable[c]}log(c){if(c===0)throw new m;return this.logTable[c]}static addOrSubtract(c,d){return c^d}}class ke{constructor(c,d){if(d.length===0)throw new m;this.field=c;const f=d.length;if(f>1&&d[0]===0){let p=1;for(;p<f&&d[p]===0;)p++;p===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-p),C.arraycopy(d,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);const d=this.coefficients;let f;if(c===1){f=0;for(let w=0,E=d.length;w!==E;w++){const _=d[w];f=Le.addOrSubtract(f,_)}return f}f=d[0];const p=d.length,x=this.field;for(let w=1;w<p;w++)f=Le.addOrSubtract(x.multiply(c,f),d[w]);return f}addOrSubtract(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return c;if(c.isZero())return this;let d=this.coefficients,f=c.coefficients;if(d.length>f.length){const w=d;d=f,f=w}let p=new Int32Array(f.length);const x=f.length-d.length;C.arraycopy(f,0,p,0,x);for(let w=x;w<f.length;w++)p[w]=Le.addOrSubtract(d[w-x],f[w]);return new ke(this.field,p)}multiply(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||c.isZero())return this.field.getZero();const d=this.coefficients,f=d.length,p=c.coefficients,x=p.length,w=new Int32Array(f+x-1),E=this.field;for(let _=0;_<f;_++){const L=d[_];for(let W=0;W<x;W++)w[_+W]=Le.addOrSubtract(w[_+W],E.multiply(L,p[W]))}return new ke(E,w)}multiplyScalar(c){if(c===0)return this.field.getZero();if(c===1)return this;const d=this.coefficients.length,f=this.field,p=new Int32Array(d),x=this.coefficients;for(let w=0;w<d;w++)p[w]=f.multiply(x[w],c);return new ke(f,p)}multiplyByMonomial(c,d){if(c<0)throw new m;if(d===0)return this.field.getZero();const f=this.coefficients,p=f.length,x=new Int32Array(p+c),w=this.field;for(let E=0;E<p;E++)x[E]=w.multiply(f[E],d);return new ke(w,x)}divide(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(c.isZero())throw new m("Divide by 0");const d=this.field;let f=d.getZero(),p=this;const x=c.getCoefficient(c.getDegree()),w=d.inverse(x);for(;p.getDegree()>=c.getDegree()&&!p.isZero();){const E=p.getDegree()-c.getDegree(),_=d.multiply(p.getCoefficient(p.getDegree()),w),L=c.multiplyByMonomial(E,_),W=d.buildMonomial(E,_);f=f.addOrSubtract(W),p=p.addOrSubtract(L)}return[f,p]}toString(){let c="";for(let d=this.getDegree();d>=0;d--){let f=this.getCoefficient(d);if(f!==0){if(f<0?(c+=" - ",f=-f):c.length>0&&(c+=" + "),d===0||f!==1){const p=this.field.log(f);p===0?c+="1":p===1?c+="a":(c+="a^",c+=p)}d!==0&&(d===1?c+="x":(c+="x^",c+=d))}}return c}}class Oe extends u{}Oe.kind="ArithmeticException";class Se extends Le{constructor(c,d,f){super(),this.primitive=c,this.size=d,this.generatorBase=f;const p=new Int32Array(d);let x=1;for(let E=0;E<d;E++)p[E]=x,x*=2,x>=d&&(x^=c,x&=d-1);this.expTable=p;const w=new Int32Array(d);for(let E=0;E<d-1;E++)w[p[E]]=E;this.logTable=w,this.zero=new ke(this,Int32Array.from([0])),this.one=new ke(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,d){if(c<0)throw new m;if(d===0)return this.zero;const f=new Int32Array(c+1);return f[0]=d,new ke(this,f)}inverse(c){if(c===0)throw new Oe;return this.expTable[this.size-this.logTable[c]-1]}multiply(c,d){return c===0||d===0?0:this.expTable[(this.logTable[c]+this.logTable[d])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(c){return c===this}}Se.AZTEC_DATA_12=new Se(4201,4096,1),Se.AZTEC_DATA_10=new Se(1033,1024,1),Se.AZTEC_DATA_6=new Se(67,64,1),Se.AZTEC_PARAM=new Se(19,16,1),Se.QR_CODE_FIELD_256=new Se(285,256,0),Se.DATA_MATRIX_FIELD_256=new Se(301,256,1),Se.AZTEC_DATA_8=Se.DATA_MATRIX_FIELD_256,Se.MAXICODE_FIELD_64=Se.AZTEC_DATA_6;class Ce extends u{}Ce.kind="ReedSolomonException";class he extends u{}he.kind="IllegalStateException";class ft{constructor(c){this.field=c}decode(c,d){const f=this.field,p=new ke(f,c),x=new Int32Array(d);let w=!0;for(let xe=0;xe<d;xe++){const Ne=p.evaluateAt(f.exp(xe+f.getGeneratorBase()));x[x.length-1-xe]=Ne,Ne!==0&&(w=!1)}if(w)return;const E=new ke(f,x),_=this.runEuclideanAlgorithm(f.buildMonomial(d,1),E,d),L=_[0],W=_[1],re=this.findErrorLocations(L),le=this.findErrorMagnitudes(W,re);for(let xe=0;xe<re.length;xe++){const Ne=c.length-1-f.log(re[xe]);if(Ne<0)throw new Ce("Bad error location");c[Ne]=Se.addOrSubtract(c[Ne],le[xe])}}runEuclideanAlgorithm(c,d,f){if(c.getDegree()<d.getDegree()){const xe=c;c=d,d=xe}const p=this.field;let x=c,w=d,E=p.getZero(),_=p.getOne();for(;w.getDegree()>=(f/2|0);){let xe=x,Ne=E;if(x=w,E=_,x.isZero())throw new Ce("r_{i-1} was zero");w=xe;let Ee=p.getZero();const Re=x.getCoefficient(x.getDegree()),We=p.inverse(Re);for(;w.getDegree()>=x.getDegree()&&!w.isZero();){const ot=w.getDegree()-x.getDegree(),ht=p.multiply(w.getCoefficient(w.getDegree()),We);Ee=Ee.addOrSubtract(p.buildMonomial(ot,ht)),w=w.addOrSubtract(x.multiplyByMonomial(ot,ht))}if(_=Ee.multiply(E).addOrSubtract(Ne),w.getDegree()>=x.getDegree())throw new he("Division algorithm failed to reduce polynomial?")}const L=_.getCoefficient(0);if(L===0)throw new Ce("sigmaTilde(0) was zero");const W=p.inverse(L),re=_.multiplyScalar(W),le=w.multiplyScalar(W);return[re,le]}findErrorLocations(c){const d=c.getDegree();if(d===1)return Int32Array.from([c.getCoefficient(1)]);const f=new Int32Array(d);let p=0;const x=this.field;for(let w=1;w<x.getSize()&&p<d;w++)c.evaluateAt(w)===0&&(f[p]=x.inverse(w),p++);if(p!==d)throw new Ce("Error locator degree does not match number of roots");return f}findErrorMagnitudes(c,d){const f=d.length,p=new Int32Array(f),x=this.field;for(let w=0;w<f;w++){const E=x.inverse(d[w]);let _=1;for(let L=0;L<f;L++)if(w!==L){const W=x.multiply(d[L],E),re=W&1?W&-2:W|1;_=x.multiply(_,re)}p[w]=x.multiply(c.evaluateAt(E),x.inverse(_)),x.getGeneratorBase()!==0&&(p[w]=x.multiply(p[w],E))}return p}}var dt;(function(te){te[te.UPPER=0]="UPPER",te[te.LOWER=1]="LOWER",te[te.MIXED=2]="MIXED",te[te.DIGIT=3]="DIGIT",te[te.PUNCT=4]="PUNCT",te[te.BINARY=5]="BINARY"})(dt||(dt={}));class Je{decode(c){this.ddata=c;let d=c.getBits(),f=this.extractBits(d),p=this.correctBits(f),x=Je.convertBoolArrayToByteArray(p),w=Je.getEncodedData(p),E=new _e(x,w,null,null);return E.setNumBits(p.length),E}static highLevelDecode(c){return this.getEncodedData(c)}static getEncodedData(c){let d=c.length,f=dt.UPPER,p=dt.UPPER,x="",w=0;for(;w<d;)if(p===dt.BINARY){if(d-w<5)break;let E=Je.readCode(c,w,5);if(w+=5,E===0){if(d-w<11)break;E=Je.readCode(c,w,11)+31,w+=11}for(let _=0;_<E;_++){if(d-w<8){w=d;break}const L=Je.readCode(c,w,8);x+=H.castAsNonUtf8Char(L),w+=8}p=f}else{let E=p===dt.DIGIT?4:5;if(d-w<E)break;let _=Je.readCode(c,w,E);w+=E;let L=Je.getCharacter(p,_);L.startsWith("CTRL_")?(f=p,p=Je.getTable(L.charAt(5)),L.charAt(6)==="L"&&(f=p)):(x+=L,p=f)}return x}static getTable(c){switch(c){case"L":return dt.LOWER;case"P":return dt.PUNCT;case"M":return dt.MIXED;case"D":return dt.DIGIT;case"B":return dt.BINARY;case"U":default:return dt.UPPER}}static getCharacter(c,d){switch(c){case dt.UPPER:return Je.UPPER_TABLE[d];case dt.LOWER:return Je.LOWER_TABLE[d];case dt.MIXED:return Je.MIXED_TABLE[d];case dt.PUNCT:return Je.PUNCT_TABLE[d];case dt.DIGIT:return Je.DIGIT_TABLE[d];default:throw new he("Bad table")}}correctBits(c){let d,f;this.ddata.getNbLayers()<=2?(f=6,d=Se.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,d=Se.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,d=Se.AZTEC_DATA_10):(f=12,d=Se.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),x=c.length/f;if(x<p)throw new P;let w=c.length%f,E=new Int32Array(x);for(let le=0;le<x;le++,w+=f)E[le]=Je.readCode(c,w,f);try{new ft(d).decode(E,x-p)}catch(le){throw new P(le)}let _=(1<<f)-1,L=0;for(let le=0;le<p;le++){let xe=E[le];if(xe===0||xe===_)throw new P;(xe===1||xe===_-1)&&L++}let W=new Array(p*f-L),re=0;for(let le=0;le<p;le++){let xe=E[le];if(xe===1||xe===_-1)W.fill(xe>1,re,re+f-1),re+=f-1;else for(let Ne=f-1;Ne>=0;--Ne)W[re++]=(xe&1<<Ne)!==0}return W}extractBits(c){let d=this.ddata.isCompact(),f=this.ddata.getNbLayers(),p=(d?11:14)+f*4,x=new Int32Array(p),w=new Array(this.totalBitsInLayer(f,d));if(d)for(let E=0;E<x.length;E++)x[E]=E;else{let E=p+1+2*F.truncDivision(F.truncDivision(p,2)-1,15),_=p/2,L=F.truncDivision(E,2);for(let W=0;W<_;W++){let re=W+F.truncDivision(W,15);x[_-W-1]=L-re-1,x[_+W]=L+re+1}}for(let E=0,_=0;E<f;E++){let L=(f-E)*4+(d?9:12),W=E*2,re=p-1-W;for(let le=0;le<L;le++){let xe=le*2;for(let Ne=0;Ne<2;Ne++)w[_+xe+Ne]=c.get(x[W+Ne],x[W+le]),w[_+2*L+xe+Ne]=c.get(x[W+le],x[re-Ne]),w[_+4*L+xe+Ne]=c.get(x[re-Ne],x[re-le]),w[_+6*L+xe+Ne]=c.get(x[re-le],x[W+Ne])}_+=L*8}return w}static readCode(c,d,f){let p=0;for(let x=d;x<d+f;x++)p<<=1,c[x]&&(p|=1);return p}static readByte(c,d){let f=c.length-d;return f>=8?Je.readCode(c,d,8):Je.readCode(c,d,f)<<8-f}static convertBoolArrayToByteArray(c){let d=new Uint8Array((c.length+7)/8);for(let f=0;f<d.length;f++)d[f]=Je.readByte(c,8*f);return d}totalBitsInLayer(c,d){return((d?88:112)+16*c)*c}}Je.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Je.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Je.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Je.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Je.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Qe{constructor(){}static round(c){return c===NaN?0:c<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:c>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:c+(c<0?-.5:.5)|0}static distance(c,d,f,p){const x=c-f,w=d-p;return Math.sqrt(x*x+w*w)}static sum(c){let d=0;for(let f=0,p=c.length;f!==p;f++){const x=c[f];d+=x}return d}}class vt{static floatToIntBits(c){return c}}vt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ke{constructor(c,d){this.x=c,this.y=d}getX(){return this.x}getY(){return this.y}equals(c){if(c instanceof Ke){const d=c;return this.x===d.x&&this.y===d.y}return!1}hashCode(){return 31*vt.floatToIntBits(this.x)+vt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(c){const d=this.distance(c[0],c[1]),f=this.distance(c[1],c[2]),p=this.distance(c[0],c[2]);let x,w,E;if(f>=d&&f>=p?(w=c[0],x=c[1],E=c[2]):p>=f&&p>=d?(w=c[1],x=c[0],E=c[2]):(w=c[2],x=c[0],E=c[1]),this.crossProductZ(x,w,E)<0){const _=x;x=E,E=_}c[0]=x,c[1]=w,c[2]=E}static distance(c,d){return Qe.distance(c.x,c.y,d.x,d.y)}static crossProductZ(c,d,f){const p=d.x,x=d.y;return(f.x-p)*(c.y-x)-(f.y-x)*(c.x-p)}}class Vt{constructor(c,d){this.bits=c,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class bt extends Vt{constructor(c,d,f,p,x){super(c,d),this.compact=f,this.nbDatablocks=p,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class nt{constructor(c,d,f,p){this.image=c,this.height=c.getHeight(),this.width=c.getWidth(),d==null&&(d=nt.INIT_SIZE),f==null&&(f=c.getWidth()/2|0),p==null&&(p=c.getHeight()/2|0);const x=d/2|0;if(this.leftInit=f-x,this.rightInit=f+x,this.upInit=p-x,this.downInit=p+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let c=this.leftInit,d=this.rightInit,f=this.upInit,p=this.downInit,x=!1,w=!0,E=!1,_=!1,L=!1,W=!1,re=!1;const le=this.width,xe=this.height;for(;w;){w=!1;let Ne=!0;for(;(Ne||!_)&&d<le;)Ne=this.containsBlackPoint(f,p,d,!1),Ne?(d++,w=!0,_=!0):_||d++;if(d>=le){x=!0;break}let Ee=!0;for(;(Ee||!L)&&p<xe;)Ee=this.containsBlackPoint(c,d,p,!0),Ee?(p++,w=!0,L=!0):L||p++;if(p>=xe){x=!0;break}let Re=!0;for(;(Re||!W)&&c>=0;)Re=this.containsBlackPoint(f,p,c,!1),Re?(c--,w=!0,W=!0):W||c--;if(c<0){x=!0;break}let We=!0;for(;(We||!re)&&f>=0;)We=this.containsBlackPoint(c,d,f,!0),We?(f--,w=!0,re=!0):re||f--;if(f<0){x=!0;break}w&&(E=!0)}if(!x&&E){const Ne=d-c;let Ee=null;for(let ht=1;Ee===null&&ht<Ne;ht++)Ee=this.getBlackPointOnSegment(c,p-ht,c+ht,p);if(Ee==null)throw new Y;let Re=null;for(let ht=1;Re===null&&ht<Ne;ht++)Re=this.getBlackPointOnSegment(c,f+ht,c+ht,f);if(Re==null)throw new Y;let We=null;for(let ht=1;We===null&&ht<Ne;ht++)We=this.getBlackPointOnSegment(d,f+ht,d-ht,f);if(We==null)throw new Y;let ot=null;for(let ht=1;ot===null&&ht<Ne;ht++)ot=this.getBlackPointOnSegment(d,p-ht,d-ht,p);if(ot==null)throw new Y;return this.centerEdges(ot,Ee,We,Re)}else throw new Y}getBlackPointOnSegment(c,d,f,p){const x=Qe.round(Qe.distance(c,d,f,p)),w=(f-c)/x,E=(p-d)/x,_=this.image;for(let L=0;L<x;L++){const W=Qe.round(c+L*w),re=Qe.round(d+L*E);if(_.get(W,re))return new Ke(W,re)}return null}centerEdges(c,d,f,p){const x=c.getX(),w=c.getY(),E=d.getX(),_=d.getY(),L=f.getX(),W=f.getY(),re=p.getX(),le=p.getY(),xe=nt.CORR;return x<this.width/2?[new Ke(re-xe,le+xe),new Ke(E+xe,_+xe),new Ke(L-xe,W-xe),new Ke(x+xe,w-xe)]:[new Ke(re+xe,le+xe),new Ke(E+xe,_-xe),new Ke(L-xe,W+xe),new Ke(x-xe,w-xe)]}containsBlackPoint(c,d,f,p){const x=this.image;if(p){for(let w=c;w<=d;w++)if(x.get(w,f))return!0}else for(let w=c;w<=d;w++)if(x.get(f,w))return!0;return!1}}nt.INIT_SIZE=10,nt.CORR=1;class ct{static checkAndNudgePoints(c,d){const f=c.getWidth(),p=c.getHeight();let x=!0;for(let w=0;w<d.length&&x;w+=2){const E=Math.floor(d[w]),_=Math.floor(d[w+1]);if(E<-1||E>f||_<-1||_>p)throw new Y;x=!1,E===-1?(d[w]=0,x=!0):E===f&&(d[w]=f-1,x=!0),_===-1?(d[w+1]=0,x=!0):_===p&&(d[w+1]=p-1,x=!0)}x=!0;for(let w=d.length-2;w>=0&&x;w-=2){const E=Math.floor(d[w]),_=Math.floor(d[w+1]);if(E<-1||E>f||_<-1||_>p)throw new Y;x=!1,E===-1?(d[w]=0,x=!0):E===f&&(d[w]=f-1,x=!0),_===-1?(d[w+1]=0,x=!0):_===p&&(d[w+1]=p-1,x=!0)}}}class At{constructor(c,d,f,p,x,w,E,_,L){this.a11=c,this.a21=d,this.a31=f,this.a12=p,this.a22=x,this.a32=w,this.a13=E,this.a23=_,this.a33=L}static quadrilateralToQuadrilateral(c,d,f,p,x,w,E,_,L,W,re,le,xe,Ne,Ee,Re){const We=At.quadrilateralToSquare(c,d,f,p,x,w,E,_);return At.squareToQuadrilateral(L,W,re,le,xe,Ne,Ee,Re).times(We)}transformPoints(c){const d=c.length,f=this.a11,p=this.a12,x=this.a13,w=this.a21,E=this.a22,_=this.a23,L=this.a31,W=this.a32,re=this.a33;for(let le=0;le<d;le+=2){const xe=c[le],Ne=c[le+1],Ee=x*xe+_*Ne+re;c[le]=(f*xe+w*Ne+L)/Ee,c[le+1]=(p*xe+E*Ne+W)/Ee}}transformPointsWithValues(c,d){const f=this.a11,p=this.a12,x=this.a13,w=this.a21,E=this.a22,_=this.a23,L=this.a31,W=this.a32,re=this.a33,le=c.length;for(let xe=0;xe<le;xe++){const Ne=c[xe],Ee=d[xe],Re=x*Ne+_*Ee+re;c[xe]=(f*Ne+w*Ee+L)/Re,d[xe]=(p*Ne+E*Ee+W)/Re}}static squareToQuadrilateral(c,d,f,p,x,w,E,_){const L=c-f+x-E,W=d-p+w-_;if(L===0&&W===0)return new At(f-c,x-f,c,p-d,w-p,d,0,0,1);{const re=f-x,le=E-x,xe=p-w,Ne=_-w,Ee=re*Ne-le*xe,Re=(L*Ne-le*W)/Ee,We=(re*W-L*xe)/Ee;return new At(f-c+Re*f,E-c+We*E,c,p-d+Re*p,_-d+We*_,d,Re,We,1)}}static quadrilateralToSquare(c,d,f,p,x,w,E,_){return At.squareToQuadrilateral(c,d,f,p,x,w,E,_).buildAdjoint()}buildAdjoint(){return new At(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(c){return new At(this.a11*c.a11+this.a21*c.a12+this.a31*c.a13,this.a11*c.a21+this.a21*c.a22+this.a31*c.a23,this.a11*c.a31+this.a21*c.a32+this.a31*c.a33,this.a12*c.a11+this.a22*c.a12+this.a32*c.a13,this.a12*c.a21+this.a22*c.a22+this.a32*c.a23,this.a12*c.a31+this.a22*c.a32+this.a32*c.a33,this.a13*c.a11+this.a23*c.a12+this.a33*c.a13,this.a13*c.a21+this.a23*c.a22+this.a33*c.a23,this.a13*c.a31+this.a23*c.a32+this.a33*c.a33)}}class Ht extends ct{sampleGrid(c,d,f,p,x,w,E,_,L,W,re,le,xe,Ne,Ee,Re,We,ot,ht){const lt=At.quadrilateralToQuadrilateral(p,x,w,E,_,L,W,re,le,xe,Ne,Ee,Re,We,ot,ht);return this.sampleGridWithTransform(c,d,f,lt)}sampleGridWithTransform(c,d,f,p){if(d<=0||f<=0)throw new Y;const x=new ne(d,f),w=new Float32Array(2*d);for(let E=0;E<f;E++){const _=w.length,L=E+.5;for(let W=0;W<_;W+=2)w[W]=W/2+.5,w[W+1]=L;p.transformPoints(w),ct.checkAndNudgePoints(c,w);try{for(let W=0;W<_;W+=2)c.get(Math.floor(w[W]),Math.floor(w[W+1]))&&x.set(W/2,E)}catch{throw new Y}}return x}}class St{static setGridSampler(c){St.gridSampler=c}static getInstance(){return St.gridSampler}}St.gridSampler=new Ht;class xt{constructor(c,d){this.x=c,this.y=d}toResultPoint(){return new Ke(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Lt{constructor(c){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=c}detect(){return this.detectMirror(!1)}detectMirror(c){let d=this.getMatrixCenter(),f=this.getBullsEyeCorners(d);if(c){let w=f[0];f[0]=f[2],f[2]=w}this.extractParameters(f);let p=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),x=this.getMatrixCornerPoints(f);return new bt(p,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(c){if(!this.isValidPoint(c[0])||!this.isValidPoint(c[1])||!this.isValidPoint(c[2])||!this.isValidPoint(c[3]))throw new Y;let d=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(c[0],c[1],d),this.sampleLine(c[1],c[2],d),this.sampleLine(c[2],c[3],d),this.sampleLine(c[3],c[0],d)]);this.shift=this.getRotation(f,d);let p=0;for(let w=0;w<4;w++){let E=f[(this.shift+w)%4];this.compact?(p<<=7,p+=E>>1&127):(p<<=10,p+=(E>>2&992)+(E>>1&31))}let x=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(c,d){let f=0;c.forEach((p,x,w)=>{let E=(p>>d-2<<1)+(p&1);f=(f<<3)+E}),f=((f&1)<<11)+(f>>1);for(let p=0;p<4;p++)if(F.bitCount(f^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new Y}getCorrectedParameterData(c,d){let f,p;d?(f=7,p=2):(f=10,p=4);let x=f-p,w=new Int32Array(f);for(let _=f-1;_>=0;--_)w[_]=c&15,c>>=4;try{new ft(Se.AZTEC_PARAM).decode(w,x)}catch{throw new Y}let E=0;for(let _=0;_<p;_++)E=(E<<4)+w[_];return E}getBullsEyeCorners(c){let d=c,f=c,p=c,x=c,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let re=this.getFirstDifferent(d,w,1,-1),le=this.getFirstDifferent(f,w,1,1),xe=this.getFirstDifferent(p,w,-1,1),Ne=this.getFirstDifferent(x,w,-1,-1);if(this.nbCenterLayers>2){let Ee=this.distancePoint(Ne,re)*this.nbCenterLayers/(this.distancePoint(x,d)*(this.nbCenterLayers+2));if(Ee<.75||Ee>1.25||!this.isWhiteOrBlackRectangle(re,le,xe,Ne))break}d=re,f=le,p=xe,x=Ne,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let E=new Ke(d.getX()+.5,d.getY()-.5),_=new Ke(f.getX()+.5,f.getY()+.5),L=new Ke(p.getX()-.5,p.getY()+.5),W=new Ke(x.getX()-.5,x.getY()-.5);return this.expandSquare([E,_,L,W],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let c,d,f,p;try{let E=new nt(this.image).detect();c=E[0],d=E[1],f=E[2],p=E[3]}catch{let _=this.image.getWidth()/2,L=this.image.getHeight()/2;c=this.getFirstDifferent(new xt(_+7,L-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new xt(_+7,L+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new xt(_-7,L+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new xt(_-7,L-7),!1,-1,-1).toResultPoint()}let x=Qe.round((c.getX()+p.getX()+d.getX()+f.getX())/4),w=Qe.round((c.getY()+p.getY()+d.getY()+f.getY())/4);try{let E=new nt(this.image,15,x,w).detect();c=E[0],d=E[1],f=E[2],p=E[3]}catch{c=this.getFirstDifferent(new xt(x+7,w-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new xt(x+7,w+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new xt(x-7,w+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new xt(x-7,w-7),!1,-1,-1).toResultPoint()}return x=Qe.round((c.getX()+p.getX()+d.getX()+f.getX())/4),w=Qe.round((c.getY()+p.getY()+d.getY()+f.getY())/4),new xt(x,w)}getMatrixCornerPoints(c){return this.expandSquare(c,2*this.nbCenterLayers,this.getDimension())}sampleGrid(c,d,f,p,x){let w=St.getInstance(),E=this.getDimension(),_=E/2-this.nbCenterLayers,L=E/2+this.nbCenterLayers;return w.sampleGrid(c,E,E,_,_,L,_,L,L,_,L,d.getX(),d.getY(),f.getX(),f.getY(),p.getX(),p.getY(),x.getX(),x.getY())}sampleLine(c,d,f){let p=0,x=this.distanceResultPoint(c,d),w=x/f,E=c.getX(),_=c.getY(),L=w*(d.getX()-c.getX())/x,W=w*(d.getY()-c.getY())/x;for(let re=0;re<f;re++)this.image.get(Qe.round(E+re*L),Qe.round(_+re*W))&&(p|=1<<f-re-1);return p}isWhiteOrBlackRectangle(c,d,f,p){let x=3;c=new xt(c.getX()-x,c.getY()+x),d=new xt(d.getX()-x,d.getY()-x),f=new xt(f.getX()+x,f.getY()-x),p=new xt(p.getX()+x,p.getY()+x);let w=this.getColor(p,c);if(w===0)return!1;let E=this.getColor(c,d);return E!==w||(E=this.getColor(d,f),E!==w)?!1:(E=this.getColor(f,p),E===w)}getColor(c,d){let f=this.distancePoint(c,d),p=(d.getX()-c.getX())/f,x=(d.getY()-c.getY())/f,w=0,E=c.getX(),_=c.getY(),L=this.image.get(c.getX(),c.getY()),W=Math.ceil(f);for(let le=0;le<W;le++)E+=p,_+=x,this.image.get(Qe.round(E),Qe.round(_))!==L&&w++;let re=w/f;return re>.1&&re<.9?0:re<=.1===L?1:-1}getFirstDifferent(c,d,f,p){let x=c.getX()+f,w=c.getY()+p;for(;this.isValid(x,w)&&this.image.get(x,w)===d;)x+=f,w+=p;for(x-=f,w-=p;this.isValid(x,w)&&this.image.get(x,w)===d;)x+=f;for(x-=f;this.isValid(x,w)&&this.image.get(x,w)===d;)w+=p;return w-=p,new xt(x,w)}expandSquare(c,d,f){let p=f/(2*d),x=c[0].getX()-c[2].getX(),w=c[0].getY()-c[2].getY(),E=(c[0].getX()+c[2].getX())/2,_=(c[0].getY()+c[2].getY())/2,L=new Ke(E+p*x,_+p*w),W=new Ke(E-p*x,_-p*w);x=c[1].getX()-c[3].getX(),w=c[1].getY()-c[3].getY(),E=(c[1].getX()+c[3].getX())/2,_=(c[1].getY()+c[3].getY())/2;let re=new Ke(E+p*x,_+p*w),le=new Ke(E-p*x,_-p*w);return[L,re,W,le]}isValid(c,d){return c>=0&&c<this.image.getWidth()&&d>0&&d<this.image.getHeight()}isValidPoint(c){let d=Qe.round(c.getX()),f=Qe.round(c.getY());return this.isValid(d,f)}distancePoint(c,d){return Qe.distance(c.getX(),c.getY(),d.getX(),d.getY())}distanceResultPoint(c,d){return Qe.distance(c.getX(),c.getY(),d.getX(),d.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class Bt{decode(c,d=null){let f=null,p=new Lt(c.getBlackMatrix()),x=null,w=null;try{let W=p.detectMirror(!1);x=W.getPoints(),this.reportFoundResultPoints(d,x),w=new Je().decode(W)}catch(W){f=W}if(w==null)try{let W=p.detectMirror(!0);x=W.getPoints(),this.reportFoundResultPoints(d,x),w=new Je().decode(W)}catch(W){throw f??W}let E=new ae(w.getText(),w.getRawBytes(),w.getNumBits(),x,oe.AZTEC,C.currentTimeMillis()),_=w.getByteSegments();_!=null&&E.putMetadata(Be.BYTE_SEGMENTS,_);let L=w.getECLevel();return L!=null&&E.putMetadata(Be.ERROR_CORRECTION_LEVEL,L),E}reportFoundResultPoints(c,d){if(c!=null){let f=c.get(V.NEED_RESULT_POINT_CALLBACK);f!=null&&d.forEach((p,x,w)=>{f.foundPossibleResultPoint(p)})}}reset(){}}class Mr extends Z{constructor(c=500){super(new Bt,c)}}class Yt{decode(c,d){try{return this.doDecode(c,d)}catch{if(d&&d.get(V.TRY_HARDER)===!0&&c.isRotateSupported()){const x=c.rotateCounterClockwise(),w=this.doDecode(x,d),E=w.getResultMetadata();let _=270;E!==null&&E.get(Be.ORIENTATION)===!0&&(_=_+E.get(Be.ORIENTATION)%360),w.putMetadata(Be.ORIENTATION,_);const L=w.getResultPoints();if(L!==null){const W=x.getHeight();for(let re=0;re<L.length;re++)L[re]=new Ke(W-L[re].getY()-1,L[re].getX())}return w}else throw new Y}}reset(){}doDecode(c,d){const f=c.getWidth(),p=c.getHeight();let x=new T(f);const w=d&&d.get(V.TRY_HARDER)===!0,E=Math.max(1,p>>(w?8:5));let _;w?_=p:_=15;const L=Math.trunc(p/2);for(let W=0;W<_;W++){const re=Math.trunc((W+1)/2),le=(W&1)===0,xe=L+E*(le?re:-re);if(xe<0||xe>=p)break;try{x=c.getBlackRow(xe,x)}catch{continue}for(let Ne=0;Ne<2;Ne++){if(Ne===1&&(x.reverse(),d&&d.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const Ee=new Map;d.forEach((Re,We)=>Ee.set(We,Re)),Ee.delete(V.NEED_RESULT_POINT_CALLBACK),d=Ee}try{const Ee=this.decodeRow(xe,x,d);if(Ne===1){Ee.putMetadata(Be.ORIENTATION,180);const Re=Ee.getResultPoints();Re!==null&&(Re[0]=new Ke(f-Re[0].getX()-1,Re[0].getY()),Re[1]=new Ke(f-Re[1].getX()-1,Re[1].getY()))}return Ee}catch{}}}throw new Y}static recordPattern(c,d,f){const p=f.length;for(let L=0;L<p;L++)f[L]=0;const x=c.getSize();if(d>=x)throw new Y;let w=!c.get(d),E=0,_=d;for(;_<x;){if(c.get(_)!==w)f[E]++;else{if(++E===p)break;f[E]=1,w=!w}_++}if(!(E===p||E===p-1&&_===x))throw new Y}static recordPatternInReverse(c,d,f){let p=f.length,x=c.get(d);for(;d>0&&p>=0;)c.get(--d)!==x&&(p--,x=!x);if(p>=0)throw new Y;Yt.recordPattern(c,d+1,f)}static patternMatchVariance(c,d,f){const p=c.length;let x=0,w=0;for(let L=0;L<p;L++)x+=c[L],w+=d[L];if(x<w)return Number.POSITIVE_INFINITY;const E=x/w;f*=E;let _=0;for(let L=0;L<p;L++){const W=c[L],re=d[L]*E,le=W>re?W-re:re-W;if(le>f)return Number.POSITIVE_INFINITY;_+=le}return _/x}}class Ge extends Yt{static findStartPattern(c){const d=c.getSize(),f=c.getNextSet(0);let p=0,x=Int32Array.from([0,0,0,0,0,0]),w=f,E=!1;const _=6;for(let L=f;L<d;L++)if(c.get(L)!==E)x[p]++;else{if(p===_-1){let W=Ge.MAX_AVG_VARIANCE,re=-1;for(let le=Ge.CODE_START_A;le<=Ge.CODE_START_C;le++){const xe=Yt.patternMatchVariance(x,Ge.CODE_PATTERNS[le],Ge.MAX_INDIVIDUAL_VARIANCE);xe<W&&(W=xe,re=le)}if(re>=0&&c.isRange(Math.max(0,w-(L-w)/2),w,!1))return Int32Array.from([w,L,re]);w+=x[0]+x[1],x=x.slice(2,x.length-1),x[p-1]=0,x[p]=0,p--}else p++;x[p]=1,E=!E}throw new Y}static decodeCode(c,d,f){Yt.recordPattern(c,f,d);let p=Ge.MAX_AVG_VARIANCE,x=-1;for(let w=0;w<Ge.CODE_PATTERNS.length;w++){const E=Ge.CODE_PATTERNS[w],_=this.patternMatchVariance(d,E,Ge.MAX_INDIVIDUAL_VARIANCE);_<p&&(p=_,x=w)}if(x>=0)return x;throw new Y}decodeRow(c,d,f){const p=f&&f.get(V.ASSUME_GS1)===!0,x=Ge.findStartPattern(d),w=x[2];let E=0;const _=new Uint8Array(20);_[E++]=w;let L;switch(w){case Ge.CODE_START_A:L=Ge.CODE_CODE_A;break;case Ge.CODE_START_B:L=Ge.CODE_CODE_B;break;case Ge.CODE_START_C:L=Ge.CODE_CODE_C;break;default:throw new P}let W=!1,re=!1,le="",xe=x[0],Ne=x[1];const Ee=Int32Array.from([0,0,0,0,0,0]);let Re=0,We=0,ot=w,ht=0,lt=!0,Pr=!1,wr=!1;for(;!W;){const Zc=re;switch(re=!1,Re=We,We=Ge.decodeCode(d,Ee,Ne),_[E++]=We,We!==Ge.CODE_STOP&&(lt=!0),We!==Ge.CODE_STOP&&(ht++,ot+=ht*We),xe=Ne,Ne+=Ee.reduce((I1,Gd)=>I1+Gd,0),We){case Ge.CODE_START_A:case Ge.CODE_START_B:case Ge.CODE_START_C:throw new P}switch(L){case Ge.CODE_CODE_A:if(We<64)wr===Pr?le+=String.fromCharCode(32+We):le+=String.fromCharCode(32+We+128),wr=!1;else if(We<96)wr===Pr?le+=String.fromCharCode(We-64):le+=String.fromCharCode(We+64),wr=!1;else switch(We!==Ge.CODE_STOP&&(lt=!1),We){case Ge.CODE_FNC_1:p&&(le.length===0?le+="]C1":le+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_A:!Pr&&wr?(Pr=!0,wr=!1):Pr&&wr?(Pr=!1,wr=!1):wr=!0;break;case Ge.CODE_SHIFT:re=!0,L=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_B:L=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_C:L=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:W=!0;break}break;case Ge.CODE_CODE_B:if(We<96)wr===Pr?le+=String.fromCharCode(32+We):le+=String.fromCharCode(32+We+128),wr=!1;else switch(We!==Ge.CODE_STOP&&(lt=!1),We){case Ge.CODE_FNC_1:p&&(le.length===0?le+="]C1":le+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_B:!Pr&&wr?(Pr=!0,wr=!1):Pr&&wr?(Pr=!1,wr=!1):wr=!0;break;case Ge.CODE_SHIFT:re=!0,L=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_A:L=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_C:L=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:W=!0;break}break;case Ge.CODE_CODE_C:if(We<100)We<10&&(le+="0"),le+=We;else switch(We!==Ge.CODE_STOP&&(lt=!1),We){case Ge.CODE_FNC_1:p&&(le.length===0?le+="]C1":le+="");break;case Ge.CODE_CODE_A:L=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_B:L=Ge.CODE_CODE_B;break;case Ge.CODE_STOP:W=!0;break}break}Zc&&(L=L===Ge.CODE_CODE_A?Ge.CODE_CODE_B:Ge.CODE_CODE_A)}const gi=Ne-xe;if(Ne=d.getNextUnset(Ne),!d.isRange(Ne,Math.min(d.getSize(),Ne+(Ne-xe)/2),!1))throw new Y;if(ot-=ht*Re,ot%103!==Re)throw new g;const Ia=le.length;if(Ia===0)throw new Y;Ia>0&&lt&&(L===Ge.CODE_CODE_C?le=le.substring(0,Ia-2):le=le.substring(0,Ia-1));const xi=(x[1]+x[0])/2,fn=xe+gi/2,Qs=_.length,Ri=new Uint8Array(Qs);for(let Zc=0;Zc<Qs;Zc++)Ri[Zc]=_[Zc];const Yc=[new Ke(xi,c),new Ke(fn,c)];return new ae(le,Ri,0,Yc,oe.CODE_128,new Date().getTime())}}Ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ge.MAX_AVG_VARIANCE=.25,Ge.MAX_INDIVIDUAL_VARIANCE=.7,Ge.CODE_SHIFT=98,Ge.CODE_CODE_C=99,Ge.CODE_CODE_B=100,Ge.CODE_CODE_A=101,Ge.CODE_FNC_1=102,Ge.CODE_FNC_2=97,Ge.CODE_FNC_3=96,Ge.CODE_FNC_4_A=101,Ge.CODE_FNC_4_B=100,Ge.CODE_START_A=103,Ge.CODE_START_B=104,Ge.CODE_START_C=105,Ge.CODE_STOP=106;class jt extends Yt{constructor(c=!1,d=!1){super(),this.usingCheckDigit=c,this.extendedMode=d,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(c,d,f){let p=this.counters;p.fill(0),this.decodeRowResult="";let x=jt.findAsteriskPattern(d,p),w=d.getNextSet(x[1]),E=d.getSize(),_,L;do{jt.recordPattern(d,w,p);let Ee=jt.toNarrowWidePattern(p);if(Ee<0)throw new Y;_=jt.patternToChar(Ee),this.decodeRowResult+=_,L=w;for(let Re of p)w+=Re;w=d.getNextSet(w)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let W=0;for(let Ee of p)W+=Ee;let re=w-L-W;if(w!==E&&re*2<W)throw new Y;if(this.usingCheckDigit){let Ee=this.decodeRowResult.length-1,Re=0;for(let We=0;We<Ee;We++)Re+=jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(We));if(this.decodeRowResult.charAt(Ee)!==jt.ALPHABET_STRING.charAt(Re%43))throw new g;this.decodeRowResult=this.decodeRowResult.substring(0,Ee)}if(this.decodeRowResult.length===0)throw new Y;let le;this.extendedMode?le=jt.decodeExtended(this.decodeRowResult):le=this.decodeRowResult;let xe=(x[1]+x[0])/2,Ne=L+W/2;return new ae(le,null,0,[new Ke(xe,c),new Ke(Ne,c)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(c,d){let f=c.getSize(),p=c.getNextSet(0),x=0,w=p,E=!1,_=d.length;for(let L=p;L<f;L++)if(c.get(L)!==E)d[x]++;else{if(x===_-1){if(this.toNarrowWidePattern(d)===jt.ASTERISK_ENCODING&&c.isRange(Math.max(0,w-Math.floor((L-w)/2)),w,!1))return[w,L];w+=d[0]+d[1],d.copyWithin(0,2,2+x-1),d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,E=!E}throw new Y}static toNarrowWidePattern(c){let d=c.length,f=0,p;do{let x=2147483647;for(let _ of c)_<x&&_>f&&(x=_);f=x,p=0;let w=0,E=0;for(let _=0;_<d;_++){let L=c[_];L>f&&(E|=1<<d-1-_,p++,w+=L)}if(p===3){for(let _=0;_<d&&p>0;_++){let L=c[_];if(L>f&&(p--,L*2>=w))return-1}return E}}while(p>3);return-1}static patternToChar(c){for(let d=0;d<jt.CHARACTER_ENCODINGS.length;d++)if(jt.CHARACTER_ENCODINGS[d]===c)return jt.ALPHABET_STRING.charAt(d);if(c===jt.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(c){let d=c.length,f="";for(let p=0;p<d;p++){let x=c.charAt(p);if(x==="+"||x==="$"||x==="%"||x==="/"){let w=c.charAt(p+1),E="\0";switch(x){case"+":if(w>="A"&&w<="Z")E=String.fromCharCode(w.charCodeAt(0)+32);else throw new P;break;case"$":if(w>="A"&&w<="Z")E=String.fromCharCode(w.charCodeAt(0)-64);else throw new P;break;case"%":if(w>="A"&&w<="E")E=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")E=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")E=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")E=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")E="\0";else if(w==="V")E="@";else if(w==="W")E="`";else if(w==="X"||w==="Y"||w==="Z")E="";else throw new P;break;case"/":if(w>="A"&&w<="O")E=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")E=":";else throw new P;break}f+=E,p++}else f+=x}return f}}jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],jt.ASTERISK_ENCODING=148;class $e extends Yt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(c,d,f){let p=this.decodeStart(d),x=this.decodeEnd(d),w=new J;$e.decodeMiddle(d,p[1],x[0],w);let E=w.toString(),_=null;f!=null&&(_=f.get(V.ALLOWED_LENGTHS)),_==null&&(_=$e.DEFAULT_ALLOWED_LENGTHS);let L=E.length,W=!1,re=0;for(let Ne of _){if(L===Ne){W=!0;break}Ne>re&&(re=Ne)}if(!W&&L>re&&(W=!0),!W)throw new P;const le=[new Ke(p[1],c),new Ke(x[0],c)];return new ae(E,null,0,le,oe.ITF,new Date().getTime())}static decodeMiddle(c,d,f,p){let x=new Int32Array(10),w=new Int32Array(5),E=new Int32Array(5);for(x.fill(0),w.fill(0),E.fill(0);d<f;){Yt.recordPattern(c,d,x);for(let L=0;L<5;L++){let W=2*L;w[L]=x[W],E[L]=x[W+1]}let _=$e.decodeDigit(w);p.append(_.toString()),_=this.decodeDigit(E),p.append(_.toString()),x.forEach(function(L){d+=L})}}decodeStart(c){let d=$e.skipWhiteSpace(c),f=$e.findGuardPattern(c,d,$e.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(c,f[0]),f}validateQuietZone(c,d){let f=this.narrowLineWidth*10;f=f<d?f:d;for(let p=d-1;f>0&&p>=0&&!c.get(p);p--)f--;if(f!==0)throw new Y}static skipWhiteSpace(c){const d=c.getSize(),f=c.getNextSet(0);if(f===d)throw new Y;return f}decodeEnd(c){c.reverse();try{let d=$e.skipWhiteSpace(c),f;try{f=$e.findGuardPattern(c,d,$e.END_PATTERN_REVERSED[0])}catch(x){x instanceof Y&&(f=$e.findGuardPattern(c,d,$e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(c,f[0]);let p=f[0];return f[0]=c.getSize()-f[1],f[1]=c.getSize()-p,f}finally{c.reverse()}}static findGuardPattern(c,d,f){let p=f.length,x=new Int32Array(p),w=c.getSize(),E=!1,_=0,L=d;x.fill(0);for(let W=d;W<w;W++)if(c.get(W)!==E)x[_]++;else{if(_===p-1){if(Yt.patternMatchVariance(x,f,$e.MAX_INDIVIDUAL_VARIANCE)<$e.MAX_AVG_VARIANCE)return[L,W];L+=x[0]+x[1],C.arraycopy(x,2,x,0,_-1),x[_-1]=0,x[_]=0,_--}else _++;x[_]=1,E=!E}throw new Y}static decodeDigit(c){let d=$e.MAX_AVG_VARIANCE,f=-1,p=$e.PATTERNS.length;for(let x=0;x<p;x++){let w=$e.PATTERNS[x],E=Yt.patternMatchVariance(c,w,$e.MAX_INDIVIDUAL_VARIANCE);E<d?(d=E,f=x):E===d&&(f=-1)}if(f>=0)return f%10;throw new Y}}$e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],$e.MAX_AVG_VARIANCE=.38,$e.MAX_INDIVIDUAL_VARIANCE=.5,$e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],$e.START_PATTERN=Int32Array.from([1,1,1,1]),$e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class at extends Yt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(c){let d=!1,f,p=0,x=Int32Array.from([0,0,0]);for(;!d;){x=Int32Array.from([0,0,0]),f=at.findGuardPattern(c,p,!1,this.START_END_PATTERN,x);let w=f[0];p=f[1];let E=w-(p-w);E>=0&&(d=c.isRange(E,w,!1))}return f}static checkChecksum(c){return at.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let d=c.length;if(d===0)return!1;let f=parseInt(c.charAt(d-1),10);return at.getStandardUPCEANChecksum(c.substring(0,d-1))===f}static getStandardUPCEANChecksum(c){let d=c.length,f=0;for(let p=d-1;p>=0;p-=2){let x=c.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new P;f+=x}f*=3;for(let p=d-2;p>=0;p-=2){let x=c.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new P;f+=x}return(1e3-f)%10}static decodeEnd(c,d){return at.findGuardPattern(c,d,!1,at.START_END_PATTERN,new Int32Array(at.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(c,d,f,p){return this.findGuardPattern(c,d,f,p,new Int32Array(p.length))}static findGuardPattern(c,d,f,p,x){let w=c.getSize();d=f?c.getNextUnset(d):c.getNextSet(d);let E=0,_=d,L=p.length,W=f;for(let re=d;re<w;re++)if(c.get(re)!==W)x[E]++;else{if(E===L-1){if(Yt.patternMatchVariance(x,p,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return Int32Array.from([_,re]);_+=x[0]+x[1];let le=x.slice(2,x.length-1);for(let xe=0;xe<E-1;xe++)x[xe]=le[xe];x[E-1]=0,x[E]=0,E--}else E++;x[E]=1,W=!W}throw new Y}static decodeDigit(c,d,f,p){this.recordPattern(c,f,d);let x=this.MAX_AVG_VARIANCE,w=-1,E=p.length;for(let _=0;_<E;_++){let L=p[_],W=Yt.patternMatchVariance(d,L,at.MAX_INDIVIDUAL_VARIANCE);W<x&&(x=W,w=_)}if(w>=0)return w;throw new Y}}at.MAX_AVG_VARIANCE=.48,at.MAX_INDIVIDUAL_VARIANCE=.7,at.START_END_PATTERN=Int32Array.from([1,1,1]),at.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),at.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),at.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class mt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,d,f){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(d,f,p),w=p.toString(),E=mt.parseExtensionString(w),_=[new Ke((f[0]+f[1])/2,c),new Ke(x,c)],L=new ae(w,null,0,_,oe.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&L.putAllMetadata(E),L}decodeMiddle(c,d,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=c.getSize(),w=d[1],E=0;for(let L=0;L<5&&w<x;L++){let W=at.decodeDigit(c,p,w,at.L_AND_G_PATTERNS);f+=String.fromCharCode(48+W%10);for(let re of p)w+=re;W>=10&&(E|=1<<4-L),L!==4&&(w=c.getNextSet(w),w=c.getNextUnset(w))}if(f.length!==5)throw new Y;let _=this.determineCheckDigit(E);if(mt.extensionChecksum(f.toString())!==_)throw new Y;return w}static extensionChecksum(c){let d=c.length,f=0;for(let p=d-2;p>=0;p-=2)f+=c.charAt(p).charCodeAt(0)-48;f*=3;for(let p=d-1;p>=0;p-=2)f+=c.charAt(p).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(c){for(let d=0;d<10;d++)if(c===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new Y}static parseExtensionString(c){if(c.length!==5)return null;let d=mt.parseExtension5String(c);return d==null?null:new Map([[Be.SUGGESTED_PRICE,d]])}static parseExtension5String(c){let d;switch(c.charAt(0)){case"0":d="";break;case"5":d="$";break;case"9":switch(c){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}d="";break;default:d="";break}let f=parseInt(c.substring(1)),p=(f/100).toString(),x=f%100,w=x<10?"0"+x:x.toString();return d+p+"."+w}}class yt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,d,f){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(d,f,p),w=p.toString(),E=yt.parseExtensionString(w),_=[new Ke((f[0]+f[1])/2,c),new Ke(x,c)],L=new ae(w,null,0,_,oe.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&L.putAllMetadata(E),L}decodeMiddle(c,d,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=c.getSize(),w=d[1],E=0;for(let _=0;_<2&&w<x;_++){let L=at.decodeDigit(c,p,w,at.L_AND_G_PATTERNS);f+=String.fromCharCode(48+L%10);for(let W of p)w+=W;L>=10&&(E|=1<<1-_),_!==1&&(w=c.getNextSet(w),w=c.getNextUnset(w))}if(f.length!==2)throw new Y;if(parseInt(f.toString())%4!==E)throw new Y;return w}static parseExtensionString(c){return c.length!==2?null:new Map([[Be.ISSUE_NUMBER,parseInt(c)]])}}class Kr{static decodeRow(c,d,f){let p=at.findGuardPattern(d,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new mt().decodeRow(c,d,p)}catch{return new yt().decodeRow(c,d,p)}}}Kr.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class $t extends at{constructor(){super(),this.decodeRowStringBuffer="",$t.L_AND_G_PATTERNS=$t.L_PATTERNS.map(c=>Int32Array.from(c));for(let c=10;c<20;c++){let d=$t.L_PATTERNS[c-10],f=new Int32Array(d.length);for(let p=0;p<d.length;p++)f[p]=d[d.length-p-1];$t.L_AND_G_PATTERNS[c]=f}}decodeRow(c,d,f){let p=$t.findStartGuardPattern(d),x=f==null?null:f.get(V.NEED_RESULT_POINT_CALLBACK);if(x!=null){const lt=new Ke((p[0]+p[1])/2,c);x.foundPossibleResultPoint(lt)}let w=this.decodeMiddle(d,p,this.decodeRowStringBuffer),E=w.rowOffset,_=w.resultString;if(x!=null){const lt=new Ke(E,c);x.foundPossibleResultPoint(lt)}let L=this.decodeEnd(d,E);if(x!=null){const lt=new Ke((L[0]+L[1])/2,c);x.foundPossibleResultPoint(lt)}let W=L[1],re=W+(W-L[0]);if(re>=d.getSize()||!d.isRange(W,re,!1))throw new Y;let le=_.toString();if(le.length<8)throw new P;if(!$t.checkChecksum(le))throw new g;let xe=(p[1]+p[0])/2,Ne=(L[1]+L[0])/2,Ee=this.getBarcodeFormat(),Re=[new Ke(xe,c),new Ke(Ne,c)],We=new ae(le,null,0,Re,Ee,new Date().getTime()),ot=0;try{let lt=Kr.decodeRow(c,d,L[1]);We.putMetadata(Be.UPC_EAN_EXTENSION,lt.getText()),We.putAllMetadata(lt.getResultMetadata()),We.addResultPoints(lt.getResultPoints()),ot=lt.getText().length}catch{}let ht=f==null?null:f.get(V.ALLOWED_EAN_EXTENSIONS);if(ht!=null){let lt=!1;for(let Pr in ht)if(ot.toString()===Pr){lt=!0;break}if(!lt)throw new Y}return We}decodeEnd(c,d){return $t.findGuardPattern(c,d,!1,$t.START_END_PATTERN,new Int32Array($t.START_END_PATTERN.length).fill(0))}static checkChecksum(c){return $t.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let d=c.length;if(d===0)return!1;let f=parseInt(c.charAt(d-1),10);return $t.getStandardUPCEANChecksum(c.substring(0,d-1))===f}static getStandardUPCEANChecksum(c){let d=c.length,f=0;for(let p=d-1;p>=0;p-=2){let x=c.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new P;f+=x}f*=3;for(let p=d-2;p>=0;p-=2){let x=c.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new P;f+=x}return(1e3-f)%10}}class sr extends $t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,d,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=c.getSize(),w=d[1],E=0;for(let L=0;L<6&&w<x;L++){let W=$t.decodeDigit(c,p,w,$t.L_AND_G_PATTERNS);f+=String.fromCharCode(48+W%10);for(let re of p)w+=re;W>=10&&(E|=1<<5-L)}f=sr.determineFirstDigit(f,E),w=$t.findGuardPattern(c,w,!0,$t.MIDDLE_PATTERN,new Int32Array($t.MIDDLE_PATTERN.length).fill(0))[1];for(let L=0;L<6&&w<x;L++){let W=$t.decodeDigit(c,p,w,$t.L_PATTERNS);f+=String.fromCharCode(48+W);for(let re of p)w+=re}return{rowOffset:w,resultString:f}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(c,d){for(let f=0;f<10;f++)if(d===this.FIRST_DIGIT_ENCODINGS[f])return c=String.fromCharCode(48+f)+c,c;throw new Y}}sr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Dt extends $t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,d,f){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=c.getSize(),w=d[1];for(let _=0;_<4&&w<x;_++){let L=$t.decodeDigit(c,p,w,$t.L_PATTERNS);f+=String.fromCharCode(48+L);for(let W of p)w+=W}w=$t.findGuardPattern(c,w,!0,$t.MIDDLE_PATTERN,new Int32Array($t.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<4&&w<x;_++){let L=$t.decodeDigit(c,p,w,$t.L_PATTERNS);f+=String.fromCharCode(48+L);for(let W of p)w+=W}return{rowOffset:w,resultString:f}}getBarcodeFormat(){return oe.EAN_8}}class Tr extends $t{constructor(){super(...arguments),this.ean13Reader=new sr}getBarcodeFormat(){return oe.UPC_A}decode(c,d){return this.maybeReturnResult(this.ean13Reader.decode(c))}decodeRow(c,d,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(c,d,f))}decodeMiddle(c,d,f){return this.ean13Reader.decodeMiddle(c,d,f)}maybeReturnResult(c){let d=c.getText();if(d.charAt(0)==="0"){let f=new ae(d.substring(1),null,null,c.getResultPoints(),oe.UPC_A);return c.getResultMetadata()!=null&&f.putAllMetadata(c.getResultMetadata()),f}else throw new Y}reset(){this.ean13Reader.reset()}}class Pt extends $t{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(c,d,f){const p=this.decodeMiddleCounters.map(L=>L);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const x=c.getSize();let w=d[1],E=0;for(let L=0;L<6&&w<x;L++){const W=Pt.decodeDigit(c,p,w,Pt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+W%10);for(let re of p)w+=re;W>=10&&(E|=1<<5-L)}let _=Pt.determineNumSysAndCheckDigit(f,E);return{rowOffset:w,resultString:_}}decodeEnd(c,d){return Pt.findGuardPatternWithoutCounters(c,d,!0,Pt.MIDDLE_END_PATTERN)}checkChecksum(c){return $t.checkChecksum(Pt.convertUPCEtoUPCA(c))}static determineNumSysAndCheckDigit(c,d){for(let f=0;f<=1;f++)for(let p=0;p<10;p++)if(d===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][p]){let x=String.fromCharCode(48+f),w=String.fromCharCode(48+p);return x+c+w}throw Y.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(c){const d=c.slice(1,7).split("").map(x=>x.charCodeAt(0)),f=new J;f.append(c.charAt(0));let p=d[5];switch(p){case 0:case 1:case 2:f.appendChars(d,0,2),f.append(p),f.append("0000"),f.appendChars(d,2,3);break;case 3:f.appendChars(d,0,3),f.append("00000"),f.appendChars(d,3,2);break;case 4:f.appendChars(d,0,4),f.append("00000"),f.append(d[4]);break;default:f.appendChars(d,0,5),f.append("0000"),f.append(p);break}return c.length>=8&&f.append(c.charAt(7)),f.toString()}}Pt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class lr extends Yt{constructor(c){super();let d=c==null?null:c.get(V.POSSIBLE_FORMATS),f=[];n(d)?(f.push(new sr),f.push(new Tr),f.push(new Dt),f.push(new Pt)):(d.indexOf(oe.EAN_13)>-1&&f.push(new sr),d.indexOf(oe.UPC_A)>-1&&f.push(new Tr),d.indexOf(oe.EAN_8)>-1&&f.push(new Dt),d.indexOf(oe.UPC_E)>-1&&f.push(new Pt)),this.readers=f}decodeRow(c,d,f){for(let p of this.readers)try{const x=p.decodeRow(c,d,f),w=x.getBarcodeFormat()===oe.EAN_13&&x.getText().charAt(0)==="0",E=f==null?null:f.get(V.POSSIBLE_FORMATS),_=E==null||E.includes(oe.UPC_A);if(w&&_){const L=x.getRawBytes(),W=new ae(x.getText().substring(1),L,L?L.length:null,x.getResultPoints(),oe.UPC_A);return W.putAllMetadata(x.getResultMetadata()),W}return x}catch{}throw new Y}reset(){for(let c of this.readers)c.reset()}}class ir extends Yt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(c,d){for(let f=0;f<d.length;f++)if(Yt.patternMatchVariance(c,d[f],ir.MAX_INDIVIDUAL_VARIANCE)<ir.MAX_AVG_VARIANCE)return f;throw new Y}static count(c){return Qe.sum(new Int32Array(c))}static increment(c,d){let f=0,p=d[0];for(let x=1;x<c.length;x++)d[x]>p&&(p=d[x],f=x);c[f]++}static decrement(c,d){let f=0,p=d[0];for(let x=1;x<c.length;x++)d[x]<p&&(p=d[x],f=x);c[f]--}static isFinderPattern(c){let d=c[0]+c[1],f=d+c[2]+c[3],p=d/f;if(p>=ir.MIN_FINDER_PATTERN_RATIO&&p<=ir.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let E of c)E>w&&(w=E),E<x&&(x=E);return w<10*x}return!1}}ir.MAX_AVG_VARIANCE=.2,ir.MAX_INDIVIDUAL_VARIANCE=.45,ir.MIN_FINDER_PATTERN_RATIO=9.5/12,ir.MAX_FINDER_PATTERN_RATIO=12.5/14;class sn{constructor(c,d){this.value=c,this.checksumPortion=d}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(c){if(!(c instanceof sn))return!1;const d=c;return this.value===d.value&&this.checksumPortion===d.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Et{constructor(c,d,f,p,x){this.value=c,this.startEnd=d,this.value=c,this.startEnd=d,this.resultPoints=new Array,this.resultPoints.push(new Ke(f,x)),this.resultPoints.push(new Ke(p,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(c){if(!(c instanceof Et))return!1;const d=c;return this.value===d.value}hashCode(){return this.value}}class an{constructor(){}static getRSSvalue(c,d,f){let p=0;for(let _ of c)p+=_;let x=0,w=0,E=c.length;for(let _=0;_<E-1;_++){let L;for(L=1,w|=1<<_;L<c[_];L++,w&=~(1<<_)){let W=an.combins(p-L-1,E-_-2);if(f&&w===0&&p-L-(E-_-1)>=E-_-1&&(W-=an.combins(p-L-(E-_),E-_-2)),E-_-1>1){let re=0;for(let le=p-L-(E-_-2);le>d;le--)re+=an.combins(p-L-le-1,E-_-3);W-=re*(E-1-_)}else p-L>d&&W--;x+=W}p-=L}return x}static combins(c,d){let f,p;c-d>d?(p=d,f=c-d):(p=c-d,f=d);let x=1,w=1;for(let E=c;E>f;E--)x*=E,w<=p&&(x/=w,w++);for(;w<=p;)x/=w,w++;return x}}class ms{static buildBitArray(c){let d=c.length*2-1;c[c.length-1].getRightChar()==null&&(d-=1);let f=12*d,p=new T(f),x=0,E=c[0].getRightChar().getValue();for(let _=11;_>=0;--_)E&1<<_&&p.set(x),x++;for(let _=1;_<c.length;++_){let L=c[_],W=L.getLeftChar().getValue();for(let re=11;re>=0;--re)W&1<<re&&p.set(x),x++;if(L.getRightChar()!=null){let re=L.getRightChar().getValue();for(let le=11;le>=0;--le)re&1<<le&&p.set(x),x++}}return p}}class Gr{constructor(c,d){d?this.decodedInformation=null:(this.finished=c,this.decodedInformation=d)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Sn{constructor(c){this.newPosition=c}getNewPosition(){return this.newPosition}}class Dr extends Sn{constructor(c,d){super(c),this.value=d}getValue(){return this.value}isFNC1(){return this.value===Dr.FNC1}}Dr.FNC1="$";class Un extends Sn{constructor(c,d,f){super(c),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=d}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class hn extends Sn{constructor(c,d,f){if(super(c),d<0||d>10||f<0||f>10)throw new P;this.firstDigit=d,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===hn.FNC1}isSecondDigitFNC1(){return this.secondDigit===hn.FNC1}isAnyFNC1(){return this.firstDigit===hn.FNC1||this.secondDigit===hn.FNC1}}hn.FNC1=10;class Ct{constructor(){}static parseFieldsInGeneralPurpose(c){if(!c)return null;if(c.length<2)throw new Y;let d=c.substring(0,2);for(let x of Ct.TWO_DIGIT_DATA_LENGTH)if(x[0]===d)return x[1]===Ct.VARIABLE_LENGTH?Ct.processVariableAI(2,x[2],c):Ct.processFixedAI(2,x[1],c);if(c.length<3)throw new Y;let f=c.substring(0,3);for(let x of Ct.THREE_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===Ct.VARIABLE_LENGTH?Ct.processVariableAI(3,x[2],c):Ct.processFixedAI(3,x[1],c);for(let x of Ct.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===Ct.VARIABLE_LENGTH?Ct.processVariableAI(4,x[2],c):Ct.processFixedAI(4,x[1],c);if(c.length<4)throw new Y;let p=c.substring(0,4);for(let x of Ct.FOUR_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===Ct.VARIABLE_LENGTH?Ct.processVariableAI(4,x[2],c):Ct.processFixedAI(4,x[1],c);throw new Y}static processFixedAI(c,d,f){if(f.length<c)throw new Y;let p=f.substring(0,c);if(f.length<c+d)throw new Y;let x=f.substring(c,c+d),w=f.substring(c+d),E="("+p+")"+x,_=Ct.parseFieldsInGeneralPurpose(w);return _==null?E:E+_}static processVariableAI(c,d,f){let p=f.substring(0,c),x;f.length<c+d?x=f.length:x=c+d;let w=f.substring(c,x),E=f.substring(x),_="("+p+")"+w,L=Ct.parseFieldsInGeneralPurpose(E);return L==null?_:_+L}}Ct.VARIABLE_LENGTH=[],Ct.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ct.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ct.VARIABLE_LENGTH,20],["22",Ct.VARIABLE_LENGTH,29],["30",Ct.VARIABLE_LENGTH,8],["37",Ct.VARIABLE_LENGTH,8],["90",Ct.VARIABLE_LENGTH,30],["91",Ct.VARIABLE_LENGTH,30],["92",Ct.VARIABLE_LENGTH,30],["93",Ct.VARIABLE_LENGTH,30],["94",Ct.VARIABLE_LENGTH,30],["95",Ct.VARIABLE_LENGTH,30],["96",Ct.VARIABLE_LENGTH,30],["97",Ct.VARIABLE_LENGTH,3],["98",Ct.VARIABLE_LENGTH,30],["99",Ct.VARIABLE_LENGTH,30]],Ct.THREE_DIGIT_DATA_LENGTH=[["240",Ct.VARIABLE_LENGTH,30],["241",Ct.VARIABLE_LENGTH,30],["242",Ct.VARIABLE_LENGTH,6],["250",Ct.VARIABLE_LENGTH,30],["251",Ct.VARIABLE_LENGTH,30],["253",Ct.VARIABLE_LENGTH,17],["254",Ct.VARIABLE_LENGTH,20],["400",Ct.VARIABLE_LENGTH,30],["401",Ct.VARIABLE_LENGTH,30],["402",17],["403",Ct.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ct.VARIABLE_LENGTH,20],["421",Ct.VARIABLE_LENGTH,15],["422",3],["423",Ct.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ct.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ct.VARIABLE_LENGTH,15],["391",Ct.VARIABLE_LENGTH,18],["392",Ct.VARIABLE_LENGTH,15],["393",Ct.VARIABLE_LENGTH,18],["703",Ct.VARIABLE_LENGTH,30]],Ct.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ct.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ct.VARIABLE_LENGTH,20],["8003",Ct.VARIABLE_LENGTH,30],["8004",Ct.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ct.VARIABLE_LENGTH,30],["8008",Ct.VARIABLE_LENGTH,12],["8018",18],["8020",Ct.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ct.VARIABLE_LENGTH,70],["8200",Ct.VARIABLE_LENGTH,70]];class ra{constructor(c){this.buffer=new J,this.information=c}decodeAllCodes(c,d){let f=d,p=null;do{let x=this.decodeGeneralPurposeField(f,p),w=Ct.parseFieldsInGeneralPurpose(x.getNewString());if(w!=null&&c.append(w),x.isRemaining()?p=""+x.getRemainingValue():p=null,f===x.getNewPosition())break;f=x.getNewPosition()}while(!0);return c.toString()}isStillNumeric(c){if(c+7>this.information.getSize())return c+4<=this.information.getSize();for(let d=c;d<c+3;++d)if(this.information.get(d))return!0;return this.information.get(c+3)}decodeNumeric(c){if(c+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(c,4);return x===0?new hn(this.information.getSize(),hn.FNC1,hn.FNC1):new hn(this.information.getSize(),x-1,hn.FNC1)}let d=this.extractNumericValueFromBitArray(c,7),f=(d-8)/11,p=(d-8)%11;return new hn(c+7,f,p)}extractNumericValueFromBitArray(c,d){return ra.extractNumericValueFromBitArray(this.information,c,d)}static extractNumericValueFromBitArray(c,d,f){let p=0;for(let x=0;x<f;++x)c.get(d+x)&&(p|=1<<f-x-1);return p}decodeGeneralPurposeField(c,d){this.buffer.setLengthToZero(),d!=null&&this.buffer.append(d),this.current.setPosition(c);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new Un(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new Un(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let c,d;do{let f=this.current.getPosition();if(this.current.isAlpha()?(d=this.parseAlphaBlock(),c=d.isFinished()):this.current.isIsoIec646()?(d=this.parseIsoIec646Block(),c=d.isFinished()):(d=this.parseNumericBlock(),c=d.isFinished()),!(f!==this.current.getPosition())&&!c)break}while(!c);return d.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let c=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFirstDigitFNC1()){let d;return c.isSecondDigitFNC1()?d=new Un(this.current.getPosition(),this.buffer.toString()):d=new Un(this.current.getPosition(),this.buffer.toString(),c.getSecondDigit()),new Gr(!0,d)}if(this.buffer.append(c.getFirstDigit()),c.isSecondDigitFNC1()){let d=new Un(this.current.getPosition(),this.buffer.toString());return new Gr(!0,d)}this.buffer.append(c.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Gr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let c=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let d=new Un(this.current.getPosition(),this.buffer.toString());return new Gr(!0,d)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Gr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let c=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let d=new Un(this.current.getPosition(),this.buffer.toString());return new Gr(!0,d)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Gr(!1)}isStillIsoIec646(c){if(c+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(c,5);if(d>=5&&d<16)return!0;if(c+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,7);if(f>=64&&f<116)return!0;if(c+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(c,8);return p>=232&&p<253}decodeIsoIec646(c){let d=this.extractNumericValueFromBitArray(c,5);if(d===15)return new Dr(c+5,Dr.FNC1);if(d>=5&&d<15)return new Dr(c+5,"0"+(d-5));let f=this.extractNumericValueFromBitArray(c,7);if(f>=64&&f<90)return new Dr(c+7,""+(f+1));if(f>=90&&f<116)return new Dr(c+7,""+(f+7));let p=this.extractNumericValueFromBitArray(c,8),x;switch(p){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new P}return new Dr(c+8,x)}isStillAlpha(c){if(c+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(c,5);if(d>=5&&d<16)return!0;if(c+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,6);return f>=16&&f<63}decodeAlphanumeric(c){let d=this.extractNumericValueFromBitArray(c,5);if(d===15)return new Dr(c+5,Dr.FNC1);if(d>=5&&d<15)return new Dr(c+5,"0"+(d-5));let f=this.extractNumericValueFromBitArray(c,6);if(f>=32&&f<58)return new Dr(c+6,""+(f+33));let p;switch(f){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new he("Decoding invalid alphanumeric value: "+f)}return new Dr(c+6,p)}isAlphaTo646ToAlphaLatch(c){if(c+1>this.information.getSize())return!1;for(let d=0;d<5&&d+c<this.information.getSize();++d)if(d===2){if(!this.information.get(c+2))return!1}else if(this.information.get(c+d))return!1;return!0}isAlphaOr646ToNumericLatch(c){if(c+3>this.information.getSize())return!1;for(let d=c;d<c+3;++d)if(this.information.get(d))return!1;return!0}isNumericToAlphaNumericLatch(c){if(c+1>this.information.getSize())return!1;for(let d=0;d<4&&d+c<this.information.getSize();++d)if(this.information.get(c+d))return!1;return!0}}class na{constructor(c){this.information=c,this.generalDecoder=new ra(c)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wn extends na{constructor(c){super(c)}encodeCompressedGtin(c,d){c.append("(01)");let f=c.length();c.append("9"),this.encodeCompressedGtinWithoutAI(c,d,f)}encodeCompressedGtinWithoutAI(c,d,f){for(let p=0;p<4;++p){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(d+10*p,10);x/100===0&&c.append("0"),x/10===0&&c.append("0"),c.append(x)}Wn.appendCheckDigit(c,f)}static appendCheckDigit(c,d){let f=0;for(let p=0;p<13;p++){let x=c.charAt(p+d).charCodeAt(0)-48;f+=p&1?x:3*x}f=10-f%10,f===10&&(f=0),c.append(f)}}Wn.GTIN_SIZE=40;class ni extends Wn{constructor(c){super(c)}parseInformation(){let c=new J;c.append("(01)");let d=c.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(ni.HEADER_SIZE,4);return c.append(f),this.encodeCompressedGtinWithoutAI(c,ni.HEADER_SIZE+4,d),this.getGeneralDecoder().decodeAllCodes(c,ni.HEADER_SIZE+44)}}ni.HEADER_SIZE=4;class ki extends na{constructor(c){super(c)}parseInformation(){let c=new J;return this.getGeneralDecoder().decodeAllCodes(c,ki.HEADER_SIZE)}}ki.HEADER_SIZE=5;class hi extends Wn{constructor(c){super(c)}encodeCompressedWeight(c,d,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(d,f);this.addWeightCode(c,p);let x=this.checkWeight(p),w=1e5;for(let E=0;E<5;++E)x/w===0&&c.append("0"),w/=10;c.append(x)}}class si extends hi{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()!=si.HEADER_SIZE+hi.GTIN_SIZE+si.WEIGHT_SIZE)throw new Y;let c=new J;return this.encodeCompressedGtin(c,si.HEADER_SIZE),this.encodeCompressedWeight(c,si.HEADER_SIZE+hi.GTIN_SIZE,si.WEIGHT_SIZE),c.toString()}}si.HEADER_SIZE=5,si.WEIGHT_SIZE=15;class Eo extends si{constructor(c){super(c)}addWeightCode(c,d){c.append("(3103)")}checkWeight(c){return c}}class Mc extends si{constructor(c){super(c)}addWeightCode(c,d){d<1e4?c.append("(3202)"):c.append("(3203)")}checkWeight(c){return c<1e4?c:c-1e4}}class fi extends Wn{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<fi.HEADER_SIZE+Wn.GTIN_SIZE)throw new Y;let c=new J;this.encodeCompressedGtin(c,fi.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(fi.HEADER_SIZE+Wn.GTIN_SIZE,fi.LAST_DIGIT_SIZE);c.append("(392"),c.append(d),c.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(fi.HEADER_SIZE+Wn.GTIN_SIZE+fi.LAST_DIGIT_SIZE,null);return c.append(f.getNewString()),c.toString()}}fi.HEADER_SIZE=8,fi.LAST_DIGIT_SIZE=2;class ps extends Wn{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<ps.HEADER_SIZE+Wn.GTIN_SIZE)throw new Y;let c=new J;this.encodeCompressedGtin(c,ps.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(ps.HEADER_SIZE+Wn.GTIN_SIZE,ps.LAST_DIGIT_SIZE);c.append("(393"),c.append(d),c.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(ps.HEADER_SIZE+Wn.GTIN_SIZE+ps.LAST_DIGIT_SIZE,ps.FIRST_THREE_DIGITS_SIZE);f/100==0&&c.append("0"),f/10==0&&c.append("0"),c.append(f);let p=this.getGeneralDecoder().decodeGeneralPurposeField(ps.HEADER_SIZE+Wn.GTIN_SIZE+ps.LAST_DIGIT_SIZE+ps.FIRST_THREE_DIGITS_SIZE,null);return c.append(p.getNewString()),c.toString()}}ps.HEADER_SIZE=8,ps.LAST_DIGIT_SIZE=2,ps.FIRST_THREE_DIGITS_SIZE=10;class ln extends hi{constructor(c,d,f){super(c),this.dateCode=f,this.firstAIdigits=d}parseInformation(){if(this.getInformation().getSize()!=ln.HEADER_SIZE+ln.GTIN_SIZE+ln.WEIGHT_SIZE+ln.DATE_SIZE)throw new Y;let c=new J;return this.encodeCompressedGtin(c,ln.HEADER_SIZE),this.encodeCompressedWeight(c,ln.HEADER_SIZE+ln.GTIN_SIZE,ln.WEIGHT_SIZE),this.encodeCompressedDate(c,ln.HEADER_SIZE+ln.GTIN_SIZE+ln.WEIGHT_SIZE),c.toString()}encodeCompressedDate(c,d){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(d,ln.DATE_SIZE);if(f==38400)return;c.append("("),c.append(this.dateCode),c.append(")");let p=f%32;f/=32;let x=f%12+1;f/=12;let w=f;w/10==0&&c.append("0"),c.append(w),x/10==0&&c.append("0"),c.append(x),p/10==0&&c.append("0"),c.append(p)}addWeightCode(c,d){c.append("("),c.append(this.firstAIdigits),c.append(d/1e5),c.append(")")}checkWeight(c){return c%1e5}}ln.HEADER_SIZE=8,ln.WEIGHT_SIZE=20,ln.DATE_SIZE=16;function df(te){try{if(te.get(1))return new ni(te);if(!te.get(2))return new ki(te);switch(ra.extractNumericValueFromBitArray(te,1,4)){case 4:return new Eo(te);case 5:return new Mc(te)}switch(ra.extractNumericValueFromBitArray(te,1,5)){case 12:return new fi(te);case 13:return new ps(te)}switch(ra.extractNumericValueFromBitArray(te,1,7)){case 56:return new ln(te,"310","11");case 57:return new ln(te,"320","11");case 58:return new ln(te,"310","13");case 59:return new ln(te,"320","13");case 60:return new ln(te,"310","15");case 61:return new ln(te,"320","15");case 62:return new ln(te,"310","17");case 63:return new ln(te,"320","17")}}catch(c){throw console.log(c),new he("unknown decoder: "+te)}}class Ba{constructor(c,d,f,p){this.leftchar=c,this.rightchar=d,this.finderpattern=f,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(c,d){return c instanceof Ba?Ba.equalsOrNull(c.leftchar,d.leftchar)&&Ba.equalsOrNull(c.rightchar,d.rightchar)&&Ba.equalsOrNull(c.finderpattern,d.finderpattern):!1}static equalsOrNull(c,d){return c===null?d===null:Ba.equals(c,d)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class XA{constructor(c,d,f){this.pairs=c,this.rowNumber=d,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(c){return this.checkEqualitity(this,c)}toString(){return"{ "+this.pairs+" }"}equals(c,d){return c instanceof XA?this.checkEqualitity(c,d)&&c.wasReversed===d.wasReversed:!1}checkEqualitity(c,d){if(!c||!d)return;let f;return c.forEach((p,x)=>{d.forEach(w=>{p.getLeftChar().getValue()===w.getLeftChar().getValue()&&p.getRightChar().getValue()===w.getRightChar().getValue()&&p.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(f=!0)})}),f}}class tt extends ir{constructor(c){super(...arguments),this.pairs=new Array(tt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=c===!0}decodeRow(c,d,f){this.pairs.length=0,this.startFromEven=!1;try{return tt.constructResult(this.decodeRow2pairs(c,d))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,tt.constructResult(this.decodeRow2pairs(c,d))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(c,d){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(d,this.pairs,c))}catch(x){if(x instanceof Y){if(!this.pairs.length)throw new Y;f=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(c,!1),p){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new Y}checkRowsBoolean(c){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,c&&(this.rows=this.rows.reverse());let d=null;try{d=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return c&&(this.rows=this.rows.reverse()),d}checkRows(c,d){for(let f=d;f<this.rows.length;f++){let p=this.rows[f];this.pairs.length=0;for(let w of c)this.pairs.push(w.getPairs());if(this.pairs.push(p.getPairs()),!tt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(c);x.push(p);try{return this.checkRows(x,f+1)}catch(w){this.verbose&&console.log(w)}}throw new Y}static isValidSequence(c){for(let d of tt.FINDER_PATTERN_SEQUENCES){if(c.length>d.length)continue;let f=!0;for(let p=0;p<c.length;p++)if(c[p].getFinderPattern().getValue()!=d[p]){f=!1;break}if(f)return!0}return!1}storeRow(c,d){let f=0,p=!1,x=!1;for(;f<this.rows.length;){let w=this.rows[f];if(w.getRowNumber()>c){x=w.isEquivalent(this.pairs);break}p=w.isEquivalent(this.pairs),f++}x||p||tt.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new XA(this.pairs,c,d)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(c,d){for(let f of d)if(f.getPairs().length!==c.length){for(let p of f.getPairs())for(let x of c)if(Ba.equals(p,x))break}}static isPartialRow(c,d){for(let f of d){let p=!0;for(let x of c){let w=!1;for(let E of f.getPairs())if(x.equals(E)){w=!0;break}if(!w){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(c){let d=ms.buildBitArray(c),p=df(d).parseInformation(),x=c[0].getFinderPattern().getResultPoints(),w=c[c.length-1].getFinderPattern().getResultPoints(),E=[x[0],x[1],w[0],w[1]];return new ae(p,null,null,E,oe.RSS_EXPANDED,null)}checkChecksum(){let c=this.pairs.get(0),d=c.getLeftChar(),f=c.getRightChar();if(f==null)return!1;let p=f.getChecksumPortion(),x=2;for(let E=1;E<this.pairs.size();++E){let _=this.pairs.get(E);p+=_.getLeftChar().getChecksumPortion(),x++;let L=_.getRightChar();L!=null&&(p+=L.getChecksumPortion(),x++)}return p%=211,211*(x-4)+p==d.getValue()}static getNextSecondBar(c,d){let f;return c.get(d)?(f=c.getNextUnset(d),f=c.getNextSet(f)):(f=c.getNextSet(d),f=c.getNextUnset(f)),f}retrieveNextPair(c,d,f){let p=d.length%2==0;this.startFromEven&&(p=!p);let x,w=!0,E=-1;do this.findNextPair(c,d,E),x=this.parseFoundFinderPattern(c,f,p),x==null?E=tt.getNextSecondBar(c,this.startEnd[0]):w=!1;while(w);let _=this.decodeDataCharacter(c,x,p,!0);if(!this.isEmptyPair(d)&&d[d.length-1].mustBeLast())throw new Y;let L;try{L=this.decodeDataCharacter(c,x,p,!1)}catch(W){L=null,this.verbose&&console.log(W)}return new Ba(_,L,x,!0)}isEmptyPair(c){return c.length===0}findNextPair(c,d,f){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=c.getSize(),w;f>=0?w=f:this.isEmptyPair(d)?w=0:w=d[d.length-1].getFinderPattern().getStartEnd()[1];let E=d.length%2!=0;this.startFromEven&&(E=!E);let _=!1;for(;w<x&&(_=!c.get(w),!!_);)w++;let L=0,W=w;for(let re=w;re<x;re++)if(c.get(re)!=_)p[L]++;else{if(L==3){if(E&&tt.reverseCounters(p),tt.isFinderPattern(p)){this.startEnd[0]=W,this.startEnd[1]=re;return}E&&tt.reverseCounters(p),W+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,L--}else L++;p[L]=1,_=!_}throw new Y}static reverseCounters(c){let d=c.length;for(let f=0;f<d/2;++f){let p=c[f];c[f]=c[d-f-1],c[d-f-1]=p}}parseFoundFinderPattern(c,d,f){let p,x,w;if(f){let L=this.startEnd[0]-1;for(;L>=0&&!c.get(L);)L--;L++,p=this.startEnd[0]-L,x=L,w=this.startEnd[1]}else x=this.startEnd[0],w=c.getNextUnset(this.startEnd[1]+1),p=w-this.startEnd[1];let E=this.getDecodeFinderCounters();C.arraycopy(E,0,E,1,E.length-1),E[0]=p;let _;try{_=this.parseFinderValue(E,tt.FINDER_PATTERNS)}catch{return null}return new Et(_,[x,w],x,w,d)}decodeDataCharacter(c,d,f,p){let x=this.getDataCharacterCounters();for(let fn=0;fn<x.length;fn++)x[fn]=0;if(p)tt.recordPatternInReverse(c,d.getStartEnd()[0],x);else{tt.recordPattern(c,d.getStartEnd()[1],x);for(let fn=0,Qs=x.length-1;fn<Qs;fn++,Qs--){let Ri=x[fn];x[fn]=x[Qs],x[Qs]=Ri}}let w=17,E=Qe.sum(new Int32Array(x))/w,_=(d.getStartEnd()[1]-d.getStartEnd()[0])/15;if(Math.abs(E-_)/_>.3)throw new Y;let L=this.getOddCounts(),W=this.getEvenCounts(),re=this.getOddRoundingErrors(),le=this.getEvenRoundingErrors();for(let fn=0;fn<x.length;fn++){let Qs=1*x[fn]/E,Ri=Qs+.5;if(Ri<1){if(Qs<.3)throw new Y;Ri=1}else if(Ri>8){if(Qs>8.7)throw new Y;Ri=8}let Yc=fn/2;fn&1?(W[Yc]=Ri,le[Yc]=Qs-Ri):(L[Yc]=Ri,re[Yc]=Qs-Ri)}this.adjustOddEvenCounts(w);let xe=4*d.getValue()+(f?0:2)+(p?0:1)-1,Ne=0,Ee=0;for(let fn=L.length-1;fn>=0;fn--){if(tt.isNotA1left(d,f,p)){let Qs=tt.WEIGHTS[xe][2*fn];Ee+=L[fn]*Qs}Ne+=L[fn]}let Re=0;for(let fn=W.length-1;fn>=0;fn--)if(tt.isNotA1left(d,f,p)){let Qs=tt.WEIGHTS[xe][2*fn+1];Re+=W[fn]*Qs}let We=Ee+Re;if(Ne&1||Ne>13||Ne<4)throw new Y;let ot=(13-Ne)/2,ht=tt.SYMBOL_WIDEST[ot],lt=9-ht,Pr=an.getRSSvalue(L,ht,!0),wr=an.getRSSvalue(W,lt,!1),gi=tt.EVEN_TOTAL_SUBSET[ot],Ia=tt.GSUM[ot],xi=Pr*gi+wr+Ia;return new sn(xi,We)}static isNotA1left(c,d,f){return!(c.getValue()==0&&d&&f)}adjustOddEvenCounts(c){let d=Qe.sum(new Int32Array(this.getOddCounts())),f=Qe.sum(new Int32Array(this.getEvenCounts())),p=!1,x=!1;d>13?x=!0:d<4&&(p=!0);let w=!1,E=!1;f>13?E=!0:f<4&&(w=!0);let _=d+f-c,L=(d&1)==1,W=(f&1)==0;if(_==1)if(L){if(W)throw new Y;x=!0}else{if(!W)throw new Y;E=!0}else if(_==-1)if(L){if(W)throw new Y;p=!0}else{if(!W)throw new Y;w=!0}else if(_==0){if(L){if(!W)throw new Y;d<f?(p=!0,E=!0):(x=!0,w=!0)}else if(W)throw new Y}else throw new Y;if(p){if(x)throw new Y;tt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&tt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(E)throw new Y;tt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&tt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tt.SYMBOL_WIDEST=[7,5,4,3,1],tt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],tt.GSUM=[0,348,1388,2948,3988],tt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],tt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],tt.FINDER_PAT_A=0,tt.FINDER_PAT_B=1,tt.FINDER_PAT_C=2,tt.FINDER_PAT_D=3,tt.FINDER_PAT_E=4,tt.FINDER_PAT_F=5,tt.FINDER_PATTERN_SEQUENCES=[[tt.FINDER_PAT_A,tt.FINDER_PAT_A],[tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B],[tt.FINDER_PAT_A,tt.FINDER_PAT_C,tt.FINDER_PAT_B,tt.FINDER_PAT_D],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_C],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_D,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_D],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_E],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F]],tt.MAX_PAIRS=11;class Na extends sn{constructor(c,d,f){super(c,d),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class En extends ir{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(c,d,f){const p=this.decodePair(d,!1,c,f);En.addOrTally(this.possibleLeftPairs,p),d.reverse();let x=this.decodePair(d,!0,c,f);En.addOrTally(this.possibleRightPairs,x),d.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&En.checkChecksum(w,E))return En.constructResult(w,E)}throw new Y}static addOrTally(c,d){if(d==null)return;let f=!1;for(let p of c)if(p.getValue()===d.getValue()){p.incrementCount(),f=!0;break}f||c.push(d)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(c,d){let f=4537077*c.getValue()+d.getValue(),p=new String(f).toString(),x=new J;for(let L=13-p.length;L>0;L--)x.append("0");x.append(p);let w=0;for(let L=0;L<13;L++){let W=x.charAt(L).charCodeAt(0)-48;w+=L&1?W:3*W}w=10-w%10,w===10&&(w=0),x.append(w.toString());let E=c.getFinderPattern().getResultPoints(),_=d.getFinderPattern().getResultPoints();return new ae(x.toString(),null,0,[E[0],E[1],_[0],_[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(c,d){let f=(c.getChecksumPortion()+16*d.getChecksumPortion())%79,p=9*c.getFinderPattern().getValue()+d.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,f===p}decodePair(c,d,f,p){try{let x=this.findFinderPattern(c,d),w=this.parseFoundFinderPattern(c,f,d,x),E=p==null?null:p.get(V.NEED_RESULT_POINT_CALLBACK);if(E!=null){let W=(x[0]+x[1])/2;d&&(W=c.getSize()-1-W),E.foundPossibleResultPoint(new Ke(W,f))}let _=this.decodeDataCharacter(c,w,!0),L=this.decodeDataCharacter(c,w,!1);return new Na(1597*_.getValue()+L.getValue(),_.getChecksumPortion()+4*L.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(c,d,f){let p=this.getDataCharacterCounters();for(let Re=0;Re<p.length;Re++)p[Re]=0;if(f)Yt.recordPatternInReverse(c,d.getStartEnd()[0],p);else{Yt.recordPattern(c,d.getStartEnd()[1]+1,p);for(let Re=0,We=p.length-1;Re<We;Re++,We--){let ot=p[Re];p[Re]=p[We],p[We]=ot}}let x=f?16:15,w=Qe.sum(new Int32Array(p))/x,E=this.getOddCounts(),_=this.getEvenCounts(),L=this.getOddRoundingErrors(),W=this.getEvenRoundingErrors();for(let Re=0;Re<p.length;Re++){let We=p[Re]/w,ot=Math.floor(We+.5);ot<1?ot=1:ot>8&&(ot=8);let ht=Math.floor(Re/2);Re&1?(_[ht]=ot,W[ht]=We-ot):(E[ht]=ot,L[ht]=We-ot)}this.adjustOddEvenCounts(f,x);let re=0,le=0;for(let Re=E.length-1;Re>=0;Re--)le*=9,le+=E[Re],re+=E[Re];let xe=0,Ne=0;for(let Re=_.length-1;Re>=0;Re--)xe*=9,xe+=_[Re],Ne+=_[Re];let Ee=le+3*xe;if(f){if(re&1||re>12||re<4)throw new Y;let Re=(12-re)/2,We=En.OUTSIDE_ODD_WIDEST[Re],ot=9-We,ht=an.getRSSvalue(E,We,!1),lt=an.getRSSvalue(_,ot,!0),Pr=En.OUTSIDE_EVEN_TOTAL_SUBSET[Re],wr=En.OUTSIDE_GSUM[Re];return new sn(ht*Pr+lt+wr,Ee)}else{if(Ne&1||Ne>10||Ne<4)throw new Y;let Re=(10-Ne)/2,We=En.INSIDE_ODD_WIDEST[Re],ot=9-We,ht=an.getRSSvalue(E,We,!0),lt=an.getRSSvalue(_,ot,!1),Pr=En.INSIDE_ODD_TOTAL_SUBSET[Re],wr=En.INSIDE_GSUM[Re];return new sn(lt*Pr+ht+wr,Ee)}}findFinderPattern(c,d){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let p=c.getSize(),x=!1,w=0;for(;w<p&&(x=!c.get(w),d!==x);)w++;let E=0,_=w;for(let L=w;L<p;L++)if(c.get(L)!==x)f[E]++;else{if(E===3){if(ir.isFinderPattern(f))return[_,L];_+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,E--}else E++;f[E]=1,x=!x}throw new Y}parseFoundFinderPattern(c,d,f,p){let x=c.get(p[0]),w=p[0]-1;for(;w>=0&&x!==c.get(w);)w--;w++;const E=p[0]-w,_=this.getDecodeFinderCounters(),L=new Int32Array(_.length);C.arraycopy(_,0,L,1,_.length-1),L[0]=E;const W=this.parseFinderValue(L,En.FINDER_PATTERNS);let re=w,le=p[1];return f&&(re=c.getSize()-1-re,le=c.getSize()-1-le),new Et(W,[w,p[1]],re,le,d)}adjustOddEvenCounts(c,d){let f=Qe.sum(new Int32Array(this.getOddCounts())),p=Qe.sum(new Int32Array(this.getEvenCounts())),x=!1,w=!1,E=!1,_=!1;c?(f>12?w=!0:f<4&&(x=!0),p>12?_=!0:p<4&&(E=!0)):(f>11?w=!0:f<5&&(x=!0),p>10?_=!0:p<4&&(E=!0));let L=f+p-d,W=(f&1)===(c?1:0),re=(p&1)===1;if(L===1)if(W){if(re)throw new Y;w=!0}else{if(!re)throw new Y;_=!0}else if(L===-1)if(W){if(re)throw new Y;x=!0}else{if(!re)throw new Y;E=!0}else if(L===0){if(W){if(!re)throw new Y;f<p?(x=!0,_=!0):(w=!0,E=!0)}else if(re)throw new Y}else throw new Y;if(x){if(w)throw new Y;ir.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&ir.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(_)throw new Y;ir.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&ir.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}En.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],En.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],En.OUTSIDE_GSUM=[0,161,961,2015,2715],En.INSIDE_GSUM=[0,336,1036,1516],En.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],En.INSIDE_ODD_WIDEST=[2,4,6,8],En.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ol extends Yt{constructor(c,d){super(),this.readers=[],this.verbose=d===!0;const f=c?c.get(V.POSSIBLE_FORMATS):null,p=c&&c.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(oe.EAN_13)||f.includes(oe.UPC_A)||f.includes(oe.EAN_8)||f.includes(oe.UPC_E))&&this.readers.push(new lr(c)),f.includes(oe.CODE_39)&&this.readers.push(new jt(p)),f.includes(oe.CODE_128)&&this.readers.push(new Ge),f.includes(oe.ITF)&&this.readers.push(new $e),f.includes(oe.RSS_14)&&this.readers.push(new En),f.includes(oe.RSS_EXPANDED)&&this.readers.push(new tt(this.verbose))):(this.readers.push(new lr(c)),this.readers.push(new jt),this.readers.push(new lr(c)),this.readers.push(new Ge),this.readers.push(new $e),this.readers.push(new En),this.readers.push(new tt(this.verbose)))}decodeRow(c,d,f){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(c,d,f)}catch{}throw new Y}reset(){this.readers.forEach(c=>c.reset())}}class Ud extends Z{constructor(c=500,d){super(new ol(d),c,d)}}class Wr{constructor(c,d,f){this.ecCodewords=c,this.ecBlocks=[d],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Qr{constructor(c,d){this.count=c,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class kr{constructor(c,d,f,p,x,w){this.versionNumber=c,this.symbolSizeRows=d,this.symbolSizeColumns=f,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=x,this.ecBlocks=w;let E=0;const _=w.getECCodewords(),L=w.getECBlocks();for(let W of L)E+=W.getCount()*(W.getDataCodewords()+_);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(c,d){if(c&1||d&1)throw new P;for(let f of kr.VERSIONS)if(f.symbolSizeRows===c&&f.symbolSizeColumns===d)return f;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new kr(1,10,10,8,8,new Wr(5,new Qr(1,3))),new kr(2,12,12,10,10,new Wr(7,new Qr(1,5))),new kr(3,14,14,12,12,new Wr(10,new Qr(1,8))),new kr(4,16,16,14,14,new Wr(12,new Qr(1,12))),new kr(5,18,18,16,16,new Wr(14,new Qr(1,18))),new kr(6,20,20,18,18,new Wr(18,new Qr(1,22))),new kr(7,22,22,20,20,new Wr(20,new Qr(1,30))),new kr(8,24,24,22,22,new Wr(24,new Qr(1,36))),new kr(9,26,26,24,24,new Wr(28,new Qr(1,44))),new kr(10,32,32,14,14,new Wr(36,new Qr(1,62))),new kr(11,36,36,16,16,new Wr(42,new Qr(1,86))),new kr(12,40,40,18,18,new Wr(48,new Qr(1,114))),new kr(13,44,44,20,20,new Wr(56,new Qr(1,144))),new kr(14,48,48,22,22,new Wr(68,new Qr(1,174))),new kr(15,52,52,24,24,new Wr(42,new Qr(2,102))),new kr(16,64,64,14,14,new Wr(56,new Qr(2,140))),new kr(17,72,72,16,16,new Wr(36,new Qr(4,92))),new kr(18,80,80,18,18,new Wr(48,new Qr(4,114))),new kr(19,88,88,20,20,new Wr(56,new Qr(4,144))),new kr(20,96,96,22,22,new Wr(68,new Qr(4,174))),new kr(21,104,104,24,24,new Wr(56,new Qr(6,136))),new kr(22,120,120,18,18,new Wr(68,new Qr(6,175))),new kr(23,132,132,20,20,new Wr(62,new Qr(8,163))),new kr(24,144,144,22,22,new Wr(62,new Qr(8,156),new Qr(2,155))),new kr(25,8,18,6,16,new Wr(7,new Qr(1,5))),new kr(26,8,32,6,14,new Wr(11,new Qr(1,10))),new kr(27,12,26,10,24,new Wr(14,new Qr(1,16))),new kr(28,12,36,10,16,new Wr(18,new Qr(1,22))),new kr(29,16,36,14,16,new Wr(24,new Qr(1,32))),new kr(30,16,48,14,22,new Wr(28,new Qr(1,49)))]}}kr.VERSIONS=kr.buildVersions();class Kl{constructor(c){const d=c.getHeight();if(d<8||d>144||d&1)throw new P;this.version=Kl.readVersion(c),this.mappingBitMatrix=this.extractDataRegion(c),this.readMappingMatrix=new ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(c){const d=c.getHeight(),f=c.getWidth();return kr.getVersionForDimensions(d,f)}readCodewords(){const c=new Int8Array(this.version.getTotalCodewords());let d=0,f=4,p=0;const x=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let E=!1,_=!1,L=!1,W=!1;do if(f===x&&p===0&&!E)c[d++]=this.readCorner1(x,w)&255,f-=2,p+=2,E=!0;else if(f===x-2&&p===0&&w&3&&!_)c[d++]=this.readCorner2(x,w)&255,f-=2,p+=2,_=!0;else if(f===x+4&&p===2&&!(w&7)&&!L)c[d++]=this.readCorner3(x,w)&255,f-=2,p+=2,L=!0;else if(f===x-2&&p===0&&(w&7)===4&&!W)c[d++]=this.readCorner4(x,w)&255,f-=2,p+=2,W=!0;else{do f<x&&p>=0&&!this.readMappingMatrix.get(p,f)&&(c[d++]=this.readUtah(f,p,x,w)&255),f-=2,p+=2;while(f>=0&&p<w);f+=1,p+=3;do f>=0&&p<w&&!this.readMappingMatrix.get(p,f)&&(c[d++]=this.readUtah(f,p,x,w)&255),f+=2,p-=2;while(f<x&&p>=0);f+=3,p+=1}while(f<x||p<w);if(d!==this.version.getTotalCodewords())throw new P;return c}readModule(c,d,f,p){return c<0&&(c+=f,d+=4-(f+4&7)),d<0&&(d+=p,c+=4-(p+4&7)),this.readMappingMatrix.set(d,c),this.mappingBitMatrix.get(d,c)}readUtah(c,d,f,p){let x=0;return this.readModule(c-2,d-2,f,p)&&(x|=1),x<<=1,this.readModule(c-2,d-1,f,p)&&(x|=1),x<<=1,this.readModule(c-1,d-2,f,p)&&(x|=1),x<<=1,this.readModule(c-1,d-1,f,p)&&(x|=1),x<<=1,this.readModule(c-1,d,f,p)&&(x|=1),x<<=1,this.readModule(c,d-2,f,p)&&(x|=1),x<<=1,this.readModule(c,d-1,f,p)&&(x|=1),x<<=1,this.readModule(c,d,f,p)&&(x|=1),x}readCorner1(c,d){let f=0;return this.readModule(c-1,0,c,d)&&(f|=1),f<<=1,this.readModule(c-1,1,c,d)&&(f|=1),f<<=1,this.readModule(c-1,2,c,d)&&(f|=1),f<<=1,this.readModule(0,d-2,c,d)&&(f|=1),f<<=1,this.readModule(0,d-1,c,d)&&(f|=1),f<<=1,this.readModule(1,d-1,c,d)&&(f|=1),f<<=1,this.readModule(2,d-1,c,d)&&(f|=1),f<<=1,this.readModule(3,d-1,c,d)&&(f|=1),f}readCorner2(c,d){let f=0;return this.readModule(c-3,0,c,d)&&(f|=1),f<<=1,this.readModule(c-2,0,c,d)&&(f|=1),f<<=1,this.readModule(c-1,0,c,d)&&(f|=1),f<<=1,this.readModule(0,d-4,c,d)&&(f|=1),f<<=1,this.readModule(0,d-3,c,d)&&(f|=1),f<<=1,this.readModule(0,d-2,c,d)&&(f|=1),f<<=1,this.readModule(0,d-1,c,d)&&(f|=1),f<<=1,this.readModule(1,d-1,c,d)&&(f|=1),f}readCorner3(c,d){let f=0;return this.readModule(c-1,0,c,d)&&(f|=1),f<<=1,this.readModule(c-1,d-1,c,d)&&(f|=1),f<<=1,this.readModule(0,d-3,c,d)&&(f|=1),f<<=1,this.readModule(0,d-2,c,d)&&(f|=1),f<<=1,this.readModule(0,d-1,c,d)&&(f|=1),f<<=1,this.readModule(1,d-3,c,d)&&(f|=1),f<<=1,this.readModule(1,d-2,c,d)&&(f|=1),f<<=1,this.readModule(1,d-1,c,d)&&(f|=1),f}readCorner4(c,d){let f=0;return this.readModule(c-3,0,c,d)&&(f|=1),f<<=1,this.readModule(c-2,0,c,d)&&(f|=1),f<<=1,this.readModule(c-1,0,c,d)&&(f|=1),f<<=1,this.readModule(0,d-2,c,d)&&(f|=1),f<<=1,this.readModule(0,d-1,c,d)&&(f|=1),f<<=1,this.readModule(1,d-1,c,d)&&(f|=1),f<<=1,this.readModule(2,d-1,c,d)&&(f|=1),f<<=1,this.readModule(3,d-1,c,d)&&(f|=1),f}extractDataRegion(c){const d=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(c.getHeight()!==d)throw new m("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),w=d/p|0,E=f/x|0,_=w*p,L=E*x,W=new ne(L,_);for(let re=0;re<w;++re){const le=re*p;for(let xe=0;xe<E;++xe){const Ne=xe*x;for(let Ee=0;Ee<p;++Ee){const Re=re*(p+2)+1+Ee,We=le+Ee;for(let ot=0;ot<x;++ot){const ht=xe*(x+2)+1+ot;if(c.get(ht,Re)){const lt=Ne+ot;W.set(lt,We)}}}}}return W}}class Md{constructor(c,d){this.numDataCodewords=c,this.codewords=d}static getDataBlocks(c,d){const f=d.getECBlocks();let p=0;const x=f.getECBlocks();for(let Ee of x)p+=Ee.getCount();const w=new Array(p);let E=0;for(let Ee of x)for(let Re=0;Re<Ee.getCount();Re++){const We=Ee.getDataCodewords(),ot=f.getECCodewords()+We;w[E++]=new Md(We,new Uint8Array(ot))}const L=w[0].codewords.length-f.getECCodewords(),W=L-1;let re=0;for(let Ee=0;Ee<W;Ee++)for(let Re=0;Re<E;Re++)w[Re].codewords[Ee]=c[re++];const le=d.getVersionNumber()===24,xe=le?8:E;for(let Ee=0;Ee<xe;Ee++)w[Ee].codewords[L-1]=c[re++];const Ne=w[0].codewords.length;for(let Ee=L;Ee<Ne;Ee++)for(let Re=0;Re<E;Re++){const We=le?(Re+8)%E:Re,ot=le&&We>7?Ee-1:Ee;w[We].codewords[ot]=c[re++]}if(re!==c.length)throw new m;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class es{constructor(c){this.bytes=c,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(c){if(c<1||c>32||c>this.available())throw new m(""+c);let d=0,f=this.bitOffset,p=this.byteOffset;const x=this.bytes;if(f>0){const w=8-f,E=c<w?c:w,_=w-E,L=255>>8-E<<_;d=(x[p]&L)>>_,c-=E,f+=E,f===8&&(f=0,p++)}if(c>0){for(;c>=8;)d=d<<8|x[p]&255,p++,c-=8;if(c>0){const w=8-c,E=255>>w<<w;d=d<<c|(x[p]&E)>>w,f+=c}}return this.bitOffset=f,this.byteOffset=p,d}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ts;(function(te){te[te.PAD_ENCODE=0]="PAD_ENCODE",te[te.ASCII_ENCODE=1]="ASCII_ENCODE",te[te.C40_ENCODE=2]="C40_ENCODE",te[te.TEXT_ENCODE=3]="TEXT_ENCODE",te[te.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",te[te.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",te[te.BASE256_ENCODE=6]="BASE256_ENCODE"})(ts||(ts={}));class Ya{static decode(c){const d=new es(c),f=new J,p=new J,x=new Array;let w=ts.ASCII_ENCODE;do if(w===ts.ASCII_ENCODE)w=this.decodeAsciiSegment(d,f,p);else{switch(w){case ts.C40_ENCODE:this.decodeC40Segment(d,f);break;case ts.TEXT_ENCODE:this.decodeTextSegment(d,f);break;case ts.ANSIX12_ENCODE:this.decodeAnsiX12Segment(d,f);break;case ts.EDIFACT_ENCODE:this.decodeEdifactSegment(d,f);break;case ts.BASE256_ENCODE:this.decodeBase256Segment(d,f,x);break;default:throw new P}w=ts.ASCII_ENCODE}while(w!==ts.PAD_ENCODE&&d.available()>0);return p.length()>0&&f.append(p.toString()),new _e(c,f.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(c,d,f){let p=!1;do{let x=c.readBits(8);if(x===0)throw new P;if(x<=128)return p&&(x+=128),d.append(String.fromCharCode(x-1)),ts.ASCII_ENCODE;if(x===129)return ts.PAD_ENCODE;if(x<=229){const w=x-130;w<10&&d.append("0"),d.append(""+w)}else switch(x){case 230:return ts.C40_ENCODE;case 231:return ts.BASE256_ENCODE;case 232:d.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:d.append("[)>05"),f.insert(0,"");break;case 237:d.append("[)>06"),f.insert(0,"");break;case 238:return ts.ANSIX12_ENCODE;case 239:return ts.TEXT_ENCODE;case 240:return ts.EDIFACT_ENCODE;case 241:break;default:if(x!==254||c.available()!==0)throw new P;break}}while(c.available()>0);return ts.ASCII_ENCODE}static decodeC40Segment(c,d){let f=!1;const p=[];let x=0;do{if(c.available()===8)return;const w=c.readBits(8);if(w===254)return;this.parseTwoBytes(w,c.readBits(8),p);for(let E=0;E<3;E++){const _=p[E];switch(x){case 0:if(_<3)x=_+1;else if(_<this.C40_BASIC_SET_CHARS.length){const L=this.C40_BASIC_SET_CHARS[_];f?(d.append(String.fromCharCode(L.charCodeAt(0)+128)),f=!1):d.append(L)}else throw new P;break;case 1:f?(d.append(String.fromCharCode(_+128)),f=!1):d.append(String.fromCharCode(_)),x=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){const L=this.C40_SHIFT2_SET_CHARS[_];f?(d.append(String.fromCharCode(L.charCodeAt(0)+128)),f=!1):d.append(L)}else switch(_){case 27:d.append("");break;case 30:f=!0;break;default:throw new P}x=0;break;case 3:f?(d.append(String.fromCharCode(_+224)),f=!1):d.append(String.fromCharCode(_+96)),x=0;break;default:throw new P}}}while(c.available()>0)}static decodeTextSegment(c,d){let f=!1,p=[],x=0;do{if(c.available()===8)return;const w=c.readBits(8);if(w===254)return;this.parseTwoBytes(w,c.readBits(8),p);for(let E=0;E<3;E++){const _=p[E];switch(x){case 0:if(_<3)x=_+1;else if(_<this.TEXT_BASIC_SET_CHARS.length){const L=this.TEXT_BASIC_SET_CHARS[_];f?(d.append(String.fromCharCode(L.charCodeAt(0)+128)),f=!1):d.append(L)}else throw new P;break;case 1:f?(d.append(String.fromCharCode(_+128)),f=!1):d.append(String.fromCharCode(_)),x=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){const L=this.TEXT_SHIFT2_SET_CHARS[_];f?(d.append(String.fromCharCode(L.charCodeAt(0)+128)),f=!1):d.append(L)}else switch(_){case 27:d.append("");break;case 30:f=!0;break;default:throw new P}x=0;break;case 3:if(_<this.TEXT_SHIFT3_SET_CHARS.length){const L=this.TEXT_SHIFT3_SET_CHARS[_];f?(d.append(String.fromCharCode(L.charCodeAt(0)+128)),f=!1):d.append(L),x=0}else throw new P;break;default:throw new P}}}while(c.available()>0)}static decodeAnsiX12Segment(c,d){const f=[];do{if(c.available()===8)return;const p=c.readBits(8);if(p===254)return;this.parseTwoBytes(p,c.readBits(8),f);for(let x=0;x<3;x++){const w=f[x];switch(w){case 0:d.append("\r");break;case 1:d.append("*");break;case 2:d.append(">");break;case 3:d.append(" ");break;default:if(w<14)d.append(String.fromCharCode(w+44));else if(w<40)d.append(String.fromCharCode(w+51));else throw new P;break}}}while(c.available()>0)}static parseTwoBytes(c,d,f){let p=(c<<8)+d-1,x=Math.floor(p/1600);f[0]=x,p-=x*1600,x=Math.floor(p/40),f[1]=x,f[2]=p-x*40}static decodeEdifactSegment(c,d){do{if(c.available()<=16)return;for(let f=0;f<4;f++){let p=c.readBits(6);if(p===31){const x=8-c.getBitOffset();x!==8&&c.readBits(x);return}p&32||(p|=64),d.append(String.fromCharCode(p))}}while(c.available()>0)}static decodeBase256Segment(c,d,f){let p=1+c.getByteOffset();const x=this.unrandomize255State(c.readBits(8),p++);let w;if(x===0?w=c.available()/8|0:x<250?w=x:w=250*(x-249)+this.unrandomize255State(c.readBits(8),p++),w<0)throw new P;const E=new Uint8Array(w);for(let _=0;_<w;_++){if(c.available()<8)throw new P;E[_]=this.unrandomize255State(c.readBits(8),p++)}f.push(E);try{d.append(R.decode(E,H.ISO88591))}catch(_){throw new he("Platform does not support required encoding: "+_.message)}}static unrandomize255State(c,d){const f=149*d%255+1,p=c-f;return p>=0?p:p+256}}Ya.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ya.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ya.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ya.TEXT_SHIFT2_SET_CHARS=Ya.C40_SHIFT2_SET_CHARS,Ya.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ll{constructor(){this.rsDecoder=new ft(Se.DATA_MATRIX_FIELD_256)}decode(c){const d=new Kl(c),f=d.getVersion(),p=d.readCodewords(),x=Md.getDataBlocks(p,f);let w=0;for(let L of x)w+=L.getNumDataCodewords();const E=new Uint8Array(w),_=x.length;for(let L=0;L<_;L++){const W=x[L],re=W.getCodewords(),le=W.getNumDataCodewords();this.correctErrors(re,le);for(let xe=0;xe<le;xe++)E[xe*_+L]=re[xe]}return Ya.decode(E)}correctErrors(c,d){const f=new Int32Array(c);try{this.rsDecoder.decode(f,c.length-d)}catch{throw new g}for(let p=0;p<d;p++)c[p]=f[p]}}class gn{constructor(c){this.image=c,this.rectangleDetector=new nt(this.image)}detect(){const c=this.rectangleDetector.detect();let d=this.detectSolid1(c);if(d=this.detectSolid2(d),d[3]=this.correctTopRight(d),!d[3])throw new Y;d=this.shiftToModuleCenter(d);const f=d[0],p=d[1],x=d[2],w=d[3];let E=this.transitionsBetween(f,w)+1,_=this.transitionsBetween(x,w)+1;(E&1)===1&&(E+=1),(_&1)===1&&(_+=1),4*E<7*_&&4*_<7*E&&(E=_=Math.max(E,_));let L=gn.sampleGrid(this.image,f,p,x,w,E,_);return new Vt(L,[f,p,x,w])}static shiftPoint(c,d,f){let p=(d.getX()-c.getX())/(f+1),x=(d.getY()-c.getY())/(f+1);return new Ke(c.getX()+p,c.getY()+x)}static moveAway(c,d,f){let p=c.getX(),x=c.getY();return p<d?p-=1:p+=1,x<f?x-=1:x+=1,new Ke(p,x)}detectSolid1(c){let d=c[0],f=c[1],p=c[3],x=c[2],w=this.transitionsBetween(d,f),E=this.transitionsBetween(f,p),_=this.transitionsBetween(p,x),L=this.transitionsBetween(x,d),W=w,re=[x,d,f,p];return W>E&&(W=E,re[0]=d,re[1]=f,re[2]=p,re[3]=x),W>_&&(W=_,re[0]=f,re[1]=p,re[2]=x,re[3]=d),W>L&&(re[0]=p,re[1]=x,re[2]=d,re[3]=f),re}detectSolid2(c){let d=c[0],f=c[1],p=c[2],x=c[3],w=this.transitionsBetween(d,x),E=gn.shiftPoint(f,p,(w+1)*4),_=gn.shiftPoint(p,f,(w+1)*4),L=this.transitionsBetween(E,d),W=this.transitionsBetween(_,x);return L<W?(c[0]=d,c[1]=f,c[2]=p,c[3]=x):(c[0]=f,c[1]=p,c[2]=x,c[3]=d),c}correctTopRight(c){let d=c[0],f=c[1],p=c[2],x=c[3],w=this.transitionsBetween(d,x),E=this.transitionsBetween(f,x),_=gn.shiftPoint(d,f,(E+1)*4),L=gn.shiftPoint(p,f,(w+1)*4);w=this.transitionsBetween(_,x),E=this.transitionsBetween(L,x);let W=new Ke(x.getX()+(p.getX()-f.getX())/(w+1),x.getY()+(p.getY()-f.getY())/(w+1)),re=new Ke(x.getX()+(d.getX()-f.getX())/(E+1),x.getY()+(d.getY()-f.getY())/(E+1));if(!this.isValid(W))return this.isValid(re)?re:null;if(!this.isValid(re))return W;let le=this.transitionsBetween(_,W)+this.transitionsBetween(L,W),xe=this.transitionsBetween(_,re)+this.transitionsBetween(L,re);return le>xe?W:re}shiftToModuleCenter(c){let d=c[0],f=c[1],p=c[2],x=c[3],w=this.transitionsBetween(d,x)+1,E=this.transitionsBetween(p,x)+1,_=gn.shiftPoint(d,f,E*4),L=gn.shiftPoint(p,f,w*4);w=this.transitionsBetween(_,x)+1,E=this.transitionsBetween(L,x)+1,(w&1)===1&&(w+=1),(E&1)===1&&(E+=1);let W=(d.getX()+f.getX()+p.getX()+x.getX())/4,re=(d.getY()+f.getY()+p.getY()+x.getY())/4;d=gn.moveAway(d,W,re),f=gn.moveAway(f,W,re),p=gn.moveAway(p,W,re),x=gn.moveAway(x,W,re);let le,xe;return _=gn.shiftPoint(d,f,E*4),_=gn.shiftPoint(_,x,w*4),le=gn.shiftPoint(f,d,E*4),le=gn.shiftPoint(le,p,w*4),L=gn.shiftPoint(p,x,E*4),L=gn.shiftPoint(L,f,w*4),xe=gn.shiftPoint(x,p,E*4),xe=gn.shiftPoint(xe,d,w*4),[_,le,L,xe]}isValid(c){return c.getX()>=0&&c.getX()<this.image.getWidth()&&c.getY()>0&&c.getY()<this.image.getHeight()}static sampleGrid(c,d,f,p,x,w,E){return St.getInstance().sampleGrid(c,w,E,.5,.5,w-.5,.5,w-.5,E-.5,.5,E-.5,d.getX(),d.getY(),x.getX(),x.getY(),p.getX(),p.getY(),f.getX(),f.getY())}transitionsBetween(c,d){let f=Math.trunc(c.getX()),p=Math.trunc(c.getY()),x=Math.trunc(d.getX()),w=Math.trunc(d.getY()),E=Math.abs(w-p)>Math.abs(x-f);if(E){let Ee=f;f=p,p=Ee,Ee=x,x=w,w=Ee}let _=Math.abs(x-f),L=Math.abs(w-p),W=-_/2,re=p<w?1:-1,le=f<x?1:-1,xe=0,Ne=this.image.get(E?p:f,E?f:p);for(let Ee=f,Re=p;Ee!==x;Ee+=le){let We=this.image.get(E?Re:Ee,E?Ee:Re);if(We!==Ne&&(xe++,Ne=We),W+=L,W>0){if(Re===w)break;Re+=re,W-=_}}return xe}}class Us{constructor(){this.decoder=new ll}decode(c,d=null){let f,p;if(d!=null&&d.has(V.PURE_BARCODE)){const L=Us.extractPureBits(c.getBlackMatrix());f=this.decoder.decode(L),p=Us.NO_POINTS}else{const L=new gn(c.getBlackMatrix()).detect();f=this.decoder.decode(L.getBits()),p=L.getPoints()}const x=f.getRawBytes(),w=new ae(f.getText(),x,8*x.length,p,oe.DATA_MATRIX,C.currentTimeMillis()),E=f.getByteSegments();E!=null&&w.putMetadata(Be.BYTE_SEGMENTS,E);const _=f.getECLevel();return _!=null&&w.putMetadata(Be.ERROR_CORRECTION_LEVEL,_),w}reset(){}static extractPureBits(c){const d=c.getTopLeftOnBit(),f=c.getBottomRightOnBit();if(d==null||f==null)throw new Y;const p=this.moduleSize(d,c);let x=d[1];const w=f[1];let E=d[0];const L=(f[0]-E+1)/p,W=(w-x+1)/p;if(L<=0||W<=0)throw new Y;const re=p/2;x+=re,E+=re;const le=new ne(L,W);for(let xe=0;xe<W;xe++){const Ne=x+xe*p;for(let Ee=0;Ee<L;Ee++)c.get(E+Ee*p,Ne)&&le.set(Ee,xe)}return le}static moduleSize(c,d){const f=d.getWidth();let p=c[0];const x=c[1];for(;p<f&&d.get(p,x);)p++;if(p===f)throw new Y;const w=p-c[0];if(w===0)throw new Y;return w}}Us.NO_POINTS=[];class Qc extends Z{constructor(c=500){super(new Us,c)}}var In;(function(te){te[te.L=0]="L",te[te.M=1]="M",te[te.Q=2]="Q",te[te.H=3]="H"})(In||(In={}));class on{constructor(c,d,f){this.value=c,this.stringValue=d,this.bits=f,on.FOR_BITS.set(f,this),on.FOR_VALUE.set(c,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(c){switch(c){case"L":return on.L;case"M":return on.M;case"Q":return on.Q;case"H":return on.H;default:throw new h(c+"not available")}}toString(){return this.stringValue}equals(c){if(!(c instanceof on))return!1;const d=c;return this.value===d.value}static forBits(c){if(c<0||c>=on.FOR_BITS.size)throw new m;return on.FOR_BITS.get(c)}}on.FOR_BITS=new Map,on.FOR_VALUE=new Map,on.L=new on(In.L,"L",1),on.M=new on(In.M,"M",0),on.Q=new on(In.Q,"Q",3),on.H=new on(In.H,"H",2);class Ms{constructor(c){this.errorCorrectionLevel=on.forBits(c>>3&3),this.dataMask=c&7}static numBitsDiffering(c,d){return F.bitCount(c^d)}static decodeFormatInformation(c,d){const f=Ms.doDecodeFormatInformation(c,d);return f!==null?f:Ms.doDecodeFormatInformation(c^Ms.FORMAT_INFO_MASK_QR,d^Ms.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(c,d){let f=Number.MAX_SAFE_INTEGER,p=0;for(const x of Ms.FORMAT_INFO_DECODE_LOOKUP){const w=x[0];if(w===c||w===d)return new Ms(x[1]);let E=Ms.numBitsDiffering(c,w);E<f&&(p=x[1],f=E),c!==d&&(E=Ms.numBitsDiffering(d,w),E<f&&(p=x[1],f=E))}return f<=3?new Ms(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(c){if(!(c instanceof Ms))return!1;const d=c;return this.errorCorrectionLevel===d.errorCorrectionLevel&&this.dataMask===d.dataMask}}Ms.FORMAT_INFO_MASK_QR=21522,Ms.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Me{constructor(c,...d){this.ecCodewordsPerBlock=c,this.ecBlocks=d}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let c=0;const d=this.ecBlocks;for(const f of d)c+=f.getCount();return c}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ye{constructor(c,d){this.count=c,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(c,d,...f){this.versionNumber=c,this.alignmentPatternCenters=d,this.ecBlocks=f;let p=0;const x=f[0].getECCodewordsPerBlock(),w=f[0].getECBlocks();for(const E of w)p+=E.getCount()*(E.getDataCodewords()+x);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(c){return this.ecBlocks[c.getValue()]}static getProvisionalVersionForDimension(c){if(c%4!==1)throw new P;try{return this.getVersionForNumber((c-17)/4)}catch{throw new P}}static getVersionForNumber(c){if(c<1||c>40)throw new m;return _t.VERSIONS[c-1]}static decodeVersionInformation(c){let d=Number.MAX_SAFE_INTEGER,f=0;for(let p=0;p<_t.VERSION_DECODE_INFO.length;p++){const x=_t.VERSION_DECODE_INFO[p];if(x===c)return _t.getVersionForNumber(p+7);const w=Ms.numBitsDiffering(c,x);w<d&&(f=p+7,d=w)}return d<=3?_t.getVersionForNumber(f):null}buildFunctionPattern(){const c=this.getDimensionForVersion(),d=new ne(c);d.setRegion(0,0,9,9),d.setRegion(c-8,0,8,9),d.setRegion(0,c-8,9,8);const f=this.alignmentPatternCenters.length;for(let p=0;p<f;p++){const x=this.alignmentPatternCenters[p]-2;for(let w=0;w<f;w++)p===0&&(w===0||w===f-1)||p===f-1&&w===0||d.setRegion(this.alignmentPatternCenters[w]-2,x,5,5)}return d.setRegion(6,9,1,c-17),d.setRegion(9,6,c-17,1),this.versionNumber>6&&(d.setRegion(c-11,0,3,6),d.setRegion(0,c-11,6,3)),d}toString(){return""+this.versionNumber}}_t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_t.VERSIONS=[new _t(1,new Int32Array(0),new Me(7,new ye(1,19)),new Me(10,new ye(1,16)),new Me(13,new ye(1,13)),new Me(17,new ye(1,9))),new _t(2,Int32Array.from([6,18]),new Me(10,new ye(1,34)),new Me(16,new ye(1,28)),new Me(22,new ye(1,22)),new Me(28,new ye(1,16))),new _t(3,Int32Array.from([6,22]),new Me(15,new ye(1,55)),new Me(26,new ye(1,44)),new Me(18,new ye(2,17)),new Me(22,new ye(2,13))),new _t(4,Int32Array.from([6,26]),new Me(20,new ye(1,80)),new Me(18,new ye(2,32)),new Me(26,new ye(2,24)),new Me(16,new ye(4,9))),new _t(5,Int32Array.from([6,30]),new Me(26,new ye(1,108)),new Me(24,new ye(2,43)),new Me(18,new ye(2,15),new ye(2,16)),new Me(22,new ye(2,11),new ye(2,12))),new _t(6,Int32Array.from([6,34]),new Me(18,new ye(2,68)),new Me(16,new ye(4,27)),new Me(24,new ye(4,19)),new Me(28,new ye(4,15))),new _t(7,Int32Array.from([6,22,38]),new Me(20,new ye(2,78)),new Me(18,new ye(4,31)),new Me(18,new ye(2,14),new ye(4,15)),new Me(26,new ye(4,13),new ye(1,14))),new _t(8,Int32Array.from([6,24,42]),new Me(24,new ye(2,97)),new Me(22,new ye(2,38),new ye(2,39)),new Me(22,new ye(4,18),new ye(2,19)),new Me(26,new ye(4,14),new ye(2,15))),new _t(9,Int32Array.from([6,26,46]),new Me(30,new ye(2,116)),new Me(22,new ye(3,36),new ye(2,37)),new Me(20,new ye(4,16),new ye(4,17)),new Me(24,new ye(4,12),new ye(4,13))),new _t(10,Int32Array.from([6,28,50]),new Me(18,new ye(2,68),new ye(2,69)),new Me(26,new ye(4,43),new ye(1,44)),new Me(24,new ye(6,19),new ye(2,20)),new Me(28,new ye(6,15),new ye(2,16))),new _t(11,Int32Array.from([6,30,54]),new Me(20,new ye(4,81)),new Me(30,new ye(1,50),new ye(4,51)),new Me(28,new ye(4,22),new ye(4,23)),new Me(24,new ye(3,12),new ye(8,13))),new _t(12,Int32Array.from([6,32,58]),new Me(24,new ye(2,92),new ye(2,93)),new Me(22,new ye(6,36),new ye(2,37)),new Me(26,new ye(4,20),new ye(6,21)),new Me(28,new ye(7,14),new ye(4,15))),new _t(13,Int32Array.from([6,34,62]),new Me(26,new ye(4,107)),new Me(22,new ye(8,37),new ye(1,38)),new Me(24,new ye(8,20),new ye(4,21)),new Me(22,new ye(12,11),new ye(4,12))),new _t(14,Int32Array.from([6,26,46,66]),new Me(30,new ye(3,115),new ye(1,116)),new Me(24,new ye(4,40),new ye(5,41)),new Me(20,new ye(11,16),new ye(5,17)),new Me(24,new ye(11,12),new ye(5,13))),new _t(15,Int32Array.from([6,26,48,70]),new Me(22,new ye(5,87),new ye(1,88)),new Me(24,new ye(5,41),new ye(5,42)),new Me(30,new ye(5,24),new ye(7,25)),new Me(24,new ye(11,12),new ye(7,13))),new _t(16,Int32Array.from([6,26,50,74]),new Me(24,new ye(5,98),new ye(1,99)),new Me(28,new ye(7,45),new ye(3,46)),new Me(24,new ye(15,19),new ye(2,20)),new Me(30,new ye(3,15),new ye(13,16))),new _t(17,Int32Array.from([6,30,54,78]),new Me(28,new ye(1,107),new ye(5,108)),new Me(28,new ye(10,46),new ye(1,47)),new Me(28,new ye(1,22),new ye(15,23)),new Me(28,new ye(2,14),new ye(17,15))),new _t(18,Int32Array.from([6,30,56,82]),new Me(30,new ye(5,120),new ye(1,121)),new Me(26,new ye(9,43),new ye(4,44)),new Me(28,new ye(17,22),new ye(1,23)),new Me(28,new ye(2,14),new ye(19,15))),new _t(19,Int32Array.from([6,30,58,86]),new Me(28,new ye(3,113),new ye(4,114)),new Me(26,new ye(3,44),new ye(11,45)),new Me(26,new ye(17,21),new ye(4,22)),new Me(26,new ye(9,13),new ye(16,14))),new _t(20,Int32Array.from([6,34,62,90]),new Me(28,new ye(3,107),new ye(5,108)),new Me(26,new ye(3,41),new ye(13,42)),new Me(30,new ye(15,24),new ye(5,25)),new Me(28,new ye(15,15),new ye(10,16))),new _t(21,Int32Array.from([6,28,50,72,94]),new Me(28,new ye(4,116),new ye(4,117)),new Me(26,new ye(17,42)),new Me(28,new ye(17,22),new ye(6,23)),new Me(30,new ye(19,16),new ye(6,17))),new _t(22,Int32Array.from([6,26,50,74,98]),new Me(28,new ye(2,111),new ye(7,112)),new Me(28,new ye(17,46)),new Me(30,new ye(7,24),new ye(16,25)),new Me(24,new ye(34,13))),new _t(23,Int32Array.from([6,30,54,78,102]),new Me(30,new ye(4,121),new ye(5,122)),new Me(28,new ye(4,47),new ye(14,48)),new Me(30,new ye(11,24),new ye(14,25)),new Me(30,new ye(16,15),new ye(14,16))),new _t(24,Int32Array.from([6,28,54,80,106]),new Me(30,new ye(6,117),new ye(4,118)),new Me(28,new ye(6,45),new ye(14,46)),new Me(30,new ye(11,24),new ye(16,25)),new Me(30,new ye(30,16),new ye(2,17))),new _t(25,Int32Array.from([6,32,58,84,110]),new Me(26,new ye(8,106),new ye(4,107)),new Me(28,new ye(8,47),new ye(13,48)),new Me(30,new ye(7,24),new ye(22,25)),new Me(30,new ye(22,15),new ye(13,16))),new _t(26,Int32Array.from([6,30,58,86,114]),new Me(28,new ye(10,114),new ye(2,115)),new Me(28,new ye(19,46),new ye(4,47)),new Me(28,new ye(28,22),new ye(6,23)),new Me(30,new ye(33,16),new ye(4,17))),new _t(27,Int32Array.from([6,34,62,90,118]),new Me(30,new ye(8,122),new ye(4,123)),new Me(28,new ye(22,45),new ye(3,46)),new Me(30,new ye(8,23),new ye(26,24)),new Me(30,new ye(12,15),new ye(28,16))),new _t(28,Int32Array.from([6,26,50,74,98,122]),new Me(30,new ye(3,117),new ye(10,118)),new Me(28,new ye(3,45),new ye(23,46)),new Me(30,new ye(4,24),new ye(31,25)),new Me(30,new ye(11,15),new ye(31,16))),new _t(29,Int32Array.from([6,30,54,78,102,126]),new Me(30,new ye(7,116),new ye(7,117)),new Me(28,new ye(21,45),new ye(7,46)),new Me(30,new ye(1,23),new ye(37,24)),new Me(30,new ye(19,15),new ye(26,16))),new _t(30,Int32Array.from([6,26,52,78,104,130]),new Me(30,new ye(5,115),new ye(10,116)),new Me(28,new ye(19,47),new ye(10,48)),new Me(30,new ye(15,24),new ye(25,25)),new Me(30,new ye(23,15),new ye(25,16))),new _t(31,Int32Array.from([6,30,56,82,108,134]),new Me(30,new ye(13,115),new ye(3,116)),new Me(28,new ye(2,46),new ye(29,47)),new Me(30,new ye(42,24),new ye(1,25)),new Me(30,new ye(23,15),new ye(28,16))),new _t(32,Int32Array.from([6,34,60,86,112,138]),new Me(30,new ye(17,115)),new Me(28,new ye(10,46),new ye(23,47)),new Me(30,new ye(10,24),new ye(35,25)),new Me(30,new ye(19,15),new ye(35,16))),new _t(33,Int32Array.from([6,30,58,86,114,142]),new Me(30,new ye(17,115),new ye(1,116)),new Me(28,new ye(14,46),new ye(21,47)),new Me(30,new ye(29,24),new ye(19,25)),new Me(30,new ye(11,15),new ye(46,16))),new _t(34,Int32Array.from([6,34,62,90,118,146]),new Me(30,new ye(13,115),new ye(6,116)),new Me(28,new ye(14,46),new ye(23,47)),new Me(30,new ye(44,24),new ye(7,25)),new Me(30,new ye(59,16),new ye(1,17))),new _t(35,Int32Array.from([6,30,54,78,102,126,150]),new Me(30,new ye(12,121),new ye(7,122)),new Me(28,new ye(12,47),new ye(26,48)),new Me(30,new ye(39,24),new ye(14,25)),new Me(30,new ye(22,15),new ye(41,16))),new _t(36,Int32Array.from([6,24,50,76,102,128,154]),new Me(30,new ye(6,121),new ye(14,122)),new Me(28,new ye(6,47),new ye(34,48)),new Me(30,new ye(46,24),new ye(10,25)),new Me(30,new ye(2,15),new ye(64,16))),new _t(37,Int32Array.from([6,28,54,80,106,132,158]),new Me(30,new ye(17,122),new ye(4,123)),new Me(28,new ye(29,46),new ye(14,47)),new Me(30,new ye(49,24),new ye(10,25)),new Me(30,new ye(24,15),new ye(46,16))),new _t(38,Int32Array.from([6,32,58,84,110,136,162]),new Me(30,new ye(4,122),new ye(18,123)),new Me(28,new ye(13,46),new ye(32,47)),new Me(30,new ye(48,24),new ye(14,25)),new Me(30,new ye(42,15),new ye(32,16))),new _t(39,Int32Array.from([6,26,54,82,110,138,166]),new Me(30,new ye(20,117),new ye(4,118)),new Me(28,new ye(40,47),new ye(7,48)),new Me(30,new ye(43,24),new ye(22,25)),new Me(30,new ye(10,15),new ye(67,16))),new _t(40,Int32Array.from([6,30,58,86,114,142,170]),new Me(30,new ye(19,118),new ye(6,119)),new Me(28,new ye(18,47),new ye(31,48)),new Me(30,new ye(34,24),new ye(34,25)),new Me(30,new ye(20,15),new ye(61,16)))];var ls;(function(te){te[te.DATA_MASK_000=0]="DATA_MASK_000",te[te.DATA_MASK_001=1]="DATA_MASK_001",te[te.DATA_MASK_010=2]="DATA_MASK_010",te[te.DATA_MASK_011=3]="DATA_MASK_011",te[te.DATA_MASK_100=4]="DATA_MASK_100",te[te.DATA_MASK_101=5]="DATA_MASK_101",te[te.DATA_MASK_110=6]="DATA_MASK_110",te[te.DATA_MASK_111=7]="DATA_MASK_111"})(ls||(ls={}));class mi{constructor(c,d){this.value=c,this.isMasked=d}unmaskBitMatrix(c,d){for(let f=0;f<d;f++)for(let p=0;p<d;p++)this.isMasked(f,p)&&c.flip(p,f)}}mi.values=new Map([[ls.DATA_MASK_000,new mi(ls.DATA_MASK_000,(te,c)=>(te+c&1)===0)],[ls.DATA_MASK_001,new mi(ls.DATA_MASK_001,(te,c)=>(te&1)===0)],[ls.DATA_MASK_010,new mi(ls.DATA_MASK_010,(te,c)=>c%3===0)],[ls.DATA_MASK_011,new mi(ls.DATA_MASK_011,(te,c)=>(te+c)%3===0)],[ls.DATA_MASK_100,new mi(ls.DATA_MASK_100,(te,c)=>(Math.floor(te/2)+Math.floor(c/3)&1)===0)],[ls.DATA_MASK_101,new mi(ls.DATA_MASK_101,(te,c)=>te*c%6===0)],[ls.DATA_MASK_110,new mi(ls.DATA_MASK_110,(te,c)=>te*c%6<3)],[ls.DATA_MASK_111,new mi(ls.DATA_MASK_111,(te,c)=>(te+c+te*c%3&1)===0)]]);class Gl{constructor(c){const d=c.getHeight();if(d<21||(d&3)!==1)throw new P;this.bitMatrix=c}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let c=0;for(let x=0;x<6;x++)c=this.copyBit(x,8,c);c=this.copyBit(7,8,c),c=this.copyBit(8,8,c),c=this.copyBit(8,7,c);for(let x=5;x>=0;x--)c=this.copyBit(8,x,c);const d=this.bitMatrix.getHeight();let f=0;const p=d-7;for(let x=d-1;x>=p;x--)f=this.copyBit(8,x,f);for(let x=d-8;x<d;x++)f=this.copyBit(x,8,f);if(this.parsedFormatInfo=Ms.decodeFormatInformation(c,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const c=this.bitMatrix.getHeight(),d=Math.floor((c-17)/4);if(d<=6)return _t.getVersionForNumber(d);let f=0;const p=c-11;for(let w=5;w>=0;w--)for(let E=c-9;E>=p;E--)f=this.copyBit(E,w,f);let x=_t.decodeVersionInformation(f);if(x!==null&&x.getDimensionForVersion()===c)return this.parsedVersion=x,x;f=0;for(let w=5;w>=0;w--)for(let E=c-9;E>=p;E--)f=this.copyBit(w,E,f);if(x=_t.decodeVersionInformation(f),x!==null&&x.getDimensionForVersion()===c)return this.parsedVersion=x,x;throw new P}copyBit(c,d,f){return(this.isMirror?this.bitMatrix.get(d,c):this.bitMatrix.get(c,d))?f<<1|1:f<<1}readCodewords(){const c=this.readFormatInformation(),d=this.readVersion(),f=mi.values.get(c.getDataMask()),p=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,p);const x=d.buildFunctionPattern();let w=!0;const E=new Uint8Array(d.getTotalCodewords());let _=0,L=0,W=0;for(let re=p-1;re>0;re-=2){re===6&&re--;for(let le=0;le<p;le++){const xe=w?p-1-le:le;for(let Ne=0;Ne<2;Ne++)x.get(re-Ne,xe)||(W++,L<<=1,this.bitMatrix.get(re-Ne,xe)&&(L|=1),W===8&&(E[_++]=L,W=0,L=0))}w=!w}if(_!==d.getTotalCodewords())throw new P;return E}remask(){if(this.parsedFormatInfo===null)return;const c=mi.values[this.parsedFormatInfo.getDataMask()],d=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,d)}setMirror(c){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=c}mirror(){const c=this.bitMatrix;for(let d=0,f=c.getWidth();d<f;d++)for(let p=d+1,x=c.getHeight();p<x;p++)c.get(d,p)!==c.get(p,d)&&(c.flip(p,d),c.flip(d,p))}}class Hc{constructor(c,d){this.numDataCodewords=c,this.codewords=d}static getDataBlocks(c,d,f){if(c.length!==d.getTotalCodewords())throw new m;const p=d.getECBlocksForLevel(f);let x=0;const w=p.getECBlocks();for(const Ne of w)x+=Ne.getCount();const E=new Array(x);let _=0;for(const Ne of w)for(let Ee=0;Ee<Ne.getCount();Ee++){const Re=Ne.getDataCodewords(),We=p.getECCodewordsPerBlock()+Re;E[_++]=new Hc(Re,new Uint8Array(We))}const L=E[0].codewords.length;let W=E.length-1;for(;W>=0&&E[W].codewords.length!==L;)W--;W++;const re=L-p.getECCodewordsPerBlock();let le=0;for(let Ne=0;Ne<re;Ne++)for(let Ee=0;Ee<_;Ee++)E[Ee].codewords[Ne]=c[le++];for(let Ne=W;Ne<_;Ne++)E[Ne].codewords[re]=c[le++];const xe=E[0].codewords.length;for(let Ne=re;Ne<xe;Ne++)for(let Ee=0;Ee<_;Ee++){const Re=Ee<W?Ne:Ne+1;E[Ee].codewords[Re]=c[le++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Li;(function(te){te[te.TERMINATOR=0]="TERMINATOR",te[te.NUMERIC=1]="NUMERIC",te[te.ALPHANUMERIC=2]="ALPHANUMERIC",te[te.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",te[te.BYTE=4]="BYTE",te[te.ECI=5]="ECI",te[te.KANJI=6]="KANJI",te[te.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",te[te.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",te[te.HANZI=9]="HANZI"})(Li||(Li={}));class Jt{constructor(c,d,f,p){this.value=c,this.stringValue=d,this.characterCountBitsForVersions=f,this.bits=p,Jt.FOR_BITS.set(p,this),Jt.FOR_VALUE.set(c,this)}static forBits(c){const d=Jt.FOR_BITS.get(c);if(d===void 0)throw new m;return d}getCharacterCountBits(c){const d=c.getVersionNumber();let f;return d<=9?f=0:d<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(c){if(!(c instanceof Jt))return!1;const d=c;return this.value===d.value}toString(){return this.stringValue}}Jt.FOR_BITS=new Map,Jt.FOR_VALUE=new Map,Jt.TERMINATOR=new Jt(Li.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Jt.NUMERIC=new Jt(Li.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Jt.ALPHANUMERIC=new Jt(Li.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Jt.STRUCTURED_APPEND=new Jt(Li.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Jt.BYTE=new Jt(Li.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Jt.ECI=new Jt(Li.ECI,"ECI",Int32Array.from([0,0,0]),7),Jt.KANJI=new Jt(Li.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Jt.FNC1_FIRST_POSITION=new Jt(Li.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Jt.FNC1_SECOND_POSITION=new Jt(Li.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Jt.HANZI=new Jt(Li.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Tn{static decode(c,d,f,p){const x=new es(c);let w=new J;const E=new Array;let _=-1,L=-1;try{let W=null,re=!1,le;do{if(x.available()<4)le=Jt.TERMINATOR;else{const xe=x.readBits(4);le=Jt.forBits(xe)}switch(le){case Jt.TERMINATOR:break;case Jt.FNC1_FIRST_POSITION:case Jt.FNC1_SECOND_POSITION:re=!0;break;case Jt.STRUCTURED_APPEND:if(x.available()<16)throw new P;_=x.readBits(8),L=x.readBits(8);break;case Jt.ECI:const xe=Tn.parseECIValue(x);if(W=k.getCharacterSetECIByValue(xe),W===null)throw new P;break;case Jt.HANZI:const Ne=x.readBits(4),Ee=x.readBits(le.getCharacterCountBits(d));Ne===Tn.GB2312_SUBSET&&Tn.decodeHanziSegment(x,w,Ee);break;default:const Re=x.readBits(le.getCharacterCountBits(d));switch(le){case Jt.NUMERIC:Tn.decodeNumericSegment(x,w,Re);break;case Jt.ALPHANUMERIC:Tn.decodeAlphanumericSegment(x,w,Re,re);break;case Jt.BYTE:Tn.decodeByteSegment(x,w,Re,W,E,p);break;case Jt.KANJI:Tn.decodeKanjiSegment(x,w,Re);break;default:throw new P}break}}while(le!==Jt.TERMINATOR)}catch{throw new P}return new _e(c,w.toString(),E.length===0?null:E,f===null?null:f.toString(),_,L)}static decodeHanziSegment(c,d,f){if(f*13>c.available())throw new P;const p=new Uint8Array(2*f);let x=0;for(;f>0;){const w=c.readBits(13);let E=w/96<<8&4294967295|w%96;E<959?E+=41377:E+=42657,p[x]=E>>8&255,p[x+1]=E&255,x+=2,f--}try{d.append(R.decode(p,H.GB2312))}catch(w){throw new P(w)}}static decodeKanjiSegment(c,d,f){if(f*13>c.available())throw new P;const p=new Uint8Array(2*f);let x=0;for(;f>0;){const w=c.readBits(13);let E=w/192<<8&4294967295|w%192;E<7936?E+=33088:E+=49472,p[x]=E>>8,p[x+1]=E,x+=2,f--}try{d.append(R.decode(p,H.SHIFT_JIS))}catch(w){throw new P(w)}}static decodeByteSegment(c,d,f,p,x,w){if(8*f>c.available())throw new P;const E=new Uint8Array(f);for(let L=0;L<f;L++)E[L]=c.readBits(8);let _;p===null?_=H.guessEncoding(E,w):_=p.getName();try{d.append(R.decode(E,_))}catch(L){throw new P(L)}x.push(E)}static toAlphaNumericChar(c){if(c>=Tn.ALPHANUMERIC_CHARS.length)throw new P;return Tn.ALPHANUMERIC_CHARS[c]}static decodeAlphanumericSegment(c,d,f,p){const x=d.length();for(;f>1;){if(c.available()<11)throw new P;const w=c.readBits(11);d.append(Tn.toAlphaNumericChar(Math.floor(w/45))),d.append(Tn.toAlphaNumericChar(w%45)),f-=2}if(f===1){if(c.available()<6)throw new P;d.append(Tn.toAlphaNumericChar(c.readBits(6)))}if(p)for(let w=x;w<d.length();w++)d.charAt(w)==="%"&&(w<d.length()-1&&d.charAt(w+1)==="%"?d.deleteCharAt(w+1):d.setCharAt(w,""))}static decodeNumericSegment(c,d,f){for(;f>=3;){if(c.available()<10)throw new P;const p=c.readBits(10);if(p>=1e3)throw new P;d.append(Tn.toAlphaNumericChar(Math.floor(p/100))),d.append(Tn.toAlphaNumericChar(Math.floor(p/10)%10)),d.append(Tn.toAlphaNumericChar(p%10)),f-=3}if(f===2){if(c.available()<7)throw new P;const p=c.readBits(7);if(p>=100)throw new P;d.append(Tn.toAlphaNumericChar(Math.floor(p/10))),d.append(Tn.toAlphaNumericChar(p%10))}else if(f===1){if(c.available()<4)throw new P;const p=c.readBits(4);if(p>=10)throw new P;d.append(Tn.toAlphaNumericChar(p))}}static parseECIValue(c){const d=c.readBits(8);if(!(d&128))return d&127;if((d&192)===128){const f=c.readBits(8);return(d&63)<<8&4294967295|f}if((d&224)===192){const f=c.readBits(16);return(d&31)<<16&4294967295|f}throw new P}}Tn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Tn.GB2312_SUBSET=1;class YA{constructor(c){this.mirrored=c}isMirrored(){return this.mirrored}applyMirroredCorrection(c){if(!this.mirrored||c===null||c.length<3)return;const d=c[0];c[0]=c[2],c[2]=d}}class Vc{constructor(){this.rsDecoder=new ft(Se.QR_CODE_FIELD_256)}decodeBooleanArray(c,d){return this.decodeBitMatrix(ne.parseFromBooleanArray(c),d)}decodeBitMatrix(c,d){const f=new Gl(c);let p=null;try{return this.decodeBitMatrixParser(f,d)}catch(x){p=x}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const x=this.decodeBitMatrixParser(f,d);return x.setOther(new YA(!0)),x}catch(x){throw p!==null?p:x}}decodeBitMatrixParser(c,d){const f=c.readVersion(),p=c.readFormatInformation().getErrorCorrectionLevel(),x=c.readCodewords(),w=Hc.getDataBlocks(x,f,p);let E=0;for(const W of w)E+=W.getNumDataCodewords();const _=new Uint8Array(E);let L=0;for(const W of w){const re=W.getCodewords(),le=W.getNumDataCodewords();this.correctErrors(re,le);for(let xe=0;xe<le;xe++)_[L++]=re[xe]}return Tn.decode(_,f,p,d)}correctErrors(c,d){const f=new Int32Array(c);try{this.rsDecoder.decode(f,c.length-d)}catch{throw new g}for(let p=0;p<d;p++)c[p]=f[p]}}class Io extends Ke{constructor(c,d,f){super(c,d),this.estimatedModuleSize=f}aboutEquals(c,d,f){if(Math.abs(d-this.getY())<=c&&Math.abs(f-this.getX())<=c){const p=Math.abs(c-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(c,d,f){const p=(this.getX()+d)/2,x=(this.getY()+c)/2,w=(this.estimatedModuleSize+f)/2;return new Io(p,x,w)}}class ZA{constructor(c,d,f,p,x,w,E){this.image=c,this.startX=d,this.startY=f,this.width=p,this.height=x,this.moduleSize=w,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const c=this.startX,d=this.height,f=this.width,p=c+f,x=this.startY+d/2,w=new Int32Array(3),E=this.image;for(let _=0;_<d;_++){const L=x+(_&1?-Math.floor((_+1)/2):Math.floor((_+1)/2));w[0]=0,w[1]=0,w[2]=0;let W=c;for(;W<p&&!E.get(W,L);)W++;let re=0;for(;W<p;){if(E.get(W,L))if(re===1)w[1]++;else if(re===2){if(this.foundPatternCross(w)){const le=this.handlePossibleCenter(w,L,W);if(le!==null)return le}w[0]=w[2],w[1]=1,w[2]=0,re=1}else w[++re]++;else re===1&&re++,w[re]++;W++}if(this.foundPatternCross(w)){const le=this.handlePossibleCenter(w,L,p);if(le!==null)return le}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(c,d){return d-c[2]-c[1]/2}foundPatternCross(c){const d=this.moduleSize,f=d/2;for(let p=0;p<3;p++)if(Math.abs(d-c[p])>=f)return!1;return!0}crossCheckVertical(c,d,f,p){const x=this.image,w=x.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let _=c;for(;_>=0&&x.get(d,_)&&E[1]<=f;)E[1]++,_--;if(_<0||E[1]>f)return NaN;for(;_>=0&&!x.get(d,_)&&E[0]<=f;)E[0]++,_--;if(E[0]>f)return NaN;for(_=c+1;_<w&&x.get(d,_)&&E[1]<=f;)E[1]++,_++;if(_===w||E[1]>f)return NaN;for(;_<w&&!x.get(d,_)&&E[2]<=f;)E[2]++,_++;if(E[2]>f)return NaN;const L=E[0]+E[1]+E[2];return 5*Math.abs(L-p)>=2*p?NaN:this.foundPatternCross(E)?ZA.centerFromEnd(E,_):NaN}handlePossibleCenter(c,d,f){const p=c[0]+c[1]+c[2],x=ZA.centerFromEnd(c,f),w=this.crossCheckVertical(d,x,2*c[1],p);if(!isNaN(w)){const E=(c[0]+c[1]+c[2])/3;for(const L of this.possibleCenters)if(L.aboutEquals(E,w,x))return L.combineEstimate(w,x,E);const _=new Io(x,w,E);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null}}class cl extends Ke{constructor(c,d,f,p){super(c,d),this.estimatedModuleSize=f,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(c,d,f){if(Math.abs(d-this.getY())<=c&&Math.abs(f-this.getX())<=c){const p=Math.abs(c-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(c,d,f){const p=this.count+1,x=(this.count*this.getX()+d)/p,w=(this.count*this.getY()+c)/p,E=(this.count*this.estimatedModuleSize+f)/p;return new cl(x,w,E,p)}}class Qd{constructor(c){this.bottomLeft=c[0],this.topLeft=c[1],this.topRight=c[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Mt{constructor(c,d){this.image=c,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=d}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(c){const d=c!=null&&c.get(V.TRY_HARDER)!==void 0,f=c!=null&&c.get(V.PURE_BARCODE)!==void 0,p=this.image,x=p.getHeight(),w=p.getWidth();let E=Math.floor(3*x/(4*Mt.MAX_MODULES));(E<Mt.MIN_SKIP||d)&&(E=Mt.MIN_SKIP);let _=!1;const L=new Int32Array(5);for(let re=E-1;re<x&&!_;re+=E){L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0;let le=0;for(let xe=0;xe<w;xe++)if(p.get(xe,re))(le&1)===1&&le++,L[le]++;else if(le&1)L[le]++;else if(le===4)if(Mt.foundPatternCross(L)){if(this.handlePossibleCenter(L,re,xe,f)===!0)if(E=2,this.hasSkipped===!0)_=this.haveMultiplyConfirmedCenters();else{const Ee=this.findRowSkip();Ee>L[2]&&(re+=Ee-L[2]-E,xe=w-1)}else{L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,le=3;continue}le=0,L[0]=0,L[1]=0,L[2]=0,L[3]=0,L[4]=0}else L[0]=L[2],L[1]=L[3],L[2]=L[4],L[3]=1,L[4]=0,le=3;else L[++le]++;Mt.foundPatternCross(L)&&this.handlePossibleCenter(L,re,w,f)===!0&&(E=L[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}const W=this.selectBestPatterns();return Ke.orderBestPatterns(W),new Qd(W)}static centerFromEnd(c,d){return d-c[4]-c[3]-c[2]/2}static foundPatternCross(c){let d=0;for(let x=0;x<5;x++){const w=c[x];if(w===0)return!1;d+=w}if(d<7)return!1;const f=d/7,p=f/2;return Math.abs(f-c[0])<p&&Math.abs(f-c[1])<p&&Math.abs(3*f-c[2])<3*p&&Math.abs(f-c[3])<p&&Math.abs(f-c[4])<p}getCrossCheckStateCount(){const c=this.crossCheckStateCount;return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c}crossCheckDiagonal(c,d,f,p){const x=this.getCrossCheckStateCount();let w=0;const E=this.image;for(;c>=w&&d>=w&&E.get(d-w,c-w);)x[2]++,w++;if(c<w||d<w)return!1;for(;c>=w&&d>=w&&!E.get(d-w,c-w)&&x[1]<=f;)x[1]++,w++;if(c<w||d<w||x[1]>f)return!1;for(;c>=w&&d>=w&&E.get(d-w,c-w)&&x[0]<=f;)x[0]++,w++;if(x[0]>f)return!1;const _=E.getHeight(),L=E.getWidth();for(w=1;c+w<_&&d+w<L&&E.get(d+w,c+w);)x[2]++,w++;if(c+w>=_||d+w>=L)return!1;for(;c+w<_&&d+w<L&&!E.get(d+w,c+w)&&x[3]<f;)x[3]++,w++;if(c+w>=_||d+w>=L||x[3]>=f)return!1;for(;c+w<_&&d+w<L&&E.get(d+w,c+w)&&x[4]<f;)x[4]++,w++;if(x[4]>=f)return!1;const W=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(W-p)<2*p&&Mt.foundPatternCross(x)}crossCheckVertical(c,d,f,p){const x=this.image,w=x.getHeight(),E=this.getCrossCheckStateCount();let _=c;for(;_>=0&&x.get(d,_);)E[2]++,_--;if(_<0)return NaN;for(;_>=0&&!x.get(d,_)&&E[1]<=f;)E[1]++,_--;if(_<0||E[1]>f)return NaN;for(;_>=0&&x.get(d,_)&&E[0]<=f;)E[0]++,_--;if(E[0]>f)return NaN;for(_=c+1;_<w&&x.get(d,_);)E[2]++,_++;if(_===w)return NaN;for(;_<w&&!x.get(d,_)&&E[3]<f;)E[3]++,_++;if(_===w||E[3]>=f)return NaN;for(;_<w&&x.get(d,_)&&E[4]<f;)E[4]++,_++;if(E[4]>=f)return NaN;const L=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(L-p)>=2*p?NaN:Mt.foundPatternCross(E)?Mt.centerFromEnd(E,_):NaN}crossCheckHorizontal(c,d,f,p){const x=this.image,w=x.getWidth(),E=this.getCrossCheckStateCount();let _=c;for(;_>=0&&x.get(_,d);)E[2]++,_--;if(_<0)return NaN;for(;_>=0&&!x.get(_,d)&&E[1]<=f;)E[1]++,_--;if(_<0||E[1]>f)return NaN;for(;_>=0&&x.get(_,d)&&E[0]<=f;)E[0]++,_--;if(E[0]>f)return NaN;for(_=c+1;_<w&&x.get(_,d);)E[2]++,_++;if(_===w)return NaN;for(;_<w&&!x.get(_,d)&&E[3]<f;)E[3]++,_++;if(_===w||E[3]>=f)return NaN;for(;_<w&&x.get(_,d)&&E[4]<f;)E[4]++,_++;if(E[4]>=f)return NaN;const L=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(L-p)>=p?NaN:Mt.foundPatternCross(E)?Mt.centerFromEnd(E,_):NaN}handlePossibleCenter(c,d,f,p){const x=c[0]+c[1]+c[2]+c[3]+c[4];let w=Mt.centerFromEnd(c,f),E=this.crossCheckVertical(d,Math.floor(w),c[2],x);if(!isNaN(E)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(E),c[2],x),!isNaN(w)&&(!p||this.crossCheckDiagonal(Math.floor(E),Math.floor(w),c[2],x)))){const _=x/7;let L=!1;const W=this.possibleCenters;for(let re=0,le=W.length;re<le;re++){const xe=W[re];if(xe.aboutEquals(_,E,w)){W[re]=xe.combineEstimate(E,w,_),L=!0;break}}if(!L){const re=new cl(w,E,_);W.push(re),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(re)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let d=null;for(const f of this.possibleCenters)if(f.getCount()>=Mt.CENTER_QUORUM)if(d==null)d=f;else return this.hasSkipped=!0,Math.floor((Math.abs(d.getX()-f.getX())-Math.abs(d.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let c=0,d=0;const f=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=Mt.CENTER_QUORUM&&(c++,d+=w.getEstimatedModuleSize());if(c<3)return!1;const p=d/f;let x=0;for(const w of this.possibleCenters)x+=Math.abs(w.getEstimatedModuleSize()-p);return x<=.05*d}selectBestPatterns(){const c=this.possibleCenters.length;if(c<3)throw new Y;const d=this.possibleCenters;let f;if(c>3){let p=0,x=0;for(const _ of this.possibleCenters){const L=_.getEstimatedModuleSize();p+=L,x+=L*L}f=p/c;let w=Math.sqrt(x/c-f*f);d.sort((_,L)=>{const W=Math.abs(L.getEstimatedModuleSize()-f),re=Math.abs(_.getEstimatedModuleSize()-f);return W<re?-1:W>re?1:0});const E=Math.max(.2*f,w);for(let _=0;_<d.length&&d.length>3;_++){const L=d[_];Math.abs(L.getEstimatedModuleSize()-f)>E&&(d.splice(_,1),_--)}}if(d.length>3){let p=0;for(const x of d)p+=x.getEstimatedModuleSize();f=p/d.length,d.sort((x,w)=>{if(w.getCount()===x.getCount()){const E=Math.abs(w.getEstimatedModuleSize()-f),_=Math.abs(x.getEstimatedModuleSize()-f);return E<_?1:E>_?-1:0}else return w.getCount()-x.getCount()}),d.splice(3)}return[d[0],d[1],d[2]]}}Mt.CENTER_QUORUM=2,Mt.MIN_SKIP=3,Mt.MAX_MODULES=57;class Kc{constructor(c){this.image=c}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(c){this.resultPointCallback=c==null?null:c.get(V.NEED_RESULT_POINT_CALLBACK);const f=new Mt(this.image,this.resultPointCallback).find(c);return this.processFinderPatternInfo(f)}processFinderPatternInfo(c){const d=c.getTopLeft(),f=c.getTopRight(),p=c.getBottomLeft(),x=this.calculateModuleSize(d,f,p);if(x<1)throw new Y("No pattern found in proccess finder.");const w=Kc.computeDimension(d,f,p,x),E=_t.getProvisionalVersionForDimension(w),_=E.getDimensionForVersion()-7;let L=null;if(E.getAlignmentPatternCenters().length>0){const xe=f.getX()-d.getX()+p.getX(),Ne=f.getY()-d.getY()+p.getY(),Ee=1-3/_,Re=Math.floor(d.getX()+Ee*(xe-d.getX())),We=Math.floor(d.getY()+Ee*(Ne-d.getY()));for(let ot=4;ot<=16;ot<<=1)try{L=this.findAlignmentInRegion(x,Re,We,ot);break}catch(ht){if(!(ht instanceof Y))throw ht}}const W=Kc.createTransform(d,f,p,L,w),re=Kc.sampleGrid(this.image,W,w);let le;return L===null?le=[p,d,f]:le=[p,d,f,L],new Vt(re,le)}static createTransform(c,d,f,p,x){const w=x-3.5;let E,_,L,W;return p!==null?(E=p.getX(),_=p.getY(),L=w-3,W=L):(E=d.getX()-c.getX()+f.getX(),_=d.getY()-c.getY()+f.getY(),L=w,W=w),At.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,L,W,3.5,w,c.getX(),c.getY(),d.getX(),d.getY(),E,_,f.getX(),f.getY())}static sampleGrid(c,d,f){return St.getInstance().sampleGridWithTransform(c,f,f,d)}static computeDimension(c,d,f,p){const x=Qe.round(Ke.distance(c,d)/p),w=Qe.round(Ke.distance(c,f)/p);let E=Math.floor((x+w)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new Y("Dimensions could be not found.")}return E}calculateModuleSize(c,d,f){return(this.calculateModuleSizeOneWay(c,d)+this.calculateModuleSizeOneWay(c,f))/2}calculateModuleSizeOneWay(c,d){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(d.getX()),Math.floor(d.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(c.getX()),Math.floor(c.getY()));return isNaN(f)?p/7:isNaN(p)?f/7:(f+p)/14}sizeOfBlackWhiteBlackRunBothWays(c,d,f,p){let x=this.sizeOfBlackWhiteBlackRun(c,d,f,p),w=1,E=c-(f-c);E<0?(w=c/(c-E),E=0):E>=this.image.getWidth()&&(w=(this.image.getWidth()-1-c)/(E-c),E=this.image.getWidth()-1);let _=Math.floor(d-(p-d)*w);return w=1,_<0?(w=d/(d-_),_=0):_>=this.image.getHeight()&&(w=(this.image.getHeight()-1-d)/(_-d),_=this.image.getHeight()-1),E=Math.floor(c+(E-c)*w),x+=this.sizeOfBlackWhiteBlackRun(c,d,E,_),x-1}sizeOfBlackWhiteBlackRun(c,d,f,p){const x=Math.abs(p-d)>Math.abs(f-c);if(x){let xe=c;c=d,d=xe,xe=f,f=p,p=xe}const w=Math.abs(f-c),E=Math.abs(p-d);let _=-w/2;const L=c<f?1:-1,W=d<p?1:-1;let re=0;const le=f+L;for(let xe=c,Ne=d;xe!==le;xe+=L){const Ee=x?Ne:xe,Re=x?xe:Ne;if(re===1===this.image.get(Ee,Re)){if(re===2)return Qe.distance(xe,Ne,c,d);re++}if(_+=E,_>0){if(Ne===p)break;Ne+=W,_-=w}}return re===2?Qe.distance(f+L,p,c,d):NaN}findAlignmentInRegion(c,d,f,p){const x=Math.floor(p*c),w=Math.max(0,d-x),E=Math.min(this.image.getWidth()-1,d+x);if(E-w<c*3)throw new Y("Alignment top exceeds estimated module size.");const _=Math.max(0,f-x),L=Math.min(this.image.getHeight()-1,f+x);if(L-_<c*3)throw new Y("Alignment bottom exceeds estimated module size.");return new ZA(this.image,w,_,E-w,L-_,c,this.resultPointCallback).find()}}class Fo{constructor(){this.decoder=new Vc}getDecoder(){return this.decoder}decode(c,d){let f,p;if(d!=null&&d.get(V.PURE_BARCODE)!==void 0){const _=Fo.extractPureBits(c.getBlackMatrix());f=this.decoder.decodeBitMatrix(_,d),p=Fo.NO_POINTS}else{const _=new Kc(c.getBlackMatrix()).detect(d);f=this.decoder.decodeBitMatrix(_.getBits(),d),p=_.getPoints()}f.getOther()instanceof YA&&f.getOther().applyMirroredCorrection(p);const x=new ae(f.getText(),f.getRawBytes(),void 0,p,oe.QR_CODE,void 0),w=f.getByteSegments();w!==null&&x.putMetadata(Be.BYTE_SEGMENTS,w);const E=f.getECLevel();return E!==null&&x.putMetadata(Be.ERROR_CORRECTION_LEVEL,E),f.hasStructuredAppend()&&(x.putMetadata(Be.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),x.putMetadata(Be.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),x}reset(){}static extractPureBits(c){const d=c.getTopLeftOnBit(),f=c.getBottomRightOnBit();if(d===null||f===null)throw new Y;const p=this.moduleSize(d,c);let x=d[1],w=f[1],E=d[0],_=f[0];if(E>=_||x>=w)throw new Y;if(w-x!==_-E&&(_=E+(w-x),_>=c.getWidth()))throw new Y;const L=Math.round((_-E+1)/p),W=Math.round((w-x+1)/p);if(L<=0||W<=0)throw new Y;if(W!==L)throw new Y;const re=Math.floor(p/2);x+=re,E+=re;const le=E+Math.floor((L-1)*p)-_;if(le>0){if(le>re)throw new Y;E-=le}const xe=x+Math.floor((W-1)*p)-w;if(xe>0){if(xe>re)throw new Y;x-=xe}const Ne=new ne(L,W);for(let Ee=0;Ee<W;Ee++){const Re=x+Math.floor(Ee*p);for(let We=0;We<L;We++)c.get(E+Math.floor(We*p),Re)&&Ne.set(We,Ee)}return Ne}static moduleSize(c,d){const f=d.getHeight(),p=d.getWidth();let x=c[0],w=c[1],E=!0,_=0;for(;x<p&&w<f;){if(E!==d.get(x,w)){if(++_===5)break;E=!E}x++,w++}if(x===p||w===f)throw new Y;return(x-c[0])/7}}Fo.NO_POINTS=new Array;class ar{PDF417Common(){}static getBitCountSum(c){return Qe.sum(c)}static toIntArray(c){if(c==null||!c.length)return ar.EMPTY_INT_ARRAY;const d=new Int32Array(c.length);let f=0;for(const p of c)d[f++]=p;return d}static getCodeword(c){const d=N.binarySearch(ar.SYMBOL_TABLE,c&262143);return d<0?-1:(ar.CODEWORD_TABLE[d]-1)%ar.NUMBER_OF_CODEWORDS}}ar.NUMBER_OF_CODEWORDS=929,ar.MAX_CODEWORDS_IN_BARCODE=ar.NUMBER_OF_CODEWORDS-1,ar.MIN_ROWS_IN_BARCODE=3,ar.MAX_ROWS_IN_BARCODE=90,ar.MODULES_IN_CODEWORD=17,ar.MODULES_IN_STOP_PATTERN=18,ar.BARS_IN_MODULE=8,ar.EMPTY_INT_ARRAY=new Int32Array([]),ar.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ar.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class bm{constructor(c,d){this.bits=c,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class dr{static detectMultiple(c,d,f){let p=c.getBlackMatrix(),x=dr.detect(f,p);return x.length||(p=p.clone(),p.rotate180(),x=dr.detect(f,p)),new bm(p,x)}static detect(c,d){const f=new Array;let p=0,x=0,w=!1;for(;p<d.getHeight();){const E=dr.findVertices(d,p,x);if(E[0]==null&&E[3]==null){if(!w)break;w=!1,x=0;for(const _ of f)_[1]!=null&&(p=Math.trunc(Math.max(p,_[1].getY()))),_[3]!=null&&(p=Math.max(p,Math.trunc(_[3].getY())));p+=dr.ROW_STEP;continue}if(w=!0,f.push(E),!c)break;E[2]!=null?(x=Math.trunc(E[2].getX()),p=Math.trunc(E[2].getY())):(x=Math.trunc(E[4].getX()),p=Math.trunc(E[4].getY()))}return f}static findVertices(c,d,f){const p=c.getHeight(),x=c.getWidth(),w=new Array(8);return dr.copyToResult(w,dr.findRowsWithPattern(c,p,x,d,f,dr.START_PATTERN),dr.INDEXES_START_PATTERN),w[4]!=null&&(f=Math.trunc(w[4].getX()),d=Math.trunc(w[4].getY())),dr.copyToResult(w,dr.findRowsWithPattern(c,p,x,d,f,dr.STOP_PATTERN),dr.INDEXES_STOP_PATTERN),w}static copyToResult(c,d,f){for(let p=0;p<f.length;p++)c[f[p]]=d[p]}static findRowsWithPattern(c,d,f,p,x,w){const E=new Array(4);let _=!1;const L=new Int32Array(w.length);for(;p<d;p+=dr.ROW_STEP){let re=dr.findGuardPattern(c,x,p,f,!1,w,L);if(re!=null){for(;p>0;){const le=dr.findGuardPattern(c,x,--p,f,!1,w,L);if(le!=null)re=le;else{p++;break}}E[0]=new Ke(re[0],p),E[1]=new Ke(re[1],p),_=!0;break}}let W=p+1;if(_){let re=0,le=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;W<d;W++){const xe=dr.findGuardPattern(c,le[0],W,f,!1,w,L);if(xe!=null&&Math.abs(le[0]-xe[0])<dr.MAX_PATTERN_DRIFT&&Math.abs(le[1]-xe[1])<dr.MAX_PATTERN_DRIFT)le=xe,re=0;else{if(re>dr.SKIPPED_ROW_COUNT_MAX)break;re++}}W-=re+1,E[2]=new Ke(le[0],W),E[3]=new Ke(le[1],W)}return W-p<dr.BARCODE_MIN_HEIGHT&&N.fill(E,null),E}static findGuardPattern(c,d,f,p,x,w,E){N.fillWithin(E,0,E.length,0);let _=d,L=0;for(;c.get(_,f)&&_>0&&L++<dr.MAX_PIXEL_DRIFT;)_--;let W=_,re=0,le=w.length;for(let xe=x;W<p;W++)if(c.get(W,f)!==xe)E[re]++;else{if(re===le-1){if(dr.patternMatchVariance(E,w,dr.MAX_INDIVIDUAL_VARIANCE)<dr.MAX_AVG_VARIANCE)return new Int32Array([_,W]);_+=E[0]+E[1],C.arraycopy(E,2,E,0,re-1),E[re-1]=0,E[re]=0,re--}else re++;E[re]=1,xe=!xe}return re===le-1&&dr.patternMatchVariance(E,w,dr.MAX_INDIVIDUAL_VARIANCE)<dr.MAX_AVG_VARIANCE?new Int32Array([_,W-1]):null}static patternMatchVariance(c,d,f){let p=c.length,x=0,w=0;for(let L=0;L<p;L++)x+=c[L],w+=d[L];if(x<w)return 1/0;let E=x/w;f*=E;let _=0;for(let L=0;L<p;L++){let W=c[L],re=d[L]*E,le=W>re?W-re:re-W;if(le>f)return 1/0;_+=le}return _/x}}dr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),dr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),dr.MAX_AVG_VARIANCE=.42,dr.MAX_INDIVIDUAL_VARIANCE=.8,dr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),dr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),dr.MAX_PIXEL_DRIFT=3,dr.MAX_PATTERN_DRIFT=5,dr.SKIPPED_ROW_COUNT_MAX=25,dr.ROW_STEP=5,dr.BARCODE_MIN_HEIGHT=10;class kn{constructor(c,d){if(d.length===0)throw new m;this.field=c;let f=d.length;if(f>1&&d[0]===0){let p=1;for(;p<f&&d[p]===0;)p++;p===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-p),C.arraycopy(d,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);if(c===1){let p=0;for(let x of this.coefficients)p=this.field.add(p,x);return p}let d=this.coefficients[0],f=this.coefficients.length;for(let p=1;p<f;p++)d=this.field.add(this.field.multiply(c,d),this.coefficients[p]);return d}add(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return c;if(c.isZero())return this;let d=this.coefficients,f=c.coefficients;if(d.length>f.length){let w=d;d=f,f=w}let p=new Int32Array(f.length),x=f.length-d.length;C.arraycopy(f,0,p,0,x);for(let w=x;w<f.length;w++)p[w]=this.field.add(d[w-x],f[w]);return new kn(this.field,p)}subtract(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");return c.isZero()?this:this.add(c.negative())}multiply(c){return c instanceof kn?this.multiplyOther(c):this.multiplyScalar(c)}multiplyOther(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||c.isZero())return new kn(this.field,new Int32Array([0]));let d=this.coefficients,f=d.length,p=c.coefficients,x=p.length,w=new Int32Array(f+x-1);for(let E=0;E<f;E++){let _=d[E];for(let L=0;L<x;L++)w[E+L]=this.field.add(w[E+L],this.field.multiply(_,p[L]))}return new kn(this.field,w)}negative(){let c=this.coefficients.length,d=new Int32Array(c);for(let f=0;f<c;f++)d[f]=this.field.subtract(0,this.coefficients[f]);return new kn(this.field,d)}multiplyScalar(c){if(c===0)return new kn(this.field,new Int32Array([0]));if(c===1)return this;let d=this.coefficients.length,f=new Int32Array(d);for(let p=0;p<d;p++)f[p]=this.field.multiply(this.coefficients[p],c);return new kn(this.field,f)}multiplyByMonomial(c,d){if(c<0)throw new m;if(d===0)return new kn(this.field,new Int32Array([0]));let f=this.coefficients.length,p=new Int32Array(f+c);for(let x=0;x<f;x++)p[x]=this.field.multiply(this.coefficients[x],d);return new kn(this.field,p)}toString(){let c=new J;for(let d=this.getDegree();d>=0;d--){let f=this.getCoefficient(d);f!==0&&(f<0?(c.append(" - "),f=-f):c.length()>0&&c.append(" + "),(d===0||f!==1)&&c.append(f),d!==0&&(d===1?c.append("x"):(c.append("x^"),c.append(d))))}return c.toString()}}class Cm{add(c,d){return(c+d)%this.modulus}subtract(c,d){return(this.modulus+c-d)%this.modulus}exp(c){return this.expTable[c]}log(c){if(c===0)throw new m;return this.logTable[c]}inverse(c){if(c===0)throw new Oe;return this.expTable[this.modulus-this.logTable[c]-1]}multiply(c,d){return c===0||d===0?0:this.expTable[(this.logTable[c]+this.logTable[d])%(this.modulus-1)]}getSize(){return this.modulus}equals(c){return c===this}}class Hd extends Cm{constructor(c,d){super(),this.modulus=c,this.expTable=new Int32Array(c),this.logTable=new Int32Array(c);let f=1;for(let p=0;p<c;p++)this.expTable[p]=f,f=f*d%c;for(let p=0;p<c-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new kn(this,new Int32Array([0])),this.one=new kn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,d){if(c<0)throw new m;if(d===0)return this.zero;let f=new Int32Array(c+1);return f[0]=d,new kn(this,f)}}Hd.PDF417_GF=new Hd(ar.NUMBER_OF_CODEWORDS,3);class Gc{constructor(){this.field=Hd.PDF417_GF}decode(c,d,f){let p=new kn(this.field,c),x=new Int32Array(d),w=!1;for(let Ne=d;Ne>0;Ne--){let Ee=p.evaluateAt(this.field.exp(Ne));x[d-Ne]=Ee,Ee!==0&&(w=!0)}if(!w)return 0;let E=this.field.getOne();if(f!=null)for(const Ne of f){let Ee=this.field.exp(c.length-1-Ne),Re=new kn(this.field,new Int32Array([this.field.subtract(0,Ee),1]));E=E.multiply(Re)}let _=new kn(this.field,x),L=this.runEuclideanAlgorithm(this.field.buildMonomial(d,1),_,d),W=L[0],re=L[1],le=this.findErrorLocations(W),xe=this.findErrorMagnitudes(re,W,le);for(let Ne=0;Ne<le.length;Ne++){let Ee=c.length-1-this.field.log(le[Ne]);if(Ee<0)throw g.getChecksumInstance();c[Ee]=this.field.subtract(c[Ee],xe[Ne])}return le.length}runEuclideanAlgorithm(c,d,f){if(c.getDegree()<d.getDegree()){let le=c;c=d,d=le}let p=c,x=d,w=this.field.getZero(),E=this.field.getOne();for(;x.getDegree()>=Math.round(f/2);){let le=p,xe=w;if(p=x,w=E,p.isZero())throw g.getChecksumInstance();x=le;let Ne=this.field.getZero(),Ee=p.getCoefficient(p.getDegree()),Re=this.field.inverse(Ee);for(;x.getDegree()>=p.getDegree()&&!x.isZero();){let We=x.getDegree()-p.getDegree(),ot=this.field.multiply(x.getCoefficient(x.getDegree()),Re);Ne=Ne.add(this.field.buildMonomial(We,ot)),x=x.subtract(p.multiplyByMonomial(We,ot))}E=Ne.multiply(w).subtract(xe).negative()}let _=E.getCoefficient(0);if(_===0)throw g.getChecksumInstance();let L=this.field.inverse(_),W=E.multiply(L),re=x.multiply(L);return[W,re]}findErrorLocations(c){let d=c.getDegree(),f=new Int32Array(d),p=0;for(let x=1;x<this.field.getSize()&&p<d;x++)c.evaluateAt(x)===0&&(f[p]=this.field.inverse(x),p++);if(p!==d)throw g.getChecksumInstance();return f}findErrorMagnitudes(c,d,f){let p=d.getDegree(),x=new Int32Array(p);for(let L=1;L<=p;L++)x[p-L]=this.field.multiply(L,d.getCoefficient(L));let w=new kn(this.field,x),E=f.length,_=new Int32Array(E);for(let L=0;L<E;L++){let W=this.field.inverse(f[L]),re=this.field.subtract(0,c.evaluateAt(W)),le=this.field.inverse(w.evaluateAt(W));_[L]=this.field.multiply(re,le)}return _}}class Za{constructor(c,d,f,p,x){c instanceof Za?this.constructor_2(c):this.constructor_1(c,d,f,p,x)}constructor_1(c,d,f,p,x){const w=d==null||f==null,E=p==null||x==null;if(w&&E)throw new Y;w?(d=new Ke(0,p.getY()),f=new Ke(0,x.getY())):E&&(p=new Ke(c.getWidth()-1,d.getY()),x=new Ke(c.getWidth()-1,f.getY())),this.image=c,this.topLeft=d,this.bottomLeft=f,this.topRight=p,this.bottomRight=x,this.minX=Math.trunc(Math.min(d.getX(),f.getX())),this.maxX=Math.trunc(Math.max(p.getX(),x.getX())),this.minY=Math.trunc(Math.min(d.getY(),p.getY())),this.maxY=Math.trunc(Math.max(f.getY(),x.getY()))}constructor_2(c){this.image=c.image,this.topLeft=c.getTopLeft(),this.bottomLeft=c.getBottomLeft(),this.topRight=c.getTopRight(),this.bottomRight=c.getBottomRight(),this.minX=c.getMinX(),this.maxX=c.getMaxX(),this.minY=c.getMinY(),this.maxY=c.getMaxY()}static merge(c,d){return c==null?d:d==null?c:new Za(c.image,c.topLeft,c.bottomLeft,d.topRight,d.bottomRight)}addMissingRows(c,d,f){let p=this.topLeft,x=this.bottomLeft,w=this.topRight,E=this.bottomRight;if(c>0){let _=f?this.topLeft:this.topRight,L=Math.trunc(_.getY()-c);L<0&&(L=0);let W=new Ke(_.getX(),L);f?p=W:w=W}if(d>0){let _=f?this.bottomLeft:this.bottomRight,L=Math.trunc(_.getY()+d);L>=this.image.getHeight()&&(L=this.image.getHeight()-1);let W=new Ke(_.getX(),L);f?x=W:E=W}return new Za(this.image,p,x,w,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Wc{constructor(c,d,f,p){this.columnCount=c,this.errorCorrectionLevel=p,this.rowCountUpperPart=d,this.rowCountLowerPart=f,this.rowCount=d+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class jo{constructor(){this.buffer=""}static form(c,d){let f=-1;function p(w,E,_,L,W,re){if(w==="%%")return"%";if(d[++f]===void 0)return;w=L?parseInt(L.substr(1)):void 0;let le=W?parseInt(W.substr(1)):void 0,xe;switch(re){case"s":xe=d[f];break;case"c":xe=d[f][0];break;case"f":xe=parseFloat(d[f]).toFixed(w);break;case"p":xe=parseFloat(d[f]).toPrecision(w);break;case"e":xe=parseFloat(d[f]).toExponential(w);break;case"x":xe=parseInt(d[f]).toString(le||16);break;case"d":xe=parseFloat(parseInt(d[f],le||10).toPrecision(w)).toFixed(0);break}xe=typeof xe=="object"?JSON.stringify(xe):(+xe).toString(le);let Ne=parseInt(_),Ee=_&&_[0]+""=="0"?"0":" ";for(;xe.length<Ne;)xe=E!==void 0?xe+Ee:Ee+xe;return xe}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(x,p)}format(c,...d){this.buffer+=jo.form(c,d)}toString(){return this.buffer}}class _o{constructor(c){this.boundingBox=new Za(c),this.codewords=new Array(c.getMaxY()-c.getMinY()+1)}getCodewordNearby(c){let d=this.getCodeword(c);if(d!=null)return d;for(let f=1;f<_o.MAX_NEARBY_DISTANCE;f++){let p=this.imageRowToCodewordIndex(c)-f;if(p>=0&&(d=this.codewords[p],d!=null)||(p=this.imageRowToCodewordIndex(c)+f,p<this.codewords.length&&(d=this.codewords[p],d!=null)))return d}return null}imageRowToCodewordIndex(c){return c-this.boundingBox.getMinY()}setCodeword(c,d){this.codewords[this.imageRowToCodewordIndex(c)]=d}getCodeword(c){return this.codewords[this.imageRowToCodewordIndex(c)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const c=new jo;let d=0;for(const f of this.codewords){if(f==null){c.format("%3d:    |   %n",d++);continue}c.format("%3d: %3d|%3d%n",d++,f.getRowNumber(),f.getValue())}return c.toString()}}_o.MAX_NEARBY_DISTANCE=5;class zc{constructor(){this.values=new Map}setValue(c){c=Math.trunc(c);let d=this.values.get(c);d==null&&(d=0),d++,this.values.set(c,d)}getValue(){let c=-1,d=new Array;for(const[f,p]of this.values.entries()){const x={getKey:()=>f,getValue:()=>p};x.getValue()>c?(c=x.getValue(),d=[],d.push(x.getKey())):x.getValue()===c&&d.push(x.getKey())}return ar.toIntArray(d)}getConfidence(c){return this.values.get(c)}}class JA extends _o{constructor(c,d){super(c),this._isLeft=d}setRowNumbers(){for(let c of this.getCodewords())c!=null&&c.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(c){let d=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(d,c);let f=this.getBoundingBox(),p=this._isLeft?f.getTopLeft():f.getTopRight(),x=this._isLeft?f.getBottomLeft():f.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(p.getY())),E=this.imageRowToCodewordIndex(Math.trunc(x.getY())),_=-1,L=1,W=0;for(let re=w;re<E;re++){if(d[re]==null)continue;let le=d[re],xe=le.getRowNumber()-_;if(xe===0)W++;else if(xe===1)L=Math.max(L,W),W=1,_=le.getRowNumber();else if(xe<0||le.getRowNumber()>=c.getRowCount()||xe>re)d[re]=null;else{let Ne;L>2?Ne=(L-2)*xe:Ne=xe;let Ee=Ne>=re;for(let Re=1;Re<=Ne&&!Ee;Re++)Ee=d[re-Re]!=null;Ee?d[re]=null:(_=le.getRowNumber(),W=1)}}}getRowHeights(){let c=this.getBarcodeMetadata();if(c==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);let d=new Int32Array(c.getRowCount());for(let f of this.getCodewords())if(f!=null){let p=f.getRowNumber();if(p>=d.length)continue;d[p]++}return d}adjustIncompleteIndicatorColumnRowNumbers(c){let d=this.getBoundingBox(),f=this._isLeft?d.getTopLeft():d.getTopRight(),p=this._isLeft?d.getBottomLeft():d.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(f.getY())),w=this.imageRowToCodewordIndex(Math.trunc(p.getY())),E=this.getCodewords(),_=-1;for(let L=x;L<w;L++){if(E[L]==null)continue;let W=E[L];W.setRowNumberAsRowIndicatorColumn();let re=W.getRowNumber()-_;re===0||(re===1?_=W.getRowNumber():W.getRowNumber()>=c.getRowCount()?E[L]=null:_=W.getRowNumber())}}getBarcodeMetadata(){let c=this.getCodewords(),d=new zc,f=new zc,p=new zc,x=new zc;for(let E of c){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let _=E.getValue()%30,L=E.getRowNumber();switch(this._isLeft||(L+=2),L%3){case 0:f.setValue(_*3+1);break;case 1:x.setValue(_/3),p.setValue(_%3);break;case 2:d.setValue(_+1);break}}if(d.getValue().length===0||f.getValue().length===0||p.getValue().length===0||x.getValue().length===0||d.getValue()[0]<1||f.getValue()[0]+p.getValue()[0]<ar.MIN_ROWS_IN_BARCODE||f.getValue()[0]+p.getValue()[0]>ar.MAX_ROWS_IN_BARCODE)return null;let w=new Wc(d.getValue()[0],f.getValue()[0],p.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(c,w),w}removeIncorrectCodewords(c,d){for(let f=0;f<c.length;f++){let p=c[f];if(c[f]==null)continue;let x=p.getValue()%30,w=p.getRowNumber();if(w>d.getRowCount()){c[f]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:x*3+1!==d.getRowCountUpperPart()&&(c[f]=null);break;case 1:(Math.trunc(x/3)!==d.getErrorCorrectionLevel()||x%3!==d.getRowCountLowerPart())&&(c[f]=null);break;case 2:x+1!==d.getColumnCount()&&(c[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Al{constructor(c,d){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=c,this.barcodeColumnCount=c.getColumnCount(),this.boundingBox=d,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let c=ar.MAX_CODEWORDS_IN_BARCODE,d;do d=c,c=this.adjustRowNumbersAndGetCount();while(c>0&&c<d);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(c){c!=null&&c.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let c=this.adjustRowNumbersByRow();if(c===0)return 0;for(let d=1;d<this.barcodeColumnCount+1;d++){let f=this.detectionResultColumns[d].getCodewords();for(let p=0;p<f.length;p++)f[p]!=null&&(f[p].hasValidRowNumber()||this.adjustRowNumbers(d,p,f))}return c}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let c=this.detectionResultColumns[0].getCodewords(),d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<c.length;f++)if(c[f]!=null&&d[f]!=null&&c[f].getRowNumber()===d[f].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let x=this.detectionResultColumns[p].getCodewords()[f];x!=null&&(x.setRowNumber(c[f].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let c=0,d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<d.length;f++){if(d[f]==null)continue;let p=d[f].getRowNumber(),x=0;for(let w=this.barcodeColumnCount+1;w>0&&x<this.ADJUST_ROW_NUMBER_SKIP;w--){let E=this.detectionResultColumns[w].getCodewords()[f];E!=null&&(x=Al.adjustRowNumberIfValid(p,x,E),E.hasValidRowNumber()||c++)}}return c}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let c=0,d=this.detectionResultColumns[0].getCodewords();for(let f=0;f<d.length;f++){if(d[f]==null)continue;let p=d[f].getRowNumber(),x=0;for(let w=1;w<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;w++){let E=this.detectionResultColumns[w].getCodewords()[f];E!=null&&(x=Al.adjustRowNumberIfValid(p,x,E),E.hasValidRowNumber()||c++)}}return c}static adjustRowNumberIfValid(c,d,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(c)?(f.setRowNumber(c),d=0):++d),d}adjustRowNumbers(c,d,f){if(!this.detectionResultColumns[c-1])return;let p=f[d],x=this.detectionResultColumns[c-1].getCodewords(),w=x;this.detectionResultColumns[c+1]!=null&&(w=this.detectionResultColumns[c+1].getCodewords());let E=new Array(14);E[2]=x[d],E[3]=w[d],d>0&&(E[0]=f[d-1],E[4]=x[d-1],E[5]=w[d-1]),d>1&&(E[8]=f[d-2],E[10]=x[d-2],E[11]=w[d-2]),d<f.length-1&&(E[1]=f[d+1],E[6]=x[d+1],E[7]=w[d+1]),d<f.length-2&&(E[9]=f[d+2],E[12]=x[d+2],E[13]=w[d+2]);for(let _ of E)if(Al.adjustRowNumber(p,_))return}static adjustRowNumber(c,d){return d==null?!1:d.hasValidRowNumber()&&d.getBucket()===c.getBucket()?(c.setRowNumber(d.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(c){this.boundingBox=c}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(c,d){this.detectionResultColumns[c]=d}getDetectionResultColumn(c){return this.detectionResultColumns[c]}toString(){let c=this.detectionResultColumns[0];c==null&&(c=this.detectionResultColumns[this.barcodeColumnCount+1]);let d=new jo;for(let f=0;f<c.getCodewords().length;f++){d.format("CW %3d:",f);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){d.format("    |   ");continue}let x=this.detectionResultColumns[p].getCodewords()[f];if(x==null){d.format("    |   ");continue}d.format(" %3d|%3d",x.getRowNumber(),x.getValue())}d.format("%n")}return d.toString()}}class Ja{constructor(c,d,f,p){this.rowNumber=Ja.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(c),this.endX=Math.trunc(d),this.bucket=Math.trunc(f),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(c){return c!==Ja.BARCODE_ROW_UNKNOWN&&this.bucket===c%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(c){this.rowNumber=c}toString(){return this.rowNumber+"|"+this.value}}Ja.BARCODE_ROW_UNKNOWN=-1;class gs{static initialize(){for(let c=0;c<ar.SYMBOL_TABLE.length;c++){let d=ar.SYMBOL_TABLE[c],f=d&1;for(let p=0;p<ar.BARS_IN_MODULE;p++){let x=0;for(;(d&1)===f;)x+=1,d>>=1;f=d&1,gs.RATIOS_TABLE[c]||(gs.RATIOS_TABLE[c]=new Array(ar.BARS_IN_MODULE)),gs.RATIOS_TABLE[c][ar.BARS_IN_MODULE-p-1]=Math.fround(x/ar.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(c){let d=gs.getDecodedCodewordValue(gs.sampleBitCounts(c));return d!==-1?d:gs.getClosestDecodedValue(c)}static sampleBitCounts(c){let d=Qe.sum(c),f=new Int32Array(ar.BARS_IN_MODULE),p=0,x=0;for(let w=0;w<ar.MODULES_IN_CODEWORD;w++){let E=d/(2*ar.MODULES_IN_CODEWORD)+w*d/ar.MODULES_IN_CODEWORD;x+c[p]<=E&&(x+=c[p],p++),f[p]++}return f}static getDecodedCodewordValue(c){let d=gs.getBitValue(c);return ar.getCodeword(d)===-1?-1:d}static getBitValue(c){let d=0;for(let f=0;f<c.length;f++)for(let p=0;p<c[f];p++)d=d<<1|(f%2===0?1:0);return Math.trunc(d)}static getClosestDecodedValue(c){let d=Qe.sum(c),f=new Array(ar.BARS_IN_MODULE);if(d>1)for(let w=0;w<f.length;w++)f[w]=Math.fround(c[w]/d);let p=vt.MAX_VALUE,x=-1;this.bSymbolTableReady||gs.initialize();for(let w=0;w<gs.RATIOS_TABLE.length;w++){let E=0,_=gs.RATIOS_TABLE[w];for(let L=0;L<ar.BARS_IN_MODULE;L++){let W=Math.fround(_[L]-f[L]);if(E+=Math.fround(W*W),E>=p)break}E<p&&(p=E,x=ar.SYMBOL_TABLE[w])}return x}}gs.bSymbolTableReady=!1,gs.RATIOS_TABLE=new Array(ar.SYMBOL_TABLE.length).map(te=>new Array(ar.BARS_IN_MODULE));class eu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(c){this.segmentIndex=c}getFileId(){return this.fileId}setFileId(c){this.fileId=c}getOptionalData(){return this.optionalData}setOptionalData(c){this.optionalData=c}isLastSegment(){return this.lastSegment}setLastSegment(c){this.lastSegment=c}getSegmentCount(){return this.segmentCount}setSegmentCount(c){this.segmentCount=c}getSender(){return this.sender||null}setSender(c){this.sender=c}getAddressee(){return this.addressee||null}setAddressee(c){this.addressee=c}getFileName(){return this.fileName}setFileName(c){this.fileName=c}getFileSize(){return this.fileSize}setFileSize(c){this.fileSize=c}getChecksum(){return this.checksum}setChecksum(c){this.checksum=c}getTimestamp(){return this.timestamp}setTimestamp(c){this.timestamp=c}}class $c{static parseLong(c,d=void 0){return parseInt(c,d)}}class tu extends u{}tu.kind="NullPointerException";class qc{writeBytes(c){this.writeBytesOffset(c,0,c.length)}writeBytesOffset(c,d,f){if(c==null)throw new tu;if(d<0||d>c.length||f<0||d+f>c.length||d+f<0)throw new I;if(f===0)return;for(let p=0;p<f;p++)this.write(c[d+p])}flush(){}close(){}}class Vd extends u{}class Kd extends qc{constructor(c=32){if(super(),this.count=0,c<0)throw new m("Negative initial size: "+c);this.buf=new Uint8Array(c)}ensureCapacity(c){c-this.buf.length>0&&this.grow(c)}grow(c){let f=this.buf.length<<1;if(f-c<0&&(f=c),f<0){if(c<0)throw new Vd;f=F.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,f)}write(c){this.ensureCapacity(this.count+1),this.buf[this.count]=c,this.count+=1}writeBytesOffset(c,d,f){if(d<0||d>c.length||f<0||d+f-c.length>0)throw new I;this.ensureCapacity(this.count+f),C.arraycopy(c,d,this.buf,this.count,f),this.count+=f}writeTo(c){c.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(c){return c?typeof c=="string"?this.toString_string(c):this.toString_number(c):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(c){return new String(this.buf).toString()}toString_number(c){return new String(this.buf).toString()}close(){}}var Sr;(function(te){te[te.ALPHA=0]="ALPHA",te[te.LOWER=1]="LOWER",te[te.MIXED=2]="MIXED",te[te.PUNCT=3]="PUNCT",te[te.ALPHA_SHIFT=4]="ALPHA_SHIFT",te[te.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Sr||(Sr={}));function eo(){if(typeof window<"u")return window.BigInt||null;if(typeof Tf<"u")return Tf.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let O;function se(te){if(typeof O>"u"&&(O=eo()),O===null)throw new Error("BigInt is not supported!");return O(te)}function we(){let te=[];te[0]=se(1);let c=se(900);te[1]=c;for(let d=2;d<16;d++)te[d]=te[d-1]*c;return te}class Ae{static decode(c,d){let f=new J(""),p=k.ISO8859_1;f.enableDecoding(p);let x=1,w=c[x++],E=new eu;for(;x<c[0];){switch(w){case Ae.TEXT_COMPACTION_MODE_LATCH:x=Ae.textCompaction(c,x,f);break;case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:x=Ae.byteCompaction(w,c,p,x,f);break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(c[x++]);break;case Ae.NUMERIC_COMPACTION_MODE_LATCH:x=Ae.numericCompaction(c,x,f);break;case Ae.ECI_CHARSET:k.getCharacterSetECIByValue(c[x++]);break;case Ae.ECI_GENERAL_PURPOSE:x+=2;break;case Ae.ECI_USER_DEFINED:x++;break;case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=Ae.decodeMacroBlock(c,x,E);break;case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:throw new P;default:x--,x=Ae.textCompaction(c,x,f);break}if(x<c.length)w=c[x++];else throw P.getFormatInstance()}if(f.length()===0)throw P.getFormatInstance();let _=new _e(null,f.toString(),null,d);return _.setOther(E),_}static decodeMacroBlock(c,d,f){if(d+Ae.NUMBER_OF_SEQUENCE_CODEWORDS>c[0])throw P.getFormatInstance();let p=new Int32Array(Ae.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<Ae.NUMBER_OF_SEQUENCE_CODEWORDS;E++,d++)p[E]=c[d];f.setSegmentIndex(F.parseInt(Ae.decodeBase900toBase10(p,Ae.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new J;d=Ae.textCompaction(c,d,x),f.setFileId(x.toString());let w=-1;for(c[d]===Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=d+1);d<c[0];)switch(c[d]){case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(d++,c[d]){case Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new J;d=Ae.textCompaction(c,d+1,E),f.setFileName(E.toString());break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let _=new J;d=Ae.textCompaction(c,d+1,_),f.setSender(_.toString());break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let L=new J;d=Ae.textCompaction(c,d+1,L),f.setAddressee(L.toString());break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let W=new J;d=Ae.numericCompaction(c,d+1,W),f.setSegmentCount(F.parseInt(W.toString()));break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let re=new J;d=Ae.numericCompaction(c,d+1,re),f.setTimestamp($c.parseLong(re.toString()));break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let le=new J;d=Ae.numericCompaction(c,d+1,le),f.setChecksum(F.parseInt(le.toString()));break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let xe=new J;d=Ae.numericCompaction(c,d+1,xe),f.setFileSize($c.parseLong(xe.toString()));break;default:throw P.getFormatInstance()}break;case Ae.MACRO_PDF417_TERMINATOR:d++,f.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(w!==-1){let E=d-w;f.isLastSegment()&&E--,f.setOptionalData(N.copyOfRange(c,w,w+E))}return d}static textCompaction(c,d,f){let p=new Int32Array((c[0]-d)*2),x=new Int32Array((c[0]-d)*2),w=0,E=!1;for(;d<c[0]&&!E;){let _=c[d++];if(_<Ae.TEXT_COMPACTION_MODE_LATCH)p[w]=_/30,p[w+1]=_%30,w+=2;else switch(_){case Ae.TEXT_COMPACTION_MODE_LATCH:p[w++]=Ae.TEXT_COMPACTION_MODE_LATCH;break;case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.NUMERIC_COMPACTION_MODE_LATCH:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:d--,E=!0;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[w]=Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=c[d++],x[w]=_,w++;break}}return Ae.decodeTextCompaction(p,x,w,f),d}static decodeTextCompaction(c,d,f,p){let x=Sr.ALPHA,w=Sr.ALPHA,E=0;for(;E<f;){let _=c[E],L="";switch(x){case Sr.ALPHA:if(_<26)L=String.fromCharCode(65+_);else switch(_){case 26:L=" ";break;case Ae.LL:x=Sr.LOWER;break;case Ae.ML:x=Sr.MIXED;break;case Ae.PS:w=x,x=Sr.PUNCT_SHIFT;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(d[E]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=Sr.ALPHA;break}break;case Sr.LOWER:if(_<26)L=String.fromCharCode(97+_);else switch(_){case 26:L=" ";break;case Ae.AS:w=x,x=Sr.ALPHA_SHIFT;break;case Ae.ML:x=Sr.MIXED;break;case Ae.PS:w=x,x=Sr.PUNCT_SHIFT;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(d[E]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=Sr.ALPHA;break}break;case Sr.MIXED:if(_<Ae.PL)L=Ae.MIXED_CHARS[_];else switch(_){case Ae.PL:x=Sr.PUNCT;break;case 26:L=" ";break;case Ae.LL:x=Sr.LOWER;break;case Ae.AL:x=Sr.ALPHA;break;case Ae.PS:w=x,x=Sr.PUNCT_SHIFT;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(d[E]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=Sr.ALPHA;break}break;case Sr.PUNCT:if(_<Ae.PAL)L=Ae.PUNCT_CHARS[_];else switch(_){case Ae.PAL:x=Sr.ALPHA;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(d[E]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=Sr.ALPHA;break}break;case Sr.ALPHA_SHIFT:if(x=w,_<26)L=String.fromCharCode(65+_);else switch(_){case 26:L=" ";break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=Sr.ALPHA;break}break;case Sr.PUNCT_SHIFT:if(x=w,_<Ae.PAL)L=Ae.PUNCT_CHARS[_];else switch(_){case Ae.PAL:x=Sr.ALPHA;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(d[E]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:x=Sr.ALPHA;break}break}L!==""&&p.append(L),E++}}static byteCompaction(c,d,f,p,x){let w=new Kd,E=0,_=0,L=!1;switch(c){case Ae.BYTE_COMPACTION_MODE_LATCH:let W=new Int32Array(6),re=d[p++];for(;p<d[0]&&!L;)switch(W[E++]=re,_=900*_+re,re=d[p++],re){case Ae.TEXT_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.NUMERIC_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:p--,L=!0;break;default:if(E%5===0&&E>0){for(let le=0;le<6;++le)w.write(Number(se(_)>>se(8*(5-le))));_=0,E=0}break}p===d[0]&&re<Ae.TEXT_COMPACTION_MODE_LATCH&&(W[E++]=re);for(let le=0;le<E;le++)w.write(W[le]);break;case Ae.BYTE_COMPACTION_MODE_LATCH_6:for(;p<d[0]&&!L;){let le=d[p++];if(le<Ae.TEXT_COMPACTION_MODE_LATCH)E++,_=900*_+le;else switch(le){case Ae.TEXT_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.NUMERIC_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:p--,L=!0;break}if(E%5===0&&E>0){for(let xe=0;xe<6;++xe)w.write(Number(se(_)>>se(8*(5-xe))));_=0,E=0}}break}return x.append(R.decode(w.toByteArray(),f)),p}static numericCompaction(c,d,f){let p=0,x=!1,w=new Int32Array(Ae.MAX_NUMERIC_CODEWORDS);for(;d<c[0]&&!x;){let E=c[d++];if(d===c[0]&&(x=!0),E<Ae.TEXT_COMPACTION_MODE_LATCH)w[p]=E,p++;else switch(E){case Ae.TEXT_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:d--,x=!0;break}(p%Ae.MAX_NUMERIC_CODEWORDS===0||E===Ae.NUMERIC_COMPACTION_MODE_LATCH||x)&&p>0&&(f.append(Ae.decodeBase900toBase10(w,p)),p=0)}return d}static decodeBase900toBase10(c,d){let f=se(0);for(let x=0;x<d;x++)f+=Ae.EXP900[d-x-1]*se(c[x]);let p=f.toString();if(p.charAt(0)!=="1")throw new P;return p.substring(1)}}Ae.TEXT_COMPACTION_MODE_LATCH=900,Ae.BYTE_COMPACTION_MODE_LATCH=901,Ae.NUMERIC_COMPACTION_MODE_LATCH=902,Ae.BYTE_COMPACTION_MODE_LATCH_6=924,Ae.ECI_USER_DEFINED=925,Ae.ECI_GENERAL_PURPOSE=926,Ae.ECI_CHARSET=927,Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ae.MACRO_PDF417_TERMINATOR=922,Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ae.MAX_NUMERIC_CODEWORDS=15,Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ae.PL=25,Ae.LL=27,Ae.AS=27,Ae.ML=28,Ae.AL=28,Ae.PS=29,Ae.PAL=29,Ae.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ae.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ae.EXP900=eo()?we():[],Ae.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ie{constructor(){}static decode(c,d,f,p,x,w,E){let _=new Za(c,d,f,p,x),L=null,W=null,re;for(let Ne=!0;;Ne=!1){if(d!=null&&(L=Ie.getRowIndicatorColumn(c,_,d,!0,w,E)),p!=null&&(W=Ie.getRowIndicatorColumn(c,_,p,!1,w,E)),re=Ie.merge(L,W),re==null)throw Y.getNotFoundInstance();let Ee=re.getBoundingBox();if(Ne&&Ee!=null&&(Ee.getMinY()<_.getMinY()||Ee.getMaxY()>_.getMaxY()))_=Ee;else break}re.setBoundingBox(_);let le=re.getBarcodeColumnCount()+1;re.setDetectionResultColumn(0,L),re.setDetectionResultColumn(le,W);let xe=L!=null;for(let Ne=1;Ne<=le;Ne++){let Ee=xe?Ne:le-Ne;if(re.getDetectionResultColumn(Ee)!==void 0)continue;let Re;Ee===0||Ee===le?Re=new JA(_,Ee===0):Re=new _o(_),re.setDetectionResultColumn(Ee,Re);let We=-1,ot=We;for(let ht=_.getMinY();ht<=_.getMaxY();ht++){if(We=Ie.getStartColumn(re,Ee,ht,xe),We<0||We>_.getMaxX()){if(ot===-1)continue;We=ot}let lt=Ie.detectCodeword(c,_.getMinX(),_.getMaxX(),xe,We,ht,w,E);lt!=null&&(Re.setCodeword(ht,lt),ot=We,w=Math.min(w,lt.getWidth()),E=Math.max(E,lt.getWidth()))}}return Ie.createDecoderResult(re)}static merge(c,d){if(c==null&&d==null)return null;let f=Ie.getBarcodeMetadata(c,d);if(f==null)return null;let p=Za.merge(Ie.adjustBoundingBox(c),Ie.adjustBoundingBox(d));return new Al(f,p)}static adjustBoundingBox(c){if(c==null)return null;let d=c.getRowHeights();if(d==null)return null;let f=Ie.getMax(d),p=0;for(let E of d)if(p+=f-E,E>0)break;let x=c.getCodewords();for(let E=0;p>0&&x[E]==null;E++)p--;let w=0;for(let E=d.length-1;E>=0&&(w+=f-d[E],!(d[E]>0));E--);for(let E=x.length-1;w>0&&x[E]==null;E--)w--;return c.getBoundingBox().addMissingRows(p,w,c.isLeft())}static getMax(c){let d=-1;for(let f of c)d=Math.max(d,f);return d}static getBarcodeMetadata(c,d){let f;if(c==null||(f=c.getBarcodeMetadata())==null)return d==null?null:d.getBarcodeMetadata();let p;return d==null||(p=d.getBarcodeMetadata())==null?f:f.getColumnCount()!==p.getColumnCount()&&f.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&f.getRowCount()!==p.getRowCount()?null:f}static getRowIndicatorColumn(c,d,f,p,x,w){let E=new JA(d,p);for(let _=0;_<2;_++){let L=_===0?1:-1,W=Math.trunc(Math.trunc(f.getX()));for(let re=Math.trunc(Math.trunc(f.getY()));re<=d.getMaxY()&&re>=d.getMinY();re+=L){let le=Ie.detectCodeword(c,0,c.getWidth(),p,W,re,x,w);le!=null&&(E.setCodeword(re,le),p?W=le.getStartX():W=le.getEndX())}}return E}static adjustCodewordCount(c,d){let f=d[0][1],p=f.getValue(),x=c.getBarcodeColumnCount()*c.getBarcodeRowCount()-Ie.getNumberOfECCodeWords(c.getBarcodeECLevel());if(p.length===0){if(x<1||x>ar.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();f.setValue(x)}else p[0]!==x&&f.setValue(x)}static createDecoderResult(c){let d=Ie.createBarcodeMatrix(c);Ie.adjustCodewordCount(c,d);let f=new Array,p=new Int32Array(c.getBarcodeRowCount()*c.getBarcodeColumnCount()),x=[],w=new Array;for(let _=0;_<c.getBarcodeRowCount();_++)for(let L=0;L<c.getBarcodeColumnCount();L++){let W=d[_][L+1].getValue(),re=_*c.getBarcodeColumnCount()+L;W.length===0?f.push(re):W.length===1?p[re]=W[0]:(w.push(re),x.push(W))}let E=new Array(x.length);for(let _=0;_<E.length;_++)E[_]=x[_];return Ie.createDecoderResultFromAmbiguousValues(c.getBarcodeECLevel(),p,ar.toIntArray(f),ar.toIntArray(w),E)}static createDecoderResultFromAmbiguousValues(c,d,f,p,x){let w=new Int32Array(p.length),E=100;for(;E-- >0;){for(let _=0;_<w.length;_++)d[p[_]]=x[_][w[_]];try{return Ie.decodeCodewords(d,c,f)}catch(_){if(!(_ instanceof g))throw _}if(w.length===0)throw g.getChecksumInstance();for(let _=0;_<w.length;_++)if(w[_]<x[_].length-1){w[_]++;break}else if(w[_]=0,_===w.length-1)throw g.getChecksumInstance()}throw g.getChecksumInstance()}static createBarcodeMatrix(c){let d=Array.from({length:c.getBarcodeRowCount()},()=>new Array(c.getBarcodeColumnCount()+2));for(let p=0;p<d.length;p++)for(let x=0;x<d[p].length;x++)d[p][x]=new zc;let f=0;for(let p of c.getDetectionResultColumns()){if(p!=null){for(let x of p.getCodewords())if(x!=null){let w=x.getRowNumber();if(w>=0){if(w>=d.length)continue;d[w][f].setValue(x.getValue())}}}f++}return d}static isValidBarcodeColumn(c,d){return d>=0&&d<=c.getBarcodeColumnCount()+1}static getStartColumn(c,d,f,p){let x=p?1:-1,w=null;if(Ie.isValidBarcodeColumn(c,d-x)&&(w=c.getDetectionResultColumn(d-x).getCodeword(f)),w!=null)return p?w.getEndX():w.getStartX();if(w=c.getDetectionResultColumn(d).getCodewordNearby(f),w!=null)return p?w.getStartX():w.getEndX();if(Ie.isValidBarcodeColumn(c,d-x)&&(w=c.getDetectionResultColumn(d-x).getCodewordNearby(f)),w!=null)return p?w.getEndX():w.getStartX();let E=0;for(;Ie.isValidBarcodeColumn(c,d-x);){d-=x;for(let _ of c.getDetectionResultColumn(d).getCodewords())if(_!=null)return(p?_.getEndX():_.getStartX())+x*E*(_.getEndX()-_.getStartX());E++}return p?c.getBoundingBox().getMinX():c.getBoundingBox().getMaxX()}static detectCodeword(c,d,f,p,x,w,E,_){x=Ie.adjustCodewordStartColumn(c,d,f,p,x,w);let L=Ie.getModuleBitCount(c,d,f,p,x,w);if(L==null)return null;let W,re=Qe.sum(L);if(p)W=x+re;else{for(let Ne=0;Ne<L.length/2;Ne++){let Ee=L[Ne];L[Ne]=L[L.length-1-Ne],L[L.length-1-Ne]=Ee}W=x,x=W-re}if(!Ie.checkCodewordSkew(re,E,_))return null;let le=gs.getDecodedValue(L),xe=ar.getCodeword(le);return xe===-1?null:new Ja(x,W,Ie.getCodewordBucketNumber(le),xe)}static getModuleBitCount(c,d,f,p,x,w){let E=x,_=new Int32Array(8),L=0,W=p?1:-1,re=p;for(;(p?E<f:E>=d)&&L<_.length;)c.get(E,w)===re?(_[L]++,E+=W):(L++,re=!re);return L===_.length||E===(p?f:d)&&L===_.length-1?_:null}static getNumberOfECCodeWords(c){return 2<<c}static adjustCodewordStartColumn(c,d,f,p,x,w){let E=x,_=p?-1:1;for(let L=0;L<2;L++){for(;(p?E>=d:E<f)&&p===c.get(E,w);){if(Math.abs(x-E)>Ie.CODEWORD_SKEW_SIZE)return x;E+=_}_=-_,p=!p}return E}static checkCodewordSkew(c,d,f){return d-Ie.CODEWORD_SKEW_SIZE<=c&&c<=f+Ie.CODEWORD_SKEW_SIZE}static decodeCodewords(c,d,f){if(c.length===0)throw P.getFormatInstance();let p=1<<d+1,x=Ie.correctErrors(c,f,p);Ie.verifyCodewordCount(c,p);let w=Ae.decode(c,""+d);return w.setErrorsCorrected(x),w.setErasures(f.length),w}static correctErrors(c,d,f){if(d!=null&&d.length>f/2+Ie.MAX_ERRORS||f<0||f>Ie.MAX_EC_CODEWORDS)throw g.getChecksumInstance();return Ie.errorCorrection.decode(c,f,d)}static verifyCodewordCount(c,d){if(c.length<4)throw P.getFormatInstance();let f=c[0];if(f>c.length)throw P.getFormatInstance();if(f===0)if(d<c.length)c[0]=c.length-d;else throw P.getFormatInstance()}static getBitCountForCodeword(c){let d=new Int32Array(8),f=0,p=d.length-1;for(;!((c&1)!==f&&(f=c&1,p--,p<0));)d[p]++,c>>=1;return d}static getCodewordBucketNumber(c){return c instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(c):this.getCodewordBucketNumber_number(c)}static getCodewordBucketNumber_number(c){return Ie.getCodewordBucketNumber(Ie.getBitCountForCodeword(c))}static getCodewordBucketNumber_Int32Array(c){return(c[0]-c[2]+c[4]-c[6]+9)%9}static toString(c){let d=new jo;for(let f=0;f<c.length;f++){d.format("Row %2d: ",f);for(let p=0;p<c[f].length;p++){let x=c[f][p];x.getValue().length===0?d.format("        ",null):d.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}d.format("%n")}return d.toString()}}Ie.CODEWORD_SKEW_SIZE=2,Ie.MAX_ERRORS=3,Ie.MAX_EC_CODEWORDS=512,Ie.errorCorrection=new Gc;class ze{decode(c,d=null){let f=ze.decode(c,d,!1);if(f==null||f.length===0||f[0]==null)throw Y.getNotFoundInstance();return f[0]}decodeMultiple(c,d=null){try{return ze.decode(c,d,!0)}catch(f){throw f instanceof P||f instanceof g?Y.getNotFoundInstance():f}}static decode(c,d,f){const p=new Array,x=dr.detectMultiple(c,d,f);for(const w of x.getPoints()){const E=Ie.decode(x.getBits(),w[4],w[5],w[6],w[7],ze.getMinCodewordWidth(w),ze.getMaxCodewordWidth(w)),_=new ae(E.getText(),E.getRawBytes(),void 0,w,oe.PDF_417);_.putMetadata(Be.ERROR_CORRECTION_LEVEL,E.getECLevel());const L=E.getOther();L!=null&&_.putMetadata(Be.PDF417_EXTRA_METADATA,L),p.push(_)}return p.map(w=>w)}static getMaxWidth(c,d){return c==null||d==null?0:Math.trunc(Math.abs(c.getX()-d.getX()))}static getMinWidth(c,d){return c==null||d==null?F.MAX_VALUE:Math.trunc(Math.abs(c.getX()-d.getX()))}static getMaxCodewordWidth(c){return Math.floor(Math.max(Math.max(ze.getMaxWidth(c[0],c[4]),ze.getMaxWidth(c[6],c[2])*ar.MODULES_IN_CODEWORD/ar.MODULES_IN_STOP_PATTERN),Math.max(ze.getMaxWidth(c[1],c[5]),ze.getMaxWidth(c[7],c[3])*ar.MODULES_IN_CODEWORD/ar.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(c){return Math.floor(Math.min(Math.min(ze.getMinWidth(c[0],c[4]),ze.getMinWidth(c[6],c[2])*ar.MODULES_IN_CODEWORD/ar.MODULES_IN_STOP_PATTERN),Math.min(ze.getMinWidth(c[1],c[5]),ze.getMinWidth(c[7],c[3])*ar.MODULES_IN_CODEWORD/ar.MODULES_IN_STOP_PATTERN)))}reset(){}}class rt extends u{}rt.kind="ReaderException";class Ot{constructor(c,d){this.verbose=c===!0,d&&this.setHints(d)}decode(c,d){return d&&this.setHints(d),this.decodeInternal(c)}decodeWithState(c){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(c)}setHints(c){this.hints=c;const d=!n(c)&&c.get(V.TRY_HARDER)===!0,f=n(c)?null:c.get(V.POSSIBLE_FORMATS),p=new Array;if(!n(f)){const x=f.some(w=>w===oe.UPC_A||w===oe.UPC_E||w===oe.EAN_13||w===oe.EAN_8||w===oe.CODABAR||w===oe.CODE_39||w===oe.CODE_93||w===oe.CODE_128||w===oe.ITF||w===oe.RSS_14||w===oe.RSS_EXPANDED);x&&!d&&p.push(new ol(c,this.verbose)),f.includes(oe.QR_CODE)&&p.push(new Fo),f.includes(oe.DATA_MATRIX)&&p.push(new Us),f.includes(oe.AZTEC)&&p.push(new Bt),f.includes(oe.PDF_417)&&p.push(new ze),x&&d&&p.push(new ol(c,this.verbose))}p.length===0&&(d||p.push(new ol(c,this.verbose)),p.push(new Fo),p.push(new Us),p.push(new Bt),p.push(new ze),d&&p.push(new ol(c,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const c of this.readers)c.reset()}decodeInternal(c){if(this.readers===null)throw new rt("No readers where selected, nothing can be read.");for(const d of this.readers)try{return d.decode(c,this.hints)}catch(f){if(f instanceof rt)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class Kt extends Z{constructor(c=null,d=500){const f=new Ot;f.setHints(c),super(f,d)}decodeBitmap(c){return this.reader.decodeWithState(c)}}class mr extends Z{constructor(c=500){super(new ze,c)}}class br extends Z{constructor(c=500){super(new Fo,c)}}var zr;(function(te){te[te.ERROR_CORRECTION=0]="ERROR_CORRECTION",te[te.CHARACTER_SET=1]="CHARACTER_SET",te[te.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",te[te.MIN_SIZE=3]="MIN_SIZE",te[te.MAX_SIZE=4]="MAX_SIZE",te[te.MARGIN=5]="MARGIN",te[te.PDF417_COMPACT=6]="PDF417_COMPACT",te[te.PDF417_COMPACTION=7]="PDF417_COMPACTION",te[te.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",te[te.AZTEC_LAYERS=9]="AZTEC_LAYERS",te[te.QR_VERSION=10]="QR_VERSION"})(zr||(zr={}));var Br=zr;class rs{constructor(c){this.field=c,this.cachedGenerators=[],this.cachedGenerators.push(new ke(c,Int32Array.from([1])))}buildGenerator(c){const d=this.cachedGenerators;if(c>=d.length){let f=d[d.length-1];const p=this.field;for(let x=d.length;x<=c;x++){const w=f.multiply(new ke(p,Int32Array.from([1,p.exp(x-1+p.getGeneratorBase())])));d.push(w),f=w}}return d[c]}encode(c,d){if(d===0)throw new m("No error correction bytes");const f=c.length-d;if(f<=0)throw new m("No data bytes provided");const p=this.buildGenerator(d),x=new Int32Array(f);C.arraycopy(c,0,x,0,f);let w=new ke(this.field,x);w=w.multiplyByMonomial(d,1);const _=w.divide(p)[1].getCoefficients(),L=d-_.length;for(let W=0;W<L;W++)c[f+W]=0;C.arraycopy(_,0,c,f+L,_.length)}}class ur{constructor(){}static applyMaskPenaltyRule1(c){return ur.applyMaskPenaltyRule1Internal(c,!0)+ur.applyMaskPenaltyRule1Internal(c,!1)}static applyMaskPenaltyRule2(c){let d=0;const f=c.getArray(),p=c.getWidth(),x=c.getHeight();for(let w=0;w<x-1;w++){const E=f[w];for(let _=0;_<p-1;_++){const L=E[_];L===E[_+1]&&L===f[w+1][_]&&L===f[w+1][_+1]&&d++}}return ur.N2*d}static applyMaskPenaltyRule3(c){let d=0;const f=c.getArray(),p=c.getWidth(),x=c.getHeight();for(let w=0;w<x;w++)for(let E=0;E<p;E++){const _=f[w];E+6<p&&_[E]===1&&_[E+1]===0&&_[E+2]===1&&_[E+3]===1&&_[E+4]===1&&_[E+5]===0&&_[E+6]===1&&(ur.isWhiteHorizontal(_,E-4,E)||ur.isWhiteHorizontal(_,E+7,E+11))&&d++,w+6<x&&f[w][E]===1&&f[w+1][E]===0&&f[w+2][E]===1&&f[w+3][E]===1&&f[w+4][E]===1&&f[w+5][E]===0&&f[w+6][E]===1&&(ur.isWhiteVertical(f,E,w-4,w)||ur.isWhiteVertical(f,E,w+7,w+11))&&d++}return d*ur.N3}static isWhiteHorizontal(c,d,f){d=Math.max(d,0),f=Math.min(f,c.length);for(let p=d;p<f;p++)if(c[p]===1)return!1;return!0}static isWhiteVertical(c,d,f,p){f=Math.max(f,0),p=Math.min(p,c.length);for(let x=f;x<p;x++)if(c[x][d]===1)return!1;return!0}static applyMaskPenaltyRule4(c){let d=0;const f=c.getArray(),p=c.getWidth(),x=c.getHeight();for(let _=0;_<x;_++){const L=f[_];for(let W=0;W<p;W++)L[W]===1&&d++}const w=c.getHeight()*c.getWidth();return Math.floor(Math.abs(d*2-w)*10/w)*ur.N4}static getDataMaskBit(c,d,f){let p,x;switch(c){case 0:p=f+d&1;break;case 1:p=f&1;break;case 2:p=d%3;break;case 3:p=(f+d)%3;break;case 4:p=Math.floor(f/2)+Math.floor(d/3)&1;break;case 5:x=f*d,p=(x&1)+x%3;break;case 6:x=f*d,p=(x&1)+x%3&1;break;case 7:x=f*d,p=x%3+(f+d&1)&1;break;default:throw new m("Invalid mask pattern: "+c)}return p===0}static applyMaskPenaltyRule1Internal(c,d){let f=0;const p=d?c.getHeight():c.getWidth(),x=d?c.getWidth():c.getHeight(),w=c.getArray();for(let E=0;E<p;E++){let _=0,L=-1;for(let W=0;W<x;W++){const re=d?w[E][W]:w[W][E];re===L?_++:(_>=5&&(f+=ur.N1+(_-5)),_=1,L=re)}_>=5&&(f+=ur.N1+(_-5))}return f}}ur.N1=3,ur.N2=3,ur.N3=40,ur.N4=10;class ns{constructor(c,d){this.width=c,this.height=d;const f=new Array(d);for(let p=0;p!==d;p++)f[p]=new Uint8Array(c);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(c,d){return this.bytes[d][c]}getArray(){return this.bytes}setNumber(c,d,f){this.bytes[d][c]=f}setBoolean(c,d,f){this.bytes[d][c]=f?1:0}clear(c){for(const d of this.bytes)N.fill(d,c)}equals(c){if(!(c instanceof ns))return!1;const d=c;if(this.width!==d.width||this.height!==d.height)return!1;for(let f=0,p=this.height;f<p;++f){const x=this.bytes[f],w=d.bytes[f];for(let E=0,_=this.width;E<_;++E)if(x[E]!==w[E])return!1}return!0}toString(){const c=new J;for(let d=0,f=this.height;d<f;++d){const p=this.bytes[d];for(let x=0,w=this.width;x<w;++x)switch(p[x]){case 0:c.append(" 0");break;case 1:c.append(" 1");break;default:c.append("  ");break}c.append(`
`)}return c.toString()}}class Fn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const c=new J;return c.append(`<<
`),c.append(" mode: "),c.append(this.mode?this.mode.toString():"null"),c.append(`
 ecLevel: `),c.append(this.ecLevel?this.ecLevel.toString():"null"),c.append(`
 version: `),c.append(this.version?this.version.toString():"null"),c.append(`
 maskPattern: `),c.append(this.maskPattern.toString()),this.matrix?(c.append(`
 matrix:
`),c.append(this.matrix.toString())):c.append(`
 matrix: null
`),c.append(`>>
`),c.toString()}setMode(c){this.mode=c}setECLevel(c){this.ecLevel=c}setVersion(c){this.version=c}setMaskPattern(c){this.maskPattern=c}setMatrix(c){this.matrix=c}static isValidMaskPattern(c){return c>=0&&c<Fn.NUM_MASK_PATTERNS}}Fn.NUM_MASK_PATTERNS=8;class yr extends u{}yr.kind="WriterException";class Gt{constructor(){}static clearMatrix(c){c.clear(255)}static buildMatrix(c,d,f,p,x){Gt.clearMatrix(x),Gt.embedBasicPatterns(f,x),Gt.embedTypeInfo(d,p,x),Gt.maybeEmbedVersionInfo(f,x),Gt.embedDataBits(c,p,x)}static embedBasicPatterns(c,d){Gt.embedPositionDetectionPatternsAndSeparators(d),Gt.embedDarkDotAtLeftBottomCorner(d),Gt.maybeEmbedPositionAdjustmentPatterns(c,d),Gt.embedTimingPatterns(d)}static embedTypeInfo(c,d,f){const p=new T;Gt.makeTypeInfoBits(c,d,p);for(let x=0,w=p.getSize();x<w;++x){const E=p.get(p.getSize()-1-x),_=Gt.TYPE_INFO_COORDINATES[x],L=_[0],W=_[1];if(f.setBoolean(L,W,E),x<8){const re=f.getWidth()-x-1;f.setBoolean(re,8,E)}else{const le=f.getHeight()-7+(x-8);f.setBoolean(8,le,E)}}}static maybeEmbedVersionInfo(c,d){if(c.getVersionNumber()<7)return;const f=new T;Gt.makeVersionInfoBits(c,f);let p=6*3-1;for(let x=0;x<6;++x)for(let w=0;w<3;++w){const E=f.get(p);p--,d.setBoolean(x,d.getHeight()-11+w,E),d.setBoolean(d.getHeight()-11+w,x,E)}}static embedDataBits(c,d,f){let p=0,x=-1,w=f.getWidth()-1,E=f.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);E>=0&&E<f.getHeight();){for(let _=0;_<2;++_){const L=w-_;if(!Gt.isEmpty(f.get(L,E)))continue;let W;p<c.getSize()?(W=c.get(p),++p):W=!1,d!==255&&ur.getDataMaskBit(d,L,E)&&(W=!W),f.setBoolean(L,E,W)}E+=x}x=-x,E+=x,w-=2}if(p!==c.getSize())throw new yr("Not all bits consumed: "+p+"/"+c.getSize())}static findMSBSet(c){return 32-F.numberOfLeadingZeros(c)}static calculateBCHCode(c,d){if(d===0)throw new m("0 polynomial");const f=Gt.findMSBSet(d);for(c<<=f-1;Gt.findMSBSet(c)>=f;)c^=d<<Gt.findMSBSet(c)-f;return c}static makeTypeInfoBits(c,d,f){if(!Fn.isValidMaskPattern(d))throw new yr("Invalid mask pattern");const p=c.getBits()<<3|d;f.appendBits(p,5);const x=Gt.calculateBCHCode(p,Gt.TYPE_INFO_POLY);f.appendBits(x,10);const w=new T;if(w.appendBits(Gt.TYPE_INFO_MASK_PATTERN,15),f.xor(w),f.getSize()!==15)throw new yr("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(c,d){d.appendBits(c.getVersionNumber(),6);const f=Gt.calculateBCHCode(c.getVersionNumber(),Gt.VERSION_INFO_POLY);if(d.appendBits(f,12),d.getSize()!==18)throw new yr("should not happen but we got: "+d.getSize())}static isEmpty(c){return c===255}static embedTimingPatterns(c){for(let d=8;d<c.getWidth()-8;++d){const f=(d+1)%2;Gt.isEmpty(c.get(d,6))&&c.setNumber(d,6,f),Gt.isEmpty(c.get(6,d))&&c.setNumber(6,d,f)}}static embedDarkDotAtLeftBottomCorner(c){if(c.get(8,c.getHeight()-8)===0)throw new yr;c.setNumber(8,c.getHeight()-8,1)}static embedHorizontalSeparationPattern(c,d,f){for(let p=0;p<8;++p){if(!Gt.isEmpty(f.get(c+p,d)))throw new yr;f.setNumber(c+p,d,0)}}static embedVerticalSeparationPattern(c,d,f){for(let p=0;p<7;++p){if(!Gt.isEmpty(f.get(c,d+p)))throw new yr;f.setNumber(c,d+p,0)}}static embedPositionAdjustmentPattern(c,d,f){for(let p=0;p<5;++p){const x=Gt.POSITION_ADJUSTMENT_PATTERN[p];for(let w=0;w<5;++w)f.setNumber(c+w,d+p,x[w])}}static embedPositionDetectionPattern(c,d,f){for(let p=0;p<7;++p){const x=Gt.POSITION_DETECTION_PATTERN[p];for(let w=0;w<7;++w)f.setNumber(c+w,d+p,x[w])}}static embedPositionDetectionPatternsAndSeparators(c){const d=Gt.POSITION_DETECTION_PATTERN[0].length;Gt.embedPositionDetectionPattern(0,0,c),Gt.embedPositionDetectionPattern(c.getWidth()-d,0,c),Gt.embedPositionDetectionPattern(0,c.getWidth()-d,c);const f=8;Gt.embedHorizontalSeparationPattern(0,f-1,c),Gt.embedHorizontalSeparationPattern(c.getWidth()-f,f-1,c),Gt.embedHorizontalSeparationPattern(0,c.getWidth()-f,c);const p=7;Gt.embedVerticalSeparationPattern(p,0,c),Gt.embedVerticalSeparationPattern(c.getHeight()-p-1,0,c),Gt.embedVerticalSeparationPattern(p,c.getHeight()-p,c)}static maybeEmbedPositionAdjustmentPatterns(c,d){if(c.getVersionNumber()<2)return;const f=c.getVersionNumber()-1,p=Gt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let x=0,w=p.length;x!==w;x++){const E=p[x];if(E>=0)for(let _=0;_!==w;_++){const L=p[_];L>=0&&Gt.isEmpty(d.get(L,E))&&Gt.embedPositionAdjustmentPattern(L-2,E-2,d)}}}}Gt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Gt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Gt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Gt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Gt.VERSION_INFO_POLY=7973,Gt.TYPE_INFO_POLY=1335,Gt.TYPE_INFO_MASK_PATTERN=21522;class Wl{constructor(c,d){this.dataBytes=c,this.errorCorrectionBytes=d}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class xn{constructor(){}static calculateMaskPenalty(c){return ur.applyMaskPenaltyRule1(c)+ur.applyMaskPenaltyRule2(c)+ur.applyMaskPenaltyRule3(c)+ur.applyMaskPenaltyRule4(c)}static encode(c,d,f=null){let p=xn.DEFAULT_BYTE_MODE_ENCODING;const x=f!==null&&f.get(Br.CHARACTER_SET)!==void 0;x&&(p=f.get(Br.CHARACTER_SET).toString());const w=this.chooseMode(c,p),E=new T;if(w===Jt.BYTE&&(x||xn.DEFAULT_BYTE_MODE_ENCODING!==p)){const ht=k.getCharacterSetECIByName(p);ht!==void 0&&this.appendECI(ht,E)}this.appendModeInfo(w,E);const _=new T;this.appendBytes(c,w,_,p);let L;if(f!==null&&f.get(Br.QR_VERSION)!==void 0){const ht=Number.parseInt(f.get(Br.QR_VERSION).toString(),10);L=_t.getVersionForNumber(ht);const lt=this.calculateBitsNeeded(w,E,_,L);if(!this.willFit(lt,L,d))throw new yr("Data too big for requested version")}else L=this.recommendVersion(d,w,E,_);const W=new T;W.appendBitArray(E);const re=w===Jt.BYTE?_.getSizeInBytes():c.length;this.appendLengthInfo(re,L,w,W),W.appendBitArray(_);const le=L.getECBlocksForLevel(d),xe=L.getTotalCodewords()-le.getTotalECCodewords();this.terminateBits(xe,W);const Ne=this.interleaveWithECBytes(W,L.getTotalCodewords(),xe,le.getNumBlocks()),Ee=new Fn;Ee.setECLevel(d),Ee.setMode(w),Ee.setVersion(L);const Re=L.getDimensionForVersion(),We=new ns(Re,Re),ot=this.chooseMaskPattern(Ne,d,L,We);return Ee.setMaskPattern(ot),Gt.buildMatrix(Ne,d,L,ot,We),Ee.setMatrix(We),Ee}static recommendVersion(c,d,f,p){const x=this.calculateBitsNeeded(d,f,p,_t.getVersionForNumber(1)),w=this.chooseVersion(x,c),E=this.calculateBitsNeeded(d,f,p,w);return this.chooseVersion(E,c)}static calculateBitsNeeded(c,d,f,p){return d.getSize()+c.getCharacterCountBits(p)+f.getSize()}static getAlphanumericCode(c){return c<xn.ALPHANUMERIC_TABLE.length?xn.ALPHANUMERIC_TABLE[c]:-1}static chooseMode(c,d=null){if(k.SJIS.getName()===d&&this.isOnlyDoubleByteKanji(c))return Jt.KANJI;let f=!1,p=!1;for(let x=0,w=c.length;x<w;++x){const E=c.charAt(x);if(xn.isDigit(E))f=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)p=!0;else return Jt.BYTE}return p?Jt.ALPHANUMERIC:f?Jt.NUMERIC:Jt.BYTE}static isOnlyDoubleByteKanji(c){let d;try{d=R.encode(c,k.SJIS)}catch{return!1}const f=d.length;if(f%2!==0)return!1;for(let p=0;p<f;p+=2){const x=d[p]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(c,d,f,p){let x=Number.MAX_SAFE_INTEGER,w=-1;for(let E=0;E<Fn.NUM_MASK_PATTERNS;E++){Gt.buildMatrix(c,d,f,E,p);let _=this.calculateMaskPenalty(p);_<x&&(x=_,w=E)}return w}static chooseVersion(c,d){for(let f=1;f<=40;f++){const p=_t.getVersionForNumber(f);if(xn.willFit(c,p,d))return p}throw new yr("Data too big")}static willFit(c,d,f){const p=d.getTotalCodewords(),w=d.getECBlocksForLevel(f).getTotalECCodewords(),E=p-w,_=(c+7)/8;return E>=_}static terminateBits(c,d){const f=c*8;if(d.getSize()>f)throw new yr("data bits cannot fit in the QR Code"+d.getSize()+" > "+f);for(let w=0;w<4&&d.getSize()<f;++w)d.appendBit(!1);const p=d.getSize()&7;if(p>0)for(let w=p;w<8;w++)d.appendBit(!1);const x=c-d.getSizeInBytes();for(let w=0;w<x;++w)d.appendBits(w&1?17:236,8);if(d.getSize()!==f)throw new yr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(c,d,f,p,x,w){if(p>=f)throw new yr("Block ID too large");const E=c%f,_=f-E,L=Math.floor(c/f),W=L+1,re=Math.floor(d/f),le=re+1,xe=L-re,Ne=W-le;if(xe!==Ne)throw new yr("EC bytes mismatch");if(f!==_+E)throw new yr("RS blocks mismatch");if(c!==(re+xe)*_+(le+Ne)*E)throw new yr("Total bytes mismatch");p<_?(x[0]=re,w[0]=xe):(x[0]=le,w[0]=Ne)}static interleaveWithECBytes(c,d,f,p){if(c.getSizeInBytes()!==f)throw new yr("Number of bits and data bytes does not match");let x=0,w=0,E=0;const _=new Array;for(let W=0;W<p;++W){const re=new Int32Array(1),le=new Int32Array(1);xn.getNumDataBytesAndNumECBytesForBlockID(d,f,p,W,re,le);const xe=re[0],Ne=new Uint8Array(xe);c.toBytes(8*x,Ne,0,xe);const Ee=xn.generateECBytes(Ne,le[0]);_.push(new Wl(Ne,Ee)),w=Math.max(w,xe),E=Math.max(E,Ee.length),x+=re[0]}if(f!==x)throw new yr("Data bytes does not match offset");const L=new T;for(let W=0;W<w;++W)for(const re of _){const le=re.getDataBytes();W<le.length&&L.appendBits(le[W],8)}for(let W=0;W<E;++W)for(const re of _){const le=re.getErrorCorrectionBytes();W<le.length&&L.appendBits(le[W],8)}if(d!==L.getSizeInBytes())throw new yr("Interleaving error: "+d+" and "+L.getSizeInBytes()+" differ.");return L}static generateECBytes(c,d){const f=c.length,p=new Int32Array(f+d);for(let w=0;w<f;w++)p[w]=c[w]&255;new rs(Se.QR_CODE_FIELD_256).encode(p,d);const x=new Uint8Array(d);for(let w=0;w<d;w++)x[w]=p[f+w];return x}static appendModeInfo(c,d){d.appendBits(c.getBits(),4)}static appendLengthInfo(c,d,f,p){const x=f.getCharacterCountBits(d);if(c>=1<<x)throw new yr(c+" is bigger than "+((1<<x)-1));p.appendBits(c,x)}static appendBytes(c,d,f,p){switch(d){case Jt.NUMERIC:xn.appendNumericBytes(c,f);break;case Jt.ALPHANUMERIC:xn.appendAlphanumericBytes(c,f);break;case Jt.BYTE:xn.append8BitBytes(c,f,p);break;case Jt.KANJI:xn.appendKanjiBytes(c,f);break;default:throw new yr("Invalid mode: "+d)}}static getDigit(c){return c.charCodeAt(0)-48}static isDigit(c){const d=xn.getDigit(c);return d>=0&&d<=9}static appendNumericBytes(c,d){const f=c.length;let p=0;for(;p<f;){const x=xn.getDigit(c.charAt(p));if(p+2<f){const w=xn.getDigit(c.charAt(p+1)),E=xn.getDigit(c.charAt(p+2));d.appendBits(x*100+w*10+E,10),p+=3}else if(p+1<f){const w=xn.getDigit(c.charAt(p+1));d.appendBits(x*10+w,7),p+=2}else d.appendBits(x,4),p++}}static appendAlphanumericBytes(c,d){const f=c.length;let p=0;for(;p<f;){const x=xn.getAlphanumericCode(c.charCodeAt(p));if(x===-1)throw new yr;if(p+1<f){const w=xn.getAlphanumericCode(c.charCodeAt(p+1));if(w===-1)throw new yr;d.appendBits(x*45+w,11),p+=2}else d.appendBits(x,6),p++}}static append8BitBytes(c,d,f){let p;try{p=R.encode(c,f)}catch(x){throw new yr(x)}for(let x=0,w=p.length;x!==w;x++){const E=p[x];d.appendBits(E,8)}}static appendKanjiBytes(c,d){let f;try{f=R.encode(c,k.SJIS)}catch(x){throw new yr(x)}const p=f.length;for(let x=0;x<p;x+=2){const w=f[x]&255,E=f[x+1]&255,_=w<<8&4294967295|E;let L=-1;if(_>=33088&&_<=40956?L=_-33088:_>=57408&&_<=60351&&(L=_-49472),L===-1)throw new yr("Invalid byte sequence");const W=(L>>8)*192+(L&255);d.appendBits(W,13)}}static appendECI(c,d){d.appendBits(Jt.ECI.getBits(),4),d.appendBits(c.getValue(),8)}}xn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),xn.DEFAULT_BYTE_MODE_ENCODING=k.UTF8.getName();class To{write(c,d,f,p=null){if(c.length===0)throw new m("Found empty contents");if(d<0||f<0)throw new m("Requested dimensions are too small: "+d+"x"+f);let x=on.L,w=To.QUIET_ZONE_SIZE;p!==null&&(p.get(Br.ERROR_CORRECTION)!==void 0&&(x=on.fromString(p.get(Br.ERROR_CORRECTION).toString())),p.get(Br.MARGIN)!==void 0&&(w=Number.parseInt(p.get(Br.MARGIN).toString(),10)));const E=xn.encode(c,x,p);return this.renderResult(E,d,f,w)}writeToDom(c,d,f,p,x=null){typeof c=="string"&&(c=document.querySelector(c));const w=this.write(d,f,p,x);c&&c.appendChild(w)}renderResult(c,d,f,p){const x=c.getMatrix();if(x===null)throw new he;const w=x.getWidth(),E=x.getHeight(),_=w+p*2,L=E+p*2,W=Math.max(d,_),re=Math.max(f,L),le=Math.min(Math.floor(W/_),Math.floor(re/L)),xe=Math.floor((W-w*le)/2),Ne=Math.floor((re-E*le)/2),Ee=this.createSVGElement(W,re);for(let Re=0,We=Ne;Re<E;Re++,We+=le)for(let ot=0,ht=xe;ot<w;ot++,ht+=le)if(x.get(ot,Re)===1){const lt=this.createSvgRectElement(ht,We,le,le);Ee.appendChild(lt)}return Ee}createSVGElement(c,d){const f=document.createElementNS(To.SVG_NS,"svg");return f.setAttributeNS(null,"height",c.toString()),f.setAttributeNS(null,"width",d.toString()),f}createSvgRectElement(c,d,f,p){const x=document.createElementNS(To.SVG_NS,"rect");return x.setAttributeNS(null,"x",c.toString()),x.setAttributeNS(null,"y",d.toString()),x.setAttributeNS(null,"height",f.toString()),x.setAttributeNS(null,"width",p.toString()),x.setAttributeNS(null,"fill","#000000"),x}}To.QUIET_ZONE_SIZE=4,To.SVG_NS="http://www.w3.org/2000/svg";class Sa{encode(c,d,f,p,x){if(c.length===0)throw new m("Found empty contents");if(d!==oe.QR_CODE)throw new m("Can only encode QR_CODE, but got "+d);if(f<0||p<0)throw new m(`Requested dimensions are too small: ${f}x${p}`);let w=on.L,E=Sa.QUIET_ZONE_SIZE;x!==null&&(x.get(Br.ERROR_CORRECTION)!==void 0&&(w=on.fromString(x.get(Br.ERROR_CORRECTION).toString())),x.get(Br.MARGIN)!==void 0&&(E=Number.parseInt(x.get(Br.MARGIN).toString(),10)));const _=xn.encode(c,w,x);return Sa.renderResult(_,f,p,E)}static renderResult(c,d,f,p){const x=c.getMatrix();if(x===null)throw new he;const w=x.getWidth(),E=x.getHeight(),_=w+p*2,L=E+p*2,W=Math.max(d,_),re=Math.max(f,L),le=Math.min(Math.floor(W/_),Math.floor(re/L)),xe=Math.floor((W-w*le)/2),Ne=Math.floor((re-E*le)/2),Ee=new ne(W,re);for(let Re=0,We=Ne;Re<E;Re++,We+=le)for(let ot=0,ht=xe;ot<w;ot++,ht+=le)x.get(ot,Re)===1&&Ee.setRegion(ht,We,le,le);return Ee}}Sa.QUIET_ZONE_SIZE=4;class to{encode(c,d,f,p,x){let w;switch(d){case oe.QR_CODE:w=new Sa;break;default:throw new m("No encoder available for format "+d)}return w.encode(c,d,f,p,x)}}class Pi extends q{constructor(c,d,f,p,x,w,E,_){if(super(w,E),this.yuvData=c,this.dataWidth=d,this.dataHeight=f,this.left=p,this.top=x,p+w>d||x+E>f)throw new m("Crop rectangle does not fit within image data.");_&&this.reverseHorizontal(w,E)}getRow(c,d){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const f=this.getWidth();(d==null||d.length<f)&&(d=new Uint8ClampedArray(f));const p=(c+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,p,d,0,f),d}getMatrix(){const c=this.getWidth(),d=this.getHeight();if(c===this.dataWidth&&d===this.dataHeight)return this.yuvData;const f=c*d,p=new Uint8ClampedArray(f);let x=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return C.arraycopy(this.yuvData,x,p,0,f),p;for(let w=0;w<d;w++){const E=w*c;C.arraycopy(this.yuvData,x,p,E,c),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(c,d,f,p){return new Pi(this.yuvData,this.dataWidth,this.dataHeight,this.left+c,this.top+d,f,p,!1)}renderThumbnail(){const c=this.getWidth()/Pi.THUMBNAIL_SCALE_FACTOR,d=this.getHeight()/Pi.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(c*d),p=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let w=0;w<d;w++){const E=w*c;for(let _=0;_<c;_++){const L=p[x+_*Pi.THUMBNAIL_SCALE_FACTOR]&255;f[E+_]=4278190080|L*65793}x+=this.dataWidth*Pi.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/Pi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Pi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(c,d){const f=this.yuvData;for(let p=0,x=this.top*this.dataWidth+this.left;p<d;p++,x+=this.dataWidth){const w=x+c/2;for(let E=x,_=x+c-1;E<w;E++,_--){const L=f[E];f[E]=f[_],f[_]=L}}}invert(){return new X(this)}}Pi.THUMBNAIL_SCALE_FACTOR=2;class zl extends q{constructor(c,d,f,p,x,w,E){if(super(d,f),this.dataWidth=p,this.dataHeight=x,this.left=w,this.top=E,c.BYTES_PER_ELEMENT===4){const _=d*f,L=new Uint8ClampedArray(_);for(let W=0;W<_;W++){const re=c[W],le=re>>16&255,xe=re>>7&510,Ne=re&255;L[W]=(le+xe+Ne)/4&255}this.luminances=L}else this.luminances=c;if(p===void 0&&(this.dataWidth=d),x===void 0&&(this.dataHeight=f),w===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+d>this.dataWidth||this.top+f>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(c,d){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const f=this.getWidth();(d==null||d.length<f)&&(d=new Uint8ClampedArray(f));const p=(c+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,p,d,0,f),d}getMatrix(){const c=this.getWidth(),d=this.getHeight();if(c===this.dataWidth&&d===this.dataHeight)return this.luminances;const f=c*d,p=new Uint8ClampedArray(f);let x=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return C.arraycopy(this.luminances,x,p,0,f),p;for(let w=0;w<d;w++){const E=w*c;C.arraycopy(this.luminances,x,p,E,c),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(c,d,f,p){return new zl(this.luminances,f,p,this.dataWidth,this.dataHeight,this.left+c,this.top+d)}invert(){return new X(this)}}class ul extends k{static forName(c){return this.getCharacterSetECIByName(c)}}class xs{}xs.ISO_8859_1=k.ISO8859_1;class ko{isCompact(){return this.compact}setCompact(c){this.compact=c}getSize(){return this.size}setSize(c){this.size=c}getLayers(){return this.layers}setLayers(c){this.layers=c}getCodeWords(){return this.codeWords}setCodeWords(c){this.codeWords=c}getMatrix(){return this.matrix}setMatrix(c){this.matrix=c}}class Lo{static singletonList(c){return[c]}static min(c,d){return c.sort(d)[0]}}class ru{constructor(c){this.previous=c}getPrevious(){return this.previous}}class Po extends ru{constructor(c,d,f){super(c),this.value=d,this.bitCount=f}appendTo(c,d){c.appendBits(this.value,this.bitCount)}add(c,d){return new Po(this,c,d)}addBinaryShift(c,d){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Po(this,c,d)}toString(){let c=this.value&(1<<this.bitCount)-1;return c|=1<<this.bitCount,"<"+F.toBinaryString(c|1<<this.bitCount).substring(1)+">"}}class Gs extends Po{constructor(c,d,f){super(c,0,0),this.binaryShiftStart=d,this.binaryShiftByteCount=f}appendTo(c,d){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(c.appendBits(31,5),this.binaryShiftByteCount>62?c.appendBits(this.binaryShiftByteCount-31,16):f===0?c.appendBits(Math.min(this.binaryShiftByteCount,31),5):c.appendBits(this.binaryShiftByteCount-31,5)),c.appendBits(d[this.binaryShiftStart+f],8)}addBinaryShift(c,d){return new Gs(this,c,d)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function hf(te,c,d){return new Gs(te,c,d)}function Oo(te,c,d){return new Po(te,c,d)}const ff=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],jn=0,pi=1,ii=2,nu=3,Ws=4,su=new Po(null,0,0),ai=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Oi(te){for(let c of te)N.fill(c,-1);return te[jn][Ws]=0,te[pi][Ws]=0,te[pi][jn]=28,te[nu][Ws]=0,te[ii][Ws]=0,te[ii][jn]=15,te}const $l=Oi(N.createInt32Array(6,6));class Is{constructor(c,d,f,p){this.token=c,this.mode=d,this.binaryShiftByteCount=f,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(c,d){let f=this.bitCount,p=this.token;if(c!==this.mode){let w=ai[this.mode][c];p=Oo(p,w&65535,w>>16),f+=w>>16}let x=c===ii?4:5;return p=Oo(p,d,x),new Is(p,c,0,f+x)}shiftAndAppend(c,d){let f=this.token,p=this.mode===ii?4:5;return f=Oo(f,$l[this.mode][c],p),f=Oo(f,d,5),new Is(f,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(c){let d=this.token,f=this.mode,p=this.bitCount;if(this.mode===Ws||this.mode===ii){let E=ai[f][jn];d=Oo(d,E&65535,E>>16),p+=E>>16,f=jn}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new Is(d,f,this.binaryShiftByteCount+1,p+x);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(c+1)),w}endBinaryShift(c){if(this.binaryShiftByteCount===0)return this;let d=this.token;return d=hf(d,c-this.binaryShiftByteCount,this.binaryShiftByteCount),new Is(d,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(c){let d=this.bitCount+(ai[this.mode][c.mode]>>16);return this.binaryShiftByteCount<c.binaryShiftByteCount?d+=Is.calculateBinaryShiftCost(c)-Is.calculateBinaryShiftCost(this):this.binaryShiftByteCount>c.binaryShiftByteCount&&c.binaryShiftByteCount>0&&(d+=10),d<=c.bitCount}toBitArray(c){let d=[];for(let p=this.endBinaryShift(c.length).token;p!==null;p=p.getPrevious())d.unshift(p);let f=new T;for(const p of d)p.appendTo(f,c);return f}toString(){return H.format("%s bits=%d bytes=%d",ff[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(c){return c.binaryShiftByteCount>62?21:c.binaryShiftByteCount>31?20:c.binaryShiftByteCount>0?10:0}}Is.INITIAL_STATE=new Is(su,jn,0,0);function ql(te){const c=H.getCharCode(" "),d=H.getCharCode("."),f=H.getCharCode(",");te[jn][c]=1;const p=H.getCharCode("Z"),x=H.getCharCode("A");for(let le=x;le<=p;le++)te[jn][le]=le-x+2;te[pi][c]=1;const w=H.getCharCode("z"),E=H.getCharCode("a");for(let le=E;le<=w;le++)te[pi][le]=le-E+2;te[ii][c]=1;const _=H.getCharCode("9"),L=H.getCharCode("0");for(let le=L;le<=_;le++)te[ii][le]=le-L+2;te[ii][f]=12,te[ii][d]=13;const W=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let le=0;le<W.length;le++)te[nu][H.getCharCode(W[le])]=le;const re=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let le=0;le<re.length;le++)H.getCharCode(re[le])>0&&(te[Ws][H.getCharCode(re[le])]=le);return te}const Xc=ql(N.createInt32Array(5,256));class Ea{constructor(c){this.text=c}encode(){const c=H.getCharCode(" "),d=H.getCharCode(`
`);let f=Lo.singletonList(Is.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let w,E=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case H.getCharCode("\r"):w=E===d?2:0;break;case H.getCharCode("."):w=E===c?3:0;break;case H.getCharCode(","):w=E===c?4:0;break;case H.getCharCode(":"):w=E===c?5:0;break;default:w=0}w>0?(f=Ea.updateStateListForPair(f,x,w),x++):f=this.updateStateListForChar(f,x)}return Lo.min(f,(x,w)=>x.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(c,d){const f=[];for(let p of c)this.updateStateForChar(p,d,f);return Ea.simplifyStates(f)}updateStateForChar(c,d,f){let p=this.text[d]&255,x=Xc[c.getMode()][p]>0,w=null;for(let E=0;E<=Ws;E++){let _=Xc[E][p];if(_>0){if(w==null&&(w=c.endBinaryShift(d)),!x||E===c.getMode()||E===ii){const L=w.latchAndAppend(E,_);f.push(L)}if(!x&&$l[c.getMode()][E]>=0){const L=w.shiftAndAppend(E,_);f.push(L)}}}if(c.getBinaryShiftByteCount()>0||Xc[c.getMode()][p]===0){let E=c.addBinaryShiftChar(d);f.push(E)}}static updateStateListForPair(c,d,f){const p=[];for(let x of c)this.updateStateForPair(x,d,f,p);return this.simplifyStates(p)}static updateStateForPair(c,d,f,p){let x=c.endBinaryShift(d);if(p.push(x.latchAndAppend(Ws,f)),c.getMode()!==Ws&&p.push(x.shiftAndAppend(Ws,f)),f===3||f===4){let w=x.latchAndAppend(ii,16-f).latchAndAppend(ii,1);p.push(w)}if(c.getBinaryShiftByteCount()>0){let w=c.addBinaryShiftChar(d).addBinaryShiftChar(d+1);p.push(w)}}static simplifyStates(c){let d=[];for(const f of c){let p=!0;for(const x of d){if(x.isBetterThanOrEqualTo(f)){p=!1;break}f.isBetterThanOrEqualTo(x)&&(d=d.filter(w=>w!==x))}p&&d.push(f)}return d}}class tr{constructor(){}static encodeBytes(c){return tr.encode(c,tr.DEFAULT_EC_PERCENT,tr.DEFAULT_AZTEC_LAYERS)}static encode(c,d,f){let p=new Ea(c).encode(),x=F.truncDivision(p.getSize()*d,100)+11,w=p.getSize()+x,E,_,L,W,re;if(f!==tr.DEFAULT_AZTEC_LAYERS){if(E=f<0,_=Math.abs(f),_>(E?tr.MAX_NB_BITS_COMPACT:tr.MAX_NB_BITS))throw new m(H.format("Illegal value %s for layers",f));L=tr.totalBitsInLayer(_,E),W=tr.WORD_SIZE[_];let lt=L-L%W;if(re=tr.stuffBits(p,W),re.getSize()+x>lt)throw new m("Data to large for user specified layer");if(E&&re.getSize()>W*64)throw new m("Data to large for user specified layer")}else{W=0,re=null;for(let lt=0;;lt++){if(lt>tr.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(E=lt<=3,_=E?lt+1:lt,L=tr.totalBitsInLayer(_,E),w>L)continue;(re==null||W!==tr.WORD_SIZE[_])&&(W=tr.WORD_SIZE[_],re=tr.stuffBits(p,W));let Pr=L-L%W;if(!(E&&re.getSize()>W*64)&&re.getSize()+x<=Pr)break}}let le=tr.generateCheckWords(re,L,W),xe=re.getSize()/W,Ne=tr.generateModeMessage(E,_,xe),Ee=(E?11:14)+_*4,Re=new Int32Array(Ee),We;if(E){We=Ee;for(let lt=0;lt<Re.length;lt++)Re[lt]=lt}else{We=Ee+1+2*F.truncDivision(F.truncDivision(Ee,2)-1,15);let lt=F.truncDivision(Ee,2),Pr=F.truncDivision(We,2);for(let wr=0;wr<lt;wr++){let gi=wr+F.truncDivision(wr,15);Re[lt-wr-1]=Pr-gi-1,Re[lt+wr]=Pr+gi+1}}let ot=new ne(We);for(let lt=0,Pr=0;lt<_;lt++){let wr=(_-lt)*4+(E?9:12);for(let gi=0;gi<wr;gi++){let Ia=gi*2;for(let xi=0;xi<2;xi++)le.get(Pr+Ia+xi)&&ot.set(Re[lt*2+xi],Re[lt*2+gi]),le.get(Pr+wr*2+Ia+xi)&&ot.set(Re[lt*2+gi],Re[Ee-1-lt*2-xi]),le.get(Pr+wr*4+Ia+xi)&&ot.set(Re[Ee-1-lt*2-xi],Re[Ee-1-lt*2-gi]),le.get(Pr+wr*6+Ia+xi)&&ot.set(Re[Ee-1-lt*2-gi],Re[lt*2+xi])}Pr+=wr*8}if(tr.drawModeMessage(ot,E,We,Ne),E)tr.drawBullsEye(ot,F.truncDivision(We,2),5);else{tr.drawBullsEye(ot,F.truncDivision(We,2),7);for(let lt=0,Pr=0;lt<F.truncDivision(Ee,2)-1;lt+=15,Pr+=16)for(let wr=F.truncDivision(We,2)&1;wr<We;wr+=2)ot.set(F.truncDivision(We,2)-Pr,wr),ot.set(F.truncDivision(We,2)+Pr,wr),ot.set(wr,F.truncDivision(We,2)-Pr),ot.set(wr,F.truncDivision(We,2)+Pr)}let ht=new ko;return ht.setCompact(E),ht.setSize(We),ht.setLayers(_),ht.setCodeWords(xe),ht.setMatrix(ot),ht}static drawBullsEye(c,d,f){for(let p=0;p<f;p+=2)for(let x=d-p;x<=d+p;x++)c.set(x,d-p),c.set(x,d+p),c.set(d-p,x),c.set(d+p,x);c.set(d-f,d-f),c.set(d-f+1,d-f),c.set(d-f,d-f+1),c.set(d+f,d-f),c.set(d+f,d-f+1),c.set(d+f,d+f-1)}static generateModeMessage(c,d,f){let p=new T;return c?(p.appendBits(d-1,2),p.appendBits(f-1,6),p=tr.generateCheckWords(p,28,4)):(p.appendBits(d-1,5),p.appendBits(f-1,11),p=tr.generateCheckWords(p,40,4)),p}static drawModeMessage(c,d,f,p){let x=F.truncDivision(f,2);if(d)for(let w=0;w<7;w++){let E=x-3+w;p.get(w)&&c.set(E,x-5),p.get(w+7)&&c.set(x+5,E),p.get(20-w)&&c.set(E,x+5),p.get(27-w)&&c.set(x-5,E)}else for(let w=0;w<10;w++){let E=x-5+w+F.truncDivision(w,5);p.get(w)&&c.set(E,x-7),p.get(w+10)&&c.set(x+7,E),p.get(29-w)&&c.set(E,x+7),p.get(39-w)&&c.set(x-7,E)}}static generateCheckWords(c,d,f){let p=c.getSize()/f,x=new rs(tr.getGF(f)),w=F.truncDivision(d,f),E=tr.bitsToWords(c,f,w);x.encode(E,w-p);let _=d%f,L=new T;L.appendBits(0,_);for(const W of Array.from(E))L.appendBits(W,f);return L}static bitsToWords(c,d,f){let p=new Int32Array(f),x,w;for(x=0,w=c.getSize()/d;x<w;x++){let E=0;for(let _=0;_<d;_++)E|=c.get(x*d+_)?1<<d-_-1:0;p[x]=E}return p}static getGF(c){switch(c){case 4:return Se.AZTEC_PARAM;case 6:return Se.AZTEC_DATA_6;case 8:return Se.AZTEC_DATA_8;case 10:return Se.AZTEC_DATA_10;case 12:return Se.AZTEC_DATA_12;default:throw new m("Unsupported word size "+c)}}static stuffBits(c,d){let f=new T,p=c.getSize(),x=(1<<d)-2;for(let w=0;w<p;w+=d){let E=0;for(let _=0;_<d;_++)(w+_>=p||c.get(w+_))&&(E|=1<<d-1-_);(E&x)===x?(f.appendBits(E&x,d),w--):E&x?f.appendBits(E,d):(f.appendBits(E|1,d),w--)}return f}static totalBitsInLayer(c,d){return((d?88:112)+16*c)*c}}tr.DEFAULT_EC_PERCENT=33,tr.DEFAULT_AZTEC_LAYERS=0,tr.MAX_NB_BITS=32,tr.MAX_NB_BITS_COMPACT=4,tr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class iu{encode(c,d,f,p){return this.encodeWithHints(c,d,f,p,null)}encodeWithHints(c,d,f,p,x){let w=xs.ISO_8859_1,E=tr.DEFAULT_EC_PERCENT,_=tr.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(Br.CHARACTER_SET)&&(w=ul.forName(x.get(Br.CHARACTER_SET).toString())),x.has(Br.ERROR_CORRECTION)&&(E=F.parseInt(x.get(Br.ERROR_CORRECTION).toString())),x.has(Br.AZTEC_LAYERS)&&(_=F.parseInt(x.get(Br.AZTEC_LAYERS).toString()))),iu.encodeLayers(c,d,f,p,w,E,_)}static encodeLayers(c,d,f,p,x,w,E){if(d!==oe.AZTEC)throw new m("Can only encode AZTEC, but got "+d);let _=tr.encode(H.getBytes(c,x),w,E);return iu.renderResult(_,f,p)}static renderResult(c,d,f){let p=c.getMatrix();if(p==null)throw new he;let x=p.getWidth(),w=p.getHeight(),E=Math.max(d,x),_=Math.max(f,w),L=Math.min(E/x,_/w),W=(E-x*L)/2,re=(_-w*L)/2,le=new ne(E,_);for(let xe=0,Ne=re;xe<w;xe++,Ne+=L)for(let Ee=0,Re=W;Ee<x;Ee++,Re+=L)p.get(Ee,xe)&&le.setRegion(Re,Ne,L,L);return le}}r.AbstractExpandedDecoder=na,r.ArgumentException=h,r.ArithmeticException=Oe,r.AztecCode=ko,r.AztecCodeReader=Bt,r.AztecCodeWriter=iu,r.AztecDecoder=Je,r.AztecDetector=Lt,r.AztecDetectorResult=bt,r.AztecEncoder=tr,r.AztecHighLevelEncoder=Ea,r.AztecPoint=xt,r.BarcodeFormat=oe,r.Binarizer=b,r.BinaryBitmap=y,r.BitArray=T,r.BitMatrix=ne,r.BitSource=es,r.BrowserAztecCodeReader=Mr,r.BrowserBarcodeReader=Ud,r.BrowserCodeReader=Z,r.BrowserDatamatrixCodeReader=Qc,r.BrowserMultiFormatReader=Kt,r.BrowserPDF417Reader=mr,r.BrowserQRCodeReader=br,r.BrowserQRCodeSvgWriter=To,r.CharacterSetECI=k,r.ChecksumException=g,r.Code128Reader=Ge,r.Code39Reader=jt,r.DataMatrixDecodedBitStreamParser=Ya,r.DataMatrixReader=Us,r.DecodeHintType=V,r.DecoderResult=_e,r.DefaultGridSampler=Ht,r.DetectorResult=Vt,r.EAN13Reader=sr,r.EncodeHintType=Br,r.Exception=u,r.FormatException=P,r.GenericGF=Se,r.GenericGFPoly=ke,r.GlobalHistogramBinarizer=G,r.GridSampler=ct,r.GridSamplerInstance=St,r.HTMLCanvasElementLuminanceSource=fe,r.HybridBinarizer=K,r.ITFReader=$e,r.IllegalArgumentException=m,r.IllegalStateException=he,r.InvertedLuminanceSource=X,r.LuminanceSource=q,r.MathUtils=Qe,r.MultiFormatOneDReader=ol,r.MultiFormatReader=Ot,r.MultiFormatWriter=to,r.NotFoundException=Y,r.OneDReader=Yt,r.PDF417DecodedBitStreamParser=Ae,r.PDF417DecoderErrorCorrection=Gc,r.PDF417Reader=ze,r.PDF417ResultMetadata=eu,r.PerspectiveTransform=At,r.PlanarYUVLuminanceSource=Pi,r.QRCodeByteMatrix=ns,r.QRCodeDataMask=mi,r.QRCodeDecodedBitStreamParser=Tn,r.QRCodeDecoderErrorCorrectionLevel=on,r.QRCodeDecoderFormatInformation=Ms,r.QRCodeEncoder=xn,r.QRCodeEncoderQRCode=Fn,r.QRCodeMaskUtil=ur,r.QRCodeMatrixUtil=Gt,r.QRCodeMode=Jt,r.QRCodeReader=Fo,r.QRCodeVersion=_t,r.QRCodeWriter=Sa,r.RGBLuminanceSource=zl,r.RSS14Reader=En,r.RSSExpandedReader=tt,r.ReaderException=rt,r.ReedSolomonDecoder=ft,r.ReedSolomonEncoder=rs,r.ReedSolomonException=Ce,r.Result=ae,r.ResultMetadataType=Be,r.ResultPoint=Ke,r.StringUtils=H,r.UnsupportedOperationException=z,r.VideoInputDevice=de,r.WhiteRectangleDetector=nt,r.WriterException=yr,r.ZXingArrays=N,r.ZXingCharset=ul,r.ZXingInteger=F,r.ZXingStandardCharsets=xs,r.ZXingStringBuilder=J,r.ZXingStringEncoding=R,r.ZXingSystem=C,r.createAbstractExpandedDecoder=df,Object.defineProperty(r,"__esModule",{value:!0})})})(RN,RN.exports);var Xn=RN.exports;const nbe=$g(Xn),sbe=AL({__proto__:null,default:nbe},[Xn]);var kk=function(){function e(t,r,n){if(this.formatMap=new Map([[kt.QR_CODE,Xn.BarcodeFormat.QR_CODE],[kt.AZTEC,Xn.BarcodeFormat.AZTEC],[kt.CODABAR,Xn.BarcodeFormat.CODABAR],[kt.CODE_39,Xn.BarcodeFormat.CODE_39],[kt.CODE_93,Xn.BarcodeFormat.CODE_93],[kt.CODE_128,Xn.BarcodeFormat.CODE_128],[kt.DATA_MATRIX,Xn.BarcodeFormat.DATA_MATRIX],[kt.MAXICODE,Xn.BarcodeFormat.MAXICODE],[kt.ITF,Xn.BarcodeFormat.ITF],[kt.EAN_13,Xn.BarcodeFormat.EAN_13],[kt.EAN_8,Xn.BarcodeFormat.EAN_8],[kt.PDF_417,Xn.BarcodeFormat.PDF_417],[kt.RSS_14,Xn.BarcodeFormat.RSS_14],[kt.RSS_EXPANDED,Xn.BarcodeFormat.RSS_EXPANDED],[kt.UPC_A,Xn.BarcodeFormat.UPC_A],[kt.UPC_E,Xn.BarcodeFormat.UPC_E],[kt.UPC_EAN_EXTENSION,Xn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!sbe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var s=this.createZXingFormats(t),i=new Map;i.set(Xn.DecodeHintType.POSSIBLE_FORMATS,s),i.set(Xn.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,s){try{n(r.decode(t))}catch(i){s(i)}})},e.prototype.decode=function(t){var r=new Xn.MultiFormatReader(this.verbose,this.hints),n=new Xn.HTMLCanvasElementLuminanceSource(t),s=new Xn.BinaryBitmap(new Xn.HybridBinarizer(n)),i=r.decode(s);return{text:i.text,format:ZH.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,s){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,s=t;n<s.length;n++){var i=s[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),ibe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,t||[])).next())})},abe=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Lk=function(){function e(t,r,n){if(this.formatMap=new Map([[kt.QR_CODE,"qr_code"],[kt.AZTEC,"aztec"],[kt.CODABAR,"codabar"],[kt.CODE_39,"code_39"],[kt.CODE_93,"code_93"],[kt.CODE_128,"code_128"],[kt.DATA_MATRIX,"data_matrix"],[kt.ITF,"itf"],[kt.EAN_13,"ean_13"],[kt.EAN_8,"ean_8"],[kt.PDF_417,"pdf417"],[kt.UPC_A,"upc_a"],[kt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return ibe(this,void 0,void 0,function(){var r,n;return abe(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=s.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:ZH.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,s=0,i=t;s<i.length;s++){var o=i[s],l=o.boundingBox.width*o.boundingBox.height;l>n&&(n=l,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,s=t;n<s.length;n++){var i=s[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,s){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Pk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,t||[])).next())})},Ok=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},obe=function(){function e(t,r,n,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&Lk.isSupported()?(this.primaryDecoder=new Lk(t,n,s),this.secondaryDecoder=new kk(t,n,s)):this.primaryDecoder=new kk(t,n,s)}return e.prototype.decodeAsync=function(t){return Pk(this,void 0,void 0,function(){var r;return Ok(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Pk(this,void 0,void 0,function(){var r,n;return Ok(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(n=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var s=n[r];t+=s}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),qE=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,t||[])).next())})},h2=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},eV=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),lbe=function(e){qE(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var s={advanced:[n]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(eV),cbe=function(e){qE(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(lbe),Abe=function(e){qE(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(eV),ube=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new cbe(this.track)},e.prototype.torchFeature=function(){return new Abe(this.track)},e}(),dbe=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,s),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,s){return d2(this,void 0,void 0,function(){var i,o;return h2(this,function(l){switch(l.label){case 0:return i=new e(t,r,s),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:l.sent(),l.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return d2(this,void 0,void 0,function(){return h2(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var s=t.mediaStream.getVideoTracks(),i=s.length,o=0;t.mediaStream.getVideoTracks().forEach(function(l){t.mediaStream.removeTrack(l),l.stop(),++o,o>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new ube(this.getFirstTrackOrFail())},e}(),hbe=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return d2(this,void 0,void 0,function(){return h2(this,function(s){return[2,dbe.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return d2(this,void 0,void 0,function(){var r,n;return h2(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=s.sent(),[2,new e(n)]}})})},e}(),Rk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,t||[])).next())})},Dk=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fbe=function(){function e(){}return e.failIfNotSupported=function(){return Rk(this,void 0,void 0,function(){return Dk(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Rk(this,void 0,void 0,function(){return Dk(this,function(r){return[2,hbe.create(t)]})})},e}(),mbe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,t||[])).next())})},pbe=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},gbe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=r0.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=r0.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return mbe(this,void 0,void 0,function(){var t,r,n,s,i,o,l;return pbe(this,function(A){switch(A.label){case 0:return t=function(u){for(var h=u.getVideoTracks(),m=0,y=h;m<y.length;m++){var g=y[m];g.enabled=!1,g.stop(),u.removeTrack(g)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=A.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=A.sent(),s=[],i=0,o=n;i<o.length;i++)l=o[i],l.kind==="videoinput"&&s.push({id:l.deviceId,label:l.label});return t(r),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(i){for(var o=[],l=0,A=i;l<A.length;l++){var u=A[l];u.kind==="video"&&o.push({id:u.id,label:u.label})}t(o)},s=MediaStreamTrack;s.getSources(n)})},e}(),Cs;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Cs||(Cs={}));var xbe=function(){function e(){this.state=Cs.NOT_STARTED,this.onGoingTransactionNewState=Cs.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Cs.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Cs.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Cs.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Cs.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Cs.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Cs.UNKNOWN:throw"Transition from unknown is not allowed";case Cs.NOT_STARTED:this.failIfNewStateIs(t,[Cs.PAUSED]);break;case Cs.SCANNING:break;case Cs.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,s=r;n<s.length;n++){var i=s[n];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),ybe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Cs.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Cs.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Cs.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Cs.PAUSED},e}(),wbe=function(){function e(){}return e.create=function(){return new ybe(new xbe)},e}(),vbe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ao=function(e){vbe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ebe),bbe=function(){function e(t,r){this.logger=r,this.fps=Ao.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ao.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?JH.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!AA(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Cbe=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new rbe(this.verbose),this.qrcode=new obe(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=wbe.create()}return e.prototype.start=function(t,r,n,s){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;s?o=s:o=this.verbose?this.logger.log:function(){};var l=bbe.create(r,this.logger);this.clearElement();var A=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?A=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=A,h=document.getElementById(this.elementId);h.clientWidth?h.clientWidth:Ao.DEFAULT_WIDTH,h.style.position="relative",this.shouldScan=!0,this.element=h;var m=this,y=this.stateManagerProxy.startTransition(Cs.SCANNING);return new Promise(function(g,b){var C=u?l.videoConstraints:m.createVideoConstraints(t);if(!C){y.cancel(),b("videoConstraints should be defined");return}var I={};(!u||l.aspectRatio)&&(I.aspectRatio=l.aspectRatio);var v={onRenderSurfaceReady:function(N,F){m.setupUi(N,F,l),m.isScanning=!0,m.foreverScan(l,n,o)}};fbe.failIfNotSupported().then(function(N){N.create(C).then(function(F){return F.render(i.element,I,v).then(function(T){m.renderedCamera=T,y.execute(),g(null)}).catch(function(T){y.cancel(),b(T)})}).catch(function(F){y.cancel(),b(r0.errorGettingUserMedia(F))})}).catch(function(N){y.cancel(),b(r0.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Cs.PAUSED),this.showPausedState(),(AA(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Cs.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Cs.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var i=document.getElementById(Ao.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),n(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),r.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(AA(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var l=o.width,A=o.height,u=document.getElementById(n.elementId),h=u.clientWidth?u.clientWidth:Ao.DEFAULT_WIDTH,m=Math.max(u.clientHeight?u.clientHeight:A,Ao.FILE_SCAN_MIN_HEIGHT),y=n.computeCanvasDrawConfig(l,A,h,m);if(r){var g=n.createCanvasElement(h,m,"qr-canvas-visible");g.style.display="inline-block",u.appendChild(g);var b=g.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=h,b.canvas.height=m,b.drawImage(o,0,0,l,A,y.x,y.y,y.width,y.height)}var C=Ao.FILE_SCAN_HIDDEN_CANVAS_PADDING,I=Math.max(o.width,y.width),v=Math.max(o.height,y.height),N=I+2*C,F=v+2*C,T=n.createCanvasElement(N,F);u.appendChild(T);var D=T.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=N,D.canvas.height=F,D.drawImage(o,0,0,l,A,C,C,I,v);try{n.qrcode.decodeRobustlyAsync(T).then(function(V){s(Tk.createFromQrcodeResult(V))}).catch(i)}catch(V){i("QR code parse error, error = ".concat(V))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return gbe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!JH.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[kt.QR_CODE,kt.AZTEC,kt.CODABAR,kt.CODE_39,kt.CODE_93,kt.CODE_128,kt.DATA_MATRIX,kt.MAXICODE,kt.ITF,kt.EAN_13,kt.EAN_8,kt.PDF_417,kt.RSS_14,kt.RSS_EXPANDED,kt.UPC_A,kt.UPC_E,kt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],s=0,i=t.formatsToSupport;s<i.length;s++){var o=i[s];Jve(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(AA(t))return!0;if(!AA(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(AA(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return AA(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var s=this,i=n.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,r,i),l=function(u){if(u<Ao.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ao.MIN_QR_BOX_SIZE,"px.")},A=function(u){return u>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};l(o.width),l(o.height),o.width=A(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var s=AA(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(s);var i=this.toQrdimensions(t,r,s);i.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&i.height<=r,l={x:0,y:0,width:t,height:r},A=o?this.getShadedRegionBounds(t,r,i):l,u=this.createCanvasElement(A.width,A.height),h={willReadFrequently:!0},m=u.getContext("2d",h);m.canvas.width=A.width,m.canvas.height=A.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,t,r,i),this.createScannerPausedUiElement(this.element),this.qrRegion=A,this.context=m,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=r0.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,Tk.createFromQrcodeResult(s)),n.possiblyUpdateShaders(!0),!0}).catch(function(s){n.possiblyUpdateShaders(!1);var i=r0.codeParseError(s);return r(i,tbe.createFrom(i)),!1})},e.prototype.foreverScan=function(t,r,n){var s=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,l=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var A=this.qrRegion.width*o,u=this.qrRegion.height*l,h=this.qrRegion.x*o,m=this.qrRegion.y*l;this.context.drawImage(i,h,m,A,u,0,0,this.qrRegion.width,this.qrRegion.height);var y=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,r,n)},s.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(g){!g&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(r,n).finally(function(){y()})):y()}).catch(function(g){s.logger.logError("Error happend while scanning context",g),y()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",s={user:!0,environment:!0},i="exact",o=function(b){if(b in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(b,"'")},l=Object.keys(t);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var A=Object.keys(t)[0];if(A!==r&&A!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(A===r){var u=t.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(i in u){if(o(u["".concat(i)]))return{facingMode:{exact:u["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var h=typeof u;throw"Invalid type of 'facingMode' = ".concat(h)}}else{var m=t.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(i in m)return{deviceId:{exact:m["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var y=typeof m;throw"Invalid type of 'deviceId' = ".concat(y)}}}var g=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(g)},e.prototype.computeCanvasDrawConfig=function(t,r,n,s){if(t<=n&&r<=s){var i=(n-t)/2,o=(s-r)/2;return{x:i,y:o,width:t,height:r}}else{var l=t,A=r;return t>n&&(r=n/t*r,t=n),r>s&&(t=s/r*t,r=s),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(A)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Ao.BORDER_SHADER_MATCH_COLOR:Ao.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var s=t,i=r,o=document.createElement("canvas");return o.style.width="".concat(s,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=AA(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,s){if(!(r-s.width<1||n-s.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(r-s.width)/2,l=(n-s.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(Ao.SHADED_REGION_ELEMENT_ID),r-s.width<11||n-s.height<11)this.hasBorderShaders=!1;else{var A=5,u=40;this.insertShaderBorders(i,u,A,-A,null,0,!0),this.insertShaderBorders(i,u,A,-A,null,0,!1),this.insertShaderBorders(i,u,A,null,-A,0,!0),this.insertShaderBorders(i,u,A,null,-A,0,!1),this.insertShaderBorders(i,A,u+A,-A,null,-A,!0),this.insertShaderBorders(i,A,u+A,null,-A,-A,!0),this.insertShaderBorders(i,A,u+A,-A,null,-A,!1),this.insertShaderBorders(i,A,u+A,null,-A,-A,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,r,n,s,i,o,l){var A=document.createElement("div");A.style.position="absolute",A.style.backgroundColor=Ao.BORDER_SHADER_DEFAULT_COLOR,A.style.width="".concat(r,"px"),A.style.height="".concat(n,"px"),s!==null&&(A.style.top="".concat(s,"px")),i!==null&&(A.style.bottom="".concat(i,"px")),l?A.style.left="".concat(o,"px"):A.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(A),t.appendChild(A)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Uk;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Uk||(Uk={}));const Bbe=({onScanSuccess:e,onClose:t,isOpen:r})=>{const n=B.useRef(null),[s,i]=B.useState(!1),[o,l]=B.useState(null),[A,u]=B.useState(null),[h,m]=B.useState([]),[y,g]=B.useState(!1),[b,C]=B.useState("environment"),I=B.useRef("qr-reader-"+Math.random().toString(36).substring(2)),v=B.useRef(!1),N=typeof window.cordova<"u",F=async()=>{var R,H;if(!N)return!0;try{const J=(H=(R=window.cordova)==null?void 0:R.plugins)==null?void 0:H.permissions;if(!J)return!0;const ne=J.CAMERA||"android.permission.CAMERA";return await new Promise(Y=>{typeof J.hasPermission=="function"?J.hasPermission(ne,G=>{G&&G.hasPermission?Y(!0):J.requestPermission(ne,K=>Y(!!(K&&K.hasPermission)),()=>Y(!1))},()=>{J.requestPermission(ne,G=>Y(!!(G&&G.hasPermission)),()=>Y(!1))}):typeof J.checkPermission=="function"?J.checkPermission(ne,G=>{G&&G.hasPermission?Y(!0):J.requestPermission(ne,K=>Y(!!(K&&K.hasPermission)),()=>Y(!1))},()=>{J.requestPermission(ne,G=>Y(!!(G&&G.hasPermission)),()=>Y(!1))}):Y(!0)})}catch(J){return console.warn("requestCameraPermission failed, allowing fallback:",J),!0}},T=async()=>{if(!await F()){l("Camera permission is required to scan QR codes. Please allow it when prompted or enable it in Settings.");return}try{window.cordova.plugins.barcodeScanner.scan(H=>{H.cancelled||e(H.text),t()},H=>{console.error("Cordova scan failed:",H),l("Scanning failed: "+((H==null?void 0:H.message)||H))},{showTorchButton:!0,prompt:"Place a QR code inside the scan area",orientation:"portrait"})}catch(H){console.error("startCordovaScanner error:",H),l("Failed to start native scanner.")}},D=async()=>{try{const H=(await navigator.mediaDevices.enumerateDevices()).filter(J=>J.kind==="videoinput");return m(H),H}catch(R){return console.error("Error getting cameras:",R),l("Could not access camera devices."),[]}},V=async(R,H)=>{try{if(v.current)return;if(v.current=!0,l(null),i(!0),!await F()){i(!1),v.current=!1,l("Camera permission denied. Please grant camera access in app settings.");return}if(n.current){try{await n.current.stop()}catch{}try{await n.current.clear()}catch{}n.current=null}const ne=document.getElementById(I.current);ne&&(ne.innerHTML="");let Y=0;for(;!document.getElementById(I.current)&&Y<5;)await new Promise(requestAnimationFrame),Y++;const G=new Cbe(I.current);n.current=G;const K={fps:10,qrbox:{width:250,height:250},aspectRatio:1};await G.start(H?{facingMode:H}:R||{facingMode:b},K,q=>{console.log("Barcode scanned:",q),e(q)},q=>{const X=typeof q=="string"?q:q&&q.message?q.message:"";X&&!X.includes("No QR code found")&&console.warn("QR Code scan error:",q)}),g(!0),i(!1),v.current=!1}catch(J){console.error("Scanner error:",J),l(J.message||"Failed to start camera"),i(!1),g(!1),v.current=!1}},P=async()=>{try{if(n.current){try{await n.current.stop()}catch{}try{await n.current.clear()}catch{}n.current=null}g(!1)}catch(R){console.error("Error stopping scanner:",R)}},U=async()=>{v.current||(y?await P():await V(A||void 0))},k=async()=>{if(!h.length||v.current)return;const H=(h.findIndex(ne=>ne.deviceId===A)+1)%h.length,J=h[H].deviceId;u(J),await V(J)},z=async()=>{if(v.current)return;const R=b==="environment"?"user":"environment";C(R),u(null),await V(void 0,R)};return B.useEffect(()=>(r&&(N?(async()=>{if(!await F()){l("Camera permission is required to scan QR codes.");return}T()})():(async()=>{if(!await F()){l("Camera permission is required to scan QR codes.");return}const H=await D();H.length>0?(u(H[0].deviceId),await V(H[0].deviceId)):l("No cameras found on this device.")})()),()=>{N||P()}),[r]),!r||N?null:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(yee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Scan Library Barcode"]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(zA,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[o?a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 flex-1 flex flex-col items-center justify-center",children:[a.jsx(ya,{className:"w-12 h-12 text-red-500 mb-3"}),a.jsx("p",{className:"text-red-700 text-center mb-4",children:o}),a.jsxs("button",{onClick:()=>{l(null),V(A||void 0)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[a.jsx(UF,{className:"w-4 h-4 mr-2"}),"Try Again"]})]}):a.jsxs("div",{className:"relative flex-1 bg-black rounded-lg overflow-hidden",children:[a.jsx("div",{id:I.current,className:"w-full h-full",style:{minHeight:"300px"}}),s&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-500 mr-2"}),a.jsx("span",{children:"Initializing camera..."})]})})]}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Position the library's barcode within the scanning area"}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx("button",{onClick:U,className:"p-3 bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors",title:y?"Turn off camera":"Turn on camera",children:y?a.jsx(Oee,{className:"w-6 h-6"}):a.jsx(Ree,{className:"w-6 h-6"})}),a.jsx("button",{onClick:z,className:"p-3 bg-indigo-100 text-indigo-700 rounded-full hover:bg-indigo-200 transition-colors",title:`Flip to ${b==="environment"?"front":"back"} camera`,children:a.jsx(hB,{className:"w-6 h-6"})}),h.length>1&&a.jsx("button",{onClick:k,className:"p-3 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",title:"Switch camera",children:a.jsx(UF,{className:"w-6 h-6"})})]})]})]}),a.jsx("div",{className:"p-4 border-t bg-gray-50",children:a.jsx("button",{onClick:t,className:"w-full px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close Scanner"})})]})})},Nbe=()=>{const[e,t]=B.useState([]),[r,n]=B.useState(!0);B.useEffect(()=>{(async()=>{try{n(!0);const o=await De.getAnnouncements();t(o)}catch(o){console.error("Error fetching announcements:",o),je.error("Failed to load announcements")}finally{n(!1)}})()},[]);const s=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?a.jsx("div",{className:"flex justify-center items-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx(W0,{className:"h-6 w-6 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Announcements"})]}),e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(W0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No announcements"}),a.jsx("p",{className:"text-gray-500",children:"No announcements available at the moment."})]}):a.jsx("div",{className:"space-y-4",children:e.map(i=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"mb-3",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title})}),a.jsx("div",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:i.content}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(qo,{className:"h-4 w-4"}),a.jsxs("span",{children:["By ",i.created_by_name]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(rl,{className:"h-4 w-4"}),a.jsx("span",{children:s(i.created_at)})]}),a.jsx("div",{className:"flex items-center space-x-1",children:i.is_global?a.jsxs(a.Fragment,{children:[a.jsx(uS,{className:"h-4 w-4"}),a.jsx("span",{children:"Global"})]}):a.jsxs(a.Fragment,{children:[a.jsx(dm,{className:"h-4 w-4"}),a.jsx("span",{children:"Branch Specific"})]})}),(i.start_date||i.end_date)&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ya,{className:"h-4 w-4"}),a.jsxs("span",{children:[i.start_date&&`From ${s(i.start_date)}`,i.start_date&&i.end_date&&" ",i.end_date&&`Until ${s(i.end_date)}`]})]})]})]},i.id))})]})},Sbe=e=>{switch(e){case"Approved":return"bg-green-100 text-green-800";case"Not Approved":return"bg-red-100 text-red-800";case"Done":return"bg-blue-100 text-blue-800";case"Not Done":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},tV=()=>{const[e,t]=B.useState([]),[r,n]=B.useState(!0),[s,i]=B.useState(null),o=Rr();return B.useEffect(()=>{(async()=>{try{n(!0);const u=(await De.getQueries()).sort((h,m)=>m.upvotes-h.upvotes);t(u)}catch(A){i("Failed to load queries"),console.error("Error fetching queries:",A)}finally{n(!1)}})()},[]),r?a.jsx("div",{className:"p-6 text-center",children:"Loading..."}):s?a.jsx("div",{className:"p-6 text-center text-red-500",children:s}):a.jsx("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Public Queries"}),a.jsx("button",{onClick:()=>o("/queries/new"),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-indigo-700 transition-colors",children:"Ask a Question"})]}),a.jsx("div",{className:"space-y-4",children:e.map(l=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer hover:shadow-md transition-shadow border border-gray-200",onClick:()=>o(`/queries/${l.id}`),children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:l.title}),a.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Sbe(l.status)}`,children:l.status})]}),a.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Posted by ",a.jsx("span",{className:"font-medium text-gray-700",children:l.studentName})," on ",new Date(l.createdAt).toLocaleDateString()]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:l.description}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 pt-3 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(gS,{className:"w-4 h-4 text-green-500"}),l.upvotes]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(pS,{className:"w-4 h-4 text-red-500"}),l.downvotes]})]}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(l.updatedAt).toLocaleDateString()!==new Date(l.createdAt).toLocaleDateString()?`Updated on ${new Date(l.updatedAt).toLocaleDateString()}`:""})]})]},l.id))})]})})},Ebe=()=>{const e=Rr(),[t,r]=B.useState(null),[n,s]=B.useState(!0),[i,o]=B.useState(!1),[l,A]=B.useState([]),[u,h]=B.useState([]),[m,y]=B.useState([]),[g,b]=B.useState([]),[C,I]=B.useState("overview"),[v,N]=B.useState("monthly"),[F,T]=B.useState(new Date),[D,V]=B.useState(!1),[P,U]=B.useState(null);B.useState(!1);const k=async()=>{try{const X=await De.getAttendanceStatus();U(X)}catch(X){console.error("Error fetching attendance status:",X),er.error("Failed to load attendance status")}},z=B.useCallback(async()=>{if(t){V(!0);try{const X={view:v};v==="monthly"?(X.month=F.getMonth()+1,X.year=F.getFullYear()):X.date=F.toISOString().split("T")[0],console.log("Fetching attendance with params:",X);const fe=await De.getStudentAttendanceHistory(X);A(fe.attendance||[])}catch(X){er.error("Failed to fetch attendance records."),console.error("Error fetching attendance data:",X)}finally{V(!1)}}},[t,v,F]);B.useEffect(()=>{(async()=>{try{s(!0);const[fe,de,Q]=await Promise.all([De.getStudentProfile(),De.getStudentMembershipHistory(),De.getStudentTransactions()]);fe&&fe.student&&r(fe.student),de&&(de.membershipHistory&&h(de.membershipHistory),de.monthlySummary&&y(de.monthlySummary)),Q&&Q.transactions&&b(Q.transactions),await k()}catch(fe){er.error("Failed to load student data."),console.error("Error fetching student data:",fe)}finally{s(!1)}})()},[]),B.useEffect(()=>{C==="attendance"&&t&&z()},[C,t,z]);const R=async X=>{o(!1);try{const fe=await De.markAttendanceWithQR(X);fe&&fe.message&&(er.success(fe.message),await z())}catch(fe){er.error("Failed to mark attendance."),console.error("Error marking attendance with QR:",fe)}},H=async()=>{try{await Ei("/student-auth/logout",{method:"POST"}),e("/student-login")}catch(X){console.error("Logout error:",X),e("/student-login")}},J=X=>{switch(X.toLowerCase()){case"active":case"paid":return"text-green-600 bg-green-100";case"expired":return"text-red-600 bg-red-100";case"inactive":return"text-gray-600 bg-gray-100";default:return"text-yellow-600 bg-yellow-100"}},ne=X=>{switch(X.toLowerCase()){case"active":return a.jsx(mc,{className:"w-4 h-4"});case"expired":return a.jsx(Eh,{className:"w-4 h-4"});default:return a.jsx(ya,{className:"w-4 h-4"})}},Y=X=>{const fe=typeof X=="string"?parseFloat(X):X;return fe==null||isNaN(fe)?"0.00":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(fe)},G=X=>{if(!X)return"N/A";const fe=new Date(X);return isNaN(fe.getTime())?"Invalid Date":fe.toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})},K=X=>{const fe=new Date(X),de=new Date,Q=fe.getTime()-de.getTime(),Z=Math.ceil(Q/(1e3*60*60*24));return Z<=30&&Z>0},q=X=>new Date(X)<new Date;return n?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 text-center",children:"Loading your dashboard..."})]})}):t?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 py-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:a.jsx(qo,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Dashboard"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome back, ",t.name,"!"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 overflow-x-auto whitespace-nowrap w-full sm:w-auto",children:[a.jsx(j5,{studentId:t.id,studentName:t.name,className:"mr-2 shrink-0",id:"invoice",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Student Details"}),a.jsxs("p",{className:"text-gray-600",children:["Generated on: ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",t.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",t.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",t.phone]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Registration #:"})," ",t.registrationNumber]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Membership Status"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${t.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Start Date:"})," ",new Date(t.membershipStart).toLocaleDateString()]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"End Date:"})," ",new Date(t.membershipEnd).toLocaleDateString()]})]})]})]}),l.length>0&&a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Attendance"}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First In"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Out"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.slice(0,5).map(X=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(X.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.firstIn?new Date(X.firstIn).toLocaleTimeString():"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.lastOut?new Date(X.lastOut).toLocaleTimeString():"N/A"})]},X.id))})]})})]}),a.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:a.jsx("p",{children:"This is an auto-generated report. For any discrepancies, please contact support."})})]})}),a.jsxs("button",{onClick:H,className:"shrink-0 flex items-center space-x-2 bg-red-100 text-red-700 px-3 py-2 sm:px-4 rounded-lg hover:bg-red-200 transition-colors text-sm",children:[a.jsx(gR,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.membershipEnd&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg border ${q(t.membershipEnd)?"bg-red-50 border-red-200 text-red-800":K(t.membershipEnd)?"bg-yellow-50 border-yellow-200 text-yellow-800":"bg-green-50 border-green-200 text-green-800"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[q(t.membershipEnd)?a.jsx(Eh,{className:"w-5 h-5"}):K(t.membershipEnd)?a.jsx(ya,{className:"w-5 h-5"}):a.jsx(mc,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:q(t.membershipEnd)?"Membership Expired":K(t.membershipEnd)?"Membership Expiring Soon":"Membership Active"})]}),a.jsx("p",{className:"mt-1 text-sm",children:q(t.membershipEnd)?`Your membership expired on ${G(t.membershipEnd)}. Please renew to continue library services.`:K(t.membershipEnd)?`Your membership expires on ${G(t.membershipEnd)}. Please renew soon.`:`Your membership is active until ${G(t.membershipEnd)}.`})]}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[a.jsx(NA,{className:"w-5 h-5"}),a.jsx("span",{children:"Scan QR Code"})]}),a.jsxs("button",{onClick:()=>I("attendance"),className:"flex items-center space-x-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[a.jsx(Js,{className:"w-5 h-5"}),a.jsx("span",{children:"View Attendance"})]}),a.jsxs("button",{onClick:()=>I("membership"),className:"flex items-center space-x-2 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors shadow-sm",children:[a.jsx(Mm,{className:"w-5 h-5"}),a.jsx("span",{children:"Membership History"})]})]})]})}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto whitespace-nowrap px-1",children:[{id:"overview",label:"Overview",icon:qo},{id:"attendance",label:"Attendance",icon:Js},{id:"membership",label:"Membership History",icon:Mm},{id:"announcements",label:"Announcements",icon:W0},{id:"queries",label:"Public Queries",icon:vee}].map(({id:X,label:fe,icon:de})=>a.jsxs("button",{onClick:()=>I(X),className:`shrink-0 flex items-center gap-2 py-3 px-2 sm:px-1 border-b-2 font-medium text-sm ${C===X?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(de,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:fe})]},X))})})}),C==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(qo,{className:"w-5 h-5"}),a.jsx("span",{children:"Profile Information"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(qo,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.name})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(WA,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone Number"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.phone})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Cd,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.email})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Cee,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Registration Number"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.registrationNumber})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(dm,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.address})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[ne(t.status),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(t.status)}`,children:t.status})]})]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(rl,{className:"w-5 h-5"}),a.jsx("span",{children:"Current Membership"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Membership Start Date"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:G(t.membershipStart)})]})}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Membership End Date"}),a.jsx("p",{className:`text-2xl font-bold ${q(t.membershipEnd)?"text-red-600":K(t.membershipEnd)?"text-yellow-600":"text-green-600"}`,children:G(t.membershipEnd)})]})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(dB,{className:"w-5 h-5"}),a.jsx("span",{children:"Invoices"})]}),a.jsx(j5,{studentId:t.id,studentName:t.name,className:"text-sm",variant:"text"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:'View and download your membership invoices. Click the "Download Invoice" button above to get the latest invoice.'}),u.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Invoices"}),a.jsx("ul",{className:"divide-y divide-gray-200",children:u.slice(0,3).map((X,fe)=>a.jsxs("li",{className:"py-3 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[G(X.membershipStart)," - ",G(X.membershipEnd)]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[Y(X.amountPaid)," paid  ",G(X.changed_at)]})]}),a.jsx(j5,{studentId:t.id,studentName:t.name,className:"text-xs",variant:"text"})]},fe))}),u.length>3&&a.jsx("button",{onClick:()=>I("membership"),className:"mt-2 text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"View all invoices"})]})]})})]})]}),C==="attendance"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(Js,{className:"w-5 h-5"}),a.jsx("span",{children:"Today's Status"})]})}),a.jsx("div",{className:"p-6",children:P?a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-3 h-3 rounded-full animate-pulse ${P.currentStatus==="checked_in"?"bg-green-500":"bg-gray-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:P.currentStatus==="checked_in"?"Currently Checked In":"Currently Checked Out"}),a.jsx("p",{className:"text-sm text-gray-500",children:P.hasMarkedToday?`First check-in today at ${P.firstIn?new Date(P.firstIn).toLocaleTimeString("en-IN"):"N/A"}`:"No attendance recorded yet today."})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Next Action"}),a.jsxs("p",{className:"text-lg font-semibold text-blue-600 capitalize",children:["Scan to Check ",P.nextAction]})]})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{children:"Loading today's status..."})})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(Mm,{className:"w-5 h-5"}),a.jsx("span",{children:"Attendance History"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center bg-gray-200 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>N("daily"),className:`px-3 py-1 text-sm font-medium rounded-md ${v==="daily"?"bg-white text-gray-800 shadow-sm":"bg-transparent text-gray-600"}`,children:"Daily"}),a.jsx("button",{onClick:()=>N("monthly"),className:`px-3 py-1 text-sm font-medium rounded-md ${v==="monthly"?"bg-white text-gray-800 shadow-sm":"bg-transparent text-gray-600"}`,children:"Monthly"})]}),v==="daily"&&a.jsx("input",{type:"date",value:F.toISOString().split("T")[0],onChange:X=>T(new Date(X.target.value)),className:"p-1.5 border border-gray-300 rounded-lg text-sm"}),v==="monthly"&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>T(X=>new Date(X.getFullYear(),X.getMonth()-1,1)),className:"p-2 rounded-l-lg bg-gray-200 hover:bg-gray-300",children:a.jsx(Pd,{className:"w-4 h-4"})}),a.jsx("input",{type:"month",value:`${F.getFullYear()}-${String(F.getMonth()+1).padStart(2,"0")}`,onChange:X=>T(new Date(X.target.value)),className:"p-1.5 border-t border-b border-gray-300 text-sm w-36 text-center"}),a.jsx("button",{onClick:()=>T(X=>new Date(X.getFullYear(),X.getMonth()+1,1)),className:"p-2 rounded-r-lg bg-gray-200 hover:bg-gray-300",children:a.jsx(Cn,{className:"w-4 h-4"})})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:D?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First Check-in"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Check-out"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Hours"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.length>0?l.map(X=>{const fe=X.firstIn?new Date(X.firstIn):null,de=X.lastOut?new Date(X.lastOut):null;let Q="",Z="Absent",ae="bg-red-100 text-red-800";if(fe)if(de){const ee=de.getTime()-fe.getTime();if(ee>=0){const oe=Math.floor(ee/36e5),pe=Math.floor(ee%36e5/6e4);Q=`${oe}h ${pe}m`,Z="Completed",ae="bg-green-100 text-green-800"}else Q="Error",Z="Error"}else Q="Ongoing",Z="Present",ae="bg-yellow-100 text-yellow-800";return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:G(X.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ae}`,children:Z})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:fe?fe.toLocaleTimeString("en-IN"):"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:de?de.toLocaleTimeString("en-IN"):"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:Q})]},X.id)}):a.jsx("tr",{children:a.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(Js,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No attendance records found for this period."})]})})})]})})]})]}),C==="membership"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(Mm,{className:"w-5 h-5"}),a.jsx("span",{children:"Membership History"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Complete payment and membership details"})]}),a.jsx("div",{className:"p-4 sm:p-6",children:u.length>0?a.jsx("div",{className:"space-y-6",children:u.map(X=>a.jsxs("div",{className:"border rounded-xl p-4 sm:p-6 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4",children:[a.jsx("div",{className:"mb-2 sm:mb-0",children:a.jsxs("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:[G(X.membershipStart)," - ",G(X.membershipEnd)]})}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${J(X.status)} self-start`,children:X.status})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(RF,{className:"w-4 h-4 text-blue-600"}),a.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Fee"})]}),a.jsx("p",{className:"text-xl font-bold text-blue-900",children:Y(X.totalFee)})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(mc,{className:"w-4 h-4 text-green-600"}),a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Total Paid"})]}),a.jsx("p",{className:"text-xl font-bold text-green-900",children:Y(X.amountPaid)})]}),a.jsxs("div",{className:`rounded-lg p-4 ${X.dueAmount>0?"bg-red-50":"bg-green-50"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(ya,{className:`w-4 h-4 ${X.dueAmount>0?"text-red-600":"text-green-600"}`}),a.jsx("p",{className:`text-sm font-medium ${X.dueAmount>0?"text-red-800":"text-green-800"}`,children:"Due Amount"})]}),a.jsx("p",{className:`text-xl font-bold ${X.dueAmount>0?"text-red-900":"text-green-900"}`,children:Y(X.dueAmount)})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Ny,{className:"w-4 h-4 text-purple-600"}),a.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Payment Status"})]}),a.jsx("p",{className:`text-sm font-semibold ${X.dueAmount>0?"text-red-600":"text-green-600"}`,children:X.dueAmount>0?"Pending":"Completed"})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center space-x-2",children:[a.jsx(RF,{className:"w-4 h-4"}),a.jsx("span",{children:"Payment Breakdown"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Cash Payment"})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Y(X.cash||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Online Payment"})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Y(X.online||0)})]})]})]}),(X.remark||X.shift_id||X.seat_id)&&a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center space-x-2",children:[a.jsx(dB,{className:"w-4 h-4"}),a.jsx("span",{children:"Additional Details"})]}),a.jsxs("div",{className:"space-y-2",children:[X.shift_id&&a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500 w-20",children:"Shift ID:"}),a.jsx("span",{className:"text-sm text-gray-900",children:X.shift_id})]}),X.seat_id&&a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500 w-20",children:"Seat ID:"}),a.jsx("span",{className:"text-sm text-gray-900",children:X.seat_id})]}),X.remark&&a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500 w-20 flex-shrink-0",children:"Remark:"}),a.jsx("span",{className:"text-sm text-gray-900 mt-1 sm:mt-0",children:X.remark})]})]})]})]},X.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Mm,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-gray-500",children:"No membership history found"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your membership records will appear here"})]})})]}),C==="transactions"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(Ny,{className:"w-5 h-5"}),a.jsx("span",{children:"Transaction History"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.length>0?g.map(X=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:G(X.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${X.type.toLowerCase()==="payment"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:X.type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:Y(X.amount)})]},X.id)):a.jsx("tr",{children:a.jsxs("td",{colSpan:3,className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(Ny,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No transactions found"})]})})})]})})]}),C==="announcements"&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:a.jsx("div",{className:"p-6",children:a.jsx(Nbe,{branchId:t==null?void 0:t.branchId})})}),C==="queries"&&a.jsx(tV,{})]}),i&&a.jsx(Bbe,{isOpen:i,onScanSuccess:R,onClose:()=>o(!1)})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[a.jsx(Eh,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Could not load profile"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page or contact support."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})})},Ibe=()=>{const e=Rr();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-4xl w-full",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx(pee,{className:"h-12 w-12 text-blue-600 mr-3"}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Library Management System"})]}),a.jsx("p",{className:"text-xl text-gray-600",children:"Multi-tenant library management with attendance tracking"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8 max-w-2xl mx-auto",children:[a.jsxs(On,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-blue-300",children:[a.jsxs(Fi,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(Fc,{className:"h-12 w-12 text-blue-600"})}),a.jsx(ji,{className:"text-xl text-blue-700",children:"Library Owner / Staff"}),a.jsx(_c,{children:"Manage your library, students, attendance records, and staff operations"})]}),a.jsxs(Ss,{className:"space-y-3",children:[a.jsx(cr,{onClick:()=>e("/owner-login"),className:"w-full bg-blue-600 hover:bg-blue-700",children:"Owner Login"}),a.jsx(cr,{onClick:()=>e("/owner-register"),variant:"outline",className:"w-full border-blue-600 text-blue-600 hover:bg-blue-50",children:"Register New Library"})]})]}),a.jsxs(On,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-green-300",children:[a.jsxs(Fi,{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(mR,{className:"h-12 w-12 text-green-600"})}),a.jsx(ji,{className:"text-xl text-green-700",children:"Student"}),a.jsx(_c,{children:"View your profile and mark attendance"})]}),a.jsxs(Ss,{className:"space-y-3",children:[a.jsx(cr,{onClick:()=>e("/student-login"),className:"w-full bg-green-600 hover:bg-green-700",children:"Student Login"}),a.jsx("div",{className:"text-sm text-gray-500 text-center",children:"Use your library code and phone number"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 text-center",children:"System Features"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold text-blue-700",children:"For Library Owners & Staff:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"Register and manage your library"}),a.jsx("li",{children:"Add and manage students"}),a.jsx("li",{children:"Track student attendance"}),a.jsx("li",{children:"View detailed reports and statistics"}),a.jsx("li",{children:"Staff operations and locker management"}),a.jsx("li",{children:"Complete data isolation per library"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold text-green-700",children:"For Students:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"Login with library code and phone"}),a.jsx("li",{children:"View personal profile and details"}),a.jsx("li",{children:"Mark daily attendance"}),a.jsx("li",{children:"View attendance history"}),a.jsx("li",{children:"Secure access to own data only"})]})]})]})]}),a.jsx("div",{className:"text-center mt-8 text-gray-500 text-sm",children:a.jsx("p",{children:"Multi-tenant library management system with secure data isolation"})})]})})},Fbe=()=>{const e=Rr();Ca();const[t,r]=B.useState(null),[n,s]=B.useState(!0);B.useEffect(()=>{i()},[]);const i=async()=>{try{r({id:1,library_code:"MSL001",name:"MAA SARASWATI LIBRARY"})}catch(l){console.error("Error loading library data:",l),je.error("Failed to load library information")}finally{s(!1)}},o=()=>{e("/")};return n?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading barcode..."})]})}):t?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:o,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(sl,{className:"w-5 h-5 mr-2"}),"Back to Dashboard"]})}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(NA,{className:"w-6 h-6 text-purple-600 mr-2"}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Library Barcode"})]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-orange-400 px-6 py-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),a.jsxs("p",{className:"text-purple-100 mt-1",children:["Library Code: ",t.library_code]})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Student Attendance Barcode"}),a.jsx("p",{className:"text-gray-600",children:"Students can scan this barcode to mark their attendance automatically"})]}),a.jsx(c1,{libraryCode:t.library_code,libraryName:t.name,libraryId:t.id,isOpen:!0,onClose:()=>{}}),a.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Use This Barcode"}),a.jsxs("div",{className:"space-y-3 text-blue-800",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"1"}),a.jsx("p",{children:"Display this barcode prominently at your library entrance"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"2"}),a.jsx("p",{children:"Students can scan it using their phone camera or the scanner in their student account"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"3"}),a.jsx("p",{children:"Attendance will be marked automatically with in/out toggle functionality"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"4"}),a.jsx("p",{children:"Only students registered with your library can mark attendance using this barcode"})]})]})]}),a.jsx("div",{className:"mt-6 bg-amber-50 border border-amber-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(NA,{className:"h-5 w-5 text-amber-400"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Security Notice"}),a.jsx("div",{className:"mt-2 text-sm text-amber-700",children:a.jsx("p",{children:"This barcode is unique to your library and contains your library code. Students from other libraries cannot use this barcode to mark attendance. Each scan is verified against the student's registered library."})})]})]})})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(NA,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load library information"}),a.jsx("button",{onClick:o,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Go Back"})]})})},jbe=()=>a.jsx("div",{className:"flex justify-center items-center w-full h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}),_be=({isAdmin:e,onAdd:t})=>a.jsxs("div",{className:"text-center bg-white rounded-xl shadow-sm border border-gray-200 p-12 mt-6",children:[a.jsx(W0,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Announcements Yet"}),a.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:e?"It's a bit quiet in here. Click 'New Announcement' to share updates with everyone.":"There are currently no announcements to display. Please check back later."}),e&&t&&a.jsxs("button",{onClick:t,className:"mt-6 flex items-center mx-auto space-x-2 bg-indigo-600 text-white px-5 py-2.5 rounded-lg hover:bg-indigo-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[a.jsx(tv,{className:"h-5 w-5"}),a.jsx("span",{children:"Create First Announcement"})]})]}),Mk=({isAdmin:e=!1,branchId:t,onEdit:r,onAdd:n})=>{const[s,i]=B.useState([]),[o,l]=B.useState(!0),[A,u]=B.useState(null),h=async()=>{try{l(!0);const g=t&&!e?{branch_id:t}:{},C=(await De.getAnnouncements(g)).map(I=>({id:I.id,title:I.title,content:I.content,branchId:I.branchId??I.branch_id??null,branchName:I.branchName??I.branch_name??null,isGlobal:I.isGlobal??I.is_global??!1,startDate:I.startDate??I.start_date??null,endDate:I.endDate??I.end_date??null,createdBy:I.createdBy??I.created_by??0,createdByName:I.createdByName??I.created_by_name??"",createdAt:I.createdAt??I.created_at??new Date().toISOString(),updatedAt:I.updatedAt??I.updated_at??new Date().toISOString(),isActive:I.isActive??I.is_active??!0}));i(C.sort((I,v)=>new Date(v.createdAt).getTime()-new Date(I.createdAt).getTime()))}catch(g){console.error("Error fetching announcements:",g),je.error("Failed to load announcements. Please try again.")}finally{l(!1)}},m=async g=>{u(g);try{await De.deleteAnnouncement(g),je.success("Announcement deleted successfully"),i(b=>b.filter(C=>C.id!==g))}catch(b){console.error("Error deleting announcement:",b),je.error("Failed to delete announcement.")}finally{u(null)}};B.useEffect(()=>{h()},[t]);const y=g=>g?new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):null;return o?a.jsx(jbe,{}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:e?"Manage Announcements":"Latest Updates"}),a.jsx("p",{className:"mt-1 text-md text-gray-500",children:"View, create, and manage all company-wide and branch-specific announcements."})]}),e&&n&&a.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[a.jsx(tv,{className:"h-5 w-5"}),a.jsx("span",{className:"hidden sm:block",children:"New Announcement"})]})]}),s.length===0?a.jsx(_be,{isAdmin:e,onAdd:n}):a.jsx("div",{className:"space-y-4",children:s.map(g=>a.jsxs("div",{className:`bg-white border rounded-xl shadow-sm transition-all duration-300 hover:shadow-lg hover:-translate-y-1 overflow-hidden ${g.isActive?"border-gray-200":"opacity-60 bg-gray-50"}`,children:[a.jsxs("div",{className:"p-5 border-b border-gray-200 flex justify-between items-start gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:g.title}),!g.isActive&&a.jsx("span",{className:"text-xs font-medium bg-gray-200 text-gray-700 px-2 py-0.5 rounded-full mt-2 inline-block",children:"Inactive"})]}),e&&a.jsxs("div",{className:"flex space-x-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>r&&r(g),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:"Edit announcement",children:a.jsx(mS,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>m(g.id),disabled:A===g.id,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors disabled:opacity-50",title:"Delete announcement",children:A===g.id?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-red-600"}):a.jsx(il,{className:"h-5 w-5"})})]})]}),a.jsx("div",{className:"p-5 text-gray-600 text-base leading-relaxed whitespace-pre-wrap",children:g.content}),a.jsxs("div",{className:"px-5 py-4 bg-gray-50/70 border-t border-gray-200 flex flex-wrap items-center gap-x-6 gap-y-3 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-2",title:"Author",children:[a.jsx(qo,{className:"h-4 w-4"}),a.jsx("span",{children:g.createdByName})]}),a.jsxs("div",{className:"flex items-center space-x-2",title:`Published on ${y(g.createdAt)}`,children:[a.jsx(rl,{className:"h-4 w-4"}),a.jsx("span",{children:y(g.createdAt)})]}),a.jsxs("div",{className:"flex items-center space-x-2",title:g.isGlobal?"Global Announcement":`Branch: ${g.branchName||"Unknown"}`,children:[g.isGlobal?a.jsx(uS,{className:"h-4 w-4 text-blue-500"}):a.jsx(dm,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{children:g.isGlobal?"Global":g.branchName?`Branch: ${g.branchName}`:"Branch Specific"})]}),(g.startDate||g.endDate)&&a.jsxs("div",{className:"flex items-center space-x-2",title:"Active Dates",children:[a.jsx(Js,{className:"h-4 w-4 text-orange-500"}),a.jsxs("span",{children:[y(g.startDate)," - ",y(g.endDate)||"Ongoing"]})]})]})]},g.id))})]})};var Tbe=Object.defineProperty,kbe=(e,t,r)=>t in e?Tbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_5=(e,t,r)=>(kbe(e,typeof t!="symbol"?t+"":t,r),r);let Lbe=class{constructor(){_5(this,"current",this.detect()),_5(this,"handoffState","pending"),_5(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Bc=new Lbe;function Mv(e){var t,r;return Bc.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function Qv(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function qA(){let e=[],t={addEventListener(r,n,s,i){return r.addEventListener(n,s,i),t.add(()=>r.removeEventListener(n,s,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Qv(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=qA();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function XE(){let[e]=B.useState(qA);return B.useEffect(()=>()=>e.dispose(),[e]),e}let ea=(e,t)=>{Bc.isServer?B.useEffect(e,t):B.useLayoutEffect(e,t)};function uf(e){let t=B.useRef(e);return ea(()=>{t.current=e},[e]),t}let Dn=function(e){let t=uf(e);return Xe.useCallback((...r)=>t.current(...r),[t])},Pbe=B.createContext(void 0);function Obe(){return B.useContext(Pbe)}function DN(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function MA(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,MA),n}var f2=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(f2||{}),Zu=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Zu||{});function al(){let e=Dbe();return B.useCallback(t=>Rbe({mergeRefs:e,...t}),[e])}function Rbe({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??Ube;let A=rV(t,e);if(i)return sy(A,r,n,o,l);let u=s??0;if(u&2){let{static:h=!1,...m}=A;if(h)return sy(m,r,n,o,l)}if(u&1){let{unmount:h=!0,...m}=A;return MA(h?0:1,{0(){return null},1(){return sy({...m,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return sy(A,r,n,o,l)}function sy(e,t={},r,n,s){let{as:i=r,children:o,refName:l="ref",...A}=T5(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},h=typeof o=="function"?o(t):o;"className"in A&&A.className&&typeof A.className=="function"&&(A.className=A.className(t)),A["aria-labelledby"]&&A["aria-labelledby"]===A.id&&(A["aria-labelledby"]=void 0);let m={};if(t){let y=!1,g=[];for(let[b,C]of Object.entries(t))typeof C=="boolean"&&(y=!0),C===!0&&g.push(b.replace(/([A-Z])/g,I=>`-${I.toLowerCase()}`));if(y){m["data-headlessui-state"]=g.join(" ");for(let b of g)m[`data-${b}`]=""}}if(i===B.Fragment&&(Object.keys(eh(A)).length>0||Object.keys(eh(m)).length>0))if(!B.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(eh(A)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(eh(A)).concat(Object.keys(eh(m))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=h.props,g=y==null?void 0:y.className,b=typeof g=="function"?(...v)=>DN(g(...v),A.className):DN(g,A.className),C=b?{className:b}:{},I=rV(h.props,eh(T5(A,["ref"])));for(let v in m)v in I&&delete m[v];return B.cloneElement(h,Object.assign({},I,m,u,{ref:s(Mbe(h),u.ref)},C))}return B.createElement(i,Object.assign({},T5(A,["ref"]),i!==B.Fragment&&u,i!==B.Fragment&&m),h)}function Dbe(){let e=B.useRef([]),t=B.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function Ube(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function rV(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let n in r)Object.assign(t,{[n](s,...i){let o=r[n];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return t}function Xa(e){var t;return Object.assign(B.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function eh(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function T5(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function Mbe(e){return Xe.version.split(".")[0]>="19"?e.props.ref:e.ref}let Qbe="span";var m2=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(m2||{});function Hbe(e,t){var r;let{features:n=1,...s}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return al()({ourProps:i,theirProps:s,slot:{},defaultTag:Qbe,name:"Hidden"})}let UN=Xa(Hbe);function nV(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function pd(e){return nV(e)&&"tagName"in e}function rf(e){return pd(e)&&"accessKey"in e}function Ju(e){return pd(e)&&"tabIndex"in e}function Vbe(e){return pd(e)&&"style"in e}function Kbe(e){return rf(e)&&e.nodeName==="IFRAME"}function Gbe(e){return rf(e)&&e.nodeName==="INPUT"}let sV=Symbol();function Wbe(e,t=!0){return Object.assign(e,{[sV]:t})}function Uc(...e){let t=B.useRef(e);B.useEffect(()=>{t.current=e},[e]);let r=Dn(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||(n==null?void 0:n[sV]))?void 0:r}let YE=B.createContext(null);YE.displayName="DescriptionContext";function iV(){let e=B.useContext(YE);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,iV),t}return e}function zbe(){let[e,t]=B.useState([]);return[e.length>0?e.join(" "):void 0,B.useMemo(()=>function(r){let n=Dn(i=>(t(o=>[...o,i]),()=>t(o=>{let l=o.slice(),A=l.indexOf(i);return A!==-1&&l.splice(A,1),l}))),s=B.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Xe.createElement(YE.Provider,{value:s},r.children)},[t])]}let $be="p";function qbe(e,t){let r=B.useId(),n=Obe(),{id:s=`headlessui-description-${r}`,...i}=e,o=iV(),l=Uc(t);ea(()=>o.register(s),[s,o.register]);let A=n||!1,u=B.useMemo(()=>({...o.slot,disabled:A}),[o.slot,A]),h={ref:l,...o.props,id:s};return al()({ourProps:h,theirProps:i,slot:u,defaultTag:$be,name:o.name||"Description"})}let Xbe=Xa(qbe),Ybe=Object.assign(Xbe,{});var aV=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(aV||{});let Zbe=B.createContext(()=>{});function Jbe({value:e,children:t}){return Xe.createElement(Zbe.Provider,{value:e},t)}let oV=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var eCe=Object.defineProperty,tCe=(e,t,r)=>t in e?eCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rCe=(e,t,r)=>(tCe(e,t+"",r),r),lV=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Mo=(e,t,r)=>(lV(e,t,"read from private field"),r?r.call(e):t.get(e)),k5=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Qk=(e,t,r,n)=>(lV(e,t,"write to private field"),t.set(e,r),r),tc,xp,yp;let nCe=class{constructor(t){k5(this,tc,{}),k5(this,xp,new oV(()=>new Set)),k5(this,yp,new Set),rCe(this,"disposables",qA()),Qk(this,tc,t),Bc.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Mo(this,tc)}subscribe(t,r){if(Bc.isServer)return()=>{};let n={selector:t,callback:r,current:t(Mo(this,tc))};return Mo(this,yp).add(n),this.disposables.add(()=>{Mo(this,yp).delete(n)})}on(t,r){return Bc.isServer?()=>{}:(Mo(this,xp).get(t).add(r),this.disposables.add(()=>{Mo(this,xp).get(t).delete(r)}))}send(t){let r=this.reduce(Mo(this,tc),t);if(r!==Mo(this,tc)){Qk(this,tc,r);for(let n of Mo(this,yp)){let s=n.selector(Mo(this,tc));cV(n.current,s)||(n.current=s,n.callback(s))}for(let n of Mo(this,xp).get(t.type))n(Mo(this,tc),t)}}};tc=new WeakMap,xp=new WeakMap,yp=new WeakMap;function cV(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:L5(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:L5(e.entries(),t.entries()):Hk(e)&&Hk(t)?L5(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function L5(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function Hk(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var sCe=Object.defineProperty,iCe=(e,t,r)=>t in e?sCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vk=(e,t,r)=>(iCe(e,typeof t!="symbol"?t+"":t,r),r),aCe=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(aCe||{});let oCe={0(e,t){let r=t.id,n=e.stack,s=e.stack.indexOf(r);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(r),n=i,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let s=e.stack.slice();return s.splice(n,1),{...e,stack:s}}},lCe=class AV extends nCe{constructor(){super(...arguments),Vk(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Vk(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new AV({stack:[]})}reduce(t,r){return MA(r.type,oCe,t,r)}};const uV=new oV(()=>lCe.new());var dV={exports:{}},hV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1=B;function cCe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ACe=typeof Object.is=="function"?Object.is:cCe,uCe=N1.useSyncExternalStore,dCe=N1.useRef,hCe=N1.useEffect,fCe=N1.useMemo,mCe=N1.useDebugValue;hV.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=dCe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=fCe(function(){function A(g){if(!u){if(u=!0,h=g,g=n(g),s!==void 0&&o.hasValue){var b=o.value;if(s(b,g))return m=b}return m=g}if(b=m,ACe(h,g))return b;var C=n(g);return s!==void 0&&s(b,C)?(h=g,b):(h=g,m=C)}var u=!1,h,m,y=r===void 0?null:r;return[function(){return A(t())},y===null?void 0:function(){return A(y())}]},[t,r,n,s]);var l=uCe(e,i[0],i[1]);return hCe(function(){o.hasValue=!0,o.value=l},[l]),mCe(l),l};dV.exports=hV;var pCe=dV.exports;function fV(e,t,r=cV){return pCe.useSyncExternalStoreWithSelector(Dn(n=>e.subscribe(gCe,n)),Dn(()=>e.state),Dn(()=>e.state),Dn(t),r)}function gCe(e){return e}function S1(e,t){let r=B.useId(),n=uV.get(t),[s,i]=fV(n,B.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return ea(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?i?s:!0:!1}let MN=new Map,zp=new Map;function Kk(e){var t;let r=(t=zp.get(e))!=null?t:0;return zp.set(e,r+1),r!==0?()=>Gk(e):(MN.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Gk(e))}function Gk(e){var t;let r=(t=zp.get(e))!=null?t:1;if(r===1?zp.delete(e):zp.set(e,r-1),r!==1)return;let n=MN.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,MN.delete(e))}function xCe(e,{allowed:t,disallowed:r}={}){let n=S1(e,"inert-others");ea(()=>{var s,i;if(!n)return;let o=qA();for(let A of(s=r==null?void 0:r())!=null?s:[])A&&o.add(Kk(A));let l=(i=t==null?void 0:t())!=null?i:[];for(let A of l){if(!A)continue;let u=Mv(A);if(!u)continue;let h=A.parentElement;for(;h&&h!==u.body;){for(let m of h.children)l.some(y=>m.contains(y))||o.add(Kk(m));h=h.parentElement}}return o.dispose},[n,t,r])}function yCe(e,t,r){let n=uf(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&r()});B.useEffect(()=>{if(!e)return;let s=t===null?null:rf(t)?t:t.current;if(!s)return;let i=qA();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[t,n,e])}let p2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),wCe=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var xA=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(xA||{}),QN=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(QN||{}),vCe=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(vCe||{});function bCe(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(p2)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function CCe(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(wCe)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var mV=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(mV||{});function BCe(e,t=0){var r;return e===((r=Mv(e))==null?void 0:r.body)?!1:MA(t,{0(){return e.matches(p2)},1(){let n=e;for(;n!==null;){if(n.matches(p2))return!0;n=n.parentElement}return!1}})}var NCe=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(NCe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function EA(e){e==null||e.focus({preventScroll:!0})}let SCe=["textarea","input"].join(",");function ECe(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,SCe))!=null?r:!1}function ICe(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),i=t(n);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function $p(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?ICe(e):e:t&64?CCe(e):bCe(e);s.length>0&&o.length>1&&(o=o.filter(g=>!s.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===g:b===g))),n=n??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),A=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},h=0,m=o.length,y;do{if(h>=m||h+m<=0)return 0;let g=A+h;if(t&16)g=(g+m)%m;else{if(g<0)return 3;if(g>=m)return 1}y=o[g],y==null||y.focus(u),h+=l}while(y!==i.activeElement);return t&6&&ECe(y)&&y.select(),2}function pV(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function FCe(){return/Android/gi.test(window.navigator.userAgent)}function Wk(){return pV()||FCe()}function iy(e,t,r,n){let s=uf(r);B.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[e,t,n])}function gV(e,t,r,n){let s=uf(r);B.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[e,t,n])}const zk=30;function jCe(e,t,r){let n=uf(r),s=B.useCallback(function(l,A){if(l.defaultPrevented)return;let u=A(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let h=function m(y){return typeof y=="function"?m(y()):Array.isArray(y)||y instanceof Set?y:[y]}(t);for(let m of h)if(m!==null&&(m.contains(u)||l.composed&&l.composedPath().includes(m)))return;return!BCe(u,mV.Loose)&&u.tabIndex!==-1&&l.preventDefault(),n.current(l,u)},[n,t]),i=B.useRef(null);iy(e,"pointerdown",l=>{var A,u;Wk()||(i.current=((u=(A=l.composedPath)==null?void 0:A.call(l))==null?void 0:u[0])||l.target)},!0),iy(e,"pointerup",l=>{if(Wk()||!i.current)return;let A=i.current;return i.current=null,s(l,()=>A)},!0);let o=B.useRef({x:0,y:0});iy(e,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),iy(e,"touchend",l=>{let A={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(A.x-o.current.x)>=zk||Math.abs(A.y-o.current.y)>=zk))return s(l,()=>Ju(l.target)?l.target:null)},!0),gV(e,"blur",l=>s(l,()=>Kbe(window.document.activeElement)?window.document.activeElement:null),!0)}function Hv(...e){return B.useMemo(()=>Mv(...e),[...e])}function xV(e,t,r,n){let s=uf(r);B.useEffect(()=>{e=e??window;function i(o){s.current(o)}return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)},[e,t,n])}function _Ce(e){return B.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function TCe(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...i){let o=t[s].call(r,...i);o&&(r=o,n.forEach(l=>l()))}}}function kCe(){let e;return{before({doc:t}){var r;let n=t.documentElement,s=(r=t.defaultView)!=null?r:window;e=Math.max(0,s.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,s=Math.max(0,n.clientWidth-n.offsetWidth),i=Math.max(0,e-s);r.style(n,"paddingRight",`${i}px`)}}}function LCe(){return pV()?{before({doc:e,d:t,meta:r}){function n(s){return r.containers.flatMap(i=>i()).some(i=>i.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=qA();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(Ju(l.target))try{let A=l.target.closest("a");if(!A)return;let{hash:u}=new URL(A.href),h=e.querySelector(u);Ju(h)&&!n(h)&&(o=h)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(Ju(l.target)&&Vbe(l.target))if(n(l.target)){let A=l.target;for(;A.parentElement&&n(A.parentElement);)A=A.parentElement;t.style(A,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(Ju(l.target)){if(Gbe(l.target))return;if(n(l.target)){let A=l.target;for(;A.parentElement&&A.dataset.headlessuiPortal!==""&&!(A.scrollHeight>A.clientHeight||A.scrollWidth>A.clientWidth);)A=A.parentElement;A.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let A=(l=window.scrollY)!=null?l:window.pageYOffset;i!==A&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function PCe(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function OCe(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let mh=TCe(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:qA(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:OCe(r)},s=[LCe(),kCe(),PCe()];s.forEach(({before:i})=>i==null?void 0:i(n)),s.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});mh.subscribe(()=>{let e=mh.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&mh.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&mh.dispatch("TEARDOWN",r)}});function RCe(e,t,r=()=>({containers:[]})){let n=_Ce(mh),s=t?n.get(t):void 0,i=s?s.count>0:!1;return ea(()=>{if(!(!t||!e))return mh.dispatch("PUSH",t,r),()=>mh.dispatch("POP",t,r)},[e,t]),i}function DCe(e,t,r=()=>[document.body]){let n=S1(e,"scroll-lock");RCe(n,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],r]}})}function UCe(e=0){let[t,r]=B.useState(e),n=B.useCallback(A=>r(A),[t]),s=B.useCallback(A=>r(u=>u|A),[t]),i=B.useCallback(A=>(t&A)===A,[t]),o=B.useCallback(A=>r(u=>u&~A),[r]),l=B.useCallback(A=>r(u=>u^A),[r]);return{flags:t,setFlag:n,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:l}}var MCe={},$k,qk;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&(($k=process==null?void 0:MCe)==null?void 0:$k.NODE_ENV)==="test"&&typeof((qk=Element==null?void 0:Element.prototype)==null?void 0:qk.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var QCe=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(QCe||{});function HCe(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function VCe(e,t,r,n){let[s,i]=B.useState(r),{hasFlag:o,addFlag:l,removeFlag:A}=UCe(e&&s?3:0),u=B.useRef(!1),h=B.useRef(!1),m=XE();return ea(()=>{var y;if(e){if(r&&i(!0),!t){r&&l(3);return}return(y=n==null?void 0:n.start)==null||y.call(n,r),KCe(t,{inFlight:u,prepare(){h.current?h.current=!1:h.current=u.current,u.current=!0,!h.current&&(r?(l(3),A(4)):(l(4),A(2)))},run(){h.current?r?(A(3),l(4)):(A(4),l(3)):r?A(1):l(1)},done(){var g;h.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,A(7),r||i(!1),(g=n==null?void 0:n.end)==null||g.call(n,r))}})}},[e,r,t,m]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function KCe(e,{prepare:t,run:r,done:n,inFlight:s}){let i=qA();return WCe(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{r(),i.requestAnimationFrame(()=>{i.add(GCe(e,n))})}),i.dispose}function GCe(e,t){var r,n;let s=qA();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(l=>l instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{i||t()}),s.dispose)}function WCe(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function ZE(e,t){let r=B.useRef([]),n=Dn(e);B.useEffect(()=>{let s=[...r.current];for(let[i,o]of t.entries())if(r.current[i]!==o){let l=n(t,s);return r.current=t,l}},[n,...t])}let Vv=B.createContext(null);Vv.displayName="OpenClosedContext";var El=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(El||{});function Kv(){return B.useContext(Vv)}function zCe({value:e,children:t}){return Xe.createElement(Vv.Provider,{value:e},t)}function $Ce({children:e}){return Xe.createElement(Vv.Provider,{value:null},e)}function qCe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ku=[];qCe(()=>{function e(t){if(!Ju(t.target)||t.target===document.body||ku[0]===t.target)return;let r=t.target;r=r.closest(p2),ku.unshift(r??t.target),ku=ku.filter(n=>n!=null&&n.isConnected),ku.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function yV(e){let t=Dn(e),r=B.useRef(!1);B.useEffect(()=>(r.current=!1,()=>{r.current=!0,Qv(()=>{r.current&&t()})}),[t])}function XCe(){let e=typeof document>"u";return"useSyncExternalStore"in L0?(t=>t.useSyncExternalStore)(L0)(()=>()=>{},()=>!1,()=>!e):!1}function E1(){let e=XCe(),[t,r]=B.useState(Bc.isHandoffComplete);return t&&Bc.isHandoffComplete===!1&&r(!1),B.useEffect(()=>{t!==!0&&r(!0)},[t]),B.useEffect(()=>Bc.handoff(),[]),e?!1:t}let wV=B.createContext(!1);function YCe(){return B.useContext(wV)}function Xk(e){return Xe.createElement(wV.Provider,{value:e.force},e.children)}function ZCe(e){let t=YCe(),r=B.useContext(bV),[n,s]=B.useState(()=>{var i;if(!t&&r!==null)return(i=r.current)!=null?i:null;if(Bc.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return B.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),B.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),n}let vV=B.Fragment,JCe=Xa(function(e,t){let{ownerDocument:r=null,...n}=e,s=B.useRef(null),i=Uc(Wbe(g=>{s.current=g}),t),o=Hv(s),l=r??o,A=ZCe(l),[u]=B.useState(()=>{var g;return Bc.isServer?null:(g=l==null?void 0:l.createElement("div"))!=null?g:null}),h=B.useContext(HN),m=E1();ea(()=>{!A||!u||A.contains(u)||(u.setAttribute("data-headlessui-portal",""),A.appendChild(u))},[A,u]),ea(()=>{if(u&&h)return h.register(u)},[h,u]),yV(()=>{var g;!A||!u||(nV(u)&&A.contains(u)&&A.removeChild(u),A.childNodes.length<=0&&((g=A.parentElement)==null||g.removeChild(A)))});let y=al();return m?!A||!u?null:Td.createPortal(y({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:vV,name:"Portal"}),u):null});function e5e(e,t){let r=Uc(t),{enabled:n=!0,ownerDocument:s,...i}=e,o=al();return n?Xe.createElement(JCe,{...i,ownerDocument:s,ref:r}):o({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:vV,name:"Portal"})}let t5e=B.Fragment,bV=B.createContext(null);function r5e(e,t){let{target:r,...n}=e,s={ref:Uc(t)},i=al();return Xe.createElement(bV.Provider,{value:r},i({ourProps:s,theirProps:n,defaultTag:t5e,name:"Popover.Group"}))}let HN=B.createContext(null);function n5e(){let e=B.useContext(HN),t=B.useRef([]),r=Dn(i=>(t.current.push(i),e&&e.register(i),()=>n(i))),n=Dn(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),s=B.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,B.useMemo(()=>function({children:i}){return Xe.createElement(HN.Provider,{value:s},i)},[s])]}let s5e=Xa(e5e),CV=Xa(r5e),i5e=Object.assign(s5e,{Group:CV});function a5e(e,t=typeof document<"u"?document.defaultView:null,r){let n=S1(e,"escape");xV(t,"keydown",s=>{n&&(s.defaultPrevented||s.key===aV.Escape&&r(s))})}function o5e(){var e;let[t]=B.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=B.useState((e=t==null?void 0:t.matches)!=null?e:!1);return ea(()=>{if(!t)return;function s(i){n(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),r}function l5e({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=Hv(r),s=Dn(()=>{var i,o;let l=[];for(let A of e)A!==null&&(pd(A)?l.push(A):"current"in A&&pd(A.current)&&l.push(A.current));if(t!=null&&t.current)for(let A of t.current)l.push(A);for(let A of(i=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?i:[])A!==document.body&&A!==document.head&&pd(A)&&A.id!=="headlessui-portal-root"&&(r&&(A.contains(r)||A.contains((o=r==null?void 0:r.getRootNode())==null?void 0:o.host))||l.some(u=>A.contains(u))||l.push(A));return l});return{resolveContainers:s,contains:Dn(i=>s().some(o=>o.contains(i)))}}let BV=B.createContext(null);function Yk({children:e,node:t}){let[r,n]=B.useState(null),s=NV(t??r);return Xe.createElement(BV.Provider,{value:s},e,s===null&&Xe.createElement(UN,{features:m2.Hidden,ref:i=>{var o,l;if(i){for(let A of(l=(o=Mv(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(A!==document.body&&A!==document.head&&pd(A)&&A!=null&&A.contains(i)){n(A);break}}}}))}function NV(e=null){var t;return(t=B.useContext(BV))!=null?t:e}function JE(){let e=B.useRef(!1);return ea(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var wp=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(wp||{});function c5e(){let e=B.useRef(0);return gV(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function SV(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)pd(r.current)&&t.add(r.current);return t}let A5e="div";var nh=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(nh||{});function u5e(e,t){let r=B.useRef(null),n=Uc(r,t),{initialFocus:s,initialFocusFallback:i,containers:o,features:l=15,...A}=e;E1()||(l=0);let u=Hv(r);m5e(l,{ownerDocument:u});let h=p5e(l,{ownerDocument:u,container:r,initialFocus:s,initialFocusFallback:i});g5e(l,{ownerDocument:u,container:r,containers:o,previousActiveElement:h});let m=c5e(),y=Dn(N=>{if(!rf(r.current))return;let F=r.current;(T=>T())(()=>{MA(m.current,{[wp.Forwards]:()=>{$p(F,xA.First,{skipElements:[N.relatedTarget,i]})},[wp.Backwards]:()=>{$p(F,xA.Last,{skipElements:[N.relatedTarget,i]})}})})}),g=S1(!!(l&2),"focus-trap#tab-lock"),b=XE(),C=B.useRef(!1),I={ref:n,onKeyDown(N){N.key=="Tab"&&(C.current=!0,b.requestAnimationFrame(()=>{C.current=!1}))},onBlur(N){if(!(l&4))return;let F=SV(o);rf(r.current)&&F.add(r.current);let T=N.relatedTarget;Ju(T)&&T.dataset.headlessuiFocusGuard!=="true"&&(EV(F,T)||(C.current?$p(r.current,MA(m.current,{[wp.Forwards]:()=>xA.Next,[wp.Backwards]:()=>xA.Previous})|xA.WrapAround,{relativeTo:N.target}):Ju(N.target)&&EA(N.target)))}},v=al();return Xe.createElement(Xe.Fragment,null,g&&Xe.createElement(UN,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:m2.Focusable}),v({ourProps:I,theirProps:A,defaultTag:A5e,name:"FocusTrap"}),g&&Xe.createElement(UN,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:m2.Focusable}))}let d5e=Xa(u5e),h5e=Object.assign(d5e,{features:nh});function f5e(e=!0){let t=B.useRef(ku.slice());return ZE(([r],[n])=>{n===!0&&r===!1&&Qv(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=ku.slice())},[e,ku,t]),Dn(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function m5e(e,{ownerDocument:t}){let r=!!(e&8),n=f5e(r);ZE(()=>{r||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&EA(n())},[r]),yV(()=>{r&&EA(n())})}function p5e(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:s}){let i=B.useRef(null),o=S1(!!(e&1),"focus-trap#initial-focus"),l=JE();return ZE(()=>{if(e===0)return;if(!o){s!=null&&s.current&&EA(s.current);return}let A=r.current;A&&Qv(()=>{if(!l.current)return;let u=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===u){i.current=u;return}}else if(A.contains(u)){i.current=u;return}if(n!=null&&n.current)EA(n.current);else{if(e&16){if($p(A,xA.First|xA.AutoFocus)!==QN.Error)return}else if($p(A,xA.First)!==QN.Error)return;if(s!=null&&s.current&&(EA(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[s,o,e]),i}function g5e(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:s}){let i=JE(),o=!!(e&4);xV(t==null?void 0:t.defaultView,"focus",l=>{if(!o||!i.current)return;let A=SV(n);rf(r.current)&&A.add(r.current);let u=s.current;if(!u)return;let h=l.target;rf(h)?EV(A,h)?(s.current=h,EA(h)):(l.preventDefault(),l.stopPropagation(),EA(u)):EA(s.current)},!0)}function EV(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function IV(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:jV)!==B.Fragment||Xe.Children.count(e.children)===1}let Gv=B.createContext(null);Gv.displayName="TransitionContext";var x5e=(e=>(e.Visible="visible",e.Hidden="hidden",e))(x5e||{});function y5e(){let e=B.useContext(Gv);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function w5e(){let e=B.useContext(Wv);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Wv=B.createContext(null);Wv.displayName="NestingContext";function zv(e){return"children"in e?zv(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function FV(e,t){let r=uf(e),n=B.useRef([]),s=JE(),i=XE(),o=Dn((g,b=Zu.Hidden)=>{let C=n.current.findIndex(({el:I})=>I===g);C!==-1&&(MA(b,{[Zu.Unmount](){n.current.splice(C,1)},[Zu.Hidden](){n.current[C].state="hidden"}}),i.microTask(()=>{var I;!zv(n)&&s.current&&((I=r.current)==null||I.call(r))}))}),l=Dn(g=>{let b=n.current.find(({el:C})=>C===g);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:g,state:"visible"}),()=>o(g,Zu.Unmount)}),A=B.useRef([]),u=B.useRef(Promise.resolve()),h=B.useRef({enter:[],leave:[]}),m=Dn((g,b,C)=>{A.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([I])=>I!==g)),t==null||t.chains.current[b].push([g,new Promise(I=>{A.current.push(I)})]),t==null||t.chains.current[b].push([g,new Promise(I=>{Promise.all(h.current[b].map(([v,N])=>N)).then(()=>I())})]),b==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>C(b)):C(b)}),y=Dn((g,b,C)=>{Promise.all(h.current[b].splice(0).map(([I,v])=>v)).then(()=>{var I;(I=A.current.shift())==null||I()}).then(()=>C(b))});return B.useMemo(()=>({children:n,register:l,unregister:o,onStart:m,onStop:y,wait:u,chains:h}),[l,o,n,m,y,h,u])}let jV=B.Fragment,_V=f2.RenderStrategy;function v5e(e,t){var r,n;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:l,afterLeave:A,enter:u,enterFrom:h,enterTo:m,entered:y,leave:g,leaveFrom:b,leaveTo:C,...I}=e,[v,N]=B.useState(null),F=B.useRef(null),T=IV(e),D=Uc(...T?[F,t,N]:t===null?[]:[t]),V=(r=I.unmount)==null||r?Zu.Unmount:Zu.Hidden,{show:P,appear:U,initial:k}=y5e(),[z,R]=B.useState(P?"visible":"hidden"),H=w5e(),{register:J,unregister:ne}=H;ea(()=>J(F),[J,F]),ea(()=>{if(V===Zu.Hidden&&F.current){if(P&&z!=="visible"){R("visible");return}return MA(z,{hidden:()=>ne(F),visible:()=>J(F)})}},[z,F,J,ne,P,V]);let Y=E1();ea(()=>{if(T&&Y&&z==="visible"&&F.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[F,z,Y,T]);let G=k&&!U,K=U&&P&&k,q=B.useRef(!1),X=FV(()=>{q.current||(R("hidden"),ne(F))},H),fe=Dn(pe=>{q.current=!0;let Be=pe?"enter":"leave";X.onStart(F,Be,_e=>{_e==="enter"?i==null||i():_e==="leave"&&(l==null||l())})}),de=Dn(pe=>{let Be=pe?"enter":"leave";q.current=!1,X.onStop(F,Be,_e=>{_e==="enter"?o==null||o():_e==="leave"&&(A==null||A())}),Be==="leave"&&!zv(X)&&(R("hidden"),ne(F))});B.useEffect(()=>{T&&s||(fe(P),de(P))},[P,T,s]);let Q=!(!s||!T||!Y||G),[,Z]=VCe(Q,v,P,{start:fe,end:de}),ae=eh({ref:D,className:((n=DN(I.className,K&&u,K&&h,Z.enter&&u,Z.enter&&Z.closed&&h,Z.enter&&!Z.closed&&m,Z.leave&&g,Z.leave&&!Z.closed&&b,Z.leave&&Z.closed&&C,!Z.transition&&P&&y))==null?void 0:n.trim())||void 0,...HCe(Z)}),ee=0;z==="visible"&&(ee|=El.Open),z==="hidden"&&(ee|=El.Closed),P&&z==="hidden"&&(ee|=El.Opening),!P&&z==="visible"&&(ee|=El.Closing);let oe=al();return Xe.createElement(Wv.Provider,{value:X},Xe.createElement(zCe,{value:ee},oe({ourProps:ae,theirProps:I,defaultTag:jV,features:_V,visible:z==="visible",name:"Transition.Child"})))}function b5e(e,t){let{show:r,appear:n=!1,unmount:s=!0,...i}=e,o=B.useRef(null),l=IV(e),A=Uc(...l?[o,t]:t===null?[]:[t]);E1();let u=Kv();if(r===void 0&&u!==null&&(r=(u&El.Open)===El.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,m]=B.useState(r?"visible":"hidden"),y=FV(()=>{r||m("hidden")}),[g,b]=B.useState(!0),C=B.useRef([r]);ea(()=>{g!==!1&&C.current[C.current.length-1]!==r&&(C.current.push(r),b(!1))},[C,r]);let I=B.useMemo(()=>({show:r,appear:n,initial:g}),[r,n,g]);ea(()=>{r?m("visible"):!zv(y)&&o.current!==null&&m("hidden")},[r,y]);let v={unmount:s},N=Dn(()=>{var D;g&&b(!1),(D=e.beforeEnter)==null||D.call(e)}),F=Dn(()=>{var D;g&&b(!1),(D=e.beforeLeave)==null||D.call(e)}),T=al();return Xe.createElement(Wv.Provider,{value:y},Xe.createElement(Gv.Provider,{value:I},T({ourProps:{...v,as:B.Fragment,children:Xe.createElement(TV,{ref:A,...v,...i,beforeEnter:N,beforeLeave:F})},theirProps:{},defaultTag:B.Fragment,features:_V,visible:h==="visible",name:"Transition"})))}function C5e(e,t){let r=B.useContext(Gv)!==null,n=Kv()!==null;return Xe.createElement(Xe.Fragment,null,!r&&n?Xe.createElement(VN,{ref:t,...e}):Xe.createElement(TV,{ref:t,...e}))}let VN=Xa(b5e),TV=Xa(v5e),e6=Xa(C5e),$y=Object.assign(VN,{Child:e6,Root:VN});var B5e=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(B5e||{}),N5e=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(N5e||{});let S5e={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},t6=B.createContext(null);t6.displayName="DialogContext";function $v(e){let t=B.useContext(t6);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$v),r}return t}function E5e(e,t){return MA(t.type,S5e,e,t)}let Zk=Xa(function(e,t){let r=B.useId(),{id:n=`headlessui-dialog-${r}`,open:s,onClose:i,initialFocus:o,role:l="dialog",autoFocus:A=!0,__demoMode:u=!1,unmount:h=!1,...m}=e,y=B.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(y.current||(y.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=Kv();s===void 0&&g!==null&&(s=(g&El.Open)===El.Open);let b=B.useRef(null),C=Uc(b,t),I=Hv(b),v=s?0:1,[N,F]=B.useReducer(E5e,{titleId:null,descriptionId:null,panelRef:B.createRef()}),T=Dn(()=>i(!1)),D=Dn(Z=>F({type:0,id:Z})),V=E1()?v===0:!1,[P,U]=n5e(),k={get current(){var Z;return(Z=N.panelRef.current)!=null?Z:b.current}},z=NV(),{resolveContainers:R}=l5e({mainTreeNode:z,portals:P,defaultContainers:[k]}),H=g!==null?(g&El.Closing)===El.Closing:!1;xCe(u||H?!1:V,{allowed:Dn(()=>{var Z,ae;return[(ae=(Z=b.current)==null?void 0:Z.closest("[data-headlessui-portal]"))!=null?ae:null]}),disallowed:Dn(()=>{var Z;return[(Z=z==null?void 0:z.closest("body > *:not(#headlessui-portal-root)"))!=null?Z:null]})});let J=uV.get(null);ea(()=>{if(V)return J.actions.push(n),()=>J.actions.pop(n)},[J,n,V]);let ne=fV(J,B.useCallback(Z=>J.selectors.isTop(Z,n),[J,n]));jCe(ne,R,Z=>{Z.preventDefault(),T()}),a5e(ne,I==null?void 0:I.defaultView,Z=>{Z.preventDefault(),Z.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),T()}),DCe(u||H?!1:V,I,R),yCe(V,b,T);let[Y,G]=zbe(),K=B.useMemo(()=>[{dialogState:v,close:T,setTitleId:D,unmount:h},N],[v,N,T,D,h]),q=B.useMemo(()=>({open:v===0}),[v]),X={ref:C,id:n,role:l,tabIndex:-1,"aria-modal":u?void 0:v===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":Y,unmount:h},fe=!o5e(),de=nh.None;V&&!u&&(de|=nh.RestoreFocus,de|=nh.TabLock,A&&(de|=nh.AutoFocus),fe&&(de|=nh.InitialFocus));let Q=al();return Xe.createElement($Ce,null,Xe.createElement(Xk,{force:!0},Xe.createElement(i5e,null,Xe.createElement(t6.Provider,{value:K},Xe.createElement(CV,{target:b},Xe.createElement(Xk,{force:!1},Xe.createElement(G,{slot:q},Xe.createElement(U,null,Xe.createElement(h5e,{initialFocus:o,initialFocusFallback:b,containers:R,features:de},Xe.createElement(Jbe,{value:T},Q({ourProps:X,theirProps:m,slot:q,defaultTag:I5e,features:F5e,visible:v===0,name:"Dialog"})))))))))))}),I5e="div",F5e=f2.RenderStrategy|f2.Static;function j5e(e,t){let{transition:r=!1,open:n,...s}=e,i=Kv(),o=e.hasOwnProperty("open")||i!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!s.static?Xe.createElement(Yk,null,Xe.createElement($y,{show:n,transition:r,unmount:s.unmount},Xe.createElement(Zk,{ref:t,...s}))):Xe.createElement(Yk,null,Xe.createElement(Zk,{ref:t,open:n,...s}))}let _5e="div";function T5e(e,t){let r=B.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:s=!1,...i}=e,[{dialogState:o,unmount:l},A]=$v("Dialog.Panel"),u=Uc(t,A.panelRef),h=B.useMemo(()=>({open:o===0}),[o]),m=Dn(I=>{I.stopPropagation()}),y={ref:u,id:n,onClick:m},g=s?e6:B.Fragment,b=s?{unmount:l}:{},C=al();return Xe.createElement(g,{...b},C({ourProps:y,theirProps:i,slot:h,defaultTag:_5e,name:"Dialog.Panel"}))}let k5e="div";function L5e(e,t){let{transition:r=!1,...n}=e,[{dialogState:s,unmount:i}]=$v("Dialog.Backdrop"),o=B.useMemo(()=>({open:s===0}),[s]),l={ref:t,"aria-hidden":!0},A=r?e6:B.Fragment,u=r?{unmount:i}:{},h=al();return Xe.createElement(A,{...u},h({ourProps:l,theirProps:n,slot:o,defaultTag:k5e,name:"Dialog.Backdrop"}))}let P5e="h2";function O5e(e,t){let r=B.useId(),{id:n=`headlessui-dialog-title-${r}`,...s}=e,[{dialogState:i,setTitleId:o}]=$v("Dialog.Title"),l=Uc(t);B.useEffect(()=>(o(n),()=>o(null)),[n,o]);let A=B.useMemo(()=>({open:i===0}),[i]),u={ref:l,id:n};return al()({ourProps:u,theirProps:s,slot:A,defaultTag:P5e,name:"Dialog.Title"})}let R5e=Xa(j5e),D5e=Xa(T5e);Xa(L5e);let U5e=Xa(O5e),P5=Object.assign(R5e,{Panel:D5e,Title:U5e,Description:Ybe});const M5e=({enabled:e,setEnabled:t})=>a.jsx("button",{type:"button",onClick:()=>t(!e),className:`${e?"bg-indigo-600":"bg-gray-200"} relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2`,children:a.jsx("span",{className:`${e?"translate-x-5":"translate-x-0"} inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out`})}),Jk=({announcement:e,onClose:t,onSuccess:r})=>{const[n,s]=B.useState({title:"",content:"",branchId:null,isGlobal:!0,startDate:null,endDate:null,isActive:!0}),[i,o]=B.useState([]),[l,A]=B.useState(!1),[u,h]=B.useState({});B.useEffect(()=>{(async()=>{try{const C=await De.getBranches();o(C)}catch{je.error("Failed to load branches")}})()},[]),B.useEffect(()=>{e&&s({...e,startDate:e.startDate?e.startDate.split("T")[0]:e.startDate===null?null:"",endDate:e.endDate?e.endDate.split("T")[0]:e.endDate===null?null:""})},[e]);const m=()=>{const b={};return n.title.trim()||(b.title="Title cannot be empty."),n.content.trim()||(b.content="Content is required."),!n.isGlobal&&!n.branchId&&(b.branchId="Please select a branch for a non-global announcement."),n.startDate&&n.endDate&&new Date(n.startDate)>new Date(n.endDate)&&(b.endDate="End date cannot be before the start date."),h(b),Object.keys(b).length===0},y=async b=>{var C,I;if(b.preventDefault(),!m()){je.warning("Please fix the errors before submitting.");return}A(!0);try{const v={...n,branchId:n.isGlobal?null:n.branchId};e!=null&&e.id?(await De.updateAnnouncement(e.id,v),je.success("Announcement updated successfully!")):(await De.createAnnouncement(v),je.success("Announcement created successfully!")),r()}catch(v){je.error(((I=(C=v.response)==null?void 0:C.data)==null?void 0:I.message)||"Failed to save announcement.")}finally{A(!1)}},g=(b,C)=>{s(I=>({...I,[b]:C})),u[b]&&h(I=>{const v={...I};return delete v[b],v})};return a.jsx($y.Root,{show:!0,as:B.Fragment,children:a.jsxs(P5,{as:"div",className:"relative z-50",onClose:t,children:[a.jsx($y.Child,{as:B.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 transition-opacity"})}),a.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx($y.Child,{as:B.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsx(P5.Panel,{className:"relative transform overflow-hidden rounded-xl bg-white text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-2xl",children:a.jsxs("form",{onSubmit:y,children:[a.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[a.jsx(P5.Title,{as:"h3",className:"text-xl font-semibold text-gray-900",children:e?"Edit Announcement":"Create New Announcement"}),a.jsx("button",{type:"button",onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(zA,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:n.title,onChange:b=>g("title",b.target.value),className:`w-full form-input ${u.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., System Maintenance Alert"}),u.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),a.jsx("textarea",{value:n.content,onChange:b=>g("content",b.target.value),rows:5,className:`w-full form-input ${u.content?"border-red-500":"border-gray-300"}`,placeholder:"Provide details about the announcement..."}),u.content&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.content})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibility"}),a.jsxs("div",{className:"flex rounded-lg p-1 bg-gray-100",children:[a.jsxs("button",{type:"button",onClick:()=>g("isGlobal",!0),className:`w-1/2 py-2 text-sm rounded-md flex items-center justify-center gap-2 transition-colors ${n.isGlobal?"bg-white text-indigo-700 shadow-sm":"text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(uS,{className:"h-4 w-4"})," Global"]}),a.jsxs("button",{type:"button",onClick:()=>g("isGlobal",!1),className:`w-1/2 py-2 text-sm rounded-md flex items-center justify-center gap-2 transition-colors ${n.isGlobal?"text-gray-600 hover:bg-gray-200":"bg-white text-indigo-700 shadow-sm"}`,children:[a.jsx(dm,{className:"h-4 w-4"})," Branch Specific"]})]})]}),!n.isGlobal&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),a.jsxs("select",{value:n.branchId||"",onChange:b=>g("branchId",b.target.value?parseInt(b.target.value):null),className:`w-full form-select ${u.branchId?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select a branch..."}),i.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]}),u.branchId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.branchId})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date (Optional)"}),a.jsx("input",{type:"date",value:n.startDate||"",onChange:b=>g("startDate",b.target.value||null),className:"w-full form-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date (Optional)"}),a.jsx("input",{type:"date",value:n.endDate||"",onChange:b=>g("endDate",b.target.value||null),className:`w-full form-input ${u.endDate?"border-red-500":"border-gray-300"}`}),u.endDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.endDate})]})]}),a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"Set as Active"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Inactive announcements will be hidden from view."})]}),a.jsx(M5e,{enabled:n.isActive,setEnabled:b=>g("isActive",b)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 p-5 bg-gray-50 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:l,className:"flex items-center space-x-2 px-5 py-2.5 text-sm font-medium bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors",children:[a.jsx(xR,{className:"h-4 w-4"}),a.jsx("span",{children:l?"Saving...":e?"Save Changes":"Create Announcement"})]})]})]})})})})})]})})},O5=768;function Q5e(){const[e,t]=B.useState(void 0);return B.useEffect(()=>{const r=window.matchMedia(`(max-width: ${O5-1}px)`),n=()=>{t(window.innerWidth<O5)};return r.addEventListener("change",n),t(window.innerWidth<O5),()=>r.removeEventListener("change",n)},[]),!!e}const H5e=({children:e,withBottomNav:t})=>a.jsx("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"env(safe-area-inset-top)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)",paddingBottom:`calc(env(safe-area-inset-bottom) + ${t?"60px":"0px"})`},children:e}),V5e=[{to:"/dashboard",label:"Home",icon:dS},{to:"/students",label:"Students",icon:Fc},{to:"/attendance",label:"Attend",icon:rl},{to:"/announcements",label:"News",icon:W0},{to:"/settings",label:"Settings",icon:yR}],K5e=()=>a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white/95 backdrop-blur border-t border-gray-200",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:a.jsx("ul",{className:"grid grid-cols-5",children:V5e.map(({to:e,label:t,icon:r})=>a.jsx("li",{children:a.jsxs(nX,{to:e,className:({isActive:n})=>`flex flex-col items-center justify-center py-2.5 text-xs ${n?"text-indigo-600":"text-gray-600"}`,children:[a.jsx(r,{size:20}),a.jsx("span",{className:"mt-1.5 leading-none",children:t})]})},e))})}),G5e=()=>{const e=Q5e(),[t,r]=B.useState(!1),[n,s]=B.useState(),[i,o]=B.useState(0),[l,A]=B.useState(!1),u=()=>{s(void 0),r(!0)},h=g=>{s(g),r(!0)},m=()=>{r(!1),s(void 0)},y=()=>{m(),o(g=>g+1)};return e?a.jsxs(H5e,{withBottomNav:!0,children:[a.jsxs("header",{className:"sticky top-0 z-30 bg-white/90 backdrop-blur border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[a.jsx("h1",{className:"text-base font-semibold",children:"Announcements"}),a.jsx("button",{onClick:u,className:"px-3 py-1.5 text-sm rounded-md bg-indigo-600 text-white active:scale-[0.98]",children:"New"})]}),a.jsx("main",{className:"p-4 pb-24",children:a.jsx(Mk,{isAdmin:!0,onEdit:h,onAdd:u},i)}),a.jsx(K5e,{}),t&&a.jsx(Jk,{announcement:n,onClose:m,onSuccess:y})]}):a.jsxs("div",{className:"flex h-screen bg-gray-50/50",children:[a.jsx(Kn,{isCollapsed:l,setIsCollapsed:A}),a.jsxs("div",{className:"flex flex-col flex-1",children:[a.jsx(ri,{}),a.jsx("main",{className:"flex-1 p-6 lg:p-8 overflow-y-auto",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx(Mk,{isAdmin:!0,onEdit:h,onAdd:u},i)})})]}),t&&a.jsx(Jk,{announcement:n,onClose:m,onSuccess:y})]})},W5e=e=>{switch(e){case"Approved":return"bg-green-100 text-green-800";case"Not Approved":return"bg-red-100 text-red-800";case"Done":return"bg-blue-100 text-blue-800";case"Not Done":return"bg-orange-100 text-orange-800";case"Posted":default:return"bg-yellow-100 text-yellow-800"}},z5e=()=>{const[e,t]=B.useState([]),[r,n]=B.useState("newest"),[s,i]=B.useState("All"),[o,l]=B.useState(!0),[A,u]=B.useState(null),h=Rr(),[m,y]=B.useState(!1),g=()=>{},b=async()=>{try{l(!0),u(null);const N=await De.getAllQueriesForAdmin();t(N)}catch(N){console.error("Error fetching queries:",N),u(N.message||"Failed to load queries.")}finally{l(!1)}};B.useEffect(()=>{b()},[]);const C=async(N,F)=>{if(!["Approved","Not Approved","Done","Not Done","Posted"].includes(F)){console.error("Invalid status update:",F),u("Invalid status selected.");return}try{await De.updateQueryStatus(N,F),await b()}catch(D){console.error("Error updating query status:",D),u(D.message||"Failed to update status.")}},I=N=>{h(`/queries/${N}`)},v=B.useMemo(()=>e.filter(F=>s==="All"||F.status===s).sort((F,T)=>{switch(r){case"upvotes":return(T.upvotes||0)-(F.upvotes||0);case"status":return F.status.localeCompare(T.status);case"newest":default:return new Date(T.createdAt).getTime()-new Date(F.createdAt).getTime()}}),[e,r,s]);return o?a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(Kn,{isCollapsed:m,setIsCollapsed:y,onBarcodeClick:g}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx("div",{className:"text-center p-8 bg-white rounded-lg shadow-sm border",children:"Loading queries..."})})})]})]}):a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(Kn,{isCollapsed:m,setIsCollapsed:y,onBarcodeClick:g}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(ri,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-4 sm:mb-6",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Manage Public Queries"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"View, filter, and update the status of all student queries."})]}),a.jsx("div",{className:"mb-4 bg-white p-3 sm:p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3 sm:gap-6",children:[a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{htmlFor:"filter",className:"text-sm font-medium text-gray-700",children:"Filter by status"}),a.jsxs("select",{id:"filter",value:s,onChange:N=>i(N.target.value),className:"mt-1 w-full sm:w-56 text-sm rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"All",children:"All"}),a.jsx("option",{value:"Posted",children:"Posted"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"Not Approved",children:"Not Approved"}),a.jsx("option",{value:"Done",children:"Done"}),a.jsx("option",{value:"Not Done",children:"Not Done"})]})]}),a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{htmlFor:"sort",className:"text-sm font-medium text-gray-700",children:"Sort by"}),a.jsxs("select",{id:"sort",value:r,onChange:N=>n(N.target.value),className:"mt-1 w-full sm:w-56 text-sm rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"newest",children:"Newest"}),a.jsx("option",{value:"upvotes",children:"Most Upvoted"}),a.jsx("option",{value:"status",children:"Status"})]})]})]})}),A&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:A}),a.jsx("div",{className:"space-y-3 sm:space-y-4",children:v.map(N=>a.jsxs("div",{className:"p-4 sm:p-5 border rounded-lg shadow-sm bg-white transition-all hover:shadow-md",children:[a.jsxs("div",{className:"flex justify-between items-start gap-3",children:[a.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>I(N.id),children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 hover:text-indigo-600",children:N.title}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Posted by ",a.jsx("span",{className:"font-medium",children:N.studentName})," on ",new Date(N.createdAt).toLocaleDateString()]})]}),a.jsx("span",{className:`text-[10px] sm:text-xs font-medium mr-1 sm:mr-2 px-2 py-0.5 sm:px-2.5 sm:py-1 rounded-full ${W5e(N.status)}`,children:N.status})]}),a.jsxs("p",{className:"text-gray-600 mt-2 mb-3 sm:mb-4 text-sm",children:[N.description.substring(0,150),N.description.length>150&&"..."]}),a.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm border-t pt-2 sm:pt-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 text-gray-600",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(gS,{className:"w-4 h-4 mr-1 text-green-500"})," ",N.upvotes||0]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(pS,{className:"w-4 h-4 mr-1 text-red-500"})," ",N.downvotes||0]})]}),a.jsx("div",{className:"relative inline-block text-left",children:a.jsxs("select",{onChange:F=>C(N.id,F.target.value),value:N.status,className:"text-xs sm:text-sm border-gray-300 rounded-md shadow-sm bg-white hover:border-gray-400 focus:ring-0 focus:border-gray-400",onClick:F=>F.stopPropagation(),children:[a.jsx("option",{children:"Posted"}),a.jsx("option",{children:"Approved"}),a.jsx("option",{children:"Not Approved"}),a.jsx("option",{children:"Done"}),a.jsx("option",{children:"Not Done"})]})})]})]},N.id))}),v.length===0&&!o&&a.jsx("div",{className:"text-center p-8 bg-white rounded-lg shadow-sm border",children:a.jsx("p",{className:"text-gray-600",children:"No queries match the current filter."})})]})})]})]})},$5e=()=>{var T,D,V;const{id:e}=GA(),t=Rr(),{user:r}=Ca(),[n,s]=B.useState(null),[i,o]=B.useState(!0),[l,A]=B.useState(null),[u,h]=B.useState(""),[m,y]=B.useState(null),g=async()=>{try{o(!0);const P=await De.getQueryById(Number(e)),U=P.comments||[],k={};U.forEach(R=>{k[R.id]={...R,replies:[]}});const z=[];U.forEach(R=>{R.parentCommentId&&k[R.parentCommentId]?k[R.parentCommentId].replies.push(k[R.id]):z.push(k[R.id])}),s({...P,comments:z})}catch(P){A("Failed to load query"),console.error("Error fetching query:",P)}finally{o(!1)}};B.useEffect(()=>{g()},[e]);const b=async P=>{if(n)try{await De.voteOnQuery(n.id,P),await g()}catch(U){console.error("Error voting:",U)}},C=async P=>{if(n)try{await De.updateQueryStatus(n.id,P),await g()}catch(U){console.error("Error updating status:",U)}},I=async P=>{if(P.preventDefault(),!(!u.trim()||!n))try{const U={comment_text:u,parent_comment_id:m};await De.postComment(n.id,U),h(""),y(null),await g()}catch(U){console.error("Error posting comment:",U)}},v=(P,U=0)=>P.map(k=>a.jsxs("div",{className:`flex space-x-4 mt-4 ${U>0?"pl-6":""}`,children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-600",children:k.commenterName.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-sm text-gray-800",children:k.commenterName}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(k.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-gray-700 mt-1 text-sm",children:k.commentText})]}),a.jsx("button",{onClick:()=>y(k.id),className:"text-xs text-indigo-600 hover:underline mt-1 pl-1",children:"Reply"}),m===k.id&&a.jsxs("form",{onSubmit:I,className:"mt-2",children:[a.jsx("textarea",{value:u,onChange:z=>h(z.target.value),className:"w-full p-2 border rounded-md text-sm",placeholder:"Write your reply...",rows:2}),a.jsxs("div",{className:"mt-2 space-x-2",children:[a.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-3 py-1 rounded text-sm shadow-sm",children:"Post"}),a.jsx("button",{type:"button",onClick:()=>y(null),className:"text-gray-600 text-sm",children:"Cancel"})]})]}),k.replies&&v(k.replies,U+1)]})]},k.id));if(i)return a.jsx("div",{className:"p-6 text-center",children:"Loading..."});if(l)return a.jsx("div",{className:"p-6 text-center text-red-500",children:l});if(!n)return a.jsx("div",{className:"p-6 text-center",children:"Query not found"});const N={Posted:"bg-yellow-100 text-yellow-800",Approved:"bg-green-100 text-green-800","Not Approved":"bg-red-100 text-red-800",Done:"bg-blue-100 text-blue-800","Not Done":"bg-orange-100 text-orange-800"},F=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner";return a.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:[a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("button",{onClick:()=>t(-1),className:"mb-4 text-indigo-600 hover:underline flex items-center gap-2 text-sm",children:[a.jsx(sl,{className:"w-4 h-4"}),"Back to Queries"]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:n.title}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${N[n.status]}`,children:n.status})]}),a.jsxs("div",{className:"text-sm text-gray-500 mb-4 border-b pb-4",children:["Posted by ",a.jsx("span",{className:"font-medium text-gray-700",children:n.studentName})," on ",new Date(n.createdAt).toLocaleDateString()]}),a.jsx("p",{className:"text-gray-700 mb-5",children:n.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>b("up"),className:`flex items-center space-x-1.5 text-gray-600 hover:text-green-600 ${n.userVote==="upvote"?"text-green-600 font-semibold":""}`,children:[a.jsx(gS,{className:"w-5 h-5"}),a.jsx("span",{children:n.upvotes})]}),a.jsxs("button",{onClick:()=>b("down"),className:`flex items-center space-x-1.5 text-gray-600 hover:text-red-600 ${n.userVote==="downvote"?"text-red-600 font-semibold":""}`,children:[a.jsx(pS,{className:"w-5 h-5"}),a.jsx("span",{children:n.downvotes})]})]}),F&&a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{onChange:P=>C(P.target.value),value:n.status,className:"text-xs border-gray-300 rounded-md shadow-sm",children:[a.jsx("option",{children:"Posted"}),a.jsx("option",{children:"Approved"}),a.jsx("option",{children:"Not Approved"}),a.jsx("option",{children:"Done"}),a.jsx("option",{children:"Not Done"})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[a.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[a.jsx(hS,{className:"w-5 h-5 text-gray-500"}),"Discussion (",((T=n.comments)==null?void 0:T.length)||0,")"]}),a.jsxs("form",{onSubmit:I,className:"mb-6 flex items-start space-x-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex-shrink-0"}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("textarea",{value:u,onChange:P=>h(P.target.value),className:"w-full p-2 border rounded-md mb-2 text-sm",placeholder:m?"Write your reply...":"Add to the discussion...",rows:m?2:3}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-1.5 rounded-md text-sm shadow-sm hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx(jee,{className:"w-4 h-4"}),"Post"]}),m&&a.jsx("button",{type:"button",onClick:()=>{y(null),h("")},className:"text-gray-600 text-sm",children:"Cancel Reply"})]})]})]}),a.jsx("div",{children:n.comments&&n.comments.length>0?v(n.comments):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No comments yet. Be the first to say something!"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[((D=n.comments)==null?void 0:D.length)||0," ",((V=n.comments)==null?void 0:V.length)===1?"Comment":"Comments"]}),a.jsxs("form",{onSubmit:I,className:"mb-6",children:[a.jsx("textarea",{value:u,onChange:P=>h(P.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add a comment...",rows:3}),a.jsx("div",{className:"mt-2 flex justify-end",children:a.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",disabled:!u.trim(),children:"Post Comment"})})]}),a.jsx("div",{className:"space-y-4",children:n.comments&&n.comments.length>0?v(n.comments):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No comments yet. Be the first to comment!"})})]})]})},q5e=()=>{const[e,t]=B.useState(""),[r,n]=B.useState(""),[s,i]=B.useState(!1),o=Rr(),l=async A=>{if(A.preventDefault(),!e.trim()||!r.trim()){je.error("Title and description cannot be empty.");return}i(!0);try{const u=await De.postQuery({title:e,description:r});je.success("Query submitted successfully!"),o(`/queries/${u.id}`)}catch(u){console.error("Failed to post query:",u),je.error("Failed to submit query. Please try again.")}finally{i(!1)}};return a.jsx("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:a.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-md",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6",children:"Ask a New Question"}),a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",id:"title",value:e,onChange:A=>t(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter a concise title for your query",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",value:r,onChange:A=>n(A.target.value),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Provide a detailed description of your question or suggestion",required:!0})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:s,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg shadow-sm hover:bg-indigo-700 transition-colors disabled:bg-indigo-300 disabled:cursor-not-allowed",children:s?"Submitting...":"Submit Query"})})]})]})})};function X5e(e,t=[]){let r=[];function n(i,o){const l=B.createContext(o),A=r.length;r=[...r,o];function u(m){const{scope:y,children:g,...b}=m,C=(y==null?void 0:y[e][A])||l,I=B.useMemo(()=>b,Object.values(b));return a.jsx(C.Provider,{value:I,children:g})}function h(m,y){const g=(y==null?void 0:y[e][A])||l,b=B.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>B.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return B.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,Y5e(s,...t)]}function Y5e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:A,scopeName:u})=>{const m=A(i)[`__scope${u}`];return{...l,...m}},{});return B.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var R5="rovingFocusGroup.onEntryFocus",Z5e={bubbles:!1,cancelable:!0},qv="RovingFocusGroup",[KN,kV,J5e]=kQ(qv),[e4e,LV]=X5e(qv,[J5e]),[t4e,r4e]=e4e(qv),PV=B.forwardRef((e,t)=>a.jsx(KN.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(KN.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(n4e,{...e,ref:t})})}));PV.displayName=qv;var n4e=B.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:A,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=e,y=B.useRef(null),g=Jn(t,y),b=fE(i),[C=null,I]=$h({prop:o,defaultProp:l,onChange:A}),[v,N]=B.useState(!1),F=Nc(u),T=kV(r),D=B.useRef(!1),[V,P]=B.useState(0);return B.useEffect(()=>{const U=y.current;if(U)return U.addEventListener(R5,F),()=>U.removeEventListener(R5,F)},[F]),a.jsx(t4e,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:C,onItemFocus:B.useCallback(U=>I(U),[I]),onItemShiftTab:B.useCallback(()=>N(!0),[]),onFocusableItemAdd:B.useCallback(()=>P(U=>U+1),[]),onFocusableItemRemove:B.useCallback(()=>P(U=>U-1),[]),children:a.jsx(Zr.div,{tabIndex:v||V===0?-1:0,"data-orientation":n,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:Ir(e.onMouseDown,()=>{D.current=!0}),onFocus:Ir(e.onFocus,U=>{const k=!D.current;if(U.target===U.currentTarget&&k&&!v){const z=new CustomEvent(R5,Z5e);if(U.currentTarget.dispatchEvent(z),!z.defaultPrevented){const R=T().filter(G=>G.focusable),H=R.find(G=>G.active),J=R.find(G=>G.id===C),Y=[H,J,...R].filter(Boolean).map(G=>G.ref.current);DV(Y,h)}}D.current=!1}),onBlur:Ir(e.onBlur,()=>N(!1))})})}),OV="RovingFocusGroupItem",RV=B.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,l=BA(),A=i||l,u=r4e(OV,r),h=u.currentTabStopId===A,m=kV(r),{onFocusableItemAdd:y,onFocusableItemRemove:g}=u;return B.useEffect(()=>{if(n)return y(),()=>g()},[n,y,g]),a.jsx(KN.ItemSlot,{scope:r,id:A,focusable:n,active:s,children:a.jsx(Zr.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Ir(e.onMouseDown,b=>{n?u.onItemFocus(A):b.preventDefault()}),onFocus:Ir(e.onFocus,()=>u.onItemFocus(A)),onKeyDown:Ir(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const C=a4e(b,u.orientation,u.dir);if(C!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let v=m().filter(N=>N.focusable).map(N=>N.ref.current);if(C==="last")v.reverse();else if(C==="prev"||C==="next"){C==="prev"&&v.reverse();const N=v.indexOf(b.currentTarget);v=u.loop?o4e(v,N+1):v.slice(N+1)}setTimeout(()=>DV(v))}})})})});RV.displayName=OV;var s4e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function i4e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function a4e(e,t,r){const n=i4e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return s4e[n]}function DV(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function o4e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var l4e=PV,c4e=RV,r6="Tabs",[A4e,R4e]=t1(r6,[LV]),UV=LV(),[u4e,n6]=A4e(r6),MV=B.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:A="automatic",...u}=e,h=fE(l),[m,y]=$h({prop:n,onChange:s,defaultProp:i});return a.jsx(u4e,{scope:r,baseId:BA(),value:m,onValueChange:y,orientation:o,dir:h,activationMode:A,children:a.jsx(Zr.div,{dir:h,"data-orientation":o,...u,ref:t})})});MV.displayName=r6;var QV="TabsList",HV=B.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=n6(QV,r),o=UV(r);return a.jsx(l4e,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Zr.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});HV.displayName=QV;var VV="TabsTrigger",KV=B.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=n6(VV,r),l=UV(r),A=zV(o.baseId,n),u=$V(o.baseId,n),h=n===o.value;return a.jsx(c4e,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(Zr.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:A,...i,ref:t,onMouseDown:Ir(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:Ir(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:Ir(e.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!s&&m&&o.onValueChange(n)})})})});KV.displayName=VV;var GV="TabsContent",WV=B.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=n6(GV,r),A=zV(l.baseId,n),u=$V(l.baseId,n),h=n===l.value,m=B.useRef(h);return B.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),a.jsx(lf,{present:s||h,children:({present:y})=>a.jsx(Zr.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":A,hidden:!y,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:y&&i})})});WV.displayName=GV;function zV(e,t){return`${e}-trigger-${t}`}function $V(e,t){return`${e}-content-${t}`}var d4e=MV,qV=HV,XV=KV,YV=WV;const h4e=d4e,ZV=B.forwardRef(({className:e,...t},r)=>a.jsx(qV,{ref:r,className:vr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ZV.displayName=qV.displayName;const vp=B.forwardRef(({className:e,...t},r)=>a.jsx(XV,{ref:r,className:vr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));vp.displayName=XV.displayName;const bp=B.forwardRef(({className:e,...t},r)=>a.jsx(YV,{ref:r,className:vr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));bp.displayName=YV.displayName;const f4e=()=>{const[e,t]=B.useState([]),[r,n]=B.useState({pending:0,accepted:0,rejected:0,total:0}),[s,i]=B.useState({currentPage:1,totalPages:1,totalCount:0,limit:20}),[o,l]=B.useState(!0),[A,u]=B.useState(null),[h,m]=B.useState("all"),[y,g]=B.useState(1),[b,C]=B.useState(null),[I,v]=B.useState(!1),[N,F]=B.useState(!1),[T,D]=B.useState(""),V=Rr();B.useEffect(()=>{P(),U()},[h,y]);const P=async()=>{try{l(!0);const Y=await Ei(`/admission-requests?status=${h}&page=${y}&limit=20`);if(!Y.ok)throw new Error("Failed to fetch admission requests");const G=await Y.json();t(G.requests),i(G.pagination)}catch(Y){console.error("Error fetching requests:",Y),je.error("Failed to load admission requests")}finally{l(!1)}},U=async()=>{try{const Y=await Ei("/admission-requests/stats/summary");if(Y.ok){const G=await Y.json();n(G)}}catch(Y){console.error("Error fetching stats:",Y)}},k=async Y=>{try{u(Y);const G=await Ei(`/admission-requests/${Y}/accept`,{method:"POST"});if(!G.ok){let K="Failed to accept request";try{K=(await G.json()).message||K}catch{}throw new Error(K)}je.success("Registration request accepted successfully!"),I&&v(!1),P(),U()}catch(G){console.error("Error accepting request:",G),je.error(G instanceof Error?G.message:"Failed to accept request")}finally{u(null)}},z=async()=>{if(b)try{u(b.id);const Y=await Ei(`/admission-requests/${b.id}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:T})});if(!Y.ok){let G="Failed to reject request";try{G=(await Y.json()).message||G}catch{}throw new Error(G)}je.success("Registration request rejected"),F(!1),D(""),C(null),I&&v(!1),P(),U()}catch(Y){console.error("Error rejecting request:",Y),je.error(Y instanceof Error?Y.message:"Failed to reject request")}finally{u(null)}},R=Y=>{switch(Y){case"pending":return a.jsx(Js,{className:"h-4 w-4"});case"accepted":return a.jsx(mc,{className:"h-4 w-4"});case"rejected":return a.jsx(Eh,{className:"h-4 w-4"});default:return a.jsx(ya,{className:"h-4 w-4"})}},H=Y=>{switch(Y){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-300 dark:border-yellow-700";case"accepted":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/40 dark:text-green-300 dark:border-green-700";case"rejected":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/40 dark:text-red-300 dark:border-red-700";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700"}},J=Y=>new Date(Y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ne=Y=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Y);return a.jsx(Q7,{children:a.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admission Requests"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage student registration requests"})]}),a.jsxs(cr,{variant:"outline",onClick:()=>V(-1),children:[a.jsx(sl,{className:"h-4 w-4 mr-2"}),"Go Back"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(On,{className:"transition-all hover:shadow-md hover:-translate-y-1",children:a.jsx(Ss,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Requests"}),a.jsx("p",{className:"text-2xl font-bold",children:r.total})]}),a.jsx(Fc,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(On,{className:"transition-all hover:shadow-md hover:-translate-y-1",children:a.jsx(Ss,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.pending})]}),a.jsx(Js,{className:"h-8 w-8 text-yellow-600"})]})})}),a.jsx(On,{className:"transition-all hover:shadow-md hover:-translate-y-1",children:a.jsx(Ss,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Accepted"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.accepted})]}),a.jsx(mc,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(On,{className:"transition-all hover:shadow-md hover:-translate-y-1",children:a.jsx(Ss,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.rejected})]}),a.jsx(Eh,{className:"h-8 w-8 text-red-600"})]})})})]}),a.jsx(On,{children:a.jsx(Ss,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(AS,{className:"h-4 w-4"}),a.jsx(Tt,{children:"Filter by Status:"})]}),a.jsxs(yc,{value:h,onValueChange:m,children:[a.jsx(_l,{className:"w-full sm:w-48",children:a.jsx(wc,{})}),a.jsxs(Tl,{children:[a.jsx(Ds,{value:"all",children:"All Requests"}),a.jsx(Ds,{value:"pending",children:"Pending"}),a.jsx(Ds,{value:"accepted",children:"Accepted"}),a.jsx(Ds,{value:"rejected",children:"Rejected"})]})]})]})})}),a.jsxs(On,{children:[a.jsxs(Fi,{children:[a.jsx(ji,{children:"Registration Requests"}),a.jsxs(_c,{children:[s.totalCount," total requests  Page ",s.currentPage," of ",s.totalPages]})]}),a.jsx(Ss,{children:o?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(ti,{className:"h-8 w-8 animate-spin"})}):e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Fc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No requests found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:h==="all"?"No admission requests have been submitted yet.":`No ${h} requests found.`})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(kc,{children:[a.jsx(Lc,{children:a.jsxs(os,{children:[a.jsx(rr,{children:"Student"}),a.jsx(rr,{className:"hidden md:table-cell",children:"Contact"}),a.jsx(rr,{className:"hidden lg:table-cell",children:"Branch"}),a.jsx(rr,{children:"Status"}),a.jsx(rr,{className:"hidden xl:table-cell",children:"Submitted"}),a.jsx(rr,{className:"text-right",children:"Actions"})]})}),a.jsx(Pc,{children:e.map(Y=>a.jsxs(os,{children:[a.jsx(qt,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:Y.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: #",Y.id]})]})}),a.jsx(qt,{className:"hidden md:table-cell",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(WA,{className:"h-3 w-3"}),Y.phone]}),Y.email&&a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(Cd,{className:"h-3 w-3"}),Y.email]})]})}),a.jsx(qt,{className:"hidden lg:table-cell",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ec,{className:"h-3 w-3"}),Y.branch_name||"Not specified"]})}),a.jsx(qt,{children:a.jsxs(Oh,{className:`${H(Y.status)} flex items-center gap-1 w-fit`,children:[R(Y.status),a.jsx("span",{className:"capitalize",children:Y.status})]})}),a.jsx(qt,{className:"hidden xl:table-cell",children:a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(rl,{className:"h-3 w-3"}),J(Y.created_at)]})}),a.jsx(qt,{children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(Kb,{children:[a.jsx(Gb,{asChild:!0,children:a.jsx(cr,{size:"sm",variant:"outline",onClick:()=>{C(Y),v(!0)},children:a.jsx(za,{className:"h-4 w-4"})})}),a.jsx(vy,{children:"View Details"})]}),Y.status==="pending"?a.jsxs(a.Fragment,{children:[a.jsxs(Kb,{children:[a.jsx(Gb,{asChild:!0,children:a.jsx(cr,{size:"sm",variant:"default",onClick:()=>k(Y.id),disabled:A===Y.id,children:A===Y.id?a.jsx(ti,{className:"h-4 w-4 animate-spin"}):a.jsx(Bd,{className:"h-4 w-4"})})}),a.jsx(vy,{children:"Accept Request"})]}),a.jsxs(Kb,{children:[a.jsx(Gb,{asChild:!0,children:a.jsx(cr,{size:"sm",variant:"destructive",onClick:()=>{C(Y),F(!0)},disabled:A===Y.id,children:a.jsx(qb,{className:"h-4 w-4"})})}),a.jsx(vy,{children:"Reject Request"})]})]}):null]})})]},Y.id))})]})}),s.totalPages>1&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-4 px-2",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(s.currentPage-1)*s.limit+1," to ",Math.min(s.currentPage*s.limit,s.totalCount)," of ",s.totalCount," requests"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cr,{variant:"outline",size:"sm",onClick:()=>g(Math.max(1,y-1)),disabled:y===1,children:"Previous"}),a.jsxs("span",{className:"text-sm font-medium",children:["Page ",s.currentPage," of ",s.totalPages]}),a.jsx(cr,{variant:"outline",size:"sm",onClick:()=>g(Math.min(s.totalPages,y+1)),disabled:y===s.totalPages,children:"Next"})]})]})]})})]}),a.jsx(w0,{open:I,onOpenChange:v,children:a.jsxs(_h,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[a.jsxs(Th,{children:[a.jsx(Lh,{children:"Registration Request Details"}),a.jsxs(Ph,{children:["Request ID: #",b==null?void 0:b.id,"  Submitted: ",b&&J(b.created_at)]})]}),b&&a.jsxs("div",{className:"space-y-6 flex-grow overflow-y-auto -mx-6 px-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsxs(Oh,{className:`${H(b.status)} flex items-center gap-1`,children:[R(b.status),a.jsx("span",{className:"capitalize",children:b.status})]})]}),a.jsxs(h4e,{defaultValue:"personal",className:"w-full",children:[a.jsxs(ZV,{className:"grid w-full grid-cols-2 sm:grid-cols-4",children:[a.jsx(vp,{value:"personal",children:"Personal"}),a.jsx(vp,{value:"membership",children:"Membership"}),a.jsx(vp,{value:"payment",children:"Payment"}),a.jsx(vp,{value:"status",children:"Status"})]}),a.jsxs("div",{className:"pt-4",children:[a.jsxs(bp,{value:"personal",className:"space-y-4 m-0",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Tt,{children:"Full Name"}),a.jsx("p",{className:"text-sm font-medium",children:b.name})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Father's Name"}),a.jsx("p",{className:"text-sm",children:b.father_name||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Phone"}),a.jsx("p",{className:"text-sm",children:b.phone})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Email"}),a.jsx("p",{className:"text-sm",children:b.email||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Aadhar Number"}),a.jsx("p",{className:"text-sm",children:b.aadhar_number||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Registration Number"}),a.jsx("p",{className:"text-sm",children:b.registration_number||"Not provided"})]})]}),b.address&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Tt,{children:"Address"}),a.jsx("p",{className:"text-sm",children:b.address})]})]}),a.jsx(bp,{value:"membership",className:"space-y-4 m-0",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Tt,{children:"Branch"}),a.jsx("p",{className:"text-sm",children:b.branch_name||"Not specified"})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Seat"}),a.jsx("p",{className:"text-sm",children:b.seat_number||"No preference"})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Locker"}),a.jsx("p",{className:"text-sm",children:b.locker_number||"Not requested"})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Membership Start"}),a.jsx("p",{className:"text-sm",children:b.membership_start?J(b.membership_start):"Not specified"})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Membership End"}),a.jsx("p",{className:"text-sm",children:b.membership_end?J(b.membership_end):"Not specified"})]})]})}),a.jsx(bp,{value:"payment",className:"space-y-4 m-0",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Tt,{children:"Total Fee"}),a.jsx("p",{className:"text-sm font-medium",children:ne(b.total_fee)})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Cash Payment"}),a.jsx("p",{className:"text-sm",children:ne(b.cash)})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Online Payment"}),a.jsx("p",{className:"text-sm",children:ne(b.online)})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Security Money"}),a.jsx("p",{className:"text-sm",children:ne(b.security_money)})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Discount"}),a.jsx("p",{className:"text-sm",children:ne(b.discount)})]}),a.jsxs("div",{children:[a.jsx(Tt,{children:"Due Amount"}),a.jsx("p",{className:"text-sm font-medium text-red-600",children:ne(b.due_amount)})]})]})}),a.jsx(bp,{value:"status",className:"space-y-4 m-0",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Tt,{children:"Current Status"}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsxs(Oh,{className:`${H(b.status)} flex items-center gap-1`,children:[R(b.status),a.jsx("span",{className:"capitalize",children:b.status})]})})]}),b.processed_at&&a.jsxs("div",{children:[a.jsx(Tt,{children:"Processed At"}),a.jsx("p",{className:"text-sm",children:J(b.processed_at)})]}),b.processed_by_username&&a.jsxs("div",{children:[a.jsx(Tt,{children:"Processed By"}),a.jsx("p",{className:"text-sm",children:b.processed_by_username})]}),b.rejection_reason&&a.jsxs("div",{children:[a.jsx(Tt,{children:"Rejection Reason"}),a.jsx("p",{className:"text-sm text-red-600",children:b.rejection_reason})]}),b.remark&&a.jsxs("div",{children:[a.jsx(Tt,{children:"Student's Notes"}),a.jsx("p",{className:"text-sm",children:b.remark})]})]})})]})]})]}),a.jsx(kh,{className:"pt-4 mt-auto",children:a.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2 w-full",children:[a.jsx(cr,{variant:"outline",onClick:()=>v(!1),children:"Close"}),(b==null?void 0:b.status)==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(cr,{variant:"destructive",onClick:()=>{v(!1),F(!0)},disabled:A===(b==null?void 0:b.id),children:[a.jsx(qb,{className:"mr-2 h-4 w-4"}),"Reject Request"]}),a.jsxs(cr,{onClick:()=>b&&k(b.id),disabled:A===(b==null?void 0:b.id),children:[A===(b==null?void 0:b.id)?a.jsx(ti,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Bd,{className:"mr-2 h-4 w-4"}),"Accept Request"]})]})]})})]})}),a.jsx(w0,{open:N,onOpenChange:F,children:a.jsxs(_h,{children:[a.jsxs(Th,{children:[a.jsx(Lh,{children:"Reject Registration Request"}),a.jsx(Ph,{children:"Are you sure you want to reject this registration request? This action cannot be undone."})]}),a.jsx("div",{className:"space-y-4 py-2",children:a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"rejectionReason",children:"Reason for Rejection (Optional)"}),a.jsx(J0,{id:"rejectionReason",placeholder:"Provide a reason for rejection...",value:T,onChange:Y=>D(Y.target.value),rows:3,className:"mt-2"})]})}),a.jsx(kh,{children:a.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2 w-full",children:[a.jsx(cr,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),a.jsxs(cr,{variant:"destructive",onClick:z,disabled:A===(b==null?void 0:b.id),children:[A===(b==null?void 0:b.id)?a.jsx(ti,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(qb,{className:"mr-2 h-4 w-4"}),"Reject Request"]})]})})]})})]})})},m4e=()=>{const{libraryCode:e}=GA(),t=Rr(),[r,n]=B.useState(null),[s,i]=B.useState(!0),[o,l]=B.useState(!1),[A,u]=B.useState(null),[h,m]=B.useState(!1),[y,g]=B.useState(null),[b,C]=B.useState({name:"",email:"",phone:"",address:"",father_name:"",aadhar_number:"",registration_number:"",branch_id:"",membership_start:"",membership_end:"",total_fee:"0",amount_paid:"0",cash:"0",online:"0",security_money:"0",discount:"0",shift_ids:[],seat_id:"",locker_id:"",remark:""});B.useEffect(()=>{e&&I()},[e]);const I=async()=>{try{i(!0);const F=await fetch(`${xg}/public-registration/library/${e}`);if(!F.ok)throw F.status===404?new Error("Library not found. Please check the registration link."):new Error("Failed to load library information");const T=await F.json();n(T)}catch(F){u(F instanceof Error?F.message:"Failed to load library information")}finally{i(!1)}},v=(F,T)=>{C(D=>({...D,[F]:T}))},N=async F=>{if(F.preventDefault(),!b.name||!b.phone||!b.branch_id){je.error("Please fill in all required fields (Name, Phone, Branch)");return}try{l(!0),u(null);const T=await fetch(`${xg}/public-registration/library/${e}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...b,shift_ids:b.shift_ids.map(V=>parseInt(V)),branch_id:parseInt(b.branch_id),seat_id:b.seat_id&&b.seat_id!=="none"?parseInt(b.seat_id):null,locker_id:b.locker_id&&b.locker_id!=="none"?parseInt(b.locker_id):null})}),D=await T.json();if(!T.ok)throw new Error(D.message||"Registration failed");m(!0),g(D.requestId),je.success("Registration request submitted successfully!")}catch(T){const D=T instanceof Error?T.message:"Registration failed";u(D),je.error(D)}finally{l(!1)}};return s?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ti,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading registration form..."})]})}):A&&!r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs(On,{className:"w-full max-w-md",children:[a.jsx(Fi,{children:a.jsxs(ji,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(ya,{className:"h-5 w-5"}),"Error"]})}),a.jsxs(Ss,{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:A}),a.jsx(cr,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:"Go Home"})]})]})}):h?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs(On,{className:"w-full max-w-md",children:[a.jsx(Fi,{children:a.jsxs(ji,{className:"flex items-center gap-2 text-green-600",children:[a.jsx(mc,{className:"h-5 w-5"}),"Registration Submitted!"]})}),a.jsxs(Ss,{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"Your registration request has been submitted successfully."}),a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Request ID: ",a.jsxs("span",{className:"font-mono font-medium",children:["#",y]})]})]}),a.jsxs(vA,{children:[a.jsx(ya,{className:"h-4 w-4"}),a.jsx(bA,{children:"Your request is now pending review by the library administration. You will be contacted once your request is processed."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(cr,{onClick:()=>t(`/registration-status/${e}/${b.phone}`),className:"w-full",children:"Check Status"}),a.jsx(cr,{onClick:()=>window.location.reload(),variant:"outline",className:"w-full",children:"Submit Another Request"})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(On,{className:"mb-6",children:a.jsxs(Fi,{children:[a.jsxs(ji,{className:"flex items-center gap-2",children:[a.jsx(Ec,{className:"h-6 w-6"}),r==null?void 0:r.library.name]}),a.jsxs(_c,{children:["Student Registration Form  Library Code: ",r==null?void 0:r.library.code]})]})}),a.jsxs(On,{children:[a.jsxs(Fi,{children:[a.jsx(ji,{children:"Student Registration"}),a.jsx(_c,{children:"Please fill out all required information. Your request will be reviewed by the library administration."})]}),a.jsx(Ss,{children:a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(qo,{className:"h-5 w-5"}),"Personal Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"name",children:"Full Name *"}),a.jsx(Vr,{id:"name",value:b.name,onChange:F=>v("name",F.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"father_name",children:"Father's Name"}),a.jsx(Vr,{id:"father_name",value:b.father_name,onChange:F=>v("father_name",F.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"phone",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(WA,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(Vr,{id:"phone",type:"tel",className:"pl-10",value:b.phone,onChange:F=>v("phone",F.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Cd,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(Vr,{id:"email",type:"email",className:"pl-10",value:b.email,onChange:F=>v("email",F.target.value)})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"aadhar_number",children:"Aadhar Number"}),a.jsx(Vr,{id:"aadhar_number",value:b.aadhar_number,onChange:F=>v("aadhar_number",F.target.value)})]}),a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"registration_number",children:"Registration Number"}),a.jsx(Vr,{id:"registration_number",value:b.registration_number,onChange:F=>v("registration_number",F.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"address",children:"Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(dm,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(J0,{id:"address",className:"pl-10",value:b.address,onChange:F=>v("address",F.target.value),rows:3})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(Ec,{className:"h-5 w-5"}),"Library Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"branch_id",children:"Branch *"}),a.jsxs(yc,{value:b.branch_id,onValueChange:F=>v("branch_id",F),children:[a.jsx(_l,{children:a.jsx(wc,{placeholder:"Select a branch"})}),a.jsx(Tl,{children:r==null?void 0:r.branches.map(F=>a.jsx(Ds,{value:F.id.toString(),children:F.name},F.id))})]})]}),a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"seat_id",children:"Preferred Seat (Optional)"}),a.jsxs(yc,{value:b.seat_id,onValueChange:F=>v("seat_id",F),children:[a.jsx(_l,{children:a.jsx(wc,{placeholder:"Select a seat"})}),a.jsxs(Tl,{children:[a.jsx(Ds,{value:"none",children:"No preference"}),r==null?void 0:r.seats.map(F=>a.jsxs(Ds,{value:F.id.toString(),children:["Seat ",F.seat_number]},F.id))]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"locker_id",children:"Preferred Locker (Optional)"}),a.jsxs(yc,{value:b.locker_id,onValueChange:F=>v("locker_id",F),children:[a.jsx(_l,{children:a.jsx(wc,{placeholder:"Select a locker"})}),a.jsxs(Tl,{children:[a.jsx(Ds,{value:"none",children:"No locker needed"}),r==null?void 0:r.lockers.map(F=>a.jsxs(Ds,{value:F.id.toString(),children:["Locker ",F.locker_number]},F.id))]})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(rl,{className:"h-5 w-5"}),"Membership Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"membership_start",children:"Membership Start Date"}),a.jsx(Vr,{id:"membership_start",type:"date",value:b.membership_start,onChange:F=>v("membership_start",F.target.value)})]}),a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"membership_end",children:"Membership End Date"}),a.jsx(Vr,{id:"membership_end",type:"date",value:b.membership_end,onChange:F=>v("membership_end",F.target.value)})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(ev,{className:"h-5 w-5"}),"Payment Information (Optional)"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"total_fee",children:"Total Fee"}),a.jsx(Vr,{id:"total_fee",type:"number",min:"0",step:"0.01",value:b.total_fee,onChange:F=>v("total_fee",F.target.value)})]}),a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"cash",children:"Cash Payment"}),a.jsx(Vr,{id:"cash",type:"number",min:"0",step:"0.01",value:b.cash,onChange:F=>v("cash",F.target.value)})]}),a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"online",children:"Online Payment"}),a.jsx(Vr,{id:"online",type:"number",min:"0",step:"0.01",value:b.online,onChange:F=>v("online",F.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"security_money",children:"Security Money"}),a.jsx(Vr,{id:"security_money",type:"number",min:"0",step:"0.01",value:b.security_money,onChange:F=>v("security_money",F.target.value)})]}),a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"discount",children:"Discount"}),a.jsx(Vr,{id:"discount",type:"number",min:"0",step:"0.01",value:b.discount,onChange:F=>v("discount",F.target.value)})]})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"remark",children:"Additional Notes"}),a.jsx(J0,{id:"remark",value:b.remark,onChange:F=>v("remark",F.target.value),rows:3,placeholder:"Any additional information you'd like to share..."})]})}),A&&a.jsxs(vA,{variant:"destructive",children:[a.jsx(ya,{className:"h-4 w-4"}),a.jsx(bA,{children:A})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(cr,{type:"submit",disabled:o,className:"flex-1",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ti,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Registration Request"}),a.jsx(cr,{type:"button",variant:"outline",onClick:()=>t("/"),disabled:o,children:"Cancel"})]})]})})]})]})})},p4e=()=>{const{libraryCode:e,phone:t}=GA(),r=Rr(),[n,s]=B.useState(e||""),[i,o]=B.useState(t||""),[l,A]=B.useState(null),[u,h]=B.useState(!1),[m,y]=B.useState(null),[g,b]=B.useState(!1);B.useEffect(()=>{e&&t&&C()},[e,t]);const C=async()=>{if(!n||!i){je.error("Please enter both library code and phone number");return}try{h(!0),y(null),b(!0);const F=await fetch(`${xg}/public-registration/library/${n}/status/${i}`);if(!F.ok){if(F.status===404){const D=await F.json();throw new Error(D.message||"No registration request found")}throw new Error("Failed to check registration status")}const T=await F.json();A(T)}catch(F){const T=F instanceof Error?F.message:"Failed to check registration status";y(T),A(null)}finally{h(!1)}},I=F=>{switch(F){case"pending":return a.jsx(Js,{className:"h-4 w-4"});case"accepted":return a.jsx(mc,{className:"h-4 w-4"});case"rejected":return a.jsx(Eh,{className:"h-4 w-4"});default:return a.jsx(ya,{className:"h-4 w-4"})}},v=F=>{switch(F){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"accepted":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},N=F=>new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsx(On,{className:"mb-6",children:a.jsxs(Fi,{children:[a.jsxs(ji,{className:"flex items-center gap-2",children:[a.jsx(Ic,{className:"h-6 w-6"}),"Check Registration Status"]}),a.jsx(_c,{children:"Enter your library code and phone number to check your registration request status"})]})}),a.jsx(On,{className:"mb-6",children:a.jsx(Ss,{className:"pt-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"libraryCode",children:"Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ec,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(Vr,{id:"libraryCode",placeholder:"e.g., LIB001",className:"pl-10",value:n,onChange:F=>s(F.target.value.toUpperCase())})]})]}),a.jsxs("div",{children:[a.jsx(Tt,{htmlFor:"phone",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(WA,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(Vr,{id:"phone",type:"tel",placeholder:"Your phone number",className:"pl-10",value:i,onChange:F=>o(F.target.value)})]})]})]}),a.jsx(cr,{onClick:C,disabled:u,className:"w-full",children:u?a.jsxs(a.Fragment,{children:[a.jsx(ti,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ic,{className:"mr-2 h-4 w-4"}),"Check Status"]})})]})})}),m&&g&&a.jsxs(vA,{variant:"destructive",className:"mb-6",children:[a.jsx(ya,{className:"h-4 w-4"}),a.jsx(bA,{children:m})]}),l&&a.jsxs(On,{children:[a.jsxs(Fi,{children:[a.jsxs(ji,{className:"flex items-center gap-2",children:[a.jsx(Ec,{className:"h-5 w-5"}),l.library.name]}),a.jsxs(_c,{children:["Library Code: ",l.library.code]})]}),a.jsxs(Ss,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(qo,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:l.request.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Request ID: #",l.request.id]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Status:"}),a.jsxs(Oh,{className:`${v(l.request.status)} flex items-center gap-1`,children:[I(l.request.status),l.request.status.charAt(0).toUpperCase()+l.request.status.slice(1)]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-sm font-medium",children:"Submitted"}),a.jsx("span",{className:"text-sm text-gray-600",children:N(l.request.submittedAt)})]}),l.request.lastUpdated!==l.request.submittedAt&&a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-sm font-medium",children:"Last Updated"}),a.jsx("span",{className:"text-sm text-gray-600",children:N(l.request.lastUpdated)})]}),l.request.processedAt&&a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-sm font-medium",children:"Processed"}),a.jsx("span",{className:"text-sm text-gray-600",children:N(l.request.processedAt)})]})]}),l.request.status==="pending"&&a.jsxs(vA,{children:[a.jsx(Js,{className:"h-4 w-4"}),a.jsx(bA,{children:"Your registration request is currently being reviewed by the library administration. You will be contacted once a decision is made."})]}),l.request.status==="accepted"&&a.jsxs(vA,{className:"border-green-200 bg-green-50",children:[a.jsx(mc,{className:"h-4 w-4 text-green-600"}),a.jsx(bA,{className:"text-green-800",children:"Congratulations! Your registration request has been accepted. You should have received contact information from the library administration."})]}),l.request.status==="rejected"&&a.jsxs(vA,{variant:"destructive",children:[a.jsx(Eh,{className:"h-4 w-4"}),a.jsxs(bA,{children:["Your registration request has been rejected.",l.request.rejectionReason&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("strong",{children:"Reason:"})," ",l.request.rejectionReason]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(cr,{onClick:()=>r(`/register/${l.library.code}`),variant:"outline",className:"flex-1",children:"New Registration"}),a.jsx(cr,{onClick:()=>window.location.reload(),variant:"outline",className:"flex-1",children:"Refresh Status"})]})]})]}),g&&!l&&!m&&!u&&a.jsx(On,{children:a.jsxs(Ss,{className:"pt-6 text-center",children:[a.jsx(ya,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Registration Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"No registration request was found for the provided library code and phone number."}),a.jsx(cr,{onClick:()=>r("/"),variant:"outline",children:"Go Home"})]})})]})})},g4e=new Q$;function Or({children:e}){const{isLoading:t,isAuthenticated:r}=Ca();return t?a.jsx("div",{children:"Loading..."}):r?e:a.jsx(XO,{to:"/owner-login"})}function x4e(){return a.jsxs(Gq,{children:[a.jsx(hr,{path:"/owner-register",element:a.jsx(qve,{})}),a.jsx(hr,{path:"/owner-login",element:a.jsx(Yve,{})}),a.jsx(hr,{path:"/student-login",element:a.jsx(Zve,{})}),a.jsx(hr,{path:"/student-dashboard",element:a.jsx(Ebe,{})}),a.jsx(hr,{path:"/",element:a.jsx(Ibe,{})}),a.jsx(hr,{path:"/dashboard",element:a.jsx(Or,{children:a.jsx(xie,{})})}),a.jsx(hr,{path:"/barcode",element:a.jsx(Or,{children:a.jsx(Fbe,{})})}),a.jsx(hr,{path:"/hostel-dashboard",element:a.jsx(Or,{children:a.jsx(Qve,{})})}),a.jsx(hr,{path:"/hostel/active-students",element:a.jsx(Or,{children:a.jsx(Hve,{})})}),a.jsx(hr,{path:"/students",element:a.jsx(Or,{children:a.jsx(Xfe,{})})}),a.jsx(hr,{path:"/students/add",element:a.jsx(Or,{children:a.jsx(gD,{})})}),a.jsx(hr,{path:"/students/:id",element:a.jsx(Or,{children:a.jsx(Kge,{})})}),a.jsx(hr,{path:"/students/:id/edit",element:a.jsx(Or,{children:a.jsx(R1e,{})})}),a.jsx(hr,{path:"/attendance",element:a.jsx(Or,{children:a.jsx(Gve,{})})}),a.jsx(hr,{path:"/qr-test",element:a.jsx(Or,{children:a.jsx(Wve,{})})}),a.jsx(hr,{path:"/active-students",element:a.jsx(Or,{children:a.jsx(bie,{})})}),a.jsx(hr,{path:"/expired-memberships",element:a.jsx(Or,{children:a.jsx(Vge,{})})}),a.jsx(hr,{path:"/expiring-memberships",element:a.jsx(Or,{children:a.jsx(W_,{})})}),a.jsx(hr,{path:"/inactive-students",element:a.jsx(Or,{children:a.jsx(Vve,{})})}),a.jsx(hr,{path:"/expiring-memberships",element:a.jsx(Or,{children:a.jsx(W_,{})})}),a.jsx(hr,{path:"/schedule",element:a.jsx(Or,{children:a.jsx(E1e,{})})}),a.jsx(hr,{path:"/shifts",element:a.jsx(Or,{children:a.jsx(M1e,{})})}),a.jsx(hr,{path:"/shifts/:id/students",element:a.jsx(Or,{children:a.jsx(Q1e,{})})}),a.jsx(hr,{path:"/seats",element:a.jsx(Or,{children:a.jsx(D1e,{})})}),a.jsx(hr,{path:"/settings",element:a.jsx(Or,{children:a.jsx(P1e,{})})}),a.jsx(hr,{path:"/users/new",element:a.jsx(pT,{children:a.jsx(O1e,{})})}),a.jsx(hr,{path:"/hostel",element:a.jsx(Or,{children:a.jsx(K1e,{})})}),a.jsx(hr,{path:"/hostel/branches/:branchId/students",element:a.jsx(Or,{children:a.jsx(W1e,{})})}),a.jsx(hr,{path:"/hostel/students/:id",element:a.jsx(Or,{children:a.jsx($1e,{})})}),a.jsx(hr,{path:"/hostel/students/:id/edit",element:a.jsx(Or,{children:a.jsx(q1e,{})})}),a.jsx(hr,{path:"/hostel/collections",element:a.jsx(Or,{children:a.jsx(Rve,{})})}),a.jsx(hr,{path:"/hostel/expired",element:a.jsx(Or,{children:a.jsx(Dve,{})})}),a.jsx(hr,{path:"/transactions",element:a.jsx(Or,{children:a.jsx(kve,{})})}),a.jsx(hr,{path:"/collections",element:a.jsx(Or,{children:a.jsx(Lve,{})})}),a.jsx(hr,{path:"/expenses",element:a.jsx(Or,{children:a.jsx(Pve,{})})}),a.jsx(hr,{path:"/profit-loss",element:a.jsx(Or,{children:a.jsx(Ove,{})})}),a.jsx(hr,{path:"/branches",element:a.jsx(Or,{children:a.jsx(Uve,{})})}),a.jsx(hr,{path:"/products",element:a.jsx(Or,{children:a.jsx(Mve,{})})}),a.jsx(hr,{path:"/announcements",element:a.jsx(Or,{children:a.jsx(G5e,{})})}),a.jsx(hr,{path:"/admission-requests",element:a.jsx(Or,{children:a.jsx(f4e,{})})}),a.jsx(hr,{path:"/register/:libraryCode",element:a.jsx(m4e,{})}),a.jsx(hr,{path:"/registration-status/:libraryCode?/:phone?",element:a.jsx(p4e,{})}),a.jsx(hr,{path:"/public-queries",element:a.jsx(Or,{children:a.jsx(tV,{})})}),a.jsx(hr,{path:"/admin/queries",element:a.jsx(pT,{children:a.jsx(z5e,{})})}),a.jsx(hr,{path:"/queries/new",element:a.jsx(Or,{children:a.jsx(q5e,{})})}),a.jsx(hr,{path:"/queries/:id",element:a.jsx(Or,{children:a.jsx($5e,{})})}),a.jsx(hr,{path:"/lockers",element:a.jsx(Or,{children:a.jsx(Kve,{})})}),a.jsx(hr,{path:"/subscription",element:a.jsx(Or,{children:a.jsx($ve,{})})}),a.jsx(hr,{path:"*",element:a.jsx(yie,{})})]})}function y4e(){return a.jsx(W$,{client:g4e,children:a.jsx(Q7,{children:a.jsx(Aee,{children:a.jsxs(eX,{children:[a.jsx(x4e,{}),a.jsx(Pz,{}),a.jsx(N$,{position:"top-right"})]})})})})}BO(document.getElementById("root")).render(a.jsx(y4e,{}));export{ip as _,Tf as c,$g as g};
