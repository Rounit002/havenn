var dz=Object.defineProperty;var cj=e=>{throw TypeError(e)};var uz=(e,t,r)=>t in e?dz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Bn=(e,t,r)=>uz(e,typeof t!="symbol"?t+"":t,r),Sb=(e,t,r)=>t.has(e)||cj("Cannot "+r);var Fe=(e,t,r)=>(Sb(e,t,"read from private field"),r?r.call(e):t.get(e)),cr=(e,t,r)=>t.has(e)?cj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),kt=(e,t,r,n)=>(Sb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Mr=(e,t,r)=>(Sb(e,t,"access private method"),r);var tx=(e,t,r,n)=>({set _(s){kt(e,t,s,r)},get _(){return Fe(e,t,n)}});function QL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var HL={exports:{}},k2={},VL={exports:{}},zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=Symbol.for("react.element"),Az=Symbol.for("react.portal"),hz=Symbol.for("react.fragment"),fz=Symbol.for("react.strict_mode"),mz=Symbol.for("react.profiler"),pz=Symbol.for("react.provider"),gz=Symbol.for("react.context"),xz=Symbol.for("react.forward_ref"),yz=Symbol.for("react.suspense"),wz=Symbol.for("react.memo"),vz=Symbol.for("react.lazy"),dj=Symbol.iterator;function bz(e){return e===null||typeof e!="object"?null:(e=dj&&e[dj]||e["@@iterator"],typeof e=="function"?e:null)}var KL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zL=Object.assign,WL={};function um(e,t,r){this.props=e,this.context=t,this.refs=WL,this.updater=r||KL}um.prototype.isReactComponent={};um.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};um.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GL(){}GL.prototype=um.prototype;function dB(e,t,r){this.props=e,this.context=t,this.refs=WL,this.updater=r||KL}var uB=dB.prototype=new GL;uB.constructor=dB;zL(uB,um.prototype);uB.isPureReactComponent=!0;var uj=Array.isArray,$L=Object.prototype.hasOwnProperty,AB={current:null},qL={key:!0,ref:!0,__self:!0,__source:!0};function XL(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$L.call(t,n)&&!qL.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];s.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:i1,type:e,key:i,ref:o,props:s,_owner:AB.current}}function Cz(e,t){return{$$typeof:i1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hB(e){return typeof e=="object"&&e!==null&&e.$$typeof===i1}function Nz(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Aj=/\/+/g;function Eb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nz(""+e.key):t.toString(36)}function xy(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case i1:case Az:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Eb(o,0):n,uj(s)?(r="",e!=null&&(r=e.replace(Aj,"$&/")+"/"),xy(s,t,r,"",function(u){return u})):s!=null&&(hB(s)&&(s=Cz(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Aj,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",uj(e))for(var l=0;l<e.length;l++){i=e[l];var d=n+Eb(i,l);o+=xy(i,t,r,d,s)}else if(d=bz(e),typeof d=="function")for(e=d.call(e),l=0;!(i=e.next()).done;)i=i.value,d=n+Eb(i,l++),o+=xy(i,t,r,d,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function rx(e,t,r){if(e==null)return e;var n=[],s=0;return xy(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Bz(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ki={current:null},yy={transition:null},Sz={ReactCurrentDispatcher:ki,ReactCurrentBatchConfig:yy,ReactCurrentOwner:AB};function YL(){throw Error("act(...) is not supported in production builds of React.")}zr.Children={map:rx,forEach:function(e,t,r){rx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return rx(e,function(){t++}),t},toArray:function(e){return rx(e,function(t){return t})||[]},only:function(e){if(!hB(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};zr.Component=um;zr.Fragment=hz;zr.Profiler=mz;zr.PureComponent=dB;zr.StrictMode=fz;zr.Suspense=yz;zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sz;zr.act=YL;zr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zL({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=AB.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)$L.call(t,d)&&!qL.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:i1,type:e.type,key:s,ref:i,props:n,_owner:o}};zr.createContext=function(e){return e={$$typeof:gz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pz,_context:e},e.Consumer=e};zr.createElement=XL;zr.createFactory=function(e){var t=XL.bind(null,e);return t.type=e,t};zr.createRef=function(){return{current:null}};zr.forwardRef=function(e){return{$$typeof:xz,render:e}};zr.isValidElement=hB;zr.lazy=function(e){return{$$typeof:vz,_payload:{_status:-1,_result:e},_init:Bz}};zr.memo=function(e,t){return{$$typeof:wz,type:e,compare:t===void 0?null:t}};zr.startTransition=function(e){var t=yy.transition;yy.transition={};try{e()}finally{yy.transition=t}};zr.unstable_act=YL;zr.useCallback=function(e,t){return ki.current.useCallback(e,t)};zr.useContext=function(e){return ki.current.useContext(e)};zr.useDebugValue=function(){};zr.useDeferredValue=function(e){return ki.current.useDeferredValue(e)};zr.useEffect=function(e,t){return ki.current.useEffect(e,t)};zr.useId=function(){return ki.current.useId()};zr.useImperativeHandle=function(e,t,r){return ki.current.useImperativeHandle(e,t,r)};zr.useInsertionEffect=function(e,t){return ki.current.useInsertionEffect(e,t)};zr.useLayoutEffect=function(e,t){return ki.current.useLayoutEffect(e,t)};zr.useMemo=function(e,t){return ki.current.useMemo(e,t)};zr.useReducer=function(e,t,r){return ki.current.useReducer(e,t,r)};zr.useRef=function(e){return ki.current.useRef(e)};zr.useState=function(e){return ki.current.useState(e)};zr.useSyncExternalStore=function(e,t,r){return ki.current.useSyncExternalStore(e,t,r)};zr.useTransition=function(){return ki.current.useTransition()};zr.version="18.3.1";VL.exports=zr;var C=VL.exports;const Je=a1(C),V0=QL({__proto__:null,default:Je},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ez=C,jz=Symbol.for("react.element"),Iz=Symbol.for("react.fragment"),Fz=Object.prototype.hasOwnProperty,kz=Ez.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_z={key:!0,ref:!0,__self:!0,__source:!0};function ZL(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Fz.call(t,n)&&!_z.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:jz,type:e,key:i,ref:o,props:s,_owner:kz.current}}k2.Fragment=Iz;k2.jsx=ZL;k2.jsxs=ZL;HL.exports=k2;var a=HL.exports,JL={exports:{}},Do={},e7={exports:{}},t7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,K){var ce=Y.length;Y.push(K);e:for(;0<ce;){var oe=ce-1>>>1,Q=Y[oe];if(0<s(Q,K))Y[oe]=K,Y[ce]=Q,ce=oe;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var K=Y[0],ce=Y.pop();if(ce!==K){Y[0]=ce;e:for(var oe=0,Q=Y.length,G=Q>>>1;oe<G;){var te=2*(oe+1)-1,se=Y[te],de=te+1,ge=Y[de];if(0>s(se,ce))de<Q&&0>s(ge,se)?(Y[oe]=ge,Y[de]=ce,oe=de):(Y[oe]=se,Y[te]=ce,oe=te);else if(de<Q&&0>s(ge,ce))Y[oe]=ge,Y[de]=ce,oe=de;else break e}}return K}function s(Y,K){var ce=Y.sortIndex-K.sortIndex;return ce!==0?ce:Y.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],u=[],h=1,m=null,y=3,p=!1,b=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Y){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=Y)n(u),K.sortIndex=K.expirationTime,t(d,K);else break;K=r(u)}}function _(Y){if(N=!1,I(Y),!b)if(r(d)!==null)b=!0,q(P);else{var K=r(u);K!==null&&X(_,K.startTime-Y)}}function P(Y,K){b=!1,N&&(N=!1,w(L),L=-1),p=!0;var ce=y;try{for(I(K),m=r(d);m!==null&&(!(m.expirationTime>K)||Y&&!M());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,y=m.priorityLevel;var Q=oe(m.expirationTime<=K);K=e.unstable_now(),typeof Q=="function"?m.callback=Q:m===r(d)&&n(d),I(K)}else n(d);m=r(d)}if(m!==null)var G=!0;else{var te=r(u);te!==null&&X(_,te.startTime-K),G=!1}return G}finally{m=null,y=ce,p=!1}}var H=!1,D=null,L=-1,T=5,z=-1;function M(){return!(e.unstable_now()-z<T)}function V(){if(D!==null){var Y=e.unstable_now();z=Y;var K=!0;try{K=D(!0,Y)}finally{K?J():(H=!1,D=null)}}else H=!1}var J;if(typeof B=="function")J=function(){B(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=V,J=function(){ee.postMessage(null)}}else J=function(){S(V,0)};function q(Y){D=Y,H||(H=!0,J())}function X(Y,K){L=S(function(){Y(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,q(P))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var ce=y;y=K;try{return Y()}finally{y=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=y;y=Y;try{return K()}finally{y=ce}},e.unstable_scheduleCallback=function(Y,K,ce){var oe=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?oe+ce:oe):ce=oe,Y){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ce+Q,Y={id:h++,callback:K,priorityLevel:Y,startTime:ce,expirationTime:Q,sortIndex:-1},ce>oe?(Y.sortIndex=ce,t(u,Y),r(d)===null&&Y===r(u)&&(N?(w(L),L=-1):N=!0,X(_,ce-oe))):(Y.sortIndex=Q,t(d,Y),b||p||(b=!0,q(P))),Y},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(Y){var K=y;return function(){var ce=y;y=K;try{return Y.apply(this,arguments)}finally{y=ce}}}})(t7);e7.exports=t7;var Tz=e7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lz=C,Fo=Tz;function pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r7=new Set,ng={};function df(e,t){K0(e,t),K0(e+"Capture",t)}function K0(e,t){for(ng[e]=t,e=0;e<t.length;e++)r7.add(t[e])}var Ld=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),YC=Object.prototype.hasOwnProperty,Pz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hj={},fj={};function Dz(e){return YC.call(fj,e)?!0:YC.call(hj,e)?!1:Pz.test(e)?fj[e]=!0:(hj[e]=!0,!1)}function Oz(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rz(e,t,r,n){if(t===null||typeof t>"u"||Oz(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _i(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ma={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ma[e]=new _i(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ma[t]=new _i(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ma[e]=new _i(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ma[e]=new _i(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ma[e]=new _i(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ma[e]=new _i(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ma[e]=new _i(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ma[e]=new _i(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ma[e]=new _i(e,5,!1,e.toLowerCase(),null,!1,!1)});var fB=/[\-:]([a-z])/g;function mB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fB,mB);Ma[t]=new _i(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fB,mB);Ma[t]=new _i(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fB,mB);Ma[t]=new _i(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ma[e]=new _i(e,1,!1,e.toLowerCase(),null,!1,!1)});Ma.xlinkHref=new _i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ma[e]=new _i(e,1,!1,e.toLowerCase(),null,!0,!0)});function pB(e,t,r,n){var s=Ma.hasOwnProperty(t)?Ma[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rz(t,r,s,n)&&(r=null),n||s===null?Dz(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gd=Lz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nx=Symbol.for("react.element"),Vf=Symbol.for("react.portal"),Kf=Symbol.for("react.fragment"),gB=Symbol.for("react.strict_mode"),ZC=Symbol.for("react.profiler"),n7=Symbol.for("react.provider"),s7=Symbol.for("react.context"),xB=Symbol.for("react.forward_ref"),JC=Symbol.for("react.suspense"),e4=Symbol.for("react.suspense_list"),yB=Symbol.for("react.memo"),_u=Symbol.for("react.lazy"),a7=Symbol.for("react.offscreen"),mj=Symbol.iterator;function Om(e){return e===null||typeof e!="object"?null:(e=mj&&e[mj]||e["@@iterator"],typeof e=="function"?e:null)}var xs=Object.assign,jb;function lp(e){if(jb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);jb=t&&t[1]||""}return`
`+jb+e}var Ib=!1;function Fb(e,t){if(!e||Ib)return"";Ib=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var d=`
`+s[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=l);break}}}finally{Ib=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?lp(e):""}function Mz(e){switch(e.tag){case 5:return lp(e.type);case 16:return lp("Lazy");case 13:return lp("Suspense");case 19:return lp("SuspenseList");case 0:case 2:case 15:return e=Fb(e.type,!1),e;case 11:return e=Fb(e.type.render,!1),e;case 1:return e=Fb(e.type,!0),e;default:return""}}function t4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kf:return"Fragment";case Vf:return"Portal";case ZC:return"Profiler";case gB:return"StrictMode";case JC:return"Suspense";case e4:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case s7:return(e.displayName||"Context")+".Consumer";case n7:return(e._context.displayName||"Context")+".Provider";case xB:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yB:return t=e.displayName||null,t!==null?t:t4(e.type)||"Memo";case _u:t=e._payload,e=e._init;try{return t4(e(t))}catch{}}return null}function Uz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t4(t);case 8:return t===gB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function NA(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function i7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qz(e){var t=i7(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sx(e){e._valueTracker||(e._valueTracker=Qz(e))}function o7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=i7(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ow(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function r4(e,t){var r=t.checked;return xs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function pj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=NA(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function l7(e,t){t=t.checked,t!=null&&pB(e,"checked",t,!1)}function n4(e,t){l7(e,t);var r=NA(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?s4(e,t.type,r):t.hasOwnProperty("defaultValue")&&s4(e,t.type,NA(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function s4(e,t,r){(t!=="number"||ow(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cp=Array.isArray;function u0(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+NA(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function a4(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pt(91));return xs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pt(92));if(cp(r)){if(1<r.length)throw Error(pt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:NA(r)}}function c7(e,t){var r=NA(t.value),n=NA(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i4(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ax,u7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ax=ax||document.createElement("div"),ax.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ax.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var kp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hz=["Webkit","ms","Moz","O"];Object.keys(kp).forEach(function(e){Hz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kp[t]=kp[e]})});function A7(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||kp.hasOwnProperty(e)&&kp[e]?(""+t).trim():t+"px"}function h7(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=A7(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Vz=xs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function o4(e,t){if(t){if(Vz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pt(62))}}function l4(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c4=null;function wB(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var d4=null,A0=null,h0=null;function wj(e){if(e=c1(e)){if(typeof d4!="function")throw Error(pt(280));var t=e.stateNode;t&&(t=D2(t),d4(e.stateNode,e.type,t))}}function f7(e){A0?h0?h0.push(e):h0=[e]:A0=e}function m7(){if(A0){var e=A0,t=h0;if(h0=A0=null,wj(e),t)for(e=0;e<t.length;e++)wj(t[e])}}function p7(e,t){return e(t)}function g7(){}var kb=!1;function x7(e,t,r){if(kb)return e(t,r);kb=!0;try{return p7(e,t,r)}finally{kb=!1,(A0!==null||h0!==null)&&(g7(),m7())}}function ag(e,t){var r=e.stateNode;if(r===null)return null;var n=D2(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pt(231,t,typeof r));return r}var u4=!1;if(Ld)try{var Rm={};Object.defineProperty(Rm,"passive",{get:function(){u4=!0}}),window.addEventListener("test",Rm,Rm),window.removeEventListener("test",Rm,Rm)}catch{u4=!1}function Kz(e,t,r,n,s,i,o,l,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var _p=!1,lw=null,cw=!1,A4=null,zz={onError:function(e){_p=!0,lw=e}};function Wz(e,t,r,n,s,i,o,l,d){_p=!1,lw=null,Kz.apply(zz,arguments)}function Gz(e,t,r,n,s,i,o,l,d){if(Wz.apply(this,arguments),_p){if(_p){var u=lw;_p=!1,lw=null}else throw Error(pt(198));cw||(cw=!0,A4=u)}}function uf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function y7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vj(e){if(uf(e)!==e)throw Error(pt(188))}function $z(e){var t=e.alternate;if(!t){if(t=uf(e),t===null)throw Error(pt(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return vj(s),e;if(i===n)return vj(s),t;i=i.sibling}throw Error(pt(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(pt(189))}}if(r.alternate!==n)throw Error(pt(190))}if(r.tag!==3)throw Error(pt(188));return r.stateNode.current===r?e:t}function w7(e){return e=$z(e),e!==null?v7(e):null}function v7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=v7(e);if(t!==null)return t;e=e.sibling}return null}var b7=Fo.unstable_scheduleCallback,bj=Fo.unstable_cancelCallback,qz=Fo.unstable_shouldYield,Xz=Fo.unstable_requestPaint,Ms=Fo.unstable_now,Yz=Fo.unstable_getCurrentPriorityLevel,vB=Fo.unstable_ImmediatePriority,C7=Fo.unstable_UserBlockingPriority,dw=Fo.unstable_NormalPriority,Zz=Fo.unstable_LowPriority,N7=Fo.unstable_IdlePriority,_2=null,Nc=null;function Jz(e){if(Nc&&typeof Nc.onCommitFiberRoot=="function")try{Nc.onCommitFiberRoot(_2,e,void 0,(e.current.flags&128)===128)}catch{}}var Rl=Math.clz32?Math.clz32:rW,eW=Math.log,tW=Math.LN2;function rW(e){return e>>>=0,e===0?32:31-(eW(e)/tW|0)|0}var ix=64,ox=4194304;function dp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uw(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=dp(l):(i&=o,i!==0&&(n=dp(i)))}else o=r&~s,o!==0?n=dp(o):i!==0&&(n=dp(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Rl(t),s=1<<r,n|=e[r],t&=~s;return n}function nW(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sW(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Rl(i),l=1<<o,d=s[o];d===-1?(!(l&r)||l&n)&&(s[o]=nW(l,t)):d<=t&&(e.expiredLanes|=l),i&=~l}}function h4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function B7(){var e=ix;return ix<<=1,!(ix&4194240)&&(ix=64),e}function _b(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function o1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rl(t),e[t]=r}function aW(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Rl(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function bB(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Rl(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var En=0;function S7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var E7,CB,j7,I7,F7,f4=!1,lx=[],oA=null,lA=null,cA=null,ig=new Map,og=new Map,Pu=[],iW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cj(e,t){switch(e){case"focusin":case"focusout":oA=null;break;case"dragenter":case"dragleave":lA=null;break;case"mouseover":case"mouseout":cA=null;break;case"pointerover":case"pointerout":ig.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":og.delete(t.pointerId)}}function Mm(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=c1(t),t!==null&&CB(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function oW(e,t,r,n,s){switch(t){case"focusin":return oA=Mm(oA,e,t,r,n,s),!0;case"dragenter":return lA=Mm(lA,e,t,r,n,s),!0;case"mouseover":return cA=Mm(cA,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ig.set(i,Mm(ig.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,og.set(i,Mm(og.get(i)||null,e,t,r,n,s)),!0}return!1}function k7(e){var t=dh(e.target);if(t!==null){var r=uf(t);if(r!==null){if(t=r.tag,t===13){if(t=y7(r),t!==null){e.blockedOn=t,F7(e.priority,function(){j7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=m4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);c4=n,r.target.dispatchEvent(n),c4=null}else return t=c1(r),t!==null&&CB(t),e.blockedOn=r,!1;t.shift()}return!0}function Nj(e,t,r){wy(e)&&r.delete(t)}function lW(){f4=!1,oA!==null&&wy(oA)&&(oA=null),lA!==null&&wy(lA)&&(lA=null),cA!==null&&wy(cA)&&(cA=null),ig.forEach(Nj),og.forEach(Nj)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,f4||(f4=!0,Fo.unstable_scheduleCallback(Fo.unstable_NormalPriority,lW)))}function lg(e){function t(s){return Um(s,e)}if(0<lx.length){Um(lx[0],e);for(var r=1;r<lx.length;r++){var n=lx[r];n.blockedOn===e&&(n.blockedOn=null)}}for(oA!==null&&Um(oA,e),lA!==null&&Um(lA,e),cA!==null&&Um(cA,e),ig.forEach(t),og.forEach(t),r=0;r<Pu.length;r++)n=Pu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Pu.length&&(r=Pu[0],r.blockedOn===null);)k7(r),r.blockedOn===null&&Pu.shift()}var f0=Gd.ReactCurrentBatchConfig,Aw=!0;function cW(e,t,r,n){var s=En,i=f0.transition;f0.transition=null;try{En=1,NB(e,t,r,n)}finally{En=s,f0.transition=i}}function dW(e,t,r,n){var s=En,i=f0.transition;f0.transition=null;try{En=4,NB(e,t,r,n)}finally{En=s,f0.transition=i}}function NB(e,t,r,n){if(Aw){var s=m4(e,t,r,n);if(s===null)Hb(e,t,n,hw,r),Cj(e,n);else if(oW(s,e,t,r,n))n.stopPropagation();else if(Cj(e,n),t&4&&-1<iW.indexOf(e)){for(;s!==null;){var i=c1(s);if(i!==null&&E7(i),i=m4(e,t,r,n),i===null&&Hb(e,t,n,hw,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Hb(e,t,n,null,r)}}var hw=null;function m4(e,t,r,n){if(hw=null,e=wB(n),e=dh(e),e!==null)if(t=uf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=y7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hw=e,null}function _7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yz()){case vB:return 1;case C7:return 4;case dw:case Zz:return 16;case N7:return 536870912;default:return 16}default:return 16}}var Xu=null,BB=null,vy=null;function T7(){if(vy)return vy;var e,t=BB,r=t.length,n,s="value"in Xu?Xu.value:Xu.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return vy=s.slice(e,1<n?1-n:void 0)}function by(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cx(){return!0}function Bj(){return!1}function Oo(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cx:Bj,this.isPropagationStopped=Bj,this}return xs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cx)},persist:function(){},isPersistent:cx}),t}var Am={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SB=Oo(Am),l1=xs({},Am,{view:0,detail:0}),uW=Oo(l1),Tb,Lb,Qm,T2=xs({},l1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EB,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qm&&(Qm&&e.type==="mousemove"?(Tb=e.screenX-Qm.screenX,Lb=e.screenY-Qm.screenY):Lb=Tb=0,Qm=e),Tb)},movementY:function(e){return"movementY"in e?e.movementY:Lb}}),Sj=Oo(T2),AW=xs({},T2,{dataTransfer:0}),hW=Oo(AW),fW=xs({},l1,{relatedTarget:0}),Pb=Oo(fW),mW=xs({},Am,{animationName:0,elapsedTime:0,pseudoElement:0}),pW=Oo(mW),gW=xs({},Am,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xW=Oo(gW),yW=xs({},Am,{data:0}),Ej=Oo(yW),wW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bW[e])?!!t[e]:!1}function EB(){return CW}var NW=xs({},l1,{key:function(e){if(e.key){var t=wW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=by(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EB,charCode:function(e){return e.type==="keypress"?by(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?by(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BW=Oo(NW),SW=xs({},T2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jj=Oo(SW),EW=xs({},l1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EB}),jW=Oo(EW),IW=xs({},Am,{propertyName:0,elapsedTime:0,pseudoElement:0}),FW=Oo(IW),kW=xs({},T2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_W=Oo(kW),TW=[9,13,27,32],jB=Ld&&"CompositionEvent"in window,Tp=null;Ld&&"documentMode"in document&&(Tp=document.documentMode);var LW=Ld&&"TextEvent"in window&&!Tp,L7=Ld&&(!jB||Tp&&8<Tp&&11>=Tp),Ij=" ",Fj=!1;function P7(e,t){switch(e){case"keyup":return TW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zf=!1;function PW(e,t){switch(e){case"compositionend":return D7(t);case"keypress":return t.which!==32?null:(Fj=!0,Ij);case"textInput":return e=t.data,e===Ij&&Fj?null:e;default:return null}}function DW(e,t){if(zf)return e==="compositionend"||!jB&&P7(e,t)?(e=T7(),vy=BB=Xu=null,zf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return L7&&t.locale!=="ko"?null:t.data;default:return null}}var OW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OW[e.type]:t==="textarea"}function O7(e,t,r,n){f7(n),t=fw(t,"onChange"),0<t.length&&(r=new SB("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Lp=null,cg=null;function RW(e){$7(e,0)}function L2(e){var t=$f(e);if(o7(t))return e}function MW(e,t){if(e==="change")return t}var R7=!1;if(Ld){var Db;if(Ld){var Ob="oninput"in document;if(!Ob){var _j=document.createElement("div");_j.setAttribute("oninput","return;"),Ob=typeof _j.oninput=="function"}Db=Ob}else Db=!1;R7=Db&&(!document.documentMode||9<document.documentMode)}function Tj(){Lp&&(Lp.detachEvent("onpropertychange",M7),cg=Lp=null)}function M7(e){if(e.propertyName==="value"&&L2(cg)){var t=[];O7(t,cg,e,wB(e)),x7(RW,t)}}function UW(e,t,r){e==="focusin"?(Tj(),Lp=t,cg=r,Lp.attachEvent("onpropertychange",M7)):e==="focusout"&&Tj()}function QW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return L2(cg)}function HW(e,t){if(e==="click")return L2(t)}function VW(e,t){if(e==="input"||e==="change")return L2(t)}function KW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kl=typeof Object.is=="function"?Object.is:KW;function dg(e,t){if(Kl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!YC.call(t,s)||!Kl(e[s],t[s]))return!1}return!0}function Lj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pj(e,t){var r=Lj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lj(r)}}function U7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?U7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Q7(){for(var e=window,t=ow();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ow(e.document)}return t}function IB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zW(e){var t=Q7(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&U7(r.ownerDocument.documentElement,r)){if(n!==null&&IB(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Pj(r,i);var o=Pj(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WW=Ld&&"documentMode"in document&&11>=document.documentMode,Wf=null,p4=null,Pp=null,g4=!1;function Dj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;g4||Wf==null||Wf!==ow(n)||(n=Wf,"selectionStart"in n&&IB(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pp&&dg(Pp,n)||(Pp=n,n=fw(p4,"onSelect"),0<n.length&&(t=new SB("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wf)))}function dx(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gf={animationend:dx("Animation","AnimationEnd"),animationiteration:dx("Animation","AnimationIteration"),animationstart:dx("Animation","AnimationStart"),transitionend:dx("Transition","TransitionEnd")},Rb={},H7={};Ld&&(H7=document.createElement("div").style,"AnimationEvent"in window||(delete Gf.animationend.animation,delete Gf.animationiteration.animation,delete Gf.animationstart.animation),"TransitionEvent"in window||delete Gf.transitionend.transition);function P2(e){if(Rb[e])return Rb[e];if(!Gf[e])return e;var t=Gf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in H7)return Rb[e]=t[r];return e}var V7=P2("animationend"),K7=P2("animationiteration"),z7=P2("animationstart"),W7=P2("transitionend"),G7=new Map,Oj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function DA(e,t){G7.set(e,t),df(t,[e])}for(var Mb=0;Mb<Oj.length;Mb++){var Ub=Oj[Mb],GW=Ub.toLowerCase(),$W=Ub[0].toUpperCase()+Ub.slice(1);DA(GW,"on"+$W)}DA(V7,"onAnimationEnd");DA(K7,"onAnimationIteration");DA(z7,"onAnimationStart");DA("dblclick","onDoubleClick");DA("focusin","onFocus");DA("focusout","onBlur");DA(W7,"onTransitionEnd");K0("onMouseEnter",["mouseout","mouseover"]);K0("onMouseLeave",["mouseout","mouseover"]);K0("onPointerEnter",["pointerout","pointerover"]);K0("onPointerLeave",["pointerout","pointerover"]);df("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));df("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));df("onBeforeInput",["compositionend","keypress","textInput","paste"]);df("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));df("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));df("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qW=new Set("cancel close invalid load scroll toggle".split(" ").concat(up));function Rj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Gz(n,t,void 0,e),e.currentTarget=null}function $7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==i&&s.isPropagationStopped())break e;Rj(s,l,u),i=d}else for(o=0;o<n.length;o++){if(l=n[o],d=l.instance,u=l.currentTarget,l=l.listener,d!==i&&s.isPropagationStopped())break e;Rj(s,l,u),i=d}}}if(cw)throw e=A4,cw=!1,A4=null,e}function Xn(e,t){var r=t[b4];r===void 0&&(r=t[b4]=new Set);var n=e+"__bubble";r.has(n)||(q7(t,e,2,!1),r.add(n))}function Qb(e,t,r){var n=0;t&&(n|=4),q7(r,e,n,t)}var ux="_reactListening"+Math.random().toString(36).slice(2);function ug(e){if(!e[ux]){e[ux]=!0,r7.forEach(function(r){r!=="selectionchange"&&(qW.has(r)||Qb(r,!1,e),Qb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ux]||(t[ux]=!0,Qb("selectionchange",!1,t))}}function q7(e,t,r,n){switch(_7(t)){case 1:var s=cW;break;case 4:s=dW;break;default:s=NB}r=s.bind(null,t,r,e),s=void 0,!u4||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Hb(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;o=o.return}for(;l!==null;){if(o=dh(l),o===null)return;if(d=o.tag,d===5||d===6){n=i=o;continue e}l=l.parentNode}}n=n.return}x7(function(){var u=i,h=wB(r),m=[];e:{var y=G7.get(e);if(y!==void 0){var p=SB,b=e;switch(e){case"keypress":if(by(r)===0)break e;case"keydown":case"keyup":p=BW;break;case"focusin":b="focus",p=Pb;break;case"focusout":b="blur",p=Pb;break;case"beforeblur":case"afterblur":p=Pb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jW;break;case V7:case K7:case z7:p=pW;break;case W7:p=FW;break;case"scroll":p=uW;break;case"wheel":p=_W;break;case"copy":case"cut":case"paste":p=xW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jj}var N=(t&4)!==0,S=!N&&e==="scroll",w=N?y!==null?y+"Capture":null:y;N=[];for(var B=u,I;B!==null;){I=B;var _=I.stateNode;if(I.tag===5&&_!==null&&(I=_,w!==null&&(_=ag(B,w),_!=null&&N.push(Ag(B,_,I)))),S)break;B=B.return}0<N.length&&(y=new p(y,b,null,r,h),m.push({event:y,listeners:N}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",y&&r!==c4&&(b=r.relatedTarget||r.fromElement)&&(dh(b)||b[Pd]))break e;if((p||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?dh(b):null,b!==null&&(S=uf(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(N=Sj,_="onMouseLeave",w="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(N=jj,_="onPointerLeave",w="onPointerEnter",B="pointer"),S=p==null?y:$f(p),I=b==null?y:$f(b),y=new N(_,B+"leave",p,r,h),y.target=S,y.relatedTarget=I,_=null,dh(h)===u&&(N=new N(w,B+"enter",b,r,h),N.target=I,N.relatedTarget=S,_=N),S=_,p&&b)t:{for(N=p,w=b,B=0,I=N;I;I=bf(I))B++;for(I=0,_=w;_;_=bf(_))I++;for(;0<B-I;)N=bf(N),B--;for(;0<I-B;)w=bf(w),I--;for(;B--;){if(N===w||w!==null&&N===w.alternate)break t;N=bf(N),w=bf(w)}N=null}else N=null;p!==null&&Mj(m,y,p,N,!1),b!==null&&S!==null&&Mj(m,S,b,N,!0)}}e:{if(y=u?$f(u):window,p=y.nodeName&&y.nodeName.toLowerCase(),p==="select"||p==="input"&&y.type==="file")var P=MW;else if(kj(y))if(R7)P=VW;else{P=QW;var H=UW}else(p=y.nodeName)&&p.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(P=HW);if(P&&(P=P(e,u))){O7(m,P,r,h);break e}H&&H(e,y,u),e==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&s4(y,"number",y.value)}switch(H=u?$f(u):window,e){case"focusin":(kj(H)||H.contentEditable==="true")&&(Wf=H,p4=u,Pp=null);break;case"focusout":Pp=p4=Wf=null;break;case"mousedown":g4=!0;break;case"contextmenu":case"mouseup":case"dragend":g4=!1,Dj(m,r,h);break;case"selectionchange":if(WW)break;case"keydown":case"keyup":Dj(m,r,h)}var D;if(jB)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else zf?P7(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(L7&&r.locale!=="ko"&&(zf||L!=="onCompositionStart"?L==="onCompositionEnd"&&zf&&(D=T7()):(Xu=h,BB="value"in Xu?Xu.value:Xu.textContent,zf=!0)),H=fw(u,L),0<H.length&&(L=new Ej(L,e,null,r,h),m.push({event:L,listeners:H}),D?L.data=D:(D=D7(r),D!==null&&(L.data=D)))),(D=LW?PW(e,r):DW(e,r))&&(u=fw(u,"onBeforeInput"),0<u.length&&(h=new Ej("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:u}),h.data=D))}$7(m,t)})}function Ag(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fw(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ag(e,r),i!=null&&n.unshift(Ag(e,i,s)),i=ag(e,t),i!=null&&n.push(Ag(e,i,s))),e=e.return}return n}function bf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mj(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,d=l.alternate,u=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&u!==null&&(l=u,s?(d=ag(r,i),d!=null&&o.unshift(Ag(r,d,l))):s||(d=ag(r,i),d!=null&&o.push(Ag(r,d,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var XW=/\r\n?/g,YW=/\u0000|\uFFFD/g;function Uj(e){return(typeof e=="string"?e:""+e).replace(XW,`
`).replace(YW,"")}function Ax(e,t,r){if(t=Uj(t),Uj(e)!==t&&r)throw Error(pt(425))}function mw(){}var x4=null,y4=null;function w4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var v4=typeof setTimeout=="function"?setTimeout:void 0,ZW=typeof clearTimeout=="function"?clearTimeout:void 0,Qj=typeof Promise=="function"?Promise:void 0,JW=typeof queueMicrotask=="function"?queueMicrotask:typeof Qj<"u"?function(e){return Qj.resolve(null).then(e).catch(eG)}:v4;function eG(e){setTimeout(function(){throw e})}function Vb(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),lg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);lg(t)}function dA(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hm=Math.random().toString(36).slice(2),yc="__reactFiber$"+hm,hg="__reactProps$"+hm,Pd="__reactContainer$"+hm,b4="__reactEvents$"+hm,tG="__reactListeners$"+hm,rG="__reactHandles$"+hm;function dh(e){var t=e[yc];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pd]||r[yc]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hj(e);e!==null;){if(r=e[yc])return r;e=Hj(e)}return t}e=r,r=e.parentNode}return null}function c1(e){return e=e[yc]||e[Pd],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $f(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pt(33))}function D2(e){return e[hg]||null}var C4=[],qf=-1;function OA(e){return{current:e}}function es(e){0>qf||(e.current=C4[qf],C4[qf]=null,qf--)}function Kn(e,t){qf++,C4[qf]=e.current,e.current=t}var BA={},ci=OA(BA),qi=OA(!1),Vh=BA;function z0(e,t){var r=e.type.contextTypes;if(!r)return BA;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xi(e){return e=e.childContextTypes,e!=null}function pw(){es(qi),es(ci)}function Vj(e,t,r){if(ci.current!==BA)throw Error(pt(168));Kn(ci,t),Kn(qi,r)}function X7(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(pt(108,Uz(e)||"Unknown",s));return xs({},r,n)}function gw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||BA,Vh=ci.current,Kn(ci,e),Kn(qi,qi.current),!0}function Kj(e,t,r){var n=e.stateNode;if(!n)throw Error(pt(169));r?(e=X7(e,t,Vh),n.__reactInternalMemoizedMergedChildContext=e,es(qi),es(ci),Kn(ci,e)):es(qi),Kn(qi,r)}var xd=null,O2=!1,Kb=!1;function Y7(e){xd===null?xd=[e]:xd.push(e)}function nG(e){O2=!0,Y7(e)}function RA(){if(!Kb&&xd!==null){Kb=!0;var e=0,t=En;try{var r=xd;for(En=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xd=null,O2=!1}catch(s){throw xd!==null&&(xd=xd.slice(e+1)),b7(vB,RA),s}finally{En=t,Kb=!1}}return null}var Xf=[],Yf=0,xw=null,yw=0,rl=[],nl=0,Kh=null,Nd=1,Bd="";function th(e,t){Xf[Yf++]=yw,Xf[Yf++]=xw,xw=e,yw=t}function Z7(e,t,r){rl[nl++]=Nd,rl[nl++]=Bd,rl[nl++]=Kh,Kh=e;var n=Nd;e=Bd;var s=32-Rl(n)-1;n&=~(1<<s),r+=1;var i=32-Rl(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Nd=1<<32-Rl(t)+s|r<<s|n,Bd=i+e}else Nd=1<<i|r<<s|n,Bd=e}function FB(e){e.return!==null&&(th(e,1),Z7(e,1,0))}function kB(e){for(;e===xw;)xw=Xf[--Yf],Xf[Yf]=null,yw=Xf[--Yf],Xf[Yf]=null;for(;e===Kh;)Kh=rl[--nl],rl[nl]=null,Bd=rl[--nl],rl[nl]=null,Nd=rl[--nl],rl[nl]=null}var So=null,Co=null,cs=!1,Pl=null;function J7(e,t){var r=il(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function zj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,So=e,Co=dA(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,So=e,Co=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Kh!==null?{id:Nd,overflow:Bd}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=il(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,So=e,Co=null,!0):!1;default:return!1}}function N4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function B4(e){if(cs){var t=Co;if(t){var r=t;if(!zj(e,t)){if(N4(e))throw Error(pt(418));t=dA(r.nextSibling);var n=So;t&&zj(e,t)?J7(n,r):(e.flags=e.flags&-4097|2,cs=!1,So=e)}}else{if(N4(e))throw Error(pt(418));e.flags=e.flags&-4097|2,cs=!1,So=e}}}function Wj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;So=e}function hx(e){if(e!==So)return!1;if(!cs)return Wj(e),cs=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!w4(e.type,e.memoizedProps)),t&&(t=Co)){if(N4(e))throw eP(),Error(pt(418));for(;t;)J7(e,t),t=dA(t.nextSibling)}if(Wj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Co=dA(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Co=null}}else Co=So?dA(e.stateNode.nextSibling):null;return!0}function eP(){for(var e=Co;e;)e=dA(e.nextSibling)}function W0(){Co=So=null,cs=!1}function _B(e){Pl===null?Pl=[e]:Pl.push(e)}var sG=Gd.ReactCurrentBatchConfig;function Hm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pt(309));var n=r.stateNode}if(!n)throw Error(pt(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(pt(284));if(!r._owner)throw Error(pt(290,e))}return e}function fx(e,t){throw e=Object.prototype.toString.call(t),Error(pt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gj(e){var t=e._init;return t(e._payload)}function tP(e){function t(w,B){if(e){var I=w.deletions;I===null?(w.deletions=[B],w.flags|=16):I.push(B)}}function r(w,B){if(!e)return null;for(;B!==null;)t(w,B),B=B.sibling;return null}function n(w,B){for(w=new Map;B!==null;)B.key!==null?w.set(B.key,B):w.set(B.index,B),B=B.sibling;return w}function s(w,B){return w=fA(w,B),w.index=0,w.sibling=null,w}function i(w,B,I){return w.index=I,e?(I=w.alternate,I!==null?(I=I.index,I<B?(w.flags|=2,B):I):(w.flags|=2,B)):(w.flags|=1048576,B)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,B,I,_){return B===null||B.tag!==6?(B=Yb(I,w.mode,_),B.return=w,B):(B=s(B,I),B.return=w,B)}function d(w,B,I,_){var P=I.type;return P===Kf?h(w,B,I.props.children,_,I.key):B!==null&&(B.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===_u&&Gj(P)===B.type)?(_=s(B,I.props),_.ref=Hm(w,B,I),_.return=w,_):(_=Iy(I.type,I.key,I.props,null,w.mode,_),_.ref=Hm(w,B,I),_.return=w,_)}function u(w,B,I,_){return B===null||B.tag!==4||B.stateNode.containerInfo!==I.containerInfo||B.stateNode.implementation!==I.implementation?(B=Zb(I,w.mode,_),B.return=w,B):(B=s(B,I.children||[]),B.return=w,B)}function h(w,B,I,_,P){return B===null||B.tag!==7?(B=kh(I,w.mode,_,P),B.return=w,B):(B=s(B,I),B.return=w,B)}function m(w,B,I){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Yb(""+B,w.mode,I),B.return=w,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case nx:return I=Iy(B.type,B.key,B.props,null,w.mode,I),I.ref=Hm(w,null,B),I.return=w,I;case Vf:return B=Zb(B,w.mode,I),B.return=w,B;case _u:var _=B._init;return m(w,_(B._payload),I)}if(cp(B)||Om(B))return B=kh(B,w.mode,I,null),B.return=w,B;fx(w,B)}return null}function y(w,B,I,_){var P=B!==null?B.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return P!==null?null:l(w,B,""+I,_);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case nx:return I.key===P?d(w,B,I,_):null;case Vf:return I.key===P?u(w,B,I,_):null;case _u:return P=I._init,y(w,B,P(I._payload),_)}if(cp(I)||Om(I))return P!==null?null:h(w,B,I,_,null);fx(w,I)}return null}function p(w,B,I,_,P){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(I)||null,l(B,w,""+_,P);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case nx:return w=w.get(_.key===null?I:_.key)||null,d(B,w,_,P);case Vf:return w=w.get(_.key===null?I:_.key)||null,u(B,w,_,P);case _u:var H=_._init;return p(w,B,I,H(_._payload),P)}if(cp(_)||Om(_))return w=w.get(I)||null,h(B,w,_,P,null);fx(B,_)}return null}function b(w,B,I,_){for(var P=null,H=null,D=B,L=B=0,T=null;D!==null&&L<I.length;L++){D.index>L?(T=D,D=null):T=D.sibling;var z=y(w,D,I[L],_);if(z===null){D===null&&(D=T);break}e&&D&&z.alternate===null&&t(w,D),B=i(z,B,L),H===null?P=z:H.sibling=z,H=z,D=T}if(L===I.length)return r(w,D),cs&&th(w,L),P;if(D===null){for(;L<I.length;L++)D=m(w,I[L],_),D!==null&&(B=i(D,B,L),H===null?P=D:H.sibling=D,H=D);return cs&&th(w,L),P}for(D=n(w,D);L<I.length;L++)T=p(D,w,L,I[L],_),T!==null&&(e&&T.alternate!==null&&D.delete(T.key===null?L:T.key),B=i(T,B,L),H===null?P=T:H.sibling=T,H=T);return e&&D.forEach(function(M){return t(w,M)}),cs&&th(w,L),P}function N(w,B,I,_){var P=Om(I);if(typeof P!="function")throw Error(pt(150));if(I=P.call(I),I==null)throw Error(pt(151));for(var H=P=null,D=B,L=B=0,T=null,z=I.next();D!==null&&!z.done;L++,z=I.next()){D.index>L?(T=D,D=null):T=D.sibling;var M=y(w,D,z.value,_);if(M===null){D===null&&(D=T);break}e&&D&&M.alternate===null&&t(w,D),B=i(M,B,L),H===null?P=M:H.sibling=M,H=M,D=T}if(z.done)return r(w,D),cs&&th(w,L),P;if(D===null){for(;!z.done;L++,z=I.next())z=m(w,z.value,_),z!==null&&(B=i(z,B,L),H===null?P=z:H.sibling=z,H=z);return cs&&th(w,L),P}for(D=n(w,D);!z.done;L++,z=I.next())z=p(D,w,L,z.value,_),z!==null&&(e&&z.alternate!==null&&D.delete(z.key===null?L:z.key),B=i(z,B,L),H===null?P=z:H.sibling=z,H=z);return e&&D.forEach(function(V){return t(w,V)}),cs&&th(w,L),P}function S(w,B,I,_){if(typeof I=="object"&&I!==null&&I.type===Kf&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case nx:e:{for(var P=I.key,H=B;H!==null;){if(H.key===P){if(P=I.type,P===Kf){if(H.tag===7){r(w,H.sibling),B=s(H,I.props.children),B.return=w,w=B;break e}}else if(H.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===_u&&Gj(P)===H.type){r(w,H.sibling),B=s(H,I.props),B.ref=Hm(w,H,I),B.return=w,w=B;break e}r(w,H);break}else t(w,H);H=H.sibling}I.type===Kf?(B=kh(I.props.children,w.mode,_,I.key),B.return=w,w=B):(_=Iy(I.type,I.key,I.props,null,w.mode,_),_.ref=Hm(w,B,I),_.return=w,w=_)}return o(w);case Vf:e:{for(H=I.key;B!==null;){if(B.key===H)if(B.tag===4&&B.stateNode.containerInfo===I.containerInfo&&B.stateNode.implementation===I.implementation){r(w,B.sibling),B=s(B,I.children||[]),B.return=w,w=B;break e}else{r(w,B);break}else t(w,B);B=B.sibling}B=Zb(I,w.mode,_),B.return=w,w=B}return o(w);case _u:return H=I._init,S(w,B,H(I._payload),_)}if(cp(I))return b(w,B,I,_);if(Om(I))return N(w,B,I,_);fx(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,B!==null&&B.tag===6?(r(w,B.sibling),B=s(B,I),B.return=w,w=B):(r(w,B),B=Yb(I,w.mode,_),B.return=w,w=B),o(w)):r(w,B)}return S}var G0=tP(!0),rP=tP(!1),ww=OA(null),vw=null,Zf=null,TB=null;function LB(){TB=Zf=vw=null}function PB(e){var t=ww.current;es(ww),e._currentValue=t}function S4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function m0(e,t){vw=e,TB=Zf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zi=!0),e.firstContext=null)}function ul(e){var t=e._currentValue;if(TB!==e)if(e={context:e,memoizedValue:t,next:null},Zf===null){if(vw===null)throw Error(pt(308));Zf=e,vw.dependencies={lanes:0,firstContext:e}}else Zf=Zf.next=e;return t}var uh=null;function DB(e){uh===null?uh=[e]:uh.push(e)}function nP(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,DB(t)):(r.next=s.next,s.next=r),t.interleaved=r,Dd(e,n)}function Dd(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tu=!1;function OB(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uA(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,cn&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Dd(e,r)}return s=n.interleaved,s===null?(t.next=t,DB(n)):(t.next=s.next,s.next=t),n.interleaved=t,Dd(e,r)}function Cy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bB(e,r)}}function $j(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bw(e,t,r,n){var s=e.updateQueue;Tu=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var d=l,u=d.next;d.next=null,o===null?i=u:o.next=u,o=d;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=d))}if(i!==null){var m=s.baseState;o=0,h=u=d=null,l=i;do{var y=l.lane,p=l.eventTime;if((n&y)===y){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,N=l;switch(y=t,p=r,N.tag){case 1:if(b=N.payload,typeof b=="function"){m=b.call(p,m,y);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,y=typeof b=="function"?b.call(p,m,y):b,y==null)break e;m=xs({},m,y);break e;case 2:Tu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[l]:y.push(l))}else p={eventTime:p,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,d=m):h=h.next=p,o|=y;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;y=l,l=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(h===null&&(d=m),s.baseState=d,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Wh|=o,e.lanes=o,e.memoizedState=m}}function qj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(pt(191,s));s.call(n)}}}var d1={},Bc=OA(d1),fg=OA(d1),mg=OA(d1);function Ah(e){if(e===d1)throw Error(pt(174));return e}function RB(e,t){switch(Kn(mg,t),Kn(fg,e),Kn(Bc,d1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:i4(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=i4(t,e)}es(Bc),Kn(Bc,t)}function $0(){es(Bc),es(fg),es(mg)}function aP(e){Ah(mg.current);var t=Ah(Bc.current),r=i4(t,e.type);t!==r&&(Kn(fg,e),Kn(Bc,r))}function MB(e){fg.current===e&&(es(Bc),es(fg))}var hs=OA(0);function Cw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zb=[];function UB(){for(var e=0;e<zb.length;e++)zb[e]._workInProgressVersionPrimary=null;zb.length=0}var Ny=Gd.ReactCurrentDispatcher,Wb=Gd.ReactCurrentBatchConfig,zh=0,ms=null,sa=null,pa=null,Nw=!1,Dp=!1,pg=0,aG=0;function Wa(){throw Error(pt(321))}function QB(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kl(e[r],t[r]))return!1;return!0}function HB(e,t,r,n,s,i){if(zh=i,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ny.current=e===null||e.memoizedState===null?cG:dG,e=r(n,s),Dp){i=0;do{if(Dp=!1,pg=0,25<=i)throw Error(pt(301));i+=1,pa=sa=null,t.updateQueue=null,Ny.current=uG,e=r(n,s)}while(Dp)}if(Ny.current=Bw,t=sa!==null&&sa.next!==null,zh=0,pa=sa=ms=null,Nw=!1,t)throw Error(pt(300));return e}function VB(){var e=pg!==0;return pg=0,e}function hc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pa===null?ms.memoizedState=pa=e:pa=pa.next=e,pa}function Al(){if(sa===null){var e=ms.alternate;e=e!==null?e.memoizedState:null}else e=sa.next;var t=pa===null?ms.memoizedState:pa.next;if(t!==null)pa=t,sa=e;else{if(e===null)throw Error(pt(310));sa=e,e={memoizedState:sa.memoizedState,baseState:sa.baseState,baseQueue:sa.baseQueue,queue:sa.queue,next:null},pa===null?ms.memoizedState=pa=e:pa=pa.next=e}return pa}function gg(e,t){return typeof t=="function"?t(e):t}function Gb(e){var t=Al(),r=t.queue;if(r===null)throw Error(pt(311));r.lastRenderedReducer=e;var n=sa,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,d=null,u=i;do{var h=u.lane;if((zh&h)===h)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(l=d=m,o=n):d=d.next=m,ms.lanes|=h,Wh|=h}u=u.next}while(u!==null&&u!==i);d===null?o=n:d.next=l,Kl(n,t.memoizedState)||(zi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ms.lanes|=i,Wh|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $b(e){var t=Al(),r=t.queue;if(r===null)throw Error(pt(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Kl(i,t.memoizedState)||(zi=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function iP(){}function oP(e,t){var r=ms,n=Al(),s=t(),i=!Kl(n.memoizedState,s);if(i&&(n.memoizedState=s,zi=!0),n=n.queue,KB(dP.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||pa!==null&&pa.memoizedState.tag&1){if(r.flags|=2048,xg(9,cP.bind(null,r,n,s,t),void 0,null),xa===null)throw Error(pt(349));zh&30||lP(r,t,s)}return s}function lP(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ms.updateQueue,t===null?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cP(e,t,r,n){t.value=r,t.getSnapshot=n,uP(t)&&AP(e)}function dP(e,t,r){return r(function(){uP(t)&&AP(e)})}function uP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kl(e,r)}catch{return!0}}function AP(e){var t=Dd(e,1);t!==null&&Ml(t,e,1,-1)}function Xj(e){var t=hc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:e},t.queue=e,e=e.dispatch=lG.bind(null,ms,e),[t.memoizedState,e]}function xg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ms.updateQueue,t===null?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function hP(){return Al().memoizedState}function By(e,t,r,n){var s=hc();ms.flags|=e,s.memoizedState=xg(1|t,r,void 0,n===void 0?null:n)}function R2(e,t,r,n){var s=Al();n=n===void 0?null:n;var i=void 0;if(sa!==null){var o=sa.memoizedState;if(i=o.destroy,n!==null&&QB(n,o.deps)){s.memoizedState=xg(t,r,i,n);return}}ms.flags|=e,s.memoizedState=xg(1|t,r,i,n)}function Yj(e,t){return By(8390656,8,e,t)}function KB(e,t){return R2(2048,8,e,t)}function fP(e,t){return R2(4,2,e,t)}function mP(e,t){return R2(4,4,e,t)}function pP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gP(e,t,r){return r=r!=null?r.concat([e]):null,R2(4,4,pP.bind(null,t,e),r)}function zB(){}function xP(e,t){var r=Al();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&QB(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function yP(e,t){var r=Al();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&QB(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function wP(e,t,r){return zh&21?(Kl(r,t)||(r=B7(),ms.lanes|=r,Wh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zi=!0),e.memoizedState=r)}function iG(e,t){var r=En;En=r!==0&&4>r?r:4,e(!0);var n=Wb.transition;Wb.transition={};try{e(!1),t()}finally{En=r,Wb.transition=n}}function vP(){return Al().memoizedState}function oG(e,t,r){var n=hA(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bP(e))CP(t,r);else if(r=nP(e,t,r,n),r!==null){var s=Ei();Ml(r,e,n,s),NP(r,t,n)}}function lG(e,t,r){var n=hA(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bP(e))CP(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Kl(l,o)){var d=t.interleaved;d===null?(s.next=s,DB(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}r=nP(e,t,s,n),r!==null&&(s=Ei(),Ml(r,e,n,s),NP(r,t,n))}}function bP(e){var t=e.alternate;return e===ms||t!==null&&t===ms}function CP(e,t){Dp=Nw=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function NP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,bB(e,r)}}var Bw={readContext:ul,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useInsertionEffect:Wa,useLayoutEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useDeferredValue:Wa,useTransition:Wa,useMutableSource:Wa,useSyncExternalStore:Wa,useId:Wa,unstable_isNewReconciler:!1},cG={readContext:ul,useCallback:function(e,t){return hc().memoizedState=[e,t===void 0?null:t],e},useContext:ul,useEffect:Yj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,By(4194308,4,pP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return By(4194308,4,e,t)},useInsertionEffect:function(e,t){return By(4,2,e,t)},useMemo:function(e,t){var r=hc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=hc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=oG.bind(null,ms,e),[n.memoizedState,e]},useRef:function(e){var t=hc();return e={current:e},t.memoizedState=e},useState:Xj,useDebugValue:zB,useDeferredValue:function(e){return hc().memoizedState=e},useTransition:function(){var e=Xj(!1),t=e[0];return e=iG.bind(null,e[1]),hc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ms,s=hc();if(cs){if(r===void 0)throw Error(pt(407));r=r()}else{if(r=t(),xa===null)throw Error(pt(349));zh&30||lP(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Yj(dP.bind(null,n,i,e),[e]),n.flags|=2048,xg(9,cP.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=hc(),t=xa.identifierPrefix;if(cs){var r=Bd,n=Nd;r=(n&~(1<<32-Rl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=pg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aG++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dG={readContext:ul,useCallback:xP,useContext:ul,useEffect:KB,useImperativeHandle:gP,useInsertionEffect:fP,useLayoutEffect:mP,useMemo:yP,useReducer:Gb,useRef:hP,useState:function(){return Gb(gg)},useDebugValue:zB,useDeferredValue:function(e){var t=Al();return wP(t,sa.memoizedState,e)},useTransition:function(){var e=Gb(gg)[0],t=Al().memoizedState;return[e,t]},useMutableSource:iP,useSyncExternalStore:oP,useId:vP,unstable_isNewReconciler:!1},uG={readContext:ul,useCallback:xP,useContext:ul,useEffect:KB,useImperativeHandle:gP,useInsertionEffect:fP,useLayoutEffect:mP,useMemo:yP,useReducer:$b,useRef:hP,useState:function(){return $b(gg)},useDebugValue:zB,useDeferredValue:function(e){var t=Al();return sa===null?t.memoizedState=e:wP(t,sa.memoizedState,e)},useTransition:function(){var e=$b(gg)[0],t=Al().memoizedState;return[e,t]},useMutableSource:iP,useSyncExternalStore:oP,useId:vP,unstable_isNewReconciler:!1};function kl(e,t){if(e&&e.defaultProps){t=xs({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function E4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xs({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var M2={isMounted:function(e){return(e=e._reactInternals)?uf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ei(),s=hA(e),i=jd(n,s);i.payload=t,r!=null&&(i.callback=r),t=uA(e,i,s),t!==null&&(Ml(t,e,s,n),Cy(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ei(),s=hA(e),i=jd(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=uA(e,i,s),t!==null&&(Ml(t,e,s,n),Cy(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ei(),n=hA(e),s=jd(r,n);s.tag=2,t!=null&&(s.callback=t),t=uA(e,s,n),t!==null&&(Ml(t,e,n,r),Cy(t,e,n))}};function Zj(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!dg(r,n)||!dg(s,i):!0}function BP(e,t,r){var n=!1,s=BA,i=t.contextType;return typeof i=="object"&&i!==null?i=ul(i):(s=Xi(t)?Vh:ci.current,n=t.contextTypes,i=(n=n!=null)?z0(e,s):BA),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=M2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Jj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&M2.enqueueReplaceState(t,t.state,null)}function j4(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},OB(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ul(i):(i=Xi(t)?Vh:ci.current,s.context=z0(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(E4(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&M2.enqueueReplaceState(s,s.state,null),bw(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function q0(e,t){try{var r="",n=t;do r+=Mz(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function qb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function I4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var AG=typeof WeakMap=="function"?WeakMap:Map;function SP(e,t,r){r=jd(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ew||(Ew=!0,M4=n),I4(e,t)},r}function EP(e,t,r){r=jd(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){I4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){I4(e,t),typeof n!="function"&&(AA===null?AA=new Set([this]):AA.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function e8(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new AG;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=SG.bind(null,e,t,r),t.then(e,e))}function t8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function r8(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jd(-1,1),t.tag=2,uA(r,t,1))),r.lanes|=1),e)}var hG=Gd.ReactCurrentOwner,zi=!1;function vi(e,t,r,n){t.child=e===null?rP(t,null,r,n):G0(t,e.child,r,n)}function n8(e,t,r,n,s){r=r.render;var i=t.ref;return m0(t,s),n=HB(e,t,r,n,i,s),r=VB(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Od(e,t,s)):(cs&&r&&FB(t),t.flags|=1,vi(e,t,n,s),t.child)}function s8(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!JB(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,jP(e,t,i,n,s)):(e=Iy(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:dg,r(o,n)&&e.ref===t.ref)return Od(e,t,s)}return t.flags|=1,e=fA(i,n),e.ref=t.ref,e.return=t,t.child=e}function jP(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(dg(i,n)&&e.ref===t.ref)if(zi=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(zi=!0);else return t.lanes=e.lanes,Od(e,t,s)}return F4(e,t,r,n,s)}function IP(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kn(e0,vo),vo|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kn(e0,vo),vo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Kn(e0,vo),vo|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Kn(e0,vo),vo|=n;return vi(e,t,s,r),t.child}function FP(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function F4(e,t,r,n,s){var i=Xi(r)?Vh:ci.current;return i=z0(t,i),m0(t,s),r=HB(e,t,r,n,i,s),n=VB(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Od(e,t,s)):(cs&&n&&FB(t),t.flags|=1,vi(e,t,r,s),t.child)}function a8(e,t,r,n,s){if(Xi(r)){var i=!0;gw(t)}else i=!1;if(m0(t,s),t.stateNode===null)Sy(e,t),BP(t,r,n),j4(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var d=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ul(u):(u=Xi(r)?Vh:ci.current,u=z0(t,u));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||d!==u)&&Jj(t,o,n,u),Tu=!1;var y=t.memoizedState;o.state=y,bw(t,n,o,s),d=t.memoizedState,l!==n||y!==d||qi.current||Tu?(typeof h=="function"&&(E4(t,r,h,n),d=t.memoizedState),(l=Tu||Zj(t,r,l,n,y,d,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),o.props=n,o.state=d,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,sP(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:kl(t.type,l),o.props=u,m=t.pendingProps,y=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=ul(d):(d=Xi(r)?Vh:ci.current,d=z0(t,d));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||y!==d)&&Jj(t,o,n,d),Tu=!1,y=t.memoizedState,o.state=y,bw(t,n,o,s);var b=t.memoizedState;l!==m||y!==b||qi.current||Tu?(typeof p=="function"&&(E4(t,r,p,n),b=t.memoizedState),(u=Tu||Zj(t,r,u,n,y,b,d)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=d,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return k4(e,t,r,n,i,s)}function k4(e,t,r,n,s,i){FP(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Kj(t,r,!1),Od(e,t,i);n=t.stateNode,hG.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=G0(t,e.child,null,i),t.child=G0(t,null,l,i)):vi(e,t,l,i),t.memoizedState=n.state,s&&Kj(t,r,!0),t.child}function kP(e){var t=e.stateNode;t.pendingContext?Vj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vj(e,t.context,!1),RB(e,t.containerInfo)}function i8(e,t,r,n,s){return W0(),_B(s),t.flags|=256,vi(e,t,r,n),t.child}var _4={dehydrated:null,treeContext:null,retryLane:0};function T4(e){return{baseLanes:e,cachePool:null,transitions:null}}function _P(e,t,r){var n=t.pendingProps,s=hs.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Kn(hs,s&1),e===null)return B4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=H2(o,n,0,null),e=kh(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=T4(r),t.memoizedState=_4,e):WB(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return fG(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var d={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=fA(s,d),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=fA(l,i):(i=kh(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?T4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=_4,n}return i=e.child,e=i.sibling,n=fA(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function WB(e,t){return t=H2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mx(e,t,r,n){return n!==null&&_B(n),G0(t,e.child,null,r),e=WB(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fG(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=qb(Error(pt(422))),mx(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=H2({mode:"visible",children:n.children},s,0,null),i=kh(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&G0(t,e.child,null,o),t.child.memoizedState=T4(o),t.memoizedState=_4,i);if(!(t.mode&1))return mx(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(pt(419)),n=qb(i,n,void 0),mx(e,t,o,n)}if(l=(o&e.childLanes)!==0,zi||l){if(n=xa,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dd(e,s),Ml(n,e,s,-1))}return ZB(),n=qb(Error(pt(421))),mx(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=EG.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Co=dA(s.nextSibling),So=t,cs=!0,Pl=null,e!==null&&(rl[nl++]=Nd,rl[nl++]=Bd,rl[nl++]=Kh,Nd=e.id,Bd=e.overflow,Kh=t),t=WB(t,n.children),t.flags|=4096,t)}function o8(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),S4(e.return,t,r)}function Xb(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function TP(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(vi(e,t,n.children,r),n=hs.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o8(e,r,t);else if(e.tag===19)o8(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Kn(hs,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Cw(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Xb(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cw(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Xb(t,!0,r,null,i);break;case"together":Xb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Od(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pt(153));if(t.child!==null){for(e=t.child,r=fA(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fA(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mG(e,t,r){switch(t.tag){case 3:kP(t),W0();break;case 5:aP(t);break;case 1:Xi(t.type)&&gw(t);break;case 4:RB(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Kn(ww,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Kn(hs,hs.current&1),t.flags|=128,null):r&t.child.childLanes?_P(e,t,r):(Kn(hs,hs.current&1),e=Od(e,t,r),e!==null?e.sibling:null);Kn(hs,hs.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return TP(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Kn(hs,hs.current),n)break;return null;case 22:case 23:return t.lanes=0,IP(e,t,r)}return Od(e,t,r)}var LP,L4,PP,DP;LP=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};L4=function(){};PP=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ah(Bc.current);var i=null;switch(r){case"input":s=r4(e,s),n=r4(e,n),i=[];break;case"select":s=xs({},s,{value:void 0}),n=xs({},n,{value:void 0}),i=[];break;case"textarea":s=a4(e,s),n=a4(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mw)}o4(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ng.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var d=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&d!==l&&(d!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(i||(i=[]),i.push(u,r)),r=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ng.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&Xn("scroll",e),i||l===d||(i=[])):(i=i||[]).push(u,d))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};DP=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vm(e,t){if(!cs)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ga(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function pG(e,t,r){var n=t.pendingProps;switch(kB(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:return Xi(t.type)&&pw(),Ga(t),null;case 3:return n=t.stateNode,$0(),es(qi),es(ci),UB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pl!==null&&(H4(Pl),Pl=null))),L4(e,t),Ga(t),null;case 5:MB(t);var s=Ah(mg.current);if(r=t.type,e!==null&&t.stateNode!=null)PP(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pt(166));return Ga(t),null}if(e=Ah(Bc.current),hx(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[yc]=t,n[hg]=i,e=(t.mode&1)!==0,r){case"dialog":Xn("cancel",n),Xn("close",n);break;case"iframe":case"object":case"embed":Xn("load",n);break;case"video":case"audio":for(s=0;s<up.length;s++)Xn(up[s],n);break;case"source":Xn("error",n);break;case"img":case"image":case"link":Xn("error",n),Xn("load",n);break;case"details":Xn("toggle",n);break;case"input":pj(n,i),Xn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Xn("invalid",n);break;case"textarea":xj(n,i),Xn("invalid",n)}o4(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ax(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ax(n.textContent,l,e),s=["children",""+l]):ng.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xn("scroll",n)}switch(r){case"input":sx(n),gj(n,i,!0);break;case"textarea":sx(n),yj(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=mw)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d7(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[yc]=t,e[hg]=n,LP(e,t,!1,!1),t.stateNode=e;e:{switch(o=l4(r,n),r){case"dialog":Xn("cancel",e),Xn("close",e),s=n;break;case"iframe":case"object":case"embed":Xn("load",e),s=n;break;case"video":case"audio":for(s=0;s<up.length;s++)Xn(up[s],e);s=n;break;case"source":Xn("error",e),s=n;break;case"img":case"image":case"link":Xn("error",e),Xn("load",e),s=n;break;case"details":Xn("toggle",e),s=n;break;case"input":pj(e,n),s=r4(e,n),Xn("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=xs({},n,{value:void 0}),Xn("invalid",e);break;case"textarea":xj(e,n),s=a4(e,n),Xn("invalid",e);break;default:s=n}o4(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?h7(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&u7(e,d)):i==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&sg(e,d):typeof d=="number"&&sg(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ng.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Xn("scroll",e):d!=null&&pB(e,i,d,o))}switch(r){case"input":sx(e),gj(e,n,!1);break;case"textarea":sx(e),yj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+NA(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?u0(e,!!n.multiple,i,!1):n.defaultValue!=null&&u0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&t.stateNode!=null)DP(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pt(166));if(r=Ah(mg.current),Ah(Bc.current),hx(t)){if(n=t.stateNode,r=t.memoizedProps,n[yc]=t,(i=n.nodeValue!==r)&&(e=So,e!==null))switch(e.tag){case 3:Ax(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ax(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yc]=t,t.stateNode=n}return Ga(t),null;case 13:if(es(hs),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cs&&Co!==null&&t.mode&1&&!(t.flags&128))eP(),W0(),t.flags|=98560,i=!1;else if(i=hx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(pt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pt(317));i[yc]=t}else W0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ga(t),i=!1}else Pl!==null&&(H4(Pl),Pl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||hs.current&1?la===0&&(la=3):ZB())),t.updateQueue!==null&&(t.flags|=4),Ga(t),null);case 4:return $0(),L4(e,t),e===null&&ug(t.stateNode.containerInfo),Ga(t),null;case 10:return PB(t.type._context),Ga(t),null;case 17:return Xi(t.type)&&pw(),Ga(t),null;case 19:if(es(hs),i=t.memoizedState,i===null)return Ga(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Vm(i,!1);else{if(la!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Cw(e),o!==null){for(t.flags|=128,Vm(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Kn(hs,hs.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ms()>X0&&(t.flags|=128,n=!0,Vm(i,!1),t.lanes=4194304)}else{if(!n)if(e=Cw(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!cs)return Ga(t),null}else 2*Ms()-i.renderingStartTime>X0&&r!==1073741824&&(t.flags|=128,n=!0,Vm(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ms(),t.sibling=null,r=hs.current,Kn(hs,n?r&1|2:r&1),t):(Ga(t),null);case 22:case 23:return YB(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vo&1073741824&&(Ga(t),t.subtreeFlags&6&&(t.flags|=8192)):Ga(t),null;case 24:return null;case 25:return null}throw Error(pt(156,t.tag))}function gG(e,t){switch(kB(t),t.tag){case 1:return Xi(t.type)&&pw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $0(),es(qi),es(ci),UB(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return MB(t),null;case 13:if(es(hs),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pt(340));W0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return es(hs),null;case 4:return $0(),null;case 10:return PB(t.type._context),null;case 22:case 23:return YB(),null;case 24:return null;default:return null}}var px=!1,si=!1,xG=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Jf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Is(e,t,n)}else r.current=null}function P4(e,t,r){try{r()}catch(n){Is(e,t,n)}}var l8=!1;function yG(e,t){if(x4=Aw,e=Q7(),IB(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,d=-1,u=0,h=0,m=e,y=null;t:for(;;){for(var p;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(d=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)y=m,m=p;for(;;){if(m===e)break t;if(y===r&&++u===s&&(l=o),y===i&&++h===n&&(d=o),(p=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=p}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(y4={focusedElem:e,selectionRange:r},Aw=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){t=Ut;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,S=b.memoizedState,w=t.stateNode,B=w.getSnapshotBeforeUpdate(t.elementType===t.type?N:kl(t.type,N),S);w.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pt(163))}}catch(_){Is(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}return b=l8,l8=!1,b}function Op(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&P4(t,r,i)}s=s.next}while(s!==n)}}function U2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function D4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function OP(e){var t=e.alternate;t!==null&&(e.alternate=null,OP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yc],delete t[hg],delete t[b4],delete t[tG],delete t[rG])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function RP(e){return e.tag===5||e.tag===3||e.tag===4}function c8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||RP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function O4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mw));else if(n!==4&&(e=e.child,e!==null))for(O4(e,t,r),e=e.sibling;e!==null;)O4(e,t,r),e=e.sibling}function R4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(R4(e,t,r),e=e.sibling;e!==null;)R4(e,t,r),e=e.sibling}var Fa=null,Ll=!1;function xu(e,t,r){for(r=r.child;r!==null;)MP(e,t,r),r=r.sibling}function MP(e,t,r){if(Nc&&typeof Nc.onCommitFiberUnmount=="function")try{Nc.onCommitFiberUnmount(_2,r)}catch{}switch(r.tag){case 5:si||Jf(r,t);case 6:var n=Fa,s=Ll;Fa=null,xu(e,t,r),Fa=n,Ll=s,Fa!==null&&(Ll?(e=Fa,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fa.removeChild(r.stateNode));break;case 18:Fa!==null&&(Ll?(e=Fa,r=r.stateNode,e.nodeType===8?Vb(e.parentNode,r):e.nodeType===1&&Vb(e,r),lg(e)):Vb(Fa,r.stateNode));break;case 4:n=Fa,s=Ll,Fa=r.stateNode.containerInfo,Ll=!0,xu(e,t,r),Fa=n,Ll=s;break;case 0:case 11:case 14:case 15:if(!si&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&P4(r,t,o),s=s.next}while(s!==n)}xu(e,t,r);break;case 1:if(!si&&(Jf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Is(r,t,l)}xu(e,t,r);break;case 21:xu(e,t,r);break;case 22:r.mode&1?(si=(n=si)||r.memoizedState!==null,xu(e,t,r),si=n):xu(e,t,r);break;default:xu(e,t,r)}}function d8(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xG),t.forEach(function(n){var s=jG.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Bl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Fa=l.stateNode,Ll=!1;break e;case 3:Fa=l.stateNode.containerInfo,Ll=!0;break e;case 4:Fa=l.stateNode.containerInfo,Ll=!0;break e}l=l.return}if(Fa===null)throw Error(pt(160));MP(i,o,s),Fa=null,Ll=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(u){Is(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UP(t,e),t=t.sibling}function UP(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bl(t,e),oc(e),n&4){try{Op(3,e,e.return),U2(3,e)}catch(N){Is(e,e.return,N)}try{Op(5,e,e.return)}catch(N){Is(e,e.return,N)}}break;case 1:Bl(t,e),oc(e),n&512&&r!==null&&Jf(r,r.return);break;case 5:if(Bl(t,e),oc(e),n&512&&r!==null&&Jf(r,r.return),e.flags&32){var s=e.stateNode;try{sg(s,"")}catch(N){Is(e,e.return,N)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&l7(s,i),l4(l,o);var u=l4(l,i);for(o=0;o<d.length;o+=2){var h=d[o],m=d[o+1];h==="style"?h7(s,m):h==="dangerouslySetInnerHTML"?u7(s,m):h==="children"?sg(s,m):pB(s,h,m,u)}switch(l){case"input":n4(s,i);break;case"textarea":c7(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?u0(s,!!i.multiple,p,!1):y!==!!i.multiple&&(i.defaultValue!=null?u0(s,!!i.multiple,i.defaultValue,!0):u0(s,!!i.multiple,i.multiple?[]:"",!1))}s[hg]=i}catch(N){Is(e,e.return,N)}}break;case 6:if(Bl(t,e),oc(e),n&4){if(e.stateNode===null)throw Error(pt(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(N){Is(e,e.return,N)}}break;case 3:if(Bl(t,e),oc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{lg(t.containerInfo)}catch(N){Is(e,e.return,N)}break;case 4:Bl(t,e),oc(e);break;case 13:Bl(t,e),oc(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qB=Ms())),n&4&&d8(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(si=(u=si)||h,Bl(t,e),si=u):Bl(t,e),oc(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Ut=e,h=e.child;h!==null;){for(m=Ut=h;Ut!==null;){switch(y=Ut,p=y.child,y.tag){case 0:case 11:case 14:case 15:Op(4,y,y.return);break;case 1:Jf(y,y.return);var b=y.stateNode;if(typeof b.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(N){Is(n,r,N)}}break;case 5:Jf(y,y.return);break;case 22:if(y.memoizedState!==null){A8(m);continue}}p!==null?(p.return=y,Ut=p):A8(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=A7("display",o))}catch(N){Is(e,e.return,N)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(N){Is(e,e.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Bl(t,e),oc(e),n&4&&d8(e);break;case 21:break;default:Bl(t,e),oc(e)}}function oc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(RP(r)){var n=r;break e}r=r.return}throw Error(pt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(sg(s,""),n.flags&=-33);var i=c8(e);R4(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=c8(e);O4(e,l,o);break;default:throw Error(pt(161))}}catch(d){Is(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wG(e,t,r){Ut=e,QP(e)}function QP(e,t,r){for(var n=(e.mode&1)!==0;Ut!==null;){var s=Ut,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||px;if(!o){var l=s.alternate,d=l!==null&&l.memoizedState!==null||si;l=px;var u=si;if(px=o,(si=d)&&!u)for(Ut=s;Ut!==null;)o=Ut,d=o.child,o.tag===22&&o.memoizedState!==null?h8(s):d!==null?(d.return=o,Ut=d):h8(s);for(;i!==null;)Ut=i,QP(i),i=i.sibling;Ut=s,px=l,si=u}u8(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ut=i):u8(e)}}function u8(e){for(;Ut!==null;){var t=Ut;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:si||U2(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!si)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:kl(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&qj(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qj(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&lg(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pt(163))}si||t.flags&512&&D4(t)}catch(y){Is(t,t.return,y)}}if(t===e){Ut=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ut=r;break}Ut=t.return}}function A8(e){for(;Ut!==null;){var t=Ut;if(t===e){Ut=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ut=r;break}Ut=t.return}}function h8(e){for(;Ut!==null;){var t=Ut;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{U2(4,t)}catch(d){Is(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(d){Is(t,s,d)}}var i=t.return;try{D4(t)}catch(d){Is(t,i,d)}break;case 5:var o=t.return;try{D4(t)}catch(d){Is(t,o,d)}}}catch(d){Is(t,t.return,d)}if(t===e){Ut=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ut=l;break}Ut=t.return}}var vG=Math.ceil,Sw=Gd.ReactCurrentDispatcher,GB=Gd.ReactCurrentOwner,cl=Gd.ReactCurrentBatchConfig,cn=0,xa=null,qs=null,Ra=0,vo=0,e0=OA(0),la=0,yg=null,Wh=0,Q2=0,$B=0,Rp=null,Ki=null,qB=0,X0=1/0,gd=null,Ew=!1,M4=null,AA=null,gx=!1,Yu=null,jw=0,Mp=0,U4=null,Ey=-1,jy=0;function Ei(){return cn&6?Ms():Ey!==-1?Ey:Ey=Ms()}function hA(e){return e.mode&1?cn&2&&Ra!==0?Ra&-Ra:sG.transition!==null?(jy===0&&(jy=B7()),jy):(e=En,e!==0||(e=window.event,e=e===void 0?16:_7(e.type)),e):1}function Ml(e,t,r,n){if(50<Mp)throw Mp=0,U4=null,Error(pt(185));o1(e,r,n),(!(cn&2)||e!==xa)&&(e===xa&&(!(cn&2)&&(Q2|=r),la===4&&Du(e,Ra)),Yi(e,n),r===1&&cn===0&&!(t.mode&1)&&(X0=Ms()+500,O2&&RA()))}function Yi(e,t){var r=e.callbackNode;sW(e,t);var n=uw(e,e===xa?Ra:0);if(n===0)r!==null&&bj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bj(r),t===1)e.tag===0?nG(f8.bind(null,e)):Y7(f8.bind(null,e)),JW(function(){!(cn&6)&&RA()}),r=null;else{switch(S7(n)){case 1:r=vB;break;case 4:r=C7;break;case 16:r=dw;break;case 536870912:r=N7;break;default:r=dw}r=qP(r,HP.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function HP(e,t){if(Ey=-1,jy=0,cn&6)throw Error(pt(327));var r=e.callbackNode;if(p0()&&e.callbackNode!==r)return null;var n=uw(e,e===xa?Ra:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Iw(e,n);else{t=n;var s=cn;cn|=2;var i=KP();(xa!==e||Ra!==t)&&(gd=null,X0=Ms()+500,Fh(e,t));do try{NG();break}catch(l){VP(e,l)}while(!0);LB(),Sw.current=i,cn=s,qs!==null?t=0:(xa=null,Ra=0,t=la)}if(t!==0){if(t===2&&(s=h4(e),s!==0&&(n=s,t=Q4(e,s))),t===1)throw r=yg,Fh(e,0),Du(e,n),Yi(e,Ms()),r;if(t===6)Du(e,n);else{if(s=e.current.alternate,!(n&30)&&!bG(s)&&(t=Iw(e,n),t===2&&(i=h4(e),i!==0&&(n=i,t=Q4(e,i))),t===1))throw r=yg,Fh(e,0),Du(e,n),Yi(e,Ms()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(pt(345));case 2:rh(e,Ki,gd);break;case 3:if(Du(e,n),(n&130023424)===n&&(t=qB+500-Ms(),10<t)){if(uw(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ei(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=v4(rh.bind(null,e,Ki,gd),t);break}rh(e,Ki,gd);break;case 4:if(Du(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Rl(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Ms()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vG(n/1960))-n,10<n){e.timeoutHandle=v4(rh.bind(null,e,Ki,gd),n);break}rh(e,Ki,gd);break;case 5:rh(e,Ki,gd);break;default:throw Error(pt(329))}}}return Yi(e,Ms()),e.callbackNode===r?HP.bind(null,e):null}function Q4(e,t){var r=Rp;return e.current.memoizedState.isDehydrated&&(Fh(e,t).flags|=256),e=Iw(e,t),e!==2&&(t=Ki,Ki=r,t!==null&&H4(t)),e}function H4(e){Ki===null?Ki=e:Ki.push.apply(Ki,e)}function bG(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Kl(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Du(e,t){for(t&=~$B,t&=~Q2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rl(t),n=1<<r;e[r]=-1,t&=~n}}function f8(e){if(cn&6)throw Error(pt(327));p0();var t=uw(e,0);if(!(t&1))return Yi(e,Ms()),null;var r=Iw(e,t);if(e.tag!==0&&r===2){var n=h4(e);n!==0&&(t=n,r=Q4(e,n))}if(r===1)throw r=yg,Fh(e,0),Du(e,t),Yi(e,Ms()),r;if(r===6)throw Error(pt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rh(e,Ki,gd),Yi(e,Ms()),null}function XB(e,t){var r=cn;cn|=1;try{return e(t)}finally{cn=r,cn===0&&(X0=Ms()+500,O2&&RA())}}function Gh(e){Yu!==null&&Yu.tag===0&&!(cn&6)&&p0();var t=cn;cn|=1;var r=cl.transition,n=En;try{if(cl.transition=null,En=1,e)return e()}finally{En=n,cl.transition=r,cn=t,!(cn&6)&&RA()}}function YB(){vo=e0.current,es(e0)}function Fh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,ZW(r)),qs!==null)for(r=qs.return;r!==null;){var n=r;switch(kB(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pw();break;case 3:$0(),es(qi),es(ci),UB();break;case 5:MB(n);break;case 4:$0();break;case 13:es(hs);break;case 19:es(hs);break;case 10:PB(n.type._context);break;case 22:case 23:YB()}r=r.return}if(xa=e,qs=e=fA(e.current,null),Ra=vo=t,la=0,yg=null,$B=Q2=Wh=0,Ki=Rp=null,uh!==null){for(t=0;t<uh.length;t++)if(r=uh[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}uh=null}return e}function VP(e,t){do{var r=qs;try{if(LB(),Ny.current=Bw,Nw){for(var n=ms.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Nw=!1}if(zh=0,pa=sa=ms=null,Dp=!1,pg=0,GB.current=null,r===null||r.return===null){la=1,yg=t,qs=null;break}e:{var i=e,o=r.return,l=r,d=t;if(t=Ra,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=t8(o);if(p!==null){p.flags&=-257,r8(p,o,l,i,t),p.mode&1&&e8(i,u,t),t=p,d=u;var b=t.updateQueue;if(b===null){var N=new Set;N.add(d),t.updateQueue=N}else b.add(d);break e}else{if(!(t&1)){e8(i,u,t),ZB();break e}d=Error(pt(426))}}else if(cs&&l.mode&1){var S=t8(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),r8(S,o,l,i,t),_B(q0(d,l));break e}}i=d=q0(d,l),la!==4&&(la=2),Rp===null?Rp=[i]:Rp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=SP(i,d,t);$j(i,w);break e;case 1:l=d;var B=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof B.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(AA===null||!AA.has(I)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=EP(i,l,t);$j(i,_);break e}}i=i.return}while(i!==null)}WP(r)}catch(P){t=P,qs===r&&r!==null&&(qs=r=r.return);continue}break}while(!0)}function KP(){var e=Sw.current;return Sw.current=Bw,e===null?Bw:e}function ZB(){(la===0||la===3||la===2)&&(la=4),xa===null||!(Wh&268435455)&&!(Q2&268435455)||Du(xa,Ra)}function Iw(e,t){var r=cn;cn|=2;var n=KP();(xa!==e||Ra!==t)&&(gd=null,Fh(e,t));do try{CG();break}catch(s){VP(e,s)}while(!0);if(LB(),cn=r,Sw.current=n,qs!==null)throw Error(pt(261));return xa=null,Ra=0,la}function CG(){for(;qs!==null;)zP(qs)}function NG(){for(;qs!==null&&!qz();)zP(qs)}function zP(e){var t=$P(e.alternate,e,vo);e.memoizedProps=e.pendingProps,t===null?WP(e):qs=t,GB.current=null}function WP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=gG(r,t),r!==null){r.flags&=32767,qs=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{la=6,qs=null;return}}else if(r=pG(r,t,vo),r!==null){qs=r;return}if(t=t.sibling,t!==null){qs=t;return}qs=t=e}while(t!==null);la===0&&(la=5)}function rh(e,t,r){var n=En,s=cl.transition;try{cl.transition=null,En=1,BG(e,t,r,n)}finally{cl.transition=s,En=n}return null}function BG(e,t,r,n){do p0();while(Yu!==null);if(cn&6)throw Error(pt(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(aW(e,i),e===xa&&(qs=xa=null,Ra=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gx||(gx=!0,qP(dw,function(){return p0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=cl.transition,cl.transition=null;var o=En;En=1;var l=cn;cn|=4,GB.current=null,yG(e,r),UP(r,e),zW(y4),Aw=!!x4,y4=x4=null,e.current=r,wG(r),Xz(),cn=l,En=o,cl.transition=i}else e.current=r;if(gx&&(gx=!1,Yu=e,jw=s),i=e.pendingLanes,i===0&&(AA=null),Jz(r.stateNode),Yi(e,Ms()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ew)throw Ew=!1,e=M4,M4=null,e;return jw&1&&e.tag!==0&&p0(),i=e.pendingLanes,i&1?e===U4?Mp++:(Mp=0,U4=e):Mp=0,RA(),null}function p0(){if(Yu!==null){var e=S7(jw),t=cl.transition,r=En;try{if(cl.transition=null,En=16>e?16:e,Yu===null)var n=!1;else{if(e=Yu,Yu=null,jw=0,cn&6)throw Error(pt(331));var s=cn;for(cn|=4,Ut=e.current;Ut!==null;){var i=Ut,o=i.child;if(Ut.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var u=l[d];for(Ut=u;Ut!==null;){var h=Ut;switch(h.tag){case 0:case 11:case 15:Op(8,h,i)}var m=h.child;if(m!==null)m.return=h,Ut=m;else for(;Ut!==null;){h=Ut;var y=h.sibling,p=h.return;if(OP(h),h===u){Ut=null;break}if(y!==null){y.return=p,Ut=y;break}Ut=p}}}var b=i.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var S=N.sibling;N.sibling=null,N=S}while(N!==null)}}Ut=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ut=o;else e:for(;Ut!==null;){if(i=Ut,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Op(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Ut=w;break e}Ut=i.return}}var B=e.current;for(Ut=B;Ut!==null;){o=Ut;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Ut=I;else e:for(o=B;Ut!==null;){if(l=Ut,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:U2(9,l)}}catch(P){Is(l,l.return,P)}if(l===o){Ut=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Ut=_;break e}Ut=l.return}}if(cn=s,RA(),Nc&&typeof Nc.onPostCommitFiberRoot=="function")try{Nc.onPostCommitFiberRoot(_2,e)}catch{}n=!0}return n}finally{En=r,cl.transition=t}}return!1}function m8(e,t,r){t=q0(r,t),t=SP(e,t,1),e=uA(e,t,1),t=Ei(),e!==null&&(o1(e,1,t),Yi(e,t))}function Is(e,t,r){if(e.tag===3)m8(e,e,r);else for(;t!==null;){if(t.tag===3){m8(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(AA===null||!AA.has(n))){e=q0(r,e),e=EP(t,e,1),t=uA(t,e,1),e=Ei(),t!==null&&(o1(t,1,e),Yi(t,e));break}}t=t.return}}function SG(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ei(),e.pingedLanes|=e.suspendedLanes&r,xa===e&&(Ra&r)===r&&(la===4||la===3&&(Ra&130023424)===Ra&&500>Ms()-qB?Fh(e,0):$B|=r),Yi(e,t)}function GP(e,t){t===0&&(e.mode&1?(t=ox,ox<<=1,!(ox&130023424)&&(ox=4194304)):t=1);var r=Ei();e=Dd(e,t),e!==null&&(o1(e,t,r),Yi(e,r))}function EG(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),GP(e,r)}function jG(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pt(314))}n!==null&&n.delete(t),GP(e,r)}var $P;$P=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qi.current)zi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zi=!1,mG(e,t,r);zi=!!(e.flags&131072)}else zi=!1,cs&&t.flags&1048576&&Z7(t,yw,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sy(e,t),e=t.pendingProps;var s=z0(t,ci.current);m0(t,r),s=HB(null,t,n,e,s,r);var i=VB();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xi(n)?(i=!0,gw(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,OB(t),s.updater=M2,t.stateNode=s,s._reactInternals=t,j4(t,n,e,r),t=k4(null,t,n,!0,i,r)):(t.tag=0,cs&&i&&FB(t),vi(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sy(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=FG(n),e=kl(n,e),s){case 0:t=F4(null,t,n,e,r);break e;case 1:t=a8(null,t,n,e,r);break e;case 11:t=n8(null,t,n,e,r);break e;case 14:t=s8(null,t,n,kl(n.type,e),r);break e}throw Error(pt(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kl(n,s),F4(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kl(n,s),a8(e,t,n,s,r);case 3:e:{if(kP(t),e===null)throw Error(pt(387));n=t.pendingProps,i=t.memoizedState,s=i.element,sP(e,t),bw(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=q0(Error(pt(423)),t),t=i8(e,t,n,r,s);break e}else if(n!==s){s=q0(Error(pt(424)),t),t=i8(e,t,n,r,s);break e}else for(Co=dA(t.stateNode.containerInfo.firstChild),So=t,cs=!0,Pl=null,r=rP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(W0(),n===s){t=Od(e,t,r);break e}vi(e,t,n,r)}t=t.child}return t;case 5:return aP(t),e===null&&B4(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,w4(n,s)?o=null:i!==null&&w4(n,i)&&(t.flags|=32),FP(e,t),vi(e,t,o,r),t.child;case 6:return e===null&&B4(t),null;case 13:return _P(e,t,r);case 4:return RB(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=G0(t,null,n,r):vi(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kl(n,s),n8(e,t,n,s,r);case 7:return vi(e,t,t.pendingProps,r),t.child;case 8:return vi(e,t,t.pendingProps.children,r),t.child;case 12:return vi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Kn(ww,n._currentValue),n._currentValue=o,i!==null)if(Kl(i.value,o)){if(i.children===s.children&&!qi.current){t=Od(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(i.tag===1){d=jd(-1,r&-r),d.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?d.next=d:(d.next=h.next,h.next=d),u.pending=d}}i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),S4(i.return,r,t),l.lanes|=r;break}d=d.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(pt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),S4(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}vi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,m0(t,r),s=ul(s),n=n(s),t.flags|=1,vi(e,t,n,r),t.child;case 14:return n=t.type,s=kl(n,t.pendingProps),s=kl(n.type,s),s8(e,t,n,s,r);case 15:return jP(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:kl(n,s),Sy(e,t),t.tag=1,Xi(n)?(e=!0,gw(t)):e=!1,m0(t,r),BP(t,n,s),j4(t,n,s,r),k4(null,t,n,!0,e,r);case 19:return TP(e,t,r);case 22:return IP(e,t,r)}throw Error(pt(156,t.tag))};function qP(e,t){return b7(e,t)}function IG(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function il(e,t,r,n){return new IG(e,t,r,n)}function JB(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FG(e){if(typeof e=="function")return JB(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xB)return 11;if(e===yB)return 14}return 2}function fA(e,t){var r=e.alternate;return r===null?(r=il(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Iy(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")JB(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Kf:return kh(r.children,s,i,t);case gB:o=8,s|=8;break;case ZC:return e=il(12,r,t,s|2),e.elementType=ZC,e.lanes=i,e;case JC:return e=il(13,r,t,s),e.elementType=JC,e.lanes=i,e;case e4:return e=il(19,r,t,s),e.elementType=e4,e.lanes=i,e;case a7:return H2(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case n7:o=10;break e;case s7:o=9;break e;case xB:o=11;break e;case yB:o=14;break e;case _u:o=16,n=null;break e}throw Error(pt(130,e==null?e:typeof e,""))}return t=il(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function kh(e,t,r,n){return e=il(7,e,n,t),e.lanes=r,e}function H2(e,t,r,n){return e=il(22,e,n,t),e.elementType=a7,e.lanes=r,e.stateNode={isHidden:!1},e}function Yb(e,t,r){return e=il(6,e,null,t),e.lanes=r,e}function Zb(e,t,r){return t=il(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kG(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_b(0),this.expirationTimes=_b(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_b(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function eS(e,t,r,n,s,i,o,l,d){return e=new kG(e,t,r,l,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=il(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},OB(i),e}function _G(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function XP(e){if(!e)return BA;e=e._reactInternals;e:{if(uf(e)!==e||e.tag!==1)throw Error(pt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pt(171))}if(e.tag===1){var r=e.type;if(Xi(r))return X7(e,r,t)}return t}function YP(e,t,r,n,s,i,o,l,d){return e=eS(r,n,!0,e,s,i,o,l,d),e.context=XP(null),r=e.current,n=Ei(),s=hA(r),i=jd(n,s),i.callback=t??null,uA(r,i,s),e.current.lanes=s,o1(e,s,n),Yi(e,n),e}function V2(e,t,r,n){var s=t.current,i=Ei(),o=hA(s);return r=XP(r),t.context===null?t.context=r:t.pendingContext=r,t=jd(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=uA(s,t,o),e!==null&&(Ml(e,s,o,i),Cy(e,s,o)),o}function Fw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function p8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function tS(e,t){p8(e,t),(e=e.alternate)&&p8(e,t)}function TG(){return null}var ZP=typeof reportError=="function"?reportError:function(e){console.error(e)};function rS(e){this._internalRoot=e}K2.prototype.render=rS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pt(409));V2(e,t,null,null)};K2.prototype.unmount=rS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gh(function(){V2(null,e,null,null)}),t[Pd]=null}};function K2(e){this._internalRoot=e}K2.prototype.unstable_scheduleHydration=function(e){if(e){var t=I7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pu.length&&t!==0&&t<Pu[r].priority;r++);Pu.splice(r,0,e),r===0&&k7(e)}};function nS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function z2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function g8(){}function LG(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Fw(o);i.call(u)}}var o=YP(t,n,e,0,null,!1,!1,"",g8);return e._reactRootContainer=o,e[Pd]=o.current,ug(e.nodeType===8?e.parentNode:e),Gh(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Fw(d);l.call(u)}}var d=eS(e,0,!1,null,null,!1,!1,"",g8);return e._reactRootContainer=d,e[Pd]=d.current,ug(e.nodeType===8?e.parentNode:e),Gh(function(){V2(t,d,r,n)}),d}function W2(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var d=Fw(o);l.call(d)}}V2(t,o,e,s)}else o=LG(r,t,e,s,n);return Fw(o)}E7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dp(t.pendingLanes);r!==0&&(bB(t,r|1),Yi(t,Ms()),!(cn&6)&&(X0=Ms()+500,RA()))}break;case 13:Gh(function(){var n=Dd(e,1);if(n!==null){var s=Ei();Ml(n,e,1,s)}}),tS(e,1)}};CB=function(e){if(e.tag===13){var t=Dd(e,134217728);if(t!==null){var r=Ei();Ml(t,e,134217728,r)}tS(e,134217728)}};j7=function(e){if(e.tag===13){var t=hA(e),r=Dd(e,t);if(r!==null){var n=Ei();Ml(r,e,t,n)}tS(e,t)}};I7=function(){return En};F7=function(e,t){var r=En;try{return En=e,t()}finally{En=r}};d4=function(e,t,r){switch(t){case"input":if(n4(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=D2(n);if(!s)throw Error(pt(90));o7(n),n4(n,s)}}}break;case"textarea":c7(e,r);break;case"select":t=r.value,t!=null&&u0(e,!!r.multiple,t,!1)}};p7=XB;g7=Gh;var PG={usingClientEntryPoint:!1,Events:[c1,$f,D2,f7,m7,XB]},Km={findFiberByHostInstance:dh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DG={bundleType:Km.bundleType,version:Km.version,rendererPackageName:Km.rendererPackageName,rendererConfig:Km.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=w7(e),e===null?null:e.stateNode},findFiberByHostInstance:Km.findFiberByHostInstance||TG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xx.isDisabled&&xx.supportsFiber)try{_2=xx.inject(DG),Nc=xx}catch{}}Do.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PG;Do.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nS(t))throw Error(pt(200));return _G(e,t,null,r)};Do.createRoot=function(e,t){if(!nS(e))throw Error(pt(299));var r=!1,n="",s=ZP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=eS(e,1,!1,null,null,r,!1,n,s),e[Pd]=t.current,ug(e.nodeType===8?e.parentNode:e),new rS(t)};Do.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pt(188)):(e=Object.keys(e).join(","),Error(pt(268,e)));return e=w7(t),e=e===null?null:e.stateNode,e};Do.flushSync=function(e){return Gh(e)};Do.hydrate=function(e,t,r){if(!z2(t))throw Error(pt(200));return W2(null,e,t,!0,r)};Do.hydrateRoot=function(e,t,r){if(!nS(e))throw Error(pt(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=ZP;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=YP(t,null,e,1,r??null,s,!1,i,o),e[Pd]=t.current,ug(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new K2(t)};Do.render=function(e,t,r){if(!z2(t))throw Error(pt(200));return W2(null,e,t,!1,r)};Do.unmountComponentAtNode=function(e){if(!z2(e))throw Error(pt(40));return e._reactRootContainer?(Gh(function(){W2(null,null,e,!1,function(){e._reactRootContainer=null,e[Pd]=null})}),!0):!1};Do.unstable_batchedUpdates=XB;Do.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!z2(r))throw Error(pt(200));if(e==null||e._reactInternals===void 0)throw Error(pt(38));return W2(e,t,r,!1,n)};Do.version="18.3.1-next-f1338f8080-20240426";function JP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JP)}catch(e){console.error(e)}}JP(),JL.exports=Do;var MA=JL.exports;const eD=a1(MA);var tD,x8=MA;tD=x8.createRoot,x8.hydrateRoot;var OG=e=>{switch(e){case"success":return UG;case"info":return HG;case"warning":return QG;case"error":return VG;default:return null}},RG=Array(12).fill(0),MG=({visible:e,className:t})=>Je.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Je.createElement("div",{className:"sonner-spinner"},RG.map((r,n)=>Je.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),UG=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),QG=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HG=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),VG=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KG=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Je.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Je.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zG=()=>{let[e,t]=Je.useState(document.hidden);return Je.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},V4=1,WG=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:V4++,o=this.toasts.find(d=>d.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:l,title:n}):d):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=t instanceof Promise?t:t(),i=n!==void 0,o,l=s.then(async u=>{if(o=["resolve",u],Je.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if($G(u)&&!u.ok){i=!1;let h=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:h,description:m})}else if(r.success!==void 0){i=!1;let h=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:h,description:m})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;let h=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:h,description:m})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),d=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||V4++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Hi=new WG,GG=(e,t)=>{let r=(t==null?void 0:t.id)||V4++;return Hi.addToast({title:e,...t,id:r}),r},$G=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",qG=GG,XG=()=>Hi.toasts,YG=()=>Hi.getActiveToasts(),Se=Object.assign(qG,{success:Hi.success,info:Hi.info,warning:Hi.warning,error:Hi.error,custom:Hi.custom,message:Hi.message,promise:Hi.promise,dismiss:Hi.dismiss,loading:Hi.loading},{getHistory:XG,getToasts:YG});function ZG(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}ZG(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yx(e){return e.label!==void 0}var JG=3,e$="32px",t$="16px",y8=4e3,r$=356,n$=14,s$=20,a$=200;function Sl(...e){return e.filter(Boolean).join(" ")}function i$(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var o$=e=>{var t,r,n,s,i,o,l,d,u,h,m;let{invert:y,toast:p,unstyled:b,interacting:N,setHeights:S,visibleToasts:w,heights:B,index:I,toasts:_,expanded:P,removeToast:H,defaultRichColors:D,closeButton:L,style:T,cancelButtonStyle:z,actionButtonStyle:M,className:V="",descriptionClassName:J="",duration:Z,position:ee,gap:q,loadingIcon:X,expandByDefault:Y,classNames:K,icons:ce,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:Q}=e,[G,te]=Je.useState(null),[se,de]=Je.useState(null),[ge,ue]=Je.useState(!1),[Ee,ke]=Je.useState(!1),[_e,Oe]=Je.useState(!1),[He,Ne]=Je.useState(!1),[me,Pe]=Je.useState(!1),[nt,Xe]=Je.useState(0),[Ue,yt]=Je.useState(0),We=Je.useRef(p.duration||Z||y8),Vt=Je.useRef(null),Le=Je.useRef(null),rt=I===0,mt=I+1<=w,At=p.type,wt=p.dismissible!==!1,Ft=p.className||"",xt=p.descriptionClassName||"",Rt=Je.useMemo(()=>B.findIndex(Lt=>Lt.toastId===p.id)||0,[B,p.id]),Ct=Je.useMemo(()=>{var Lt;return(Lt=p.closeButton)!=null?Lt:L},[p.closeButton,L]),Kr=Je.useMemo(()=>p.duration||Z||y8,[p.duration,Z]),Gt=Je.useRef(0),$e=Je.useRef(0),It=Je.useRef(0),Kt=Je.useRef(null),[Nt,br]=ee.split("-"),Ge=Je.useMemo(()=>B.reduce((Lt,tr,rr)=>rr>=Rt?Lt:Lt+tr.height,0),[B,Rt]),vt=zG(),gt=p.invert||y,Bt=At==="loading";$e.current=Je.useMemo(()=>Rt*q+Ge,[Rt,Ge]),Je.useEffect(()=>{We.current=Kr},[Kr]),Je.useEffect(()=>{ue(!0)},[]),Je.useEffect(()=>{let Lt=Le.current;if(Lt){let tr=Lt.getBoundingClientRect().height;return yt(tr),S(rr=>[{toastId:p.id,height:tr,position:p.position},...rr]),()=>S(rr=>rr.filter(Vr=>Vr.toastId!==p.id))}},[S,p.id]),Je.useLayoutEffect(()=>{if(!ge)return;let Lt=Le.current,tr=Lt.style.height;Lt.style.height="auto";let rr=Lt.getBoundingClientRect().height;Lt.style.height=tr,yt(rr),S(Vr=>Vr.find(Et=>Et.toastId===p.id)?Vr.map(Et=>Et.toastId===p.id?{...Et,height:rr}:Et):[{toastId:p.id,height:rr,position:p.position},...Vr])},[ge,p.title,p.description,S,p.id]);let Qt=Je.useCallback(()=>{ke(!0),Xe($e.current),S(Lt=>Lt.filter(tr=>tr.toastId!==p.id)),setTimeout(()=>{H(p)},a$)},[p,H,S,$e]);Je.useEffect(()=>{if(p.promise&&At==="loading"||p.duration===1/0||p.type==="loading")return;let Lt;return P||N||Q&&vt?(()=>{if(It.current<Gt.current){let tr=new Date().getTime()-Gt.current;We.current=We.current-tr}It.current=new Date().getTime()})():We.current!==1/0&&(Gt.current=new Date().getTime(),Lt=setTimeout(()=>{var tr;(tr=p.onAutoClose)==null||tr.call(p,p),Qt()},We.current)),()=>clearTimeout(Lt)},[P,N,p,At,Q,vt,Qt]),Je.useEffect(()=>{p.delete&&Qt()},[Qt,p.delete]);function wr(){var Lt,tr,rr;return ce!=null&&ce.loading?Je.createElement("div",{className:Sl(K==null?void 0:K.loader,(Lt=p==null?void 0:p.classNames)==null?void 0:Lt.loader,"sonner-loader"),"data-visible":At==="loading"},ce.loading):X?Je.createElement("div",{className:Sl(K==null?void 0:K.loader,(tr=p==null?void 0:p.classNames)==null?void 0:tr.loader,"sonner-loader"),"data-visible":At==="loading"},X):Je.createElement(MG,{className:Sl(K==null?void 0:K.loader,(rr=p==null?void 0:p.classNames)==null?void 0:rr.loader),visible:At==="loading"})}return Je.createElement("li",{tabIndex:0,ref:Le,className:Sl(V,Ft,K==null?void 0:K.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,K==null?void 0:K.default,K==null?void 0:K[At],(r=p==null?void 0:p.classNames)==null?void 0:r[At]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:D,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":ge,"data-promise":!!p.promise,"data-swiped":me,"data-removed":Ee,"data-visible":mt,"data-y-position":Nt,"data-x-position":br,"data-index":I,"data-front":rt,"data-swiping":_e,"data-dismissible":wt,"data-type":At,"data-invert":gt,"data-swipe-out":He,"data-swipe-direction":se,"data-expanded":!!(P||Y&&ge),style:{"--index":I,"--toasts-before":I,"--z-index":_.length-I,"--offset":`${Ee?nt:$e.current}px`,"--initial-height":Y?"auto":`${Ue}px`,...T,...p.style},onDragEnd:()=>{Oe(!1),te(null),Kt.current=null},onPointerDown:Lt=>{Bt||!wt||(Vt.current=new Date,Xe($e.current),Lt.target.setPointerCapture(Lt.pointerId),Lt.target.tagName!=="BUTTON"&&(Oe(!0),Kt.current={x:Lt.clientX,y:Lt.clientY}))},onPointerUp:()=>{var Lt,tr,rr,Vr;if(He||!wt)return;Kt.current=null;let Et=Number(((Lt=Le.current)==null?void 0:Lt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rn=Number(((tr=Le.current)==null?void 0:tr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ys=new Date().getTime()-((rr=Vt.current)==null?void 0:rr.getTime()),qr=G==="x"?Et:rn,In=Math.abs(qr)/ys;if(Math.abs(qr)>=s$||In>.11){Xe($e.current),(Vr=p.onDismiss)==null||Vr.call(p,p),de(G==="x"?Et>0?"right":"left":rn>0?"down":"up"),Qt(),Ne(!0),Pe(!1);return}Oe(!1),te(null)},onPointerMove:Lt=>{var tr,rr,Vr,Et;if(!Kt.current||!wt||((tr=window.getSelection())==null?void 0:tr.toString().length)>0)return;let rn=Lt.clientY-Kt.current.y,ys=Lt.clientX-Kt.current.x,qr=(rr=e.swipeDirections)!=null?rr:i$(ee);!G&&(Math.abs(ys)>1||Math.abs(rn)>1)&&te(Math.abs(ys)>Math.abs(rn)?"x":"y");let In={x:0,y:0};G==="y"?(qr.includes("top")||qr.includes("bottom"))&&(qr.includes("top")&&rn<0||qr.includes("bottom")&&rn>0)&&(In.y=rn):G==="x"&&(qr.includes("left")||qr.includes("right"))&&(qr.includes("left")&&ys<0||qr.includes("right")&&ys>0)&&(In.x=ys),(Math.abs(In.x)>0||Math.abs(In.y)>0)&&Pe(!0),(Vr=Le.current)==null||Vr.style.setProperty("--swipe-amount-x",`${In.x}px`),(Et=Le.current)==null||Et.style.setProperty("--swipe-amount-y",`${In.y}px`)}},Ct&&!p.jsx?Je.createElement("button",{"aria-label":oe,"data-disabled":Bt,"data-close-button":!0,onClick:Bt||!wt?()=>{}:()=>{var Lt;Qt(),(Lt=p.onDismiss)==null||Lt.call(p,p)},className:Sl(K==null?void 0:K.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=ce==null?void 0:ce.close)!=null?i:KG):null,p.jsx||C.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Je.createElement(Je.Fragment,null,At||p.icon||p.promise?Je.createElement("div",{"data-icon":"",className:Sl(K==null?void 0:K.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||wr():null,p.type!=="loading"?p.icon||(ce==null?void 0:ce[At])||OG(At):null):null,Je.createElement("div",{"data-content":"",className:Sl(K==null?void 0:K.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},Je.createElement("div",{"data-title":"",className:Sl(K==null?void 0:K.title,(d=p==null?void 0:p.classNames)==null?void 0:d.title)},typeof p.title=="function"?p.title():p.title),p.description?Je.createElement("div",{"data-description":"",className:Sl(J,xt,K==null?void 0:K.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),C.isValidElement(p.cancel)?p.cancel:p.cancel&&yx(p.cancel)?Je.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||z,onClick:Lt=>{var tr,rr;yx(p.cancel)&&wt&&((rr=(tr=p.cancel).onClick)==null||rr.call(tr,Lt),Qt())},className:Sl(K==null?void 0:K.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,C.isValidElement(p.action)?p.action:p.action&&yx(p.action)?Je.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||M,onClick:Lt=>{var tr,rr;yx(p.action)&&((rr=(tr=p.action).onClick)==null||rr.call(tr,Lt),!Lt.defaultPrevented&&Qt())},className:Sl(K==null?void 0:K.actionButton,(m=p==null?void 0:p.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function w8(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function l$(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?t$:e$;function d(u){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):d(l)}),r}var c$=C.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:d,mobileOffset:u,theme:h="light",richColors:m,duration:y,style:p,visibleToasts:b=JG,toastOptions:N,dir:S=w8(),gap:w=n$,loadingIcon:B,icons:I,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:P}=e,[H,D]=Je.useState([]),L=Je.useMemo(()=>Array.from(new Set([n].concat(H.filter(Q=>Q.position).map(Q=>Q.position)))),[H,n]),[T,z]=Je.useState([]),[M,V]=Je.useState(!1),[J,Z]=Je.useState(!1),[ee,q]=Je.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=Je.useRef(null),Y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=Je.useRef(null),ce=Je.useRef(!1),oe=Je.useCallback(Q=>{D(G=>{var te;return(te=G.find(se=>se.id===Q.id))!=null&&te.delete||Hi.dismiss(Q.id),G.filter(({id:se})=>se!==Q.id)})},[]);return Je.useEffect(()=>Hi.subscribe(Q=>{if(Q.dismiss){D(G=>G.map(te=>te.id===Q.id?{...te,delete:!0}:te));return}setTimeout(()=>{eD.flushSync(()=>{D(G=>{let te=G.findIndex(se=>se.id===Q.id);return te!==-1?[...G.slice(0,te),{...G[te],...Q},...G.slice(te+1)]:[Q,...G]})})})}),[]),Je.useEffect(()=>{if(h!=="system"){q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:G})=>{q(G?"dark":"light")})}catch{Q.addListener(({matches:te})=>{try{q(te?"dark":"light")}catch(se){console.error(se)}})}},[h]),Je.useEffect(()=>{H.length<=1&&V(!1)},[H]),Je.useEffect(()=>{let Q=G=>{var te,se;s.every(de=>G[de]||G.code===de)&&(V(!0),(te=X.current)==null||te.focus()),G.code==="Escape"&&(document.activeElement===X.current||(se=X.current)!=null&&se.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[s]),Je.useEffect(()=>{if(X.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,ce.current=!1)}},[X.current]),Je.createElement("section",{ref:t,"aria-label":`${_} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((Q,G)=>{var te;let[se,de]=Q.split("-");return H.length?Je.createElement("ol",{key:Q,dir:S==="auto"?w8():S,tabIndex:-1,ref:X,className:l,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":se,"data-lifted":M&&H.length>1&&!i,"data-x-position":de,style:{"--front-toast-height":`${((te=T[0])==null?void 0:te.height)||0}px`,"--width":`${r$}px`,"--gap":`${w}px`,...p,...l$(d,u)},onBlur:ge=>{ce.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(ce.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||ce.current||(ce.current=!0,K.current=ge.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{J||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},H.filter(ge=>!ge.position&&G===0||ge.position===Q).map((ge,ue)=>{var Ee,ke;return Je.createElement(o$,{key:ge.id,icons:I,index:ue,toast:ge,defaultRichColors:m,duration:(Ee=N==null?void 0:N.duration)!=null?Ee:y,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:r,visibleToasts:b,closeButton:(ke=N==null?void 0:N.closeButton)!=null?ke:o,interacting:J,position:Q,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,removeToast:oe,toasts:H.filter(_e=>_e.position==ge.position),heights:T.filter(_e=>_e.position==ge.position),setHeights:z,expandByDefault:i,gap:w,loadingIcon:B,expanded:M,pauseWhenPageIsHidden:P,swipeDirections:e.swipeDirections})})):null}))});let d$={data:""},u$=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||d$,A$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,h$=/\/\*[^]*?\*\/|  +/g,v8=/\n+/g,Ou=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Ou(o,i):i+"{"+Ou(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Ou(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ou.p?Ou.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},ld={},rD=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+rD(e[r]);return t}return e},f$=(e,t,r,n,s)=>{let i=rD(e),o=ld[i]||(ld[i]=(d=>{let u=0,h=11;for(;u<d.length;)h=101*h+d.charCodeAt(u++)>>>0;return"go"+h})(i));if(!ld[o]){let d=i!==e?e:(u=>{let h,m,y=[{}];for(;h=A$.exec(u.replace(h$,""));)h[4]?y.shift():h[3]?(m=h[3].replace(v8," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][h[1]]=h[2].replace(v8," ").trim();return y[0]})(e);ld[o]=Ou(s?{["@keyframes "+o]:d}:d,r?"":"."+o)}let l=r&&ld.g?ld.g:null;return r&&(ld.g=ld[o]),((d,u,h,m)=>{m?u.data=u.data.replace(m,d):u.data.indexOf(d)===-1&&(u.data=h?d+u.data:u.data+d)})(ld[o],t,n,l),o},m$=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let l=o(r),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=d?"."+d:l&&typeof l=="object"?l.props?"":Ou(l,""):l===!1?"":l}return n+s+(o??"")},"");function G2(e){let t=this||{},r=e.call?e(t.p):e;return f$(r.unshift?r.raw?m$(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,u$(t.target),t.g,t.o,t.k)}let nD,K4,z4;G2.bind({g:1});let Rd=G2.bind({k:1});function p$(e,t,r,n){Ou.p=t,nD=e,K4=r,z4=n}function UA(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let l=Object.assign({},i),d=l.className||s.className;r.p=Object.assign({theme:K4&&K4()},l),r.o=/ *go\d+/.test(d),l.className=G2.apply(r,n)+(d?" "+d:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),z4&&u[0]&&z4(l),nD(u,l)}return s}}var g$=e=>typeof e=="function",kw=(e,t)=>g$(e)?e(t):e,x$=(()=>{let e=0;return()=>(++e).toString()})(),sD=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),y$=20,aD=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,y$)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return aD(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Fy=[],hh={toasts:[],pausedAt:void 0},Af=e=>{hh=aD(hh,e),Fy.forEach(t=>{t(hh)})},w$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},v$=(e={})=>{let[t,r]=C.useState(hh),n=C.useRef(hh);C.useEffect(()=>(n.current!==hh&&r(hh),Fy.push(r),()=>{let i=Fy.indexOf(r);i>-1&&Fy.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,l,d;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||w$[i.type],style:{...e.style,...(d=e[i.type])==null?void 0:d.style,...i.style}}});return{...t,toasts:s}},b$=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||x$()}),u1=e=>(t,r)=>{let n=b$(t,e,r);return Af({type:2,toast:n}),n.id},ar=(e,t)=>u1("blank")(e,t);ar.error=u1("error");ar.success=u1("success");ar.loading=u1("loading");ar.custom=u1("custom");ar.dismiss=e=>{Af({type:3,toastId:e})};ar.remove=e=>Af({type:4,toastId:e});ar.promise=(e,t,r)=>{let n=ar.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?kw(t.success,s):void 0;return i?ar.success(i,{id:n,...r,...r==null?void 0:r.success}):ar.dismiss(n),s}).catch(s=>{let i=t.error?kw(t.error,s):void 0;i?ar.error(i,{id:n,...r,...r==null?void 0:r.error}):ar.dismiss(n)}),e};var C$=(e,t)=>{Af({type:1,toast:{id:e,height:t}})},N$=()=>{Af({type:5,time:Date.now()})},Up=new Map,B$=1e3,S$=(e,t=B$)=>{if(Up.has(e))return;let r=setTimeout(()=>{Up.delete(e),Af({type:4,toastId:e})},t);Up.set(e,r)},E$=e=>{let{toasts:t,pausedAt:r}=v$(e);C.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let d=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(d<0){l.visible&&ar.dismiss(l.id);return}return setTimeout(()=>ar.dismiss(l.id),d)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=C.useCallback(()=>{r&&Af({type:6,time:Date.now()})},[r]),s=C.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:d=8,defaultPosition:u}=o||{},h=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),m=h.findIndex(p=>p.id===i.id),y=h.filter((p,b)=>b<m&&p.visible).length;return h.filter(p=>p.visible).slice(...l?[y+1]:[0,y]).reduce((p,b)=>p+(b.height||0)+d,0)},[t]);return C.useEffect(()=>{t.forEach(i=>{if(i.dismissed)S$(i.id,i.removeDelay);else{let o=Up.get(i.id);o&&(clearTimeout(o),Up.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:C$,startPause:N$,endPause:n,calculateOffset:s}}},j$=Rd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,I$=Rd`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,F$=Rd`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,k$=UA("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${j$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${I$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${F$} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_$=Rd`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,T$=UA("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${_$} 1s linear infinite;
`,L$=Rd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,P$=Rd`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,D$=UA("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${L$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${P$} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,O$=UA("div")`
  position: absolute;
`,R$=UA("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,M$=Rd`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,U$=UA("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${M$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Q$=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?C.createElement(U$,null,t):t:r==="blank"?null:C.createElement(R$,null,C.createElement(T$,{...n}),r!=="loading"&&C.createElement(O$,null,r==="error"?C.createElement(k$,{...n}):C.createElement(D$,{...n})))},H$=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,V$=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,K$="0%{opacity:0;} 100%{opacity:1;}",z$="0%{opacity:1;} 100%{opacity:0;}",W$=UA("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,G$=UA("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$$=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=sD()?[K$,z$]:[H$(r),V$(r)];return{animation:t?`${Rd(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Rd(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},q$=C.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?$$(e.position||t||"top-center",e.visible):{opacity:0},i=C.createElement(Q$,{toast:e}),o=C.createElement(G$,{...e.ariaProps},kw(e.message,e));return C.createElement(W$,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):C.createElement(C.Fragment,null,i,o))});p$(C.createElement);var X$=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=C.useCallback(o=>{if(o){let l=()=>{let d=o.getBoundingClientRect().height;n(e,d)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return C.createElement("div",{ref:i,className:t,style:r},s)},Y$=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:sD()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},Z$=G2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wx=16,J$=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:d}=E$(r);return C.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:wx,left:wx,right:wx,bottom:wx,pointerEvents:"none",...i},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},l.map(u=>{let h=u.position||t,m=d.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),y=Y$(h,m);return C.createElement(X$,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?Z$:"",style:y},u.type==="custom"?kw(u.message,u):s?s(u):C.createElement(q$,{toast:u,position:h}))}))},fm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$h=typeof window>"u"||"Deno"in globalThis;function bi(){}function eq(e,t){return typeof e=="function"?e(t):e}function W4(e){return typeof e=="number"&&e>=0&&e!==1/0}function iD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function g0(e,t){return typeof e=="function"?e(t):e}function Dl(e,t){return typeof e=="function"?e(t):e}function b8(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==sS(o,t.options))return!1}else if(!wg(t.queryKey,o))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function C8(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(qh(t.options.mutationKey)!==qh(i))return!1}else if(!wg(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function sS(e,t){return((t==null?void 0:t.queryKeyHashFn)||qh)(e)}function qh(e){return JSON.stringify(e,(t,r)=>G4(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function wg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>wg(e[r],t[r])):!1}function oD(e,t){if(e===t)return e;const r=N8(e)&&N8(t);if(r||G4(e)&&G4(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let d=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,d++):(l[h]=oD(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&d++)}return s===o&&d===s?e:l}return t}function _w(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function N8(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function G4(e){if(!B8(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!B8(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function B8(e){return Object.prototype.toString.call(e)==="[object Object]"}function tq(e){return new Promise(t=>{setTimeout(t,e)})}function $4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?oD(e,t):t}function rq(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function nq(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var aS=Symbol();function lD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===aS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function cD(e,t){return typeof e=="function"?e(...t):!!e}var bh,Uu,F0,kL,sq=(kL=class extends fm{constructor(){super();cr(this,bh);cr(this,Uu);cr(this,F0);kt(this,F0,t=>{if(!$h&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Fe(this,Uu)||this.setEventListener(Fe(this,F0))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,Uu))==null||t.call(this),kt(this,Uu,void 0))}setEventListener(t){var r;kt(this,F0,t),(r=Fe(this,Uu))==null||r.call(this),kt(this,Uu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Fe(this,bh)!==t&&(kt(this,bh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Fe(this,bh)=="boolean"?Fe(this,bh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},bh=new WeakMap,Uu=new WeakMap,F0=new WeakMap,kL),iS=new sq,k0,Qu,_0,_L,aq=(_L=class extends fm{constructor(){super();cr(this,k0,!0);cr(this,Qu);cr(this,_0);kt(this,_0,t=>{if(!$h&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Fe(this,Qu)||this.setEventListener(Fe(this,_0))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,Qu))==null||t.call(this),kt(this,Qu,void 0))}setEventListener(t){var r;kt(this,_0,t),(r=Fe(this,Qu))==null||r.call(this),kt(this,Qu,t(this.setOnline.bind(this)))}setOnline(t){Fe(this,k0)!==t&&(kt(this,k0,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Fe(this,k0)}},k0=new WeakMap,Qu=new WeakMap,_0=new WeakMap,_L),Tw=new aq;function q4(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function iq(e){return Math.min(1e3*2**e,3e4)}function dD(e){return(e??"online")==="online"?Tw.isOnline():!0}var uD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Jb(e){return e instanceof uD}function AD(e){let t=!1,r=0,n=!1,s;const i=q4(),o=N=>{var S;n||(y(new uD(N)),(S=e.abort)==null||S.call(e))},l=()=>{t=!0},d=()=>{t=!1},u=()=>iS.isFocused()&&(e.networkMode==="always"||Tw.isOnline())&&e.canRun(),h=()=>dD(e.networkMode)&&e.canRun(),m=N=>{var S;n||(n=!0,(S=e.onSuccess)==null||S.call(e,N),s==null||s(),i.resolve(N))},y=N=>{var S;n||(n=!0,(S=e.onError)==null||S.call(e,N),s==null||s(),i.reject(N))},p=()=>new Promise(N=>{var S;s=w=>{(n||u())&&N(w)},(S=e.onPause)==null||S.call(e)}).then(()=>{var N;s=void 0,n||(N=e.onContinue)==null||N.call(e)}),b=()=>{if(n)return;let N;const S=r===0?e.initialPromise:void 0;try{N=S??e.fn()}catch(w){N=Promise.reject(w)}Promise.resolve(N).then(m).catch(w=>{var H;if(n)return;const B=e.retry??($h?0:3),I=e.retryDelay??iq,_=typeof I=="function"?I(r,w):I,P=B===!0||typeof B=="number"&&r<B||typeof B=="function"&&B(r,w);if(t||!P){y(w);return}r++,(H=e.onFail)==null||H.call(e,r,w),tq(_).then(()=>u()?void 0:p()).then(()=>{t?y(w):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:d,canStart:h,start:()=>(h()?b():p().then(b),i)}}var oq=e=>setTimeout(e,0);function lq(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=oq;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(d=>{r(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||o()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var aa=lq(),Ch,TL,hD=(TL=class{constructor(){cr(this,Ch)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),W4(this.gcTime)&&kt(this,Ch,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($h?1/0:5*60*1e3))}clearGcTimeout(){Fe(this,Ch)&&(clearTimeout(Fe(this,Ch)),kt(this,Ch,void 0))}},Ch=new WeakMap,TL),T0,L0,tl,Nh,Ja,t1,Bh,_l,md,LL,cq=(LL=class extends hD{constructor(t){super();cr(this,_l);cr(this,T0);cr(this,L0);cr(this,tl);cr(this,Nh);cr(this,Ja);cr(this,t1);cr(this,Bh);kt(this,Bh,!1),kt(this,t1,t.defaultOptions),this.setOptions(t.options),this.observers=[],kt(this,Nh,t.client),kt(this,tl,Fe(this,Nh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,kt(this,T0,dq(this.options)),this.state=t.state??Fe(this,T0),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Fe(this,Ja))==null?void 0:t.promise}setOptions(t){this.options={...Fe(this,t1),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Fe(this,tl).remove(this)}setData(t,r){const n=$4(this.state.data,t,this.options);return Mr(this,_l,md).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Mr(this,_l,md).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Fe(this,Ja))==null?void 0:n.promise;return(s=Fe(this,Ja))==null||s.cancel(t),r?r.then(bi).catch(bi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Fe(this,T0))}isActive(){return this.observers.some(t=>Dl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!iD(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Fe(this,Ja))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Fe(this,Ja))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Fe(this,tl).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Fe(this,Ja)&&(Fe(this,Bh)?Fe(this,Ja).cancel({revert:!0}):Fe(this,Ja).cancelRetry()),this.scheduleGc()),Fe(this,tl).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mr(this,_l,md).call(this,{type:"invalidate"})}fetch(t,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Fe(this,Ja))return Fe(this,Ja).continueRetry(),Fe(this,Ja).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(kt(this,Bh,!0),n.signal)})},i=()=>{const m=lD(this.options,r),y={client:Fe(this,Nh),queryKey:this.queryKey,meta:this.meta};return s(y),kt(this,Bh,!1),this.options.persister?this.options.persister(m,y,this):m(y)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Fe(this,Nh),state:this.state,fetchFn:i};s(o),(d=this.options.behavior)==null||d.onFetch(o,this),kt(this,L0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Mr(this,_l,md).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=m=>{var y,p,b,N;Jb(m)&&m.silent||Mr(this,_l,md).call(this,{type:"error",error:m}),Jb(m)||((p=(y=Fe(this,tl).config).onError)==null||p.call(y,m,this),(N=(b=Fe(this,tl).config).onSettled)==null||N.call(b,this.state.data,m,this)),this.scheduleGc()};return kt(this,Ja,AD({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var y,p,b,N;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(S){l(S);return}(p=(y=Fe(this,tl).config).onSuccess)==null||p.call(y,m,this),(N=(b=Fe(this,tl).config).onSettled)==null||N.call(b,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,y)=>{Mr(this,_l,md).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Mr(this,_l,md).call(this,{type:"pause"})},onContinue:()=>{Mr(this,_l,md).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Fe(this,Ja).start()}},T0=new WeakMap,L0=new WeakMap,tl=new WeakMap,Nh=new WeakMap,Ja=new WeakMap,t1=new WeakMap,Bh=new WeakMap,_l=new WeakSet,md=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...fD(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Jb(s)&&s.revert&&Fe(this,L0)?{...Fe(this,L0),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),aa.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Fe(this,tl).notify({query:this,type:"updated",action:t})})},LL);function fD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dq(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var fc,PL,uq=(PL=class extends fm{constructor(t={}){super();cr(this,fc);this.config=t,kt(this,fc,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??sS(s,r);let o=this.get(i);return o||(o=new cq({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Fe(this,fc).has(t.queryHash)||(Fe(this,fc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Fe(this,fc).get(t.queryHash);r&&(t.destroy(),r===t&&Fe(this,fc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){aa.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Fe(this,fc).get(t)}getAll(){return[...Fe(this,fc).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>b8(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>b8(t,n)):r}notify(t){aa.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){aa.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){aa.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},fc=new WeakMap,PL),mc,gi,Sh,pc,Su,DL,Aq=(DL=class extends hD{constructor(t){super();cr(this,pc);cr(this,mc);cr(this,gi);cr(this,Sh);this.mutationId=t.mutationId,kt(this,gi,t.mutationCache),kt(this,mc,[]),this.state=t.state||mD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Fe(this,mc).includes(t)||(Fe(this,mc).push(t),this.clearGcTimeout(),Fe(this,gi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){kt(this,mc,Fe(this,mc).filter(r=>r!==t)),this.scheduleGc(),Fe(this,gi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Fe(this,mc).length||(this.state.status==="pending"?this.scheduleGc():Fe(this,gi).remove(this))}continue(){var t;return((t=Fe(this,Sh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,d,u,h,m,y,p,b,N,S,w,B,I,_,P,H,D,L;const r=()=>{Mr(this,pc,Su).call(this,{type:"continue"})};kt(this,Sh,AD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,z)=>{Mr(this,pc,Su).call(this,{type:"failed",failureCount:T,error:z})},onPause:()=>{Mr(this,pc,Su).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Fe(this,gi).canRun(this)}));const n=this.state.status==="pending",s=!Fe(this,Sh).canStart();try{if(n)r();else{Mr(this,pc,Su).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=Fe(this,gi).config).onMutate)==null?void 0:o.call(i,t,this));const z=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t));z!==this.state.context&&Mr(this,pc,Su).call(this,{type:"pending",context:z,variables:t,isPaused:s})}const T=await Fe(this,Sh).start();return await((h=(u=Fe(this,gi).config).onSuccess)==null?void 0:h.call(u,T,t,this.state.context,this)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,T,t,this.state.context)),await((b=(p=Fe(this,gi).config).onSettled)==null?void 0:b.call(p,T,null,this.state.variables,this.state.context,this)),await((S=(N=this.options).onSettled)==null?void 0:S.call(N,T,null,t,this.state.context)),Mr(this,pc,Su).call(this,{type:"success",data:T}),T}catch(T){try{throw await((B=(w=Fe(this,gi).config).onError)==null?void 0:B.call(w,T,t,this.state.context,this)),await((_=(I=this.options).onError)==null?void 0:_.call(I,T,t,this.state.context)),await((H=(P=Fe(this,gi).config).onSettled)==null?void 0:H.call(P,void 0,T,this.state.variables,this.state.context,this)),await((L=(D=this.options).onSettled)==null?void 0:L.call(D,void 0,T,t,this.state.context)),T}finally{Mr(this,pc,Su).call(this,{type:"error",error:T})}}finally{Fe(this,gi).runNext(this)}}},mc=new WeakMap,gi=new WeakMap,Sh=new WeakMap,pc=new WeakSet,Su=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),aa.batch(()=>{Fe(this,mc).forEach(n=>{n.onMutationUpdate(t)}),Fe(this,gi).notify({mutation:this,type:"updated",action:t})})},DL);function mD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vd,Tl,r1,OL,hq=(OL=class extends fm{constructor(t={}){super();cr(this,vd);cr(this,Tl);cr(this,r1);this.config=t,kt(this,vd,new Set),kt(this,Tl,new Map),kt(this,r1,0)}build(t,r,n){const s=new Aq({mutationCache:this,mutationId:++tx(this,r1)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){Fe(this,vd).add(t);const r=vx(t);if(typeof r=="string"){const n=Fe(this,Tl).get(r);n?n.push(t):Fe(this,Tl).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Fe(this,vd).delete(t)){const r=vx(t);if(typeof r=="string"){const n=Fe(this,Tl).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&Fe(this,Tl).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=vx(t);if(typeof r=="string"){const n=Fe(this,Tl).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=vx(t);if(typeof r=="string"){const s=(n=Fe(this,Tl).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){aa.batch(()=>{Fe(this,vd).forEach(t=>{this.notify({type:"removed",mutation:t})}),Fe(this,vd).clear(),Fe(this,Tl).clear()})}getAll(){return Array.from(Fe(this,vd))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>C8(r,n))}findAll(t={}){return this.getAll().filter(r=>C8(t,r))}notify(t){aa.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return aa.batch(()=>Promise.all(t.map(r=>r.continue().catch(bi))))}},vd=new WeakMap,Tl=new WeakMap,r1=new WeakMap,OL);function vx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function S8(e){return{onFetch:(t,r)=>{var h,m,y,p,b;const n=t.options,s=(y=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const u=async()=>{let N=!1;const S=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},w=lD(t.options,t.fetchOptions),B=async(I,_,P)=>{if(N)return Promise.reject();if(_==null&&I.pages.length)return Promise.resolve(I);const H={client:t.client,queryKey:t.queryKey,pageParam:_,direction:P?"backward":"forward",meta:t.options.meta};S(H);const D=await w(H),{maxPages:L}=t.options,T=P?nq:rq;return{pages:T(I.pages,D,L),pageParams:T(I.pageParams,_,L)}};if(s&&i.length){const I=s==="backward",_=I?fq:E8,P={pages:i,pageParams:o},H=_(n,P);l=await B(P,H,I)}else{const I=e??i.length;do{const _=d===0?o[0]??n.initialPageParam:E8(n,l);if(d>0&&_==null)break;l=await B(l,_),d++}while(d<I)}return l};t.options.persister?t.fetchFn=()=>{var N,S;return(S=(N=t.options).persister)==null?void 0:S.call(N,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function E8(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function fq(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Bs,Hu,Vu,P0,D0,Ku,O0,R0,RL,mq=(RL=class{constructor(e={}){cr(this,Bs);cr(this,Hu);cr(this,Vu);cr(this,P0);cr(this,D0);cr(this,Ku);cr(this,O0);cr(this,R0);kt(this,Bs,e.queryCache||new uq),kt(this,Hu,e.mutationCache||new hq),kt(this,Vu,e.defaultOptions||{}),kt(this,P0,new Map),kt(this,D0,new Map),kt(this,Ku,0)}mount(){tx(this,Ku)._++,Fe(this,Ku)===1&&(kt(this,O0,iS.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,Bs).onFocus())})),kt(this,R0,Tw.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,Bs).onOnline())})))}unmount(){var e,t;tx(this,Ku)._--,Fe(this,Ku)===0&&((e=Fe(this,O0))==null||e.call(this),kt(this,O0,void 0),(t=Fe(this,R0))==null||t.call(this),kt(this,R0,void 0))}isFetching(e){return Fe(this,Bs).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Fe(this,Hu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Fe(this,Bs).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Fe(this,Bs).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(g0(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Fe(this,Bs).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Fe(this,Bs).get(n.queryHash),i=s==null?void 0:s.state.data,o=eq(t,i);if(o!==void 0)return Fe(this,Bs).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return aa.batch(()=>Fe(this,Bs).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Fe(this,Bs).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Fe(this,Bs);aa.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Fe(this,Bs);return aa.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=aa.batch(()=>Fe(this,Bs).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(bi).catch(bi)}invalidateQueries(e,t={}){return aa.batch(()=>(Fe(this,Bs).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=aa.batch(()=>Fe(this,Bs).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(bi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(bi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Fe(this,Bs).build(this,t);return r.isStaleByTime(g0(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(bi).catch(bi)}fetchInfiniteQuery(e){return e.behavior=S8(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(bi).catch(bi)}ensureInfiniteQueryData(e){return e.behavior=S8(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Tw.isOnline()?Fe(this,Hu).resumePausedMutations():Promise.resolve()}getQueryCache(){return Fe(this,Bs)}getMutationCache(){return Fe(this,Hu)}getDefaultOptions(){return Fe(this,Vu)}setDefaultOptions(e){kt(this,Vu,e)}setQueryDefaults(e,t){Fe(this,P0).set(qh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Fe(this,P0).values()],r={};return t.forEach(n=>{wg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Fe(this,D0).set(qh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Fe(this,D0).values()],r={};return t.forEach(n=>{wg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Fe(this,Vu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===aS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Fe(this,Vu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Fe(this,Bs).clear(),Fe(this,Hu).clear()}},Bs=new WeakMap,Hu=new WeakMap,Vu=new WeakMap,P0=new WeakMap,D0=new WeakMap,Ku=new WeakMap,O0=new WeakMap,R0=new WeakMap,RL),Ui,Jr,n1,xi,Eh,M0,zu,Wu,s1,U0,Q0,jh,Ih,Gu,H0,yn,Ap,X4,Y4,Z4,J4,eN,tN,rN,pD,ML,pq=(ML=class extends fm{constructor(t,r){super();cr(this,yn);cr(this,Ui);cr(this,Jr);cr(this,n1);cr(this,xi);cr(this,Eh);cr(this,M0);cr(this,zu);cr(this,Wu);cr(this,s1);cr(this,U0);cr(this,Q0);cr(this,jh);cr(this,Ih);cr(this,Gu);cr(this,H0,new Set);this.options=r,kt(this,Ui,t),kt(this,Wu,null),kt(this,zu,q4()),this.options.experimental_prefetchInRender||Fe(this,zu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Fe(this,Jr).addObserver(this),j8(Fe(this,Jr),this.options)?Mr(this,yn,Ap).call(this):this.updateResult(),Mr(this,yn,J4).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nN(Fe(this,Jr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nN(Fe(this,Jr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Mr(this,yn,eN).call(this),Mr(this,yn,tN).call(this),Fe(this,Jr).removeObserver(this)}setOptions(t){const r=this.options,n=Fe(this,Jr);if(this.options=Fe(this,Ui).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Dl(this.options.enabled,Fe(this,Jr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Mr(this,yn,rN).call(this),Fe(this,Jr).setOptions(this.options),r._defaulted&&!_w(this.options,r)&&Fe(this,Ui).getQueryCache().notify({type:"observerOptionsUpdated",query:Fe(this,Jr),observer:this});const s=this.hasListeners();s&&I8(Fe(this,Jr),n,this.options,r)&&Mr(this,yn,Ap).call(this),this.updateResult(),s&&(Fe(this,Jr)!==n||Dl(this.options.enabled,Fe(this,Jr))!==Dl(r.enabled,Fe(this,Jr))||g0(this.options.staleTime,Fe(this,Jr))!==g0(r.staleTime,Fe(this,Jr)))&&Mr(this,yn,X4).call(this);const i=Mr(this,yn,Y4).call(this);s&&(Fe(this,Jr)!==n||Dl(this.options.enabled,Fe(this,Jr))!==Dl(r.enabled,Fe(this,Jr))||i!==Fe(this,Gu))&&Mr(this,yn,Z4).call(this,i)}getOptimisticResult(t){const r=Fe(this,Ui).getQueryCache().build(Fe(this,Ui),t),n=this.createResult(r,t);return xq(this,n)&&(kt(this,xi,n),kt(this,M0,this.options),kt(this,Eh,Fe(this,Jr).state)),n}getCurrentResult(){return Fe(this,xi)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){Fe(this,H0).add(t)}getCurrentQuery(){return Fe(this,Jr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Fe(this,Ui).defaultQueryOptions(t),n=Fe(this,Ui).getQueryCache().build(Fe(this,Ui),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Mr(this,yn,Ap).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Fe(this,xi)))}createResult(t,r){var T;const n=Fe(this,Jr),s=this.options,i=Fe(this,xi),o=Fe(this,Eh),l=Fe(this,M0),u=t!==n?t.state:Fe(this,n1),{state:h}=t;let m={...h},y=!1,p;if(r._optimisticResults){const z=this.hasListeners(),M=!z&&j8(t,r),V=z&&I8(t,n,r,s);(M||V)&&(m={...m,...fD(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:N,status:S}=m;p=m.data;let w=!1;if(r.placeholderData!==void 0&&p===void 0&&S==="pending"){let z;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(z=i.data,w=!0):z=typeof r.placeholderData=="function"?r.placeholderData((T=Fe(this,Q0))==null?void 0:T.state.data,Fe(this,Q0)):r.placeholderData,z!==void 0&&(S="success",p=$4(i==null?void 0:i.data,z,r),y=!0)}if(r.select&&p!==void 0&&!w)if(i&&p===(o==null?void 0:o.data)&&r.select===Fe(this,s1))p=Fe(this,U0);else try{kt(this,s1,r.select),p=r.select(p),p=$4(i==null?void 0:i.data,p,r),kt(this,U0,p),kt(this,Wu,null)}catch(z){kt(this,Wu,z)}Fe(this,Wu)&&(b=Fe(this,Wu),p=Fe(this,U0),N=Date.now(),S="error");const B=m.fetchStatus==="fetching",I=S==="pending",_=S==="error",P=I&&B,H=p!==void 0,L={status:S,fetchStatus:m.fetchStatus,isPending:I,isSuccess:S==="success",isError:_,isInitialLoading:P,isLoading:P,data:p,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:N,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:B,isRefetching:B&&!I,isLoadingError:_&&!H,isPaused:m.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:_&&H,isStale:oS(t,r),refetch:this.refetch,promise:Fe(this,zu)};if(this.options.experimental_prefetchInRender){const z=J=>{L.status==="error"?J.reject(L.error):L.data!==void 0&&J.resolve(L.data)},M=()=>{const J=kt(this,zu,L.promise=q4());z(J)},V=Fe(this,zu);switch(V.status){case"pending":t.queryHash===n.queryHash&&z(V);break;case"fulfilled":(L.status==="error"||L.data!==V.value)&&M();break;case"rejected":(L.status!=="error"||L.error!==V.reason)&&M();break}}return L}updateResult(){const t=Fe(this,xi),r=this.createResult(Fe(this,Jr),this.options);if(kt(this,Eh,Fe(this,Jr).state),kt(this,M0,this.options),Fe(this,Eh).data!==void 0&&kt(this,Q0,Fe(this,Jr)),_w(r,t))return;kt(this,xi,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Fe(this,H0).size)return!0;const o=new Set(i??Fe(this,H0));return this.options.throwOnError&&o.add("error"),Object.keys(Fe(this,xi)).some(l=>{const d=l;return Fe(this,xi)[d]!==t[d]&&o.has(d)})};Mr(this,yn,pD).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Mr(this,yn,J4).call(this)}},Ui=new WeakMap,Jr=new WeakMap,n1=new WeakMap,xi=new WeakMap,Eh=new WeakMap,M0=new WeakMap,zu=new WeakMap,Wu=new WeakMap,s1=new WeakMap,U0=new WeakMap,Q0=new WeakMap,jh=new WeakMap,Ih=new WeakMap,Gu=new WeakMap,H0=new WeakMap,yn=new WeakSet,Ap=function(t){Mr(this,yn,rN).call(this);let r=Fe(this,Jr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(bi)),r},X4=function(){Mr(this,yn,eN).call(this);const t=g0(this.options.staleTime,Fe(this,Jr));if($h||Fe(this,xi).isStale||!W4(t))return;const n=iD(Fe(this,xi).dataUpdatedAt,t)+1;kt(this,jh,setTimeout(()=>{Fe(this,xi).isStale||this.updateResult()},n))},Y4=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Fe(this,Jr)):this.options.refetchInterval)??!1},Z4=function(t){Mr(this,yn,tN).call(this),kt(this,Gu,t),!($h||Dl(this.options.enabled,Fe(this,Jr))===!1||!W4(Fe(this,Gu))||Fe(this,Gu)===0)&&kt(this,Ih,setInterval(()=>{(this.options.refetchIntervalInBackground||iS.isFocused())&&Mr(this,yn,Ap).call(this)},Fe(this,Gu)))},J4=function(){Mr(this,yn,X4).call(this),Mr(this,yn,Z4).call(this,Mr(this,yn,Y4).call(this))},eN=function(){Fe(this,jh)&&(clearTimeout(Fe(this,jh)),kt(this,jh,void 0))},tN=function(){Fe(this,Ih)&&(clearInterval(Fe(this,Ih)),kt(this,Ih,void 0))},rN=function(){const t=Fe(this,Ui).getQueryCache().build(Fe(this,Ui),this.options);if(t===Fe(this,Jr))return;const r=Fe(this,Jr);kt(this,Jr,t),kt(this,n1,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},pD=function(t){aa.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Fe(this,xi))}),Fe(this,Ui).getQueryCache().notify({query:Fe(this,Jr),type:"observerResultsUpdated"})})},ML);function gq(e,t){return Dl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function j8(e,t){return gq(e,t)||e.state.data!==void 0&&nN(e,t,t.refetchOnMount)}function nN(e,t,r){if(Dl(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&oS(e,t)}return!1}function I8(e,t,r,n){return(e!==t||Dl(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&oS(e,r)}function oS(e,t){return Dl(t.enabled,e)!==!1&&e.isStaleByTime(g0(t.staleTime,e))}function xq(e,t){return!_w(e.getCurrentResult(),t)}var $u,qu,Qi,bd,Td,ky,sN,UL,yq=(UL=class extends fm{constructor(r,n){super();cr(this,Td);cr(this,$u);cr(this,qu);cr(this,Qi);cr(this,bd);kt(this,$u,r),this.setOptions(n),this.bindMethods(),Mr(this,Td,ky).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=Fe(this,$u).defaultMutationOptions(r),_w(this.options,n)||Fe(this,$u).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Fe(this,Qi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&qh(n.mutationKey)!==qh(this.options.mutationKey)?this.reset():((s=Fe(this,Qi))==null?void 0:s.state.status)==="pending"&&Fe(this,Qi).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Fe(this,Qi))==null||r.removeObserver(this)}onMutationUpdate(r){Mr(this,Td,ky).call(this),Mr(this,Td,sN).call(this,r)}getCurrentResult(){return Fe(this,qu)}reset(){var r;(r=Fe(this,Qi))==null||r.removeObserver(this),kt(this,Qi,void 0),Mr(this,Td,ky).call(this),Mr(this,Td,sN).call(this)}mutate(r,n){var s;return kt(this,bd,n),(s=Fe(this,Qi))==null||s.removeObserver(this),kt(this,Qi,Fe(this,$u).getMutationCache().build(Fe(this,$u),this.options)),Fe(this,Qi).addObserver(this),Fe(this,Qi).execute(r)}},$u=new WeakMap,qu=new WeakMap,Qi=new WeakMap,bd=new WeakMap,Td=new WeakSet,ky=function(){var n;const r=((n=Fe(this,Qi))==null?void 0:n.state)??mD();kt(this,qu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},sN=function(r){aa.batch(()=>{var n,s,i,o,l,d,u,h;if(Fe(this,bd)&&this.hasListeners()){const m=Fe(this,qu).variables,y=Fe(this,qu).context;(r==null?void 0:r.type)==="success"?((s=(n=Fe(this,bd)).onSuccess)==null||s.call(n,r.data,m,y),(o=(i=Fe(this,bd)).onSettled)==null||o.call(i,r.data,null,m,y)):(r==null?void 0:r.type)==="error"&&((d=(l=Fe(this,bd)).onError)==null||d.call(l,r.error,m,y),(h=(u=Fe(this,bd)).onSettled)==null||h.call(u,void 0,r.error,m,y))}this.listeners.forEach(m=>{m(Fe(this,qu))})})},UL),gD=C.createContext(void 0),Uc=e=>{const t=C.useContext(gD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wq=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(gD.Provider,{value:e,children:t})),xD=C.createContext(!1),vq=()=>C.useContext(xD);xD.Provider;function bq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Cq=C.createContext(bq()),Nq=()=>C.useContext(Cq),Bq=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Sq=e=>{C.useEffect(()=>{e.clearReset()},[e])},Eq=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||cD(r,[e.error,n])),jq=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Iq=(e,t)=>e.isLoading&&e.isFetching&&!t,Fq=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,F8=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function kq(e,t,r){var m,y,p,b,N;const n=Uc(),s=vq(),i=Nq(),o=n.defaultQueryOptions(e);(y=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||y.call(m,o),o._optimisticResults=s?"isRestoring":"optimistic",jq(o),Bq(o,i),Sq(i);const l=!n.getQueryCache().get(o.queryHash),[d]=C.useState(()=>new t(n,o)),u=d.getOptimisticResult(o),h=!s&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(S=>{const w=h?d.subscribe(aa.batchCalls(S)):bi;return d.updateResult(),w},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),C.useEffect(()=>{d.setOptions(o)},[o,d]),Fq(o,u))throw F8(o,d,i);if(Eq({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||b.call(p,o,u),o.experimental_prefetchInRender&&!$h&&Iq(u,s)){const S=l?F8(o,d,i):(N=n.getQueryCache().get(o.queryHash))==null?void 0:N.promise;S==null||S.catch(bi).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}function ko(e,t){return kq(e,pq)}function ca(e,t){const r=Uc(),[n]=C.useState(()=>new yq(r,e));C.useEffect(()=>{n.setOptions(e)},[n,e]);const s=C.useSyncExternalStore(C.useCallback(o=>n.subscribe(aa.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=C.useCallback((o,l)=>{n.mutate(o,l).catch(bi)},[n]);if(s.error&&cD(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vg.apply(this,arguments)}var Zu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zu||(Zu={}));const k8="popstate";function _q(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:d=""}=hf(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),aN("",{pathname:o,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let d=s.location.href,u=d.indexOf("#");l=u===-1?d:d.slice(0,u)}return l+"#"+(typeof i=="string"?i:Lw(i))}function n(s,i){lS(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Lq(t,r,n,e)}function ps(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Tq(){return Math.random().toString(36).substr(2,8)}function _8(e,t){return{usr:e.state,key:e.key,idx:t}}function aN(e,t,r,n){return r===void 0&&(r=null),vg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hf(t):t,{state:r,key:t&&t.key||n||Tq()})}function Lw(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Lq(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Zu.Pop,d=null,u=h();u==null&&(u=0,o.replaceState(vg({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=Zu.Pop;let S=h(),w=S==null?null:S-u;u=S,d&&d({action:l,location:N.location,delta:w})}function y(S,w){l=Zu.Push;let B=aN(N.location,S,w);r&&r(B,S),u=h()+1;let I=_8(B,u),_=N.createHref(B);try{o.pushState(I,"",_)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(_)}i&&d&&d({action:l,location:N.location,delta:1})}function p(S,w){l=Zu.Replace;let B=aN(N.location,S,w);r&&r(B,S),u=h();let I=_8(B,u),_=N.createHref(B);o.replaceState(I,"",_),i&&d&&d({action:l,location:N.location,delta:0})}function b(S){let w=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof S=="string"?S:Lw(S);return B=B.replace(/ $/,"%20"),ps(w,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,w)}let N={get action(){return l},get location(){return e(s,o)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(k8,m),d=S,()=>{s.removeEventListener(k8,m),d=null}},createHref(S){return t(s,S)},createURL:b,encodeLocation(S){let w=b(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:p,go(S){return o.go(S)}};return N}var T8;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(T8||(T8={}));function Pq(e,t,r){return r===void 0&&(r="/"),Dq(e,t,r,!1)}function Dq(e,t,r,n){let s=typeof t=="string"?hf(t):t,i=Y0(s.pathname||"/",r);if(i==null)return null;let o=yD(e);Oq(o);let l=null;for(let d=0;l==null&&d<o.length;++d){let u=$q(i);l=Wq(o[d],u,n)}return l}function yD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let d={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};d.relativePath.startsWith("/")&&(ps(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let u=mA([n,d.relativePath]),h=r.concat(d);i.children&&i.children.length>0&&(ps(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yD(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Kq(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let d of wD(i.path))s(i,o,d)}),t}function wD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=wD(n.join("/")),l=[];return l.push(...o.map(d=>d===""?i:[i,d].join("/"))),s&&l.push(...o),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function Oq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:zq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Rq=/^:[\w-]+$/,Mq=3,Uq=2,Qq=1,Hq=10,Vq=-2,L8=e=>e==="*";function Kq(e,t){let r=e.split("/"),n=r.length;return r.some(L8)&&(n+=Vq),t&&(n+=Uq),r.filter(s=>!L8(s)).reduce((s,i)=>s+(Rq.test(i)?Mq:i===""?Qq:Hq),n)}function zq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Wq(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let d=n[l],u=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Pw({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),y=d.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=Pw({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:mA([i,m.pathname]),pathnameBase:Zq(mA([i,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(i=mA([i,m.pathnameBase]))}return o}function Pw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Gq(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,h,m)=>{let{paramName:y,isOptional:p}=h;if(y==="*"){let N=l[m]||"";o=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const b=l[m];return p&&!b?u[y]=void 0:u[y]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Gq(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),lS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,d)=>(n.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function $q(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Y0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function qq(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?hf(e):e;return{pathname:r?r.startsWith("/")?r:Xq(r,t):t,search:Jq(n),hash:eX(s)}}function Xq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function e5(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cS(e,t){let r=Yq(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function dS(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=hf(e):(s=vg({},e),ps(!s.pathname||!s.pathname.includes("?"),e5("?","pathname","search",s)),ps(!s.pathname||!s.pathname.includes("#"),e5("#","pathname","hash",s)),ps(!s.search||!s.search.includes("#"),e5("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}l=m>=0?t[m]:"/"}let d=qq(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}const mA=e=>e.join("/").replace(/\/\/+/g,"/"),Zq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eX=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tX(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vD=["post","put","patch","delete"];new Set(vD);const rX=["get",...vD];new Set(rX);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(this,arguments)}const $2=C.createContext(null),bD=C.createContext(null),$d=C.createContext(null),q2=C.createContext(null),qd=C.createContext({outlet:null,matches:[],isDataRoute:!1}),CD=C.createContext(null);function nX(e,t){let{relative:r}=t===void 0?{}:t;mm()||ps(!1);let{basename:n,navigator:s}=C.useContext($d),{hash:i,pathname:o,search:l}=X2(e,{relative:r}),d=o;return n!=="/"&&(d=o==="/"?n:mA([n,o])),s.createHref({pathname:d,search:l,hash:i})}function mm(){return C.useContext(q2)!=null}function fl(){return mm()||ps(!1),C.useContext(q2).location}function ND(e){C.useContext($d).static||C.useLayoutEffect(e)}function Ur(){let{isDataRoute:e}=C.useContext(qd);return e?pX():sX()}function sX(){mm()||ps(!1);let e=C.useContext($2),{basename:t,future:r,navigator:n}=C.useContext($d),{matches:s}=C.useContext(qd),{pathname:i}=fl(),o=JSON.stringify(cS(s,r.v7_relativeSplatPath)),l=C.useRef(!1);return ND(()=>{l.current=!0}),C.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=dS(u,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:mA([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,o,i,e])}function Xd(){let{matches:e}=C.useContext(qd),t=e[e.length-1];return t?t.params:{}}function X2(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=C.useContext($d),{matches:s}=C.useContext(qd),{pathname:i}=fl(),o=JSON.stringify(cS(s,n.v7_relativeSplatPath));return C.useMemo(()=>dS(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function aX(e,t){return iX(e,t)}function iX(e,t,r,n){mm()||ps(!1);let{navigator:s}=C.useContext($d),{matches:i}=C.useContext(qd),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let u=fl(),h;if(t){var m;let S=typeof t=="string"?hf(t):t;d==="/"||(m=S.pathname)!=null&&m.startsWith(d)||ps(!1),h=S}else h=u;let y=h.pathname||"/",p=y;if(d!=="/"){let S=d.replace(/^\//,"").split("/");p="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=Pq(e,{pathname:p}),N=uX(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:mA([d,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:mA([d,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r,n);return t&&N?C.createElement(q2.Provider,{value:{location:bg({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Zu.Pop}},N):N}function oX(){let e=mX(),t=tX(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:s},r):null,null)}const lX=C.createElement(oX,null);class cX extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(qd.Provider,{value:this.props.routeContext},C.createElement(CD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dX(e){let{routeContext:t,match:r,children:n}=e,s=C.useContext($2);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(qd.Provider,{value:t},n)}function uX(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||ps(!1),o=o.slice(0,Math.min(o.length,h+1))}let d=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:y,errors:p}=r,b=m.route.loader&&y[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||b){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,m,y)=>{let p,b=!1,N=null,S=null;r&&(p=l&&m.route.id?l[m.route.id]:void 0,N=m.route.errorElement||lX,d&&(u<0&&y===0?(b=!0,S=null):u===y&&(b=!0,S=m.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,y+1)),B=()=>{let I;return p?I=N:b?I=S:m.route.Component?I=C.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=h,C.createElement(dX,{match:m,routeContext:{outlet:h,matches:w,isDataRoute:r!=null},children:I})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?C.createElement(cX,{location:r.location,revalidation:r.revalidation,component:N,error:p,children:B(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):B()},null)}var BD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(BD||{}),Dw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Dw||{});function AX(e){let t=C.useContext($2);return t||ps(!1),t}function hX(e){let t=C.useContext(bD);return t||ps(!1),t}function fX(e){let t=C.useContext(qd);return t||ps(!1),t}function SD(e){let t=fX(),r=t.matches[t.matches.length-1];return r.route.id||ps(!1),r.route.id}function mX(){var e;let t=C.useContext(CD),r=hX(Dw.UseRouteError),n=SD(Dw.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function pX(){let{router:e}=AX(BD.UseNavigateStable),t=SD(Dw.UseNavigateStable),r=C.useRef(!1);return ND(()=>{r.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,bg({fromRouteId:t},i)))},[e,t])}function gX(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uS(e){let{to:t,replace:r,state:n,relative:s}=e;mm()||ps(!1);let{future:i,static:o}=C.useContext($d),{matches:l}=C.useContext(qd),{pathname:d}=fl(),u=Ur(),h=dS(t,cS(l,i.v7_relativeSplatPath),d,s==="path"),m=JSON.stringify(h);return C.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function dr(e){ps(!1)}function xX(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Zu.Pop,navigator:i,static:o=!1,future:l}=e;mm()&&ps(!1);let d=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:d,navigator:i,static:o,future:bg({v7_relativeSplatPath:!1},l)}),[d,l,i,o]);typeof n=="string"&&(n=hf(n));let{pathname:h="/",search:m="",hash:y="",state:p=null,key:b="default"}=n,N=C.useMemo(()=>{let S=Y0(h,d);return S==null?null:{location:{pathname:S,search:m,hash:y,state:p,key:b},navigationType:s}},[d,h,m,y,p,b,s]);return N==null?null:C.createElement($d.Provider,{value:u},C.createElement(q2.Provider,{children:r,value:N}))}function yX(e){let{children:t,location:r}=e;return aX(iN(t),r)}new Promise(()=>{});function iN(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(n,s)=>{if(!C.isValidElement(n))return;let i=[...t,s];if(n.type===C.Fragment){r.push.apply(r,iN(n.props.children,i));return}n.type!==dr&&ps(!1),!n.props.index||!n.props.children||ps(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=iN(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(this,arguments)}function ED(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function wX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vX(e,t){return e.button===0&&(!t||t==="_self")&&!wX(e)}function oN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function bX(e,t){let r=oN(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const CX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NX=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],BX="6";try{window.__reactRouterVersion=BX}catch{}const SX=C.createContext({isTransitioning:!1}),EX="startTransition",P8=V0[EX];function jX(e){let{basename:t,children:r,future:n,window:s}=e,i=C.useRef();i.current==null&&(i.current=_q({window:s,v5Compat:!0}));let o=i.current,[l,d]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},h=C.useCallback(m=>{u&&P8?P8(()=>d(m)):d(m)},[d,u]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.useEffect(()=>gX(n),[n]),C.createElement(xX,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const IX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=C.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:m}=t,y=ED(t,CX),{basename:p}=C.useContext($d),b,N=!1;if(typeof u=="string"&&FX.test(u)&&(b=u,IX))try{let I=new URL(window.location.href),_=u.startsWith("//")?new URL(I.protocol+u):new URL(u),P=Y0(_.pathname,p);_.origin===I.origin&&P!=null?u=P+_.search+_.hash:N=!0}catch{}let S=nX(u,{relative:s}),w=TX(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:s,viewTransition:m});function B(I){n&&n(I),I.defaultPrevented||w(I)}return C.createElement("a",Ow({},y,{href:b||S,onClick:N||i?n:B,ref:r,target:d}))}),kX=C.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:d,viewTransition:u,children:h}=t,m=ED(t,NX),y=X2(d,{relative:m.relative}),p=fl(),b=C.useContext(bD),{navigator:N,basename:S}=C.useContext($d),w=b!=null&&LX(y)&&u===!0,B=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,I=p.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(I=I.toLowerCase(),_=_?_.toLowerCase():null,B=B.toLowerCase()),_&&S&&(_=Y0(_,S)||_);const P=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let H=I===B||!o&&I.startsWith(B)&&I.charAt(P)==="/",D=_!=null&&(_===B||!o&&_.startsWith(B)&&_.charAt(B.length)==="/"),L={isActive:H,isPending:D,isTransitioning:w},T=H?n:void 0,z;typeof i=="function"?z=i(L):z=[i,H?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(L):l;return C.createElement(Tt,Ow({},m,{"aria-current":T,className:z,ref:r,style:M,to:d,viewTransition:u}),typeof h=="function"?h(L):h)});var lN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lN||(lN={}));var D8;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(D8||(D8={}));function _X(e){let t=C.useContext($2);return t||ps(!1),t}function TX(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,d=Ur(),u=fl(),h=X2(e,{relative:o});return C.useCallback(m=>{if(vX(m,r)){m.preventDefault();let y=n!==void 0?n:Lw(u)===Lw(h);d(e,{replace:y,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,d,h,n,s,r,e,i,o,l])}function AS(e){let t=C.useRef(oN(e)),r=C.useRef(!1),n=fl(),s=C.useMemo(()=>bX(n.search,r.current?null:t.current),[n.search]),i=Ur(),o=C.useCallback((l,d)=>{const u=oN(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,d)},[i,s]);return[s,o]}function LX(e,t){t===void 0&&(t={});let r=C.useContext(SX);r==null&&ps(!1);let{basename:n}=_X(lN.useViewTransitionState),s=X2(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Y0(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Y0(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Pw(s.pathname,o)!=null||Pw(s.pathname,i)!=null}function _r(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function PX(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function jD(...e){return t=>e.forEach(r=>PX(r,t))}function rs(...e){return C.useCallback(jD(...e),e)}function DX(e,t){const r=C.createContext(t),n=i=>{const{children:o,...l}=i,d=C.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:d,children:o})};n.displayName=e+"Provider";function s(i){const o=C.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function A1(e,t=[]){let r=[];function n(i,o){const l=C.createContext(o),d=r.length;r=[...r,o];const u=m=>{var w;const{scope:y,children:p,...b}=m,N=((w=y==null?void 0:y[e])==null?void 0:w[d])||l,S=C.useMemo(()=>b,Object.values(b));return a.jsx(N.Provider,{value:S,children:p})};u.displayName=i+"Provider";function h(m,y){var N;const p=((N=y==null?void 0:y[e])==null?void 0:N[d])||l,b=C.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=r.map(o=>C.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return s.scopeName=e,[n,OX(s,...t)]}function OX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:d,scopeName:u})=>{const m=d(i)[`__scope${u}`];return{...l,...m}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Xh=C.forwardRef((e,t)=>{const{children:r,...n}=e,s=C.Children.toArray(r),i=s.find(RX);if(i){const o=i.props.children,l=s.map(d=>d===i?C.Children.count(o)>1?C.Children.only(null):C.isValidElement(o)?o.props.children:null:d);return a.jsx(cN,{...n,ref:t,children:C.isValidElement(o)?C.cloneElement(o,void 0,l):null})}return a.jsx(cN,{...n,ref:t,children:r})});Xh.displayName="Slot";var cN=C.forwardRef((e,t)=>{const{children:r,...n}=e;if(C.isValidElement(r)){const s=UX(r);return C.cloneElement(r,{...MX(n,r.props),ref:t?jD(t,s):s})}return C.Children.count(r)>1?C.Children.only(null):null});cN.displayName="SlotClone";var ID=({children:e})=>a.jsx(a.Fragment,{children:e});function RX(e){return C.isValidElement(e)&&e.type===ID}function MX(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function UX(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var QX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tn=QX.reduce((e,t)=>{const r=C.forwardRef((n,s)=>{const{asChild:i,...o}=n,l=i?Xh:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function HX(e,t){e&&MA.flushSync(()=>e.dispatchEvent(t))}function Dc(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function VX(e,t=globalThis==null?void 0:globalThis.document){const r=Dc(e);C.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var KX="DismissableLayer",dN="dismissableLayer.update",zX="dismissableLayer.pointerDownOutside",WX="dismissableLayer.focusOutside",O8,FD=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Y2=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=C.useContext(FD),[h,m]=C.useState(null),y=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=C.useState({}),b=rs(t,D=>m(D)),N=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=N.indexOf(S),B=h?N.indexOf(h):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,_=B>=w,P=qX(D=>{const L=D.target,T=[...u.branches].some(z=>z.contains(L));!_||T||(s==null||s(D),o==null||o(D),D.defaultPrevented||l==null||l())},y),H=XX(D=>{const L=D.target;[...u.branches].some(z=>z.contains(L))||(i==null||i(D),o==null||o(D),D.defaultPrevented||l==null||l())},y);return VX(D=>{B===u.layers.size-1&&(n==null||n(D),!D.defaultPrevented&&l&&(D.preventDefault(),l()))},y),C.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(O8=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),R8(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=O8)}},[h,y,r,u]),C.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),R8())},[h,u]),C.useEffect(()=>{const D=()=>p({});return document.addEventListener(dN,D),()=>document.removeEventListener(dN,D)},[]),a.jsx(tn.div,{...d,ref:b,style:{pointerEvents:I?_?"auto":"none":void 0,...e.style},onFocusCapture:_r(e.onFocusCapture,H.onFocusCapture),onBlurCapture:_r(e.onBlurCapture,H.onBlurCapture),onPointerDownCapture:_r(e.onPointerDownCapture,P.onPointerDownCapture)})});Y2.displayName=KX;var GX="DismissableLayerBranch",$X=C.forwardRef((e,t)=>{const r=C.useContext(FD),n=C.useRef(null),s=rs(t,n);return C.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(tn.div,{...e,ref:s})});$X.displayName=GX;function qX(e,t=globalThis==null?void 0:globalThis.document){const r=Dc(e),n=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let d=function(){kD(zX,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function XX(e,t=globalThis==null?void 0:globalThis.document){const r=Dc(e),n=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!n.current&&kD(WX,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function R8(){const e=new CustomEvent(dN);document.dispatchEvent(e)}function kD(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?HX(s,i):s.dispatchEvent(i)}var Fi=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},YX=V0.useId||(()=>{}),ZX=0;function Id(e){const[t,r]=C.useState(YX());return Fi(()=>{r(n=>n??String(ZX++))},[e]),t?`radix-${t}`:""}const JX=["top","right","bottom","left"],SA=Math.min,bo=Math.max,Rw=Math.round,bx=Math.floor,EA=e=>({x:e,y:e}),eY={left:"right",right:"left",bottom:"top",top:"bottom"},tY={start:"end",end:"start"};function uN(e,t,r){return bo(e,SA(t,r))}function Md(e,t){return typeof e=="function"?e(t):e}function Ud(e){return e.split("-")[0]}function pm(e){return e.split("-")[1]}function hS(e){return e==="x"?"y":"x"}function fS(e){return e==="y"?"height":"width"}function jA(e){return["top","bottom"].includes(Ud(e))?"y":"x"}function mS(e){return hS(jA(e))}function rY(e,t,r){r===void 0&&(r=!1);const n=pm(e),s=mS(e),i=fS(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Mw(o)),[o,Mw(o)]}function nY(e){const t=Mw(e);return[AN(e),t,AN(t)]}function AN(e){return e.replace(/start|end/g,t=>tY[t])}function sY(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function aY(e,t,r,n){const s=pm(e);let i=sY(Ud(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(AN)))),i}function Mw(e){return e.replace(/left|right|bottom|top/g,t=>eY[t])}function iY(e){return{top:0,right:0,bottom:0,left:0,...e}}function _D(e){return typeof e!="number"?iY(e):{top:e,right:e,bottom:e,left:e}}function Uw(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function M8(e,t,r){let{reference:n,floating:s}=e;const i=jA(t),o=mS(t),l=fS(o),d=Ud(t),u=i==="y",h=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,y=n[l]/2-s[l]/2;let p;switch(d){case"top":p={x:h,y:n.y-s.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:m};break;case"left":p={x:n.x-s.width,y:m};break;default:p={x:n.x,y:n.y}}switch(pm(t)){case"start":p[o]-=y*(r&&u?-1:1);break;case"end":p[o]+=y*(r&&u?-1:1);break}return p}const oY=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:m}=M8(u,n,d),y=n,p={},b=0;for(let N=0;N<l.length;N++){const{name:S,fn:w}=l[N],{x:B,y:I,data:_,reset:P}=await w({x:h,y:m,initialPlacement:n,placement:y,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});h=B??h,m=I??m,p={...p,[S]:{...p[S],..._}},P&&b<=50&&(b++,typeof P=="object"&&(P.placement&&(y=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):P.rects),{x:h,y:m}=M8(u,y,d)),N=-1)}return{x:h,y:m,placement:y,strategy:s,middlewareData:p}};async function Cg(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:y=!1,padding:p=0}=Md(t,e),b=_D(p),S=l[y?m==="floating"?"reference":"floating":m],w=Uw(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(S)))==null||r?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:d})),B=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,I=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(I))?await(i.getScale==null?void 0:i.getScale(I))||{x:1,y:1}:{x:1,y:1},P=Uw(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:B,offsetParent:I,strategy:d}):B);return{top:(w.top-P.top+b.top)/_.y,bottom:(P.bottom-w.bottom+b.bottom)/_.y,left:(w.left-P.left+b.left)/_.x,right:(P.right-w.right+b.right)/_.x}}const lY=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:d}=t,{element:u,padding:h=0}=Md(e,t)||{};if(u==null)return{};const m=_D(h),y={x:r,y:n},p=mS(s),b=fS(p),N=await o.getDimensions(u),S=p==="y",w=S?"top":"left",B=S?"bottom":"right",I=S?"clientHeight":"clientWidth",_=i.reference[b]+i.reference[p]-y[p]-i.floating[b],P=y[p]-i.reference[p],H=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let D=H?H[I]:0;(!D||!await(o.isElement==null?void 0:o.isElement(H)))&&(D=l.floating[I]||i.floating[b]);const L=_/2-P/2,T=D/2-N[b]/2-1,z=SA(m[w],T),M=SA(m[B],T),V=z,J=D-N[b]-M,Z=D/2-N[b]/2+L,ee=uN(V,Z,J),q=!d.arrow&&pm(s)!=null&&Z!==ee&&i.reference[b]/2-(Z<V?z:M)-N[b]/2<0,X=q?Z<V?Z-V:Z-J:0;return{[p]:y[p]+X,data:{[p]:ee,centerOffset:Z-ee-X,...q&&{alignmentOffset:X}},reset:q}}}),cY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:u}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:N=!0,...S}=Md(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=Ud(s),B=jA(l),I=Ud(l)===l,_=await(d.isRTL==null?void 0:d.isRTL(u.floating)),P=y||(I||!N?[Mw(l)]:nY(l)),H=b!=="none";!y&&H&&P.push(...aY(l,N,b,_));const D=[l,...P],L=await Cg(t,S),T=[];let z=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&T.push(L[w]),m){const Z=rY(s,o,_);T.push(L[Z[0]],L[Z[1]])}if(z=[...z,{placement:s,overflows:T}],!T.every(Z=>Z<=0)){var M,V;const Z=(((M=i.flip)==null?void 0:M.index)||0)+1,ee=D[Z];if(ee)return{data:{index:Z,overflows:z},reset:{placement:ee}};let q=(V=z.filter(X=>X.overflows[0]<=0).sort((X,Y)=>X.overflows[1]-Y.overflows[1])[0])==null?void 0:V.placement;if(!q)switch(p){case"bestFit":{var J;const X=(J=z.filter(Y=>{if(H){const K=jA(Y.placement);return K===B||K==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(K=>K>0).reduce((K,ce)=>K+ce,0)]).sort((Y,K)=>Y[1]-K[1])[0])==null?void 0:J[0];X&&(q=X);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function U8(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Q8(e){return JX.some(t=>e[t]>=0)}const dY=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Md(e,t);switch(n){case"referenceHidden":{const i=await Cg(t,{...s,elementContext:"reference"}),o=U8(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Q8(o)}}}case"escaped":{const i=await Cg(t,{...s,altBoundary:!0}),o=U8(i,r.floating);return{data:{escapedOffsets:o,escaped:Q8(o)}}}default:return{}}}}};async function uY(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ud(r),l=pm(r),d=jA(r)==="y",u=["left","top"].includes(o)?-1:1,h=i&&d?-1:1,m=Md(t,e);let{mainAxis:y,crossAxis:p,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),d?{x:p*h,y:y*u}:{x:y*u,y:p*h}}const AY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,d=await uY(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:o}}}}},hY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:S=>{let{x:w,y:B}=S;return{x:w,y:B}}},...d}=Md(e,t),u={x:r,y:n},h=await Cg(t,d),m=jA(Ud(s)),y=hS(m);let p=u[y],b=u[m];if(i){const S=y==="y"?"top":"left",w=y==="y"?"bottom":"right",B=p+h[S],I=p-h[w];p=uN(B,p,I)}if(o){const S=m==="y"?"top":"left",w=m==="y"?"bottom":"right",B=b+h[S],I=b-h[w];b=uN(B,b,I)}const N=l.fn({...t,[y]:p,[m]:b});return{...N,data:{x:N.x-r,y:N.y-n,enabled:{[y]:i,[m]:o}}}}}},fY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=Md(e,t),h={x:r,y:n},m=jA(s),y=hS(m);let p=h[y],b=h[m];const N=Md(l,t),S=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(d){const I=y==="y"?"height":"width",_=i.reference[y]-i.floating[I]+S.mainAxis,P=i.reference[y]+i.reference[I]-S.mainAxis;p<_?p=_:p>P&&(p=P)}if(u){var w,B;const I=y==="y"?"width":"height",_=["top","left"].includes(Ud(s)),P=i.reference[m]-i.floating[I]+(_&&((w=o.offset)==null?void 0:w[m])||0)+(_?0:S.crossAxis),H=i.reference[m]+i.reference[I]+(_?0:((B=o.offset)==null?void 0:B[m])||0)-(_?S.crossAxis:0);b<P?b=P:b>H&&(b=H)}return{[y]:p,[m]:b}}}},mY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:d=()=>{},...u}=Md(e,t),h=await Cg(t,u),m=Ud(s),y=pm(s),p=jA(s)==="y",{width:b,height:N}=i.floating;let S,w;m==="top"||m==="bottom"?(S=m,w=y===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=m,S=y==="end"?"top":"bottom");const B=N-h.top-h.bottom,I=b-h.left-h.right,_=SA(N-h[S],B),P=SA(b-h[w],I),H=!t.middlewareData.shift;let D=_,L=P;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(L=I),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(D=B),H&&!y){const z=bo(h.left,0),M=bo(h.right,0),V=bo(h.top,0),J=bo(h.bottom,0);p?L=b-2*(z!==0||M!==0?z+M:bo(h.left,h.right)):D=N-2*(V!==0||J!==0?V+J:bo(h.top,h.bottom))}await d({...t,availableWidth:L,availableHeight:D});const T=await o.getDimensions(l.floating);return b!==T.width||N!==T.height?{reset:{rects:!0}}:{}}}};function Z2(){return typeof window<"u"}function gm(e){return TD(e)?(e.nodeName||"").toLowerCase():"#document"}function Eo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qc(e){var t;return(t=(TD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function TD(e){return Z2()?e instanceof Node||e instanceof Eo(e).Node:!1}function zl(e){return Z2()?e instanceof Element||e instanceof Eo(e).Element:!1}function Oc(e){return Z2()?e instanceof HTMLElement||e instanceof Eo(e).HTMLElement:!1}function H8(e){return!Z2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Eo(e).ShadowRoot}function h1(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Wl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function pY(e){return["table","td","th"].includes(gm(e))}function J2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pS(e){const t=gS(),r=zl(e)?Wl(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function gY(e){let t=IA(e);for(;Oc(t)&&!Z0(t);){if(pS(t))return t;if(J2(t))return null;t=IA(t)}return null}function gS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Z0(e){return["html","body","#document"].includes(gm(e))}function Wl(e){return Eo(e).getComputedStyle(e)}function ev(e){return zl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function IA(e){if(gm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||H8(e)&&e.host||Qc(e);return H8(t)?t.host:t}function LD(e){const t=IA(e);return Z0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Oc(t)&&h1(t)?t:LD(t)}function Ng(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=LD(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Eo(s);if(i){const l=hN(o);return t.concat(o,o.visualViewport||[],h1(s)?s:[],l&&r?Ng(l):[])}return t.concat(s,Ng(s,[],r))}function hN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function PD(e){const t=Wl(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Oc(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Rw(r)!==i||Rw(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function xS(e){return zl(e)?e:e.contextElement}function x0(e){const t=xS(e);if(!Oc(t))return EA(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=PD(t);let o=(i?Rw(r.width):r.width)/n,l=(i?Rw(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const xY=EA(0);function DD(e){const t=Eo(e);return!gS()||!t.visualViewport?xY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Eo(e)?!1:t}function Yh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=xS(e);let o=EA(1);t&&(n?zl(n)&&(o=x0(n)):o=x0(e));const l=yY(i,r,n)?DD(i):EA(0);let d=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(i){const y=Eo(i),p=n&&zl(n)?Eo(n):n;let b=y,N=hN(b);for(;N&&n&&p!==b;){const S=x0(N),w=N.getBoundingClientRect(),B=Wl(N),I=w.left+(N.clientLeft+parseFloat(B.paddingLeft))*S.x,_=w.top+(N.clientTop+parseFloat(B.paddingTop))*S.y;d*=S.x,u*=S.y,h*=S.x,m*=S.y,d+=I,u+=_,b=Eo(N),N=hN(b)}}return Uw({width:h,height:m,x:d,y:u})}function wY(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Qc(n),l=t?J2(t.floating):!1;if(n===o||l&&i)return r;let d={scrollLeft:0,scrollTop:0},u=EA(1);const h=EA(0),m=Oc(n);if((m||!m&&!i)&&((gm(n)!=="body"||h1(o))&&(d=ev(n)),Oc(n))){const y=Yh(n);u=x0(n),h.x=y.x+n.clientLeft,h.y=y.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+h.x,y:r.y*u.y-d.scrollTop*u.y+h.y}}function vY(e){return Array.from(e.getClientRects())}function fN(e,t){const r=ev(e).scrollLeft;return t?t.left+r:Yh(Qc(e)).left+r}function bY(e){const t=Qc(e),r=ev(e),n=e.ownerDocument.body,s=bo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=bo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+fN(e);const l=-r.scrollTop;return Wl(n).direction==="rtl"&&(o+=bo(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function CY(e,t){const r=Eo(e),n=Qc(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,d=0;if(s){i=s.width,o=s.height;const u=gS();(!u||u&&t==="fixed")&&(l=s.offsetLeft,d=s.offsetTop)}return{width:i,height:o,x:l,y:d}}function NY(e,t){const r=Yh(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Oc(e)?x0(e):EA(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,d=s*i.x,u=n*i.y;return{width:o,height:l,x:d,y:u}}function V8(e,t,r){let n;if(t==="viewport")n=CY(e,r);else if(t==="document")n=bY(Qc(e));else if(zl(t))n=NY(t,r);else{const s=DD(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Uw(n)}function OD(e,t){const r=IA(e);return r===t||!zl(r)||Z0(r)?!1:Wl(r).position==="fixed"||OD(r,t)}function BY(e,t){const r=t.get(e);if(r)return r;let n=Ng(e,[],!1).filter(l=>zl(l)&&gm(l)!=="body"),s=null;const i=Wl(e).position==="fixed";let o=i?IA(e):e;for(;zl(o)&&!Z0(o);){const l=Wl(o),d=pS(o);!d&&l.position==="fixed"&&(s=null),(i?!d&&!s:!d&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||h1(o)&&!d&&OD(e,o))?n=n.filter(h=>h!==o):s=l,o=IA(o)}return t.set(e,n),n}function SY(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?J2(t)?[]:BY(t,this._c):[].concat(r),n],l=o[0],d=o.reduce((u,h)=>{const m=V8(t,h,s);return u.top=bo(m.top,u.top),u.right=SA(m.right,u.right),u.bottom=SA(m.bottom,u.bottom),u.left=bo(m.left,u.left),u},V8(t,l,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function EY(e){const{width:t,height:r}=PD(e);return{width:t,height:r}}function jY(e,t,r){const n=Oc(t),s=Qc(t),i=r==="fixed",o=Yh(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const d=EA(0);if(n||!n&&!i)if((gm(t)!=="body"||h1(s))&&(l=ev(t)),n){const p=Yh(t,!0,i,t);d.x=p.x+t.clientLeft,d.y=p.y+t.clientTop}else s&&(d.x=fN(s));let u=0,h=0;if(s&&!n&&!i){const p=s.getBoundingClientRect();h=p.top+l.scrollTop,u=p.left+l.scrollLeft-fN(s,p)}const m=o.left+l.scrollLeft-d.x-u,y=o.top+l.scrollTop-d.y-h;return{x:m,y,width:o.width,height:o.height}}function t5(e){return Wl(e).position==="static"}function K8(e,t){if(!Oc(e)||Wl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Qc(e)===r&&(r=r.ownerDocument.body),r}function RD(e,t){const r=Eo(e);if(J2(e))return r;if(!Oc(e)){let s=IA(e);for(;s&&!Z0(s);){if(zl(s)&&!t5(s))return s;s=IA(s)}return r}let n=K8(e,t);for(;n&&pY(n)&&t5(n);)n=K8(n,t);return n&&Z0(n)&&t5(n)&&!pS(n)?r:n||gY(e)||r}const IY=async function(e){const t=this.getOffsetParent||RD,r=this.getDimensions,n=await r(e.floating);return{reference:jY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function FY(e){return Wl(e).direction==="rtl"}const kY={convertOffsetParentRelativeRectToViewportRelativeRect:wY,getDocumentElement:Qc,getClippingRect:SY,getOffsetParent:RD,getElementRects:IY,getClientRects:vY,getDimensions:EY,getScale:x0,isElement:zl,isRTL:FY};function _Y(e,t){let r=null,n;const s=Qc(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const{left:u,top:h,width:m,height:y}=e.getBoundingClientRect();if(l||t(),!m||!y)return;const p=bx(h),b=bx(s.clientWidth-(u+m)),N=bx(s.clientHeight-(h+y)),S=bx(u),B={rootMargin:-p+"px "+-b+"px "+-N+"px "+-S+"px",threshold:bo(0,SA(1,d))||1};let I=!0;function _(P){const H=P[0].intersectionRatio;if(H!==d){if(!I)return o();H?o(!1,H):n=setTimeout(()=>{o(!1,1e-7)},1e3)}I=!1}try{r=new IntersectionObserver(_,{...B,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,B)}r.observe(e)}return o(!0),i}function MD(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,u=xS(e),h=s||i?[...u?Ng(u):[],...Ng(t)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const m=u&&l?_Y(u,r):null;let y=-1,p=null;o&&(p=new ResizeObserver(w=>{let[B]=w;B&&B.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var I;(I=p)==null||I.observe(t)})),r()}),u&&!d&&p.observe(u),p.observe(t));let b,N=d?Yh(e):null;d&&S();function S(){const w=Yh(e);N&&(w.x!==N.x||w.y!==N.y||w.width!==N.width||w.height!==N.height)&&r(),N=w,b=requestAnimationFrame(S)}return r(),()=>{var w;h.forEach(B=>{s&&B.removeEventListener("scroll",r),i&&B.removeEventListener("resize",r)}),m==null||m(),(w=p)==null||w.disconnect(),p=null,d&&cancelAnimationFrame(b)}}const TY=AY,LY=hY,PY=cY,DY=mY,OY=dY,z8=lY,RY=fY,MY=(e,t,r)=>{const n=new Map,s={platform:kY,...r},i={...s.platform,_c:n};return oY(e,t,{...s,platform:i})};var _y=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Qw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Qw(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Qw(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function UD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function W8(e,t){const r=UD(e);return Math.round(t*r)/r}function r5(e){const t=C.useRef(e);return _y(()=>{t.current=e}),t}function UY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=e,[h,m]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,p]=C.useState(n);Qw(y,n)||p(n);const[b,N]=C.useState(null),[S,w]=C.useState(null),B=C.useCallback(Y=>{Y!==H.current&&(H.current=Y,N(Y))},[]),I=C.useCallback(Y=>{Y!==D.current&&(D.current=Y,w(Y))},[]),_=i||b,P=o||S,H=C.useRef(null),D=C.useRef(null),L=C.useRef(h),T=d!=null,z=r5(d),M=r5(s),V=r5(u),J=C.useCallback(()=>{if(!H.current||!D.current)return;const Y={placement:t,strategy:r,middleware:y};M.current&&(Y.platform=M.current),MY(H.current,D.current,Y).then(K=>{const ce={...K,isPositioned:V.current!==!1};Z.current&&!Qw(L.current,ce)&&(L.current=ce,MA.flushSync(()=>{m(ce)}))})},[y,t,r,M,V]);_y(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,m(Y=>({...Y,isPositioned:!1})))},[u]);const Z=C.useRef(!1);_y(()=>(Z.current=!0,()=>{Z.current=!1}),[]),_y(()=>{if(_&&(H.current=_),P&&(D.current=P),_&&P){if(z.current)return z.current(_,P,J);J()}},[_,P,J,z,T]);const ee=C.useMemo(()=>({reference:H,floating:D,setReference:B,setFloating:I}),[B,I]),q=C.useMemo(()=>({reference:_,floating:P}),[_,P]),X=C.useMemo(()=>{const Y={position:r,left:0,top:0};if(!q.floating)return Y;const K=W8(q.floating,h.x),ce=W8(q.floating,h.y);return l?{...Y,transform:"translate("+K+"px, "+ce+"px)",...UD(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:K,top:ce}},[r,l,q.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:J,refs:ee,elements:q,floatingStyles:X}),[h,J,ee,q,X])}const QY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?z8({element:n.current,padding:s}).fn(r):{}:n?z8({element:n,padding:s}).fn(r):{}}}},HY=(e,t)=>({...TY(e),options:[e,t]}),VY=(e,t)=>({...LY(e),options:[e,t]}),KY=(e,t)=>({...RY(e),options:[e,t]}),zY=(e,t)=>({...PY(e),options:[e,t]}),WY=(e,t)=>({...DY(e),options:[e,t]}),GY=(e,t)=>({...OY(e),options:[e,t]}),$Y=(e,t)=>({...QY(e),options:[e,t]});var qY="Arrow",QD=C.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(tn.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});QD.displayName=qY;var XY=QD;function YY(e,t=[]){let r=[];function n(i,o){const l=C.createContext(o),d=r.length;r=[...r,o];function u(m){const{scope:y,children:p,...b}=m,N=(y==null?void 0:y[e][d])||l,S=C.useMemo(()=>b,Object.values(b));return a.jsx(N.Provider,{value:S,children:p})}function h(m,y){const p=(y==null?void 0:y[e][d])||l,b=C.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>C.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return s.scopeName=e,[n,ZY(s,...t)]}function ZY(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:d,scopeName:u})=>{const m=d(i)[`__scope${u}`];return{...l,...m}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function HD(e){const[t,r]=C.useState(void 0);return Fi(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var yS="Popper",[VD,tv]=YY(yS),[JY,KD]=VD(yS),zD=e=>{const{__scopePopper:t,children:r}=e,[n,s]=C.useState(null);return a.jsx(JY,{scope:t,anchor:n,onAnchorChange:s,children:r})};zD.displayName=yS;var WD="PopperAnchor",GD=C.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=KD(WD,r),o=C.useRef(null),l=rs(t,o);return C.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(tn.div,{...s,ref:l})});GD.displayName=WD;var wS="PopperContent",[eZ,tZ]=VD(wS),$D=C.forwardRef((e,t)=>{var ge,ue,Ee,ke,_e,Oe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:p="optimized",onPlaced:b,...N}=e,S=KD(wS,r),[w,B]=C.useState(null),I=rs(t,He=>B(He)),[_,P]=C.useState(null),H=HD(_),D=(H==null?void 0:H.width)??0,L=(H==null?void 0:H.height)??0,T=n+(i!=="center"?"-"+i:""),z=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(u)?u:[u],V=M.length>0,J={padding:z,boundary:M.filter(nZ),altBoundary:V},{refs:Z,floatingStyles:ee,placement:q,isPositioned:X,middlewareData:Y}=UY({strategy:"fixed",placement:T,whileElementsMounted:(...He)=>MD(...He,{animationFrame:p==="always"}),elements:{reference:S.anchor},middleware:[HY({mainAxis:s+L,alignmentAxis:o}),d&&VY({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?KY():void 0,...J}),d&&zY({...J}),WY({...J,apply:({elements:He,rects:Ne,availableWidth:me,availableHeight:Pe})=>{const{width:nt,height:Xe}=Ne.reference,Ue=He.floating.style;Ue.setProperty("--radix-popper-available-width",`${me}px`),Ue.setProperty("--radix-popper-available-height",`${Pe}px`),Ue.setProperty("--radix-popper-anchor-width",`${nt}px`),Ue.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),_&&$Y({element:_,padding:l}),sZ({arrowWidth:D,arrowHeight:L}),y&&GY({strategy:"referenceHidden",...J})]}),[K,ce]=YD(q),oe=Dc(b);Fi(()=>{X&&(oe==null||oe())},[X,oe]);const Q=(ge=Y.arrow)==null?void 0:ge.x,G=(ue=Y.arrow)==null?void 0:ue.y,te=((Ee=Y.arrow)==null?void 0:Ee.centerOffset)!==0,[se,de]=C.useState();return Fi(()=>{w&&de(window.getComputedStyle(w).zIndex)},[w]),a.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:X?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:se,"--radix-popper-transform-origin":[(ke=Y.transformOrigin)==null?void 0:ke.x,(_e=Y.transformOrigin)==null?void 0:_e.y].join(" "),...((Oe=Y.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(eZ,{scope:r,placedSide:K,onArrowChange:P,arrowX:Q,arrowY:G,shouldHideArrow:te,children:a.jsx(tn.div,{"data-side":K,"data-align":ce,...N,ref:I,style:{...N.style,animation:X?void 0:"none"}})})})});$D.displayName=wS;var qD="PopperArrow",rZ={top:"bottom",right:"left",bottom:"top",left:"right"},XD=C.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=tZ(qD,n),o=rZ[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(XY,{...s,ref:r,style:{...s.style,display:"block"}})})});XD.displayName=qD;function nZ(e){return e!==null}var sZ=e=>({name:"transformOrigin",options:e,fn(t){var S,w,B;const{placement:r,rects:n,middlewareData:s}=t,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[u,h]=YD(r),m={start:"0%",center:"50%",end:"100%"}[h],y=(((w=s.arrow)==null?void 0:w.x)??0)+l/2,p=(((B=s.arrow)==null?void 0:B.y)??0)+d/2;let b="",N="";return u==="bottom"?(b=o?m:`${y}px`,N=`${-d}px`):u==="top"?(b=o?m:`${y}px`,N=`${n.floating.height+d}px`):u==="right"?(b=`${-d}px`,N=o?m:`${p}px`):u==="left"&&(b=`${n.floating.width+d}px`,N=o?m:`${p}px`),{data:{x:b,y:N}}}});function YD(e){const[t,r="center"]=e.split("-");return[t,r]}var ZD=zD,JD=GD,eO=$D,tO=XD,aZ="Portal",vS=C.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=C.useState(!1);Fi(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?eD.createPortal(a.jsx(tn.div,{...n,ref:t}),o):null});vS.displayName=aZ;function iZ(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var ff=e=>{const{present:t,children:r}=e,n=oZ(t),s=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),i=rs(n.ref,lZ(s));return typeof r=="function"||n.isPresent?C.cloneElement(s,{ref:i}):null};ff.displayName="Presence";function oZ(e){const[t,r]=C.useState(),n=C.useRef({}),s=C.useRef(e),i=C.useRef("none"),o=e?"mounted":"unmounted",[l,d]=iZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=Cx(n.current);i.current=l==="mounted"?u:"none"},[l]),Fi(()=>{const u=n.current,h=s.current;if(h!==e){const y=i.current,p=Cx(u);e?d("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(h&&y!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Fi(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,m=p=>{const N=Cx(n.current).includes(p.animationName);if(p.target===t&&N&&(d("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=p=>{p.target===t&&(i.current=Cx(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Cx(e){return(e==null?void 0:e.animationName)||"none"}function lZ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Zh({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=cZ({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Dc(r),d=C.useCallback(u=>{if(i){const m=typeof u=="function"?u(e):u;m!==e&&l(m)}else s(u)},[i,e,s,l]);return[o,d]}function cZ({defaultProp:e,onChange:t}){const r=C.useState(e),[n]=r,s=C.useRef(n),i=Dc(t);return C.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var dZ="VisuallyHidden",bS=C.forwardRef((e,t)=>a.jsx(tn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));bS.displayName=dZ;var uZ=bS,[rv,z4e]=A1("Tooltip",[tv]),nv=tv(),rO="TooltipProvider",AZ=700,mN="tooltip.open",[hZ,CS]=rv(rO),nO=e=>{const{__scopeTooltip:t,delayDuration:r=AZ,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,[o,l]=C.useState(!0),d=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),a.jsx(hZ,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:C.useCallback(h=>{d.current=h},[]),disableHoverableContent:s,children:i})};nO.displayName=rO;var sv="Tooltip",[fZ,av]=rv(sv),sO=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,d=CS(sv,e.__scopeTooltip),u=nv(t),[h,m]=C.useState(null),y=Id(),p=C.useRef(0),b=o??d.disableHoverableContent,N=l??d.delayDuration,S=C.useRef(!1),[w=!1,B]=Zh({prop:n,defaultProp:s,onChange:D=>{D?(d.onOpen(),document.dispatchEvent(new CustomEvent(mN))):d.onClose(),i==null||i(D)}}),I=C.useMemo(()=>w?S.current?"delayed-open":"instant-open":"closed",[w]),_=C.useCallback(()=>{window.clearTimeout(p.current),p.current=0,S.current=!1,B(!0)},[B]),P=C.useCallback(()=>{window.clearTimeout(p.current),p.current=0,B(!1)},[B]),H=C.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{S.current=!0,B(!0),p.current=0},N)},[N,B]);return C.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx(ZD,{...u,children:a.jsx(fZ,{scope:t,contentId:y,open:w,stateAttribute:I,trigger:h,onTriggerChange:m,onTriggerEnter:C.useCallback(()=>{d.isOpenDelayed?H():_()},[d.isOpenDelayed,H,_]),onTriggerLeave:C.useCallback(()=>{b?P():(window.clearTimeout(p.current),p.current=0)},[P,b]),onOpen:_,onClose:P,disableHoverableContent:b,children:r})})};sO.displayName=sv;var pN="TooltipTrigger",aO=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=av(pN,r),i=CS(pN,r),o=nv(r),l=C.useRef(null),d=rs(t,l,s.onTriggerChange),u=C.useRef(!1),h=C.useRef(!1),m=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(JD,{asChild:!0,...o,children:a.jsx(tn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:d,onPointerMove:_r(e.onPointerMove,y=>{y.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:_r(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:_r(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:_r(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:_r(e.onBlur,s.onClose),onClick:_r(e.onClick,s.onClose)})})});aO.displayName=pN;var mZ="TooltipPortal",[W4e,pZ]=rv(mZ,{forceMount:void 0}),J0="TooltipContent",iO=C.forwardRef((e,t)=>{const r=pZ(J0,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=av(J0,e.__scopeTooltip);return a.jsx(ff,{present:n||o.open,children:o.disableHoverableContent?a.jsx(oO,{side:s,...i,ref:t}):a.jsx(gZ,{side:s,...i,ref:t})})}),gZ=C.forwardRef((e,t)=>{const r=av(J0,e.__scopeTooltip),n=CS(J0,e.__scopeTooltip),s=C.useRef(null),i=rs(t,s),[o,l]=C.useState(null),{trigger:d,onClose:u}=r,h=s.current,{onPointerInTransitChange:m}=n,y=C.useCallback(()=>{l(null),m(!1)},[m]),p=C.useCallback((b,N)=>{const S=b.currentTarget,w={x:b.clientX,y:b.clientY},B=vZ(w,S.getBoundingClientRect()),I=bZ(w,B),_=CZ(N.getBoundingClientRect()),P=BZ([...I,..._]);l(P),m(!0)},[m]);return C.useEffect(()=>()=>y(),[y]),C.useEffect(()=>{if(d&&h){const b=S=>p(S,h),N=S=>p(S,d);return d.addEventListener("pointerleave",b),h.addEventListener("pointerleave",N),()=>{d.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",N)}}},[d,h,p,y]),C.useEffect(()=>{if(o){const b=N=>{const S=N.target,w={x:N.clientX,y:N.clientY},B=(d==null?void 0:d.contains(S))||(h==null?void 0:h.contains(S)),I=!NZ(w,o);B?y():I&&(y(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[d,h,o,u,y]),a.jsx(oO,{...e,ref:i})}),[xZ,yZ]=rv(sv,{isInside:!1}),oO=C.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,d=av(J0,r),u=nv(r),{onClose:h}=d;return C.useEffect(()=>(document.addEventListener(mN,h),()=>document.removeEventListener(mN,h)),[h]),C.useEffect(()=>{if(d.trigger){const m=y=>{const p=y.target;p!=null&&p.contains(d.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,h]),a.jsx(Y2,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:a.jsxs(eO,{"data-state":d.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(ID,{children:n}),a.jsx(xZ,{scope:r,isInside:!0,children:a.jsx(uZ,{id:d.contentId,role:"tooltip",children:s||n})})]})})});iO.displayName=J0;var lO="TooltipArrow",wZ=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=nv(r);return yZ(lO,r).isInside?null:a.jsx(tO,{...s,...n,ref:t})});wZ.displayName=lO;function vZ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function bZ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function CZ(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function NZ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,d=t[i].y,u=t[o].x,h=t[o].y;d>n!=h>n&&r<(u-l)*(n-d)/(h-d)+l&&(s=!s)}return s}function BZ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),SZ(t)}function SZ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var EZ=nO,jZ=sO,IZ=aO,cO=iO;function dO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=dO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function uO(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=dO(e))&&(n&&(n+=" "),n+=t);return n}const NS="-",FZ=e=>{const t=_Z(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(NS);return l[0]===""&&l.length!==1&&l.shift(),AO(l,t)||kZ(o)},getConflictingClassGroupIds:(o,l)=>{const d=r[o]||[];return l&&n[o]?[...d,...n[o]]:d}}},AO=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?AO(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(NS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},G8=/^\[(.+)\]$/,kZ=e=>{if(G8.test(e)){const t=G8.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},_Z=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return LZ(Object.entries(e.classGroups),r).forEach(([i,o])=>{gN(o,n,i,t)}),n},gN=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:$8(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(TZ(s)){gN(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{gN(o,$8(t,i),r,n)})})},$8=(e,t)=>{let r=e;return t.split(NS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},TZ=e=>e.isThemeGetter,LZ=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,PZ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},hO="!",DZ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const d=[];let u=0,h=0,m;for(let S=0;S<l.length;S++){let w=l[S];if(u===0){if(w===s&&(n||l.slice(S,S+i)===t)){d.push(l.slice(h,S)),h=S+i;continue}if(w==="/"){m=S;continue}}w==="["?u++:w==="]"&&u--}const y=d.length===0?l:l.substring(h),p=y.startsWith(hO),b=p?y.substring(1):y,N=m&&m>h?m-h:void 0;return{modifiers:d,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:N}};return r?l=>r({className:l,parseClassName:o}):o},OZ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},RZ=e=>({cache:PZ(e.cacheSize),parseClassName:DZ(e),...FZ(e)}),MZ=/\s+/,UZ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(MZ);let l="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{modifiers:h,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:p}=r(u);let b=!!p,N=n(b?y.substring(0,p):y);if(!N){if(!b){l=u+(l.length>0?" "+l:l);continue}if(N=n(y),!N){l=u+(l.length>0?" "+l:l);continue}b=!1}const S=OZ(h).join(":"),w=m?S+hO:S,B=w+N;if(i.includes(B))continue;i.push(B);const I=s(N,b);for(let _=0;_<I.length;++_){const P=I[_];i.push(w+P)}l=u+(l.length>0?" "+l:l)}return l};function QZ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=fO(t))&&(n&&(n+=" "),n+=r);return n}const fO=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=fO(e[n]))&&(r&&(r+=" "),r+=t);return r};function HZ(e,...t){let r,n,s,i=o;function o(d){const u=t.reduce((h,m)=>m(h),e());return r=RZ(u),n=r.cache.get,s=r.cache.set,i=l,l(d)}function l(d){const u=n(d);if(u)return u;const h=UZ(d,r);return s(d,h),h}return function(){return i(QZ.apply(null,arguments))}}const qn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},mO=/^\[(?:([a-z-]+):)?(.+)\]$/i,VZ=/^\d+\/\d+$/,KZ=new Set(["px","full","screen"]),zZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$Z=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cd=e=>y0(e)||KZ.has(e)||VZ.test(e),yu=e=>xm(e,"length",nJ),y0=e=>!!e&&!Number.isNaN(Number(e)),n5=e=>xm(e,"number",y0),zm=e=>!!e&&Number.isInteger(Number(e)),XZ=e=>e.endsWith("%")&&y0(e.slice(0,-1)),Pr=e=>mO.test(e),wu=e=>zZ.test(e),YZ=new Set(["length","size","percentage"]),ZZ=e=>xm(e,YZ,pO),JZ=e=>xm(e,"position",pO),eJ=new Set(["image","url"]),tJ=e=>xm(e,eJ,aJ),rJ=e=>xm(e,"",sJ),Wm=()=>!0,xm=(e,t,r)=>{const n=mO.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},nJ=e=>WZ.test(e)&&!GZ.test(e),pO=()=>!1,sJ=e=>$Z.test(e),aJ=e=>qZ.test(e),iJ=()=>{const e=qn("colors"),t=qn("spacing"),r=qn("blur"),n=qn("brightness"),s=qn("borderColor"),i=qn("borderRadius"),o=qn("borderSpacing"),l=qn("borderWidth"),d=qn("contrast"),u=qn("grayscale"),h=qn("hueRotate"),m=qn("invert"),y=qn("gap"),p=qn("gradientColorStops"),b=qn("gradientColorStopPositions"),N=qn("inset"),S=qn("margin"),w=qn("opacity"),B=qn("padding"),I=qn("saturate"),_=qn("scale"),P=qn("sepia"),H=qn("skew"),D=qn("space"),L=qn("translate"),T=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Pr,t],V=()=>[Pr,t],J=()=>["",cd,yu],Z=()=>["auto",y0,Pr],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Pr],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[y0,Pr];return{cacheSize:500,separator:":",theme:{colors:[Wm],spacing:[cd,yu],blur:["none","",wu,Pr],brightness:oe(),borderColor:[e],borderRadius:["none","","full",wu,Pr],borderSpacing:V(),borderWidth:J(),contrast:oe(),grayscale:K(),hueRotate:oe(),invert:K(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[XZ,yu],inset:M(),margin:M(),opacity:oe(),padding:V(),saturate:oe(),scale:oe(),sepia:K(),skew:oe(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Pr]}],container:["container"],columns:[{columns:[wu]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),Pr]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zm,Pr]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pr]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",zm,Pr]}],"grid-cols":[{"grid-cols":[Wm]}],"col-start-end":[{col:["auto",{span:["full",zm,Pr]},Pr]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[Wm]}],"row-start-end":[{row:["auto",{span:[zm,Pr]},Pr]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pr]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[B]}],px:[{px:[B]}],py:[{py:[B]}],ps:[{ps:[B]}],pe:[{pe:[B]}],pt:[{pt:[B]}],pr:[{pr:[B]}],pb:[{pb:[B]}],pl:[{pl:[B]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pr,t]}],"min-w":[{"min-w":[Pr,t,"min","max","fit"]}],"max-w":[{"max-w":[Pr,t,"none","full","min","max","fit","prose",{screen:[wu]},wu]}],h:[{h:[Pr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",wu,yu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",n5]}],"font-family":[{font:[Wm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pr]}],"line-clamp":[{"line-clamp":["none",y0,n5]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cd,Pr]}],"list-image":[{"list-image":["none",Pr]}],"list-style-type":[{list:["none","disc","decimal",Pr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cd,yu]}],"underline-offset":[{"underline-offset":["auto",cd,Pr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),JZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tJ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[cd,Pr]}],"outline-w":[{outline:[cd,yu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[cd,yu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",wu,rJ]}],"shadow-color":[{shadow:[Wm]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",wu,Pr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[I]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pr]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",Pr]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[zm,Pr]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[cd,yu,n5]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},oJ=HZ(iJ);function Br(...e){return oJ(uO(e))}const gO=EZ,s5=jZ,a5=IZ,Ty=C.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(cO,{ref:n,sideOffset:t,className:Br("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Ty.displayName=cO.displayName;function xO(e,t){return function(){return e.apply(t,arguments)}}const{toString:lJ}=Object.prototype,{getPrototypeOf:BS}=Object,{iterator:iv,toStringTag:yO}=Symbol,ov=(e=>t=>{const r=lJ.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xl=e=>(e=e.toLowerCase(),t=>ov(t)===e),lv=e=>t=>typeof t===e,{isArray:ym}=Array,Bg=lv("undefined");function cJ(e){return e!==null&&!Bg(e)&&e.constructor!==null&&!Bg(e.constructor)&&Zi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const wO=Xl("ArrayBuffer");function dJ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&wO(e.buffer),t}const uJ=lv("string"),Zi=lv("function"),vO=lv("number"),cv=e=>e!==null&&typeof e=="object",AJ=e=>e===!0||e===!1,Ly=e=>{if(ov(e)!=="object")return!1;const t=BS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(yO in e)&&!(iv in e)},hJ=Xl("Date"),fJ=Xl("File"),mJ=Xl("Blob"),pJ=Xl("FileList"),gJ=e=>cv(e)&&Zi(e.pipe),xJ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Zi(e.append)&&((t=ov(e))==="formdata"||t==="object"&&Zi(e.toString)&&e.toString()==="[object FormData]"))},yJ=Xl("URLSearchParams"),[wJ,vJ,bJ,CJ]=["ReadableStream","Request","Response","Headers"].map(Xl),NJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function f1(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),ym(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function bO(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const fh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,CO=e=>!Bg(e)&&e!==fh;function xN(){const{caseless:e}=CO(this)&&this||{},t={},r=(n,s)=>{const i=e&&bO(t,s)||s;Ly(t[i])&&Ly(n)?t[i]=xN(t[i],n):Ly(n)?t[i]=xN({},n):ym(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&f1(arguments[n],r);return t}const BJ=(e,t,r,{allOwnKeys:n}={})=>(f1(t,(s,i)=>{r&&Zi(s)?e[i]=xO(s,r):e[i]=s},{allOwnKeys:n}),e),SJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),EJ=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},jJ=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&BS(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},IJ=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},FJ=e=>{if(!e)return null;if(ym(e))return e;let t=e.length;if(!vO(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},kJ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&BS(Uint8Array)),_J=(e,t)=>{const n=(e&&e[iv]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},TJ=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},LJ=Xl("HTMLFormElement"),PJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),q8=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),DJ=Xl("RegExp"),NO=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};f1(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},OJ=e=>{NO(e,(t,r)=>{if(Zi(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Zi(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},RJ=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return ym(e)?n(e):n(String(e).split(t)),r},MJ=()=>{},UJ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function QJ(e){return!!(e&&Zi(e.append)&&e[yO]==="FormData"&&e[iv])}const HJ=e=>{const t=new Array(10),r=(n,s)=>{if(cv(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const i=ym(n)?[]:{};return f1(n,(o,l)=>{const d=r(o,s+1);!Bg(d)&&(i[l]=d)}),t[s]=void 0,i}}return n};return r(e,0)},VJ=Xl("AsyncFunction"),KJ=e=>e&&(cv(e)||Zi(e))&&Zi(e.then)&&Zi(e.catch),BO=((e,t)=>e?setImmediate:t?((r,n)=>(fh.addEventListener("message",({source:s,data:i})=>{s===fh&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),fh.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Zi(fh.postMessage)),zJ=typeof queueMicrotask<"u"?queueMicrotask.bind(fh):typeof process<"u"&&process.nextTick||BO,WJ=e=>e!=null&&Zi(e[iv]),Ze={isArray:ym,isArrayBuffer:wO,isBuffer:cJ,isFormData:xJ,isArrayBufferView:dJ,isString:uJ,isNumber:vO,isBoolean:AJ,isObject:cv,isPlainObject:Ly,isReadableStream:wJ,isRequest:vJ,isResponse:bJ,isHeaders:CJ,isUndefined:Bg,isDate:hJ,isFile:fJ,isBlob:mJ,isRegExp:DJ,isFunction:Zi,isStream:gJ,isURLSearchParams:yJ,isTypedArray:kJ,isFileList:pJ,forEach:f1,merge:xN,extend:BJ,trim:NJ,stripBOM:SJ,inherits:EJ,toFlatObject:jJ,kindOf:ov,kindOfTest:Xl,endsWith:IJ,toArray:FJ,forEachEntry:_J,matchAll:TJ,isHTMLForm:LJ,hasOwnProperty:q8,hasOwnProp:q8,reduceDescriptors:NO,freezeMethods:OJ,toObjectSet:RJ,toCamelCase:PJ,noop:MJ,toFiniteNumber:UJ,findKey:bO,global:fh,isContextDefined:CO,isSpecCompliantForm:QJ,toJSONObject:HJ,isAsyncFn:VJ,isThenable:KJ,setImmediate:BO,asap:zJ,isIterable:WJ};function kr(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ze.inherits(kr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ze.toJSONObject(this.config),code:this.code,status:this.status}}});const SO=kr.prototype,EO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{EO[e]={value:e}});Object.defineProperties(kr,EO);Object.defineProperty(SO,"isAxiosError",{value:!0});kr.from=(e,t,r,n,s,i)=>{const o=Object.create(SO);return Ze.toFlatObject(e,o,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),kr.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const GJ=null;function yN(e){return Ze.isPlainObject(e)||Ze.isArray(e)}function jO(e){return Ze.endsWith(e,"[]")?e.slice(0,-2):e}function X8(e,t,r){return e?e.concat(t).map(function(s,i){return s=jO(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function $J(e){return Ze.isArray(e)&&!e.some(yN)}const qJ=Ze.toFlatObject(Ze,{},null,function(t){return/^is[A-Z]/.test(t)});function dv(e,t,r){if(!Ze.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ze.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,S){return!Ze.isUndefined(S[N])});const n=r.metaTokens,s=r.visitor||h,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Ze.isSpecCompliantForm(t);if(!Ze.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(Ze.isDate(b))return b.toISOString();if(!d&&Ze.isBlob(b))throw new kr("Blob is not supported. Use a Buffer instead.");return Ze.isArrayBuffer(b)||Ze.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,N,S){let w=b;if(b&&!S&&typeof b=="object"){if(Ze.endsWith(N,"{}"))N=n?N:N.slice(0,-2),b=JSON.stringify(b);else if(Ze.isArray(b)&&$J(b)||(Ze.isFileList(b)||Ze.endsWith(N,"[]"))&&(w=Ze.toArray(b)))return N=jO(N),w.forEach(function(I,_){!(Ze.isUndefined(I)||I===null)&&t.append(o===!0?X8([N],_,i):o===null?N:N+"[]",u(I))}),!1}return yN(b)?!0:(t.append(X8(S,N,i),u(b)),!1)}const m=[],y=Object.assign(qJ,{defaultVisitor:h,convertValue:u,isVisitable:yN});function p(b,N){if(!Ze.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+N.join("."));m.push(b),Ze.forEach(b,function(w,B){(!(Ze.isUndefined(w)||w===null)&&s.call(t,w,Ze.isString(B)?B.trim():B,N,y))===!0&&p(w,N?N.concat(B):[B])}),m.pop()}}if(!Ze.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Y8(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function SS(e,t){this._pairs=[],e&&dv(e,this,t)}const IO=SS.prototype;IO.append=function(t,r){this._pairs.push([t,r])};IO.toString=function(t){const r=t?function(n){return t.call(this,n,Y8)}:Y8;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function XJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function FO(e,t,r){if(!t)return e;const n=r&&r.encode||XJ;Ze.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=Ze.isURLSearchParams(t)?t.toString():new SS(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Z8{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ze.forEach(this.handlers,function(n){n!==null&&t(n)})}}const kO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YJ=typeof URLSearchParams<"u"?URLSearchParams:SS,ZJ=typeof FormData<"u"?FormData:null,JJ=typeof Blob<"u"?Blob:null,eee={isBrowser:!0,classes:{URLSearchParams:YJ,FormData:ZJ,Blob:JJ},protocols:["http","https","file","blob","url","data"]},ES=typeof window<"u"&&typeof document<"u",wN=typeof navigator=="object"&&navigator||void 0,tee=ES&&(!wN||["ReactNative","NativeScript","NS"].indexOf(wN.product)<0),ree=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nee=ES&&window.location.href||"http://localhost",see=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ES,hasStandardBrowserEnv:tee,hasStandardBrowserWebWorkerEnv:ree,navigator:wN,origin:nee},Symbol.toStringTag,{value:"Module"})),ai={...see,...eee};function aee(e,t){return dv(e,new ai.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return ai.isNode&&Ze.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function iee(e){return Ze.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oee(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function _O(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),d=i>=r.length;return o=!o&&Ze.isArray(s)?s.length:o,d?(Ze.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!Ze.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&Ze.isArray(s[o])&&(s[o]=oee(s[o])),!l)}if(Ze.isFormData(e)&&Ze.isFunction(e.entries)){const r={};return Ze.forEachEntry(e,(n,s)=>{t(iee(n),s,r,0)}),r}return null}function lee(e,t,r){if(Ze.isString(e))try{return(t||JSON.parse)(e),Ze.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const m1={transitional:kO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Ze.isObject(t);if(i&&Ze.isHTMLForm(t)&&(t=new FormData(t)),Ze.isFormData(t))return s?JSON.stringify(_O(t)):t;if(Ze.isArrayBuffer(t)||Ze.isBuffer(t)||Ze.isStream(t)||Ze.isFile(t)||Ze.isBlob(t)||Ze.isReadableStream(t))return t;if(Ze.isArrayBufferView(t))return t.buffer;if(Ze.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return aee(t,this.formSerializer).toString();if((l=Ze.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return dv(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),lee(t)):t}],transformResponse:[function(t){const r=this.transitional||m1.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Ze.isResponse(t)||Ze.isReadableStream(t))return t;if(t&&Ze.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?kr.from(l,kr.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ai.classes.FormData,Blob:ai.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ze.forEach(["delete","get","head","post","put","patch"],e=>{m1.headers[e]={}});const cee=Ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dee=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&cee[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},J8=Symbol("internals");function Gm(e){return e&&String(e).trim().toLowerCase()}function Py(e){return e===!1||e==null?e:Ze.isArray(e)?e.map(Py):String(e)}function uee(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Aee=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function i5(e,t,r,n,s){if(Ze.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!Ze.isString(t)){if(Ze.isString(n))return t.indexOf(n)!==-1;if(Ze.isRegExp(n))return n.test(t)}}function hee(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function fee(e,t){const r=Ze.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}class Ji{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,d,u){const h=Gm(d);if(!h)throw new Error("header name must be a non-empty string");const m=Ze.findKey(s,h);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||d]=Py(l))}const o=(l,d)=>Ze.forEach(l,(u,h)=>i(u,h,d));if(Ze.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Ze.isString(t)&&(t=t.trim())&&!Aee(t))o(dee(t),r);else if(Ze.isObject(t)&&Ze.isIterable(t)){let l={},d,u;for(const h of t){if(!Ze.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(d=l[u])?Ze.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Gm(t),t){const n=Ze.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return uee(s);if(Ze.isFunction(r))return r.call(this,s,n);if(Ze.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Gm(t),t){const n=Ze.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||i5(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Gm(o),o){const l=Ze.findKey(n,o);l&&(!r||i5(n,n[l],l,r))&&(delete n[l],s=!0)}}return Ze.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||i5(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return Ze.forEach(this,(s,i)=>{const o=Ze.findKey(n,i);if(o){r[o]=Py(s),delete r[i];return}const l=t?hee(i):String(i).trim();l!==i&&delete r[i],r[l]=Py(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ze.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&Ze.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[J8]=this[J8]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Gm(o);n[l]||(fee(s,o),n[l]=!0)}return Ze.isArray(t)?t.forEach(i):i(t),this}}Ji.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ze.reduceDescriptors(Ji.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Ze.freezeMethods(Ji);function o5(e,t){const r=this||m1,n=t||r,s=Ji.from(n.headers);let i=n.data;return Ze.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function TO(e){return!!(e&&e.__CANCEL__)}function wm(e,t,r){kr.call(this,e??"canceled",kr.ERR_CANCELED,t,r),this.name="CanceledError"}Ze.inherits(wm,kr,{__CANCEL__:!0});function LO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new kr("Request failed with status code "+r.status,[kr.ERR_BAD_REQUEST,kr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function mee(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pee(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),h=n[i];o||(o=u),r[s]=d,n[s]=u;let m=i,y=0;for(;m!==s;)y+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const p=h&&u-h;return p?Math.round(y*1e3/p):void 0}}function gee(e,t){let r=0,n=1e3/t,s,i;const o=(u,h=Date.now())=>{r=h,s=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const h=Date.now(),m=h-r;m>=n?o(u,h):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const Hw=(e,t,r=3)=>{let n=0;const s=pee(50,250);return gee(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,d=o-n,u=s(d),h=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:d,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},eI=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},tI=e=>(...t)=>Ze.asap(()=>e(...t)),xee=ai.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ai.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ai.origin),ai.navigator&&/(msie|trident)/i.test(ai.navigator.userAgent)):()=>!0,yee=ai.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];Ze.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Ze.isString(n)&&o.push("path="+n),Ze.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wee(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vee(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function PO(e,t,r){let n=!wee(t);return e&&(n||r==!1)?vee(e,t):t}const rI=e=>e instanceof Ji?{...e}:e;function Jh(e,t){t=t||{};const r={};function n(u,h,m,y){return Ze.isPlainObject(u)&&Ze.isPlainObject(h)?Ze.merge.call({caseless:y},u,h):Ze.isPlainObject(h)?Ze.merge({},h):Ze.isArray(h)?h.slice():h}function s(u,h,m,y){if(Ze.isUndefined(h)){if(!Ze.isUndefined(u))return n(void 0,u,m,y)}else return n(u,h,m,y)}function i(u,h){if(!Ze.isUndefined(h))return n(void 0,h)}function o(u,h){if(Ze.isUndefined(h)){if(!Ze.isUndefined(u))return n(void 0,u)}else return n(void 0,h)}function l(u,h,m){if(m in t)return n(u,h);if(m in e)return n(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,m)=>s(rI(u),rI(h),m,!0)};return Ze.forEach(Object.keys(Object.assign({},e,t)),function(h){const m=d[h]||s,y=m(e[h],t[h],h);Ze.isUndefined(y)&&m!==l||(r[h]=y)}),r}const DO=e=>{const t=Jh({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=Ji.from(o),t.url=FO(PO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(Ze.isFormData(r)){if(ai.hasStandardBrowserEnv||ai.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[u,...h]=d?d.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(ai.hasStandardBrowserEnv&&(n&&Ze.isFunction(n)&&(n=n(t)),n||n!==!1&&xee(t.url))){const u=s&&i&&yee.read(i);u&&o.set(s,u)}return t},bee=typeof XMLHttpRequest<"u",Cee=bee&&function(e){return new Promise(function(r,n){const s=DO(e);let i=s.data;const o=Ji.from(s.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:u}=s,h,m,y,p,b;function N(){p&&p(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function w(){if(!S)return;const I=Ji.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),P={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:I,config:e,request:S};LO(function(D){r(D),N()},function(D){n(D),N()},P),S=null}"onloadend"in S?S.onloadend=w:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(w)},S.onabort=function(){S&&(n(new kr("Request aborted",kr.ECONNABORTED,e,S)),S=null)},S.onerror=function(){n(new kr("Network Error",kr.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||kO;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),n(new kr(_,P.clarifyTimeoutError?kr.ETIMEDOUT:kr.ECONNABORTED,e,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&Ze.forEach(o.toJSON(),function(_,P){S.setRequestHeader(P,_)}),Ze.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),l&&l!=="json"&&(S.responseType=s.responseType),u&&([y,b]=Hw(u,!0),S.addEventListener("progress",y)),d&&S.upload&&([m,p]=Hw(d),S.upload.addEventListener("progress",m),S.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(h=I=>{S&&(n(!I||I.type?new wm(null,e,S):I),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const B=mee(s.url);if(B&&ai.protocols.indexOf(B)===-1){n(new kr("Unsupported protocol "+B+":",kr.ERR_BAD_REQUEST,e));return}S.send(i||null)})},Nee=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const h=u instanceof Error?u:this.reason;n.abort(h instanceof kr?h:new wm(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new kr(`timeout ${t} of ms exceeded`,kr.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>Ze.asap(l),d}},Bee=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},See=async function*(e,t){for await(const r of Eee(e))yield*Bee(r,t)},Eee=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},nI=(e,t,r,n)=>{const s=See(e,t);let i=0,o,l=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:u,value:h}=await s.next();if(u){l(),d.close();return}let m=h.byteLength;if(r){let y=i+=m;r(y)}d.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},uv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",OO=uv&&typeof ReadableStream=="function",jee=uv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),RO=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Iee=OO&&RO(()=>{let e=!1;const t=new Request(ai.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),sI=64*1024,vN=OO&&RO(()=>Ze.isReadableStream(new Response("").body)),Vw={stream:vN&&(e=>e.body)};uv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Vw[t]&&(Vw[t]=Ze.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new kr(`Response type '${t}' is not supported`,kr.ERR_NOT_SUPPORT,n)})})})(new Response);const Fee=async e=>{if(e==null)return 0;if(Ze.isBlob(e))return e.size;if(Ze.isSpecCompliantForm(e))return(await new Request(ai.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ze.isArrayBufferView(e)||Ze.isArrayBuffer(e))return e.byteLength;if(Ze.isURLSearchParams(e)&&(e=e+""),Ze.isString(e))return(await jee(e)).byteLength},kee=async(e,t)=>{const r=Ze.toFiniteNumber(e.getContentLength());return r??Fee(t)},_ee=uv&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:d,responseType:u,headers:h,withCredentials:m="same-origin",fetchOptions:y}=DO(e);u=u?(u+"").toLowerCase():"text";let p=Nee([s,i&&i.toAbortSignal()],o),b;const N=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let S;try{if(d&&Iee&&r!=="get"&&r!=="head"&&(S=await kee(h,n))!==0){let P=new Request(t,{method:"POST",body:n,duplex:"half"}),H;if(Ze.isFormData(n)&&(H=P.headers.get("content-type"))&&h.setContentType(H),P.body){const[D,L]=eI(S,Hw(tI(d)));n=nI(P.body,sI,D,L)}}Ze.isString(m)||(m=m?"include":"omit");const w="credentials"in Request.prototype;b=new Request(t,{...y,signal:p,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:w?m:void 0});let B=await fetch(b);const I=vN&&(u==="stream"||u==="response");if(vN&&(l||I&&N)){const P={};["status","statusText","headers"].forEach(T=>{P[T]=B[T]});const H=Ze.toFiniteNumber(B.headers.get("content-length")),[D,L]=l&&eI(H,Hw(tI(l),!0))||[];B=new Response(nI(B.body,sI,D,()=>{L&&L(),N&&N()}),P)}u=u||"text";let _=await Vw[Ze.findKey(Vw,u)||"text"](B,e);return!I&&N&&N(),await new Promise((P,H)=>{LO(P,H,{data:_,headers:Ji.from(B.headers),status:B.status,statusText:B.statusText,config:e,request:b})})}catch(w){throw N&&N(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new kr("Network Error",kr.ERR_NETWORK,e,b),{cause:w.cause||w}):kr.from(w,w&&w.code,e,b)}}),bN={http:GJ,xhr:Cee,fetch:_ee};Ze.forEach(bN,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const aI=e=>`- ${e}`,Tee=e=>Ze.isFunction(e)||e===null||e===!1,MO={getAdapter:e=>{e=Ze.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!Tee(r)&&(n=bN[(o=String(r)).toLowerCase()],n===void 0))throw new kr(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(aI).join(`
`):" "+aI(i[0]):"as no adapter specified";throw new kr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:bN};function l5(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wm(null,e)}function iI(e){return l5(e),e.headers=Ji.from(e.headers),e.data=o5.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),MO.getAdapter(e.adapter||m1.adapter)(e).then(function(n){return l5(e),n.data=o5.call(e,e.transformResponse,n),n.headers=Ji.from(n.headers),n},function(n){return TO(n)||(l5(e),n&&n.response&&(n.response.data=o5.call(e,e.transformResponse,n.response),n.response.headers=Ji.from(n.response.headers))),Promise.reject(n)})}const UO="1.9.0",Av={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Av[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const oI={};Av.transitional=function(t,r,n){function s(i,o){return"[Axios v"+UO+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new kr(s(o," has been removed"+(r?" in "+r:"")),kr.ERR_DEPRECATED);return r&&!oI[o]&&(oI[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Av.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Lee(e,t,r){if(typeof e!="object")throw new kr("options must be an object",kr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],d=l===void 0||o(l,i,e);if(d!==!0)throw new kr("option "+i+" must be "+d,kr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new kr("Unknown option "+i,kr.ERR_BAD_OPTION)}}const Dy={assertOptions:Lee,validators:Av},lc=Dy.validators;class _h{constructor(t){this.defaults=t||{},this.interceptors={request:new Z8,response:new Z8}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Jh(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Dy.assertOptions(n,{silentJSONParsing:lc.transitional(lc.boolean),forcedJSONParsing:lc.transitional(lc.boolean),clarifyTimeoutError:lc.transitional(lc.boolean)},!1),s!=null&&(Ze.isFunction(s)?r.paramsSerializer={serialize:s}:Dy.assertOptions(s,{encode:lc.function,serialize:lc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Dy.assertOptions(r,{baseUrl:lc.spelling("baseURL"),withXsrfToken:lc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Ze.merge(i.common,i[r.method]);i&&Ze.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),r.headers=Ji.concat(o,i);const l=[];let d=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(d=d&&N.synchronous,l.unshift(N.fulfilled,N.rejected))});const u=[];this.interceptors.response.forEach(function(N){u.push(N.fulfilled,N.rejected)});let h,m=0,y;if(!d){const b=[iI.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,u),y=b.length,h=Promise.resolve(r);m<y;)h=h.then(b[m++],b[m++]);return h}y=l.length;let p=r;for(m=0;m<y;){const b=l[m++],N=l[m++];try{p=b(p)}catch(S){N.call(this,S);break}}try{h=iI.call(this,p)}catch(b){return Promise.reject(b)}for(m=0,y=u.length;m<y;)h=h.then(u[m++],u[m++]);return h}getUri(t){t=Jh(this.defaults,t);const r=PO(t.baseURL,t.url,t.allowAbsoluteUrls);return FO(r,t.params,t.paramsSerializer)}}Ze.forEach(["delete","get","head","options"],function(t){_h.prototype[t]=function(r,n){return this.request(Jh(n||{},{method:t,url:r,data:(n||{}).data}))}});Ze.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Jh(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}_h.prototype[t]=r(),_h.prototype[t+"Form"]=r(!0)});class jS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new wm(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new jS(function(s){t=s}),cancel:t}}}function Pee(e){return function(r){return e.apply(null,r)}}function Dee(e){return Ze.isObject(e)&&e.isAxiosError===!0}const CN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(CN).forEach(([e,t])=>{CN[t]=e});function QO(e){const t=new _h(e),r=xO(_h.prototype.request,t);return Ze.extend(r,_h.prototype,t,{allOwnKeys:!0}),Ze.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return QO(Jh(e,s))},r}const ts=QO(m1);ts.Axios=_h;ts.CanceledError=wm;ts.CancelToken=jS;ts.isCancel=TO;ts.VERSION=UO;ts.toFormData=dv;ts.AxiosError=kr;ts.Cancel=ts.CanceledError;ts.all=function(t){return Promise.all(t)};ts.spread=Pee;ts.isAxiosError=Dee;ts.mergeConfig=Jh;ts.AxiosHeaders=Ji;ts.formToJSON=e=>_O(Ze.isHTMLForm(e)?new FormData(e):e);ts.getAdapter=MO.getAdapter;ts.HttpStatusCode=CN;ts.default=ts;const Oee=()=>{const e=typeof window<"u"&&window.location.hostname==="localhost";return typeof navigator<"u"&&(navigator.userAgent.includes("Cordova")||navigator.userAgent.includes("Capacitor")||typeof window<"u"&&window.location.protocol==="file:")?"https://havenn.onrender.com/api":e?"/api":"https://havenn.onrender.com/api"},Sg=Oee(),ia=(e,t={})=>fetch(`${Sg}${e}`,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}}),IS=Sg;console.log("🔗 API_URL configured as:",IS);console.log("🌍 Window location:",typeof window<"u"?window.location.href:"N/A");console.log("🔧 User agent:",typeof navigator<"u"?navigator.userAgent:"N/A");console.log("📱 Is mobile app:",typeof navigator<"u"&&(navigator.userAgent.includes("Cordova")||navigator.userAgent.includes("Capacitor")||typeof window<"u"&&window.location.protocol==="file:"));const it=ts.create({baseURL:IS,withCredentials:!0});let lI=0;it.interceptors.request.use(e=>(console.log("🚀 API Request Details:",{url:e.url,baseURL:e.baseURL,fullURL:e.baseURL+e.url,method:e.method,headers:e.headers}),e));const Eg=e=>{if(Array.isArray(e))return e.map(t=>Eg(t));if(e&&typeof e=="object"&&e!==null){const t={};for(const[r,n]of Object.entries(e)){const s=r.replace(/_([a-z])/g,(i,o)=>o.toUpperCase());t[s]=Eg(n)}return t}return e},jg=e=>{if(Array.isArray(e))return e.map(t=>jg(t));if(e&&typeof e=="object"&&e!==null){const t={};for(const[r,n]of Object.entries(e)){const s=r.replace(/([A-Z])/g,"_$1").toLowerCase();t[s]=jg(n)}return t}return e};it.interceptors.request.use(e=>{const t=localStorage.getItem("user");return t&&(e.headers["X-User-Info"]=t),e});it.interceptors.request.use(e=>(console.log("API Request:",{url:e.url,method:e.method,data:e.data,headers:e.headers}),e));it.interceptors.request.use(e=>{if(e.data&&typeof e.data=="object"&&!(e.data instanceof FormData)){let t={...e.data};t.hasOwnProperty("branch_id")&&t.hasOwnProperty("branchId")&&(console.warn('[API.TS INTERCEPTOR] Conflict: Found both "branch_id" (value:',t.branch_id,') and "branchId" (value:',t.branchId,'). Removing "branchId" to prioritize the snake_case "branch_id".'),delete t.branchId),e.data=jg(t)}return e});it.interceptors.response.use(e=>(e.data&&typeof e.data=="object"&&(e.data=Eg(e.data)),e),e=>{var n,s,i,o,l,d,u;if(((n=e.response)==null?void 0:n.status)===401)console.warn("401 Unauthorized - Authentication required:",(i=(s=e.response)==null?void 0:s.data)==null?void 0:i.message);else if(((o=e.response)==null?void 0:o.status)===403&&((d=(l=e.response)==null?void 0:l.data)!=null&&d.subscriptionExpired)){console.warn("403 Forbidden - Subscription inactive/expired");const h=Date.now();h-lI>5e3&&(Se.error("Subscription inactive or trial expired. Viewing is allowed, but actions are disabled. Please renew on the Subscription page."),lI=h)}else e.response||(console.error("Network error - please check your connection:",e.message),console.error("Connection failed - this may be a network connectivity issue"));const t=((u=e.response)==null?void 0:u.data)||{message:e.message};console.error("API Error (Axios Interceptor - Response Error):",JSON.stringify(t,null,2));const r=t.message||"An unexpected error occurred while processing your request";return e.friendlyMessage=r,Promise.reject(e)});const Re={login:async({username:e,password:t,libraryCode:r})=>{var n;try{const s=await it.post("/auth/login",{username:e,password:t,libraryCode:r}),{message:i,user:o}=s.data;if(i==="Login successful"&&o)return console.log("Login successful, user:",o),localStorage.setItem("user",JSON.stringify(o)),o;throw new Error(i||"Login failed: Invalid response from server")}catch(s){throw console.error("Login error details:",((n=s.response)==null?void 0:n.data)||s.message),s instanceof Error?s:new Error("Login failed due to server error")}},logout:async()=>{var e;try{const t=await it.get("/auth/logout");return console.log("Logout response:",t.data),localStorage.removeItem("user"),t.data}catch(t){throw console.error("Logout error:",((e=t.response)==null?void 0:e.data)||t.message),t}},checkAuthStatus:async()=>{var e,t;try{const r=await it.get("/auth/status");return console.log("Auth status check:",r.data),r.data}catch(r){if(console.error("Auth status check failed:",((e=r.response)==null?void 0:e.data)||r.message),((t=r.response)==null?void 0:t.status)===401)return{isAuthenticated:!1,user:null};throw r}},getBranches:async()=>{var e,t,r;try{return(await it.get("/branches")).data.branches}catch(n){throw console.error("[api.ts getBranches] Error:",n.message,JSON.stringify((e=n.response)==null?void 0:e.data,null,2)),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch branches")}},addBranch:async e=>(await it.post("/branches",e)).data,updateBranch:async(e,t)=>(await it.put(`/branches/${e}`,t)).data,deleteBranch:async e=>(await it.delete(`/branches/${e}`)).data,getProducts:async()=>(await it.get("/products")).data.products,addProduct:async e=>(await it.post("/products",e)).data,updateProduct:async(e,t)=>(await it.put(`/products/${e}`,t)).data,deleteProduct:async e=>(await it.delete(`/products/${e}`)).data,getHostelBranches:async()=>{var e;try{return(await it.get("/hostel/branches")).data.branches}catch(t){throw console.error("Error fetching hostel branches:",((e=t.response)==null?void 0:e.data)||t.message),t}},addHostelBranch:async e=>{try{return(await it.post("/hostel/branches",e)).data.branch}catch(t){throw t}},updateHostelBranch:async(e,t)=>{try{return(await it.put(`/hostel/branches/${e}`,t)).data.branch}catch(r){throw r}},deleteHostelBranch:async e=>{try{return(await it.delete(`/hostel/branches/${e}`)).data}catch(t){throw t}},getHostelStudents:async e=>{try{const t={};return e&&(t.branchId=e),(await it.get("/hostel/students",{params:t})).data.students}catch(t){throw t}},getHostelStudent:async e=>{try{return(await it.get(`/hostel/students/${e}`)).data}catch(t){throw t}},addHostelStudent:async e=>{var t;try{return(await it.post("/hostel/students",e)).data}catch(r){throw console.error("Error in api.ts addHostelStudent:",r.message,JSON.stringify((t=r.response)==null?void 0:t.data,null,2)),r}},updateHostelStudent:async(e,t)=>{try{return(await it.put(`/hostel/students/${e}`,t)).data}catch(r){throw r}},deleteHostelStudent:async e=>{try{return(await it.delete(`/hostel/students/${e}`)).data}catch(t){throw t}},uploadImage:async e=>{try{return(await it.post("/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw t}},getExpiredHostelStudents:async()=>{try{return(await it.get("/hostel/students/meta/expired")).data}catch(e){throw e}},renewHostelStudent:async(e,t)=>{try{return(await it.post(`/hostel/students/${e}/renew`,t)).data}catch(r){throw r}},getHostelCollections:async e=>{var t;try{const r={};return e!=null&&e.month&&(r.month=e.month),e!=null&&e.branchId&&(r.branchId=e.branchId),(await it.get("/hostel/collections",{params:r})).data}catch(r){throw console.error("[api.ts getHostelCollections] Error:",r.message,JSON.stringify((t=r.response)==null?void 0:t.data,null,2)),r}},updateHostelCollectionPayment:async(e,t)=>{try{return(await it.put(`/hostel/collections/${e}`,t)).data}catch(r){throw r}},getQueries:async()=>{var e,t,r;try{return(await it.get("/queries")).data}catch(n){throw console.error("[api.ts getQueries] Error:",n.message,JSON.stringify((e=n.response)==null?void 0:e.data,null,2)),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch queries")}},getAllQueriesForAdmin:async()=>{var e,t;try{return(await it.get("/queries/admin")).data}catch(r){throw console.error("Error fetching admin queries:",r),new Error(((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to fetch admin queries")}},getQueryById:async e=>{var t,r,n;try{return(await it.get(`/queries/${e}`)).data}catch(s){throw console.error("[api.ts getQueryById] Error:",s.message,JSON.stringify((t=s.response)==null?void 0:t.data,null,2)),new Error(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to fetch query details")}},postQuery:async e=>{var t,r,n;try{return(await it.post("/queries",e)).data}catch(s){throw console.error("[api.ts postQuery] Error:",s.message,JSON.stringify((t=s.response)==null?void 0:t.data,null,2)),new Error(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to post query")}},voteOnQuery:async(e,t)=>{var r,n,s;try{return(await it.post(`/queries/${e}/vote`,{vote_type:t})).data}catch(i){throw console.error("[api.ts voteOnQuery] Error:",i.message,JSON.stringify((r=i.response)==null?void 0:r.data,null,2)),new Error(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to vote on query")}},updateQueryStatus:async(e,t)=>{var r,n,s;try{return(await it.put(`/queries/${e}/status`,{status:t})).data}catch(i){throw console.error("[api.ts updateQueryStatus] Error:",i.message,JSON.stringify((r=i.response)==null?void 0:r.data,null,2)),new Error(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to update query status")}},postComment:async(e,t)=>{var r,n,s;try{return(await it.post(`/queries/${e}/comments`,t)).data}catch(i){throw console.error("[api.ts postComment] Error:",i.message,JSON.stringify((r=i.response)==null?void 0:r.data,null,2)),new Error(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to post comment")}},getInactiveStudents:async()=>(await it.get("/students/inactive")).data,updateStudentStatus:async(e,t)=>(await it.put(`/students/${e}/status`,t)).data,getStudents:async(e,t,r)=>{const n={fromDate:e,toDate:t};return r&&(n.branchId=r),(await it.get("/students",{params:n})).data},getStudent:async e=>(await it.get(`/students/${e}`)).data,getActiveStudents:async e=>{const t={};return e&&(t.branchId=e),(await it.get("/students/active",{params:t})).data},getExpiredMemberships:async e=>{const t={};return e&&(t.branchId=e),(await it.get("/students/expired",{params:t})).data},getExpiringSoon:async(e,t)=>{const r={};return e&&(r.branchId=e),t&&(r.days=t),(await it.get("/students/expiring-soon",{params:r})).data},getExpiringByRange:async(e,t,r)=>{const n={};return e&&(n.branchId=e),t!==void 0&&(n.fromDays=t),r!==void 0&&(n.toDays=r),(await it.get("/students/expiring-by-range",{params:n})).data},getExpiringCounts:async e=>{const t={};return e&&(t.branchId=e),(await it.get("/students/expiring-counts",{params:t})).data},getTotalStudentsCount:async e=>(await Re.getStudents(void 0,void 0,e)).students.length,getActiveStudentsCount:async e=>(await Re.getActiveStudents(e)).students.length,getExpiredMembershipsCount:async e=>(await Re.getExpiredMemberships(e)).students.length,addStudent:async e=>{var t,r;try{const n={...e,cash:e.cash??0,online:e.online??0,securityMoney:e.securityMoney??0,remark:e.remark??null,profileImageUrl:e.profileImageUrl??null,aadhaarFrontUrl:e.aadhaarFrontUrl??null,aadhaarBackUrl:e.aadhaarBackUrl??null};console.log("[api.ts addStudent] Sending student data:",JSON.stringify(n,null,2));const s=await it.post("/students",n);return console.log("[api.ts addStudent] Response received:",JSON.stringify(s.data,null,2)),s.data}catch(n){throw console.error("[api.ts addStudent] Error:",{message:n.message,response:(t=n.response)==null?void 0:t.data,status:(r=n.response)==null?void 0:r.status}),n}},updateStudent:async(e,t)=>(await it.put(`/students/${e}`,t)).data,deleteStudent:async e=>(await it.delete(`/students/${e}`)).data,renewStudent:async(e,t)=>(await it.post(`/students/${e}/renew`,t)).data,getDashboardStats:async e=>(await it.get("/students/stats/dashboard",{params:e})).data,getSchedules:async(e=null)=>{const t={};e!=null?(t.branch_id=e,console.log("Fetching schedules for branch ID:",e)):console.log("Fetching schedules for all branches");try{const r=await it.get("/schedules/with-students",{params:t});console.log("API Response:",r);let n=[];return Array.isArray(r.data)?(console.log("Received array response with",r.data.length,"schedules"),n=r.data):r.data&&Array.isArray(r.data.schedules)?(console.log("Received object response with",r.data.schedules.length,"schedules"),n=r.data.schedules):console.warn("Unexpected API response format, defaulting to empty array:",r.data),{schedules:n}}catch(r){throw console.error("Error in getSchedules:",r),r}},getSchedule:async e=>(await it.get(`/schedules/${e}`)).data,getSchedulesWithStudents:async()=>{var e;try{return(await it.get("/schedules/with-students")).data}catch(t){throw console.error("Error fetching schedules with students:",((e=t.response)==null?void 0:e.data)||t.message),t}},addSchedule:async e=>(await it.post("/schedules",e)).data,updateSchedule:async(e,t)=>(await it.put(`/schedules/${e}`,t)).data,deleteSchedule:async e=>(await it.delete(`/schedules/${e}`)).data,getUserProfile:async()=>{var e;try{return(await it.get("/users/profile")).data}catch(t){throw console.error("Error fetching user profile:",((e=t.response)==null?void 0:e.data)||t.message),t}},updateUserProfile:async e=>{var t;try{return(await it.put("/users/profile",e)).data}catch(r){throw console.error("Error updating user profile:",((t=r.response)==null?void 0:t.data)||r.message),r}},addUser:async e=>{var t;try{return(await it.post("/users",e)).data}catch(r){throw console.error("Error adding user:",((t=r.response)==null?void 0:t.data)||r.message),r}},getAllUsers:async()=>{var e;try{return(await it.get("/users")).data}catch(t){throw console.error("Error fetching users:",((e=t.response)==null?void 0:e.data)||t.message),t}},deleteUser:async e=>{var t;try{return(await it.delete(`/users/${e}`)).data}catch(r){throw console.error("Error deleting user:",((t=r.response)==null?void 0:t.data)||r.message),r}},changeUserPassword:async e=>{var t;try{return(await it.put("/users/profile",e)).data}catch(r){throw console.error("Error changing password:",((t=r.response)==null?void 0:t.data)||r.message),r}},getStudentsByShift:async(e,t)=>(await it.get(`/students/shift/${e}`,{params:t})).data,getSeats:async e=>(await it.get("/seats",{params:e})).data,addSeats:async e=>(await it.post("/seats",e)).data,deleteSeat:async e=>(await it.delete(`/seats/${e}`)).data,getSeatAssignments:async e=>{var t;try{return(await it.get(`/seats/${e}/assignments`)).data}catch(r){throw console.error("Error fetching seat assignments:",((t=r.response)==null?void 0:t.data)||r.message),r}},getAvailableShifts:async e=>{var t,r;try{return(await it.get(`/seats/${e}/all-shifts-status`)).data}catch(n){throw console.error(`Error fetching shifts status for seat ${e}:`,n.message),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch shifts status")}},getSettings:async()=>{var e;try{return(await it.get("/settings")).data}catch(t){throw console.error("Error fetching settings:",((e=t.response)==null?void 0:e.data)||t.message),t}},updateSettings:async e=>{var t;try{return(await it.put("/settings",e)).data}catch(r){throw console.error("Error updating settings:",((t=r.response)==null?void 0:t.data)||r.message),r}},getTransactions:async()=>{var e;try{return(await it.get("/transactions")).data}catch(t){throw console.error("Error fetching transactions:",((e=t.response)==null?void 0:e.data)||t.message),t}},addTransaction:async e=>{var t;try{return(await it.post("/transactions",e)).data}catch(r){throw console.error("Error adding transaction:",((t=r.response)==null?void 0:t.data)||r.message),r}},updateTransaction:async(e,t)=>{var r;try{return(await it.put(`/transactions/${e}`,t)).data}catch(n){throw console.error("Error updating transaction:",((r=n.response)==null?void 0:r.data)||n.message),n}},deleteTransaction:async e=>{var t;try{return(await it.delete(`/transactions/${e}`)).data}catch(r){throw console.error("Error deleting transaction:",((t=r.response)==null?void 0:t.data)||r.message),r}},getAdvancePayments:async()=>{var e;try{return(await it.get("/advance-payments")).data}catch(t){throw console.error("Error fetching advance payments:",((e=t.response)==null?void 0:e.data)||t.message),t}},addAdvancePayment:async e=>{var t;try{return(await it.post("/advance-payments",e)).data}catch(r){throw console.error("Error adding advance payment:",((t=r.response)==null?void 0:t.data)||r.message),r}},updateAdvancePayment:async(e,t)=>{var r;try{return(await it.put(`/advance-payments/${e}`,t)).data}catch(n){throw console.error("Error updating advance payment:",((r=n.response)==null?void 0:r.data)||n.message),n}},toggleAdvancePaymentDone:async(e,t)=>{var r;try{return(await it.patch(`/advance-payments/${e}/done`,{isDone:t})).data}catch(n){throw console.error("Error toggling advance payment done:",((r=n.response)==null?void 0:r.data)||n.message),n}},deleteAdvancePayment:async e=>{var t;try{return(await it.delete(`/advance-payments/${e}`)).data}catch(r){throw console.error("Error deleting advance payment:",((t=r.response)==null?void 0:t.data)||r.message),r}},getCollections:async(e={})=>(await it.get("/collections",{params:e})).data,getCollectionStats:async(e={})=>(await it.get("/collections/stats",{params:e})).data,updateCollectionPayment:async(e,t)=>{const{amount:r,method:n}=t;return(await it.put(`/collections/${e}`,{paymentAmount:r,paymentMethod:n})).data},getExpenses:async e=>{const t={};return e&&(t.branchId=e),(await it.get("/expenses",{params:t})).data},addExpense:async e=>(await it.post("/expenses",e)).data,updateExpense:async(e,t)=>(await it.put(`/expenses/${e}`,t)).data,deleteExpense:async e=>(await it.delete(`/expenses/${e}`)).data,getProfitLoss:async e=>(await it.get("/reports/profit-loss",{params:e})).data,getMonthlyCollections:async e=>(await it.get("/reports/monthly-collections",{params:{month:e}})).data,getLockers:async e=>{const t={};return e&&(t.branchId=e),(await it.get("/lockers",{params:t})).data},addLockers:async e=>(await it.post("/lockers",{lockerNumbers:e})).data,createLocker:async e=>(await it.post("/lockers",e)).data,updateLocker:async(e,t)=>(await it.put(`/lockers/${e}`,t)).data,deleteLocker:async e=>(await it.delete(`/lockers/${e}`)).data,assignLocker:async(e,t)=>(await it.put(`/lockers/${e}/assign`,t)).data,fetchAttendance:async(e={})=>{var t,r;try{const n={...e,includeMembership:!0},s=await it.get("/owner-dashboard/attendance",{params:n}),i=s.data.attendance.map(o=>({...o,membershipStatus:o.membershipStatus||"inactive",membershipEndDate:o.membershipEndDate||null,hasDueAmount:o.hasDueAmount||!1,dueAmount:o.dueAmount||0}));return{...s.data,attendance:i}}catch(n){throw console.error("[api.ts fetchAttendance] Error:",n.message),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch attendance")}},getLibraryProfile:async()=>(await it.get("/owner-dashboard/profile")).data,getStudentProfile:async()=>(await it.get("/student-auth/profile")).data,markAttendanceWithQR:async e=>{try{const t=typeof e=="string"?JSON.parse(e):e,r=ts.create(),n={qrData:t,notes:"Scanned via mobile app"};return console.log("Sending QR attendance data:",n),(await r.post(`${IS}/student-auth/attendance/qr`,n,{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")?`Bearer ${localStorage.getItem("token")}`:""},withCredentials:!0})).data}catch(t){throw console.error("Error in markAttendanceWithQR:",t),t.response&&console.error("Server responded with:",t.response.data),new Error("Failed to mark attendance. Please try again.")}},getStudentAttendanceHistory:async(e={})=>(await it.get("/student-auth/attendance",{params:e})).data,getAnnouncements:async e=>(await it.get("/announcements",{params:e})).data,getStudentMembershipHistory:async()=>(await it.get("/student-auth/membership-history")).data,getStudentTransactions:()=>it.get("/student-auth/transactions").then(e=>e.data),getAttendanceStatus:()=>it.get("/student-auth/attendance/status").then(e=>e.data),toggleAttendance:e=>it.post("/student-auth/attendance/toggle",{notes:e}).then(t=>t.data),createAnnouncement:e=>it.post("/announcements",jg(e)).then(t=>t.data),updateAnnouncement:(e,t)=>it.put(`/announcements/${e}`,jg(t)).then(r=>r.data),deleteAnnouncement:e=>it.delete(`/announcements/${e}`).then(t=>t.data),getOwnerProfile:async()=>{const e=await it.get("/settings/owner/profile");return Eg(e.data)},updateOwnerProfile:async e=>{const t=await it.put("/settings/owner/profile",e);return Eg(t.data)},changeOwnerPassword:async e=>(await it.put("/settings/owner/password",e)).data,updateUserPermissions:async(e,t)=>{var r;try{return(await it.put(`/users/${e}/permissions`,{permissions:t})).data}catch(n){throw console.error("Error updating user permissions:",((r=n.response)==null?void 0:r.data)||n.message),n}}},HO=C.createContext({isAuthenticated:!1,user:null,login:()=>{},logout:async()=>{},refreshUser:async()=>{},isLoading:!1}),Ree=({children:e})=>{const[t,r]=C.useState(()=>{try{const d=localStorage.getItem("user");return d?JSON.parse(d):null}catch{return null}}),[n,s]=C.useState(!0),i=async()=>{var d,u;try{const h=await ia("/auth/refresh");if(!h.ok){(h.status===401||h.status===403)&&(console.log("[AuthContext] Authentication failed on refresh"),r(null));return}const m=await h.json(),y=(m==null?void 0:m.user)||(m==null?void 0:m.owner)||null;if(y){y.permissions=y.permissions||[],r(y);try{localStorage.setItem("user",JSON.stringify(y))}catch{}console.log("[AuthContext] Session refreshed:",y)}else console.warn("[AuthContext] No user data in refresh response")}catch(h){console.error("[AuthContext] Failed to refresh session:",h),(((d=h.response)==null?void 0:d.status)===401||((u=h.response)==null?void 0:u.status)===403)&&(console.log("[AuthContext] Authentication failed, logging out"),r(null))}};C.useEffect(()=>{let d=!1;const u=async p=>{var w;if(d)return;if(d=!0,p&&s(!0),typeof navigator<"u"&&navigator.onLine===!1){console.warn("[AuthContext] Offline detected. Skipping auth check and preserving session."),p&&s(!1);return}let b=null,N=!1,S=!1;try{try{const B=await ia("/owner-auth/status");if(B.ok){const I=await B.json();if(I.isAuthenticated&&I.owner){let _={};try{const H=await ia("/subscriptions/status");if(H.ok){const D=await H.json();_={is_trial:D.subscription.isTrial,subscription_end_date:D.subscription.endDate,subscription_plan:D.subscription.plan,is_subscription_active:D.subscription.isActive}}}catch(H){console.warn("[AuthContext] Failed to fetch subscription info:",H)}b={id:I.owner.id.toString(),username:I.owner.ownerName,role:"admin",permissions:["view_dashboard","manage_students","manage_memberships","view_reports","manage_seats","manage_shifts","manage_hostel","manage_transactions","manage_expenses","manage_products","manage_lockers_or_staff","manage_branches","manage_users"],libraryId:I.owner.id,libraryCode:I.owner.libraryCode,isOwner:!0,..._}}else(B.status===401||B.status===403)&&(N=!0)}else(B.status===401||B.status===403)&&(N=!0)}catch(B){console.warn("[AuthContext] Owner status check failed (network/server):",B),S=!0}if(!b)try{const B=await Re.checkAuthStatus();B&&B.isAuthenticated&&B.user&&(b={...B.user,permissions:B.user.permissions||[]})}catch(B){const I=(w=B==null?void 0:B.response)==null?void 0:w.status;I===401||I===403?N=!0:(S=!0,console.warn("[AuthContext] Admin/staff status check failed (network/server):",B))}if(!b)try{const B=await ia("/student-auth/status");if(B.ok){const I=await B.json();I.isAuthenticated&&I.student&&(b={id:I.student.id.toString(),username:I.student.name,role:"student",permissions:[],libraryId:I.student.library_id})}else(B.status===401||B.status===403)&&(N=!0)}catch(B){S=!0,console.warn("[AuthContext] Student status check failed (network/server):",B)}b?r(b):N?r(null):S?console.warn("[AuthContext] Auth check encountered network/server issue. Preserving current session."):r(null)}catch(B){console.error("Error during auth check (outer):",B)}finally{d=!1,p&&s(!1)}};u(!0);const h=setInterval(()=>u(!1),6e4),m=()=>{console.log("[AuthContext] Network online - refreshing session"),i()},y=()=>{console.warn("[AuthContext] Network offline - preserving current session")};return typeof window<"u"&&(window.addEventListener("online",m),window.addEventListener("offline",y)),()=>{clearInterval(h),typeof window<"u"&&(window.removeEventListener("online",m),window.removeEventListener("offline",y))}},[]);const o=d=>{d.permissions=d.permissions||[],r(d);try{localStorage.setItem("user",JSON.stringify(d))}catch{}s(!1)},l=async()=>{s(!0);try{t&&(t.isOwner?await ia("/owner-auth/logout",{method:"POST"}):t.role==="student"?await ia("/student-auth/logout",{method:"POST"}):await Re.logout()),r(null);try{localStorage.removeItem("user")}catch{}window.location.href="/#/"}catch(d){console.error("Logout failed:",d)}finally{s(!1)}};return a.jsx(HO.Provider,{value:{isAuthenticated:!!t,user:t,login:o,logout:l,refreshUser:i,isLoading:n},children:e})},Ys=()=>C.useContext(HO);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},d)=>C.createElement("svg",{ref:d,...Uee,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:VO("lucide",s),...l},[...o.map(([u,h])=>C.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(e,t)=>{const r=C.forwardRef(({className:n,...s},i)=>C.createElement(Qee,{ref:i,iconNode:t,className:VO(`lucide-${Mee(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=ft("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=ft("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=ft("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=ft("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=ft("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=ft("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=ft("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=ft("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ft("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=ft("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=ft("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=ft("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ft("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=ft("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ft("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=ft("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=ft("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=ft("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=ft("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=ft("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=ft("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ft("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ft("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=ft("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=ft("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ft("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ft("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ft("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=ft("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ft("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=ft("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=ft("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=ft("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=ft("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=ft("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=ft("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=ft("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ft("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ft("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=ft("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=ft("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=ft("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=ft("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=ft("PanelTop",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ft("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=ft("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ft("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=ft("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=ft("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=ft("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=ft("Rows3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ft("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=ft("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=ft("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=ft("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=ft("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=ft("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=ft("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=ft("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=ft("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=ft("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=ft("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=ft("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=ft("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=ft("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=ft("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=ft("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ft("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=ft("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=ft("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ft("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=ft("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=ft("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=ft("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=ft("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_N=""+new URL("logo-B0DErw8i.jpg",import.meta.url).href,zn=()=>{const{user:e,logout:t}=Ys();Ur();const n=(()=>{if(e!=null&&e.subscription_end_date){const l=new Date(e.subscription_end_date),d=new Date,u=l.getTime()-d.getTime(),h=Math.ceil(u/(1e3*3600*24));return h>0?h:0}return null})(),i=e!=null&&e.subscription_plan?{free_trial:"Free Trial","1_month":"Monthly Plan","3_month":"Quarterly Plan","6_month":"Half-Yearly Plan","9_month":"Nine-Month Plan","12_month":"Annual Plan"}[e.subscription_plan]||e.subscription_plan:"No Plan",o=()=>{t()};return a.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-slate-50 via-white to-indigo-50",children:[(e==null?void 0:e.is_trial)&&n!==null&&n>0&&a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 text-center text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(ste,{className:"h-4 w-4"}),a.jsxs("span",{children:[i," Active - ",n," Days Left"]})]})}),(e==null?void 0:e.is_subscription_active)&&!(e!=null&&e.is_trial)&&a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white px-4 py-2 text-center text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(Vee,{className:"h-4 w-4"}),a.jsxs("span",{children:[i," Active"]})]})}),!(e!=null&&e.is_subscription_active)&&!(e!=null&&e.is_trial)&&(e==null?void 0:e.role)==="admin"&&a.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 text-center text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(cI,{className:"h-4 w-4"}),a.jsx("span",{children:"No Active Subscription -"}),a.jsx("a",{href:"/subscription-plans",className:"underline font-semibold hover:text-yellow-200 transition-colors",children:"Subscribe Now"})]})}),a.jsxs("div",{className:"flex items-center justify-between py-3 px-6 bg-white border-b border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-2 rounded-xl shadow-lg",children:a.jsx("img",{src:_N,alt:"HAVENN Logo",className:"h-6 w-6 rounded object-cover"})}),a.jsxs("div",{className:"hidden md:block",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"HAVENN"}),a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Library Management"})]})]}),a.jsx("div",{className:"flex-1 max-w-md mx-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 bg-gray-50 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors relative",children:[a.jsx(cI,{className:"h-5 w-5 text-gray-600"}),a.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-red-500 rounded-full"})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-2 hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold text-sm",children:e&&e.username?e.username.charAt(0).toUpperCase():"U"}),a.jsx("div",{className:"hidden md:block",children:a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:(e==null?void 0:e.username)||"User"})})]}),a.jsx("button",{onClick:o,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Sign out",children:a.jsx(PS,{className:"h-5 w-5 text-gray-600"})})]})]})]})};var VS={};VS.match=Ate;VS.parse=XO;var ote=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,lte=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,cte=/^(?:(min|max)-)?(.+)/,dte=/(em|rem|px|cm|mm|in|pt|pc)?$/,ute=/(dpi|dpcm|dppx)?$/;function Ate(e,t){return XO(e).some(function(r){var n=r.inverse,s=r.type==="all"||t.type===r.type;if(s&&n||!(s||n))return!1;var i=r.expressions.every(function(o){var l=o.feature,d=o.modifier,u=o.value,h=t[l];if(!h)return!1;switch(l){case"orientation":case"scan":return h.toLowerCase()===u.toLowerCase();case"width":case"height":case"device-width":case"device-height":u=gI(u),h=gI(h);break;case"resolution":u=pI(u),h=pI(h);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":u=mI(u),h=mI(h);break;case"grid":case"color":case"color-index":case"monochrome":u=parseInt(u,10)||1,h=parseInt(h,10)||0;break}switch(d){case"min":return h>=u;case"max":return h<=u;default:return h===u}});return i&&!n||!i&&n})}function XO(e){return e.split(",").map(function(t){t=t.trim();var r=t.match(ote),n=r[1],s=r[2],i=r[3]||"",o={};return o.inverse=!!n&&n.toLowerCase()==="not",o.type=s?s.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],o.expressions=i.map(function(l){var d=l.match(lte),u=d[1].toLowerCase().match(cte);return{modifier:u[1],feature:u[2],value:d[2]}}),o})}function mI(e){var t=Number(e),r;return t||(r=e.match(/^(\d+)\s*\/\s*(\d+)$/),t=r[1]/r[2]),t}function pI(e){var t=parseFloat(e),r=String(e).match(ute)[1];switch(r){case"dpcm":return t/2.54;case"dppx":return t*96;default:return t}}function gI(e){var t=parseFloat(e),r=String(e).match(dte)[1];switch(r){case"em":return t*16;case"rem":return t*16;case"cm":return t*96/2.54;case"mm":return t*96/2.54/10;case"in":return t*96;case"pt":return t*72;case"pc":return t*72/12;default:return t}}var hte=VS.match,xI=typeof window<"u"?window.matchMedia:null;function fte(e,t,r){var n=this,s;xI&&!r&&(s=xI.call(window,e)),s?(this.matches=s.matches,this.media=s.media,s.addListener(l)):(this.matches=hte(e,t),this.media=e),this.addListener=i,this.removeListener=o,this.dispose=d;function i(u){s&&s.addListener(u)}function o(u){s&&s.removeListener(u)}function l(u){n.matches=u.matches,n.media=u.media}function d(){s&&s.removeListener(l)}}function mte(e,t,r){return new fte(e,t,r)}var pte=mte;const gte=a1(pte);var xte=/[A-Z]/g,yte=/^ms-/,c5={};function wte(e){return"-"+e.toLowerCase()}function YO(e){if(c5.hasOwnProperty(e))return c5[e];var t=e.replace(xte,wte);return c5[e]=yte.test(t)?"-"+t:t}function vte(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),n=Object.keys(t),s=r.length;if(n.length!==s)return!1;for(let i=0;i<s;i++){const o=r[i];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var ZO={exports:{}},bte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Cte=bte,Nte=Cte;function JO(){}function eR(){}eR.resetWarningCache=JO;var Bte=function(){function e(n,s,i,o,l,d){if(d!==Nte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eR,resetWarningCache:JO};return r.PropTypes=r,r};ZO.exports=Bte();var Ste=ZO.exports;const pn=a1(Ste),wi=pn.oneOfType([pn.string,pn.number]),KS={all:pn.bool,grid:pn.bool,aural:pn.bool,braille:pn.bool,handheld:pn.bool,print:pn.bool,projection:pn.bool,screen:pn.bool,tty:pn.bool,tv:pn.bool,embossed:pn.bool},tR={orientation:pn.oneOf(["portrait","landscape"]),scan:pn.oneOf(["progressive","interlace"]),aspectRatio:pn.string,deviceAspectRatio:pn.string,height:wi,deviceHeight:wi,width:wi,deviceWidth:wi,color:pn.bool,colorIndex:pn.bool,monochrome:pn.bool,resolution:wi,type:Object.keys(KS)},{type:G4e,...Ete}=tR,rR={minAspectRatio:pn.string,maxAspectRatio:pn.string,minDeviceAspectRatio:pn.string,maxDeviceAspectRatio:pn.string,minHeight:wi,maxHeight:wi,minDeviceHeight:wi,maxDeviceHeight:wi,minWidth:wi,maxWidth:wi,minDeviceWidth:wi,maxDeviceWidth:wi,minColor:pn.number,maxColor:pn.number,minColorIndex:pn.number,maxColorIndex:pn.number,minMonochrome:pn.number,maxMonochrome:pn.number,minResolution:wi,maxResolution:wi,...Ete},jte={...KS,...rR};var Ite={all:jte,types:KS,matchers:tR,features:rR};const Fte=e=>`not ${e}`,kte=(e,t)=>{const r=YO(e);return typeof t=="number"&&(t=`${t}px`),t===!0?r:t===!1?Fte(r):`(${r}: ${t})`},_te=e=>e.join(" and "),Tte=e=>{const t=[];return Object.keys(Ite.all).forEach(r=>{const n=e[r];n!=null&&t.push(kte(r,n))}),_te(t)},Lte=C.createContext(void 0),Pte=e=>e.query||Tte(e),yI=e=>e?Object.keys(e).reduce((r,n)=>(r[YO(n)]=e[n],r),{}):void 0,nR=()=>{const e=C.useRef(!1);return C.useEffect(()=>{e.current=!0},[]),e.current},Dte=e=>{const t=C.useContext(Lte),r=()=>yI(e)||yI(t),[n,s]=C.useState(r);return C.useEffect(()=>{const i=r();vte(n,i)||s(i)},[e,t]),n},Ote=e=>{const t=()=>Pte(e),[r,n]=C.useState(t);return C.useEffect(()=>{const s=t();r!==s&&n(s)},[e]),r},Rte=(e,t)=>{const r=()=>gte(e,t||{},!!t),[n,s]=C.useState(r),i=nR();return C.useEffect(()=>{if(i){const o=r();return s(o),()=>{o&&o.dispose()}}},[e,t]),n},Mte=e=>{const[t,r]=C.useState(e.matches);return C.useEffect(()=>{const n=s=>{r(s.matches)};return e.addListener(n),r(e.matches),()=>{e.removeListener(n)}},[e]),t},Ute=(e,t,r)=>{const n=Dte(t),s=Ote(e);if(!s)throw new Error("Invalid or missing MediaQuery!");const i=Rte(s,n),o=Mte(i),l=nR();return C.useEffect(()=>{l&&r&&r(o)},[o]),C.useEffect(()=>()=>{i&&i.dispose()},[]),o},Qte=(e,t)=>!e||!e.permissions?!1:e.role==="admin"?!0:t==="manage_lockers_or_staff"?e.role==="admin"||e.role==="staff":e.permissions.includes(t),an=({isCollapsed:e,setIsCollapsed:t,onBarcodeClick:r})=>{const{user:n}=Ys(),s=fl(),i=Ur(),[o,l]=C.useState(!1),[d,u]=C.useState(!1),[h,m]=C.useState(!1),y=Ute({query:"(max-width: 767px)"}),p=e,b=w=>w==="/"?s.pathname==="/":s.pathname.startsWith(w),N=[{path:"/dashboard",icon:_S,label:"Dashboard",permission:null,iconBg:"bg-gradient-to-r from-indigo-100 to-indigo-200",iconBgHover:"group-hover:from-indigo-200 group-hover:to-indigo-300",iconActive:"from-indigo-300 to-indigo-400",iconColor:"text-indigo-600",iconColorHover:"group-hover:text-indigo-700",iconColorActive:"text-indigo-800"},{path:"/students",icon:HS,label:"Library Students",hasDropdown:!0,permission:"manage_library_students",iconBg:"bg-gradient-to-r from-violet-100 to-violet-200",iconBgHover:"group-hover:from-violet-200 group-hover:to-violet-300",iconActive:"from-violet-300 to-violet-400",iconColor:"text-violet-600",iconColorHover:"group-hover:text-violet-700",iconColorActive:"text-violet-800"},{path:"/attendance",icon:ui,label:"Attendance",permission:"manage_library_students",iconBg:"bg-gradient-to-r from-cyan-100 to-cyan-200",iconBgHover:"group-hover:from-cyan-200 group-hover:to-cyan-300",iconActive:"from-cyan-300 to-cyan-400",iconColor:"text-cyan-600",iconColorHover:"group-hover:text-cyan-700",iconColorActive:"text-cyan-800"},{path:"#",icon:Fd,label:"Barcode Scanner",permission:"manage_library_students",onClick:r,iconBg:"bg-gradient-to-r from-emerald-100 to-emerald-200",iconBgHover:"group-hover:from-emerald-200 group-hover:to-emerald-300",iconActive:"from-emerald-300 to-emerald-400",iconColor:"text-emerald-600",iconColorHover:"group-hover:text-emerald-700",iconColorActive:"text-emerald-800"},{path:"/announcements",icon:tf,label:"Announcements",permission:"manage_library_students",iconBg:"bg-gradient-to-r from-amber-100 to-amber-200",iconBgHover:"group-hover:from-amber-200 group-hover:to-amber-300",iconActive:"from-amber-300 to-amber-400",iconColor:"text-amber-600",iconColorHover:"group-hover:text-amber-700",iconColorActive:"text-amber-800"},{path:"/admission-requests",icon:$O,label:"Admission Requests",permission:"manage_library_students",iconBg:"bg-gradient-to-r from-blue-100 to-blue-200",iconBgHover:"group-hover:from-blue-200 group-hover:to-blue-300",iconActive:"from-blue-300 to-blue-400",iconColor:"text-blue-600",iconColorHover:"group-hover:text-blue-700",iconColorActive:"text-blue-800"},{path:"/admin/queries",icon:tte,label:"Admin Queries",permission:"admin_only",iconBg:"bg-gradient-to-r from-rose-100 to-rose-200",iconBgHover:"group-hover:from-rose-200 group-hover:to-rose-300",iconActive:"from-rose-300 to-rose-400",iconColor:"text-rose-600",iconColorHover:"group-hover:text-rose-700",iconColorActive:"text-rose-800"},{path:"/schedule",icon:us,label:"Schedule",permission:"manage_schedules",iconBg:"bg-gradient-to-r from-sky-100 to-sky-200",iconBgHover:"group-hover:from-sky-200 group-hover:to-sky-300",iconActive:"from-sky-300 to-sky-400",iconColor:"text-sky-600",iconColorHover:"group-hover:text-sky-700",iconColorActive:"text-sky-800"},{path:"/shifts",icon:Zn,label:"Shifts",permission:"manage_schedules",iconBg:"bg-gradient-to-r from-teal-100 to-teal-200",iconBgHover:"group-hover:from-teal-200 group-hover:to-teal-300",iconActive:"from-teal-300 to-teal-400",iconColor:"text-teal-600",iconColorHover:"group-hover:text-teal-700",iconColorActive:"text-teal-800"},{path:"/seats",icon:Qd,label:"Seats",permission:"manage_seats",iconBg:"bg-gradient-to-r from-purple-100 to-purple-200",iconBgHover:"group-hover:from-purple-200 group-hover:to-purple-300",iconActive:"from-purple-300 to-purple-400",iconColor:"text-purple-600",iconColorHover:"group-hover:text-purple-700",iconColorActive:"text-purple-800"},{path:"/branches",icon:jo,label:"Manage Branches",permission:"manage_branches",iconBg:"bg-gradient-to-r from-fuchsia-100 to-fuchsia-200",iconBgHover:"group-hover:from-fuchsia-200 group-hover:to-fuchsia-300",iconActive:"from-fuchsia-300 to-fuchsia-400",iconColor:"text-fuchsia-600",iconColorHover:"group-hover:text-fuchsia-700",iconColorActive:"text-fuchsia-800"},{path:"/products",icon:Zee,label:"Products",permission:"manage_products",iconBg:"bg-gradient-to-r from-pink-100 to-pink-200",iconBgHover:"group-hover:from-pink-200 group-hover:to-pink-300",iconActive:"from-pink-300 to-pink-400",iconColor:"text-pink-600",iconColorHover:"group-hover:text-pink-700",iconColorActive:"text-pink-800"},{path:"/transactions",icon:ef,label:"Transactions",permission:"view_transactions",iconBg:"bg-gradient-to-r from-green-100 to-green-200",iconBgHover:"group-hover:from-green-200 group-hover:to-green-300",iconActive:"from-green-300 to-green-400",iconColor:"text-green-600",iconColorHover:"group-hover:text-green-700",iconColorActive:"text-green-800"},{path:"/advanced-payment",icon:w0,label:"Advanced Payment",permission:"view_transactions",iconBg:"bg-gradient-to-r from-indigo-100 to-indigo-200",iconBgHover:"group-hover:from-indigo-200 group-hover:to-indigo-300",iconActive:"from-indigo-300 to-indigo-400",iconColor:"text-indigo-600",iconColorHover:"group-hover:text-indigo-700",iconColorActive:"text-indigo-800"},{path:"/collections",icon:Oy,label:"Collection & Due",permission:"view_collections",iconBg:"bg-gradient-to-r from-emerald-100 to-emerald-200",iconBgHover:"group-hover:from-emerald-200 group-hover:to-emerald-300",iconActive:"from-emerald-300 to-emerald-400",iconColor:"text-emerald-600",iconColorHover:"group-hover:text-emerald-700",iconColorActive:"text-emerald-800"},{path:"/expenses",icon:rte,label:"Expenses",permission:"manage_expenses",iconBg:"bg-gradient-to-r from-orange-100 to-orange-200",iconBgHover:"group-hover:from-orange-200 group-hover:to-orange-300",iconActive:"from-orange-300 to-orange-400",iconColor:"text-orange-600",iconColorHover:"group-hover:text-orange-700",iconColorActive:"text-orange-800"},{path:"/profit-loss",icon:$ee,label:"Profit & Loss",permission:"view_reports",iconBg:"bg-gradient-to-r from-indigo-100 to-indigo-200",iconBgHover:"group-hover:from-indigo-200 group-hover:to-indigo-300",iconActive:"from-indigo-300 to-indigo-400",iconColor:"text-indigo-600",iconColorHover:"group-hover:text-indigo-700",iconColorActive:"text-indigo-800"},{path:"/lockers",icon:Hee,label:"Lockers",permission:"manage_lockers_or_staff",iconBg:"bg-gradient-to-r from-slate-100 to-slate-200",iconBgHover:"group-hover:from-slate-200 group-hover:to-slate-300",iconActive:"from-slate-300 to-slate-400",iconColor:"text-slate-600",iconColorHover:"group-hover:text-slate-700",iconColorActive:"text-slate-800"},{path:"/settings",icon:RS,label:"Settings",permission:"admin_only",iconBg:"bg-gradient-to-r from-gray-100 to-gray-200",iconBgHover:"group-hover:from-gray-200 group-hover:to-gray-300",iconActive:"from-gray-300 to-gray-400",iconColor:"text-gray-600",iconColorHover:"group-hover:text-gray-700",iconColorActive:"text-gray-800"},{path:"/subscription",icon:zO,label:"Subscription",permission:"admin_only",iconBg:"bg-gradient-to-r from-violet-100 to-violet-200",iconBgHover:"group-hover:from-violet-200 group-hover:to-violet-300",iconActive:"from-violet-300 to-violet-400",iconColor:"text-violet-600",iconColorHover:"group-hover:text-violet-700",iconColorActive:"text-violet-800"}],S=()=>{i("/"),y&&m(!1)};return a.jsxs(a.Fragment,{children:[y&&a.jsx("button",{className:"fixed top-4 left-4 z-50 md:hidden p-2 rounded-md bg-white shadow-md",onClick:()=>m(!0),children:a.jsx(Yee,{size:24})}),y&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>m(!1)}),a.jsxs("div",{className:`h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 border-r-2 border-purple-200 flex flex-col min-h-0 transition-all duration-300 shadow-2xl ${y?h?"fixed top-0 left-0 z-50 w-64":"hidden":p?"w-16":"w-64"}`,children:[a.jsxs("div",{className:"p-4 flex items-center justify-between bg-white border-b border-gray-200",children:[!p&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-2 rounded-xl shadow-lg",children:a.jsx("img",{src:_N,alt:"HAVENN Logo",className:"h-6 w-6 rounded object-cover"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"HAVENN"}),a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Library Management"})]})]}),p&&a.jsx("div",{className:"flex justify-center w-full",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-2 rounded-xl shadow-lg",children:a.jsx("img",{src:_N,alt:"HAVENN Logo",className:"h-5 w-5 rounded object-cover"})})}),y?a.jsx("button",{onClick:()=>m(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(eo,{size:18,className:"text-gray-600"})}):!p&&a.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(gr,{size:18,className:"text-gray-600"})})]}),!y&&a.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:a.jsxs("button",{onClick:()=>t(!e),className:"w-full flex items-center justify-center p-2 rounded-lg hover:bg-gray-100 transition-colors text-gray-600",title:p?"Expand Sidebar":"Collapse Sidebar",children:[a.jsx(gr,{size:18,className:`transition-transform ${p?"rotate-180":""}`}),!p&&a.jsx("span",{className:"ml-2 text-sm font-medium",children:"Collapse"})]})}),a.jsx("nav",{className:"flex-1 px-2 py-4 overflow-y-auto",children:a.jsx("ul",{className:"space-y-1",children:N.map(w=>{let B=!1;return w.permission===null?B=!0:w.permission==="admin_only"?B=(n==null?void 0:n.role)==="admin":B=Qte(n,w.permission),B?a.jsxs("li",{children:[w.onClick?a.jsxs("button",{onClick:()=>{console.log("Barcode button clicked!",w.label),w.onClick?(console.log("Calling onClick handler"),w.onClick()):console.log("No onClick handler found"),y&&m(!1)},className:`group flex items-center w-full text-left py-3 px-4 rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg ${p?"justify-center":""} ${b(w.path)?"bg-gradient-to-r from-indigo-200 to-indigo-300 text-indigo-800 shadow-xl":"text-gray-700 hover:bg-gradient-to-r hover:from-gray-100 hover:to-gray-200"}`,children:[a.jsx("span",{className:`${p?"":"mr-4"}`,children:a.jsx("span",{className:`inline-flex items-center justify-center p-2 rounded-xl shadow-md transition-all duration-300 ${b(w.path)?`bg-gradient-to-r ${w.iconActive} ${w.iconColorActive}`:`${w.iconBg} ${w.iconBgHover} ${w.iconColor} ${w.iconColorHover}`}`,children:(()=>{const I=w.icon;return a.jsx(I,{size:20,className:"transition-all duration-300"})})()})}),!p&&a.jsx("span",{className:"font-bold text-sm tracking-wide",children:w.label})]}):a.jsxs(Tt,{to:w.path,onClick:I=>{w.hasDropdown&&!p?(I.preventDefault(),w.label==="Library Students"?l(!o):w.label==="Hostel Students"&&u(!d)):y&&m(!1)},className:`group flex items-center py-3 px-4 rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg ${p?"justify-center":""} ${b(w.path)?"bg-gradient-to-r from-indigo-200 to-indigo-300 text-indigo-800 shadow-xl":"text-gray-700 hover:bg-gradient-to-r hover:from-gray-100 hover:to-gray-200"}`,children:[a.jsx("span",{className:`${p?"":"mr-4"}`,children:a.jsx("span",{className:`inline-flex items-center justify-center p-2 rounded-xl shadow-md transition-all duration-300 ${b(w.path)?`bg-gradient-to-r ${w.iconActive} ${w.iconColorActive}`:`${w.iconBg} ${w.iconBgHover} ${w.iconColor} ${w.iconColorHover}`}`,children:(()=>{const I=w.icon;return a.jsx(I,{size:20,className:"transition-all duration-300"})})()})}),!p&&a.jsxs("div",{className:"flex justify-between items-center w-full",children:[a.jsx("span",{className:"font-bold text-sm tracking-wide",children:w.label}),w.hasDropdown&&a.jsx(gr,{size:16,className:`transition-transform ${w.label==="Library Students"&&o||w.label==="Hostel Students"&&d?"rotate-90":""}`})]})]}),!p&&w.hasDropdown&&o&&w.label==="Library Students"&&a.jsxs("div",{className:"ml-8 mt-1 space-y-1 animate-fade-in",children:[a.jsx(Tt,{to:"/students/add",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/students/add")?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-slate-100"}`,onClick:()=>y&&m(!1),children:"Add Student"}),a.jsx(Tt,{to:"/students",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/students")&&s.pathname.split("/").length===2?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-slate-100"}`,onClick:()=>y&&m(!1),children:"View All"}),a.jsxs(Tt,{to:"/active-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/active-students")?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-slate-100"}`,onClick:()=>y&&m(!1),children:[a.jsx(Ii,{size:14,className:"mr-1.5"}),"Active Students"]}),a.jsxs(Tt,{to:"/expired-memberships",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/expired-memberships")?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-slate-100"}`,onClick:()=>y&&m(!1),children:[a.jsx(na,{size:14,className:"mr-1.5"}),"Expired Members"]}),a.jsxs(Tt,{to:"/inactive-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/inactive-students")?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-slate-100"}`,onClick:()=>y&&m(!1),children:[a.jsx(FN,{size:14,className:"mr-1.5"}),"Inactive Students"]})]}),!p&&w.hasDropdown&&d&&w.label==="Hostel Students"&&a.jsxs("div",{className:"ml-8 mt-1 space-y-1 animate-fade-in",children:[a.jsx(Tt,{to:"/hostel-dashboard",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel-dashboard")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Hostel Dashboard"}),a.jsxs(Tt,{to:"/hostel/active-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/active-students")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:[a.jsx(Ii,{size:14,className:"mr-1.5"}),"Active Students"]}),a.jsx(Tt,{to:"/hostel/collections",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/collections")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Collection & Due"}),a.jsx(Tt,{to:"/hostel/expired",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/expired")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Expired Memberships"}),a.jsx(Tt,{to:"/hostel",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel")&&s.pathname.split("/").length===2?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Student Management"})]})]},w.path):null})})}),a.jsx("div",{className:"p-2",children:a.jsx("button",{className:`flex items-center w-full px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors ${p?"justify-center":""}`,onClick:S,children:a.jsxs("div",{className:`flex items-center gap-3 ${p?"justify-center":""}`,children:[a.jsx(PS,{size:20,className:"text-gray-500"}),!p&&a.jsx("span",{className:"font-medium",children:"Logout"})]})})})]})]})},Hn=({title:e,value:t,icon:r,iconBgColor:n,textColor:s="text-gray-900",arrowIcon:i,containerClassName:o,titleClassName:l,valueClassName:d})=>a.jsxs("div",{className:`${o||"bg-white rounded-xl p-5 flex flex-col shadow-sm border border-gray-100 relative overflow-hidden"}`,children:[a.jsx("div",{className:`${n} p-2 rounded-lg inline-block`,children:r}),a.jsx("h3",{className:`text-sm mt-3 ${l||"text-gray-500"}`,children:e}),a.jsx("p",{className:`text-4xl font-semibold mt-1 ${d||s}`,children:t}),i&&a.jsx("div",{className:"absolute bottom-4 right-4",children:i})]}),Hte=e=>e||"N/A",Vte=({limit:e,selectedBranchId:t})=>{const[r,n]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[d,u]=C.useState(1),[h,m]=C.useState(5),y=Ur();C.useEffect(()=>{(async()=>{i(!0);try{const P=await Re.getStudents(void 0,void 0,t??void 0);if(!P||!Array.isArray(P.students))throw new Error("Invalid students data");n(P.students)}catch(P){P.response&&P.response.status===401?(Se.error("Session expired. Please log in again."),y("/login")):(console.error("Failed to fetch students:",P.message),Se.error("Failed to fetch students")),n([])}finally{i(!1)}})()},[y,t]);const p=async _=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Re.deleteStudent(_),n(r.filter(P=>P.id!==_)),Se.success("Student deleted successfully")}catch(P){console.error("Failed to delete student:",P.message),Se.error("Failed to delete student")}},b=_=>{y(`/students/${_}`)},N=r.filter(_=>_.name.toLowerCase().includes(o.toLowerCase())||_.phone.toLowerCase().includes(o.toLowerCase())||_.registrationNumber&&_.registrationNumber.toLowerCase().includes(o.toLowerCase())||_.seatNumber&&_.seatNumber.toLowerCase().includes(o.toLowerCase())),S=e??d*h,w=e?0:S-h,B=N.slice(w,S),I=e?1:Math.ceil(N.length/h);return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-start md:items-center justify-between space-y-2 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Students List"}),!e&&a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:o,onChange:_=>l(_.target.value)})]})]}),s?a.jsx("div",{className:"flex justify-center p-8",children:"Loading students..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-left",children:[a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Registration Number"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Seat"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Membership End"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:B.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:_.name}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:_.registrationNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:_.seatNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:_.phone}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${_.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:Hte(_.membershipEnd)}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>b(_.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:a.jsx(ya,{size:16})}),a.jsx("button",{onClick:()=>p(_.id),className:"text-red-600 hover:text-red-800 p-2",children:a.jsx(Xs,{size:16})})]})]},_.id))})]})}),N.length===0&&a.jsx("div",{className:"py-8 text-center text-gray-500",children:"No students found matching your search."})]}),!e&&N.length>0&&a.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:justify-between md:space-y-0 border-t border-gray-200 px-6 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:h,onChange:_=>{m(Number(_.target.value)),u(1)},className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:5,children:"5"}),a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>u(_=>Math.max(_-1,1)),disabled:d===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(QA,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",d," of ",I]}),a.jsx("button",{onClick:()=>u(_=>Math.min(_+1,I)),disabled:d===I,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(gr,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",w+1," to ",Math.min(S,N.length)," of"," ",N.length," students"]})]}),e&&N.length>e&&a.jsx("div",{className:"flex justify-center border-t border-gray-100 p-4",children:a.jsxs("button",{onClick:()=>y("/students"),className:"text-purple-600 hover:text-purple-800 text-sm font-medium flex items-center p-2",children:["View all students ",a.jsx(gr,{size:16,className:"ml-1"})]})})]})};function sn(e){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(e)}function Kte(e,t){if(sn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sR(e){var t=Kte(e,"string");return sn(t)=="symbol"?t:t+""}function hp(e,t,r){return(t=sR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){hp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zte(e){if(Array.isArray(e))return e}function Wte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(h){u=!0,s=h}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function TN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function aR(e,t){if(e){if(typeof e=="string")return TN(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TN(e,t):void 0}}function Gte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ql(e,t){return zte(e)||Wte(e,t)||aR(e,t)||Gte()}function $te(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yd(e,t){if(e==null)return{};var r,n,s=$te(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var qte=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Xte(e){var t=e.defaultInputValue,r=t===void 0?"":t,n=e.defaultMenuIsOpen,s=n===void 0?!1:n,i=e.defaultValue,o=i===void 0?null:i,l=e.inputValue,d=e.menuIsOpen,u=e.onChange,h=e.onInputChange,m=e.onMenuClose,y=e.onMenuOpen,p=e.value,b=Yd(e,qte),N=C.useState(l!==void 0?l:r),S=Ql(N,2),w=S[0],B=S[1],I=C.useState(d!==void 0?d:s),_=Ql(I,2),P=_[0],H=_[1],D=C.useState(p!==void 0?p:o),L=Ql(D,2),T=L[0],z=L[1],M=C.useCallback(function(Y,K){typeof u=="function"&&u(Y,K),z(Y)},[u]),V=C.useCallback(function(Y,K){var ce;typeof h=="function"&&(ce=h(Y,K)),B(ce!==void 0?ce:Y)},[h]),J=C.useCallback(function(){typeof y=="function"&&y(),H(!0)},[y]),Z=C.useCallback(function(){typeof m=="function"&&m(),H(!1)},[m]),ee=l!==void 0?l:w,q=d!==void 0?d:P,X=p!==void 0?p:T;return ur(ur({},b),{},{inputValue:ee,menuIsOpen:q,onChange:M,onInputChange:V,onMenuClose:Z,onMenuOpen:J,value:X})}function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mr.apply(null,arguments)}function Yte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sR(n.key),n)}}function Zte(e,t,r){return t&&vI(e.prototype,t),r&&vI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LN(e,t){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},LN(e,t)}function Jte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LN(e,t)}function Gw(e){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gw(e)}function iR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iR=function(){return!!e})()}function ere(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tre(e,t){if(t&&(sn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ere(e)}function rre(e){var t=iR();return function(){var r,n=Gw(e);if(t){var s=Gw(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return tre(this,r)}}function nre(e){if(Array.isArray(e))return TN(e)}function sre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function are(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zS(e){return nre(e)||sre(e)||aR(e)||are()}var ire=!1;function ore(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function lre(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var cre=function(){function e(r){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!ire:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lre(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=ore(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Za="-ms-",$w="-moz-",fn="-webkit-",oR="comm",WS="rule",GS="decl",dre="@import",lR="@keyframes",ure="@layer",Are=Math.abs,mv=String.fromCharCode,hre=Object.assign;function fre(e,t){return La(e,0)^45?(((t<<2^La(e,0))<<2^La(e,1))<<2^La(e,2))<<2^La(e,3):0}function cR(e){return e.trim()}function mre(e,t){return(e=t.exec(e))?e[0]:e}function mn(e,t,r){return e.replace(t,r)}function PN(e,t){return e.indexOf(t)}function La(e,t){return e.charCodeAt(t)|0}function kg(e,t,r){return e.slice(t,r)}function gc(e){return e.length}function $S(e){return e.length}function Bx(e,t){return t.push(e),e}function pre(e,t){return e.map(t).join("")}var pv=1,rm=1,dR=0,ro=0,Gs=0,vm="";function gv(e,t,r,n,s,i,o){return{value:e,root:t,parent:r,type:n,props:s,children:i,line:pv,column:rm,length:o,return:""}}function qm(e,t){return hre(gv("",null,null,"",null,null,0),e,{length:-e.length},t)}function gre(){return Gs}function xre(){return Gs=ro>0?La(vm,--ro):0,rm--,Gs===10&&(rm=1,pv--),Gs}function Io(){return Gs=ro<dR?La(vm,ro++):0,rm++,Gs===10&&(rm=1,pv++),Gs}function Ec(){return La(vm,ro)}function Ry(){return ro}function g1(e,t){return kg(vm,e,t)}function _g(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uR(e){return pv=rm=1,dR=gc(vm=e),ro=0,[]}function AR(e){return vm="",e}function My(e){return cR(g1(ro-1,DN(e===91?e+2:e===40?e+1:e)))}function yre(e){for(;(Gs=Ec())&&Gs<33;)Io();return _g(e)>2||_g(Gs)>3?"":" "}function wre(e,t){for(;--t&&Io()&&!(Gs<48||Gs>102||Gs>57&&Gs<65||Gs>70&&Gs<97););return g1(e,Ry()+(t<6&&Ec()==32&&Io()==32))}function DN(e){for(;Io();)switch(Gs){case e:return ro;case 34:case 39:e!==34&&e!==39&&DN(Gs);break;case 40:e===41&&DN(e);break;case 92:Io();break}return ro}function vre(e,t){for(;Io()&&e+Gs!==57;)if(e+Gs===84&&Ec()===47)break;return"/*"+g1(t,ro-1)+"*"+mv(e===47?e:Io())}function bre(e){for(;!_g(Ec());)Io();return g1(e,ro)}function Cre(e){return AR(Uy("",null,null,null,[""],e=uR(e),0,[0],e))}function Uy(e,t,r,n,s,i,o,l,d){for(var u=0,h=0,m=o,y=0,p=0,b=0,N=1,S=1,w=1,B=0,I="",_=s,P=i,H=n,D=I;S;)switch(b=B,B=Io()){case 40:if(b!=108&&La(D,m-1)==58){PN(D+=mn(My(B),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:D+=My(B);break;case 9:case 10:case 13:case 32:D+=yre(b);break;case 92:D+=wre(Ry()-1,7);continue;case 47:switch(Ec()){case 42:case 47:Bx(Nre(vre(Io(),Ry()),t,r),d);break;default:D+="/"}break;case 123*N:l[u++]=gc(D)*w;case 125*N:case 59:case 0:switch(B){case 0:case 125:S=0;case 59+h:w==-1&&(D=mn(D,/\f/g,"")),p>0&&gc(D)-m&&Bx(p>32?CI(D+";",n,r,m-1):CI(mn(D," ","")+";",n,r,m-2),d);break;case 59:D+=";";default:if(Bx(H=bI(D,t,r,u,h,s,l,I,_=[],P=[],m),i),B===123)if(h===0)Uy(D,t,H,H,_,i,m,l,P);else switch(y===99&&La(D,3)===110?100:y){case 100:case 108:case 109:case 115:Uy(e,H,H,n&&Bx(bI(e,H,H,0,0,s,l,I,s,_=[],m),P),s,P,m,l,n?_:P);break;default:Uy(D,H,H,H,[""],P,0,l,P)}}u=h=p=0,N=w=1,I=D="",m=o;break;case 58:m=1+gc(D),p=b;default:if(N<1){if(B==123)--N;else if(B==125&&N++==0&&xre()==125)continue}switch(D+=mv(B),B*N){case 38:w=h>0?1:(D+="\f",-1);break;case 44:l[u++]=(gc(D)-1)*w,w=1;break;case 64:Ec()===45&&(D+=My(Io())),y=Ec(),h=m=gc(I=D+=bre(Ry())),B++;break;case 45:b===45&&gc(D)==2&&(N=0)}}return i}function bI(e,t,r,n,s,i,o,l,d,u,h){for(var m=s-1,y=s===0?i:[""],p=$S(y),b=0,N=0,S=0;b<n;++b)for(var w=0,B=kg(e,m+1,m=Are(N=o[b])),I=e;w<p;++w)(I=cR(N>0?y[w]+" "+B:mn(B,/&\f/g,y[w])))&&(d[S++]=I);return gv(e,t,r,s===0?WS:l,d,u,h)}function Nre(e,t,r){return gv(e,t,r,oR,mv(gre()),kg(e,2,-2),0)}function CI(e,t,r,n){return gv(e,t,r,GS,kg(e,0,n),kg(e,n+1,-1),n)}function v0(e,t){for(var r="",n=$S(e),s=0;s<n;s++)r+=t(e[s],s,e,t)||"";return r}function Bre(e,t,r,n){switch(e.type){case ure:if(e.children.length)break;case dre:case GS:return e.return=e.return||e.value;case oR:return"";case lR:return e.return=e.value+"{"+v0(e.children,n)+"}";case WS:e.value=e.props.join(",")}return gc(r=v0(e.children,n))?e.return=e.value+"{"+r+"}":""}function Sre(e){var t=$S(e);return function(r,n,s,i){for(var o="",l=0;l<t;l++)o+=e[l](r,n,s,i)||"";return o}}function Ere(e){return function(t){t.root||(t=t.return)&&e(t)}}function jre(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Ire=function(t,r,n){for(var s=0,i=0;s=i,i=Ec(),s===38&&i===12&&(r[n]=1),!_g(i);)Io();return g1(t,ro)},Fre=function(t,r){var n=-1,s=44;do switch(_g(s)){case 0:s===38&&Ec()===12&&(r[n]=1),t[n]+=Ire(ro-1,r,n);break;case 2:t[n]+=My(s);break;case 4:if(s===44){t[++n]=Ec()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=mv(s)}while(s=Io());return t},kre=function(t,r){return AR(Fre(uR(t),r))},NI=new WeakMap,_re=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,s=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!NI.get(n))&&!s){NI.set(t,!0);for(var i=[],o=kre(r,i),l=n.props,d=0,u=0;d<o.length;d++)for(var h=0;h<l.length;h++,u++)t.props[u]=i[d]?o[d].replace(/&\f/g,l[h]):l[h]+" "+o[d]}}},Tre=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function hR(e,t){switch(fre(e,t)){case 5103:return fn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return fn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return fn+e+$w+e+Za+e+e;case 6828:case 4268:return fn+e+Za+e+e;case 6165:return fn+e+Za+"flex-"+e+e;case 5187:return fn+e+mn(e,/(\w+).+(:[^]+)/,fn+"box-$1$2"+Za+"flex-$1$2")+e;case 5443:return fn+e+Za+"flex-item-"+mn(e,/flex-|-self/,"")+e;case 4675:return fn+e+Za+"flex-line-pack"+mn(e,/align-content|flex-|-self/,"")+e;case 5548:return fn+e+Za+mn(e,"shrink","negative")+e;case 5292:return fn+e+Za+mn(e,"basis","preferred-size")+e;case 6060:return fn+"box-"+mn(e,"-grow","")+fn+e+Za+mn(e,"grow","positive")+e;case 4554:return fn+mn(e,/([^-])(transform)/g,"$1"+fn+"$2")+e;case 6187:return mn(mn(mn(e,/(zoom-|grab)/,fn+"$1"),/(image-set)/,fn+"$1"),e,"")+e;case 5495:case 3959:return mn(e,/(image-set\([^]*)/,fn+"$1$`$1");case 4968:return mn(mn(e,/(.+:)(flex-)?(.*)/,fn+"box-pack:$3"+Za+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+fn+e+e;case 4095:case 3583:case 4068:case 2532:return mn(e,/(.+)-inline(.+)/,fn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gc(e)-1-t>6)switch(La(e,t+1)){case 109:if(La(e,t+4)!==45)break;case 102:return mn(e,/(.+:)(.+)-([^]+)/,"$1"+fn+"$2-$3$1"+$w+(La(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~PN(e,"stretch")?hR(mn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(La(e,t+1)!==115)break;case 6444:switch(La(e,gc(e)-3-(~PN(e,"!important")&&10))){case 107:return mn(e,":",":"+fn)+e;case 101:return mn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+fn+(La(e,14)===45?"inline-":"")+"box$3$1"+fn+"$2$3$1"+Za+"$2box$3")+e}break;case 5936:switch(La(e,t+11)){case 114:return fn+e+Za+mn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return fn+e+Za+mn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return fn+e+Za+mn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return fn+e+Za+e+e}return e}var Lre=function(t,r,n,s){if(t.length>-1&&!t.return)switch(t.type){case GS:t.return=hR(t.value,t.length);break;case lR:return v0([qm(t,{value:mn(t.value,"@","@"+fn)})],s);case WS:if(t.length)return pre(t.props,function(i){switch(mre(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return v0([qm(t,{props:[mn(i,/:(read-\w+)/,":"+$w+"$1")]})],s);case"::placeholder":return v0([qm(t,{props:[mn(i,/:(plac\w+)/,":"+fn+"input-$1")]}),qm(t,{props:[mn(i,/:(plac\w+)/,":"+$w+"$1")]}),qm(t,{props:[mn(i,/:(plac\w+)/,Za+"input-$1")]})],s)}return""})}},Pre=[Lre],Dre=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(N){var S=N.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(N),N.setAttribute("data-s",""))})}var s=t.stylisPlugins||Pre,i={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(N){for(var S=N.getAttribute("data-emotion").split(" "),w=1;w<S.length;w++)i[S[w]]=!0;l.push(N)});var d,u=[_re,Tre];{var h,m=[Bre,Ere(function(N){h.insert(N)})],y=Sre(u.concat(s,m)),p=function(S){return v0(Cre(S),y)};d=function(S,w,B,I){h=B,p(S?S+"{"+w.styles+"}":w.styles),I&&(b.inserted[w.name]=!0)}}var b={key:r,sheet:new cre({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:d};return b.sheet.hydrate(l),b},fR={exports:{}},jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=typeof Symbol=="function"&&Symbol.for,qS=wa?Symbol.for("react.element"):60103,XS=wa?Symbol.for("react.portal"):60106,xv=wa?Symbol.for("react.fragment"):60107,yv=wa?Symbol.for("react.strict_mode"):60108,wv=wa?Symbol.for("react.profiler"):60114,vv=wa?Symbol.for("react.provider"):60109,bv=wa?Symbol.for("react.context"):60110,YS=wa?Symbol.for("react.async_mode"):60111,Cv=wa?Symbol.for("react.concurrent_mode"):60111,Nv=wa?Symbol.for("react.forward_ref"):60112,Bv=wa?Symbol.for("react.suspense"):60113,Ore=wa?Symbol.for("react.suspense_list"):60120,Sv=wa?Symbol.for("react.memo"):60115,Ev=wa?Symbol.for("react.lazy"):60116,Rre=wa?Symbol.for("react.block"):60121,Mre=wa?Symbol.for("react.fundamental"):60117,Ure=wa?Symbol.for("react.responder"):60118,Qre=wa?Symbol.for("react.scope"):60119;function Ro(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qS:switch(e=e.type,e){case YS:case Cv:case xv:case wv:case yv:case Bv:return e;default:switch(e=e&&e.$$typeof,e){case bv:case Nv:case Ev:case Sv:case vv:return e;default:return t}}case XS:return t}}}function mR(e){return Ro(e)===Cv}jn.AsyncMode=YS;jn.ConcurrentMode=Cv;jn.ContextConsumer=bv;jn.ContextProvider=vv;jn.Element=qS;jn.ForwardRef=Nv;jn.Fragment=xv;jn.Lazy=Ev;jn.Memo=Sv;jn.Portal=XS;jn.Profiler=wv;jn.StrictMode=yv;jn.Suspense=Bv;jn.isAsyncMode=function(e){return mR(e)||Ro(e)===YS};jn.isConcurrentMode=mR;jn.isContextConsumer=function(e){return Ro(e)===bv};jn.isContextProvider=function(e){return Ro(e)===vv};jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qS};jn.isForwardRef=function(e){return Ro(e)===Nv};jn.isFragment=function(e){return Ro(e)===xv};jn.isLazy=function(e){return Ro(e)===Ev};jn.isMemo=function(e){return Ro(e)===Sv};jn.isPortal=function(e){return Ro(e)===XS};jn.isProfiler=function(e){return Ro(e)===wv};jn.isStrictMode=function(e){return Ro(e)===yv};jn.isSuspense=function(e){return Ro(e)===Bv};jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xv||e===Cv||e===wv||e===yv||e===Bv||e===Ore||typeof e=="object"&&e!==null&&(e.$$typeof===Ev||e.$$typeof===Sv||e.$$typeof===vv||e.$$typeof===bv||e.$$typeof===Nv||e.$$typeof===Mre||e.$$typeof===Ure||e.$$typeof===Qre||e.$$typeof===Rre)};jn.typeOf=Ro;fR.exports=jn;var Hre=fR.exports,pR=Hre,Vre={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Kre={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gR={};gR[pR.ForwardRef]=Vre;gR[pR.Memo]=Kre;var zre=!0;function Wre(e,t,r){var n="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(n+=s+" ")}),n}var xR=function(t,r,n){var s=t.key+"-"+r.name;(n===!1||zre===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},Gre=function(t,r,n){xR(t,r,n);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function $re(e){for(var t=0,r,n=0,s=e.length;s>=4;++n,s-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var qre={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Xre=!1,Yre=/[A-Z]|^ms/g,Zre=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yR=function(t){return t.charCodeAt(1)===45},BI=function(t){return t!=null&&typeof t!="boolean"},d5=jre(function(e){return yR(e)?e:e.replace(Yre,"-$&").toLowerCase()}),SI=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Zre,function(n,s,i){return xc={name:s,styles:i,next:xc},s})}return qre[t]!==1&&!yR(t)&&typeof r=="number"&&r!==0?r+"px":r},Jre="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Tg(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return xc={name:s.name,styles:s.styles,next:xc},s.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)xc={name:o.name,styles:o.styles,next:xc},o=o.next;var l=i.styles+";";return l}return ene(e,t,r)}case"function":{if(e!==void 0){var d=xc,u=r(e);return xc=d,Tg(e,t,u)}break}}var h=r;return h}function ene(e,t,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=Tg(e,t,r[s])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;BI(l)&&(n+=d5(i)+":"+SI(i,l)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&Xre)throw new Error(Jre);if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var d=0;d<o.length;d++)BI(o[d])&&(n+=d5(i)+":"+SI(i,o[d])+";");else{var u=Tg(e,t,o);switch(i){case"animation":case"animationName":{n+=d5(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}}return n}var EI=/label:\s*([^\s;{]+)\s*(;|$)/g,xc;function wR(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,s="";xc=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,s+=Tg(r,t,i);else{var o=i;s+=o[0]}for(var l=1;l<e.length;l++)if(s+=Tg(r,t,e[l]),n){var d=i;s+=d[l]}EI.lastIndex=0;for(var u="",h;(h=EI.exec(s))!==null;)u+="-"+h[1];var m=$re(s)+u;return{name:m,styles:s,next:xc}}var tne=function(t){return t()},rne=V0.useInsertionEffect?V0.useInsertionEffect:!1,nne=rne||tne,sne=!1,vR=C.createContext(typeof HTMLElement<"u"?Dre({key:"css"}):null);vR.Provider;var ane=function(t){return C.forwardRef(function(r,n){var s=C.useContext(vR);return t(r,s,n)})},ine=C.createContext({}),ZS={}.hasOwnProperty,ON="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",one=function(t,r){var n={};for(var s in r)ZS.call(r,s)&&(n[s]=r[s]);return n[ON]=t,n},lne=function(t){var r=t.cache,n=t.serialized,s=t.isStringTag;return xR(r,n,s),nne(function(){return Gre(r,n,s)}),null},cne=ane(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var s=e[ON],i=[n],o="";typeof e.className=="string"?o=Wre(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var l=wR(i,void 0,C.useContext(ine));o+=t.key+"-"+l.name;var d={};for(var u in e)ZS.call(e,u)&&u!=="css"&&u!==ON&&!sne&&(d[u]=e[u]);return d.className=o,r&&(d.ref=r),C.createElement(C.Fragment,null,C.createElement(lne,{cache:t,serialized:l,isStringTag:typeof s=="string"}),C.createElement(s,d))}),dne=cne,or=function(t,r){var n=arguments;if(r==null||!ZS.call(r,"css"))return C.createElement.apply(void 0,n);var s=n.length,i=new Array(s);i[0]=dne,i[1]=one(t,r);for(var o=2;o<s;o++)i[o]=n[o];return C.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(or||(or={}));function JS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return wR(t)}function une(){var e=JS.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Ane(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var RN=C.useLayoutEffect,hne=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],qw=function(){};function fne(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function mne(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var i=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&i.push("".concat(fne(e,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var jI=function(t){return Nne(t)?t.filter(Boolean):sn(t)==="object"&&t!==null?[t]:[]},bR=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=Yd(t,hne);return ur({},r)},_s=function(t,r,n){var s=t.cx,i=t.getStyles,o=t.getClassNames,l=t.className;return{css:i(r,t),className:s(n??{},o(r,t),l)}};function jv(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function pne(e){return jv(e)?window.innerHeight:e.clientHeight}function CR(e){return jv(e)?window.pageYOffset:e.scrollTop}function Xw(e,t){if(jv(e)){window.scrollTo(0,t);return}e.scrollTop=t}function gne(e){var t=getComputedStyle(e),r=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),!(r&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function xne(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function Sx(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qw,s=CR(e),i=t-s,o=10,l=0;function d(){l+=o;var u=xne(l,s,i,r);Xw(e,u),l<r?window.requestAnimationFrame(d):n(e)}d()}function II(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=t.offsetHeight/3;n.bottom+s>r.bottom?Xw(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):n.top-s<r.top&&Xw(e,Math.max(t.offsetTop-s,0))}function yne(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function FI(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function wne(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var NR=!1,vne={get passive(){return NR=!0}},Ex=typeof window<"u"?window:{};Ex.addEventListener&&Ex.removeEventListener&&(Ex.addEventListener("p",qw,vne),Ex.removeEventListener("p",qw,!1));var bne=NR;function Cne(e){return e!=null}function Nne(e){return Array.isArray(e)}function jx(e,t,r){return e?t:r}var Bne=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var i=Object.entries(t).filter(function(o){var l=Ql(o,1),d=l[0];return!n.includes(d)});return i.reduce(function(o,l){var d=Ql(l,2),u=d[0],h=d[1];return o[u]=h,o},{})},Sne=["children","innerProps"],Ene=["children","innerProps"];function jne(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,s=e.placement,i=e.shouldScroll,o=e.isFixedPosition,l=e.controlHeight,d=gne(r),u={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return u;var h=d.getBoundingClientRect(),m=h.height,y=r.getBoundingClientRect(),p=y.bottom,b=y.height,N=y.top,S=r.offsetParent.getBoundingClientRect(),w=S.top,B=o?window.innerHeight:pne(d),I=CR(d),_=parseInt(getComputedStyle(r).marginBottom,10),P=parseInt(getComputedStyle(r).marginTop,10),H=w-P,D=B-N,L=H+I,T=m-I-N,z=p-B+I+_,M=I+N-P,V=160;switch(s){case"auto":case"bottom":if(D>=b)return{placement:"bottom",maxHeight:t};if(T>=b&&!o)return i&&Sx(d,z,V),{placement:"bottom",maxHeight:t};if(!o&&T>=n||o&&D>=n){i&&Sx(d,z,V);var J=o?D-_:T-_;return{placement:"bottom",maxHeight:J}}if(s==="auto"||o){var Z=t,ee=o?H:L;return ee>=n&&(Z=Math.min(ee-_-l,t)),{placement:"top",maxHeight:Z}}if(s==="bottom")return i&&Xw(d,z),{placement:"bottom",maxHeight:t};break;case"top":if(H>=b)return{placement:"top",maxHeight:t};if(L>=b&&!o)return i&&Sx(d,M,V),{placement:"top",maxHeight:t};if(!o&&L>=n||o&&H>=n){var q=t;return(!o&&L>=n||o&&H>=n)&&(q=o?H-P:L-P),i&&Sx(d,M,V),{placement:"top",maxHeight:q}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function Ine(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var BR=function(t){return t==="auto"?"bottom":t},Fne=function(t,r){var n,s=t.placement,i=t.theme,o=i.borderRadius,l=i.spacing,d=i.colors;return ur((n={label:"menu"},hp(n,Ine(s),"100%"),hp(n,"position","absolute"),hp(n,"width","100%"),hp(n,"zIndex",1),n),r?{}:{backgroundColor:d.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},SR=C.createContext(null),kne=function(t){var r=t.children,n=t.minMenuHeight,s=t.maxMenuHeight,i=t.menuPlacement,o=t.menuPosition,l=t.menuShouldScrollIntoView,d=t.theme,u=C.useContext(SR)||{},h=u.setPortalPlacement,m=C.useRef(null),y=C.useState(s),p=Ql(y,2),b=p[0],N=p[1],S=C.useState(null),w=Ql(S,2),B=w[0],I=w[1],_=d.spacing.controlHeight;return RN(function(){var P=m.current;if(P){var H=o==="fixed",D=l&&!H,L=jne({maxHeight:s,menuEl:P,minHeight:n,placement:i,shouldScroll:D,isFixedPosition:H,controlHeight:_});N(L.maxHeight),I(L.placement),h==null||h(L.placement)}},[s,i,o,l,n,h,_]),r({ref:m,placerProps:ur(ur({},t),{},{placement:B||BR(i),maxHeight:b})})},_ne=function(t){var r=t.children,n=t.innerRef,s=t.innerProps;return or("div",mr({},_s(t,"menu",{menu:!0}),{ref:n},s),r)},Tne=_ne,Lne=function(t,r){var n=t.maxHeight,s=t.theme.spacing.baseUnit;return ur({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},Pne=function(t){var r=t.children,n=t.innerProps,s=t.innerRef,i=t.isMulti;return or("div",mr({},_s(t,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},n),r)},ER=function(t,r){var n=t.theme,s=n.spacing.baseUnit,i=n.colors;return ur({textAlign:"center"},r?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},Dne=ER,One=ER,Rne=function(t){var r=t.children,n=r===void 0?"No options":r,s=t.innerProps,i=Yd(t,Sne);return or("div",mr({},_s(ur(ur({},i),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},Mne=function(t){var r=t.children,n=r===void 0?"Loading...":r,s=t.innerProps,i=Yd(t,Ene);return or("div",mr({},_s(ur(ur({},i),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},Une=function(t){var r=t.rect,n=t.offset,s=t.position;return{left:r.left,position:s,top:n,width:r.width,zIndex:1}},Qne=function(t){var r=t.appendTo,n=t.children,s=t.controlElement,i=t.innerProps,o=t.menuPlacement,l=t.menuPosition,d=C.useRef(null),u=C.useRef(null),h=C.useState(BR(o)),m=Ql(h,2),y=m[0],p=m[1],b=C.useMemo(function(){return{setPortalPlacement:p}},[]),N=C.useState(null),S=Ql(N,2),w=S[0],B=S[1],I=C.useCallback(function(){if(s){var D=yne(s),L=l==="fixed"?0:window.pageYOffset,T=D[y]+L;(T!==(w==null?void 0:w.offset)||D.left!==(w==null?void 0:w.rect.left)||D.width!==(w==null?void 0:w.rect.width))&&B({offset:T,rect:D})}},[s,l,y,w==null?void 0:w.offset,w==null?void 0:w.rect.left,w==null?void 0:w.rect.width]);RN(function(){I()},[I]);var _=C.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&d.current&&(u.current=MD(s,d.current,I,{elementResize:"ResizeObserver"in window}))},[s,I]);RN(function(){_()},[_]);var P=C.useCallback(function(D){d.current=D,_()},[_]);if(!r&&l!=="fixed"||!w)return null;var H=or("div",mr({ref:P},_s(ur(ur({},t),{},{offset:w.offset,position:l,rect:w.rect}),"menuPortal",{"menu-portal":!0}),i),n);return or(SR.Provider,{value:b},r?MA.createPortal(H,r):H)},Hne=function(t){var r=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Vne=function(t){var r=t.children,n=t.innerProps,s=t.isDisabled,i=t.isRtl;return or("div",mr({},_s(t,"container",{"--is-disabled":s,"--is-rtl":i}),n),r)},Kne=function(t,r){var n=t.theme.spacing,s=t.isMulti,i=t.hasValue,o=t.selectProps.controlShouldRenderValue;return ur({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},zne=function(t){var r=t.children,n=t.innerProps,s=t.isMulti,i=t.hasValue;return or("div",mr({},_s(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),n),r)},Wne=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Gne=function(t){var r=t.children,n=t.innerProps;return or("div",mr({},_s(t,"indicatorsContainer",{indicators:!0}),n),r)},kI,$ne=["size"],qne=["innerProps","isRtl","size"],Xne={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},jR=function(t){var r=t.size,n=Yd(t,$ne);return or("svg",mr({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Xne},n))},eE=function(t){return or(jR,mr({size:20},t),or("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},IR=function(t){return or(jR,mr({size:20},t),or("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},FR=function(t,r){var n=t.isFocused,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return ur({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:i*2,":hover":{color:n?o.neutral80:o.neutral40}})},Yne=FR,Zne=function(t){var r=t.children,n=t.innerProps;return or("div",mr({},_s(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||or(IR,null))},Jne=FR,ese=function(t){var r=t.children,n=t.innerProps;return or("div",mr({},_s(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||or(eE,null))},tse=function(t,r){var n=t.isDisabled,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return ur({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},rse=function(t){var r=t.innerProps;return or("span",mr({},r,_s(t,"indicatorSeparator",{"indicator-separator":!0})))},nse=une(kI||(kI=Ane([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),sse=function(t,r){var n=t.isFocused,s=t.size,i=t.theme,o=i.colors,l=i.spacing.baseUnit;return ur({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},u5=function(t){var r=t.delay,n=t.offset;return or("span",{css:JS({animation:"".concat(nse," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ase=function(t){var r=t.innerProps,n=t.isRtl,s=t.size,i=s===void 0?4:s,o=Yd(t,qne);return or("div",mr({},_s(ur(ur({},o),{},{innerProps:r,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),or(u5,{delay:0,offset:n}),or(u5,{delay:160,offset:!0}),or(u5,{delay:320,offset:!n}))},ise=function(t,r){var n=t.isDisabled,s=t.isFocused,i=t.theme,o=i.colors,l=i.borderRadius,d=i.spacing;return ur({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},ose=function(t){var r=t.children,n=t.isDisabled,s=t.isFocused,i=t.innerRef,o=t.innerProps,l=t.menuIsOpen;return or("div",mr({ref:i},_s(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},lse=ose,cse=["data"],dse=function(t,r){var n=t.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},use=function(t){var r=t.children,n=t.cx,s=t.getStyles,i=t.getClassNames,o=t.Heading,l=t.headingProps,d=t.innerProps,u=t.label,h=t.theme,m=t.selectProps;return or("div",mr({},_s(t,"group",{group:!0}),d),or(o,mr({},l,{selectProps:m,theme:h,getStyles:s,getClassNames:i,cx:n}),u),or("div",null,r))},Ase=function(t,r){var n=t.theme,s=n.colors,i=n.spacing;return ur({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},hse=function(t){var r=bR(t);r.data;var n=Yd(r,cse);return or("div",mr({},_s(t,"groupHeading",{"group-heading":!0}),n))},fse=use,mse=["innerRef","isDisabled","isHidden","inputClassName"],pse=function(t,r){var n=t.isDisabled,s=t.value,i=t.theme,o=i.spacing,l=i.colors;return ur(ur({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},gse),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},kR={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},gse={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ur({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},kR)},xse=function(t){return ur({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},kR)},yse=function(t){var r=t.cx,n=t.value,s=bR(t),i=s.innerRef,o=s.isDisabled,l=s.isHidden,d=s.inputClassName,u=Yd(s,mse);return or("div",mr({},_s(t,"input",{"input-container":!0}),{"data-value":n||""}),or("input",mr({className:r({input:!0},d),ref:i,style:xse(l),disabled:o},u)))},wse=yse,vse=function(t,r){var n=t.theme,s=n.spacing,i=n.borderRadius,o=n.colors;return ur({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},bse=function(t,r){var n=t.theme,s=n.borderRadius,i=n.colors,o=t.cropWithEllipsis;return ur({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Cse=function(t,r){var n=t.theme,s=n.spacing,i=n.borderRadius,o=n.colors,l=t.isFocused;return ur({alignItems:"center",display:"flex"},r?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},_R=function(t){var r=t.children,n=t.innerProps;return or("div",n,r)},Nse=_R,Bse=_R;function Sse(e){var t=e.children,r=e.innerProps;return or("div",mr({role:"button"},r),t||or(eE,{size:14}))}var Ese=function(t){var r=t.children,n=t.components,s=t.data,i=t.innerProps,o=t.isDisabled,l=t.removeProps,d=t.selectProps,u=n.Container,h=n.Label,m=n.Remove;return or(u,{data:s,innerProps:ur(ur({},_s(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:d},or(h,{data:s,innerProps:ur({},_s(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},r),or(m,{data:s,innerProps:ur(ur({},_s(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:d}))},jse=Ese,Ise=function(t,r){var n=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.theme,l=o.spacing,d=o.colors;return ur({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:i?d.primary:s?d.primary25:"transparent",color:n?d.neutral20:i?d.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?d.primary:d.primary50}})},Fse=function(t){var r=t.children,n=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.innerRef,l=t.innerProps;return or("div",mr({},_s(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":n},l),r)},kse=Fse,_se=function(t,r){var n=t.theme,s=n.spacing,i=n.colors;return ur({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Tse=function(t){var r=t.children,n=t.innerProps;return or("div",mr({},_s(t,"placeholder",{placeholder:!0}),n),r)},Lse=Tse,Pse=function(t,r){var n=t.isDisabled,s=t.theme,i=s.spacing,o=s.colors;return ur({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Dse=function(t){var r=t.children,n=t.isDisabled,s=t.innerProps;return or("div",mr({},_s(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),r)},Ose=Dse,Rse={ClearIndicator:ese,Control:lse,DropdownIndicator:Zne,DownChevron:IR,CrossIcon:eE,Group:fse,GroupHeading:hse,IndicatorsContainer:Gne,IndicatorSeparator:rse,Input:wse,LoadingIndicator:ase,Menu:Tne,MenuList:Pne,MenuPortal:Qne,LoadingMessage:Mne,NoOptionsMessage:Rne,MultiValue:jse,MultiValueContainer:Nse,MultiValueLabel:Bse,MultiValueRemove:Sse,Option:kse,Placeholder:Lse,SelectContainer:Vne,SingleValue:Ose,ValueContainer:zne},Mse=function(t){return ur(ur({},Rse),t.components)},_I=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Use(e,t){return!!(e===t||_I(e)&&_I(t))}function Qse(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Use(e[r],t[r]))return!1;return!0}function Hse(e,t){t===void 0&&(t=Qse);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var Vse={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Kse=function(t){return or("span",mr({css:Vse},t))},TI=Kse,zse={guidance:function(t){var r=t.isSearchable,n=t.isMulti,s=t.tabSelectsValue,i=t.context,o=t.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,n=t.label,s=n===void 0?"":n,i=t.labels,o=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var r=t.context,n=t.focused,s=t.options,i=t.label,o=i===void 0?"":i,l=t.selectValue,d=t.isDisabled,u=t.isSelected,h=t.isAppleDevice,m=function(N,S){return N&&N.length?"".concat(N.indexOf(S)+1," of ").concat(N.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(m(l,n),".");if(r==="menu"&&h){var y=d?" disabled":"",p="".concat(u?" selected":"").concat(y);return"".concat(o).concat(p,", ").concat(m(s,n),".")}return""},onFilter:function(t){var r=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Wse=function(t){var r=t.ariaSelection,n=t.focusedOption,s=t.focusedValue,i=t.focusableOptions,o=t.isFocused,l=t.selectValue,d=t.selectProps,u=t.id,h=t.isAppleDevice,m=d.ariaLiveMessages,y=d.getOptionLabel,p=d.inputValue,b=d.isMulti,N=d.isOptionDisabled,S=d.isSearchable,w=d.menuIsOpen,B=d.options,I=d.screenReaderStatus,_=d.tabSelectsValue,P=d.isLoading,H=d["aria-label"],D=d["aria-live"],L=C.useMemo(function(){return ur(ur({},zse),m||{})},[m]),T=C.useMemo(function(){var ee="";if(r&&L.onChange){var q=r.option,X=r.options,Y=r.removedValue,K=r.removedValues,ce=r.value,oe=function(ue){return Array.isArray(ue)?null:ue},Q=Y||q||oe(ce),G=Q?y(Q):"",te=X||K||void 0,se=te?te.map(y):[],de=ur({isDisabled:Q&&N(Q,l),label:G,labels:se},r);ee=L.onChange(de)}return ee},[r,L,N,l,y]),z=C.useMemo(function(){var ee="",q=n||s,X=!!(n&&l&&l.includes(n));if(q&&L.onFocus){var Y={focused:q,label:y(q),isDisabled:N(q,l),isSelected:X,options:i,context:q===n?"menu":"value",selectValue:l,isAppleDevice:h};ee=L.onFocus(Y)}return ee},[n,s,y,N,L,i,l,h]),M=C.useMemo(function(){var ee="";if(w&&B.length&&!P&&L.onFilter){var q=I({count:i.length});ee=L.onFilter({inputValue:p,resultsMessage:q})}return ee},[i,p,w,L,B,I,P]),V=(r==null?void 0:r.action)==="initial-input-focus",J=C.useMemo(function(){var ee="";if(L.guidance){var q=s?"value":w?"menu":"input";ee=L.guidance({"aria-label":H,context:q,isDisabled:n&&N(n,l),isMulti:b,isSearchable:S,tabSelectsValue:_,isInitialFocus:V})}return ee},[H,n,s,b,N,S,w,L,l,_,V]),Z=or(C.Fragment,null,or("span",{id:"aria-selection"},T),or("span",{id:"aria-focused"},z),or("span",{id:"aria-results"},M),or("span",{id:"aria-guidance"},J));return or(C.Fragment,null,or(TI,{id:u},V&&Z),or(TI,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!V&&Z))},Gse=Wse,MN=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],$se=new RegExp("["+MN.map(function(e){return e.letters}).join("")+"]","g"),TR={};for(var A5=0;A5<MN.length;A5++)for(var h5=MN[A5],f5=0;f5<h5.letters.length;f5++)TR[h5.letters[f5]]=h5.base;var LR=function(t){return t.replace($se,function(r){return TR[r]})},qse=Hse(LR),LI=function(t){return t.replace(/^\s+|\s+$/g,"")},Xse=function(t){return"".concat(t.label," ").concat(t.value)},Yse=function(t){return function(r,n){if(r.data.__isNew__)return!0;var s=ur({ignoreCase:!0,ignoreAccents:!0,stringify:Xse,trim:!0,matchFrom:"any"},t),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,d=s.trim,u=s.matchFrom,h=d?LI(n):n,m=d?LI(l(r)):l(r);return i&&(h=h.toLowerCase(),m=m.toLowerCase()),o&&(h=qse(h),m=LR(m)),u==="start"?m.substr(0,h.length)===h:m.indexOf(h)>-1}},Zse=["innerRef"];function Jse(e){var t=e.innerRef,r=Yd(e,Zse),n=Bne(r,"onExited","in","enter","exit","appear");return or("input",mr({ref:t},n,{css:JS({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var eae=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function tae(e){var t=e.isEnabled,r=e.onBottomArrive,n=e.onBottomLeave,s=e.onTopArrive,i=e.onTopLeave,o=C.useRef(!1),l=C.useRef(!1),d=C.useRef(0),u=C.useRef(null),h=C.useCallback(function(S,w){if(u.current!==null){var B=u.current,I=B.scrollTop,_=B.scrollHeight,P=B.clientHeight,H=u.current,D=w>0,L=_-P-I,T=!1;L>w&&o.current&&(n&&n(S),o.current=!1),D&&l.current&&(i&&i(S),l.current=!1),D&&w>L?(r&&!o.current&&r(S),H.scrollTop=_,T=!0,o.current=!0):!D&&-w>I&&(s&&!l.current&&s(S),H.scrollTop=0,T=!0,l.current=!0),T&&eae(S)}},[r,n,s,i]),m=C.useCallback(function(S){h(S,S.deltaY)},[h]),y=C.useCallback(function(S){d.current=S.changedTouches[0].clientY},[]),p=C.useCallback(function(S){var w=d.current-S.changedTouches[0].clientY;h(S,w)},[h]),b=C.useCallback(function(S){if(S){var w=bne?{passive:!1}:!1;S.addEventListener("wheel",m,w),S.addEventListener("touchstart",y,w),S.addEventListener("touchmove",p,w)}},[p,y,m]),N=C.useCallback(function(S){S&&(S.removeEventListener("wheel",m,!1),S.removeEventListener("touchstart",y,!1),S.removeEventListener("touchmove",p,!1))},[p,y,m]);return C.useEffect(function(){if(t){var S=u.current;return b(S),function(){N(S)}}},[t,b,N]),function(S){u.current=S}}var PI=["boxSizing","height","overflow","paddingRight","position"],DI={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function OI(e){e.cancelable&&e.preventDefault()}function RI(e){e.stopPropagation()}function MI(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function UI(){return"ontouchstart"in window||navigator.maxTouchPoints}var QI=!!(typeof window<"u"&&window.document&&window.document.createElement),Xm=0,Cf={capture:!1,passive:!1};function rae(e){var t=e.isEnabled,r=e.accountForScrollbars,n=r===void 0?!0:r,s=C.useRef({}),i=C.useRef(null),o=C.useCallback(function(d){if(QI){var u=document.body,h=u&&u.style;if(n&&PI.forEach(function(b){var N=h&&h[b];s.current[b]=N}),n&&Xm<1){var m=parseInt(s.current.paddingRight,10)||0,y=document.body?document.body.clientWidth:0,p=window.innerWidth-y+m||0;Object.keys(DI).forEach(function(b){var N=DI[b];h&&(h[b]=N)}),h&&(h.paddingRight="".concat(p,"px"))}u&&UI()&&(u.addEventListener("touchmove",OI,Cf),d&&(d.addEventListener("touchstart",MI,Cf),d.addEventListener("touchmove",RI,Cf))),Xm+=1}},[n]),l=C.useCallback(function(d){if(QI){var u=document.body,h=u&&u.style;Xm=Math.max(Xm-1,0),n&&Xm<1&&PI.forEach(function(m){var y=s.current[m];h&&(h[m]=y)}),u&&UI()&&(u.removeEventListener("touchmove",OI,Cf),d&&(d.removeEventListener("touchstart",MI,Cf),d.removeEventListener("touchmove",RI,Cf)))}},[n]);return C.useEffect(function(){if(t){var d=i.current;return o(d),function(){l(d)}}},[t,o,l]),function(d){i.current=d}}var nae=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},sae={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function aae(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,s=n===void 0?!0:n,i=e.onBottomArrive,o=e.onBottomLeave,l=e.onTopArrive,d=e.onTopLeave,u=tae({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:d}),h=rae({isEnabled:r}),m=function(p){u(p),h(p)};return or(C.Fragment,null,r&&or("div",{onClick:nae,css:sae}),t(m))}var iae={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},oae=function(t){var r=t.name,n=t.onFocus;return or("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:iae,value:"",onChange:function(){}})},lae=oae;function tE(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function cae(){return tE(/^iPhone/i)}function PR(){return tE(/^Mac/i)}function dae(){return tE(/^iPad/i)||PR()&&navigator.maxTouchPoints>1}function uae(){return cae()||dae()}function Aae(){return PR()||uae()}var hae=function(t){return t.label},fae=function(t){return t.label},mae=function(t){return t.value},pae=function(t){return!!t.isDisabled},gae={clearIndicator:Jne,container:Hne,control:ise,dropdownIndicator:Yne,group:dse,groupHeading:Ase,indicatorsContainer:Wne,indicatorSeparator:tse,input:pse,loadingIndicator:sse,loadingMessage:One,menu:Fne,menuList:Lne,menuPortal:Une,multiValue:vse,multiValueLabel:bse,multiValueRemove:Cse,noOptionsMessage:Dne,option:Ise,placeholder:_se,singleValue:Pse,valueContainer:Kne},xae={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},yae=4,DR=4,wae=38,vae=DR*2,bae={baseUnit:DR,controlHeight:wae,menuGutter:vae},m5={borderRadius:yae,colors:xae,spacing:bae},Cae={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:FI(),captureMenuScroll:!FI(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Yse(),formatGroupLabel:hae,getOptionLabel:fae,getOptionValue:mae,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:pae,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!wne(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function HI(e,t,r,n){var s=MR(e,t,r),i=UR(e,t,r),o=RR(e,t),l=Yw(e,t);return{type:"option",data:t,isDisabled:s,isSelected:i,label:o,value:l,index:n}}function Qy(e,t){return e.options.map(function(r,n){if("options"in r){var s=r.options.map(function(o,l){return HI(e,o,t,l)}).filter(function(o){return KI(e,o)});return s.length>0?{type:"group",data:r,options:s,index:n}:void 0}var i=HI(e,r,t,n);return KI(e,i)?i:void 0}).filter(Cne)}function OR(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,zS(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function VI(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,zS(n.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(n.index,"-").concat(s.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function Nae(e,t){return OR(Qy(e,t))}function KI(e,t){var r=e.inputValue,n=r===void 0?"":r,s=t.data,i=t.isSelected,o=t.label,l=t.value;return(!HR(e)||!i)&&QR(e,{label:o,value:l,data:s},n)}function Bae(e,t){var r=e.focusedValue,n=e.selectValue,s=n.indexOf(r);if(s>-1){var i=t.indexOf(r);if(i>-1)return r;if(s<t.length)return t[s]}return null}function Sae(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var p5=function(t,r){var n,s=(n=t.find(function(i){return i.data===r}))===null||n===void 0?void 0:n.id;return s||null},RR=function(t,r){return t.getOptionLabel(r)},Yw=function(t,r){return t.getOptionValue(r)};function MR(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function UR(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=Yw(e,t);return r.some(function(s){return Yw(e,s)===n})}function QR(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var HR=function(t){var r=t.hideSelectedOptions,n=t.isMulti;return r===void 0?n:r},Eae=1,VR=function(e){Jte(r,e);var t=rre(r);function r(n){var s;if(Yte(this,r),s=t.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=Aae(),s.controlRef=null,s.getControlRef=function(d){s.controlRef=d},s.focusedOptionRef=null,s.getFocusedOptionRef=function(d){s.focusedOptionRef=d},s.menuListRef=null,s.getMenuListRef=function(d){s.menuListRef=d},s.inputRef=null,s.getInputRef=function(d){s.inputRef=d},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(d,u){var h=s.props,m=h.onChange,y=h.name;u.name=y,s.ariaOnChange(d,u),m(d,u)},s.setValue=function(d,u,h){var m=s.props,y=m.closeMenuOnSelect,p=m.isMulti,b=m.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:b}),y&&(s.setState({inputIsHiddenAfterUpdate:!p}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(d,{action:u,option:h})},s.selectOption=function(d){var u=s.props,h=u.blurInputOnSelect,m=u.isMulti,y=u.name,p=s.state.selectValue,b=m&&s.isOptionSelected(d,p),N=s.isOptionDisabled(d,p);if(b){var S=s.getOptionValue(d);s.setValue(p.filter(function(w){return s.getOptionValue(w)!==S}),"deselect-option",d)}else if(!N)m?s.setValue([].concat(zS(p),[d]),"select-option",d):s.setValue(d,"select-option");else{s.ariaOnChange(d,{action:"select-option",option:d,name:y});return}h&&s.blurInput()},s.removeValue=function(d){var u=s.props.isMulti,h=s.state.selectValue,m=s.getOptionValue(d),y=h.filter(function(b){return s.getOptionValue(b)!==m}),p=jx(u,y,y[0]||null);s.onChange(p,{action:"remove-value",removedValue:d}),s.focusInput()},s.clearValue=function(){var d=s.state.selectValue;s.onChange(jx(s.props.isMulti,[],null),{action:"clear",removedValues:d})},s.popValue=function(){var d=s.props.isMulti,u=s.state.selectValue,h=u[u.length-1],m=u.slice(0,u.length-1),y=jx(d,m,m[0]||null);h&&s.onChange(y,{action:"pop-value",removedValue:h})},s.getFocusedOptionId=function(d){return p5(s.state.focusableOptionsWithIds,d)},s.getFocusableOptionsWithIds=function(){return VI(Qy(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];return mne.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(d){return RR(s.props,d)},s.getOptionValue=function(d){return Yw(s.props,d)},s.getStyles=function(d,u){var h=s.props.unstyled,m=gae[d](u,h);m.boxSizing="border-box";var y=s.props.styles[d];return y?y(m,u):m},s.getClassNames=function(d,u){var h,m;return(h=(m=s.props.classNames)[d])===null||h===void 0?void 0:h.call(m,u)},s.getElementId=function(d){return"".concat(s.state.instancePrefix,"-").concat(d)},s.getComponents=function(){return Mse(s.props)},s.buildCategorizedOptions=function(){return Qy(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return OR(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(d,u){s.setState({ariaSelection:ur({value:d},u)})},s.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(d){s.blockOptionHover=!1},s.onControlMouseDown=function(d){if(!d.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},s.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!s.props.isDisabled){var u=s.props,h=u.isMulti,m=u.menuIsOpen;s.focusInput(),m?(s.setState({inputIsHiddenAfterUpdate:!h}),s.onMenuClose()):s.openMenu("first"),d.preventDefault()}},s.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(s.clearValue(),d.preventDefault(),s.openAfterFocus=!1,d.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(d){typeof s.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&jv(d.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(d)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(d){var u=d.touches,h=u&&u.item(0);h&&(s.initialTouchX=h.clientX,s.initialTouchY=h.clientY,s.userIsDragging=!1)},s.onTouchMove=function(d){var u=d.touches,h=u&&u.item(0);if(h){var m=Math.abs(h.clientX-s.initialTouchX),y=Math.abs(h.clientY-s.initialTouchY),p=5;s.userIsDragging=m>p||y>p}},s.onTouchEnd=function(d){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(d.target)&&s.menuListRef&&!s.menuListRef.contains(d.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(d){s.userIsDragging||s.onControlMouseDown(d)},s.onClearIndicatorTouchEnd=function(d){s.userIsDragging||s.onClearIndicatorMouseDown(d)},s.onDropdownIndicatorTouchEnd=function(d){s.userIsDragging||s.onDropdownIndicatorMouseDown(d)},s.handleInputChange=function(d){var u=s.props.inputValue,h=d.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(h,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(d){s.props.onFocus&&s.props.onFocus(d),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(d){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(d),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(d){if(!(s.blockOptionHover||s.state.focusedOption===d)){var u=s.getFocusableOptions(),h=u.indexOf(d);s.setState({focusedOption:d,focusedOptionId:h>-1?s.getFocusedOptionId(d):null})}},s.shouldHideSelectedOptions=function(){return HR(s.props)},s.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),s.focus()},s.onKeyDown=function(d){var u=s.props,h=u.isMulti,m=u.backspaceRemovesValue,y=u.escapeClearsValue,p=u.inputValue,b=u.isClearable,N=u.isDisabled,S=u.menuIsOpen,w=u.onKeyDown,B=u.tabSelectsValue,I=u.openMenuOnFocus,_=s.state,P=_.focusedOption,H=_.focusedValue,D=_.selectValue;if(!N&&!(typeof w=="function"&&(w(d),d.defaultPrevented))){switch(s.blockOptionHover=!0,d.key){case"ArrowLeft":if(!h||p)return;s.focusValue("previous");break;case"ArrowRight":if(!h||p)return;s.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(H)s.removeValue(H);else{if(!m)return;h?s.popValue():b&&s.clearValue()}break;case"Tab":if(s.isComposing||d.shiftKey||!S||!B||!P||I&&s.isOptionSelected(P,D))return;s.selectOption(P);break;case"Enter":if(d.keyCode===229)break;if(S){if(!P||s.isComposing)return;s.selectOption(P);break}return;case"Escape":S?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:p}),s.onMenuClose()):b&&y&&s.clearValue();break;case" ":if(p)return;if(!S){s.openMenu("first");break}if(!P)return;s.selectOption(P);break;case"ArrowUp":S?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":S?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!S)return;s.focusOption("pageup");break;case"PageDown":if(!S)return;s.focusOption("pagedown");break;case"Home":if(!S)return;s.focusOption("first");break;case"End":if(!S)return;s.focusOption("last");break;default:return}d.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++Eae),s.state.selectValue=jI(n.value),n.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=p5(i,o[l])}return s}return Zte(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&II(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,d=this.state.isFocused;(d&&!o&&s.isDisabled||d&&l&&!s.menuIsOpen)&&this.focusInput(),d&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(II(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,d=o.isFocused,u=this.buildFocusableOptions(),h=s==="first"?0:u.length-1;if(!this.props.isMulti){var m=u.indexOf(l[0]);m>-1&&(h=m)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[h],focusedOptionId:this.getFocusedOptionId(u[h])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=o.indexOf(l);l||(d=-1);var u=o.length-1,h=-1;if(o.length){switch(s){case"previous":d===0?h=0:d===-1?h=u:h=d-1;break;case"next":d>-1&&d<u&&(h=d+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var d=0,u=l.indexOf(o);o||(u=-1),s==="up"?d=u>0?u-1:l.length-1:s==="down"?d=(u+1)%l.length:s==="pageup"?(d=u-i,d<0&&(d=0)):s==="pagedown"?(d=u+i,d>l.length-1&&(d=l.length-1)):s==="last"&&(d=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(m5):ur(ur({},m5),this.props.theme):m5}},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,d=this.getValue,u=this.selectOption,h=this.setValue,m=this.props,y=m.isMulti,p=m.isRtl,b=m.options,N=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:d,hasValue:N,isMulti:y,isRtl:p,options:b,selectOption:u,selectProps:m,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return MR(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return UR(this.props,s,i)}},{key:"filterOption",value:function(s,i){return QR(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,d=s.inputValue,u=s.tabIndex,h=s.form,m=s.menuIsOpen,y=s.required,p=this.getComponents(),b=p.Input,N=this.state,S=N.inputIsHidden,w=N.ariaSelection,B=this.commonProps,I=l||this.getElementId("input"),_=ur(ur(ur({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":y,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(w==null?void 0:w.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?C.createElement(b,mr({},B,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:I,innerRef:this.getInputRef,isDisabled:i,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:h,type:"text",value:d},_)):C.createElement(Jse,mr({id:I,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:qw,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:h,value:""},_))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,d=i.MultiValueLabel,u=i.MultiValueRemove,h=i.SingleValue,m=i.Placeholder,y=this.commonProps,p=this.props,b=p.controlShouldRenderValue,N=p.isDisabled,S=p.isMulti,w=p.inputValue,B=p.placeholder,I=this.state,_=I.selectValue,P=I.focusedValue,H=I.isFocused;if(!this.hasValue()||!b)return w?null:C.createElement(m,mr({},y,{key:"placeholder",isDisabled:N,isFocused:H,innerProps:{id:this.getElementId("placeholder")}}),B);if(S)return _.map(function(L,T){var z=L===P,M="".concat(s.getOptionLabel(L),"-").concat(s.getOptionValue(L));return C.createElement(o,mr({},y,{components:{Container:l,Label:d,Remove:u},isFocused:z,isDisabled:N,key:M,index:T,removeProps:{onClick:function(){return s.removeValue(L)},onTouchEnd:function(){return s.removeValue(L)},onMouseDown:function(J){J.preventDefault()}},data:L}),s.formatOptionLabel(L,"value"))});if(w)return null;var D=_[0];return C.createElement(h,mr({},y,{data:D,isDisabled:N}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,d=l.isDisabled,u=l.isLoading,h=this.state.isFocused;if(!this.isClearable()||!i||d||!this.hasValue()||u)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(i,mr({},o,{innerProps:m,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,d=l.isDisabled,u=l.isLoading,h=this.state.isFocused;if(!i||!u)return null;var m={"aria-hidden":"true"};return C.createElement(i,mr({},o,{innerProps:m,isDisabled:d,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,d=this.props.isDisabled,u=this.state.isFocused;return C.createElement(o,mr({},l,{isDisabled:d,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,d=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(i,mr({},o,{innerProps:u,isDisabled:l,isFocused:d}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,d=i.Menu,u=i.MenuList,h=i.MenuPortal,m=i.LoadingMessage,y=i.NoOptionsMessage,p=i.Option,b=this.commonProps,N=this.state.focusedOption,S=this.props,w=S.captureMenuScroll,B=S.inputValue,I=S.isLoading,_=S.loadingMessage,P=S.minMenuHeight,H=S.maxMenuHeight,D=S.menuIsOpen,L=S.menuPlacement,T=S.menuPosition,z=S.menuPortalTarget,M=S.menuShouldBlockScroll,V=S.menuShouldScrollIntoView,J=S.noOptionsMessage,Z=S.onMenuScrollToTop,ee=S.onMenuScrollToBottom;if(!D)return null;var q=function(G,te){var se=G.type,de=G.data,ge=G.isDisabled,ue=G.isSelected,Ee=G.label,ke=G.value,_e=N===de,Oe=ge?void 0:function(){return s.onOptionHover(de)},He=ge?void 0:function(){return s.selectOption(de)},Ne="".concat(s.getElementId("option"),"-").concat(te),me={id:Ne,onClick:He,onMouseMove:Oe,onMouseOver:Oe,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:ue};return C.createElement(p,mr({},b,{innerProps:me,data:de,isDisabled:ge,isSelected:ue,key:Ne,label:Ee,type:se,value:ke,isFocused:_e,innerRef:_e?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(G.data,"menu"))},X;if(this.hasOptions())X=this.getCategorizedOptions().map(function(Q){if(Q.type==="group"){var G=Q.data,te=Q.options,se=Q.index,de="".concat(s.getElementId("group"),"-").concat(se),ge="".concat(de,"-heading");return C.createElement(o,mr({},b,{key:de,data:G,options:te,Heading:l,headingProps:{id:ge,data:Q.data},label:s.formatGroupLabel(Q.data)}),Q.options.map(function(ue){return q(ue,"".concat(se,"-").concat(ue.index))}))}else if(Q.type==="option")return q(Q,"".concat(Q.index))});else if(I){var Y=_({inputValue:B});if(Y===null)return null;X=C.createElement(m,b,Y)}else{var K=J({inputValue:B});if(K===null)return null;X=C.createElement(y,b,K)}var ce={minMenuHeight:P,maxMenuHeight:H,menuPlacement:L,menuPosition:T,menuShouldScrollIntoView:V},oe=C.createElement(kne,mr({},b,ce),function(Q){var G=Q.ref,te=Q.placerProps,se=te.placement,de=te.maxHeight;return C.createElement(d,mr({},b,ce,{innerRef:G,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:I,placement:se}),C.createElement(aae,{captureEnabled:w,onTopArrive:Z,onBottomArrive:ee,lockEnabled:M},function(ge){return C.createElement(u,mr({},b,{innerRef:function(Ee){s.getMenuListRef(Ee),ge(Ee)},innerProps:{role:"listbox","aria-multiselectable":b.isMulti,id:s.getElementId("listbox")},isLoading:I,maxHeight:de,focusedOption:N}),X)}))});return z||T==="fixed"?C.createElement(h,mr({},b,{appendTo:z,controlElement:this.controlRef,menuPlacement:L,menuPosition:T}),oe):oe}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,d=i.isMulti,u=i.name,h=i.required,m=this.state.selectValue;if(h&&!this.hasValue()&&!l)return C.createElement(lae,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(d)if(o){var y=m.map(function(N){return s.getOptionValue(N)}).join(o);return C.createElement("input",{name:u,type:"hidden",value:y})}else{var p=m.length>0?m.map(function(N,S){return C.createElement("input",{key:"i-".concat(S),name:u,type:"hidden",value:s.getOptionValue(N)})}):C.createElement("input",{name:u,type:"hidden",value:""});return C.createElement("div",null,p)}else{var b=m[0]?this.getOptionValue(m[0]):"";return C.createElement("input",{name:u,type:"hidden",value:b})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,d=i.focusedValue,u=i.isFocused,h=i.selectValue,m=this.getFocusableOptions();return C.createElement(Gse,mr({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:d,isFocused:u,selectValue:h,focusableOptions:m,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,d=s.ValueContainer,u=this.props,h=u.className,m=u.id,y=u.isDisabled,p=u.menuIsOpen,b=this.state.isFocused,N=this.commonProps=this.getCommonProps();return C.createElement(l,mr({},N,{className:h,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:y,isFocused:b}),this.renderLiveRegion(),C.createElement(i,mr({},N,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:y,isFocused:b,menuIsOpen:p}),C.createElement(d,mr({},N,{isDisabled:y}),this.renderPlaceholderOrValue(),this.renderInput()),C.createElement(o,mr({},N,{isDisabled:y}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,d=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,h=i.isFocused,m=i.prevWasFocused,y=i.instancePrefix,p=s.options,b=s.value,N=s.menuIsOpen,S=s.inputValue,w=s.isMulti,B=jI(b),I={};if(o&&(b!==o.value||p!==o.options||N!==o.menuIsOpen||S!==o.inputValue)){var _=N?Nae(s,B):[],P=N?VI(Qy(s,B),"".concat(y,"-option")):[],H=l?Bae(i,B):null,D=Sae(i,_),L=p5(P,D);I={selectValue:B,focusedOption:D,focusedOptionId:L,focusableOptionsWithIds:P,focusedValue:H,clearFocusValueOnUpdate:!1}}var T=d!=null&&s!==o?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},z=u,M=h&&m;return h&&!M&&(z={value:jx(w,B,B[0]||null),options:B,action:"initial-input-focus"},M=!m),(u==null?void 0:u.action)==="initial-input-focus"&&(z=null),ur(ur(ur({},I),T),{},{prevProps:s,ariaSelection:z,prevWasFocused:M})}}]),r}(C.Component);VR.defaultProps=Cae;var jae=C.forwardRef(function(e,t){var r=Xte(e);return C.createElement(VR,mr({ref:t},r))}),Ni=jae;const KR=()=>{const e=Ur(),[t,r]=C.useState({name:"",registrationNumber:"",fatherName:"",aadharNumber:"",email:"",phone:"",address:"",branchId:null,membershipStart:"",membershipEnd:"",seatId:null,shiftIds:[],lockerId:null,totalFee:"",cash:"",online:"",securityMoney:"",remark:"",image:null,imageUrl:null,aadhaarFront:null,aadhaarFrontUrl:null,aadhaarBack:null,aadhaarBackUrl:null,discount:"0"}),[n,s]=C.useState([]),[i,o]=C.useState([]),[l,d]=C.useState([]),[u,h]=C.useState([]),[m,y]=C.useState([]),[p,b]=C.useState(!1),[N,S]=C.useState(!1),[w,B]=C.useState(!1),[I,_]=C.useState(null);C.useEffect(()=>{(async()=>{try{const te=await Re.getBranches();s(te),_(null)}catch(te){console.error("Failed to fetch branches:",te),_("You do not have permission to view branches. Contact an admin."),Se.error("Failed to load branches. Check your permissions.")}})()},[]),C.useEffect(()=>{(async()=>{if(t.branchId!==null){b(!0),B(!0);try{const te=Re.getSeats({branchId:t.branchId}),se=Re.getLockers(t.branchId),[de,ge]=await Promise.all([te,se]);o(de.seats),y(ge.lockers),_(null)}catch(te){console.error("Failed to fetch branch data:",te),_("Failed to load seats and lockers for this branch. Check permissions."),Se.error("Failed to load seats and lockers.")}finally{b(!1),B(!1)}}else o([]),y([])})()},[t.branchId]),C.useEffect(()=>{(async()=>{if(t.branchId){S(!0);try{const se=(await Re.getSchedules(t.branchId)).schedules.map(de=>({...de,fee:de.fee??0}));d(se),_(null)}catch(te){console.error("Failed to fetch shifts for branch:",te),_("Failed to load shifts for the selected branch."),Se.error("Failed to load shifts."),d([])}finally{S(!1)}}else d([])})()},[t.branchId]),C.useEffect(()=>{(async()=>{if(t.branchId&&u.length>0){b(!0);try{const de=((await Re.getSeats({branchId:t.branchId})).seats||[]).filter(ge=>u.every(ue=>{const Ee=(ge.shifts||[]).find(ke=>ke.shiftId===ue);return Ee?!Ee.isAssigned:!0}));o(de)}catch(te){console.error("Failed to fetch seats for shifts:",te),o([])}finally{b(!1)}}else if(t.branchId&&u.length===0){b(!0);try{const te=await Re.getSeats({branchId:t.branchId});o(te.seats||[])}catch(te){console.error("Failed to fetch seats:",te),o([])}finally{b(!1)}}})()},[t.branchId,u]);const P=G=>{const{name:te,value:se}=G.target;r(de=>({...de,[te]:se}))},H=(G,te)=>{const se=te?te.value:null;G==="branchId"?(r(de=>({...de,branchId:se,seatId:null,shiftIds:[],lockerId:null,totalFee:""})),h([])):r(G==="seatId"?de=>({...de,seatId:se}):de=>({...de,[G]:se}))},D=G=>{const te=G?G.map(se=>se.value):[];h(te),r(se=>({...se,shiftIds:te})),r(se=>({...se,seatId:null}))},L=G=>{const te=G.target.files?G.target.files[0]:null;if(te){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(te.type)){Se.error("Only JPEG, JPG, PNG, and GIF images are allowed");return}if(te.size>200*1024){Se.error("Image size exceeds 200KB limit");return}r(se=>({...se,image:te}))}},T=G=>{const te=G.target.files?G.target.files[0]:null;if(te){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(te.type)){Se.error("Only JPEG, JPG, PNG, and GIF images are allowed for Aadhaar front");return}if(te.size>200*1024){Se.error("Aadhaar front image size exceeds 200KB limit");return}r(se=>({...se,aadhaarFront:te}))}},z=G=>{const te=G.target.files?G.target.files[0]:null;if(te){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(te.type)){Se.error("Only JPEG, JPG, PNG, and GIF images are allowed for Aadhaar back");return}if(te.size>200*1024){Se.error("Aadhaar back image size exceeds 200KB limit");return}r(se=>({...se,aadhaarBack:te}))}},M=n.map(G=>({value:G.id,label:G.name})),V=[{value:null,label:"None",isDisabled:!1},...i.map(G=>({value:G.id,label:G.seatNumber,isDisabled:!1}))],J=[{value:null,label:"None",isDisabled:!1},...m.filter(G=>!G.isAssigned).map(G=>({value:G.id,label:G.lockerNumber,isDisabled:!1}))],Z=l.map(G=>({value:G.id,label:`${G.title} [Rs.${G.fee}] ${G.description?`[${G.description}]`:""}`.trim(),isDisabled:!1}));C.useEffect(()=>{if(t.shiftIds&&t.shiftIds.length>0){const G=l.filter(te=>t.shiftIds.includes(te.id)).reduce((te,se)=>te+(se.fee??0),0);r(te=>({...te,totalFee:G.toString()}))}else t.totalFee&&t.totalFee!==""||r(G=>({...G,totalFee:""}))},[t.shiftIds,l]);const ee=async()=>{var G;if(!t.name||!t.phone||t.branchId===null||!t.membershipStart||!t.membershipEnd||t.shiftIds.length===0){Se.error("Please fill in all required fields (Name, Phone, Branch, Membership Start, Membership End, Shifts)");return}try{let te=t.imageUrl||"";if(t.image){const ue=new FormData;ue.append("image",t.image),te=(await Re.uploadImage(ue)).imageUrl||""}let se=t.aadhaarFrontUrl||"";if(t.aadhaarFront){const ue=new FormData;ue.append("image",t.aadhaarFront),se=(await Re.uploadImage(ue)).imageUrl||""}let de=t.aadhaarBackUrl||"";if(t.aadhaarBack){const ue=new FormData;ue.append("image",t.aadhaarBack),de=(await Re.uploadImage(ue)).imageUrl||""}const ge={name:t.name,registrationNumber:t.registrationNumber||void 0,fatherName:t.fatherName||void 0,aadharNumber:t.aadharNumber||void 0,email:t.email||void 0,phone:t.phone,address:((G=t.address)==null?void 0:G.trim())||void 0,branchId:t.branchId,membershipStart:t.membershipStart,membershipEnd:t.membershipEnd,totalFee:t.totalFee?parseFloat(t.totalFee):0,amountPaid:(parseFloat(t.cash)||0)+(parseFloat(t.online)||0),cash:parseFloat(t.cash)||0,online:parseFloat(t.online)||0,securityMoney:parseFloat(t.securityMoney)||0,discount:parseFloat(t.discount)||0,remark:t.remark||void 0,profileImageUrl:te||void 0,aadhaarFrontUrl:se||void 0,aadhaarBackUrl:de||void 0,seatId:t.seatId!==null?t.seatId:void 0,shiftIds:t.shiftIds,lockerId:t.lockerId!==null?t.lockerId:void 0};await Re.addStudent(ge),Se.success("Student added successfully"),e("/students")}catch(te){console.error("Failed to add student:",te),Se.error(te.message||"Failed to add student")}},q=parseFloat(t.cash)||0,X=parseFloat(t.online)||0,Y=q+X,ce=(parseFloat(t.totalFee)||0)-(parseFloat(t.discount)||0)-Y,[oe,Q]=C.useState(!1);return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(an,{isCollapsed:oe,setIsCollapsed:Q,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md",children:a.jsx(HS,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Add New Student"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Create a new student profile and assign shifts, seats and lockers"})]})]})}),I&&a.jsx("div",{className:"text-red-500 mb-4",children:I}),a.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm",children:a.jsxs("div",{className:"p-6 space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number *"}),a.jsx("input",{type:"text",id:"registrationNumber",name:"registrationNumber",value:t.registrationNumber||"",onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fatherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),a.jsx("input",{type:"text",id:"fatherName",name:"fatherName",value:t.fatherName||"",onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadharNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),a.jsx("input",{type:"text",id:"aadharNumber",name:"aadharNumber",value:t.aadharNumber||"",onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:t.email||"",onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),a.jsx("input",{type:"text",id:"phone",name:"phone",value:t.phone,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),a.jsx("input",{type:"text",id:"address",name:"address",value:t.address||"",onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch *"}),a.jsx(Ni,{options:M,value:M.find(G=>G.value===t.branchId)||null,onChange:G=>H("branchId",G),placeholder:"Select a branch",className:"w-full",isDisabled:n.length===0,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipStart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership Start *"}),a.jsx("input",{type:"date",id:"membershipStart",name:"membershipStart",value:t.membershipStart,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipEnd",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership End *"}),a.jsx("input",{type:"date",id:"membershipEnd",name:"membershipEnd",value:t.membershipEnd,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"shiftId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Shifts *"}),a.jsx(Ni,{isMulti:!0,options:Z,value:Z.filter(G=>u.includes(G.value)),onChange:G=>D(G),isLoading:N,placeholder:N?"Loading shifts...":t.branchId?l.length===0?"No shifts found for this branch":"Select shifts":"Select a branch first",className:"w-full",isDisabled:!t.branchId||N})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"seatId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Seat *"}),a.jsx(Ni,{options:V,value:V.find(G=>G.value===t.seatId)||null,onChange:G=>H("seatId",G),isLoading:p,placeholder:t.branchId?u.length===0?"Select shifts first":i.length===0?"No available seats for selected shifts":"Select a seat":"Select a branch first",className:"w-full",isDisabled:!t.branchId||u.length===0||i.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lockerId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Locker"}),a.jsx(Ni,{options:J,value:J.find(G=>G.value===t.lockerId)||null,onChange:G=>H("lockerId",G),isLoading:w,placeholder:t.branchId?"Select an available locker":"Select a branch first",className:"w-full",isDisabled:!t.branchId||m.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"totalFee",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee *"}),a.jsx("input",{type:"number",id:"totalFee",name:"totalFee",value:t.totalFee,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount"}),a.jsx("input",{type:"number",id:"discount",name:"discount",value:t.discount,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cash",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Payment"}),a.jsx("input",{type:"number",id:"cash",name:"cash",value:t.cash,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"online",className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Payment"}),a.jsx("input",{type:"number",id:"online",name:"online",value:t.online,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"securityMoney",className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money"}),a.jsx("input",{type:"number",id:"securityMoney",name:"securityMoney",value:t.securityMoney,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount Paid"}),a.jsx("input",{type:"number",id:"amountPaid",name:"amountPaid",value:Y.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dueAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),a.jsx("input",{type:"number",id:"dueAmount",name:"dueAmount",value:ce.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"remark",className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{id:"remark",name:"remark",value:t.remark||"",onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image (max 200KB)"}),a.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:L,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarFront",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Front Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarFront",name:"aadhaarFront",accept:"image/*",onChange:T,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarBack",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Back Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarBack",name:"aadhaarBack",accept:"image/*",onChange:z,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),a.jsx("button",{onClick:ee,className:"w-full bg-gradient-to-r from-indigo-600 via-purple-600 to-fuchsia-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-indigo-700 hover:via-purple-700 hover:to-fuchsia-700 transition-all duration-200 shadow-md hover:shadow-lg",disabled:!!I,children:"Add Student"})]})})]})})]})]})},Iae=e=>e||"N/A",Fae=({limit:e,selectedBranchId:t})=>{const[r,n]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(1),[d,u]=C.useState(5),h=Ur();C.useEffect(()=>{(async()=>{i(!0);try{const I=await Re.getExpiringSoon(t??void 0);if(!I||!Array.isArray(I.students))throw new Error("Invalid data received for expiring students");n(I.students)}catch(I){I.response&&I.response.status===401?(Se.error("Session expired. Please log in again."),h("/login")):(console.error("Failed to fetch expiring memberships:",I.message),Se.error("Failed to fetch expiring memberships")),n([])}finally{i(!1)}})()},[h,t]);const m=B=>{if(!B){Se.error("No phone number available for this student.");return}let I=B.replace(/\D/g,"");I.length===10&&(I=`91${I}`);const _=`https://wa.me/${I}`;window.open(_,"_blank","noopener,noreferrer")},y=async B=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Re.deleteStudent(B),n(r.filter(I=>I.id!==B)),Se.success("Student deleted successfully")}catch(I){console.error("Failed to delete student:",I.message),Se.error("Failed to delete student")}},p=B=>{h(`/students/${B}`)};if(s)return a.jsx("div",{className:"flex justify-center p-4",children:"Loading expiring memberships..."});const b=e??o*d,N=e?0:b-d,S=r.slice(N,b),w=e?1:Math.ceil(r.length/d);return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-orange-100 p-2 rounded-lg",children:a.jsx(ji,{size:20,className:"text-orange-500"})}),a.jsx("h3",{className:"ml-3 text-lg font-medium",children:"Expiring Memberships"})]})}),S.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-left",children:[a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Seat"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Expiry Date"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:S.map(B=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:B.name}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:B.seatNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:B.phone}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${B.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-orange-100 text-orange-800",children:Iae(B.membershipEnd)})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>p(B.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",title:"View student details",children:a.jsx(ya,{size:16})}),a.jsx("button",{onClick:()=>y(B.id),className:"mr-2 text-red-600 hover:text-red-800 p-2",title:"Delete student",children:a.jsx(Xs,{size:16})}),a.jsx("button",{onClick:()=>m(B.phone),className:"text-green-600 hover:text-green-800 p-2",title:`Send WhatsApp message to ${B.name}`,children:a.jsx(DS,{size:16})})]})]},B.id))})]})}):a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No memberships expiring soon."}),!e&&r.length>0&&a.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:justify-between md:space-y-0 border-t border-gray-200 px-6 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:d,onChange:B=>{u(Number(B.target.value)),l(1)},className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:5,children:"5"}),a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>l(B=>Math.max(B-1,1)),disabled:o===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(QA,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",o," of ",w]}),a.jsx("button",{onClick:()=>l(B=>Math.min(B+1,w)),disabled:o===w,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(gr,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",N+1," to ",Math.min(b,r.length)," of"," ",r.length," students"]})]}),e&&r.length>e&&a.jsx("div",{className:"flex justify-center border-t border-gray-100 p-4",children:a.jsxs("button",{onClick:()=>h("/expiring-memberships"),className:"text-purple-600 hover:text-purple-800 text-sm font-medium flex items-center p-2",children:["View all expiring memberships ",a.jsx(gr,{size:16,className:"ml-1"})]})})]})},x1=function(e,t){let s=e;const i=fp[t];let o=null,l=0,d=null;const u=[],h={},m=function(D,L){l=s*4+17,o=function(T){const z=new Array(T);for(let M=0;M<T;M+=1){z[M]=new Array(T);for(let V=0;V<T;V+=1)z[M][V]=null}return z}(l),y(0,0),y(l-7,0),y(0,l-7),N(),b(),w(D,L),s>=7&&S(D),d==null&&(d=_(s,i,u)),B(d,L)},y=function(D,L){for(let T=-1;T<=7;T+=1)if(!(D+T<=-1||l<=D+T))for(let z=-1;z<=7;z+=1)L+z<=-1||l<=L+z||(0<=T&&T<=6&&(z==0||z==6)||0<=z&&z<=6&&(T==0||T==6)||2<=T&&T<=4&&2<=z&&z<=4?o[D+T][L+z]=!0:o[D+T][L+z]=!1)},p=function(){let D=0,L=0;for(let T=0;T<8;T+=1){m(!0,T);const z=bu.getLostPoint(h);(T==0||D>z)&&(D=z,L=T)}return L},b=function(){for(let D=8;D<l-8;D+=1)o[D][6]==null&&(o[D][6]=D%2==0);for(let D=8;D<l-8;D+=1)o[6][D]==null&&(o[6][D]=D%2==0)},N=function(){const D=bu.getPatternPosition(s);for(let L=0;L<D.length;L+=1)for(let T=0;T<D.length;T+=1){const z=D[L],M=D[T];if(o[z][M]==null)for(let V=-2;V<=2;V+=1)for(let J=-2;J<=2;J+=1)V==-2||V==2||J==-2||J==2||V==0&&J==0?o[z+V][M+J]=!0:o[z+V][M+J]=!1}},S=function(D){const L=bu.getBCHTypeNumber(s);for(let T=0;T<18;T+=1){const z=!D&&(L>>T&1)==1;o[Math.floor(T/3)][T%3+l-8-3]=z}for(let T=0;T<18;T+=1){const z=!D&&(L>>T&1)==1;o[T%3+l-8-3][Math.floor(T/3)]=z}},w=function(D,L){const T=i<<3|L,z=bu.getBCHTypeInfo(T);for(let M=0;M<15;M+=1){const V=!D&&(z>>M&1)==1;M<6?o[M][8]=V:M<8?o[M+1][8]=V:o[l-15+M][8]=V}for(let M=0;M<15;M+=1){const V=!D&&(z>>M&1)==1;M<8?o[8][l-M-1]=V:M<9?o[8][15-M-1+1]=V:o[8][15-M-1]=V}o[l-8][8]=!D},B=function(D,L){let T=-1,z=l-1,M=7,V=0;const J=bu.getMaskFunction(L);for(let Z=l-1;Z>0;Z-=2)for(Z==6&&(Z-=1);;){for(let ee=0;ee<2;ee+=1)if(o[z][Z-ee]==null){let q=!1;V<D.length&&(q=(D[V]>>>M&1)==1),J(z,Z-ee)&&(q=!q),o[z][Z-ee]=q,M-=1,M==-1&&(V+=1,M=7)}if(z+=T,z<0||l<=z){z-=T,T=-T;break}}},I=function(D,L){let T=0,z=0,M=0;const V=new Array(L.length),J=new Array(L.length);for(let X=0;X<L.length;X+=1){const Y=L[X].dataCount,K=L[X].totalCount-Y;z=Math.max(z,Y),M=Math.max(M,K),V[X]=new Array(Y);for(let G=0;G<V[X].length;G+=1)V[X][G]=255&D.getBuffer()[G+T];T+=Y;const ce=bu.getErrorCorrectPolynomial(K),Q=Lg(V[X],ce.getLength()-1).mod(ce);J[X]=new Array(ce.getLength()-1);for(let G=0;G<J[X].length;G+=1){const te=G+Q.getLength()-J[X].length;J[X][G]=te>=0?Q.getAt(te):0}}let Z=0;for(let X=0;X<L.length;X+=1)Z+=L[X].totalCount;const ee=new Array(Z);let q=0;for(let X=0;X<z;X+=1)for(let Y=0;Y<L.length;Y+=1)X<V[Y].length&&(ee[q]=V[Y][X],q+=1);for(let X=0;X<M;X+=1)for(let Y=0;Y<L.length;Y+=1)X<J[Y].length&&(ee[q]=J[Y][X],q+=1);return ee},_=function(D,L,T){const z=zI.getRSBlocks(D,L),M=WI();for(let J=0;J<T.length;J+=1){const Z=T[J];M.put(Z.getMode(),4),M.put(Z.getLength(),bu.getLengthInBits(Z.getMode(),D)),Z.write(M)}let V=0;for(let J=0;J<z.length;J+=1)V+=z[J].dataCount;if(M.getLengthInBits()>V*8)throw"code length overflow. ("+M.getLengthInBits()+">"+V*8+")";for(M.getLengthInBits()+4<=V*8&&M.put(0,4);M.getLengthInBits()%8!=0;)M.putBit(!1);for(;!(M.getLengthInBits()>=V*8||(M.put(236,8),M.getLengthInBits()>=V*8));)M.put(17,8);return I(M,z)};h.addData=function(D,L){L=L||"Byte";let T=null;switch(L){case"Numeric":T=kae(D);break;case"Alphanumeric":T=_ae(D);break;case"Byte":T=Tae(D);break;case"Kanji":T=Lae(D);break;default:throw"mode:"+L}u.push(T),d=null},h.isDark=function(D,L){if(D<0||l<=D||L<0||l<=L)throw D+","+L;return o[D][L]},h.getModuleCount=function(){return l},h.make=function(){if(s<1){let D=1;for(;D<40;D++){const L=zI.getRSBlocks(D,i),T=WI();for(let M=0;M<u.length;M++){const V=u[M];T.put(V.getMode(),4),T.put(V.getLength(),bu.getLengthInBits(V.getMode(),D)),V.write(T)}let z=0;for(let M=0;M<L.length;M++)z+=L[M].dataCount;if(T.getLengthInBits()<=z*8)break}s=D}m(!1,p())},h.createTableTag=function(D,L){D=D||2,L=typeof L>"u"?D*4:L;let T="";T+='<table style="',T+=" border-width: 0px; border-style: none;",T+=" border-collapse: collapse;",T+=" padding: 0px; margin: "+L+"px;",T+='">',T+="<tbody>";for(let z=0;z<h.getModuleCount();z+=1){T+="<tr>";for(let M=0;M<h.getModuleCount();M+=1)T+='<td style="',T+=" border-width: 0px; border-style: none;",T+=" border-collapse: collapse;",T+=" padding: 0px; margin: 0px;",T+=" width: "+D+"px;",T+=" height: "+D+"px;",T+=" background-color: ",T+=h.isDark(z,M)?"#000000":"#ffffff",T+=";",T+='"/>';T+="</tr>"}return T+="</tbody>",T+="</table>",T},h.createSvgTag=function(D,L,T,z){let M={};typeof arguments[0]=="object"&&(M=arguments[0],D=M.cellSize,L=M.margin,T=M.alt,z=M.title),D=D||2,L=typeof L>"u"?D*4:L,T=typeof T=="string"?{text:T}:T||{},T.text=T.text||null,T.id=T.text?T.id||"qrcode-description":null,z=typeof z=="string"?{text:z}:z||{},z.text=z.text||null,z.id=z.text?z.id||"qrcode-title":null;const V=h.getModuleCount()*D+L*2;let J,Z,ee,q,X="",Y;for(Y="l"+D+",0 0,"+D+" -"+D+",0 0,-"+D+"z ",X+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',X+=M.scalable?"":' width="'+V+'px" height="'+V+'px"',X+=' viewBox="0 0 '+V+" "+V+'" ',X+=' preserveAspectRatio="xMinYMin meet"',X+=z.text||T.text?' role="img" aria-labelledby="'+P([z.id,T.id].join(" ").trim())+'"':"",X+=">",X+=z.text?'<title id="'+P(z.id)+'">'+P(z.text)+"</title>":"",X+=T.text?'<description id="'+P(T.id)+'">'+P(T.text)+"</description>":"",X+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',X+='<path d="',ee=0;ee<h.getModuleCount();ee+=1)for(q=ee*D+L,J=0;J<h.getModuleCount();J+=1)h.isDark(ee,J)&&(Z=J*D+L,X+="M"+Z+","+q+Y);return X+='" stroke="transparent" fill="black"/>',X+="</svg>",X},h.createDataURL=function(D,L){D=D||2,L=typeof L>"u"?D*4:L;const T=h.getModuleCount()*D+L*2,z=L,M=T-L;return Rae(T,T,function(V,J){if(z<=V&&V<M&&z<=J&&J<M){const Z=Math.floor((V-z)/D),ee=Math.floor((J-z)/D);return h.isDark(ee,Z)?0:1}else return 1})},h.createImgTag=function(D,L,T){D=D||2,L=typeof L>"u"?D*4:L;const z=h.getModuleCount()*D+L*2;let M="";return M+="<img",M+=' src="',M+=h.createDataURL(D,L),M+='"',M+=' width="',M+=z,M+='"',M+=' height="',M+=z,M+='"',T&&(M+=' alt="',M+=P(T),M+='"'),M+="/>",M};const P=function(D){let L="";for(let T=0;T<D.length;T+=1){const z=D.charAt(T);switch(z){case"<":L+="&lt;";break;case">":L+="&gt;";break;case"&":L+="&amp;";break;case'"':L+="&quot;";break;default:L+=z;break}}return L},H=function(D){D=typeof D>"u"?1*2:D;const T=h.getModuleCount()*1+D*2,z=D,M=T-D;let V,J,Z,ee,q;const X={"██":"█","█ ":"▀"," █":"▄","  ":" "},Y={"██":"▀","█ ":"▀"," █":" ","  ":" "};let K="";for(V=0;V<T;V+=2){for(Z=Math.floor((V-z)/1),ee=Math.floor((V+1-z)/1),J=0;J<T;J+=1)q="█",z<=J&&J<M&&z<=V&&V<M&&h.isDark(Z,Math.floor((J-z)/1))&&(q=" "),z<=J&&J<M&&z<=V+1&&V+1<M&&h.isDark(ee,Math.floor((J-z)/1))?q+=" ":q+="█",K+=D<1&&V+1>=M?Y[q]:X[q];K+=`
`}return T%2&&D>0?K.substring(0,K.length-T-1)+Array(T+1).join("▀"):K.substring(0,K.length-1)};return h.createASCII=function(D,L){if(D=D||1,D<2)return H(L);D-=1,L=typeof L>"u"?D*2:L;const T=h.getModuleCount()*D+L*2,z=L,M=T-L;let V,J,Z,ee;const q=Array(D+1).join("██"),X=Array(D+1).join("  ");let Y="",K="";for(V=0;V<T;V+=1){for(Z=Math.floor((V-z)/D),K="",J=0;J<T;J+=1)ee=1,z<=J&&J<M&&z<=V&&V<M&&h.isDark(Z,Math.floor((J-z)/D))&&(ee=0),K+=ee?q:X;for(Z=0;Z<D;Z+=1)Y+=K+`
`}return Y.substring(0,Y.length-1)},h.renderTo2dContext=function(D,L){L=L||2;const T=h.getModuleCount();for(let z=0;z<T;z++)for(let M=0;M<T;M++)D.fillStyle=h.isDark(z,M)?"black":"white",D.fillRect(z*L,M*L,L,L)},h};x1.stringToBytes=function(e){const t=[];for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t.push(n&255)}return t};x1.createStringToBytes=function(e,t){const r=function(){const s=Dae(e),i=function(){const d=s.read();if(d==-1)throw"eof";return d};let o=0;const l={};for(;;){const d=s.read();if(d==-1)break;const u=i(),h=i(),m=i(),y=String.fromCharCode(d<<8|u),p=h<<8|m;l[y]=p,o+=1}if(o!=t)throw o+" != "+t;return l}(),n=63;return function(s){const i=[];for(let o=0;o<s.length;o+=1){const l=s.charCodeAt(o);if(l<128)i.push(l);else{const d=r[s.charAt(o)];typeof d=="number"?(d&255)==d?i.push(d):(i.push(d>>>8),i.push(d&255)):i.push(n)}}return i}};const ei={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},fp={L:1,M:0,Q:3,H:2},vu={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},bu=function(){const e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],t=1335,r=7973,n=21522,s={},i=function(o){let l=0;for(;o!=0;)l+=1,o>>>=1;return l};return s.getBCHTypeInfo=function(o){let l=o<<10;for(;i(l)-i(t)>=0;)l^=t<<i(l)-i(t);return(o<<10|l)^n},s.getBCHTypeNumber=function(o){let l=o<<12;for(;i(l)-i(r)>=0;)l^=r<<i(l)-i(r);return o<<12|l},s.getPatternPosition=function(o){return e[o-1]},s.getMaskFunction=function(o){switch(o){case vu.PATTERN000:return function(l,d){return(l+d)%2==0};case vu.PATTERN001:return function(l,d){return l%2==0};case vu.PATTERN010:return function(l,d){return d%3==0};case vu.PATTERN011:return function(l,d){return(l+d)%3==0};case vu.PATTERN100:return function(l,d){return(Math.floor(l/2)+Math.floor(d/3))%2==0};case vu.PATTERN101:return function(l,d){return l*d%2+l*d%3==0};case vu.PATTERN110:return function(l,d){return(l*d%2+l*d%3)%2==0};case vu.PATTERN111:return function(l,d){return(l*d%3+(l+d)%2)%2==0};default:throw"bad maskPattern:"+o}},s.getErrorCorrectPolynomial=function(o){let l=Lg([1],0);for(let d=0;d<o;d+=1)l=l.multiply(Lg([1,Eu.gexp(d)],0));return l},s.getLengthInBits=function(o,l){if(1<=l&&l<10)switch(o){case ei.MODE_NUMBER:return 10;case ei.MODE_ALPHA_NUM:return 9;case ei.MODE_8BIT_BYTE:return 8;case ei.MODE_KANJI:return 8;default:throw"mode:"+o}else if(l<27)switch(o){case ei.MODE_NUMBER:return 12;case ei.MODE_ALPHA_NUM:return 11;case ei.MODE_8BIT_BYTE:return 16;case ei.MODE_KANJI:return 10;default:throw"mode:"+o}else if(l<41)switch(o){case ei.MODE_NUMBER:return 14;case ei.MODE_ALPHA_NUM:return 13;case ei.MODE_8BIT_BYTE:return 16;case ei.MODE_KANJI:return 12;default:throw"mode:"+o}else throw"type:"+l},s.getLostPoint=function(o){const l=o.getModuleCount();let d=0;for(let m=0;m<l;m+=1)for(let y=0;y<l;y+=1){let p=0;const b=o.isDark(m,y);for(let N=-1;N<=1;N+=1)if(!(m+N<0||l<=m+N))for(let S=-1;S<=1;S+=1)y+S<0||l<=y+S||N==0&&S==0||b==o.isDark(m+N,y+S)&&(p+=1);p>5&&(d+=3+p-5)}for(let m=0;m<l-1;m+=1)for(let y=0;y<l-1;y+=1){let p=0;o.isDark(m,y)&&(p+=1),o.isDark(m+1,y)&&(p+=1),o.isDark(m,y+1)&&(p+=1),o.isDark(m+1,y+1)&&(p+=1),(p==0||p==4)&&(d+=3)}for(let m=0;m<l;m+=1)for(let y=0;y<l-6;y+=1)o.isDark(m,y)&&!o.isDark(m,y+1)&&o.isDark(m,y+2)&&o.isDark(m,y+3)&&o.isDark(m,y+4)&&!o.isDark(m,y+5)&&o.isDark(m,y+6)&&(d+=40);for(let m=0;m<l;m+=1)for(let y=0;y<l-6;y+=1)o.isDark(y,m)&&!o.isDark(y+1,m)&&o.isDark(y+2,m)&&o.isDark(y+3,m)&&o.isDark(y+4,m)&&!o.isDark(y+5,m)&&o.isDark(y+6,m)&&(d+=40);let u=0;for(let m=0;m<l;m+=1)for(let y=0;y<l;y+=1)o.isDark(y,m)&&(u+=1);const h=Math.abs(100*u/l/l-50)/5;return d+=h*10,d},s}(),Eu=function(){const e=new Array(256),t=new Array(256);for(let n=0;n<8;n+=1)e[n]=1<<n;for(let n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(let n=0;n<255;n+=1)t[e[n]]=n;const r={};return r.glog=function(n){if(n<1)throw"glog("+n+")";return t[n]},r.gexp=function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return e[n]},r}(),Lg=function(e,t){if(typeof e.length>"u")throw e.length+"/"+t;const r=function(){let s=0;for(;s<e.length&&e[s]==0;)s+=1;const i=new Array(e.length-s+t);for(let o=0;o<e.length-s;o+=1)i[o]=e[o+s];return i}(),n={};return n.getAt=function(s){return r[s]},n.getLength=function(){return r.length},n.multiply=function(s){const i=new Array(n.getLength()+s.getLength()-1);for(let o=0;o<n.getLength();o+=1)for(let l=0;l<s.getLength();l+=1)i[o+l]^=Eu.gexp(Eu.glog(n.getAt(o))+Eu.glog(s.getAt(l)));return Lg(i,0)},n.mod=function(s){if(n.getLength()-s.getLength()<0)return n;const i=Eu.glog(n.getAt(0))-Eu.glog(s.getAt(0)),o=new Array(n.getLength());for(let l=0;l<n.getLength();l+=1)o[l]=n.getAt(l);for(let l=0;l<s.getLength();l+=1)o[l]^=Eu.gexp(Eu.glog(s.getAt(l))+i);return Lg(o,0).mod(s)},n},zI=function(){const e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(s,i){const o={};return o.totalCount=s,o.dataCount=i,o},r={},n=function(s,i){switch(i){case fp.L:return e[(s-1)*4+0];case fp.M:return e[(s-1)*4+1];case fp.Q:return e[(s-1)*4+2];case fp.H:return e[(s-1)*4+3];default:return}};return r.getRSBlocks=function(s,i){const o=n(s,i);if(typeof o>"u")throw"bad rs block @ typeNumber:"+s+"/errorCorrectionLevel:"+i;const l=o.length/3,d=[];for(let u=0;u<l;u+=1){const h=o[u*3+0],m=o[u*3+1],y=o[u*3+2];for(let p=0;p<h;p+=1)d.push(t(m,y))}return d},r}(),WI=function(){const e=[];let t=0;const r={};return r.getBuffer=function(){return e},r.getAt=function(n){const s=Math.floor(n/8);return(e[s]>>>7-n%8&1)==1},r.put=function(n,s){for(let i=0;i<s;i+=1)r.putBit((n>>>s-i-1&1)==1)},r.getLengthInBits=function(){return t},r.putBit=function(n){const s=Math.floor(t/8);e.length<=s&&e.push(0),n&&(e[s]|=128>>>t%8),t+=1},r},kae=function(e){const t=ei.MODE_NUMBER,r=e,n={};n.getMode=function(){return t},n.getLength=function(o){return r.length},n.write=function(o){const l=r;let d=0;for(;d+2<l.length;)o.put(s(l.substring(d,d+3)),10),d+=3;d<l.length&&(l.length-d==1?o.put(s(l.substring(d,d+1)),4):l.length-d==2&&o.put(s(l.substring(d,d+2)),7))};const s=function(o){let l=0;for(let d=0;d<o.length;d+=1)l=l*10+i(o.charAt(d));return l},i=function(o){if("0"<=o&&o<="9")return o.charCodeAt(0)-48;throw"illegal char :"+o};return n},_ae=function(e){const t=ei.MODE_ALPHA_NUM,r=e,n={};n.getMode=function(){return t},n.getLength=function(i){return r.length},n.write=function(i){const o=r;let l=0;for(;l+1<o.length;)i.put(s(o.charAt(l))*45+s(o.charAt(l+1)),11),l+=2;l<o.length&&i.put(s(o.charAt(l)),6)};const s=function(i){if("0"<=i&&i<="9")return i.charCodeAt(0)-48;if("A"<=i&&i<="Z")return i.charCodeAt(0)-65+10;switch(i){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+i}};return n},Tae=function(e){const t=ei.MODE_8BIT_BYTE,r=x1.stringToBytes(e),n={};return n.getMode=function(){return t},n.getLength=function(s){return r.length},n.write=function(s){for(let i=0;i<r.length;i+=1)s.put(r[i],8)},n},Lae=function(e){const t=ei.MODE_KANJI,r=x1.stringToBytes;(function(i,o){const l=r(i);if(l.length!=2||(l[0]<<8|l[1])!=o)throw"sjis not supported."})("友",38726);const n=r(e),s={};return s.getMode=function(){return t},s.getLength=function(i){return~~(n.length/2)},s.write=function(i){const o=n;let l=0;for(;l+1<o.length;){let d=(255&o[l])<<8|255&o[l+1];if(33088<=d&&d<=40956)d-=33088;else if(57408<=d&&d<=60351)d-=49472;else throw"illegal char at "+(l+1)+"/"+d;d=(d>>>8&255)*192+(d&255),i.put(d,13),l+=2}if(l<o.length)throw"illegal char at "+(l+1)},s},zR=function(){const e=[],t={};return t.writeByte=function(r){e.push(r&255)},t.writeShort=function(r){t.writeByte(r),t.writeByte(r>>>8)},t.writeBytes=function(r,n,s){n=n||0,s=s||r.length;for(let i=0;i<s;i+=1)t.writeByte(r[i+n])},t.writeString=function(r){for(let n=0;n<r.length;n+=1)t.writeByte(r.charCodeAt(n))},t.toByteArray=function(){return e},t.toString=function(){let r="";r+="[";for(let n=0;n<e.length;n+=1)n>0&&(r+=","),r+=e[n];return r+="]",r},t},Pae=function(){let e=0,t=0,r=0,n="";const s={},i=function(l){n+=String.fromCharCode(o(l&63))},o=function(l){if(l<0)throw"n:"+l;if(l<26)return 65+l;if(l<52)return 97+(l-26);if(l<62)return 48+(l-52);if(l==62)return 43;if(l==63)return 47;throw"n:"+l};return s.writeByte=function(l){for(e=e<<8|l&255,t+=8,r+=1;t>=6;)i(e>>>t-6),t-=6},s.flush=function(){if(t>0&&(i(e<<6-t),e=0,t=0),r%3!=0){const l=3-r%3;for(let d=0;d<l;d+=1)n+="="}},s.toString=function(){return n},s},Dae=function(e){const t=e;let r=0,n=0,s=0;const i={};i.read=function(){for(;s<8;){if(r>=t.length){if(s==0)return-1;throw"unexpected end of file./"+s}const d=t.charAt(r);if(r+=1,d=="=")return s=0,-1;if(d.match(/^\s$/))continue;n=n<<6|o(d.charCodeAt(0)),s+=6}const l=n>>>s-8&255;return s-=8,l};const o=function(l){if(65<=l&&l<=90)return l-65;if(97<=l&&l<=122)return l-97+26;if(48<=l&&l<=57)return l-48+52;if(l==43)return 62;if(l==47)return 63;throw"c:"+l};return i},Oae=function(e,t){const r=e,n=t,s=new Array(e*t),i={};i.setPixel=function(u,h,m){s[h*r+u]=m},i.write=function(u){u.writeString("GIF87a"),u.writeShort(r),u.writeShort(n),u.writeByte(128),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(255),u.writeByte(255),u.writeByte(255),u.writeString(","),u.writeShort(0),u.writeShort(0),u.writeShort(r),u.writeShort(n),u.writeByte(0);const h=2,m=l(h);u.writeByte(h);let y=0;for(;m.length-y>255;)u.writeByte(255),u.writeBytes(m,y,255),y+=255;u.writeByte(m.length-y),u.writeBytes(m,y,m.length-y),u.writeByte(0),u.writeString(";")};const o=function(u){const h=u;let m=0,y=0;const p={};return p.write=function(b,N){if(b>>>N)throw"length over";for(;m+N>=8;)h.writeByte(255&(b<<m|y)),N-=8-m,b>>>=8-m,y=0,m=0;y=b<<m|y,m=m+N},p.flush=function(){m>0&&h.writeByte(y)},p},l=function(u){const h=1<<u,m=(1<<u)+1;let y=u+1;const p=d();for(let B=0;B<h;B+=1)p.add(String.fromCharCode(B));p.add(String.fromCharCode(h)),p.add(String.fromCharCode(m));const b=zR(),N=o(b);N.write(h,y);let S=0,w=String.fromCharCode(s[S]);for(S+=1;S<s.length;){const B=String.fromCharCode(s[S]);S+=1,p.contains(w+B)?w=w+B:(N.write(p.indexOf(w),y),p.size()<4095&&(p.size()==1<<y&&(y+=1),p.add(w+B)),w=B)}return N.write(p.indexOf(w),y),N.write(m,y),N.flush(),b.toByteArray()},d=function(){const u={};let h=0;const m={};return m.add=function(y){if(m.contains(y))throw"dup key:"+y;u[y]=h,h+=1},m.size=function(){return h},m.indexOf=function(y){return u[y]},m.contains=function(y){return typeof u[y]<"u"},m};return i},Rae=function(e,t,r){const n=Oae(e,t);for(let l=0;l<t;l+=1)for(let d=0;d<e;d+=1)n.setPixel(d,l,r(d,l));const s=zR();n.write(s);const i=Pae(),o=s.toByteArray();for(let l=0;l<o.length;l+=1)i.writeByte(o[l]);return i.flush(),"data:image/gif;base64,"+i},y1=({libraryCode:e,libraryName:t,libraryId:r,isOpen:n,onClose:s})=>{const i=C.useRef(null),[o,l]=C.useState(""),[d,u]=C.useState("");C.useEffect(()=>{n&&e&&r&&h()},[n,e,r]);const h=()=>{const N=JSON.stringify({libraryId:r,libraryCode:e,libraryName:t,type:"attendance"});l(N);try{const S=x1(0,"M");S.addData(N),S.make();const w=S.createSvgTag(4,0);u(w),m(S)}catch(S){console.error("Error generating QR code:",S),ar.error("Failed to generate barcode")}},m=b=>{const N=i.current;if(!N)return;const S=N.getContext("2d");if(!S)return;const w=b.getModuleCount(),B=8,I=32,_=w*B+I*2;N.width=_,N.height=_+60,S.fillStyle="#ffffff",S.fillRect(0,0,N.width,N.height),S.fillStyle="#000000";for(let P=0;P<w;P++)for(let H=0;H<w;H++)b.isDark(P,H)&&S.fillRect(H*B+I,P*B+I,B,B);S.fillStyle="#000000",S.font="bold 16px Arial",S.textAlign="center",S.fillText(t,N.width/2,_+25),S.font="12px Arial",S.fillText(`Code: ${e}`,N.width/2,_+45)},y=()=>{const b=i.current;if(!b)return;const N=document.createElement("a");N.download=`${e}_barcode.png`,N.href=b.toDataURL(),N.click(),ar.success("Barcode downloaded successfully!")},p=()=>{navigator.clipboard.writeText(o).then(()=>{ar.success("Barcode data copied to clipboard!")}).catch(()=>{ar.error("Failed to copy barcode data")})};return n?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(Fd,{className:"w-5 h-5 mr-2 text-blue-600"}),"Library Barcode"]}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(eo,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:t}),a.jsx("p",{className:"text-sm text-gray-600",children:"Students can scan this QR code to check in/out for attendance"})]}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"p-4 bg-white border-2 border-gray-200 rounded-lg shadow-sm",children:d?a.jsx("div",{dangerouslySetInnerHTML:{__html:d}}):a.jsx("canvas",{ref:i,className:"border border-gray-300",style:{maxWidth:"200px",maxHeight:"200px"}})})}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Library Code:"}),a.jsx("p",{className:"text-gray-900 font-mono",children:e})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Library ID:"}),a.jsx("p",{className:"text-gray-900 font-mono",children:r})]})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Barcode Data:"}),a.jsx("p",{className:"text-xs text-gray-600 font-mono bg-white p-2 rounded border break-all",children:o})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:y,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(em,{className:"w-4 h-4 mr-2"}),"Download"]}),a.jsxs("button",{onClick:p,className:"flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[a.jsx(NN,{className:"w-4 h-4 mr-2"}),"Copy Data"]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Instructions:"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• Print this QR code and display it prominently in your library"}),a.jsx("li",{children:"• Students can scan this code to check in when arriving"}),a.jsx("li",{children:"• Students can scan again to check out when leaving"}),a.jsx("li",{children:"• Each library has a unique QR code for security"}),a.jsx("li",{children:"• Students can only mark attendance using their registered library's QR code"})]})]})]}),a.jsx("canvas",{ref:i,style:{display:"none"}})]})}):null},WR=({libraryCode:e,libraryName:t})=>{const[r,n]=C.useState(!1),s=typeof window<"u"?`${window.location.protocol}//${window.location.host}`:"https://yourdomain.com",i=`${s}/#/register/${e}`,o=`${s}/#/registration-status/${e}`,l=async(h,m)=>{try{await navigator.clipboard.writeText(h),n(!0),Se.success(`${m} copied to clipboard!`),setTimeout(()=>n(!1),2e3)}catch(y){console.error("Failed to copy text: ",y),Se.error("Failed to copy to clipboard")}},d=h=>{window.open(h,"_blank","noopener,noreferrer")},u=async()=>{if(navigator.share)try{await navigator.share({title:`Register for ${t}`,text:`Join ${t} - Register now!`,url:i})}catch(h){console.error("Error sharing:",h),l(i,"Registration link")}else l(i,"Registration link")};return a.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(IN,{className:"w-5 h-5 mr-2 text-purple-600"}),"Public Registration Link"]}),a.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Library Code: ",e]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Registration URL"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-800 font-mono break-all",children:i}),a.jsx("button",{onClick:()=>l(i,"Registration link"),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",title:"Copy registration link",children:r?a.jsx(Ig,{className:"w-4 h-4"}):a.jsx(NN,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>d(i),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Open registration page",children:a.jsx(AI,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Status Check URL"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-800 font-mono break-all",children:o}),a.jsx("button",{onClick:()=>l(o,"Status check link"),className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",title:"Copy status check link",children:r?a.jsx(Ig,{className:"w-4 h-4"}):a.jsx(NN,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>d(o),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Open status check page",children:a.jsx(AI,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"How to use:"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("li",{children:["• Share the ",a.jsx("strong",{children:"Registration URL"})," with prospective students"]}),a.jsxs("li",{children:["• Students can check their application status using the ",a.jsx("strong",{children:"Status Check URL"})]}),a.jsxs("li",{children:["• Review and manage applications in the ",a.jsx("strong",{children:"Admission Requests"})," section"]}),a.jsx("li",{children:"• Approved students will automatically get accounts and membership"})]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:u,className:"flex-1 flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:[a.jsx(IN,{className:"w-4 h-4 mr-2"}),"Share Registration Link"]})})]})]})},Pg=({variant:e="full",className:t="",clickable:r=!0})=>{const n=Ur();let s=null;try{const l=Ys();s=(l==null?void 0:l.user)||null}catch{console.warn("Auth context not available in FestivalBanner"),s=null}const o=r?{onClick:()=>{r&&(s?(n("/subscription"),Se.success("🎉 Check out our festival offers!")):(Se.error("Please log in first to view subscription offers"),n("/owner-login")))},style:{cursor:"pointer"},className:`${t} ${r?"hover:scale-105 transition-transform duration-300":""}`}:{className:t};return e==="minimal"?a.jsx("div",{...o,className:`bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg text-center shadow-lg ${o.className}`,children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:"🪔"}),a.jsx("span",{className:"font-bold text-sm md:text-base",children:"Durga Puja Festival Offer - Up to 35% OFF!"}),a.jsx("span",{className:"text-lg",children:"🎉"}),r&&a.jsx("span",{className:"text-xs opacity-75",children:"👆 Click here!"})]})}):e==="compact"?a.jsxs("div",{...o,className:`bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-xl shadow-xl p-4 md:p-6 text-center relative overflow-hidden ${o.className}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 opacity-20 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx("span",{className:"text-2xl md:text-3xl mr-2 animate-bounce",children:"🪔"}),a.jsx("h3",{className:"text-lg md:text-xl font-black text-white tracking-wide drop-shadow-lg",children:"Durga Puja Festival Offer"}),a.jsx("span",{className:"text-2xl md:text-3xl ml-2 animate-bounce",children:"🎉"})]}),a.jsx("p",{className:"text-sm md:text-base text-white font-bold drop-shadow-md",children:"Celebrate with up to 35% OFF on all plans!"}),a.jsx("div",{className:"mt-3 inline-flex items-center bg-gradient-to-r from-yellow-400 to-orange-400 text-orange-900 rounded-full px-4 py-1 font-black text-xs md:text-sm shadow-lg",children:a.jsx("span",{children:"🕉️ Festival Special Pricing 🕉️"})}),r&&a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:"text-xs text-yellow-200 font-bold animate-pulse",children:"👆 Click to view offers!"})})]}),a.jsx("div",{className:"absolute top-2 left-2 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-lg",children:"✨"})}),a.jsx("div",{className:"absolute top-2 right-2 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-xl",children:"🌟"})}),a.jsx("div",{className:"absolute bottom-2 left-2 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-lg",children:"✨"})}),a.jsx("div",{className:"absolute bottom-2 right-2 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-lg",children:"🎊"})})]}):a.jsxs("div",{...o,className:`bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-3xl shadow-2xl p-8 md:p-10 text-center relative overflow-hidden transform hover:scale-105 transition-all duration-300 ${o.className}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 opacity-20 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-center mb-6",children:[a.jsx("span",{className:"text-4xl md:text-5xl mr-4 animate-bounce",children:"🪔"}),a.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white tracking-wide drop-shadow-lg",children:"Durga Puja Festival Offer"}),a.jsx("span",{className:"text-4xl md:text-5xl ml-4 animate-bounce",children:"🎉"})]}),a.jsx("p",{className:"text-xl md:text-3xl text-white font-bold mb-4 drop-shadow-md",children:"Celebrate with up to 35% OFF on all plans!"}),a.jsx("p",{className:"text-lg md:text-xl text-orange-100 font-medium",children:"Limited time offer - Transform your library management this festive season"}),a.jsx("div",{className:"mt-6 inline-flex items-center bg-gradient-to-r from-yellow-400 to-orange-400 text-orange-900 rounded-full px-6 md:px-8 py-2 md:py-3 font-black text-base md:text-lg shadow-xl transform hover:scale-110 transition-all duration-300",children:a.jsx("span",{children:"🕉️ Festival Special Pricing 🕉️"})}),r&&a.jsx("div",{className:"mt-4",children:a.jsx("span",{className:"text-sm text-yellow-200 font-bold animate-pulse",children:"👆 Click anywhere to explore our offers!"})})]}),a.jsx("div",{className:"absolute top-4 left-4 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:"✨"})}),a.jsx("div",{className:"absolute top-8 right-8 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-3xl",children:"🌟"})}),a.jsx("div",{className:"absolute bottom-4 left-8 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:"✨"})}),a.jsx("div",{className:"absolute bottom-8 right-4 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:"🎊"})})]})},Mae=()=>{const e=Ur();let t=null;try{const Ne=Ys();if(!Ne)throw new Error("Auth context is not available");t=Ne.user}catch(Ne){return console.error("Auth context error:",Ne),Se.error("Authentication error. Please log in again."),e("/login"),null}const[r,n]=C.useState(0),[s,i]=C.useState({totalStudents:0,activeStudents:0,expiredMemberships:0}),[o,l]=C.useState({expiring1to2Days:0,expiring3to5Days:0,expiring5to7Days:0}),[d,u]=C.useState({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}),[h,m]=C.useState(!1),[y,p]=C.useState([]),[b,N]=C.useState(null),[S,w]=C.useState({totalStudents:0,branches:[],expiredCount:0,totalCollection:0,totalDue:0}),[B,I]=C.useState(!0),[_,P]=C.useState([]),[H,D]=C.useState(!1),[L,T]=C.useState("daily"),[z,M]=C.useState(new Date().toISOString().split("T")[0]),[V,J]=C.useState(""),[Z,ee]=C.useState(!1),[q,X]=C.useState(null),[Y,K]=C.useState({totalPresent:0,totalCheckedIn:0,totalCheckedOut:0}),[ce,oe]=C.useState({page:1,limit:10,totalRecords:0,totalPages:1}),[Q,G]=C.useState(!1),[te,se]=C.useState(()=>{const Ne=typeof window<"u"?localStorage.getItem("dashboardView"):null;return Ne==="standard"||Ne==="compact"||Ne==="detailed"?Ne:"standard"});C.useEffect(()=>{(async()=>{if(t)try{const me=await Re.getLibraryProfile();me&&me.library&&X({id:me.library.id,library_code:me.library.libraryCode,name:me.library.libraryName})}catch(me){console.error("Failed to load library info:",me),Se.error("Could not load library information.")}})()},[t]),C.useEffect(()=>{try{typeof window<"u"&&localStorage.setItem("dashboardView",te)}catch{}},[te]);const de=()=>{ee(!0)},ge=async()=>{try{const Ne=await Re.getBranches();if(!Ne||!Array.isArray(Ne))throw new Error("Invalid branches data");p(Ne)}catch(Ne){Se.error("Failed to load branches"),console.error("Error fetching branches:",Ne),p([])}},ue=async()=>{var Ne;try{const[me,Pe,nt,Xe]=await Promise.all([Re.getTotalStudentsCount(b??void 0).catch(()=>0),Re.getActiveStudentsCount(b??void 0).catch(()=>0),Re.getExpiredMembershipsCount(b??void 0).catch(()=>0),Re.getExpiringCounts(b??void 0).catch(()=>({expiring1to2Days:0,expiring3to5Days:0,expiring5to7Days:0}))]);i({totalStudents:Number(me)||0,activeStudents:Number(Pe)||0,expiredMemberships:Number(nt)||0}),l({expiring1to2Days:Number(Xe.expiring1to2Days)||0,expiring3to5Days:Number(Xe.expiring3to5Days)||0,expiring5to7Days:Number(Xe.expiring5to7Days)||0});const Ue=await Re.getDashboardStats(b?{branchId:b}:void 0).catch(()=>({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}));u({totalCollection:Number(Ue.totalCollection)||0,totalDue:Number(Ue.totalDue)||0,totalExpense:Number(Ue.totalExpense)||0,profitLoss:Number(Ue.profitLoss)||0})}catch(me){((Ne=me.response)==null?void 0:Ne.status)===401?(Se.error("Session expired. Please log in again."),e("/login")):(Se.error("Failed to load dashboard stats"),console.error("Error fetching stats:",me),i({totalStudents:0,activeStudents:0,expiredMemberships:0}),l({expiring1to2Days:0,expiring3to5Days:0,expiring5to7Days:0}),u({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}))}},Ee=async()=>{var Ne;I(!0);try{const[me,Pe,nt,Xe]=await Promise.all([Re.getHostelBranches(),Re.getHostelStudents(),Re.getExpiredHostelStudents(),Re.getHostelCollections()]),Ue=(Pe??[]).reduce((mt,At)=>{const wt=At.branchId;return wt&&(mt[wt]=(mt[wt]||0)+1),mt},{}),yt=(Array.isArray(me)?me:[]).map(mt=>({...mt,studentCount:Ue[mt.id]||0})),We=((Ne=nt==null?void 0:nt.expiredStudents)==null?void 0:Ne.length)??0,Vt=(Xe==null?void 0:Xe.collections)??[],Le=Vt.reduce((mt,At)=>{const wt=parseFloat(String(At.cashPaid||0)),Ft=parseFloat(String(At.onlinePaid||0));return mt+wt+Ft},0),rt=Vt.reduce((mt,At)=>{const wt=parseFloat(String(At.dueAmount||0));return mt+wt},0);w({totalStudents:Array.isArray(Pe)?Pe.length:0,branches:yt,expiredCount:We,totalCollection:Le,totalDue:rt})}catch(me){Se.error("Failed to load hostel statistics"),console.error("Error fetching hostel stats:",me)}finally{I(!1)}};C.useEffect(()=>{t&&(ge(),ue(),Ee(),Oe())},[t,b]),C.useEffect(()=>{t&&Oe()},[L,z,V]);const ke=t&&(t.role==="admin"||t.role==="staff"),_e=()=>{n(Ne=>Ne+1)},Oe=async(Ne=1)=>{if(t){D(!0);try{const me=await Re.fetchAttendance({date:z,search:V,page:Ne,limit:ce.limit,view:L});P(me.attendance),oe(me.pagination);const Pe=me.attendance.filter(Xe=>Xe.firstIn&&!Xe.lastOut).length,nt=me.attendance.filter(Xe=>Xe.lastOut).length;K({totalPresent:me.pagination.totalRecords,totalCheckedIn:Pe,totalCheckedOut:nt})}catch(me){console.error("Failed to load attendance:",me),Se.error("Could not load attendance records.")}finally{D(!1)}}},He=Ne=>Ne?new Date(Ne).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"Not recorded";return t?a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50",children:[a.jsx(an,{isCollapsed:Q,setIsCollapsed:G,onBarcodeClick:de}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsx(Pg,{variant:"compact",clickable:!0})}),a.jsx("div",{className:"bg-gradient-to-r from-indigo-50 via-white to-violet-50 border border-slate-200 rounded-2xl p-4 sm:p-5 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:"🏛️ Library Dashboard"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 hidden sm:inline",children:"View:"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>se("standard"),className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${te==="standard"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Standard View",children:[a.jsx(LS,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Standard"})]}),a.jsxs("button",{onClick:()=>se("compact"),className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${te==="compact"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Compact View",children:[a.jsx(Qd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Compact"})]}),a.jsxs("button",{onClick:()=>se("detailed"),className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${te==="detailed"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Detailed View",children:[a.jsx(kA,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Detailed"})]})]})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"branch-select",className:"text-sm font-medium text-gray-700 mr-2",children:"Filter by Branch:"}),a.jsxs("select",{id:"branch-select",value:b??"all",onChange:Ne=>N(Ne.target.value==="all"?null:parseInt(Ne.target.value,10)),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",children:[a.jsx("option",{value:"all",children:"All Branches"}),y.map(Ne=>a.jsx("option",{value:Ne.id.toString(),children:Ne.name},Ne.id))]})]}),te==="compact"&&a.jsxs("div",{className:"grid items-stretch gap-3 sm:gap-4 mb-8 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 2xl:grid-cols-8",children:[a.jsx(Tt,{to:"/students",className:"block h-full",children:a.jsx(Hn,{title:"Total Students",value:s.totalStudents,icon:a.jsx(ui,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-purple-400 to-fuchsia-500 relative overflow-hidden transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/active-students",className:"block h-full",children:a.jsx(Hn,{title:"Active Students",value:s.activeStudents,icon:a.jsx(Ii,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-sky-400 to-blue-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expired-memberships",className:"block h-full",children:a.jsx(Hn,{title:"Total Expired Memberships",value:s.expiredMemberships,icon:a.jsx(na,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-amber-400 to-orange-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expiring-memberships?range=1-2",className:"block h-full",children:a.jsx(Hn,{title:"Expiring in 1-2 Days",value:o.expiring1to2Days,icon:a.jsx(na,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-rose-400 to-red-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expiring-memberships?range=3-5",className:"block h-full",children:a.jsx(Hn,{title:"Expiring in 3-5 Days",value:o.expiring3to5Days,icon:a.jsx(na,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-yellow-400 to-amber-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expiring-memberships?range=5-7",className:"block h-full",children:a.jsx(Hn,{title:"Expiring in 5-7 Days",value:o.expiring5to7Days,icon:a.jsx(na,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-orange-400 to-pink-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/attendance",className:"block h-full",children:a.jsx(Hn,{title:"Total Check-ins (Today)",value:Y.totalCheckedIn,icon:a.jsx(Zn,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-emerald-400 to-teal-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/attendance",className:"block h-full",children:a.jsx(Hn,{title:"Total Check-outs (Today)",value:Y.totalCheckedOut,icon:a.jsx(Zn,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-red-400 to-rose-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/collections",className:"block h-full",children:a.jsx(Hn,{title:"Total Collection (This Month)",value:d.totalCollection,icon:a.jsx(ef,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-green-400 to-lime-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/collections?showOnlyDue=true",className:"block h-full",children:a.jsx(Hn,{title:"Total Due (This Month)",value:d.totalDue,icon:a.jsx(na,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-red-400 to-orange-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expenses",className:"block h-full",children:a.jsx(Hn,{title:"Total Expense (This Month)",value:d.totalExpense,icon:a.jsx(Nx,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-yellow-500 to-amber-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/profit-loss",className:"block h-full",children:a.jsx(Hn,{title:d.profitLoss>=0?"Profit (This Month)":"Loss (This Month)",value:Math.abs(d.profitLoss),icon:d.profitLoss>=0?a.jsx(kN,{className:"h-6 w-6 text-white"}):a.jsx(Nx,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:`h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg] ${d.profitLoss>=0?"from-teal-400 to-emerald-500":"from-red-400 to-rose-500"}`,titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/students/add",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-violet-400 to-pink-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(HS,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Add Student"}),a.jsx("div",{className:"text-xs text-white/80",children:"Create a new student record"})]})}),a.jsx(Tt,{to:"/attendance",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-sky-400 to-cyan-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(us,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Manage Attendance"}),a.jsx("div",{className:"text-xs text-white/80",children:"View and manage attendance"})]})}),a.jsx(Tt,{to:"/public-registration",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-emerald-400 to-lime-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(IN,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Public Registration Link"}),a.jsx("div",{className:"text-xs text-white/80",children:"Share/manage the public link"})]})}),a.jsx(Tt,{to:q?`/registration-status/${q.library_code}`:"/registration-status",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-amber-400 to-orange-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(To,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Check Registration Status"}),a.jsx("div",{className:"text-xs text-white/80",children:"Lookup public application status"})]})}),a.jsx(Tt,{to:"/announcements",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-indigo-400 to-violet-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(tf,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Announcements"}),a.jsx("div",{className:"text-xs text-white/80",children:"View and post updates"})]})}),a.jsx(Tt,{to:"/inactive-students",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-rose-400 to-red-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(r0,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Inactive Students"}),a.jsx("div",{className:"text-xs text-white/80",children:"Review inactive accounts"})]})})]}),te!=="compact"&&a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:`font-semibold mb-4 ${te==="detailed"?"text-2xl":"text-xl"}`,children:"Library Statistics"}),a.jsxs("div",{className:`grid gap-4 sm:gap-6 mb-6 ${te==="detailed"?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 md:grid-cols-3"}`,children:[a.jsx(Tt,{to:"/students",className:"block",children:a.jsx(Hn,{title:"Total Students",value:s.totalStudents,icon:a.jsx(ui,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-purple-400 to-fuchsia-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/active-students",className:"block",children:a.jsx(Hn,{title:"Active Students",value:s.activeStudents,icon:a.jsx(Ii,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-sky-400 to-blue-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expired-memberships",className:"block",children:a.jsx(Hn,{title:"Expired Memberships",value:s.expiredMemberships,icon:a.jsx(na,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-amber-400 to-orange-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})})]}),a.jsx("h2",{className:`font-semibold mb-4 ${te==="detailed"?"text-2xl":"text-xl"}`,children:"Expiring Memberships"}),a.jsxs("div",{className:`grid gap-4 sm:gap-6 mb-6 ${te==="detailed"?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 md:grid-cols-3"}`,children:[a.jsx(Tt,{to:"/expiring-memberships?range=1-2",className:"block",children:a.jsx(Hn,{title:"Expiring in 1-2 Days",value:o.expiring1to2Days,icon:a.jsx(na,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-rose-400 to-red-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expiring-memberships?range=3-5",className:"block",children:a.jsx(Hn,{title:"Expiring in 3-5 Days",value:o.expiring3to5Days,icon:a.jsx(na,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-yellow-400 to-amber-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expiring-memberships?range=5-7",className:"block",children:a.jsx(Hn,{title:"Expiring in 5-7 Days",value:o.expiring5to7Days,icon:a.jsx(na,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-orange-400 to-pink-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})})]}),a.jsx("h2",{className:`font-semibold mb-4 ${te==="detailed"?"text-2xl":"text-xl"}`,children:"Financial Overview (This Month)"}),a.jsxs("div",{className:`grid gap-4 sm:gap-6 mb-6 ${te==="detailed"?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4"}`,children:[a.jsx(Tt,{to:"/collections",className:"block",children:a.jsx(Hn,{title:"Total Collection",value:d.totalCollection,icon:a.jsx(ef,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-green-400 to-lime-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/collections?showOnlyDue=true",className:"block",children:a.jsx(Hn,{title:"Total Due",value:d.totalDue,icon:a.jsx(na,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-red-400 to-orange-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expenses",className:"block",children:a.jsx(Hn,{title:"Total Expense",value:d.totalExpense,icon:a.jsx(Nx,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-amber-400 to-yellow-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/profit-loss",className:"block",children:a.jsx(Hn,{title:d.profitLoss>=0?"Profit":"Loss",value:Math.abs(d.profitLoss),icon:d.profitLoss>=0?a.jsx(kN,{className:"h-6 w-6 text-white"}):a.jsx(Nx,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:`rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br ${d.profitLoss>=0?"from-teal-400 to-emerald-500":"from-red-400 to-rose-500"}`,titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})})]})]}),te!=="compact"&&q&&a.jsx("div",{id:"registration-link-card",children:a.jsx(WR,{libraryCode:q.library_code,libraryName:q.name})}),te!=="compact"&&ke&&q&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Attendance Management"}),a.jsx("p",{className:"text-blue-100",children:"Monitor and manage student attendance"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 w-full sm:w-auto",children:[a.jsx(us,{className:"w-5 h-5 mb-1"}),a.jsx("input",{type:"date",value:z,onChange:Ne=>M(Ne.target.value),className:"bg-transparent text-white placeholder-blue-200 border-0 focus:ring-0 p-0 text-sm font-medium w-full"})]}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 flex items-center w-full sm:w-auto",children:[a.jsx(To,{className:"w-4 h-4 mr-2 text-white"}),a.jsx("input",{type:"text",placeholder:"Search students...",value:V,onChange:Ne=>J(Ne.target.value),className:"bg-transparent text-white placeholder-blue-200 border-0 focus:ring-0 p-0 text-sm font-medium w-full sm:w-48"})]}),a.jsxs("button",{onClick:()=>ee(!0),className:"bg-green-500/20 backdrop-blur-sm hover:bg-green-500/30 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 w-full sm:w-auto",children:[a.jsx(Fd,{className:"w-4 h-4"}),a.jsx("span",{children:"Generate QR"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Total Present"}),a.jsx("p",{className:"text-2xl font-bold",children:Y.totalPresent})]}),a.jsx(Ii,{className:"w-8 h-8 text-blue-200"})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Checked In"}),a.jsx("p",{className:"text-2xl font-bold",children:Y.totalCheckedIn})]}),a.jsx(Zn,{className:"w-8 h-8 text-green-200"})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Checked Out"}),a.jsx("p",{className:"text-2xl font-bold",children:Y.totalCheckedOut})]}),a.jsx(Zn,{className:"w-8 h-8 text-red-200"})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Records"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>T("daily"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${L==="daily"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Daily"}),a.jsx("button",{onClick:()=>T("monthly"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${L==="monthly"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Monthly"})]})]})}),H?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading attendance..."})]}):_.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration Number"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check In"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check Out"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(Ne=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ne.studentName}),a.jsx("div",{className:"text-sm text-gray-500",children:Ne.phone})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.registrationNumber}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:He(Ne.firstIn||"")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:He(Ne.lastOut||"")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ne.lastOut?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:Ne.lastOut?"Checked Out":"Checked In"})})]},Ne.studentId))})]})}),ce.totalRecords>0&&a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6",children:[a.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>Oe(ce.page-1),disabled:ce.page<=1,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>Oe(ce.page+1),disabled:ce.page>=ce.totalPages,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:(ce.page-1)*ce.limit+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(ce.page*ce.limit,ce.totalRecords)})," of"," ",a.jsx("span",{className:"font-medium",children:ce.totalRecords})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[a.jsxs("button",{onClick:()=>Oe(ce.page-1),disabled:ce.page<=1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(gr,{className:"h-5 w-5 rotate-180","aria-hidden":"true"})]}),a.jsxs("button",{onClick:()=>Oe(ce.page+1),disabled:ce.page>=ce.totalPages,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(gr,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(us,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Attendance Records"}),a.jsx("p",{className:"text-gray-500",children:"No students have marked attendance for the selected date."})]})]})]}),te!=="compact"&&ke&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Manage Library Students"}),h?a.jsx("button",{onClick:()=>{m(!1),_e()},className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition duration-200",children:"Cancel"}):a.jsx("button",{onClick:()=>m(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition duration-200",children:"Add Student"})]}),h&&a.jsx(KR,{}),a.jsx(Vte,{selectedBranchId:b},r.toString())]}),te!=="compact"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Expiring Soon (Library)"}),a.jsx(Fae,{selectedBranchId:b})]})]})})]}),q&&a.jsx(y1,{isOpen:Z,libraryCode:q.library_code,libraryName:q.name,libraryId:q.id,onClose:()=>ee(!1)})]}):null},Uae=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-orange-50 p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold text-purple-600 mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-700 mb-6",children:"Oops! Page not found"}),a.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"The page you are looking for might have been removed or is temporarily unavailable."}),a.jsx(Tt,{to:"/",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Return to Dashboard"})]})}),Zd=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Br("w-full caption-bottom text-sm",e),...t})}));Zd.displayName="Table";const Jd=C.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:Br("[&_tr]:border-b",e),...t}));Jd.displayName="TableHeader";const eu=C.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:Br("[&_tr:last-child]:border-0",e),...t}));eu.displayName="TableBody";const Qae=C.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:Br("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Qae.displayName="TableFooter";const ks=C.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:Br("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ks.displayName="TableRow";const hr=C.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:Br("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));hr.displayName="TableHead";const sr=C.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:Br("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));sr.displayName="TableCell";const GR=C.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:Br("mt-4 text-sm text-muted-foreground",e),...t}));GR.displayName="TableCaption";const GI=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",Hae=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(""),[o,l]=C.useState(1),[d,u]=C.useState(10),[h,m]=C.useState(!1),[y,p]=C.useState("card"),[b,N]=C.useState(""),[S,w]=C.useState("asc"),B=Ur(),I=fl();C.useEffect(()=>{(async()=>{try{const ee=await Re.getActiveStudents();if(!ee||!Array.isArray(ee.students))throw new Error("Invalid data received for active students");t(ee.students),n(!1)}catch(ee){console.error("Failed to fetch active students:",ee.message),n(!1)}})()},[]),C.useEffect(()=>{l(1)},[s]);const _=Z=>{b===Z?w(S==="asc"?"desc":"asc"):(N(Z),w("asc"))},P=Je.useMemo(()=>b?[...e].sort((Z,ee)=>{var Y,K,ce,oe,Q,G,te,se,de,ge,ue,Ee,ke,_e;let q,X;switch(b){case"name":q=((Y=Z.name)==null?void 0:Y.toLowerCase())||"",X=((K=ee.name)==null?void 0:K.toLowerCase())||"";break;case"registrationNumber":q=((ce=Z.registrationNumber)==null?void 0:ce.toLowerCase())||"",X=((oe=ee.registrationNumber)==null?void 0:oe.toLowerCase())||"";break;case"phone":q=Z.phone||"",X=ee.phone||"";break;case"status":q=((Q=Z.status)==null?void 0:Q.toLowerCase())||"",X=((G=ee.status)==null?void 0:G.toLowerCase())||"";break;case"seat":q=((te=Z.seatNumber)==null?void 0:te.toLowerCase())||((ge=(de=(se=Z.assignments)==null?void 0:se[0])==null?void 0:de.seatNumber)==null?void 0:ge.toLowerCase())||"",X=((ue=ee.seatNumber)==null?void 0:ue.toLowerCase())||((_e=(ke=(Ee=ee.assignments)==null?void 0:Ee[0])==null?void 0:ke.seatNumber)==null?void 0:_e.toLowerCase())||"";break;case"membershipEnd":q=new Date(Z.membershipEnd||0).getTime(),X=new Date(ee.membershipEnd||0).getTime();break;default:return 0}return q<X?S==="asc"?-1:1:q>X?S==="asc"?1:-1:0}):e,[e,b,S]),H=Z=>b!==Z?null:S==="asc"?a.jsx(hv,{size:16}):a.jsx(p1,{size:16}),D=P.filter(Z=>Z.name.toLowerCase().includes(s.toLowerCase())||Z.phone.toLowerCase().includes(s.toLowerCase())||Z.registrationNumber&&Z.registrationNumber.toLowerCase().includes(s.toLowerCase())),L=o*d,T=L-d,z=D.slice(T,L),M=Math.ceil(D.length/d),V=async Z=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Re.deleteStudent(Z),t(e.filter(ee=>ee.id!==Z)),Se.success("Student deleted successfully")}catch(ee){console.error("Failed to delete student:",ee.message),Se.error("Failed to delete student")}},J=Z=>{B(`/students/${Z}`)};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(an,{isCollapsed:h,setIsCollapsed:m,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"border-b bg-white/80 backdrop-blur-md",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex gap-3 overflow-x-auto py-3",children:[a.jsxs(Tt,{to:"/students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-indigo-50 via-sky-50 to-indigo-100 text-indigo-700 ring-1 ring-indigo-200/50 ${I.pathname.startsWith("/students")&&!I.pathname.startsWith("/students/")?"ring-2 ring-indigo-300":""}`,children:[a.jsx(ui,{className:"h-4 w-4"}),"All Students"]}),a.jsxs(Tt,{to:"/active-students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-emerald-50 via-teal-50 to-emerald-100 text-emerald-700 ring-1 ring-emerald-200/50 ${I.pathname.startsWith("/active-students")?"ring-2 ring-emerald-300":""}`,children:[a.jsx(Ii,{className:"h-4 w-4"}),"Active Students"]}),a.jsxs(Tt,{to:"/expired-memberships",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-rose-50 via-pink-50 to-rose-100 text-rose-700 ring-1 ring-rose-200/50 ${I.pathname.startsWith("/expired-memberships")?"ring-2 ring-rose-300":""}`,children:[a.jsx(na,{className:"h-4 w-4"}),"Expired Memberships"]}),a.jsxs(Tt,{to:"/expiring-memberships?range=1-2",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-amber-50 via-orange-50 to-amber-100 text-amber-700 ring-1 ring-amber-200/50 ${I.pathname.startsWith("/expiring-memberships")?"ring-2 ring-amber-300":""}`,children:[a.jsx(Zn,{className:"h-4 w-4"}),"Expiring 1–2 Days"]})]})})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Active Students"}),a.jsx("p",{className:"text-gray-500",children:"Manage all your active students"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("h3",{className:"text-lg font-medium flex-1",children:"Active Students"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>p("list"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${y==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"List View",children:[a.jsx(kA,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"List"})]}),a.jsxs("button",{onClick:()=>p("card"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${y==="card"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Card View",children:[a.jsx(Qd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Cards"})]})]})]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:s,onChange:Z=>i(Z.target.value)})]})]}),y==="list"?r?a.jsx("div",{className:"flex justify-center p-8",children:"Loading active students..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Zd,{children:[a.jsx(Jd,{children:a.jsxs(ks,{children:[a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("name"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Name"}),H("name")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("registrationNumber"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Registration Number"}),H("registrationNumber")]})}),a.jsx(hr,{className:"hidden md:table-cell cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("phone"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Phone"}),H("phone")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("status"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Status"}),H("status")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("seat"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Seat"}),H("seat")]})}),a.jsx(hr,{className:"hidden md:table-cell cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("membershipEnd"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Membership End"}),H("membershipEnd")]})}),a.jsx(hr,{children:"Actions"})]})}),a.jsx(eu,{children:z.length>0?z.map(Z=>{var ee,q;return a.jsxs(ks,{children:[a.jsx(sr,{children:Z.name}),a.jsx(sr,{children:Z.registrationNumber||"N/A"}),a.jsx(sr,{className:"hidden md:table-cell",children:Z.phone}),a.jsx(sr,{children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Z.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Z.status==="active"?"Active":"Expired"})}),a.jsx(sr,{children:Z.seatNumber||((q=(ee=Z.assignments)==null?void 0:ee[0])==null?void 0:q.seatNumber)||"N/A"}),a.jsx(sr,{className:"hidden md:table-cell",children:GI(Z.membershipEnd)}),a.jsxs(sr,{children:[a.jsx("button",{onClick:()=>J(Z.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:a.jsx(ya,{size:16})}),a.jsx("button",{onClick:()=>V(Z.id),className:"text-red-600 hover:text-red-800 p-2",children:a.jsx(Xs,{size:16})})]})]},Z.id)}):a.jsx(ks,{children:a.jsx(sr,{colSpan:7,className:"text-center py-8 text-gray-500",children:D.length===0?"No active students found matching your search.":"No active students on this page."})})})]})}):a.jsx("div",{className:"p-4",children:r?a.jsx("div",{className:"text-center text-gray-500 py-8",children:"Loading active students..."}):z.length>0?a.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-stretch",children:z.map(Z=>{var ee,q;return a.jsxs("div",{className:"rounded-xl border shadow-md p-4 flex flex-col h-full bg-gradient-to-br from-emerald-50 via-teal-50 to-emerald-100 border-emerald-200 ring-1 ring-white/60 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:Z.name}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(us,{className:"h-3.5 w-3.5 text-indigo-400"})," Reg: ",Z.registrationNumber||"N/A"]})]}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Active"})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(di,{className:"h-3.5 w-3.5 text-slate-400"})," Phone"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:Z.phone})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(FS,{className:"h-3.5 w-3.5 text-slate-400"})," Seat"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:Z.seatNumber||((q=(ee=Z.assignments)==null?void 0:ee[0])==null?void 0:q.seatNumber)||"N/A"})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60 col-span-2",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(us,{className:"h-3.5 w-3.5 text-slate-400"})," Membership End"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:GI(Z.membershipEnd)})]})]}),a.jsx("div",{className:"mt-4 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>J(Z.id),className:"text-blue-600 hover:text-blue-800 p-2 rounded hover:bg-blue-50",title:"View Details",children:a.jsx(ya,{size:16})}),a.jsx("button",{onClick:()=>V(Z.id),className:"text-red-600 hover:text-red-800 p-2 rounded hover:bg-red-50",title:"Delete",children:a.jsx(Xs,{size:16})})]})})]},Z.id)})}):a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No active students found."})}),!r&&D.length>0&&a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border-t border-gray-200 px-6 py-3 space-y-2 md:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:d,onChange:Z=>{u(Number(Z.target.value)),l(1)},className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>l(Z=>Math.max(Z-1,1)),disabled:o===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(QA,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",o," of ",M]}),a.jsx("button",{onClick:()=>l(Z=>Math.min(Z+1,M)),disabled:o===M,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(gr,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",T+1," to ",Math.min(L,D.length)," of ",D.length," students"]})]})]})]})})]})]})};var $R={exports:{}};(function(e,t){(function(r,n){e.exports=n(C)})(typeof self<"u"?self:Rf,function(r){return function(){var n={155:function(w){w.exports=r}},s={};function i(w){var B=s[w];if(B!==void 0)return B.exports;var I=s[w]={exports:{}};return n[w](I,I.exports,i),I.exports}i.d=function(w,B){for(var I in B)i.o(B,I)&&!i.o(w,I)&&Object.defineProperty(w,I,{enumerable:!0,get:B[I]})},i.o=function(w,B){return Object.prototype.hasOwnProperty.call(w,B)},i.r=function(w){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var o={};i.r(o),i.d(o,{useReactToPrint:function(){return S}});var l=i(155);function d({level:w="error",messages:B,suppressErrors:I=!1}){I||(w==="error"?console.error(B):w==="warning"?console.warn(B):console.debug(B))}function u(w,B){if(B||!w){const I=document.getElementById("printWindow");I&&document.body.removeChild(I)}}function h(w){return w instanceof Error?w:new Error("Unknown Error")}function m(w,B){const{documentTitle:I,onAfterPrint:_,onPrintError:P,preserveAfterPrint:H,print:D,suppressErrors:L}=B;setTimeout(()=>{var T,z;if(w.contentWindow){let M=function(){_==null||_(),u(H)};if(w.contentWindow.focus(),D)D(w).then(M).catch(V=>{P?P("print",h(V)):d({messages:["An error was thrown by the specified `print` function"],suppressErrors:L})});else{if(w.contentWindow.print){const V=(z=(T=w.contentDocument)===null||T===void 0?void 0:T.title)!==null&&z!==void 0?z:"",J=w.ownerDocument.title;I&&(w.ownerDocument.title=I,w.contentDocument&&(w.contentDocument.title=I)),w.contentWindow.print(),I&&(w.ownerDocument.title=J,w.contentDocument&&(w.contentDocument.title=V))}else d({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:L});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(V=>{var J,Z;return((Z=(J=navigator.userAgent)!==null&&J!==void 0?J:navigator.vendor)!==null&&Z!==void 0?Z:"opera"in window&&window.opera).match(V)})?setTimeout(M,500):M()}}else d({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:L})},500)}function y(w){const B=[],I=document.createTreeWalker(w,NodeFilter.SHOW_ELEMENT,null);let _=I.nextNode();for(;_;)B.push(_),_=I.nextNode();return B}function p(w,B,I){const _=y(w),P=y(B);if(_.length===P.length)for(let H=0;H<_.length;H++){const D=_[H],L=P[H],T=D.shadowRoot;if(T!==null){const z=L.attachShadow({mode:T.mode});z.innerHTML=T.innerHTML,p(T,z,I)}}else d({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",w,B],suppressErrors:I})}const b=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function N(w,B,I,_){var P,H,D,L,T;const{contentNode:z,clonedContentNode:M,clonedImgNodes:V,clonedVideoNodes:J,numResourcesToLoad:Z,originalCanvasNodes:ee}=I,{bodyClass:q,fonts:X,ignoreGlobalStyles:Y,pageStyle:K,nonce:ce,suppressErrors:oe,copyShadowRoots:Q}=_;w.onload=null;const G=(P=w.contentDocument)!==null&&P!==void 0?P:(H=w.contentWindow)===null||H===void 0?void 0:H.document;if(G){const te=G.body.appendChild(M);Q&&p(z,te,!!oe),X&&(!((D=w.contentDocument)===null||D===void 0)&&D.fonts&&(!((L=w.contentWindow)===null||L===void 0)&&L.FontFace)?X.forEach(_e=>{const Oe=new FontFace(_e.family,_e.source,{weight:_e.weight,style:_e.style});w.contentDocument.fonts.add(Oe),Oe.loaded.then(()=>{B(Oe)}).catch(He=>{B(Oe,["Failed loading the font:",Oe,"Load error:",h(He)])})}):(X.forEach(_e=>{B(_e)}),d({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:oe})));const se=K??b,de=G.createElement("style");ce&&(de.setAttribute("nonce",ce),G.head.setAttribute("nonce",ce)),de.appendChild(G.createTextNode(se)),G.head.appendChild(de),q&&G.body.classList.add(...q.split(" "));const ge=G.querySelectorAll("canvas");for(let _e=0;_e<ee.length;++_e){const Oe=ee[_e],He=ge[_e];if(He===void 0){d({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Oe],suppressErrors:oe});continue}const Ne=He.getContext("2d");Ne&&Ne.drawImage(Oe,0,0)}for(let _e=0;_e<V.length;_e++){const Oe=V[_e],He=Oe.getAttribute("src");if(He){const Ne=new Image;Ne.onload=()=>{B(Oe)},Ne.onerror=(me,Pe,nt,Xe,Ue)=>{B(Oe,["Error loading <img>",Oe,"Error",Ue])},Ne.src=He}else B(Oe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Oe])}for(let _e=0;_e<J.length;_e++){const Oe=J[_e];Oe.preload="auto";const He=Oe.getAttribute("poster");if(He){const Ne=new Image;Ne.onload=()=>{B(Oe)},Ne.onerror=(me,Pe,nt,Xe,Ue)=>{B(Oe,["Error loading video poster",He,"for video",Oe,"Error:",Ue])},Ne.src=He}else Oe.readyState>=2?B(Oe):Oe.src?(Oe.onloadeddata=()=>{B(Oe)},Oe.onerror=(Ne,me,Pe,nt,Xe)=>{B(Oe,["Error loading video",Oe,"Error",Xe])},Oe.onstalled=()=>{B(Oe,["Loading video stalled, skipping",Oe])}):B(Oe,["Error loading video, `src` is empty",Oe])}const ue="select",Ee=z.querySelectorAll(ue),ke=G.querySelectorAll(ue);for(let _e=0;_e<Ee.length;_e++)ke[_e].value=Ee[_e].value;if(!Y){const _e=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Oe=0,He=_e.length;Oe<He;++Oe){const Ne=_e[Oe];if(Ne.tagName.toLowerCase()==="style"){const me=G.createElement(Ne.tagName),Pe=Ne.sheet;if(Pe){let nt="";try{const Xe=Pe.cssRules.length;for(let Ue=0;Ue<Xe;++Ue)typeof Pe.cssRules[Ue].cssText=="string"&&(nt+=`${Pe.cssRules[Ue].cssText}\r
`)}catch(Xe){d({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ne,`Original error: ${h(Xe).message}`],level:"warning"})}me.setAttribute("id",`react-to-print-${Oe}`),ce&&me.setAttribute("nonce",ce),me.appendChild(G.createTextNode(nt)),G.head.appendChild(me)}}else if(Ne.getAttribute("href"))if(Ne.hasAttribute("disabled"))d({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ne],level:"warning"}),B(Ne);else{const me=G.createElement(Ne.tagName);for(let Pe=0,nt=Ne.attributes.length;Pe<nt;++Pe){const Xe=Ne.attributes[Pe];Xe&&me.setAttribute(Xe.nodeName,(T=Xe.nodeValue)!==null&&T!==void 0?T:"")}me.onload=()=>{B(me)},me.onerror=(Pe,nt,Xe,Ue,yt)=>{B(me,["Failed to load",me,"Error:",yt])},ce&&me.setAttribute("nonce",ce),G.head.appendChild(me)}else d({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ne],level:"warning"}),B(Ne)}}}Z===0&&m(w,_)}function S({bodyClass:w,contentRef:B,copyShadowRoots:I,documentTitle:_,fonts:P,ignoreGlobalStyles:H,nonce:D,onAfterPrint:L,onBeforePrint:T,onPrintError:z,pageStyle:M,preserveAfterPrint:V,print:J,suppressErrors:Z}){return(0,l.useCallback)(ee=>{function q(){const X={bodyClass:w,contentRef:B,copyShadowRoots:I,documentTitle:_,fonts:P,ignoreGlobalStyles:H,nonce:D,onAfterPrint:L,onBeforePrint:T,onPrintError:z,pageStyle:M,preserveAfterPrint:V,print:J,suppressErrors:Z},Y=function(){const oe=document.createElement("iframe");return oe.width=`${document.documentElement.clientWidth}px`,oe.height=`${document.documentElement.clientHeight}px`,oe.style.position="absolute",oe.style.top=`-${document.documentElement.clientHeight+100}px`,oe.style.left=`-${document.documentElement.clientWidth+100}px`,oe.id="printWindow",oe.srcdoc="<!DOCTYPE html>",oe}(),K=function(oe,Q){const{contentRef:G,fonts:te,ignoreGlobalStyles:se,suppressErrors:de}=Q,ge=function({contentRef:He,optionalContent:Ne,suppressErrors:me}){return Ne&&typeof Ne=="function"?(He&&d({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Ne()):He?He.current:void d({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:me})}({contentRef:G,optionalContent:oe,suppressErrors:de});if(!ge)return;const ue=ge.cloneNode(!0),Ee=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ke=ue.querySelectorAll("img"),_e=ue.querySelectorAll("video"),Oe=te?te.length:0;return{contentNode:ge,clonedContentNode:ue,clonedImgNodes:ke,clonedVideoNodes:_e,numResourcesToLoad:(se?0:Ee.length)+ke.length+_e.length+Oe,originalCanvasNodes:ge.querySelectorAll("canvas")}}(ee,X);if(!K)return void d({messages:["There is nothing to print"],suppressErrors:Z});const ce=function(oe,Q,G){const{suppressErrors:te}=oe,se=[],de=[];return function(ge,ue){se.includes(ge)?d({level:"debug",messages:["Tried to mark a resource that has already been handled",ge],suppressErrors:te}):(ue?(d({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...ue],suppressErrors:te}),de.push(ge)):se.push(ge),se.length+de.length===Q&&m(G,oe))}}(X,K.numResourcesToLoad,Y);(function(oe,Q,G,te){oe.onload=()=>{N(oe,Q,G,te)},document.body.appendChild(oe)})(Y,ce,K,X)}u(V,!0),T?T().then(()=>{q()}).catch(X=>{z==null||z("onBeforePrint",h(X))}):q()},[w,B,I,_,P,H,D,L,T,z,M,V,J,Z])}return o}()})})($R);var qR=$R.exports;const Vae="modulepreload",Kae=function(e,t){return new URL(e,t).href},$I={},g5=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Kae(u,n),u in $I)return;$I[u]=!0;const h=u.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(!!n)for(let b=o.length-1;b>=0;b--){const N=o[b];if(N.href===u&&(!h||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${m}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":Vae,h||(p.as="script"),p.crossOrigin="",p.href=u,d&&p.setAttribute("nonce",d),document.head.appendChild(p),h)return new Promise((b,N)=>{p.addEventListener("load",b),p.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var $l=Uint8Array,No=Uint16Array,rE=Int32Array,nE=new $l([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sE=new $l([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),qI=new $l([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XR=function(e,t){for(var r=new No(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new rE(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},YR=XR(nE,2),zae=YR.b,UN=YR.r;zae[28]=258,UN[258]=28;var Wae=XR(sE,0),XI=Wae.r,QN=new No(32768);for(var Jn=0;Jn<32768;++Jn){var Cu=(Jn&43690)>>1|(Jn&21845)<<1;Cu=(Cu&52428)>>2|(Cu&13107)<<2,Cu=(Cu&61680)>>4|(Cu&3855)<<4,QN[Jn]=((Cu&65280)>>8|(Cu&255)<<8)>>1}var Qp=function(e,t,r){for(var n=e.length,s=0,i=new No(t);s<n;++s)e[s]&&++i[e[s]-1];var o=new No(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new No(1<<t);var d=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],h=t-e[s],m=o[e[s]-1]++<<h,y=m|(1<<h)-1;m<=y;++m)l[QN[m]>>d]=u}else for(l=new No(n),s=0;s<n;++s)e[s]&&(l[s]=QN[o[e[s]-1]++]>>15-e[s]);return l},rf=new $l(288);for(var Jn=0;Jn<144;++Jn)rf[Jn]=8;for(var Jn=144;Jn<256;++Jn)rf[Jn]=9;for(var Jn=256;Jn<280;++Jn)rf[Jn]=7;for(var Jn=280;Jn<288;++Jn)rf[Jn]=8;var Zw=new $l(32);for(var Jn=0;Jn<32;++Jn)Zw[Jn]=5;var Gae=Qp(rf,9,0),$ae=Qp(Zw,5,0),ZR=function(e){return(e+7)/8|0},qae=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new $l(e.subarray(t,r))},dd=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Ym=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},x5=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:eM,l:0};if(s==1){var o=new $l(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(P,H){return P.f-H.f}),r.push({s:-1,f:25001});var l=r[0],d=r[1],u=0,h=1,m=2;for(r[0]={s:-1,f:l.f+d.f,l,r:d};h!=s-1;)l=r[r[u].f<r[m].f?u++:m++],d=r[u!=h&&r[u].f<r[m].f?u++:m++],r[h++]={s:-1,f:l.f+d.f,l,r:d};for(var y=i[0].s,n=1;n<s;++n)i[n].s>y&&(y=i[n].s);var p=new No(y+1),b=HN(r[h-1],p,0);if(b>t){var n=0,N=0,S=b-t,w=1<<S;for(i.sort(function(H,D){return p[D.s]-p[H.s]||H.f-D.f});n<s;++n){var B=i[n].s;if(p[B]>t)N+=w-(1<<b-p[B]),p[B]=t;else break}for(N>>=S;N>0;){var I=i[n].s;p[I]<t?N-=1<<t-p[I]++-1:++n}for(;n>=0&&N;--n){var _=i[n].s;p[_]==t&&(--p[_],++N)}b=t}return{t:new $l(p),l:b}},HN=function(e,t,r){return e.s==-1?Math.max(HN(e.l,t,r+1),HN(e.r,t,r+1)):t[e.s]=r},YI=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new No(++t),n=0,s=e[0],i=1,o=function(d){r[n++]=d},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},Zm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},JR=function(e,t,r){var n=r.length,s=ZR(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},ZI=function(e,t,r,n,s,i,o,l,d,u,h){dd(t,h++,r),++s[256];for(var m=x5(s,15),y=m.t,p=m.l,b=x5(i,15),N=b.t,S=b.l,w=YI(y),B=w.c,I=w.n,_=YI(N),P=_.c,H=_.n,D=new No(19),L=0;L<B.length;++L)++D[B[L]&31];for(var L=0;L<P.length;++L)++D[P[L]&31];for(var T=x5(D,7),z=T.t,M=T.l,V=19;V>4&&!z[qI[V-1]];--V);var J=u+5<<3,Z=Zm(s,rf)+Zm(i,Zw)+o,ee=Zm(s,y)+Zm(i,N)+o+14+3*V+Zm(D,z)+2*D[16]+3*D[17]+7*D[18];if(d>=0&&J<=Z&&J<=ee)return JR(t,h,e.subarray(d,d+u));var q,X,Y,K;if(dd(t,h,1+(ee<Z)),h+=2,ee<Z){q=Qp(y,p,0),X=y,Y=Qp(N,S,0),K=N;var ce=Qp(z,M,0);dd(t,h,I-257),dd(t,h+5,H-1),dd(t,h+10,V-4),h+=14;for(var L=0;L<V;++L)dd(t,h+3*L,z[qI[L]]);h+=3*V;for(var oe=[B,P],Q=0;Q<2;++Q)for(var G=oe[Q],L=0;L<G.length;++L){var te=G[L]&31;dd(t,h,ce[te]),h+=z[te],te>15&&(dd(t,h,G[L]>>5&127),h+=G[L]>>12)}}else q=Gae,X=rf,Y=$ae,K=Zw;for(var L=0;L<l;++L){var se=n[L];if(se>255){var te=se>>18&31;Ym(t,h,q[te+257]),h+=X[te+257],te>7&&(dd(t,h,se>>23&31),h+=nE[te]);var de=se&31;Ym(t,h,Y[de]),h+=K[de],de>3&&(Ym(t,h,se>>5&8191),h+=sE[de])}else Ym(t,h,q[se]),h+=X[se]}return Ym(t,h,q[256]),h+X[256]},Xae=new rE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eM=new $l(0),Yae=function(e,t,r,n,s,i){var o=i.z||e.length,l=new $l(n+o+5*(1+Math.ceil(o/7e3))+s),d=l.subarray(n,l.length-s),u=i.l,h=(i.r||0)&7;if(t){h&&(d[0]=i.r>>3);for(var m=Xae[t-1],y=m>>13,p=m&8191,b=(1<<r)-1,N=i.p||new No(32768),S=i.h||new No(b+1),w=Math.ceil(r/3),B=2*w,I=function(Ne){return(e[Ne]^e[Ne+1]<<w^e[Ne+2]<<B)&b},_=new rE(25e3),P=new No(288),H=new No(32),D=0,L=0,T=i.i||0,z=0,M=i.w||0,V=0;T+2<o;++T){var J=I(T),Z=T&32767,ee=S[J];if(N[Z]=ee,S[J]=Z,M<=T){var q=o-T;if((D>7e3||z>24576)&&(q>423||!u)){h=ZI(e,d,0,_,P,H,L,z,V,T-V,h),z=D=L=0,V=T;for(var X=0;X<286;++X)P[X]=0;for(var X=0;X<30;++X)H[X]=0}var Y=2,K=0,ce=p,oe=Z-ee&32767;if(q>2&&J==I(T-oe))for(var Q=Math.min(y,q)-1,G=Math.min(32767,T),te=Math.min(258,q);oe<=G&&--ce&&Z!=ee;){if(e[T+Y]==e[T+Y-oe]){for(var se=0;se<te&&e[T+se]==e[T+se-oe];++se);if(se>Y){if(Y=se,K=oe,se>Q)break;for(var de=Math.min(oe,se-2),ge=0,X=0;X<de;++X){var ue=T-oe+X&32767,Ee=N[ue],ke=ue-Ee&32767;ke>ge&&(ge=ke,ee=ue)}}}Z=ee,ee=N[Z],oe+=Z-ee&32767}if(K){_[z++]=268435456|UN[Y]<<18|XI[K];var _e=UN[Y]&31,Oe=XI[K]&31;L+=nE[_e]+sE[Oe],++P[257+_e],++H[Oe],M=T+Y,++D}else _[z++]=e[T],++P[e[T]]}}for(T=Math.max(T,M);T<o;++T)_[z++]=e[T],++P[e[T]];h=ZI(e,d,u,_,P,H,L,z,V,T-V,h),u||(i.r=h&7|d[h/8|0]<<3,h-=7,i.h=S,i.p=N,i.i=T,i.w=M)}else{for(var T=i.w||0;T<o+u;T+=65535){var He=T+65535;He>=o&&(d[h/8|0]=u,He=o),h=JR(d,h+1,e.subarray(T,He))}i.i=o}return qae(l,0,n+ZR(h)+s)},tM=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Zae=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new $l(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return Yae(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},rM=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Jae=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=tM();s.p(t.dictionary),rM(e,2,s.d())}};function VN(e,t){t||(t={});var r=tM();r.p(e);var n=Zae(e,t,t.dictionary?6:2,4);return Jae(n,t),rM(n,n.length-4,r.d()),n}var eie=typeof TextDecoder<"u"&&new TextDecoder,tie=0;try{eie.decode(eM,{stream:!0}),tie=1}catch{}function JI(e,t="utf8"){return new TextDecoder(t).decode(e)}const rie=new TextEncoder;function nie(e){return rie.encode(e)}const sie=1024*8,aie=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),y5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class aE{constructor(t=sie,r={}){Bn(this,"buffer");Bn(this,"byteLength");Bn(this,"byteOffset");Bn(this,"length");Bn(this,"offset");Bn(this,"lastWrittenByte");Bn(this,"littleEndian");Bn(this,"_data");Bn(this,"_mark");Bn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof aE)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=y5[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===aie&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const d=new y5[r](l.buffer);return this.offset+=n,d.reverse(),d}const o=new y5[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return JI(this.readBytes(t))}decodeText(t=1,r="utf8"){return JI(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(nie(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const iie=4,eF=0,tF=1,oie=2;function bm(e){let t=e.length;for(;--t>=0;)e[t]=0}const lie=0,nM=1,cie=2,die=3,uie=258,iE=29,w1=256,Dg=w1+1+iE,b0=30,oE=19,sM=2*Dg+1,mh=15,w5=16,Aie=7,lE=256,aM=16,iM=17,oM=18,KN=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Hy=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),hie=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),lM=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fie=512,yd=new Array((Dg+2)*2);bm(yd);const Hp=new Array(b0*2);bm(Hp);const Og=new Array(fie);bm(Og);const Rg=new Array(uie-die+1);bm(Rg);const cE=new Array(iE);bm(cE);const Jw=new Array(b0);bm(Jw);function v5(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let cM,dM,uM;function b5(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const AM=e=>e<256?Og[e]:Og[256+(e>>>7)],Mg=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Wi=(e,t,r)=>{e.bi_valid>w5-r?(e.bi_buf|=t<<e.bi_valid&65535,Mg(e,e.bi_buf),e.bi_buf=t>>w5-e.bi_valid,e.bi_valid+=r-w5):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},wc=(e,t,r)=>{Wi(e,r[t*2],r[t*2+1])},hM=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},mie=e=>{e.bi_valid===16?(Mg(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},pie=(e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,d=t.stat_desc.max_length;let u,h,m,y,p,b,N=0;for(y=0;y<=mh;y++)e.bl_count[y]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<sM;u++)h=e.heap[u],y=r[r[h*2+1]*2+1]+1,y>d&&(y=d,N++),r[h*2+1]=y,!(h>n)&&(e.bl_count[y]++,p=0,h>=l&&(p=o[h-l]),b=r[h*2],e.opt_len+=b*(y+p),i&&(e.static_len+=b*(s[h*2+1]+p)));if(N!==0){do{for(y=d-1;e.bl_count[y]===0;)y--;e.bl_count[y]--,e.bl_count[y+1]+=2,e.bl_count[d]--,N-=2}while(N>0);for(y=d;y!==0;y--)for(h=e.bl_count[y];h!==0;)m=e.heap[--u],!(m>n)&&(r[m*2+1]!==y&&(e.opt_len+=(y-r[m*2+1])*r[m*2],r[m*2+1]=y),h--)}},fM=(e,t,r)=>{const n=new Array(mh+1);let s=0,i,o;for(i=1;i<=mh;i++)s=s+r[i-1]<<1,n[i]=s;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=hM(n[l]++,l))}},gie=()=>{let e,t,r,n,s;const i=new Array(mh+1);for(r=0,n=0;n<iE-1;n++)for(cE[n]=r,e=0;e<1<<KN[n];e++)Rg[r++]=n;for(Rg[r-1]=n,s=0,n=0;n<16;n++)for(Jw[n]=s,e=0;e<1<<Hy[n];e++)Og[s++]=n;for(s>>=7;n<b0;n++)for(Jw[n]=s<<7,e=0;e<1<<Hy[n]-7;e++)Og[256+s++]=n;for(t=0;t<=mh;t++)i[t]=0;for(e=0;e<=143;)yd[e*2+1]=8,e++,i[8]++;for(;e<=255;)yd[e*2+1]=9,e++,i[9]++;for(;e<=279;)yd[e*2+1]=7,e++,i[7]++;for(;e<=287;)yd[e*2+1]=8,e++,i[8]++;for(fM(yd,Dg+1,i),e=0;e<b0;e++)Hp[e*2+1]=5,Hp[e*2]=hM(e,5);cM=new v5(yd,KN,w1+1,Dg,mh),dM=new v5(Hp,Hy,0,b0,mh),uM=new v5(new Array(0),hie,0,oE,Aie)},mM=e=>{let t;for(t=0;t<Dg;t++)e.dyn_ltree[t*2]=0;for(t=0;t<b0;t++)e.dyn_dtree[t*2]=0;for(t=0;t<oE;t++)e.bl_tree[t*2]=0;e.dyn_ltree[lE*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},pM=e=>{e.bi_valid>8?Mg(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},rF=(e,t,r,n)=>{const s=t*2,i=r*2;return e[s]<e[i]||e[s]===e[i]&&n[t]<=n[r]},C5=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&rF(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!rF(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},nF=(e,t,r)=>{let n,s,i=0,o,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],n===0?wc(e,s,t):(o=Rg[s],wc(e,o+w1+1,t),l=KN[o],l!==0&&(s-=cE[o],Wi(e,s,l)),n--,o=AM(n),wc(e,o,r),l=Hy[o],l!==0&&(n-=Jw[o],Wi(e,n,l)));while(i<e.sym_next);wc(e,lE,t)},zN=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,l,d=-1,u;for(e.heap_len=0,e.heap_max=sM,o=0;o<i;o++)r[o*2]!==0?(e.heap[++e.heap_len]=d=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=d<2?++d:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,s&&(e.static_len-=n[u*2+1]);for(t.max_code=d,o=e.heap_len>>1;o>=1;o--)C5(e,r,o);u=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C5(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,r[u*2]=r[o*2]+r[l*2],e.depth[u]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,r[o*2+1]=r[l*2+1]=u,e.heap[1]=u++,C5(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],pie(e,t),fM(r,d,e.bl_count)},sF=(e,t,r)=>{let n,s=-1,i,o=t[0*2+1],l=0,d=7,u=4;for(o===0&&(d=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=o,o=t[(n+1)*2+1],!(++l<d&&i===o)&&(l<u?e.bl_tree[i*2]+=l:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[aM*2]++):l<=10?e.bl_tree[iM*2]++:e.bl_tree[oM*2]++,l=0,s=i,o===0?(d=138,u=3):i===o?(d=6,u=3):(d=7,u=4))},aF=(e,t,r)=>{let n,s=-1,i,o=t[0*2+1],l=0,d=7,u=4;for(o===0&&(d=138,u=3),n=0;n<=r;n++)if(i=o,o=t[(n+1)*2+1],!(++l<d&&i===o)){if(l<u)do wc(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==s&&(wc(e,i,e.bl_tree),l--),wc(e,aM,e.bl_tree),Wi(e,l-3,2)):l<=10?(wc(e,iM,e.bl_tree),Wi(e,l-3,3)):(wc(e,oM,e.bl_tree),Wi(e,l-11,7));l=0,s=i,o===0?(d=138,u=3):i===o?(d=6,u=3):(d=7,u=4)}},xie=e=>{let t;for(sF(e,e.dyn_ltree,e.l_desc.max_code),sF(e,e.dyn_dtree,e.d_desc.max_code),zN(e,e.bl_desc),t=oE-1;t>=3&&e.bl_tree[lM[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},yie=(e,t,r,n)=>{let s;for(Wi(e,t-257,5),Wi(e,r-1,5),Wi(e,n-4,4),s=0;s<n;s++)Wi(e,e.bl_tree[lM[s]*2+1],3);aF(e,e.dyn_ltree,t-1),aF(e,e.dyn_dtree,r-1)},wie=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return eF;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return tF;for(r=32;r<w1;r++)if(e.dyn_ltree[r*2]!==0)return tF;return eF};let iF=!1;const vie=e=>{iF||(gie(),iF=!0),e.l_desc=new b5(e.dyn_ltree,cM),e.d_desc=new b5(e.dyn_dtree,dM),e.bl_desc=new b5(e.bl_tree,uM),e.bi_buf=0,e.bi_valid=0,mM(e)},gM=(e,t,r,n)=>{Wi(e,(lie<<1)+(n?1:0),3),pM(e),Mg(e,r),Mg(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},bie=e=>{Wi(e,nM<<1,3),wc(e,lE,yd),mie(e)},Cie=(e,t,r,n)=>{let s,i,o=0;e.level>0?(e.strm.data_type===oie&&(e.strm.data_type=wie(e)),zN(e,e.l_desc),zN(e,e.d_desc),o=xie(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&t!==-1?gM(e,t,r,n):e.strategy===iie||i===s?(Wi(e,(nM<<1)+(n?1:0),3),nF(e,yd,Hp)):(Wi(e,(cie<<1)+(n?1:0),3),yie(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),nF(e,e.dyn_ltree,e.dyn_dtree)),mM(e),n&&pM(e)},Nie=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Rg[r]+w1+1)*2]++,e.dyn_dtree[AM(t)*2]++),e.sym_next===e.sym_end);var Bie=vie,Sie=gM,Eie=Cie,jie=Nie,Iie=bie,Fie={_tr_init:Bie,_tr_stored_block:Sie,_tr_flush_block:Eie,_tr_tally:jie,_tr_align:Iie};const kie=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Ug=kie;const _ie=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Tie=new Uint32Array(_ie()),Lie=(e,t,r,n)=>{const s=Tie,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var ma=Lie,nm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},v1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Pie,_tr_stored_block:WN,_tr_flush_block:Die,_tr_tally:gA,_tr_align:Oie}=Fie,{Z_NO_FLUSH:xA,Z_PARTIAL_FLUSH:Rie,Z_FULL_FLUSH:Mie,Z_FINISH:al,Z_BLOCK:oF,Z_OK:ka,Z_STREAM_END:lF,Z_STREAM_ERROR:jc,Z_DATA_ERROR:Uie,Z_BUF_ERROR:N5,Z_DEFAULT_COMPRESSION:Qie,Z_FILTERED:Hie,Z_HUFFMAN_ONLY:Ix,Z_RLE:Vie,Z_FIXED:Kie,Z_DEFAULT_STRATEGY:zie,Z_UNKNOWN:Wie,Z_DEFLATED:Iv}=v1,Gie=9,$ie=15,qie=8,Xie=29,Yie=256,GN=Yie+1+Xie,Zie=30,Jie=19,eoe=2*GN+1,toe=15,en=3,Ju=258,Ic=Ju+en+1,roe=32,sm=42,dE=57,$N=69,qN=73,XN=91,YN=103,ph=113,mp=666,Bi=1,Cm=2,nf=3,Nm=4,noe=3,gh=(e,t)=>(e.msg=nm[t],t),cF=e=>e*2-(e>4?9:0),Ru=e=>{let t=e.length;for(;--t>=0;)e[t]=0},soe=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=s?r-s:0;while(--t);t=s,n=t;do r=e.prev[--n],e.prev[n]=r>=s?r-s:0;while(--t)};let aoe=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,yA=aoe;const wo=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Bo=(e,t)=>{Die(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,wo(e.strm)},hn=(e,t)=>{e.pending_buf[e.pending++]=t},Jm=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},ZN=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=Ug(e.adler,t,s,r):e.state.wrap===2&&(e.adler=ma(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},xM=(e,t)=>{let r=e.max_chain_length,n=e.strstart,s,i,o=e.prev_length,l=e.nice_match;const d=e.strstart>e.w_size-Ic?e.strstart-(e.w_size-Ic):0,u=e.window,h=e.w_mask,m=e.prev,y=e.strstart+Ju;let p=u[n+o-1],b=u[n+o];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(s=t,!(u[s+o]!==b||u[s+o-1]!==p||u[s]!==u[n]||u[++s]!==u[n+1])){n+=2,s++;do;while(u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&n<y);if(i=Ju-(y-n),n=y-Ju,i>o){if(e.match_start=t,o=i,i>=l)break;p=u[n+o-1],b=u[n+o]}}while((t=m[t&h])>d&&--r!==0);return o<=e.lookahead?o:e.lookahead},am=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ic)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),soe(e),n+=t),e.strm.avail_in===0)break;if(r=ZN(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=en)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=yA(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=yA(e,e.ins_h,e.window[s+en-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<en)););}while(e.lookahead<Ic&&e.strm.avail_in!==0)},yM=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,i,o=0,l=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,n>s+e.strm.avail_in&&(n=s+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==al||t===xA||n!==s+e.strm.avail_in)))break;o=t===al&&n===s+e.strm.avail_in?1:0,WN(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,wo(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(ZN(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Nm:t!==xA&&t!==al&&e.strm.avail_in===0&&e.strstart===e.block_start?Cm:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(ZN(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=r||(s||t===al)&&t!==xA&&e.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,o=t===al&&e.strm.avail_in===0&&n===s?1:0,WN(e,e.block_start,n,o),e.block_start+=n,wo(e.strm)),o?nf:Bi)},B5=(e,t)=>{let r,n;for(;;){if(e.lookahead<Ic){if(am(e),e.lookahead<Ic&&t===xA)return Bi;if(e.lookahead===0)break}if(r=0,e.lookahead>=en&&(e.ins_h=yA(e,e.ins_h,e.window[e.strstart+en-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Ic&&(e.match_length=xM(e,r)),e.match_length>=en)if(n=gA(e,e.strstart-e.match_start,e.match_length-en),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=en){e.match_length--;do e.strstart++,e.ins_h=yA(e,e.ins_h,e.window[e.strstart+en-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=yA(e,e.ins_h,e.window[e.strstart+1]);else n=gA(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Bo(e,!1),e.strm.avail_out===0))return Bi}return e.insert=e.strstart<en-1?e.strstart:en-1,t===al?(Bo(e,!0),e.strm.avail_out===0?nf:Nm):e.sym_next&&(Bo(e,!1),e.strm.avail_out===0)?Bi:Cm},Nf=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<Ic){if(am(e),e.lookahead<Ic&&t===xA)return Bi;if(e.lookahead===0)break}if(r=0,e.lookahead>=en&&(e.ins_h=yA(e,e.ins_h,e.window[e.strstart+en-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=en-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Ic&&(e.match_length=xM(e,r),e.match_length<=5&&(e.strategy===Hie||e.match_length===en&&e.strstart-e.match_start>4096)&&(e.match_length=en-1)),e.prev_length>=en&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-en,n=gA(e,e.strstart-1-e.prev_match,e.prev_length-en),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=yA(e,e.ins_h,e.window[e.strstart+en-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=en-1,e.strstart++,n&&(Bo(e,!1),e.strm.avail_out===0))return Bi}else if(e.match_available){if(n=gA(e,0,e.window[e.strstart-1]),n&&Bo(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Bi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=gA(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<en-1?e.strstart:en-1,t===al?(Bo(e,!0),e.strm.avail_out===0?nf:Nm):e.sym_next&&(Bo(e,!1),e.strm.avail_out===0)?Bi:Cm},ioe=(e,t)=>{let r,n,s,i;const o=e.window;for(;;){if(e.lookahead<=Ju){if(am(e),e.lookahead<=Ju&&t===xA)return Bi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=en&&e.strstart>0&&(s=e.strstart-1,n=o[s],n===o[++s]&&n===o[++s]&&n===o[++s])){i=e.strstart+Ju;do;while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<i);e.match_length=Ju-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=en?(r=gA(e,1,e.match_length-en),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=gA(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Bo(e,!1),e.strm.avail_out===0))return Bi}return e.insert=0,t===al?(Bo(e,!0),e.strm.avail_out===0?nf:Nm):e.sym_next&&(Bo(e,!1),e.strm.avail_out===0)?Bi:Cm},ooe=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(am(e),e.lookahead===0)){if(t===xA)return Bi;break}if(e.match_length=0,r=gA(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Bo(e,!1),e.strm.avail_out===0))return Bi}return e.insert=0,t===al?(Bo(e,!0),e.strm.avail_out===0?nf:Nm):e.sym_next&&(Bo(e,!1),e.strm.avail_out===0)?Bi:Cm};function cc(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const pp=[new cc(0,0,0,0,yM),new cc(4,4,8,4,B5),new cc(4,5,16,8,B5),new cc(4,6,32,32,B5),new cc(4,4,16,16,Nf),new cc(8,16,32,32,Nf),new cc(8,16,128,128,Nf),new cc(8,32,128,256,Nf),new cc(32,128,258,1024,Nf),new cc(32,258,258,4096,Nf)],loe=e=>{e.window_size=2*e.w_size,Ru(e.head),e.max_lazy_match=pp[e.level].max_lazy,e.good_match=pp[e.level].good_length,e.nice_match=pp[e.level].nice_length,e.max_chain_length=pp[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=en-1,e.match_available=0,e.ins_h=0};function coe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Iv,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(eoe*2),this.dyn_dtree=new Uint16Array((2*Zie+1)*2),this.bl_tree=new Uint16Array((2*Jie+1)*2),Ru(this.dyn_ltree),Ru(this.dyn_dtree),Ru(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(toe+1),this.heap=new Uint16Array(2*GN+1),Ru(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*GN+1),Ru(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const b1=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==sm&&t.status!==dE&&t.status!==$N&&t.status!==qN&&t.status!==XN&&t.status!==YN&&t.status!==ph&&t.status!==mp?1:0},wM=e=>{if(b1(e))return gh(e,jc);e.total_in=e.total_out=0,e.data_type=Wie;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?dE:t.wrap?sm:ph,e.adler=t.wrap===2?0:1,t.last_flush=-2,Pie(t),ka},vM=e=>{const t=wM(e);return t===ka&&loe(e.state),t},doe=(e,t)=>b1(e)||e.state.wrap!==2?jc:(e.state.gzhead=t,ka),bM=(e,t,r,n,s,i)=>{if(!e)return jc;let o=1;if(t===Qie&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>Gie||r!==Iv||n<8||n>15||t<0||t>9||i<0||i>Kie||n===8&&o!==1)return gh(e,jc);n===8&&(n=9);const l=new coe;return e.state=l,l.strm=e,l.status=sm,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+en-1)/en),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=r,vM(e)},uoe=(e,t)=>bM(e,t,Iv,$ie,qie,zie),Aoe=(e,t)=>{if(b1(e)||t>oF||t<0)return e?gh(e,jc):jc;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===mp&&t!==al)return gh(e,e.avail_out===0?N5:jc);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(wo(e),e.avail_out===0)return r.last_flush=-1,ka}else if(e.avail_in===0&&cF(t)<=cF(n)&&t!==al)return gh(e,N5);if(r.status===mp&&e.avail_in!==0)return gh(e,N5);if(r.status===sm&&r.wrap===0&&(r.status=ph),r.status===sm){let s=Iv+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=Ix||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=roe),s+=31-s%31,Jm(r,s),r.strstart!==0&&(Jm(r,e.adler>>>16),Jm(r,e.adler&65535)),e.adler=1,r.status=ph,wo(e),r.pending!==0)return r.last_flush=-1,ka}if(r.status===dE){if(e.adler=0,hn(r,31),hn(r,139),hn(r,8),r.gzhead)hn(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),hn(r,r.gzhead.time&255),hn(r,r.gzhead.time>>8&255),hn(r,r.gzhead.time>>16&255),hn(r,r.gzhead.time>>24&255),hn(r,r.level===9?2:r.strategy>=Ix||r.level<2?4:0),hn(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(hn(r,r.gzhead.extra.length&255),hn(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ma(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=$N;else if(hn(r,0),hn(r,0),hn(r,0),hn(r,0),hn(r,0),hn(r,r.level===9?2:r.strategy>=Ix||r.level<2?4:0),hn(r,noe),r.status=ph,wo(e),r.pending!==0)return r.last_flush=-1,ka}if(r.status===$N){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=ma(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=l,wo(e),r.pending!==0)return r.last_flush=-1,ka;s=0,i-=l}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(e.adler=ma(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=qN}if(r.status===qN){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=ma(e.adler,r.pending_buf,r.pending-s,s)),wo(e),r.pending!==0)return r.last_flush=-1,ka;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,hn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=ma(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=XN}if(r.status===XN){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=ma(e.adler,r.pending_buf,r.pending-s,s)),wo(e),r.pending!==0)return r.last_flush=-1,ka;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,hn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=ma(e.adler,r.pending_buf,r.pending-s,s))}r.status=YN}if(r.status===YN){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(wo(e),r.pending!==0))return r.last_flush=-1,ka;hn(r,e.adler&255),hn(r,e.adler>>8&255),e.adler=0}if(r.status=ph,wo(e),r.pending!==0)return r.last_flush=-1,ka}if(e.avail_in!==0||r.lookahead!==0||t!==xA&&r.status!==mp){let s=r.level===0?yM(r,t):r.strategy===Ix?ooe(r,t):r.strategy===Vie?ioe(r,t):pp[r.level].func(r,t);if((s===nf||s===Nm)&&(r.status=mp),s===Bi||s===nf)return e.avail_out===0&&(r.last_flush=-1),ka;if(s===Cm&&(t===Rie?Oie(r):t!==oF&&(WN(r,0,0,!1),t===Mie&&(Ru(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),wo(e),e.avail_out===0))return r.last_flush=-1,ka}return t!==al?ka:r.wrap<=0?lF:(r.wrap===2?(hn(r,e.adler&255),hn(r,e.adler>>8&255),hn(r,e.adler>>16&255),hn(r,e.adler>>24&255),hn(r,e.total_in&255),hn(r,e.total_in>>8&255),hn(r,e.total_in>>16&255),hn(r,e.total_in>>24&255)):(Jm(r,e.adler>>>16),Jm(r,e.adler&65535)),wo(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?ka:lF)},hoe=e=>{if(b1(e))return jc;const t=e.state.status;return e.state=null,t===ph?gh(e,Uie):ka},foe=(e,t)=>{let r=t.length;if(b1(e))return jc;const n=e.state,s=n.wrap;if(s===2||s===1&&n.status!==sm||n.lookahead)return jc;if(s===1&&(e.adler=Ug(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){s===0&&(Ru(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(t.subarray(r-n.w_size,r),0),t=d,r=n.w_size}const i=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,am(n);n.lookahead>=en;){let d=n.strstart,u=n.lookahead-(en-1);do n.ins_h=yA(n,n.ins_h,n.window[d+en-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--u);n.strstart=d,n.lookahead=en-1,am(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=en-1,n.match_available=0,e.next_in=o,e.input=l,e.avail_in=i,n.wrap=s,ka};var moe=uoe,poe=bM,goe=vM,xoe=wM,yoe=doe,woe=Aoe,voe=hoe,boe=foe,Coe="pako deflate (from Nodeca project)",Vp={deflateInit:moe,deflateInit2:poe,deflateReset:goe,deflateResetKeep:xoe,deflateSetHeader:yoe,deflate:woe,deflateEnd:voe,deflateSetDictionary:boe,deflateInfo:Coe};const Noe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Boe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Noe(r,n)&&(e[n]=r[n])}}return e},Soe=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let o=e[n];r.set(o,s),s+=o.length}return r},Fv={assign:Boe,flattenChunks:Soe};let CM=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{CM=!1}const Qg=new Uint8Array(256);for(let e=0;e<256;e++)Qg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Qg[254]=Qg[254]=1;var Eoe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const joe=(e,t)=>{if(t<65534&&e.subarray&&CM)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Ioe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let o=e[n++];if(o<128){i[s++]=o;continue}let l=Qg[o];if(l>4){i[s++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return joe(i,s)},Foe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Qg[e[r]]>t?r:t},Hg={string2buf:Eoe,buf2string:Ioe,utf8border:Foe};function koe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var NM=koe;const BM=Object.prototype.toString,{Z_NO_FLUSH:_oe,Z_SYNC_FLUSH:Toe,Z_FULL_FLUSH:Loe,Z_FINISH:Poe,Z_OK:e2,Z_STREAM_END:Doe,Z_DEFAULT_COMPRESSION:Ooe,Z_DEFAULT_STRATEGY:Roe,Z_DEFLATED:Moe}=v1;function uE(e){this.options=Fv.assign({level:Ooe,method:Moe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Roe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NM,this.strm.avail_out=0;let r=Vp.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==e2)throw new Error(nm[r]);if(t.header&&Vp.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Hg.string2buf(t.dictionary):BM.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Vp.deflateSetDictionary(this.strm,n),r!==e2)throw new Error(nm[r]);this._dict_set=!0}}uE.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?Poe:_oe,typeof e=="string"?r.input=Hg.string2buf(e):BM.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===Toe||i===Loe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=Vp.deflate(r,i),s===Doe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=Vp.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===e2;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};uE.prototype.onData=function(e){this.chunks.push(e)};uE.prototype.onEnd=function(e){e===e2&&(this.result=Fv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Fx=16209,Uoe=16191;var Qoe=function(t,r){let n,s,i,o,l,d,u,h,m,y,p,b,N,S,w,B,I,_,P,H,D,L,T,z;const M=t.state;n=t.next_in,T=t.input,s=n+(t.avail_in-5),i=t.next_out,z=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),d=M.dmax,u=M.wsize,h=M.whave,m=M.wnext,y=M.window,p=M.hold,b=M.bits,N=M.lencode,S=M.distcode,w=(1<<M.lenbits)-1,B=(1<<M.distbits)-1;e:do{b<15&&(p+=T[n++]<<b,b+=8,p+=T[n++]<<b,b+=8),I=N[p&w];t:for(;;){if(_=I>>>24,p>>>=_,b-=_,_=I>>>16&255,_===0)z[i++]=I&65535;else if(_&16){P=I&65535,_&=15,_&&(b<_&&(p+=T[n++]<<b,b+=8),P+=p&(1<<_)-1,p>>>=_,b-=_),b<15&&(p+=T[n++]<<b,b+=8,p+=T[n++]<<b,b+=8),I=S[p&B];r:for(;;){if(_=I>>>24,p>>>=_,b-=_,_=I>>>16&255,_&16){if(H=I&65535,_&=15,b<_&&(p+=T[n++]<<b,b+=8,b<_&&(p+=T[n++]<<b,b+=8)),H+=p&(1<<_)-1,H>d){t.msg="invalid distance too far back",M.mode=Fx;break e}if(p>>>=_,b-=_,_=i-o,H>_){if(_=H-_,_>h&&M.sane){t.msg="invalid distance too far back",M.mode=Fx;break e}if(D=0,L=y,m===0){if(D+=u-_,_<P){P-=_;do z[i++]=y[D++];while(--_);D=i-H,L=z}}else if(m<_){if(D+=u+m-_,_-=m,_<P){P-=_;do z[i++]=y[D++];while(--_);if(D=0,m<P){_=m,P-=_;do z[i++]=y[D++];while(--_);D=i-H,L=z}}}else if(D+=m-_,_<P){P-=_;do z[i++]=y[D++];while(--_);D=i-H,L=z}for(;P>2;)z[i++]=L[D++],z[i++]=L[D++],z[i++]=L[D++],P-=3;P&&(z[i++]=L[D++],P>1&&(z[i++]=L[D++]))}else{D=i-H;do z[i++]=z[D++],z[i++]=z[D++],z[i++]=z[D++],P-=3;while(P>2);P&&(z[i++]=z[D++],P>1&&(z[i++]=z[D++]))}}else if(_&64){t.msg="invalid distance code",M.mode=Fx;break e}else{I=S[(I&65535)+(p&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){M.mode=Uoe;break e}else{t.msg="invalid literal/length code",M.mode=Fx;break e}else{I=N[(I&65535)+(p&(1<<_)-1)];continue t}break}}while(n<s&&i<l);P=b>>3,n-=P,b-=P<<3,p&=(1<<b)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<l?257+(l-i):257-(i-l),M.hold=p,M.bits=b};const Bf=15,dF=852,uF=592,AF=0,S5=1,hF=2,Hoe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Voe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Koe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),zoe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Woe=(e,t,r,n,s,i,o,l)=>{const d=l.bits;let u=0,h=0,m=0,y=0,p=0,b=0,N=0,S=0,w=0,B=0,I,_,P,H,D,L=null,T;const z=new Uint16Array(Bf+1),M=new Uint16Array(Bf+1);let V=null,J,Z,ee;for(u=0;u<=Bf;u++)z[u]=0;for(h=0;h<n;h++)z[t[r+h]]++;for(p=d,y=Bf;y>=1&&z[y]===0;y--);if(p>y&&(p=y),y===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<y&&z[m]===0;m++);for(p<m&&(p=m),S=1,u=1;u<=Bf;u++)if(S<<=1,S-=z[u],S<0)return-1;if(S>0&&(e===AF||y!==1))return-1;for(M[1]=0,u=1;u<Bf;u++)M[u+1]=M[u]+z[u];for(h=0;h<n;h++)t[r+h]!==0&&(o[M[t[r+h]]++]=h);if(e===AF?(L=V=o,T=20):e===S5?(L=Hoe,V=Voe,T=257):(L=Koe,V=zoe,T=0),B=0,h=0,u=m,D=i,b=p,N=0,P=-1,w=1<<p,H=w-1,e===S5&&w>dF||e===hF&&w>uF)return 1;for(;;){J=u-N,o[h]+1<T?(Z=0,ee=o[h]):o[h]>=T?(Z=V[o[h]-T],ee=L[o[h]-T]):(Z=96,ee=0),I=1<<u-N,_=1<<b,m=_;do _-=I,s[D+(B>>N)+_]=J<<24|Z<<16|ee|0;while(_!==0);for(I=1<<u-1;B&I;)I>>=1;if(I!==0?(B&=I-1,B+=I):B=0,h++,--z[u]===0){if(u===y)break;u=t[r+o[h]]}if(u>p&&(B&H)!==P){for(N===0&&(N=p),D+=m,b=u-N,S=1<<b;b+N<y&&(S-=z[b+N],!(S<=0));)b++,S<<=1;if(w+=1<<b,e===S5&&w>dF||e===hF&&w>uF)return 1;P=B&H,s[P]=p<<24|b<<16|D-i|0}}return B!==0&&(s[D+B]=u-N<<24|64<<16|0),l.bits=p,0};var Kp=Woe;const Goe=0,SM=1,EM=2,{Z_FINISH:fF,Z_BLOCK:$oe,Z_TREES:kx,Z_OK:sf,Z_STREAM_END:qoe,Z_NEED_DICT:Xoe,Z_STREAM_ERROR:hl,Z_DATA_ERROR:jM,Z_MEM_ERROR:IM,Z_BUF_ERROR:Yoe,Z_DEFLATED:mF}=v1,kv=16180,pF=16181,gF=16182,xF=16183,yF=16184,wF=16185,vF=16186,bF=16187,CF=16188,NF=16189,t2=16190,ud=16191,E5=16192,BF=16193,j5=16194,SF=16195,EF=16196,jF=16197,IF=16198,_x=16199,Tx=16200,FF=16201,kF=16202,_F=16203,TF=16204,LF=16205,I5=16206,PF=16207,DF=16208,os=16209,FM=16210,kM=16211,Zoe=852,Joe=592,ele=15,tle=ele,OF=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function rle(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const mf=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<kv||t.mode>kM?1:0},_M=e=>{if(mf(e))return hl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=kv,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Zoe),t.distcode=t.distdyn=new Int32Array(Joe),t.sane=1,t.back=-1,sf},TM=e=>{if(mf(e))return hl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,_M(e)},LM=(e,t)=>{let r;if(mf(e))return hl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?hl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,TM(e))},PM=(e,t)=>{if(!e)return hl;const r=new rle;e.state=r,r.strm=e,r.window=null,r.mode=kv;const n=LM(e,t);return n!==sf&&(e.state=null),n},nle=e=>PM(e,tle);let RF=!0,F5,k5;const sle=e=>{if(RF){F5=new Int32Array(512),k5=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Kp(SM,e.lens,0,288,F5,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Kp(EM,e.lens,0,32,k5,0,e.work,{bits:5}),RF=!1}e.lencode=F5,e.lenbits=9,e.distcode=k5,e.distbits=5},DM=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},ale=(e,t)=>{let r,n,s,i,o,l,d,u,h,m,y,p,b,N,S=0,w,B,I,_,P,H,D,L;const T=new Uint8Array(4);let z,M;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(mf(e)||!e.output||!e.input&&e.avail_in!==0)return hl;r=e.state,r.mode===ud&&(r.mode=E5),o=e.next_out,s=e.output,d=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,h=r.bits,m=l,y=d,L=sf;e:for(;;)switch(r.mode){case kv:if(r.wrap===0){r.mode=E5;break}for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=u&255,T[1]=u>>>8&255,r.check=ma(r.check,T,2,0),u=0,h=0,r.mode=pF;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=os;break}if((u&15)!==mF){e.msg="unknown compression method",r.mode=os;break}if(u>>>=4,h-=4,D=(u&15)+8,r.wbits===0&&(r.wbits=D),D>15||D>r.wbits){e.msg="invalid window size",r.mode=os;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?NF:ud,u=0,h=0;break;case pF:for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==mF){e.msg="unknown compression method",r.mode=os;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=os;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=ma(r.check,T,2,0)),u=0,h=0,r.mode=gF;case gF:for(;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,r.check=ma(r.check,T,4,0)),u=0,h=0,r.mode=xF;case xF:for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=ma(r.check,T,2,0)),u=0,h=0,r.mode=yF;case yF:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=ma(r.check,T,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=wF;case wF:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),D)),r.flags&512&&r.wrap&4&&(r.check=ma(r.check,n,p,i)),l-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=vF;case vF:if(r.flags&2048){if(l===0)break e;p=0;do D=n[i+p++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D));while(D&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=ma(r.check,n,p,i)),l-=p,i+=p,D)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=bF;case bF:if(r.flags&4096){if(l===0)break e;p=0;do D=n[i+p++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D));while(D&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=ma(r.check,n,p,i)),l-=p,i+=p,D)break e}else r.head&&(r.head.comment=null);r.mode=CF;case CF:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=os;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=ud;break;case NF:for(;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}e.adler=r.check=OF(u),u=0,h=0,r.mode=t2;case t2:if(r.havedict===0)return e.next_out=o,e.avail_out=d,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,Xoe;e.adler=r.check=1,r.mode=ud;case ud:if(t===$oe||t===kx)break e;case E5:if(r.last){u>>>=h&7,h-=h&7,r.mode=I5;break}for(;h<3;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=BF;break;case 1:if(sle(r),r.mode=_x,t===kx){u>>>=2,h-=2;break e}break;case 2:r.mode=EF;break;case 3:e.msg="invalid block type",r.mode=os}u>>>=2,h-=2;break;case BF:for(u>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=os;break}if(r.length=u&65535,u=0,h=0,r.mode=j5,t===kx)break e;case j5:r.mode=SF;case SF:if(p=r.length,p){if(p>l&&(p=l),p>d&&(p=d),p===0)break e;s.set(n.subarray(i,i+p),o),l-=p,i+=p,d-=p,o+=p,r.length-=p;break}r.mode=ud;break;case EF:for(;h<14;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=os;break}r.have=0,r.mode=jF;case jF:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.lens[V[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[V[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,z={bits:r.lenbits},L=Kp(Goe,r.lens,0,19,r.lencode,0,r.work,z),r.lenbits=z.bits,L){e.msg="invalid code lengths set",r.mode=os;break}r.have=0,r.mode=IF;case IF:for(;r.have<r.nlen+r.ndist;){for(;S=r.lencode[u&(1<<r.lenbits)-1],w=S>>>24,B=S>>>16&255,I=S&65535,!(w<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(I<16)u>>>=w,h-=w,r.lens[r.have++]=I;else{if(I===16){for(M=w+2;h<M;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(u>>>=w,h-=w,r.have===0){e.msg="invalid bit length repeat",r.mode=os;break}D=r.lens[r.have-1],p=3+(u&3),u>>>=2,h-=2}else if(I===17){for(M=w+3;h<M;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=w,h-=w,D=0,p=3+(u&7),u>>>=3,h-=3}else{for(M=w+7;h<M;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=w,h-=w,D=0,p=11+(u&127),u>>>=7,h-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=os;break}for(;p--;)r.lens[r.have++]=D}}if(r.mode===os)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=os;break}if(r.lenbits=9,z={bits:r.lenbits},L=Kp(SM,r.lens,0,r.nlen,r.lencode,0,r.work,z),r.lenbits=z.bits,L){e.msg="invalid literal/lengths set",r.mode=os;break}if(r.distbits=6,r.distcode=r.distdyn,z={bits:r.distbits},L=Kp(EM,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,z),r.distbits=z.bits,L){e.msg="invalid distances set",r.mode=os;break}if(r.mode=_x,t===kx)break e;case _x:r.mode=Tx;case Tx:if(l>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,Qoe(e,y),o=e.next_out,s=e.output,d=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,h=r.bits,r.mode===ud&&(r.back=-1);break}for(r.back=0;S=r.lencode[u&(1<<r.lenbits)-1],w=S>>>24,B=S>>>16&255,I=S&65535,!(w<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(B&&!(B&240)){for(_=w,P=B,H=I;S=r.lencode[H+((u&(1<<_+P)-1)>>_)],w=S>>>24,B=S>>>16&255,I=S&65535,!(_+w<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=_,h-=_,r.back+=_}if(u>>>=w,h-=w,r.back+=w,r.length=I,B===0){r.mode=LF;break}if(B&32){r.back=-1,r.mode=ud;break}if(B&64){e.msg="invalid literal/length code",r.mode=os;break}r.extra=B&15,r.mode=FF;case FF:if(r.extra){for(M=r.extra;h<M;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=kF;case kF:for(;S=r.distcode[u&(1<<r.distbits)-1],w=S>>>24,B=S>>>16&255,I=S&65535,!(w<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(!(B&240)){for(_=w,P=B,H=I;S=r.distcode[H+((u&(1<<_+P)-1)>>_)],w=S>>>24,B=S>>>16&255,I=S&65535,!(_+w<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=_,h-=_,r.back+=_}if(u>>>=w,h-=w,r.back+=w,B&64){e.msg="invalid distance code",r.mode=os;break}r.offset=I,r.extra=B&15,r.mode=_F;case _F:if(r.extra){for(M=r.extra;h<M;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=os;break}r.mode=TF;case TF:if(d===0)break e;if(p=y-d,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=os;break}p>r.wnext?(p-=r.wnext,b=r.wsize-p):b=r.wnext-p,p>r.length&&(p=r.length),N=r.window}else N=s,b=o-r.offset,p=r.length;p>d&&(p=d),d-=p,r.length-=p;do s[o++]=N[b++];while(--p);r.length===0&&(r.mode=Tx);break;case LF:if(d===0)break e;s[o++]=r.length,d--,r.mode=Tx;break;case I5:if(r.wrap){for(;h<32;){if(l===0)break e;l--,u|=n[i++]<<h,h+=8}if(y-=d,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?ma(r.check,s,y,o-y):Ug(r.check,s,y,o-y)),y=d,r.wrap&4&&(r.flags?u:OF(u))!==r.check){e.msg="incorrect data check",r.mode=os;break}u=0,h=0}r.mode=PF;case PF:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=os;break}u=0,h=0}r.mode=DF;case DF:L=qoe;break e;case os:L=jM;break e;case FM:return IM;case kM:default:return hl}return e.next_out=o,e.avail_out=d,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,(r.wsize||y!==e.avail_out&&r.mode<os&&(r.mode<I5||t!==fF))&&DM(e,e.output,e.next_out,y-e.avail_out),m-=e.avail_in,y-=e.avail_out,e.total_in+=m,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?ma(r.check,s,y,e.next_out-y):Ug(r.check,s,y,e.next_out-y)),e.data_type=r.bits+(r.last?64:0)+(r.mode===ud?128:0)+(r.mode===_x||r.mode===j5?256:0),(m===0&&y===0||t===fF)&&L===sf&&(L=Yoe),L},ile=e=>{if(mf(e))return hl;let t=e.state;return t.window&&(t.window=null),e.state=null,sf},ole=(e,t)=>{if(mf(e))return hl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,sf):hl},lle=(e,t)=>{const r=t.length;let n,s,i;return mf(e)||(n=e.state,n.wrap!==0&&n.mode!==t2)?hl:n.mode===t2&&(s=1,s=Ug(s,t,r,0),s!==n.check)?jM:(i=DM(e,t,r,r),i?(n.mode=FM,IM):(n.havedict=1,sf))};var cle=TM,dle=LM,ule=_M,Ale=nle,hle=PM,fle=ale,mle=ile,ple=ole,gle=lle,xle="pako inflate (from Nodeca project)",wd={inflateReset:cle,inflateReset2:dle,inflateResetKeep:ule,inflateInit:Ale,inflateInit2:hle,inflate:fle,inflateEnd:mle,inflateGetHeader:ple,inflateSetDictionary:gle,inflateInfo:xle};function yle(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wle=yle;const OM=Object.prototype.toString,{Z_NO_FLUSH:vle,Z_FINISH:ble,Z_OK:Vg,Z_STREAM_END:_5,Z_NEED_DICT:T5,Z_STREAM_ERROR:Cle,Z_DATA_ERROR:MF,Z_MEM_ERROR:Nle}=v1;function C1(e){this.options=Fv.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NM,this.strm.avail_out=0;let r=wd.inflateInit2(this.strm,t.windowBits);if(r!==Vg)throw new Error(nm[r]);if(this.header=new wle,wd.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Hg.string2buf(t.dictionary):OM.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=wd.inflateSetDictionary(this.strm,t.dictionary),r!==Vg)))throw new Error(nm[r])}C1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?ble:vle,OM.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=wd.inflate(r,o),i===T5&&s&&(i=wd.inflateSetDictionary(r,s),i===Vg?i=wd.inflate(r,o):i===MF&&(i=T5));r.avail_in>0&&i===_5&&r.state.wrap>0&&e[r.next_in]!==0;)wd.inflateReset(r),i=wd.inflate(r,o);switch(i){case Cle:case MF:case T5:case Nle:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===_5))if(this.options.to==="string"){let d=Hg.utf8border(r.output,r.next_out),u=r.next_out-d,h=Hg.buf2string(r.output,d);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(d,d+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Vg&&l===0)){if(i===_5)return i=wd.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};C1.prototype.onData=function(e){this.chunks.push(e)};C1.prototype.onEnd=function(e){e===Vg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Fv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function AE(e,t){const r=new C1(t);if(r.push(e),r.err)throw r.msg||nm[r.err];return r.result}function Ble(e,t){return t=t||{},t.raw=!0,AE(e,t)}var Sle=C1,Ele=AE,jle=Ble,Ile=AE,Fle=v1,kle={Inflate:Sle,inflate:Ele,inflateRaw:jle,ungzip:Ile,constants:Fle};const{Inflate:_le,inflate:Tle,inflateRaw:$4e,ungzip:q4e}=kle;var UF=_le,Lle=Tle;const RM=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;RM[e]=t}const QF=4294967295;function Ple(e,t,r){let n=e;for(let s=0;s<r;s++)n=RM[(n^t[s])&255]^n>>>8;return n}function Dle(e,t){return(Ple(QF,e,t)^QF)>>>0}function HF(e,t,r){const n=e.readUint32(),s=Dle(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function MM(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function UM(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function QM(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function HM(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function VM(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+Ole(t[i-s],r[i],r[i-s])&255}}function Ole(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return s<=i&&s<=o?e:i<=o?t:r}function Rle(e,t,r,n,s,i){switch(e){case 0:MM(t,r,s);break;case 1:UM(t,r,s,i);break;case 2:QM(t,r,n,s);break;case 3:HM(t,r,n,s,i);break;case 4:VM(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Mle=new Uint16Array([255]),Ule=new Uint8Array(Mle.buffer),Qle=Ule[0]===255;function Hle(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,d=new Uint8Array(n*r*l);let u=0;for(let h=0;h<7;h++){const m=o[h],y=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((n-m.y)/m.yStep);if(y<=0||p<=0)continue;const b=y*l,N=new Uint8Array(b);for(let S=0;S<p;S++){const w=t[u++],B=t.subarray(u,u+b);u+=b;const I=new Uint8Array(b);Rle(w,B,I,N,b,l),N.set(I);for(let _=0;_<y;_++){const P=m.x+_*m.xStep,H=m.y+S*m.yStep;if(!(P>=r||H>=n))for(let D=0;D<l;D++)d[(H*r+P)*l+D]=I[_*l+D]}}}if(i===16){const h=new Uint16Array(d.buffer);if(Qle)for(let m=0;m<h.length;m++)h[m]=Vle(h[m]);return h}else return d}function Vle(e){return(e&255)<<8|e>>8&255}const Kle=new Uint16Array([255]),zle=new Uint8Array(Kle.buffer),Wle=zle[0]===255,Gle=new Uint8Array(0);function VF(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),d=new Uint8Array(n*l);let u=Gle,h=0,m,y;for(let p=0;p<n;p++){switch(m=t.subarray(h+1,h+1+l),y=d.subarray(p*l,(p+1)*l),t[h]){case 0:MM(m,y,l);break;case 1:UM(m,y,l,o);break;case 2:QM(m,y,u,l);break;case 3:HM(m,y,u,l,o);break;case 4:VM(m,y,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=y,h+=l+1}if(i===16){const p=new Uint16Array(d.buffer);if(Wle)for(let b=0;b<p.length;b++)p[b]=$le(p[b]);return p}else return d}function $le(e){return(e&255)<<8|e>>8&255}const Vy=Uint8Array.of(137,80,78,71,13,10,26,10);function KF(e){if(!qle(e.readBytes(Vy.length)))throw new Error("wrong PNG signature")}function qle(e){if(e.length<Vy.length)return!1;for(let t=0;t<Vy.length;t++)if(e[t]!==Vy[t])return!1;return!0}const Xle="tEXt",Yle=0,KM=new TextDecoder("latin1");function Zle(e){if(ece(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Jle=/^[\u0000-\u00FF]*$/;function ece(e){if(!Jle.test(e))throw new Error("invalid latin1 text")}function tce(e,t,r){const n=zM(t);e[n]=rce(t,r-n.length-1)}function zM(e){for(e.mark();e.readByte()!==Yle;);const t=e.offset;e.reset();const r=KM.decode(e.readBytes(t-e.offset-1));return e.skip(1),Zle(r),r}function rce(e,t){return KM.decode(e.readBytes(t))}const go={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},L5={UNKNOWN:-1,DEFLATE:0},zF={UNKNOWN:-1,ADAPTIVE:0},P5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lx={NONE:0,BACKGROUND:1,PREVIOUS:2},D5={SOURCE:0,OVER:1};class nce extends aE{constructor(r,n={}){super(r);Bn(this,"_checkCrc");Bn(this,"_inflator");Bn(this,"_png");Bn(this,"_apng");Bn(this,"_end");Bn(this,"_hasPalette");Bn(this,"_palette");Bn(this,"_hasTransparency");Bn(this,"_transparency");Bn(this,"_compressionMethod");Bn(this,"_filterMethod");Bn(this,"_interlaceMethod");Bn(this,"_colorType");Bn(this,"_isAnimated");Bn(this,"_numberOfFrames");Bn(this,"_numberOfPlays");Bn(this,"_frames");Bn(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new UF,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=L5.UNKNOWN,this._filterMethod=zF.UNKNOWN,this._interlaceMethod=P5.UNKNOWN,this._colorType=go.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(KF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(KF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Xle:tce(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?HF(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?HF(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=sce(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case go.GREYSCALE:s=1;break;case go.TRUECOLOUR:s=3;break;case go.INDEXED_COLOUR:s=1;break;case go.GREYSCALE_ALPHA:s=2;break;case go.TRUECOLOUR_ALPHA:s=4;break;case go.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==L5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case go.GREYSCALE:case go.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case go.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case go.UNKNOWN:case go.GREYSCALE_ALPHA:case go.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=zM(this),s=this.readUint8();if(s!==L5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Lle(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=VF({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case Lx.NONE:break;case Lx.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)s.data[l+d]=0}break;case Lx.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(o,l)=>{const d=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:d,frameIndex:u}};switch(n.blendOp){case D5.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:d,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++)r.data[d+h]=n.data[u+h]}break;case D5.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:d,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++){const m=n.data[u+this._png.channels-1]/s,y=h%(this._png.channels-1)===0?1:n.data[u+h],p=Math.floor(m*y+(1-m)*r.data[d+h]);r.data[d+h]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==zF.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===P5.NO_INTERLACE)this._png.data=VF({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===P5.ADAM7)this._png.data=Hle({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lx.NONE,blendOp:D5.SOURCE,data:r}),this._inflator=new UF,this._writingDataChunks=!1}}function sce(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var WF;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(WF||(WF={}));function ace(e,t){return new nce(e,t).decode()}var vr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function O5(){vr.console&&typeof vr.console.log=="function"&&vr.console.log.apply(vr.console,arguments)}var Rn={log:O5,warn:function(e){vr.console&&(typeof vr.console.warn=="function"?vr.console.warn.apply(vr.console,arguments):O5.call(null,arguments))},error:function(e){vr.console&&(typeof vr.console.error=="function"?vr.console.error.apply(vr.console,arguments):O5(e))}};function R5(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){nh(n.response,t,r)},n.onerror=function(){Rn.error("could not download file")},n.send()}function GF(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Px(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var nh=vr.saveAs||((typeof window>"u"?"undefined":sn(window))!=="object"||window!==vr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=vr.URL||vr.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?GF(s.href)?R5(e,t,r):Px(s,s.target="_blank"):Px(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Px(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(GF(e))R5(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Px(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:sn(i)!=="object"&&(Rn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return R5(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(vr.HTMLElement)||vr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":sn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},l.readAsDataURL(e)}else{var d=vr.URL||vr.webkitURL,u=d.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){d.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function WM(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),d=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),"#"+l+d+u}}var Ky=vr.atob.bind(vr),$F=vr.btoa.bind(vr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function M5(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=$a(r,n,s,i,t[0],7,-680876936),i=$a(i,r,n,s,t[1],12,-389564586),s=$a(s,i,r,n,t[2],17,606105819),n=$a(n,s,i,r,t[3],22,-1044525330),r=$a(r,n,s,i,t[4],7,-176418897),i=$a(i,r,n,s,t[5],12,1200080426),s=$a(s,i,r,n,t[6],17,-1473231341),n=$a(n,s,i,r,t[7],22,-45705983),r=$a(r,n,s,i,t[8],7,1770035416),i=$a(i,r,n,s,t[9],12,-1958414417),s=$a(s,i,r,n,t[10],17,-42063),n=$a(n,s,i,r,t[11],22,-1990404162),r=$a(r,n,s,i,t[12],7,1804603682),i=$a(i,r,n,s,t[13],12,-40341101),s=$a(s,i,r,n,t[14],17,-1502002290),r=qa(r,n=$a(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=qa(i,r,n,s,t[6],9,-1069501632),s=qa(s,i,r,n,t[11],14,643717713),n=qa(n,s,i,r,t[0],20,-373897302),r=qa(r,n,s,i,t[5],5,-701558691),i=qa(i,r,n,s,t[10],9,38016083),s=qa(s,i,r,n,t[15],14,-660478335),n=qa(n,s,i,r,t[4],20,-405537848),r=qa(r,n,s,i,t[9],5,568446438),i=qa(i,r,n,s,t[14],9,-1019803690),s=qa(s,i,r,n,t[3],14,-187363961),n=qa(n,s,i,r,t[8],20,1163531501),r=qa(r,n,s,i,t[13],5,-1444681467),i=qa(i,r,n,s,t[2],9,-51403784),s=qa(s,i,r,n,t[7],14,1735328473),r=Xa(r,n=qa(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Xa(i,r,n,s,t[8],11,-2022574463),s=Xa(s,i,r,n,t[11],16,1839030562),n=Xa(n,s,i,r,t[14],23,-35309556),r=Xa(r,n,s,i,t[1],4,-1530992060),i=Xa(i,r,n,s,t[4],11,1272893353),s=Xa(s,i,r,n,t[7],16,-155497632),n=Xa(n,s,i,r,t[10],23,-1094730640),r=Xa(r,n,s,i,t[13],4,681279174),i=Xa(i,r,n,s,t[0],11,-358537222),s=Xa(s,i,r,n,t[3],16,-722521979),n=Xa(n,s,i,r,t[6],23,76029189),r=Xa(r,n,s,i,t[9],4,-640364487),i=Xa(i,r,n,s,t[12],11,-421815835),s=Xa(s,i,r,n,t[15],16,530742520),r=Ya(r,n=Xa(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Ya(i,r,n,s,t[7],10,1126891415),s=Ya(s,i,r,n,t[14],15,-1416354905),n=Ya(n,s,i,r,t[5],21,-57434055),r=Ya(r,n,s,i,t[12],6,1700485571),i=Ya(i,r,n,s,t[3],10,-1894986606),s=Ya(s,i,r,n,t[10],15,-1051523),n=Ya(n,s,i,r,t[1],21,-2054922799),r=Ya(r,n,s,i,t[8],6,1873313359),i=Ya(i,r,n,s,t[15],10,-30611744),s=Ya(s,i,r,n,t[6],15,-1560198380),n=Ya(n,s,i,r,t[13],21,1309151649),r=Ya(r,n,s,i,t[4],6,-145523070),i=Ya(i,r,n,s,t[11],10,-1120210379),s=Ya(s,i,r,n,t[2],15,718787259),n=Ya(n,s,i,r,t[9],21,-343485551),e[0]=eA(r,e[0]),e[1]=eA(n,e[1]),e[2]=eA(s,e[2]),e[3]=eA(i,e[3])}function _v(e,t,r,n,s,i){return t=eA(eA(t,e),eA(n,i)),eA(t<<s|t>>>32-s,r)}function $a(e,t,r,n,s,i,o){return _v(t&r|~t&n,e,t,s,i,o)}function qa(e,t,r,n,s,i,o){return _v(t&n|r&~n,e,t,s,i,o)}function Xa(e,t,r,n,s,i,o){return _v(t^r^n,e,t,s,i,o)}function Ya(e,t,r,n,s,i,o){return _v(r^(t|~n),e,t,s,i,o)}function GM(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)M5(n,ice(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(M5(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,M5(n,s),n}function ice(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var qF="0123456789abcdef".split("");function oce(e){for(var t="",r=0;r<4;r++)t+=qF[e>>8*r+4&15]+qF[e>>8*r&15];return t}function lce(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function JN(e){return GM(e).map(lce).join("")}var cce=function(e){for(var t=0;t<e.length;t++)e[t]=oce(e[t]);return e.join("")}(GM("hello"))!="5d41402abc4b2a76b9719d911017c592";function eA(e,t){if(cce){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function e3(e,t){var r,n,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],d=0;d<256;d++)l[d]=d;var u=0;for(d=0;d<256;d++){var h=l[d];u=(u+h+o.charCodeAt(d))%256,l[d]=l[u],l[u]=h}r=e,n=l}else l=n;var m=t.length,y=0,p=0,b="";for(d=0;d<m;d++)p=(p+(h=l[y=(y+1)%256]))%256,l[y]=l[p],l[p]=h,o=l[(l[y]+l[p])%256],b+=String.fromCharCode(t.charCodeAt(d)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var XF={print:4,modify:8,copy:16,"annot-forms":32};function Mf(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(XF.perm!==void 0)throw new Error("Invalid permission: "+l);s+=XF[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=JN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=e3(this.encryptionKey,this.padding)}function Uf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function YF(e){if(sn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){vr.console&&Rn.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function r2(e){if(!(this instanceof r2))return new r2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function $M(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function oh(e,t,r,n,s){if(!(this instanceof oh))return new oh(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,$M.call(this,n,s)}function n0(e,t,r,n,s){if(!(this instanceof n0))return new n0(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,$M.call(this,n,s)}function Zt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,d=16,u="S",h=null;sn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=YF;var b="1.3",N=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(R){b=R};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return S};var w=p.__private__.getPageFormat=function(R){return S[R]};s=s||"a4";var B="compat",I="advanced",_=B;function P(){this.saveGraphicsState(),me(new Et(Rt,0,0,-Rt,0,Fr()*Rt).toString()+" cm"),this.setFontSize(this.getFontSize()/Rt),u="n",_=I}function H(){this.restoreGraphicsState(),u="S",_=B}var D=p.__private__.combineFontStyleAndFontWeight=function(R,ae){if(R=="bold"&&ae=="normal"||R=="bold"&&ae==400||R=="normal"&&ae=="italic"||R=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(R=ae==400||ae==="normal"?R==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||R!=="normal"?(ae==700?"bold":ae)+""+R:"bold"),R};p.advancedAPI=function(R){var ae=_===B;return ae&&P.call(this),typeof R!="function"||(R(this),ae&&H.call(this)),this},p.compatAPI=function(R){var ae=_===I;return ae&&H.call(this),typeof R!="function"||(R(this),ae&&P.call(this)),this},p.isAdvancedAPI=function(){return _===I};var L,T=function(R){if(_!==I)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=p.roundToPrecision=p.__private__.roundToPrecision=function(R,ae){var ve=t||ae;if(isNaN(R)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(ve).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof d=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return z(R,d)}:d==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return z(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return z(R,16)};var M=p.f2=p.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return z(R,2)},V=p.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return z(R,3)},J=p.scale=p.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return _===B?R*Rt:_===I?R:void 0},Z=function(R){return J(function(ae){return _===B?Fr()-ae:_===I?ae:void 0}(R))};p.__private__.setPrecision=p.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var ee,q="00000000000000000000000000000000",X=p.__private__.getFileId=function(){return q},Y=p.__private__.setFileId=function(R){return q=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(kn=new Mf(h.userPermissions,h.userPassword,h.ownerPassword,q)),q};p.setFileId=function(R){return Y(R),this},p.getFileId=function(){return X()};var K=p.__private__.convertDateToPDFDate=function(R){var ae=R.getTimezoneOffset(),ve=ae<0?"+":"-",he=Math.floor(Math.abs(ae/60)),Ie=Math.abs(ae%60),Ye=[ve,te(he),"'",te(Ie),"'"].join("");return["D:",R.getFullYear(),te(R.getMonth()+1),te(R.getDate()),te(R.getHours()),te(R.getMinutes()),te(R.getSeconds()),Ye].join("")},ce=p.__private__.convertPDFDateToDate=function(R){var ae=parseInt(R.substr(2,4),10),ve=parseInt(R.substr(6,2),10)-1,he=parseInt(R.substr(8,2),10),Ie=parseInt(R.substr(10,2),10),Ye=parseInt(R.substr(12,2),10),ot=parseInt(R.substr(14,2),10);return new Date(ae,ve,he,Ie,Ye,ot,0)},oe=p.__private__.setCreationDate=function(R){var ae;if(R===void 0&&(R=new Date),R instanceof Date)ae=K(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=R}return ee=ae},Q=p.__private__.getCreationDate=function(R){var ae=ee;return R==="jsDate"&&(ae=ce(ee)),ae};p.setCreationDate=function(R){return oe(R),this},p.getCreationDate=function(R){return Q(R)};var G,te=p.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},se=p.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},de=0,ge=[],ue=[],Ee=0,ke=[],_e=[],Oe=!1,He=ue;p.__private__.setCustomOutputDestination=function(R){Oe=!0,He=R};var Ne=function(R){Oe||(He=R)};p.__private__.resetCustomOutputDestination=function(){Oe=!1,He=ue};var me=p.__private__.out=function(R){return R=R.toString(),Ee+=R.length+1,He.push(R),He},Pe=p.__private__.write=function(R){return me(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},nt=p.__private__.getArrayBuffer=function(R){for(var ae=R.length,ve=new ArrayBuffer(ae),he=new Uint8Array(ve);ae--;)he[ae]=R.charCodeAt(ae);return ve},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Xe};var Ue=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(R){return Ue=_===I?R/Rt:R,this};var yt,We=p.__private__.getFontSize=p.getFontSize=function(){return _===B?Ue:Ue*Rt},Vt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(R){return Vt=R,this},p.__private__.getR2L=p.getR2L=function(){return Vt};var Le,rt=p.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))yt=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');yt=R}else yt=parseInt(R,10)};p.__private__.getZoomMode=function(){return yt};var mt,At=p.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Le=R};p.__private__.getPageMode=function(){return Le};var wt=p.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');mt=R};p.__private__.getLayoutMode=function(){return mt},p.__private__.setDisplayMode=p.setDisplayMode=function(R,ae,ve){return rt(R),wt(ae),At(ve),this};var Ft={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(R){if(Object.keys(Ft).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ft[R]},p.__private__.getDocumentProperties=function(){return Ft},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(R){for(var ae in Ft)Ft.hasOwnProperty(ae)&&R[ae]&&(Ft[ae]=R[ae]);return this},p.__private__.setDocumentProperty=function(R,ae){if(Object.keys(Ft).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ft[R]=ae};var xt,Rt,Ct,Kr,Gt,$e={},It={},Kt=[],Nt={},br={},Ge={},vt={},gt=null,Bt=0,Qt=[],wr=new YF(p),Lt=e.hotfixes||[],tr={},rr={},Vr=[],Et=function R(ae,ve,he,Ie,Ye,ot){if(!(this instanceof R))return new R(ae,ve,he,Ie,Ye,ot);isNaN(ae)&&(ae=1),isNaN(ve)&&(ve=0),isNaN(he)&&(he=0),isNaN(Ie)&&(Ie=1),isNaN(Ye)&&(Ye=0),isNaN(ot)&&(ot=0),this._matrix=[ae,ve,he,Ie,Ye,ot]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(R)},Et.prototype.multiply=function(R){var ae=R.sx*this.sx+R.shy*this.shx,ve=R.sx*this.shy+R.shy*this.sy,he=R.shx*this.sx+R.sy*this.shx,Ie=R.shx*this.shy+R.sy*this.sy,Ye=R.tx*this.sx+R.ty*this.shx+this.tx,ot=R.tx*this.shy+R.ty*this.sy+this.ty;return new Et(ae,ve,he,Ie,Ye,ot)},Et.prototype.decompose=function(){var R=this.sx,ae=this.shy,ve=this.shx,he=this.sy,Ie=this.tx,Ye=this.ty,ot=Math.sqrt(R*R+ae*ae),Mt=(R/=ot)*ve+(ae/=ot)*he;ve-=R*Mt,he-=ae*Mt;var $t=Math.sqrt(ve*ve+he*he);return Mt/=$t,R*(he/=$t)<ae*(ve/=$t)&&(R=-R,ae=-ae,Mt=-Mt,ot=-ot),{scale:new Et(ot,0,0,$t,0,0),translate:new Et(1,0,0,1,Ie,Ye),rotate:new Et(R,ae,-ae,R,0,0),skew:new Et(1,0,Mt,1,0,0)}},Et.prototype.toString=function(R){return this.join(" ")},Et.prototype.inversed=function(){var R=this.sx,ae=this.shy,ve=this.shx,he=this.sy,Ie=this.tx,Ye=this.ty,ot=1/(R*he-ae*ve),Mt=he*ot,$t=-ae*ot,pr=-ve*ot,Sr=R*ot;return new Et(Mt,$t,pr,Sr,-Mt*Ie-pr*Ye,-$t*Ie-Sr*Ye)},Et.prototype.applyToPoint=function(R){var ae=R.x*this.sx+R.y*this.shx+this.tx,ve=R.x*this.shy+R.y*this.sy+this.ty;return new vs(ae,ve)},Et.prototype.applyToRectangle=function(R){var ae=this.applyToPoint(R),ve=this.applyToPoint(new vs(R.x+R.w,R.y+R.h));return new iu(ae.x,ae.y,ve.x-ae.x,ve.y-ae.y)},Et.prototype.clone=function(){var R=this.sx,ae=this.shy,ve=this.shx,he=this.sy,Ie=this.tx,Ye=this.ty;return new Et(R,ae,ve,he,Ie,Ye)},p.Matrix=Et;var rn=p.matrixMult=function(R,ae){return ae.multiply(R)},ys=new Et(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ys;var qr=function(R,ae){if(!br[R]){var ve=(ae instanceof oh?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);ae.id=ve,br[R]=ve,Nt[ve]=ae,wr.publish("addPattern",ae)}};p.ShadingPattern=oh,p.TilingPattern=n0,p.addShadingPattern=function(R,ae){return T("addShadingPattern()"),qr(R,ae),this},p.beginTilingPattern=function(R){T("beginTilingPattern()"),ou(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},p.endTilingPattern=function(R,ae){T("endTilingPattern()"),ae.stream=_e[G].join(`
`),qr(R,ae),wr.publish("endTilingPattern",ae),Vr.pop().restore()};var In,Or=p.__private__.newObject=function(){var R=wn();return on(R,!0),R},wn=p.__private__.newObjectDeferred=function(){return de++,ge[de]=function(){return Ee},de},on=function(R,ae){return ae=typeof ae=="boolean"&&ae,ge[R]=Ee,ae&&me(R+" 0 obj"),R},St=p.__private__.newAdditionalObject=function(){var R={objId:wn(),content:""};return ke.push(R),R},Ai=wn(),hi=wn(),Gn=p.__private__.decodeColorString=function(R){var ae=R.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length!==5||ae[4]!=="k"&&ae[4]!=="K"||(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var ve=parseFloat(ae[0]);ae=[ve,ve,ve,"r"]}for(var he="#",Ie=0;Ie<3;Ie++)he+=("0"+Math.floor(255*parseFloat(ae[Ie])).toString(16)).slice(-2);return he},da=p.__private__.encodeColorString=function(R){var ae;typeof R=="string"&&(R={ch1:R});var ve=R.ch1,he=R.ch2,Ie=R.ch3,Ye=R.ch4,ot=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var Mt=new WM(ve);if(Mt.ok)ve=Mt.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var $t=parseInt(ve.substr(1),16);ve=$t>>16&255,he=$t>>8&255,Ie=255&$t}if(he===void 0||Ye===void 0&&ve===he&&he===Ie)ae=typeof ve=="string"?ve+" "+ot[0]:R.precision===2?M(ve/255)+" "+ot[0]:V(ve/255)+" "+ot[0];else if(Ye===void 0||sn(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",ot[1]].join(" ");ae=typeof ve=="string"?[ve,he,Ie,ot[1]].join(" "):R.precision===2?[M(ve/255),M(he/255),M(Ie/255),ot[1]].join(" "):[V(ve/255),V(he/255),V(Ie/255),ot[1]].join(" ")}else ae=typeof ve=="string"?[ve,he,Ie,Ye,ot[2]].join(" "):R.precision===2?[M(ve),M(he),M(Ie),M(Ye),ot[2]].join(" "):[V(ve),V(he),V(Ie),V(Ye),ot[2]].join(" ");return ae},Ua=p.__private__.getFilters=function(){return o},va=p.__private__.putStream=function(R){var ae=(R=R||{}).data||"",ve=R.filters||Ua(),he=R.alreadyAppliedFilters||[],Ie=R.addLength1||!1,Ye=ae.length,ot=R.objectId,Mt=function(is){return is};if(h!==null&&ot===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Mt=kn.encryptor(ot,0));var $t={};ve===!0&&(ve=["FlateEncode"]);var pr=R.additionalKeyValues||[],Sr=($t=Zt.API.processDataByFilters!==void 0?Zt.API.processDataByFilters(ae,ve):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(he)?he.join(" "):he.toString());if($t.data.length!==0&&(pr.push({key:"Length",value:$t.data.length}),Ie===!0&&pr.push({key:"Length1",value:Ye})),Sr.length!=0)if(Sr.split("/").length-1==1)pr.push({key:"Filter",value:Sr});else{pr.push({key:"Filter",value:"["+Sr+"]"});for(var Yr=0;Yr<pr.length;Yr+=1)if(pr[Yr].key==="DecodeParms"){for(var jr=[],as=0;as<$t.reverseChain.split("/").length-1;as+=1)jr.push("null");jr.push(pr[Yr].value),pr[Yr].value="["+jr.join(" ")+"]"}}me("<<");for(var Ar=0;Ar<pr.length;Ar++)me("/"+pr[Ar].key+" "+pr[Ar].value);me(">>"),$t.data.length!==0&&(me("stream"),me(Mt($t.data)),me("endstream"))},ua=p.__private__.putPage=function(R){var ae=R.number,ve=R.data,he=R.objId,Ie=R.contentsObjId;on(he,!0),me("<</Type /Page"),me("/Parent "+R.rootDictionaryObjId+" 0 R"),me("/Resources "+R.resourceDictionaryObjId+" 0 R"),me("/MediaBox ["+parseFloat(L(R.mediaBox.bottomLeftX))+" "+parseFloat(L(R.mediaBox.bottomLeftY))+" "+L(R.mediaBox.topRightX)+" "+L(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&me("/CropBox ["+L(R.cropBox.bottomLeftX)+" "+L(R.cropBox.bottomLeftY)+" "+L(R.cropBox.topRightX)+" "+L(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&me("/BleedBox ["+L(R.bleedBox.bottomLeftX)+" "+L(R.bleedBox.bottomLeftY)+" "+L(R.bleedBox.topRightX)+" "+L(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&me("/TrimBox ["+L(R.trimBox.bottomLeftX)+" "+L(R.trimBox.bottomLeftY)+" "+L(R.trimBox.topRightX)+" "+L(R.trimBox.topRightY)+"]"),R.artBox!==null&&me("/ArtBox ["+L(R.artBox.bottomLeftX)+" "+L(R.artBox.bottomLeftY)+" "+L(R.artBox.topRightX)+" "+L(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&me("/UserUnit "+R.userUnit),wr.publish("putPage",{objId:he,pageContext:Qt[ae],pageNumber:ae,page:ve}),me("/Contents "+Ie+" 0 R"),me(">>"),me("endobj");var Ye=ve.join(`
`);return _===I&&(Ye+=`
Q`),on(Ie,!0),va({data:Ye,filters:Ua(),objectId:Ie}),me("endobj"),he},Mo=p.__private__.putPages=function(){var R,ae,ve=[];for(R=1;R<=Bt;R++)Qt[R].objId=wn(),Qt[R].contentsObjId=wn();for(R=1;R<=Bt;R++)ve.push(ua({number:R,data:_e[R],objId:Qt[R].objId,contentsObjId:Qt[R].contentsObjId,mediaBox:Qt[R].mediaBox,cropBox:Qt[R].cropBox,bleedBox:Qt[R].bleedBox,trimBox:Qt[R].trimBox,artBox:Qt[R].artBox,userUnit:Qt[R].userUnit,rootDictionaryObjId:Ai,resourceDictionaryObjId:hi}));on(Ai,!0),me("<</Type /Pages");var he="/Kids [";for(ae=0;ae<Bt;ae++)he+=ve[ae]+" 0 R ";me(he+"]"),me("/Count "+Bt),me(">>"),me("endobj"),wr.publish("postPutPages")},Wc=function(R){wr.publish("putFont",{font:R,out:me,newObject:Or,putStream:va}),R.isAlreadyPutted!==!0&&(R.objectNumber=Or(),me("<<"),me("/Type /Font"),me("/BaseFont /"+Uf(R.postScriptName)),me("/Subtype /Type1"),typeof R.encoding=="string"&&me("/Encoding /"+R.encoding),me("/FirstChar 32"),me("/LastChar 255"),me(">>"),me("endobj"))},ba=function(R){R.objectNumber=Or();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[L(R.x),L(R.y),L(R.x+R.width),L(R.y+R.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var ve=R.pages[1].join(`
`);va({data:ve,additionalKeyValues:ae,objectId:R.objectNumber}),me("endobj")},ws=function(R,ae){ae||(ae=21);var ve=Or(),he=function(ot,Mt){var $t,pr=[],Sr=1/(Mt-1);for($t=0;$t<1;$t+=Sr)pr.push($t);if(pr.push(1),ot[0].offset!=0){var Yr={offset:0,color:ot[0].color};ot.unshift(Yr)}if(ot[ot.length-1].offset!=1){var jr={offset:1,color:ot[ot.length-1].color};ot.push(jr)}for(var as="",Ar=0,is=0;is<pr.length;is++){for($t=pr[is];$t>ot[Ar+1].offset;)Ar++;var _n=ot[Ar].offset,Cr=($t-_n)/(ot[Ar+1].offset-_n),qt=ot[Ar].color,nc=ot[Ar+1].color;as+=se(Math.round((1-Cr)*qt[0]+Cr*nc[0]).toString(16))+se(Math.round((1-Cr)*qt[1]+Cr*nc[1]).toString(16))+se(Math.round((1-Cr)*qt[2]+Cr*nc[2]).toString(16))}return as.trim()}(R.colors,ae),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+ae+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),va({data:he,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),me("endobj"),R.objectNumber=Or(),me("<< /ShadingType "+R.type),me("/ColorSpace /DeviceRGB");var Ye="/Coords ["+L(parseFloat(R.coords[0]))+" "+L(parseFloat(R.coords[1]))+" ";R.type===2?Ye+=L(parseFloat(R.coords[2]))+" "+L(parseFloat(R.coords[3])):Ye+=L(parseFloat(R.coords[2]))+" "+L(parseFloat(R.coords[3]))+" "+L(parseFloat(R.coords[4]))+" "+L(parseFloat(R.coords[5])),me(Ye+="]"),R.matrix&&me("/Matrix ["+R.matrix.toString()+"]"),me("/Function "+ve+" 0 R"),me("/Extend [true true]"),me(">>"),me("endobj")},An=function(R,ae){var ve=wn(),he=Or();ae.push({resourcesOid:ve,objectOid:he}),R.objectNumber=he;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+R.boundingBox.map(L).join(" ")+"]"}),Ie.push({key:"XStep",value:L(R.xStep)}),Ie.push({key:"YStep",value:L(R.yStep)}),Ie.push({key:"Resources",value:ve+" 0 R"}),R.matrix&&Ie.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),va({data:R.stream,additionalKeyValues:Ie,objectId:R.objectNumber}),me("endobj")},xf=function(R){for(var ae in R.objectNumber=Or(),me("<<"),R)switch(ae){case"opacity":me("/ca "+M(R[ae]));break;case"stroke-opacity":me("/CA "+M(R[ae]))}me(">>"),me("endobj")},Ti=function(R){on(R.resourcesOid,!0),me("<<"),me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ae in me("/Font <<"),$e)$e.hasOwnProperty(ae)&&(m===!1||m===!0&&y.hasOwnProperty(ae))&&me("/"+ae+" "+$e[ae].objectNumber+" 0 R");me(">>")}(),function(){if(Object.keys(Nt).length>0){for(var ae in me("/Shading <<"),Nt)Nt.hasOwnProperty(ae)&&Nt[ae]instanceof oh&&Nt[ae].objectNumber>=0&&me("/"+ae+" "+Nt[ae].objectNumber+" 0 R");wr.publish("putShadingPatternDict"),me(">>")}}(),function(ae){if(Object.keys(Nt).length>0){for(var ve in me("/Pattern <<"),Nt)Nt.hasOwnProperty(ve)&&Nt[ve]instanceof p.TilingPattern&&Nt[ve].objectNumber>=0&&Nt[ve].objectNumber<ae&&me("/"+ve+" "+Nt[ve].objectNumber+" 0 R");wr.publish("putTilingPatternDict"),me(">>")}}(R.objectOid),function(){if(Object.keys(Ge).length>0){var ae;for(ae in me("/ExtGState <<"),Ge)Ge.hasOwnProperty(ae)&&Ge[ae].objectNumber>=0&&me("/"+ae+" "+Ge[ae].objectNumber+" 0 R");wr.publish("putGStateDict"),me(">>")}}(),function(){for(var ae in me("/XObject <<"),tr)tr.hasOwnProperty(ae)&&tr[ae].objectNumber>=0&&me("/"+ae+" "+tr[ae].objectNumber+" 0 R");wr.publish("putXobjectDict"),me(">>")}(),me(">>"),me("endobj")},ru=function(R){It[R.fontName]=It[R.fontName]||{},It[R.fontName][R.fontStyle]=R.id},at=function(R,ae,ve,he,Ie){var Ye={id:"F"+(Object.keys($e).length+1).toString(10),postScriptName:R,fontName:ae,fontStyle:ve,encoding:he,isStandardFont:Ie||!1,metadata:{}};return wr.publish("addFont",{font:Ye,instance:this}),$e[Ye.id]=Ye,ru(Ye),Ye.id},Li=p.__private__.pdfEscape=p.pdfEscape=function(R,ae){return function(ve,he){var Ie,Ye,ot,Mt,$t,pr,Sr,Yr,jr;if(ot=(he=he||{}).sourceEncoding||"Unicode",$t=he.outputEncoding,(he.autoencode||$t)&&$e[xt].metadata&&$e[xt].metadata[ot]&&$e[xt].metadata[ot].encoding&&(Mt=$e[xt].metadata[ot].encoding,!$t&&$e[xt].encoding&&($t=$e[xt].encoding),!$t&&Mt.codePages&&($t=Mt.codePages[0]),typeof $t=="string"&&($t=Mt[$t]),$t)){for(Sr=!1,pr=[],Ie=0,Ye=ve.length;Ie<Ye;Ie++)(Yr=$t[ve.charCodeAt(Ie)])?pr.push(String.fromCharCode(Yr)):pr.push(ve[Ie]),pr[Ie].charCodeAt(0)>>8&&(Sr=!0);ve=pr.join("")}for(Ie=ve.length;Sr===void 0&&Ie!==0;)ve.charCodeAt(Ie-1)>>8&&(Sr=!0),Ie--;if(!Sr)return ve;for(pr=he.noBOM?[]:[254,255],Ie=0,Ye=ve.length;Ie<Ye;Ie++){if((jr=(Yr=ve.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+ve+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pr.push(jr),pr.push(Yr-(jr<<8))}return String.fromCharCode.apply(void 0,pr)}(R,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fn=p.__private__.beginPage=function(R){_e[++Bt]=[],Qt[Bt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Xr(Bt),Ne(_e[G])},gl=function(R,ae){var ve,he,Ie;switch(r=ae||r,typeof R=="string"&&(ve=w(R.toLowerCase()),Array.isArray(ve)&&(he=ve[0],Ie=ve[1])),Array.isArray(R)&&(he=R[0]*Rt,Ie=R[1]*Rt),isNaN(he)&&(he=s[0],Ie=s[1]),(he>14400||Ie>14400)&&(Rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),he=Math.min(14400,he),Ie=Math.min(14400,Ie)),s=[he,Ie],r.substr(0,1)){case"l":Ie>he&&(s=[Ie,he]);break;case"p":he>Ie&&(s=[Ie,he])}Fn(s),Xc(GA),me(Yc),au!==0&&me(au+" J"),wl!==0&&me(wl+" j"),wr.publish("addPage",{pageNumber:Bt})},zA=function(R){R>0&&R<=Bt&&(_e.splice(R,1),Qt.splice(R,1),Bt--,G>Bt&&(G=Bt),this.setPage(G))},Xr=function(R){R>0&&R<=Bt&&(G=R)},Wr=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return _e.length-1},Rr=function(R,ae,ve){var he,Ie=void 0;return ve=ve||{},R=R!==void 0?R:$e[xt].fontName,ae=ae!==void 0?ae:$e[xt].fontStyle,he=R.toLowerCase(),It[he]!==void 0&&It[he][ae]!==void 0?Ie=It[he][ae]:It[R]!==void 0&&It[R][ae]!==void 0?Ie=It[R][ae]:ve.disableWarning===!1&&Rn.warn("Unable to look up font label for font '"+R+"', '"+ae+"'. Refer to getFontList() for available fonts."),Ie||ve.noFallback||(Ie=It.times[ae])==null&&(Ie=It.times.normal),Ie},tc=p.__private__.putInfo=function(){var R=Or(),ae=function(he){return he};for(var ve in h!==null&&(ae=kn.encryptor(R,0)),me("<<"),me("/Producer ("+Li(ae("jsPDF "+Zt.version))+")"),Ft)Ft.hasOwnProperty(ve)&&Ft[ve]&&me("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+Li(ae(Ft[ve]))+")");me("/CreationDate ("+Li(ae(ee))+")"),me(">>"),me("endobj")},WA=p.__private__.putCatalog=function(R){var ae=(R=R||{}).rootDictionaryObjId||Ai;switch(Or(),me("<<"),me("/Type /Catalog"),me("/Pages "+ae+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":me("/OpenAction [3 0 R /Fit]");break;case"original":me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+yt;ve.substr(ve.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&me("/OpenAction [3 0 R /XYZ null null "+M(yt)+"]")}switch(mt||(mt="continuous"),mt){case"continuous":me("/PageLayout /OneColumn");break;case"single":me("/PageLayout /SinglePage");break;case"two":case"twoleft":me("/PageLayout /TwoColumnLeft");break;case"tworight":me("/PageLayout /TwoColumnRight")}Le&&me("/PageMode /"+Le),wr.publish("putCatalog"),me(">>"),me("endobj")},ns=p.__private__.putTrailer=function(){me("trailer"),me("<<"),me("/Size "+(de+1)),me("/Root "+de+" 0 R"),me("/Info "+(de-1)+" 0 R"),h!==null&&me("/Encrypt "+kn.oid+" 0 R"),me("/ID [ <"+q+"> <"+q+"> ]"),me(">>")},ss=p.__private__.putHeader=function(){me("%PDF-"+b),me("%ºß¬à")},ao=p.__private__.putXRef=function(){var R="0000000000";me("xref"),me("0 "+(de+1)),me("0000000000 65535 f ");for(var ae=1;ae<=de;ae++)typeof ge[ae]=="function"?me((R+ge[ae]()).slice(-10)+" 00000 n "):ge[ae]!==void 0?me((R+ge[ae]).slice(-10)+" 00000 n "):me("0000000000 00000 n ")},xl=p.__private__.buildDocument=function(){var R;de=0,Ee=0,ue=[],ge=[],ke=[],Ai=wn(),hi=wn(),Ne(ue),wr.publish("buildDocument"),ss(),Mo(),function(){wr.publish("putAdditionalObjects");for(var ve=0;ve<ke.length;ve++){var he=ke[ve];on(he.objId,!0),me(he.content),me("endobj")}wr.publish("postPutAdditionalObjects")}(),R=[],function(){for(var ve in $e)$e.hasOwnProperty(ve)&&(m===!1||m===!0&&y.hasOwnProperty(ve))&&Wc($e[ve])}(),function(){var ve;for(ve in Ge)Ge.hasOwnProperty(ve)&&xf(Ge[ve])}(),function(){for(var ve in tr)tr.hasOwnProperty(ve)&&ba(tr[ve])}(),function(ve){var he;for(he in Nt)Nt.hasOwnProperty(he)&&(Nt[he]instanceof oh?ws(Nt[he]):Nt[he]instanceof n0&&An(Nt[he],ve))}(R),wr.publish("putResources"),R.forEach(Ti),Ti({resourcesOid:hi,objectOid:Number.MAX_SAFE_INTEGER}),wr.publish("postPutResources"),h!==null&&(kn.oid=Or(),me("<<"),me("/Filter /Standard"),me("/V "+kn.v),me("/R "+kn.r),me("/U <"+kn.toHexString(kn.U)+">"),me("/O <"+kn.toHexString(kn.O)+">"),me("/P "+kn.P),me(">>"),me("endobj")),tc(),WA();var ae=Ee;return ao(),ns(),me("startxref"),me(""+ae),me("%%EOF"),Ne(_e[G]),ue.join(`
`)},vn=p.__private__.getBlob=function(R){return new Blob([nt(R)],{type:"application/pdf"})},Ks=p.output=p.__private__.output=(In=function(R,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",R){case void 0:return xl();case"save":p.save(ae.filename);break;case"arraybuffer":return nt(xl());case"blob":return vn(xl());case"bloburi":case"bloburl":if(vr.URL!==void 0&&typeof vr.URL.createObjectURL=="function")return vr.URL&&vr.URL.createObjectURL(vn(xl()))||void 0;Rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",he=xl();try{ve=$F(he)}catch{ve=$F(unescape(encodeURIComponent(he)))}return"data:application/pdf;filename="+ae.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vr)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Ie=ae.pdfObjectUrl,Ye="");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",Mt=vr.open();return Mt!==null&&Mt.document.write(ot),Mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vr)==="[object Window]"){var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',pr=vr.open();if(pr!==null){pr.document.write($t);var Sr=this;pr.document.documentElement.querySelector("#pdfViewer").onload=function(){pr.document.title=ae.filename,pr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Sr.output("bloburl"))}}return pr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',jr=vr.open();if(jr!==null&&(jr.document.write(Yr),jr.document.title=ae.filename),jr||typeof safari>"u")return jr;break;case"datauri":case"dataurl":return vr.document.location.href=this.output("datauristring",ae);default:return null}},In.foo=function(){try{return In.apply(this,arguments)}catch(ve){var R=ve.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var ae="Error in function "+R.split(`
`)[0].split("<")[0]+": "+ve.message;if(!vr.console)throw new Error(ae);vr.console.error(ae,ve),vr.alert&&alert(ae)}},In.foo.bar=In,In.foo),Gc=function(R){return Array.isArray(Lt)===!0&&Lt.indexOf(R)>-1};switch(n){case"pt":Rt=1;break;case"mm":Rt=72/25.4;break;case"cm":Rt=72/2.54;break;case"in":Rt=72;break;case"px":Rt=Gc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Rt=12;break;case"ex":Rt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Rt=n}var kn=null;oe(),Y();var un=p.__private__.getPageInfo=p.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qt[R].objId,pageNumber:R,pageContext:Qt[R]}},zs=p.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in Qt)if(Qt[ae].objId===R)break;return un(ae)},Ve=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Qt[G].objId,pageNumber:G,pageContext:Qt[G]}};p.addPage=function(){return gl.apply(this,arguments),this},p.setPage=function(){return Xr.apply(this,arguments),Ne.call(this,_e[G]),this},p.insertPage=function(R){return this.addPage(),this.movePage(G,R),this},p.movePage=function(R,ae){var ve,he;if(R>ae){ve=_e[R],he=Qt[R];for(var Ie=R;Ie>ae;Ie--)_e[Ie]=_e[Ie-1],Qt[Ie]=Qt[Ie-1];_e[ae]=ve,Qt[ae]=he,this.setPage(ae)}else if(R<ae){ve=_e[R],he=Qt[R];for(var Ye=R;Ye<ae;Ye++)_e[Ye]=_e[Ye+1],Qt[Ye]=Qt[Ye+1];_e[ae]=ve,Qt[ae]=he,this.setPage(ae)}return this},p.deletePage=function(){return zA.apply(this,arguments),this},p.__private__.text=p.text=function(R,ae,ve,he,Ie){var Ye,ot,Mt,$t,pr,Sr,Yr,jr,as,Ar=(he=he||{}).scope||this;if(typeof R=="number"&&typeof ae=="number"&&(typeof ve=="string"||Array.isArray(ve))){var is=ve;ve=ae,ae=R,R=is}if(arguments[3]instanceof Et==0?(Mt=arguments[4],$t=arguments[5],sn(Yr=arguments[3])==="object"&&Yr!==null||(typeof Mt=="string"&&($t=Mt,Mt=null),typeof Yr=="string"&&($t=Yr,Yr=null),typeof Yr=="number"&&(Mt=Yr,Yr=null),he={flags:Yr,angle:Mt,align:$t})):(T("The transform parameter of text() with a Matrix value"),as=Ie),isNaN(ae)||isNaN(ve)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return Ar;var _n,Cr="",qt=typeof he.lineHeightFactor=="number"?he.lineHeightFactor:yl,nc=Ar.internal.scaleFactor;function bn(le){return le=le.split("	").join(Array(he.TabLen||9).join(" ")),Li(le,Yr)}function Ko(le){for(var ye,Be=le.concat(),je=[],Me=Be.length;Me--;)typeof(ye=Be.shift())=="string"?je.push(ye):Array.isArray(le)&&(ye.length===1||ye[1]===void 0&&ye[2]===void 0)?je.push(ye[0]):je.push([ye[0],ye[1],ye[2]]);return je}function Pi(le,ye){var Be;if(typeof le=="string")Be=ye(le)[0];else if(Array.isArray(le)){for(var je,Me,qe=le.concat(),ct=[],ht=qe.length;ht--;)typeof(je=qe.shift())=="string"?ct.push(ye(je)[0]):Array.isArray(je)&&typeof je[0]=="string"&&(Me=ye(je[0],je[1],je[2]),ct.push([Me[0],Me[1],Me[2]]));Be=ct}return Be}var co=!1,Ha=!0;if(typeof R=="string")co=!0;else if(Array.isArray(R)){var sc=R.concat();ot=[];for(var vl,bs=sc.length;bs--;)(typeof(vl=sc.shift())!="string"||Array.isArray(vl)&&typeof vl[0]!="string")&&(Ha=!1);co=Ha}if(co===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var zo=Ue/Ar.internal.scaleFactor,Wo=zo*(qt-1);switch(he.baseline){case"bottom":ve-=Wo;break;case"top":ve+=zo-Wo;break;case"hanging":ve+=zo-2*Wo;break;case"middle":ve+=zo/2-Wo}if((Sr=he.maxWidth||0)>0&&(typeof R=="string"?R=Ar.splitTextToSize(R,Sr):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(le,ye){return le.concat(Ar.splitTextToSize(ye,Sr))},[]))),Ye={text:R,x:ae,y:ve,options:he,mutex:{pdfEscape:Li,activeFontKey:xt,fonts:$e,activeFontSize:Ue}},wr.publish("preProcessText",Ye),R=Ye.text,Mt=(he=Ye.options).angle,as instanceof Et==0&&Mt&&typeof Mt=="number"){Mt*=Math.PI/180,he.rotationDirection===0&&(Mt=-Mt),_===I&&(Mt=-Mt);var lu=Math.cos(Mt),Go=Math.sin(Mt);as=new Et(lu,Go,-Go,lu,0,0)}else Mt&&Mt instanceof Et&&(as=Mt);_!==I||as||(as=ys),(pr=he.charSpace||Vo)!==void 0&&(Cr+=L(J(pr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(jr=he.horizontalScale)!==void 0&&(Cr+=L(100*jr)+` Tz
`),he.lang;var Zs=-1,yf=he.renderingMode!==void 0?he.renderingMode:he.stroke,$o=Ar.internal.getCurrentPageInfo().pageContext;switch(yf){case 0:case!1:case"fill":Zs=0;break;case 1:case!0:case"stroke":Zs=1;break;case 2:case"fillThenStroke":Zs=2;break;case 3:case"invisible":Zs=3;break;case 4:case"fillAndAddForClipping":Zs=4;break;case 5:case"strokeAndAddPathForClipping":Zs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zs=6;break;case 7:case"addToPathForClipping":Zs=7}var wf=$o.usedRenderingMode!==void 0?$o.usedRenderingMode:-1;Zs!==-1?Cr+=Zs+` Tr
`:wf!==-1&&(Cr+=`0 Tr
`),Zs!==-1&&($o.usedRenderingMode=Zs),$t=he.align||"left";var Tn,Na=Ue*qt,Aa=Ar.internal.pageSize.getWidth(),cu=$e[xt];pr=he.charSpace||Vo,Sr=he.maxWidth||0,Yr=Object.assign({autoencode:!0,noBOM:!0},he.flags);var Js=[],du=function(le){return Ar.getStringUnitWidth(le,{font:cu,charSpace:pr,fontSize:Ue,doKerning:!1})*Ue/nc};if(Object.prototype.toString.call(R)==="[object Array]"){var ha;ot=Ko(R),$t!=="left"&&(Tn=ot.map(du));var Va,ac=0;if($t==="right"){ae-=Tn[0],R=[],bs=ot.length;for(var Ts=0;Ts<bs;Ts++)Ts===0?(Va=fr(ae),ha=Dn(ve)):(Va=J(ac-Tn[Ts]),ha=-Na),R.push([ot[Ts],Va,ha]),ac=Tn[Ts]}else if($t==="center"){ae-=Tn[0]/2,R=[],bs=ot.length;for(var ic=0;ic<bs;ic++)ic===0?(Va=fr(ae),ha=Dn(ve)):(Va=J((ac-Tn[ic])/2),ha=-Na),R.push([ot[ic],Va,ha]),ac=Tn[ic]}else if($t==="left"){R=[],bs=ot.length;for(var rd=0;rd<bs;rd++)R.push(ot[rd])}else if($t==="justify"&&cu.encoding==="Identity-H"){R=[],bs=ot.length,Sr=Sr!==0?Sr:Aa;for(var Di=0,ir=0;ir<bs;ir++)if(ha=ir===0?Dn(ve):-Na,Va=ir===0?fr(ae):Di,ir<bs-1){var uu=J((Sr-Tn[ir])/(ot[ir].split(" ").length-1)),re=ot[ir].split(" ");R.push([re[0]+" ",Va,ha]),Di=0;for(var c=1;c<re.length;c++){var A=(du(re[c-1]+" "+re[c])-du(re[c]))*nc+uu;c==re.length-1?R.push([re[c],A,0]):R.push([re[c]+" ",A,0]),Di-=A}}else R.push([ot[ir],Va,ha]);R.push(["",Di,0])}else{if($t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],bs=ot.length,Sr=Sr!==0?Sr:Aa,ir=0;ir<bs;ir++)ha=ir===0?Dn(ve):-Na,Va=ir===0?fr(ae):0,ir<bs-1?Js.push(L(J((Sr-Tn[ir])/(ot[ir].split(" ").length-1)))):Js.push(0),R.push([ot[ir],Va,ha])}}(typeof he.R2L=="boolean"?he.R2L:Vt)===!0&&(R=Pi(R,function(le,ye,Be){return[le.split("").reverse().join(""),ye,Be]})),Ye={text:R,x:ae,y:ve,options:he,mutex:{pdfEscape:Li,activeFontKey:xt,fonts:$e,activeFontSize:Ue}},wr.publish("postProcessText",Ye),R=Ye.text,_n=Ye.mutex.isHex||!1;var f=$e[xt].encoding;f!=="WinAnsiEncoding"&&f!=="StandardEncoding"||(R=Pi(R,function(le,ye,Be){return[bn(le),ye,Be]})),ot=Ko(R),R=[];for(var g,x,v,j=Array.isArray(ot[0])?1:0,k="",O=function(le,ye,Be){var je="";return Be instanceof Et?(Be=typeof he.angle=="number"?rn(Be,new Et(1,0,0,1,le,ye)):rn(new Et(1,0,0,1,le,ye),Be),_===I&&(Be=rn(new Et(1,0,0,-1,0,0),Be)),je=Be.join(" ")+` Tm
`):je=L(le)+" "+L(ye)+` Td
`,je},W=0;W<ot.length;W++){switch(k="",j){case 1:v=(_n?"<":"(")+ot[W][0]+(_n?">":")"),g=parseFloat(ot[W][1]),x=parseFloat(ot[W][2]);break;case 0:v=(_n?"<":"(")+ot[W]+(_n?">":")"),g=fr(ae),x=Dn(ve)}Js!==void 0&&Js[W]!==void 0&&(k=Js[W]+` Tw
`),W===0?R.push(k+O(g,x,as)+v):j===0?R.push(k+v):j===1&&R.push(k+O(g,x,as)+v)}R=j===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var ne=`BT
/`;return ne+=xt+" "+Ue+` Tf
`,ne+=L(Ue*qt)+` TL
`,ne+=Zc+`
`,ne+=Cr,ne+=R,me(ne+="ET"),y[xt]=!0,Ar};var we=p.__private__.clip=p.clip=function(R){return me(R==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return we("evenodd")},p.__private__.discardPath=p.discardPath=function(){return me("n"),this};var Pt=p.__private__.isValidStyle=function(R){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(ae=!0),ae};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(R){return Pt(R)&&(u=R),this};var As=p.__private__.getStyle=p.getStyle=function(R){var ae=u;switch(R){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=R}return ae},Ca=p.close=function(){return me("h"),this};p.stroke=function(){return me("S"),this},p.fill=function(R){return rc("f",R),this},p.fillEvenOdd=function(R){return rc("f*",R),this},p.fillStroke=function(R){return rc("B",R),this},p.fillStrokeEvenOdd=function(R){return rc("B*",R),this};var rc=function(R,ae){sn(ae)==="object"?nr(ae,R):me(R)},$c=function(R){R===null||_===I&&R===void 0||(R=As(R),me(R))};function Qa(R,ae,ve,he,Ie){var Ye=new n0(ae||this.boundingBox,ve||this.xStep,he||this.yStep,this.gState,Ie||this.matrix);Ye.stream=this.stream;var ot=R+"$$"+this.cloneIndex+++"$$";return qr(ot,Ye),Ye}var nr=function(R,ae){var ve=br[R.key],he=Nt[ve];if(he instanceof oh)me("q"),me(Pn(ae)),he.gState&&p.setGState(he.gState),me(R.matrix.toString()+" cm"),me("/"+ve+" sh"),me("Q");else if(he instanceof n0){var Ie=new Et(1,0,0,-1,0,Fr());R.matrix&&(Ie=Ie.multiply(R.matrix||ys),ve=Qa.call(he,R.key,R.boundingBox,R.xStep,R.yStep,Ie).id),me("q"),me("/Pattern cs"),me("/"+ve+" scn"),he.gState&&p.setGState(he.gState),me(ae),me("Q")}},Pn=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},nu=p.moveTo=function(R,ae){return me(L(J(R))+" "+L(Z(ae))+" m"),this},qc=p.lineTo=function(R,ae){return me(L(J(R))+" "+L(Z(ae))+" l"),this},Uo=p.curveTo=function(R,ae,ve,he,Ie,Ye){return me([L(J(R)),L(Z(ae)),L(J(ve)),L(Z(he)),L(J(Ie)),L(Z(Ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(R,ae,ve,he,Ie){if(isNaN(R)||isNaN(ae)||isNaN(ve)||isNaN(he)||!Pt(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return _===B?this.lines([[ve-R,he-ae]],R,ae,[1,1],Ie||"S"):this.lines([[ve-R,he-ae]],R,ae,[1,1]).stroke()},p.__private__.lines=p.lines=function(R,ae,ve,he,Ie,Ye){var ot,Mt,$t,pr,Sr,Yr,jr,as,Ar,is,_n,Cr;if(typeof R=="number"&&(Cr=ve,ve=ae,ae=R,R=Cr),he=he||[1,1],Ye=Ye||!1,isNaN(ae)||isNaN(ve)||!Array.isArray(R)||!Array.isArray(he)||!Pt(Ie)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nu(ae,ve),ot=he[0],Mt=he[1],pr=R.length,is=ae,_n=ve,$t=0;$t<pr;$t++)(Sr=R[$t]).length===2?(is=Sr[0]*ot+is,_n=Sr[1]*Mt+_n,qc(is,_n)):(Yr=Sr[0]*ot+is,jr=Sr[1]*Mt+_n,as=Sr[2]*ot+is,Ar=Sr[3]*Mt+_n,is=Sr[4]*ot+is,_n=Sr[5]*Mt+_n,Uo(Yr,jr,as,Ar,is,_n));return Ye&&Ca(),$c(Ie),this},p.path=function(R){for(var ae=0;ae<R.length;ae++){var ve=R[ae],he=ve.c;switch(ve.op){case"m":nu(he[0],he[1]);break;case"l":qc(he[0],he[1]);break;case"c":Uo.apply(this,he);break;case"h":Ca()}}return this},p.__private__.rect=p.rect=function(R,ae,ve,he,Ie){if(isNaN(R)||isNaN(ae)||isNaN(ve)||isNaN(he)||!Pt(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return _===B&&(he=-he),me([L(J(R)),L(Z(ae)),L(J(ve)),L(J(he)),"re"].join(" ")),$c(Ie),this},p.__private__.triangle=p.triangle=function(R,ae,ve,he,Ie,Ye,ot){if(isNaN(R)||isNaN(ae)||isNaN(ve)||isNaN(he)||isNaN(Ie)||isNaN(Ye)||!Pt(ot))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-R,he-ae],[Ie-ve,Ye-he],[R-Ie,ae-Ye]],R,ae,[1,1],ot,!0),this},p.__private__.roundedRect=p.roundedRect=function(R,ae,ve,he,Ie,Ye,ot){if(isNaN(R)||isNaN(ae)||isNaN(ve)||isNaN(he)||isNaN(Ie)||isNaN(Ye)||!Pt(ot))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Mt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*ve),Ye=Math.min(Ye,.5*he),this.lines([[ve-2*Ie,0],[Ie*Mt,0,Ie,Ye-Ye*Mt,Ie,Ye],[0,he-2*Ye],[0,Ye*Mt,-Ie*Mt,Ye,-Ie,Ye],[2*Ie-ve,0],[-Ie*Mt,0,-Ie,-Ye*Mt,-Ie,-Ye],[0,2*Ye-he],[0,-Ye*Mt,Ie*Mt,-Ye,Ie,-Ye]],R+Ie,ae,[1,1],ot,!0),this},p.__private__.ellipse=p.ellipse=function(R,ae,ve,he,Ie){if(isNaN(R)||isNaN(ae)||isNaN(ve)||isNaN(he)||!Pt(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*ve,ot=4/3*(Math.SQRT2-1)*he;return nu(R+ve,ae),Uo(R+ve,ae-ot,R+Ye,ae-he,R,ae-he),Uo(R-Ye,ae-he,R-ve,ae-ot,R-ve,ae),Uo(R-ve,ae+ot,R-Ye,ae+he,R,ae+he),Uo(R+Ye,ae+he,R+ve,ae+ot,R+ve,ae),$c(Ie),this},p.__private__.circle=p.circle=function(R,ae,ve,he){if(isNaN(R)||isNaN(ae)||isNaN(ve)||!Pt(he))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,ae,ve,ve,he)},p.setFont=function(R,ae,ve){return ve&&(ae=D(ae,ve)),xt=Rr(R,ae,{disableWarning:!1}),this};var su=p.__private__.getFont=p.getFont=function(){return $e[Rr.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var R,ae,ve={};for(R in It)if(It.hasOwnProperty(R))for(ae in ve[R]=[],It[R])It[R].hasOwnProperty(ae)&&ve[R].push(ae);return ve},p.addFont=function(R,ae,ve,he,Ie){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(ve=D(ve,he)),at.call(this,R,ae,ve,Ie=Ie||"Identity-H")};var yl,GA=e.lineWidth||.200025,zt=p.__private__.getLineWidth=p.getLineWidth=function(){return GA},Xc=p.__private__.setLineWidth=p.setLineWidth=function(R){return GA=R,me(L(J(R))+" w"),this};p.__private__.setLineDash=Zt.API.setLineDash=Zt.API.setLineDashPattern=function(R,ae){if(R=R||[],ae=ae||0,isNaN(ae)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(ve){return L(J(ve))}).join(" "),ae=L(J(ae)),me("["+R+"] "+ae+" d"),this};var Qo=p.__private__.getLineHeight=p.getLineHeight=function(){return Ue*yl};p.__private__.getLineHeight=p.getLineHeight=function(){return Ue*yl};var lr=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(yl=R),this},Fm=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return yl};lr(e.lineHeight);var fr=p.__private__.getHorizontalCoordinate=function(R){return J(R)},Dn=p.__private__.getVerticalCoordinate=function(R){return _===I?R:Qt[G].mediaBox.topRightY-Qt[G].mediaBox.bottomLeftY-J(R)},km=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(R){return L(fr(R))},$A=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(R){return L(Dn(R))},Yc=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Gn(Yc)},p.__private__.setStrokeColor=p.setDrawColor=function(R,ae,ve,he){return Yc=da({ch1:R,ch2:ae,ch3:ve,ch4:he,pdfColorType:"draw",precision:2}),me(Yc),this};var io=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Gn(io)},p.__private__.setFillColor=p.setFillColor=function(R,ae,ve,he){return io=da({ch1:R,ch2:ae,ch3:ve,ch4:he,pdfColorType:"fill",precision:2}),me(io),this};var Zc=e.textColor||"0 g",Ho=p.__private__.getTextColor=p.getTextColor=function(){return Gn(Zc)};p.__private__.setTextColor=p.setTextColor=function(R,ae,ve,he){return Zc=da({ch1:R,ch2:ae,ch3:ve,ch4:he,pdfColorType:"text",precision:3}),this};var Vo=e.charSpace,Jc=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Vo||0)};p.__private__.setCharSpace=p.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vo=R,this};var au=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(R){var ae=p.CapJoinStyles[R];if(ae===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return au=ae,me(ae+" J"),this};var wl=0;p.__private__.setLineJoin=p.setLineJoin=function(R){var ae=p.CapJoinStyles[R];if(ae===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wl=ae,me(ae+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return me(L(J(R))+" M"),this},p.GState=r2,p.setGState=function(R){(R=typeof R=="string"?Ge[vt[R]]:oo(null,R)).equals(gt)||(me("/"+R.id+" gs"),gt=R)};var oo=function(R,ae){if(!R||!vt[R]){var ve=!1;for(var he in Ge)if(Ge.hasOwnProperty(he)&&Ge[he].equals(ae)){ve=!0;break}if(ve)ae=Ge[he];else{var Ie="GS"+(Object.keys(Ge).length+1).toString(10);Ge[Ie]=ae,ae.id=Ie}return R&&(vt[R]=ae.id),wr.publish("addGState",ae),ae}};p.addGState=function(R,ae){return oo(R,ae),this},p.saveGraphicsState=function(){return me("q"),Kt.push({key:xt,size:Ue,color:Zc}),this},p.restoreGraphicsState=function(){me("Q");var R=Kt.pop();return xt=R.key,Ue=R.size,Zc=R.color,gt=null,this},p.setCurrentTransformationMatrix=function(R){return me(R.toString()+" cm"),this},p.comment=function(R){return me("#"+R),this};var vs=function(R,ae){var ve=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(Ye){isNaN(Ye)||(ve=parseFloat(Ye))}});var he=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return he},set:function(Ye){isNaN(Ye)||(he=parseFloat(Ye))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(Ye){Ie=Ye.toString()}}),this},iu=function(R,ae,ve,he){vs.call(this,R,ae),this.type="rect";var Ie=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(ot){isNaN(ot)||(Ie=parseFloat(ot))}});var Ye=he||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(ot){isNaN(ot)||(Ye=parseFloat(ot))}}),this},ed=function(){this.page=Bt,this.currentPage=G,this.pages=_e.slice(0),this.pagesContext=Qt.slice(0),this.x=Ct,this.y=Kr,this.matrix=Gt,this.width=qA(G),this.height=Fr(G),this.outputDestination=He,this.id="",this.objectNumber=-1};ed.prototype.restore=function(){Bt=this.page,G=this.currentPage,Qt=this.pagesContext,_e=this.pages,Ct=this.x,Kr=this.y,Gt=this.matrix,XA(G,this.width),lo(G,this.height),He=this.outputDestination};var ou=function(R,ae,ve,he,Ie){Vr.push(new ed),Bt=G=0,_e=[],Ct=R,Kr=ae,Gt=Ie,Fn([ve,he])};for(var td in p.beginFormObject=function(R,ae,ve,he,Ie){return ou(R,ae,ve,he,Ie),this},p.endFormObject=function(R){return function(ae){if(rr[ae])Vr.pop().restore();else{var ve=new ed,he="Xo"+(Object.keys(tr).length+1).toString(10);ve.id=he,rr[ae]=he,tr[he]=ve,wr.publish("addFormObject",ve),Vr.pop().restore()}}(R),this},p.doFormObject=function(R,ae){var ve=tr[rr[R]];return me("q"),me(ae.toString()+" cm"),me("/"+ve.id+" Do"),me("Q"),this},p.getFormObject=function(R){var ae=tr[rr[R]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},p.save=function(R,ae){return R=R||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(nh(vn(xl()),R),typeof nh.unload=="function"&&vr.setTimeout&&setTimeout(nh.unload,911),this):new Promise(function(ve,he){try{var Ie=nh(vn(xl()),R);typeof nh.unload=="function"&&vr.setTimeout&&setTimeout(nh.unload,911),ve(Ie)}catch(Ye){he(Ye.message)}})},Zt.API)Zt.API.hasOwnProperty(td)&&(td==="events"&&Zt.API.events.length?function(R,ae){var ve,he,Ie;for(Ie=ae.length-1;Ie!==-1;Ie--)ve=ae[Ie][0],he=ae[Ie][1],R.subscribe.apply(R,[ve].concat(typeof he=="function"?[he]:he))}(wr,Zt.API.events):p[td]=Zt.API[td]);var qA=p.getPageWidth=function(R){return(Qt[R=R||G].mediaBox.topRightX-Qt[R].mediaBox.bottomLeftX)/Rt},XA=p.setPageWidth=function(R,ae){Qt[R].mediaBox.topRightX=ae*Rt+Qt[R].mediaBox.bottomLeftX},Fr=p.getPageHeight=function(R){return(Qt[R=R||G].mediaBox.topRightY-Qt[R].mediaBox.bottomLeftY)/Rt},lo=p.setPageHeight=function(R,ae){Qt[R].mediaBox.topRightY=ae*Rt+Qt[R].mediaBox.bottomLeftY};return p.internal={pdfEscape:Li,getStyle:As,getFont:su,getFontSize:We,getCharSpace:Jc,getTextColor:Ho,getLineHeight:Qo,getLineHeightFactor:Fm,getLineWidth:zt,write:Pe,getHorizontalCoordinate:fr,getVerticalCoordinate:Dn,getCoordinateString:km,getVerticalCoordinateString:$A,collections:{},newObject:Or,newAdditionalObject:St,newObjectDeferred:wn,newObjectDeferredBegin:on,getFilters:Ua,putStream:va,events:wr,scaleFactor:Rt,pageSize:{getWidth:function(){return qA(G)},setWidth:function(R){XA(G,R)},getHeight:function(){return Fr(G)},setHeight:function(R){lo(G,R)}},encryptionOptions:h,encryption:kn,getEncryptor:function(R){return h!==null?kn.encryptor(R,0):function(ae){return ae}},output:Ks,getNumberOfPages:Wr,pages:_e,out:me,f2:M,f3:V,getPageInfo:un,getPageInfoByObjId:zs,getCurrentPageInfo:Ve,getPDFVersion:N,Point:vs,Rectangle:iu,Matrix:Et,hasHotfix:Gc},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return qA(G)},set:function(R){XA(G,R)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Fr(G)},set:function(R){lo(G,R)},enumerable:!0,configurable:!0}),(function(R){for(var ae=0,ve=Xe.length;ae<ve;ae++){var he=at.call(this,R[ae][0],R[ae][1],R[ae][2],Xe[ae][3],!0);m===!1&&(y[he]=!0);var Ie=R[ae][0].split("-");ru({id:he,fontName:Ie[0],fontStyle:Ie[1]||""})}wr.publish("addFonts",{fonts:$e,dictionary:It})}).call(p,Xe),xt="F1",gl(s,r),wr.publish("initialized"),p}Mf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Mf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Mf.prototype.processOwnerPassword=function(e,t){return e3(JN(t).substr(0,5),e)},Mf.prototype.encryptor=function(e,t){var r=JN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return e3(r,n)}},r2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||sn(e)!==sn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Zt.API={events:[]},Zt.version="3.0.2";var Ss=Zt.API,hE=1,pf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Er=function(e){return e.toFixed(2)},Nu=function(e){return e.toFixed(5)};Ss.__acroform__={};var no=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ZF=function(e){return e*hE},uc=function(e){var t=new XM,r=Wt.internal.getHeight(e)||0,n=Wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Er(n)),Number(Er(r))],t},dce=Ss.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},uce=Ss.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Ace=Ss.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Us=Ss.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ace(e,t-1)},Qs=Ss.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dce(e,t-1)},Hs=Ss.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uce(e,t-1)},hce=Ss.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],d={};return d.lowerLeft_X=r(s)||0,d.lowerLeft_Y=n(i+l)||0,d.upperRight_X=r(s+o)||0,d.upperRight_Y=n(i)||0,[Number(Er(d.lowerLeft_X)),Number(Er(d.lowerLeft_Y)),Number(Er(d.upperRight_X)),Number(Er(d.upperRight_Y))]},fce=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=t3(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Er(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=uc(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},t3=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(M){return M.split(`
`)}):s.map(function(M){return[M]});var i=r,o=Wt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Wt.internal.getWidth(e)||0;l=l<0?-l:l;var d=function(M,V,J){if(M+1<s.length){var Z=V+" "+s[M+1][0];return Dx(Z,e,J).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,h,m=Dx("3",e,i).height,y=e.multiline?o-i:(o-m)/2,p=y+=2,b=0,N=0,S=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Dx(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var w="",B=0,I=0;I<s.length;I++)if(s.hasOwnProperty(I)){var _=!1;if(s[I].length!==1&&S!==s[I].length-1){if((m+2)*(B+2)+2>o)continue e;w+=s[I][S],_=!0,N=I,I--}else{w=(w+=s[I][S]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var P=parseInt(I),H=d(P,w,i),D=I>=s.length-1;if(H&&!D){w+=" ",S=0;continue}if(H||D){if(D)N=P;else if(e.multiline&&(m+2)*(B+2)+2>o)continue e}else{if(!e.multiline||(m+2)*(B+2)+2>o)continue e;N=P}}for(var L="",T=b;T<=N;T++){var z=s[T];if(e.multiline){if(T===N){L+=z[S]+" ",S=(S+1)%z.length;continue}if(T===b){L+=z[z.length-1]+" ";continue}}L+=z[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,h=Dx(L,e,i).width,e.textAlign){case"right":u=l-h-2;break;case"center":u=(l-h)/2;break;default:u=2}t+=Er(u)+" "+Er(p)+` Td
`,t+="("+pf(L)+`) Tj
`,t+=-Er(u)+` 0 Td
`,p=-(i+2),h=0,b=_?N:N+1,B++,w=""}break}return n.text=t,n.fontSize=i,n},Dx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},mce={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},pce=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},gce=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Yl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(mce)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hE=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new YM,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&pce(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],d=[],u=l.Rect;if(l.Rect&&(l.Rect=hce(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Wt.createDefaultAppearanceStream(l),sn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(d=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=fce(l);d.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var p=l.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var b=p[o];typeof b=="function"&&(b=b.call(s,l)),m+="/"+o+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(s,l)),m+="/"+o+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);m+=">>"}d.push({key:"AP",value:`<<
`+m+">>"})}s.internal.putStream({additionalKeyValues:d,objectId:l.objId}),s.internal.out("endobj")}i&&function(N,S){for(var w in N)if(N.hasOwnProperty(w)){var B=w,I=N[w];S.internal.newObjectDeferredBegin(I.objId,!0),sn(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete N[B]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},qM=Ss.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),sn(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+pf(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},U5=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+pf(n(e))+")"},bc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bc.prototype.toString=function(){return this.objId+" 0 R"},bc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},bc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:qM(s,this.objId,this.scope)}):s instanceof bc?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var XM=function(){bc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};no(XM,bc);var YM=function(){bc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+pf(r(e))+")"}},set:function(r){e=r}})};no(YM,bc);var Yl=function e(){bc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Us(t,3)},set:function(w){w?this.F=Qs(t,3):this.F=Hs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof n2)return;i="FieldObject"+e.FieldNum++}var w=function(B){return B};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+pf(w(i))+")"},set:function(w){i=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(w){i=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/hE:u},set:function(w){u=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof n2||this instanceof Th))return U5(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=w}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ga==0?U5(y,this.objId,this.scope):y},set:function(w){w=w.toString(),y=this instanceof ga==0?w.substr(0,1)==="("?Sf(w.substr(1,w.length-2)):Sf(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ga==1?Sf(y.substr(1,y.length-1)):y},set:function(w){w=w.toString(),y=this instanceof ga==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ga==0?U5(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof ga==0?w.substr(0,1)==="("?Sf(w.substr(1,w.length-2)):Sf(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ga==1?Sf(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof ga==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(w){w=!!w,N=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(w){b=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,1)},set:function(w){w?this.Ff=Qs(this.Ff,1):this.Ff=Hs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,2)},set:function(w){w?this.Ff=Qs(this.Ff,2):this.Ff=Hs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,3)},set:function(w){w?this.Ff=Qs(this.Ff,3):this.Ff=Hs(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');S=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(S){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};no(Yl,bc);var C0=function(){Yl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qM(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,o,l){l||(l=1);for(var d,u=[];d=o.exec(i);)u.push(d[l]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,18)},set:function(r){r?this.Ff=Qs(this.Ff,18):this.Ff=Hs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Qs(this.Ff,19):this.Ff=Hs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,20)},set:function(r){r?(this.Ff=Qs(this.Ff,20),t.sort()):this.Ff=Hs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,22)},set:function(r){r?this.Ff=Qs(this.Ff,22):this.Ff=Hs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,23)},set:function(r){r?this.Ff=Qs(this.Ff,23):this.Ff=Hs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,27)},set:function(r){r?this.Ff=Qs(this.Ff,27):this.Ff=Hs(this.Ff,27)}}),this.hasAppearanceStream=!1};no(C0,Yl);var N0=function(){C0.call(this),this.fontName="helvetica",this.combo=!1};no(N0,C0);var B0=function(){N0.call(this),this.combo=!0};no(B0,N0);var zy=function(){B0.call(this),this.edit=!0};no(zy,B0);var ga=function(){Yl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,15)},set:function(r){r?this.Ff=Qs(this.Ff,15):this.Ff=Hs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,16)},set:function(r){r?this.Ff=Qs(this.Ff,16):this.Ff=Hs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,17)},set:function(r){r?this.Ff=Qs(this.Ff,17):this.Ff=Hs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,26)},set:function(r){r?this.Ff=Qs(this.Ff,26):this.Ff=Hs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+pf(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){sn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};no(ga,Yl);var Wy=function(){ga.call(this),this.pushButton=!0};no(Wy,ga);var S0=function(){ga.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};no(S0,ga);var n2=function(){var e,t;Yl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+pf(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){sn(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};no(n2,Yl),S0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},S0.prototype.createOption=function(e){var t=new n2;return t.Parent=this,t.optionName=e,this.Kids.push(t),xce.call(this.scope,t),t};var Gy=function(){ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wt.CheckBox.createAppearanceStream()};no(Gy,ga);var Th=function(){Yl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,13)},set:function(t){t?this.Ff=Qs(this.Ff,13):this.Ff=Hs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,21)},set:function(t){t?this.Ff=Qs(this.Ff,21):this.Ff=Hs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,23)},set:function(t){t?this.Ff=Qs(this.Ff,23):this.Ff=Hs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,24)},set:function(t){t?this.Ff=Qs(this.Ff,24):this.Ff=Hs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,25)},set:function(t){t?this.Ff=Qs(this.Ff,25):this.Ff=Hs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,26)},set:function(t){t?this.Ff=Qs(this.Ff,26):this.Ff=Hs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};no(Th,Yl);var $y=function(){Th.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Us(this.Ff,14)},set:function(e){e?this.Ff=Qs(this.Ff,14):this.Ff=Hs(this.Ff,14)}}),this.password=!0};no($y,Th);var Wt={CheckBox:{createAppearanceStream:function(){return{N:{On:Wt.CheckBox.YesNormal},D:{On:Wt.CheckBox.YesPushDown,Off:Wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=t3(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Er(Wt.internal.getWidth(e))+" "+Er(Wt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Er(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=uc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Wt.internal.getHeight(e),o=Wt.internal.getWidth(e),l=t3(e,e.caption);return s.push("1 g"),s.push("0 0 "+Er(o)+" "+Er(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Er(o-1)+" "+Er(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Er(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Er(Wt.internal.getWidth(e))+" "+Er(Wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Circle.YesNormal,t.D[e]=Wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=uc(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Wt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Nu(Wt.internal.getWidth(e)/2)+" "+Nu(Wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Wt.internal.Bezier_C).toFixed(5)),o=Number((n*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Nu(Wt.internal.getWidth(e)/2)+" "+Nu(Wt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Nu(Wt.internal.getWidth(e)/2)+" "+Nu(Wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=[],n=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Nu(Wt.internal.getWidth(e)/2)+" "+Nu(Wt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Cross.YesNormal,t.D[e]=Wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=uc(e);t.scope=e.scope;var r=[],n=Wt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Er(Wt.internal.getWidth(e)-2)+" "+Er(Wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Er(n.x1.x)+" "+Er(n.x1.y)+" m"),r.push(Er(n.x2.x)+" "+Er(n.x2.y)+" l"),r.push(Er(n.x4.x)+" "+Er(n.x4.y)+" m"),r.push(Er(n.x3.x)+" "+Er(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=Wt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Er(Wt.internal.getWidth(e))+" "+Er(Wt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Er(Wt.internal.getWidth(e)-2)+" "+Er(Wt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Er(r.x1.x)+" "+Er(r.x1.y)+" m"),n.push(Er(r.x2.x)+" "+Er(r.x2.y)+" l"),n.push(Er(r.x4.x)+" "+Er(r.x4.y)+" m"),n.push(Er(r.x3.x)+" "+Er(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Er(Wt.internal.getWidth(e))+" "+Er(Wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Wt.internal.getWidth(e),r=Wt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Wt.internal.getWidth=function(e){var t=0;return sn(e)==="object"&&(t=ZF(e.Rect[2])),t},Wt.internal.getHeight=function(e){var t=0;return sn(e)==="object"&&(t=ZF(e.Rect[3])),t};var xce=Ss.addField=function(e){if(gce(this,e),!(e instanceof Yl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ss.AcroFormChoiceField=C0,Ss.AcroFormListBox=N0,Ss.AcroFormComboBox=B0,Ss.AcroFormEditBox=zy,Ss.AcroFormButton=ga,Ss.AcroFormPushButton=Wy,Ss.AcroFormRadioButton=S0,Ss.AcroFormCheckBox=Gy,Ss.AcroFormTextField=Th,Ss.AcroFormPasswordField=$y,Ss.AcroFormAppearance=Wt,Ss.AcroForm={ChoiceField:C0,ListBox:N0,ComboBox:B0,EditBox:zy,Button:ga,PushButton:Wy,RadioButton:S0,CheckBox:Gy,TextField:Th,PasswordField:$y,Appearance:Wt},Zt.AcroForm={ChoiceField:C0,ListBox:N0,ComboBox:B0,EditBox:zy,Button:ga,PushButton:Wy,RadioButton:S0,CheckBox:Gy,TextField:Th,PasswordField:$y,Appearance:Wt};function ZM(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(M,V){var J,Z,ee,q,X,Y=r;if((V=V||r)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(H(M))for(X in n)for(ee=n[X],J=0;J<ee.length;J+=1){for(q=!0,Z=0;Z<ee[J].length;Z+=1)if(ee[J][Z]!==void 0&&ee[J][Z]!==M[Z]){q=!1;break}if(q===!0){Y=X;break}}else for(X in n)for(ee=n[X],J=0;J<ee.length;J+=1){for(q=!0,Z=0;Z<ee[J].length;Z+=1)if(ee[J][Z]!==void 0&&ee[J][Z]!==M.charCodeAt(Z)){q=!1;break}if(q===!0){Y=X;break}}return Y===r&&V!==r&&(Y=V),Y},i=function M(V){for(var J=this.internal.write,Z=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:V.width}),q.push({key:"Height",value:V.height}),V.colorSpace===w.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===w.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)){for(var X="",Y=0,K=V.transparency.length;Y<K;Y++)X+=V.transparency[Y]+" "+V.transparency[Y]+" ";q.push({key:"Mask",value:"["+X+"]"})}V.sMask!==void 0&&q.push({key:"SMask",value:V.objectId+1+" 0 R"});var ce=V.filter!==void 0?["/"+V.filter]:void 0;if(Z({data:V.data,additionalKeyValues:q,alreadyAppliedFilters:ce,objectId:V.objectId}),J("endobj"),"sMask"in V&&V.sMask!==void 0){var oe=(V.predictor!=null?"/Predictor "+V.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+V.width,Q={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:V.bitsPerComponent,decodeParameters:oe,data:V.sMask};"filter"in V&&(Q.filter=V.filter),M.call(this,Q)}if(V.colorSpace===w.INDEXED){var G=this.internal.newObject();Z({data:L(new Uint8Array(V.palette)),objectId:G}),J("endobj")}},o=function(){var M=this.internal.collections[t+"images"];for(var V in M)i.call(this,M[V])},l=function(){var M,V=this.internal.collections[t+"images"],J=this.internal.write;for(var Z in V)J("/I"+(M=V[Z]).index,M.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var M=this.internal.collections[t+"images"];return d.call(this),M},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(M){return typeof e["process"+M.toUpperCase()]=="function"},y=function(M){return sn(M)==="object"&&M.nodeType===1},p=function(M,V){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var J=""+M.getAttribute("src");if(J.indexOf("data:image/")===0)return Ky(unescape(J).split("base64,").pop());var Z=e.loadFile(J,!0);if(Z!==void 0)return Z}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var ee;switch(V){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return Ky(M.toDataURL(ee,1).split("base64,").pop())}},b=function(M){var V=this.internal.collections[t+"images"];if(V){for(var J in V)if(M===V[J].alias)return V[J]}},N=function(M,V,J){return M||V||(M=-96,V=-96),M<0&&(M=-1*J.width*72/M/this.internal.scaleFactor),V<0&&(V=-1*J.height*72/V/this.internal.scaleFactor),M===0&&(M=V*J.width/J.height),V===0&&(V=M*J.height/J.width),[M,V]},S=function(M,V,J,Z,ee,q){var X=N.call(this,J,Z,ee),Y=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,ce=u.call(this);if(J=X[0],Z=X[1],ce[ee.index]=ee,q){q*=Math.PI/180;var oe=Math.cos(q),Q=Math.sin(q),G=function(se){return se.toFixed(4)},te=[G(oe),G(Q),G(-1*Q),G(oe),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,Y(M),K(V+Z),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([Y(J),"0","0",Y(Z),"0","0","cm"].join(" "))):this.internal.write([Y(J),"0","0",Y(Z),Y(M),K(V+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=e.__addimage__.sHashCode=function(M){var V,J,Z=0;if(typeof M=="string")for(J=M.length,V=0;V<J;V++)Z=(Z<<5)-Z+M.charCodeAt(V),Z|=0;else if(H(M))for(J=M.byteLength/2,V=0;V<J;V++)Z=(Z<<5)-Z+M[V],Z|=0;return Z},_=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var V=!0;return M.length===0&&(V=!1),M.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(V=!1),V},P=e.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var V=M.indexOf(",");return V<0?null:M.substring(0,V).trim().endsWith("base64")?M.substring(V+1):null};e.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var H=e.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},D=e.__addimage__.binaryStringToUint8Array=function(M){for(var V=M.length,J=new Uint8Array(V),Z=0;Z<V;Z++)J[Z]=M.charCodeAt(Z);return J},L=e.__addimage__.arrayBufferToBinaryString=function(M){for(var V="",J=H(M)?M:new Uint8Array(M),Z=0;Z<J.length;Z+=8192)V+=String.fromCharCode.apply(null,J.subarray(Z,Z+8192));return V};e.addImage=function(){var M,V,J,Z,ee,q,X,Y,K;if(typeof arguments[1]=="number"?(V=r,J=arguments[1],Z=arguments[2],ee=arguments[3],q=arguments[4],X=arguments[5],Y=arguments[6],K=arguments[7]):(V=arguments[1],J=arguments[2],Z=arguments[3],ee=arguments[4],q=arguments[5],X=arguments[6],Y=arguments[7],K=arguments[8]),sn(M=arguments[0])==="object"&&!y(M)&&"imageData"in M){var ce=M;M=ce.imageData,V=ce.format||V||r,J=ce.x||J||0,Z=ce.y||Z||0,ee=ce.w||ce.width||ee,q=ce.h||ce.height||q,X=ce.alias||X,Y=ce.compression||Y,K=ce.rotation||ce.angle||K}var oe=this.internal.getFilters();if(Y===void 0&&oe.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(J)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var Q=T.call(this,M,V,X,Y);return S.call(this,J,Z,ee,q,Q,K),this};var T=function(M,V,J,Z){var ee,q,X;if(typeof M=="string"&&s(M)===r){M=unescape(M);var Y=z(M,!1);(Y!==""||(Y=e.loadFile(M,!0))!==void 0)&&(M=Y)}if(y(M)&&(M=p(M,V)),V=s(M,V),!m(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((X=J)==null||X.length===0)&&(J=function(K){return typeof K=="string"||H(K)?I(K):H(K.data)?I(K.data):null}(M)),(ee=b.call(this,J))||(M instanceof Uint8Array||V==="RGBA"||(q=M,M=D(M)),ee=this["process"+V.toUpperCase()](M,h.call(this),J,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in e.image_compression?K:B.NONE}(Z),q)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},z=e.__addimage__.convertBase64ToBinaryString=function(M,V){V=typeof V!="boolean"||V;var J,Z="";if(typeof M=="string"){var ee;J=(ee=P(M))!==null&&ee!==void 0?ee:M;try{Z=Ky(J)}catch(q){if(V)throw _(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};e.getImageProperties=function(M){var V,J,Z="";if(y(M)&&(M=p(M)),typeof M=="string"&&s(M)===r&&((Z=z(M,!1))===""&&(Z=e.loadFile(M)||""),M=Z),J=s(M),!m(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(M instanceof Uint8Array||(M=D(M)),!(V=this["process"+J.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=J,V}})(Zt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Zt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,m=0;m<u.length&&!h;m++)switch((n=u[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){n=u[y];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(N.objId),B=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(w(n.contents))+")",i+=" /Popup "+S.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+p(w(B))+") >>",N.content=i;var I=N.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+I,n.open&&(i+=" /Open true"),i+=" >>",S.content=i,this.internal.write(N.objId,"0 R",S.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var H=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+H+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,o){var l=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:d(r),y:u(n),w:d(r+s),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,s,i){var o,l,d=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(u*h)}else l=d,o=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=d/2),i.align==="right"&&(n-=d),this.link(n,s-u,l,o,i),d},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Zt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},l=e.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&s.indexOf(N.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(N){var S=0,w=r,B="",I=0;for(S=0;S<N.length;S+=1)w[N.charCodeAt(S)]!==void 0?(I++,typeof(w=w[N.charCodeAt(S)])=="number"&&(B+=String.fromCharCode(w),w=r,I=0),S===N.length-1&&(w=r,B+=N.charAt(S-(I-1)),S-=I-1,I=0)):(w=r,B+=N.charAt(S-I),S-=I,I=0);return B};e.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(N,S,w){return o(N)?i(N)===!1?-1:!u(N)||!o(S)&&!o(w)||!o(w)&&l(S)||l(N)&&!o(S)||l(N)&&d(S)||l(N)&&l(S)?0:h(N)&&o(S)&&!l(S)&&o(w)&&u(w)?3:l(N)||!o(w)?1:2:-1},p=function(N){var S=0,w=0,B=0,I="",_="",P="",H=(N=N||"").split("\\s+"),D=[];for(S=0;S<H.length;S+=1){for(D.push(""),w=0;w<H[S].length;w+=1)I=H[S][w],_=H[S][w-1],P=H[S][w+1],o(I)?(B=y(I,_,P),D[S]+=B!==-1?String.fromCharCode(t[I.charCodeAt(0)][B]):I):D[S]+=I;D[S]=m(D[S])}return D.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var N,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(S)){var B=0;for(w=[],B=0;B<S.length;B+=1)Array.isArray(S[B])?w.push([p(S[B][0]),S[B][1],S[B][2]]):w.push([p(S[B])]);N=w}else N=p(S);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};e.events.push(["preProcessText",b])}(Zt.API),Zt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Zt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(N){u=N}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(N){b=N}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,p=0,b=0,N=0,S=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var w=u.maxWidth;w>0?typeof d=="string"?d=this.splitTextToSize(d,w):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(I,_){return I.concat(S.splitTextToSize(_,w))},[])):d=Array.isArray(d)?d:[d];for(var B=0;B<d.length;B++)p<(N=this.getStringUnitWidth(d[B],{font:m})*h)&&(p=N);return p!==0&&(b=d.length),{w:p/=y,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===d.lineNumber?(d.x=(u.x||0)+(u.width||0),d.y=u.y||0):u.y+u.height+d.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=m.top,p&&y&&(this.printHeaderRow(d.lineNumber,!0),d.y+=y[0].height)):d.y=u.y+u.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-h,d.y+h,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+h,{align:"center",baseline:"top",maxWidth:d.width-h-h}):this.text(d.text,d.x+h,d.y+h,{align:"left",baseline:"top",maxWidth:d.width-h-h})),this.internal.__cell__.lastCell=d,this};e.table=function(d,u,h,m,y){if(n.call(this),!h)throw new Error("No data for PDF table.");var p,b,N,S,w=[],B=[],I=[],_={},P={},H=[],D=[],L=(y=y||{}).autoSize||!1,T=y.printHeaders!==!1,z=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,M=y.margins||Object.assign({width:this.getPageWidth()},t),V=typeof y.padding=="number"?y.padding:3,J=y.headerBackgroundColor||"#c8c8c8",Z=y.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=Z,this.setFontSize(z),m==null)B=w=Object.keys(h[0]),I=w.map(function(){return"left"});else if(Array.isArray(m)&&sn(m[0])==="object")for(w=m.map(function(ce){return ce.name}),B=m.map(function(ce){return ce.prompt||ce.name||""}),I=m.map(function(ce){return ce.align||"left"}),p=0;p<m.length;p+=1)P[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(B=w=m,I=w.map(function(){return"left"}));if(L||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<w.length;p+=1){for(_[S=w[p]]=h.map(function(ce){return ce[S]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(B[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=_[S],this.setFont(void 0,"normal"),N=0;N<b.length;N+=1)H.push(this.getTextDimensions(b[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[S]=Math.max.apply(null,H)+V+V,H=[]}if(T){var ee={};for(p=0;p<w.length;p+=1)ee[w[p]]={},ee[w[p]].text=B[p],ee[w[p]].align=I[p];var q=l.call(this,ee,P);D=w.map(function(ce){return new i(d,u,P[ce],q,ee[ce].text,void 0,ee[ce].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var X=m.reduce(function(ce,oe){return ce[oe.name]=oe.align,ce},{});for(p=0;p<h.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:h[p]},this);var Y=l.call(this,h[p],P);for(N=0;N<w.length;N+=1){var K=h[p][w[N]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:N,data:K},this),o.call(this,new i(d,u,P[w[N]],Y,K,p+2,X[w[N]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=u,this};var l=function(d,u){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(d).map(function(p){var b=d[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/y+h+h},this).reduce(function(p,b){return Math.max(p,b)},0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,y.push(h)),h.lineNumber=d;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(b)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(Zt.API);var JM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},eU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],r3=ZM(eU),tU=[100,200,300,400,500,600,700,800,900],yce=ZM(tU);function Q5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return JM[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof r3[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function JF(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var wce={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ek={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function tk(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function rk(e){return e.trimLeft()}function vce(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function bce(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Ox,nk,sk,Ef,Rx,ak,ik,ok,H5=["times"];function lk(e,t,r,n){var s=4,i=dk;switch(n){case Zt.API.image_compression.FAST:s=1,i=ck;break;case Zt.API.image_compression.MEDIUM:s=6,i=uk;break;case Zt.API.image_compression.SLOW:s=9,i=Ak}e=function(l,d,u,h){for(var m,y=l.length/d,p=new Uint8Array(l.length+y),b=[Cce,ck,dk,uk,Ak],N=0;N<y;N+=1){var S=N*d,w=l.subarray(S,S+d);if(h)p.set(h(w,u,m),S+N);else{for(var B=b.length,I=[],_=0;_<B;_+=1)I[_]=b[_](w,u,m);var P=Bce(I.concat());p.set(I[P],S+N)}m=w}return p}(e,t,r,i);var o=VN(e,{level:s});return Zt.API.__addimage__.arrayBufferToBinaryString(o)}function Cce(e){var t=Array.apply([],e);return t.unshift(0),t}function ck(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function dk(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function uk(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function Ak(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var o=Nce(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function Nce(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function Bce(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function V5(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),o=(1<<r)-1;return rU(e,s)>>i&o}function hk(e,t,r,n){var s=r*n,i=Math.floor(s/8),o=16-(s-8*i+n),l=(1<<n)-1,d=(t&l)<<o;(function(u,h,m){if(h+1<u.byteLength)u.setUint16(h,m,!1);else{var y=m>>8&255;u.setUint8(h,y)}})(e,i,rU(e,i)&~(l<<o)&65535|d)}function rU(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Sce(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,d=null;i&&(l=t,d=o,t+=3*o);var u=!0,h=[],m=0,y=null,p=0,b=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=e[t++];m=e[t++]|e[t++]<<8,y=e[t++],1&N||(y=null),p=N>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var S=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,_=e[t++],P=_>>6&1,H=1<<1+(7&_),D=l,L=d,T=!1;_>>7&&(T=!0,D=t,L=H,t+=3*H);var z=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}h.push({x:S,y:w,width:B,height:I,has_local_palette:T,palette_offset:D,palette_size:L,data_offset:z,data_length:t-z,transparent_index:y,interlaced:!!P,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(V){if(V<0||V>=h.length)throw new Error("Frame index out of range.");return h[V]},this.decodeAndBlitFrameBGRA=function(V,J){var Z=this.frameInfo(V),ee=Z.width*Z.height,q=new Uint8Array(ee);fk(e,Z.data_offset,q,ee);var X=Z.palette_offset,Y=Z.transparent_index;Y===null&&(Y=256);var K=Z.width,ce=r-K,oe=K,Q=4*(Z.y*r+Z.x),G=4*((Z.y+Z.height)*r+Z.x),te=Q,se=4*ce;Z.interlaced===!0&&(se+=4*r*7);for(var de=8,ge=0,ue=q.length;ge<ue;++ge){var Ee=q[ge];if(oe===0&&(oe=K,(te+=se)>=G&&(se=4*ce+4*r*(de-1),te=Q+(K+ce)*(de<<1),de>>=1)),Ee===Y)te+=4;else{var ke=e[X+3*Ee],_e=e[X+3*Ee+1],Oe=e[X+3*Ee+2];J[te++]=Oe,J[te++]=_e,J[te++]=ke,J[te++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(V,J){var Z=this.frameInfo(V),ee=Z.width*Z.height,q=new Uint8Array(ee);fk(e,Z.data_offset,q,ee);var X=Z.palette_offset,Y=Z.transparent_index;Y===null&&(Y=256);var K=Z.width,ce=r-K,oe=K,Q=4*(Z.y*r+Z.x),G=4*((Z.y+Z.height)*r+Z.x),te=Q,se=4*ce;Z.interlaced===!0&&(se+=4*r*7);for(var de=8,ge=0,ue=q.length;ge<ue;++ge){var Ee=q[ge];if(oe===0&&(oe=K,(te+=se)>=G&&(se=4*ce+4*r*(de-1),te=Q+(K+ce)*(de<<1),de>>=1)),Ee===Y)te+=4;else{var ke=e[X+3*Ee],_e=e[X+3*Ee+1],Oe=e[X+3*Ee+2];J[te++]=ke,J[te++]=_e,J[te++]=Oe,J[te++]=255}--oe}}}function fk(e,t,r,n){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,d=s+1,u=(1<<d)-1,h=0,m=0,y=0,p=e[t++],b=new Int32Array(4096),N=null;;){for(;h<16&&p!==0;)m|=e[t++]<<h,h+=8,p===1?p=e[t++]:--p;if(h<d)break;var S=m&u;if(m>>=d,h-=d,S!==i){if(S===o)break;for(var w=S<l?S:N,B=0,I=w;I>i;)I=b[I]>>8,++B;var _=I;if(y+B+(w!==S?1:0)>n)return void Rn.log("Warning, gif stream longer than expected.");r[y++]=_;var P=y+=B;for(w!==S&&(r[y++]=_),I=w;B--;)I=b[I],r[--P]=255&I,I>>=8;N!==null&&l<4096&&(b[l++]=N<<8|_,l>=u+1&&d<12&&(++d,u=u<<1|1)),N=S}else l=o+1,u=(1<<(d=s+1))-1,N=null}return y!==n&&Rn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function K5(e){var t,r,n,s,i,o=Math.floor,l=new Array(64),d=new Array(64),u=new Array(64),h=new Array(64),m=new Array(65535),y=new Array(65535),p=new Array(64),b=new Array(64),N=[],S=0,w=7,B=new Array(64),I=new Array(64),_=new Array(64),P=new Array(256),H=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(Q,G){for(var te=0,se=0,de=new Array,ge=1;ge<=16;ge++){for(var ue=1;ue<=Q[ge];ue++)de[G[se]]=[],de[G[se]][0]=te,de[G[se]][1]=ge,se++,te++;te*=2}return de}function X(Q){for(var G=Q[0],te=Q[1]-1;te>=0;)G&1<<te&&(S|=1<<w),te--,--w<0&&(S==255?(Y(255),Y(0)):Y(S),w=7,S=0)}function Y(Q){N.push(Q)}function K(Q){Y(Q>>8&255),Y(255&Q)}function ce(Q,G,te,se,de){for(var ge,ue=de[0],Ee=de[240],ke=function(Ue,yt){var We,Vt,Le,rt,mt,At,wt,Ft,xt,Rt,Ct=0;for(xt=0;xt<8;++xt){We=Ue[Ct],Vt=Ue[Ct+1],Le=Ue[Ct+2],rt=Ue[Ct+3],mt=Ue[Ct+4],At=Ue[Ct+5],wt=Ue[Ct+6];var Kr=We+(Ft=Ue[Ct+7]),Gt=We-Ft,$e=Vt+wt,It=Vt-wt,Kt=Le+At,Nt=Le-At,br=rt+mt,Ge=rt-mt,vt=Kr+br,gt=Kr-br,Bt=$e+Kt,Qt=$e-Kt;Ue[Ct]=vt+Bt,Ue[Ct+4]=vt-Bt;var wr=.707106781*(Qt+gt);Ue[Ct+2]=gt+wr,Ue[Ct+6]=gt-wr;var Lt=.382683433*((vt=Ge+Nt)-(Qt=It+Gt)),tr=.5411961*vt+Lt,rr=1.306562965*Qt+Lt,Vr=.707106781*(Bt=Nt+It),Et=Gt+Vr,rn=Gt-Vr;Ue[Ct+5]=rn+tr,Ue[Ct+3]=rn-tr,Ue[Ct+1]=Et+rr,Ue[Ct+7]=Et-rr,Ct+=8}for(Ct=0,xt=0;xt<8;++xt){We=Ue[Ct],Vt=Ue[Ct+8],Le=Ue[Ct+16],rt=Ue[Ct+24],mt=Ue[Ct+32],At=Ue[Ct+40],wt=Ue[Ct+48];var ys=We+(Ft=Ue[Ct+56]),qr=We-Ft,In=Vt+wt,Or=Vt-wt,wn=Le+At,on=Le-At,St=rt+mt,Ai=rt-mt,hi=ys+St,Gn=ys-St,da=In+wn,Ua=In-wn;Ue[Ct]=hi+da,Ue[Ct+32]=hi-da;var va=.707106781*(Ua+Gn);Ue[Ct+16]=Gn+va,Ue[Ct+48]=Gn-va;var ua=.382683433*((hi=Ai+on)-(Ua=Or+qr)),Mo=.5411961*hi+ua,Wc=1.306562965*Ua+ua,ba=.707106781*(da=on+Or),ws=qr+ba,An=qr-ba;Ue[Ct+40]=An+Mo,Ue[Ct+24]=An-Mo,Ue[Ct+8]=ws+Wc,Ue[Ct+56]=ws-Wc,Ct++}for(xt=0;xt<64;++xt)Rt=Ue[xt]*yt[xt],p[xt]=Rt>0?Rt+.5|0:Rt-.5|0;return p}(Q,G),_e=0;_e<64;++_e)b[D[_e]]=ke[_e];var Oe=b[0]-te;te=b[0],Oe==0?X(se[0]):(X(se[y[ge=32767+Oe]]),X(m[ge]));for(var He=63;He>0&&b[He]==0;)He--;if(He==0)return X(ue),te;for(var Ne,me=1;me<=He;){for(var Pe=me;b[me]==0&&me<=He;)++me;var nt=me-Pe;if(nt>=16){Ne=nt>>4;for(var Xe=1;Xe<=Ne;++Xe)X(Ee);nt&=15}ge=32767+b[me],X(de[(nt<<4)+y[ge]]),X(m[ge]),me++}return He!=63&&X(ue),te}function oe(Q){Q=Math.min(Math.max(Q,1),100),i!=Q&&(function(G){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var de=o((te[se]*G+50)/100);de=Math.min(Math.max(de,1),255),l[D[se]]=de}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var Ee=o((ge[ue]*G+50)/100);Ee=Math.min(Math.max(Ee,1),255),d[D[ue]]=Ee}for(var ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,Oe=0;Oe<8;Oe++)for(var He=0;He<8;He++)u[_e]=1/(l[D[_e]]*ke[Oe]*ke[He]*8),h[_e]=1/(d[D[_e]]*ke[Oe]*ke[He]*8),_e++}(Q<50?Math.floor(5e3/Q):Math.floor(200-2*Q)),i=Q)}this.encode=function(Q,G){G&&oe(G),N=new Array,S=0,w=7,K(65496),K(65504),K(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),K(1),K(1),Y(0),Y(0),function(){K(65499),K(132),Y(0);for(var Vt=0;Vt<64;Vt++)Y(l[Vt]);Y(1);for(var Le=0;Le<64;Le++)Y(d[Le])}(),function(Vt,Le){K(65472),K(17),Y(8),K(Le),K(Vt),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(Q.width,Q.height),function(){K(65476),K(418),Y(0);for(var Vt=0;Vt<16;Vt++)Y(L[Vt+1]);for(var Le=0;Le<=11;Le++)Y(T[Le]);Y(16);for(var rt=0;rt<16;rt++)Y(z[rt+1]);for(var mt=0;mt<=161;mt++)Y(M[mt]);Y(1);for(var At=0;At<16;At++)Y(V[At+1]);for(var wt=0;wt<=11;wt++)Y(J[wt]);Y(17);for(var Ft=0;Ft<16;Ft++)Y(Z[Ft+1]);for(var xt=0;xt<=161;xt++)Y(ee[xt])}(),K(65498),K(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var te=0,se=0,de=0;S=0,w=7,this.encode.displayName="_encode_";for(var ge,ue,Ee,ke,_e,Oe,He,Ne,me,Pe=Q.data,nt=Q.width,Xe=Q.height,Ue=4*nt,yt=0;yt<Xe;){for(ge=0;ge<Ue;){for(_e=Ue*yt+ge,He=-1,Ne=0,me=0;me<64;me++)Oe=_e+(Ne=me>>3)*Ue+(He=4*(7&me)),yt+Ne>=Xe&&(Oe-=Ue*(yt+1+Ne-Xe)),ge+He>=Ue&&(Oe-=ge+He-Ue+4),ue=Pe[Oe++],Ee=Pe[Oe++],ke=Pe[Oe++],B[me]=(H[ue]+H[Ee+256|0]+H[ke+512|0]>>16)-128,I[me]=(H[ue+768|0]+H[Ee+1024|0]+H[ke+1280|0]>>16)-128,_[me]=(H[ue+1280|0]+H[Ee+1536|0]+H[ke+1792|0]>>16)-128;te=ce(B,u,te,t,n),se=ce(I,h,se,r,s),de=ce(_,h,de,r,s),ge+=32}yt+=8}if(w>=0){var We=[];We[1]=w+1,We[0]=(1<<w+1)-1,X(We)}return K(65497),new Uint8Array(N)},e=e||50,function(){for(var Q=String.fromCharCode,G=0;G<256;G++)P[G]=Q(G)}(),t=q(L,T),r=q(V,J),n=q(z,M),s=q(Z,ee),function(){for(var Q=1,G=2,te=1;te<=15;te++){for(var se=Q;se<G;se++)y[32767+se]=te,m[32767+se]=[],m[32767+se][1]=te,m[32767+se][0]=se;for(var de=-(G-1);de<=-Q;de++)y[32767+de]=te,m[32767+de]=[],m[32767+de][1]=te,m[32767+de][0]=G-1+de;Q<<=1,G<<=1}}(),function(){for(var Q=0;Q<256;Q++)H[Q]=19595*Q,H[Q+256|0]=38470*Q,H[Q+512|0]=7471*Q+32768,H[Q+768|0]=-11059*Q,H[Q+1024|0]=-21709*Q,H[Q+1280|0]=32768*Q+8421375,H[Q+1536|0]=-27439*Q,H[Q+1792|0]=-5329*Q}(),oe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function El(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function mk(e){function t(T){if(!T)throw Error("assert :P")}function r(T,z,M){for(var V=0;4>V;V++)if(T[z+V]!=M.charCodeAt(V))return!0;return!1}function n(T,z,M,V,J){for(var Z=0;Z<J;Z++)T[z+Z]=M[V+Z]}function s(T,z,M,V){for(var J=0;J<V;J++)T[z+J]=M}function i(T){return new Int32Array(T)}function o(T,z){for(var M=[],V=0;V<T;V++)M.push(new z);return M}function l(T,z){var M=[];return function V(J,Z,ee){for(var q=ee[Z],X=0;X<q&&(J.push(ee.length>Z+1?[]:new z),!(ee.length<Z+1));X++)V(J[X],Z+1,ee)}(M,0,T),M}var d=function(){var T=this;function z(E,F){for(var U=1<<F-1>>>0;E&U;)U>>>=1;return U?(E&U-1)+U:E}function M(E,F,U,$,ie){t(!($%U));do E[F+($-=U)]=ie;while(0<$)}function V(E,F,U,$,ie){if(t(2328>=ie),512>=ie)var Ae=i(512);else if((Ae=i(ie))==null)return 0;return function(fe,pe,xe,be,Te,ze){var Ce,De,Qe=pe,et=1<<xe,Ke=i(16),tt=i(16);for(t(Te!=0),t(be!=null),t(fe!=null),t(0<xe),De=0;De<Te;++De){if(15<be[De])return 0;++Ke[be[De]]}if(Ke[0]==Te)return 0;for(tt[1]=0,Ce=1;15>Ce;++Ce){if(Ke[Ce]>1<<Ce)return 0;tt[Ce+1]=tt[Ce]+Ke[Ce]}for(De=0;De<Te;++De)Ce=be[De],0<be[De]&&(ze[tt[Ce]++]=De);if(tt[15]==1)return(be=new J).g=0,be.value=ze[0],M(fe,Qe,1,et,be),et;var st,ut=-1,lt=et-1,er=0,Ht=1,Tr=1,Xt=1<<xe;for(De=0,Ce=1,Te=2;Ce<=xe;++Ce,Te<<=1){if(Ht+=Tr<<=1,0>(Tr-=Ke[Ce]))return 0;for(;0<Ke[Ce];--Ke[Ce])(be=new J).g=Ce,be.value=ze[De++],M(fe,Qe+er,Te,Xt,be),er=z(er,Ce)}for(Ce=xe+1,Te=2;15>=Ce;++Ce,Te<<=1){if(Ht+=Tr<<=1,0>(Tr-=Ke[Ce]))return 0;for(;0<Ke[Ce];--Ke[Ce]){if(be=new J,(er&lt)!=ut){for(Qe+=Xt,st=1<<(ut=Ce)-xe;15>ut&&!(0>=(st-=Ke[ut]));)++ut,st<<=1;et+=Xt=1<<(st=ut-xe),fe[pe+(ut=er&lt)].g=st+xe,fe[pe+ut].value=Qe-pe-ut}be.g=Ce-xe,be.value=ze[De++],M(fe,Qe+(er>>xe),Te,Xt,be),er=z(er,Ce)}}return Ht!=2*tt[15]-1?0:et}(E,F,U,$,ie,Ae)}function J(){this.value=this.g=0}function Z(){this.value=this.g=0}function ee(){this.G=o(5,J),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ts,Z)}function q(E,F,U,$){t(E!=null),t(F!=null),t(2147483648>$),E.Ca=254,E.I=0,E.b=-8,E.Ka=0,E.oa=F,E.pa=U,E.Jd=F,E.Yc=U+$,E.Zc=4<=$?U+$-4+1:U,ue(E)}function X(E,F){for(var U=0;0<F--;)U|=ke(E,128)<<F;return U}function Y(E,F){var U=X(E,F);return Ee(E)?-U:U}function K(E,F,U,$){var ie,Ae=0;for(t(E!=null),t(F!=null),t(4294967288>$),E.Sb=$,E.Ra=0,E.u=0,E.h=0,4<$&&($=4),ie=0;ie<$;++ie)Ae+=F[U+ie]<<8*ie;E.Ra=Ae,E.bb=$,E.oa=F,E.pa=U}function ce(E){for(;8<=E.u&&E.bb<E.Sb;)E.Ra>>>=8,E.Ra+=E.oa[E.pa+E.bb]<<Di-8>>>0,++E.bb,E.u-=8;se(E)&&(E.h=1,E.u=0)}function oe(E,F){if(t(0<=F),!E.h&&F<=rd){var U=te(E)&ic[F];return E.u+=F,ce(E),U}return E.h=1,E.u=0}function Q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(E){return E.Ra>>>(E.u&Di-1)>>>0}function se(E){return t(E.bb<=E.Sb),E.h||E.bb==E.Sb&&E.u>Di}function de(E,F){E.u=F,E.h=se(E)}function ge(E){E.u>=ir&&(t(E.u>=ir),ce(E))}function ue(E){t(E!=null&&E.oa!=null),E.pa<E.Zc?(E.I=(E.oa[E.pa++]|E.I<<8)>>>0,E.b+=8):(t(E!=null&&E.oa!=null),E.pa<E.Yc?(E.b+=8,E.I=E.oa[E.pa++]|E.I<<8):E.Ka?E.b=0:(E.I<<=8,E.b+=8,E.Ka=1))}function Ee(E){return X(E,1)}function ke(E,F){var U=E.Ca;0>E.b&&ue(E);var $=E.b,ie=U*F>>>8,Ae=(E.I>>>$>ie)+0;for(Ae?(U-=ie,E.I-=ie+1<<$>>>0):U=ie+1,$=U,ie=0;256<=$;)ie+=8,$>>=8;return $=7^ie+uu[$],E.b-=$,E.Ca=(U<<$)-1,Ae}function _e(E,F,U){E[F+0]=U>>24&255,E[F+1]=U>>16&255,E[F+2]=U>>8&255,E[F+3]=255&U}function Oe(E,F){return E[F+0]|E[F+1]<<8}function He(E,F){return Oe(E,F)|E[F+2]<<16}function Ne(E,F){return Oe(E,F)|Oe(E,F+2)<<16}function me(E,F){var U=1<<F;return t(E!=null),t(0<F),E.X=i(U),E.X==null?0:(E.Mb=32-F,E.Xa=F,1)}function Pe(E,F){t(E!=null),t(F!=null),t(E.Xa==F.Xa),n(F.X,0,E.X,0,1<<F.Xa)}function nt(){this.X=[],this.Xa=this.Mb=0}function Xe(E,F,U,$){t(U!=null),t($!=null);var ie=U[0],Ae=$[0];return ie==0&&(ie=(E*Ae+F/2)/F),Ae==0&&(Ae=(F*ie+E/2)/E),0>=ie||0>=Ae?0:(U[0]=ie,$[0]=Ae,1)}function Ue(E,F){return E+(1<<F)-1>>>F}function yt(E,F){return((4278255360&E)+(4278255360&F)>>>0&4278255360)+((16711935&E)+(16711935&F)>>>0&16711935)>>>0}function We(E,F){T[F]=function(U,$,ie,Ae,fe,pe,xe){var be;for(be=0;be<fe;++be){var Te=T[E](pe[xe+be-1],ie,Ae+be);pe[xe+be]=yt(U[$+be],Te)}}}function Vt(){this.ud=this.hd=this.jd=0}function Le(E,F){return((4278124286&(E^F))>>>1)+(E&F)>>>0}function rt(E){return 0<=E&&256>E?E:0>E?0:255<E?255:void 0}function mt(E,F){return rt(E+(E-F+.5>>1))}function At(E,F,U){return Math.abs(F-U)-Math.abs(E-U)}function wt(E,F,U,$,ie,Ae,fe){for($=Ae[fe-1],U=0;U<ie;++U)Ae[fe+U]=$=yt(E[F+U],$)}function Ft(E,F,U,$,ie){var Ae;for(Ae=0;Ae<U;++Ae){var fe=E[F+Ae],pe=fe>>8&255,xe=16711935&(xe=(xe=16711935&fe)+((pe<<16)+pe));$[ie+Ae]=(4278255360&fe)+xe>>>0}}function xt(E,F){F.jd=255&E,F.hd=E>>8&255,F.ud=E>>16&255}function Rt(E,F,U,$,ie,Ae){var fe;for(fe=0;fe<$;++fe){var pe=F[U+fe],xe=pe>>>8,be=pe,Te=255&(Te=(Te=pe>>>16)+((E.jd<<24>>24)*(xe<<24>>24)>>>5));be=255&(be=(be+=(E.hd<<24>>24)*(xe<<24>>24)>>>5)+((E.ud<<24>>24)*(Te<<24>>24)>>>5)),ie[Ae+fe]=(4278255360&pe)+(Te<<16)+be}}function Ct(E,F,U,$,ie){T[F]=function(Ae,fe,pe,xe,be,Te,ze,Ce,De){for(xe=ze;xe<Ce;++xe)for(ze=0;ze<De;++ze)be[Te++]=ie(pe[$(Ae[fe++])])},T[E]=function(Ae,fe,pe,xe,be,Te,ze){var Ce=8>>Ae.b,De=Ae.Ea,Qe=Ae.K[0],et=Ae.w;if(8>Ce)for(Ae=(1<<Ae.b)-1,et=(1<<Ce)-1;fe<pe;++fe){var Ke,tt=0;for(Ke=0;Ke<De;++Ke)Ke&Ae||(tt=$(xe[be++])),Te[ze++]=ie(Qe[tt&et]),tt>>=Ce}else T["VP8LMapColor"+U](xe,be,Qe,et,Te,ze,fe,pe,De)}}function Kr(E,F,U,$,ie){for(U=F+U;F<U;){var Ae=E[F++];$[ie++]=Ae>>16&255,$[ie++]=Ae>>8&255,$[ie++]=255&Ae}}function Gt(E,F,U,$,ie){for(U=F+U;F<U;){var Ae=E[F++];$[ie++]=Ae>>16&255,$[ie++]=Ae>>8&255,$[ie++]=255&Ae,$[ie++]=Ae>>24&255}}function $e(E,F,U,$,ie){for(U=F+U;F<U;){var Ae=(fe=E[F++])>>16&240|fe>>12&15,fe=240&fe|fe>>28&15;$[ie++]=Ae,$[ie++]=fe}}function It(E,F,U,$,ie){for(U=F+U;F<U;){var Ae=(fe=E[F++])>>16&248|fe>>13&7,fe=fe>>5&224|fe>>3&31;$[ie++]=Ae,$[ie++]=fe}}function Kt(E,F,U,$,ie){for(U=F+U;F<U;){var Ae=E[F++];$[ie++]=255&Ae,$[ie++]=Ae>>8&255,$[ie++]=Ae>>16&255}}function Nt(E,F,U,$,ie,Ae){if(Ae==0)for(U=F+U;F<U;)_e($,((Ae=E[F++])[0]>>24|Ae[1]>>8&65280|Ae[2]<<8&16711680|Ae[3]<<24)>>>0),ie+=32;else n($,ie,E,F,U)}function br(E,F){T[F][0]=T[E+"0"],T[F][1]=T[E+"1"],T[F][2]=T[E+"2"],T[F][3]=T[E+"3"],T[F][4]=T[E+"4"],T[F][5]=T[E+"5"],T[F][6]=T[E+"6"],T[F][7]=T[E+"7"],T[F][8]=T[E+"8"],T[F][9]=T[E+"9"],T[F][10]=T[E+"10"],T[F][11]=T[E+"11"],T[F][12]=T[E+"12"],T[F][13]=T[E+"13"],T[F][14]=T[E+"0"],T[F][15]=T[E+"0"]}function Ge(E){return E==Ab||E==hb||E==K1||E==fb}function vt(){this.eb=[],this.size=this.A=this.fb=0}function gt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vt,this.f.kb=new gt,this.sd=null}function Qt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Lt(E){return alert("todo:WebPSamplerProcessPlane"),E.T}function tr(E,F){var U=E.T,$=F.ba.f.RGBA,ie=$.eb,Ae=$.fb+E.ka*$.A,fe=Xo[F.ba.S],pe=E.y,xe=E.O,be=E.f,Te=E.N,ze=E.ea,Ce=E.W,De=F.cc,Qe=F.dc,et=F.Mc,Ke=F.Nc,tt=E.ka,st=E.ka+E.T,ut=E.U,lt=ut+1>>1;for(tt==0?fe(pe,xe,null,null,be,Te,ze,Ce,be,Te,ze,Ce,ie,Ae,null,null,ut):(fe(F.ec,F.fc,pe,xe,De,Qe,et,Ke,be,Te,ze,Ce,ie,Ae-$.A,ie,Ae,ut),++U);tt+2<st;tt+=2)De=be,Qe=Te,et=ze,Ke=Ce,Te+=E.Rc,Ce+=E.Rc,Ae+=2*$.A,fe(pe,(xe+=2*E.fa)-E.fa,pe,xe,De,Qe,et,Ke,be,Te,ze,Ce,ie,Ae-$.A,ie,Ae,ut);return xe+=E.fa,E.j+st<E.o?(n(F.ec,F.fc,pe,xe,ut),n(F.cc,F.dc,be,Te,lt),n(F.Mc,F.Nc,ze,Ce,lt),U--):1&st||fe(pe,xe,null,null,be,Te,ze,Ce,be,Te,ze,Ce,ie,Ae+$.A,null,null,ut),U}function rr(E,F,U){var $=E.F,ie=[E.J];if($!=null){var Ae=E.U,fe=F.ba.S,pe=fe==V1||fe==K1;F=F.ba.f.RGBA;var xe=[0],be=E.ka;xe[0]=E.T,E.Kb&&(be==0?--xe[0]:(--be,ie[0]-=E.width),E.j+E.ka+E.T==E.o&&(xe[0]=E.o-E.j-be));var Te=F.eb;be=F.fb+be*F.A,E=_6($,ie[0],E.width,Ae,xe,Te,be+(pe?0:3),F.A),t(U==xe),E&&Ge(fe)&&YA(Te,be,pe,Ae,xe,F.A)}return 0}function Vr(E){var F=E.ma,U=F.ba.S,$=11>U,ie=U==Q1||U==H1||U==V1||U==ub||U==12||Ge(U);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!ha(F.Oa,E,ie?11:12))return 0;if(ie&&Ge(U)&&Ha(),E.da)alert("todo:use_scaling");else{if($){if(F.Ib=Lt,E.Kb){if(U=E.U+1>>1,F.memory=i(E.U+2*U),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+E.U,F.Mc=F.cc,F.Nc=F.dc+U,F.Ib=tr,Ha()}}else alert("todo:EmitYUV");ie&&(F.Jb=rr,$&&Pi())}if($&&!q6){for(E=0;256>E;++E)zK[E]=89858*(E-128)+W1>>z1,$K[E]=-22014*(E-128)+W1,GK[E]=-45773*(E-128),WK[E]=113618*(E-128)+W1>>z1;for(E=Tm;E<gb;++E)F=76283*(E-16)+W1>>z1,qK[E-Tm]=Tn(F,255),XK[E-Tm]=Tn(F+8>>4,15);q6=1}return 1}function Et(E){var F=E.ma,U=E.U,$=E.T;return t(!(1&E.ka)),0>=U||0>=$?0:(U=F.Ib(E,F),F.Jb!=null&&F.Jb(E,F,U),F.Dc+=U,1)}function rn(E){E.ma.memory=null}function ys(E,F,U,$){return oe(E,8)!=47?0:(F[0]=oe(E,14)+1,U[0]=oe(E,14)+1,$[0]=oe(E,1),oe(E,3)!=0?0:!E.h)}function qr(E,F){if(4>E)return E+1;var U=E-2>>1;return(2+(1&E)<<U)+oe(F,U)+1}function In(E,F){return 120<F?F-120:1<=(U=((U=kK[F-1])>>4)*E+(8-(15&U)))?U:1;var U}function Or(E,F,U){var $=te(U),ie=E[F+=255&$].g-8;return 0<ie&&(de(U,U.u+8),$=te(U),F+=E[F].value,F+=$&(1<<ie)-1),de(U,U.u+E[F].g),E[F].value}function wn(E,F,U){return U.g+=E.g,U.value+=E.value<<F>>>0,t(8>=U.g),E.g}function on(E,F,U){var $=E.xc;return t((F=$==0?0:E.vc[E.md*(U>>$)+(F>>$)])<E.Wb),E.Ya[F]}function St(E,F,U,$){var ie=E.ab,Ae=E.c*F,fe=E.C;F=fe+F;var pe=U,xe=$;for($=E.Ta,U=E.Ua;0<ie--;){var be=E.gc[ie],Te=fe,ze=F,Ce=pe,De=xe,Qe=(xe=$,pe=U,be.Ea);switch(t(Te<ze),t(ze<=be.nc),be.hc){case 2:A(Ce,De,(ze-Te)*Qe,xe,pe);break;case 0:var et=Te,Ke=ze,tt=xe,st=pe,ut=(Xt=be).Ea;et==0&&(re(Ce,De,null,null,1,tt,st),wt(Ce,De+1,0,0,ut-1,tt,st+1),De+=ut,st+=ut,++et);for(var lt=1<<Xt.b,er=lt-1,Ht=Ue(ut,Xt.b),Tr=Xt.K,Xt=Xt.w+(et>>Xt.b)*Ht;et<Ke;){var Zr=Tr,ea=Xt,Lr=1;for(c(Ce,De,tt,st-ut,1,tt,st);Lr<ut;){var Yt=(Lr&~er)+lt;Yt>ut&&(Yt=ut),(0,j[Zr[ea++]>>8&15])(Ce,De+ +Lr,tt,st+Lr-ut,Yt-Lr,tt,st+Lr),Lr=Yt}De+=ut,st+=ut,++et&er||(Xt+=Ht)}ze!=be.nc&&n(xe,pe-Qe,xe,pe+(ze-Te-1)*Qe,Qe);break;case 1:for(Qe=Ce,Ke=De,ut=(Ce=be.Ea)-(st=Ce&~(tt=(De=1<<be.b)-1)),et=Ue(Ce,be.b),lt=be.K,be=be.w+(Te>>be.b)*et;Te<ze;){for(er=lt,Ht=be,Tr=new Vt,Xt=Ke+st,Zr=Ke+Ce;Ke<Xt;)xt(er[Ht++],Tr),k(Tr,Qe,Ke,De,xe,pe),Ke+=De,pe+=De;Ke<Zr&&(xt(er[Ht++],Tr),k(Tr,Qe,Ke,ut,xe,pe),Ke+=ut,pe+=ut),++Te&tt||(be+=et)}break;case 3:if(Ce==xe&&De==pe&&0<be.b){for(Ke=xe,Ce=Qe=pe+(ze-Te)*Qe-(st=(ze-Te)*Ue(be.Ea,be.b)),De=xe,tt=pe,et=[],st=(ut=st)-1;0<=st;--st)et[st]=De[tt+st];for(st=ut-1;0<=st;--st)Ke[Ce+st]=et[st];f(be,Te,ze,xe,Qe,xe,pe)}else f(be,Te,ze,Ce,De,xe,pe)}pe=$,xe=U}xe!=U&&n($,U,pe,xe,Ae)}function Ai(E,F){var U=E.V,$=E.Ba+E.c*E.C,ie=F-E.C;if(t(F<=E.l.o),t(16>=ie),0<ie){var Ae=E.l,fe=E.Ta,pe=E.Ua,xe=Ae.width;if(St(E,ie,U,$),ie=pe=[pe],t((U=E.C)<($=F)),t(Ae.v<Ae.va),$>Ae.o&&($=Ae.o),U<Ae.j){var be=Ae.j-U;U=Ae.j,ie[0]+=be*xe}if(U>=$?U=0:(ie[0]+=4*Ae.v,Ae.ka=U-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=$-U,U=1),U){if(pe=pe[0],11>(U=E.ca).S){var Te=U.f.RGBA,ze=($=U.S,ie=Ae.U,Ae=Ae.T,be=Te.eb,Te.A),Ce=Ae;for(Te=Te.fb+E.Ma*Te.A;0<Ce--;){var De=fe,Qe=pe,et=ie,Ke=be,tt=Te;switch($){case U1:O(De,Qe,et,Ke,tt);break;case Q1:W(De,Qe,et,Ke,tt);break;case Ab:W(De,Qe,et,Ke,tt),YA(Ke,tt,0,et,1,0);break;case M6:ye(De,Qe,et,Ke,tt);break;case H1:Nt(De,Qe,et,Ke,tt,1);break;case hb:Nt(De,Qe,et,Ke,tt,1),YA(Ke,tt,0,et,1,0);break;case V1:Nt(De,Qe,et,Ke,tt,0);break;case K1:Nt(De,Qe,et,Ke,tt,0),YA(Ke,tt,1,et,1,0);break;case ub:ne(De,Qe,et,Ke,tt);break;case fb:ne(De,Qe,et,Ke,tt),k6(Ke,tt,et,1,0);break;case U6:le(De,Qe,et,Ke,tt);break;default:t(0)}pe+=xe,Te+=ze}E.Ma+=Ae}else alert("todo:EmitRescaledRowsYUVA");t(E.Ma<=U.height)}}E.C=F,t(E.C<=E.i)}function hi(E){var F;if(0<E.ua)return 0;for(F=0;F<E.Wb;++F){var U=E.Ya[F].G,$=E.Ya[F].H;if(0<U[1][$[1]+0].g||0<U[2][$[2]+0].g||0<U[3][$[3]+0].g)return 0}return 1}function Gn(E,F,U,$,ie,Ae){if(E.Z!=0){var fe=E.qd,pe=E.rd;for(t(hu[E.Z]!=null);F<U;++F)hu[E.Z](fe,pe,$,ie,$,ie,Ae),fe=$,pe=ie,ie+=Ae;E.qd=fe,E.rd=pe}}function da(E,F){var U=E.l.ma,$=U.Z==0||U.Z==1?E.l.j:E.C;if($=E.C<$?$:E.C,t(F<=E.l.o),F>$){var ie=E.l.width,Ae=U.ca,fe=U.tb+ie*$,pe=E.V,xe=E.Ba+E.c*$,be=E.gc;t(E.ab==1),t(be[0].hc==3),x(be[0],$,F,pe,xe,Ae,fe),Gn(U,$,F,Ae,fe,ie)}E.C=E.Ma=F}function Ua(E,F,U,$,ie,Ae,fe){var pe=E.$/$,xe=E.$%$,be=E.m,Te=E.s,ze=U+E.$,Ce=ze;ie=U+$*ie;var De=U+$*Ae,Qe=280+Te.ua,et=E.Pb?pe:16777216,Ke=0<Te.ua?Te.Wa:null,tt=Te.wc,st=ze<De?on(Te,xe,pe):null;t(E.C<Ae),t(De<=ie);var ut=!1;e:for(;;){for(;ut||ze<De;){var lt=0;if(pe>=et){var er=ze-U;t((et=E).Pb),et.wd=et.m,et.xd=er,0<et.s.ua&&Pe(et.s.Wa,et.s.vb),et=pe+TK}if(xe&tt||(st=on(Te,xe,pe)),t(st!=null),st.Qb&&(F[ze]=st.qb,ut=!0),!ut)if(ge(be),st.jc){lt=be,er=F;var Ht=ze,Tr=st.pd[te(lt)&Ts-1];t(st.jc),256>Tr.g?(de(lt,lt.u+Tr.g),er[Ht]=Tr.value,lt=0):(de(lt,lt.u+Tr.g-256),t(256<=Tr.value),lt=Tr.value),lt==0&&(ut=!0)}else lt=Or(st.G[0],st.H[0],be);if(be.h)break;if(ut||256>lt){if(!ut)if(st.nd)F[ze]=(st.qb|lt<<8)>>>0;else{if(ge(be),ut=Or(st.G[1],st.H[1],be),ge(be),er=Or(st.G[2],st.H[2],be),Ht=Or(st.G[3],st.H[3],be),be.h)break;F[ze]=(Ht<<24|ut<<16|lt<<8|er)>>>0}if(ut=!1,++ze,++xe>=$&&(xe=0,++pe,fe!=null&&pe<=Ae&&!(pe%16)&&fe(E,pe),Ke!=null))for(;Ce<ze;)lt=F[Ce++],Ke.X[(506832829*lt&4294967295)>>>Ke.Mb]=lt}else if(280>lt){if(lt=qr(lt-256,be),er=Or(st.G[4],st.H[4],be),ge(be),er=In($,er=qr(er,be)),be.h)break;if(ze-U<er||ie-ze<lt)break e;for(Ht=0;Ht<lt;++Ht)F[ze+Ht]=F[ze+Ht-er];for(ze+=lt,xe+=lt;xe>=$;)xe-=$,++pe,fe!=null&&pe<=Ae&&!(pe%16)&&fe(E,pe);if(t(ze<=ie),xe&tt&&(st=on(Te,xe,pe)),Ke!=null)for(;Ce<ze;)lt=F[Ce++],Ke.X[(506832829*lt&4294967295)>>>Ke.Mb]=lt}else{if(!(lt<Qe))break e;for(ut=lt-280,t(Ke!=null);Ce<ze;)lt=F[Ce++],Ke.X[(506832829*lt&4294967295)>>>Ke.Mb]=lt;lt=ze,t(!(ut>>>(er=Ke).Xa)),F[lt]=er.X[ut],ut=!0}ut||t(be.h==se(be))}if(E.Pb&&be.h&&ze<ie)t(E.m.h),E.a=5,E.m=E.wd,E.$=E.xd,0<E.s.ua&&Pe(E.s.vb,E.s.Wa);else{if(be.h)break e;fe!=null&&fe(E,pe>Ae?Ae:pe),E.a=0,E.$=ze-U}return 1}return E.a=3,0}function va(E){t(E!=null),E.vc=null,E.yc=null,E.Ya=null;var F=E.Wa;F!=null&&(F.X=null),E.vb=null,t(E!=null)}function ua(){var E=new jr;return E==null?null:(E.a=0,E.xb=V6,br("Predictor","VP8LPredictors"),br("Predictor","VP8LPredictors_C"),br("PredictorAdd","VP8LPredictorsAdd"),br("PredictorAdd","VP8LPredictorsAdd_C"),A=Ft,k=Rt,O=Kr,W=Gt,ne=$e,le=It,ye=Kt,T.VP8LMapColor32b=g,T.VP8LMapColor8b=v,E)}function Mo(E,F,U,$,ie){var Ae=1,fe=[E],pe=[F],xe=$.m,be=$.s,Te=null,ze=0;e:for(;;){if(U)for(;Ae&&oe(xe,1);){var Ce=fe,De=pe,Qe=$,et=1,Ke=Qe.m,tt=Qe.gc[Qe.ab],st=oe(Ke,2);if(Qe.Oc&1<<st)Ae=0;else{switch(Qe.Oc|=1<<st,tt.hc=st,tt.Ea=Ce[0],tt.nc=De[0],tt.K=[null],++Qe.ab,t(4>=Qe.ab),st){case 0:case 1:tt.b=oe(Ke,3)+2,et=Mo(Ue(tt.Ea,tt.b),Ue(tt.nc,tt.b),0,Qe,tt.K),tt.K=tt.K[0];break;case 3:var ut,lt=oe(Ke,8)+1,er=16<lt?0:4<lt?1:2<lt?2:3;if(Ce[0]=Ue(tt.Ea,er),tt.b=er,ut=et=Mo(lt,1,0,Qe,tt.K)){var Ht,Tr=lt,Xt=tt,Zr=1<<(8>>Xt.b),ea=i(Zr);if(ea==null)ut=0;else{var Lr=Xt.K[0],Yt=Xt.w;for(ea[0]=Xt.K[0][0],Ht=1;Ht<1*Tr;++Ht)ea[Ht]=yt(Lr[Yt+Ht],ea[Ht-1]);for(;Ht<4*Zr;++Ht)ea[Ht]=0;Xt.K[0]=null,Xt.K[0]=ea,ut=1}}et=ut;break;case 2:break;default:t(0)}Ae=et}}if(fe=fe[0],pe=pe[0],Ae&&oe(xe,1)&&!(Ae=1<=(ze=oe(xe,4))&&11>=ze)){$.a=3;break e}var bt;if(bt=Ae)t:{var Ls,Ir,nn,$n=$,Ea=fe,fi=pe,Cs=ze,za=U,mi=$n.m,ta=$n.s,ln=[null],Cn=1,Ns=0,Nn=_K[Cs];r:for(;;){if(za&&oe(mi,1)){var ja=oe(mi,3)+2,Cl=Ue(Ea,ja),Ps=Ue(fi,ja),Ri=Cl*Ps;if(!Mo(Cl,Ps,0,$n,ln))break r;for(ln=ln[0],ta.xc=ja,Ls=0;Ls<Ri;++Ls){var On=ln[Ls]>>8&65535;ln[Ls]=On,On>=Cn&&(Cn=On+1)}}if(mi.h)break r;for(Ir=0;5>Ir;++Ir){var ra=Q6[Ir];!Ir&&0<Cs&&(ra+=1<<Cs),Ns<ra&&(Ns=ra)}var Ao=o(Cn*Nn,J),pi=Cn,ho=o(pi,ee);if(ho==null)var fo=null;else t(65536>=pi),fo=ho;var Mi=i(Ns);if(fo==null||Mi==null||Ao==null){$n.a=1;break r}var mo=Ao;for(Ls=nn=0;Ls<Cn;++Ls){var Qn=fo[Ls],po=Qn.G,Nl=Qn.H,ZA=0,id=1,Ia=0;for(Ir=0;5>Ir;++Ir){ra=Q6[Ir],po[Ir]=mo,Nl[Ir]=nn,!Ir&&0<Cs&&(ra+=1<<Cs);s:{var $1,xb=ra,q1=$n,Lm=Mi,JK=mo,ez=nn,yb=0,fu=q1.m,tz=oe(fu,1);if(s(Lm,0,0,xb),tz){var rz=oe(fu,1)+1,nz=oe(fu,1),Z6=oe(fu,nz==0?1:8);Lm[Z6]=1,rz==2&&(Lm[Z6=oe(fu,8)]=1);var X1=1}else{var J6=i(19),ej=oe(fu,4)+4;if(19<ej){q1.a=3;var Y1=0;break s}for($1=0;$1<ej;++$1)J6[FK[$1]]=oe(fu,3);var wb=void 0,Pm=void 0,tj=q1,sz=J6,Z1=xb,rj=Lm,vb=0,mu=tj.m,nj=8,sj=o(128,J);n:for(;V(sj,0,7,sz,19);){if(oe(mu,1)){var az=2+2*oe(mu,3);if((wb=2+oe(mu,az))>Z1)break n}else wb=Z1;for(Pm=0;Pm<Z1&&wb--;){ge(mu);var aj=sj[0+(127&te(mu))];de(mu,mu.u+aj.g);var vf=aj.value;if(16>vf)rj[Pm++]=vf,vf!=0&&(nj=vf);else{var iz=vf==16,ij=vf-16,oz=jK[ij],oj=oe(mu,EK[ij])+oz;if(Pm+oj>Z1)break n;for(var lz=iz?nj:0;0<oj--;)rj[Pm++]=lz}}vb=1;break n}vb||(tj.a=3),X1=vb}(X1=X1&&!fu.h)&&(yb=V(JK,ez,8,Lm,xb)),X1&&yb!=0?Y1=yb:(q1.a=3,Y1=0)}if(Y1==0)break r;if(id&&IK[Ir]==1&&(id=mo[nn].g==0),ZA+=mo[nn].g,nn+=Y1,3>=Ir){var Dm,bb=Mi[0];for(Dm=1;Dm<ra;++Dm)Mi[Dm]>bb&&(bb=Mi[Dm]);Ia+=bb}}if(Qn.nd=id,Qn.Qb=0,id&&(Qn.qb=(po[3][Nl[3]+0].value<<24|po[1][Nl[1]+0].value<<16|po[2][Nl[2]+0].value)>>>0,ZA==0&&256>po[0][Nl[0]+0].value&&(Qn.Qb=1,Qn.qb+=po[0][Nl[0]+0].value<<8)),Qn.jc=!Qn.Qb&&6>Ia,Qn.jc){var J1,od=Qn;for(J1=0;J1<Ts;++J1){var pu=J1,gu=od.pd[pu],ex=od.G[0][od.H[0]+pu];256<=ex.value?(gu.g=ex.g+256,gu.value=ex.value):(gu.g=0,gu.value=0,pu>>=wn(ex,8,gu),pu>>=wn(od.G[1][od.H[1]+pu],16,gu),pu>>=wn(od.G[2][od.H[2]+pu],0,gu),wn(od.G[3][od.H[3]+pu],24,gu))}}}ta.vc=ln,ta.Wb=Cn,ta.Ya=fo,ta.yc=Ao,bt=1;break t}bt=0}if(!(Ae=bt)){$.a=3;break e}if(0<ze){if(be.ua=1<<ze,!me(be.Wa,ze)){$.a=1,Ae=0;break e}}else be.ua=0;var Cb=$,lj=fe,cz=pe,Nb=Cb.s,Bb=Nb.xc;if(Cb.c=lj,Cb.i=cz,Nb.md=Ue(lj,Bb),Nb.wc=Bb==0?-1:(1<<Bb)-1,U){$.xb=UK;break e}if((Te=i(fe*pe))==null){$.a=1,Ae=0;break e}Ae=(Ae=Ua($,Te,0,fe,pe,pe,null))&&!xe.h;break e}return Ae?(ie!=null?ie[0]=Te:(t(Te==null),t(U)),$.$=0,U||va(be)):va(be),Ae}function Wc(E,F){var U=E.c*E.i,$=U+F+16*F;return t(E.c<=F),E.V=i($),E.V==null?(E.Ta=null,E.Ua=0,E.a=1,0):(E.Ta=E.V,E.Ua=E.Ba+U+F,1)}function ba(E,F){var U=E.C,$=F-U,ie=E.V,Ae=E.Ba+E.c*U;for(t(F<=E.l.o);0<$;){var fe=16<$?16:$,pe=E.l.ma,xe=E.l.width,be=xe*fe,Te=pe.ca,ze=pe.tb+xe*U,Ce=E.Ta,De=E.Ua;St(E,fe,ie,Ae),T6(Ce,De,Te,ze,be),Gn(pe,U,U+fe,Te,ze,xe),$-=fe,ie+=fe*E.c,U+=fe}t(U==F),E.C=E.Ma=F}function ws(){this.ub=this.yd=this.td=this.Rb=0}function An(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xf(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ti(){this.Yb=function(){var E=[];return function F(U,$,ie){for(var Ae=ie[$],fe=0;fe<Ae&&(U.push(ie.length>$+1?[]:0),!(ie.length<$+1));fe++)F(U[fe],$+1,ie)}(E,0,[3,11]),E}()}function ru(){this.jb=i(3),this.Wc=l([4,8],Ti),this.Xc=l([4,17],Ti)}function at(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Li(){this.ld=this.La=this.dd=this.tc=0}function Fn(){this.Na=this.la=0}function gl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zA(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Li),this.Y=0,this.ya=Array(new zA),this.aa=0,this.l=new tc}function Wr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Rr(){this.cb=this.a=0,this.sc="",this.m=new Q,this.Od=new ws,this.Kc=new An,this.ed=new at,this.Qa=new xf,this.Ic=this.$c=this.Aa=0,this.D=new Xr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Q),this.ia=0,this.pb=o(4,gl),this.Pa=new ru,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wr),this.Hd=0,this.rb=Array(new Fn),this.sb=0,this.wa=Array(new Li),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zA),this.L=this.aa=0,this.gd=l([4,2],Li),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function tc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function WA(){var E=new Rr;return E!=null&&(E.a=0,E.sc="OK",E.cb=0,E.Xb=0,_m||(_m=xl)),E}function ns(E,F,U){return E.a==0&&(E.a=F,E.sc=U,E.cb=0),0}function ss(E,F,U){return 3<=U&&E[F+0]==157&&E[F+1]==1&&E[F+2]==42}function ao(E,F){if(E==null)return 0;if(E.a=0,E.sc="OK",F==null)return ns(E,2,"null VP8Io passed to VP8GetHeaders()");var U=F.data,$=F.w,ie=F.ha;if(4>ie)return ns(E,7,"Truncated header.");var Ae=U[$+0]|U[$+1]<<8|U[$+2]<<16,fe=E.Od;if(fe.Rb=!(1&Ae),fe.td=Ae>>1&7,fe.yd=Ae>>4&1,fe.ub=Ae>>5,3<fe.td)return ns(E,3,"Incorrect keyframe parameters.");if(!fe.yd)return ns(E,4,"Frame not displayable.");$+=3,ie-=3;var pe=E.Kc;if(fe.Rb){if(7>ie)return ns(E,7,"cannot parse picture header");if(!ss(U,$,ie))return ns(E,3,"Bad code word");pe.c=16383&(U[$+4]<<8|U[$+3]),pe.Td=U[$+4]>>6,pe.i=16383&(U[$+6]<<8|U[$+5]),pe.Ud=U[$+6]>>6,$+=7,ie-=7,E.za=pe.c+15>>4,E.Ub=pe.i+15>>4,F.width=pe.c,F.height=pe.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,s((Ae=E.Pa).jb,0,255,Ae.jb.length),t((Ae=E.Qa)!=null),Ae.Cb=0,Ae.Bb=0,Ae.Fb=1,s(Ae.Zb,0,0,Ae.Zb.length),s(Ae.Lb,0,0,Ae.Lb)}if(fe.ub>ie)return ns(E,7,"bad partition length");q(Ae=E.m,U,$,fe.ub),$+=fe.ub,ie-=fe.ub,fe.Rb&&(pe.Ld=Ee(Ae),pe.Kd=Ee(Ae)),pe=E.Qa;var xe,be=E.Pa;if(t(Ae!=null),t(pe!=null),pe.Cb=Ee(Ae),pe.Cb){if(pe.Bb=Ee(Ae),Ee(Ae)){for(pe.Fb=Ee(Ae),xe=0;4>xe;++xe)pe.Zb[xe]=Ee(Ae)?Y(Ae,7):0;for(xe=0;4>xe;++xe)pe.Lb[xe]=Ee(Ae)?Y(Ae,6):0}if(pe.Bb)for(xe=0;3>xe;++xe)be.jb[xe]=Ee(Ae)?X(Ae,8):255}else pe.Bb=0;if(Ae.Ka)return ns(E,3,"cannot parse segment header");if((pe=E.ed).zd=Ee(Ae),pe.Tb=X(Ae,6),pe.wb=X(Ae,3),pe.Pc=Ee(Ae),pe.Pc&&Ee(Ae)){for(be=0;4>be;++be)Ee(Ae)&&(pe.vd[be]=Y(Ae,6));for(be=0;4>be;++be)Ee(Ae)&&(pe.od[be]=Y(Ae,6))}if(E.L=pe.Tb==0?0:pe.zd?1:2,Ae.Ka)return ns(E,3,"cannot parse filter header");var Te=ie;if(ie=xe=$,$=xe+Te,pe=Te,E.Xb=(1<<X(E.m,2))-1,Te<3*(be=E.Xb))U=7;else{for(xe+=3*be,pe-=3*be,Te=0;Te<be;++Te){var ze=U[ie+0]|U[ie+1]<<8|U[ie+2]<<16;ze>pe&&(ze=pe),q(E.Jc[+Te],U,xe,ze),xe+=ze,pe-=ze,ie+=3}q(E.Jc[+be],U,xe,pe),U=xe<$?0:5}if(U!=0)return ns(E,U,"cannot parse partitions");for(U=X(xe=E.m,7),ie=Ee(xe)?Y(xe,4):0,$=Ee(xe)?Y(xe,4):0,pe=Ee(xe)?Y(xe,4):0,be=Ee(xe)?Y(xe,4):0,xe=Ee(xe)?Y(xe,4):0,Te=E.Qa,ze=0;4>ze;++ze){if(Te.Cb){var Ce=Te.Zb[ze];Te.Fb||(Ce+=U)}else{if(0<ze){E.pb[ze]=E.pb[0];continue}Ce=U}var De=E.pb[ze];De.Sc[0]=mb[Tn(Ce+ie,127)],De.Sc[1]=pb[Tn(Ce+0,127)],De.Eb[0]=2*mb[Tn(Ce+$,127)],De.Eb[1]=101581*pb[Tn(Ce+pe,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=mb[Tn(Ce+be,117)],De.Qc[1]=pb[Tn(Ce+xe,127)],De.lc=Ce+xe}if(!fe.Rb)return ns(E,4,"Not a key frame.");for(Ee(Ae),fe=E.Pa,U=0;4>U;++U){for(ie=0;8>ie;++ie)for($=0;3>$;++$)for(pe=0;11>pe;++pe)be=ke(Ae,RK[U][ie][$][pe])?X(Ae,8):DK[U][ie][$][pe],fe.Wc[U][ie].Yb[$][pe]=be;for(ie=0;17>ie;++ie)fe.Xc[U][ie]=fe.Wc[U][MK[ie]]}return E.kc=Ee(Ae),E.kc&&(E.Bd=X(Ae,8)),E.cb=1}function xl(E,F,U,$,ie,Ae,fe){var pe=F[ie].Yb[U];for(U=0;16>ie;++ie){if(!ke(E,pe[U+0]))return ie;for(;!ke(E,pe[U+1]);)if(pe=F[++ie].Yb[0],U=0,ie==16)return 16;var xe=F[ie+1].Yb;if(ke(E,pe[U+2])){var be=E,Te=0;if(ke(be,(Ce=pe)[(ze=U)+3]))if(ke(be,Ce[ze+6])){for(pe=0,ze=2*(Te=ke(be,Ce[ze+8]))+(Ce=ke(be,Ce[ze+9+Te])),Te=0,Ce=LK[ze];Ce[pe];++pe)Te+=Te+ke(be,Ce[pe]);Te+=3+(8<<ze)}else ke(be,Ce[ze+7])?(Te=7+2*ke(be,165),Te+=ke(be,145)):Te=5+ke(be,159);else Te=ke(be,Ce[ze+4])?3+ke(be,Ce[ze+5]):2;pe=xe[2]}else Te=1,pe=xe[1];xe=fe+PK[ie],0>(be=E).b&&ue(be);var ze,Ce=be.b,De=(ze=be.Ca>>1)-(be.I>>Ce)>>31;--be.b,be.Ca+=De,be.Ca|=1,be.I-=(ze+1&De)<<Ce,Ae[xe]=((Te^De)-De)*$[(0<ie)+0]}return 16}function vn(E){var F=E.rb[E.sb-1];F.la=0,F.Na=0,s(E.zc,0,0,E.zc.length),E.ja=0}function Ks(E,F,U,$,ie){ie=E[F+U+32*$]+(ie>>3),E[F+U+32*$]=-256&ie?0>ie?0:255:ie}function Gc(E,F,U,$,ie,Ae){Ks(E,F,0,U,$+ie),Ks(E,F,1,U,$+Ae),Ks(E,F,2,U,$-Ae),Ks(E,F,3,U,$-ie)}function kn(E){return(20091*E>>16)+E}function un(E,F,U,$){var ie,Ae=0,fe=i(16);for(ie=0;4>ie;++ie){var pe=E[F+0]+E[F+8],xe=E[F+0]-E[F+8],be=(35468*E[F+4]>>16)-kn(E[F+12]),Te=kn(E[F+4])+(35468*E[F+12]>>16);fe[Ae+0]=pe+Te,fe[Ae+1]=xe+be,fe[Ae+2]=xe-be,fe[Ae+3]=pe-Te,Ae+=4,F++}for(ie=Ae=0;4>ie;++ie)pe=(E=fe[Ae+0]+4)+fe[Ae+8],xe=E-fe[Ae+8],be=(35468*fe[Ae+4]>>16)-kn(fe[Ae+12]),Ks(U,$,0,0,pe+(Te=kn(fe[Ae+4])+(35468*fe[Ae+12]>>16))),Ks(U,$,1,0,xe+be),Ks(U,$,2,0,xe-be),Ks(U,$,3,0,pe-Te),Ae++,$+=32}function zs(E,F,U,$){var ie=E[F+0]+4,Ae=35468*E[F+4]>>16,fe=kn(E[F+4]),pe=35468*E[F+1]>>16;Gc(U,$,0,ie+fe,E=kn(E[F+1]),pe),Gc(U,$,1,ie+Ae,E,pe),Gc(U,$,2,ie-Ae,E,pe),Gc(U,$,3,ie-fe,E,pe)}function Ve(E,F,U,$,ie){un(E,F,U,$),ie&&un(E,F+16,U,$+4)}function we(E,F,U,$){je(E,F+0,U,$,1),je(E,F+32,U,$+128,1)}function Pt(E,F,U,$){var ie;for(E=E[F+0]+4,ie=0;4>ie;++ie)for(F=0;4>F;++F)Ks(U,$,F,ie,E)}function As(E,F,U,$){E[F+0]&&ct(E,F+0,U,$),E[F+16]&&ct(E,F+16,U,$+4),E[F+32]&&ct(E,F+32,U,$+128),E[F+48]&&ct(E,F+48,U,$+128+4)}function Ca(E,F,U,$){var ie,Ae=i(16);for(ie=0;4>ie;++ie){var fe=E[F+0+ie]+E[F+12+ie],pe=E[F+4+ie]+E[F+8+ie],xe=E[F+4+ie]-E[F+8+ie],be=E[F+0+ie]-E[F+12+ie];Ae[0+ie]=fe+pe,Ae[8+ie]=fe-pe,Ae[4+ie]=be+xe,Ae[12+ie]=be-xe}for(ie=0;4>ie;++ie)fe=(E=Ae[0+4*ie]+3)+Ae[3+4*ie],pe=Ae[1+4*ie]+Ae[2+4*ie],xe=Ae[1+4*ie]-Ae[2+4*ie],be=E-Ae[3+4*ie],U[$+0]=fe+pe>>3,U[$+16]=be+xe>>3,U[$+32]=fe-pe>>3,U[$+48]=be-xe>>3,$+=64}function rc(E,F,U){var $,ie=F-32,Ae=uo,fe=255-E[ie-1];for($=0;$<U;++$){var pe,xe=Ae,be=fe+E[F-1];for(pe=0;pe<U;++pe)E[F+pe]=xe[be+E[ie+pe]];F+=32}}function $c(E,F){rc(E,F,4)}function Qa(E,F){rc(E,F,8)}function nr(E,F){rc(E,F,16)}function Pn(E,F){var U;for(U=0;16>U;++U)n(E,F+32*U,E,F-32,16)}function nu(E,F){var U;for(U=16;0<U;--U)s(E,F,E[F-1],16),F+=32}function qc(E,F,U){var $;for($=0;16>$;++$)s(F,U+32*$,E,16)}function Uo(E,F){var U,$=16;for(U=0;16>U;++U)$+=E[F-1+32*U]+E[F+U-32];qc($>>5,E,F)}function su(E,F){var U,$=8;for(U=0;16>U;++U)$+=E[F-1+32*U];qc($>>4,E,F)}function yl(E,F){var U,$=8;for(U=0;16>U;++U)$+=E[F+U-32];qc($>>4,E,F)}function GA(E,F){qc(128,E,F)}function zt(E,F,U){return E+2*F+U+2>>2}function Xc(E,F){var U,$=F-32;for($=new Uint8Array([zt(E[$-1],E[$+0],E[$+1]),zt(E[$+0],E[$+1],E[$+2]),zt(E[$+1],E[$+2],E[$+3]),zt(E[$+2],E[$+3],E[$+4])]),U=0;4>U;++U)n(E,F+32*U,$,0,$.length)}function Qo(E,F){var U=E[F-1],$=E[F-1+32],ie=E[F-1+64],Ae=E[F-1+96];_e(E,F+0,16843009*zt(E[F-1-32],U,$)),_e(E,F+32,16843009*zt(U,$,ie)),_e(E,F+64,16843009*zt($,ie,Ae)),_e(E,F+96,16843009*zt(ie,Ae,Ae))}function lr(E,F){var U,$=4;for(U=0;4>U;++U)$+=E[F+U-32]+E[F-1+32*U];for($>>=3,U=0;4>U;++U)s(E,F+32*U,$,4)}function Fm(E,F){var U=E[F-1+0],$=E[F-1+32],ie=E[F-1+64],Ae=E[F-1-32],fe=E[F+0-32],pe=E[F+1-32],xe=E[F+2-32],be=E[F+3-32];E[F+0+96]=zt($,ie,E[F-1+96]),E[F+1+96]=E[F+0+64]=zt(U,$,ie),E[F+2+96]=E[F+1+64]=E[F+0+32]=zt(Ae,U,$),E[F+3+96]=E[F+2+64]=E[F+1+32]=E[F+0+0]=zt(fe,Ae,U),E[F+3+64]=E[F+2+32]=E[F+1+0]=zt(pe,fe,Ae),E[F+3+32]=E[F+2+0]=zt(xe,pe,fe),E[F+3+0]=zt(be,xe,pe)}function fr(E,F){var U=E[F+1-32],$=E[F+2-32],ie=E[F+3-32],Ae=E[F+4-32],fe=E[F+5-32],pe=E[F+6-32],xe=E[F+7-32];E[F+0+0]=zt(E[F+0-32],U,$),E[F+1+0]=E[F+0+32]=zt(U,$,ie),E[F+2+0]=E[F+1+32]=E[F+0+64]=zt($,ie,Ae),E[F+3+0]=E[F+2+32]=E[F+1+64]=E[F+0+96]=zt(ie,Ae,fe),E[F+3+32]=E[F+2+64]=E[F+1+96]=zt(Ae,fe,pe),E[F+3+64]=E[F+2+96]=zt(fe,pe,xe),E[F+3+96]=zt(pe,xe,xe)}function Dn(E,F){var U=E[F-1+0],$=E[F-1+32],ie=E[F-1+64],Ae=E[F-1-32],fe=E[F+0-32],pe=E[F+1-32],xe=E[F+2-32],be=E[F+3-32];E[F+0+0]=E[F+1+64]=Ae+fe+1>>1,E[F+1+0]=E[F+2+64]=fe+pe+1>>1,E[F+2+0]=E[F+3+64]=pe+xe+1>>1,E[F+3+0]=xe+be+1>>1,E[F+0+96]=zt(ie,$,U),E[F+0+64]=zt($,U,Ae),E[F+0+32]=E[F+1+96]=zt(U,Ae,fe),E[F+1+32]=E[F+2+96]=zt(Ae,fe,pe),E[F+2+32]=E[F+3+96]=zt(fe,pe,xe),E[F+3+32]=zt(pe,xe,be)}function km(E,F){var U=E[F+0-32],$=E[F+1-32],ie=E[F+2-32],Ae=E[F+3-32],fe=E[F+4-32],pe=E[F+5-32],xe=E[F+6-32],be=E[F+7-32];E[F+0+0]=U+$+1>>1,E[F+1+0]=E[F+0+64]=$+ie+1>>1,E[F+2+0]=E[F+1+64]=ie+Ae+1>>1,E[F+3+0]=E[F+2+64]=Ae+fe+1>>1,E[F+0+32]=zt(U,$,ie),E[F+1+32]=E[F+0+96]=zt($,ie,Ae),E[F+2+32]=E[F+1+96]=zt(ie,Ae,fe),E[F+3+32]=E[F+2+96]=zt(Ae,fe,pe),E[F+3+64]=zt(fe,pe,xe),E[F+3+96]=zt(pe,xe,be)}function $A(E,F){var U=E[F-1+0],$=E[F-1+32],ie=E[F-1+64],Ae=E[F-1+96];E[F+0+0]=U+$+1>>1,E[F+2+0]=E[F+0+32]=$+ie+1>>1,E[F+2+32]=E[F+0+64]=ie+Ae+1>>1,E[F+1+0]=zt(U,$,ie),E[F+3+0]=E[F+1+32]=zt($,ie,Ae),E[F+3+32]=E[F+1+64]=zt(ie,Ae,Ae),E[F+3+64]=E[F+2+64]=E[F+0+96]=E[F+1+96]=E[F+2+96]=E[F+3+96]=Ae}function Yc(E,F){var U=E[F-1+0],$=E[F-1+32],ie=E[F-1+64],Ae=E[F-1+96],fe=E[F-1-32],pe=E[F+0-32],xe=E[F+1-32],be=E[F+2-32];E[F+0+0]=E[F+2+32]=U+fe+1>>1,E[F+0+32]=E[F+2+64]=$+U+1>>1,E[F+0+64]=E[F+2+96]=ie+$+1>>1,E[F+0+96]=Ae+ie+1>>1,E[F+3+0]=zt(pe,xe,be),E[F+2+0]=zt(fe,pe,xe),E[F+1+0]=E[F+3+32]=zt(U,fe,pe),E[F+1+32]=E[F+3+64]=zt($,U,fe),E[F+1+64]=E[F+3+96]=zt(ie,$,U),E[F+1+96]=zt(Ae,ie,$)}function io(E,F){var U;for(U=0;8>U;++U)n(E,F+32*U,E,F-32,8)}function Zc(E,F){var U;for(U=0;8>U;++U)s(E,F,E[F-1],8),F+=32}function Ho(E,F,U){var $;for($=0;8>$;++$)s(F,U+32*$,E,8)}function Vo(E,F){var U,$=8;for(U=0;8>U;++U)$+=E[F+U-32]+E[F-1+32*U];Ho($>>4,E,F)}function Jc(E,F){var U,$=4;for(U=0;8>U;++U)$+=E[F+U-32];Ho($>>3,E,F)}function au(E,F){var U,$=4;for(U=0;8>U;++U)$+=E[F-1+32*U];Ho($>>3,E,F)}function wl(E,F){Ho(128,E,F)}function oo(E,F,U){var $=E[F-U],ie=E[F+0],Ae=3*(ie-$)+db[1020+E[F-2*U]-E[F+U]],fe=M1[112+(Ae+4>>3)];E[F-U]=uo[255+$+M1[112+(Ae+3>>3)]],E[F+0]=uo[255+ie-fe]}function vs(E,F,U,$){var ie=E[F+0],Ae=E[F+U];return qo[255+E[F-2*U]-E[F-U]]>$||qo[255+Ae-ie]>$}function iu(E,F,U,$){return 4*qo[255+E[F-U]-E[F+0]]+qo[255+E[F-2*U]-E[F+U]]<=$}function ed(E,F,U,$,ie){var Ae=E[F-3*U],fe=E[F-2*U],pe=E[F-U],xe=E[F+0],be=E[F+U],Te=E[F+2*U],ze=E[F+3*U];return 4*qo[255+pe-xe]+qo[255+fe-be]>$?0:qo[255+E[F-4*U]-Ae]<=ie&&qo[255+Ae-fe]<=ie&&qo[255+fe-pe]<=ie&&qo[255+ze-Te]<=ie&&qo[255+Te-be]<=ie&&qo[255+be-xe]<=ie}function ou(E,F,U,$){var ie=2*$+1;for($=0;16>$;++$)iu(E,F+$,U,ie)&&oo(E,F+$,U)}function td(E,F,U,$){var ie=2*$+1;for($=0;16>$;++$)iu(E,F+$*U,1,ie)&&oo(E,F+$*U,1)}function qA(E,F,U,$){var ie;for(ie=3;0<ie;--ie)ou(E,F+=4*U,U,$)}function XA(E,F,U,$){var ie;for(ie=3;0<ie;--ie)td(E,F+=4,U,$)}function Fr(E,F,U,$,ie,Ae,fe,pe){for(Ae=2*Ae+1;0<ie--;){if(ed(E,F,U,Ae,fe))if(vs(E,F,U,pe))oo(E,F,U);else{var xe=E,be=F,Te=U,ze=xe[be-2*Te],Ce=xe[be-Te],De=xe[be+0],Qe=xe[be+Te],et=xe[be+2*Te],Ke=27*(st=db[1020+3*(De-Ce)+db[1020+ze-Qe]])+63>>7,tt=18*st+63>>7,st=9*st+63>>7;xe[be-3*Te]=uo[255+xe[be-3*Te]+st],xe[be-2*Te]=uo[255+ze+tt],xe[be-Te]=uo[255+Ce+Ke],xe[be+0]=uo[255+De-Ke],xe[be+Te]=uo[255+Qe-tt],xe[be+2*Te]=uo[255+et-st]}F+=$}}function lo(E,F,U,$,ie,Ae,fe,pe){for(Ae=2*Ae+1;0<ie--;){if(ed(E,F,U,Ae,fe))if(vs(E,F,U,pe))oo(E,F,U);else{var xe=E,be=F,Te=U,ze=xe[be-Te],Ce=xe[be+0],De=xe[be+Te],Qe=M1[112+(4+(et=3*(Ce-ze))>>3)],et=M1[112+(et+3>>3)],Ke=Qe+1>>1;xe[be-2*Te]=uo[255+xe[be-2*Te]+Ke],xe[be-Te]=uo[255+ze+et],xe[be+0]=uo[255+Ce-Qe],xe[be+Te]=uo[255+De-Ke]}F+=$}}function R(E,F,U,$,ie,Ae){Fr(E,F,U,1,16,$,ie,Ae)}function ae(E,F,U,$,ie,Ae){Fr(E,F,1,U,16,$,ie,Ae)}function ve(E,F,U,$,ie,Ae){var fe;for(fe=3;0<fe;--fe)lo(E,F+=4*U,U,1,16,$,ie,Ae)}function he(E,F,U,$,ie,Ae){var fe;for(fe=3;0<fe;--fe)lo(E,F+=4,1,U,16,$,ie,Ae)}function Ie(E,F,U,$,ie,Ae,fe,pe){Fr(E,F,ie,1,8,Ae,fe,pe),Fr(U,$,ie,1,8,Ae,fe,pe)}function Ye(E,F,U,$,ie,Ae,fe,pe){Fr(E,F,1,ie,8,Ae,fe,pe),Fr(U,$,1,ie,8,Ae,fe,pe)}function ot(E,F,U,$,ie,Ae,fe,pe){lo(E,F+4*ie,ie,1,8,Ae,fe,pe),lo(U,$+4*ie,ie,1,8,Ae,fe,pe)}function Mt(E,F,U,$,ie,Ae,fe,pe){lo(E,F+4,1,ie,8,Ae,fe,pe),lo(U,$+4,1,ie,8,Ae,fe,pe)}function $t(){this.ba=new Bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Sr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Yr(){this.ua=0,this.Wa=new nt,this.vb=new nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new J}function jr(){this.xb=this.a=0,this.l=new tc,this.ca=new Bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Yr,this.ab=0,this.gc=o(4,Sr),this.Oc=0}function as(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ar(E,F,U,$,ie,Ae,fe){for(E=E==null?0:E[F+0],F=0;F<fe;++F)ie[Ae+F]=E+U[$+F]&255,E=ie[Ae+F]}function is(E,F,U,$,ie,Ae,fe){var pe;if(E==null)Ar(null,null,U,$,ie,Ae,fe);else for(pe=0;pe<fe;++pe)ie[Ae+pe]=E[F+pe]+U[$+pe]&255}function _n(E,F,U,$,ie,Ae,fe){if(E==null)Ar(null,null,U,$,ie,Ae,fe);else{var pe,xe=E[F+0],be=xe,Te=xe;for(pe=0;pe<fe;++pe)be=Te+(xe=E[F+pe])-be,Te=U[$+pe]+(-256&be?0>be?0:255:be)&255,be=xe,ie[Ae+pe]=Te}}function Cr(E,F,U,$){var ie=F.width,Ae=F.o;if(t(E!=null&&F!=null),0>U||0>=$||U+$>Ae)return null;if(!E.Cc){if(E.ga==null){var fe;if(E.ga=new as,(fe=E.ga==null)||(fe=F.width*F.o,t(E.Gb.length==0),E.Gb=i(fe),E.Uc=0,E.Gb==null?fe=0:(E.mb=E.Gb,E.nb=E.Uc,E.rc=null,fe=1),fe=!fe),!fe){fe=E.ga;var pe=E.Fa,xe=E.P,be=E.qc,Te=E.mb,ze=E.nb,Ce=xe+1,De=be-1,Qe=fe.l;if(t(pe!=null&&Te!=null&&F!=null),hu[0]=null,hu[1]=Ar,hu[2]=is,hu[3]=_n,fe.ca=Te,fe.tb=ze,fe.c=F.width,fe.i=F.height,t(0<fe.c&&0<fe.i),1>=be)F=0;else if(fe.$a=3&pe[xe+0],fe.Z=pe[xe+0]>>2&3,fe.Lc=pe[xe+0]>>4&3,xe=pe[xe+0]>>6&3,0>fe.$a||1<fe.$a||4<=fe.Z||1<fe.Lc||xe)F=0;else if(Qe.put=Et,Qe.ac=Vr,Qe.bc=rn,Qe.ma=fe,Qe.width=F.width,Qe.height=F.height,Qe.Da=F.Da,Qe.v=F.v,Qe.va=F.va,Qe.j=F.j,Qe.o=F.o,fe.$a)e:{t(fe.$a==1),F=ua();t:for(;;){if(F==null){F=0;break e}if(t(fe!=null),fe.mc=F,F.c=fe.c,F.i=fe.i,F.l=fe.l,F.l.ma=fe,F.l.width=fe.c,F.l.height=fe.i,F.a=0,K(F.m,pe,Ce,De),!Mo(fe.c,fe.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&hi(F.s)?(fe.ic=1,pe=F.c*F.i,F.Ta=null,F.Ua=0,F.V=i(pe),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(fe.ic=0,F=Wc(F,fe.c)),!F))break t;F=1;break e}fe.mc=null,F=0}else F=De>=fe.c*fe.i;fe=!F}if(fe)return null;E.ga.Lc!=1?E.Ga=0:$=Ae-U}t(E.ga!=null),t(U+$<=Ae);e:{if(F=(pe=E.ga).c,Ae=pe.l.o,pe.$a==0){if(Ce=E.rc,De=E.Vc,Qe=E.Fa,xe=E.P+1+U*F,be=E.mb,Te=E.nb+U*F,t(xe<=E.P+E.qc),pe.Z!=0)for(t(hu[pe.Z]!=null),fe=0;fe<$;++fe)hu[pe.Z](Ce,De,Qe,xe,be,Te,F),Ce=be,De=Te,Te+=F,xe+=F;else for(fe=0;fe<$;++fe)n(be,Te,Qe,xe,F),Ce=be,De=Te,Te+=F,xe+=F;E.rc=Ce,E.Vc=De}else{if(t(pe.mc!=null),F=U+$,t((fe=pe.mc)!=null),t(F<=fe.i),fe.C>=F)F=1;else if(pe.ic||Pi(),pe.ic){pe=fe.V,Ce=fe.Ba,De=fe.c;var et=fe.i,Ke=(Qe=1,xe=fe.$/De,be=fe.$%De,Te=fe.m,ze=fe.s,fe.$),tt=De*et,st=De*F,ut=ze.wc,lt=Ke<st?on(ze,be,xe):null;t(Ke<=tt),t(F<=et),t(hi(ze));t:for(;;){for(;!Te.h&&Ke<st;){if(be&ut||(lt=on(ze,be,xe)),t(lt!=null),ge(Te),256>(et=Or(lt.G[0],lt.H[0],Te)))pe[Ce+Ke]=et,++Ke,++be>=De&&(be=0,++xe<=F&&!(xe%16)&&da(fe,xe));else{if(!(280>et)){Qe=0;break t}et=qr(et-256,Te);var er,Ht=Or(lt.G[4],lt.H[4],Te);if(ge(Te),!(Ke>=(Ht=In(De,Ht=qr(Ht,Te)))&&tt-Ke>=et)){Qe=0;break t}for(er=0;er<et;++er)pe[Ce+Ke+er]=pe[Ce+Ke+er-Ht];for(Ke+=et,be+=et;be>=De;)be-=De,++xe<=F&&!(xe%16)&&da(fe,xe);Ke<st&&be&ut&&(lt=on(ze,be,xe))}t(Te.h==se(Te))}da(fe,xe>F?F:xe);break t}!Qe||Te.h&&Ke<tt?(Qe=0,fe.a=Te.h?5:3):fe.$=Ke,F=Qe}else F=Ua(fe,fe.V,fe.Ba,fe.c,fe.i,F,ba);if(!F){$=0;break e}}U+$>=Ae&&(E.Cc=1),$=1}if(!$)return null;if(E.Cc&&(($=E.ga)!=null&&($.mc=null),E.ga=null,0<E.Ga))return alert("todo:WebPDequantizeLevels"),null}return E.nb+U*ie}function qt(E,F,U,$,ie,Ae){for(;0<ie--;){var fe,pe=E,xe=F+(U?1:0),be=E,Te=F+(U?0:3);for(fe=0;fe<$;++fe){var ze=be[Te+4*fe];ze!=255&&(ze*=32897,pe[xe+4*fe+0]=pe[xe+4*fe+0]*ze>>23,pe[xe+4*fe+1]=pe[xe+4*fe+1]*ze>>23,pe[xe+4*fe+2]=pe[xe+4*fe+2]*ze>>23)}F+=Ae}}function nc(E,F,U,$,ie){for(;0<$--;){var Ae;for(Ae=0;Ae<U;++Ae){var fe=E[F+2*Ae+0],pe=15&(be=E[F+2*Ae+1]),xe=4369*pe,be=(240&be|be>>4)*xe>>16;E[F+2*Ae+0]=(240&fe|fe>>4)*xe>>16&240|(15&fe|fe<<4)*xe>>16>>4&15,E[F+2*Ae+1]=240&be|pe}F+=ie}}function bn(E,F,U,$,ie,Ae,fe,pe){var xe,be,Te=255;for(be=0;be<ie;++be){for(xe=0;xe<$;++xe){var ze=E[F+xe];Ae[fe+4*xe]=ze,Te&=ze}F+=U,fe+=pe}return Te!=255}function Ko(E,F,U,$,ie){var Ae;for(Ae=0;Ae<ie;++Ae)U[$+Ae]=E[F+Ae]>>8}function Pi(){YA=qt,k6=nc,_6=bn,T6=Ko}function co(E,F,U){T[E]=function($,ie,Ae,fe,pe,xe,be,Te,ze,Ce,De,Qe,et,Ke,tt,st,ut){var lt,er=ut-1>>1,Ht=pe[xe+0]|be[Te+0]<<16,Tr=ze[Ce+0]|De[Qe+0]<<16;t($!=null);var Xt=3*Ht+Tr+131074>>2;for(F($[ie+0],255&Xt,Xt>>16,et,Ke),Ae!=null&&(Xt=3*Tr+Ht+131074>>2,F(Ae[fe+0],255&Xt,Xt>>16,tt,st)),lt=1;lt<=er;++lt){var Zr=pe[xe+lt]|be[Te+lt]<<16,ea=ze[Ce+lt]|De[Qe+lt]<<16,Lr=Ht+Zr+Tr+ea+524296,Yt=Lr+2*(Zr+Tr)>>3;Xt=Yt+Ht>>1,Ht=(Lr=Lr+2*(Ht+ea)>>3)+Zr>>1,F($[ie+2*lt-1],255&Xt,Xt>>16,et,Ke+(2*lt-1)*U),F($[ie+2*lt-0],255&Ht,Ht>>16,et,Ke+(2*lt-0)*U),Ae!=null&&(Xt=Lr+Tr>>1,Ht=Yt+ea>>1,F(Ae[fe+2*lt-1],255&Xt,Xt>>16,tt,st+(2*lt-1)*U),F(Ae[fe+2*lt+0],255&Ht,Ht>>16,tt,st+(2*lt+0)*U)),Ht=Zr,Tr=ea}1&ut||(Xt=3*Ht+Tr+131074>>2,F($[ie+ut-1],255&Xt,Xt>>16,et,Ke+(ut-1)*U),Ae!=null&&(Xt=3*Tr+Ht+131074>>2,F(Ae[fe+ut-1],255&Xt,Xt>>16,tt,st+(ut-1)*U)))}}function Ha(){Xo[U1]=QK,Xo[Q1]=K6,Xo[M6]=HK,Xo[H1]=z6,Xo[V1]=W6,Xo[ub]=G6,Xo[U6]=VK,Xo[Ab]=K6,Xo[hb]=z6,Xo[K1]=W6,Xo[fb]=G6}function sc(E){return E&~KK?0>E?0:255:E>>$6}function vl(E,F){return sc((19077*E>>8)+(26149*F>>8)-14234)}function bs(E,F,U){return sc((19077*E>>8)-(6419*F>>8)-(13320*U>>8)+8708)}function zo(E,F){return sc((19077*E>>8)+(33050*F>>8)-17685)}function Wo(E,F,U,$,ie){$[ie+0]=vl(E,U),$[ie+1]=bs(E,F,U),$[ie+2]=zo(E,F)}function lu(E,F,U,$,ie){$[ie+0]=zo(E,F),$[ie+1]=bs(E,F,U),$[ie+2]=vl(E,U)}function Go(E,F,U,$,ie){var Ae=bs(E,F,U);F=Ae<<3&224|zo(E,F)>>3,$[ie+0]=248&vl(E,U)|Ae>>5,$[ie+1]=F}function Zs(E,F,U,$,ie){var Ae=240&zo(E,F)|15;$[ie+0]=240&vl(E,U)|bs(E,F,U)>>4,$[ie+1]=Ae}function yf(E,F,U,$,ie){$[ie+0]=255,Wo(E,F,U,$,ie+1)}function $o(E,F,U,$,ie){lu(E,F,U,$,ie),$[ie+3]=255}function wf(E,F,U,$,ie){Wo(E,F,U,$,ie),$[ie+3]=255}function Tn(E,F){return 0>E?0:E>F?F:E}function Na(E,F,U){T[E]=function($,ie,Ae,fe,pe,xe,be,Te,ze){for(var Ce=Te+(-2&ze)*U;Te!=Ce;)F($[ie+0],Ae[fe+0],pe[xe+0],be,Te),F($[ie+1],Ae[fe+0],pe[xe+0],be,Te+U),ie+=2,++fe,++xe,Te+=2*U;1&ze&&F($[ie+0],Ae[fe+0],pe[xe+0],be,Te)}}function Aa(E,F,U){return U==0?E==0?F==0?6:5:F==0?4:0:U}function cu(E,F,U,$,ie){switch(E>>>30){case 3:je(F,U,$,ie,0);break;case 2:Me(F,U,$,ie);break;case 1:ct(F,U,$,ie)}}function Js(E,F){var U,$,ie=F.M,Ae=F.Nb,fe=E.oc,pe=E.pc+40,xe=E.oc,be=E.pc+584,Te=E.oc,ze=E.pc+600;for(U=0;16>U;++U)fe[pe+32*U-1]=129;for(U=0;8>U;++U)xe[be+32*U-1]=129,Te[ze+32*U-1]=129;for(0<ie?fe[pe-1-32]=xe[be-1-32]=Te[ze-1-32]=129:(s(fe,pe-32-1,127,21),s(xe,be-32-1,127,9),s(Te,ze-32-1,127,9)),$=0;$<E.za;++$){var Ce=F.ya[F.aa+$];if(0<$){for(U=-1;16>U;++U)n(fe,pe+32*U-4,fe,pe+32*U+12,4);for(U=-1;8>U;++U)n(xe,be+32*U-4,xe,be+32*U+4,4),n(Te,ze+32*U-4,Te,ze+32*U+4,4)}var De=E.Gd,Qe=E.Hd+$,et=Ce.ad,Ke=Ce.Hc;if(0<ie&&(n(fe,pe-32,De[Qe].y,0,16),n(xe,be-32,De[Qe].f,0,8),n(Te,ze-32,De[Qe].ea,0,8)),Ce.Za){var tt=fe,st=pe-32+16;for(0<ie&&($>=E.za-1?s(tt,st,De[Qe].y[15],4):n(tt,st,De[Qe+1].y,0,4)),U=0;4>U;U++)tt[st+128+U]=tt[st+256+U]=tt[st+384+U]=tt[st+0+U];for(U=0;16>U;++U,Ke<<=2)tt=fe,st=pe+X6[U],bl[Ce.Ob[U]](tt,st),cu(Ke,et,16*+U,tt,st)}else if(tt=Aa($,ie,Ce.Ob[0]),Au[tt](fe,pe),Ke!=0)for(U=0;16>U;++U,Ke<<=2)cu(Ke,et,16*+U,fe,pe+X6[U]);for(U=Ce.Gc,tt=Aa($,ie,Ce.Dd),ad[tt](xe,be),ad[tt](Te,ze),Ke=et,tt=xe,st=be,255&(Ce=0|U)&&(170&Ce?qe(Ke,256,tt,st):ht(Ke,256,tt,st)),Ce=Te,Ke=ze,255&(U>>=8)&&(170&U?qe(et,320,Ce,Ke):ht(et,320,Ce,Ke)),ie<E.Ub-1&&(n(De[Qe].y,0,fe,pe+480,16),n(De[Qe].f,0,xe,be+224,8),n(De[Qe].ea,0,Te,ze+224,8)),U=8*Ae*E.B,De=E.sa,Qe=E.ta+16*$+16*Ae*E.R,et=E.qa,Ce=E.ra+8*$+U,Ke=E.Ha,tt=E.Ia+8*$+U,U=0;16>U;++U)n(De,Qe+U*E.R,fe,pe+32*U,16);for(U=0;8>U;++U)n(et,Ce+U*E.B,xe,be+32*U,8),n(Ke,tt+U*E.B,Te,ze+32*U,8)}}function du(E,F,U,$,ie,Ae,fe,pe,xe){var be=[0],Te=[0],ze=0,Ce=xe!=null?xe.kd:0,De=xe??new pr;if(E==null||12>U)return 7;De.data=E,De.w=F,De.ha=U,F=[F],U=[U],De.gb=[De.gb];e:{var Qe=F,et=U,Ke=De.gb;if(t(E!=null),t(et!=null),t(Ke!=null),Ke[0]=0,12<=et[0]&&!r(E,Qe[0],"RIFF")){if(r(E,Qe[0]+8,"WEBP")){Ke=3;break e}var tt=Ne(E,Qe[0]+4);if(12>tt||4294967286<tt){Ke=3;break e}if(Ce&&tt>et[0]-8){Ke=7;break e}Ke[0]=tt,Qe[0]+=12,et[0]-=12}Ke=0}if(Ke!=0)return Ke;for(tt=0<De.gb[0],U=U[0];;){e:{var st=E;et=F,Ke=U;var ut=be,lt=Te,er=Qe=[0];if((Xt=ze=[ze])[0]=0,8>Ke[0])Ke=7;else{if(!r(st,et[0],"VP8X")){if(Ne(st,et[0]+4)!=10){Ke=3;break e}if(18>Ke[0]){Ke=7;break e}var Ht=Ne(st,et[0]+8),Tr=1+He(st,et[0]+12);if(2147483648<=Tr*(st=1+He(st,et[0]+15))){Ke=3;break e}er!=null&&(er[0]=Ht),ut!=null&&(ut[0]=Tr),lt!=null&&(lt[0]=st),et[0]+=18,Ke[0]-=18,Xt[0]=1}Ke=0}}if(ze=ze[0],Qe=Qe[0],Ke!=0)return Ke;if(et=!!(2&Qe),!tt&&ze)return 3;if(Ae!=null&&(Ae[0]=!!(16&Qe)),fe!=null&&(fe[0]=et),pe!=null&&(pe[0]=0),fe=be[0],Qe=Te[0],ze&&et&&xe==null){Ke=0;break}if(4>U){Ke=7;break}if(tt&&ze||!tt&&!ze&&!r(E,F[0],"ALPH")){U=[U],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{Ht=E,Ke=F,tt=U;var Xt=De.gb;ut=De.na,lt=De.P,er=De.Sa,Tr=22,t(Ht!=null),t(tt!=null),st=Ke[0];var Zr=tt[0];for(t(ut!=null),t(er!=null),ut[0]=null,lt[0]=null,er[0]=0;;){if(Ke[0]=st,tt[0]=Zr,8>Zr){Ke=7;break e}var ea=Ne(Ht,st+4);if(4294967286<ea){Ke=3;break e}var Lr=8+ea+1&-2;if(Tr+=Lr,0<Xt&&Tr>Xt){Ke=3;break e}if(!r(Ht,st,"VP8 ")||!r(Ht,st,"VP8L")){Ke=0;break e}if(Zr[0]<Lr){Ke=7;break e}r(Ht,st,"ALPH")||(ut[0]=Ht,lt[0]=st+8,er[0]=ea),st+=Lr,Zr-=Lr}}if(U=U[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Ke!=0)break}U=[U],De.Ja=[De.Ja],De.xa=[De.xa];e:if(Xt=E,Ke=F,tt=U,ut=De.gb[0],lt=De.Ja,er=De.xa,Ht=Ke[0],st=!r(Xt,Ht,"VP8 "),Tr=!r(Xt,Ht,"VP8L"),t(Xt!=null),t(tt!=null),t(lt!=null),t(er!=null),8>tt[0])Ke=7;else{if(st||Tr){if(Xt=Ne(Xt,Ht+4),12<=ut&&Xt>ut-12){Ke=3;break e}if(Ce&&Xt>tt[0]-8){Ke=7;break e}lt[0]=Xt,Ke[0]+=8,tt[0]-=8,er[0]=Tr}else er[0]=5<=tt[0]&&Xt[Ht+0]==47&&!(Xt[Ht+4]>>5),lt[0]=tt[0];Ke=0}if(U=U[0],De.Ja=De.Ja[0],De.xa=De.xa[0],F=F[0],Ke!=0)break;if(4294967286<De.Ja)return 3;if(pe==null||et||(pe[0]=De.xa?2:1),fe=[fe],Qe=[Qe],De.xa){if(5>U){Ke=7;break}pe=fe,Ce=Qe,et=Ae,E==null||5>U?E=0:5<=U&&E[F+0]==47&&!(E[F+4]>>5)?(tt=[0],Xt=[0],ut=[0],K(lt=new G,E,F,U),ys(lt,tt,Xt,ut)?(pe!=null&&(pe[0]=tt[0]),Ce!=null&&(Ce[0]=Xt[0]),et!=null&&(et[0]=ut[0]),E=1):E=0):E=0}else{if(10>U){Ke=7;break}pe=Qe,E==null||10>U||!ss(E,F+3,U-3)?E=0:(Ce=E[F+0]|E[F+1]<<8|E[F+2]<<16,et=16383&(E[F+7]<<8|E[F+6]),E=16383&(E[F+9]<<8|E[F+8]),1&Ce||3<(Ce>>1&7)||!(Ce>>4&1)||Ce>>5>=De.Ja||!et||!E?E=0:(fe&&(fe[0]=et),pe&&(pe[0]=E),E=1))}if(!E||(fe=fe[0],Qe=Qe[0],ze&&(be[0]!=fe||Te[0]!=Qe)))return 3;xe!=null&&(xe[0]=De,xe.offset=F-xe.w,t(4294967286>F-xe.w),t(xe.offset==xe.ha-U));break}return Ke==0||Ke==7&&ze&&xe==null?(Ae!=null&&(Ae[0]|=De.na!=null&&0<De.na.length),$!=null&&($[0]=fe),ie!=null&&(ie[0]=Qe),0):Ke}function ha(E,F,U){var $=F.width,ie=F.height,Ae=0,fe=0,pe=$,xe=ie;if(F.Da=E!=null&&0<E.Da,F.Da&&(pe=E.cd,xe=E.bd,Ae=E.v,fe=E.j,11>U||(Ae&=-2,fe&=-2),0>Ae||0>fe||0>=pe||0>=xe||Ae+pe>$||fe+xe>ie))return 0;if(F.v=Ae,F.j=fe,F.va=Ae+pe,F.o=fe+xe,F.U=pe,F.T=xe,F.da=E!=null&&0<E.da,F.da){if(!Xe(pe,xe,U=[E.ib],Ae=[E.hb]))return 0;F.ib=U[0],F.hb=Ae[0]}return F.ob=E!=null&&E.ob,F.Kb=E==null||!E.Sd,F.da&&(F.ob=F.ib<3*$/4&&F.hb<3*ie/4,F.Kb=0),1}function Va(E){if(E==null)return 2;if(11>E.S){var F=E.f.RGBA;F.fb+=(E.height-1)*F.A,F.A=-F.A}else F=E.f.kb,E=E.height,F.O+=(E-1)*F.fa,F.fa=-F.fa,F.N+=(E-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(E-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(E-1)*F.lb,F.lb=-F.lb);return 0}function ac(E,F,U,$){if($==null||0>=E||0>=F)return 2;if(U!=null){if(U.Da){var ie=U.cd,Ae=U.bd,fe=-2&U.v,pe=-2&U.j;if(0>fe||0>pe||0>=ie||0>=Ae||fe+ie>E||pe+Ae>F)return 2;E=ie,F=Ae}if(U.da){if(!Xe(E,F,ie=[U.ib],Ae=[U.hb]))return 2;E=ie[0],F=Ae[0]}}$.width=E,$.height=F;e:{var xe=$.width,be=$.height;if(E=$.S,0>=xe||0>=be||!(E>=U1&&13>E))E=2;else{if(0>=$.Rd&&$.sd==null){fe=Ae=ie=F=0;var Te=(pe=xe*Y6[E])*be;if(11>E||(Ae=(be+1)/2*(F=(xe+1)/2),E==12&&(fe=(ie=xe)*be)),(be=i(Te+2*Ae+fe))==null){E=1;break e}$.sd=be,11>E?((xe=$.f.RGBA).eb=be,xe.fb=0,xe.A=pe,xe.size=Te):((xe=$.f.kb).y=be,xe.O=0,xe.fa=pe,xe.Fd=Te,xe.f=be,xe.N=0+Te,xe.Ab=F,xe.Cd=Ae,xe.ea=be,xe.W=0+Te+Ae,xe.Db=F,xe.Ed=Ae,E==12&&(xe.F=be,xe.J=0+Te+2*Ae),xe.Tc=fe,xe.lb=ie)}if(F=1,ie=$.S,Ae=$.width,fe=$.height,ie>=U1&&13>ie)if(11>ie)E=$.f.RGBA,F&=(pe=Math.abs(E.A))*(fe-1)+Ae<=E.size,F&=pe>=Ae*Y6[ie],F&=E.eb!=null;else{E=$.f.kb,pe=(Ae+1)/2,Te=(fe+1)/2,xe=Math.abs(E.fa),be=Math.abs(E.Ab);var ze=Math.abs(E.Db),Ce=Math.abs(E.lb),De=Ce*(fe-1)+Ae;F&=xe*(fe-1)+Ae<=E.Fd,F&=be*(Te-1)+pe<=E.Cd,F=(F&=ze*(Te-1)+pe<=E.Ed)&xe>=Ae&be>=pe&ze>=pe,F&=E.y!=null,F&=E.f!=null,F&=E.ea!=null,ie==12&&(F&=Ce>=Ae,F&=De<=E.Tc,F&=E.F!=null)}else F=0;E=F?0:2}}return E!=0||U!=null&&U.fd&&(E=Va($)),E}var Ts=64,ic=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],rd=24,Di=32,ir=8,uu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(E){return E},T.Predictor2=function(E,F,U){return F[U+0]},T.Predictor3=function(E,F,U){return F[U+1]},T.Predictor4=function(E,F,U){return F[U-1]},T.Predictor5=function(E,F,U){return Le(Le(E,F[U+1]),F[U+0])},T.Predictor6=function(E,F,U){return Le(E,F[U-1])},T.Predictor7=function(E,F,U){return Le(E,F[U+0])},T.Predictor8=function(E,F,U){return Le(F[U-1],F[U+0])},T.Predictor9=function(E,F,U){return Le(F[U+0],F[U+1])},T.Predictor10=function(E,F,U){return Le(Le(E,F[U-1]),Le(F[U+0],F[U+1]))},T.Predictor11=function(E,F,U){var $=F[U+0];return 0>=At($>>24&255,E>>24&255,(F=F[U-1])>>24&255)+At($>>16&255,E>>16&255,F>>16&255)+At($>>8&255,E>>8&255,F>>8&255)+At(255&$,255&E,255&F)?$:E},T.Predictor12=function(E,F,U){var $=F[U+0];return(rt((E>>24&255)+($>>24&255)-((F=F[U-1])>>24&255))<<24|rt((E>>16&255)+($>>16&255)-(F>>16&255))<<16|rt((E>>8&255)+($>>8&255)-(F>>8&255))<<8|rt((255&E)+(255&$)-(255&F)))>>>0},T.Predictor13=function(E,F,U){var $=F[U-1];return(mt((E=Le(E,F[U+0]))>>24&255,$>>24&255)<<24|mt(E>>16&255,$>>16&255)<<16|mt(E>>8&255,$>>8&255)<<8|mt(255&E,255&$))>>>0};var re=T.PredictorAdd0;T.PredictorAdd1=wt,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var c=T.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(E){return E>>8&255},function(E){return E}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(E){return E},function(E){return E>>8&255});var A,f=T.ColorIndexInverseTransform,g=T.MapARGB,x=T.VP8LColorIndexInverseTransformAlpha,v=T.MapAlpha,j=T.VP8LPredictorsAdd=[];j.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var k,O,W,ne,le,ye,Be,je,Me,qe,ct,ht,dt,Qr,Nr,Ba,Oi,Sa,gn,Ws,Ka,nd,sd,R1,YA,k6,_6,T6,L6=i(511),P6=i(2041),D6=i(225),O6=i(767),R6=0,db=P6,M1=D6,uo=O6,qo=L6,U1=0,Q1=1,M6=2,H1=3,V1=4,ub=5,U6=6,Ab=7,hb=8,K1=9,fb=10,EK=[2,3,7],jK=[3,3,11],Q6=[280,256,256,256,40],IK=[0,1,1,1,0],FK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],kK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],_K=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],TK=8,mb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_m=null,LK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],PK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],H6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],DK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],OK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],RK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],MK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Au=[],bl=[],ad=[],UK=1,V6=2,hu=[],Xo=[];co("UpsampleRgbLinePair",Wo,3),co("UpsampleBgrLinePair",lu,3),co("UpsampleRgbaLinePair",wf,4),co("UpsampleBgraLinePair",$o,4),co("UpsampleArgbLinePair",yf,4),co("UpsampleRgba4444LinePair",Zs,2),co("UpsampleRgb565LinePair",Go,2);var QK=T.UpsampleRgbLinePair,HK=T.UpsampleBgrLinePair,K6=T.UpsampleRgbaLinePair,z6=T.UpsampleBgraLinePair,W6=T.UpsampleArgbLinePair,G6=T.UpsampleRgba4444LinePair,VK=T.UpsampleRgb565LinePair,z1=16,W1=1<<z1-1,Tm=-227,gb=482,$6=6,KK=(256<<$6)-1,q6=0,zK=i(256),WK=i(256),GK=i(256),$K=i(256),qK=i(gb-Tm),XK=i(gb-Tm);Na("YuvToRgbRow",Wo,3),Na("YuvToBgrRow",lu,3),Na("YuvToRgbaRow",wf,4),Na("YuvToBgraRow",$o,4),Na("YuvToArgbRow",yf,4),Na("YuvToRgba4444Row",Zs,2),Na("YuvToRgb565Row",Go,2);var X6=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],G1=[0,2,8],YK=[8,7,6,4,4,2,2,2,1,1,1,1],ZK=1;this.WebPDecodeRGBA=function(E,F,U,$,ie){var Ae=Q1,fe=new $t,pe=new Bt;fe.ba=pe,pe.S=Ae,pe.width=[pe.width],pe.height=[pe.height];var xe=pe.width,be=pe.height,Te=new Qt;if(Te==null||E==null)var ze=2;else t(Te!=null),ze=du(E,F,U,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(ze!=0?xe=0:(xe!=null&&(xe[0]=Te.width[0]),be!=null&&(be[0]=Te.height[0]),xe=1),xe){pe.width=pe.width[0],pe.height=pe.height[0],$!=null&&($[0]=pe.width),ie!=null&&(ie[0]=pe.height);e:{if($=new tc,(ie=new pr).data=E,ie.w=F,ie.ha=U,ie.kd=1,F=[0],t(ie!=null),((E=du(ie.data,ie.w,ie.ha,null,null,null,F,null,ie))==0||E==7)&&F[0]&&(E=4),(F=E)==0){if(t(fe!=null),$.data=ie.data,$.w=ie.w+ie.offset,$.ha=ie.ha-ie.offset,$.put=Et,$.ac=Vr,$.bc=rn,$.ma=fe,ie.xa){if((E=ua())==null){fe=1;break e}if(function(Ce,De){var Qe=[0],et=[0],Ke=[0];t:for(;;){if(Ce==null)return 0;if(De==null)return Ce.a=2,0;if(Ce.l=De,Ce.a=0,K(Ce.m,De.data,De.w,De.ha),!ys(Ce.m,Qe,et,Ke)){Ce.a=3;break t}if(Ce.xb=V6,De.width=Qe[0],De.height=et[0],!Mo(Qe[0],et[0],1,Ce,null))break t;return 1}return t(Ce.a!=0),0}(E,$)){if($=(F=ac($.width,$.height,fe.Oa,fe.ba))==0){t:{$=E;r:for(;;){if($==null){$=0;break t}if(t($.s.yc!=null),t($.s.Ya!=null),t(0<$.s.Wb),t((U=$.l)!=null),t((ie=U.ma)!=null),$.xb!=0){if($.ca=ie.ba,$.tb=ie.tb,t($.ca!=null),!ha(ie.Oa,U,H1)){$.a=2;break r}if(!Wc($,U.width)||U.da)break r;if((U.da||Ge($.ca.S))&&Pi(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Pi()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!me($.s.vb,$.s.Wa.Xa)){$.a=1;break r}$.xb=0}if(!Ua($,$.V,$.Ba,$.c,$.i,U.o,Ai))break r;ie.Dc=$.Ma,$=1;break t}t($.a!=0),$=0}$=!$}$&&(F=E.a)}else F=E.a}else{if((E=new WA)==null){fe=1;break e}if(E.Fa=ie.na,E.P=ie.P,E.qc=ie.Sa,ao(E,$)){if((F=ac($.width,$.height,fe.Oa,fe.ba))==0){if(E.Aa=0,U=fe.Oa,t((ie=E)!=null),U!=null){if(0<(xe=0>(xe=U.Md)?0:100<xe?255:255*xe/100)){for(be=Te=0;4>be;++be)12>(ze=ie.pb[be]).lc&&(ze.ia=xe*YK[0>ze.lc?0:ze.lc]>>3),Te|=ze.ia;Te&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=U.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}(function(Ce,De){if(Ce==null)return 0;if(De==null)return ns(Ce,2,"NULL VP8Io parameter in VP8Decode().");if(!Ce.cb&&!ao(Ce,De))return 0;if(t(Ce.cb),De.ac==null||De.ac(De)){De.ob&&(Ce.L=0);var Qe=G1[Ce.L];if(Ce.L==2?(Ce.yb=0,Ce.zb=0):(Ce.yb=De.v-Qe>>4,Ce.zb=De.j-Qe>>4,0>Ce.yb&&(Ce.yb=0),0>Ce.zb&&(Ce.zb=0)),Ce.Va=De.o+15+Qe>>4,Ce.Hb=De.va+15+Qe>>4,Ce.Hb>Ce.za&&(Ce.Hb=Ce.za),Ce.Va>Ce.Ub&&(Ce.Va=Ce.Ub),0<Ce.L){var et=Ce.ed;for(Qe=0;4>Qe;++Qe){var Ke;if(Ce.Qa.Cb){var tt=Ce.Qa.Lb[Qe];Ce.Qa.Fb||(tt+=et.Tb)}else tt=et.Tb;for(Ke=0;1>=Ke;++Ke){var st=Ce.gd[Qe][Ke],ut=tt;if(et.Pc&&(ut+=et.vd[0],Ke&&(ut+=et.od[0])),0<(ut=0>ut?0:63<ut?63:ut)){var lt=ut;0<et.wb&&(lt=4<et.wb?lt>>2:lt>>1)>9-et.wb&&(lt=9-et.wb),1>lt&&(lt=1),st.dd=lt,st.tc=2*ut+lt,st.ld=40<=ut?2:15<=ut?1:0}else st.tc=0;st.La=Ke}}}Qe=0}else ns(Ce,6,"Frame setup failed"),Qe=Ce.a;if(Qe=Qe==0){if(Qe){Ce.$c=0,0<Ce.Aa||(Ce.Ic=ZK);t:{Qe=Ce.Ic,et=4*(lt=Ce.za);var er=32*lt,Ht=lt+1,Tr=0<Ce.L?lt*(0<Ce.Aa?2:1):0,Xt=(Ce.Aa==2?2:1)*lt;if((st=et+832+(Ke=3*(16*Qe+G1[Ce.L])/2*er)+(tt=Ce.Fa!=null&&0<Ce.Fa.length?Ce.Kc.c*Ce.Kc.i:0))!=st)Qe=0;else{if(st>Ce.Vb){if(Ce.Vb=0,Ce.Ec=i(st),Ce.Fc=0,Ce.Ec==null){Qe=ns(Ce,1,"no memory during frame initialization.");break t}Ce.Vb=st}st=Ce.Ec,ut=Ce.Fc,Ce.Ac=st,Ce.Bc=ut,ut+=et,Ce.Gd=o(er,Wr),Ce.Hd=0,Ce.rb=o(Ht+1,Fn),Ce.sb=1,Ce.wa=Tr?o(Tr,Li):null,Ce.Y=0,Ce.D.Nb=0,Ce.D.wa=Ce.wa,Ce.D.Y=Ce.Y,0<Ce.Aa&&(Ce.D.Y+=lt),t(!0),Ce.oc=st,Ce.pc=ut,ut+=832,Ce.ya=o(Xt,zA),Ce.aa=0,Ce.D.ya=Ce.ya,Ce.D.aa=Ce.aa,Ce.Aa==2&&(Ce.D.aa+=lt),Ce.R=16*lt,Ce.B=8*lt,lt=(er=G1[Ce.L])*Ce.R,er=er/2*Ce.B,Ce.sa=st,Ce.ta=ut+lt,Ce.qa=Ce.sa,Ce.ra=Ce.ta+16*Qe*Ce.R+er,Ce.Ha=Ce.qa,Ce.Ia=Ce.ra+8*Qe*Ce.B+er,Ce.$c=0,ut+=Ke,Ce.mb=tt?st:null,Ce.nb=tt?ut:null,t(ut+tt<=Ce.Fc+Ce.Vb),vn(Ce),s(Ce.Ac,Ce.Bc,0,et),Qe=1}}if(Qe){if(De.ka=0,De.y=Ce.sa,De.O=Ce.ta,De.f=Ce.qa,De.N=Ce.ra,De.ea=Ce.Ha,De.Vd=Ce.Ia,De.fa=Ce.R,De.Rc=Ce.B,De.F=null,De.J=0,!R6){for(Qe=-255;255>=Qe;++Qe)L6[255+Qe]=0>Qe?-Qe:Qe;for(Qe=-1020;1020>=Qe;++Qe)P6[1020+Qe]=-128>Qe?-128:127<Qe?127:Qe;for(Qe=-112;112>=Qe;++Qe)D6[112+Qe]=-16>Qe?-16:15<Qe?15:Qe;for(Qe=-255;510>=Qe;++Qe)O6[255+Qe]=0>Qe?0:255<Qe?255:Qe;R6=1}Be=Ca,je=Ve,qe=we,ct=Pt,ht=As,Me=zs,dt=R,Qr=ae,Nr=Ie,Ba=Ye,Oi=ve,Sa=he,gn=ot,Ws=Mt,Ka=ou,nd=td,sd=qA,R1=XA,bl[0]=lr,bl[1]=$c,bl[2]=Xc,bl[3]=Qo,bl[4]=Fm,bl[5]=Dn,bl[6]=fr,bl[7]=km,bl[8]=Yc,bl[9]=$A,Au[0]=Uo,Au[1]=nr,Au[2]=Pn,Au[3]=nu,Au[4]=su,Au[5]=yl,Au[6]=GA,ad[0]=Vo,ad[1]=Qa,ad[2]=io,ad[3]=Zc,ad[4]=au,ad[5]=Jc,ad[6]=wl,Qe=1}else Qe=0}Qe&&(Qe=function(Zr,ea){for(Zr.M=0;Zr.M<Zr.Va;++Zr.M){var Lr,Yt=Zr.Jc[Zr.M&Zr.Xb],bt=Zr.m,Ls=Zr;for(Lr=0;Lr<Ls.za;++Lr){var Ir=bt,nn=Ls,$n=nn.Ac,Ea=nn.Bc+4*Lr,fi=nn.zc,Cs=nn.ya[nn.aa+Lr];if(nn.Qa.Bb?Cs.$b=ke(Ir,nn.Pa.jb[0])?2+ke(Ir,nn.Pa.jb[2]):ke(Ir,nn.Pa.jb[1]):Cs.$b=0,nn.kc&&(Cs.Ad=ke(Ir,nn.Bd)),Cs.Za=!ke(Ir,145)+0,Cs.Za){var za=Cs.Ob,mi=0;for(nn=0;4>nn;++nn){var ta,ln=fi[0+nn];for(ta=0;4>ta;++ta){ln=OK[$n[Ea+ta]][ln];for(var Cn=H6[ke(Ir,ln[0])];0<Cn;)Cn=H6[2*Cn+ke(Ir,ln[Cn])];ln=-Cn,$n[Ea+ta]=ln}n(za,mi,$n,Ea,4),mi+=4,fi[0+nn]=ln}}else ln=ke(Ir,156)?ke(Ir,128)?1:3:ke(Ir,163)?2:0,Cs.Ob[0]=ln,s($n,Ea,ln,4),s(fi,0,ln,4);Cs.Dd=ke(Ir,142)?ke(Ir,114)?ke(Ir,183)?1:3:2:0}if(Ls.m.Ka)return ns(Zr,7,"Premature end-of-partition0 encountered.");for(;Zr.ja<Zr.za;++Zr.ja){if(Ls=Yt,Ir=(bt=Zr).rb[bt.sb-1],$n=bt.rb[bt.sb+bt.ja],Lr=bt.ya[bt.aa+bt.ja],Ea=bt.kc?Lr.Ad:0)Ir.la=$n.la=0,Lr.Za||(Ir.Na=$n.Na=0),Lr.Hc=0,Lr.Gc=0,Lr.ia=0;else{var Ns,Nn;if(Ir=$n,$n=Ls,Ea=bt.Pa.Xc,fi=bt.ya[bt.aa+bt.ja],Cs=bt.pb[fi.$b],nn=fi.ad,za=0,mi=bt.rb[bt.sb-1],ln=ta=0,s(nn,za,0,384),fi.Za)var ja=0,Cl=Ea[3];else{Cn=i(16);var Ps=Ir.Na+mi.Na;if(Ps=_m($n,Ea[1],Ps,Cs.Eb,0,Cn,0),Ir.Na=mi.Na=(0<Ps)+0,1<Ps)Be(Cn,0,nn,za);else{var Ri=Cn[0]+3>>3;for(Cn=0;256>Cn;Cn+=16)nn[za+Cn]=Ri}ja=1,Cl=Ea[0]}var On=15&Ir.la,ra=15&mi.la;for(Cn=0;4>Cn;++Cn){var Ao=1&ra;for(Ri=Nn=0;4>Ri;++Ri)On=On>>1|(Ao=(Ps=_m($n,Cl,Ps=Ao+(1&On),Cs.Sc,ja,nn,za))>ja)<<7,Nn=Nn<<2|(3<Ps?3:1<Ps?2:nn[za+0]!=0),za+=16;On>>=4,ra=ra>>1|Ao<<7,ta=(ta<<8|Nn)>>>0}for(Cl=On,ja=ra>>4,Ns=0;4>Ns;Ns+=2){for(Nn=0,On=Ir.la>>4+Ns,ra=mi.la>>4+Ns,Cn=0;2>Cn;++Cn){for(Ao=1&ra,Ri=0;2>Ri;++Ri)Ps=Ao+(1&On),On=On>>1|(Ao=0<(Ps=_m($n,Ea[2],Ps,Cs.Qc,0,nn,za)))<<3,Nn=Nn<<2|(3<Ps?3:1<Ps?2:nn[za+0]!=0),za+=16;On>>=2,ra=ra>>1|Ao<<5}ln|=Nn<<4*Ns,Cl|=On<<4<<Ns,ja|=(240&ra)<<Ns}Ir.la=Cl,mi.la=ja,fi.Hc=ta,fi.Gc=ln,fi.ia=43690&ln?0:Cs.ia,Ea=!(ta|ln)}if(0<bt.L&&(bt.wa[bt.Y+bt.ja]=bt.gd[Lr.$b][Lr.Za],bt.wa[bt.Y+bt.ja].La|=!Ea),Ls.Ka)return ns(Zr,7,"Premature end-of-file encountered.")}if(vn(Zr),bt=ea,Ls=1,Lr=(Yt=Zr).D,Ir=0<Yt.L&&Yt.M>=Yt.zb&&Yt.M<=Yt.Va,Yt.Aa==0)t:{if(Lr.M=Yt.M,Lr.uc=Ir,Js(Yt,Lr),Ls=1,Lr=(Nn=Yt.D).Nb,Ir=(ln=G1[Yt.L])*Yt.R,$n=ln/2*Yt.B,Cn=16*Lr*Yt.R,Ri=8*Lr*Yt.B,Ea=Yt.sa,fi=Yt.ta-Ir+Cn,Cs=Yt.qa,nn=Yt.ra-$n+Ri,za=Yt.Ha,mi=Yt.Ia-$n+Ri,ra=(On=Nn.M)==0,ta=On>=Yt.Va-1,Yt.Aa==2&&Js(Yt,Nn),Nn.uc)for(Ao=(Ps=Yt).D.M,t(Ps.D.uc),Nn=Ps.yb;Nn<Ps.Hb;++Nn){ja=Nn,Cl=Ao;var pi=(ho=(Ia=Ps).D).Nb;Ns=Ia.R;var ho=ho.wa[ho.Y+ja],fo=Ia.sa,Mi=Ia.ta+16*pi*Ns+16*ja,mo=ho.dd,Qn=ho.tc;if(Qn!=0)if(t(3<=Qn),Ia.L==1)0<ja&&nd(fo,Mi,Ns,Qn+4),ho.La&&R1(fo,Mi,Ns,Qn),0<Cl&&Ka(fo,Mi,Ns,Qn+4),ho.La&&sd(fo,Mi,Ns,Qn);else{var po=Ia.B,Nl=Ia.qa,ZA=Ia.ra+8*pi*po+8*ja,id=Ia.Ha,Ia=Ia.Ia+8*pi*po+8*ja;pi=ho.ld,0<ja&&(Qr(fo,Mi,Ns,Qn+4,mo,pi),Ba(Nl,ZA,id,Ia,po,Qn+4,mo,pi)),ho.La&&(Sa(fo,Mi,Ns,Qn,mo,pi),Ws(Nl,ZA,id,Ia,po,Qn,mo,pi)),0<Cl&&(dt(fo,Mi,Ns,Qn+4,mo,pi),Nr(Nl,ZA,id,Ia,po,Qn+4,mo,pi)),ho.La&&(Oi(fo,Mi,Ns,Qn,mo,pi),gn(Nl,ZA,id,Ia,po,Qn,mo,pi))}}if(Yt.ia&&alert("todo:DitherRow"),bt.put!=null){if(Nn=16*On,On=16*(On+1),ra?(bt.y=Yt.sa,bt.O=Yt.ta+Cn,bt.f=Yt.qa,bt.N=Yt.ra+Ri,bt.ea=Yt.Ha,bt.W=Yt.Ia+Ri):(Nn-=ln,bt.y=Ea,bt.O=fi,bt.f=Cs,bt.N=nn,bt.ea=za,bt.W=mi),ta||(On-=ln),On>bt.o&&(On=bt.o),bt.F=null,bt.J=null,Yt.Fa!=null&&0<Yt.Fa.length&&Nn<On&&(bt.J=Cr(Yt,bt,Nn,On-Nn),bt.F=Yt.mb,bt.F==null&&bt.F.length==0)){Ls=ns(Yt,3,"Could not decode alpha data.");break t}Nn<bt.j&&(ln=bt.j-Nn,Nn=bt.j,t(!(1&ln)),bt.O+=Yt.R*ln,bt.N+=Yt.B*(ln>>1),bt.W+=Yt.B*(ln>>1),bt.F!=null&&(bt.J+=bt.width*ln)),Nn<On&&(bt.O+=bt.v,bt.N+=bt.v>>1,bt.W+=bt.v>>1,bt.F!=null&&(bt.J+=bt.v),bt.ka=Nn-bt.j,bt.U=bt.va-bt.v,bt.T=On-Nn,Ls=bt.put(bt))}Lr+1!=Yt.Ic||ta||(n(Yt.sa,Yt.ta-Ir,Ea,fi+16*Yt.R,Ir),n(Yt.qa,Yt.ra-$n,Cs,nn+8*Yt.B,$n),n(Yt.Ha,Yt.Ia-$n,za,mi+8*Yt.B,$n))}if(!Ls)return ns(Zr,6,"Output aborted.")}return 1}(Ce,De)),De.bc!=null&&De.bc(De),Qe&=1}return Qe?(Ce.cb=0,Qe):0})(E,$)||(F=E.a)}}else F=E.a}F==0&&fe.Oa!=null&&fe.Oa.fd&&(F=Va(fe.ba))}fe=F}Ae=fe!=0?null:11>Ae?pe.f.RGBA.eb:pe.f.kb.y}else Ae=null;return Ae};var Y6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,z){for(var M="",V=0;V<4;V++)M+=String.fromCharCode(T[z++]);return M}function h(T,z){return T[z+0]|T[z+1]<<8}function m(T,z){return(T[z+0]|T[z+1]<<8|T[z+2]<<16)>>>0}function y(T,z){return(T[z+0]|T[z+1]<<8|T[z+2]<<16|T[z+3]<<24)>>>0}new d;var p=[0],b=[0],N=[],S=new d,w=e,B=function(T,z){var M={},V=0,J=!1,Z=0,ee=0;if(M.frames=[],!function(Q,G){for(var te=0;te<4;te++)if(Q[G+te]!="RIFF".charCodeAt(te))return!0;return!1}(T,z)){for(y(T,z+=4),z+=8;z<T.length;){var q=u(T,z),X=y(T,z+=4);z+=4;var Y=X+(1&X);switch(q){case"VP8 ":case"VP8L":M.frames[V]===void 0&&(M.frames[V]={}),(oe=M.frames[V]).src_off=J?ee:z-8,oe.src_size=Z+X+8,V++,J&&(J=!1,Z=0,ee=0);break;case"VP8X":(oe=M.header={}).feature_flags=T[z];var K=z+4;oe.canvas_width=1+m(T,K),K+=3,oe.canvas_height=1+m(T,K),K+=3;break;case"ALPH":J=!0,Z=Y+8,ee=z-8;break;case"ANIM":(oe=M.header).bgcolor=y(T,z),K=z+4,oe.loop_count=h(T,K),K+=2;break;case"ANMF":var ce,oe;(oe=M.frames[V]={}).offset_x=2*m(T,z),z+=3,oe.offset_y=2*m(T,z),z+=3,oe.width=1+m(T,z),z+=3,oe.height=1+m(T,z),z+=3,oe.duration=m(T,z),z+=3,ce=T[z++],oe.dispose=1&ce,oe.blend=ce>>1&1}q!="ANMF"&&(z+=Y)}return M}}(w,0);B.response=w,B.rgbaoutput=!0,B.dataurl=!1;var I=B.header?B.header:null,_=B.frames?B.frames:null;if(I){I.loop_counter=I.loop_count,p=[I.canvas_height],b=[I.canvas_width];for(var P=0;P<_.length&&_[P].blend!=0;P++);}var H=_[0],D=S.WebPDecodeRGBA(w,H.src_off,H.src_size,b,p);H.rgba=D,H.imgwidth=b[0],H.imgheight=p[0];for(var L=0;L<b[0]*p[0]*4;L++)N[L]=D[L];return this.width=b,this.height=p,this.data=N,this}(function(e){var t,r,n,s,i,o,l,d,u,h=function(Q){return Q=Q||{},this.isStrokeTransparent=Q.isStrokeTransparent||!1,this.strokeOpacity=Q.strokeOpacity||1,this.strokeStyle=Q.strokeStyle||"#000000",this.fillStyle=Q.fillStyle||"#000000",this.isFillTransparent=Q.isFillTransparent||!1,this.fillOpacity=Q.fillOpacity||1,this.font=Q.font||"10px sans-serif",this.textBaseline=Q.textBaseline||"alphabetic",this.textAlign=Q.textAlign||"left",this.lineWidth=Q.lineWidth||1,this.lineJoin=Q.lineJoin||"miter",this.lineCap=Q.lineCap||"butt",this.path=Q.path||[],this.transform=Q.transform!==void 0?Q.transform.clone():new d,this.globalCompositeOperation=Q.globalCompositeOperation||"normal",this.globalAlpha=Q.globalAlpha||1,this.clip_path=Q.clip_path||[],this.currentPoint=Q.currentPoint||new o,this.miterLimit=Q.miterLimit||10,this.lastPoint=Q.lastPoint||new o,this.lineDashOffset=Q.lineDashOffset||0,this.lineDash=Q.lineDash||[],this.margin=Q.margin||[0,0,0,0],this.prevPageLastElemOffset=Q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Q.ignoreClearRect!="boolean"||Q.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,d=this.internal.Matrix,u=new h}]);var m=function(Q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=Q;Object.defineProperty(this,"pdf",{get:function(){return G}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Ne){te=!!Ne}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Ne){se=!!Ne}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Ne){isNaN(Ne)||(de=Ne)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Ne){isNaN(Ne)||(ge=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ne){var me;typeof Ne=="number"?me=[Ne,Ne,Ne,Ne]:((me=new Array(4))[0]=Ne[0],me[1]=Ne.length>=2?Ne[1]:me[0],me[2]=Ne.length>=3?Ne[2]:me[0],me[3]=Ne.length>=4?Ne[3]:me[1]),u.margin=me}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Ne){ue=Ne}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(Ne){Ee=Ne}});var ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ke},set:function(Ne){ke=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ne){Ne instanceof h&&(u=Ne)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ne){u.path=Ne}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(Ne){_e=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var me;me=y(Ne),this.ctx.fillStyle=me.style,this.ctx.isFillTransparent=me.a===0,this.ctx.fillOpacity=me.a,this.pdf.setFillColor(me.r,me.g,me.b,{a:me.a}),this.pdf.setTextColor(me.r,me.g,me.b,{a:me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var me=y(Ne);this.ctx.strokeStyle=me.style,this.ctx.isStrokeTransparent=me.a===0,this.ctx.strokeOpacity=me.a,me.a===0?this.pdf.setDrawColor(255,255,255):(me.a,this.pdf.setDrawColor(me.r,me.g,me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var Oe=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(Ne){Oe=null,He=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var me;if(this.ctx.font=Ne,(me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var Pe=me[1];me[2];var nt=me[3],Xe=me[4];me[5];var Ue=me[6],yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(yt==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var We=function(Rt){var Ct,Kr,Gt=[],$e=Rt.trim();if($e==="")return H5;if($e in ek)return[ek[$e]];for(;$e!=="";){switch(Kr=null,Ct=($e=rk($e)).charAt(0)){case'"':case"'":Kr=vce($e.substring(1),Ct);break;default:Kr=bce($e)}if(Kr===null||(Gt.push(Kr[0]),($e=rk(Kr[1]))!==""&&$e.charAt(0)!==","))return H5;$e=$e.replace(/^,/,"")}return Gt}(Ue);if(this.fontFaces){var Vt=function(Rt,Ct){if(Oe===null){var Kr=function(Gt){var $e=[];return Object.keys(Gt).forEach(function(It){Gt[It].forEach(function(Kt){var Nt=null;switch(Kt){case"bold":Nt={family:It,weight:"bold"};break;case"italic":Nt={family:It,style:"italic"};break;case"bolditalic":Nt={family:It,weight:"bold",style:"italic"};break;case"":case"normal":Nt={family:It}}Nt!==null&&(Nt.ref={name:It,style:Kt},$e.push(Nt))})}),$e}(Rt.getFontList());Oe=function(Gt){for(var $e={},It=0;It<Gt.length;++It){var Kt=Q5(Gt[It]),Nt=Kt.family,br=Kt.stretch,Ge=Kt.style,vt=Kt.weight;$e[Nt]=$e[Nt]||{},$e[Nt][br]=$e[Nt][br]||{},$e[Nt][br][Ge]=$e[Nt][br][Ge]||{},$e[Nt][br][Ge][vt]=Kt}return $e}(Kr.concat(Ct))}return Oe}(this.pdf,this.fontFaces),Le=We.map(function(Rt){return{family:Rt,stretch:"normal",weight:nt,style:Pe}}),rt=function(Rt,Ct,Kr){for(var Gt=(Kr=Kr||{}).defaultFontFamily||"times",$e=Object.assign({},wce,Kr.genericFontFamilies||{}),It=null,Kt=null,Nt=0;Nt<Ct.length;++Nt)if($e[(It=Q5(Ct[Nt])).family]&&(It.family=$e[It.family]),Rt.hasOwnProperty(It.family)){Kt=Rt[It.family];break}if(!(Kt=Kt||Rt[Gt]))throw new Error("Could not find a font-family for the rule '"+tk(It)+"' and default family '"+Gt+"'.");if(Kt=function(br,Ge){if(Ge[br])return Ge[br];var vt=r3[br],gt=vt<=r3.normal?-1:1,Bt=JF(Ge,eU,vt,gt);if(!Bt)throw new Error("Could not find a matching font-stretch value for "+br);return Bt}(It.stretch,Kt),Kt=function(br,Ge){if(Ge[br])return Ge[br];for(var vt=JM[br],gt=0;gt<vt.length;++gt)if(Ge[vt[gt]])return Ge[vt[gt]];throw new Error("Could not find a matching font-style for "+br)}(It.style,Kt),!(Kt=function(br,Ge){if(Ge[br])return Ge[br];if(br===400&&Ge[500])return Ge[500];if(br===500&&Ge[400])return Ge[400];var vt=yce[br],gt=JF(Ge,tU,vt,br<400?-1:1);if(!gt)throw new Error("Could not find a matching font-weight for value "+br);return gt}(It.weight,Kt)))throw new Error("Failed to resolve a font for the rule '"+tk(It)+"'.");return Kt}(Vt,Le);this.pdf.setFont(rt.ref.name,rt.ref.style)}else{var mt="";(nt==="bold"||parseInt(nt,10)>=700||Pe==="bold")&&(mt="bold"),Pe==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var At="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<We.length;Ft++){if(this.pdf.internal.getFont(We[Ft],mt,{noFallback:!0,disableWarning:!0})!==void 0){At=We[Ft];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(We[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=We[Ft],mt="bold";else if(this.pdf.internal.getFont(We[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=We[Ft],mt="normal";break}}if(At===""){for(var xt=0;xt<We.length;xt++)if(wt[We[xt]]){At=wt[We[xt]];break}}At=At===""?"Times":At,this.pdf.setFont(At,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};m.prototype.setLineDash=function(Q){this.lineDash=Q},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){_.call(this,"fill",!1)},m.prototype.stroke=function(){_.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(Q,G){if(isNaN(Q)||isNaN(G))throw Rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(Q,G));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(Q,G)},m.prototype.closePath=function(){var Q=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&sn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){Q=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(Q.x,Q.y)},m.prototype.lineTo=function(Q,G){if(isNaN(Q)||isNaN(G))throw Rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(Q,G));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},m.prototype.quadraticCurveTo=function(Q,G,te,se){if(isNaN(te)||isNaN(se)||isNaN(Q)||isNaN(G))throw Rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new o(te,se)),ge=this.ctx.transform.applyToPoint(new o(Q,G));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},m.prototype.bezierCurveTo=function(Q,G,te,se,de,ge){if(isNaN(de)||isNaN(ge)||isNaN(Q)||isNaN(G)||isNaN(te)||isNaN(se))throw Rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new o(de,ge)),Ee=this.ctx.transform.applyToPoint(new o(Q,G)),ke=this.ctx.transform.applyToPoint(new o(te,se));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:ke.x,y2:ke.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},m.prototype.arc=function(Q,G,te,se,de,ge){if(isNaN(Q)||isNaN(G)||isNaN(te)||isNaN(se)||isNaN(de))throw Rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new o(Q,G));Q=ue.x,G=ue.y;var Ee=this.ctx.transform.applyToPoint(new o(0,te)),ke=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(Ee.x-ke.x,2)+Math.pow(Ee.y-ke.y,2))}Math.abs(de-se)>=2*Math.PI&&(se=0,de=2*Math.PI),this.path.push({type:"arc",x:Q,y:G,radius:te,startAngle:se,endAngle:de,counterclockwise:ge})},m.prototype.arcTo=function(Q,G,te,se,de){throw new Error("arcTo not implemented.")},m.prototype.rect=function(Q,G,te,se){if(isNaN(Q)||isNaN(G)||isNaN(te)||isNaN(se))throw Rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Q,G),this.lineTo(Q+te,G),this.lineTo(Q+te,G+se),this.lineTo(Q,G+se),this.lineTo(Q,G),this.lineTo(Q+te,G),this.lineTo(Q,G)},m.prototype.fillRect=function(Q,G,te,se){if(isNaN(Q)||isNaN(G)||isNaN(te)||isNaN(se))throw Rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Q,G,te,se),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},m.prototype.strokeRect=function(Q,G,te,se){if(isNaN(Q)||isNaN(G)||isNaN(te)||isNaN(se))throw Rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(Q,G,te,se),this.stroke())},m.prototype.clearRect=function(Q,G,te,se){if(isNaN(Q)||isNaN(G)||isNaN(te)||isNaN(se))throw Rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Q,G,te,se))},m.prototype.save=function(Q){Q=typeof Q!="boolean"||Q;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),Q){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},m.prototype.restore=function(Q){Q=typeof Q!="boolean"||Q;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(G),Q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(Q){var G,te,se,de;if(Q.isCanvasGradient===!0&&(Q=Q.getColor()),!Q)return{r:0,g:0,b:0,a:0,style:Q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Q))G=0,te=0,se=0,de=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Q);if(ge!==null)G=parseInt(ge[1]),te=parseInt(ge[2]),se=parseInt(ge[3]),de=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Q))!==null)G=parseInt(ge[1]),te=parseInt(ge[2]),se=parseInt(ge[3]),de=parseFloat(ge[4]);else{if(de=1,typeof Q=="string"&&Q.charAt(0)!=="#"){var ue=new WM(Q);Q=ue.ok?ue.toHex():"#000000"}Q.length===4?(G=Q.substring(1,2),G+=G,te=Q.substring(2,3),te+=te,se=Q.substring(3,4),se+=se):(G=Q.substring(1,3),te=Q.substring(3,5),se=Q.substring(5,7)),G=parseInt(G,16),te=parseInt(te,16),se=parseInt(se,16)}}return{r:G,g:te,b:se,a:de,style:Q}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(Q,G,te,se){if(isNaN(G)||isNaN(te)||typeof Q!="string")throw Rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!p.call(this)){var de=Y(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;V.call(this,{text:Q,x:G,y:te,scale:ge,angle:de,align:this.textAlign,maxWidth:se})}},m.prototype.strokeText=function(Q,G,te,se){if(isNaN(G)||isNaN(te)||typeof Q!="string")throw Rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){se=isNaN(se)?void 0:se;var de=Y(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;V.call(this,{text:Q,x:G,y:te,scale:ge,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:se})}},m.prototype.measureText=function(Q){if(typeof Q!="string")throw Rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,te=this.pdf.internal.scaleFactor,se=G.internal.getFontSize(),de=G.getStringUnitWidth(Q)*se/G.internal.scaleFactor;return new function(ge){var ue=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this}({width:de*=Math.round(96*te/72*1e4)/1e4})},m.prototype.scale=function(Q,G){if(isNaN(Q)||isNaN(G))throw Rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new d(Q,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},m.prototype.rotate=function(Q){if(isNaN(Q))throw Rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new d(Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.translate=function(Q,G){if(isNaN(Q)||isNaN(G))throw Rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new d(1,0,0,1,Q,G);this.ctx.transform=this.ctx.transform.multiply(te)},m.prototype.transform=function(Q,G,te,se,de,ge){if(isNaN(Q)||isNaN(G)||isNaN(te)||isNaN(se)||isNaN(de)||isNaN(ge))throw Rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new d(Q,G,te,se,de,ge);this.ctx.transform=this.ctx.transform.multiply(ue)},m.prototype.setTransform=function(Q,G,te,se,de,ge){Q=isNaN(Q)?1:Q,G=isNaN(G)?0:G,te=isNaN(te)?0:te,se=isNaN(se)?1:se,de=isNaN(de)?0:de,ge=isNaN(ge)?0:ge,this.ctx.transform=new d(Q,G,te,se,de,ge)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(Q,G,te,se,de,ge,ue,Ee,ke){var _e=this.pdf.getImageProperties(Q),Oe=1,He=1,Ne=1,me=1;se!==void 0&&Ee!==void 0&&(Ne=Ee/se,me=ke/de,Oe=_e.width/se*Ee/se,He=_e.height/de*ke/de),ge===void 0&&(ge=G,ue=te,G=0,te=0),se!==void 0&&Ee===void 0&&(Ee=se,ke=de),se===void 0&&Ee===void 0&&(Ee=_e.width,ke=_e.height);for(var Pe,nt=this.ctx.transform.decompose(),Xe=Y(nt.rotate.shx),Ue=new d,yt=(Ue=(Ue=(Ue=Ue.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new l(ge-G*Ne,ue-te*me,se*Oe,de*He)),We=S.call(this,yt),Vt=[],Le=0;Le<We.length;Le+=1)Vt.indexOf(We[Le])===-1&&Vt.push(We[Le]);if(I(Vt),this.autoPaging)for(var rt=Vt[0],mt=Vt[Vt.length-1],At=rt;At<mt+1;At++){this.pdf.setPage(At);var wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=At===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=At===1?0:xt+(At-2)*Rt;if(this.ctx.clip_path.length!==0){var Kr=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Pe,this.posX+this.margin[3],-Ct+Ft+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Kr}var Gt=JSON.parse(JSON.stringify(yt));Gt=B([Gt],this.posX+this.margin[3],-Ct+Ft+this.ctx.prevPageLastElemOffset)[0];var $e=(At>rt||At<mt)&&N.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,Rt,null).clip().discardPath()),this.pdf.addImage(Q,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,Xe),$e&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Q,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,Xe)};var S=function(Q,G,te){var se=[];G=G||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(Q.type){default:case"mt":case"lt":se.push(Math.floor((Q.y+de)/te)+1);break;case"arc":se.push(Math.floor((Q.y+de-Q.radius)/te)+1),se.push(Math.floor((Q.y+de+Q.radius)/te)+1);break;case"qct":var ge=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x,Q.y);se.push(Math.floor((ge.y+de)/te)+1),se.push(Math.floor((ge.y+ge.h+de)/te)+1);break;case"bct":var ue=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y);se.push(Math.floor((ue.y+de)/te)+1),se.push(Math.floor((ue.y+ue.h+de)/te)+1);break;case"rect":se.push(Math.floor((Q.y+de)/te)+1),se.push(Math.floor((Q.y+Q.h+de)/te)+1)}for(var Ee=0;Ee<se.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<se[Ee];)w.call(this);return se},w=function(){var Q=this.fillStyle,G=this.strokeStyle,te=this.font,se=this.lineCap,de=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=Q,this.strokeStyle=G,this.font=te,this.lineCap=se,this.lineWidth=de,this.lineJoin=ge},B=function(Q,G,te){for(var se=0;se<Q.length;se++)switch(Q[se].type){case"bct":Q[se].x2+=G,Q[se].y2+=te;case"qct":Q[se].x1+=G,Q[se].y1+=te;default:Q[se].x+=G,Q[se].y+=te}return Q},I=function(Q){return Q.sort(function(G,te){return G-te})},_=function(Q,G){for(var te,se,de=this.fillStyle,ge=this.strokeStyle,ue=this.lineCap,Ee=this.lineWidth,ke=Math.abs(Ee*this.ctx.transform.scaleX),_e=this.lineJoin,Oe=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),Ne=[],me=0;me<He.length;me++)if(He[me].x!==void 0)for(var Pe=S.call(this,He[me]),nt=0;nt<Pe.length;nt+=1)Ne.indexOf(Pe[nt])===-1&&Ne.push(Pe[nt]);for(var Xe=0;Xe<Ne.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<Ne[Xe];)w.call(this);if(I(Ne),this.autoPaging)for(var Ue=Ne[0],yt=Ne[Ne.length-1],We=Ue;We<yt+1;We++){this.pdf.setPage(We),this.fillStyle=de,this.strokeStyle=ge,this.lineCap=ue,this.lineWidth=ke,this.lineJoin=_e;var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=We===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=We===1?0:rt+(We-2)*mt;if(this.ctx.clip_path.length!==0){var wt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(te,this.posX+this.margin[3],-At+Le+this.ctx.prevPageLastElemOffset),P.call(this,Q,!0),this.path=wt}if(se=JSON.parse(JSON.stringify(Oe)),this.path=B(se,this.posX+this.margin[3],-At+Le+this.ctx.prevPageLastElemOffset),G===!1||We===0){var Ft=(We>Ue||We<yt)&&N.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,mt,null).clip().discardPath()),P.call(this,Q,G),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=Ee}else this.lineWidth=ke,P.call(this,Q,G),this.lineWidth=Ee;this.path=Oe},P=function(Q,G){if((Q!=="stroke"||G||!b.call(this))&&(Q==="stroke"||G||!p.call(this))){for(var te,se,de=[],ge=this.path,ue=0;ue<ge.length;ue++){var Ee=ge[ue];switch(Ee.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:Ee,deltas:[],abs:[]});break;case"lt":var ke=de.length;if(ge[ue-1]&&!isNaN(ge[ue-1].x)&&(te=[Ee.x-ge[ue-1].x,Ee.y-ge[ue-1].y],ke>0)){for(;ke>=0;ke--)if(de[ke-1].close!==!0&&de[ke-1].begin!==!0){de[ke-1].deltas.push(te),de[ke-1].abs.push(Ee);break}}break;case"bct":te=[Ee.x1-ge[ue-1].x,Ee.y1-ge[ue-1].y,Ee.x2-ge[ue-1].x,Ee.y2-ge[ue-1].y,Ee.x-ge[ue-1].x,Ee.y-ge[ue-1].y],de[de.length-1].deltas.push(te);break;case"qct":var _e=ge[ue-1].x+2/3*(Ee.x1-ge[ue-1].x),Oe=ge[ue-1].y+2/3*(Ee.y1-ge[ue-1].y),He=Ee.x+2/3*(Ee.x1-Ee.x),Ne=Ee.y+2/3*(Ee.y1-Ee.y),me=Ee.x,Pe=Ee.y;te=[_e-ge[ue-1].x,Oe-ge[ue-1].y,He-ge[ue-1].x,Ne-ge[ue-1].y,me-ge[ue-1].x,Pe-ge[ue-1].y],de[de.length-1].deltas.push(te);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(Ee)}}se=G?null:Q==="stroke"?"stroke":"fill";for(var nt=!1,Xe=0;Xe<de.length;Xe++)if(de[Xe].arc)for(var Ue=de[Xe].abs,yt=0;yt<Ue.length;yt++){var We=Ue[yt];We.type==="arc"?L.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,G,!nt):J.call(this,We.x,We.y),nt=!0}else if(de[Xe].close===!0)this.pdf.internal.out("h"),nt=!1;else if(de[Xe].begin!==!0){var Vt=de[Xe].start.x,Le=de[Xe].start.y;Z.call(this,de[Xe].deltas,Vt,Le),nt=!0}se&&T.call(this,se),G&&z.call(this)}},H=function(Q){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Q-te;case"top":return Q+G-te;case"hanging":return Q+G-2*te;case"middle":return Q+G/2-te;default:return Q}},D=function(Q){return Q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var Q=function(){};return Q.colorStops=[],Q.addColorStop=function(G,te){this.colorStops.push([G,te])},Q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Q.isCanvasGradient=!0,Q},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(Q,G,te,se,de,ge,ue,Ee,ke){for(var _e=q.call(this,te,se,de,ge),Oe=0;Oe<_e.length;Oe++){var He=_e[Oe];Oe===0&&(ke?M.call(this,He.x1+Q,He.y1+G):J.call(this,He.x1+Q,He.y1+G)),ee.call(this,Q,G,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}Ee?z.call(this):T.call(this,ue)},T=function(Q){switch(Q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(Q,G){this.pdf.internal.out(r(Q)+" "+n(G)+" m")},V=function(Q){var G;switch(Q.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var te=this.pdf.getTextDimensions(Q.text),se=H.call(this,Q.y),de=D.call(this,se)-te.h,ge=this.ctx.transform.applyToPoint(new o(Q.x,se)),ue=this.ctx.transform.decompose(),Ee=new d;Ee=(Ee=(Ee=Ee.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var ke,_e,Oe,He=this.ctx.transform.applyToRectangle(new l(Q.x,se,te.w,te.h)),Ne=Ee.applyToRectangle(new l(Q.x,de,te.w,te.h)),me=S.call(this,Ne),Pe=[],nt=0;nt<me.length;nt+=1)Pe.indexOf(me[nt])===-1&&Pe.push(me[nt]);if(I(Pe),this.autoPaging)for(var Xe=Pe[0],Ue=Pe[Pe.length-1],yt=Xe;yt<Ue+1;yt++){this.pdf.setPage(yt);var We=yt===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[2],rt=Le-this.margin[0],mt=this.pdf.internal.pageSize.width-this.margin[1],At=mt-this.margin[3],wt=yt===1?0:Vt+(yt-2)*rt;if(this.ctx.clip_path.length!==0){var Ft=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(ke,this.posX+this.margin[3],-1*wt+We),P.call(this,"fill",!0),this.path=Ft}var xt=B([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-wt+We+this.ctx.prevPageLastElemOffset)[0];Q.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*Q.scale),Oe=this.lineWidth,this.lineWidth=Oe*Q.scale);var Rt=this.autoPaging!=="text";if(Rt||xt.y+xt.h<=Le){if(Rt||xt.y>=We&&xt.x<=mt){var Ct=Rt?Q.text:this.pdf.splitTextToSize(Q.text,Q.maxWidth||mt-xt.x)[0],Kr=B([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-wt+We+this.ctx.prevPageLastElemOffset)[0],Gt=Rt&&(yt>Xe||yt<Ue)&&N.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,rt,null).clip().discardPath()),this.pdf.text(Ct,Kr.x,Kr.y,{angle:Q.angle,align:G,renderingMode:Q.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else xt.y<Le&&(this.ctx.prevPageLastElemOffset+=Le-xt.y);Q.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Oe)}else Q.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*Q.scale),Oe=this.lineWidth,this.lineWidth=Oe*Q.scale),this.pdf.text(Q.text,ge.x+this.posX,ge.y+this.posY,{angle:Q.angle,align:G,renderingMode:Q.renderingMode,maxWidth:Q.maxWidth}),Q.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Oe)},J=function(Q,G,te,se){te=te||0,se=se||0,this.pdf.internal.out(r(Q+te)+" "+n(G+se)+" l")},Z=function(Q,G,te){return this.pdf.lines(Q,G,te,null,null)},ee=function(Q,G,te,se,de,ge,ue,Ee){this.pdf.internal.out([t(s(te+Q)),t(i(se+G)),t(s(de+Q)),t(i(ge+G)),t(s(ue+Q)),t(i(Ee+G)),"c"].join(" "))},q=function(Q,G,te,se){for(var de=2*Math.PI,ge=Math.PI/2;G>te;)G-=de;var ue=Math.abs(te-G);ue<de&&se&&(ue=de-ue);for(var Ee=[],ke=se?-1:1,_e=G;ue>1e-5;){var Oe=_e+ke*Math.min(ue,ge);Ee.push(X.call(this,Q,_e,Oe)),ue-=Math.abs(Oe-_e),_e=Oe}return Ee},X=function(Q,G,te){var se=(te-G)/2,de=Q*Math.cos(se),ge=Q*Math.sin(se),ue=de,Ee=-ge,ke=ue*ue+Ee*Ee,_e=ke+ue*de+Ee*ge,Oe=4/3*(Math.sqrt(2*ke*_e)-_e)/(ue*ge-Ee*de),He=ue-Oe*Ee,Ne=Ee+Oe*ue,me=He,Pe=-Ne,nt=se+G,Xe=Math.cos(nt),Ue=Math.sin(nt);return{x1:Q*Math.cos(G),y1:Q*Math.sin(G),x2:He*Xe-Ne*Ue,y2:He*Ue+Ne*Xe,x3:me*Xe-Pe*Ue,y3:me*Ue+Pe*Xe,x4:Q*Math.cos(te),y4:Q*Math.sin(te)}},Y=function(Q){return 180*Q/Math.PI},K=function(Q,G,te,se,de,ge){var ue=Q+.5*(te-Q),Ee=G+.5*(se-G),ke=de+.5*(te-de),_e=ge+.5*(se-ge),Oe=Math.min(Q,de,ue,ke),He=Math.max(Q,de,ue,ke),Ne=Math.min(G,ge,Ee,_e),me=Math.max(G,ge,Ee,_e);return new l(Oe,Ne,He-Oe,me-Ne)},ce=function(Q,G,te,se,de,ge,ue,Ee){var ke,_e,Oe,He,Ne,me,Pe,nt,Xe,Ue,yt,We,Vt,Le,rt=te-Q,mt=se-G,At=de-te,wt=ge-se,Ft=ue-de,xt=Ee-ge;for(_e=0;_e<41;_e++)Xe=(Pe=(Oe=Q+(ke=_e/40)*rt)+ke*((Ne=te+ke*At)-Oe))+ke*(Ne+ke*(de+ke*Ft-Ne)-Pe),Ue=(nt=(He=G+ke*mt)+ke*((me=se+ke*wt)-He))+ke*(me+ke*(ge+ke*xt-me)-nt),_e==0?(yt=Xe,We=Ue,Vt=Xe,Le=Ue):(yt=Math.min(yt,Xe),We=Math.min(We,Ue),Vt=Math.max(Vt,Xe),Le=Math.max(Le,Ue));return new l(Math.round(yt),Math.round(We),Math.round(Vt-yt),Math.round(Le-We))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Q,G,te=(Q=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:Q,lineDashOffset:G}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Zt.API),function(e){var t=function(o){var l,d,u,h,m,y,p,b,N,S;for(d=[],u=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>u;u+=4)(m=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(y=(m=((m=((m=((m=(m-(S=m%85))/85)-(N=m%85))/85)-(b=m%85))/85)-(p=m%85))/85)%85,d.push(y+33,p+33,b+33,N+33,S+33)):d.push(122);return function(w,B){for(var I=B;I>0;I--)w.pop()}(d,l.length),String.fromCharCode.apply(String,d)+"~>"},r=function(o){var l,d,u,h,m,y=String,p="length",b=255,N="charCodeAt",S="slice",w="replace";for(o[S](-2),o=o[S](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],h=0,m=(o+=l="uuuuu"[S](o[p]%5||5))[p];m>h;h+=5)d=52200625*(o[N](h)-33)+614125*(o[N](h+1)-33)+7225*(o[N](h+2)-33)+85*(o[N](h+3)-33)+(o[N](h+4)-33),u.push(b&d>>24,b&d>>16,b&d>>8,b&d);return function(B,I){for(var _=I;_>0;_--)B.pop()}(u,l[p]),y.fromCharCode.apply(y,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var d="",u=0;u<o.length;u+=2)d+=String.fromCharCode("0x"+(o[u]+o[u+1]));return d},i=function(o){for(var l=new Uint8Array(o.length),d=o.length;d--;)l[d]=o.charCodeAt(d);return(l=VN(l)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,l){var d=0,u=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),d=0;d<l.length;d+=1)switch(l[d]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[d]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(Zt.API),function(e){e.loadFile=function(t,r,n){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(d,u,h){var m=new XMLHttpRequest,y=0,p=function(b){var N=b.length,S=[],w=String.fromCharCode;for(y=0;y<N;y+=1)S.push(w(255&b.charCodeAt(y)));return S.join("")};if(m.open("GET",d,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?h(p(this.responseText)):h(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(s,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Zt.API),function(e){function t(){return(vr.html2canvas?Promise.resolve(vr.html2canvas):g5(()=>Promise.resolve().then(()=>A0e),void 0,import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(vr.DOMPurify?Promise.resolve(vr.DOMPurify):g5(()=>import("./purify.es-BFmuJLeH.js"),[],import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var d=sn(l);return d==="undefined"?"undefined":d==="string"||l instanceof String?"string":d==="number"||l instanceof Number?"number":d==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(l,d){var u=document.createElement(l);for(var h in d.className&&(u.className=d.className),d.innerHTML&&d.dompurify&&(u.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)u.style[h]=d.style[h];return u},i=function l(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h},o=function l(d){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),u);return(h=h.setProgress(1,l,1,[l])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,d){return l.__proto__=d||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,d){return this.then(function(){switch(d=d||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),d){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(d){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,d(this.prop.container,u)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(d){var u=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var b=h[p],N=b.src.find(function(S){return S.format==="truetype"});N&&u.addFont(N.url,b.ref.name,b.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),d(this.prop.container,y)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,d,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,d):this.outputPdf(l,d)},o.prototype.outputPdf=function(l,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,d)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var d=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(l,d){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return d?d(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function d(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(l=l||Zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:d(l.inner.width,l.k),height:d(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,d,u,h){return l!=null&&(this.progress.val=l),d!=null&&(this.progress.state=d),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,d,u,h){return this.setProgress(l?this.progress.val+l:null,d||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,d){var u=this;return this.thenCore(l,d,function(h,m){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,h),y}).then(h,m).then(function(y){return u.updateProgress(1),y})})},o.prototype.thenCore=function(l,d,u){u=u||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),d&&(d=d.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),y=u.call(m,l,d);return o.convert(y,h.__proto__)},o.prototype.thenExternal=function(l,d){return Promise.prototype.then.call(this,l,d)},o.prototype.thenList=function(l){var d=this;return l.forEach(function(u){d=d.thenCore(u)}),d},o.prototype.catch=function(l){l&&(l=l.bind(this));var d=Promise.prototype.catch.call(this,l);return o.convert(d,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Zt.getPageSize=function(l,d,u){if(sn(l)==="object"){var h=l;l=h.orientation,d=h.unit||d,u=h.format||u}d=d||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var m,y=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+d}var b,N=0,S=0;if(p.hasOwnProperty(y))N=p[y][1]/m,S=p[y][0]/m;else try{N=u[1],S=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",S>N&&(b=S,S=N,N=b);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",N>S&&(b=S,S=N,N=b)}return{width:S,height:N,unit:d,k:m,orientation:l}},e.html=function(l,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Q5):null;var u=new o(d);return d.worker?u:u.from(l).doCallback()}}(Zt.API),Zt.API.addJS=function(e){return sk=e,this.internal.events.subscribe("postPutResources",function(){Ox=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ox+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ox!==void 0&&nk!==void 0&&this.internal.out("/Names <</JavaScript "+Ox+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=n.exec(o);if(l!=null){var d=l[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(i=0;i<u;i++){var m=r.internal.newObject();h.push(m);var y=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var d=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Zt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,o,l){var d,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=function(m){for(var y,p=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,N={width:0,height:0,numcomponents:1},S=4;S<b;S+=2){if(S+=p,t.indexOf(m.charCodeAt(S+1))!==-1){y=256*m.charCodeAt(S+5)+m.charCodeAt(S+6),N={width:256*m.charCodeAt(S+7)+m.charCodeAt(S+8),height:y,numcomponents:m.charCodeAt(S+9)};break}p=256*m.charCodeAt(S+2)+m.charCodeAt(S+3)}return N}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:d.width,height:d.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:s}}return h}}(Zt.API),Zt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=ace(e,{checkCrc:!0}),o=i.width,l=i.height,d=i.channels,u=i.palette,h=i.depth;s=u&&d===1?function(D){for(var L=D.width,T=D.height,z=D.data,M=D.palette,V=D.depth,J=!1,Z=[],ee=[],q=void 0,X=!1,Y=0,K=0;K<M.length;K++){var ce=Ql(M[K],4),oe=ce[0],Q=ce[1],G=ce[2],te=ce[3];Z.push(oe,Q,G),te!=null&&(te===0?(Y++,ee.length<1&&ee.push(K)):te<255&&(X=!0))}if(X||Y>1){J=!0,ee=void 0;var se=L*T;q=new Uint8Array(se);for(var de=new DataView(z.buffer),ge=0;ge<se;ge++){var ue=V5(de,ge,V),Ee=Ql(M[ue],4)[3];q[ge]=Ee}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:z,alphaBytes:q,needSMask:J,palette:Z,mask:ee}}(i):d===2||d===4?function(D){for(var L=D.data,T=D.width,z=D.height,M=D.channels,V=D.depth,J=M===2?"DeviceGray":"DeviceRGB",Z=M-1,ee=T*z,q=Z,X=ee*q,Y=1*ee,K=Math.ceil(X*V/8),ce=Math.ceil(Y*V/8),oe=new Uint8Array(K),Q=new Uint8Array(ce),G=new DataView(L.buffer),te=new DataView(oe.buffer),se=new DataView(Q.buffer),de=!1,ge=0;ge<ee;ge++){for(var ue=ge*M,Ee=0;Ee<q;Ee++)hk(te,V5(G,ue+Ee,V),ge*q+Ee,V);var ke=V5(G,ue+q,V);ke<(1<<V)-1&&(de=!0),hk(se,ke,1*ge,V)}return{colorSpace:J,colorsPerPixel:Z,colorBytes:oe,alphaBytes:Q,needSMask:de}}(i):function(D){var L=D.data,T=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:L instanceof Uint8Array?L:new Uint8Array(L.buffer),needSMask:!1}}(i);var m,y,p,b=s,N=b.colorSpace,S=b.colorsPerPixel,w=b.colorBytes,B=b.alphaBytes,I=b.needSMask,_=b.palette,P=b.mask,H=null;return n!==Zt.API.image_compression.NONE&&typeof VN=="function"?(H=function(D){var L;switch(D){case Zt.API.image_compression.FAST:L=11;break;case Zt.API.image_compression.MEDIUM:L=13;break;case Zt.API.image_compression.SLOW:L=14;break;default:L=12}return L}(n),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(H," "),e=lk(w,o*S,S,n),I&&(p=lk(B,o,1,n))):(m=void 0,y="",e=w,I&&(p=B)),y+="/Colors ".concat(S," /BitsPerComponent ").concat(h," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:m,decodeParameters:y,transparency:P,palette:_,sMask:p,predictor:H,width:o,height:l,bitsPerComponent:h,colorSpace:N}}},function(e){e.processGIF89A=function(t,r,n,s){var i=new Sce(t),o=i.width,l=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var u={data:d,width:o,height:l},h=new K5(100).encode(u,100);return e.processJPEG.call(this,h,r,n,s)},e.processGIF87A=e.processGIF89A}(Zt.API),El.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},El.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Rn.log("bit decode error:"+r)}},El.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var d=this.palette[i>>7-l&1];this.data[o+4*l]=d.blue,this.data[o+4*l+1]=d.green,this.data[o+4*l+2]=d.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},El.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=i>>4,d=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[d],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},El.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},El.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,d=(i>>10&t)/t*255|0,u=i>>15?255:0,h=n*this.width*4+4*s;this.data[h]=d,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=u}this.pos+=e}},El.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,d=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,h=s*this.width*4+4*i;this.data[h]=u,this.data[h+1]=d,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},El.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},El.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},El.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new El(t,!1),o=i.width,l=i.height,d={data:i.getData(),width:o,height:l},u=new K5(100).encode(d,100);return e.processJPEG.call(this,u,r,n,s)}}(Zt.API),mk.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new mk(t),o=i.width,l=i.height,d={data:i.getData(),width:o,height:l},u=new K5(100).encode(d,100);return e.processJPEG.call(this,u,r,n,s)}}(Zt.API),Zt.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,d=0,u=0;u<s;u+=4){var h=n[u],m=n[u+1],y=n[u+2],p=n[u+3];i[l++]=h,i[l++]=m,i[l++]=y,o[d++]=p}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Zt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ef=Zt.API,Rx=Ef.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,d=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,h=u.fof?u.fof:1,m=t.doKerning!==!1,y=0,p=e.length,b=0,N=l[0]||d,S=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?S.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(y=m&&sn(u[n])==="object"&&!isNaN(parseInt(u[n][b],10))?u[n][b]/h:0,S.push((l[n]||N)/d+y)),b=n;return S},ak=Ef.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Ef.processArabic&&(e=Ef.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:Rx.apply(this,arguments).reduce(function(i,o){return i+o},0)},ik=function(e,t,r,n){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var d=i;for(l=0;i!==o;)l+t[i]>n&&(s.push(e.slice(d,i)),l=0,d=i),l+=t[i],i++;return d!==i&&s.push(e.slice(d,i)),s},ok=function(e,t,r){r||(r={});var n,s,i,o,l,d,u,h=[],m=[h],y=r.textIndent||0,p=0,b=0,N=e.split(" "),S=Rx.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?N[0].length+2:r.lineIndent||0){var w=Array(d).join(" "),B=[];N.map(function(_){(_=_.split(/\s*\n/)).length>1?B=B.concat(_.map(function(P,H){return(H&&P.length?`
`:"")+P})):B.push(_[0])}),N=B,d=ak.apply(this,[w,r])}for(i=0,o=N.length;i<o;i++){var I=0;if(n=N[i],d&&n[0]==`
`&&(n=n.substr(1),I=1),y+p+(b=(s=Rx.apply(this,[n,r])).reduce(function(_,P){return _+P},0))>t||I){if(b>t){for(l=ik.apply(this,[n,s,t-(y+p),t]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);b=s.slice(n.length-(h[0]?h[0].length:0)).reduce(function(_,P){return _+P},0)}else h=[n];m.push(h),y=b+d,p=S}else h.push(n),y+=p+b,p=S}return u=d?function(_,P){return(P?w:"")+_.join(" ")}:function(_){return _.join(" ")},m.map(u)},Ef.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,d,u=[];for(l=0,d=n.length;l<d;l++)u=u.concat(ok.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var o=function(y){return"0x"+parseInt(y,10).toString(16)},l=e.__fontmetrics__.compress=function(y){var p,b,N,S,w=["{"];for(var B in y){if(p=y[B],isNaN(parseInt(B,10))?b="'"+B+"'":(B=parseInt(B,10),b=(b=o(B).slice(2)).slice(0,-1)+s[b.slice(-1)]),typeof p=="number")p<0?(N=o(p).slice(3),S="-"):(N=o(p).slice(2),S=""),N=S+N.slice(0,-1)+s[N.slice(-1)];else{if(sn(p)!=="object")throw new Error("Don't know what to do with value type "+sn(p)+".");N=l(p)}w.push(b+N)}return w.push("}"),w.join("")},d=e.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,b,N,S,w={},B=1,I=w,_=[],P="",H="",D=y.length-1,L=1;L<D;L+=1)(S=y[L])=="'"?p?(N=p.join(""),p=void 0):p=[]:p?p.push(S):S=="{"?(_.push([I,N]),I={},N=void 0):S=="}"?((b=_.pop())[0][b[1]]=I,N=void 0,I=b[0]):S=="-"?B=-1:N===void 0?n.hasOwnProperty(S)?(P+=n[S],N=parseInt(P,16)*B,B=1,P=""):P+=S:n.hasOwnProperty(S)?(H+=n[S],I[N]=parseInt(H,16)*B,B=1,N=void 0,H=""):H+=S;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(y){var p=y.font,b=m.Unicode[p.postScriptName];b&&(p.metadata.Unicode={},p.metadata.Unicode.widths=b.widths,p.metadata.Unicode.kerning=b.kerning);var N=h.Unicode[p.postScriptName];N&&(p.metadata.Unicode.encoding=N,p.encoding=N.codePages[0])}])}(Zt.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Ky(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(Zt),Zt.API.addSvgAsImage=function(e,t,r,n,s,i,o,l){if(isNaN(t)||isNaN(r))throw Rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=s;var u=d.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(vr.canvg?Promise.resolve(vr.canvg):g5(()=>import("./index.es-BGT-flxT.js"),[],import.meta.url)).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(h)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),t,r,n,s,o,l)})},Zt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Zt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),d=[],u=0,h=0,m=0;function y(b,N){var S,w=!1;for(S=0;S<b.length;S+=1)b[S]===N&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(sn(e)==="object"){for(s in e)if(i=e[s],y(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&y(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")d.push(String(i[u]-1));else if(i[u].length>1){for(h=0;h<i[u].length;h+=1)typeof i[u][h]!="number"&&(n=!1);n===!0&&d.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+d.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,N=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?N.push("/"+b+" /"+r[b].value):N.push("/"+b+" "+r[b].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Zt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,d=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],m=0,y=i.length;m<y;++m){if(l=o.metadata.characterToGlyph(i.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(m),d.indexOf(l)==-1&&(d.push(l),d.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(u[4-l.length],l)}return h.join("")},n=function(i){var o,l,d,u,h,m,y;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],m=0,y=(l=Object.keys(i).sort(function(p,b){return p-b})).length;m<y;m++)o=l[m],d.length>=100&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+u+">"));return d.length&&(h+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,d=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",b=0;b<y.length;b++)p+=String.fromCharCode(y[b]);var N=u();h({data:p,addLength1:!0,objectId:N}),d("endobj");var S=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:S}),d("endobj");var w=u();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Uf(l.fontName)),d("/FontFile2 "+N+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),d("/Flags "+l.metadata.flags),d("/StemV "+l.metadata.stemV),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d(">>"),d("endobj");var B=u();d("<<"),d("/Type /Font"),d("/BaseFont /"+Uf(l.fontName)),d("/FontDescriptor "+w+" 0 R"),d("/W "+e.API.PDFObject.convert(m)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+l.encoding+")"),d(">>"),d(">>"),d("endobj"),l.objectNumber=u(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+S+" 0 R"),d("/BaseFont /"+Uf(l.fontName)),d("/Encoding /"+l.encoding),d("/DescendantFonts ["+B+" 0 R]"),d(">>"),d("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,d=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,y="",p=0;p<m.length;p++)y+=String.fromCharCode(m[p]);var b=u();h({data:y,addLength1:!0,objectId:b}),d("endobj");var N=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),d("endobj");var S=u();d("<<"),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d("/StemV "+l.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+b+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),d("/FontName /"+Uf(l.fontName)),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d(">>"),d("endobj"),l.objectNumber=u();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Uf(l.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),d("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",d=i.x,u=i.y,h=i.options||{},m=i.mutex||{},y=m.pdfEscape,p=m.activeFontKey,b=m.fonts,N=p,S="",w=0,B="",I=b[N].encoding;if(b[N].encoding!=="Identity-H")return{text:l,x:d,y:u,options:h,mutex:m};for(B=l,N=p,Array.isArray(l)&&(B=l[0]),w=0;w<B.length;w+=1)b[N].metadata.hasOwnProperty("cmap")&&(o=b[N].metadata.cmap.unicode.codeMap[B[w].charCodeAt(0)]),o||B[w].charCodeAt(0)<256&&b[N].metadata.hasOwnProperty("Unicode")?S+=B[w]:S+="";var _="";return parseInt(N.slice(1))<14||I==="WinAnsiEncoding"?_=y(S,N).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(_=r(S,b[N])),m.isHex=!0,{text:_,x:d,y:u,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],d={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},d,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},d,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},d,{text:o})).text}])}(Zt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Zt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,o,l,d,u,h,m=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,I=0;this.__bidiEngine__={};var _=function(M){var V=M.charCodeAt(),J=V>>8,Z=N[J];return Z!==void 0?m[256*Z+(255&V)]:J===252||J===253?"AL":w.test(J)?"L":J===8?"R":"N"},P=function(M){for(var V,J=0;J<M.length;J++){if((V=_(M.charAt(J)))==="L")return!1;if(V==="R")return!0}return!1},H=function(M,V,J,Z){var ee,q,X,Y,K=V[Z];switch(K){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(K="AN");break;case"AL":B=!0,K="R";break;case"WS":case"BN":K="N";break;case"CS":Z<1||Z+1>=V.length||(ee=J[Z-1])!=="EN"&&ee!=="AN"||(q=V[Z+1])!=="EN"&&q!=="AN"?K="N":B&&(q="AN"),K=q===ee?q:"N";break;case"ES":K=(ee=Z>0?J[Z-1]:"B")==="EN"&&Z+1<V.length&&V[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&J[Z-1]==="EN"){K="EN";break}if(B){K="N";break}for(X=Z+1,Y=V.length;X<Y&&V[X]==="ET";)X++;K=X<Y&&V[X]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(Y=V.length,X=Z+1;X<Y&&V[X]==="NSM";)X++;if(X<Y){var ce=M[Z],oe=ce>=1425&&ce<=2303||ce===64286;if(ee=V[X],oe&&(ee==="R"||ee==="AL")){K="R";break}}}K=Z<1||(ee=V[Z-1])==="B"?"N":J[Z-1];break;case"B":B=!1,s=!0,K=I;break;case"S":i=!0,K="N"}return K},D=function(M,V,J){var Z=M.split("");return J&&L(Z,J,{hiLevel:I}),Z.reverse(),V&&V.reverse(),Z.join("")},L=function(M,V,J){var Z,ee,q,X,Y,K=-1,ce=M.length,oe=0,Q=[],G=I?p:y,te=[];for(B=!1,s=!1,i=!1,ee=0;ee<ce;ee++)te[ee]=_(M[ee]);for(q=0;q<ce;q++){if(Y=oe,Q[q]=H(M,te,Q,q),Z=240&(oe=G[Y][b[Q[q]]]),oe&=15,V[q]=X=G[oe][5],Z>0)if(Z===16){for(ee=K;ee<q;ee++)V[ee]=1;K=-1}else K=-1;if(G[oe][6])K===-1&&(K=q);else if(K>-1){for(ee=K;ee<q;ee++)V[ee]=X;K=-1}te[q]==="B"&&(V[q]=0),J.hiLevel|=X}i&&function(se,de,ge){for(var ue=0;ue<ge;ue++)if(se[ue]==="S"){de[ue]=I;for(var Ee=ue-1;Ee>=0&&se[Ee]==="WS";Ee--)de[Ee]=I}}(te,V,ce)},T=function(M,V,J,Z,ee){if(!(ee.hiLevel<M)){if(M===1&&I===1&&!s)return V.reverse(),void(J&&J.reverse());for(var q,X,Y,K,ce=V.length,oe=0;oe<ce;){if(Z[oe]>=M){for(Y=oe+1;Y<ce&&Z[Y]>=M;)Y++;for(K=oe,X=Y-1;K<X;K++,X--)q=V[K],V[K]=V[X],V[X]=q,J&&(q=J[K],J[K]=J[X],J[X]=q);oe=Y}oe++}}},z=function(M,V,J){var Z=M.split(""),ee={hiLevel:I};return J||(J=[]),L(Z,J,ee),function(q,X,Y){if(Y.hiLevel!==0&&h)for(var K,ce=0;ce<q.length;ce++)X[ce]===1&&(K=S.indexOf(q[ce]))>=0&&(q[ce]=S[K+1])}(Z,J,ee),T(2,Z,V,J,ee),T(1,Z,V,J,ee),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(M,V,J){if(function(ee,q){if(q)for(var X=0;X<ee.length;X++)q[X]=X;l===void 0&&(l=P(ee)),u===void 0&&(u=P(ee))}(M,V),o||!d||u)if(o&&d&&l^u)I=l?1:0,M=D(M,V,J);else if(!o&&d&&u)I=l?1:0,M=z(M,V,J),M=D(M,V);else if(!o||l||d||u){if(o&&!d&&l^u)M=D(M,V),l?(I=0,M=z(M,V,J)):(I=1,M=z(M,V,J),M=D(M,V));else if(o&&l&&!d&&u)I=1,M=z(M,V,J),M=D(M,V);else if(!o&&!d&&l^u){var Z=h;l?(I=1,M=z(M,V,J),I=0,h=!1,M=z(M,V,J),h=Z):(I=0,M=z(M,V,J),M=D(M,V),I=1,h=!1,M=z(M,V,J),h=Z,M=D(M,V))}}else I=0,M=z(M,V,J);else I=l?1:0,M=z(M,V,J);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,d=M.isOutputVisual,l=M.isInputRtl,u=M.isOutputRtl,h=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Zt),Zt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new _A(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Qce(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Ece(this.contents),this.head=new Ice(this),this.name=new Lce(this),this.cmap=new nU(this),this.toUnicode={},this.hhea=new Fce(this),this.maxp=new Pce(this),this.hmtx=new Dce(this),this.post=new _ce(this),this.os2=new kce(this),this.loca=new Uce(this),this.glyf=new Oce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,d,u;for(u=[],o=0,l=(d=this.bbox).length;o<l;o++)t=d[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Zl,_A=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,o,l,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*l+d},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Ece=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,o,l,d,u,h,m,y,p,b,N;for(N in p=Object.keys(r).length,d=Math.log(2),m=16*Math.floor(Math.log(p)/d),o=Math.floor(m/d),h=16*p-m,(s=new _A).writeInt(this.scalarType),s.writeShort(p),s.writeShort(m),s.writeShort(o),s.writeShort(h),i=16*p,u=s.pos+i,l=null,b=[],r)for(y=r[N],s.writeString(N),s.writeInt(e(y)),s.writeInt(u),s.writeInt(y.length),b=b.concat(y),N==="head"&&(l=u),u+=y.length;u%4;)b.push(0),u++;return s.write(b),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,o;for(r=sU.call(r);r.length%4;)r.push(0);for(i=new _A(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),jce={}.hasOwnProperty,Hc=function(e,t){for(var r in t)jce.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Zl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Ice=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hc(e,Zl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new _A).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),pk=function(){function e(t,r){var n,s,i,o,l,d,u,h,m,y,p,b,N,S,w,B,I;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(p=t.readUInt16(),y=p/2,t.pos+=6,i=function(){var _,P;for(P=[],d=_=0;0<=y?_<y:_>y;d=0<=y?++_:--_)P.push(t.readUInt16());return P}(),t.pos+=2,N=function(){var _,P;for(P=[],d=_=0;0<=y?_<y:_>y;d=0<=y?++_:--_)P.push(t.readUInt16());return P}(),u=function(){var _,P;for(P=[],d=_=0;0<=y?_<y:_>y;d=0<=y?++_:--_)P.push(t.readUInt16());return P}(),h=function(){var _,P;for(P=[],d=_=0;0<=y?_<y:_>y;d=0<=y?++_:--_)P.push(t.readUInt16());return P}(),s=(this.length-t.pos+this.offset)/2,l=function(){var _,P;for(P=[],d=_=0;0<=s?_<s:_>s;d=0<=s?++_:--_)P.push(t.readUInt16());return P}(),d=w=0,I=i.length;w<I;d=++w)for(S=i[d],n=B=b=N[d];b<=S?B<=S:B>=S;n=b<=S?++B:--B)h[d]===0?o=n+u[d]:(o=l[h[d]/2+(n-b)-(y-d)]||0)!==0&&(o+=u[d]),this.codeMap[n]=65535&o}t.pos=m}return e.encode=function(t,r){var n,s,i,o,l,d,u,h,m,y,p,b,N,S,w,B,I,_,P,H,D,L,T,z,M,V,J,Z,ee,q,X,Y,K,ce,oe,Q,G,te,se,de,ge,ue,Ee,ke,_e,Oe;switch(Z=new _A,o=Object.keys(t).sort(function(He,Ne){return He-Ne}),r){case"macroman":for(N=0,S=function(){var He=[];for(b=0;b<256;++b)He.push(0);return He}(),B={0:0},i={},ee=0,K=o.length;ee<K;ee++)B[Ee=t[s=o[ee]]]==null&&(B[Ee]=++N),i[s]={old:t[s],new:B[t[s]]},S[s]=B[t[s]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(S),{charMap:i,subtable:Z.data,maxGlyphID:N+1};case"unicode":for(V=[],m=[],I=0,B={},n={},w=u=null,q=0,ce=o.length;q<ce;q++)B[P=t[s=o[q]]]==null&&(B[P]=++I),n[s]={old:P,new:B[P]},l=B[P]-s,w!=null&&l===u||(w&&m.push(w),V.push(s),u=l),w=s;for(w&&m.push(w),m.push(65535),V.push(65535),z=2*(T=V.length),L=2*Math.pow(Math.log(T)/Math.LN2,2),y=Math.log(L/2)/Math.LN2,D=2*T-L,d=[],H=[],p=[],b=X=0,oe=V.length;X<oe;b=++X){if(M=V[b],h=m[b],M===65535){d.push(0),H.push(0);break}if(M-(J=n[M].new)>=32768)for(d.push(0),H.push(2*(p.length+T-b)),s=Y=M;M<=h?Y<=h:Y>=h;s=M<=h?++Y:--Y)p.push(n[s].new);else d.push(J-M),H.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*T+2*p.length),Z.writeUInt16(0),Z.writeUInt16(z),Z.writeUInt16(L),Z.writeUInt16(y),Z.writeUInt16(D),ge=0,Q=m.length;ge<Q;ge++)s=m[ge],Z.writeUInt16(s);for(Z.writeUInt16(0),ue=0,G=V.length;ue<G;ue++)s=V[ue],Z.writeUInt16(s);for(ke=0,te=d.length;ke<te;ke++)l=d[ke],Z.writeUInt16(l);for(_e=0,se=H.length;_e<se;_e++)_=H[_e],Z.writeUInt16(_);for(Oe=0,de=p.length;Oe<de;Oe++)N=p[Oe],Z.writeUInt16(N);return{charMap:n,subtable:Z.data,maxGlyphID:I+1}}},e}(),nU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hc(e,Zl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new pk(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=pk.encode(t,r),(s=new _A).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),Fce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hc(e,Zl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),kce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hc(e,Zl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),_ce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hc(e,Zl),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,d;for(d=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)d.push(t.readUInt32());return d}).call(this)}},e}(),Tce=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Lce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hc(e,Zl),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,o,l,d,u,h,m,y;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(d={},i=h=0,m=n.length;h<m;i=++h)s=n[i],t.pos=s.offset,u=t.readString(s.length),o=new Tce(u,s),d[y=s.nameID]==null&&(d[y]=[]),d[s.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),Pce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hc(e,Zl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Dce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hc(e,Zl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,o,l,d;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,m,y;for(y=[],u=0,h=(m=this.metrics).length;u<h;u++)i=m[u],y.push(i.advance);return y}).call(this),n=this.widths[this.widths.length-1],d=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)d.push(this.widths.push(n));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),sU=[].slice,Oce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hc(e,Zl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,o,l,d,u,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new _A(r.read(s))).readShort(),u=l.readShort(),m=l.readShort(),d=l.readShort(),h=l.readShort(),this.cache[t]=o===-1?new Mce(l,u,m,d,h):new Rce(l,o,u,m,d,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,o,l,d;for(o=[],i=[],l=0,d=r.length;l<d;l++)s=t[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),Rce=function(){function e(t,r,n,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Mce=function(){function e(t,r,n,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new _A(sU.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Uce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hc(e,Zl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<n.length;++o)if(n[o]=s,i<r.length&&r[i]==o){++i,n[o]=s;var l=this.offsets[o],d=this.offsets[o+1]-l;d>0&&(s+=d)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},e}(),Qce=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,o,l,d;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in d=this.glyphsFor(r))n=d[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,o,l,d,u,h,m,y,p,b,N,S,w;for(s in n=nU.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},w=n.charMap)p[(d=w[s]).old]=d.new;for(b in y=n.maxGlyphID,o)b in p||(p[b]=y++);return h=function(B){var I,_;for(I in _={},B)_[B[I]]=I;return _}(p),m=Object.keys(h).sort(function(B,I){return B-I}),N=function(){var B,I,_;for(_=[],B=0,I=m.length;B<I;B++)l=m[B],_.push(h[l]);return _}(),i=this.font.glyf.encode(o,N,p),u=this.font.loca.encode(i.offsets,N),S={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},e}();Zt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+function(){var l,d,u;for(u=[],l=0,d=r.length;l<d;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n3=function(e,t){return n3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},n3(e,t)};function Jl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var s3=function(){return s3=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},s3.apply(this,arguments)};function yi(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function d(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,d)}u((n=n.apply(e,[])).next())})}function ti(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return d([u,h])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Mx(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var Hd=function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Tv=function(e,t){return Hd.fromClientRect(e,t.getBoundingClientRect())},Hce=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Hd(0,0,n,s)},Lv=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},Rs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},gk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vce=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ux=0;Ux<gk.length;Ux++)Vce[gk.charCodeAt(Ux)]=Ux;var xk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qx=0;Qx<xk.length;Qx++)gp[xk.charCodeAt(Qx)]=Qx;var Kce=function(e){var t=e.length*.75,r=e.length,n,s=0,i,o,l,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),h=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=gp[e.charCodeAt(n)],o=gp[e.charCodeAt(n+1)],l=gp[e.charCodeAt(n+2)],d=gp[e.charCodeAt(n+3)],h[s++]=i<<2|o>>4,h[s++]=(o&15)<<4|l>>2,h[s++]=(l&3)<<6|d&63;return u},zce=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Wce=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Lh=5,fE=11,z5=2,Gce=fE-Lh,aU=65536>>Lh,$ce=1<<Lh,W5=$ce-1,qce=1024>>Lh,Xce=aU+qce,Yce=Xce,Zce=32,Jce=Yce+Zce,ede=65536>>fE,tde=1<<Gce,rde=tde-1,yk=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},nde=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},sde=function(e,t){var r=Kce(e),n=Array.isArray(r)?Wce(r):new Uint32Array(r),s=Array.isArray(r)?zce(r):new Uint16Array(r),i=24,o=yk(s,i/2,n[4]/2),l=n[5]===2?yk(s,(i+n[4])/2):nde(n,Math.ceil((i+n[4])/4));return new ade(n[0],n[1],n[2],n[3],o,l)},ade=function(){function e(t,r,n,s,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Lh],r=(r<<z5)+(t&W5),this.data[r];if(t<=65535)return r=this.index[aU+(t-55296>>Lh)],r=(r<<z5)+(t&W5),this.data[r];if(t<this.highStart)return r=Jce-ede+(t>>fE),r=this.index[r],r+=t>>Lh&rde,r=this.index[r],r=(r<<z5)+(t&W5),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),wk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ide=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Hx=0;Hx<wk.length;Hx++)ide[wk.charCodeAt(Hx)]=Hx;var ode="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",vk=50,lde=1,iU=2,oU=3,cde=4,dde=5,bk=7,lU=8,Ck=9,tA=10,a3=11,Nk=12,i3=13,ude=14,xp=15,o3=16,Vx=17,ep=18,Ade=19,Bk=20,l3=21,tp=22,G5=23,jf=24,xo=25,yp=26,wp=27,If=28,hde=29,lh=30,fde=31,Kx=32,zx=33,c3=34,d3=35,u3=36,Kg=37,A3=38,qy=39,Xy=40,$5=41,cU=42,mde=43,pde=[9001,65288],dU="!",Gr="×",Wx="÷",h3=sde(ode),Ad=[lh,u3],f3=[lde,iU,oU,dde],uU=[tA,lU],Sk=[wp,yp],gde=f3.concat(uU),Ek=[A3,qy,Xy,c3,d3],xde=[xp,i3],yde=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(i,o){var l=h3.get(i);if(l>vk?(s.push(!0),l-=vk):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(o3);if(l===cde||l===a3){if(o===0)return n.push(o),r.push(lh);var d=r[o-1];return gde.indexOf(d)===-1?(n.push(n[o-1]),r.push(d)):(n.push(o),r.push(lh))}if(n.push(o),l===fde)return r.push(t==="strict"?l3:Kg);if(l===cU||l===hde)return r.push(lh);if(l===mde)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Kg):r.push(lh);r.push(l)}),[n,r,s]},q5=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===t)return!0;if(o!==tA)break}if(s===tA)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var d=r;d<=n.length;){d++;var o=n[d];if(o===t)return!0;if(o!==tA)break}if(l!==tA)break}return!1},jk=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===tA)r--;else return n}return 0},wde=function(e,t,r,n,s){if(r[n]===0)return Gr;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Gr;var o=i-1,l=i+1,d=t[i],u=o>=0?t[o]:0,h=t[l];if(d===iU&&h===oU)return Gr;if(f3.indexOf(d)!==-1)return dU;if(f3.indexOf(h)!==-1||uU.indexOf(h)!==-1)return Gr;if(jk(i,t)===lU)return Wx;if(h3.get(e[i])===a3||(d===Kx||d===zx)&&h3.get(e[l])===a3||d===bk||h===bk||d===Ck||[tA,i3,xp].indexOf(d)===-1&&h===Ck||[Vx,ep,Ade,jf,If].indexOf(h)!==-1||jk(i,t)===tp||q5(G5,tp,i,t)||q5([Vx,ep],l3,i,t)||q5(Nk,Nk,i,t))return Gr;if(d===tA)return Wx;if(d===G5||h===G5)return Gr;if(h===o3||d===o3)return Wx;if([i3,xp,l3].indexOf(h)!==-1||d===ude||u===u3&&xde.indexOf(d)!==-1||d===If&&h===u3||h===Bk||Ad.indexOf(h)!==-1&&d===xo||Ad.indexOf(d)!==-1&&h===xo||d===wp&&[Kg,Kx,zx].indexOf(h)!==-1||[Kg,Kx,zx].indexOf(d)!==-1&&h===yp||Ad.indexOf(d)!==-1&&Sk.indexOf(h)!==-1||Sk.indexOf(d)!==-1&&Ad.indexOf(h)!==-1||[wp,yp].indexOf(d)!==-1&&(h===xo||[tp,xp].indexOf(h)!==-1&&t[l+1]===xo)||[tp,xp].indexOf(d)!==-1&&h===xo||d===xo&&[xo,If,jf].indexOf(h)!==-1)return Gr;if([xo,If,jf,Vx,ep].indexOf(h)!==-1)for(var m=i;m>=0;){var y=t[m];if(y===xo)return Gr;if([If,jf].indexOf(y)!==-1)m--;else break}if([wp,yp].indexOf(h)!==-1)for(var m=[Vx,ep].indexOf(d)!==-1?o:i;m>=0;){var y=t[m];if(y===xo)return Gr;if([If,jf].indexOf(y)!==-1)m--;else break}if(A3===d&&[A3,qy,c3,d3].indexOf(h)!==-1||[qy,c3].indexOf(d)!==-1&&[qy,Xy].indexOf(h)!==-1||[Xy,d3].indexOf(d)!==-1&&h===Xy||Ek.indexOf(d)!==-1&&[Bk,yp].indexOf(h)!==-1||Ek.indexOf(h)!==-1&&d===wp||Ad.indexOf(d)!==-1&&Ad.indexOf(h)!==-1||d===jf&&Ad.indexOf(h)!==-1||Ad.concat(xo).indexOf(d)!==-1&&h===tp&&pde.indexOf(e[l])===-1||Ad.concat(xo).indexOf(h)!==-1&&d===ep)return Gr;if(d===$5&&h===$5){for(var p=r[i],b=1;p>0&&(p--,t[p]===$5);)b++;if(b%2!==0)return Gr}return d===Kx&&h===zx?Gr:Wx},vde=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=yde(e,t.lineBreak),n=r[0],s=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(l){return[xo,lh,cU].indexOf(l)!==-1?Kg:l}));var o=t.wordBreak==="keep-all"?i.map(function(l,d){return l&&e[d]>=19968&&e[d]<=40959}):void 0;return[n,s,o]},bde=function(){function e(t,r,n,s){this.codePoints=t,this.required=r===dU,this.start=n,this.end=s}return e.prototype.slice=function(){return Rs.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Cde=function(e,t){var r=Lv(e),n=vde(r,t),s=n[0],i=n[1],o=n[2],l=r.length,d=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var h=Gr;u<l&&(h=wde(r,i,s,++u,o))===Gr;);if(h!==Gr||u===l){var m=new bde(r,h,d,u);return d=u,{value:m,done:!1}}return{done:!0,value:null}}}},Nde=1,Bde=2,N1=4,Ik=8,s2=10,Fk=47,zp=92,Sde=9,Ede=32,Gx=34,rp=61,jde=35,Ide=36,Fde=37,$x=39,qx=40,np=41,kde=95,Vi=45,_de=33,Tde=60,Lde=62,Pde=64,Dde=91,Ode=93,Rde=61,Mde=123,Xx=63,Ude=125,kk=124,Qde=126,Hde=128,_k=65533,X5=42,xh=43,Vde=44,Kde=58,zde=59,zg=46,Wde=0,Gde=8,$de=11,qde=14,Xde=31,Yde=127,dc=-1,AU=48,hU=97,fU=101,Zde=102,Jde=117,eue=122,mU=65,pU=69,gU=70,tue=85,rue=90,ni=function(e){return e>=AU&&e<=57},nue=function(e){return e>=55296&&e<=57343},Ff=function(e){return ni(e)||e>=mU&&e<=gU||e>=hU&&e<=Zde},sue=function(e){return e>=hU&&e<=eue},aue=function(e){return e>=mU&&e<=rue},iue=function(e){return sue(e)||aue(e)},oue=function(e){return e>=Hde},Yx=function(e){return e===s2||e===Sde||e===Ede},a2=function(e){return iue(e)||oue(e)||e===kde},Tk=function(e){return a2(e)||ni(e)||e===Vi},lue=function(e){return e>=Wde&&e<=Gde||e===$de||e>=qde&&e<=Xde||e===Yde},Lu=function(e,t){return e!==zp?!1:t!==s2},Zx=function(e,t,r){return e===Vi?a2(t)||Lu(t,r):a2(e)?!0:!!(e===zp&&Lu(e,t))},Y5=function(e,t,r){return e===xh||e===Vi?ni(t)?!0:t===zg&&ni(r):ni(e===zg?t:e)},cue=function(e){var t=0,r=1;(e[t]===xh||e[t]===Vi)&&(e[t]===Vi&&(r=-1),t++);for(var n=[];ni(e[t]);)n.push(e[t++]);var s=n.length?parseInt(Rs.apply(void 0,n),10):0;e[t]===zg&&t++;for(var i=[];ni(e[t]);)i.push(e[t++]);var o=i.length,l=o?parseInt(Rs.apply(void 0,i),10):0;(e[t]===pU||e[t]===fU)&&t++;var d=1;(e[t]===xh||e[t]===Vi)&&(e[t]===Vi&&(d=-1),t++);for(var u=[];ni(e[t]);)u.push(e[t++]);var h=u.length?parseInt(Rs.apply(void 0,u),10):0;return r*(s+l*Math.pow(10,-o))*Math.pow(10,d*h)},due={type:2},uue={type:3},Aue={type:4},hue={type:13},fue={type:8},mue={type:21},pue={type:9},gue={type:10},xue={type:11},yue={type:12},wue={type:14},Jx={type:23},vue={type:1},bue={type:25},Cue={type:24},Nue={type:26},Bue={type:27},Sue={type:28},Eue={type:29},jue={type:31},m3={type:32},xU=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Lv(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==m3;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Gx:return this.consumeStringToken(Gx);case jde:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Tk(r)||Lu(n,s)){var i=Zx(r,n,s)?Bde:Nde,o=this.consumeName();return{type:5,value:o,flags:i}}break;case Ide:if(this.peekCodePoint(0)===rp)return this.consumeCodePoint(),hue;break;case $x:return this.consumeStringToken($x);case qx:return due;case np:return uue;case X5:if(this.peekCodePoint(0)===rp)return this.consumeCodePoint(),wue;break;case xh:if(Y5(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Vde:return Aue;case Vi:var l=t,d=this.peekCodePoint(0),u=this.peekCodePoint(1);if(Y5(l,d,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Zx(l,d,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(d===Vi&&u===Lde)return this.consumeCodePoint(),this.consumeCodePoint(),Cue;break;case zg:if(Y5(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Fk:if(this.peekCodePoint(0)===X5)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===X5&&(h=this.consumeCodePoint(),h===Fk))return this.consumeToken();if(h===dc)return this.consumeToken()}break;case Kde:return Nue;case zde:return Bue;case Tde:if(this.peekCodePoint(0)===_de&&this.peekCodePoint(1)===Vi&&this.peekCodePoint(2)===Vi)return this.consumeCodePoint(),this.consumeCodePoint(),bue;break;case Pde:var m=this.peekCodePoint(0),y=this.peekCodePoint(1),p=this.peekCodePoint(2);if(Zx(m,y,p)){var o=this.consumeName();return{type:7,value:o}}break;case Dde:return Sue;case zp:if(Lu(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case Ode:return Eue;case Rde:if(this.peekCodePoint(0)===rp)return this.consumeCodePoint(),fue;break;case Mde:return xue;case Ude:return yue;case Jde:case tue:var b=this.peekCodePoint(0),N=this.peekCodePoint(1);return b===xh&&(Ff(N)||N===Xx)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case kk:if(this.peekCodePoint(0)===rp)return this.consumeCodePoint(),pue;if(this.peekCodePoint(0)===kk)return this.consumeCodePoint(),mue;break;case Qde:if(this.peekCodePoint(0)===rp)return this.consumeCodePoint(),gue;break;case dc:return m3}return Yx(t)?(this.consumeWhiteSpace(),jue):ni(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):a2(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Rs(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Ff(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===Xx&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Rs.apply(void 0,t.map(function(d){return d===Xx?AU:d})),16),i=parseInt(Rs.apply(void 0,t.map(function(d){return d===Xx?gU:d})),16);return{type:30,start:s,end:i}}var o=parseInt(Rs.apply(void 0,t),16);if(this.peekCodePoint(0)===Vi&&Ff(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Ff(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(Rs.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===qx?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===qx?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===dc)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===$x||r===Gx){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===dc||this.peekCodePoint(0)===np)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Jx)}for(;;){var s=this.consumeCodePoint();if(s===dc||s===np)return{type:22,value:Rs.apply(void 0,t)};if(Yx(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===dc||this.peekCodePoint(0)===np?(this.consumeCodePoint(),{type:22,value:Rs.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Jx);if(s===Gx||s===$x||s===qx||lue(s))return this.consumeBadUrlRemnants(),Jx;if(s===zp)if(Lu(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Jx;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;Yx(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===np||t===dc)return;Lu(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=Rs.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===dc||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===s2)return this._value.splice(0,n),vue;if(s===zp){var i=this._value[n+1];i!==dc&&i!==void 0&&(i===s2?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Lu(s,i)&&(r+=this.consumeStringSlice(n),r+=Rs(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=N1,n=this.peekCodePoint(0);for((n===xh||n===Vi)&&t.push(this.consumeCodePoint());ni(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===zg&&ni(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Ik;ni(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===pU||n===fU)&&((s===xh||s===Vi)&&ni(i)||ni(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Ik;ni(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[cue(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Zx(s,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return s===Fde?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Ff(t)){for(var r=Rs(t);Ff(this.peekCodePoint(0))&&r.length<6;)r+=Rs(this.consumeCodePoint());Yx(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||nue(n)||n>1114111?_k:n}return t===dc?_k:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(Tk(r))t+=Rs(r);else if(Lu(r,this.peekCodePoint(0)))t+=Rs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),yU=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new xU;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||Fue(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?m3:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),B1=function(e){return e.type===15},Bm=function(e){return e.type===17},Ln=function(e){return e.type===20},Iue=function(e){return e.type===0},p3=function(e,t){return Ln(e)&&e.value===t},wU=function(e){return e.type!==31},im=function(e){return e.type!==31&&e.type!==4},Vc=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},Fue=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},TA=function(e){return e.type===17||e.type===15},$s=function(e){return e.type===16||TA(e)},vU=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Pa={type:17,number:0,flags:N1},mE={type:16,number:50,flags:N1},rA={type:16,number:100,flags:N1},vp=function(e,t,r){var n=e[0],s=e[1];return[Vn(n,t),Vn(typeof s<"u"?s:n,r)]},Vn=function(e,t){if(e.type===16)return e.number/100*t;if(B1(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},bU="deg",CU="grad",NU="rad",BU="turn",Pv={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case bU:return Math.PI*t.number/180;case CU:return Math.PI/200*t.number;case NU:return t.number;case BU:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},SU=function(e){return e.type===15&&(e.unit===bU||e.unit===CU||e.unit===NU||e.unit===BU)},EU=function(e){var t=e.filter(Ln).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Pa,Pa];case"to top":case"bottom":return ol(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Pa,rA];case"to right":case"left":return ol(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[rA,rA];case"to bottom":case"top":return ol(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[rA,Pa];case"to left":case"right":return ol(270)}return 0},ol=function(e){return Math.PI*e/180},wA={name:"color",parse:function(e,t){if(t.type===18){var r=kue[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);return nA(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return nA(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6);return nA(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return nA(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var l=kd[t.value.toUpperCase()];if(typeof l<"u")return l}return kd.TRANSPARENT}},vA=function(e){return(255&e)===0},fa=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},nA=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},Lk=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},Pk=function(e,t){var r=t.filter(im);if(r.length===3){var n=r.map(Lk),s=n[0],i=n[1],o=n[2];return nA(s,i,o,1)}if(r.length===4){var l=r.map(Lk),s=l[0],i=l[1],o=l[2],d=l[3];return nA(s,i,o,d)}return 0};function Z5(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var Dk=function(e,t){var r=t.filter(im),n=r[0],s=r[1],i=r[2],o=r[3],l=(n.type===17?ol(n.number):Pv.parse(e,n))/(Math.PI*2),d=$s(s)?s.number/100:0,u=$s(i)?i.number/100:0,h=typeof o<"u"&&$s(o)?Vn(o,1):1;if(d===0)return nA(u*255,u*255,u*255,1);var m=u<=.5?u*(d+1):u+d-u*d,y=u*2-m,p=Z5(y,m,l+1/3),b=Z5(y,m,l),N=Z5(y,m,l-1/3);return nA(p*255,b*255,N*255,h)},kue={hsl:Dk,hsla:Dk,rgb:Pk,rgba:Pk},Wp=function(e,t){return wA.parse(e,yU.create(t).parseComponentValue())},kd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},_ue={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Ln(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Tue={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Dv=function(e,t){var r=wA.parse(e,t[0]),n=t[1];return n&&$s(n)?{color:r,stop:n}:{color:r,stop:null}},Ok=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Pa),n.stop===null&&(n.stop=rA);for(var s=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var d=Vn(l,t);d>i?s.push(d):s.push(i),i=d}else s.push(null)}for(var u=null,o=0;o<s.length;o++){var h=s[o];if(h===null)u===null&&(u=o);else if(u!==null){for(var m=o-u,y=s[u-1],p=(h-y)/(m+1),b=1;b<=m;b++)s[u+b-1]=p*b;u=null}}return e.map(function(N,S){var w=N.color;return{color:w,stop:Math.max(Math.min(1,s[S]/t),0)}})},Lue=function(e,t,r){var n=t/2,s=r/2,i=Vn(e[0],t)-n,o=s-Vn(e[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},Pue=function(e,t,r){var n=typeof e=="number"?e:Lue(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,o=r/2,l=s/2,d=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[s,i-u,i+u,o-d,o+d]},jl=function(e,t){return Math.sqrt(e*e+t*t)},Rk=function(e,t,r,n,s){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,l){var d=l[0],u=l[1],h=jl(r-d,n-u);return(s?h<o.optimumDistance:h>o.optimumDistance)?{optimumCorner:l,optimumDistance:h}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},Due=function(e,t,r,n,s){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)i=o=Math.min(jl(t,r),jl(t,r-s),jl(t-n,r),jl(t-n,r-s));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),d=Rk(n,s,t,r,!0),u=d[0],h=d[1];i=jl(u-t,(h-r)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)i=o=Math.max(jl(t,r),jl(t,r-s),jl(t-n,r),jl(t-n,r-s));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),m=Rk(n,s,t,r,!1),u=m[0],h=m[1];i=jl(u-t,(h-r)/l),o=l*i}break}return Array.isArray(e.size)&&(i=Vn(e.size[0],n),o=e.size.length===2?Vn(e.size[1],s):i),[i,o]},Oue=function(e,t){var r=ol(180),n=[];return Vc(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){r=EU(s);return}else if(SU(o)){r=Pv.parse(e,o);return}}var l=Dv(e,s);n.push(l)}),{angle:r,stops:n,type:1}},ey=function(e,t){var r=ol(180),n=[];return Vc(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=EU(s);return}else if(SU(o)){r=(Pv.parse(e,o)+ol(270))%ol(360);return}}var l=Dv(e,s);n.push(l)}),{angle:r,stops:n,type:1}},Rue=function(e,t){var r=ol(180),n=[],s=1,i=0,o=3,l=[];return Vc(t).forEach(function(d,u){var h=d[0];if(u===0){if(Ln(h)&&h.value==="linear"){s=1;return}else if(Ln(h)&&h.value==="radial"){s=2;return}}if(h.type===18){if(h.name==="from"){var m=wA.parse(e,h.values[0]);n.push({stop:Pa,color:m})}else if(h.name==="to"){var m=wA.parse(e,h.values[0]);n.push({stop:rA,color:m})}else if(h.name==="color-stop"){var y=h.values.filter(im);if(y.length===2){var m=wA.parse(e,y[1]),p=y[0];Bm(p)&&n.push({stop:{type:16,number:p.number*100,flags:p.flags},color:m})}}}}),s===1?{angle:(r+ol(180))%ol(360),stops:n,type:s}:{size:o,shape:i,stops:n,position:l,type:s}},jU="closest-side",IU="farthest-side",FU="closest-corner",kU="farthest-corner",_U="circle",TU="ellipse",LU="cover",PU="contain",Mue=function(e,t){var r=0,n=3,s=[],i=[];return Vc(t).forEach(function(o,l){var d=!0;if(l===0){var u=!1;d=o.reduce(function(m,y){if(u)if(Ln(y))switch(y.value){case"center":return i.push(mE),m;case"top":case"left":return i.push(Pa),m;case"right":case"bottom":return i.push(rA),m}else($s(y)||TA(y))&&i.push(y);else if(Ln(y))switch(y.value){case _U:return r=0,!1;case TU:return r=1,!1;case"at":return u=!0,!1;case jU:return n=0,!1;case LU:case IU:return n=1,!1;case PU:case FU:return n=2,!1;case kU:return n=3,!1}else if(TA(y)||$s(y))return Array.isArray(n)||(n=[]),n.push(y),!1;return m},d)}if(d){var h=Dv(e,o);s.push(h)}}),{size:n,shape:r,stops:s,position:i,type:2}},ty=function(e,t){var r=0,n=3,s=[],i=[];return Vc(t).forEach(function(o,l){var d=!0;if(l===0?d=o.reduce(function(h,m){if(Ln(m))switch(m.value){case"center":return i.push(mE),!1;case"top":case"left":return i.push(Pa),!1;case"right":case"bottom":return i.push(rA),!1}else if($s(m)||TA(m))return i.push(m),!1;return h},d):l===1&&(d=o.reduce(function(h,m){if(Ln(m))switch(m.value){case _U:return r=0,!1;case TU:return r=1,!1;case PU:case jU:return n=0,!1;case IU:return n=1,!1;case FU:return n=2,!1;case LU:case kU:return n=3,!1}else if(TA(m)||$s(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return h},d)),d){var u=Dv(e,o);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},Uue=function(e){return e.type===1},Que=function(e){return e.type===2},pE={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=DU[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Hue(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!DU[e.name])}var DU={"linear-gradient":Oue,"-moz-linear-gradient":ey,"-ms-linear-gradient":ey,"-o-linear-gradient":ey,"-webkit-linear-gradient":ey,"radial-gradient":Mue,"-moz-radial-gradient":ty,"-ms-radial-gradient":ty,"-o-radial-gradient":ty,"-webkit-radial-gradient":ty,"-webkit-gradient":Rue},Vue={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return im(n)&&Hue(n)}).map(function(n){return pE.parse(e,n)})}},Kue={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Ln(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zue={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Vc(t).map(function(r){return r.filter($s)}).map(vU)}},Wue={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Vc(t).map(function(r){return r.filter(Ln).map(function(n){return n.value}).join(" ")}).map(Gue)}},Gue=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},E0;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(E0||(E0={}));var $ue={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Vc(t).map(function(r){return r.filter(que)})}},que=function(e){return Ln(e)||$s(e)},Ov=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Xue=Ov("top"),Yue=Ov("right"),Zue=Ov("bottom"),Jue=Ov("left"),Rv=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return vU(r.filter($s))}}},eAe=Rv("top-left"),tAe=Rv("top-right"),rAe=Rv("bottom-right"),nAe=Rv("bottom-left"),Mv=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},sAe=Mv("top"),aAe=Mv("right"),iAe=Mv("bottom"),oAe=Mv("left"),Uv=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return B1(r)?r.number:0}}},lAe=Uv("top"),cAe=Uv("right"),dAe=Uv("bottom"),uAe=Uv("left"),AAe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hAe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},fAe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).reduce(function(r,n){return r|mAe(n.value)},0)}},mAe=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},pAe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gAe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},i2;(function(e){e.NORMAL="normal",e.STRICT="strict"})(i2||(i2={}));var xAe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return i2.STRICT;case"normal":default:return i2.NORMAL}}},yAe={name:"line-height",initialValue:"normal",prefix:!1,type:4},Mk=function(e,t){return Ln(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:$s(e)?Vn(e,t):t},wAe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:pE.parse(e,t)}},vAe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},g3={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Qv=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},bAe=Qv("top"),CAe=Qv("right"),NAe=Qv("bottom"),BAe=Qv("left"),SAe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},EAe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Hv=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},jAe=Hv("top"),IAe=Hv("right"),FAe=Hv("bottom"),kAe=Hv("left"),_Ae={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},TAe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},LAe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&p3(t[0],"none")?[]:Vc(t).map(function(r){for(var n={color:kd.TRANSPARENT,offsetX:Pa,offsetY:Pa,blur:Pa},s=0,i=0;i<r.length;i++){var o=r[i];TA(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:n.blur=o,s++):n.color=wA.parse(e,o)}return n})}},PAe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},DAe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=MAe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},OAe=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},RAe=function(e){var t=e.filter(function(d){return d.type===17}).map(function(d){return d.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,s,i,o,l]:null},MAe={matrix:OAe,matrix3d:RAe},Uk={type:16,number:50,flags:N1},UAe=[Uk,Uk],QAe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter($s);return r.length!==2?UAe:[r[0],r[1]]}},HAe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Gp;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Gp||(Gp={}));var VAe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Gp.BREAK_ALL;case"keep-all":return Gp.KEEP_ALL;case"normal":default:return Gp.NORMAL}}},KAe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Bm(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},OU={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},zAe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Bm(t)?t.number:1}},WAe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},GAe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},$Ae={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},qAe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},XAe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Bm(t))return t.number;if(Ln(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},YAe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Ln).map(function(r){return r.value})}},ZAe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},oa=function(e,t){return(e&t)!==0},JAe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},ehe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(wU),i=0;i<s.length;i++){var o=s[i],l=s[i+1];if(o.type===20){var d=l&&Bm(l)?l.number:1;n.push({counter:o.value,increment:d})}}return n}},the={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(wU),s=0;s<n.length;s++){var i=n[s],o=n[s+1];if(Ln(i)&&i.value!=="none"){var l=o&&Bm(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},rhe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(B1).map(function(r){return OU.parse(e,r)})}},nhe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(Iue);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,l=s[i+1].value;n.push({open:o,close:l})}return n}},Qk=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},she={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&p3(t[0],"none")?[]:Vc(t).map(function(r){for(var n={color:255,offsetX:Pa,offsetY:Pa,blur:Pa,spread:Pa,inset:!1},s=0,i=0;i<r.length;i++){var o=r[i];p3(o,"inset")?n.inset=!0:TA(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:s===2?n.blur=o:n.spread=o,s++):n.color=wA.parse(e,o)}return n})}},ahe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Ln).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},ihe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ohe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return B1(t)?t.number:0}},lhe=function(){function e(t,r){var n,s;this.animationDuration=_t(t,rhe,r.animationDuration),this.backgroundClip=_t(t,_ue,r.backgroundClip),this.backgroundColor=_t(t,Tue,r.backgroundColor),this.backgroundImage=_t(t,Vue,r.backgroundImage),this.backgroundOrigin=_t(t,Kue,r.backgroundOrigin),this.backgroundPosition=_t(t,zue,r.backgroundPosition),this.backgroundRepeat=_t(t,Wue,r.backgroundRepeat),this.backgroundSize=_t(t,$ue,r.backgroundSize),this.borderTopColor=_t(t,Xue,r.borderTopColor),this.borderRightColor=_t(t,Yue,r.borderRightColor),this.borderBottomColor=_t(t,Zue,r.borderBottomColor),this.borderLeftColor=_t(t,Jue,r.borderLeftColor),this.borderTopLeftRadius=_t(t,eAe,r.borderTopLeftRadius),this.borderTopRightRadius=_t(t,tAe,r.borderTopRightRadius),this.borderBottomRightRadius=_t(t,rAe,r.borderBottomRightRadius),this.borderBottomLeftRadius=_t(t,nAe,r.borderBottomLeftRadius),this.borderTopStyle=_t(t,sAe,r.borderTopStyle),this.borderRightStyle=_t(t,aAe,r.borderRightStyle),this.borderBottomStyle=_t(t,iAe,r.borderBottomStyle),this.borderLeftStyle=_t(t,oAe,r.borderLeftStyle),this.borderTopWidth=_t(t,lAe,r.borderTopWidth),this.borderRightWidth=_t(t,cAe,r.borderRightWidth),this.borderBottomWidth=_t(t,dAe,r.borderBottomWidth),this.borderLeftWidth=_t(t,uAe,r.borderLeftWidth),this.boxShadow=_t(t,she,r.boxShadow),this.color=_t(t,AAe,r.color),this.direction=_t(t,hAe,r.direction),this.display=_t(t,fAe,r.display),this.float=_t(t,pAe,r.cssFloat),this.fontFamily=_t(t,$Ae,r.fontFamily),this.fontSize=_t(t,qAe,r.fontSize),this.fontStyle=_t(t,ZAe,r.fontStyle),this.fontVariant=_t(t,YAe,r.fontVariant),this.fontWeight=_t(t,XAe,r.fontWeight),this.letterSpacing=_t(t,gAe,r.letterSpacing),this.lineBreak=_t(t,xAe,r.lineBreak),this.lineHeight=_t(t,yAe,r.lineHeight),this.listStyleImage=_t(t,wAe,r.listStyleImage),this.listStylePosition=_t(t,vAe,r.listStylePosition),this.listStyleType=_t(t,g3,r.listStyleType),this.marginTop=_t(t,bAe,r.marginTop),this.marginRight=_t(t,CAe,r.marginRight),this.marginBottom=_t(t,NAe,r.marginBottom),this.marginLeft=_t(t,BAe,r.marginLeft),this.opacity=_t(t,zAe,r.opacity);var i=_t(t,SAe,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=_t(t,EAe,r.overflowWrap),this.paddingTop=_t(t,jAe,r.paddingTop),this.paddingRight=_t(t,IAe,r.paddingRight),this.paddingBottom=_t(t,FAe,r.paddingBottom),this.paddingLeft=_t(t,kAe,r.paddingLeft),this.paintOrder=_t(t,ahe,r.paintOrder),this.position=_t(t,TAe,r.position),this.textAlign=_t(t,_Ae,r.textAlign),this.textDecorationColor=_t(t,WAe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=_t(t,GAe,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=_t(t,LAe,r.textShadow),this.textTransform=_t(t,PAe,r.textTransform),this.transform=_t(t,DAe,r.transform),this.transformOrigin=_t(t,QAe,r.transformOrigin),this.visibility=_t(t,HAe,r.visibility),this.webkitTextStrokeColor=_t(t,ihe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=_t(t,ohe,r.webkitTextStrokeWidth),this.wordBreak=_t(t,VAe,r.wordBreak),this.zIndex=_t(t,KAe,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return vA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return oa(this.display,4)||oa(this.display,33554432)||oa(this.display,268435456)||oa(this.display,536870912)||oa(this.display,67108864)||oa(this.display,134217728)},e}(),che=function(){function e(t,r){this.content=_t(t,JAe,r.content),this.quotes=_t(t,nhe,r.quotes)}return e}(),Hk=function(){function e(t,r){this.counterIncrement=_t(t,ehe,r.counterIncrement),this.counterReset=_t(t,the,r.counterReset)}return e}(),_t=function(e,t,r){var n=new xU,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var i=new yU(n.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,Ln(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Pv.parse(e,i.parseComponentValue());case"color":return wA.parse(e,i.parseComponentValue());case"image":return pE.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return TA(l)?l:Pa;case"length-percentage":var d=i.parseComponentValue();return $s(d)?d:Pa;case"time":return OU.parse(e,i.parseComponentValue())}break}},dhe="data-html2canvas-debug",uhe=function(e){var t=e.getAttribute(dhe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},x3=function(e,t){var r=uhe(e);return r===1||t===r},Kc=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,x3(r,3))debugger;this.styles=new lhe(t,window.getComputedStyle(r,null)),v3(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Tv(this.context,r),x3(r,4)&&(this.flags|=16)}return e}(),Ahe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Vk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ry=0;ry<Vk.length;ry++)bp[Vk.charCodeAt(ry)]=ry;var hhe=function(e){var t=e.length*.75,r=e.length,n,s=0,i,o,l,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),h=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=bp[e.charCodeAt(n)],o=bp[e.charCodeAt(n+1)],l=bp[e.charCodeAt(n+2)],d=bp[e.charCodeAt(n+3)],h[s++]=i<<2|o>>4,h[s++]=(o&15)<<4|l>>2,h[s++]=(l&3)<<6|d&63;return u},fhe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},mhe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Ph=5,gE=11,J5=2,phe=gE-Ph,RU=65536>>Ph,ghe=1<<Ph,eC=ghe-1,xhe=1024>>Ph,yhe=RU+xhe,whe=yhe,vhe=32,bhe=whe+vhe,Che=65536>>gE,Nhe=1<<phe,Bhe=Nhe-1,Kk=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},She=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},Ehe=function(e,t){var r=hhe(e),n=Array.isArray(r)?mhe(r):new Uint32Array(r),s=Array.isArray(r)?fhe(r):new Uint16Array(r),i=24,o=Kk(s,i/2,n[4]/2),l=n[5]===2?Kk(s,(i+n[4])/2):She(n,Math.ceil((i+n[4])/4));return new jhe(n[0],n[1],n[2],n[3],o,l)},jhe=function(){function e(t,r,n,s,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Ph],r=(r<<J5)+(t&eC),this.data[r];if(t<=65535)return r=this.index[RU+(t-55296>>Ph)],r=(r<<J5)+(t&eC),this.data[r];if(t<this.highStart)return r=bhe-Che+(t>>gE),r=this.index[r],r+=t>>Ph&Bhe,r=this.index[r],r=(r<<J5)+(t&eC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),zk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ihe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ny=0;ny<zk.length;ny++)Ihe[zk.charCodeAt(ny)]=ny;var Fhe=1,tC=2,rC=3,Wk=4,Gk=5,khe=7,$k=8,nC=9,sC=10,qk=11,Xk=12,Yk=13,Zk=14,aC=15,_he=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},The=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},Lhe=Ehe(Ahe),el="×",iC="÷",Phe=function(e){return Lhe.get(e)},Dhe=function(e,t,r){var n=r-2,s=t[n],i=t[r-1],o=t[r];if(i===tC&&o===rC)return el;if(i===tC||i===rC||i===Wk||o===tC||o===rC||o===Wk)return iC;if(i===$k&&[$k,nC,qk,Xk].indexOf(o)!==-1||(i===qk||i===nC)&&(o===nC||o===sC)||(i===Xk||i===sC)&&o===sC||o===Yk||o===Gk||o===khe||i===Fhe)return el;if(i===Yk&&o===Zk){for(;s===Gk;)s=t[--n];if(s===Zk)return el}if(i===aC&&o===aC){for(var l=0;s===aC;)l++,s=t[--n];if(l%2===0)return el}return iC},Ohe=function(e){var t=_he(e),r=t.length,n=0,s=0,i=t.map(Phe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=el;n<r&&(o=Dhe(t,i,++n))===el;);if(o!==el||n===r){var l=The.apply(null,t.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},Rhe=function(e){for(var t=Ohe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},Mhe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(n),i===t)return!0}}return!1},Uhe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=Lv(n.data).map(function(d){return Rs(d)}),i=0,o={},l=s.every(function(d,u){r.setStart(n,i),r.setEnd(n,i+d.length);var h=r.getBoundingClientRect();i+=d.length;var m=h.x>o.x||h.y>o.y;return o=h,u===0?!0:m});return e.body.removeChild(t),l},Qhe=function(){return typeof new Image().crossOrigin<"u"},Hhe=function(){return typeof new XMLHttpRequest().responseType=="string"},Vhe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},Jk=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},Khe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=t.toDataURL();s.src=i;var o=y3(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),e_(o).then(function(l){n.drawImage(l,0,0);var d=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=r+"px",Jk(d)?e_(y3(r,r,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),Jk(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},y3=function(e,t,r,n,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},e_=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Ta={get SUPPORT_RANGE_BOUNDS(){var e=Mhe(document);return Object.defineProperty(Ta,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ta.SUPPORT_RANGE_BOUNDS&&Uhe(document);return Object.defineProperty(Ta,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Vhe(document);return Object.defineProperty(Ta,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?Khe(document):Promise.resolve(!1);return Object.defineProperty(Ta,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=Qhe();return Object.defineProperty(Ta,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Hhe();return Object.defineProperty(Ta,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ta,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ta,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},$p=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),zhe=function(e,t,r,n){var s=$he(t,r),i=[],o=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Ta.SUPPORT_RANGE_BOUNDS){var d=t_(n,o,l.length).getClientRects();if(d.length>1){var u=xE(l),h=0;u.forEach(function(y){i.push(new $p(y,Hd.fromDOMRectList(e,t_(n,h+o,y.length).getClientRects()))),h+=y.length})}else i.push(new $p(l,Hd.fromDOMRectList(e,d)))}else{var m=n.splitText(l.length);i.push(new $p(l,Whe(e,n))),n=m}else Ta.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},Whe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var i=Tv(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return Hd.EMPTY},t_=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},xE=function(e){if(Ta.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return Rhe(e)},Ghe=function(e,t){if(Ta.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return Xhe(e,t)},$he=function(e,t){return t.letterSpacing!==0?xE(e):Ghe(e,t)},qhe=[32,160,4961,65792,65793,4153,4241],Xhe=function(e,t){for(var r=Cde(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,i=function(){if(s.value){var o=s.value.slice(),l=Lv(o),d="";l.forEach(function(u){qhe.indexOf(u)===-1?d+=Rs(u):(d.length&&n.push(d),n.push(Rs(u)),d="")}),d.length&&n.push(d)}};!(s=r.next()).done;)i();return n},Yhe=function(){function e(t,r,n){this.text=Zhe(r.data,n.textTransform),this.textBounds=zhe(t,this.text,n,r)}return e}(),Zhe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Jhe,efe);case 2:return e.toUpperCase();default:return e}},Jhe=/(^|\s|:|-|\(|\))([a-z])/g,efe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},MU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t}(Kc),UU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t}(Kc),QU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this,i=new XMLSerializer,o=Tv(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(Kc),HU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Kc),w3=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t}(Kc),tfe=[{type:15,flags:0,unit:"px",number:3}],rfe=[{type:16,flags:0,number:50}],nfe=function(e){return e.width>e.height?new Hd(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Hd(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},sfe=function(e){var t=e.type===afe?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},o2="checkbox",l2="radio",afe="password",r_=707406591,yE=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=sfe(n),(s.type===o2||s.type===l2)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=nfe(s.bounds)),s.type){case o2:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=tfe;break;case l2:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=rfe;break}return s}return t}(Kc),VU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return t}(Kc),KU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Kc),zU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=GU(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Wp(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):kd.TRANSPARENT,o=n.contentWindow.document.body?Wp(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):kd.TRANSPARENT;s.backgroundColor=vA(i)?vA(o)?s.styles.backgroundColor:o:i}}catch{}return s}return t}(Kc),ife=["OL","UL","MENU"],Yy=function(e,t,r,n){for(var s=t.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,$U(s)&&s.data.trim().length>0)r.textNodes.push(new Yhe(e,s,r.styles));else if(s0(s))if(ZU(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return Yy(e,l,r,n)});else{var o=WU(e,s);o.styles.isVisible()&&(ofe(s,o,n)?o.flags|=4:lfe(o.styles)&&(o.flags|=2),ife.indexOf(s.tagName)!==-1&&(o.flags|=8),r.elements.push(o),s.slot,s.shadowRoot?Yy(e,s.shadowRoot,o,n):!c2(s)&&!qU(s)&&!d2(s)&&Yy(e,s,o,n))}},WU=function(e,t){return b3(t)?new MU(e,t):XU(t)?new UU(e,t):qU(t)?new QU(e,t):cfe(t)?new HU(e,t):dfe(t)?new w3(e,t):ufe(t)?new yE(e,t):d2(t)?new VU(e,t):c2(t)?new KU(e,t):YU(t)?new zU(e,t):new Kc(e,t)},GU=function(e,t){var r=WU(e,t);return r.flags|=4,Yy(e,t,r,r),r},ofe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||wE(e)&&r.styles.isTransparent()},lfe=function(e){return e.isPositioned()||e.isFloating()},$U=function(e){return e.nodeType===Node.TEXT_NODE},s0=function(e){return e.nodeType===Node.ELEMENT_NODE},v3=function(e){return s0(e)&&typeof e.style<"u"&&!Zy(e)},Zy=function(e){return typeof e.className=="object"},cfe=function(e){return e.tagName==="LI"},dfe=function(e){return e.tagName==="OL"},ufe=function(e){return e.tagName==="INPUT"},Afe=function(e){return e.tagName==="HTML"},qU=function(e){return e.tagName==="svg"},wE=function(e){return e.tagName==="BODY"},XU=function(e){return e.tagName==="CANVAS"},n_=function(e){return e.tagName==="VIDEO"},b3=function(e){return e.tagName==="IMG"},YU=function(e){return e.tagName==="IFRAME"},s_=function(e){return e.tagName==="STYLE"},hfe=function(e){return e.tagName==="SCRIPT"},c2=function(e){return e.tagName==="TEXTAREA"},d2=function(e){return e.tagName==="SELECT"},ZU=function(e){return e.tagName==="SLOT"},a_=function(e){return e.tagName.indexOf("-")>0},ffe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,i=!0;n!==null&&n.forEach(function(l){var d=r.counters[l.counter];d&&l.increment!==0&&(i=!1,d.length||d.push(1),d[Math.max(0,d.length-1)]+=l.increment)});var o=[];return i&&s.forEach(function(l){var d=r.counters[l.counter];o.push(l.counter),d||(d=r.counters[l.counter]=[]),d.push(l.reset)}),o},e}(),i_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},o_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},mfe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},pfe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},kf=function(e,t,r,n,s,i){return e<t||e>r?Wg(e,s,i.length>0):n.integers.reduce(function(o,l,d){for(;e>=l;)e-=l,o+=n.values[d];return o},"")+i},JU=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},Ds=function(e,t,r,n,s){var i=r-t+1;return(e<0?"-":"")+(JU(Math.abs(e),i,n,function(o){return Rs(Math.floor(o%i)+t)})+s)},JA=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return JU(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},Qf=1,ju=2,Iu=4,Cp=8,hd=function(e,t,r,n,s,i){if(e<-9999||e>9999)return Wg(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return t[0]+l;for(var d=0;o>0&&d<=4;d++){var u=o%10;u===0&&oa(i,Qf)&&l!==""?l=t[u]+l:u>1||u===1&&d===0||u===1&&d===1&&oa(i,ju)||u===1&&d===1&&oa(i,Iu)&&e>100||u===1&&d>1&&oa(i,Cp)?l=t[u]+(d>0?r[d-1]:"")+l:u===1&&d>0&&(l=r[d-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},l_="十百千萬",c_="拾佰仟萬",d_="マイナス",oC="마이너스",Wg=function(e,t,r){var n=r?". ":"",s=r?"、":"",i=r?", ":"",o=r?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=Ds(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return JA(e,"〇一二三四五六七八九",s);case 6:return kf(e,1,3999,i_,3,n).toLowerCase();case 7:return kf(e,1,3999,i_,3,n);case 8:return Ds(e,945,969,!1,n);case 9:return Ds(e,97,122,!1,n);case 10:return Ds(e,65,90,!1,n);case 11:return Ds(e,1632,1641,!0,n);case 12:case 49:return kf(e,1,9999,o_,3,n);case 35:return kf(e,1,9999,o_,3,n).toLowerCase();case 13:return Ds(e,2534,2543,!0,n);case 14:case 30:return Ds(e,6112,6121,!0,n);case 15:return JA(e,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return JA(e,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return hd(e,"零一二三四五六七八九",l_,"負",s,ju|Iu|Cp);case 47:return hd(e,"零壹貳參肆伍陸柒捌玖",c_,"負",s,Qf|ju|Iu|Cp);case 42:return hd(e,"零一二三四五六七八九",l_,"负",s,ju|Iu|Cp);case 41:return hd(e,"零壹贰叁肆伍陆柒捌玖",c_,"负",s,Qf|ju|Iu|Cp);case 26:return hd(e,"〇一二三四五六七八九","十百千万",d_,s,0);case 25:return hd(e,"零壱弐参四伍六七八九","拾百千万",d_,s,Qf|ju|Iu);case 31:return hd(e,"영일이삼사오육칠팔구","십백천만",oC,i,Qf|ju|Iu);case 33:return hd(e,"零一二三四五六七八九","十百千萬",oC,i,0);case 32:return hd(e,"零壹貳參四五六七八九","拾百千",oC,i,Qf|ju|Iu);case 18:return Ds(e,2406,2415,!0,n);case 20:return kf(e,1,19999,pfe,3,n);case 21:return Ds(e,2790,2799,!0,n);case 22:return Ds(e,2662,2671,!0,n);case 22:return kf(e,1,10999,mfe,3,n);case 23:return JA(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return JA(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ds(e,3302,3311,!0,n);case 28:return JA(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return JA(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return Ds(e,3792,3801,!0,n);case 37:return Ds(e,6160,6169,!0,n);case 38:return Ds(e,4160,4169,!0,n);case 39:return Ds(e,2918,2927,!0,n);case 40:return Ds(e,1776,1785,!0,n);case 43:return Ds(e,3046,3055,!0,n);case 44:return Ds(e,3174,3183,!0,n);case 45:return Ds(e,3664,3673,!0,n);case 46:return Ds(e,3872,3881,!0,n);case 3:default:return Ds(e,48,57,!0,n)}},e9="data-html2canvas-ignore",u_=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new ffe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=gfe(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=s.contentWindow,d=l.document,u=wfe(s).then(function(){return yi(n,void 0,void 0,function(){var h,m;return ti(this,function(y){switch(y.label){case 0:return this.scrolledElements.forEach(Nfe),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),h=this.options.onclone,m=this.clonedReferenceElement,typeof m>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:d.fonts&&d.fonts.ready?[4,d.fonts.ready]:[3,2];case 1:y.sent(),y.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,yfe(d)]:[3,4];case 3:y.sent(),y.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(d,m)}).then(function(){return s})]:[2,s]}})})});return d.open(),d.write(bfe(document.doctype)+"<html></html>"),Cfe(this.referenceElement.ownerDocument,i,o),d.replaceChild(d.adoptNode(this.documentElement),d.documentElement),d.close(),u},e.prototype.createElementClone=function(t){if(x3(t,2))debugger;if(XU(t))return this.createCanvasClone(t);if(n_(t))return this.createVideoClone(t);if(s_(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return b3(r)&&(b3(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),a_(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return lC(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var i=t.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var d=l.getContextAttributes();(d==null?void 0:d.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!s0(r)||!hfe(r)&&!r.hasAttribute(e9)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!s0(r)||!s_(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(s0(i)&&ZU(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},e.prototype.cloneNode=function(t,r){if($U(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&s0(t)&&(v3(t)||Zy(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var i=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&v3(s)&&(this.clonedReferenceElement=s),wE(s)&&Efe(s);var d=this.counters.parse(new Hk(this.context,i)),u=this.resolvePseudoContent(t,s,o,qp.BEFORE);a_(t)&&(r=!0),n_(t)||this.cloneChildNodes(t,s,r),u&&s.insertBefore(u,s.firstChild);var h=this.resolvePseudoContent(t,s,l,qp.AFTER);return h&&s.appendChild(h),this.counters.pop(d),(i&&(this.options.copyStyles||Zy(t))&&!YU(t)||r)&&lC(i,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(c2(t)||d2(t))&&(c2(s)||d2(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Hk(this.context,n));var d=new che(this.context,n),u=l.createElement("html2canvaspseudoelement");lC(n,u),d.content.forEach(function(m){if(m.type===0)u.appendChild(l.createTextNode(m.value));else if(m.type===22){var y=l.createElement("img");y.src=m.value,y.style.opacity="1",u.appendChild(y)}else if(m.type===18){if(m.name==="attr"){var p=m.values.filter(Ln);p.length&&u.appendChild(l.createTextNode(t.getAttribute(p[0].value)||""))}else if(m.name==="counter"){var b=m.values.filter(im),N=b[0],S=b[1];if(N&&Ln(N)){var w=i.counters.getCounterValue(N.value),B=S&&Ln(S)?g3.parse(i.context,S.value):3;u.appendChild(l.createTextNode(Wg(w,B,!1)))}}else if(m.name==="counters"){var I=m.values.filter(im),N=I[0],_=I[1],S=I[2];if(N&&Ln(N)){var P=i.counters.getCounterValues(N.value),H=S&&Ln(S)?g3.parse(i.context,S.value):3,D=_&&_.type===0?_.value:"",L=P.map(function(M){return Wg(M,H,!1)}).join(D);u.appendChild(l.createTextNode(L))}}}else if(m.type===20)switch(m.value){case"open-quote":u.appendChild(l.createTextNode(Qk(d.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(Qk(d.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(m.value))}}),u.className=C3+" "+N3;var h=s===qp.BEFORE?" "+C3:" "+N3;return Zy(r)?r.className.baseValue+=h:r.className+=h,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),qp;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(qp||(qp={}));var gfe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(e9,"true"),e.body.appendChild(r),r},xfe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},yfe=function(e){return Promise.all([].slice.call(e.images,0).map(xfe))},wfe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},vfe=["all","d","content"],lC=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);vfe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},bfe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Cfe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},Nfe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},Bfe=":before",Sfe=":after",C3="___html2canvas___pseudoelement_before",N3="___html2canvas___pseudoelement_after",A_=`{
    content: "" !important;
    display: none !important;
}`,Efe=function(e){jfe(e,"."+C3+Bfe+A_+`
         .`+N3+Sfe+A_)},jfe=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},t9=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Ife=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(dC(t)||Tfe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return yi(this,void 0,void 0,function(){var r,n,s,i,o=this;return ti(this,function(l){switch(l.label){case 0:return r=t9.isSameOrigin(t),n=!cC(t)&&this._options.useCORS===!0&&Ta.SUPPORT_CORS_IMAGES&&!r,s=!cC(t)&&!r&&!dC(t)&&typeof this._options.proxy=="string"&&Ta.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!cC(t)&&!dC(t)&&!s&&!n?[2]:(i=t,s?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(d,u){var h=new Image;h.onload=function(){return d(h)},h.onerror=u,(Lfe(i)||n)&&(h.crossOrigin="anonymous"),h.src=i,h.complete===!0&&setTimeout(function(){return d(h)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(i,o){var l=Ta.SUPPORT_RESPONSE_TYPE?"blob":"text",d=new XMLHttpRequest;d.onload=function(){if(d.status===200)if(l==="text")i(d.response);else{var m=new FileReader;m.addEventListener("load",function(){return i(m.result)},!1),m.addEventListener("error",function(y){return o(y)},!1),m.readAsDataURL(d.response)}else o("Failed to proxy resource "+s+" with status code "+d.status)},d.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(d.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&d instanceof XMLHttpRequest&&(d.responseType=l),r._options.imageTimeout){var h=r._options.imageTimeout;d.timeout=h,d.ontimeout=function(){return o("Timed out ("+h+"ms) proxying "+s)}}d.send()})},e}(),Ffe=/^data:image\/svg\+xml/i,kfe=/^data:image\/.*;base64,/i,_fe=/^data:image\/.*/i,Tfe=function(e){return Ta.SUPPORT_SVG_DRAWING||!Pfe(e)},cC=function(e){return _fe.test(e)},Lfe=function(e){return kfe.test(e)},dC=function(e){return e.substr(0,4)==="blob"},Pfe=function(e){return e.substr(-3).toLowerCase()==="svg"||Ffe.test(e)},jt=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),_f=function(e,t,r){return new jt(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},sy=function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=_f(this.start,this.startControl,t),s=_f(this.startControl,this.endControl,t),i=_f(this.endControl,this.end,t),o=_f(n,s,t),l=_f(s,i,t),d=_f(o,l,t);return r?new e(this.start,n,o,d):new e(d,l,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),sl=function(e){return e.type===1},Dfe=function(){function e(t){var r=t.styles,n=t.bounds,s=vp(r.borderTopLeftRadius,n.width,n.height),i=s[0],o=s[1],l=vp(r.borderTopRightRadius,n.width,n.height),d=l[0],u=l[1],h=vp(r.borderBottomRightRadius,n.width,n.height),m=h[0],y=h[1],p=vp(r.borderBottomLeftRadius,n.width,n.height),b=p[0],N=p[1],S=[];S.push((i+d)/n.width),S.push((b+m)/n.width),S.push((o+N)/n.height),S.push((u+y)/n.height);var w=Math.max.apply(Math,S);w>1&&(i/=w,o/=w,d/=w,u/=w,m/=w,y/=w,b/=w,N/=w);var B=n.width-d,I=n.height-y,_=n.width-m,P=n.height-N,H=r.borderTopWidth,D=r.borderRightWidth,L=r.borderBottomWidth,T=r.borderLeftWidth,z=Vn(r.paddingTop,t.bounds.width),M=Vn(r.paddingRight,t.bounds.width),V=Vn(r.paddingBottom,t.bounds.width),J=Vn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?ls(n.left+T/3,n.top+H/3,i-T/3,o-H/3,xn.TOP_LEFT):new jt(n.left+T/3,n.top+H/3),this.topRightBorderDoubleOuterBox=i>0||o>0?ls(n.left+B,n.top+H/3,d-D/3,u-H/3,xn.TOP_RIGHT):new jt(n.left+n.width-D/3,n.top+H/3),this.bottomRightBorderDoubleOuterBox=m>0||y>0?ls(n.left+_,n.top+I,m-D/3,y-L/3,xn.BOTTOM_RIGHT):new jt(n.left+n.width-D/3,n.top+n.height-L/3),this.bottomLeftBorderDoubleOuterBox=b>0||N>0?ls(n.left+T/3,n.top+P,b-T/3,N-L/3,xn.BOTTOM_LEFT):new jt(n.left+T/3,n.top+n.height-L/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?ls(n.left+T*2/3,n.top+H*2/3,i-T*2/3,o-H*2/3,xn.TOP_LEFT):new jt(n.left+T*2/3,n.top+H*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?ls(n.left+B,n.top+H*2/3,d-D*2/3,u-H*2/3,xn.TOP_RIGHT):new jt(n.left+n.width-D*2/3,n.top+H*2/3),this.bottomRightBorderDoubleInnerBox=m>0||y>0?ls(n.left+_,n.top+I,m-D*2/3,y-L*2/3,xn.BOTTOM_RIGHT):new jt(n.left+n.width-D*2/3,n.top+n.height-L*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||N>0?ls(n.left+T*2/3,n.top+P,b-T*2/3,N-L*2/3,xn.BOTTOM_LEFT):new jt(n.left+T*2/3,n.top+n.height-L*2/3),this.topLeftBorderStroke=i>0||o>0?ls(n.left+T/2,n.top+H/2,i-T/2,o-H/2,xn.TOP_LEFT):new jt(n.left+T/2,n.top+H/2),this.topRightBorderStroke=i>0||o>0?ls(n.left+B,n.top+H/2,d-D/2,u-H/2,xn.TOP_RIGHT):new jt(n.left+n.width-D/2,n.top+H/2),this.bottomRightBorderStroke=m>0||y>0?ls(n.left+_,n.top+I,m-D/2,y-L/2,xn.BOTTOM_RIGHT):new jt(n.left+n.width-D/2,n.top+n.height-L/2),this.bottomLeftBorderStroke=b>0||N>0?ls(n.left+T/2,n.top+P,b-T/2,N-L/2,xn.BOTTOM_LEFT):new jt(n.left+T/2,n.top+n.height-L/2),this.topLeftBorderBox=i>0||o>0?ls(n.left,n.top,i,o,xn.TOP_LEFT):new jt(n.left,n.top),this.topRightBorderBox=d>0||u>0?ls(n.left+B,n.top,d,u,xn.TOP_RIGHT):new jt(n.left+n.width,n.top),this.bottomRightBorderBox=m>0||y>0?ls(n.left+_,n.top+I,m,y,xn.BOTTOM_RIGHT):new jt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=b>0||N>0?ls(n.left,n.top+P,b,N,xn.BOTTOM_LEFT):new jt(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?ls(n.left+T,n.top+H,Math.max(0,i-T),Math.max(0,o-H),xn.TOP_LEFT):new jt(n.left+T,n.top+H),this.topRightPaddingBox=d>0||u>0?ls(n.left+Math.min(B,n.width-D),n.top+H,B>n.width+D?0:Math.max(0,d-D),Math.max(0,u-H),xn.TOP_RIGHT):new jt(n.left+n.width-D,n.top+H),this.bottomRightPaddingBox=m>0||y>0?ls(n.left+Math.min(_,n.width-T),n.top+Math.min(I,n.height-L),Math.max(0,m-D),Math.max(0,y-L),xn.BOTTOM_RIGHT):new jt(n.left+n.width-D,n.top+n.height-L),this.bottomLeftPaddingBox=b>0||N>0?ls(n.left+T,n.top+Math.min(P,n.height-L),Math.max(0,b-T),Math.max(0,N-L),xn.BOTTOM_LEFT):new jt(n.left+T,n.top+n.height-L),this.topLeftContentBox=i>0||o>0?ls(n.left+T+J,n.top+H+z,Math.max(0,i-(T+J)),Math.max(0,o-(H+z)),xn.TOP_LEFT):new jt(n.left+T+J,n.top+H+z),this.topRightContentBox=d>0||u>0?ls(n.left+Math.min(B,n.width+T+J),n.top+H+z,B>n.width+T+J?0:d-T+J,u-(H+z),xn.TOP_RIGHT):new jt(n.left+n.width-(D+M),n.top+H+z),this.bottomRightContentBox=m>0||y>0?ls(n.left+Math.min(_,n.width-(T+J)),n.top+Math.min(I,n.height+H+z),Math.max(0,m-(D+M)),y-(L+V),xn.BOTTOM_RIGHT):new jt(n.left+n.width-(D+M),n.top+n.height-(L+V)),this.bottomLeftContentBox=b>0||N>0?ls(n.left+T+J,n.top+P,Math.max(0,b-(T+J)),N-(L+V),xn.BOTTOM_LEFT):new jt(n.left+T+J,n.top+n.height-(L+V))}return e}(),xn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(xn||(xn={}));var ls=function(e,t,r,n,s){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,d=e+r,u=t+n;switch(s){case xn.TOP_LEFT:return new sy(new jt(e,u),new jt(e,u-l),new jt(d-o,t),new jt(d,t));case xn.TOP_RIGHT:return new sy(new jt(e,t),new jt(e+o,t),new jt(d,u-l),new jt(d,u));case xn.BOTTOM_RIGHT:return new sy(new jt(d,t),new jt(d,t+l),new jt(e+o,u),new jt(e,u));case xn.BOTTOM_LEFT:default:return new sy(new jt(d,u),new jt(d-o,u),new jt(e,t+l),new jt(e,t))}},u2=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Ofe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},A2=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Rfe=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),ay=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),Mfe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),Ufe=function(e){return e.type===0},r9=function(e){return e.type===1},Qfe=function(e){return e.type===2},h_=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},Hfe=function(e,t,r,n,s){return e.map(function(i,o){switch(o){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+s);case 3:return i.add(t,r+s)}return i})},n9=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),s9=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new Dfe(this.container),this.container.styles.opacity<1&&this.effects.push(new Mfe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Rfe(n,s,i))}if(this.container.styles.overflowX!==0){var o=u2(this.curves),l=A2(this.curves);h_(o,l)?this.effects.push(new ay(o,6)):(this.effects.push(new ay(o,2)),this.effects.push(new ay(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(d){return!r9(d)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=u2(n.curves),l=A2(n.curves);h_(o,l)||s.unshift(new ay(l,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(d){return oa(d.target,t)})},e}(),B3=function(e,t,r,n){e.container.elements.forEach(function(s){var i=oa(s.flags,4),o=oa(s.flags,2),l=new s9(s,e);oa(s.styles.display,2048)&&n.push(l);var d=oa(s.flags,8)?[]:n;if(i||o){var u=i||s.styles.isPositioned()?r:t,h=new n9(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var m=s.styles.zIndex.order;if(m<0){var y=0;u.negativeZIndex.some(function(b,N){return m>b.element.container.styles.zIndex.order?(y=N,!1):y>0}),u.negativeZIndex.splice(y,0,h)}else if(m>0){var p=0;u.positiveZIndex.some(function(b,N){return m>=b.element.container.styles.zIndex.order?(p=N+1,!1):p>0}),u.positiveZIndex.splice(p,0,h)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else s.styles.isFloating()?u.nonPositionedFloats.push(h):u.nonPositionedInlineLevel.push(h);B3(l,h,i?h:r,d)}else s.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),B3(l,t,r,d);oa(s.flags,8)&&a9(s,d)})},a9=function(e,t){for(var r=e instanceof w3?e.start:1,n=e instanceof w3?e.reversed:!1,s=0;s<t.length;s++){var i=t[s];i.container instanceof HU&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Wg(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},Vfe=function(e){var t=new s9(e,null),r=new n9(t),n=[];return B3(t,r,r,n),a9(t.container,n),r},f_=function(e,t){switch(t){case 0:return ll(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ll(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ll(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ll(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Kfe=function(e,t){switch(t){case 0:return ll(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ll(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ll(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ll(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},zfe=function(e,t){switch(t){case 0:return ll(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ll(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ll(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ll(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wfe=function(e,t){switch(t){case 0:return iy(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return iy(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return iy(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return iy(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},iy=function(e,t){var r=[];return sl(e)?r.push(e.subdivide(.5,!1)):r.push(e),sl(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},ll=function(e,t,r,n){var s=[];return sl(e)?s.push(e.subdivide(.5,!1)):s.push(e),sl(r)?s.push(r.subdivide(.5,!0)):s.push(r),sl(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),sl(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},i9=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},h2=function(e){var t=e.styles,r=e.bounds,n=Vn(t.paddingLeft,r.width),s=Vn(t.paddingRight,r.width),i=Vn(t.paddingTop,r.width),o=Vn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+i+o))},Gfe=function(e,t){return e===0?t.bounds:e===2?h2(t):i9(t)},$fe=function(e,t){return e===0?t.bounds:e===2?h2(t):i9(t)},uC=function(e,t,r){var n=Gfe(Hf(e.styles.backgroundOrigin,t),e),s=$fe(Hf(e.styles.backgroundClip,t),e),i=qfe(Hf(e.styles.backgroundSize,t),r,n),o=i[0],l=i[1],d=vp(Hf(e.styles.backgroundPosition,t),n.width-o,n.height-l),u=Xfe(Hf(e.styles.backgroundRepeat,t),d,i,n,s),h=Math.round(n.left+d[0]),m=Math.round(n.top+d[1]);return[u,h,m,o,l]},Tf=function(e){return Ln(e)&&e.value===E0.AUTO},oy=function(e){return typeof e=="number"},qfe=function(e,t,r){var n=t[0],s=t[1],i=t[2],o=e[0],l=e[1];if(!o)return[0,0];if($s(o)&&l&&$s(l))return[Vn(o,r.width),Vn(l,r.height)];var d=oy(i);if(Ln(o)&&(o.value===E0.CONTAIN||o.value===E0.COVER)){if(oy(i)){var u=r.width/r.height;return u<i!=(o.value===E0.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var h=oy(n),m=oy(s),y=h||m;if(Tf(o)&&(!l||Tf(l))){if(h&&m)return[n,s];if(!d&&!y)return[r.width,r.height];if(y&&d){var p=h?n:s*i,b=m?s:n/i;return[p,b]}var N=h?n:r.width,S=m?s:r.height;return[N,S]}if(d){var w=0,B=0;return $s(o)?w=Vn(o,r.width):$s(l)&&(B=Vn(l,r.height)),Tf(o)?w=B*i:(!l||Tf(l))&&(B=w/i),[w,B]}var I=null,_=null;if($s(o)?I=Vn(o,r.width):l&&$s(l)&&(_=Vn(l,r.height)),I!==null&&(!l||Tf(l))&&(_=h&&m?I/n*s:r.height),_!==null&&Tf(o)&&(I=h&&m?_/s*n:r.width),I!==null&&_!==null)return[I,_];throw new Error("Unable to calculate background-size for element")},Hf=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},Xfe=function(e,t,r,n,s){var i=t[0],o=t[1],l=r[0],d=r[1];switch(e){case 2:return[new jt(Math.round(n.left),Math.round(n.top+o)),new jt(Math.round(n.left+n.width),Math.round(n.top+o)),new jt(Math.round(n.left+n.width),Math.round(d+n.top+o)),new jt(Math.round(n.left),Math.round(d+n.top+o))];case 3:return[new jt(Math.round(n.left+i),Math.round(n.top)),new jt(Math.round(n.left+i+l),Math.round(n.top)),new jt(Math.round(n.left+i+l),Math.round(n.height+n.top)),new jt(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new jt(Math.round(n.left+i),Math.round(n.top+o)),new jt(Math.round(n.left+i+l),Math.round(n.top+o)),new jt(Math.round(n.left+i+l),Math.round(n.top+o+d)),new jt(Math.round(n.left+i),Math.round(n.top+o+d))];default:return[new jt(Math.round(s.left),Math.round(s.top)),new jt(Math.round(s.left+s.width),Math.round(s.top)),new jt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new jt(Math.round(s.left),Math.round(s.height+s.top))]}},Yfe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",m_="Hidden Text",Zfe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),s.src=Yfe,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(m_)),n.appendChild(i),n.appendChild(s);var l=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(m_)),n.style.lineHeight="normal",s.style.verticalAlign="super";var d=s.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:d}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),o9=function(){function e(t,r){this.context=t,this.options=r}return e}(),Jfe=1e4,e0e=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new Zfe(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),Qfe(r)&&(this.ctx.globalAlpha=r.opacity),Ufe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),r9(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return yi(this,void 0,void 0,function(){var n;return ti(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return yi(this,void 0,void 0,function(){return ti(this,function(n){switch(n.label){case 0:if(oa(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var o=xE(r.text);o.reduce(function(l,d){return i.ctx.fillText(d,l,r.bounds.top+s),l+i.ctx.measureText(d).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=a0e(r.fontFamily).join(", "),i=B1(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},t.prototype.renderTextNode=function(r,n){return yi(this,void 0,void 0,function(){var s,i,o,l,d,u,h,m,y=this;return ti(this,function(p){return s=this.createFontStyle(n),i=s[0],o=s[1],l=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",d=this.fontMetrics.getMetrics(o,l),u=d.baseline,h=d.middle,m=n.paintOrder,r.textBounds.forEach(function(b){m.forEach(function(N){switch(N){case 0:y.ctx.fillStyle=fa(n.color),y.renderTextWithLetterSpacing(b,n.letterSpacing,u);var S=n.textShadow;S.length&&b.text.trim().length&&(S.slice(0).reverse().forEach(function(w){y.ctx.shadowColor=fa(w.color),y.ctx.shadowOffsetX=w.offsetX.number*y.options.scale,y.ctx.shadowOffsetY=w.offsetY.number*y.options.scale,y.ctx.shadowBlur=w.blur.number,y.renderTextWithLetterSpacing(b,n.letterSpacing,u)}),y.ctx.shadowColor="",y.ctx.shadowOffsetX=0,y.ctx.shadowOffsetY=0,y.ctx.shadowBlur=0),n.textDecorationLine.length&&(y.ctx.fillStyle=fa(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:y.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:y.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:y.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+h),b.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&b.text.trim().length&&(y.ctx.strokeStyle=fa(n.webkitTextStrokeColor),y.ctx.lineWidth=n.webkitTextStrokeWidth,y.ctx.lineJoin=window.chrome?"miter":"round",y.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),y.ctx.strokeStyle="",y.ctx.lineWidth=0,y.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=h2(r),o=A2(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return yi(this,void 0,void 0,function(){var n,s,i,o,l,d,B,B,u,h,m,y,_,p,b,P,N,S,w,B,I,_,P;return ti(this,function(H){switch(H.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,o=0,l=n.textNodes,H.label=1;case 1:return o<l.length?(d=l[o],[4,this.renderTextNode(d,i)]):[3,4];case 2:H.sent(),H.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof MU))return[3,8];H.label=5;case 5:return H.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return B=H.sent(),this.renderReplacedElement(n,s,B),[3,8];case 7:return H.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof UU&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof QU))return[3,12];H.label=9;case 9:return H.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return B=H.sent(),this.renderReplacedElement(n,s,B),[3,12];case 11:return H.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof zU&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:h=H.sent(),n.width&&n.height&&this.ctx.drawImage(h,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),H.label=14;case 14:if(n instanceof yE&&(m=Math.min(n.bounds.width,n.bounds.height),n.type===o2?n.checked&&(this.ctx.save(),this.path([new jt(n.bounds.left+m*.39363,n.bounds.top+m*.79),new jt(n.bounds.left+m*.16,n.bounds.top+m*.5549),new jt(n.bounds.left+m*.27347,n.bounds.top+m*.44071),new jt(n.bounds.left+m*.39694,n.bounds.top+m*.5649),new jt(n.bounds.left+m*.72983,n.bounds.top+m*.23),new jt(n.bounds.left+m*.84,n.bounds.top+m*.34085),new jt(n.bounds.left+m*.39363,n.bounds.top+m*.79)]),this.ctx.fillStyle=fa(r_),this.ctx.fill(),this.ctx.restore()):n.type===l2&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+m/2,n.bounds.top+m/2,m/4,0,Math.PI*2,!0),this.ctx.fillStyle=fa(r_),this.ctx.fill(),this.ctx.restore())),t0e(n)&&n.value.length){switch(y=this.createFontStyle(i),_=y[0],p=y[1],b=this.fontMetrics.getMetrics(_,p).baseline,this.ctx.font=_,this.ctx.fillStyle=fa(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=n0e(n.styles.textAlign),P=h2(n),N=0,n.styles.textAlign){case 1:N+=P.width/2;break;case 2:N+=P.width;break}S=P.add(N,0,0,-P.height/2+1),this.ctx.save(),this.path([new jt(P.left,P.top),new jt(P.left+P.width,P.top),new jt(P.left+P.width,P.top+P.height),new jt(P.left,P.top+P.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new $p(n.value,S),i.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!oa(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];B=void 0,I=w.url,H.label=15;case 15:return H.trys.push([15,17,,18]),[4,this.context.cache.match(I)];case 16:return B=H.sent(),this.ctx.drawImage(B,n.bounds.left-(B.width+10),n.bounds.top),[3,18];case 17:return H.sent(),this.context.logger.error("Error loading list-style-image "+I),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(i)[0],this.ctx.font=_,this.ctx.fillStyle=fa(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",P=new Hd(n.bounds.left,n.bounds.top+Vn(n.styles.paddingTop,n.bounds.width),n.bounds.width,Mk(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new $p(r.listValue,P),i.letterSpacing,Mk(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),H.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return yi(this,void 0,void 0,function(){var n,s,w,i,o,w,l,d,w,u,h,w,m,y,w,p,b,w,N,S,w;return ti(this,function(B){switch(B.label){case 0:if(oa(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:B.sent(),n=0,s=r.negativeZIndex,B.label=2;case 2:return n<s.length?(w=s[n],[4,this.renderStack(w)]):[3,5];case 3:B.sent(),B.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:B.sent(),i=0,o=r.nonInlineLevel,B.label=7;case 7:return i<o.length?(w=o[i],[4,this.renderNode(w)]):[3,10];case 8:B.sent(),B.label=9;case 9:return i++,[3,7];case 10:l=0,d=r.nonPositionedFloats,B.label=11;case 11:return l<d.length?(w=d[l],[4,this.renderStack(w)]):[3,14];case 12:B.sent(),B.label=13;case 13:return l++,[3,11];case 14:u=0,h=r.nonPositionedInlineLevel,B.label=15;case 15:return u<h.length?(w=h[u],[4,this.renderStack(w)]):[3,18];case 16:B.sent(),B.label=17;case 17:return u++,[3,15];case 18:m=0,y=r.inlineLevel,B.label=19;case 19:return m<y.length?(w=y[m],[4,this.renderNode(w)]):[3,22];case 20:B.sent(),B.label=21;case 21:return m++,[3,19];case 22:p=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return p<b.length?(w=b[p],[4,this.renderStack(w)]):[3,26];case 24:B.sent(),B.label=25;case 25:return p++,[3,23];case 26:N=0,S=r.positiveZIndex,B.label=27;case 27:return N<S.length?(w=S[N],[4,this.renderStack(w)]):[3,30];case 28:B.sent(),B.label=29;case 29:return N++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var o=sl(s)?s.start:s;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),sl(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},t.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var d=l.getContext("2d");return d.drawImage(r,0,0,r.width,r.height,0,0,n,s),l},t.prototype.renderBackgroundImage=function(r){return yi(this,void 0,void 0,function(){var n,s,i,o,l,d;return ti(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,s=function(h){var m,y,p,z,q,X,J,Z,L,b,z,q,X,J,Z,N,S,w,B,I,_,P,H,D,L,T,z,M,V,J,Z,ee,q,X,Y,K,ce,oe,Q,G,te,se;return ti(this,function(de){switch(de.label){case 0:if(h.type!==0)return[3,5];m=void 0,y=h.url,de.label=1;case 1:return de.trys.push([1,3,,4]),[4,i.context.cache.match(y)];case 2:return m=de.sent(),[3,4];case 3:return de.sent(),i.context.logger.error("Error loading background-image "+y),[3,4];case 4:return m&&(p=uC(r,n,[m.width,m.height,m.width/m.height]),z=p[0],q=p[1],X=p[2],J=p[3],Z=p[4],L=i.ctx.createPattern(i.resizeImage(m,J,Z),"repeat"),i.renderRepeat(z,L,q,X)),[3,6];case 5:Uue(h)?(b=uC(r,n,[null,null,null]),z=b[0],q=b[1],X=b[2],J=b[3],Z=b[4],N=Pue(h.angle,J,Z),S=N[0],w=N[1],B=N[2],I=N[3],_=N[4],P=document.createElement("canvas"),P.width=J,P.height=Z,H=P.getContext("2d"),D=H.createLinearGradient(w,I,B,_),Ok(h.stops,S).forEach(function(ge){return D.addColorStop(ge.stop,fa(ge.color))}),H.fillStyle=D,H.fillRect(0,0,J,Z),J>0&&Z>0&&(L=i.ctx.createPattern(P,"repeat"),i.renderRepeat(z,L,q,X))):Que(h)&&(T=uC(r,n,[null,null,null]),z=T[0],M=T[1],V=T[2],J=T[3],Z=T[4],ee=h.position.length===0?[mE]:h.position,q=Vn(ee[0],J),X=Vn(ee[ee.length-1],Z),Y=Due(h,q,X,J,Z),K=Y[0],ce=Y[1],K>0&&ce>0&&(oe=i.ctx.createRadialGradient(M+q,V+X,0,M+q,V+X,K),Ok(h.stops,K*2).forEach(function(ge){return oe.addColorStop(ge.stop,fa(ge.color))}),i.path(z),i.ctx.fillStyle=oe,K!==ce?(Q=r.bounds.left+.5*r.bounds.width,G=r.bounds.top+.5*r.bounds.height,te=ce/K,se=1/te,i.ctx.save(),i.ctx.translate(Q,G),i.ctx.transform(1,0,0,te,0,0),i.ctx.translate(-Q,-G),i.ctx.fillRect(M,se*(V-G)+G,J,Z*se),i.ctx.restore()):i.ctx.fill())),de.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(d=l[o],[5,s(d)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return yi(this,void 0,void 0,function(){return ti(this,function(i){return this.path(f_(s,n)),this.ctx.fillStyle=fa(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,i){return yi(this,void 0,void 0,function(){var o,l;return ti(this,function(d){switch(d.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return d.sent(),[2];case 2:return o=Kfe(i,s),this.path(o),this.ctx.fillStyle=fa(r),this.ctx.fill(),l=zfe(i,s),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return yi(this,void 0,void 0,function(){var n,s,i,o,l,d,u,h,m=this;return ti(this,function(y){switch(y.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!vA(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=r0e(Hf(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),vA(n.backgroundColor)||(this.ctx.fillStyle=fa(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:y.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(p){m.ctx.save();var b=u2(r.curves),N=p.inset?0:Jfe,S=Hfe(b,-N+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(m.path(b),m.ctx.clip(),m.mask(S)):(m.mask(b),m.ctx.clip(),m.path(S)),m.ctx.shadowOffsetX=p.offsetX.number+N,m.ctx.shadowOffsetY=p.offsetY.number,m.ctx.shadowColor=fa(p.color),m.ctx.shadowBlur=p.blur.number,m.ctx.fillStyle=p.inset?fa(p.color):"rgba(0,0,0,1)",m.ctx.fill(),m.ctx.restore()}),y.label=2;case 2:l=0,d=0,u=i,y.label=3;case 3:return d<u.length?(h=u[d],h.style!==0&&!vA(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return y.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,l,r.curves,3)];case 6:return y.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,l,r.curves)];case 8:return y.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,l,r.curves)];case 10:y.sent(),y.label=11;case 11:l++,y.label=12;case 12:return d++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,i,o){return yi(this,void 0,void 0,function(){var l,d,u,h,m,y,p,b,N,S,w,B,I,_,P,H,P,H;return ti(this,function(D){return this.ctx.save(),l=Wfe(i,s),d=f_(i,s),o===2&&(this.path(d),this.ctx.clip()),sl(d[0])?(u=d[0].start.x,h=d[0].start.y):(u=d[0].x,h=d[0].y),sl(d[1])?(m=d[1].end.x,y=d[1].end.y):(m=d[1].x,y=d[1].y),s===0||s===2?p=Math.abs(u-m):p=Math.abs(h-y),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(d.slice(0,2)),b=n<3?n*3:n*2,N=n<3?n*2:n,o===3&&(b=n,N=n),S=!0,p<=b*2?S=!1:p<=b*2+N?(w=p/(2*b+N),b*=w,N*=w):(B=Math.floor((p+N)/(b+N)),I=(p-B*b)/(B-1),_=(p-(B+1)*b)/B,N=_<=0||Math.abs(N-I)<Math.abs(N-_)?I:_),S&&(o===3?this.ctx.setLineDash([0,b+N]):this.ctx.setLineDash([b,N])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=fa(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(sl(d[0])&&(P=d[3],H=d[0],this.ctx.beginPath(),this.formatPath([new jt(P.end.x,P.end.y),new jt(H.start.x,H.start.y)]),this.ctx.stroke()),sl(d[1])&&(P=d[1],H=d[2],this.ctx.beginPath(),this.formatPath([new jt(P.end.x,P.end.y),new jt(H.start.x,H.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return yi(this,void 0,void 0,function(){var n;return ti(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=fa(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Vfe(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(o9),t0e=function(e){return e instanceof KU||e instanceof VU?!0:e instanceof yE&&e.type!==l2&&e.type!==o2},r0e=function(e,t){switch(e){case 0:return u2(t);case 2:return Ofe(t);case 1:default:return A2(t)}},n0e=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},s0e=["-apple-system","system-ui"],a0e=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return s0e.indexOf(t)===-1}):e},i0e=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return yi(this,void 0,void 0,function(){var n,s;return ti(this,function(i){switch(i.label){case 0:return n=y3(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,o0e(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=fa(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(o9),o0e=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},l0e=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Mx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Mx([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Mx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Mx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),c0e=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new l0e({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new Ife(this,t)}return e.instanceCount=1,e}(),Vv=function(e,t){return t===void 0&&(t={}),d0e(e,t)};typeof window<"u"&&t9.setContext(window);var d0e=function(e,t){return yi(void 0,void 0,void 0,function(){var r,n,s,i,o,l,d,u,h,m,y,p,b,N,S,w,B,I,_,P,D,H,D,L,T,z,M,V,J,Z,ee,q,X,Y,K,ce,oe,Q,G,te;return ti(this,function(se){switch(se.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(L=t.allowTaint)!==null&&L!==void 0?L:!1,imageTimeout:(T=t.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:t.proxy,useCORS:(z=t.useCORS)!==null&&z!==void 0?z:!1},i=s3({logging:(M=t.logging)!==null&&M!==void 0?M:!0,cache:t.cache},s),o={windowWidth:(V=t.windowWidth)!==null&&V!==void 0?V:n.innerWidth,windowHeight:(J=t.windowHeight)!==null&&J!==void 0?J:n.innerHeight,scrollX:(Z=t.scrollX)!==null&&Z!==void 0?Z:n.pageXOffset,scrollY:(ee=t.scrollY)!==null&&ee!==void 0?ee:n.pageYOffset},l=new Hd(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),d=new c0e(i,l),u=(q=t.foreignObjectRendering)!==null&&q!==void 0?q:!1,h={allowTaint:(X=t.allowTaint)!==null&&X!==void 0?X:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},d.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),m=new u_(d,e,h),y=m.clonedReferenceElement,y?[4,m.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=se.sent(),b=wE(y)||Afe(y)?Hce(y.ownerDocument):Tv(d,y),N=b.width,S=b.height,w=b.left,B=b.top,I=u0e(d,y,t.backgroundColor),_={canvas:t.canvas,backgroundColor:I,scale:(K=(Y=t.scale)!==null&&Y!==void 0?Y:n.devicePixelRatio)!==null&&K!==void 0?K:1,x:((ce=t.x)!==null&&ce!==void 0?ce:0)+w,y:((oe=t.y)!==null&&oe!==void 0?oe:0)+B,width:(Q=t.width)!==null&&Q!==void 0?Q:Math.ceil(N),height:(G=t.height)!==null&&G!==void 0?G:Math.ceil(S)},u?(d.logger.debug("Document cloned, using foreign object rendering"),D=new i0e(d,_),[4,D.render(y)]):[3,3];case 2:return P=se.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+w+","+B+" with size "+N+"x"+S+" using computed rendering"),d.logger.debug("Starting DOM parsing"),H=GU(d,y),I===H.styles.backgroundColor&&(H.styles.backgroundColor=kd.TRANSPARENT),d.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),D=new e0e(d,_),[4,D.render(H)];case 4:P=se.sent(),se.label=5;case 5:return(!((te=t.removeContainer)!==null&&te!==void 0)||te)&&(u_.destroy(p)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,P]}})})},u0e=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?Wp(e,getComputedStyle(n.documentElement).backgroundColor):kd.TRANSPARENT,i=n.body?Wp(e,getComputedStyle(n.body).backgroundColor):kd.TRANSPARENT,o=typeof r=="string"?Wp(e,r):r===null?kd.TRANSPARENT:4294967295;return t===n.documentElement?vA(s)?vA(i)?o:i:s:o};const A0e=Object.freeze(Object.defineProperty({__proto__:null,default:Vv},Symbol.toStringTag,{value:"Module"})),p_=e=>new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),AC=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),h0e=({isOpen:e,onClose:t,studentId:r})=>{const[n,s]=C.useState(null),[i,o]=C.useState(!0),[l,d]=C.useState(null),u=C.useRef(null),h=C.useCallback(async()=>{if(r){o(!0),d(null);try{const N=await Re.getStudent(r),S={...N,name:N.name||"",email:N.email||"",phone:N.phone||"",address:N.address||"",membershipStart:N.membershipStart||new Date().toISOString(),membershipEnd:N.membershipEnd||new Date().toISOString(),status:N.status||"active",totalFee:N.totalFee??0,amountPaid:N.amountPaid??0,dueAmount:N.dueAmount??0,cash:N.cash??0,online:N.online??0,securityMoney:N.securityMoney??0,branchId:N.branchId??0,remark:N.remark||null,createdAt:N.createdAt||new Date().toISOString(),discount:0};N.discount!==void 0&&(S.discount=Number(N.discount)||0),s(S)}catch(N){console.error("Error fetching student data:",N),d("Failed to load student data"),Se.error("Failed to load student data")}finally{o(!1)}}},[r]);C.useEffect(()=>{e&&r&&h()},[e,r,h]);const m=qR.useReactToPrint({content:()=>u.current,onAfterPrint:()=>Se.success("Invoice printed successfully!"),pageStyle:`
      @page { 
        size: A4;
        margin: 10mm;
      }
      @media print {
        body { 
          -webkit-print-color-adjust: exact; 
        }
        .no-print { 
          display: none !important; 
        }
      }
    `,documentTitle:`Invoice_${(n==null?void 0:n.name)||"Student"}_${new Date().toISOString().split("T")[0]}`,removeAfterPrint:!1}),y=C.useCallback(async()=>{if(!u.current)return null;const N=u.current,w=(await Vv(N,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),B=new Zt("p","mm","a4"),I=B.getImageProperties(w),_=B.internal.pageSize.getWidth(),P=I.height*_/I.width;return B.addImage(w,"PNG",0,0,_,P),B},[]),p=C.useCallback(async()=>{if(n)try{const N=await y();if(!N)return;const S=`invoice_${n.name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;N.save(S),Se.success("Invoice downloaded as PDF!")}catch(N){console.error("Error generating PDF:",N),Se.error("Failed to generate PDF")}},[n,y]),b=C.useCallback(async()=>{if(n)try{const N=await y();if(!N)return;const S=N.output("blob"),w=URL.createObjectURL(S),B=document.createElement("a");B.href=w,B.download=`invoice_${n.name.replace(/\s+/g,"_")}.pdf`,document.body.appendChild(B),B.click(),document.body.removeChild(B),setTimeout(()=>URL.revokeObjectURL(w),100);const I=`Here's the invoice for ${n.name}`,_=`https://wa.me/?text=${encodeURIComponent(I)}`;window.open(_,"_blank"),Se.success("Downloaded PDF. Please attach it to WhatsApp.")}catch(N){console.error("Error sharing via WhatsApp:",N),Se.error("Failed to share via WhatsApp")}},[n,y]);return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75"}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 px-4 py-3 sm:px-6 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-white",children:n?`Invoice - ${n.name}`:"Invoice"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:m,className:"p-1 rounded-full text-white hover:bg-blue-700",children:a.jsx(OS,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-1 rounded-full text-white hover:bg-blue-700",children:a.jsx(eo,{className:"h-5 w-5"})})]})]}),a.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6",children:i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(ji,{className:"mx-auto h-12 w-12 text-red-500"}),a.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Error loading invoice"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l}),a.jsx("button",{onClick:h,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Retry"})]}):n?a.jsxs("div",{ref:u,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bill To:"}),a.jsx("p",{className:"text-gray-900",children:n.name}),n.fatherName&&a.jsxs("p",{className:"text-gray-600",children:["S/O ",n.fatherName]}),n.registrationNumber&&a.jsxs("p",{className:"text-gray-600",children:["Reg: ",n.registrationNumber]}),n.phone&&a.jsxs("p",{className:"text-gray-600 flex items-center",children:[a.jsx(di,{className:"h-4 w-4 mr-1"})," ",n.phone]}),n.email&&a.jsxs("p",{className:"text-gray-600 flex items-center",children:[a.jsx(Gl,{className:"h-4 w-4 mr-1"})," ",n.email]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Membership Period"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Start Date"}),a.jsx("p",{className:"text-sm font-medium",children:p_(n.membershipStart)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"End Date"}),a.jsx("p",{className:"text-sm font-medium",children:p_(n.membershipEnd)})]})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payment Summary"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Fee:"}),a.jsx("span",{className:"font-medium",children:AC(n.totalFee)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Amount Paid:"}),a.jsx("span",{className:"text-green-600",children:AC(n.amountPaid)})]}),a.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2",children:[a.jsx("span",{className:"font-medium",children:"Balance Due:"}),a.jsx("span",{className:"font-medium",children:AC(n.dueAmount)})]})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsxs("button",{onClick:p,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(em,{className:"h-4 w-4 mr-2"}),"Download"]}),a.jsxs("button",{onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:[a.jsx(ete,{className:"h-4 w-4 mr-2"}),"Share via WhatsApp"]})]})]}):null})]})]})}):null},f0e=Je.memo(h0e),g_=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",m0e=()=>{var me;const[e,t]=C.useState(null),[r,n]=C.useState([]),[s,i]=C.useState([]),[o,l]=C.useState(void 0),[d,u]=C.useState(!0),[h,m]=C.useState(""),[y,p]=C.useState(1),[b,N]=C.useState(10),[S,w]=C.useState(""),[B,I]=C.useState("");C.useState("desc");const[_,P]=C.useState("card"),[H,D]=C.useState(!1),[L,T]=C.useState("createdAt"),[z,M]=C.useState("desc"),[V,J]=C.useState(!1),[Z,ee]=C.useState(!1),[q,X]=C.useState(null),Y=Ur(),K=fl(),ce=Pe=>{X(Pe),ee(!0)},oe=()=>{J(!0)},Q=async()=>{try{const Pe=await Re.getLibraryProfile();t({id:Pe.library.id,library_code:Pe.library.libraryCode,name:Pe.library.libraryName})}catch(Pe){console.error("Error fetching library data:",Pe),Se.error("Failed to load library information")}};C.useEffect(()=>{Q()},[]);const G=async()=>{try{u(!0);const nt=(await Re.getStudents(S||void 0,B||void 0,o)).students.map(Xe=>{const We=new Date(Xe.membershipEnd)<new Date;return{...Xe,status:We?"expired":"active",createdAt:Xe.createdAt||"N/A",isActive:Xe.isActive}});n(nt)}catch(Pe){console.error("Failed to fetch students:",Pe.message),Se.error("Failed to fetch students")}finally{u(!1)}};C.useEffect(()=>{(async()=>{try{const nt=await Re.getBranches();i(nt||[])}catch(nt){console.error("Failed to fetch branches:",nt.message),Se.error("Failed to fetch branches"),i([])}})(),G(),Q()},[o,S,B]),C.useEffect(()=>{p(1)},[h,o,S,B]);const te=Pe=>{L===Pe?M(z==="asc"?"desc":"asc"):(T(Pe),M("asc"))},se=Pe=>L!==Pe?null:z==="asc"?a.jsx(hv,{size:16}):a.jsx(p1,{size:16}),de=async(Pe,nt)=>{const Xe=!nt,Ue=Xe?"activate":"deactivate";if(window.confirm(`Are you sure you want to ${Ue} this student?${Xe?"":`
This will unassign their seat.`}`))try{await Re.updateStudentStatus(Pe,{isActive:Xe}),Se.success(`Student ${Ue}d successfully`),G()}catch{Se.error(`Failed to ${Ue} student`)}},ue=Je.useMemo(()=>[...r].sort((Pe,nt)=>{var yt,We,Vt,Le,rt,mt,At,wt,Ft,xt,Rt,Ct,Kr,Gt;let Xe,Ue;switch(L){case"name":Xe=((yt=Pe.name)==null?void 0:yt.toLowerCase())||"",Ue=((We=nt.name)==null?void 0:We.toLowerCase())||"";break;case"registrationNumber":Xe=((Vt=Pe.registrationNumber)==null?void 0:Vt.toLowerCase())||"",Ue=((Le=nt.registrationNumber)==null?void 0:Le.toLowerCase())||"";break;case"phone":Xe=Pe.phone||"",Ue=nt.phone||"";break;case"status":Xe=((rt=Pe.status)==null?void 0:rt.toLowerCase())||"",Ue=((mt=nt.status)==null?void 0:mt.toLowerCase())||"";break;case"seat":Xe=((At=Pe.seatNumber)==null?void 0:At.toLowerCase())||((xt=(Ft=(wt=Pe.assignments)==null?void 0:wt[0])==null?void 0:Ft.seatNumber)==null?void 0:xt.toLowerCase())||"",Ue=((Rt=nt.seatNumber)==null?void 0:Rt.toLowerCase())||((Gt=(Kr=(Ct=nt.assignments)==null?void 0:Ct[0])==null?void 0:Kr.seatNumber)==null?void 0:Gt.toLowerCase())||"";break;case"createdAt":default:const $e=new Date(Pe.createdAt),It=new Date(nt.createdAt);Xe=isNaN($e.getTime())?0:$e.getTime(),Ue=isNaN(It.getTime())?0:It.getTime();break}return Xe<Ue?z==="asc"?-1:1:Xe>Ue?z==="asc"?1:-1:0}),[r,L,z]).filter(Pe=>Pe.name.toLowerCase().includes(h.toLowerCase())||Pe.phone.toLowerCase().includes(h.toLowerCase())||Pe.registrationNumber&&Pe.registrationNumber.toLowerCase().includes(h.toLowerCase())),Ee=y*b,ke=Ee-b,_e=ue.slice(ke,Ee),Oe=Math.ceil(ue.length/b),He=async Pe=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Re.deleteStudent(Pe),n(r.filter(nt=>nt.id!==Pe)),Se.success("Student deleted successfully")}catch(nt){console.error("Failed to delete student:",nt.message),Se.error("Failed to delete student")}},Ne=Pe=>{Y(`/students/${Pe}`)};return o&&((me=s.find(Pe=>Pe.id===o))==null||me.name),a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(an,{isCollapsed:H,setIsCollapsed:D,onBarcodeClick:oe}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"border-b bg-white/80 backdrop-blur-md",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex gap-3 overflow-x-auto py-3",children:[a.jsxs(Tt,{to:"/students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-indigo-50 via-sky-50 to-indigo-100 text-indigo-700 ring-1 ring-indigo-200/50 ${K.pathname.startsWith("/students")&&!K.pathname.startsWith("/students/")?"ring-2 ring-indigo-300":""}`,children:[a.jsx(ui,{className:"h-4 w-4"}),"All Students"]}),a.jsxs(Tt,{to:"/active-students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-emerald-50 via-teal-50 to-emerald-100 text-emerald-700 ring-1 ring-emerald-200/50 ${K.pathname.startsWith("/active-students")?"ring-2 ring-emerald-300":""}`,children:[a.jsx(Ii,{className:"h-4 w-4"}),"Active Students"]}),a.jsxs(Tt,{to:"/expired-memberships",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-rose-50 via-pink-50 to-rose-100 text-rose-700 ring-1 ring-rose-200/50 ${K.pathname.startsWith("/expired-memberships")?"ring-2 ring-rose-300":""}`,children:[a.jsx(na,{className:"h-4 w-4"}),"Expired Memberships"]}),a.jsxs(Tt,{to:"/expiring-memberships?range=1-2",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-amber-50 via-orange-50 to-amber-100 text-amber-700 ring-1 ring-amber-200/50 ${K.pathname.startsWith("/expiring-memberships")?"ring-2 ring-amber-300":""}`,children:[a.jsx(Zn,{className:"h-4 w-4"}),"Expiring 1–2 Days"]})]})})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"All Students"}),a.jsx("p",{className:"text-gray-500",children:"Manage all your students"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("h3",{className:"text-lg font-medium flex-1",children:"Students"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>P("list"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${_==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"List View",children:[a.jsx(kA,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"List"})]}),a.jsxs("button",{onClick:()=>P("card"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${_==="card"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Card View",children:[a.jsx(Qd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Cards"})]})]})]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:h,onChange:Pe=>m(Pe.target.value)})]})]}),a.jsxs("div",{className:"p-4 flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"Branch:"}),a.jsxs("select",{value:o??"",onChange:Pe=>l(Pe.target.value?Number(Pe.target.value):void 0),className:"p-2 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Branches"}),s.map(Pe=>a.jsx("option",{value:Pe.id,children:Pe.name},Pe.id))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"From:"}),a.jsx("input",{type:"date",value:S,onChange:Pe=>w(Pe.target.value),className:"p-2 border rounded"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"To:"}),a.jsx("input",{type:"date",value:B,onChange:Pe=>I(Pe.target.value),className:"p-2 border rounded"})]})]}),_==="list"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Zd,{children:[a.jsx(Jd,{children:a.jsxs(ks,{children:[a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>te("name"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Name"}),se("name")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>te("registrationNumber"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Registration"}),se("registrationNumber")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>te("phone"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Phone"}),se("phone")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>te("status"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Status"}),se("status")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>te("seat"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Seat"}),se("seat")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>te("createdAt"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Added On"}),se("createdAt")]})}),a.jsx(hr,{children:"Invoice"}),a.jsx(hr,{children:"Action"}),a.jsx(hr,{children:"Actions"})]})}),a.jsx(eu,{children:d?a.jsx(ks,{children:a.jsx(sr,{colSpan:9,className:"text-center py-8",children:"Loading..."})}):_e.length>0?_e.map(Pe=>{var nt,Xe;return a.jsxs(ks,{className:`${Pe.isActive?"":"bg-gray-100 text-gray-400"}`,children:[a.jsx(sr,{children:Pe.name}),a.jsx(sr,{children:Pe.registrationNumber||"N/A"}),a.jsx(sr,{children:Pe.phone}),a.jsx(sr,{children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Pe.isActive?Pe.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Pe.isActive?Pe.status==="active"?"Active":"Expired":"Inactive"})}),a.jsx(sr,{children:Pe.seatNumber||((Xe=(nt=Pe.assignments)==null?void 0:nt[0])==null?void 0:Xe.seatNumber)||"N/A"}),a.jsx(sr,{children:g_(Pe.createdAt)}),a.jsx(sr,{children:a.jsxs("button",{onClick:()=>ce(Pe.id),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 p-2 rounded transition-colors",title:"View Invoice",children:[a.jsx(Kw,{size:16}),a.jsx("span",{className:"text-xs font-medium",children:"Invoice"})]})}),a.jsx(sr,{children:a.jsxs("button",{onClick:()=>de(Pe.id,Pe.isActive),className:`flex items-center gap-1 text-xs p-1 rounded font-semibold ${Pe.isActive?"text-yellow-600 hover:bg-yellow-100":"text-green-600 hover:bg-green-100"}`,title:Pe.isActive?"Deactivate Student":"Activate Student",children:[Pe.isActive?a.jsx(FN,{size:16}):a.jsx(Ww,{size:16}),Pe.isActive?"Deactivate":"Activate"]})}),a.jsxs(sr,{children:[a.jsx("button",{onClick:()=>Ne(Pe.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:a.jsx(ya,{size:16})}),a.jsx("button",{onClick:()=>He(Pe.id),className:"text-red-600 hover:text-red-800 p-2",children:a.jsx(Xs,{size:16})})]})]},Pe.id)}):a.jsx(ks,{children:a.jsx(sr,{colSpan:9,className:"text-center py-8",children:"No students found."})})})]})}):a.jsx("div",{className:"p-4",children:d?a.jsx("div",{className:"text-center text-gray-500 py-8",children:"Loading..."}):_e.length>0?a.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-stretch",children:_e.map(Pe=>{var nt,Xe;return a.jsxs("div",{className:`rounded-xl border shadow-md p-4 flex flex-col h-full bg-gradient-to-br ${Pe.isActive?Pe.status==="active"?"from-emerald-50 via-teal-50 to-emerald-100 border-emerald-200":"from-rose-50 via-pink-50 to-rose-100 border-rose-200":"from-amber-50 via-orange-50 to-amber-100 border-amber-200"} ring-1 ring-white/60 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]`,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:Pe.name}),a.jsxs("p",{className:"mt-0.5 text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(TS,{className:"h-3.5 w-3.5 text-indigo-400"})," Reg: ",Pe.registrationNumber||"N/A"]})]}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${Pe.isActive?Pe.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[Pe.isActive?Pe.status==="active"?a.jsx(t0,{className:"h-3.5 w-3.5"}):a.jsx(pA,{className:"h-3.5 w-3.5"}):a.jsx(na,{className:"h-3.5 w-3.5"}),Pe.isActive?Pe.status==="active"?"Active":"Expired":"Inactive"]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(di,{className:"h-3.5 w-3.5 text-slate-400"})," Phone"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:Pe.phone})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(FS,{className:"h-3.5 w-3.5 text-slate-400"})," Seat"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:Pe.seatNumber||((Xe=(nt=Pe.assignments)==null?void 0:nt[0])==null?void 0:Xe.seatNumber)||"N/A"})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(us,{className:"h-3.5 w-3.5 text-slate-400"})," Added"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:g_(Pe.createdAt)})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(t0,{className:"h-3.5 w-3.5 text-slate-400"})," Status"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800 capitalize",children:Pe.isActive?Pe.status:"inactive"})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Ne(Pe.id),className:"text-blue-600 hover:text-blue-800 p-2 rounded hover:bg-blue-50",title:"View Details",children:a.jsx(ya,{size:16})}),a.jsx("button",{onClick:()=>ce(Pe.id),className:"text-indigo-600 hover:text-indigo-800 p-2 rounded hover:bg-indigo-50",title:"Invoice",children:a.jsx(Kw,{size:16})}),a.jsx("button",{onClick:()=>He(Pe.id),className:"text-red-600 hover:text-red-800 p-2 rounded hover:bg-red-50",title:"Delete",children:a.jsx(Xs,{size:16})})]}),a.jsxs("button",{onClick:()=>de(Pe.id,Pe.isActive),className:`flex items-center gap-1 text-xs px-2 py-1 rounded font-semibold ${Pe.isActive?"text-yellow-700 bg-yellow-50 hover:bg-yellow-100":"text-green-700 bg-green-50 hover:bg-green-100"}`,title:Pe.isActive?"Deactivate Student":"Activate Student",children:[Pe.isActive?a.jsx(FN,{size:16}):a.jsx(Ww,{size:16}),Pe.isActive?"Deactivate":"Activate"]})]})]},Pe.id)})}):a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No students found."})}),!d&&ue.length>0&&a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border-t p-4 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:b,onChange:Pe=>N(Number(Pe.target.value)),className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>p(Pe=>Math.max(Pe-1,1)),disabled:y===1,className:"p-2 rounded border disabled:opacity-50",children:a.jsx(QA,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",y," of ",Oe]}),a.jsx("button",{onClick:()=>p(Pe=>Math.min(Pe+1,Oe)),disabled:y===Oe,className:"p-2 rounded border disabled:opacity-50",children:a.jsx(gr,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",ke+1,"-",Math.min(Ee,ue.length)," of ",ue.length]})]})]})]})})]}),e&&a.jsx(y1,{isOpen:V,onClose:()=>J(!1),libraryCode:e.library_code,libraryName:e.name,libraryId:e.id}),q&&a.jsx(f0e,{isOpen:Z,onClose:()=>{ee(!1),X(null)},studentId:q})]})},x_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,y_=uO,Kv=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return y_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const h=r==null?void 0:r[u],m=i==null?void 0:i[u];if(h===null)return null;const y=x_(h)||x_(m);return s[u][y]}),l=r&&Object.entries(r).reduce((u,h)=>{let[m,y]=h;return y===void 0||(u[m]=y),u},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:m,className:y,...p}=h;return Object.entries(p).every(b=>{let[N,S]=b;return Array.isArray(S)?S.includes({...i,...l}[N]):{...i,...l}[N]===S})?[...u,m,y]:u},[]);return y_(e,o,d,r==null?void 0:r.class,r==null?void 0:r.className)},S3=Kv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Jt=C.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?Xh:"button";return a.jsx(o,{className:Br(S3({variant:t,size:r,className:e})),ref:i,...s})});Jt.displayName="Button";const w_=()=>{const[e]=AS(),[t,r]=C.useState([]),[n,s]=C.useState(!0),[i,o]=C.useState("all"),[l,d]=C.useState(!1);C.useEffect(()=>{const y=e.get("range")||"all";o(y)},[e]),C.useEffect(()=>{(async()=>{s(!0);try{let p;switch(i){case"1-2":p=await Re.getExpiringByRange(void 0,0,2);break;case"3-5":p=await Re.getExpiringByRange(void 0,2,5);break;case"5-7":p=await Re.getExpiringByRange(void 0,5,7);break;default:p=await Re.getExpiringSoon();break}r(p.students)}catch(p){Se.error(p.message||"Failed to fetch expiring memberships.")}finally{s(!1)}})()},[i]);const u=y=>{if(!y){Se.error("No phone number available for this student.");return}let p=y.replace(/\D/g,"");p.length===10&&(p=`91${p}`);const b=`https://wa.me/${p}`;window.open(b,"_blank","noopener,noreferrer")},h=y=>new Date(y).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),m=()=>{switch(i){case"1-2":return"Memberships Expiring in 1-2 Days";case"3-5":return"Memberships Expiring in 3-5 Days";case"5-7":return"Memberships Expiring in 5-7 Days";default:return"All Expiring Memberships"}};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(an,{isCollapsed:l,setIsCollapsed:d,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:m()}),a.jsx("p",{className:"text-gray-500",children:"View memberships expiring in the selected time range."}),a.jsx("div",{className:"mt-3 rounded-xl p-4 text-white bg-gradient-to-br from-amber-500 to-orange-600 ring-1 ring-white/10",children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("div",{className:"text-sm sm:text-base font-medium text-white/90",children:"Reach out proactively to reduce expiries"}),a.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-md",children:"Reminder"})]})})]}),a.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(kS,{className:"h-5 w-5 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by:"})]}),a.jsxs("select",{value:i,onChange:y=>o(y.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",children:[a.jsx("option",{value:"all",children:"All Expiring Soon"}),a.jsx("option",{value:"1-2",children:"1-2 Days"}),a.jsx("option",{value:"3-5",children:"3-5 Days"}),a.jsx("option",{value:"5-7",children:"5-7 Days"})]})]}),a.jsx("div",{className:"rounded-lg border bg-white shadow-sm",children:n?a.jsx("p",{className:"p-4 text-center text-gray-500",children:"Loading..."}):t.length===0?a.jsx("p",{className:"p-4 text-center text-gray-500",children:"No memberships are expiring soon."}):a.jsxs(Zd,{children:[a.jsx(Jd,{children:a.jsxs(ks,{children:[a.jsx(hr,{children:"Name"}),a.jsx(hr,{children:"Phone"}),a.jsx(hr,{children:"Expiry Date"}),a.jsx(hr,{children:"Days Until Expiry"}),a.jsx(hr,{className:"text-right",children:"Contact"})]})}),a.jsx(eu,{children:t.map(y=>{const p=Math.ceil((new Date(y.membershipEnd).getTime()-new Date().getTime())/864e5);return a.jsxs(ks,{children:[a.jsx(sr,{className:"font-medium",children:y.name}),a.jsx(sr,{children:y.phone}),a.jsx(sr,{children:h(y.membershipEnd)}),a.jsx(sr,{children:a.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p<=2?"bg-red-100 text-red-800":p<=5?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800"}`,children:[p," day",p!==1?"s":""]})}),a.jsx(sr,{className:"text-right",children:a.jsx(Jt,{variant:"ghost",size:"icon",onClick:()=>u(y.phone),title:`Send WhatsApp message to ${y.name}`,children:a.jsx(DS,{className:"h-5 w-5 text-green-600"})})})]},y.id)})})]})})]})})]})]})};var hC="focusScope.autoFocusOnMount",fC="focusScope.autoFocusOnUnmount",v_={bubbles:!1,cancelable:!0},p0e="FocusScope",vE=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,d]=C.useState(null),u=Dc(s),h=Dc(i),m=C.useRef(null),y=rs(t,N=>d(N)),p=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let N=function(I){if(p.paused||!l)return;const _=I.target;l.contains(_)?m.current=_:Fu(m.current,{select:!0})},S=function(I){if(p.paused||!l)return;const _=I.relatedTarget;_!==null&&(l.contains(_)||Fu(m.current,{select:!0}))},w=function(I){if(document.activeElement===document.body)for(const P of I)P.removedNodes.length>0&&Fu(l)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const B=new MutationObserver(w);return l&&B.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),B.disconnect()}}},[n,l,p.paused]),C.useEffect(()=>{if(l){C_.add(p);const N=document.activeElement;if(!l.contains(N)){const w=new CustomEvent(hC,v_);l.addEventListener(hC,u),l.dispatchEvent(w),w.defaultPrevented||(g0e(b0e(l9(l)),{select:!0}),document.activeElement===N&&Fu(l))}return()=>{l.removeEventListener(hC,u),setTimeout(()=>{const w=new CustomEvent(fC,v_);l.addEventListener(fC,h),l.dispatchEvent(w),w.defaultPrevented||Fu(N??document.body,{select:!0}),l.removeEventListener(fC,h),C_.remove(p)},0)}}},[l,u,h,p]);const b=C.useCallback(N=>{if(!r&&!n||p.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,w=document.activeElement;if(S&&w){const B=N.currentTarget,[I,_]=x0e(B);I&&_?!N.shiftKey&&w===_?(N.preventDefault(),r&&Fu(I,{select:!0})):N.shiftKey&&w===I&&(N.preventDefault(),r&&Fu(_,{select:!0})):w===B&&N.preventDefault()}},[r,n,p.paused]);return a.jsx(tn.div,{tabIndex:-1,...o,ref:y,onKeyDown:b})});vE.displayName=p0e;function g0e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fu(n,{select:t}),document.activeElement!==r)return}function x0e(e){const t=l9(e),r=b_(t,e),n=b_(t.reverse(),e);return[r,n]}function l9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function b_(e,t){for(const r of e)if(!y0e(r,{upTo:t}))return r}function y0e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w0e(e){return e instanceof HTMLInputElement&&"select"in e}function Fu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&w0e(e)&&t&&e.select()}}var C_=v0e();function v0e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=N_(e,t),e.unshift(t)},remove(t){var r;e=N_(e,t),(r=e[0])==null||r.resume()}}}function N_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function b0e(e){return e.filter(t=>t.tagName!=="A")}var mC=0;function c9(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??B_()),document.body.insertAdjacentElement("beforeend",e[1]??B_()),mC++,()=>{mC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mC--}},[])}function B_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vc=function(){return vc=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},vc.apply(this,arguments)};function d9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function C0e(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Jy="right-scroll-bar-position",ew="width-before-scroll-bar",N0e="with-scroll-bars-hidden",B0e="--removed-body-scroll-bar-size";function pC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function S0e(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var E0e=typeof window<"u"?C.useLayoutEffect:C.useEffect,S_=new WeakMap;function j0e(e,t){var r=S0e(null,function(n){return e.forEach(function(s){return pC(s,n)})});return E0e(function(){var n=S_.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||pC(l,null)}),i.forEach(function(l){s.has(l)||pC(l,o)})}S_.set(r,e)},[e]),r}function I0e(e){return e}function F0e(e,t){t===void 0&&(t=I0e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var d=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),r}}}};return s}function k0e(e){e===void 0&&(e={});var t=F0e(null);return t.options=vc({async:!0,ssr:!1},e),t}var u9=function(e){var t=e.sideCar,r=d9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,vc({},r))};u9.isSideCarExport=!0;function _0e(e,t){return e.useMedium(t),u9}var A9=k0e(),gC=function(){},zv=C.forwardRef(function(e,t){var r=C.useRef(null),n=C.useState({onScrollCapture:gC,onWheelCapture:gC,onTouchMoveCapture:gC}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,d=e.className,u=e.removeScrollBar,h=e.enabled,m=e.shards,y=e.sideCar,p=e.noIsolation,b=e.inert,N=e.allowPinchZoom,S=e.as,w=S===void 0?"div":S,B=e.gapMode,I=d9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=y,P=j0e([r,t]),H=vc(vc({},I),s);return C.createElement(C.Fragment,null,h&&C.createElement(_,{sideCar:A9,removeScrollBar:u,shards:m,noIsolation:p,inert:b,setCallbacks:i,allowPinchZoom:!!N,lockRef:r,gapMode:B}),o?C.cloneElement(C.Children.only(l),vc(vc({},H),{ref:P})):C.createElement(w,vc({},H,{className:d,ref:P}),l))});zv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zv.classNames={fullWidth:ew,zeroRight:Jy};var T0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L0e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=T0e();return t&&e.setAttribute("nonce",t),e}function P0e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function D0e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var O0e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=L0e())&&(P0e(t,r),D0e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},R0e=function(){var e=O0e();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},h9=function(){var e=R0e(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},M0e={left:0,top:0,right:0,gap:0},xC=function(e){return parseInt(e||"",10)||0},U0e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[xC(r),xC(n),xC(s)]},Q0e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return M0e;var t=U0e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},H0e=h9(),j0="data-scroll-locked",V0e=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(N0e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(j0,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ew,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Jy," .").concat(Jy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ew," .").concat(ew,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(j0,`] {
    `).concat(B0e,": ").concat(l,`px;
  }
`)},E_=function(){var e=parseInt(document.body.getAttribute(j0)||"0",10);return isFinite(e)?e:0},K0e=function(){C.useEffect(function(){return document.body.setAttribute(j0,(E_()+1).toString()),function(){var e=E_()-1;e<=0?document.body.removeAttribute(j0):document.body.setAttribute(j0,e.toString())}},[])},z0e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;K0e();var i=C.useMemo(function(){return Q0e(s)},[s]);return C.createElement(H0e,{styles:V0e(i,!t,s,r?"":"!important")})},E3=!1;if(typeof window<"u")try{var ly=Object.defineProperty({},"passive",{get:function(){return E3=!0,!0}});window.addEventListener("test",ly,ly),window.removeEventListener("test",ly,ly)}catch{E3=!1}var Lf=E3?{passive:!1}:!1,W0e=function(e){return e.tagName==="TEXTAREA"},f9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!W0e(e)&&r[t]==="visible")},G0e=function(e){return f9(e,"overflowY")},$0e=function(e){return f9(e,"overflowX")},j_=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=m9(e,n);if(s){var i=p9(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},q0e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},X0e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},m9=function(e,t){return e==="v"?G0e(t):$0e(t)},p9=function(e,t){return e==="v"?q0e(t):X0e(t)},Y0e=function(e,t){return e==="h"&&t==="rtl"?-1:1},Z0e=function(e,t,r,n,s){var i=Y0e(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,d=t.contains(l),u=!1,h=o>0,m=0,y=0;do{var p=p9(e,l),b=p[0],N=p[1],S=p[2],w=N-S-i*b;(b||w)&&m9(e,l)&&(m+=w,y+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(h&&(Math.abs(m)<1||!s)||!h&&(Math.abs(y)<1||!s))&&(u=!0),u},cy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},I_=function(e){return[e.deltaX,e.deltaY]},F_=function(e){return e&&"current"in e?e.current:e},J0e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eme=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tme=0,Pf=[];function rme(e){var t=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),s=C.useState(tme++)[0],i=C.useState(h9)[0],o=C.useRef(e);C.useEffect(function(){o.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var N=C0e([e.lockRef.current],(e.shards||[]).map(F_),!0).filter(Boolean);return N.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),N.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=C.useCallback(function(N,S){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!o.current.allowPinchZoom;var w=cy(N),B=r.current,I="deltaX"in N?N.deltaX:B[0]-w[0],_="deltaY"in N?N.deltaY:B[1]-w[1],P,H=N.target,D=Math.abs(I)>Math.abs(_)?"h":"v";if("touches"in N&&D==="h"&&H.type==="range")return!1;var L=j_(D,H);if(!L)return!0;if(L?P=D:(P=D==="v"?"h":"v",L=j_(D,H)),!L)return!1;if(!n.current&&"changedTouches"in N&&(I||_)&&(n.current=P),!P)return!0;var T=n.current||P;return Z0e(T,S,N,T==="h"?I:_,!0)},[]),d=C.useCallback(function(N){var S=N;if(!(!Pf.length||Pf[Pf.length-1]!==i)){var w="deltaY"in S?I_(S):cy(S),B=t.current.filter(function(P){return P.name===S.type&&(P.target===S.target||S.target===P.shadowParent)&&J0e(P.delta,w)})[0];if(B&&B.should){S.cancelable&&S.preventDefault();return}if(!B){var I=(o.current.shards||[]).map(F_).filter(Boolean).filter(function(P){return P.contains(S.target)}),_=I.length>0?l(S,I[0]):!o.current.noIsolation;_&&S.cancelable&&S.preventDefault()}}},[]),u=C.useCallback(function(N,S,w,B){var I={name:N,delta:S,target:w,should:B,shadowParent:nme(w)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(_){return _!==I})},1)},[]),h=C.useCallback(function(N){r.current=cy(N),n.current=void 0},[]),m=C.useCallback(function(N){u(N.type,I_(N),N.target,l(N,e.lockRef.current))},[]),y=C.useCallback(function(N){u(N.type,cy(N),N.target,l(N,e.lockRef.current))},[]);C.useEffect(function(){return Pf.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",d,Lf),document.addEventListener("touchmove",d,Lf),document.addEventListener("touchstart",h,Lf),function(){Pf=Pf.filter(function(N){return N!==i}),document.removeEventListener("wheel",d,Lf),document.removeEventListener("touchmove",d,Lf),document.removeEventListener("touchstart",h,Lf)}},[]);var p=e.removeScrollBar,b=e.inert;return C.createElement(C.Fragment,null,b?C.createElement(i,{styles:eme(s)}):null,p?C.createElement(z0e,{gapMode:e.gapMode}):null)}function nme(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sme=_0e(A9,rme);var bE=C.forwardRef(function(e,t){return C.createElement(zv,vc({},e,{ref:t,sideCar:sme}))});bE.classNames=zv.classNames;var ame=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Df=new WeakMap,dy=new WeakMap,uy={},yC=0,g9=function(e){return e&&(e.host||g9(e.parentNode))},ime=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=g9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ome=function(e,t,r,n){var s=ime(t,Array.isArray(e)?e:[e]);uy[r]||(uy[r]=new WeakMap);var i=uy[r],o=[],l=new Set,d=new Set(s),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};s.forEach(u);var h=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(y){if(l.has(y))h(y);else try{var p=y.getAttribute(n),b=p!==null&&p!=="false",N=(Df.get(y)||0)+1,S=(i.get(y)||0)+1;Df.set(y,N),i.set(y,S),o.push(y),N===1&&b&&dy.set(y,!0),S===1&&y.setAttribute(r,"true"),b||y.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",y,w)}})};return h(t),l.clear(),yC++,function(){o.forEach(function(m){var y=Df.get(m)-1,p=i.get(m)-1;Df.set(m,y),i.set(m,p),y||(dy.has(m)||m.removeAttribute(n),dy.delete(m)),p||m.removeAttribute(r)}),yC--,yC||(Df=new WeakMap,Df=new WeakMap,dy=new WeakMap,uy={})}},x9=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=ame(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),ome(n,s,r,"aria-hidden")):function(){return null}},CE="Dialog",[y9,X4e]=A1(CE),[lme,ec]=y9(CE),w9=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=C.useRef(null),d=C.useRef(null),[u=!1,h]=Zh({prop:n,defaultProp:s,onChange:i});return a.jsx(lme,{scope:t,triggerRef:l,contentRef:d,contentId:Id(),titleId:Id(),descriptionId:Id(),open:u,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(m=>!m),[h]),modal:o,children:r})};w9.displayName=CE;var v9="DialogTrigger",cme=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ec(v9,r),i=rs(t,s.triggerRef);return a.jsx(tn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SE(s.open),...n,ref:i,onClick:_r(e.onClick,s.onOpenToggle)})});cme.displayName=v9;var NE="DialogPortal",[dme,b9]=y9(NE,{forceMount:void 0}),C9=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=ec(NE,t);return a.jsx(dme,{scope:t,forceMount:r,children:C.Children.map(n,o=>a.jsx(ff,{present:r||i.open,children:a.jsx(vS,{asChild:!0,container:s,children:o})}))})};C9.displayName=NE;var f2="DialogOverlay",N9=C.forwardRef((e,t)=>{const r=b9(f2,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=ec(f2,e.__scopeDialog);return i.modal?a.jsx(ff,{present:n||i.open,children:a.jsx(ume,{...s,ref:t})}):null});N9.displayName=f2;var ume=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ec(f2,r);return a.jsx(bE,{as:Xh,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(tn.div,{"data-state":SE(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),af="DialogContent",B9=C.forwardRef((e,t)=>{const r=b9(af,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=ec(af,e.__scopeDialog);return a.jsx(ff,{present:n||i.open,children:i.modal?a.jsx(Ame,{...s,ref:t}):a.jsx(hme,{...s,ref:t})})});B9.displayName=af;var Ame=C.forwardRef((e,t)=>{const r=ec(af,e.__scopeDialog),n=C.useRef(null),s=rs(t,r.contentRef,n);return C.useEffect(()=>{const i=n.current;if(i)return x9(i)},[]),a.jsx(S9,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_r(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_r(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:_r(e.onFocusOutside,i=>i.preventDefault())})}),hme=C.forwardRef((e,t)=>{const r=ec(af,e.__scopeDialog),n=C.useRef(!1),s=C.useRef(!1);return a.jsx(S9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),S9=C.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=ec(af,r),d=C.useRef(null),u=rs(t,d);return c9(),a.jsxs(a.Fragment,{children:[a.jsx(vE,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Y2,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":SE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(fme,{titleId:l.titleId}),a.jsx(pme,{contentRef:d,descriptionId:l.descriptionId})]})]})}),BE="DialogTitle",E9=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ec(BE,r);return a.jsx(tn.h2,{id:s.titleId,...n,ref:t})});E9.displayName=BE;var j9="DialogDescription",I9=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ec(j9,r);return a.jsx(tn.p,{id:s.descriptionId,...n,ref:t})});I9.displayName=j9;var F9="DialogClose",k9=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ec(F9,r);return a.jsx(tn.button,{type:"button",...n,ref:t,onClick:_r(e.onClick,()=>s.onOpenChange(!1))})});k9.displayName=F9;function SE(e){return e?"open":"closed"}var _9="DialogTitleWarning",[Y4e,T9]=DX(_9,{contentName:af,titleName:BE,docsSlug:"dialog"}),fme=({titleId:e})=>{const t=T9(_9),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mme="DialogDescriptionWarning",pme=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${T9(mme).contentName}}.`;return C.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},gme=w9,xme=C9,L9=N9,P9=B9,D9=E9,O9=I9,R9=k9;const I0=gme,yme=xme,wC=R9,M9=C.forwardRef(({className:e,...t},r)=>a.jsx(L9,{ref:r,className:Br("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));M9.displayName=L9.displayName;const Dh=C.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(yme,{children:[a.jsx(M9,{}),a.jsxs(P9,{ref:n,className:Br("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(R9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(eo,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dh.displayName=P9.displayName;const Oh=({className:e,...t})=>a.jsx("div",{className:Br("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Oh.displayName="DialogHeader";const Rh=({className:e,...t})=>a.jsx("div",{className:Br("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Rh.displayName="DialogFooter";const Mh=C.forwardRef(({className:e,...t},r)=>a.jsx(D9,{ref:r,className:Br("text-lg font-semibold leading-none tracking-tight",e),...t}));Mh.displayName=D9.displayName;const Uh=C.forwardRef(({className:e,...t},r)=>a.jsx(O9,{ref:r,className:Br("text-sm text-muted-foreground",e),...t}));Uh.displayName=O9.displayName;function dn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Lo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ci(e,t){const r=dn(e);return isNaN(t)?Lo(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Po(e,t){const r=dn(e);if(isNaN(t))return Lo(e,NaN);if(!t)return r;const n=r.getDate(),s=Lo(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const EE=6048e5,wme=864e5;let vme={};function S1(){return vme}function Rc(e,t){var l,d,u,h;const r=S1(),n=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=dn(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function of(e){return Rc(e,{weekStartsOn:1})}function U9(e){const t=dn(e),r=t.getFullYear(),n=Lo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=of(n),i=Lo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=of(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function om(e){const t=dn(e);return t.setHours(0,0,0,0),t}function m2(e){const t=dn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Cc(e,t){const r=om(e),n=om(t),s=+r-m2(r),i=+n-m2(n);return Math.round((s-i)/wme)}function bme(e){const t=U9(e),r=Lo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),of(r)}function j3(e,t){const r=t*7;return Ci(e,r)}function Cme(e,t){return Po(e,t*12)}function Nme(e){let t;return e.forEach(function(r){const n=dn(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Bme(e){let t;return e.forEach(r=>{const n=dn(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Gi(e,t){const r=om(e),n=om(t);return+r==+n}function jE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Sme(e){if(!jE(e)&&typeof e!="number")return!1;const t=dn(e);return!isNaN(Number(t))}function Gg(e,t){const r=dn(e),n=dn(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Eme(e,t,r){const n=Rc(e,r),s=Rc(t,r),i=+n-m2(n),o=+s-m2(s);return Math.round((i-o)/EE)}function IE(e){const t=dn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function to(e){const t=dn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Q9(e){const t=dn(e),r=Lo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function FE(e,t){var l,d,u,h;const r=S1(),n=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=dn(e),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function H9(e){return FE(e,{weekStartsOn:1})}const jme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ime=(e,t,r)=>{let n;const s=jme[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function vC(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Fme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_me={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tme={date:vC({formats:Fme,defaultWidth:"full"}),time:vC({formats:kme,defaultWidth:"full"}),dateTime:vC({formats:_me,defaultWidth:"full"})},Lme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pme=(e,t,r,n)=>Lme[e];function sp(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Dme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ome={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ume={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Hme=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Vme={ordinalNumber:Hme,era:sp({values:Dme,defaultWidth:"wide"}),quarter:sp({values:Ome,defaultWidth:"wide",argumentCallback:e=>e-1}),month:sp({values:Rme,defaultWidth:"wide"}),day:sp({values:Mme,defaultWidth:"wide"}),dayPeriod:sp({values:Ume,defaultWidth:"wide",formattingValues:Qme,defaultFormattingWidth:"wide"})};function ap(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?zme(l,m=>m.test(o)):Kme(l,m=>m.test(o));let u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function Kme(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function zme(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Wme(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Gme=/^(\d+)(th|st|nd|rd)?/i,$me=/\d+/i,qme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Xme={any:[/^b/i,/^(a|c)/i]},Yme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Zme={any:[/1/i,/2/i,/3/i,/4/i]},Jme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},epe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},npe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},spe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ape={ordinalNumber:Wme({matchPattern:Gme,parsePattern:$me,valueCallback:e=>parseInt(e,10)}),era:ap({matchPatterns:qme,defaultMatchWidth:"wide",parsePatterns:Xme,defaultParseWidth:"any"}),quarter:ap({matchPatterns:Yme,defaultMatchWidth:"wide",parsePatterns:Zme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ap({matchPatterns:Jme,defaultMatchWidth:"wide",parsePatterns:epe,defaultParseWidth:"any"}),day:ap({matchPatterns:tpe,defaultMatchWidth:"wide",parsePatterns:rpe,defaultParseWidth:"any"}),dayPeriod:ap({matchPatterns:npe,defaultMatchWidth:"any",parsePatterns:spe,defaultParseWidth:"any"})},V9={code:"en-US",formatDistance:Ime,formatLong:Tme,formatRelative:Pme,localize:Vme,match:ape,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ipe(e){const t=dn(e);return Cc(t,Q9(t))+1}function K9(e){const t=dn(e),r=+of(t)-+bme(t);return Math.round(r/EE)+1}function z9(e,t){var h,m,y,p;const r=dn(e),n=r.getFullYear(),s=S1(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(y=s.locale)==null?void 0:y.options)==null?void 0:p.firstWeekContainsDate)??1,o=Lo(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Rc(o,t),d=Lo(e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const u=Rc(d,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function ope(e,t){var l,d,u,h;const r=S1(),n=(t==null?void 0:t.firstWeekContainsDate)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=z9(e,t),i=Lo(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Rc(i,t)}function W9(e,t){const r=dn(e),n=+Rc(r,t)-+ope(r,t);return Math.round(n/EE)+1}function Sn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Bu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Sn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Sn(r+1,2)},d(e,t){return Sn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Sn(e.getHours()%12||12,t.length)},H(e,t){return Sn(e.getHours(),t.length)},m(e,t){return Sn(e.getMinutes(),t.length)},s(e,t){return Sn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Sn(s,t.length)}},Of={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k_={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Bu.y(e,t)},Y:function(e,t,r,n){const s=z9(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Sn(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Sn(i,t.length)},R:function(e,t){const r=U9(e);return Sn(r,t.length)},u:function(e,t){const r=e.getFullYear();return Sn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Sn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Sn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Bu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Sn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=W9(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Sn(s,t.length)},I:function(e,t,r){const n=K9(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Sn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Bu.d(e,t)},D:function(e,t,r){const n=ipe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Sn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Sn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Sn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Sn(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Of.noon:n===0?s=Of.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Of.evening:n>=12?s=Of.afternoon:n>=4?s=Of.morning:s=Of.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Bu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Bu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Sn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Sn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Bu.s(e,t)},S:function(e,t){return Bu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return T_(n);case"XXXX":case"XX":return sh(n);case"XXXXX":case"XXX":default:return sh(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return T_(n);case"xxxx":case"xx":return sh(n);case"xxxxx":case"xxx":default:return sh(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+__(n,":");case"OOOO":default:return"GMT"+sh(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+__(n,":");case"zzzz":default:return"GMT"+sh(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Sn(n,t.length)},T:function(e,t,r){const n=e.getTime();return Sn(n,t.length)}};function __(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Sn(i,2)}function T_(e,t){return e%60===0?(e>0?"-":"+")+Sn(Math.abs(e)/60,2):sh(e,t)}function sh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Sn(Math.trunc(n/60),2),i=Sn(n%60,2);return r+s+t+i}const L_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},G9=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},lpe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return L_(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",L_(n,t)).replace("{{time}}",G9(s,t))},cpe={p:G9,P:lpe},dpe=/^D+$/,upe=/^Y+$/,Ape=["D","DD","YY","YYYY"];function hpe(e){return dpe.test(e)}function fpe(e){return upe.test(e)}function mpe(e,t,r){const n=ppe(e,t,r);if(console.warn(n),Ape.includes(e))throw new RangeError(n)}function ppe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gpe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ype=/^'([^]*?)'?$/,wpe=/''/g,vpe=/[a-zA-Z]/;function Vd(e,t,r){var h,m,y,p,b,N,S,w;const n=S1(),s=(r==null?void 0:r.locale)??n.locale??V9,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(y=n.locale)==null?void 0:y.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((N=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??n.weekStartsOn??((w=(S=n.locale)==null?void 0:S.options)==null?void 0:w.weekStartsOn)??0,l=dn(e);if(!Sme(l))throw new RangeError("Invalid time value");let d=t.match(xpe).map(B=>{const I=B[0];if(I==="p"||I==="P"){const _=cpe[I];return _(B,s.formatLong)}return B}).join("").match(gpe).map(B=>{if(B==="''")return{isToken:!1,value:"'"};const I=B[0];if(I==="'")return{isToken:!1,value:bpe(B)};if(k_[I])return{isToken:!0,value:B};if(I.match(vpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:B}});s.localize.preprocessor&&(d=s.localize.preprocessor(l,d));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return d.map(B=>{if(!B.isToken)return B.value;const I=B.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&fpe(I)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&hpe(I))&&mpe(I,t,String(e));const _=k_[I[0]];return _(l,I,s.localize,u)}).join("")}function bpe(e){const t=e.match(ype);return t?t[1].replace(wpe,"'"):e}function Cpe(e){const t=dn(e),r=t.getFullYear(),n=t.getMonth(),s=Lo(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Npe(e){return Math.trunc(+dn(e)/1e3)}function Bpe(e){const t=dn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Spe(e,t){return Eme(Bpe(e),to(e),t)+1}function I3(e,t){const r=dn(e),n=dn(t);return r.getTime()>n.getTime()}function $9(e,t){const r=dn(e),n=dn(t);return+r<+n}function kE(e,t){const r=dn(e),n=dn(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Epe(e,t){const r=dn(e),n=dn(t);return r.getFullYear()===n.getFullYear()}function bC(e,t){return Ci(e,-t)}function CC(e,t){const r=dn(e),n=r.getFullYear(),s=r.getDate(),i=Lo(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Cpe(i);return r.setMonth(t,Math.min(s,o)),r}function P_(e,t){const r=dn(e);return isNaN(+r)?Lo(e,NaN):(r.setFullYear(t),r)}var yr=function(){return yr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},yr.apply(this,arguments)};function jpe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function q9(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function E1(e){return e.mode==="multiple"}function j1(e){return e.mode==="range"}function Wv(e){return e.mode==="single"}var Ipe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Fpe(e,t){return Vd(e,"LLLL y",t)}function kpe(e,t){return Vd(e,"d",t)}function _pe(e,t){return Vd(e,"LLLL",t)}function Tpe(e){return"".concat(e)}function Lpe(e,t){return Vd(e,"cccccc",t)}function Ppe(e,t){return Vd(e,"yyyy",t)}var Dpe=Object.freeze({__proto__:null,formatCaption:Fpe,formatDay:kpe,formatMonthCaption:_pe,formatWeekNumber:Tpe,formatWeekdayName:Lpe,formatYearCaption:Ppe}),Ope=function(e,t,r){return Vd(e,"do MMMM (EEEE)",r)},Rpe=function(){return"Month: "},Mpe=function(){return"Go to next month"},Upe=function(){return"Go to previous month"},Qpe=function(e,t){return Vd(e,"cccc",t)},Hpe=function(e){return"Week n. ".concat(e)},Vpe=function(){return"Year: "},Kpe=Object.freeze({__proto__:null,labelDay:Ope,labelMonthDropdown:Rpe,labelNext:Mpe,labelPrevious:Upe,labelWeekNumber:Hpe,labelWeekday:Qpe,labelYearDropdown:Vpe});function zpe(){var e="buttons",t=Ipe,r=V9,n={},s={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Dpe,labels:Kpe,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Wpe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=to(n):t&&(i=new Date(t,0,1)),s?o=IE(s):r&&(o=new Date(r,11,31)),{fromDate:i?om(i):void 0,toDate:o?om(o):void 0}}var X9=C.createContext(void 0);function Gpe(e){var t,r=e.initialProps,n=zpe(),s=Wpe(r),i=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var d;(Wv(r)||E1(r)||j1(r))&&(d=r.onSelect);var u=yr(yr(yr({},n),r),{captionLayout:l,classNames:yr(yr({},n.classNames),r.classNames),components:yr({},r.components),formatters:yr(yr({},n.formatters),r.formatters),fromDate:i,labels:yr(yr({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:yr(yr({},n.modifiers),r.modifiers),modifiersClassNames:yr(yr({},n.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:yr(yr({},n.styles),r.styles),toDate:o});return a.jsx(X9.Provider,{value:u,children:e.children})}function Wn(){var e=C.useContext(X9);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Y9(e){var t=Wn(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function $pe(e){return a.jsx("svg",yr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Z9(e){var t,r,n=e.onChange,s=e.value,i=e.children,o=e.caption,l=e.className,d=e.style,u=Wn(),h=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:$pe;return a.jsxs("div",{className:l,style:d,children:[a.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:i}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(h,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function qpe(e){var t,r=Wn(),n=r.fromDate,s=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,d=r.classNames,u=r.components,h=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var m=[];if(Epe(n,s))for(var y=to(n),p=n.getMonth();p<=s.getMonth();p++)m.push(CC(y,p));else for(var y=to(new Date),p=0;p<=11;p++)m.push(CC(y,p));var b=function(S){var w=Number(S.target.value),B=CC(to(e.displayMonth),w);e.onChange(B)},N=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Z9;return a.jsx(N,{name:"months","aria-label":h(),className:d.dropdown_month,style:i.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(S){return a.jsx("option",{value:S.getMonth(),children:l(S,{locale:o})},S.getMonth())})})}function Xpe(e){var t,r=e.displayMonth,n=Wn(),s=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,d=n.classNames,u=n.components,h=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,y=[];if(!s)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),b=i.getFullYear(),N=p;N<=b;N++)y.push(P_(Q9(new Date),N));var S=function(B){var I=P_(to(r),Number(B.target.value));e.onChange(I)},w=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Z9;return a.jsx(w,{name:"years","aria-label":m(),className:d.dropdown_year,style:l.dropdown_year,onChange:S,value:r.getFullYear(),caption:h(r,{locale:o}),children:y.map(function(B){return a.jsx("option",{value:B.getFullYear(),children:h(B,{locale:o})},B.getFullYear())})})}function Ype(e,t){var r=C.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function Zpe(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(i&&Gg(i,s)<0){var u=-1*(d-1);s=Po(i,u)}return o&&Gg(s,o)<0&&(s=o),to(s)}function Jpe(){var e=Wn(),t=Zpe(e),r=Ype(t,e.month),n=r[0],s=r[1],i=function(o){var l;if(!e.disableNavigation){var d=to(o);s(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[n,i]}function ege(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=to(e),i=to(Po(s,n)),o=Gg(i,s),l=[],d=0;d<o;d++){var u=Po(s,d);l.push(u)}return r&&(l=l.reverse()),l}function tge(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=to(e);if(!r)return Po(l,o);var d=Gg(r,e);if(!(d<i))return Po(l,o)}}function rge(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=to(e);if(!r)return Po(l,-o);var d=Gg(l,r);if(!(d<=0))return Po(l,-o)}}var J9=C.createContext(void 0);function nge(e){var t=Wn(),r=Jpe(),n=r[0],s=r[1],i=ege(n,t),o=tge(n,t),l=rge(n,t),d=function(m){return i.some(function(y){return kE(m,y)})},u=function(m,y){d(m)||(y&&$9(m,y)?s(Po(m,1+t.numberOfMonths*-1)):s(m))},h={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:d};return a.jsx(J9.Provider,{value:h,children:e.children})}function I1(){var e=C.useContext(J9);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function D_(e){var t,r=Wn(),n=r.classNames,s=r.styles,i=r.components,o=I1().goToMonth,l=function(h){o(Po(h,e.displayIndex?-e.displayIndex:0))},d=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Y9,u=a.jsx(d,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:u}),a.jsx(qpe,{onChange:l,displayMonth:e.displayMonth}),a.jsx(Xpe,{onChange:l,displayMonth:e.displayMonth})]})}function sge(e){return a.jsx("svg",yr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function age(e){return a.jsx("svg",yr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var p2=C.forwardRef(function(e,t){var r=Wn(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=yr(yr({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),a.jsx("button",yr({},e,{ref:t,type:"button",className:o,style:l}))});function ige(e){var t,r,n=Wn(),s=n.dir,i=n.locale,o=n.classNames,l=n.styles,d=n.labels,u=d.labelPrevious,h=d.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var y=u(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),b=h(e.nextMonth,{locale:i}),N=[o.nav_button,o.nav_button_next].join(" "),S=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:age,w=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:sge;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(p2,{name:"previous-month","aria-label":y,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(S,{className:o.nav_icon,style:l.nav_icon}):a.jsx(w,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(p2,{name:"next-month","aria-label":b,className:N,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(w,{className:o.nav_icon,style:l.nav_icon}):a.jsx(S,{className:o.nav_icon,style:l.nav_icon})})]})}function O_(e){var t=Wn().numberOfMonths,r=I1(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(b){return kE(e.displayMonth,b)}),d=l===0,u=l===o.length-1,h=t>1&&(d||!u),m=t>1&&(u||!d),y=function(){n&&i(n)},p=function(){s&&i(s)};return a.jsx(ige,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:s,previousMonth:n,onPreviousClick:y,onNextClick:p})}function oge(e){var t,r=Wn(),n=r.classNames,s=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,d=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Y9,u;return s?u=a.jsx(d,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=a.jsx(D_,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(D_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(O_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(O_,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:n.caption,style:i.caption,children:u})}function lge(e){var t=Wn(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function cge(e,t,r){for(var n=r?of(new Date):Rc(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=Ci(n,i);s.push(o)}return s}function dge(){var e=Wn(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,u=cge(s,i,o);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(h,m){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(h,{locale:s}),children:l(h,{locale:s})},m)})]})}function uge(){var e,t=Wn(),r=t.classNames,n=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:dge;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(i,{})})}function Age(e){var t=Wn(),r=t.locale,n=t.formatters.formatDay;return a.jsx(a.Fragment,{children:n(e.date,{locale:r})})}var _E=C.createContext(void 0);function hge(e){if(!E1(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(_E.Provider,{value:t,children:e.children})}return a.jsx(fge,{initialProps:e.initialProps,children:e.children})}function fge(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,o=function(u,h,m){var y,p;(y=t.onDayClick)===null||y===void 0||y.call(t,u,h,m);var b=!!(h.selected&&s&&(n==null?void 0:n.length)===s);if(!b){var N=!!(!h.selected&&i&&(n==null?void 0:n.length)===i);if(!N){var S=n?q9([],n):[];if(h.selected){var w=S.findIndex(function(B){return Gi(u,B)});S.splice(w,1)}else S.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,S,u,h,m)}}},l={disabled:[]};n&&l.disabled.push(function(u){var h=i&&n.length>i-1,m=n.some(function(y){return Gi(y,u)});return!!(h&&!m)});var d={selected:n,onDayClick:o,modifiers:l};return a.jsx(_E.Provider,{value:d,children:r})}function TE(){var e=C.useContext(_E);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function mge(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Gi(s,e)&&Gi(n,e)?void 0:Gi(s,e)?{from:s,to:void 0}:Gi(n,e)?void 0:I3(n,e)?{from:e,to:s}:{from:n,to:e}:s?I3(e,s)?{from:s,to:e}:{from:e,to:s}:n?$9(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var LE=C.createContext(void 0);function pge(e){if(!j1(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(LE.Provider,{value:t,children:e.children})}return a.jsx(gge,{initialProps:e.initialProps,children:e.children})}function gge(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,o=s.to,l=t.min,d=t.max,u=function(p,b,N){var S,w;(S=t.onDayClick)===null||S===void 0||S.call(t,p,b,N);var B=mge(p,n);(w=t.onSelect)===null||w===void 0||w.call(t,B,p,b,N)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(h.range_start=[i],o?(h.range_end=[o],Gi(i,o)||(h.range_middle=[{after:i,before:o}])):h.range_end=[i]):o&&(h.range_start=[o],h.range_end=[o]),l&&(i&&!o&&h.disabled.push({after:bC(i,l-1),before:Ci(i,l-1)}),i&&o&&h.disabled.push({after:i,before:Ci(i,l-1)}),!i&&o&&h.disabled.push({after:bC(o,l-1),before:Ci(o,l-1)})),d){if(i&&!o&&(h.disabled.push({before:Ci(i,-d+1)}),h.disabled.push({after:Ci(i,d-1)})),i&&o){var m=Cc(o,i)+1,y=d-m;h.disabled.push({before:bC(i,y)}),h.disabled.push({after:Ci(o,y)})}!i&&o&&(h.disabled.push({before:Ci(o,-d+1)}),h.disabled.push({after:Ci(o,d-1)}))}return a.jsx(LE.Provider,{value:{selected:n,onDayClick:u,modifiers:h},children:r})}function PE(){var e=C.useContext(LE);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function tw(e){return Array.isArray(e)?q9([],e):e!==void 0?[e]:[]}function xge(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=tw(s)}),t}var ql;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ql||(ql={}));var yge=ql.Selected,fd=ql.Disabled,wge=ql.Hidden,vge=ql.Today,NC=ql.RangeEnd,BC=ql.RangeMiddle,SC=ql.RangeStart,bge=ql.Outside;function Cge(e,t,r){var n,s=(n={},n[yge]=tw(e.selected),n[fd]=tw(e.disabled),n[wge]=tw(e.hidden),n[vge]=[e.today],n[NC]=[],n[BC]=[],n[SC]=[],n[bge]=[],n);return e.fromDate&&s[fd].push({before:e.fromDate}),e.toDate&&s[fd].push({after:e.toDate}),E1(e)?s[fd]=s[fd].concat(t.modifiers[fd]):j1(e)&&(s[fd]=s[fd].concat(r.modifiers[fd]),s[SC]=r.modifiers[SC],s[BC]=r.modifiers[BC],s[NC]=r.modifiers[NC]),s}var eQ=C.createContext(void 0);function Nge(e){var t=Wn(),r=TE(),n=PE(),s=Cge(t,r,n),i=xge(t.modifiers),o=yr(yr({},s),i);return a.jsx(eQ.Provider,{value:o,children:e.children})}function tQ(){var e=C.useContext(eQ);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Bge(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Sge(e){return!!(e&&typeof e=="object"&&"from"in e)}function Ege(e){return!!(e&&typeof e=="object"&&"after"in e)}function jge(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ige(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Fge(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=Cc(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var o=Cc(e,n)>=0&&Cc(s,e)>=0;return o}return s?Gi(s,e):n?Gi(n,e):!1}function kge(e){return jE(e)}function _ge(e){return Array.isArray(e)&&e.every(jE)}function Tge(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(kge(r))return Gi(e,r);if(_ge(r))return r.includes(e);if(Sge(r))return Fge(e,r);if(Ige(r))return r.dayOfWeek.includes(e.getDay());if(Bge(r)){var n=Cc(r.before,e),s=Cc(r.after,e),i=n>0,o=s<0,l=I3(r.before,r.after);return l?o&&i:i||o}return Ege(r)?Cc(e,r.after)>0:jge(r)?Cc(r.before,e)>0:typeof r=="function"?r(e):!1})}function DE(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return Tge(e,l)&&i.push(o),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!kE(e,r)&&(s.outside=!0),s}function Lge(e,t){for(var r=to(e[0]),n=IE(e[e.length-1]),s,i,o=r;o<=n;){var l=DE(o,t),d=!l.disabled&&!l.hidden;if(!d){o=Ci(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=Ci(o,1)}return i||s}var Pge=365;function rQ(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,d=s.weekStartsOn,u=s.fromDate,h=s.toDate,m=s.locale,y={day:Ci,week:j3,month:Po,year:Cme,startOfWeek:function(S){return s.ISOWeek?of(S):Rc(S,{locale:m,weekStartsOn:d})},endOfWeek:function(S){return s.ISOWeek?H9(S):FE(S,{locale:m,weekStartsOn:d})}},p=y[r](e,n==="after"?1:-1);n==="before"&&u?p=Nme([u,p]):n==="after"&&h&&(p=Bme([h,p]));var b=!0;if(i){var N=DE(p,i);b=!N.disabled&&!N.hidden}return b?p:l.count>Pge?l.lastFocused:rQ(p,{moveBy:r,direction:n,context:s,modifiers:i,retry:yr(yr({},l),{count:l.count+1})})}var nQ=C.createContext(void 0);function Dge(e){var t=I1(),r=tQ(),n=C.useState(),s=n[0],i=n[1],o=C.useState(),l=o[0],d=o[1],u=Lge(t.displayMonths,r),h=s??(l&&t.isDateDisplayed(l))?l:u,m=function(){d(s),i(void 0)},y=function(S){i(S)},p=Wn(),b=function(S,w){if(s){var B=rQ(s,{moveBy:S,direction:w,context:p,modifiers:r});Gi(s,B)||(t.goToDate(B,s),y(B))}},N={focusedDay:s,focusTarget:h,blur:m,focus:y,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return a.jsx(nQ.Provider,{value:N,children:e.children})}function OE(){var e=C.useContext(nQ);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Oge(e,t){var r=tQ(),n=DE(e,r,t);return n}var RE=C.createContext(void 0);function Rge(e){if(!Wv(e.initialProps)){var t={selected:void 0};return a.jsx(RE.Provider,{value:t,children:e.children})}return a.jsx(Mge,{initialProps:e.initialProps,children:e.children})}function Mge(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var d,u,h;if((d=t.onDayClick)===null||d===void 0||d.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,i,i,o,l)},s={selected:t.selected,onDayClick:n};return a.jsx(RE.Provider,{value:s,children:r})}function sQ(){var e=C.useContext(RE);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Uge(e,t){var r=Wn(),n=sQ(),s=TE(),i=PE(),o=OE(),l=o.focusDayAfter,d=o.focusDayBefore,u=o.focusWeekAfter,h=o.focusWeekBefore,m=o.blur,y=o.focus,p=o.focusMonthBefore,b=o.focusMonthAfter,N=o.focusYearBefore,S=o.focusYearAfter,w=o.focusStartOfWeek,B=o.focusEndOfWeek,I=function(X){var Y,K,ce,oe;Wv(r)?(Y=n.onDayClick)===null||Y===void 0||Y.call(n,e,t,X):E1(r)?(K=s.onDayClick)===null||K===void 0||K.call(s,e,t,X):j1(r)?(ce=i.onDayClick)===null||ce===void 0||ce.call(i,e,t,X):(oe=r.onDayClick)===null||oe===void 0||oe.call(r,e,t,X)},_=function(X){var Y;y(e),(Y=r.onDayFocus)===null||Y===void 0||Y.call(r,e,t,X)},P=function(X){var Y;m(),(Y=r.onDayBlur)===null||Y===void 0||Y.call(r,e,t,X)},H=function(X){var Y;(Y=r.onDayMouseEnter)===null||Y===void 0||Y.call(r,e,t,X)},D=function(X){var Y;(Y=r.onDayMouseLeave)===null||Y===void 0||Y.call(r,e,t,X)},L=function(X){var Y;(Y=r.onDayPointerEnter)===null||Y===void 0||Y.call(r,e,t,X)},T=function(X){var Y;(Y=r.onDayPointerLeave)===null||Y===void 0||Y.call(r,e,t,X)},z=function(X){var Y;(Y=r.onDayTouchCancel)===null||Y===void 0||Y.call(r,e,t,X)},M=function(X){var Y;(Y=r.onDayTouchEnd)===null||Y===void 0||Y.call(r,e,t,X)},V=function(X){var Y;(Y=r.onDayTouchMove)===null||Y===void 0||Y.call(r,e,t,X)},J=function(X){var Y;(Y=r.onDayTouchStart)===null||Y===void 0||Y.call(r,e,t,X)},Z=function(X){var Y;(Y=r.onDayKeyUp)===null||Y===void 0||Y.call(r,e,t,X)},ee=function(X){var Y;switch(X.key){case"ArrowLeft":X.preventDefault(),X.stopPropagation(),r.dir==="rtl"?l():d();break;case"ArrowRight":X.preventDefault(),X.stopPropagation(),r.dir==="rtl"?d():l();break;case"ArrowDown":X.preventDefault(),X.stopPropagation(),u();break;case"ArrowUp":X.preventDefault(),X.stopPropagation(),h();break;case"PageUp":X.preventDefault(),X.stopPropagation(),X.shiftKey?N():p();break;case"PageDown":X.preventDefault(),X.stopPropagation(),X.shiftKey?S():b();break;case"Home":X.preventDefault(),X.stopPropagation(),w();break;case"End":X.preventDefault(),X.stopPropagation(),B();break}(Y=r.onDayKeyDown)===null||Y===void 0||Y.call(r,e,t,X)},q={onClick:I,onFocus:_,onBlur:P,onKeyDown:ee,onKeyUp:Z,onMouseEnter:H,onMouseLeave:D,onPointerEnter:L,onPointerLeave:T,onTouchCancel:z,onTouchEnd:M,onTouchMove:V,onTouchStart:J};return q}function Qge(){var e=Wn(),t=sQ(),r=TE(),n=PE(),s=Wv(e)?t.selected:E1(e)?r.selected:j1(e)?n.selected:void 0;return s}function Hge(e){return Object.values(ql).includes(e)}function Vge(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(Hge(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Kge(e,t){var r=yr({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=yr(yr({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function zge(e,t,r){var n,s,i,o=Wn(),l=OE(),d=Oge(e,t),u=Uge(e,d),h=Qge(),m=!!(o.onDayClick||o.mode!=="default");C.useEffect(function(){var H;d.outside||l.focusedDay&&m&&Gi(l.focusedDay,e)&&((H=r.current)===null||H===void 0||H.focus())},[l.focusedDay,e,r,m,d.outside]);var y=Vge(o,d).join(" "),p=Kge(o,d),b=!!(d.outside&&!o.showOutsideDays||d.hidden),N=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Age,S=a.jsx(N,{date:e,displayMonth:t,activeModifiers:d}),w={style:p,className:y,children:S,role:"gridcell"},B=l.focusTarget&&Gi(l.focusTarget,e)&&!d.outside,I=l.focusedDay&&Gi(l.focusedDay,e),_=yr(yr(yr({},w),(n={disabled:d.disabled,role:"gridcell"},n["aria-selected"]=d.selected,n.tabIndex=I||B?0:-1,n)),u),P={isButton:m,isHidden:b,activeModifiers:d,selectedDays:h,buttonProps:_,divProps:w};return P}function Wge(e){var t=C.useRef(null),r=zge(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(p2,yr({name:"day",ref:t},r.buttonProps)):a.jsx("div",yr({},r.divProps))}function Gge(e){var t=e.number,r=e.dates,n=Wn(),s=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,d=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,h=u(Number(t),{locale:l});if(!s)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:h});var m=d(Number(t),{locale:l}),y=function(p){s(t,r,p)};return a.jsx(p2,{name:"week-number","aria-label":m,className:o.weeknumber,style:i.weeknumber,onClick:y,children:h})}function $ge(e){var t,r,n=Wn(),s=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,d=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Wge,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Gge,h;return o&&(h=a.jsx("td",{className:i.cell,style:s.cell,children:a.jsx(u,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:i.row,style:s.row,children:[h,e.dates.map(function(m){return a.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:a.jsx(d,{displayMonth:e.displayMonth,date:m})},Npe(m))})]})}function R_(e,t,r){for(var n=r!=null&&r.ISOWeek?H9(t):FE(t,r),s=r!=null&&r.ISOWeek?of(e):Rc(e,r),i=Cc(n,s),o=[],l=0;l<=i;l++)o.push(Ci(s,l));var d=o.reduce(function(u,h){var m=r!=null&&r.ISOWeek?K9(h):W9(h,r),y=u.find(function(p){return p.weekNumber===m});return y?(y.dates.push(h),u):(u.push({weekNumber:m,dates:[h]}),u)},[]);return d}function qge(e,t){var r=R_(to(e),IE(e),t);if(t!=null&&t.useFixedWeeks){var n=Spe(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],o=j3(i,6-n),l=R_(j3(i,1),o,t);r.push.apply(r,l)}}return r}function Xge(e){var t,r,n,s=Wn(),i=s.locale,o=s.classNames,l=s.styles,d=s.hideHead,u=s.fixedWeeks,h=s.components,m=s.weekStartsOn,y=s.firstWeekContainsDate,p=s.ISOWeek,b=qge(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:m,firstWeekContainsDate:y}),N=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:uge,S=(r=h==null?void 0:h.Row)!==null&&r!==void 0?r:$ge,w=(n=h==null?void 0:h.Footer)!==null&&n!==void 0?n:lge;return a.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&a.jsx(N,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:b.map(function(B){return a.jsx(S,{displayMonth:e.displayMonth,dates:B.dates,weekNumber:B.weekNumber},B.weekNumber)})}),a.jsx(w,{displayMonth:e.displayMonth})]})}function Yge(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Zge=Yge()?C.useLayoutEffect:C.useEffect,EC=!1,Jge=0;function M_(){return"react-day-picker-".concat(++Jge)}function e1e(e){var t,r=e??(EC?M_():null),n=C.useState(r),s=n[0],i=n[1];return Zge(function(){s===null&&i(M_())},[]),C.useEffect(function(){EC===!1&&(EC=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function t1e(e){var t,r,n=Wn(),s=n.dir,i=n.classNames,o=n.styles,l=n.components,d=I1().displayMonths,u=e1e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),h=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],y=o.month,p=e.displayIndex===0,b=e.displayIndex===d.length-1,N=!p&&!b;s==="rtl"&&(t=[p,b],b=t[0],p=t[1]),p&&(m.push(i.caption_start),y=yr(yr({},y),o.caption_start)),b&&(m.push(i.caption_end),y=yr(yr({},y),o.caption_end)),N&&(m.push(i.caption_between),y=yr(yr({},y),o.caption_between));var S=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:oge;return a.jsxs("div",{className:m.join(" "),style:y,children:[a.jsx(S,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(Xge,{id:h,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function r1e(e){var t=Wn(),r=t.classNames,n=t.styles;return a.jsx("div",{className:r.months,style:n.months,children:e.children})}function n1e(e){var t,r,n=e.initialProps,s=Wn(),i=OE(),o=I1(),l=C.useState(!1),d=l[0],u=l[1];C.useEffect(function(){s.initialFocus&&i.focusTarget&&(d||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,d,i.focus,i.focusTarget,i]);var h=[s.classNames.root,s.className];s.numberOfMonths>1&&h.push(s.classNames.multiple_months),s.showWeekNumber&&h.push(s.classNames.with_weeknumber);var m=yr(yr({},s.styles.root),s.style),y=Object.keys(n).filter(function(b){return b.startsWith("data-")}).reduce(function(b,N){var S;return yr(yr({},b),(S={},S[N]=n[N],S))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:r1e;return a.jsx("div",yr({className:h.join(" "),style:m,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},y,{children:a.jsx(p,{children:o.displayMonths.map(function(b,N){return a.jsx(t1e,{displayIndex:N,displayMonth:b},N)})})}))}function s1e(e){var t=e.children,r=jpe(e,["children"]);return a.jsx(Gpe,{initialProps:r,children:a.jsx(nge,{children:a.jsx(Rge,{initialProps:r,children:a.jsx(hge,{initialProps:r,children:a.jsx(pge,{initialProps:r,children:a.jsx(Nge,{children:a.jsx(Dge,{children:t})})})})})})})}function a1e(e){return a.jsx(s1e,yr({},e,{children:a.jsx(n1e,{initialProps:e})}))}function g2({className:e,classNames:t,showOutsideDays:r=!0,...n}){return a.jsx(a1e,{showOutsideDays:r,className:Br("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Br(S3({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Br(S3({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(QA,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(gr,{className:"h-4 w-4"})},...n})}g2.displayName="Calendar";const U_=e=>e&&"permissions"in e&&Array.isArray(e.permissions),Q_=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",i1e=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(""),[o,l]=C.useState("card"),[d,u]=C.useState(!1),[h,m]=C.useState(null),[y,p]=C.useState(""),[b,N]=C.useState("asc"),[S,w]=C.useState(null),[B,I]=C.useState([]),[_,P]=C.useState(""),[H,D]=C.useState(""),[L,T]=C.useState(""),[z,M]=C.useState(""),[V,J]=C.useState(""),[Z,ee]=C.useState(""),[q,X]=C.useState(""),[Y,K]=C.useState(new Date),[ce,oe]=C.useState(Po(new Date,1)),[Q,G]=C.useState([]),[te,se]=C.useState(!1),[de,ge]=C.useState([]),[ue,Ee]=C.useState([]),[ke,_e]=C.useState([]),[Oe,He]=C.useState(null),[Ne,me]=C.useState(null),[Pe,nt]=C.useState(""),[Xe,Ue]=C.useState(""),[yt,We]=C.useState(""),[Vt,Le]=C.useState(""),[rt,mt]=C.useState(""),At=Ur(),{user:wt}=Ys(),Ft=fl(),xt=Ge=>{y===Ge?N(b==="asc"?"desc":"asc"):(p(Ge),N("asc"))},Rt=Je.useMemo(()=>y?[...e].sort((Ge,vt)=>{var Qt,wr,Lt,tr,rr,Vr,Et,rn,ys,qr,In,Or,wn,on;let gt,Bt;switch(y){case"name":gt=((Qt=Ge.name)==null?void 0:Qt.toLowerCase())||"",Bt=((wr=vt.name)==null?void 0:wr.toLowerCase())||"";break;case"registrationNumber":gt=((Lt=Ge.registrationNumber)==null?void 0:Lt.toLowerCase())||"",Bt=((tr=vt.registrationNumber)==null?void 0:tr.toLowerCase())||"";break;case"email":gt=((rr=Ge.email)==null?void 0:rr.toLowerCase())||"",Bt=((Vr=vt.email)==null?void 0:Vr.toLowerCase())||"";break;case"phone":gt=Ge.phone||"",Bt=vt.phone||"";break;case"membershipEnd":gt=new Date(Ge.membershipEnd||0).getTime(),Bt=new Date(vt.membershipEnd||0).getTime();break;case"seat":gt=((Et=Ge.seatNumber)==null?void 0:Et.toLowerCase())||((qr=(ys=(rn=Ge.assignments)==null?void 0:rn[0])==null?void 0:ys.seatNumber)==null?void 0:qr.toLowerCase())||"",Bt=((In=vt.seatNumber)==null?void 0:In.toLowerCase())||((on=(wn=(Or=vt.assignments)==null?void 0:Or[0])==null?void 0:wn.seatNumber)==null?void 0:on.toLowerCase())||"";break;default:return 0}return gt<Bt?b==="asc"?-1:1:gt>Bt?b==="asc"?1:-1:0}):e,[e,y,b]),Ct=Ge=>y!==Ge?null:b==="asc"?a.jsx(hv,{size:16}):a.jsx(p1,{size:16});C.useEffect(()=>{(async()=>{try{const gt=(await Re.getBranches()||[]).map(Bt=>({value:Bt.id,label:Bt.name}));Ee(gt),I([{value:null,label:"All Branches"},...gt])}catch(vt){console.error("Error fetching branches:",vt),Se.error(vt.message||"Failed to fetch branches.")}})()},[]),C.useEffect(()=>{(async()=>{n(!0);try{const Ge=await Re.getExpiredMemberships(S==null?void 0:S.value);t(Ge.students)}catch(Ge){console.error("Error fetching expired memberships:",Ge),Se.error(Ge.message||"Failed to fetch expired memberships.")}finally{n(!1)}})()},[S]),C.useEffect(()=>{Ne!=null&&Ne.value?(async()=>{se(!0);try{const vt=await Re.getSchedules(Ne.value);G(vt.schedules.map(gt=>({value:gt.id,label:gt.title})))}catch(vt){console.error("Error fetching shifts for branch:",vt),Se.error("Failed to fetch shifts."),G([])}finally{se(!1)}})():G([])},[Ne]),C.useEffect(()=>{ke.length>0&&(Ne!=null&&Ne.value)&&h?(async()=>{var vt;try{const gt=new Map;for(const wr of ke)((await Re.getSeats({branchId:Ne.value,shiftId:wr.value})).seats||[]).filter(Vr=>{const Et=(Vr.shifts||[]).find(rn=>rn.shiftId===wr.value);return Et?!Et.isAssigned:!0}).forEach(Vr=>{gt.has(Vr.id)||gt.set(Vr.id,Vr)});const Bt=(vt=h.assignments)==null?void 0:vt[0];if(Bt&&!gt.has(Bt.seatId)){const tr=((await Re.getSeats({branchId:Ne.value})).seats||[]).find(rr=>rr.id===Bt.seatId);tr&&gt.set(tr.id,tr)}const Qt=Array.from(gt.values());ge([{value:null,label:"None"},...Qt.map(wr=>({value:wr.id,label:wr.seatNumber}))]),Oe&&!Qt.some(wr=>wr.id===Oe.value)&&He(null)}catch(gt){console.error("Error fetching seats:",gt),Se.error("Failed to fetch seats."),ge([])}})():ge([])},[ke,Ne,h]);const Kr=async Ge=>{try{n(!0);const vt=await Re.getStudent(Ge.id);m(vt),K(new Date),oe(Po(new Date,1)),P(vt.name||""),D(vt.registrationNumber||""),T(vt.fatherName||""),M(vt.aadharNumber||""),ee(vt.email||""),X(vt.phone||""),J(vt.address||""),me(vt.branchId?{value:vt.branchId,label:vt.branchName}:null);const gt=vt.assignments||[];_e(gt.map(Bt=>({value:Bt.shiftId,label:Bt.shiftTitle}))),setTimeout(()=>{const Bt=gt[0];He(Bt?{value:Bt.seatId,label:Bt.seatNumber}:null)},200),nt(vt.totalFee?vt.totalFee.toString():"0"),Ue(vt.cash?vt.cash.toString():"0"),We(vt.online?vt.online.toString():"0"),Le(vt.securityMoney?vt.securityMoney.toString():"0"),mt(vt.remark||""),u(!0)}catch(vt){console.error("Failed to fetch student details for renewal:",vt),Se.error("Failed to load student details for renewal.")}finally{n(!1)}},Gt=Ge=>{const gt=`https://wa.me/${Ge.replace(/\D/g,"")}`;window.open(gt,"_blank")},$e=async()=>{var Ge,vt,gt;if(!h||!Y||!ce||!_.trim()||!q.trim()||!V.trim()||ke.length===0||!Pe||!(Ne!=null&&Ne.value)){Se.error("Please ensure Name, Phone, Address, Branch, at least one Shift, and Fee are filled correctly.");return}try{await Re.renewStudent(h.id,{name:_,registrationNumber:H,fatherName:L,aadharNumber:z,address:V,membershipStart:Vd(Y,"yyyy-MM-dd"),membershipEnd:Vd(ce,"yyyy-MM-dd"),email:Z,phone:q,branchId:Ne.value,shiftIds:ke.map(Qt=>Qt.value),seatId:Oe?Oe.value:void 0,totalFee:parseFloat(Pe),cash:parseFloat(Xe)||0,online:parseFloat(yt)||0,securityMoney:parseFloat(Vt)||0,remark:rt.trim()||void 0}),Se.success(`Membership renewed for ${h.name}`),u(!1);const Bt=await Re.getExpiredMemberships(S==null?void 0:S.value);t(Bt.students)}catch(Bt){console.error("Renew error:",((Ge=Bt.response)==null?void 0:Ge.data)||Bt.message),Se.error(((gt=(vt=Bt.response)==null?void 0:vt.data)==null?void 0:gt.message)||"Failed to renew membership")}},It=parseFloat(Xe)||0,Kt=parseFloat(yt)||0,Nt=It+Kt,br=(parseFloat(Pe)||0)-Nt;return wt?a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(an,{isCollapsed:!1,setIsCollapsed:()=>{},onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[a.jsx(zn,{}),a.jsx("div",{className:"border-b bg-white/80 backdrop-blur-md",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:a.jsxs("div",{className:"flex gap-3 overflow-x-auto py-3",children:[a.jsxs(Tt,{to:"/students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm ring-1 ring-transparent transition-colors ${Ft.pathname.startsWith("/students")&&!Ft.pathname.startsWith("/students/")?"bg-indigo-100 text-indigo-700":"text-slate-700 hover:bg-slate-100 hover:ring-slate-200"}`,children:[a.jsx(ui,{className:"h-4 w-4"}),"All Students"]}),a.jsxs(Tt,{to:"/active-students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm ring-1 ring-transparent transition-colors ${Ft.pathname.startsWith("/active-students")?"bg-emerald-100 text-emerald-700":"text-slate-700 hover:bg-slate-100 hover:ring-slate-200"}`,children:[a.jsx(Ii,{className:"h-4 w-4"}),"Active Students"]}),a.jsxs(Tt,{to:"/expired-memberships",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm ring-1 ring-transparent transition-colors ${Ft.pathname.startsWith("/expired-memberships")?"bg-rose-100 text-rose-700":"text-slate-700 hover:bg-slate-100 hover:ring-slate-200"}`,children:[a.jsx(na,{className:"h-4 w-4"}),"Expired Memberships"]}),a.jsxs(Tt,{to:"/expiring-memberships?range=1-2",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm ring-1 ring-transparent transition-colors ${Ft.pathname.startsWith("/expiring-memberships")?"bg-amber-100 text-amber-700":"text-slate-700 hover:bg-slate-100 hover:ring-slate-200"}`,children:[a.jsx(Zn,{className:"h-4 w-4"}),"Expiring 1–2 Days"]})]})})}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 gap-3 flex-wrap",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Expired Memberships"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>l("list"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${o==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"List View",children:[a.jsx(kA,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"List"})]}),a.jsxs("button",{onClick:()=>l("card"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${o==="card"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Card View",children:[a.jsx(Qd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Cards"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(To,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{className:"pl-10 pr-4 py-2 border rounded",placeholder:"Search by name, phone, or Reg. No.",value:s,onChange:Ge=>i(Ge.target.value)})]}),a.jsx("div",{className:"w-64",children:a.jsx(Ni,{options:B,value:S,onChange:w,placeholder:"Filter by Branch",isClearable:!0})})]}),r?a.jsx("p",{children:"Loading..."}):o==="list"?a.jsxs(Zd,{children:[a.jsx(Jd,{children:a.jsxs(ks,{children:[a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>xt("name"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Name"}),Ct("name")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>xt("registrationNumber"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Registration Number"}),Ct("registrationNumber")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>xt("email"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Email"}),Ct("email")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>xt("phone"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Phone"}),Ct("phone")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>xt("seat"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Seat"}),Ct("seat")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>xt("membershipEnd"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Expiry"}),Ct("membershipEnd")]})}),a.jsx(hr,{children:"Actions"})]})}),a.jsx(eu,{children:Rt.filter(Ge=>Ge.name.toLowerCase().includes(s.toLowerCase())||Ge.phone&&Ge.phone.includes(s)||Ge.registrationNumber&&Ge.registrationNumber.toLowerCase().includes(s.toLowerCase())).map(Ge=>{var vt,gt;return a.jsxs(ks,{children:[a.jsx(sr,{children:Ge.name}),a.jsx(sr,{children:Ge.registrationNumber||"N/A"}),a.jsx(sr,{children:Ge.email}),a.jsx(sr,{children:Ge.phone}),a.jsx(sr,{children:Ge.seatNumber||((gt=(vt=Ge.assignments)==null?void 0:vt[0])==null?void 0:gt.seatNumber)||"N/A"}),a.jsx(sr,{children:Q_(Ge.membershipEnd)}),a.jsxs(sr,{className:"space-x-2",children:[a.jsx(Jt,{onClick:()=>At(`/students/${Ge.id}`),variant:"outline",children:a.jsx(ya,{size:16})}),((wt==null?void 0:wt.role)==="admin"||(wt==null?void 0:wt.role)==="staff")&&a.jsxs(Jt,{onClick:()=>Kr(Ge),children:[a.jsx(gr,{size:16})," Renew"]}),((wt==null?void 0:wt.role)==="admin"||U_(wt)&&wt.permissions.includes("manage_students"))&&a.jsx(Jt,{variant:"destructive",onClick:async()=>{if(window.confirm("Are you sure you want to delete this student? This action cannot be undone."))try{await Re.deleteStudent(Ge.id),t(e.filter(Bt=>Bt.id!==Ge.id)),Se.success("Student deleted successfully.")}catch(Bt){Se.error(Bt.message||"Failed to delete student.")}},children:a.jsx(Xs,{size:16})}),a.jsx(Jt,{variant:"outline",onClick:()=>Gt(Ge.phone),title:"Send WhatsApp Message",children:a.jsx(hI,{size:16})})]})]},Ge.id)})})]}):a.jsx("div",{className:"p-2 sm:p-4",children:e.filter(Ge=>Ge.name.toLowerCase().includes(s.toLowerCase())||Ge.phone&&Ge.phone.includes(s)||Ge.registrationNumber&&Ge.registrationNumber.toLowerCase().includes(s.toLowerCase())).length>0?a.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-stretch",children:e.filter(Ge=>Ge.name.toLowerCase().includes(s.toLowerCase())||Ge.phone&&Ge.phone.includes(s)||Ge.registrationNumber&&Ge.registrationNumber.toLowerCase().includes(s.toLowerCase())).map(Ge=>{var vt,gt;return a.jsxs("div",{className:"rounded-xl border shadow-sm p-4 flex flex-col h-full bg-gradient-to-br from-rose-50 to-rose-100 border-rose-200",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:Ge.name}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(us,{className:"h-3.5 w-3.5 text-indigo-400"})," Reg: ",Ge.registrationNumber||"N/A"]})]}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800",children:"Expired"})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(di,{className:"h-3.5 w-3.5 text-slate-400"})," Phone"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:Ge.phone})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(FS,{className:"h-3.5 w-3.5 text-slate-400"})," Seat"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:Ge.seatNumber||((gt=(vt=Ge.assignments)==null?void 0:vt[0])==null?void 0:gt.seatNumber)||"N/A"})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60 col-span-2",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(us,{className:"h-3.5 w-3.5 text-slate-400"})," Expiry"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:Q_(Ge.membershipEnd)})]})]}),a.jsx("div",{className:"mt-4 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{onClick:()=>At(`/students/${Ge.id}`),variant:"outline",title:"View Details",children:a.jsx(ya,{size:16})}),((wt==null?void 0:wt.role)==="admin"||(wt==null?void 0:wt.role)==="staff")&&a.jsx(Jt,{onClick:()=>Kr(Ge),title:"Renew",children:"Renew"}),((wt==null?void 0:wt.role)==="admin"||U_(wt)&&wt.permissions.includes("manage_students"))&&a.jsx(Jt,{variant:"destructive",onClick:async()=>{if(window.confirm("Are you sure you want to delete this student? This action cannot be undone."))try{await Re.deleteStudent(Ge.id),t(e.filter(Bt=>Bt.id!==Ge.id)),Se.success("Student deleted successfully.")}catch(Bt){Se.error(Bt.message||"Failed to delete student.")}},children:a.jsx(Xs,{size:16})}),a.jsx(Jt,{variant:"outline",onClick:()=>Gt(Ge.phone),title:"Send WhatsApp Message",children:a.jsx(hI,{size:16})})]})})]},Ge.id)})}):a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No expired students found."})})]}),a.jsx(I0,{open:d,onOpenChange:u,children:a.jsxs(Dh,{className:"max-h-[90vh] overflow-y-auto",children:[a.jsxs(Oh,{children:[a.jsx(Mh,{children:"Renew Membership"}),a.jsxs(Uh,{children:["Renew for ",h==null?void 0:h.name]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Branch"}),a.jsx(Ni,{options:ue,value:Ne,onChange:Ge=>{me(Ge),_e([]),He(null),nt("")},placeholder:"Select a branch"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Name"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:_,onChange:Ge=>P(Ge.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Registration Number"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:H,onChange:Ge=>D(Ge.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Father's Name"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:L,onChange:Ge=>T(Ge.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Aadhar Number"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:z,onChange:Ge=>M(Ge.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Address"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 mt-1",value:V,onChange:Ge=>J(Ge.target.value),rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Start Date"}),a.jsx(g2,{mode:"single",selected:Y,onSelect:K,className:"rounded-md border"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"End Date"}),a.jsx(g2,{mode:"single",selected:ce,onSelect:oe,className:"rounded-md border"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Email"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"email",value:Z,onChange:Ge=>ee(Ge.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Phone"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"tel",value:q,onChange:Ge=>X(Ge.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Branch"}),a.jsx(Ni,{options:ue,value:Ne,onChange:me,placeholder:"Select Branch"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Shifts"}),a.jsx(Ni,{options:Q,value:ke,onChange:Ge=>_e([...Ge]),placeholder:"Select Shifts",isMulti:!0,closeMenuOnSelect:!1})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Seat"}),a.jsx(Ni,{options:de,value:Oe,onChange:He,placeholder:"Select Seat",isDisabled:ke.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Total Fee"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:Pe,onChange:Ge=>nt(Ge.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Cash Payment"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:Xe,onChange:Ge=>Ue(Ge.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Online Payment"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:yt,onChange:Ge=>We(Ge.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Security Money"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:Vt,onChange:Ge=>Le(Ge.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Amount Paid"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1 bg-gray-100",type:"number",value:Nt.toFixed(2),readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Due Amount"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1 bg-gray-100",type:"number",value:br.toFixed(2),readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Remark"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 mt-1",value:rt,onChange:Ge=>mt(Ge.target.value),rows:3})]})]}),a.jsxs(Rh,{children:[a.jsx(Jt,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),a.jsx(Jt,{onClick:$e,children:"Renew Membership"})]})]})})]})]}):(At("/login"),null)},H_=""+new URL("invoiceimage-CC0K_7ae.jpg",import.meta.url).href,jC=e=>{if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"N/A":t.toISOString().split("T")[0]},o1e=()=>{const{id:e}=Xd(),t=Ur(),[r,n]=C.useState(null),[s,i]=C.useState(!0),[o,l]=C.useState(null),d=C.useRef(null),[u,h]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const S=parseInt(e,10);if(isNaN(S))throw new Error("Invalid student ID");const w=await Re.getStudent(S);if(!w)throw new Error("Student data not found");console.log("Fetched student data:",w);const _=new Date(w.membershipEnd)<new Date;n({...w,status:_?"expired":w.status,totalFee:w.totalFee,amountPaid:w.amountPaid,dueAmount:w.dueAmount,cash:w.cash,online:w.online,securityMoney:w.securityMoney??0,discount:w.discount??0}),l(null)}catch(S){console.error("Failed to fetch student:",S);const w=S.message==="Server error"?"Failed to load student details due to a server error. Please try again later.":S.message;l(w),Se.error(w),n(null)}finally{i(!1)}})()},[e]);const m=async()=>{if(window.confirm("Are you sure you want to delete this student?"))try{const N=parseInt(e,10);if(isNaN(N))throw new Error("Invalid student ID");await Re.deleteStudent(N),Se.success("Student deleted successfully"),t("/students")}catch(N){console.error("Failed to delete student:",N.message);const S=N.message==="Student not found"?"Student not found. It may have already been deleted.":"Failed to delete student: "+N.message;Se.error(S)}},y=()=>{window.print()};if(s)return a.jsx("div",{children:"Loading student details..."});if(o)return a.jsx("div",{children:o});if(!r)return a.jsx("div",{children:"Student not found"});const p=r.assignments&&r.assignments.length>0?r.assignments.map(N=>N.shiftTitle).filter(Boolean).join(", "):void 0,b=r.assignments&&r.assignments.length>0?Array.from(new Set(r.assignments.map(N=>N.seatNumber).filter(Boolean))).join(", "):void 0;return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          @media print {
            body {
              margin: 0;
              padding: 0;
              -webkit-print-color-adjust: exact;
            }
            .no-print {
              display: none !important;
            }
            .print-logo {
              width: 15%;
              max-width: 15%;
              display: block;
              margin: 0 auto 20px auto;
            }
            .print-title {
              text-align: center;
              color: #f97316;
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 20px;
            }
            .print-container {
              padding: 20px;
            }
          }
        `}),a.jsxs("div",{className:"flex h-screen bg-gray-50 no-print",children:[a.jsx(an,{isCollapsed:u,setIsCollapsed:h,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto print-container",ref:d,children:[a.jsx("h1",{className:"print-title hidden print:block",children:"Student Details"}),a.jsxs("button",{onClick:()=>t(-1),className:"mb-4 flex items-center text-purple-600 hover:text-purple-800 no-print",children:[a.jsx(ml,{size:20,className:"mr-2"}),"Back"]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[a.jsx("div",{className:"flex justify-center mb-6 no-print",children:a.jsx("img",{src:H_,alt:"SDM Library Logo",className:"max-w-[250px]"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6 no-print",children:"Student Details"}),r.profileImageUrl&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-2",children:"Profile Image"}),a.jsx("img",{src:r.profileImageUrl,alt:"Profile",className:"w-32 h-32 object-cover rounded-full"})]}),r.aadhaarFrontUrl&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-2",children:"Aadhaar Front Image"}),a.jsx("img",{src:r.aadhaarFrontUrl,alt:"Aadhaar Front",className:"w-32 h-32 object-cover rounded"})]}),r.aadhaarBackUrl&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-2",children:"Aadhaar Back Image"}),a.jsx("img",{src:r.aadhaarBackUrl,alt:"Aadhaar Back",className:"w-32 h-32 object-cover rounded"})]}),a.jsx("img",{src:H_,alt:"SDM Library Logo",className:"print-logo hidden print:block"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Name"}),a.jsx("p",{className:"text-gray-600",children:r.name||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Registration Number"}),a.jsx("p",{className:"text-gray-600",children:r.registrationNumber||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Father's Name"}),a.jsx("p",{className:"text-gray-600",children:r.fatherName||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Aadhar Number"}),a.jsx("p",{className:"text-gray-600",children:r.aadharNumber||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Email"}),a.jsx("p",{className:"text-gray-600",children:r.email||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Phone"}),a.jsx("p",{className:"text-gray-600",children:r.phone||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Address"}),a.jsx("p",{className:"text-gray-600",children:r.address||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Branch"}),a.jsx("p",{className:"text-gray-600",children:r.branchName||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Status"}),a.jsx("p",{className:`inline-block px-2 py-1 rounded-full text-xs ${r.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.status==="active"?"Active":"Expired"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Membership Start"}),a.jsx("p",{className:"text-gray-600",children:jC(r.membershipStart)})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Membership End"}),a.jsx("p",{className:"text-gray-600",children:jC(r.membershipEnd)})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Assigned Shift(s)"}),a.jsx("p",{className:"text-gray-600",children:p||"No shift assigned"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Seat Number(s)"}),a.jsx("p",{className:"text-gray-600",children:b||"None"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Locker Number"}),a.jsx("p",{className:"text-gray-600",children:r.lockerNumber||"None"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Total Fee"}),a.jsx("p",{className:"text-gray-600",children:r.totalFee!==void 0&&r.totalFee!==null?`Rs. ${r.totalFee.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Amount Paid"}),a.jsx("p",{className:"text-gray-600",children:r.amountPaid!==void 0&&r.amountPaid!==null?`Rs. ${r.amountPaid.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Due Amount"}),a.jsx("p",{className:"text-gray-600",children:r.dueAmount!==void 0&&r.dueAmount!==null?`Rs. ${r.dueAmount.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Cash Payment"}),a.jsx("p",{className:"text-gray-600",children:r.cash!==void 0&&r.cash!==null?`Rs. ${r.cash.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Online Payment"}),a.jsx("p",{className:"text-gray-600",children:r.online!==void 0&&r.online!==null?`Rs. ${r.online.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Security Money"}),a.jsx("p",{className:"text-gray-600",children:r.securityMoney!==void 0&&r.securityMoney!==null?`Rs. ${r.securityMoney.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Discount"})," ",a.jsx("p",{className:"text-gray-600",children:r.discount!==void 0&&r.discount!==null?`Rs. ${r.discount.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Created At"}),a.jsx("p",{className:"text-gray-600",children:jC(r.createdAt)})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("h2",{className:"text-lg font-medium",children:"Remark"}),a.jsx("p",{className:"text-gray-600",children:r.remark||"N/A"})]})]}),a.jsxs("div",{className:"mt-6 flex space-x-4 no-print",children:[a.jsxs("button",{onClick:()=>t(`/students/${r.id}/edit`),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[a.jsx(MS,{size:16,className:"mr-2"}),"Edit"]}),a.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[a.jsx(Xs,{size:16,className:"mr-2"}),"Delete"]}),a.jsxs("button",{onClick:y,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[a.jsx(OS,{size:16,className:"mr-2"}),"Print"]})]})]})]})})]})]})]})};var l1e="Label",aQ=C.forwardRef((e,t)=>a.jsx(tn.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));aQ.displayName=l1e;var iQ=aQ;const c1e=Kv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Dt=C.forwardRef(({className:e,...t},r)=>a.jsx(iQ,{ref:r,className:Br(c1e(),e),...t}));Dt.displayName=iQ.displayName;function V_(e,[t,r]){return Math.min(r,Math.max(t,e))}function d1e(e,t=[]){let r=[];function n(i,o){const l=C.createContext(o),d=r.length;r=[...r,o];function u(m){const{scope:y,children:p,...b}=m,N=(y==null?void 0:y[e][d])||l,S=C.useMemo(()=>b,Object.values(b));return a.jsx(N.Provider,{value:S,children:p})}function h(m,y){const p=(y==null?void 0:y[e][d])||l,b=C.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>C.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return s.scopeName=e,[n,u1e(s,...t)]}function u1e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:d,scopeName:u})=>{const m=d(i)[`__scope${u}`];return{...l,...m}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function oQ(e){const t=e+"CollectionProvider",[r,n]=d1e(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:b,children:N}=p,S=Je.useRef(null),w=Je.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:w,collectionRef:S,children:N})};o.displayName=t;const l=e+"CollectionSlot",d=Je.forwardRef((p,b)=>{const{scope:N,children:S}=p,w=i(l,N),B=rs(b,w.collectionRef);return a.jsx(Xh,{ref:B,children:S})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=Je.forwardRef((p,b)=>{const{scope:N,children:S,...w}=p,B=Je.useRef(null),I=rs(b,B),_=i(u,N);return Je.useEffect(()=>(_.itemMap.set(B,{ref:B,...w}),()=>void _.itemMap.delete(B))),a.jsx(Xh,{[h]:"",ref:I,children:S})});m.displayName=u;function y(p){const b=i(e+"CollectionConsumer",p);return Je.useCallback(()=>{const S=b.collectionRef.current;if(!S)return[];const w=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((_,P)=>w.indexOf(_.ref.current)-w.indexOf(P.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},y,n]}var A1e=C.createContext(void 0);function ME(e){const t=C.useContext(A1e);return e||t||"ltr"}function lQ(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var h1e=[" ","Enter","ArrowUp","ArrowDown"],f1e=[" ","Enter"],F1="Select",[Gv,$v,m1e]=oQ(F1),[Sm,Z4e]=A1(F1,[m1e,tv]),qv=tv(),[p1e,HA]=Sm(F1),[g1e,x1e]=Sm(F1),cQ=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:u,name:h,autoComplete:m,disabled:y,required:p,form:b}=e,N=qv(t),[S,w]=C.useState(null),[B,I]=C.useState(null),[_,P]=C.useState(!1),H=ME(u),[D=!1,L]=Zh({prop:n,defaultProp:s,onChange:i}),[T,z]=Zh({prop:o,defaultProp:l,onChange:d}),M=C.useRef(null),V=S?b||!!S.closest("form"):!0,[J,Z]=C.useState(new Set),ee=Array.from(J).map(q=>q.props.value).join(";");return a.jsx(ZD,{...N,children:a.jsxs(p1e,{required:p,scope:t,trigger:S,onTriggerChange:w,valueNode:B,onValueNodeChange:I,valueNodeHasChildren:_,onValueNodeHasChildrenChange:P,contentId:Id(),value:T,onValueChange:z,open:D,onOpenChange:L,dir:H,triggerPointerDownPosRef:M,disabled:y,children:[a.jsx(Gv.Provider,{scope:t,children:a.jsx(g1e,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(q=>{Z(X=>new Set(X).add(q))},[]),onNativeOptionRemove:C.useCallback(q=>{Z(X=>{const Y=new Set(X);return Y.delete(q),Y})},[]),children:r})}),V?a.jsxs(LQ,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:m,value:T,onChange:q=>z(q.target.value),disabled:y,form:b,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(J)]},ee):null]})})};cQ.displayName=F1;var dQ="SelectTrigger",uQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=qv(r),o=HA(dQ,r),l=o.disabled||n,d=rs(t,o.onTriggerChange),u=$v(r),h=C.useRef("touch"),[m,y,p]=PQ(N=>{const S=u().filter(I=>!I.disabled),w=S.find(I=>I.value===o.value),B=DQ(S,N,w);B!==void 0&&o.onValueChange(B.value)}),b=N=>{l||(o.onOpenChange(!0),p()),N&&(o.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return a.jsx(JD,{asChild:!0,...i,children:a.jsx(tn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TQ(o.value)?"":void 0,...s,ref:d,onClick:_r(s.onClick,N=>{N.currentTarget.focus(),h.current!=="mouse"&&b(N)}),onPointerDown:_r(s.onPointerDown,N=>{h.current=N.pointerType;const S=N.target;S.hasPointerCapture(N.pointerId)&&S.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(b(N),N.preventDefault())}),onKeyDown:_r(s.onKeyDown,N=>{const S=m.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&y(N.key),!(S&&N.key===" ")&&h1e.includes(N.key)&&(b(),N.preventDefault())})})})});uQ.displayName=dQ;var AQ="SelectValue",hQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,d=HA(AQ,r),{onValueNodeHasChildrenChange:u}=d,h=i!==void 0,m=rs(t,d.onValueNodeChange);return Fi(()=>{u(h)},[u,h]),a.jsx(tn.span,{...l,ref:m,style:{pointerEvents:"none"},children:TQ(d.value)?a.jsx(a.Fragment,{children:o}):i})});hQ.displayName=AQ;var y1e="SelectIcon",fQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(tn.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});fQ.displayName=y1e;var w1e="SelectPortal",mQ=e=>a.jsx(vS,{asChild:!0,...e});mQ.displayName=w1e;var lf="SelectContent",pQ=C.forwardRef((e,t)=>{const r=HA(lf,e.__scopeSelect),[n,s]=C.useState();if(Fi(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?MA.createPortal(a.jsx(gQ,{scope:e.__scopeSelect,children:a.jsx(Gv.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(xQ,{...e,ref:t})});pQ.displayName=lf;var Il=10,[gQ,VA]=Sm(lf),v1e="SelectContentImpl",xQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:y,collisionPadding:p,sticky:b,hideWhenDetached:N,avoidCollisions:S,...w}=e,B=HA(lf,r),[I,_]=C.useState(null),[P,H]=C.useState(null),D=rs(t,ge=>_(ge)),[L,T]=C.useState(null),[z,M]=C.useState(null),V=$v(r),[J,Z]=C.useState(!1),ee=C.useRef(!1);C.useEffect(()=>{if(I)return x9(I)},[I]),c9();const q=C.useCallback(ge=>{const[ue,...Ee]=V().map(Oe=>Oe.ref.current),[ke]=Ee.slice(-1),_e=document.activeElement;for(const Oe of ge)if(Oe===_e||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===ue&&P&&(P.scrollTop=0),Oe===ke&&P&&(P.scrollTop=P.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==_e))return},[V,P]),X=C.useCallback(()=>q([L,I]),[q,L,I]);C.useEffect(()=>{J&&X()},[J,X]);const{onOpenChange:Y,triggerPointerDownPosRef:K}=B;C.useEffect(()=>{if(I){let ge={x:0,y:0};const ue=ke=>{var _e,Oe;ge={x:Math.abs(Math.round(ke.pageX)-(((_e=K.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Oe=K.current)==null?void 0:Oe.y)??0))}},Ee=ke=>{ge.x<=10&&ge.y<=10?ke.preventDefault():I.contains(ke.target)||Y(!1),document.removeEventListener("pointermove",ue),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[I,Y,K]),C.useEffect(()=>{const ge=()=>Y(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[Y]);const[ce,oe]=PQ(ge=>{const ue=V().filter(_e=>!_e.disabled),Ee=ue.find(_e=>_e.ref.current===document.activeElement),ke=DQ(ue,ge,Ee);ke&&setTimeout(()=>ke.ref.current.focus())}),Q=C.useCallback((ge,ue,Ee)=>{const ke=!ee.current&&!Ee;(B.value!==void 0&&B.value===ue||ke)&&(T(ge),ke&&(ee.current=!0))},[B.value]),G=C.useCallback(()=>I==null?void 0:I.focus(),[I]),te=C.useCallback((ge,ue,Ee)=>{const ke=!ee.current&&!Ee;(B.value!==void 0&&B.value===ue||ke)&&M(ge)},[B.value]),se=n==="popper"?F3:yQ,de=se===F3?{side:l,sideOffset:d,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:y,collisionPadding:p,sticky:b,hideWhenDetached:N,avoidCollisions:S}:{};return a.jsx(gQ,{scope:r,content:I,viewport:P,onViewportChange:H,itemRefCallback:Q,selectedItem:L,onItemLeave:G,itemTextRefCallback:te,focusSelectedItem:X,selectedItemText:z,position:n,isPositioned:J,searchRef:ce,children:a.jsx(bE,{as:Xh,allowPinchZoom:!0,children:a.jsx(vE,{asChild:!0,trapped:B.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:_r(s,ge=>{var ue;(ue=B.trigger)==null||ue.focus({preventScroll:!0}),ge.preventDefault()}),children:a.jsx(Y2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>B.onOpenChange(!1),children:a.jsx(se,{role:"listbox",id:B.contentId,"data-state":B.open?"open":"closed",dir:B.dir,onContextMenu:ge=>ge.preventDefault(),...w,...de,onPlaced:()=>Z(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:_r(w.onKeyDown,ge=>{const ue=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!ue&&ge.key.length===1&&oe(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let ke=V().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const _e=ge.target,Oe=ke.indexOf(_e);ke=ke.slice(Oe+1)}setTimeout(()=>q(ke)),ge.preventDefault()}})})})})})})});xQ.displayName=v1e;var b1e="SelectItemAlignedPosition",yQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=HA(lf,r),o=VA(lf,r),[l,d]=C.useState(null),[u,h]=C.useState(null),m=rs(t,D=>h(D)),y=$v(r),p=C.useRef(!1),b=C.useRef(!0),{viewport:N,selectedItem:S,selectedItemText:w,focusSelectedItem:B}=o,I=C.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&N&&S&&w){const D=i.trigger.getBoundingClientRect(),L=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),z=w.getBoundingClientRect();if(i.dir!=="rtl"){const _e=z.left-L.left,Oe=T.left-_e,He=D.left-Oe,Ne=D.width+He,me=Math.max(Ne,L.width),Pe=window.innerWidth-Il,nt=V_(Oe,[Il,Math.max(Il,Pe-me)]);l.style.minWidth=Ne+"px",l.style.left=nt+"px"}else{const _e=L.right-z.right,Oe=window.innerWidth-T.right-_e,He=window.innerWidth-D.right-Oe,Ne=D.width+He,me=Math.max(Ne,L.width),Pe=window.innerWidth-Il,nt=V_(Oe,[Il,Math.max(Il,Pe-me)]);l.style.minWidth=Ne+"px",l.style.right=nt+"px"}const M=y(),V=window.innerHeight-Il*2,J=N.scrollHeight,Z=window.getComputedStyle(u),ee=parseInt(Z.borderTopWidth,10),q=parseInt(Z.paddingTop,10),X=parseInt(Z.borderBottomWidth,10),Y=parseInt(Z.paddingBottom,10),K=ee+q+J+Y+X,ce=Math.min(S.offsetHeight*5,K),oe=window.getComputedStyle(N),Q=parseInt(oe.paddingTop,10),G=parseInt(oe.paddingBottom,10),te=D.top+D.height/2-Il,se=V-te,de=S.offsetHeight/2,ge=S.offsetTop+de,ue=ee+q+ge,Ee=K-ue;if(ue<=te){const _e=M.length>0&&S===M[M.length-1].ref.current;l.style.bottom="0px";const Oe=u.clientHeight-N.offsetTop-N.offsetHeight,He=Math.max(se,de+(_e?G:0)+Oe+X),Ne=ue+He;l.style.height=Ne+"px"}else{const _e=M.length>0&&S===M[0].ref.current;l.style.top="0px";const He=Math.max(te,ee+N.offsetTop+(_e?Q:0)+de)+Ee;l.style.height=He+"px",N.scrollTop=ue-te+N.offsetTop}l.style.margin=`${Il}px 0`,l.style.minHeight=ce+"px",l.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[y,i.trigger,i.valueNode,l,u,N,S,w,i.dir,n]);Fi(()=>I(),[I]);const[_,P]=C.useState();Fi(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const H=C.useCallback(D=>{D&&b.current===!0&&(I(),B==null||B(),b.current=!1)},[I,B]);return a.jsx(N1e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:H,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(tn.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});yQ.displayName=b1e;var C1e="SelectPopperPosition",F3=C.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Il,...i}=e,o=qv(r);return a.jsx(eO,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});F3.displayName=C1e;var[N1e,UE]=Sm(lf,{}),k3="SelectViewport",wQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=VA(k3,r),o=UE(k3,r),l=rs(t,i.onViewportChange),d=C.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Gv.Slot,{scope:r,children:a.jsx(tn.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:_r(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&m){const p=Math.abs(d.current-h.scrollTop);if(p>0){const b=window.innerHeight-Il*2,N=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),w=Math.max(N,S);if(w<b){const B=w+p,I=Math.min(b,B),_=B-I;m.style.height=I+"px",m.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,m.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});wQ.displayName=k3;var vQ="SelectGroup",[B1e,S1e]=Sm(vQ),E1e=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Id();return a.jsx(B1e,{scope:r,id:s,children:a.jsx(tn.div,{role:"group","aria-labelledby":s,...n,ref:t})})});E1e.displayName=vQ;var bQ="SelectLabel",CQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=S1e(bQ,r);return a.jsx(tn.div,{id:s.id,...n,ref:t})});CQ.displayName=bQ;var x2="SelectItem",[j1e,NQ]=Sm(x2),BQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=HA(x2,r),d=VA(x2,r),u=l.value===n,[h,m]=C.useState(i??""),[y,p]=C.useState(!1),b=rs(t,B=>{var I;return(I=d.itemRefCallback)==null?void 0:I.call(d,B,n,s)}),N=Id(),S=C.useRef("touch"),w=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(j1e,{scope:r,value:n,disabled:s,textId:N,isSelected:u,onItemTextChange:C.useCallback(B=>{m(I=>I||((B==null?void 0:B.textContent)??"").trim())},[]),children:a.jsx(Gv.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:a.jsx(tn.div,{role:"option","aria-labelledby":N,"data-highlighted":y?"":void 0,"aria-selected":u&&y,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:_r(o.onFocus,()=>p(!0)),onBlur:_r(o.onBlur,()=>p(!1)),onClick:_r(o.onClick,()=>{S.current!=="mouse"&&w()}),onPointerUp:_r(o.onPointerUp,()=>{S.current==="mouse"&&w()}),onPointerDown:_r(o.onPointerDown,B=>{S.current=B.pointerType}),onPointerMove:_r(o.onPointerMove,B=>{var I;S.current=B.pointerType,s?(I=d.onItemLeave)==null||I.call(d):S.current==="mouse"&&B.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_r(o.onPointerLeave,B=>{var I;B.currentTarget===document.activeElement&&((I=d.onItemLeave)==null||I.call(d))}),onKeyDown:_r(o.onKeyDown,B=>{var _;((_=d.searchRef)==null?void 0:_.current)!==""&&B.key===" "||(f1e.includes(B.key)&&w(),B.key===" "&&B.preventDefault())})})})})});BQ.displayName=x2;var Np="SelectItemText",SQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=HA(Np,r),l=VA(Np,r),d=NQ(Np,r),u=x1e(Np,r),[h,m]=C.useState(null),y=rs(t,w=>m(w),d.onItemTextChange,w=>{var B;return(B=l.itemTextRefCallback)==null?void 0:B.call(l,w,d.value,d.disabled)}),p=h==null?void 0:h.textContent,b=C.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:p},d.value),[d.disabled,d.value,p]),{onNativeOptionAdd:N,onNativeOptionRemove:S}=u;return Fi(()=>(N(b),()=>S(b)),[N,S,b]),a.jsxs(a.Fragment,{children:[a.jsx(tn.span,{id:d.textId,...i,ref:y}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?MA.createPortal(i.children,o.valueNode):null]})});SQ.displayName=Np;var EQ="SelectItemIndicator",jQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return NQ(EQ,r).isSelected?a.jsx(tn.span,{"aria-hidden":!0,...n,ref:t}):null});jQ.displayName=EQ;var _3="SelectScrollUpButton",IQ=C.forwardRef((e,t)=>{const r=VA(_3,e.__scopeSelect),n=UE(_3,e.__scopeSelect),[s,i]=C.useState(!1),o=rs(t,n.onScrollButtonChange);return Fi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(kQ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});IQ.displayName=_3;var T3="SelectScrollDownButton",FQ=C.forwardRef((e,t)=>{const r=VA(T3,e.__scopeSelect),n=UE(T3,e.__scopeSelect),[s,i]=C.useState(!1),o=rs(t,n.onScrollButtonChange);return Fi(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<u;i(h)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(kQ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});FQ.displayName=T3;var kQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=VA("SelectScrollButton",r),o=C.useRef(null),l=$v(r),d=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>d(),[d]),Fi(()=>{var h;const u=l().find(m=>m.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(tn.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:_r(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:_r(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:_r(s.onPointerLeave,()=>{d()})})}),I1e="SelectSeparator",_Q=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(tn.div,{"aria-hidden":!0,...n,ref:t})});_Q.displayName=I1e;var L3="SelectArrow",F1e=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=qv(r),i=HA(L3,r),o=VA(L3,r);return i.open&&o.position==="popper"?a.jsx(tO,{...s,...n,ref:t}):null});F1e.displayName=L3;function TQ(e){return e===""||e===void 0}var LQ=C.forwardRef((e,t)=>{const{value:r,...n}=e,s=C.useRef(null),i=rs(t,s),o=lQ(r);return C.useEffect(()=>{const l=s.current,d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&h){const m=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(m)}},[o,r]),a.jsx(bS,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});LQ.displayName="BubbleSelect";function PQ(e){const t=Dc(e),r=C.useRef(""),n=C.useRef(0),s=C.useCallback(o=>{const l=r.current+o;t(l),function d(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),i=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function DQ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=k1e(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function k1e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var _1e=cQ,OQ=uQ,T1e=hQ,L1e=fQ,P1e=mQ,RQ=pQ,D1e=wQ,MQ=CQ,UQ=BQ,O1e=SQ,R1e=jQ,QQ=IQ,HQ=FQ,VQ=_Q;const Fc=_1e,kc=T1e,Hl=C.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(OQ,{ref:n,className:Br("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(L1e,{asChild:!0,children:a.jsx(p1,{className:"h-4 w-4 opacity-50"})})]}));Hl.displayName=OQ.displayName;const KQ=C.forwardRef(({className:e,...t},r)=>a.jsx(QQ,{ref:r,className:Br("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(hv,{className:"h-4 w-4"})}));KQ.displayName=QQ.displayName;const zQ=C.forwardRef(({className:e,...t},r)=>a.jsx(HQ,{ref:r,className:Br("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(p1,{className:"h-4 w-4"})}));zQ.displayName=HQ.displayName;const Vl=C.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(P1e,{children:a.jsxs(RQ,{ref:s,className:Br("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(KQ,{}),a.jsx(D1e,{className:Br("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(zQ,{})]})}));Vl.displayName=RQ.displayName;const M1e=C.forwardRef(({className:e,...t},r)=>a.jsx(MQ,{ref:r,className:Br("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));M1e.displayName=MQ.displayName;const Vs=C.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(UQ,{ref:n,className:Br("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(R1e,{children:a.jsx(Ig,{className:"h-4 w-4"})})}),a.jsx(O1e,{children:t})]}));Vs.displayName=UQ.displayName;const U1e=C.forwardRef(({className:e,...t},r)=>a.jsx(VQ,{ref:r,className:Br("-mx-1 my-1 h-px bg-muted",e),...t}));U1e.displayName=VQ.displayName;const $r=C.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Br("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));$r.displayName="Input";const lm=C.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Br("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));lm.displayName="Textarea";const Mn=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Br("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Mn.displayName="Card";const Da=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Br("flex flex-col space-y-1.5 p-6",e),...t}));Da.displayName="CardHeader";const Oa=C.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Br("text-2xl font-semibold leading-none tracking-tight",e),...t}));Oa.displayName="CardTitle";const Mc=C.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Br("text-sm text-muted-foreground",e),...t}));Mc.displayName="CardDescription";const Fs=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Br("p-6 pt-0",e),...t}));Fs.displayName="CardContent";const Q1e=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Br("flex items-center p-6 pt-0",e),...t}));Q1e.displayName="CardFooter";class H1e extends Je.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){var t;return this.state.hasError?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:a.jsxs(Mn,{className:"p-6 shadow-lg border-gray-200 dark:border-gray-700",children:[a.jsx(Da,{children:a.jsx(Oa,{className:"text-xl font-bold text-red-600",children:"Something Went Wrong"})}),a.jsxs(Fs,{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:((t=this.state.error)==null?void 0:t.toString())||"An unknown error occurred while loading the schedule. Please try refreshing the page or contact support if the issue persists."}),a.jsx(Jt,{onClick:()=>window.location.reload(),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Refresh Page"})]})]})}):this.props.children}}const K_=e=>{if(!e)return null;const t=new Date(e+"T00:00:00");return isNaN(t.getTime())?null:t},V1e=e=>{if(!e||!e.includes(":"))return"N/A";const[t,r]=e.split(":").map(Number);if(isNaN(t)||isNaN(r))return"Invalid time";const n=new Date;return n.setHours(t,r,0),new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(n)},IC=e=>{const t=typeof e=="string"?new Date(e+"T00:00:00"):e;return isNaN(t.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)},K1e=()=>{var Z,ee;const[e,t]=C.useState(void 0),[r,n]=C.useState([]),[s,i]=C.useState([]),[o,l]=C.useState(!1),[d,u]=C.useState(!1),[h,m]=C.useState(null),y=()=>{Se.info("Barcode scanning functionality is not yet implemented.")},[p,b]=C.useState(!1),[N,S]=C.useState(!1),[w,B]=C.useState(null),[I,_]=C.useState(null),P={title:"",date:new Date,time:"",description:"",fee:0,branchId:h||void 0},[H,D]=C.useState(P),L=C.useCallback(async()=>{try{const q=await Re.getBranches(),X=Array.isArray(q)?q:[];i(X),X.length>0&&D(Y=>({...Y,branchId:h||X[0].id}))}catch(q){console.error("Error fetching branches:",q),Se.error("Failed to load branches")}},[h]),T=C.useCallback(async()=>{l(!0);try{console.log("Fetching schedules for branch ID:",h);const q=await Re.getSchedules(h||null);console.log("Raw API Response:",q);let X=[];Array.isArray(q)?(console.log("Response is an array, using directly"),X=q):q&&Array.isArray(q.schedules)?(console.log("Response has schedules array"),X=q.schedules):(console.warn("Unexpected response format, defaulting to empty array",q),X=[]),console.log("Processed schedules:",X),console.log("Raw schedules data:",X);const Y=X.filter(K=>K&&typeof K=="object").map(K=>{var oe;const ce=K.branch_name||K.branch_id&&((oe=s.find(Q=>Q.id===K.branch_id))==null?void 0:oe.name)||"—";return{id:K.id,title:K.title||"Untitled Event",description:K.description||"",time:K.time||"",eventDate:K.eventDate||K.event_date||"",fee:typeof K.fee=="number"?K.fee:parseFloat(K.fee)||0,branchId:K.branch_id,branchName:ce}});console.log("Setting events:",Y),n(Y)}catch(q){console.error("Error caught in fetchEvents:",q),Se.error(q.message||"Failed to load events"),n([])}finally{l(!1)}},[h]);C.useEffect(()=>{T(),L()},[T,L]);const z=async()=>{if(!H.title.trim()||!H.time||!H.branchId){Se.error("Please fill in all required fields: Event Title, Time, and Branch.");return}const X=(H.date instanceof Date&&!isNaN(H.date.getTime())?H.date:new Date).toISOString().split("T")[0],Y={title:H.title.trim(),description:H.description.trim()||null,time:H.time,eventDate:X,fee:H.fee,branch_id:H.branchId};console.log("Sending add event data:",Y),l(!0);try{await Re.addSchedule(Y),await T(),b(!1),D(P),Se.success("Event added successfully!")}catch(K){console.error("Error in handleAddEventSubmit:",K),Se.error(K.message||"Failed to add event.")}finally{l(!1)}},M=async()=>{var K;if(!w)return;if(!w.title.trim()||!w.time||!w.branchId){Se.error("Please fill in all required fields: Event Title, Time, and Branch.");return}const q=K_(w.eventDate),X=q?q.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],Y={title:w.title.trim(),description:((K=w.description)==null?void 0:K.trim())||null,time:w.time,eventDate:X,fee:w.fee,branch_id:w.branchId};console.log("Sending update event data:",Y),l(!0);try{await Re.updateSchedule(w.id,Y),await T(),S(!1),B(null),Se.success("Event updated successfully!")}catch(ce){console.error("Error in handleUpdateEventSubmit:",ce),Se.error(ce.message||"Failed to update event.")}finally{l(!1)}},V=async()=>{if(I){l(!0);try{await Re.deleteSchedule(I.id),n(q=>q.filter(X=>X.id!==I.id)),Se.success("Event removed from schedule.")}catch(q){Se.error(q.message||"Failed to delete event.")}finally{l(!1),_(null)}}},J=e?r.filter(q=>{const X=K_(q.eventDate);return X?X.getFullYear()===e.getFullYear()&&X.getMonth()===e.getMonth()&&X.getDate()===e.getDate():!1}):r;return a.jsx(H1e,{children:a.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[a.jsx(an,{isCollapsed:d,setIsCollapsed:u,onBarcodeClick:y}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Schedules & Events"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-1",children:"Manage your daily activities and classes."})]}),a.jsxs("div",{className:"w-full sm:w-64",children:[a.jsx(Dt,{htmlFor:"branchFilter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by Branch"}),a.jsxs(Fc,{value:(h==null?void 0:h.toString())||"all",onValueChange:q=>{const X=q==="all"?null:parseInt(q);console.log("Selected branch ID changed:",X),m(X)},children:[a.jsx(Hl,{className:"w-[200px]",children:a.jsx(kc,{placeholder:"Select a branch"})}),a.jsxs(Vl,{children:[a.jsx(Vs,{value:"all",children:"All Branches"}),s.map(q=>a.jsx(Vs,{value:q.id.toString(),children:q.name},q.id))]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[a.jsx("div",{className:"lg:col-span-1 space-y-8",children:a.jsxs(Mn,{className:"shadow-lg border-gray-200 dark:border-gray-700",children:[a.jsx(Da,{className:"bg-gradient-to-br from-indigo-500 to-violet-600 text-white rounded-t-lg",children:a.jsxs(Oa,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Calendar"}),a.jsx(us,{className:"h-5 w-5 text-white"})]})}),a.jsxs(Fs,{children:[a.jsx(g2,{mode:"single",selected:e,onSelect:t,className:"p-0"}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs(Jt,{onClick:()=>{D({...P,date:e||new Date}),b(!0)},disabled:o,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:[a.jsx(FA,{size:18,className:"mr-2"})," Add New Event"]}),e&&a.jsxs(Jt,{variant:"ghost",className:"w-full text-red-500 hover:text-red-600",onClick:()=>t(void 0),disabled:o,children:[a.jsx(eo,{size:16,className:"mr-2"})," Clear Selection"]})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(Mn,{className:"shadow-lg border-gray-200 dark:border-gray-700",children:[a.jsx(Da,{className:"bg-gradient-to-br from-sky-500 to-cyan-600 text-white rounded-t-lg",children:a.jsx(Oa,{children:e?`Events for ${IC(e)}`:"All Upcoming Events"})}),a.jsx(Fs,{children:o?a.jsx("div",{className:"py-12 flex justify-center items-center",children:a.jsx(ds,{className:"h-8 w-8 animate-spin text-indigo-600"})}):a.jsxs(Zd,{children:[a.jsx(GR,{children:J.length===0?"No events to display.":"A list of your scheduled events."}),a.jsx(Jd,{children:a.jsxs(ks,{children:[a.jsx(hr,{className:"w-[150px]",children:"Event"}),a.jsx(hr,{children:"Branch"}),a.jsx(hr,{children:"Time"}),a.jsx(hr,{children:"Fee"}),a.jsx(hr,{className:"hidden md:table-cell",children:"Description"}),a.jsx(hr,{className:"text-right",children:"Actions"})]})}),a.jsx(eu,{children:J.map(q=>a.jsxs(ks,{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[a.jsx(sr,{className:"font-medium",children:q.title}),a.jsx(sr,{children:q.branchName||"—"}),a.jsx(sr,{children:V1e(q.time)}),a.jsxs(sr,{children:["₹",q.fee.toFixed(2)]}),a.jsx(sr,{className:"hidden md:table-cell max-w-xs truncate",children:q.description||"—"}),a.jsxs(sr,{className:"text-right space-x-1",children:[a.jsx(Jt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-500 hover:text-blue-700",onClick:()=>{B(q),S(!0)},children:a.jsx(EN,{size:16})}),a.jsx(Jt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-700",onClick:()=>_(q),children:a.jsx(Xs,{size:16})})]})]},q.id))})]})})]})})]})]})})]}),a.jsx(I0,{open:p,onOpenChange:b,children:a.jsxs(Dh,{className:"sm:max-w-[480px] dark:bg-gray-800",children:[a.jsxs(Oh,{children:[a.jsx(Mh,{children:"Add New Event"}),a.jsx(Uh,{children:"Fill in the details for your new schedule event."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"eventTitle",children:"Event Title *"}),a.jsx($r,{id:"eventTitle",placeholder:"Enter event title",value:H.title,onChange:q=>D({...H,title:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"eventBranch",children:"Branch *"}),a.jsxs(Fc,{value:((Z=H.branchId)==null?void 0:Z.toString())||"",onValueChange:q=>D({...H,branchId:parseInt(q)}),children:[a.jsx(Hl,{children:a.jsx(kc,{placeholder:"Select a branch"})}),a.jsx(Vl,{children:s.map(q=>a.jsx(Vs,{value:q.id.toString(),children:q.name},q.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"eventTime",children:"Time *"}),a.jsx($r,{id:"eventTime",type:"time",value:H.time,onChange:q=>D({...H,time:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"eventFee",children:"Fee"}),a.jsx($r,{id:"eventFee",type:"number",placeholder:"0.00",value:H.fee,onChange:q=>D({...H,fee:parseFloat(q.target.value)||0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"eventDescription",children:"Description (optional)"}),a.jsx(lm,{id:"eventDescription",placeholder:"Enter event description",value:H.description||"",onChange:q=>D({...H,description:q.target.value})})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Dt,{children:"Date"}),a.jsx("div",{children:IC(H.date)})]})]}),a.jsxs(Rh,{children:[a.jsx(wC,{asChild:!0,children:a.jsx(Jt,{variant:"outline",children:"Cancel"})}),a.jsxs(Jt,{onClick:z,disabled:o,children:[o&&a.jsx(ds,{className:"h-4 w-4 animate-spin mr-2"})," Add Event"]})]})]})}),a.jsx(I0,{open:N,onOpenChange:S,children:a.jsxs(Dh,{className:"sm:max-w-[480px] dark:bg-gray-800",children:[a.jsxs(Oh,{children:[a.jsx(Mh,{children:"Edit Event"}),a.jsx(Uh,{children:"Update the details for this schedule event."})]}),w&&a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"editEventTitle",children:"Event Title *"}),a.jsx($r,{id:"editEventTitle",placeholder:"Enter event title",value:w.title,onChange:q=>B({...w,title:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"editEventBranch",children:"Branch *"}),a.jsxs(Fc,{value:((ee=w.branchId)==null?void 0:ee.toString())||"",onValueChange:q=>B({...w,branchId:parseInt(q)}),children:[a.jsx(Hl,{children:a.jsx(kc,{placeholder:"Select a branch"})}),a.jsx(Vl,{children:s.map(q=>a.jsx(Vs,{value:q.id.toString(),children:q.name},q.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"editEventTime",children:"Time *"}),a.jsx($r,{id:"editEventTime",type:"time",value:w.time,onChange:q=>B({...w,time:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"editEventFee",children:"Fee"}),a.jsx($r,{id:"editEventFee",type:"number",placeholder:"0.00",value:w.fee,onChange:q=>B({...w,fee:parseFloat(q.target.value)||0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"editEventDescription",children:"Description (optional)"}),a.jsx(lm,{id:"editEventDescription",placeholder:"Enter event description",value:w.description||"",onChange:q=>B({...w,description:q.target.value})})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Dt,{children:"Date"}),a.jsx("div",{children:IC(w.eventDate)})]})]}),a.jsxs(Rh,{children:[a.jsx(wC,{asChild:!0,children:a.jsx(Jt,{variant:"outline",children:"Cancel"})}),a.jsxs(Jt,{onClick:M,disabled:o,children:[o&&a.jsx(ds,{className:"h-4 w-4 animate-spin mr-2"})," Save Changes"]})]})]})}),a.jsx(I0,{open:!!I,onOpenChange:()=>_(null),children:a.jsxs(Dh,{className:"sm:max-w-md dark:bg-gray-800",children:[a.jsxs(Oh,{children:[a.jsx(Mh,{children:"Are you absolutely sure?"}),a.jsxs(Uh,{children:["This action cannot be undone. This will permanently delete the event",a.jsxs("span",{className:"font-bold",children:[' "',I==null?void 0:I.title,'"']}),"."]})]}),a.jsxs(Rh,{className:"sm:justify-end",children:[a.jsx(wC,{asChild:!0,children:a.jsx(Jt,{type:"button",variant:"secondary",children:"Cancel"})}),a.jsxs(Jt,{type:"button",variant:"destructive",onClick:V,disabled:o,children:[o&&a.jsx(ds,{className:"h-4 w-4 animate-spin mr-2"})," Delete"]})]})]})})]})})};var QE="Checkbox",[z1e,J4e]=A1(QE),[W1e,G1e]=z1e(QE),WQ=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:h,...m}=e,[y,p]=C.useState(null),b=rs(t,_=>p(_)),N=C.useRef(!1),S=y?h||!!y.closest("form"):!0,[w=!1,B]=Zh({prop:s,defaultProp:i,onChange:u}),I=C.useRef(w);return C.useEffect(()=>{const _=y==null?void 0:y.form;if(_){const P=()=>B(I.current);return _.addEventListener("reset",P),()=>_.removeEventListener("reset",P)}},[y,B]),a.jsxs(W1e,{scope:r,state:w,disabled:l,children:[a.jsx(tn.button,{type:"button",role:"checkbox","aria-checked":bA(w)?"mixed":w,"aria-required":o,"data-state":qQ(w),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:b,onKeyDown:_r(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:_r(e.onClick,_=>{B(P=>bA(P)?!0:!P),S&&(N.current=_.isPropagationStopped(),N.current||_.stopPropagation())})}),S&&a.jsx($1e,{control:y,bubbles:!N.current,name:n,value:d,checked:w,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:bA(i)?!1:i})]})});WQ.displayName=QE;var GQ="CheckboxIndicator",$Q=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=G1e(GQ,r);return a.jsx(ff,{present:n||bA(i.state)||i.state===!0,children:a.jsx(tn.span,{"data-state":qQ(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});$Q.displayName=GQ;var $1e=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...i}=e,o=C.useRef(null),l=lQ(r),d=HD(t);C.useEffect(()=>{const h=o.current,m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&p){const b=new Event("click",{bubbles:n});h.indeterminate=bA(r),p.call(h,bA(r)?!1:r),h.dispatchEvent(b)}},[l,r,n]);const u=C.useRef(bA(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bA(e){return e==="indeterminate"}function qQ(e){return bA(e)?"indeterminate":e?"checked":"unchecked"}var XQ=WQ,q1e=$Q;const P3=C.forwardRef(({className:e,...t},r)=>a.jsx(XQ,{ref:r,className:Br("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(q1e,{className:Br("flex items-center justify-center text-current"),children:a.jsx(Ig,{className:"h-4 w-4"})})}));P3.displayName=XQ.displayName;const X1e=Kv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function sA({className:e,variant:t,...r}){return a.jsx("div",{className:Br(X1e({variant:t}),e),...r})}const z_=[{id:"manage_library_students",label:"Manage Library Students",category:"Library"},{id:"manage_schedules",label:"Manage Schedules & Shifts",category:"Library"},{id:"manage_seats",label:"Manage Seats",category:"Library"},{id:"view_collections",label:"View Library Collections",category:"Library"},{id:"manage_hostel_students",label:"Manage Hostel Students",category:"Hostel"},{id:"manage_hostel_branches",label:"Manage Hostel Branches",category:"Hostel"},{id:"view_hostel_collections",label:"View Hostel Collections",category:"Hostel"},{id:"manage_branches",label:"Manage Main Branches",category:"General"},{id:"manage_products",label:"Manage Products",category:"General"},{id:"manage_expenses",label:"Manage Expenses",category:"General"},{id:"view_transactions",label:"View Transactions",category:"General"},{id:"view_reports",label:"View Profit & Loss",category:"General"}],Y1e=()=>{const e=Uc(),[t,r]=C.useState(!1),[n,s]=C.useState({username:"",password:"",role:"staff",full_name:"",email:"",permissions:[],branch_access:[]}),{data:i=[],isLoading:o}=ko({queryKey:["allUsers"],queryFn:Re.getAllUsers}),{data:l=[],isLoading:d}=ko({queryKey:["branches"],queryFn:Re.getBranches}),u=ca({mutationFn:w=>Re.addUser(w),onSuccess:()=>{Se.success("Staff member created successfully!"),s({username:"",password:"",role:"staff",full_name:"",email:"",permissions:[],branch_access:[]}),e.invalidateQueries({queryKey:["allUsers"]})},onError:w=>Se.error(w.message||"Failed to create staff member")}),h=ca({mutationFn:w=>Re.deleteUser(w),onSuccess:()=>{Se.success("Staff member deleted successfully!"),e.invalidateQueries({queryKey:["allUsers"]})},onError:w=>Se.error(w.message||"Failed to delete staff member")}),m=z_.reduce((w,B)=>(w[B.category]||(w[B.category]=[]),w[B.category].push(B),w),{}),y=(w,B)=>{s(I=>({...I,permissions:B?[...I.permissions,w]:I.permissions.filter(_=>_!==w)}))},p=(w,B)=>{s(I=>({...I,branch_access:B?[...I.branch_access,w]:I.branch_access.filter(_=>_!==w)}))},b=w=>{if(w.preventDefault(),!n.username||!n.password){Se.error("Username and password are required");return}if(!n.full_name){Se.error("Full name is required");return}if(n.permissions.length===0){Se.error("Please select at least one permission");return}if(n.branch_access.length===0){Se.error("Please select at least one branch for access");return}u.mutate(n)},N=(w,B)=>{window.confirm(`Are you sure you want to delete staff member "${B}"?`)&&h.mutate(w)},S=(Array.isArray(i)?i:[]).filter(w=>w.role==="staff").map(w=>({...w,permissions:Array.isArray(w.permissions)?w.permissions:[],branch_details:Array.isArray(w.branch_details)?w.branch_details:Array.isArray(w.branchDetails)?w.branchDetails:[]}));return o||d?a.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Mn,{children:[a.jsxs(Da,{children:[a.jsxs(Oa,{className:"flex items-center gap-2",children:[a.jsx(ui,{className:"w-5 h-5"}),"Create New Staff Member"]}),a.jsx(Mc,{children:"Create a new staff account with customizable permissions and branch access"})]}),a.jsx(Fs,{children:a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"username",children:"Username *"}),a.jsx($r,{id:"username",value:n.username,onChange:w=>s(B=>({...B,username:w.target.value})),placeholder:"Enter username",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"full_name",children:"Full Name *"}),a.jsx($r,{id:"full_name",value:n.full_name,onChange:w=>s(B=>({...B,full_name:w.target.value})),placeholder:"Enter full name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"email",children:"Email"}),a.jsx($r,{id:"email",type:"email",value:n.email,onChange:w=>s(B=>({...B,email:w.target.value})),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Dt,{htmlFor:"password",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx($r,{id:"password",type:t?"text":"password",value:n.password,onChange:w=>s(B=>({...B,password:w.target.value})),placeholder:"Enter password",required:!0}),a.jsx(Jt,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2",onClick:()=>r(!t),children:t?a.jsx(tm,{className:"w-4 h-4"}):a.jsx(ya,{className:"w-4 h-4"})})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zw,{className:"w-5 h-5"}),a.jsx(Dt,{className:"text-base font-semibold",children:"Feature Permissions *"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(m).map(([w,B])=>a.jsxs(Mn,{className:"p-4",children:[a.jsx("h4",{className:"font-medium mb-3 text-sm text-gray-700",children:w}),a.jsx("div",{className:"space-y-2",children:B.map(I=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(P3,{id:I.id,checked:n.permissions.includes(I.id),onCheckedChange:_=>y(I.id,_)}),a.jsx(Dt,{htmlFor:I.id,className:"text-sm font-normal cursor-pointer",children:I.label})]},I.id))})]},w))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zee,{className:"w-5 h-5"}),a.jsx(Dt,{className:"text-base font-semibold",children:"Branch Access *"})]}),a.jsxs(Mn,{className:"p-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(w=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(P3,{id:`branch-${w.id}`,checked:n.branch_access.includes(w.id),onCheckedChange:B=>p(w.id,B)}),a.jsxs(Dt,{htmlFor:`branch-${w.id}`,className:"text-sm font-normal cursor-pointer",children:[w.name," ",w.code&&`(${w.code})`]})]},w.id))}),l.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No branches available. Please create branches first."})]})]}),a.jsx(Jt,{type:"submit",className:"w-full md:w-auto",disabled:u.isPending,children:u.isPending?"Creating...":"Create Staff Member"})]})})]}),a.jsxs(Mn,{children:[a.jsxs(Da,{children:[a.jsx(Oa,{children:"Existing Staff Members"}),a.jsx(Mc,{children:"Manage existing staff accounts and their permissions"})]}),a.jsx(Fs,{children:S.length===0?a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No staff members found."}):a.jsx("div",{className:"space-y-4",children:S.map(w=>a.jsx(Mn,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ii,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:w.full_name||w.fullName||w.username}),a.jsx(sA,{variant:"secondary",children:w.role})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["@",w.username]}),w.email&&a.jsx("p",{className:"text-sm text-gray-600",children:w.email}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",children:"Permissions: "}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.isArray(w.permissions)&&w.permissions.map(B=>{const I=z_.find(_=>_.id===B);return I?a.jsx(sA,{variant:"outline",className:"text-xs",children:I.label},B):null})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",children:"Branch Access: "}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(Array.isArray(w.branch_details)?w.branch_details:Array.isArray(w.branchDetails)?w.branchDetails:[]).map(B=>a.jsx(sA,{variant:"outline",className:"text-xs",children:B.name},B.id))})]})]})]}),a.jsx(Jt,{variant:"destructive",size:"sm",onClick:()=>N(w.id,w.username),disabled:h.isPending,children:a.jsx(Xs,{className:"w-4 h-4"})})]})},w.id))})})]})]})},Z1e=()=>{const e=Uc(),{user:t}=Ys(),{data:r,isLoading:n,error:s}=ko({queryKey:["userProfile"],queryFn:()=>t!=null&&t.isOwner?Re.getOwnerProfile():Re.getUserProfile(),enabled:!!t}),{data:i,isLoading:o,error:l}=ko({queryKey:["settings"],queryFn:Re.getSettings,enabled:(t==null?void 0:t.role)==="admin"}),[d,u]=C.useState({fullName:"",email:"",libraryName:"",ownerPhone:"",oldPassword:"",newPassword:"",confirmPassword:""}),[h,m]=C.useState({brevoTemplateId:"",daysBeforeExpiration:""}),[y,p]=C.useState(!1),[b,N]=C.useState(!1);C.useEffect(()=>{const T=(r==null?void 0:r.owner)||(r==null?void 0:r.user);T&&u(z=>({...z,fullName:T.ownerName||T.fullName||"",email:T.ownerEmail||T.email||"",libraryName:T.libraryName||"",ownerPhone:T.ownerPhone||""}))},[r]),C.useEffect(()=>{var T;i&&m({brevoTemplateId:i.brevoTemplateId||"",daysBeforeExpiration:((T=i.daysBeforeExpiration)==null?void 0:T.toString())||""})},[i]);const S=T=>{const{name:z,value:M}=T.target;u(V=>({...V,[z]:M}))},w=T=>{const{name:z,value:M}=T.target;m(V=>({...V,[z]:M}))},B=T=>{T.preventDefault(),t!=null&&t.isOwner?_.mutate({libraryName:d.libraryName,ownerName:d.fullName,ownerEmail:d.email,ownerPhone:d.ownerPhone}):I.mutate({fullName:d.fullName,email:d.email})},I=ca({mutationFn:T=>Re.updateUserProfile(T),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),Se.success("Profile updated successfully!")},onError:T=>Se.error(T.message||"Failed to update profile")}),_=ca({mutationFn:T=>Re.updateOwnerProfile(T),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),Se.success("Profile updated successfully!")},onError:T=>Se.error(T.message||"Failed to update profile")}),P=ca({mutationFn:T=>t!=null&&t.isOwner?Re.changeOwnerPassword({currentPassword:T.currentPassword,newPassword:T.newPassword}):Re.changeUserPassword(T),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),Se.success("Password changed successfully!"),u(T=>({...T,oldPassword:"",newPassword:"",confirmPassword:""}))},onError:T=>Se.error(T.message||"Failed to change password")}),H=ca({mutationFn:T=>Re.updateSettings(T),onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]}),Se.success("Settings updated successfully!")},onError:T=>Se.error(T.message||"Failed to update settings")}),D=T=>{if(T.preventDefault(),!d.oldPassword||!d.newPassword){Se.error("Please fill current and new password fields");return}if(d.newPassword!==d.confirmPassword){Se.error("New passwords do not match");return}P.mutate({currentPassword:d.oldPassword,newPassword:d.newPassword})},L=T=>{T.preventDefault();const z=parseInt(h.daysBeforeExpiration,10);if(isNaN(z)||z<=0){Se.error("Days Before Expiration must be a positive number");return}H.mutate({brevoTemplateId:h.brevoTemplateId,daysBeforeExpiration:z})};return t?n?a.jsx("div",{children:"Loading..."}):s?a.jsxs("div",{children:["Error loading profile: ",s.message]}):a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[a.jsx("div",{className:`fixed inset-y-0 left-0 transform ${y?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${b?"md:w-16":"md:w-64"}`,children:a.jsx(an,{isCollapsed:b,setIsCollapsed:N,onBarcodeClick:()=>{}})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-3 sm:p-4 rounded-2xl shadow-lg",children:a.jsx(RS,{className:"h-8 w-8 sm:h-10 sm:w-10 text-white"})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 mb-2",children:"Settings & Configuration"}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base lg:text-lg font-medium",children:"Manage your profile, security, and system preferences"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-2 sm:gap-4 mt-6",children:[a.jsx("div",{className:"bg-blue-50 text-blue-700 rounded-full px-3 py-1.5 text-xs sm:text-sm font-semibold",children:"🔒 Secure"}),a.jsx("div",{className:"bg-green-50 text-green-700 rounded-full px-3 py-1.5 text-xs sm:text-sm font-semibold",children:"⚡ Fast"}),a.jsx("div",{className:"bg-purple-50 text-purple-700 rounded-full px-3 py-1.5 text-xs sm:text-sm font-semibold",children:"🎨 Modern"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-white via-blue-50 to-purple-50 rounded-3xl shadow-2xl border-2 border-blue-200 p-8 relative overflow-hidden group hover:shadow-3xl transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 to-purple-600/5 group-hover:from-blue-600/10 group-hover:to-purple-600/10 transition-all duration-300"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-2xl mr-4 shadow-xl",children:a.jsx(ii,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"👤 Personal Information"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Update your profile details"})]})]}),a.jsxs("form",{onSubmit:B,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(t==null?void 0:t.isOwner)&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"libraryName",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(_o,{className:"h-4 w-4 mr-2 text-blue-600"}),"🏛️ Library Name"]}),a.jsx($r,{id:"libraryName",name:"libraryName",value:d.libraryName,onChange:S,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"fullName",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(ii,{className:"h-4 w-4 mr-2 text-blue-600"}),t!=null&&t.isOwner?"👑 Owner Name":"🙋 Full Name"]}),a.jsx($r,{id:"fullName",name:"fullName",value:d.fullName,onChange:S,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(Gl,{className:"h-4 w-4 mr-2 text-blue-600"}),"📧 Email Address"]}),a.jsx($r,{id:"email",name:"email",type:"email",value:d.email,onChange:S,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),(t==null?void 0:t.isOwner)&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"ownerPhone",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(di,{className:"h-4 w-4 mr-2 text-blue-600"}),"📱 Owner Phone"]}),a.jsx($r,{id:"ownerPhone",name:"ownerPhone",value:d.ownerPhone,onChange:S,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(Jt,{type:"submit",disabled:I.isPending||_.isPending,className:"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-700 hover:from-blue-700 hover:via-purple-700 hover:to-blue-800 text-white font-bold py-3 px-8 rounded-xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[a.jsx(Fg,{className:"h-5 w-5 mr-2"}),I.isPending||_.isPending?"💾 Saving...":"✨ Save Changes"]})})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-white via-green-50 to-emerald-50 rounded-3xl shadow-2xl border-2 border-green-200 p-8 relative overflow-hidden group hover:shadow-3xl transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-600/5 to-emerald-600/5 group-hover:from-green-600/10 group-hover:to-emerald-600/10 transition-all duration-300"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-3 rounded-2xl mr-4 shadow-xl",children:a.jsx(Ul,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"🔒 Security Settings"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Update your password securely"})]})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"oldPassword",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(zw,{className:"h-4 w-4 mr-2 text-green-600"}),"🔑 Current Password"]}),a.jsx($r,{id:"oldPassword",name:"oldPassword",value:d.oldPassword,onChange:S,type:"password",className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"newPassword",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(Ul,{className:"h-4 w-4 mr-2 text-green-600"}),"🆕 New Password"]}),a.jsx($r,{id:"newPassword",name:"newPassword",value:d.newPassword,onChange:S,type:"password",className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"confirmPassword",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(zw,{className:"h-4 w-4 mr-2 text-green-600"}),"✅ Confirm New Password"]}),a.jsx($r,{id:"confirmPassword",name:"confirmPassword",value:d.confirmPassword,onChange:S,type:"password",className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(Jt,{type:"submit",className:"bg-gradient-to-r from-green-600 via-emerald-600 to-green-700 hover:from-green-700 hover:via-emerald-700 hover:to-green-800 text-white font-bold py-3 px-8 rounded-xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[a.jsx(Ul,{className:"h-5 w-5 mr-2"}),"🔐 Update Password"]})})]})]})]})]}),t.role==="admin"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-white via-orange-50 to-red-50 rounded-3xl shadow-2xl border-2 border-orange-200 p-8 relative overflow-hidden group hover:shadow-3xl transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/5 to-red-600/5 group-hover:from-orange-600/10 group-hover:to-red-600/10 transition-all duration-300"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 p-3 rounded-2xl mr-4 shadow-xl",children:a.jsx(Gl,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"📧 Email Configuration"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Configure email templates and notifications"})]})]}),o?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),a.jsx("span",{className:"ml-3 text-orange-600 font-medium",children:"Loading settings..."})]}):l?a.jsx("div",{className:"bg-red-100 border-2 border-red-200 rounded-xl p-4 text-red-700 font-medium",children:"❌ Error loading settings"}):a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"brevoTemplateId",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(fv,{className:"h-4 w-4 mr-2 text-orange-600"}),"🌐 Brevo Template ID"]}),a.jsx($r,{id:"brevoTemplateId",name:"brevoTemplateId",value:h.brevoTemplateId,onChange:w,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"daysBeforeExpiration",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(qO,{className:"h-4 w-4 mr-2 text-orange-600"}),"⏰ Remind Before Expiration (Days)"]}),a.jsx($r,{id:"daysBeforeExpiration",name:"daysBeforeExpiration",type:"number",value:h.daysBeforeExpiration,onChange:w,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(Jt,{type:"submit",className:"bg-gradient-to-r from-orange-600 via-red-600 to-orange-700 hover:from-orange-700 hover:via-red-700 hover:to-orange-800 text-white font-bold py-3 px-8 rounded-xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[a.jsx(Fg,{className:"h-5 w-5 mr-2"}),"📧 Save Email Settings"]})})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-white via-purple-50 to-indigo-50 rounded-3xl shadow-2xl border-2 border-purple-200 p-8 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/5 to-indigo-600/5"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 p-3 rounded-2xl mr-4 shadow-xl",children:a.jsx(zO,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"👥 Staff Management"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Manage team members and permissions"})]})]}),a.jsx(Y1e,{})]})]})]})]})})]})]}):a.jsx("div",{children:"Please log in to access settings."})},W_=({children:e})=>{const{user:t,isLoading:r}=Ys();return r?a.jsx("div",{children:"Loading..."}):!t||t.role!=="admin"?a.jsx(uS,{to:"/owner-login"}):a.jsx(a.Fragment,{children:e})},J1e=()=>{const e=Ur(),[t,r]=C.useState({username:"",password:"",role:"staff"}),n=i=>{const{name:o,value:l}=i.target;r(d=>({...d,[o]:l}))},s=async i=>{i.preventDefault();try{const o={username:t.username,password:t.password,role:t.role};await Re.addUser(o),Se.success("User added successfully"),e("/dashboard")}catch(o){console.error("Failed to add user:",o.message),Se.error("Failed to add user")}};return a.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add New User"}),a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),a.jsx("input",{type:"text",id:"username",name:"username",value:t.username,onChange:n,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:n,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",name:"role",value:t.role,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",children:[a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"staff",children:"Staff"})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-200",children:"Add User"})]})]})},exe=()=>{const{id:e}=Xd(),t=Ur(),[r,n]=C.useState({name:"",registrationNumber:"",fatherName:"",aadharNumber:"",email:"",phone:"",address:"",branchId:null,membershipStart:"",membershipEnd:"",shiftIds:[],seatId:null,lockerId:null,totalFee:"",cash:"",online:"",securityMoney:"",remark:"",discount:"0",profileImage:null,profileImageUrl:"",aadhaarFrontImage:null,aadhaarFrontUrl:"",aadhaarBackImage:null,aadhaarBackUrl:""}),[s,i]=C.useState([]),[o,l]=C.useState([]),[d,u]=C.useState([]),[h,m]=C.useState([]),[y,p]=C.useState(!1),[b,N]=C.useState(!0),[S,w]=C.useState(!1),[B,I]=C.useState(!1),_=e?parseInt(e,10):NaN;if(isNaN(_))return a.jsx("div",{className:"p-6 text-red-500 text-center",children:"Invalid student ID."});C.useEffect(()=>{(async()=>{var ce,oe,Q,G,te;try{const[se,de,ge]=await Promise.all([Re.getStudent(_),Re.getBranches(),Re.getLockers()]),ue=se,Ee=(ue.assignments||[]).map(ke=>ke.shiftId).filter(Boolean);n({name:ue.name||"",registrationNumber:ue.registrationNumber||"",fatherName:ue.fatherName||"",aadharNumber:ue.aadharNumber||"",email:ue.email||"",phone:ue.phone||"",address:ue.address||"",branchId:ue.branchId||null,membershipStart:ue.membershipStart.split("T")[0],membershipEnd:ue.membershipEnd.split("T")[0],shiftIds:Ee,seatId:((oe=(ce=ue.assignments)==null?void 0:ce[0])==null?void 0:oe.seatId)||null,lockerId:ue.lockerId||null,totalFee:ue.totalFee.toString(),cash:ue.cash.toString(),online:ue.online.toString(),securityMoney:ue.securityMoney.toString(),discount:ue.discount?ue.discount.toString():"0",remark:ue.remark||"",profileImage:null,profileImageUrl:ue.profileImageUrl||"",aadhaarFrontImage:null,aadhaarFrontUrl:ue.aadhaarFrontUrl||"",aadhaarBackImage:null,aadhaarBackUrl:ue.aadhaarBackUrl||""}),u(de),m(ge.lockers)}catch(se){console.error("Failed to fetch data:",se);const de=((Q=se.response)==null?void 0:Q.status)===404?"Student not found":((te=(G=se.response)==null?void 0:G.data)==null?void 0:te.message)||se.message||"Failed to load student, shifts, branches, or lockers";Se.error(de)}finally{N(!1)}})()},[_]),C.useEffect(()=>{(async()=>{if(!r.branchId){i([]);return}try{const oe=(await Re.getSchedules(r.branchId)).schedules.map(Q=>({...Q,fee:Q.fee??0}));i(oe)}catch(ce){console.error("Failed to fetch shifts:",ce),Se.error("Failed to load shifts for the selected branch."),i([])}})()},[r.branchId]),C.useEffect(()=>{(async()=>{var Q,G;const ce=r.branchId,oe=r.shiftIds&&r.shiftIds.length>0?r.shiftIds[0]:null;if(ce&&oe){p(!0);try{const se=(await Re.getSeats({branchId:ce,shiftId:oe})).seats||[],de=se.filter(ge=>{const ue=(ge.shifts||[]).find(Ee=>Ee.shiftId===oe);return ue?!ue.isAssigned:!0});if(r.seatId&&!de.some(ge=>ge.id===r.seatId)){const ge=se.find(ue=>ue.id===r.seatId);ge&&de.push(ge)}l(de)}catch(te){console.error("Failed to fetch seats:",te),Se.error(((G=(Q=te.response)==null?void 0:Q.data)==null?void 0:G.message)||"Failed to load seats"),l([])}finally{p(!1)}}else l(ce?[]:[])})()},[r.branchId,r.shiftIds]);const P=K=>{const{name:ce,value:oe}=K.target;n(Q=>({...Q,[ce]:oe}))},H=(K,ce)=>{const oe=ce?ce.value:null;K==="branchId"?n(Q=>({...Q,branchId:oe,seatId:null,shiftIds:[]})):K==="seatId"?n(Q=>({...Q,seatId:oe})):K==="lockerId"&&n(Q=>({...Q,lockerId:oe}))},D=K=>{const ce=K?K.map(Q=>Q.value):[],oe=s.filter(Q=>ce.includes(Q.id)).reduce((Q,G)=>Q+(G.fee??0),0);n(Q=>({...Q,shiftIds:ce,totalFee:oe?oe.toString():Q.totalFee}))},L=(K,ce)=>{const oe=K.target.files?K.target.files[0]:null;if(oe){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(oe.type)){Se.error(`Only JPEG, JPG, PNG, and GIF images are allowed for ${ce}`);return}if(oe.size>200*1024){Se.error(`Image size exceeds 200KB limit for ${ce}`);return}n(Q=>({...Q,[ce]:oe}))}},T=async()=>{var K,ce;if(!r.name||!r.phone||!r.address||r.branchId===null||!r.membershipStart||!r.membershipEnd){Se.error("Please fill in all required fields: Name, Phone, Address, Branch, Membership Start, Membership End");return}w(!0);try{let oe=r.profileImageUrl;if(r.profileImage){const se=new FormData;se.append("image",r.profileImage),oe=(await Re.uploadImage(se)).imageUrl||""}let Q=r.aadhaarFrontUrl;if(r.aadhaarFrontImage){const se=new FormData;se.append("image",r.aadhaarFrontImage),Q=(await Re.uploadImage(se)).imageUrl||""}let G=r.aadhaarBackUrl;if(r.aadhaarBackImage){const se=new FormData;se.append("image",r.aadhaarBackImage),G=(await Re.uploadImage(se)).imageUrl||""}const te={name:r.name,registrationNumber:r.registrationNumber||"",fatherName:r.fatherName||"",aadharNumber:r.aadharNumber||"",email:r.email||"",phone:r.phone,address:r.address,branchId:r.branchId,membershipStart:r.membershipStart,membershipEnd:r.membershipEnd,totalFee:parseFloat(r.totalFee)||0,amountPaid:(parseFloat(r.cash)||0)+(parseFloat(r.online)||0),discount:parseFloat(r.discount)||0,shiftIds:r.shiftIds,seatId:r.seatId,lockerId:r.lockerId,cash:parseFloat(r.cash)||0,online:parseFloat(r.online)||0,securityMoney:parseFloat(r.securityMoney)||0,remark:r.remark||"",profileImageUrl:oe||"",aadhaarFrontUrl:Q||"",aadhaarBackUrl:G||""};await Re.updateStudent(_,te),Se.success("Student updated successfully"),t(`/students/${_}`)}catch(oe){console.error("Failed to update student:",oe),Se.error(((ce=(K=oe.response)==null?void 0:K.data)==null?void 0:ce.message)||oe.message||"Failed to update student")}finally{w(!1)}},z=d.map(K=>({value:K.id,label:K.name})),M=[{value:null,label:"None"},...o.map(K=>({value:K.id,label:K.seatNumber}))],V=s.map(K=>({value:K.id,label:`${K.title} (${K.time} on ${K.eventDate})`})),J=[{value:null,label:"None"},...h.filter(K=>!K.isAssigned||K.studentId===_).map(K=>({value:K.id,label:K.lockerNumber}))],Z=parseFloat(r.cash)||0,ee=parseFloat(r.online)||0,q=Z+ee,Y=(parseFloat(r.totalFee)||0)-(parseFloat(r.discount)||0)-q;return b?a.jsx("div",{className:"flex h-screen bg-gray-50",children:a.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-600",children:"Loading..."})}):a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(an,{isCollapsed:B,setIsCollapsed:I,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-md",children:a.jsx($O,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Edit Student"}),a.jsxs(Jt,{variant:"ghost",onClick:()=>t(`/students/${_}`),className:"ml-2",children:[a.jsx(ml,{className:"h-4 w-4 mr-2"})," Back"]})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm",children:a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),a.jsx("input",{type:"text",id:"registrationNumber",name:"registrationNumber",value:r.registrationNumber,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fatherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),a.jsx("input",{type:"text",id:"fatherName",name:"fatherName",value:r.fatherName,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadharNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),a.jsx("input",{type:"text",id:"aadharNumber",name:"aadharNumber",value:r.aadharNumber,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"text",id:"phone",name:"phone",value:r.phone,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("input",{type:"text",id:"address",name:"address",value:r.address,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),a.jsx(Ni,{options:z,value:z.find(K=>K.value===r.branchId)||null,onChange:K=>H("branchId",K),placeholder:"Select a branch",className:"w-full",isDisabled:d.length===0,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipStart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership Start"}),a.jsx("input",{type:"date",id:"membershipStart",name:"membershipStart",value:r.membershipStart,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipEnd",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership End"}),a.jsx("input",{type:"date",id:"membershipEnd",name:"membershipEnd",value:r.membershipEnd,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"shiftIds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Shift(s)"}),a.jsx(Ni,{isMulti:!0,options:V,value:V.filter(K=>r.shiftIds.includes(K.value)),onChange:D,placeholder:s.length===0?"No shifts for this branch":"Select one or more shifts",className:"w-full",isDisabled:s.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"seatId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Seat"}),a.jsx(Ni,{options:M,value:M.find(K=>K.value===r.seatId)||null,onChange:K=>H("seatId",K),isLoading:y,placeholder:r.branchId?r.shiftIds.length===0?"Select a shift first":"Select a seat":"Select a branch first",className:"w-full",isDisabled:!r.branchId||r.shiftIds.length===0||o.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lockerId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Locker"}),a.jsx(Ni,{options:J,value:J.find(K=>K.value===r.lockerId)||null,onChange:K=>H("lockerId",K),placeholder:r.branchId?"Select an available locker":"Select a branch first",className:"w-full",isDisabled:!r.branchId||h.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"totalFee",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee"}),a.jsx("input",{type:"number",id:"totalFee",name:"totalFee",value:r.totalFee,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount"}),a.jsx("input",{type:"number",id:"discount",name:"discount",value:r.discount,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cash",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Payment"}),a.jsx("input",{type:"number",id:"cash",name:"cash",value:r.cash,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"online",className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Payment"}),a.jsx("input",{type:"number",id:"online",name:"online",value:r.online,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"securityMoney",className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money"}),a.jsx("input",{type:"number",id:"securityMoney",name:"securityMoney",value:r.securityMoney,onChange:P,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount Paid"}),a.jsx("input",{type:"number",id:"amountPaid",name:"amountPaid",value:q.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dueAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),a.jsx("input",{type:"number",id:"dueAmount",name:"dueAmount",value:Y.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"remark",className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{id:"remark",name:"remark",value:r.remark,onChange:P,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"profileImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image (max 200KB)"}),a.jsx("input",{type:"file",id:"profileImage",name:"profileImage",accept:"image/*",onChange:K=>L(K,"profileImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.profileImageUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:r.profileImageUrl,alt:"Profile Preview",className:"h-20 w-20 object-cover rounded"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarFrontImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Front Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarFrontImage",name:"aadhaarFrontImage",accept:"image/*",onChange:K=>L(K,"aadhaarFrontImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.aadhaarFrontUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:r.aadhaarFrontUrl,alt:"Aadhaar Front Preview",className:"h-20 w-20 object-cover rounded"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarBackImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Back Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarBackImage",name:"aadhaarBackImage",accept:"image/*",onChange:K=>L(K,"aadhaarBackImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.aadhaarBackUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:r.aadhaarBackUrl,alt:"Aadhaar Back Preview",className:"h-20 w-20 object-cover rounded"})})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(Jt,{variant:"outline",onClick:()=>t(`/students/${_}`),disabled:S,children:"Cancel"}),a.jsx(Jt,{onClick:T,disabled:S,children:S?"Updating...":"Update Student"})]})]})})]})})]})]})},txe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(null),[d,u]=C.useState(""),[h,m]=C.useState(!1),[y,p]=C.useState(!1),[b,N]=C.useState([]),[S,w]=C.useState(null),[B,I]=C.useState(""),[_,P]=C.useState(null),H=Ur(),{isAuthenticated:D,isLoading:L}=Ys(),T=()=>{Se.info("Barcode scanning functionality is not yet implemented.")};C.useEffect(()=>{!L&&!D&&H("/login")},[D,L,H]);const z=async()=>{try{const K=await Re.getBranches();N(K||[])}catch(K){Se.error(K.message||"Failed to load branches"),N([])}},M=async(K=0)=>{try{i(!0);const oe={};S&&(oe.branchId=S),_&&(oe.shiftId=_);const Q=await Re.getSeats(oe);if(Q.seats&&Array.isArray(Q.seats))t(Q.seats.sort((G,te)=>parseInt(G.seatNumber)-parseInt(te.seatNumber))),l(null);else throw new Error("Invalid data format from API")}catch(oe){l(oe.message||"Failed to fetch seats. Please try again."),K<2?(await new Promise(Q=>setTimeout(Q,1e3*(K+1))),await M(K+1)):Se.error(oe.message||"Failed to fetch seats after multiple attempts")}finally{i(!1)}},V=async(K=null)=>{try{const ce=await Re.getSchedules(K);if(ce.schedules&&Array.isArray(ce.schedules)){const oe=ce.schedules.sort((Q,G)=>{const te=Q.eventDate.localeCompare(G.eventDate);return te!==0?te:Q.time.localeCompare(G.time)});n(oe)}else throw new Error("Invalid schedules data format from API")}catch(ce){console.error("Failed to fetch schedules:",ce),Se.error(ce.message||"Failed to fetch schedules"),n([])}},J=async K=>{if(K.preventDefault(),!S){Se.error("Please select a branch before adding seats");return}m(!0);try{const ce=await Re.addSeats({seatNumbers:d,branchId:S});Se.success(ce.message||"Seats added successfully"),u(""),await M()}catch(ce){Se.error(ce.message||"Failed to add seats")}finally{m(!1)}},Z=async K=>{if(window.confirm("Are you sure you want to delete this seat?"))try{const ce=await Re.deleteSeat(K);Se.success(ce.message||"Seat deleted successfully"),await M()}catch(ce){Se.error(ce.message||"Failed to delete seat")}};C.useEffect(()=>{D&&z()},[D]),C.useEffect(()=>{D&&V(S)},[D,S]),C.useEffect(()=>{D&&(M(),_&&r.length>0&&(r.some(ce=>ce.id===_)||P(null)))},[D,S,_,r]);const ee=e.filter(K=>K.seatNumber.includes(B)),q=ee.length,X=_?ee.filter(K=>K.shifts.some(ce=>ce.shiftId===_&&ce.isAssigned)).length:ee.filter(K=>K.shifts.some(ce=>ce.isAssigned)).length,Y=_?ee.filter(K=>{const ce=K.shifts.find(oe=>oe.shiftId===_);return!ce||ce&&!ce.isAssigned}).length:ee.filter(K=>K.shifts.some(ce=>!ce.isAssigned)||K.shifts.length===0).length;return L?a.jsx("div",{className:"flex min-h-screen justify-center items-center",children:a.jsx(ds,{size:24,className:"animate-spin text-gray-500 dark:text-gray-400"})}):a.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(an,{isCollapsed:y,setIsCollapsed:p,onBarcodeClick:T}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-end justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-gray-200",children:"Seat Assignments"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-400 mt-1",children:"Manage library seat availability"}),a.jsx("div",{className:"mt-3 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-sky-500 dark:from-indigo-600 dark:via-fuchsia-600 dark:to-sky-600 shadow-sm ring-1 ring-white/30"})]}),a.jsxs("button",{onClick:()=>H(-1),className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[a.jsx(ml,{size:20,className:"mr-1"})," Back"]})]}),a.jsxs("div",{className:"mb-4 flex flex-wrap gap-4",children:[a.jsxs("div",{className:"rounded-lg bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 p-2 shadow-sm ring-1 ring-indigo-100/80 dark:ring-indigo-900/40 hover:ring-indigo-300/60 transition",children:[a.jsx("label",{htmlFor:"branch-select",className:"text-xs font-semibold text-indigo-700 dark:text-indigo-300 mr-2",children:"Branch"}),a.jsxs("select",{id:"branch-select",value:S??"",onChange:K=>w(K.target.value?parseInt(K.target.value,10):null),className:"border border-indigo-200 dark:border-indigo-700 rounded-md px-3 py-2 text-sm bg-white/95 dark:bg-gray-800/95 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm",children:[a.jsx("option",{value:"",children:"All Branches"}),b.map(K=>a.jsx("option",{value:K.id.toString(),children:K.name},K.id))]})]}),a.jsxs("div",{className:"rounded-lg bg-cyan-50 dark:bg-cyan-900/20 border border-cyan-200 dark:border-cyan-800 p-2 shadow-sm ring-1 ring-cyan-100/80 dark:ring-cyan-900/40 hover:ring-cyan-300/60 transition",children:[a.jsx("label",{className:"text-xs font-semibold text-cyan-700 dark:text-cyan-300 mr-2",children:"Search"}),a.jsx("input",{type:"text",value:B,onChange:K=>I(K.target.value),placeholder:"Enter seat number",className:"border border-cyan-200 dark:border-cyan-700 rounded-md px-3 py-2 text-sm bg-white/95 dark:bg-gray-800/95 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-cyan-400 focus:outline-none shadow-sm"})]}),a.jsxs("div",{className:"rounded-lg bg-sky-50 dark:bg-sky-900/20 border border-sky-200 dark:border-sky-800 p-2 shadow-sm ring-1 ring-sky-100/80 dark:ring-sky-900/40 hover:ring-sky-300/60 transition",children:[a.jsx("label",{className:"text-xs font-semibold text-sky-700 dark:text-sky-300 mr-2",children:"Shift"}),a.jsxs("select",{value:_??"",onChange:K=>P(K.target.value?parseInt(K.target.value,10):null),className:"border border-sky-200 dark:border-sky-700 rounded-md px-3 py-2 text-sm bg-white/95 dark:bg-gray-800/95 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-sky-400 focus:outline-none shadow-sm",children:[a.jsx("option",{value:"",children:"All Shifts"}),r.map(K=>a.jsx("option",{value:K.id,children:K.title},K.id))]})]})]}),a.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full px-3 py-1 bg-gradient-to-r from-indigo-50 to-violet-50 dark:from-gray-800 dark:to-gray-800 border border-indigo-200/70 dark:border-gray-700/70 ring-1 ring-indigo-100/60 shadow",children:[a.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Total"}),a.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:q})]}),a.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full px-3 py-1 bg-gradient-to-r from-emerald-100 to-teal-100 dark:from-emerald-900/20 dark:to-teal-900/20 border border-emerald-300 dark:border-emerald-800/70 ring-1 ring-emerald-200/70 shadow",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),a.jsx("span",{className:"text-xs font-medium text-emerald-700 dark:text-emerald-300",children:"Available"}),a.jsx("span",{className:"text-sm font-semibold text-emerald-700 dark:text-emerald-300",children:Y})]}),a.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full px-3 py-1 bg-gradient-to-r from-rose-100 to-pink-100 dark:from-rose-900/20 dark:to-pink-900/20 border border-rose-300 dark:border-rose-800/70 ring-1 ring-rose-200/70 shadow",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"}),a.jsx("span",{className:"text-xs font-medium text-rose-700 dark:text-rose-300",children:"Assigned"}),a.jsx("span",{className:"text-sm font-semibold text-rose-700 dark:text-rose-300",children:X})]})]}),s?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(ds,{size:24,className:"animate-spin text-gray-500 dark:text-gray-400"})}):o?a.jsx("div",{className:"text-red-500 dark:text-red-400 bg-red-50 dark:bg-red-900/30 p-4 rounded-lg mb-6",children:o}):ee.length===0?a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No seats found."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:ee.map(K=>a.jsx("div",{className:"rounded-2xl p-[3px] bg-gradient-to-br from-indigo-600/80 via-fuchsia-600/80 to-sky-500/80 hover:from-indigo-600/90 hover:via-fuchsia-600/90 hover:to-sky-500/90 transition-colors hover:shadow-xl shadow-lg",children:a.jsxs("div",{className:`rounded-[14px] border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all min-h-[180px] overflow-hidden 
                      ${(_?K.shifts.some(oe=>oe.shiftId===_&&oe.isAssigned):K.shifts.some(oe=>oe.isAssigned))?"bg-gradient-to-b from-rose-100 to-rose-200 dark:from-gray-800 dark:to-gray-800":"bg-gradient-to-b from-emerald-100 to-emerald-200 dark:from-gray-800 dark:to-gray-800"}
                    `,children:[(()=>{const ce=_?K.shifts.some(G=>G.shiftId===_&&G.isAssigned):K.shifts.some(G=>G.isAssigned),oe=ce?"from-rose-600 to-pink-600":"from-emerald-600 to-teal-600",Q=ce?"Assigned":"Available";return a.jsxs("div",{className:`h-9 rounded-t-[14px] bg-gradient-to-r ${oe} flex items-center justify-between px-3 text-white`,children:[a.jsxs("span",{className:"text-sm font-semibold",children:["Seat ",K.seatNumber]}),a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-white/20 border border-white/30",children:Q})]})})(),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex items-center gap-2",children:(_?K.shifts.some(oe=>oe.shiftId===_&&oe.isAssigned):K.shifts.some(oe=>oe.isAssigned))?a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-rose-100 text-rose-700 border border-rose-300 ring-1 ring-rose-200/70 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",children:"Assigned"}):a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-300 ring-1 ring-emerald-200/70 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",children:"Available"})}),a.jsx("button",{onClick:()=>Z(K.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-800/50",children:a.jsx(Xs,{size:14})})]}),K.shifts.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"No shifts available."}):a.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:K.shifts.map(ce=>a.jsxs("div",{className:`flex items-center gap-2 px-2.5 py-1.5 rounded-md text-xs border ${ce.isAssigned?"bg-rose-200/90 dark:bg-red-900/30 text-rose-800 dark:text-red-300 border-rose-300 dark:border-red-800 ring-1 ring-rose-200/70":"bg-emerald-200/90 dark:bg-green-900/30 text-emerald-800 dark:text-green-300 border-emerald-300 dark:border-green-800 ring-1 ring-emerald-200/70"}`,children:[a.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${ce.isAssigned?"bg-rose-500":"bg-emerald-600"}`}),a.jsxs("span",{className:"flex-1 truncate",children:[ce.shiftTitle,ce.description&&` (${ce.description})`]}),ce.isAssigned&&ce.studentName&&a.jsx("span",{className:"text-[11px] font-medium truncate",children:ce.studentName})]},ce.shiftId))})]})]})},K.id))}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{htmlFor:"seat-numbers",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Add New Seats"}),a.jsx("input",{id:"seat-numbers",type:"text",value:d,onChange:K=>u(K.target.value),placeholder:"Enter seat numbers (e.g., 1,2,3)",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 text-sm bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,disabled:h||!S})]}),a.jsx("button",{onClick:J,className:"flex items-center gap-2 bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white px-4 py-2 rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 ring-1 ring-white/20 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:h||!d.trim()||!S,children:h?a.jsxs(a.Fragment,{children:[a.jsx(ds,{size:16,className:"animate-spin"})," Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xee,{size:16})," Add Seats"]})})]})})]})})]})]})},rxe=Kv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Sd=C.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:Br(rxe({variant:t}),e),...r}));Sd.displayName="Alert";const HE=C.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:Br("mb-1 font-medium leading-none tracking-tight",e),...t}));HE.displayName="AlertTitle";const Ed=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Br("text-sm [&_p]:leading-relaxed",e),...t}));Ed.displayName="AlertDescription";const VE=C.createContext({});function KE(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const zE=typeof window<"u",YQ=zE?C.useLayoutEffect:C.useEffect,Xv=C.createContext(null),WE=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class nxe extends C.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=n instanceof HTMLElement&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sxe({children:e,isPresent:t,anchorX:r}){const n=C.useId(),s=C.useRef(null),i=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=C.useContext(WE);return C.useInsertionEffect(()=>{const{width:l,height:d,top:u,left:h,right:m}=i.current;if(t||!s.current||!l||!d)return;const y=r==="left"?`left: ${h}`:`right: ${m}`;s.current.dataset.motionPopId=n;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),a.jsx(nxe,{isPresent:t,childRef:s,sizeRef:i,children:C.cloneElement(e,{ref:s})})}const axe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const d=KE(ixe),u=C.useId();let h=!0,m=C.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:r,custom:s,onExitComplete:y=>{d.set(y,!0);for(const p of d.values())if(!p)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return i&&h&&(m={...m}),C.useMemo(()=>{d.forEach((y,p)=>d.set(p,!1))},[r]),C.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(sxe,{isPresent:r,anchorX:l,children:e})),a.jsx(Xv.Provider,{value:m,children:e})};function ixe(){return new Map}function ZQ(e=!0){const t=C.useContext(Xv);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=C.useId();C.useEffect(()=>{if(e)return s(i)},[e]);const o=C.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const Ay=e=>e.key||"";function G_(e){const t=[];return C.Children.forEach(e,r=>{C.isValidElement(r)&&t.push(r)}),t}const oxe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[d,u]=ZQ(o),h=C.useMemo(()=>G_(e),[e]),m=o&&!d?[]:h.map(Ay),y=C.useRef(!0),p=C.useRef(h),b=KE(()=>new Map),[N,S]=C.useState(h),[w,B]=C.useState(h);YQ(()=>{y.current=!1,p.current=h;for(let P=0;P<w.length;P++){const H=Ay(w[P]);m.includes(H)?b.delete(H):b.get(H)!==!0&&b.set(H,!1)}},[w,m.length,m.join("-")]);const I=[];if(h!==N){let P=[...h];for(let H=0;H<w.length;H++){const D=w[H],L=Ay(D);m.includes(L)||(P.splice(H,0,D),I.push(D))}return i==="wait"&&I.length&&(P=I),B(G_(P)),S(h),null}const{forceRender:_}=C.useContext(VE);return a.jsx(a.Fragment,{children:w.map(P=>{const H=Ay(P),D=o&&!d?!1:h===w||m.includes(H),L=()=>{if(b.has(H))b.set(H,!0);else return;let T=!0;b.forEach(z=>{z||(T=!1)}),T&&(_==null||_(),B(p.current),o&&(u==null||u()),n&&n())};return a.jsx(axe,{isPresent:D,initial:!y.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,onExitComplete:D?void 0:L,anchorX:l,children:P},H)})})};function GE(e,t){e.indexOf(t)===-1&&e.push(t)}function $E(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Kd=(e,t,r)=>r>t?t:r<e?e:r;let y2=()=>{};const zd={},JQ=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),eH=e=>/^0[^.\s]+$/u.test(e);function qE(e){let t;return()=>(t===void 0&&(t=e()),t)}const dl=e=>e,lxe=(e,t)=>r=>t(e(r)),k1=(...e)=>e.reduce(lxe),$g=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class XE{constructor(){this.subscriptions=[]}add(t){return GE(this.subscriptions,t),()=>$E(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _c=e=>e*1e3,Tc=e=>e/1e3;function tH(e,t){return t?e*(1e3/t):0}const rH=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,cxe=1e-7,dxe=12;function uxe(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=rH(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>cxe&&++l<dxe);return o}function _1(e,t,r,n){if(e===t&&r===n)return dl;const s=i=>uxe(i,0,1,e,r);return i=>i===0||i===1?i:rH(s(i),t,n)}const nH=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sH=e=>t=>1-e(1-t),aH=_1(.33,1.53,.69,.99),YE=sH(aH),iH=nH(YE),oH=e=>(e*=2)<1?.5*YE(e):.5*(2-Math.pow(2,-10*(e-1))),ZE=e=>1-Math.sin(Math.acos(e)),lH=sH(ZE),cH=nH(ZE),Axe=_1(.42,0,1,1),hxe=_1(0,0,.58,1),dH=_1(.42,0,.58,1),fxe=e=>Array.isArray(e)&&typeof e[0]!="number",uH=e=>Array.isArray(e)&&typeof e[0]=="number",$_={linear:dl,easeIn:Axe,easeInOut:dH,easeOut:hxe,circIn:ZE,circInOut:cH,circOut:lH,backIn:YE,backInOut:iH,backOut:aH,anticipate:oH},mxe=e=>typeof e=="string",q_=e=>{if(uH(e)){y2(e.length===4);const[t,r,n,s]=e;return _1(t,r,n,s)}else if(mxe(e))return y2($_[e]!==void 0),$_[e];return e},hy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],X_={value:null,addProjectionMetrics:null};function pxe(e,t){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},d=0;function u(m){o.has(m)&&(h.schedule(m),e()),d++,m(l)}const h={schedule:(m,y=!1,p=!1)=>{const N=p&&s?r:n;return y&&o.add(m),N.has(m)||N.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(l=m,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&X_.value&&X_.value.frameloop[t].push(d),d=0,r.clear(),s=!1,i&&(i=!1,h.process(m))}};return h}const gxe=40;function AH(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=hy.reduce((I,_)=>(I[_]=pxe(i,t?_:void 0),I),{}),{setup:l,read:d,resolveKeyframes:u,preUpdate:h,update:m,preRender:y,render:p,postRender:b}=o,N=()=>{const I=zd.useManualTiming?s.timestamp:performance.now();r=!1,zd.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(I-s.timestamp,gxe),1)),s.timestamp=I,s.isProcessing=!0,l.process(s),d.process(s),u.process(s),h.process(s),m.process(s),y.process(s),p.process(s),b.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(N))},S=()=>{r=!0,n=!0,s.isProcessing||e(N)};return{schedule:hy.reduce((I,_)=>{const P=o[_];return I[_]=(H,D=!1,L=!1)=>(r||S(),P.schedule(H,D,L)),I},{}),cancel:I=>{for(let _=0;_<hy.length;_++)o[hy[_]].cancel(I)},state:s,steps:o}}const{schedule:gs,cancel:LA,state:_a,steps:FC}=AH(typeof requestAnimationFrame<"u"?requestAnimationFrame:dl,!0);let rw;function xxe(){rw=void 0}const $i={now:()=>(rw===void 0&&$i.set(_a.isProcessing||zd.useManualTiming?_a.timestamp:performance.now()),rw),set:e=>{rw=e,queueMicrotask(xxe)}},hH=e=>t=>typeof t=="string"&&t.startsWith(e),JE=hH("--"),yxe=hH("var(--"),e6=e=>yxe(e)?wxe.test(e.split("/*")[0].trim()):!1,wxe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Em={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qg={...Em,transform:e=>Kd(0,1,e)},fy={...Em,default:1},Xp=e=>Math.round(e*1e5)/1e5,t6=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vxe(e){return e==null}const bxe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r6=(e,t)=>r=>!!(typeof r=="string"&&bxe.test(r)&&r.startsWith(e)||t&&!vxe(r)&&Object.prototype.hasOwnProperty.call(r,t)),fH=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(t6);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Cxe=e=>Kd(0,255,e),kC={...Em,transform:e=>Math.round(Cxe(e))},yh={test:r6("rgb","red"),parse:fH("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+kC.transform(e)+", "+kC.transform(t)+", "+kC.transform(r)+", "+Xp(qg.transform(n))+")"};function Nxe(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const D3={test:r6("#"),parse:Nxe,transform:yh.transform},T1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ku=T1("deg"),Lc=T1("%"),xr=T1("px"),Bxe=T1("vh"),Sxe=T1("vw"),Y_={...Lc,parse:e=>Lc.parse(e)/100,transform:e=>Lc.transform(e*100)},a0={test:r6("hsl","hue"),parse:fH("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Lc.transform(Xp(t))+", "+Lc.transform(Xp(r))+", "+Xp(qg.transform(n))+")"},ri={test:e=>yh.test(e)||D3.test(e)||a0.test(e),parse:e=>yh.test(e)?yh.parse(e):a0.test(e)?a0.parse(e):D3.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?yh.transform(e):a0.transform(e)},Exe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jxe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(t6))==null?void 0:t.length)||0)+(((r=e.match(Exe))==null?void 0:r.length)||0)>0}const mH="number",pH="color",Ixe="var",Fxe="var(",Z_="${}",kxe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xg(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(kxe,d=>(ri.test(d)?(n.color.push(i),s.push(pH),r.push(ri.parse(d))):d.startsWith(Fxe)?(n.var.push(i),s.push(Ixe),r.push(d)):(n.number.push(i),s.push(mH),r.push(parseFloat(d))),++i,Z_)).split(Z_);return{values:r,split:l,indexes:n,types:s}}function gH(e){return Xg(e).values}function xH(e){const{split:t,types:r}=Xg(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===mH?i+=Xp(s[o]):l===pH?i+=ri.transform(s[o]):i+=s[o]}return i}}const _xe=e=>typeof e=="number"?0:e;function Txe(e){const t=gH(e);return xH(e)(t.map(_xe))}const PA={test:jxe,parse:gH,createTransformer:xH,getAnimatableNone:Txe};function _C(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Lxe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,d=2*r-l;s=_C(d,l,e+1/3),i=_C(d,l,e),o=_C(d,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function w2(e,t){return r=>r>0?t:e}const fs=(e,t,r)=>e+(t-e)*r,TC=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},Pxe=[D3,yh,a0],Dxe=e=>Pxe.find(t=>t.test(e));function J_(e){const t=Dxe(e);if(!t)return!1;let r=t.parse(e);return t===a0&&(r=Lxe(r)),r}const eT=(e,t)=>{const r=J_(e),n=J_(t);if(!r||!n)return w2(e,t);const s={...r};return i=>(s.red=TC(r.red,n.red,i),s.green=TC(r.green,n.green,i),s.blue=TC(r.blue,n.blue,i),s.alpha=fs(r.alpha,n.alpha,i),yh.transform(s))},O3=new Set(["none","hidden"]);function Oxe(e,t){return O3.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Rxe(e,t){return r=>fs(e,t,r)}function n6(e){return typeof e=="number"?Rxe:typeof e=="string"?e6(e)?w2:ri.test(e)?eT:Qxe:Array.isArray(e)?yH:typeof e=="object"?ri.test(e)?eT:Mxe:w2}function yH(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>n6(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function Mxe(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=n6(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function Uxe(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][n[i]],l=e.values[o]??0;r[s]=l,n[i]++}return r}const Qxe=(e,t)=>{const r=PA.createTransformer(t),n=Xg(e),s=Xg(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?O3.has(e)&&!s.values.length||O3.has(t)&&!n.values.length?Oxe(e,t):k1(yH(Uxe(n,s),s.values),r):w2(e,t)};function wH(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?fs(e,t,r):n6(e)(e,t)}const Hxe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>gs.update(t,r),stop:()=>LA(t),now:()=>_a.isProcessing?_a.timestamp:$i.now()}},vH=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(i/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},v2=2e4;function s6(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<v2;)t+=r,n=e.next(t);return t>=v2?1/0:t}function Vxe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(s6(n),v2);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:Tc(s)}}const Kxe=5;function bH(e,t,r){const n=Math.max(t-Kxe,0);return tH(r-e(n),t-n)}const js={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},LC=.001;function zxe({duration:e=js.duration,bounce:t=js.bounce,velocity:r=js.velocity,mass:n=js.mass}){let s,i,o=1-t;o=Kd(js.minDamping,js.maxDamping,o),e=Kd(js.minDuration,js.maxDuration,Tc(e)),o<1?(s=u=>{const h=u*o,m=h*e,y=h-r,p=R3(u,o),b=Math.exp(-m);return LC-y/p*b},i=u=>{const m=u*o*e,y=m*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-m),N=R3(Math.pow(u,2),o);return(-s(u)+LC>0?-1:1)*((y-p)*b)/N}):(s=u=>{const h=Math.exp(-u*e),m=(u-r)*e+1;return-LC+h*m},i=u=>{const h=Math.exp(-u*e),m=(r-u)*(e*e);return h*m});const l=5/e,d=Gxe(s,i,l);if(e=_c(e),isNaN(d))return{stiffness:js.stiffness,damping:js.damping,duration:e};{const u=Math.pow(d,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const Wxe=12;function Gxe(e,t,r){let n=r;for(let s=1;s<Wxe;s++)n=n-e(n)/t(n);return n}function R3(e,t){return e*Math.sqrt(1-t*t)}const $xe=["duration","bounce"],qxe=["stiffness","damping","mass"];function tT(e,t){return t.some(r=>e[r]!==void 0)}function Xxe(e){let t={velocity:js.velocity,stiffness:js.stiffness,damping:js.damping,mass:js.mass,isResolvedFromDuration:!1,...e};if(!tT(e,qxe)&&tT(e,$xe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Kd(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:js.mass,stiffness:s,damping:i}}else{const r=zxe(e);t={...t,...r,mass:js.mass},t.isResolvedFromDuration=!0}return t}function b2(e=js.visualDuration,t=js.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:d,damping:u,mass:h,duration:m,velocity:y,isResolvedFromDuration:p}=Xxe({...r,velocity:-Tc(r.velocity||0)}),b=y||0,N=u/(2*Math.sqrt(d*h)),S=o-i,w=Tc(Math.sqrt(d/h)),B=Math.abs(S)<5;n||(n=B?js.restSpeed.granular:js.restSpeed.default),s||(s=B?js.restDelta.granular:js.restDelta.default);let I;if(N<1){const P=R3(w,N);I=H=>{const D=Math.exp(-N*w*H);return o-D*((b+N*w*S)/P*Math.sin(P*H)+S*Math.cos(P*H))}}else if(N===1)I=P=>o-Math.exp(-w*P)*(S+(b+w*S)*P);else{const P=w*Math.sqrt(N*N-1);I=H=>{const D=Math.exp(-N*w*H),L=Math.min(P*H,300);return o-D*((b+N*w*S)*Math.sinh(L)+P*S*Math.cosh(L))/P}}const _={calculatedDuration:p&&m||null,next:P=>{const H=I(P);if(p)l.done=P>=m;else{let D=P===0?b:0;N<1&&(D=P===0?_c(b):bH(I,P,H));const L=Math.abs(D)<=n,T=Math.abs(o-H)<=s;l.done=L&&T}return l.value=l.done?o:H,l},toString:()=>{const P=Math.min(s6(_),v2),H=vH(D=>_.next(P*D).value,P,30);return P+"ms "+H},toTransition:()=>{}};return _}b2.applyToOptions=e=>{const t=Vxe(e,100,b2);return e.ease=t.ease,e.duration=_c(t.duration),e.type="keyframes",e};function M3({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:d,restDelta:u=.5,restSpeed:h}){const m=e[0],y={done:!1,value:m},p=L=>l!==void 0&&L<l||d!==void 0&&L>d,b=L=>l===void 0?d:d===void 0||Math.abs(l-L)<Math.abs(d-L)?l:d;let N=r*t;const S=m+N,w=o===void 0?S:o(S);w!==S&&(N=w-m);const B=L=>-N*Math.exp(-L/n),I=L=>w+B(L),_=L=>{const T=B(L),z=I(L);y.done=Math.abs(T)<=u,y.value=y.done?w:z};let P,H;const D=L=>{p(y.value)&&(P=L,H=b2({keyframes:[y.value,b(y.value)],velocity:bH(I,L,y.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return D(0),{calculatedDuration:null,next:L=>{let T=!1;return!H&&P===void 0&&(T=!0,_(L),D(L)),P!==void 0&&L>=P?H.next(L-P):(!T&&_(L),y)}}}function Yxe(e,t,r){const n=[],s=r||zd.mix||wH,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||dl:t;l=k1(d,l)}n.push(l)}return n}function Zxe(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(y2(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Yxe(t,n,s),d=l.length,u=h=>{if(o&&h<e[0])return t[0];let m=0;if(d>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const y=$g(e[m],e[m+1],h);return l[m](y)};return r?h=>u(Kd(e[0],e[i-1],h)):u}function Jxe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=$g(0,t,n);e.push(fs(r,1,s))}}function eye(e){const t=[0];return Jxe(t,e.length-1),t}function tye(e,t){return e.map(r=>r*t)}function rye(e,t){return e.map(()=>t||dH).splice(0,e.length-1)}function Yp({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=fxe(n)?n.map(q_):q_(n),i={done:!1,value:t[0]},o=tye(r&&r.length===t.length?r:eye(t),e),l=Zxe(o,t,{ease:Array.isArray(s)?s:rye(t,s)});return{calculatedDuration:e,next:d=>(i.value=l(d),i.done=d>=e,i)}}const nye=e=>e!==null;function a6(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(nye),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const sye={decay:M3,inertia:M3,tween:Yp,keyframes:Yp,spring:b2};function CH(e){typeof e.type=="string"&&(e.type=sye[e.type])}class i6{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const aye=e=>e/100;class o6 extends i6{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:s}=this.options;s&&s.updatedAt!==$i.now()&&this.tick($i.now())}if(this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;CH(t);const{type:r=Yp,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const d=r||Yp;d!==Yp&&typeof l[0]!="number"&&(this.mixKeyframes=k1(aye,wH(l[0],l[1])),l=[0,100]);const u=d({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=s6(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:h,repeat:m,repeatType:y,repeatDelay:p,type:b,onUpdate:N,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let I=this.currentTime,_=n;if(m){const L=Math.min(this.currentTime,s)/l;let T=Math.floor(L),z=L%1;!z&&L>=1&&(z=1),z===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(y==="reverse"?(z=1-z,p&&(z-=p/l)):y==="mirror"&&(_=o)),I=Kd(0,1,z)*l}const P=B?{done:!1,value:h[0]}:_.next(I);i&&(P.value=i(P.value));let{done:H}=P;!B&&d!==null&&(H=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return D&&b!==M3&&(P.value=a6(h,this.options,S,this.speed)),N&&N(P.value),D&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return Tc(this.calculatedDuration)}get time(){return Tc(this.currentTime)}set time(t){var r;t=_c(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime($i.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Tc(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Hxe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($i.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function iye(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const wh=e=>e*180/Math.PI,U3=e=>{const t=wh(Math.atan2(e[1],e[0]));return Q3(t)},oye={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:U3,rotateZ:U3,skewX:e=>wh(Math.atan(e[1])),skewY:e=>wh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Q3=e=>(e=e%360,e<0&&(e+=360),e),rT=U3,nT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sT=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),lye={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nT,scaleY:sT,scale:e=>(nT(e)+sT(e))/2,rotateX:e=>Q3(wh(Math.atan2(e[6],e[5]))),rotateY:e=>Q3(wh(Math.atan2(-e[2],e[0]))),rotateZ:rT,rotate:rT,skewX:e=>wh(Math.atan(e[4])),skewY:e=>wh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function aT(e){return e.includes("scale")?1:0}function H3(e,t){if(!e||e==="none")return aT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=lye,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=oye,s=l}if(!s)return aT(t);const i=n[t],o=s[1].split(",").map(dye);return typeof i=="function"?i(o):o[i]}const cye=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return H3(r,t)};function dye(e){return parseFloat(e.trim())}const jm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Im=new Set(jm),iT=e=>e===Em||e===xr,uye=new Set(["x","y","z"]),Aye=jm.filter(e=>!uye.has(e));function hye(e){const t=[];return Aye.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Qh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>H3(t,"x"),y:(e,{transform:t})=>H3(t,"y")};Qh.translateX=Qh.x;Qh.translateY=Qh.y;const Hh=new Set;let V3=!1,K3=!1,z3=!1;function NH(){if(K3){const e=Array.from(Hh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=hye(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}K3=!1,V3=!1,Hh.forEach(e=>e.complete(z3)),Hh.clear()}function BH(){Hh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(K3=!0)})}function fye(){z3=!0,BH(),NH(),z3=!1}class l6{constructor(t,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Hh.add(this),V3||(V3=!0,gs.read(BH),gs.resolveKeyframes(NH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}iye(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Hh.delete(this)}cancel(){this.state==="scheduled"&&(Hh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mye=e=>e.startsWith("--");function pye(e,t,r){mye(t)?e.style.setProperty(t,r):e.style[t]=r}const gye=qE(()=>window.ScrollTimeline!==void 0),xye={};function yye(e,t){const r=qE(e);return()=>xye[t]??r()}const SH=yye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,oT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bp([0,.65,.55,1]),circOut:Bp([.55,0,1,.45]),backIn:Bp([.31,.01,.66,-.59]),backOut:Bp([.33,1.53,.69,.99])};function EH(e,t){if(e)return typeof e=="function"?SH()?vH(e,t):"ease-out":uH(e)?Bp(e):Array.isArray(e)?e.map(r=>EH(r,t)||oT.easeOut):oT[e]}function wye(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:d}={},u=void 0){const h={[t]:r};d&&(h.offset=d);const m=EH(l,s);Array.isArray(m)&&(h.easing=m);const y={delay:n,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(y.pseudoElement=u),e.animate(h,y)}function jH(e){return typeof e=="function"&&"applyToOptions"in e}function vye({type:e,...t}){return jH(e)&&SH()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class bye extends i6{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:d}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,y2(typeof t.type!="string");const u=vye(t);this.animation=wye(r,n,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=a6(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):pye(r,n,h),this.animation.cancel()}d==null||d(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Tc(Number(t))}get time(){return Tc(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_c(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&gye()?(this.animation.timeline=t,dl):r(this)}}const IH={anticipate:oH,backInOut:iH,circInOut:cH};function Cye(e){return e in IH}function Nye(e){typeof e.ease=="string"&&Cye(e.ease)&&(e.ease=IH[e.ease])}const lT=10;class Bye extends bye{constructor(t){Nye(t),CH(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new o6({...o,autoplay:!1}),d=_c(this.finishedTime??this.time);r.setWithVelocity(l.sample(d-lT).value,l.sample(d).value,lT),l.stop()}}const cT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(PA.test(e)||e==="0")&&!e.startsWith("url("));function Sye(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Eye(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=cT(s,t),l=cT(i,t);return!o||!l?!1:Sye(e)||(r==="spring"||jH(r))&&n}const jye=new Set(["opacity","clipPath","filter","transform"]),Iye=qE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Fye(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=t.owner.getProps();return Iye()&&r&&jye.has(r)&&(r!=="transform"||!d)&&!l&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const kye=40;class _ye extends i6{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:d,motionValue:u,element:h,...m}){var b;super(),this.stop=()=>{var N,S;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=$i.now();const y={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:d,motionValue:u,element:h,...m},p=(h==null?void 0:h.KeyframeResolver)||l6;this.keyframeResolver=new p(l,(N,S,w)=>this.onKeyframesResolved(N,S,y,!w),d,u,h),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:d,isHandoff:u,onUpdate:h}=n;this.resolvedAt=$i.now(),Eye(t,i,o,l)||((zd.instantAnimations||!d)&&(h==null||h(a6(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>kye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!u&&Fye(y)?new Bye({...y,element:y.motionValue.owner.current}):new o6(y);p.finished.then(()=>this.notifyFinished()).catch(dl),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),fye()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Tye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Lye(e){const t=Tye.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function FH(e,t,r=1){const[n,s]=Lye(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return JQ(o)?parseFloat(o):o}return e6(s)?FH(s,t,r+1):s}function c6(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const kH=new Set(["width","height","top","left","right","bottom",...jm]),Pye={test:e=>e==="auto",parse:e=>e},_H=e=>t=>t.test(e),TH=[Em,xr,Lc,ku,Sxe,Bxe,Pye],dT=e=>TH.find(_H(e));function Dye(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||eH(e):!0}const Oye=new Set(["brightness","contrast","saturate","opacity"]);function Rye(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(t6)||[];if(!n)return e;const s=r.replace(n,"");let i=Oye.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const Mye=/\b([a-z-]*)\(.*?\)/gu,W3={...PA,getAnimatableNone:e=>{const t=e.match(Mye);return t?t.map(Rye).join(" "):e}},uT={...Em,transform:Math.round},Uye={rotate:ku,rotateX:ku,rotateY:ku,rotateZ:ku,scale:fy,scaleX:fy,scaleY:fy,scaleZ:fy,skew:ku,skewX:ku,skewY:ku,distance:xr,translateX:xr,translateY:xr,translateZ:xr,x:xr,y:xr,z:xr,perspective:xr,transformPerspective:xr,opacity:qg,originX:Y_,originY:Y_,originZ:xr},d6={borderWidth:xr,borderTopWidth:xr,borderRightWidth:xr,borderBottomWidth:xr,borderLeftWidth:xr,borderRadius:xr,radius:xr,borderTopLeftRadius:xr,borderTopRightRadius:xr,borderBottomRightRadius:xr,borderBottomLeftRadius:xr,width:xr,maxWidth:xr,height:xr,maxHeight:xr,top:xr,right:xr,bottom:xr,left:xr,padding:xr,paddingTop:xr,paddingRight:xr,paddingBottom:xr,paddingLeft:xr,margin:xr,marginTop:xr,marginRight:xr,marginBottom:xr,marginLeft:xr,backgroundPositionX:xr,backgroundPositionY:xr,...Uye,zIndex:uT,fillOpacity:qg,strokeOpacity:qg,numOctaves:uT},Qye={...d6,color:ri,backgroundColor:ri,outlineColor:ri,fill:ri,stroke:ri,borderColor:ri,borderTopColor:ri,borderRightColor:ri,borderBottomColor:ri,borderLeftColor:ri,filter:W3,WebkitFilter:W3},LH=e=>Qye[e];function PH(e,t){let r=LH(e);return r!==W3&&(r=PA),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Hye=new Set(["auto","none","0"]);function Vye(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!Hye.has(i)&&Xg(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=PH(r,s)}class Kye extends l6{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let u=t[d];if(typeof u=="string"&&(u=u.trim(),e6(u))){const h=FH(u,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!kH.has(n)||t.length!==2)return;const[s,i]=t,o=dT(s),l=dT(i);if(o!==l)if(iT(o)&&iT(l))for(let d=0;d<t.length;d++){const u=t[d];typeof u=="string"&&(t[d]=parseFloat(u))}else Qh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||Dye(t[s]))&&n.push(s);n.length&&Vye(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Qh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([d,u])=>{t.getValue(d).set(u)}),this.resolveNoneKeyframes()}}function zye(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const AT=30,Wye=e=>!isNaN(parseFloat(e));class Gye{constructor(t,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{var o,l;const i=$i.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=$i.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Wye(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new XE);const n=this.events[t].add(r);return t==="change"?()=>{n(),gs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$i.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>AT)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,AT);return tH(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cm(e,t){return new Gye(e,t)}const DH=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:u6,cancel:eNe}=AH(queueMicrotask,!1),Fl={x:!1,y:!1};function OH(){return Fl.x||Fl.y}function $ye(e){return e==="x"||e==="y"?Fl[e]?null:(Fl[e]=!0,()=>{Fl[e]=!1}):Fl.x||Fl.y?null:(Fl.x=Fl.y=!0,()=>{Fl.x=Fl.y=!1})}function RH(e,t){const r=zye(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function hT(e){return!(e.pointerType==="touch"||OH())}function qye(e,t,r={}){const[n,s,i]=RH(e,r),o=l=>{if(!hT(l))return;const{target:d}=l,u=t(d,l);if(typeof u!="function"||!d)return;const h=m=>{hT(m)&&(u(m),d.removeEventListener("pointerleave",h))};d.addEventListener("pointerleave",h,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const MH=(e,t)=>t?e===t?!0:MH(e,t.parentElement):!1,A6=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Xye=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Yye(e){return Xye.has(e.tagName)||e.tabIndex!==-1}const nw=new WeakSet;function fT(e){return t=>{t.key==="Enter"&&e(t)}}function PC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Zye=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=fT(()=>{if(nw.has(r))return;PC(r,"down");const s=fT(()=>{PC(r,"up")}),i=()=>PC(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function mT(e){return A6(e)&&!OH()}function Jye(e,t,r={}){const[n,s,i]=RH(e,r),o=l=>{const d=l.currentTarget;if(!mT(l))return;nw.add(d);const u=t(d,l),h=(p,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),nw.has(d)&&nw.delete(d),mT(p)&&typeof u=="function"&&u(p,{success:b})},m=p=>{h(p,d===window||d===document||r.useGlobalTarget||MH(d,p.target))},y=p=>{h(p,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",y,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l instanceof HTMLElement&&(l.addEventListener("focus",u=>Zye(u,s)),!Yye(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}const ewe=[...TH,ri,PA],twe=e=>ewe.find(_H(e)),UH=C.createContext({strict:!1}),pT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dm={};for(const e in pT)dm[e]={isEnabled:t=>pT[e].some(r=>!!t[r])};function rwe(e){for(const t in e)dm[t]={...dm[t],...e[t]}}const nwe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function C2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nwe.has(e)}let QH=e=>!C2(e);function swe(e){e&&(QH=t=>t.startsWith("on")?!C2(t):e(t))}try{swe(require("@emotion/is-prop-valid").default)}catch{}function awe(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(QH(s)||r===!0&&C2(s)||!t&&!C2(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function iwe(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Yv=C.createContext({});function Zv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Yg(e){return typeof e=="string"||Array.isArray(e)}const h6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f6=["initial",...h6];function Jv(e){return Zv(e.animate)||f6.some(t=>Yg(e[t]))}function HH(e){return!!(Jv(e)||e.variants)}function owe(e,t){if(Jv(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Yg(r)?r:void 0,animate:Yg(n)?n:void 0}}return e.inherit!==!1?t:{}}function lwe(e){const{initial:t,animate:r}=owe(e,C.useContext(Yv));return C.useMemo(()=>({initial:t,animate:r}),[gT(t),gT(r)])}function gT(e){return Array.isArray(e)?e.join(" "):e}const cwe=Symbol.for("motionComponentSymbol");function i0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dwe(e,t,r){return C.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):i0(r)&&(r.current=n))},[t])}const m6=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uwe="framerAppearId",VH="data-"+m6(uwe),KH=C.createContext({});function Awe(e,t,r,n,s){var N,S;const{visualElement:i}=C.useContext(Yv),o=C.useContext(UH),l=C.useContext(Xv),d=C.useContext(WE).reducedMotion,u=C.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const h=u.current,m=C.useContext(KH);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&hwe(u.current,r,s,m);const y=C.useRef(!1);C.useInsertionEffect(()=>{h&&y.current&&h.update(r,l)});const p=r[VH],b=C.useRef(!!p&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,p))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,p)));return YQ(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),u6.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),C.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,p)}),b.current=!1))}),h}function hwe(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:d,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:zH(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&i0(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:d,layoutRoot:u})}function zH(e){if(e)return e.options.allowProjection!==!1?e.projection:zH(e.parent)}function fwe({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&rwe(e);function i(l,d){let u;const h={...C.useContext(WE),...l,layoutId:mwe(l)},{isStatic:m}=h,y=lwe(l),p=n(l,m);if(!m&&zE){pwe();const b=gwe(h);u=b.MeasureLayout,y.visualElement=Awe(s,p,h,t,b.ProjectionNode)}return a.jsxs(Yv.Provider,{value:y,children:[u&&y.visualElement?a.jsx(u,{visualElement:y.visualElement,...h}):null,r(s,l,dwe(p,y.visualElement,d),p,m,y.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=C.forwardRef(i);return o[cwe]=s,o}function mwe({layoutId:e}){const t=C.useContext(VE).id;return t&&e!==void 0?t+"-"+e:e}function pwe(e,t){C.useContext(UH).strict}function gwe(e){const{drag:t,layout:r}=dm;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Zg={};function xwe(e){for(const t in e)Zg[t]=e[t],JE(t)&&(Zg[t].isCSSVariable=!0)}function WH(e,{layout:t,layoutId:r}){return Im.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Zg[e]||e==="opacity")}const oi=e=>!!(e&&e.getVelocity),ywe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wwe=jm.length;function vwe(e,t,r){let n="",s=!0;for(let i=0;i<wwe;i++){const o=jm[i],l=e[o];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(o.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||r){const u=DH(l,d6[o]);if(!d){s=!1;const h=ywe[o]||o;n+=`${h}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function p6(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const d in t){const u=t[d];if(Im.has(d)){o=!0;continue}else if(JE(d)){s[d]=u;continue}else{const h=DH(u,d6[d]);d.startsWith("origin")?(l=!0,i[d]=h):n[d]=h}}if(t.transform||(o||r?n.transform=vwe(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:d="50%",originY:u="50%",originZ:h=0}=i;n.transformOrigin=`${d} ${u} ${h}`}}const g6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GH(e,t,r){for(const n in t)!oi(t[n])&&!WH(n,r)&&(e[n]=t[n])}function bwe({transformTemplate:e},t){return C.useMemo(()=>{const r=g6();return p6(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Cwe(e,t){const r=e.style||{},n={};return GH(n,r,e),Object.assign(n,bwe(e,t)),n}function Nwe(e,t){const r={},n=Cwe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Bwe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x6(e){return typeof e!="string"||e.includes("-")?!1:!!(Bwe.indexOf(e)>-1||/[A-Z]/u.test(e))}const Swe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ewe={offset:"strokeDashoffset",array:"strokeDasharray"};function jwe(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?Swe:Ewe;e[i.offset]=xr.transform(-n);const o=xr.transform(t),l=xr.transform(r);e[i.array]=`${o} ${l}`}function $H(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},d,u,h){if(p6(e,l,u),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y}=e;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),s!==void 0&&jwe(m,s,i,o,!1)}const qH=()=>({...g6(),attrs:{}}),XH=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Iwe(e,t,r,n){const s=C.useMemo(()=>{const i=qH();return $H(i,t,XH(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};GH(i,e.style,e),s.style={...i,...s.style}}return s}function Fwe(e=!1){return(r,n,s,{latestValues:i},o)=>{const d=(x6(r)?Iwe:Nwe)(n,i,o,r),u=awe(n,typeof r=="string",e),h=r!==C.Fragment?{...u,...d,ref:s}:{},{children:m}=n,y=C.useMemo(()=>oi(m)?m.get():m,[m]);return C.createElement(r,{...h,children:y})}}function xT(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function y6(e,t,r,n){if(typeof t=="function"){const[s,i]=xT(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=xT(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function sw(e){return oi(e)?e.get():e}function kwe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:_we(r,n,s,e),renderState:t()}}const YH=e=>(t,r)=>{const n=C.useContext(Yv),s=C.useContext(Xv),i=()=>kwe(e,t,n,s);return r?i():KE(i)};function _we(e,t,r,n){const s={},i=n(e,{});for(const y in i)s[y]=sw(i[y]);let{initial:o,animate:l}=e;const d=Jv(e),u=HH(e);t&&u&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Zv(m)){const y=Array.isArray(m)?m:[m];for(let p=0;p<y.length;p++){const b=y6(e,y[p]);if(b){const{transitionEnd:N,transition:S,...w}=b;for(const B in w){let I=w[B];if(Array.isArray(I)){const _=h?I.length-1:0;I=I[_]}I!==null&&(s[B]=I)}for(const B in N)s[B]=N[B]}}}return s}function w6(e,t,r){var i;const{style:n}=e,s={};for(const o in n)(oi(n[o])||t.style&&oi(t.style[o])||WH(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const Twe={useVisualState:YH({scrapeMotionValuesFromProps:w6,createRenderState:g6})};function ZH(e,t,r){const n=w6(e,t,r);for(const s in e)if(oi(e[s])||oi(t[s])){const i=jm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const Lwe={useVisualState:YH({scrapeMotionValuesFromProps:ZH,createRenderState:qH})};function Pwe(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...x6(n)?Lwe:Twe,preloadedFeatures:e,useRender:Fwe(s),createVisualElement:t,Component:n};return fwe(o)}}function Jg(e,t,r){const n=e.getProps();return y6(n,t,r!==void 0?r:n.custom,e)}const G3=e=>Array.isArray(e);function Dwe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,cm(r))}function Owe(e){return G3(e)?e[e.length-1]||0:e}function Rwe(e,t){const r=Jg(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=Owe(i[o]);Dwe(e,o,l)}}function Mwe(e){return!!(oi(e)&&e.add)}function $3(e,t){const r=e.getValue("willChange");if(Mwe(r))return r.add(t);if(!r&&zd.WillChange){const n=new zd.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function JH(e){return e.props[VH]}const Uwe=e=>e!==null;function Qwe(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(Uwe),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const Hwe={type:"spring",stiffness:500,damping:25,restSpeed:10},Vwe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Kwe={type:"keyframes",duration:.8},zwe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wwe=(e,{keyframes:t})=>t.length>2?Kwe:Im.has(e)?e.startsWith("scale")?Vwe(t[1]):Hwe:zwe;function Gwe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:d,elapsed:u,...h}){return!!Object.keys(h).length}const v6=(e,t,r,n={},s,i)=>o=>{const l=c6(n,e)||{},d=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-_c(d);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:y=>{t.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};Gwe(l)||Object.assign(h,Wwe(e,h)),h.duration&&(h.duration=_c(h.duration)),h.repeatDelay&&(h.repeatDelay=_c(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(m=!0)),(zd.instantAnimations||zd.skipAnimations)&&(m=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&t.get()!==void 0){const y=Qwe(h.keyframes,l);if(y!==void 0){gs.update(()=>{h.onUpdate(y),h.onComplete()});return}}return l.isSync?new o6(h):new _ye(h)};function $we({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function eV(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const d=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const m=e.getValue(h,e.latestValues[h]??null),y=l[h];if(y===void 0||u&&$we(u,h))continue;const p={delay:r,...c6(i||{},h)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===b&&!p.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const w=JH(e);if(w){const B=window.MotionHandoffAnimation(w,h,gs);B!==null&&(p.startTime=B,N=!0)}}$3(e,h),m.start(v6(h,m,y,e.shouldReduceMotion&&kH.has(h)?{type:!1}:p,e,N));const S=m.animation;S&&d.push(S)}return o&&Promise.all(d).then(()=>{gs.update(()=>{o&&Rwe(e,o)})}),d}function q3(e,t,r={}){var d;const n=Jg(e,t,r.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(eV(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:y}=s;return qwe(e,t,h+u,m,y,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function qwe(e,t,r=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,d=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(Xwe).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(q3(u,t,{...i,delay:r+d(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Xwe(e,t){return e.sortNodePosition(t)}function Ywe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>q3(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=q3(e,t,r);else{const s=typeof t=="function"?Jg(e,t,r.custom):t;n=Promise.all(eV(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function tV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Zwe=f6.length;function rV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?rV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Zwe;r++){const n=f6[r],s=e.props[n];(Yg(s)||s===!1)&&(t[n]=s)}return t}const Jwe=[...h6].reverse(),e2e=h6.length;function t2e(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Ywe(e,r,n)))}function r2e(e){let t=t2e(e),r=yT(),n=!0;const s=d=>(u,h)=>{var y;const m=Jg(e,h,d==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);if(m){const{transition:p,transitionEnd:b,...N}=m;u={...u,...N,...b}}return u};function i(d){t=d(e)}function o(d){const{props:u}=e,h=rV(e.parent)||{},m=[],y=new Set;let p={},b=1/0;for(let S=0;S<e2e;S++){const w=Jwe[S],B=r[w],I=u[w]!==void 0?u[w]:h[w],_=Yg(I),P=w===d?B.isActive:null;P===!1&&(b=S);let H=I===h[w]&&I!==u[w]&&_;if(H&&n&&e.manuallyAnimateOnMount&&(H=!1),B.protectedKeys={...p},!B.isActive&&P===null||!I&&!B.prevProp||Zv(I)||typeof I=="boolean")continue;const D=n2e(B.prevProp,I);let L=D||w===d&&B.isActive&&!H&&_||S>b&&_,T=!1;const z=Array.isArray(I)?I:[I];let M=z.reduce(s(w),{});P===!1&&(M={});const{prevResolvedValues:V={}}=B,J={...V,...M},Z=X=>{L=!0,y.has(X)&&(T=!0,y.delete(X)),B.needsAnimating[X]=!0;const Y=e.getValue(X);Y&&(Y.liveStyle=!1)};for(const X in J){const Y=M[X],K=V[X];if(p.hasOwnProperty(X))continue;let ce=!1;G3(Y)&&G3(K)?ce=!tV(Y,K):ce=Y!==K,ce?Y!=null?Z(X):y.add(X):Y!==void 0&&y.has(X)?Z(X):B.protectedKeys[X]=!0}B.prevProp=I,B.prevResolvedValues=M,B.isActive&&(p={...p,...M}),n&&e.blockInitialAnimation&&(L=!1),L&&(!(H&&D)||T)&&m.push(...z.map(X=>({animation:X,options:{type:w}})))}if(y.size){const S={};if(typeof u.initial!="boolean"){const w=Jg(e,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(S.transition=w.transition)}y.forEach(w=>{const B=e.getBaseTarget(w),I=e.getValue(w);I&&(I.liveStyle=!0),S[w]=B??null}),m.push({animation:S})}let N=!!m.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(N=!1),n=!1,N?t(m):Promise.resolve()}function l(d,u){var m;if(r[d].isActive===u)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(y=>{var p;return(p=y.animationState)==null?void 0:p.setActive(d,u)}),r[d].isActive=u;const h=o(d);for(const y in r)r[y].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=yT(),n=!0}}}function n2e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tV(t,e):!1}function eh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yT(){return{animate:eh(!0),whileInView:eh(),whileHover:eh(),whileTap:eh(),whileDrag:eh(),whileFocus:eh(),exit:eh()}}class KA{constructor(t){this.isMounted=!1,this.node=t}update(){}}class s2e extends KA{constructor(t){super(t),t.animationState||(t.animationState=r2e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let a2e=0;class i2e extends KA{constructor(){super(...arguments),this.id=a2e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const o2e={animation:{Feature:s2e},exit:{Feature:i2e}};function e1(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function L1(e){return{point:{x:e.pageX,y:e.pageY}}}const l2e=e=>t=>A6(t)&&e(t,L1(t));function Zp(e,t,r,n){return e1(e,t,l2e(r),n)}function nV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function c2e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function d2e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const sV=1e-4,u2e=1-sV,A2e=1+sV,aV=.01,h2e=0-aV,f2e=0+aV;function Si(e){return e.max-e.min}function m2e(e,t,r){return Math.abs(e-t)<=r}function wT(e,t,r,n=.5){e.origin=n,e.originPoint=fs(t.min,t.max,e.origin),e.scale=Si(r)/Si(t),e.translate=fs(r.min,r.max,e.origin)-e.originPoint,(e.scale>=u2e&&e.scale<=A2e||isNaN(e.scale))&&(e.scale=1),(e.translate>=h2e&&e.translate<=f2e||isNaN(e.translate))&&(e.translate=0)}function Jp(e,t,r,n){wT(e.x,t.x,r.x,n?n.originX:void 0),wT(e.y,t.y,r.y,n?n.originY:void 0)}function vT(e,t,r){e.min=r.min+t.min,e.max=e.min+Si(t)}function p2e(e,t,r){vT(e.x,t.x,r.x),vT(e.y,t.y,r.y)}function bT(e,t,r){e.min=t.min-r.min,e.max=e.min+Si(t)}function eg(e,t,r){bT(e.x,t.x,r.x),bT(e.y,t.y,r.y)}const CT=()=>({translate:0,scale:1,origin:0,originPoint:0}),o0=()=>({x:CT(),y:CT()}),NT=()=>({min:0,max:0}),Os=()=>({x:NT(),y:NT()});function Jo(e){return[e("x"),e("y")]}function DC(e){return e===void 0||e===1}function X3({scale:e,scaleX:t,scaleY:r}){return!DC(e)||!DC(t)||!DC(r)}function ah(e){return X3(e)||iV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iV(e){return BT(e.x)||BT(e.y)}function BT(e){return e&&e!=="0%"}function N2(e,t,r){const n=e-r,s=t*n;return r+s}function ST(e,t,r,n,s){return s!==void 0&&(e=N2(e,s,n)),N2(e,r,n)+t}function Y3(e,t=0,r=1,n,s){e.min=ST(e.min,t,r,n,s),e.max=ST(e.max,t,r,n,s)}function oV(e,{x:t,y:r}){Y3(e.x,t.translate,t.scale,t.originPoint),Y3(e.y,r.translate,r.scale,r.originPoint)}const ET=.999999999999,jT=1.0000000000001;function g2e(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&c0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,oV(e,o)),n&&ah(i.latestValues)&&c0(e,i.latestValues))}t.x<jT&&t.x>ET&&(t.x=1),t.y<jT&&t.y>ET&&(t.y=1)}function l0(e,t){e.min=e.min+t,e.max=e.max+t}function IT(e,t,r,n,s=.5){const i=fs(e.min,e.max,s);Y3(e,t,r,i,n)}function c0(e,t){IT(e.x,t.x,t.scaleX,t.scale,t.originX),IT(e.y,t.y,t.scaleY,t.scale,t.originY)}function lV(e,t){return nV(d2e(e.getBoundingClientRect(),t))}function x2e(e,t,r){const n=lV(e,r),{scroll:s}=t;return s&&(l0(n.x,s.offset.x),l0(n.y,s.offset.y)),n}const cV=({current:e})=>e?e.ownerDocument.defaultView:null,FT=(e,t)=>Math.abs(e-t);function y2e(e,t){const r=FT(e.x,t.x),n=FT(e.y,t.y);return Math.sqrt(r**2+n**2)}class dV{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=RC(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,p=y2e(m.offset,{x:0,y:0})>=3;if(!y&&!p)return;const{point:b}=m,{timestamp:N}=_a;this.history.push({...b,timestamp:N});const{onStart:S,onMove:w}=this.handlers;y||(S&&S(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=OC(y,this.transformPagePoint),gs.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=RC(m.type==="pointercancel"?this.lastMoveEventInfo:OC(y,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,S),b&&b(m,S)},!A6(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=L1(t),l=OC(o,this.transformPagePoint),{point:d}=l,{timestamp:u}=_a;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=r;h&&h(t,RC(l,this.history)),this.removeListeners=k1(Zp(this.contextWindow,"pointermove",this.handlePointerMove),Zp(this.contextWindow,"pointerup",this.handlePointerUp),Zp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),LA(this.updatePoint)}}function OC(e,t){return t?{point:t(e.point)}:e}function kT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function RC({point:e},t){return{point:e,delta:kT(e,uV(t)),offset:kT(e,w2e(t)),velocity:v2e(t,.1)}}function w2e(e){return e[0]}function uV(e){return e[e.length-1]}function v2e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=uV(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>_c(t)));)r--;if(!n)return{x:0,y:0};const i=Tc(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function b2e(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?fs(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?fs(r,e,n.max):Math.min(e,r)),e}function _T(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function C2e(e,{top:t,left:r,bottom:n,right:s}){return{x:_T(e.x,r,s),y:_T(e.y,t,n)}}function TT(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function N2e(e,t){return{x:TT(e.x,t.x),y:TT(e.y,t.y)}}function B2e(e,t){let r=.5;const n=Si(e),s=Si(t);return s>n?r=$g(t.min,t.max-n,e.min):n>s&&(r=$g(e.min,e.max-s,t.min)),Kd(0,1,r)}function S2e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Z3=.35;function E2e(e=Z3){return e===!1?e=0:e===!0&&(e=Z3),{x:LT(e,"left","right"),y:LT(e,"top","bottom")}}function LT(e,t,r){return{min:PT(e,t),max:PT(e,r)}}function PT(e,t){return typeof e=="number"?e:e[t]||0}const j2e=new WeakMap;class I2e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Os(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(L1(h).point)},i=(h,m)=>{const{drag:y,dragPropagation:p,onDragStart:b}=this.getProps();if(y&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$ye(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jo(S=>{let w=this.getAxisMotionValue(S).get()||0;if(Lc.test(w)){const{projection:B}=this.visualElement;if(B&&B.layout){const I=B.layout.layoutBox[S];I&&(w=Si(I)*(parseFloat(w)/100))}}this.originPoint[S]=w}),b&&gs.postRender(()=>b(h,m)),$3(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},o=(h,m)=>{const{dragPropagation:y,dragDirectionLock:p,onDirectionLock:b,onDrag:N}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:S}=m;if(p&&this.currentDirection===null){this.currentDirection=F2e(S),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,S),this.updateAxis("y",m.point,S),this.visualElement.render(),N&&N(h,m)},l=(h,m)=>this.stop(h,m),d=()=>Jo(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new dV(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:cV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&gs.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!my(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=b2e(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&i0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=C2e(n.layoutBox,t):this.constraints=!1,this.elastic=E2e(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Jo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=S2e(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!i0(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=x2e(n,s.root,this.visualElement.getTransformPagePoint());let o=N2e(s.layout.layoutBox,i);if(r){const l=r(c2e(o));this.hasMutatedConstraints=!!l,l&&(o=nV(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},u=Jo(h=>{if(!my(h,r,this.currentDirection))return;let m=d&&d[h]||{};o&&(m={min:0,max:0});const y=s?200:1e6,p=s?40:1e7,b={type:"inertia",velocity:n?t[h]:0,bounceStiffness:y,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return $3(this.visualElement,t),n.start(v6(t,n,0,r,this.visualElement,!1))}stopAnimation(){Jo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Jo(r=>{const{drag:n}=this.getProps();if(!my(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-fs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!i0(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Jo(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const d=l.get();s[o]=B2e({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Jo(o=>{if(!my(o,t,null))return;const l=this.getAxisMotionValue(o),{min:d,max:u}=this.constraints[o];l.set(fs(d,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;j2e.set(this.visualElement,this);const t=this.visualElement.current,r=Zp(t,"pointerdown",d=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();i0(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),gs.read(n);const o=e1(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:u})=>{this.isDragging&&u&&(Jo(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=d[h].translate,m.set(m.get()+d[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Z3,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function my(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function F2e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class k2e extends KA{constructor(t){super(t),this.removeGroupControls=dl,this.removeListeners=dl,this.controls=new I2e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dl}unmount(){this.removeGroupControls(),this.removeListeners()}}const DT=e=>(t,r)=>{e&&gs.postRender(()=>e(t,r))};class _2e extends KA{constructor(){super(...arguments),this.removePointerDownListener=dl}onPointerDown(t){this.session=new dV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:DT(t),onStart:DT(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&gs.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Zp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const aw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OT(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ip={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xr.test(e))e=parseFloat(e);else return e;const r=OT(e,t.target.x),n=OT(e,t.target.y);return`${r}% ${n}%`}},T2e={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=PA.parse(e);if(s.length>5)return n;const i=PA.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,d=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=d;const u=fs(l,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class L2e extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;xwe(P2e),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),aw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||gs.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),u6.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function AV(e){const[t,r]=ZQ(),n=C.useContext(VE);return a.jsx(L2e,{...e,layoutGroup:n,switchLayoutGroup:C.useContext(KH),isPresent:t,safeToRemove:r})}const P2e={borderRadius:{...ip,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ip,borderTopRightRadius:ip,borderBottomLeftRadius:ip,borderBottomRightRadius:ip,boxShadow:T2e};function D2e(e,t,r){const n=oi(e)?e:cm(e);return n.start(v6("",n,t,r)),n.animation}function O2e(e){return e instanceof SVGElement&&e.tagName!=="svg"}const R2e=(e,t)=>e.depth-t.depth;class M2e{constructor(){this.children=[],this.isDirty=!1}add(t){GE(this.children,t),this.isDirty=!0}remove(t){$E(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(R2e),this.isDirty=!1,this.children.forEach(t)}}function U2e(e,t){const r=$i.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(LA(n),e(i-t))};return gs.setup(n,!0),()=>LA(n)}const hV=["TopLeft","TopRight","BottomLeft","BottomRight"],Q2e=hV.length,RT=e=>typeof e=="string"?parseFloat(e):e,MT=e=>typeof e=="number"||xr.test(e);function H2e(e,t,r,n,s,i){s?(e.opacity=fs(0,r.opacity??1,V2e(n)),e.opacityExit=fs(t.opacity??1,0,K2e(n))):i&&(e.opacity=fs(t.opacity??1,r.opacity??1,n));for(let o=0;o<Q2e;o++){const l=`border${hV[o]}Radius`;let d=UT(t,l),u=UT(r,l);if(d===void 0&&u===void 0)continue;d||(d=0),u||(u=0),d===0||u===0||MT(d)===MT(u)?(e[l]=Math.max(fs(RT(d),RT(u),n),0),(Lc.test(u)||Lc.test(d))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=fs(t.rotate||0,r.rotate||0,n))}function UT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const V2e=fV(0,.5,lH),K2e=fV(.5,.95,dl);function fV(e,t,r){return n=>n<e?0:n>t?1:r($g(e,t,n))}function QT(e,t){e.min=t.min,e.max=t.max}function Yo(e,t){QT(e.x,t.x),QT(e.y,t.y)}function HT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function VT(e,t,r,n,s){return e-=t,e=N2(e,1/r,n),s!==void 0&&(e=N2(e,1/s,n)),e}function z2e(e,t=0,r=1,n=.5,s,i=e,o=e){if(Lc.test(t)&&(t=parseFloat(t),t=fs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=fs(i.min,i.max,n);e===i&&(l-=t),e.min=VT(e.min,t,r,l,s),e.max=VT(e.max,t,r,l,s)}function KT(e,t,[r,n,s],i,o){z2e(e,t[r],t[n],t[s],t.scale,i,o)}const W2e=["x","scaleX","originX"],G2e=["y","scaleY","originY"];function zT(e,t,r,n){KT(e.x,t,W2e,r?r.x:void 0,n?n.x:void 0),KT(e.y,t,G2e,r?r.y:void 0,n?n.y:void 0)}function WT(e){return e.translate===0&&e.scale===1}function mV(e){return WT(e.x)&&WT(e.y)}function GT(e,t){return e.min===t.min&&e.max===t.max}function $2e(e,t){return GT(e.x,t.x)&&GT(e.y,t.y)}function $T(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function pV(e,t){return $T(e.x,t.x)&&$T(e.y,t.y)}function qT(e){return Si(e.x)/Si(e.y)}function XT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class q2e{constructor(){this.members=[]}add(t){GE(this.members,t),t.scheduleRender()}remove(t){if($E(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function X2e(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:m,rotateY:y,skewX:p,skewY:b}=r;u&&(n=`perspective(${u}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),y&&(n+=`rotateY(${y}deg) `),p&&(n+=`skewX(${p}deg) `),b&&(n+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,d=e.y.scale*t.y;return(l!==1||d!==1)&&(n+=`scale(${l}, ${d})`),n||"none"}const MC=["","X","Y","Z"],Y2e={visibility:"hidden"},Z2e=1e3;let J2e=0;function UC(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function gV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=JH(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",gs,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&gV(n)}function xV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=J2e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rve),this.nodes.forEach(ove),this.nodes.forEach(lve),this.nodes.forEach(nve)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new M2e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new XE),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=O2e(o),this.instance=o;const{layoutId:l,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=U2e(m,250),aw.hasAnimatedSinceResize&&(aw.hasAnimatedSinceResize=!1,this.nodes.forEach(ZT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||hve,{onLayoutAnimationStart:N,onLayoutAnimationComplete:S}=u.getProps(),w=!this.targetLayout||!pV(this.targetLayout,p),B=!m&&y;if(this.options.layoutRoot||this.resumeFrom||B||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,B);const I={...c6(b,"layout"),onPlay:N,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else m||ZT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),LA(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cve),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YT);return}this.isUpdating||this.nodes.forEach(ave),this.isUpdating=!1,this.nodes.forEach(ive),this.nodes.forEach(eve),this.nodes.forEach(tve),this.clearAllSnapshots();const l=$i.now();_a.delta=Kd(0,1e3/60,l-_a.timestamp),_a.timestamp=l,_a.isProcessing=!0,FC.update.process(_a),FC.preRender.process(_a),FC.render.process(_a),_a.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u6.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sve),this.sharedNodes.forEach(dve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Si(this.snapshot.measuredBox.x)&&!Si(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Os(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!mV(this.projectionDelta),d=this.getTransformTemplate(),u=d?d(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||ah(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),fve(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Os();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(mve))){const{scroll:h}=this.root;h&&(l0(l.x,h.offset.x),l0(l.y,h.offset.y))}return l}removeElementScroll(o){var d;const l=Os();if(Yo(l,o),(d=this.scroll)!=null&&d.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:m,options:y}=h;h!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&Yo(l,o),l0(l.x,m.offset.x),l0(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const d=Os();Yo(d,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&c0(d,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ah(h.latestValues)&&c0(d,h.latestValues)}return ah(this.latestValues)&&c0(d,this.latestValues),d}removeTransform(o){const l=Os();Yo(l,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];if(!u.instance||!ah(u.latestValues))continue;X3(u.latestValues)&&u.updateSnapshot();const h=Os(),m=u.measurePageBox();Yo(h,m),zT(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return ah(this.latestValues)&&zT(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_a.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var y;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=_a.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Os(),this.relativeTargetOrigin=Os(),eg(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Os(),this.targetWithTransforms=Os()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),p2e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yo(this.target,this.layout.layoutBox),oV(this.target,this.targetDelta)):Yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Os(),this.relativeTargetOrigin=Os(),eg(this.relativeTargetOrigin,this.target,p.target),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||X3(this.parent.latestValues)||iV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===_a.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Yo(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;g2e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Os());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HT(this.prevProjectionDelta.x,this.projectionDelta.x),HT(this.prevProjectionDelta.y,this.projectionDelta.y)),Jp(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!XT(this.projectionDelta.x,this.prevProjectionDelta.x)||!XT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=o0(),this.projectionDelta=o0(),this.projectionDeltaWithTransform=o0()}setAnimationOrigin(o,l=!1){const d=this.snapshot,u=d?d.latestValues:{},h={...this.latestValues},m=o0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=Os(),p=d?d.source:void 0,b=this.layout?this.layout.source:void 0,N=p!==b,S=this.getStack(),w=!S||S.members.length<=1,B=!!(N&&!w&&this.options.crossfade===!0&&!this.path.some(Ave));this.animationProgress=0;let I;this.mixTargetDelta=_=>{const P=_/1e3;JT(m.x,o.x,P),JT(m.y,o.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eg(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uve(this.relativeTarget,this.relativeTargetOrigin,y,P),I&&$2e(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Os()),Yo(I,this.relativeTarget)),N&&(this.animationValues=h,H2e(h,u,this.latestValues,P,B,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,d,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(u=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(LA(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gs.update(()=>{aw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=cm(0)),this.currentAnimation=D2e(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Z2e),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:u,latestValues:h}=o;if(!(!l||!d||!u)){if(this!==o&&this.layout&&u&&yV(this.options.animationType,this.layout.layoutBox,u.layoutBox)){d=this.target||Os();const m=Si(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+m;const y=Si(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+y}Yo(l,d),c0(l,h),Jp(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new q2e),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const u=this.getStack();u&&u.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const u={};d.z&&UC("z",o,u,this.animationValues);for(let h=0;h<MC.length;h++)UC(`rotate${MC[h]}`,o,u,this.animationValues),UC(`skew${MC[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Y2e;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=sw(o==null?void 0:o.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=sw(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ah(this.latestValues)&&(p.transform=d?d({},""):"none",this.hasProjected=!1),p}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=X2e(this.projectionDeltaWithTransform,this.treeScale,h),d&&(l.transform=d(h,l.transform));const{x:m,y}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,u.animationValues?l.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in Zg){if(h[p]===void 0)continue;const{correct:b,applyTo:N,isCSSVariable:S}=Zg[p],w=l.transform==="none"?h[p]:b(h[p],u);if(N){const B=N.length;for(let I=0;I<B;I++)l[N[I]]=w}else S?this.options.visualElement.renderState.vars[p]=w:l[p]=w}return this.options.layoutId&&(l.pointerEvents=u===this?sw(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(YT),this.root.sharedNodes.clear()}}}function eve(e){e.updateLayout()}function tve(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Jo(m=>{const y=o?t.measuredBox[m]:t.layoutBox[m],p=Si(y);y.min=n[m].min,y.max=y.min+p}):yV(i,t.layoutBox,n)&&Jo(m=>{const y=o?t.measuredBox[m]:t.layoutBox[m],p=Si(n[m]);y.max=y.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const l=o0();Jp(l,n,t.layoutBox);const d=o0();o?Jp(d,e.applyTransform(s,!0),t.measuredBox):Jp(d,n,t.layoutBox);const u=!mV(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:p}=m;if(y&&p){const b=Os();eg(b,t.layoutBox,y.layoutBox);const N=Os();eg(N,n,p.layoutBox),pV(b,N)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function rve(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nve(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sve(e){e.clearSnapshot()}function YT(e){e.clearMeasurements()}function ave(e){e.isLayoutDirty=!1}function ive(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ZT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ove(e){e.resolveTargetDelta()}function lve(e){e.calcProjection()}function cve(e){e.resetSkewAndRotation()}function dve(e){e.removeLeadSnapshot()}function JT(e,t,r){e.translate=fs(t.translate,0,r),e.scale=fs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function eL(e,t,r,n){e.min=fs(t.min,r.min,n),e.max=fs(t.max,r.max,n)}function uve(e,t,r,n){eL(e.x,t.x,r.x,n),eL(e.y,t.y,r.y,n)}function Ave(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const hve={duration:.45,ease:[.4,0,.1,1]},tL=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rL=tL("applewebkit/")&&!tL("chrome/")?Math.round:dl;function nL(e){e.min=rL(e.min),e.max=rL(e.max)}function fve(e){nL(e.x),nL(e.y)}function yV(e,t,r){return e==="position"||e==="preserve-aspect"&&!m2e(qT(t),qT(r),.2)}function mve(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const pve=xV({attachResizeListener:(e,t)=>e1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),QC={current:void 0},wV=xV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!QC.current){const e=new pve({});e.mount(window),e.setOptions({layoutScroll:!0}),QC.current=e}return QC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),gve={pan:{Feature:_2e},drag:{Feature:k2e,ProjectionNode:wV,MeasureLayout:AV}};function sL(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&gs.postRender(()=>i(t,L1(t)))}class xve extends KA{mount(){const{current:t}=this.node;t&&(this.unmount=qye(t,(r,n)=>(sL(this.node,n,"Start"),s=>sL(this.node,s,"End"))))}unmount(){}}class yve extends KA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=k1(e1(this.node.current,"focus",()=>this.onFocus()),e1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aL(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&gs.postRender(()=>i(t,L1(t)))}class wve extends KA{mount(){const{current:t}=this.node;t&&(this.unmount=Jye(t,(r,n)=>(aL(this.node,n,"Start"),(s,{success:i})=>aL(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const J3=new WeakMap,HC=new WeakMap,vve=e=>{const t=J3.get(e.target);t&&t(e)},bve=e=>{e.forEach(vve)};function Cve({root:e,...t}){const r=e||document;HC.has(r)||HC.set(r,{});const n=HC.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(bve,{root:e,...t})),n[s]}function Nve(e,t,r){const n=Cve(t);return J3.set(e,r),n.observe(e),()=>{J3.delete(e),n.unobserve(e)}}const Bve={some:0,all:1};class Sve extends KA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Bve[s]},l=d=>{const{isIntersecting:u}=d;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),y=u?h:m;y&&y(d)};return Nve(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Eve(t,r))&&this.startObserver()}unmount(){}}function Eve({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const jve={inView:{Feature:Sve},tap:{Feature:wve},focus:{Feature:yve},hover:{Feature:xve}},Ive={layout:{ProjectionNode:wV,MeasureLayout:AV}},eB={current:null},vV={current:!1};function Fve(){if(vV.current=!0,!!zE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>eB.current=e.matches;e.addListener(t),t()}else eB.current=!1}const kve=new WeakMap;function _ve(e,t,r){for(const n in t){const s=t[n],i=r[n];if(oi(s))e.addValue(n,s);else if(oi(i))e.addValue(n,cm(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,cm(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const iL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Tve{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=l6,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=$i.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,gs.render(this.render,!1,!0))};const{latestValues:d,renderState:u}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Jv(r),this.isVariantNode=HH(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in m){const p=m[y];d[y]!==void 0&&oi(p)&&p.set(d[y],!1)}}mount(t){this.current=t,kve.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),vV.current||Fve(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:eB.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),LA(this.notifyUpdate),LA(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Im.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&gs.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in dm){const r=dm[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Os()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<iL.length;n++){const s=iL[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=_ve(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=cm(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(JQ(n)||eH(n))?n=parseFloat(n):!twe(n)&&PA.test(r)&&(n=PH(t,r)),this.setBaseTarget(t,oi(n)?n.get():n)),oi(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=y6(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!oi(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new XE),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class bV extends Tve{constructor(){super(...arguments),this.KeyframeResolver=Kye}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;oi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function CV(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function Lve(e){return window.getComputedStyle(e)}class Pve extends bV{constructor(){super(...arguments),this.type="html",this.renderInstance=CV}readValueFromInstance(t,r){if(Im.has(r))return cye(t,r);{const n=Lve(t),s=(JE(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return lV(t,r)}build(t,r,n){p6(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return w6(t,r,n)}}const NV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Dve(e,t,r,n){CV(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(NV.has(s)?s:m6(s),t.attrs[s])}class Ove extends bV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Os}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Im.has(r)){const n=LH(r);return n&&n.default||0}return r=NV.has(r)?r:m6(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return ZH(t,r,n)}build(t,r,n){$H(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){Dve(t,r,n,s)}mount(t){this.isSVGTag=XH(t.tagName),super.mount(t)}}const Rve=(e,t)=>x6(e)?new Ove(t):new Pve(t,{allowProjection:e!==C.Fragment}),Mve=Pwe({...o2e,...jve,...gve,...Ive},Rve),Hr=iwe(Mve),Uve=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(null),[o,l]=C.useState(!1),[d,u]=C.useState([]),[h,m]=C.useState("all");C.useEffect(()=>{(async()=>{try{const w=await Re.getSchedulesWithStudents();t(w.schedules||[])}catch(w){i("Failed to load shifts. Please try again later."),console.error("Failed to fetch shifts:",w)}finally{n(!1)}})()},[]),C.useEffect(()=>{(async()=>{try{const w=await Re.getBranches();u(w||[])}catch(w){console.error("Failed to load branches:",w)}})()},[]);const y=S=>{const w=new Date(S),B=new Date,I=new Date(B);return I.setDate(I.getDate()+1),w.toDateString()===B.toDateString()?"Today":w.toDateString()===I.toDateString()?"Tomorrow":new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(w)},p=S=>{const w=new Date,B=new Date(S),I=Math.floor((B.getTime()-w.getTime())/(1e3*60*60));return I>24?`${Math.floor(I/24)}d`:I>0?`${I}h`:I>-24?"Ongoing":"Completed"},b=S=>{const w=new Date,I=(new Date(S).getTime()-w.getTime())/(1e3*60*60);return I>24?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300":I>0?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300":I>-3?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"},N=Je.useMemo(()=>{if(h==="all")return e;const S=parseInt(h,10);return Number.isNaN(S)?e:e.filter(w=>w.branchId===S)},[e,h]);return a.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(an,{isCollapsed:o,setIsCollapsed:l,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(Mn,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm animate-fade-in",children:[a.jsxs(Da,{className:"border-b border-gray-200 dark:border-gray-700 bg-gradient-to-br from-indigo-500 to-violet-600 text-white rounded-t-lg",children:[a.jsxs(Oa,{className:"flex items-center gap-2 text-2xl sm:text-3xl font-bold",children:[a.jsx(Zn,{size:24,className:"text-white"}),"Shifts Overview"]}),a.jsx("p",{className:"text-sm text-white/80 mt-1",children:"View and manage your scheduled shifts"})]}),a.jsxs(Fs,{className:"pt-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4",children:a.jsx("div",{className:"w-full sm:w-64",children:a.jsxs(Fc,{value:h,onValueChange:m,children:[a.jsx(Hl,{className:"ring-1 ring-indigo-100/70 dark:ring-indigo-900/40",children:a.jsx(kc,{placeholder:"Filter by branch"})}),a.jsxs(Vl,{children:[a.jsx(Vs,{value:"all",children:"All branches"}),d.map(S=>a.jsx(Vs,{value:String(S.id),children:S.name},S.id))]})]})})}),r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(ds,{size:28,className:"animate-spin text-indigo-500"})}):s?a.jsxs(Sd,{variant:"destructive",className:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700",children:[a.jsx(HE,{className:"text-red-700 dark:text-red-300",children:"Error"}),a.jsx(Ed,{className:"text-red-600 dark:text-red-400",children:s})]}):N.length===0?a.jsxs(Hr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 px-4 bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-gray-800 dark:to-gray-800/50 rounded-xl border border-dashed border-indigo-200 dark:border-gray-700",children:[a.jsx(us,{size:48,className:"mx-auto text-indigo-400 dark:text-indigo-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-1",children:"No shifts scheduled"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:"Get started by adding a new shift to your schedule."})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:N.map((S,w)=>{const B=p(S.eventDate),I=b(S.eventDate);return a.jsxs(Hr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.05},className:"group relative",children:[a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl opacity-0 group-hover:opacity-100 blur transition duration-200 group-hover:duration-300"}),a.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl p-5 h-full border border-gray-200 dark:border-gray-700 hover:border-transparent group-hover:shadow-lg transition-all duration-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white mb-1",children:S.title}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-3",children:[a.jsx(us,{size:14,className:"mr-1.5"}),y(S.eventDate)]})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I}`,children:B})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex -space-x-2",children:[[1,2,3].map((_,P)=>a.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white dark:border-gray-800 bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xs text-gray-500 dark:text-gray-400",children:P<S.studentCount?a.jsx(Ii,{size:14,className:"text-emerald-500"}):a.jsx(r0,{size:14})},P)),S.studentCount>3&&a.jsxs("div",{className:"h-8 w-8 rounded-full border-2 border-white dark:border-gray-800 bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center text-xs font-medium text-indigo-600 dark:text-indigo-300",children:["+",S.studentCount-3]})]}),a.jsxs(Tt,{to:`/shifts/${S.id}/students`,className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors group/button",children:["View details",a.jsx(gr,{size:16,className:"ml-1 group-hover/button:translate-x-0.5 transition-transform"})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white dark:bg-gray-700/50 shadow-sm mr-3",children:a.jsx(Zn,{size:16,className:"text-indigo-600 dark:text-indigo-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:"Shift Time"}),a.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:S.description||"All day"})]})]}),a.jsx("div",{className:"h-10 w-px bg-gray-200 dark:bg-gray-600 mx-3"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white dark:bg-gray-700/50 shadow-sm mr-3",children:a.jsx(ui,{size:16,className:"text-indigo-600 dark:text-indigo-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:"Students"}),a.jsxs("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:[S.studentCount," ",S.studentCount===1?"Student":"Students"]})]})]})]})})]})]},S.id)})})]})]})})})]}),a.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInRow {
          from {
            opacity: 0;
            transform: translateX(-10px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        .animate-fade-in {
          animation: fadeIn 0.5s ease-out forwards;
        }
        .animate-fade-in-row {
          animation: fadeInRow 0.3s ease-out forwards;
        }
      `})]})},Qve=()=>{const{id:e}=Xd(),t=Ur(),[r,n]=C.useState([]),[s,i]=C.useState(""),[o,l]=C.useState({search:"",status:"all"}),[d,u]=C.useState(!0),[h,m]=C.useState(null),[y,p]=C.useState(!1),[b,N]=C.useState(!1),[S,w]=C.useState([]),[B,I]=C.useState("all"),_=()=>{Se.info("Barcode scanning functionality is not yet implemented.")};C.useEffect(()=>{(async()=>{try{const T=parseInt(e,10);if(isNaN(T))throw new Error("Invalid shift ID");const z=await Re.getSchedule(T);i(z.title||`Shift ${T}`);const M=await Re.getStudentsByShift(T,o);if(!M||!Array.isArray(M.students))throw new Error("Invalid response: Students data is missing or not an array");n(M.students)}catch(T){const z=T.message||"Failed to load shift details or students. Please try again later.";m(z),Se.error(z),console.error("Failed to fetch shift or students:",T)}finally{u(!1)}})()},[e,o]),C.useEffect(()=>{(async()=>{try{const T=await Re.getBranches();w(T||[])}catch(T){console.error("Failed to load branches:",T)}})()},[]);const P=L=>{const{name:T,value:z}=L.target;l(M=>({...M,[T]:z}))},H=L=>{l(T=>({...T,status:L}))},D=Je.useMemo(()=>{if(B==="all")return r;const L=parseInt(B,10);return Number.isNaN(L)?r:r.filter(T=>T.branchId===L)},[r,B]);return a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("button",{onClick:()=>p(!y),className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-md shadow-md dark:bg-gray-800 dark:text-gray-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),a.jsx("div",{className:`fixed inset-y-0 left-0 transform ${y?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${b?"md:w-16":"md:w-64"}`,children:a.jsx(an,{isCollapsed:b,setIsCollapsed:N,onBarcodeClick:_})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>p(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(Mn,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[a.jsxs(Da,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Oa,{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:["Students in ",s]}),a.jsxs(Jt,{variant:"outline",onClick:()=>t("/shifts"),className:"flex items-center gap-2",children:[a.jsx(ml,{size:16}),"Back to Shifts"]})]}),a.jsxs(Fs,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsx($r,{type:"text",name:"search",value:o.search,onChange:P,placeholder:"Search by name, phone, or Reg. No.",className:"max-w-sm"}),a.jsxs(Fc,{value:o.status,onValueChange:H,children:[a.jsx(Hl,{className:"w-[180px]",children:a.jsx(kc,{placeholder:"Filter by status"})}),a.jsxs(Vl,{children:[a.jsx(Vs,{value:"all",children:"All"}),a.jsx(Vs,{value:"active",children:"Active"}),a.jsx(Vs,{value:"expired",children:"Expired"})]})]}),a.jsxs(Fc,{value:B,onValueChange:I,children:[a.jsx(Hl,{className:"w-[200px]",children:a.jsx(kc,{placeholder:"Filter by branch"})}),a.jsxs(Vl,{children:[a.jsx(Vs,{value:"all",children:"All branches"}),S.map(L=>a.jsx(Vs,{value:String(L.id),children:L.name},L.id))]})]})]}),d?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Loading students..."}):h?a.jsxs(Sd,{variant:"destructive",children:[a.jsx(HE,{children:"Error"}),a.jsx(Ed,{children:h})]}):D.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No students found for this shift."}):a.jsxs(Zd,{children:[a.jsx(Jd,{children:a.jsxs(ks,{children:[a.jsx(hr,{children:"Name"}),a.jsx(hr,{children:"Registration Number"}),a.jsx(hr,{children:"Email"}),a.jsx(hr,{children:"Phone"}),a.jsx(hr,{children:"Status"})]})}),a.jsx(eu,{children:D.map(L=>a.jsxs(ks,{children:[a.jsx(sr,{className:"font-medium",children:L.name}),a.jsx(sr,{children:L.registrationNumber||"N/A"}),a.jsx(sr,{children:L.email||"N/A"}),a.jsx(sr,{children:L.phone||"N/A"}),a.jsx(sr,{children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${L.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.status})})]},L.id))})]})]})]})})})]})]})},Hve=({onSubmit:e})=>{const[t,r]=C.useState(""),n=s=>{if(s.preventDefault(),!t){Se.error("Branch name is required");return}e({name:t}),r("")};return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 p-2 rounded-lg",children:a.jsx(jo,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Add New Branch"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Create a new branch location"})]})]}),a.jsxs("form",{onSubmit:n,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Branch Name"}),a.jsx("input",{type:"text",value:t,onChange:s=>r(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",placeholder:"Enter branch name",required:!0})]}),a.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:[a.jsx(FA,{className:"h-4 w-4"}),"Add Branch"]})]})]})},BV=({branches:e,onSubmit:t,initialData:r})=>{var Pe,nt,Xe,Ue,yt,We,Vt,Le;const[n,s]=C.useState((r==null?void 0:r.branchId)||(r==null?void 0:r.branch_id)||(!r&&e&&e.length>0?e[0].id:"")),[i,o]=C.useState((r==null?void 0:r.name)||""),[l,d]=C.useState((r==null?void 0:r.address)||""),[u,h]=C.useState((r==null?void 0:r.fatherName)||(r==null?void 0:r.father_name)||""),[m,y]=C.useState((r==null?void 0:r.motherName)||(r==null?void 0:r.mother_name)||""),[p,b]=C.useState((r==null?void 0:r.aadharNumber)||(r==null?void 0:r.aadhar_number)||""),[N,S]=C.useState((r==null?void 0:r.phoneNumber)||(r==null?void 0:r.phone_number)||""),[w,B]=C.useState((r==null?void 0:r.profileImageUrl)||(r==null?void 0:r.profile_image_url)||""),[I,_]=C.useState((r==null?void 0:r.aadharImageUrl)||(r==null?void 0:r.aadhar_image_url)||""),[P,H]=C.useState((r==null?void 0:r.religion)||""),[D,L]=C.useState((r==null?void 0:r.foodPreference)||(r==null?void 0:r.food_preference)||""),[T,z]=C.useState((r==null?void 0:r.gender)||""),[M,V]=C.useState(((Pe=r==null?void 0:r.securityMoney)==null?void 0:Pe.toString())||((nt=r==null?void 0:r.security_money)==null?void 0:nt.toString())||""),[J,Z]=C.useState((r==null?void 0:r.registrationNumber)||(r==null?void 0:r.registration_number)||""),[ee,q]=C.useState((r==null?void 0:r.stayStartDate)||(r==null?void 0:r.stay_start_date)||""),[X,Y]=C.useState((r==null?void 0:r.stayEndDate)||(r==null?void 0:r.stay_end_date)||""),[K,ce]=C.useState(((Xe=r==null?void 0:r.totalFee)==null?void 0:Xe.toString())||((Ue=r==null?void 0:r.total_fee)==null?void 0:Ue.toString())||""),[oe,Q]=C.useState(((yt=r==null?void 0:r.cashPaid)==null?void 0:yt.toString())||((We=r==null?void 0:r.cash_paid)==null?void 0:We.toString())||""),[G,te]=C.useState(((Vt=r==null?void 0:r.onlinePaid)==null?void 0:Vt.toString())||((Le=r==null?void 0:r.online_paid)==null?void 0:Le.toString())||""),[se,de]=C.useState((r==null?void 0:r.roomNumber)||(r==null?void 0:r.room_number)||""),[ge,ue]=C.useState((r==null?void 0:r.remark)||""),[Ee,ke]=C.useState(0),[_e,Oe]=C.useState(!1),He=Ur();C.useEffect(()=>{const rt=parseFloat(K)||0,mt=parseFloat(oe)||0,At=parseFloat(G)||0,wt=rt-(mt+At);ke(wt>=0?wt:0)},[K,oe,G]),C.useEffect(()=>{var rt,mt,At,wt,Ft,xt,Rt,Ct;r?(s(r.branchId||r.branch_id||(e&&e.length>0&&!r.branch_id&&!r.branchId?e[0].id:"")),o(r.name||""),d(r.address||""),h(r.fatherName||r.father_name||""),y(r.motherName||r.mother_name||""),b(r.aadharNumber||r.aadhar_number||""),S(r.phoneNumber||r.phone_number||""),B(r.profileImageUrl||r.profile_image_url||""),_(r.aadharImageUrl||r.aadhar_image_url||""),H(r.religion||""),L(r.foodPreference||r.food_preference||""),z(r.gender||""),V(((rt=r.securityMoney)==null?void 0:rt.toString())||((mt=r.security_money)==null?void 0:mt.toString())||""),Z(r.registrationNumber||r.registration_number||""),q(r.stayStartDate||r.stay_start_date||""),Y(r.stayEndDate||r.stay_end_date||""),ce(((At=r.totalFee)==null?void 0:At.toString())||((wt=r.total_fee)==null?void 0:wt.toString())||""),Q(((Ft=r.cashPaid)==null?void 0:Ft.toString())||((xt=r.cash_paid)==null?void 0:xt.toString())||""),te(((Rt=r.onlinePaid)==null?void 0:Rt.toString())||((Ct=r.online_paid)==null?void 0:Ct.toString())||""),de(r.roomNumber||r.room_number||""),ue(r.remark||"")):!r&&e&&e.length>0&&!n&&s(e[0].id)},[r,e,n]);const Ne=async(rt,mt)=>{Oe(!0);try{const At=new FormData;At.append("image",rt);const wt=await Re.uploadImage(At);if(!wt.imageUrl)throw new Error("No image URL returned");mt(wt.imageUrl),Se.success("Image uploaded successfully")}catch(At){console.error("Image upload error:",At),Se.error("Failed to upload image")}finally{Oe(!1)}},me=async rt=>{rt.preventDefault();const mt=[];n||mt.push("Branch is required"),i.trim()||mt.push("Name is required"),ee||mt.push("Stay Start Date is required"),X||mt.push("Stay End Date is required");const At=parseFloat(K);(isNaN(At)||At<0)&&mt.push("Total Fee must be a non-negative number"),se.trim()||mt.push("Room Number is required"),P.trim()||mt.push("Religion is required"),D||mt.push("Food Preference is required"),T||mt.push("Gender is required");const wt=parseFloat(oe);oe&&(isNaN(wt)||wt<0)&&mt.push("Cash Paid must be a non-negative number");const Ft=parseFloat(G);G&&(isNaN(Ft)||Ft<0)&&mt.push("Online Paid must be a non-negative number");const xt=parseFloat(M);if(M&&(isNaN(xt)||xt<0)&&mt.push("Security Money must be a non-negative number"),p&&!/^\d{12}$/.test(p)&&mt.push("Aadhar Number must be a 12-digit number"),N&&!/^\d{10}$/.test(N)&&mt.push("Phone Number must be a 10-digit number"),mt.length>0){Se.error(mt.join(", "));return}const Rt={branch_id:String(n),name:i.trim(),address:l.trim()||null,father_name:u.trim()||null,mother_name:m.trim()||null,aadhar_number:p||null,phone_number:N||null,profile_image_url:w||null,aadhar_image_url:I||null,religion:P.trim(),food_preference:D,gender:T,security_money:M?parseFloat(M):0,registration_number:J.trim()||null,stay_start_date:ee,stay_end_date:X,total_fee:At,cash_paid:oe?parseFloat(oe):0,online_paid:G?parseFloat(G):0,room_number:se.trim(),remark:ge.trim()||null};console.log("Submitting student data to API (HostelStudentForm.tsx):",JSON.stringify(Rt,null,2));try{await t(Rt),Se.success(r?"Student updated successfully":"Student added successfully"),r||(s(e&&e.length>0?e[0].id:""),o(""),d(""),h(""),y(""),b(""),S(""),B(""),_(""),H(""),L(""),z(""),V(""),Z(""),q(""),Y(""),ce(""),Q(""),te(""),de(""),ue(""))}catch(Ct){console.error("Error submitting student data (HostelStudentForm.tsx):",Ct),Se.error(Ct.message||"Failed to add/update student. Check the console for details.")}};return a.jsxs("form",{onSubmit:me,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),a.jsxs("select",{value:n,onChange:rt=>s(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Branch"}),e.map(rt=>a.jsx("option",{value:rt.id,children:rt.name},rt.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:i,onChange:rt=>o(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("input",{type:"text",value:l,onChange:rt=>d(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),a.jsx("input",{type:"text",value:u,onChange:rt=>h(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Name"}),a.jsx("input",{type:"text",value:m,onChange:rt=>y(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),a.jsx("input",{type:"text",value:p,onChange:rt=>b(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"text",value:N,onChange:rt=>S(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stay Start Date"}),a.jsx("input",{type:"date",value:ee,onChange:rt=>q(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stay End Date"}),a.jsx("input",{type:"date",value:X,onChange:rt=>Y(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:K,onChange:rt=>ce(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Paid (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:oe,onChange:rt=>Q(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Paid (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:G,onChange:rt=>te(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount (in INR)"}),a.jsx("input",{type:"text",value:`₹${Ee.toFixed(2)}`,readOnly:!0,className:"block w-full rounded-md border-gray-300 bg-gray-100 shadow-sm sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),a.jsx("input",{type:"text",value:se,onChange:rt=>de(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:M,onChange:rt=>V(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),a.jsx("input",{type:"text",value:J,onChange:rt=>Z(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Religion"}),a.jsx("input",{type:"text",value:P,onChange:rt=>H(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Food Preference"}),a.jsxs("select",{value:D,onChange:rt=>L(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Food Preference"}),a.jsx("option",{value:"Veg",children:"Veg"}),a.jsx("option",{value:"Non-Veg",children:"Non-Veg"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),a.jsxs("select",{value:T,onChange:rt=>z(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Gender"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{value:ge,onChange:rt=>ue(rt.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:rt=>rt.target.files&&Ne(rt.target.files[0],B),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",disabled:_e}),w&&a.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Uploaded: ",w.split("/").pop()]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:rt=>rt.target.files&&Ne(rt.target.files[0],_),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",disabled:_e}),I&&a.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Uploaded: ",I.split("/").pop()]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",disabled:_e,className:"inline-flex justify-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors disabled:bg-indigo-400",children:_e?"Uploading...":r?"Update Student":"Add Student"}),a.jsx("button",{type:"button",onClick:()=>He(-1),className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors",children:"Cancel"})]})]})},Vve=({branches:e,onUpdateBranch:t,onDeleteBranch:r})=>{const[n,s]=C.useState(null),[i,o]=C.useState(""),l=h=>{s(h),o(h.name)},d=()=>{n&&(t(n.id,i),s(null))},u=()=>{s(null)};return a.jsx("div",{className:"space-y-3",children:e.map(h=>a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-all duration-200",children:(n==null?void 0:n.id)===h.id?a.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",value:i,onChange:m=>o(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Branch name"})}),a.jsxs("button",{onClick:d,className:"flex items-center gap-1 px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium text-sm",children:[a.jsx(Fg,{className:"h-4 w-4"}),"Save"]}),a.jsxs("button",{onClick:u,className:"flex items-center gap-1 px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium text-sm",children:[a.jsx(eo,{className:"h-4 w-4"}),"Cancel"]})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Tt,{to:`/hostel/branches/${h.id}/students`,className:"flex items-center gap-3 text-gray-800 hover:text-blue-600 font-medium transition-colors group",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 p-2 rounded-lg group-hover:from-blue-200 group-hover:to-indigo-200 transition-all",children:a.jsx(jo,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-800",children:h.name}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[a.jsx(ui,{className:"h-4 w-4"}),h.studentCount," students"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>l(h),className:"flex items-center gap-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors font-medium text-sm",children:[a.jsx(SN,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>r(h.id),disabled:h.studentCount>0,className:`flex items-center gap-1 px-3 py-2 rounded-lg font-medium text-sm transition-colors ${h.studentCount>0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-red-50 text-red-600 hover:bg-red-100"}`,children:[a.jsx(Xs,{className:"h-4 w-4"}),"Delete"]})]})]})},h.id))})},Kve=()=>{const e=Uc(),t=Ur(),{data:r,isLoading:n,error:s}=ko({queryKey:["hostelBranches"],queryFn:()=>Re.getHostelBranches()}),i=ca({mutationFn:y=>Re.addHostelBranch(y),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Se.success("Branch added successfully")},onError:()=>{Se.error("Failed to add branch")}}),o=ca({mutationFn:({id:y,name:p})=>Re.updateHostelBranch(y,{name:p}),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Se.success("Branch updated successfully")},onError:()=>{Se.error("Failed to update branch")}}),l=ca({mutationFn:y=>Re.deleteHostelBranch(y),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Se.success("Branch deleted successfully")},onError:y=>{Se.error(y.message||"Failed to delete branch")}}),d=ca({mutationFn:y=>Re.addHostelStudent(y),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Se.success("Student added successfully")},onError:()=>{Se.error("Failed to add student")}}),u=(y,p)=>{o.mutate({id:y,name:p})},h=y=>{window.confirm("Are you sure you want to delete this branch?")&&l.mutate(y)},m=y=>{const p={...y,branchId:parseInt(y.branchId,10)};d.mutate(p)};return n?a.jsx("div",{className:"p-6 animate-pulse",children:"Loading..."}):s?a.jsxs("div",{className:"p-6",children:["Error: ",s.message]}):a.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(ml,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Hostel Management"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Add Branch"}),a.jsx(Hve,{onSubmit:y=>i.mutate(y)})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Add Student"}),a.jsx(BV,{branches:r||[],onSubmit:m})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Branches"}),a.jsx(Vve,{branches:r||[],onUpdateBranch:u,onDeleteBranch:h})]})]})},zve=({branchId:e})=>{const[t,r]=C.useState([]),[n,s]=C.useState(!0),[i,o]=C.useState(""),[l,d]=C.useState(1),u=10,h=Ur();C.useEffect(()=>{(async()=>{var I;try{const _=await Re.getHostelStudents(e);let P=[];Array.isArray(_)?P=_:_.students?P=_.students:(I=_.data)!=null&&I.students&&(P=_.data.students);const H=P.filter(D=>String(D.branch_id??D.branchId)===e);r(H)}catch{Se.error("Failed to fetch students")}finally{s(!1)}})()},[e]);const m=async B=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Re.deleteHostelStudent(B),r(I=>I.filter(_=>_.id!==B)),Se.success("Student deleted successfully")}catch{Se.error("Failed to delete student")}},y=B=>{h(`/hostel/students/${B}`)},p=t.filter(B=>{var I;return B.name.toLowerCase().includes(i.toLowerCase())||(((I=B.phoneNumber)==null?void 0:I.toLowerCase().includes(i.toLowerCase()))??!1)}),b=l*u,N=b-u,S=p.slice(N,b),w=Math.ceil(p.length/u);return a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"relative max-w-sm",children:[a.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search students...",value:i,onChange:B=>o(B.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm transition-colors"})]})}),n?a.jsx("div",{className:"flex justify-center p-8 animate-pulse",children:"Loading students..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900",children:"Name"}),a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900 hidden md:table-cell",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900 hidden md:table-cell",children:"Aadhar"}),a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:S.map(B=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:B.name}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:B.phoneNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:B.aadharNumber||"N/A"}),a.jsxs("td",{className:"px-6 py-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>y(B.id),className:"text-indigo-600 hover:text-indigo-800 p-1 transition-colors",title:"View Details",children:a.jsx(ya,{size:18})}),a.jsx("button",{onClick:()=>m(B.id),className:"text-red-600 hover:text-red-800 p-1 transition-colors",title:"Delete",children:a.jsx(Xs,{size:18})})]})]},B.id))})]})}),w>1&&a.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>d(B=>Math.max(B-1,1)),disabled:l===1,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(QA,{className:"w-4 h-4 mr-2"}),"Previous"]}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",l," of ",w]}),a.jsxs("button",{onClick:()=>d(B=>Math.min(B+1,w)),disabled:l===w,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Next",a.jsx(gr,{className:"w-4 h-4 ml-2"})]})]})]})]})},Wve=()=>{const{branchId:e}=Xd(),t=Ur();return e?a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(ml,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Branch Students"})]}),a.jsx(zve,{branchId:e})]}):a.jsx("div",{className:"p-6",children:"Invalid branch ID"})},Gve=""+new URL("SDMLibLogo-BCZtqCjy.jpg",import.meta.url).href,$ve=()=>{const{id:e}=Xd(),t=Ur(),{data:r,isLoading:n,error:s}=ko({queryKey:["hostelStudent",e],queryFn:()=>Re.getHostelStudent(e),enabled:!!e});if(n)return a.jsx("div",{className:"p-6 animate-pulse",children:"Loading student details..."});if(s)return a.jsxs("div",{className:"p-6 text-red-600",children:["Error loading student: ",s.message]});if(!r||!r.student)return a.jsx("div",{className:"p-6",children:"Student not found."});const{student:i,history:o}=r,l=o[0]||{};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(ml,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>t(`/hostel/students/${e}/edit`),className:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-indigo-700 transition-colors",children:"Edit"}),a.jsx("button",{onClick:()=>window.print(),className:"inline-flex items-center rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-gray-700 transition-colors",children:"Print"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-6",children:[a.jsx("div",{className:"w-full",children:a.jsx("img",{src:Gve,alt:"SDM Boy's Hostel Banner",className:"w-full h-auto object-cover"})}),a.jsxs("div",{className:"flex space-x-4",children:[i.profileImageUrl&&a.jsx("img",{src:i.profileImageUrl,alt:"Profile",className:"w-24 h-24 object-cover rounded-lg border border-gray-200"}),i.aadharImageUrl&&a.jsx("img",{src:i.aadharImageUrl,alt:"Aadhar",className:"w-24 h-24 object-cover rounded-lg border border-gray-200"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{label:"Name",value:i.name||"N/A"},{label:"Address",value:i.address||"N/A"},{label:"Father’s Name",value:i.fatherName||"N/A"},{label:"Mother’s Name",value:i.motherName||"N/A"},{label:"Aadhar Number",value:i.aadharNumber||"N/A"},{label:"Phone Number",value:i.phoneNumber||"N/A"},{label:"Branch",value:i.branchName||"N/A"},{label:"Security Money",value:`₹${(Number(i.securityMoney)||0).toFixed(2)}`},{label:"Registration Number",value:i.registrationNumber||"N/A"},{label:"Status",value:i.status||"N/A"},{label:"Current Room Number",value:l.roomNumber||"N/A"},{label:"Current Stay Start",value:l.stayStartDate?new Date(l.stayStartDate).toLocaleDateString():"N/A"},{label:"Current Stay End",value:l.stayEndDate?new Date(l.stayEndDate).toLocaleDateString():"N/A"},{label:"Current Total Fee",value:`₹${(l.totalFee||0).toFixed(2)}`},{label:"Current Cash Paid",value:`₹${(l.cashPaid||0).toFixed(2)}`},{label:"Current Online Paid",value:`₹${(l.onlinePaid||0).toFixed(2)}`},{label:"Current Due Amount",value:`₹${(l.dueAmount||0).toFixed(2)}`}].map((d,u)=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:d.label}),a.jsx("span",{className:"text-gray-900",children:d.value})]},u))}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Stay History"}),o.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Fee"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cash Paid"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Online Paid"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Amount"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remark"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(d=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:new Date(d.stayStartDate).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:new Date(d.stayEndDate).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:d.roomNumber||"N/A"}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["₹",d.totalFee.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["₹",d.cashPaid.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["₹",d.onlinePaid.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-600",children:["₹",d.dueAmount.toFixed(2)]}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:d.remark||"N/A"})]},d.id))})]})}):a.jsx("p",{className:"text-gray-500",children:"No stay history available."})]})]})]})},qve=()=>{var p,b,N;const{id:e}=Xd(),t=Uc(),r=Ur(),{data:n,isLoading:s,error:i}=ko({queryKey:["hostelStudent",e],queryFn:()=>Re.getHostelStudent(e),enabled:!!e}),{data:o,isLoading:l,error:d}=ko({queryKey:["hostelBranches"],queryFn:()=>Re.getHostelBranches()}),u=ca({mutationFn:S=>Re.updateHostelStudent(e,S),onSuccess:S=>{t.invalidateQueries({queryKey:["hostelStudent",e]}),t.invalidateQueries({queryKey:["hostelStudents"]}),t.invalidateQueries({queryKey:["hostelBranches"]}),Se.success("Student updated successfully"),r(`/hostel/students/${e}`)},onError:S=>{Se.error(S.message||"Failed to update student")}});if(s||l)return a.jsx("div",{className:"p-6 animate-pulse",children:"Loading..."});if(i)return a.jsxs("div",{className:"p-6 text-red-500",children:["Error loading student data: ",i.message]});if(d)return a.jsxs("div",{className:"p-6 text-red-500",children:["Error loading branches: ",d.message]});if(!n||!n.student)return a.jsx("div",{className:"p-6",children:"Student data not found."});const h=n.student,m=n.history&&n.history.length>0?n.history[0]:{},y={...h,stayStartDate:m.stayStartDate||"",stayEndDate:m.stayEndDate||"",totalFee:((p=m.totalFee)==null?void 0:p.toString())||"",cashPaid:((b=m.cashPaid)==null?void 0:b.toString())||"",onlinePaid:((N=m.onlinePaid)==null?void 0:N.toString())||""};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>r(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(ml,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Hostel Student"}),a.jsx("div",{})," "]}),a.jsx("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-lg",children:a.jsx(BV,{branches:o||[],onSubmit:u.mutate,initialData:y})})]})},Xve=({onAddSuccess:e})=>{const[t,r]=C.useState(""),[n,s]=C.useState(""),[i,o]=C.useState(""),[l,d]=C.useState(""),[u,h]=C.useState(""),m=ca({mutationFn:p=>Re.addTransaction(p),onSuccess:()=>{e(),r(""),s(""),o(""),d(""),h("")},onError:p=>{console.error("Failed to add transaction:",p.message),alert("Failed to add transaction: "+p.message)}}),y=p=>{if(p.preventDefault(),!t.trim()){alert("Name is required");return}const b={name:t.trim(),cashReceipt:n===""?0:parseFloat(n),onlineReceipt:i===""?0:parseFloat(i),cashExpense:l===""?0:parseFloat(l),onlineExpense:u===""?0:parseFloat(u)};m.mutate(b)};return a.jsx("form",{onSubmit:y,className:"mb-4",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("input",{type:"text",value:t,onChange:p=>r(p.target.value),placeholder:"Name",className:"border p-2 rounded",required:!0}),a.jsx("input",{type:"number",value:n,onChange:p=>s(p.target.value),placeholder:"Cash Receipt",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("input",{type:"number",value:i,onChange:p=>o(p.target.value),placeholder:"Online Receipt",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("input",{type:"number",value:l,onChange:p=>d(p.target.value),placeholder:"Cash Expense",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("input",{type:"number",value:u,onChange:p=>h(p.target.value),placeholder:"Online Expense",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 disabled:bg-blue-300",disabled:m.isPending,children:m.isPending?"Adding...":"Add Transaction"})]})})},Yve=({transaction:e})=>{const t=Uc(),[r,n]=C.useState(e.name),[s,i]=C.useState(e.cashReceipt.toString()),[o,l]=C.useState(e.onlineReceipt.toString()),[d,u]=C.useState(e.cashExpense.toString()),[h,m]=C.useState(e.onlineExpense.toString()),y=((parseFloat(s)||0)+(parseFloat(o)||0)-(parseFloat(d)||0)-(parseFloat(h)||0)).toFixed(2),p=ca({mutationFn:w=>Re.updateTransaction(e.id,w),onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]}),alert("Transaction updated successfully")},onError:w=>{console.error("Failed to update transaction:",w.message),alert("Failed to update transaction: "+w.message)}}),b=ca({mutationFn:()=>Re.deleteTransaction(e.id),onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]}),alert("Transaction deleted successfully")},onError:w=>{console.error("Failed to delete transaction:",w.message),alert("Failed to delete transaction: "+w.message)}}),N=()=>{if(!r.trim()){alert("Name is required");return}const w={name:r.trim(),cashReceipt:parseFloat(s)||0,onlineReceipt:parseFloat(o)||0,cashExpense:parseFloat(d)||0,onlineExpense:parseFloat(h)||0};p.mutate(w)},S=()=>{window.confirm("Are you sure you want to delete this transaction?")&&b.mutate()};return a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"text",value:r,onChange:w=>n(w.target.value),className:"w-full border rounded p-1",required:!0})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:s,onChange:w=>i(w.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:o,onChange:w=>l(w.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:d,onChange:w=>u(w.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:h,onChange:w=>m(w.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:y}),a.jsxs("td",{className:"py-2 px-4 border-b",children:[a.jsx("button",{onClick:N,className:"bg-green-500 text-white p-1 rounded mr-2 hover:bg-green-600 disabled:bg-green-300",disabled:p.isPending,children:p.isPending?"Saving...":"Save"}),a.jsx("button",{onClick:S,className:"bg-red-500 text-white p-1 rounded hover:bg-red-600 disabled:bg-red-300",disabled:b.isPending,children:b.isPending?"Deleting...":"Delete"})]})]})},Zve=()=>{const[e,t]=C.useState(!1),r=Uc(),{data:n,isLoading:s,error:i}=ko({queryKey:["transactions"],queryFn:Re.getTransactions}),o=()=>{r.invalidateQueries({queryKey:["transactions"]})},l=(n==null?void 0:n.transactions)||[];return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[a.jsx(an,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsxs(Hr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs("h1",{className:"text-3xl font-bold mb-2 text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[a.jsx("span",{role:"img","aria-label":"money",children:"💰"})," Transactions"]}),a.jsx("div",{className:"mb-6 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-sky-500 dark:from-indigo-600 dark:via-fuchsia-600 dark:to-sky-600 shadow-sm ring-1 ring-white/30"}),a.jsx(Hr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},className:"bg-white/95 dark:bg-gray-800/95 shadow-sm rounded-xl p-4 mb-6 w-full border border-gray-200 dark:border-gray-700 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40",children:a.jsx(Xve,{onAddSuccess:o})}),s?a.jsxs("div",{className:"flex items-center justify-center text-gray-600 mt-6",children:[a.jsx(ds,{className:"animate-spin mr-2"}),"Loading transactions..."]}):i?a.jsxs("div",{className:"flex items-center justify-center text-red-500 mt-6",children:[a.jsx(na,{className:"mr-2"}),"Error: ",i.message]}):a.jsx(Hr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"overflow-x-auto bg-white/95 dark:bg-gray-800/95 shadow-sm rounded-xl w-full border border-gray-200 dark:border-gray-700",children:a.jsxs("table",{className:"w-full text-sm text-left table-auto",children:[a.jsx("thead",{className:"bg-gradient-to-r from-indigo-50 via-fuchsia-50 to-sky-50 dark:from-gray-700 dark:via-gray-700 dark:to-gray-700 text-gray-700 dark:text-gray-200 font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Name"}),a.jsx("th",{className:"px-4 py-3",children:"Cash Receipt"}),a.jsx("th",{className:"px-4 py-3",children:"Online Receipt"}),a.jsx("th",{className:"px-4 py-3",children:"Cash Expense"}),a.jsx("th",{className:"px-4 py-3",children:"Online Expense"}),a.jsx("th",{className:"px-4 py-3",children:"Total"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{children:l.length>0?l.map(d=>a.jsx(Yve,{transaction:d},d.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-gray-500",children:"No transactions found."})})})]})})]})})]})},Jve=()=>{var ge;const{user:e}=Ys(),t=Uc(),[r]=AS(),n=new Date().toISOString().slice(0,7),[s,i]=C.useState(!1),o=()=>{Se.info("Barcode scanning functionality is not yet implemented.")},[l,d]=C.useState(""),[u,h]=C.useState(n),[m,y]=C.useState(null),[p,b]=C.useState([]),[N,S]=C.useState("cards"),[w,B]=C.useState(!1),[I,_]=C.useState(""),[P,H]=C.useState("");C.useEffect(()=>{r.get("showOnlyDue")==="true"&&B(!0)},[r]);const[D,L]=C.useState(!1),[T,z]=C.useState(null),[M,V]=C.useState(""),[J,Z]=C.useState(null);C.useEffect(()=>{Re.getBranches().then(b).catch(()=>Se.error("Failed to load branches"))},[]);const{data:ee,isLoading:q}=ko({queryKey:["collections",u,m,I,P],queryFn:()=>{const ue={branchId:m||void 0};return I&&P?(ue.fromDate=I,ue.toDate=P):ue.month=u,Re.getCollections(ue)}}),{data:X,isLoading:Y}=ko({queryKey:["collectionStats",u,m,I,P],queryFn:()=>{const ue={branchId:m||void 0};return I&&P?(ue.fromDate=I,ue.toDate=P):ue.month=u,Re.getCollectionStats(ue)},enabled:!!e&&e.role==="admin"}),K=ca({mutationFn:ue=>Re.updateCollectionPayment(ue.historyId,{amount:ue.amount,method:ue.method}),onSuccess:()=>{Se.success("Payment updated successfully"),L(!1),t.invalidateQueries({queryKey:["collections"]}),(e==null?void 0:e.role)==="admin"&&t.invalidateQueries({queryKey:["collectionStats"]})},onError:ue=>{Se.error(ue.message||"Failed to update payment")}}),ce=ue=>{z(ue),V(ue.dueAmount.toFixed(2)),Z(null),L(!0)},oe=()=>{if(!T||!J||!M){Se.error("Please select a payment method and enter a payment amount");return}const ue=parseFloat(M);if(isNaN(ue)||ue<=0||ue>T.dueAmount+.01){Se.error("Invalid payment amount. Cannot be zero or more than the due amount.");return}K.mutate({historyId:T.historyId,amount:ue,method:J})},Q=async(ue,Ee=!0)=>{try{const ke=document.getElementById(`invoice-${ue.historyId}`);if(!ke)return null;const _e=await Vv(ke,{scale:2,useCORS:!0,logging:!0,allowTaint:!0}),Oe=_e.toDataURL("image/png"),He=new Zt("p","mm","a4"),Ne=He.internal.pageSize.getWidth(),me=_e.height*Ne/_e.width;return He.addImage(Oe,"PNG",0,0,Ne,me),Ee&&He.save(`invoice-${ue.studentId}-${new Date().toISOString().split("T")[0]}.pdf`),He}catch(ke){return console.error("Error generating PDF:",ke),Se.error("Failed to generate invoice PDF"),null}},G=async ue=>{await Q(ue,!0)},te=async ue=>{try{const Ee=await Q(ue,!1);if(!Ee)return;const ke=Ee.output("blob"),_e=new File([ke],`invoice-${ue.studentId}.pdf`,{type:"application/pdf"}),Oe=URL.createObjectURL(_e),He=document.createElement("a");He.href=Oe,He.download=`invoice-${ue.studentId}.pdf`,document.body.appendChild(He),He.click(),setTimeout(()=>{document.body.removeChild(He),URL.revokeObjectURL(Oe)},100);const Ne=`https://wa.me/?text=Here%20is%20the%20invoice%20for%20${encodeURIComponent(ue.name)}`;window.open(Ne,"_blank")}catch(Ee){console.error("Error sharing on WhatsApp:",Ee),Se.error("Failed to share on WhatsApp")}},se=((ge=ee==null?void 0:ee.collections)==null?void 0:ge.filter(ue=>{const Ee=(ue.name||"").toLowerCase().includes(l.toLowerCase()),ke=!w||Number(ue.dueAmount)>0;return Ee&&ke}))||[],de=(ee==null?void 0:ee.collections.length)||0;return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[a.jsx(an,{isCollapsed:s,setIsCollapsed:i,onBarcodeClick:o}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:[a.jsxs(Hr.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100",children:"📊 Collection & Due"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Track fees, dues and payments"}),a.jsx("div",{className:"mt-3 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-amber-500 to-rose-500 dark:from-indigo-600 dark:via-amber-600 dark:to-rose-600 shadow-sm ring-1 ring-white/30"})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex-1 rounded-lg bg-cyan-50 dark:bg-cyan-900/20 border border-cyan-200 dark:border-cyan-800 p-2 shadow-sm ring-1 ring-cyan-100/80 dark:ring-cyan-900/40",children:[a.jsx("label",{className:"text-xs font-semibold text-cyan-700 dark:text-cyan-300 mr-2",children:"Search"}),a.jsx("input",{type:"text",placeholder:"Search by student name...",value:l,onChange:ue=>d(ue.target.value),className:"w-full sm:w-auto p-2 border border-cyan-200 dark:border-cyan-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-400 shadow-sm"})]}),a.jsxs("label",{className:"flex items-center space-x-2 p-2 border rounded-md bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 shadow-sm ring-1 ring-amber-100/70 dark:ring-amber-900/40 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:w,onChange:ue=>B(ue.target.checked),className:"rounded"}),a.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Show Only Due"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"rounded-lg bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 p-2 shadow-sm ring-1 ring-indigo-100/80 dark:ring-indigo-900/40",children:[a.jsx("label",{className:"text-xs font-semibold text-indigo-700 dark:text-indigo-300 mr-2",children:"Month"}),a.jsx("input",{type:"month",value:u,onChange:ue=>h(ue.target.value),className:"p-2 border border-indigo-200 dark:border-indigo-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-indigo-400 shadow-sm",placeholder:"Month"})]}),a.jsxs("div",{className:"rounded-lg bg-sky-50 dark:bg-sky-900/20 border border-sky-200 dark:border-sky-800 p-2 shadow-sm ring-1 ring-sky-100/80 dark:ring-sky-900/40",children:[a.jsx("label",{className:"text-xs font-semibold text-sky-700 dark:text-sky-300 mr-2",children:"From"}),a.jsx("input",{type:"date",value:I,onChange:ue=>_(ue.target.value),className:"p-2 border border-sky-200 dark:border-sky-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-sky-400 shadow-sm",placeholder:"From Date"})]}),a.jsxs("div",{className:"rounded-lg bg-sky-50 dark:bg-sky-900/20 border border-sky-200 dark:border-sky-800 p-2 shadow-sm ring-1 ring-sky-100/80 dark:ring-sky-900/40",children:[a.jsx("label",{className:"text-xs font-semibold text-sky-700 dark:text-sky-300 mr-2",children:"To"}),a.jsx("input",{type:"date",value:P,onChange:ue=>H(ue.target.value),className:"p-2 border border-sky-200 dark:border-sky-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-sky-400 shadow-sm",placeholder:"To Date"})]}),a.jsxs("div",{className:"rounded-lg bg-emerald-50 dark:bg-green-900/20 border border-emerald-200 dark:border-green-800 p-2 shadow-sm ring-1 ring-emerald-100/80 dark:ring-green-900/40",children:[a.jsx("label",{className:"text-xs font-semibold text-emerald-700 dark:text-emerald-300 mr-2",children:"Branch"}),a.jsxs("select",{value:m||"",onChange:ue=>y(ue.target.value?Number(ue.target.value):null),className:"p-2 border border-emerald-200 dark:border-green-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-emerald-400 shadow-sm",children:[a.jsx("option",{value:"",children:"All Branches"}),p.map(ue=>a.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]})]})]}),(e==null?void 0:e.role)==="admin"&&a.jsxs(Hr.div,{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",initial:{opacity:0},animate:{opacity:1},children:[a.jsx(op,{title:"Total Students",value:de,isLoading:q}),a.jsx(op,{title:"Total Collected",value:X==null?void 0:X.totalPaid,isLoading:Y,isCurrency:!0,color:"emerald"}),a.jsx(op,{title:"Total Due",value:X==null?void 0:X.totalDue,isLoading:Y,isCurrency:!0,color:"rose"}),a.jsx(op,{title:"Cash Collected",value:X==null?void 0:X.totalCash,isLoading:Y,isCurrency:!0,color:"sky"}),a.jsx(op,{title:"Online Collected",value:X==null?void 0:X.totalOnline,isLoading:Y,isCurrency:!0,color:"violet"})]}),a.jsx("div",{className:"mb-4 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-gradient-to-r from-indigo-500 via-amber-500 to-rose-500 text-white shadow-sm",children:"View"}),a.jsxs("div",{className:"inline-flex rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 ring-1 ring-indigo-200/60 dark:ring-indigo-900/40 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm",children:[a.jsx("button",{className:`px-3 py-1.5 text-sm transition-colors ${N==="table"?"bg-indigo-600 text-white":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>S("table"),children:"Table"}),a.jsx("button",{className:`px-3 py-1.5 text-sm transition-colors ${N==="cards"?"bg-indigo-600 text-white":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>S("cards"),children:"Cards"})]})]})}),N==="table"?a.jsx("div",{className:"bg-white/95 dark:bg-gray-800/95 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-x-auto",children:q?a.jsx("div",{className:"text-center p-8",children:a.jsx(ds,{className:"h-8 w-8 animate-spin mx-auto"})}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gradient-to-r from-indigo-50 via-amber-50 to-rose-50 dark:from-gray-700 dark:via-gray-700 dark:to-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-200 uppercase",children:"Student Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Branch"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Shift"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Seat"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Fee"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cash"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Online"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Security"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Paid"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Due"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remark"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:se.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:13,className:"px-4 py-4 text-center text-gray-500",children:"No collections found."})}):se.map(ue=>{var Ee;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:ue.name}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:((Ee=p.find(ke=>ke.id===ue.branchId))==null?void 0:Ee.name)||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:ue.shiftTitle||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:ue.seatNumber||"N/A"}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["₹",ue.totalFee.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["₹",ue.cash.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["₹",ue.online.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["₹",ue.securityMoney.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-semibold text-emerald-700 dark:text-emerald-300",children:["₹",ue.amountPaid.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-bold text-rose-700 dark:text-rose-300",children:["₹",ue.dueAmount.toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-wrap text-sm text-gray-500",children:ue.remark||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:ue.createdAt?new Date(ue.createdAt).toLocaleDateString():"N/A"}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:[ue.dueAmount>0&&a.jsx("button",{onClick:()=>ce(ue),className:"px-2 py-1 text-xs rounded-md bg-rose-50 text-rose-700 border border-rose-200 hover:bg-rose-100 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800",children:"Pay Due"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"p-1 text-gray-500 hover:text-sky-600",onClick:ke=>{ke.stopPropagation(),G(ue)},title:"Download Invoice",children:a.jsx(em,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1 text-gray-500 hover:text-emerald-600",onClick:ke=>{ke.stopPropagation(),te(ue)},title:"Share on WhatsApp",children:a.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17.498 14.382v-.002c-.301-.15-1.767-.867-2.04-.966-.273-.101-.473-.15-.673.15-.197.295-.771.964-.944 1.162-.175.195-.349.21-.646.075-.3-.15-1.263-.465-2.403-1.485-.888-.795-1.484-1.761-1.66-2.059-.173-.297-.018-.458.13-.606.136-.135.297-.354.446-.521.146-.181.194-.296.297-.494.1-.21.049-.375-.025-.524-.075-.15-.672-1.62-.922-2.206-.24-.584-.487-.51-.672-.51-.172-.015-.371-.015-.571-.015-.2 0-.523.074-.797.359-.273.3-1.045 1.02-1.045 2.475s1.07 2.865 1.219 3.075c.15.195 2.105 3.195 5.1 4.485.714.3 1.27.489 1.704.621.714.227 1.365.195 1.88.121.574-.09 1.767-.721 2.016-1.426.255-.705.255-1.29.18-1.425-.074-.135-.27-.21-.57-.36m-5.446 7.443h-.016a9.87 9.87 0 01-5.031-1.379l-.36-.214-3.75.975 1.005-3.645-.239-.375a9.86 9.86 0 01-1.51-5.26c.001-5.445 4.455-9.885 9.942-9.885 2.654 0 5.145 1.035 7.021 2.91 1.875 1.86 2.909 4.35 2.909 6.99-.004 5.444-4.458 9.885-9.933 9.885M20.52 3.449C18.24 1.245 15.24 0 12.045 0 5.462 0 .103 5.334.101 11.893c0 2.096.549 4.14 1.595 5.945L0 24l6.335-1.652a12.01 12.01 0 005.71 1.447h.006c6.585 0 11.946-5.336 11.949-11.896 0-3.176-1.24-6.165-3.495-8.411"})})})]})]})]},ue.historyId)})})]})}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:q?a.jsx("div",{className:"text-center p-8 col-span-full",children:a.jsx(ds,{className:"h-8 w-8 animate-spin mx-auto"})}):se.map(ue=>{var Ee;return a.jsx(Hr.div,{className:"rounded-2xl p-[3px] bg-gradient-to-br from-indigo-600/80 via-amber-500/80 to-rose-500/80 transition-colors shadow-lg",whileHover:{scale:1.02,rotateX:-2,rotateY:2},whileTap:{scale:.99},initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35},style:{transformStyle:"preserve-3d"},children:a.jsxs("div",{className:"rounded-[14px] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl",children:[a.jsxs("div",{className:"h-9 bg-gradient-to-r from-emerald-600 to-teal-600 text-white flex items-center justify-between px-3",children:[a.jsx("span",{className:"text-sm font-semibold truncate",children:ue.name}),ue.dueAmount>0?a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-white/20 border border-white/30",children:"Due"}):a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-white/20 border border-white/30",children:"Paid"})]}),a.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"px-2 py-1 rounded-md text-xs bg-indigo-50 text-indigo-700 border border-indigo-200",children:((Ee=p.find(ke=>ke.id===ue.branchId))==null?void 0:Ee.name)||"N/A"}),a.jsx("span",{className:"px-2 py-1 rounded-md text-xs bg-sky-50 text-sky-700 border border-sky-200",children:ue.shiftTitle||"N/A"}),a.jsxs("span",{className:"px-2 py-1 rounded-md text-xs bg-violet-50 text-violet-700 border border-violet-200",children:["Seat ",ue.seatNumber||"N/A"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-emerald-50 text-emerald-800 border border-emerald-200",children:["Paid: ₹",ue.amountPaid.toFixed(2)]}),a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-rose-50 text-rose-800 border border-rose-200",children:["Due: ₹",ue.dueAmount.toFixed(2)]}),a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-amber-50 text-amber-800 border border-amber-200",children:["Total: ₹",ue.totalFee.toFixed(2)]}),a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-sky-50 text-sky-800 border border-sky-200",children:["Cash: ₹",ue.cash.toFixed(2)]}),a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-fuchsia-50 text-fuchsia-800 border border-fuchsia-200",children:["Online: ₹",ue.online.toFixed(2)]}),a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-teal-50 text-teal-800 border border-teal-200",children:["Security: ₹",ue.securityMoney.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:ue.createdAt?new Date(ue.createdAt).toLocaleDateString():"N/A"}),a.jsxs("div",{className:"flex gap-2",children:[ue.dueAmount>0&&a.jsx("button",{onClick:()=>ce(ue),className:"px-2 py-1 text-xs rounded-md bg-rose-50 text-rose-700 border border-rose-200 hover:bg-rose-100",children:"Pay Due"}),a.jsx("button",{className:"p-1 text-gray-500 hover:text-sky-600",onClick:ke=>{ke.stopPropagation(),G(ue)},title:"Download Invoice",children:a.jsx(em,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1 text-gray-500 hover:text-emerald-600",onClick:ke=>{ke.stopPropagation(),te(ue)},title:"Share on WhatsApp",children:a.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17.498 14.382v-.002c-.301-.15-1.767-.867-2.04-.966-.273-.101-.473-.15-.673.15-.197.295-.771.964-.944 1.162-.175.195-.349.21-.646.075-.3-.15-1.263-.465-2.403-1.485-.888-.795-1.484-1.761-1.66-2.059-.173-.297-.018-.458.13-.606.136-.135.297-.354.446-.521.146-.181.194-.296.297-.494.1-.21.049-.375-.025-.524-.075-.15-.672-1.62-.922-2.206-.24-.584-.487-.51-.672-.51-.172-.015-.371-.015-.571-.015-.2 0-.523.074-.797.359-.273.3-1.045 1.02-1.045 2.475s1.07 2.865 1.219 3.075c.15.195 2.105 3.195 5.1 4.485.714.3 1.27.489 1.704.621.714.227 1.365.195 1.88.121.574-.09 1.767-.721 2.016-1.426.255-.705.255-1.29.18-1.425-.074-.135-.27-.21-.57-.36m-5.446 7.443h-.016a9.87 9.87 0 01-5.031-1.379l-.36-.214-3.75.975 1.005-3.645-.239-.375a9.86 9.86 0 01-1.51-5.26c.001-5.445 4.455-9.885 9.942-9.885 2.654 0 5.145 1.035 7.021 2.91 1.875 1.86 2.909 4.35 2.909 6.99-.004 5.444-4.458 9.885-9.933 9.885M20.52 3.449C18.24 1.245 15.24 0 12.045 0 5.462 0 .103 5.334.101 11.893c0 2.096.549 4.14 1.595 5.945L0 24l6.335-1.652a12.01 12.01 0 005.71 1.447h.006c6.585 0 11.946-5.336 11.949-11.896 0-3.176-1.24-6.165-3.495-8.411"})})})]})]})]})]})},ue.historyId)})})]}),D&&T&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-0 rounded-xl shadow-xl max-w-md w-full border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"h-10 bg-gradient-to-r from-rose-600 to-pink-600 text-white flex items-center px-4 font-semibold",children:"Pay Due"}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800 dark:text-gray-100",children:T.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Total Due Amount: ₹",T.dueAmount.toFixed(2)]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Payment Method:"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center text-emerald-700 dark:text-emerald-300",children:[a.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:J==="cash",onChange:()=>Z("cash"),className:"mr-2"}),"Cash"]}),a.jsxs("label",{className:"flex items-center text-sky-700 dark:text-sky-300",children:[a.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:J==="online",onChange:()=>Z("online"),className:"mr-2"}),"Online"]})]})]}),a.jsx("input",{type:"number",value:M,onChange:ue=>V(ue.target.value),placeholder:"Enter payment amount",className:"w-full p-2 border rounded-md mb-4 bg-white/95 dark:bg-gray-700/90 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-rose-300",max:T.dueAmount.toString()}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 border rounded-md dark:border-gray-600",children:"Cancel"}),a.jsx("button",{onClick:oe,disabled:K.isPending,className:"px-4 py-2 bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 disabled:opacity-60",children:K.isPending?a.jsx(ds,{className:"h-4 w-4 animate-spin"}):"Submit Payment"})]})]})]})})]})]})},op=({title:e,value:t,isLoading:r,isCurrency:n=!1,color:s="indigo"})=>{const i={indigo:"from-indigo-500 to-violet-500",emerald:"from-emerald-500 to-teal-500",rose:"from-rose-500 to-pink-500",sky:"from-sky-500 to-blue-500",violet:"from-violet-500 to-fuchsia-500"},o=i[s]||i.indigo;return a.jsxs("div",{className:"rounded-xl border border-white/20 bg-gradient-to-br text-white shadow-sm ring-1 ring-white/10 overflow-hidden",style:{backgroundImage:void 0},children:[a.jsx("div",{className:`bg-gradient-to-r ${o} px-4 py-2 text-xs font-semibold`,children:e}),a.jsx("div",{className:"bg-white/95 dark:bg-gray-800/95 px-4 py-3",children:a.jsx("div",{className:`text-xl font-bold ${s==="rose"?"text-rose-600 dark:text-rose-300":s==="emerald"?"text-emerald-600 dark:text-emerald-300":s==="sky"?"text-sky-600 dark:text-sky-300":s==="violet"?"text-violet-600 dark:text-violet-300":"text-indigo-600 dark:text-indigo-300"}`,children:r?a.jsx(ds,{className:"h-5 w-5 animate-spin"}):n?`₹${(t||0).toFixed(2)}`:t||0})})]})},ebe=()=>{const[e]=AS(),[t,r]=C.useState(!1),[n,s]=C.useState([]),[i,o]=C.useState([]),[l,d]=C.useState([]),[u,h]=C.useState(void 0),[m,y]=C.useState({title:"",amount:"",date:"",remark:"",branchId:""}),[p,b]=C.useState(""),[N,S]=C.useState(!1),[w,B]=C.useState(null),[I,_]=C.useState(!0),[P,H]=C.useState(null);C.useEffect(()=>{const q=e.get("month"),X=e.get("view");q&&H(q),X==="profit"&&Se.info("Viewing profit/loss details for the selected month")},[e]),C.useEffect(()=>{(async()=>{try{const X=await Re.getBranches();console.log("Fetched branches:",X),d(Array.isArray(X)?X:[])}catch(X){console.error("Failed to fetch branches:",X),Se.error("Failed to load branches"),d([])}})()},[]),C.useEffect(()=>{(async()=>{_(!0);try{console.log("Fetching expenses with branchId:",u);const X=await Re.getExpenses(u);if(console.log("API response for expenses:",X),!X||!Array.isArray(X.expenses))throw new Error("Invalid API response: expenses is not an array");const Y=X.expenses.map(K=>{const ce=parseFloat(String(K.amount));return{id:K.id,title:K.title,amount:isNaN(ce)?0:ce,date:K.date,remark:K.remark,branchId:K.branchId??null,branchName:K.branchName??null}});console.log("Parsed expenses:",Y),s(Y),o(Array.isArray(X.products)?X.products:[])}catch(X){console.error("Failed to fetch expenses:",X),Se.error("Failed to load expenses"),s([]),o([])}finally{_(!1)}})()},[u]),C.useEffect(()=>{var q;if(w){const X=w.date.includes("T")?w.date.split("T")[0]:w.date,Y=i.some(K=>K.name===w.title);y({title:Y?w.title:"Other",amount:w.amount.toString(),date:X,remark:w.remark||"",branchId:((q=w.branchId)==null?void 0:q.toString())||""}),S(!Y),b(Y?"":w.title)}else y({title:"",amount:"",date:"",remark:"",branchId:(u==null?void 0:u.toString())||""}),S(!1),b("")},[w,i,u]);const D=q=>{const{name:X,value:Y}=q.target;X==="title"&&(S(Y==="Other"),Y!=="Other"&&b("")),y(K=>({...K,[X]:Y}))},L=q=>{b(q.target.value)},T=q=>{const X=q.target.value?parseInt(q.target.value,10):void 0;h(X)},z=async()=>{const q=N&&p?p:m.title;if(!q||!m.amount||!m.date){Se.error("Title, amount, and date are required");return}try{const X={title:q,amount:m.amount,date:m.date,remark:m.remark,branchId:m.branchId?parseInt(m.branchId,10):null};if(console.log("Submitting expense data:",X),w){const Y=await Re.updateExpense(w.id,X),K={...Y,amount:parseFloat(String(Y.amount)),branchId:Y.branchId??null,branchName:Y.branchName??null};s(ce=>ce.map(oe=>oe.id===K.id?K:oe)),B(null),Se.success("Expense updated successfully")}else{const Y=await Re.addExpense(X),K={...Y,amount:parseFloat(String(Y.amount)),branchId:Y.branchId??null,branchName:Y.branchName??null};s(ce=>[K,...ce]),y({title:"",amount:"",date:"",remark:"",branchId:(u==null?void 0:u.toString())||""}),S(!1),b(""),Se.success("Expense added successfully")}}catch(X){console.error("Failed to save expense:",X),Se.error("Failed to save expense")}},M=q=>{console.log("Editing expense:",q),B(q)},V=async q=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await Re.deleteExpense(q),s(X=>X.filter(Y=>Y.id!==q)),w&&w.id===q&&B(null),Se.success("Expense deleted successfully")}catch(X){console.error("Failed to delete expense:",X),Se.error("Failed to delete expense")}},J=n.reduce((q,X)=>{const Y=new Date(X.date);if(isNaN(Y.getTime()))return console.warn(`Invalid date for expense ${X.id}: ${X.date}`),q;const K=Y.toLocaleString("default",{month:"long",year:"numeric"});return q[K]||(q[K]=[]),q[K].push(X),q},{}),Z=q=>{try{const X=new Date(q);return isNaN(X.getTime())?(console.warn(`Invalid date string: ${q}`),q):q.includes("T")?q.split("T")[0]:q}catch(X){return console.error("Error formatting date:",q,X),q}},ee=q=>{if(q.branchName)return q.branchName;if(q.branchId){const X=l.find(Y=>Y.id===q.branchId);return X?X.name:"Global"}return"Global"};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[a.jsx(an,{isCollapsed:t,setIsCollapsed:r,onBarcodeClick:()=>{}}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:I?a.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):a.jsxs(Hr.div,{className:"max-w-4xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(Hr.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:"💸 Expenses"}),a.jsx("div",{className:"mb-6 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-amber-500 to-rose-500 dark:from-indigo-600 dark:via-amber-600 dark:to-rose-600 shadow-sm ring-1 ring-white/30"}),a.jsxs(Hr.div,{className:"bg-white/95 dark:bg-gray-800/95 shadow-sm rounded-xl p-6 mb-4 border border-gray-200 dark:border-gray-700 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.15},children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-semibold mb-2",children:"Filter by Branch"}),a.jsxs("select",{value:u??"",onChange:T,className:"w-full sm:w-1/3 px-4 py-2 border border-indigo-200 dark:border-indigo-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-300 shadow-sm",children:[a.jsx("option",{value:"",children:"All Branches"}),l.map(q=>a.jsx("option",{value:q.id.toString(),children:q.name},q.id))]})]}),a.jsxs(Hr.div,{className:"bg-white/95 dark:bg-gray-800/95 shadow-sm rounded-xl p-6 mb-8 border border-gray-200 dark:border-gray-700 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.15},children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:w?"Edit Expense":"Add New Expense"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4",children:[a.jsxs("select",{name:"title",value:m.title,onChange:D,className:"w-full px-4 py-2 border border-indigo-200 dark:border-indigo-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-300 shadow-sm",children:[a.jsx("option",{value:"",children:"Select Title"}),i.map(q=>a.jsx("option",{value:q.name,children:q.name},q.id)),a.jsx("option",{value:"Other",children:"Other"})]}),N&&a.jsx("input",{type:"text",name:"customTitle",value:p,onChange:L,placeholder:"Enter custom title",className:"w-full px-4 py-2 border border-cyan-200 dark:border-cyan-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-300 shadow-sm"}),a.jsx("input",{type:"number",name:"amount",value:m.amount,onChange:D,placeholder:"Amount",step:"0.01",className:"w-full px-4 py-2 border border-emerald-200 dark:border-emerald-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-300 shadow-sm"}),a.jsx("input",{type:"text",name:"remark",value:m.remark,onChange:D,placeholder:"Remark",className:"w-full px-4 py-2 border border-violet-200 dark:border-violet-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-violet-300 shadow-sm"}),a.jsx("input",{type:"date",name:"date",value:m.date,onChange:D,className:"w-full px-4 py-2 border border-sky-200 dark:border-sky-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-sky-300 shadow-sm"}),a.jsxs("select",{name:"branchId",value:m.branchId,onChange:D,className:"w-full px-4 py-2 border border-emerald-200 dark:border-emerald-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-300 shadow-sm",children:[a.jsx("option",{value:"",children:"Select Branch (Optional)"}),l.map(q=>a.jsx("option",{value:q.id.toString(),children:q.name},q.id))]})]}),a.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[a.jsx("button",{onClick:z,className:"bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white px-6 py-2 rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 ring-1 ring-white/20 transition",children:w?"Update Expense":"Add Expense"}),w&&a.jsx("button",{onClick:()=>B(null),className:"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700 transition",children:"Cancel"})]})]}),Object.entries(J).sort(([q],[X])=>new Date(X).getTime()-new Date(q).getTime()).map(([q,X],Y)=>{const K=X.reduce((oe,Q)=>oe+(Q.amount||0),0),ce=P&&q.includes(new Date(P+"-01").toLocaleString("default",{month:"long",year:"numeric"}));return a.jsxs(Hr.div,{className:`mb-8 ${ce?"ring-2 ring-blue-500 rounded-lg p-4 bg-blue-50":""}`,initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2+Y*.1},children:[a.jsxs("h2",{className:`text-xl font-semibold mb-4 ${ce?"text-blue-800":"text-gray-800"}`,children:[q," ",ce&&"🎯"]}),a.jsx("div",{className:"overflow-x-auto bg-white/95 dark:bg-gray-800/95 shadow-sm rounded-xl border border-gray-200 dark:border-gray-700",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gradient-to-r from-indigo-50 via-amber-50 to-rose-50 dark:from-gray-700 dark:via-gray-700 dark:to-gray-700 text-gray-700 dark:text-gray-200 font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-3 px-4 text-left",children:"Title"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Amount"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Remark"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Date"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Branch"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:X.map((oe,Q)=>a.jsxs(Hr.tr,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.25+Q*.02},className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:[a.jsx("td",{className:"py-3 px-4 border-b",children:oe.title||"Untitled"}),a.jsx("td",{className:"py-3 px-4 border-b",children:(oe.amount||0).toFixed(2)}),a.jsx("td",{className:"py-3 px-4 border-b",children:oe.remark||"-"}),a.jsx("td",{className:"py-3 px-4 border-b",children:Z(oe.date)}),a.jsx("td",{className:"py-3 px-4 border-b",children:ee(oe)}),a.jsx("td",{className:"py-3 px-4 border-b",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>M(oe),className:"px-2 py-1 text-xs rounded-md bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",children:"Edit"}),a.jsx("button",{onClick:()=>V(oe.id),className:"px-2 py-1 text-xs rounded-md bg-rose-50 text-rose-700 border border-rose-200 hover:bg-rose-100 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800",children:"Delete"})]})})]},oe.id))})]})}),a.jsxs("div",{className:"mt-2 text-right font-semibold",children:["Total for ",q,": Rs. ",K.toFixed(2)]})]},q)}),n.length===0&&!I&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No expenses found."})]})})]})},tbe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(new Date().toISOString().slice(0,7)),[s,i]=C.useState(null),[o,l]=C.useState([]),[d,u]=C.useState(null);C.useEffect(()=>{(async()=>{try{const y=await Re.getBranches();l(y)}catch(y){console.error("Failed to fetch branches:",y),Se.error("Failed to load branches")}})()},[]);const h=async()=>{try{const m={month:r,branchId:s},y=await Re.getProfitLoss(m);u(y)}catch(m){console.error("Failed to fetch profit/loss:",m),Se.error("Failed to load profit/loss data")}};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[a.jsx(an,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsxs(Hr.div,{className:"max-w-3xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(Hr.h1,{className:"text-2xl md:text-3xl font-bold mb-2 text-gray-800 dark:text-gray-100 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:"📈 Profit & Loss"}),a.jsx("div",{className:"mb-6 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-sky-500 dark:from-indigo-600 dark:via-fuchsia-600 dark:to-sky-600 shadow-sm ring-1 ring-white/30"}),a.jsxs(Hr.div,{className:"bg-white/95 dark:bg-gray-800/95 rounded-xl shadow-sm p-6 mb-6 border border-gray-200 dark:border-gray-700 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40",initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},transition:{delay:.15},children:[a.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Month"}),a.jsx("input",{type:"month",id:"month",value:r,onChange:m=>n(m.target.value),className:"w-full px-4 py-2 border border-indigo-200 dark:border-indigo-700 rounded-lg bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-300 shadow-sm mb-4"}),a.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Branch"}),a.jsxs("select",{id:"branch",value:s||"",onChange:m=>i(m.target.value?Number(m.target.value):null),className:"w-full px-4 py-2 border border-emerald-200 dark:border-emerald-700 rounded-lg bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-300 shadow-sm mb-4",children:[a.jsx("option",{value:"",children:"All Branches"}),o.map(m=>a.jsx("option",{value:m.id,children:m.name},m.id))]}),a.jsx("button",{onClick:h,className:"w-full sm:w-auto bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white px-6 py-2 rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 ring-1 ring-white/20 transition",children:"Fetch Report"})]}),d&&a.jsx(Hr.div,{className:"rounded-2xl p-[3px] bg-gradient-to-br from-indigo-600/80 via-amber-500/80 to-rose-500/80 shadow-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:a.jsxs("div",{className:"rounded-[14px] bg-white/95 dark:bg-gray-800/95 border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"h-10 bg-gradient-to-r from-indigo-600 to-violet-600 text-white flex items-center px-4 font-semibold",children:"Financial Summary"}),a.jsxs("div",{className:"p-6 space-y-3 text-sm sm:text-base",children:[a.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Month: ",a.jsx("span",{className:"font-semibold",children:d.month})]}),a.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300",children:["Total Collected: ",a.jsx("span",{className:"font-semibold",children:d.totalCollected.toFixed(2)})]}),a.jsxs("p",{className:"text-rose-700 dark:text-rose-300",children:["Total Expenses: ",a.jsx("span",{className:"font-semibold",children:d.totalExpenses.toFixed(2)})]}),a.jsxs("p",{className:`font-semibold ${d.profitLoss>=0?"text-emerald-700 dark:text-emerald-300":"text-rose-700 dark:text-rose-300"}`,children:[d.profitLoss>=0?"Profit":"Loss",": ",Math.abs(d.profitLoss).toFixed(2)]})]})]})})]})})]})},rbe=()=>{const e=new Date().toISOString().slice(0,7),[t,r]=C.useState(!1),[n,s]=C.useState([]),[i,o]=C.useState(!0),[l,d]=C.useState(null),[u,h]=C.useState(""),[m,y]=C.useState(e),[p,b]=C.useState([]),[N,S]=C.useState(""),[w,B]=C.useState([]),[I,_]=C.useState(!1),[P,H]=C.useState(null),[D,L]=C.useState(""),[T,z]=C.useState("cash"),[M,V]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const G=await Re.getHostelBranches();b(G||[])}catch(G){console.error("Failed to fetch branches for filter:",G),Se.error("Failed to load branches for filter.")}})()},[]);const J=async(Q,G)=>{o(!0),d(null);try{const te={};Q&&(te.month=Q),G&&G!==""&&(te.branch_id=G),console.log("[HostelCollectionDue] Fetching collections with params:",te);const se=await Re.getHostelCollections(te);if(console.log("[HostelCollectionDue] API Response (after camelCasing by interceptor):",JSON.stringify(se,null,2)),!se||typeof se!="object")throw console.error("[HostelCollectionDue] Invalid response structure (not an object):",se),new Error("Invalid response structure from server: Response is not an object");if(!Array.isArray(se.collections))throw console.error("[HostelCollectionDue] Invalid response structure (collections not an array):",se),new Error('Invalid response structure from server: Expected "responseData.collections" to be an array');s(se.collections.map(de=>({historyId:de.historyId,studentId:de.studentId,studentName:de.studentName||null,branchId:de.branchId||null,branchName:de.branchName||null,studentPhoneNumber:de.studentPhoneNumber||null,studentRegistrationNumber:de.studentRegistrationNumber||null,studentCurrentRoomNumber:de.studentCurrentRoomNumber||null,studentSecurityMoney:parseFloat(String(de.studentSecurityMoney||0)),stayStartDate:de.stayStartDate,stayEndDate:de.stayEndDate,totalFee:parseFloat(String(de.totalFee||0)),cashPaid:parseFloat(String(de.cashPaid||0)),onlinePaid:parseFloat(String(de.onlinePaid||0)),dueAmount:parseFloat(String(de.dueAmount||0)),historyRemark:de.historyRemark||null,historyCreatedAt:de.historyCreatedAt,historyUpdatedAt:de.historyUpdatedAt||null})))}catch(te){console.error("[HostelCollectionDue] Failed to fetch collections:",te);const se=te.message||"Failed to load collection data";d(se),s([]),Se.error(se)}finally{o(!1)}};C.useEffect(()=>{J(m,N)},[m,N]),C.useEffect(()=>{B(n.filter(Q=>{const G=Q.studentName??"",te=Q.studentCurrentRoomNumber??"",se=Q.studentRegistrationNumber??"",de=Q.studentPhoneNumber??"",ge=Q.branchName??"",ue=u.toLowerCase();return G.toLowerCase().includes(ue)||te.toLowerCase().includes(ue)||se.toLowerCase().includes(ue)||ge.toLowerCase().includes(ue)||de.includes(ue)}))},[n,u]);const Z=w.length,ee=w.reduce((Q,G)=>Q+G.cashPaid+G.onlinePaid,0),q=w.reduce((Q,G)=>Q+G.dueAmount,0),X=w.reduce((Q,G)=>Q+G.cashPaid,0),Y=w.reduce((Q,G)=>Q+G.onlinePaid,0),K=w.reduce((Q,G)=>Q+(G.studentSecurityMoney||0),0),ce=Q=>{H(Q),L(Q.dueAmount>0?Q.dueAmount.toFixed(2):""),z("cash"),_(!0)},oe=async()=>{if(!P){Se.error("No collection selected for payment.");return}if(!D){Se.error("Payment amount is required");return}const Q=parseFloat(D);if(isNaN(Q)||Q<=0){Se.error("Invalid payment amount. Must be greater than 0.");return}if(Q>P.dueAmount+.001){Se.error(`Payment amount (₹${Q.toFixed(2)}) cannot exceed current due amount (₹${P.dueAmount.toFixed(2)}).`);return}V(!0);try{await Re.updateHostelCollectionPayment(String(P.historyId),{payment_amount:Q,payment_type:T}),Se.success("Payment updated successfully"),_(!1),H(null),await J(m,N)}catch(G){console.error("[HostelCollectionDue] Failed to update payment:",G),Se.error(G.message||"Failed to update payment")}finally{V(!1)}};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(an,{isCollapsed:t,setIsCollapsed:r}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsxs(Hr.div,{className:"max-w-full mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(Hr.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:"📊 Hostel Collections & Due"}),a.jsx("p",{className:"text-gray-600 mb-6 text-sm md:text-base",children:"View and manage hostel student payment history and dues."}),a.jsxs(Hr.div,{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:[a.jsx("input",{type:"text",placeholder:"Search by Name, Room, Reg No, Phone...",value:u,onChange:Q=>h(Q.target.value),className:"md:col-span-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base"}),a.jsx("input",{type:"month",value:m,onChange:Q=>y(Q.target.value),className:"p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base"}),a.jsxs("select",{value:N,onChange:Q=>S(Q.target.value),className:"p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base",children:[a.jsx("option",{value:"",children:"All Branches"}),p.map(Q=>a.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),a.jsxs(Hr.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Filtered Records"}),a.jsx("p",{className:"text-xl font-bold text-gray-800",children:Z})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Collected"}),a.jsxs("p",{className:"text-xl font-bold text-green-600",children:["₹",ee.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Security Money"}),a.jsxs("p",{className:"text-xl font-bold text-orange-600",children:["₹",K.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Due"}),a.jsxs("p",{className:"text-xl font-bold text-red-600",children:["₹",q.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Cash Collected"}),a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["₹",X.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Online Collected"}),a.jsxs("p",{className:"text-xl font-bold text-purple-600",children:["₹",Y.toFixed(2)]})]})]}),i&&a.jsx("div",{className:"text-center text-gray-500 py-10",children:"Loading collections..."}),l&&!i&&a.jsxs("div",{className:"text-center text-red-500 py-10",children:["Error: ",l]}),!i&&!l&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Student Name"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Current Room (M)"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Security Money"})," ",a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Reg. No"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Stay Start"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Stay End"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Total Fee"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Cash Paid"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Online Paid"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Due Amount"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Remark (H)"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Created (H)"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:15,className:"px-3 py-4 text-center text-gray-500",children:[" ","No collections found for the selected criteria."]})}):w.map(Q=>a.jsxs(Hr.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.studentName||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.branchName||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.studentCurrentRoomNumber||"N/A"}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["₹",(Q.studentSecurityMoney||0).toFixed(2)]})," ",a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.studentRegistrationNumber||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.studentPhoneNumber||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.stayStartDate?new Date(Q.stayStartDate).toLocaleDateString():"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.stayEndDate?new Date(Q.stayEndDate).toLocaleDateString():"N/A"}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["₹",Q.totalFee.toFixed(2)]}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["₹",Q.cashPaid.toFixed(2)]}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["₹",Q.onlinePaid.toFixed(2)]}),a.jsxs("td",{className:`px-3 py-4 whitespace-nowrap text-right font-semibold ${Q.dueAmount>0?"text-red-600":"text-green-600"}`,children:["₹",Q.dueAmount.toFixed(2)]}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap truncate max-w-xs",title:Q.historyRemark||"",children:Q.historyRemark||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.historyCreatedAt?new Date(Q.historyCreatedAt).toLocaleString():"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:Q.dueAmount>0&&a.jsx("button",{onClick:()=>ce(Q),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Pay Due"})})]},Q.historyId))})]})}),I&&P&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm",children:a.jsxs(Hr.div,{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full m-4",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},children:[a.jsxs("h3",{className:"text-lg font-semibold mb-1 text-gray-800",children:["Pay Due for ",P.studentName||"N/A"]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Room: ",P.studentCurrentRoomNumber||"N/A"," | Branch: ",P.branchName||"N/A"]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Current Due: ",a.jsxs("span",{className:"font-bold text-red-600",children:["₹",P.dueAmount.toFixed(2)]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount"}),a.jsx("input",{id:"paymentAmount",type:"number",value:D,onChange:Q=>L(Q.target.value),placeholder:"Enter payment amount",className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400",step:"0.01",min:"0.01",max:P.dueAmount.toString(),required:!0})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"paymentType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Type"}),a.jsxs("select",{id:"paymentType",value:T,onChange:Q=>z(Q.target.value),className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400",children:[a.jsx("option",{value:"cash",children:"Cash"}),a.jsx("option",{value:"online",children:"Online"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",children:"Cancel"}),a.jsx("button",{type:"button",onClick:oe,disabled:M,className:"px-4 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:bg-purple-300",children:M?"Processing...":"Submit Payment"})]})]})})]})})]})},nbe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(null),[d,u]=C.useState(!1),[h,m]=C.useState(null),[y,p]=C.useState(""),[b,N]=C.useState(""),[S,w]=C.useState(""),[B,I]=C.useState(""),[_,P]=C.useState(""),[H,D]=C.useState(""),[L,T]=C.useState(""),[z,M]=C.useState(0),[V,J]=C.useState(0);C.useEffect(()=>{(async()=>{try{const X=await Re.getExpiredHostelStudents();if(!X||!Array.isArray(X.expiredStudents))throw new Error("Invalid data structure received from server");n(X.expiredStudents),l(null)}catch(X){console.error("Failed to fetch expired students:",X),l(X.message||"Failed to fetch expired students"),n([]),Se.error(X.message||"Failed to fetch expired students")}finally{i(!1)}})()},[]),C.useEffect(()=>{const q=parseFloat(B)||0,X=parseFloat(_)||0,Y=q+X,ce=(parseFloat(S)||0)-Y;M(Y),J(ce>=0?ce:0)},[B,_,S]);const Z=q=>{m(q),p(""),N(""),w(""),I(""),P(""),D(""),T(""),u(!0)},ee=async()=>{if(!h||!y||!b||!S){Se.error("Required fields are missing");return}try{await Re.renewHostelStudent(h.id,{stay_start_date:y,stay_end_date:b,total_fee:parseFloat(S),cash_paid:parseFloat(B)||0,online_paid:parseFloat(_)||0,room_number:H,remark:L}),Se.success("Student renewed successfully"),u(!1);const q=await Re.getExpiredHostelStudents();q&&Array.isArray(q.expiredStudents)?n(q.expiredStudents):(n([]),Se.error("Invalid data structure received after renewal"))}catch(q){Se.error(q.message||"Failed to renew student")}};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(an,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:s?a.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):o?a.jsx("div",{className:"text-center text-red-500",children:o}):a.jsxs(Hr.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(Hr.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:"⏰ Expired Hostel Memberships"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aadhar"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Latest End Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-4 text-center text-gray-500",children:"No expired memberships found"})}):r.map(q=>a.jsxs(Hr.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.name||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.phoneNumber||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.aadharNumber||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.latestStayEndDate?new Date(q.latestStayEndDate).toLocaleDateString():"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:a.jsx("button",{onClick:()=>Z(q),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Renew"})})]},q.id))})]})}),d&&h&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Renew Membership for ",h.name]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),a.jsx("input",{type:"date",value:y,onChange:q=>p(q.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),a.jsx("input",{type:"date",value:b,onChange:q=>N(q.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee"}),a.jsx("input",{type:"number",step:"0.01",value:S,onChange:q=>w(q.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Paid"}),a.jsx("input",{type:"number",step:"0.01",value:B,onChange:q=>I(q.target.value),className:"w-full p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Paid"}),a.jsx("input",{type:"number",step:"0.01",value:_,onChange:q=>P(q.target.value),className:"w-full p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Paid"}),a.jsx("input",{type:"text",value:`₹${z.toFixed(2)}`,disabled:!0,className:"w-full p-2 border rounded-md bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),a.jsx("input",{type:"text",value:`₹${V.toFixed(2)}`,disabled:!0,className:"w-full p-2 border rounded-md bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),a.jsx("input",{type:"text",value:H,onChange:q=>D(q.target.value),className:"w-full p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{value:L,onChange:q=>T(q.target.value),className:"w-full p-2 border rounded-md",rows:3})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border rounded-md text-gray-600 hover:bg-gray-100",children:"Cancel"}),a.jsx("button",{onClick:ee,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Renew"})]})]})})]})})]})},sbe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState({name:"",code:"",address:"",phone:"",email:""}),[s,i]=C.useState(null),[o,l]=C.useState(!1),[d,u]=C.useState(""),[h,m]=C.useState("grid"),[y,p]=C.useState(!1),[b,N]=C.useState(!0),{refreshUser:S}=Ys(),w=[{bg:"bg-blue-50 dark:bg-blue-950/30",text:"text-blue-700 dark:text-blue-300",border:"border-blue-200 dark:border-blue-800/50",accent:"from-blue-500 to-sky-600",hover:"hover:border-blue-400 dark:hover:border-blue-600/50",badge:"bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-200"},{bg:"bg-emerald-50 dark:bg-emerald-950/30",text:"text-emerald-700 dark:text-emerald-300",border:"border-emerald-200 dark:border-emerald-800/50",accent:"from-emerald-500 to-teal-600",hover:"hover:border-emerald-400 dark:hover:border-emerald-600/50",badge:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200"},{bg:"bg-purple-50 dark:bg-purple-950/30",text:"text-purple-700 dark:text-purple-300",border:"border-purple-200 dark:border-purple-800/50",accent:"from-purple-500 to-violet-600",hover:"hover:border-purple-400 dark:hover:border-purple-600/50",badge:"bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-200"},{bg:"bg-amber-50 dark:bg-amber-950/30",text:"text-amber-700 dark:text-amber-300",border:"border-amber-200 dark:border-amber-800/50",accent:"from-amber-500 to-orange-600",hover:"hover:border-amber-400 dark:hover:border-amber-600/50",badge:"bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200"},{bg:"bg-rose-50 dark:bg-rose-950/30",text:"text-rose-700 dark:text-rose-300",border:"border-rose-200 dark:border-rose-800/50",accent:"from-rose-500 to-pink-600",hover:"hover:border-rose-400 dark:hover:border-rose-600/50",badge:"bg-rose-100 text-rose-800 dark:bg-rose-900/40 dark:text-rose-200"},{bg:"bg-indigo-50 dark:bg-indigo-950/30",text:"text-indigo-700 dark:text-indigo-300",border:"border-indigo-200 dark:border-indigo-800/50",accent:"from-indigo-500 to-blue-600",hover:"hover:border-indigo-400 dark:hover:border-indigo-600/50",badge:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/40 dark:text-indigo-200"}],B=L=>w[L%w.length];C.useEffect(()=>{(async()=>{N(!0);try{await S();const T=await Re.getBranches(),z=await Promise.all((T||[]).map(async M=>{try{const V={studentCount:Math.floor(Math.random()*150)+10},J=M.id%w.length,Z=B(M.id);return{...M,studentCount:V.studentCount||0,color:Z.badge,cardBg:`${Z.bg} ${Z.border} ${Z.hover} transition-colors duration-200`,accentGradient:Z.accent}}catch(V){console.error(`Failed to fetch stats for branch ${M.id}:`,V);const J=M.id%w.length,Z=B(M.id);return{...M,studentCount:0,color:Z.badge,cardBg:`${Z.bg} ${Z.border} ${Z.hover} transition-colors duration-200`,accentGradient:Z.accent}}}));t(z)}catch(T){console.error("Failed to load branches:",T),Se.error(T.message||"Could not fetch branches"),t([])}finally{N(!1)}})()},[S]);const I=L=>{const{name:T,value:z}=L.target;n(M=>T in M?{...M,[T]:z}:M)},_=async()=>{try{if(await S(),s){const L=await Re.updateBranch(s.id,r);t(T=>T.map(z=>z.id===L.id?L:z)),i(null)}else{const L=await Re.addBranch(r);t(T=>[...T,L]),n({name:"",code:"",address:"",phone:"",email:""})}Se.success("Branch saved successfully")}catch(L){console.error("Save error:",L),Se.error(L.message||"Failed to save branch")}},P=async L=>{if(window.confirm("Are you sure?"))try{await S(),await Re.deleteBranch(L),t(T=>T.filter(z=>z.id!==L)),Se.success("Branch deleted")}catch(T){console.error("Delete error:",T),Se.error(T.message||"Failed to delete branch")}},H=e.filter(L=>{var T;return L.name.toLowerCase().includes(d.toLowerCase())||((T=L.code)==null?void 0:T.toLowerCase().includes(d.toLowerCase()))}),D=L=>{L.preventDefault(),_()};return a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(an,{isCollapsed:o,setIsCollapsed:l,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:"Manage Branches"}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[H.length," ",H.length===1?"branch":"branches"," found"]})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-4 sm:mt-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search branches...",className:"pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white/50 dark:bg-gray-800/50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:d,onChange:L=>u(L.target.value)})]}),a.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border border-gray-200 dark:border-gray-700",children:[a.jsx("button",{onClick:()=>m("grid"),className:`p-2 rounded-md ${h==="grid"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:a.jsx(LS,{size:18})}),a.jsx("button",{onClick:()=>m("list"),className:`p-2 rounded-md ${h==="list"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:a.jsx(GO,{size:18})})]}),a.jsxs("button",{onClick:()=>{n({name:"",code:"",address:"",phone:"",email:""}),i(null),p(!0)},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-colors shadow-sm",children:[a.jsx(FA,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Add Branch"})]})]})]}),a.jsx(oxe,{children:y&&a.jsx(Hr.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 mb-6 overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[a.jsx("span",{className:"w-3 h-3 rounded-full mr-2 bg-indigo-500"}),s?"Edit Branch":"Add New Branch"]}),a.jsx("button",{onClick:()=>{p(!1),i(null)},className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:a.jsx(eo,{size:20})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Branch Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:r.name,onChange:I,placeholder:"Enter branch name",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 dark:bg-gray-700/50",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Branch Code"}),a.jsx("input",{type:"text",name:"code",value:r.code,onChange:I,placeholder:"e.g., BR-001",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 dark:bg-gray-700/50"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),a.jsx("input",{type:"text",name:"address",value:r.address,onChange:I,placeholder:"Enter full address",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 dark:bg-gray-700/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),a.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:I,placeholder:"+1 (555) 000-0000",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 dark:bg-gray-700/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:r.email,onChange:I,placeholder:"branch@example.com",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 dark:bg-gray-700/50"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 dark:border-gray-700 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>{p(!1),i(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-colors flex items-center gap-2",children:[a.jsx(Ig,{size:16}),s?"Update Branch":"Add Branch"]})]})]})]})})}),b?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):H.length===0?a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center mb-4",children:a.jsx(jo,{size:32,className:"text-indigo-500"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"No branches found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4 max-w-md mx-auto",children:d?"No branches match your search. Try a different term.":"Get started by adding your first branch."}),!d&&a.jsxs("button",{onClick:()=>{n({name:"",code:"",address:"",phone:"",email:""}),i(null),p(!0)},className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm font-medium",children:[a.jsx(FA,{size:16,className:"mr-2"}),"Add Branch"]})]}):h==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(L=>a.jsx(Hr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"group relative",children:a.jsxs("div",{className:`p-6 rounded-lg shadow-sm transition-all duration-300 hover:shadow-lg hover:-translate-y-1 border-l-4 ${L.accentGradient?`border-l-4 bg-gradient-to-r ${L.accentGradient} bg-[length:200%_100%] hover:bg-[100%_100%]`:""} ${L.cardBg} group cursor-pointer`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center mb-2",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium shadow-sm ${L.color}`,children:L.code||"BR-"+L.id.toString().padStart(3,"0")})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:L.name})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{n({name:L.name,code:L.code||"",address:L.address||"",phone:L.phone||"",email:L.email||""}),i(L),p(!0)},className:"p-1.5 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Edit branch",children:a.jsx(SN,{size:16})}),a.jsx("button",{onClick:()=>P(L.id),className:"p-1.5 rounded-md text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors","aria-label":"Delete branch",children:a.jsx(Xs,{size:16})})]})]}),a.jsxs("div",{className:"mt-4 space-y-3 text-sm",children:[L.address&&a.jsxs("div",{className:"flex items-start",children:[a.jsx(jo,{className:"flex-shrink-0 h-4 w-4 text-gray-400 mt-0.5 mr-2"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:L.address})]}),(L.phone||L.email)&&a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:[L.phone&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(di,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("a",{href:`tel:${L.phone}`,className:"text-indigo-600 dark:text-indigo-400 hover:underline",children:L.phone})]}),L.email&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gl,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("a",{href:`mailto:${L.email}`,className:"text-indigo-600 dark:text-indigo-400 hover:underline truncate",children:L.email})]})]})]})]})},L.id))}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700/50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:"Branch Name"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:"Code"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{scope:"col",className:"relative px-6 py-4",children:a.jsx("span",{className:"sr-only",children:"Actions"})})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:H.map(L=>a.jsxs(Hr.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors duration-200",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-lg flex items-center justify-center mr-3 shadow-sm ${L.color}`,children:a.jsx(jo,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.name}),L.address&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs",children:L.address})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${L.color}`,children:L.code||"BR-"+L.id.toString().padStart(3,"0")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[L.phone&&a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:a.jsx("a",{href:`tel:${L.phone}`,className:"hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:L.phone})}),L.email&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs",children:a.jsx("a",{href:`mailto:${L.email}`,className:"hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:L.email})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>{n({name:L.name,code:L.code||"",address:L.address||"",phone:L.phone||"",email:L.email||""}),i(L),p(!0)},className:"text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition-colors p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Edit branch",children:a.jsx(SN,{size:16})}),a.jsx("button",{onClick:()=>P(L.id),className:"text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20",title:"Delete branch",children:a.jsx(Xs,{size:16})})]})})]},L.id))})]})})})]})})]})]})},abe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState({name:""}),[s,i]=C.useState(null),[o,l]=C.useState(!1),d=()=>{};C.useEffect(()=>{(async()=>{const b=await Re.getProducts();t(b)})()},[]);const u=p=>{const{name:b,value:N}=p.target;n(S=>({...S,[b]:N}))},h=async()=>{try{if(s){const p=await Re.updateProduct(s.id,r);t(b=>b.map(N=>N.id===p.id?p:N)),i(null)}else{const p=await Re.addProduct(r);t(b=>[...b,p]),n({name:""})}Se.success("Product saved successfully")}catch{Se.error("Failed to save product")}},m=p=>{i(p),n({name:p.name})},y=async p=>{window.confirm("Are you sure?")&&(await Re.deleteProduct(p),t(b=>b.filter(N=>N.id!==p)),Se.success("Product deleted"))};return a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(an,{isCollapsed:o,setIsCollapsed:l,onBarcodeClick:d}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-4 sm:mb-6",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100",children:"Products"}),a.jsx("div",{className:"mt-3 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-sky-500 dark:from-indigo-600 dark:via-fuchsia-600 dark:to-sky-600 shadow-sm ring-1 ring-white/30"})]}),a.jsx("div",{className:"bg-white/95 dark:bg-gray-800/95 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[a.jsx("input",{name:"name",value:r.name,onChange:u,placeholder:"Product Name",className:"w-full sm:w-auto flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white/95 dark:bg-gray-700/80 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-300 shadow-sm"}),a.jsxs("button",{onClick:h,className:"px-4 py-2 bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 ring-1 ring-white/20",children:[s?"Update":"Add"," Product"]})]})}),a.jsx("div",{className:"bg-white/95 dark:bg-gray-800/95 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[480px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-indigo-50 via-fuchsia-50 to-sky-50 dark:from-gray-700 dark:via-gray-700 dark:to-gray-700",children:[a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-semibold text-gray-600 dark:text-gray-200",children:"Name"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-semibold text-gray-600 dark:text-gray-200",children:"Actions"})]})}),a.jsx("tbody",{children:e.map(p=>a.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[a.jsx("td",{className:"px-4 sm:px-6 py-3 text-gray-800 dark:text-gray-100",children:p.name}),a.jsx("td",{className:"px-4 sm:px-6 py-3",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>m(p),className:"px-2 py-1 text-xs rounded-md bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",children:"Edit"}),a.jsx("button",{onClick:()=>y(p.id),className:"px-2 py-1 text-xs rounded-md bg-rose-50 text-rose-700 border border-rose-200 hover:bg-rose-100 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800",children:"Delete"})]})})]},p.id))})]})})]})})]})]})},ibe=()=>{const e=Ur();try{const o=Ys();if(!o||!o.user)throw new Error("Auth context is not available")}catch(o){return console.error("Auth context error:",o),Se.error("Authentication error. Please log in again."),e("/login"),null}const[t,r]=C.useState({totalStudents:0,branches:[],expiredCount:0,totalCollection:0,totalDue:0}),[n,s]=C.useState(!0),i=async()=>{var o;s(!0);try{const[l,d,u,h]=await Promise.all([Re.getHostelBranches(),Re.getHostelStudents(),Re.getExpiredHostelStudents(),Re.getHostelCollections()]),m=(d??[]).reduce((w,B)=>{const I=B.branchId;return I&&(w[I]=(w[I]||0)+1),w},{}),y=(Array.isArray(l)?l:[]).map(w=>({...w,studentCount:m[w.id]||0})),p=((o=u==null?void 0:u.expiredStudents)==null?void 0:o.length)??0,b=(h==null?void 0:h.collections)??[],N=b.reduce((w,B)=>w+parseFloat(String(B.cashPaid||0))+parseFloat(String(B.onlinePaid||0)),0),S=b.reduce((w,B)=>w+parseFloat(String(B.dueAmount||0)),0);r({totalStudents:Array.isArray(d)?d.length:0,branches:y,expiredCount:p,totalCollection:N,totalDue:S})}catch(l){Se.error("Failed to load hostel statistics"),console.error("Error fetching hostel stats:",l)}finally{s(!1)}};return C.useEffect(()=>{i()},[]),a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(an,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Hostel Dashboard"}),a.jsx("div",{className:"my-8",children:n?a.jsx("div",{className:"text-center p-4 bg-white rounded-lg shadow",children:"Loading hostel stats..."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx(Hn,{title:"Total Hostel Students",value:t.totalStudents,icon:a.jsx(ui,{className:"h-6 w-6 text-cyan-500"}),iconBgColor:"bg-cyan-100",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-cyan-400"})}),a.jsx(Tt,{to:"/hostel/collections",className:"block",children:a.jsx(Hn,{title:"Total Hostel Collection",value:t.totalCollection,icon:a.jsx(ef,{className:"h-6 w-6 text-green-500"}),iconBgColor:"bg-green-100",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-green-400"})})}),a.jsx(Tt,{to:"/hostel/collections",className:"block",children:a.jsx(Hn,{title:"Total Hostel Due",value:t.totalDue,icon:a.jsx(na,{className:"h-6 w-6 text-red-500"}),iconBgColor:"bg-red-100",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-red-400"})})}),a.jsx(Tt,{to:"/hostel/expired",className:"block",children:a.jsx(Hn,{title:"Expired Students",value:t.expiredCount,icon:a.jsx(Ii,{className:"h-6 w-6 text-orange-500"}),iconBgColor:"bg-orange-100",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-orange-400"})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:"Branch Details"}),t.branches.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.branches.map(o=>a.jsxs(Tt,{to:`/hostel/branches/${o.id}/students`,className:"block p-4 bg-white rounded-lg shadow-md hover:shadow-lg hover:scale-105 transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-semibold text-lg text-gray-800 truncate",children:o.name}),a.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:a.jsx(_S,{className:"h-5 w-5 text-indigo-500"})})]}),a.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-600",children:[a.jsx(ui,{className:"h-4 w-4 mr-2 text-gray-400"}),a.jsxs("span",{children:[o.studentCount," Students"]})]})]},o.id))}):a.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center text-gray-500",children:"No hostel branches have been added yet."})]})]})})]})})]})]})},obe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(null);return C.useEffect(()=>{(async()=>{i(!0),l(null);try{const u=await Re.getHostelStudents();if(!Array.isArray(u))throw new Error("Invalid data received from server");const h=new Date;h.setHours(0,0,0,0);const m=u.filter(y=>y.stayEndDate?new Date(y.stayEndDate)>=h:!1).map(y=>({id:y.id,name:y.name,phoneNumber:y.studentPhoneNumber||"N/A",branchName:y.branchName||"N/A",stayEndDate:new Date(y.stayEndDate).toLocaleDateString()}));n(m)}catch(u){console.error("Failed to fetch active students:",u);const h=u.message||"Failed to fetch active students";l(h),Se.error(h)}finally{i(!1)}})()},[]),a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(an,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:s?a.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):o?a.jsx("div",{className:"text-center text-red-500",children:o}):a.jsxs(Hr.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(Hr.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:"✅ Active Hostel Students"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Membership End Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-4 py-4 text-center text-gray-500",children:"No active students found."})}):r.map(d=>a.jsxs(Hr.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:d.name}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:d.phoneNumber}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:d.branchName}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:d.stayEndDate})]},d.id))})]})})]})})]})},lbe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState("card"),[d,u]=C.useState(""),[h,m]=C.useState(1),[y,p]=C.useState(12),b=fl();Ur();const N=async()=>{try{n(!0);const P=await Re.getInactiveStudents();t(P.students)}catch(P){console.error("Failed to fetch inactive students:",P.message),Se.error("Failed to fetch inactive students")}finally{n(!1)}};C.useEffect(()=>{N()},[]);const S=async P=>{if(window.confirm("Are you sure you want to reactivate this student?"))try{await Re.updateStudentStatus(P,{isActive:!0}),Se.success("Student activated successfully"),N()}catch(H){console.error("Failed to activate student:",H.message),Se.error("Failed to activate student")}},w=e.filter(P=>P.name.toLowerCase().includes(d.toLowerCase())||P.phone&&P.phone.includes(d)||P.registrationNumber&&P.registrationNumber.toLowerCase().includes(d.toLowerCase())||P.branchName&&P.branchName.toLowerCase().includes(d.toLowerCase())),B=h*y,I=B-y,_=w.slice(I,B);return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(an,{isCollapsed:s,setIsCollapsed:i,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"border-b bg-white/80 backdrop-blur-md",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex gap-3 overflow-x-auto py-3",children:[a.jsxs(Tt,{to:"/students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-indigo-50 via-sky-50 to-indigo-100 text-indigo-700 ring-1 ring-indigo-200/50 ${b.pathname.startsWith("/students")&&!b.pathname.startsWith("/students/")?"ring-2 ring-indigo-300":""}`,children:[a.jsx(ui,{className:"h-4 w-4"}),"All Students"]}),a.jsxs(Tt,{to:"/active-students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-emerald-50 via-teal-50 to-emerald-100 text-emerald-700 ring-1 ring-emerald-200/50 ${b.pathname.startsWith("/active-students")?"ring-2 ring-emerald-300":""}`,children:[a.jsx(Ii,{className:"h-4 w-4"}),"Active Students"]}),a.jsxs(Tt,{to:"/expired-memberships",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-rose-50 via-pink-50 to-rose-100 text-rose-700 ring-1 ring-rose-200/50 ${b.pathname.startsWith("/expired-memberships")?"ring-2 ring-rose-300":""}`,children:[a.jsx(na,{className:"h-4 w-4"}),"Expired Memberships"]}),a.jsxs(Tt,{to:"/expiring-memberships?range=1-2",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-amber-50 via-orange-50 to-amber-100 text-amber-700 ring-1 ring-amber-200/50 ${b.pathname.startsWith("/expiring-memberships")?"ring-2 ring-amber-300":""}`,children:[a.jsx(Zn,{className:"h-4 w-4"}),"Expiring 1–2 Days"]})]})})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Inactive Students"}),a.jsx("p",{className:"text-gray-500",children:"List of all manually deactivated students."})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("h3",{className:"text-lg font-medium flex-1",children:"Inactive Students"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>l("list"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${o==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"List View",children:[a.jsx(kA,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"List"})]}),a.jsxs("button",{onClick:()=>l("card"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${o==="card"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Card View",children:[a.jsx(Qd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Cards"})]})]})]}),a.jsx("div",{className:"relative w-full md:w-64",children:a.jsx("input",{type:"text",placeholder:"Search inactive students...",className:"w-full pl-3 pr-3 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:d,onChange:P=>u(P.target.value)})})]}),o==="list"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Zd,{children:[a.jsx(Jd,{children:a.jsxs(ks,{children:[a.jsx(hr,{children:"Name"}),a.jsx(hr,{children:"Registration Number"}),a.jsx(hr,{children:"Phone"}),a.jsx(hr,{children:"Branch"}),a.jsx(hr,{children:"Actions"})]})}),a.jsx(eu,{children:r?a.jsx(ks,{children:a.jsx(sr,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):w.length>0?_.map(P=>a.jsxs(ks,{children:[a.jsx(sr,{children:P.name}),a.jsx(sr,{children:P.registrationNumber||"N/A"}),a.jsx(sr,{children:P.phone}),a.jsx(sr,{children:P.branchName||"N/A"}),a.jsx(sr,{children:a.jsxs("button",{onClick:()=>S(P.id),className:"flex items-center gap-2 text-green-600 hover:text-green-800 font-semibold p-2",title:"Reactivate Student",children:[a.jsx(Ww,{size:18}),a.jsx("span",{children:"Activate"})]})})]},P.id)):a.jsx(ks,{children:a.jsx(sr,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No inactive students found."})})})]})}):a.jsx("div",{className:"p-4",children:r?a.jsx("div",{className:"text-center text-gray-500 py-8",children:"Loading..."}):_.length>0?a.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-stretch",children:_.map(P=>a.jsxs("div",{className:"rounded-xl border shadow-md p-4 flex flex-col h-full bg-gradient-to-br from-amber-50 via-orange-50 to-amber-100 border-amber-200 ring-1 ring-white/60 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:P.name}),a.jsxs("p",{className:"mt-0.5 text-xs text-gray-600 flex items-center gap-1",children:[a.jsx(TS,{className:"h-3.5 w-3.5 text-amber-500/80"})," Reg: ",P.registrationNumber||"N/A"]})]}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800",children:"Inactive"})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(di,{className:"h-3.5 w-3.5 text-slate-400"})," Phone"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:P.phone})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(_o,{className:"h-3.5 w-3.5 text-slate-400"})," Branch"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:P.branchName||"N/A"})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60 col-span-2",children:[a.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-600",children:"Actions"}),a.jsx("div",{className:"mt-1",children:a.jsxs("button",{onClick:()=>S(P.id),className:"inline-flex items-center gap-2 text-green-700 bg-green-50 hover:bg-green-100 border border-green-200 px-3 py-1.5 rounded-md text-sm font-semibold",title:"Reactivate Student",children:[a.jsx(Ww,{size:16})," Activate"]})})]})]})]},P.id))}):a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No inactive students found."})})]}),!r&&w.length>0&&a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border-t p-4 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:y,onChange:P=>{p(Number(P.target.value)),m(1)},className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:12,children:"12"}),a.jsx("option",{value:24,children:"24"}),a.jsx("option",{value:48,children:"48"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"per page"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{disabled:h===1,onClick:()=>m(P=>Math.max(1,P-1)),className:"px-3 py-1.5 rounded-md border text-sm disabled:opacity-50",children:"Prev"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",h," of ",Math.max(1,Math.ceil(w.length/y))]}),a.jsx("button",{disabled:B>=w.length,onClick:()=>m(P=>P+1),className:"px-3 py-1.5 rounded-md border text-sm disabled:opacity-50",children:"Next"})]})]})]})})]})]})},cbe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState([]),[s,i]=C.useState(null),[o,l]=C.useState(!0),[d,u]=C.useState(null),[h,m]=C.useState({lockerNumber:"",branchId:null}),[y,p]=C.useState(!1),b=()=>{};C.useEffect(()=>{(async()=>{try{const H=await Re.getBranches();n(H)}catch(H){Se.error("Failed to load branches"),console.error("Failed to fetch branches:",H)}finally{l(!1)}})()},[]),C.useEffect(()=>{(async()=>{if(s&&s.value){l(!0);try{const H=await Re.getLockers(s.value);t(H.lockers)}catch(H){Se.error("Failed to load lockers for this branch"),console.error("Failed to fetch lockers:",H)}finally{l(!1)}}else t([])})()},[s]);const N=async()=>{if(!h.lockerNumber){Se.error("Locker number is required");return}if(!s||!s.value){Se.error("Please select a branch first");return}try{const P=await Re.createLocker({lockerNumber:h.lockerNumber,branchId:s.value});t(H=>[P.locker,...H]),m({lockerNumber:"",branchId:null}),Se.success("Locker created successfully")}catch(P){console.error("Failed to create locker:",P),Se.error(P.message||"Failed to create locker")}},S=async()=>{if(!d||!h.lockerNumber||!h.branchId){Se.error("Locker number and branch are required");return}try{const P=await Re.updateLocker(d.id,{lockerNumber:h.lockerNumber,branchId:h.branchId});if(s&&s.value){const H=await Re.getLockers(s.value);t(H.lockers)}u(null),m({lockerNumber:"",branchId:null}),Se.success("Locker updated successfully")}catch(P){console.error("Failed to update locker:",P),Se.error(P.message||"Failed to update locker")}},w=async P=>{if(window.confirm("Are you sure you want to delete this locker? This action cannot be undone."))try{await Re.deleteLocker(P),t(e.filter(H=>H.id!==P)),Se.success("Locker deleted successfully")}catch(H){console.error("Failed to delete locker:",H),Se.error(H.message||"Failed to delete locker")}},B=r.map(P=>({value:P.id,label:P.name})),I=P=>{u(P),m({lockerNumber:P.lockerNumber,branchId:P.branchId||null})},_=()=>{u(null),m({lockerNumber:"",branchId:null})};return a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(an,{isCollapsed:y,setIsCollapsed:p,onBarcodeClick:b}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2 sm:mb-3 text-gray-800 dark:text-gray-100",children:"Locker Management"}),a.jsx("div",{className:"mb-6 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-sky-500 dark:from-indigo-600 dark:via-fuchsia-600 dark:to-sky-600 shadow-sm ring-1 ring-white/30"}),a.jsxs("div",{className:"mb-6 max-w-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Branch"}),a.jsx(Ni,{options:B,value:s,onChange:P=>i(P),placeholder:"Select a branch to view lockers",isClearable:!0})]}),a.jsxs("div",{className:`mb-6 bg-white/95 dark:bg-gray-800/95 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40 ${s?"":"opacity-50"}`,children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:d?`Editing Locker: ${d.lockerNumber}`:"Add New Locker"}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[a.jsx("input",{type:"text",value:h.lockerNumber,onChange:P=>m(H=>({...H,lockerNumber:P.target.value})),placeholder:"Enter locker number",className:"flex-1 px-4 py-2 border border-indigo-200 dark:border-indigo-700 rounded-lg bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-300 shadow-sm",disabled:!s&&!d}),d&&a.jsx("div",{className:"w-full sm:w-48",children:a.jsx(Ni,{options:B,value:B.find(P=>P.value===h.branchId),onChange:P=>m(H=>({...H,branchId:(P==null?void 0:P.value)||null}))})}),d?a.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[a.jsxs("button",{onClick:S,className:"flex items-center px-4 py-2 bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 ring-1 ring-white/20",children:[a.jsx(Fg,{size:16,className:"mr-2"})," Save"]}),a.jsxs("button",{onClick:_,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[a.jsx(eo,{size:16,className:"mr-2"})," Cancel"]})]}):a.jsxs("button",{onClick:N,disabled:!s,className:"flex items-center px-4 py-2 bg-gradient-to-r from-emerald-600 to-teal-500 text-white rounded-md shadow-md hover:from-emerald-500 hover:to-teal-400 disabled:bg-gray-400",children:[a.jsx(FA,{size:16,className:"mr-2"})," Add Locker"]})]}),!s&&!d&&a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Please select a branch to add a new locker."})]}),a.jsx("div",{className:"bg-white/95 dark:bg-gray-800/95 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-indigo-50 via-amber-50 to-rose-50 dark:from-gray-700 dark:via-gray-700 dark:to-gray-700",children:[a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Locker Number"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Branch"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Status"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Assigned Student"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-4",children:"Loading..."})}):e.length>0?e.map(P=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 sm:px-6 py-4 font-medium",children:P.lockerNumber}),a.jsx("td",{className:"px-4 sm:px-6 py-4 text-gray-600",children:P.branchName}),a.jsx("td",{className:"px-4 sm:px-6 py-4",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${P.isAssigned?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:P.isAssigned?"Assigned":"Available"})}),a.jsx("td",{className:"px-4 sm:px-6 py-4 text-gray-600",children:P.studentName||"N/A"}),a.jsx("td",{className:"px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[a.jsx("button",{onClick:()=>I(P),className:"px-2 py-1 text-xs rounded-md bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",title:"Edit Locker",children:a.jsx(MS,{size:16})}),a.jsx("button",{onClick:()=>w(P.id),className:"px-2 py-1 text-xs rounded-md bg-rose-50 text-rose-700 border border-rose-200 hover:bg-rose-100 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800",title:"Delete Locker",children:a.jsx(Xs,{size:16})})]})})]},P.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:s?"No lockers found for this branch.":"Please select a branch to view lockers."})})})]})})]})})]})]})},dbe=()=>{var te;const[e,t]=C.useState([]),[r,n]=C.useState(null),[s,i]=C.useState(!0),[o,l]=C.useState(""),[d,u]=C.useState(new Date().toISOString().split("T")[0]),[h,m]=C.useState(!1),[y,p]=C.useState(!1),[b,N]=C.useState(null),[S,w]=C.useState("daily"),[B,I]=C.useState(!1),[_,P]=C.useState({startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[H,D]=C.useState(new Date().toISOString().slice(0,7)),[L,T]=C.useState("all"),[z,M]=C.useState({page:1,limit:50,total:0}),V=se=>{l(se),M(de=>({...de,page:1}))},J=se=>{D(se),M(de=>({...de,page:1}))},Z=se=>{w(se),M(de=>({...de,page:1}))},ee=se=>{T(se),M(de=>({...de,page:1}))},q=()=>{l(""),u(new Date().toISOString().split("T")[0]),D(new Date().toISOString().slice(0,7)),T("all"),I(!1),M(se=>({...se,page:1}))};C.useEffect(()=>{Y(),K(),X()},[S,d,H,L,o,z.page]);const X=async()=>{try{const se=await Re.getLibraryProfile();N({id:se.library.id,library_code:se.library.libraryCode,name:se.library.libraryName})}catch(se){console.error("Error loading library info:",se)}},Y=async()=>{i(!0);try{const se={page:z.page,limit:z.limit,view:S,search:o.trim()};if(S==="daily")B&&_.startDate&&_.endDate?se.date=_.startDate:se.date=d;else if(S==="monthly"){const[ge,ue]=H.split("-");se.month=parseInt(ue),se.year=parseInt(ge)}console.log("Loading attendance with filters:",se);const de=await Re.fetchAttendance(se);t(de.attendance||[]),M(ge=>{var ue;return{...ge,total:((ue=de.pagination)==null?void 0:ue.totalRecords)||0}})}catch(se){console.error("Error loading attendance:",se),ar.error(se.message||"Failed to load attendance records"),t([])}finally{i(!1)}},K=async()=>{try{const[se,de,ge]=await Promise.all([Re.getDashboardStats(),Re.getTotalStudentsCount().catch(()=>0),Re.getActiveStudentsCount().catch(()=>0)]);n({totalCollection:se.totalCollection||0,totalDue:se.totalDue||0,totalExpense:se.totalExpense||0,profitLoss:se.profitLoss||0,totalStudents:Number(de)||0,activeStudents:Number(ge)||0,todayAttendance:e.length,monthlyAttendance:e.length})}catch(se){console.error("Error loading stats:",se),n({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0,totalStudents:0,activeStudents:0,todayAttendance:e.length,monthlyAttendance:e.length})}},ce=()=>{p(!0)},oe=se=>{if(!se)return"--:--";try{return new Date(se).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}catch{return"--:--"}},Q=se=>{try{return new Date(se).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return se}},G=()=>{const de=[["Student Name","Registration Number","Phone","Date","First In","Last Out","Total Scans"].join(","),...e.map(ke=>[ke.studentName,ke.registrationNumber,ke.phone,Q(ke.date),oe(ke.firstIn),oe(ke.lastOut),ke.totalScans].join(","))].join(`
`),ge=new Blob([de],{type:"text/csv"}),ue=window.URL.createObjectURL(ge),Ee=document.createElement("a");Ee.href=ue,Ee.download=`attendance-${S}-${d||H}.csv`,Ee.click(),window.URL.revokeObjectURL(ue)};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(an,{isCollapsed:h,setIsCollapsed:m,onBarcodeClick:ce}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Attendance Management"}),a.jsx("p",{className:"text-blue-100",children:"Monitor and analyze student attendance patterns"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex bg-white/20 backdrop-blur-sm rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>Z("daily"),className:`px-4 py-2 rounded-md transition-all duration-200 flex items-center space-x-2 ${S==="daily"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[a.jsx(Wee,{className:"w-4 h-4"}),a.jsx("span",{children:"Daily"})]}),a.jsxs("button",{onClick:()=>Z("monthly"),className:`px-4 py-2 rounded-md transition-all duration-200 flex items-center space-x-2 ${S==="monthly"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[a.jsx(dI,{className:"w-4 h-4"}),a.jsx("span",{children:"Monthly"})]})]}),a.jsxs("button",{onClick:()=>I(!B),className:`bg-white/20 backdrop-blur-sm hover:bg-white/30 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 ${B?"ring-2 ring-white/50":""}`,children:[a.jsx(kS,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"})]}),a.jsxs("button",{onClick:G,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2",children:[a.jsx(em,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]}),a.jsxs("button",{onClick:Y,disabled:s,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 disabled:opacity-50 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2",children:[a.jsx(jN,{className:`w-4 h-4 ${s?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]})]})]}),B&&a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 mb-4 border border-white/20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Search Students"}),a.jsxs("div",{className:"relative",children:[a.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-blue-200"}),a.jsx("input",{type:"text",placeholder:"Name, phone, or reg. no.",value:o,onChange:se=>V(se.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),S==="daily"?a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Date Range"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"date",value:_.startDate,onChange:se=>P(de=>({...de,startDate:se.target.value})),className:"flex-1 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"}),a.jsx("input",{type:"date",value:_.endDate,onChange:se=>P(de=>({...de,endDate:se.target.value})),className:"flex-1 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Select Month"}),a.jsx("input",{type:"month",value:H,onChange:se=>J(se.target.value),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Filter by Status"}),a.jsxs("select",{value:L,onChange:se=>ee(se.target.value),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[a.jsx("option",{value:"all",className:"text-gray-800",children:"All Students"}),a.jsx("option",{value:"present",className:"text-gray-800",children:"Present Only"}),a.jsx("option",{value:"absent",className:"text-gray-800",children:"Absent Only"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100 opacity-0",children:"Action"}),a.jsxs("button",{onClick:Y,className:"w-full bg-white/30 hover:bg-white/40 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[a.jsx(ya,{className:"w-4 h-4"}),a.jsx("span",{children:"Apply Filters"})]})]})]}),(o||L!=="all")&&a.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:a.jsxs("button",{onClick:q,className:"text-white/80 hover:text-white text-sm flex items-center space-x-1",children:[a.jsx(eo,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear all filters"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ii,{className:"w-8 h-8 text-green-300 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length}),a.jsx("p",{className:"text-blue-100 text-sm",children:S==="daily"?"Present Today":"Monthly Records"})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ii,{className:"w-8 h-8 text-blue-300 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:(r==null?void 0:r.totalStudents)||0}),a.jsx("p",{className:"text-blue-100 text-sm",children:"Total Students"})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"w-8 h-8 text-yellow-300 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length>0?oe((te=e[0])==null?void 0:te.firstIn):"--:--"}),a.jsx("p",{className:"text-blue-100 text-sm",children:"First Check-in"})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(kN,{className:"w-8 h-8 text-purple-300 mr-3"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:[r?Math.round(e.length/r.totalStudents*100):0,"%"]}),a.jsx("p",{className:"text-blue-100 text-sm",children:"Attendance Rate"})]})]})})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:s?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(jN,{className:"w-8 h-8 animate-spin text-blue-500"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading attendance records..."})]}):e.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ii,{className:"w-4 h-4 mr-2"}),"Student Details"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(us,{className:"w-4 h-4 mr-2"}),"Date"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"w-4 h-4 mr-2"}),"First In"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Last Out"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(dI,{className:"w-4 h-4 mr-2"}),"Total Scans"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Status"]})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:e.map((se,de)=>{var ge,ue;return a.jsxs("tr",{className:`hover:bg-blue-50 transition-colors duration-150 ${de%2===0?"bg-white":"bg-gray-50/50"}`,children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:((ue=(ge=se.studentName)==null?void 0:ge.charAt(0))==null?void 0:ue.toUpperCase())||"S"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:se.studentName}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(di,{className:"w-3 h-3 mr-1"}),se.phone]}),se.registrationNumber&&a.jsxs("div",{className:"text-xs text-gray-400",children:["Reg: ",se.registrationNumber]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Q(se.date)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:a.jsx(Zn,{className:"w-4 h-4 text-green-600"})}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:oe(se.firstIn)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-lg mr-3",children:a.jsx(Zn,{className:"w-4 h-4 text-red-600"})}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:oe(se.lastOut)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[se.totalScans," scans"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${se.lastOut?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:se.lastOut?"Checked Out":"Checked In"})})]},`${se.studentId}-${se.date}`)})})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(na,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No attendance records found"}),a.jsx("p",{className:"text-gray-500",children:o||L!=="all"?"Try adjusting your filters or search terms.":`No attendance records for ${S==="daily"?"this date":"this month"}.`})]})}),z.total>z.limit&&a.jsxs("div",{className:"flex items-center justify-between bg-white px-6 py-3 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"flex items-center text-sm text-gray-700",children:a.jsxs("span",{children:["Showing ",(z.page-1)*z.limit+1," to ",Math.min(z.page*z.limit,z.total)," of ",z.total," results"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>M(se=>({...se,page:Math.max(1,se.page-1)})),disabled:z.page===1,className:"p-2 rounded-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(QA,{className:"w-4 h-4"})}),a.jsxs("span",{className:"px-3 py-1 text-sm font-medium text-gray-700",children:["Page ",z.page," of ",Math.ceil(z.total/z.limit)]}),a.jsx("button",{onClick:()=>M(se=>({...se,page:Math.min(Math.ceil(z.total/z.limit),se.page+1)})),disabled:z.page>=Math.ceil(z.total/z.limit),className:"p-2 rounded-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(gr,{className:"w-4 h-4"})})]})]})]})})]}),b&&y&&a.jsx(y1,{isOpen:y,onClose:()=>p(!1),libraryCode:b.library_code,libraryName:b.name,libraryId:b.id})]})},ube=()=>{const[e,t]=C.useState(null),[r,n]=C.useState(!1),[s,i]=C.useState(!0),[o,l]=C.useState(null);C.useEffect(()=>{d()},[]);const d=async()=>{i(!0),l(null);try{console.log("Testing QR Code Generation..."),console.log("Step 1: Testing API accessibility...");const h=await Re.getLibraryProfile();if(console.log("API Response:",h),!h||!h.library)throw new Error("No library data received from API");console.log("Step 2: Checking library data structure...");const m=h.library;if(!m.id||!m.libraryCode||!m.libraryName)throw new Error(`Missing required library fields: ${JSON.stringify(m)}`);console.log("Step 3: Setting library data for QR generation..."),t({id:m.id,library_code:m.libraryCode,name:m.libraryName}),console.log("QR Code test completed successfully!"),ar.success("QR Code generation test passed!")}catch(h){console.error("QR Code test failed:",h),l(h.message||"Failed to load library information"),ar.error(`QR Code test failed: ${h.message}`)}finally{i(!1)}},u=()=>{if(!e){ar.error("Library information not available");return}n(!0)};return a.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-md mx-auto",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx(Fd,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"QR Code Test"}),a.jsx("p",{className:"text-gray-600",children:"Testing QR code generation functionality"})]}),s&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Testing QR code generation..."})]}),o&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ji,{className:"w-5 h-5 text-red-500 mr-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Test Failed"}),a.jsx("p",{className:"text-sm text-red-600 mt-1",children:o})]})]}),a.jsx("button",{onClick:d,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry Test"})]}),e&&!s&&!o&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sc,{className:"w-5 h-5 text-green-500 mr-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-green-800",children:"Test Passed"}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Library data loaded successfully"})]})]})}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Library Information:"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"ID:"})," ",e.id]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Code:"})," ",e.library_code]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",e.name]})]})]}),a.jsxs("button",{onClick:u,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[a.jsx(Fd,{className:"w-4 h-4 mr-2"}),"Generate QR Code"]})]}),e&&r&&a.jsx(y1,{isOpen:r,onClose:()=>n(!1),libraryCode:e.library_code,libraryName:e.name,libraryId:e.id})]})},Abe=()=>new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},document.body.appendChild(t)}),hbe=()=>{Ur();const{user:e}=Ys(),[t,r]=C.useState(null),[n,s]=C.useState(!0),[i,o]=C.useState(!1),[l,d]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const b=await ts.get("/api/subscriptions/status");r(b.data.subscription)}catch(b){console.error("Error fetching subscription info:",b)}finally{s(!1)}})()},[]);const u=async(p,b)=>{try{if((await ts.post("/api/subscriptions/verify-payment",{razorpay_order_id:p.razorpay_order_id,razorpay_payment_id:p.razorpay_payment_id,razorpay_signature:p.razorpay_signature,planId:b.id})).data.success){const S=await ts.get("/api/subscriptions/status");r(S.data.subscription),alert("Payment successful! Your subscription has been activated.")}else alert("Payment verification failed. Please contact support.")}catch(N){console.error("Error verifying payment:",N),alert("Error verifying payment. Please contact support.")}},h=async p=>{if(!await Abe()){alert("Failed to load Razorpay. Please check your internet connection.");return}try{const N=await ts.post("/api/subscriptions/create-order",{planId:p.id,amount:p.amount}),S={key:"rzp_live_R9JUr6fbSLyOOM",amount:N.data.amount,currency:"INR",name:"StudyLib",description:`Subscription for ${p.name}`,order_id:N.data.id,handler:async function(B){await u(B,p)},prefill:{name:(e==null?void 0:e.username)||"",email:"",contact:""},notes:{plan_id:p.id},theme:{color:"#6366f1"}};new window.Razorpay(S).open()}catch(N){console.error("Error creating Razorpay order:",N),alert("Error initiating payment. Please try again.")}},m=p=>{if(!t||t.plan!==p)return!1;const b=t.endDate?new Date(t.endDate):null,N=new Date;return!!t.isActive&&!!b&&b.getTime()>N.getTime()},y=[{id:"free_trial",name:"Free Trial Plan",description:"Kickstart Your Journey – 7 Days Free",price:"₹0",originalPrice:null,amount:0,features:["Full access to all features","Manage unlimited students","Track attendance","Generate reports"],cta:"Current Plan",isCurrent:m("free_trial"),disabled:!0,discount:null},{id:"1_month",name:"1-Month Plan",description:"One Month to Build a Routine",price:"₹225",originalPrice:"₹300",amount:22500,features:["Unlimited student addition","All library management features","Priority support","No restrictions"],cta:"Start My Focus Journey",isCurrent:m("1_month"),disabled:!1,discount:"25% OFF"},{id:"3_month",name:"3-Month Plan",description:"Stay Focused for 90 Days",price:"₹650",originalPrice:"₹850",amount:65e3,features:["Unlimited students","All features included","Discounted rate","Priority support"],cta:"I'm In – Let's Go",isCurrent:m("3_month"),disabled:!1,discount:"24% OFF"},{id:"6_month",name:"6-Month Plan",description:"Make This Your Growth Phase",price:"₹1200",originalPrice:"₹1600",amount:12e4,features:["Great value package","All premium features","Extended support","Best for growing libraries"],cta:"Fuel My Discipline",isCurrent:m("6_month"),disabled:!1,discount:"25% OFF"},{id:"12_month",name:"12-Month Plan",description:"All In for the Year",price:"₹1999",originalPrice:"₹3000",amount:199900,features:["Best value","All features unlocked","24/7 priority support","Focus for the long term"],cta:"Commit to Success",isCurrent:m("12_month"),disabled:!1,discount:"33% OFF"},{id:"1_day",name:"1-Day Plan",description:"Full access for 24 hours",price:"₹10",originalPrice:null,amount:1e3,features:["All features for 1 day","Great for quick needs","Priority support"],cta:"Get 1 Day Access",isCurrent:m("1_day"),disabled:!1,discount:null}];return n?a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[a.jsx("div",{className:`fixed inset-y-0 left-0 transform ${i?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${l?"md:w-16":"md:w-64"}`,children:a.jsx(an,{isCollapsed:l,setIsCollapsed:d,onBarcodeClick:()=>{}})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading subscription details..."})]})})]})]}):a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[a.jsx("div",{className:`fixed inset-y-0 left-0 transform ${i?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${l?"md:w-16":"md:w-64"}`,children:a.jsx(an,{isCollapsed:l,setIsCollapsed:d,onBarcodeClick:()=>{}})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-3xl shadow-2xl p-10 mb-16 text-center relative overflow-hidden transform hover:scale-105 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 opacity-20 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-center mb-6",children:[a.jsx("span",{className:"text-5xl mr-4 animate-bounce",children:"🪔"}),a.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white tracking-wide drop-shadow-lg",children:"Durga Puja Festival Offer"}),a.jsx("span",{className:"text-5xl ml-4 animate-bounce",children:"🎉"})]}),a.jsx("p",{className:"text-2xl md:text-3xl text-white font-bold mb-4 drop-shadow-md",children:"Celebrate with up to 35% OFF on all plans!"}),a.jsx("p",{className:"text-xl text-orange-100 font-medium",children:"Limited time offer - Transform your library management this festive season"}),a.jsx("div",{className:"mt-6 inline-flex items-center bg-gradient-to-r from-yellow-400 to-orange-400 text-orange-900 rounded-full px-8 py-3 font-black text-lg shadow-xl transform hover:scale-110 transition-all duration-300",children:a.jsx("span",{children:"🕉️ Festival Special Pricing 🕉️"})})]}),a.jsx("div",{className:"absolute top-4 left-4 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:"✨"})}),a.jsx("div",{className:"absolute top-8 right-8 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-3xl",children:"🌟"})}),a.jsx("div",{className:"absolute bottom-4 left-8 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:"✨"})}),a.jsx("div",{className:"absolute bottom-8 right-4 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:"🎊"})})]}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-5xl font-black bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent mb-6 tracking-tight",children:"Subscription Plans"}),a.jsx("p",{className:"text-xl text-gray-700 max-w-3xl mx-auto font-medium leading-relaxed",children:"Choose a plan that fits your library's growth journey and unlock the full potential of modern library management"})]}),(e==null?void 0:e.is_trial)&&(t==null?void 0:t.daysLeft)!==null&&(t==null?void 0:t.daysLeft)>0&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-8 text-center",children:a.jsxs("p",{className:"font-bold",children:["🟢 7-Day Free Trial Active – ",t.daysLeft," Days Left"]})}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl shadow-2xl p-8 mb-12 text-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 opacity-20 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4 drop-shadow-lg",children:"Most people don't finish what they start. Not you."}),a.jsx("p",{className:"text-lg text-blue-100 font-medium leading-relaxed",children:"This subscription isn't just a payment — it's your decision to run things smarter. And it starts now."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[y.map(p=>a.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl overflow-hidden border-2 relative transform hover:scale-105 transition-all duration-300 hover:shadow-3xl ${p.isCurrent?"border-purple-500 ring-4 ring-purple-200":"border-gray-200"}`,children:[p.discount&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 via-pink-500 to-orange-500 text-white px-4 py-2 rounded-full text-sm font-black shadow-2xl z-10 animate-pulse",children:p.discount}),a.jsx("div",{className:`h-2 ${p.discount?"bg-gradient-to-r from-orange-400 to-red-500":"bg-gradient-to-r from-blue-400 to-purple-500"}`}),a.jsxs("div",{className:"p-8",children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3 tracking-tight",children:p.name}),a.jsx("p",{className:"text-gray-600 mb-6 font-medium text-lg leading-relaxed",children:p.description}),a.jsx("div",{className:"mb-8",children:p.originalPrice?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:p.price}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Previously:"}),a.jsx("div",{className:"text-xl text-red-500 line-through font-bold bg-red-50 px-3 py-1 rounded-full",children:p.originalPrice})]})]}):a.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:p.price})}),a.jsx("ul",{className:"space-y-4 mb-8",children:p.features.map((b,N)=>a.jsxs("li",{className:"flex items-center group",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 rounded-full p-1 mr-4 group-hover:scale-110 transition-transform duration-200",children:a.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-gray-700 font-medium text-lg group-hover:text-gray-900 transition-colors duration-200",children:b})]},N))}),a.jsx("button",{onClick:()=>h(p),disabled:p.disabled||p.isCurrent,className:`w-full py-4 px-6 rounded-xl font-black text-lg transition-all duration-300 transform hover:scale-105 ${p.isCurrent?"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 cursor-default shadow-lg":p.disabled?"bg-gray-300 text-gray-500 cursor-not-allowed":p.discount?"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 text-white hover:from-orange-600 hover:via-red-600 hover:to-pink-600 shadow-2xl hover:shadow-3xl":"bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-500 text-white hover:from-blue-600 hover:via-purple-600 hover:to-indigo-600 shadow-xl hover:shadow-2xl"}`,children:p.isCurrent?"✅ Current Plan":p.cta})]})]},p.id)),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-2 border-gray-200 relative transform hover:scale-105 transition-all duration-300 hover:shadow-3xl",children:[a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 via-pink-500 to-orange-500 text-white px-4 py-2 rounded-full text-sm font-black shadow-2xl z-10 animate-pulse",children:"25% OFF"}),a.jsx("div",{className:"h-2 bg-gradient-to-r from-orange-400 to-red-500"}),a.jsxs("div",{className:"p-8",children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3 tracking-tight",children:"9-Month Plan"}),a.jsx("p",{className:"text-gray-600 mb-6 font-medium text-lg leading-relaxed",children:"The Transformation Period"}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"₹1650"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Previously:"}),a.jsx("div",{className:"text-xl text-red-500 line-through font-bold bg-red-50 px-3 py-1 rounded-full",children:"₹2200"})]})]})}),a.jsxs("ul",{className:"space-y-4 mb-8",children:[a.jsxs("li",{className:"flex items-center group",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 rounded-full p-1 mr-4 group-hover:scale-110 transition-transform duration-200",children:a.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-gray-700 font-medium text-lg group-hover:text-gray-900 transition-colors duration-200",children:"All premium features"})]}),a.jsxs("li",{className:"flex items-center group",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 rounded-full p-1 mr-4 group-hover:scale-110 transition-transform duration-200",children:a.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-gray-700 font-medium text-lg group-hover:text-gray-900 transition-colors duration-200",children:"Best value for serious libraries"})]}),a.jsxs("li",{className:"flex items-center group",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 rounded-full p-1 mr-4 group-hover:scale-110 transition-transform duration-200",children:a.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-gray-700 font-medium text-lg group-hover:text-gray-900 transition-colors duration-200",children:"Extended support period"})]})]}),(()=>{const p=m("9_month");return a.jsx("button",{onClick:()=>h({id:"9_month",name:"9-Month Plan",amount:165e3}),disabled:p,className:`w-full py-4 px-6 rounded-xl font-black text-lg transition-all duration-300 transform hover:scale-105 ${p?"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 cursor-default shadow-lg":"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 text-white hover:from-orange-600 hover:via-red-600 hover:to-pink-600 shadow-2xl hover:shadow-3xl"}`,children:p?"✅ Current Plan":"Transform My Library"})})()]})]})]}),a.jsxs("div",{className:"mt-16 text-center",children:[a.jsx("div",{className:"bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-2xl shadow-2xl p-8 mb-8",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-black text-white mb-4 drop-shadow-lg",children:"💡 Smart Investment, Smarter Results"}),a.jsx("p",{className:"text-xl text-emerald-100 font-bold mb-2",children:'"Just ₹10/day to manage your study space professionally."'}),a.jsx("p",{className:"text-lg text-emerald-100 font-medium",children:'"Join 300+ libraries building distraction-free environments."'})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300",children:[a.jsx("div",{className:"text-3xl mb-3",children:"🚀"}),a.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Fast Setup"}),a.jsx("p",{className:"text-gray-600",children:"Get started in minutes, not hours"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300",children:[a.jsx("div",{className:"text-3xl mb-3",children:"🔒"}),a.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Secure & Reliable"}),a.jsx("p",{className:"text-gray-600",children:"Your data is safe with us"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300",children:[a.jsx("div",{className:"text-3xl mb-3",children:"💬"}),a.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"24/7 Support"}),a.jsx("p",{className:"text-gray-600",children:"We're here when you need us"})]})]})]})]})})]})]})},fbe=()=>{const e=Ur(),[t,r]=C.useState({ownerName:"",ownerEmail:"",ownerPhone:"",libraryName:"",password:"",confirmPassword:"",libraryCode:""}),[n,s]=C.useState(!1),[i,o]=C.useState(!1),[l,d]=C.useState(!1),[u,h]=C.useState(null),[m,y]=C.useState(!1),p=S=>{const{name:w,value:B}=S.target;r(I=>({...I,[w]:B})),w==="libraryCode"&&h(null)},b=async()=>{if(!t.libraryCode||t.libraryCode.length<3){h(null);return}y(!0);try{const w=await(await ia(`/owner-auth/check-code/${t.libraryCode}`)).json();h(w.available)}catch(S){console.error("Error checking library code:",S),ar.error("Error checking library code availability")}finally{y(!1)}},N=async S=>{if(S.preventDefault(),!t.ownerName||!t.ownerEmail||!t.ownerPhone||!t.libraryName||!t.password||!t.confirmPassword){ar.error("All fields are required");return}if(t.password!==t.confirmPassword){ar.error("Passwords do not match");return}if(t.password.length<6){ar.error("Password must be at least 6 characters long");return}if(t.ownerPhone.length!==10||!/^\d+$/.test(t.ownerPhone)){ar.error("Phone number must be exactly 10 digits");return}if(t.libraryCode&&u===!1){ar.error("Library code is not available. Please choose a different one.");return}d(!0);try{const w=await ia("/owner-auth/register",{method:"POST",body:JSON.stringify(t)}),B=await w.json();w.ok?(ar.success("Registration successful! Please login with your credentials."),e("/owner-login")):ar.error(B.message||"Registration failed")}catch(w){console.error("Registration error:",w),ar.error("Network error. Please try again.")}finally{d(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-purple-600 to-orange-400 rounded-full flex items-center justify-center mb-4",children:a.jsx(_o,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Register Your Library"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create an account to manage your library"})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Name *"}),a.jsxs("div",{className:"relative",children:[a.jsx(ii,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"ownerName",value:t.ownerName,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",name:"ownerEmail",value:t.ownerEmail,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",name:"ownerPhone",value:t.ownerPhone,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Name *"}),a.jsxs("div",{className:"relative",children:[a.jsx(_o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryName",value:t.libraryName,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your library name",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code *"}),a.jsxs("div",{className:"relative",children:[a.jsx(KO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryCode",value:t.libraryCode,onChange:p,onBlur:b,className:`w-full pl-10 pr-20 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u===!0?"border-green-300":u===!1?"border-red-300":"border-gray-300"}`,placeholder:"Leave empty to auto-generate",maxLength:20}),m&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"})}),!m&&u===!0&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-600 text-sm",children:"✓ Available"}),!m&&u===!1&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-red-600 text-sm",children:"✗ Taken"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students will use this code to log in. If left empty, we'll generate one for you."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:n?"text":"password",name:"password",value:t.password,onChange:p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter password (min 6 characters)",required:!0}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?a.jsx(tm,{className:"w-5 h-5"}):a.jsx(ya,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?a.jsx(tm,{className:"w-5 h-5"}):a.jsx(ya,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:l?"Creating Account...":"Register Library"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",a.jsx(Tt,{to:"/owner-login",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Sign in here"})]})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(Tt,{to:"/student-login",className:"text-sm text-gray-500 hover:text-gray-700",children:"Student Login →"})})]})})},mbe=({onBack:e,mode:t})=>{const[r,n]=C.useState("verify"),[s,i]=C.useState(!1),[o,l]=C.useState({email:"",phone:"",libraryCode:""}),[d,u]=C.useState({newPassword:"",confirmPassword:""}),h=async y=>{y.preventDefault(),i(!0);try{let p;t==="owner"?p=await ia("/owner-auth/forgot-password/verify",{method:"POST",body:JSON.stringify({email:o.email,phone:o.phone})}):p=await ia("/auth/forgot-password/verify",{method:"POST",body:JSON.stringify({email:o.email,phone:o.phone,libraryCode:o.libraryCode})});const b=await p.json();p.ok?(ar.success("Account verified! You can now reset your password."),n("reset")):ar.error(b.message||"Verification failed")}catch(p){console.error("Verification error:",p),ar.error("Network error. Please try again.")}finally{i(!1)}},m=async y=>{if(y.preventDefault(),d.newPassword!==d.confirmPassword){ar.error("Passwords do not match");return}if(d.newPassword.length<6){ar.error("Password must be at least 6 characters long");return}i(!0);try{let p;t==="owner"?p=await ia("/owner-auth/forgot-password/reset",{method:"POST",body:JSON.stringify(d)}):p=await ia("/auth/forgot-password/reset",{method:"POST",body:JSON.stringify(d)});const b=await p.json();p.ok?(ar.success("Password reset successfully! You can now log in."),e()):ar.error(b.message||"Password reset failed")}catch(p){console.error("Password reset error:",p),ar.error("Network error. Please try again.")}finally{i(!1)}};return a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-purple-600 to-orange-400 rounded-full flex items-center justify-center mb-4",children:a.jsx(Ul,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r==="verify"?"Forgot Password":"Reset Password"}),a.jsx("p",{className:"text-gray-600 mt-2",children:r==="verify"?`Verify your ${t==="owner"?"owner":"staff"} account`:"Enter your new password"})]}),r==="verify"?a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[t==="user"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(_o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:o.libraryCode,onChange:y=>l(p=>({...p,libraryCode:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter library code",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",value:o.email,onChange:y=>l(p=>({...p,email:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email address",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",value:o.phone,onChange:y=>l(p=>({...p,phone:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your phone number",required:!0})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:s?"Verifying...":"Verify Account"})]}):a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"password",value:d.newPassword,onChange:y=>u(p=>({...p,newPassword:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter new password",required:!0,minLength:6})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"password",value:d.confirmPassword,onChange:y=>u(p=>({...p,confirmPassword:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm new password",required:!0,minLength:6})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:s?"Resetting Password...":"Reset Password"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("button",{onClick:e,className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-medium",children:[a.jsx(ml,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})},pbe=()=>{const e=Ur(),{login:t}=Ys(),[r,n]=C.useState("owner"),[s,i]=C.useState(!1),[o,l]=C.useState({phone:"",password:""}),[d,u]=C.useState({username:"",password:"",libraryCode:""}),[h,m]=C.useState(!1),[y,p]=C.useState(!1),[b,N]=C.useState(!1),S=B=>{const{name:I,value:_}=B.target;l(P=>({...P,[I]:_}))},w=async B=>{if(B.preventDefault(),r==="owner"){if(!o.phone||!o.password){ar.error("Phone number and password are required");return}p(!0);try{const I=await ia("/owner-auth/login",{method:"POST",body:JSON.stringify(o)}),_=await I.json();I.ok?(ar.success("Login successful!"),t(_.owner),e("/dashboard"),setTimeout(()=>window.location.reload(),500)):ar.error(_.message||"Login failed")}catch(I){console.error("Login error:",I),ar.error("Network error. Please try again.")}finally{p(!1)}}else{if(!d.username||!d.password){ar.error("Username and password are required");return}N(!0);try{const I=await Re.login({username:d.username,password:d.password,libraryCode:d.libraryCode});I&&(ar.success("Login successful!"),t({...I,permissions:I.permissions||[]}),e("/dashboard"),setTimeout(()=>window.location.reload(),300))}catch(I){ar.error((I==null?void 0:I.message)||"Login failed")}finally{N(!1)}}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100 flex items-center justify-center p-4",children:s?a.jsxs("div",{className:"w-full max-w-md space-y-6",children:[a.jsx(Pg,{variant:"compact",clickable:!1}),a.jsx(mbe,{mode:r,onBack:()=>i(!1)})]}):a.jsxs("div",{className:"w-full max-w-md space-y-6",children:[a.jsx(Pg,{variant:"compact",clickable:!1}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm border border-white/20",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-r from-purple-600 via-pink-500 to-orange-400 rounded-full flex items-center justify-center mb-6 shadow-xl",children:a.jsx(_o,{className:"w-10 h-10 text-white"})}),a.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"Sign In"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Owner or Staff/Admin Access"})]}),a.jsxs("div",{className:"flex mb-8 p-2 bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl",children:[a.jsx("button",{type:"button",onClick:()=>n("owner"),className:`flex-1 py-3 rounded-lg text-sm font-bold transition-all duration-300 ${r==="owner"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-xl transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,children:"🏢 Owner"}),a.jsx("button",{type:"button",onClick:()=>n("user"),className:`flex-1 py-3 rounded-lg text-sm font-bold transition-all duration-300 ${r==="user"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-xl transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,children:"👥 Staff / Admin"})]}),a.jsx("form",{onSubmit:w,className:"space-y-6",children:r==="owner"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"📱 Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:S,className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter your phone number",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"🔒 Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ul,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:h?"text":"password",name:"password",value:o.password,onChange:S,className:"w-full pl-12 pr-12 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:h?a.jsx(tm,{className:"w-5 h-5"}):a.jsx(ya,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-purple-600 via-pink-600 to-orange-400 text-white py-4 px-6 rounded-xl font-black text-lg hover:from-purple-700 hover:via-pink-700 hover:to-orange-500 focus:outline-none focus:ring-4 focus:ring-purple-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl",children:y?"🔄 Signing In...":"🚀 Sign In as Owner"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"🏛️ Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(_o,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryCode",value:d.libraryCode,onChange:B=>u(I=>({...I,libraryCode:B.target.value})),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium uppercase",placeholder:"Enter library code",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"👤 Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"username",value:d.username,onChange:B=>u(I=>({...I,username:B.target.value})),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter username",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"🔒 Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ul,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:h?"text":"password",name:"user_password",value:d.password,onChange:B=>u(I=>({...I,password:B.target.value})),className:"w-full pl-12 pr-12 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:h?a.jsx(tm,{className:"w-5 h-5"}):a.jsx(ya,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:b,className:"w-full bg-gradient-to-r from-purple-600 via-pink-600 to-orange-400 text-white py-4 px-6 rounded-xl font-black text-lg hover:from-purple-700 hover:via-pink-700 hover:to-orange-500 focus:outline-none focus:ring-4 focus:ring-purple-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl",children:b?"🔄 Signing In...":"👥 Sign In as Staff/Admin"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>i(!0),className:"text-purple-600 hover:text-purple-700 font-bold text-sm transition-colors duration-200",children:"🔑 Forgot Password?"})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-4",children:a.jsxs("p",{className:"text-gray-700 font-medium",children:["Don't have an account?"," ",a.jsx(Tt,{to:"/owner-register",className:"text-purple-600 hover:text-purple-700 font-bold transition-colors duration-200",children:"🏛️ Register your library"})]})})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(Tt,{to:"/student-login",className:"text-sm text-gray-500 hover:text-gray-700 font-medium transition-colors duration-200",children:"🎓 Student Login →"})})]})]})})},gbe=()=>{const e=Ur(),[t,r]=C.useState({libraryCode:"",phone:"",password:""}),[n,s]=C.useState(!1),[i,o]=C.useState(!1),l=u=>{const{name:h,value:m}=u.target;r(y=>({...y,[h]:h==="libraryCode"?m.toUpperCase():m}))},d=async u=>{if(u.preventDefault(),!t.libraryCode||!t.phone||!t.password){ar.error("All fields are required");return}if(t.phone.length!==10||!/^\d+$/.test(t.phone)){ar.error("Phone number must be exactly 10 digits");return}o(!0);try{const h=await ia("/student-auth/login",{method:"POST",body:JSON.stringify({libraryCode:t.libraryCode,phone:t.phone,password:t.password})}),m=await h.json();h.ok?(ar.success(`Welcome, ${m.student.name}!`),e("/student-dashboard")):ar.error(m.message||"Login failed")}catch(h){console.error("Student login error:",h),ar.error("Network error. Please try again.")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-blue-50 to-cyan-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md space-y-6",children:[a.jsx(Pg,{variant:"compact",clickable:!1}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm border border-white/20",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-full flex items-center justify-center mb-6 shadow-xl",children:a.jsx(WO,{className:"w-10 h-10 text-white"})}),a.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"Student Login"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Access your library account"})]}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"🏛️ Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(KO,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryCode",value:t.libraryCode,onChange:l,className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium uppercase",placeholder:"Enter library code",maxLength:20,required:!0})]}),a.jsx("p",{className:"text-xs text-blue-600 mt-2 font-medium",children:"💡 Ask your library for the library code"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"📱 Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(di,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:l,className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter your phone number",maxLength:10,required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"🔒 Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ul,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:n?"text":"password",name:"password",value:t.password,onChange:l,className:"w-full pl-12 pr-12 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:n?a.jsx(tm,{className:"w-5 h-5"}):a.jsx(ya,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-xs text-blue-600 mt-2 font-medium",children:"💡 Your password is the same as your phone number"})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white py-4 px-6 rounded-xl font-black text-lg hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl",children:i?"🔄 Signing In...":"🎓 Sign In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 rounded-xl p-4",children:a.jsx("p",{className:"text-gray-700 text-sm font-medium",children:"📚 Don't have an account? Contact your library to get registered."})})}),a.jsxs("div",{className:"mt-4 text-center space-y-2",children:[a.jsx(Tt,{to:"/owner-login",className:"block text-sm text-gray-500 hover:text-gray-700 font-medium transition-colors duration-200",children:"🏢 Library Owner Login →"}),a.jsx(Tt,{to:"/",className:"block text-sm text-gray-500 hover:text-gray-700 font-medium transition-colors duration-200",children:"← 🏛️ Register Library"})]})]})]})})},VC=C.forwardRef(({studentId:e,studentName:t,className:r="",variant:n="default",children:s},i)=>{const[o,l]=C.useState(!1),d=C.useRef(null),u=i||d,h=C.useCallback(async()=>{const b=u.current;if(!b)throw new Error("No content to generate PDF from");try{const N=b.cloneNode(!0);N.style.position="absolute",N.style.left="-9999px",N.style.top="0",document.body.appendChild(N);const S=await Vv(N,{scale:2,useCORS:!0,logging:!0,backgroundColor:"#ffffff",allowTaint:!0,imageTimeout:15e3,onclone:z=>{const M=Array.from(z.images);return M.length>0?Promise.all(M.map(V=>V.complete?Promise.resolve():new Promise(J=>{V.onload=J,V.onerror=J}))):Promise.resolve()}});if(document.body.removeChild(N),!S)throw new Error("Failed to capture content");const w=S.toDataURL("image/png");if(!w||w==="data:,")throw new Error("Failed to generate image data from content");const B=new Zt("p","mm","a4"),I=B.internal.pageSize.getWidth(),_=B.internal.pageSize.getHeight(),P=I/S.width,H=_/S.height,D=Math.min(P,H,1),L=(I-S.width*D)/2,T=10;try{B.addImage(w,"PNG",L,T,S.width*D,S.height*D,void 0,"FAST")}catch(z){throw console.error("Error adding image to PDF:",z),new Error("Failed to add content to PDF. The content might contain unsupported elements.")}return B}catch(N){throw console.error("Error generating PDF:",N),N}},[u]),m=C.useCallback(async()=>{if(!o){l(!0);try{const b=await h();if(!b)return;const N=`invoice_${t.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;b.save(N),Se.success("Invoice downloaded as PDF!")}catch(b){console.error("Error generating PDF:",b),Se.error(b instanceof Error?b.message:"Failed to generate PDF")}finally{l(!1)}}},[h,o,t]),y=qR.useReactToPrint({pageContent:()=>u.current||null,onAfterPrint:()=>{l(!1),Se.success("Invoice printed successfully!")},onBeforeGetContent:async()=>(l(!0),new Promise(b=>{setTimeout(b,500)})),onBeforePrint:()=>new Promise(b=>{setTimeout(b,500)}),pageStyle:`
      @page { 
        size: A4;
        margin: 10mm;
      }
      @media print {
        body { 
          -webkit-print-color-adjust: exact; 
        }
        .no-print, .print-hide { 
          display: none !important; 
        }
      }
    `,documentTitle:`Invoice_${t}_${new Date().toISOString().split("T")[0]}`,removeAfterPrint:!1,onPrintError:b=>{console.error("Print error:",b),l(!1),Se.error("Failed to print. Please try again.")}}),p=n==="text"?"text-blue-600 hover:text-blue-800 hover:bg-blue-50 px-2 py-1 rounded":"px-3 py-1.5 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500";return a.jsxs("div",{className:r,children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:m,disabled:o,className:`inline-flex items-center ${p} disabled:opacity-50`,type:"button",children:[a.jsx(em,{className:"h-4 w-4 mr-1.5"}),o?"Generating...":n==="text"?"Download":"Download Invoice"]}),a.jsxs("button",{onClick:y,disabled:o,className:`inline-flex items-center ${p} disabled:opacity-50`,type:"button",children:[a.jsx(OS,{className:"h-4 w-4 mr-1.5"}),n==="text"?"Print":"Print Invoice"]})]}),a.jsx("div",{className:"hidden",children:a.jsx("div",{ref:d,className:"p-6 bg-white",children:s})})]})});var Ot;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ot||(Ot={}));var oL=new Map([[Ot.QR_CODE,"QR_CODE"],[Ot.AZTEC,"AZTEC"],[Ot.CODABAR,"CODABAR"],[Ot.CODE_39,"CODE_39"],[Ot.CODE_93,"CODE_93"],[Ot.CODE_128,"CODE_128"],[Ot.DATA_MATRIX,"DATA_MATRIX"],[Ot.MAXICODE,"MAXICODE"],[Ot.ITF,"ITF"],[Ot.EAN_13,"EAN_13"],[Ot.EAN_8,"EAN_8"],[Ot.PDF_417,"PDF_417"],[Ot.RSS_14,"RSS_14"],[Ot.RSS_EXPANDED,"RSS_EXPANDED"],[Ot.UPC_A,"UPC_A"],[Ot.UPC_E,"UPC_E"],[Ot.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),lL;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(lL||(lL={}));function xbe(e){return Object.values(Ot).includes(e)}var B2;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(B2||(B2={}));var ybe=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[B2.SCAN_TYPE_CAMERA,B2.SCAN_TYPE_FILE],e}(),SV=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!oL.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,oL.get(t))},e}(),cL=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),tB;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(tB||(tB={}));var wbe=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:tB.UNKWOWN_ERROR}},e}(),vbe=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function pd(e){return typeof e>"u"||e===null}var d0=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),EV=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(s),o=Object.keys(t),l=0,d=o;l<d.length;l++){var u=d[l];if(i.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e}(),rB={exports:{}};(function(e,t){(function(r,n){n(t)})(Rf,function(r){function n(re){return re==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,c){re.__proto__=c}||function(re,c){for(var A in c)c.hasOwnProperty(A)&&(re[A]=c[A])};function i(re,c){s(re,c);function A(){this.constructor=re}re.prototype=c===null?Object.create(c):(A.prototype=c.prototype,new A)}function o(re,c){var A=Object.setPrototypeOf;A?A(re,c):re.__proto__=c}function l(re,c){c===void 0&&(c=re.constructor);var A=Error.captureStackTrace;A&&A(re,c)}var d=function(re){i(c,re);function c(A){var f=this.constructor,g=re.call(this,A)||this;return Object.defineProperty(g,"name",{value:f.name,enumerable:!1}),o(g,f.prototype),l(g),g}return c}(Error);class u extends d{constructor(c=void 0){super(c),this.message=c}getKind(){return this.constructor.kind}}u.kind="Exception";class h extends u{}h.kind="ArgumentException";class m extends u{}m.kind="IllegalArgumentException";class y{constructor(c){if(this.binarizer=c,c===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(c,A){return this.binarizer.getBlackRow(c,A)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(c,A,f,g){const x=this.binarizer.getLuminanceSource().crop(c,A,f,g);return new y(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new y(this.binarizer.createBinarizer(c))}rotateCounterClockwise45(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new y(this.binarizer.createBinarizer(c))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class p extends u{static getChecksumInstance(){return new p}}p.kind="ChecksumException";class b{constructor(c){this.source=c}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(c,A,f,g,x){for(;x--;)f[g++]=c[A++]}static currentTimeMillis(){return Date.now()}}class S extends u{}S.kind="IndexOutOfBoundsException";class w extends S{constructor(c=void 0,A=void 0){super(A),this.index=c,this.message=A}}w.kind="ArrayIndexOutOfBoundsException";class B{static fill(c,A){for(let f=0,g=c.length;f<g;f++)c[f]=A}static fillWithin(c,A,f,g){B.rangeCheck(c.length,A,f);for(let x=A;x<f;x++)c[x]=g}static rangeCheck(c,A,f){if(A>f)throw new m("fromIndex("+A+") > toIndex("+f+")");if(A<0)throw new w(A);if(f>c)throw new w(f)}static asList(...c){return c}static create(c,A,f){return Array.from({length:c}).map(x=>Array.from({length:A}).fill(f))}static createInt32Array(c,A,f){return Array.from({length:c}).map(x=>Int32Array.from({length:A}).fill(f))}static equals(c,A){if(!c||!A||!c.length||!A.length||c.length!==A.length)return!1;for(let f=0,g=c.length;f<g;f++)if(c[f]!==A[f])return!1;return!0}static hashCode(c){if(c===null)return 0;let A=1;for(const f of c)A=31*A+f;return A}static fillUint8Array(c,A){for(let f=0;f!==c.length;f++)c[f]=A}static copyOf(c,A){return c.slice(0,A)}static copyOfUint8Array(c,A){if(c.length<=A){const f=new Uint8Array(A);return f.set(c),f}return c.slice(0,A)}static copyOfRange(c,A,f){const g=f-A,x=new Int32Array(g);return N.arraycopy(c,A,x,0,g),x}static binarySearch(c,A,f){f===void 0&&(f=B.numberComparator);let g=0,x=c.length-1;for(;g<=x;){const v=x+g>>1,j=f(A,c[v]);if(j>0)g=v+1;else if(j<0)x=v-1;else return v}return-g-1}static numberComparator(c,A){return c-A}}class I{static numberOfTrailingZeros(c){let A;if(c===0)return 32;let f=31;return A=c<<16,A!==0&&(f-=16,c=A),A=c<<8,A!==0&&(f-=8,c=A),A=c<<4,A!==0&&(f-=4,c=A),A=c<<2,A!==0&&(f-=2,c=A),f-(c<<1>>>31)}static numberOfLeadingZeros(c){if(c===0)return 32;let A=1;return c>>>16||(A+=16,c<<=16),c>>>24||(A+=8,c<<=8),c>>>28||(A+=4,c<<=4),c>>>30||(A+=2,c<<=2),A-=c>>>31,A}static toHexString(c){return c.toString(16)}static toBinaryString(c){return String(parseInt(String(c),2))}static bitCount(c){return c=c-(c>>>1&1431655765),c=(c&858993459)+(c>>>2&858993459),c=c+(c>>>4)&252645135,c=c+(c>>>8),c=c+(c>>>16),c&63}static truncDivision(c,A){return Math.trunc(c/A)}static parseInt(c,A=void 0){return parseInt(c,A)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class _{constructor(c,A){c===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=c,A==null?this.bits=_.makeArray(c):this.bits=A)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(c){if(c>this.bits.length*32){const A=_.makeArray(c);N.arraycopy(this.bits,0,A,0,this.bits.length),this.bits=A}}get(c){return(this.bits[Math.floor(c/32)]&1<<(c&31))!==0}set(c){this.bits[Math.floor(c/32)]|=1<<(c&31)}flip(c){this.bits[Math.floor(c/32)]^=1<<(c&31)}getNextSet(c){const A=this.size;if(c>=A)return A;const f=this.bits;let g=Math.floor(c/32),x=f[g];x&=~((1<<(c&31))-1);const v=f.length;for(;x===0;){if(++g===v)return A;x=f[g]}const j=g*32+I.numberOfTrailingZeros(x);return j>A?A:j}getNextUnset(c){const A=this.size;if(c>=A)return A;const f=this.bits;let g=Math.floor(c/32),x=~f[g];x&=~((1<<(c&31))-1);const v=f.length;for(;x===0;){if(++g===v)return A;x=~f[g]}const j=g*32+I.numberOfTrailingZeros(x);return j>A?A:j}setBulk(c,A){this.bits[Math.floor(c/32)]=A}setRange(c,A){if(A<c||c<0||A>this.size)throw new m;if(A===c)return;A--;const f=Math.floor(c/32),g=Math.floor(A/32),x=this.bits;for(let v=f;v<=g;v++){const j=v>f?0:c&31,O=(2<<(v<g?31:A&31))-(1<<j);x[v]|=O}}clear(){const c=this.bits.length,A=this.bits;for(let f=0;f<c;f++)A[f]=0}isRange(c,A,f){if(A<c||c<0||A>this.size)throw new m;if(A===c)return!0;A--;const g=Math.floor(c/32),x=Math.floor(A/32),v=this.bits;for(let j=g;j<=x;j++){const k=j>g?0:c&31,W=(2<<(j<x?31:A&31))-(1<<k)&4294967295;if((v[j]&W)!==(f?W:0))return!1}return!0}appendBit(c){this.ensureCapacity(this.size+1),c&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(c,A){if(A<0||A>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+A);for(let f=A;f>0;f--)this.appendBit((c>>f-1&1)===1)}appendBitArray(c){const A=c.size;this.ensureCapacity(this.size+A);for(let f=0;f<A;f++)this.appendBit(c.get(f))}xor(c){if(this.size!==c.size)throw new m("Sizes don't match");const A=this.bits;for(let f=0,g=A.length;f<g;f++)A[f]^=c.bits[f]}toBytes(c,A,f,g){for(let x=0;x<g;x++){let v=0;for(let j=0;j<8;j++)this.get(c)&&(v|=1<<7-j),c++;A[f+x]=v}}getBitArray(){return this.bits}reverse(){const c=new Int32Array(this.bits.length),A=Math.floor((this.size-1)/32),f=A+1,g=this.bits;for(let x=0;x<f;x++){let v=g[x];v=v>>1&1431655765|(v&1431655765)<<1,v=v>>2&858993459|(v&858993459)<<2,v=v>>4&252645135|(v&252645135)<<4,v=v>>8&16711935|(v&16711935)<<8,v=v>>16&65535|(v&65535)<<16,c[A-x]=v}if(this.size!==f*32){const x=f*32-this.size;let v=c[0]>>>x;for(let j=1;j<f;j++){const k=c[j];v|=k<<32-x,c[j-1]=v,v=k>>>x}c[f-1]=v}this.bits=c}static makeArray(c){return new Int32Array(Math.floor((c+31)/32))}equals(c){if(!(c instanceof _))return!1;const A=c;return this.size===A.size&&B.equals(this.bits,A.bits)}hashCode(){return 31*this.size+B.hashCode(this.bits)}toString(){let c="";for(let A=0,f=this.size;A<f;A++)A&7||(c+=" "),c+=this.get(A)?"X":".";return c}clone(){return new _(this.size,this.bits.slice())}}var P;(function(re){re[re.OTHER=0]="OTHER",re[re.PURE_BARCODE=1]="PURE_BARCODE",re[re.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",re[re.TRY_HARDER=3]="TRY_HARDER",re[re.CHARACTER_SET=4]="CHARACTER_SET",re[re.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",re[re.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",re[re.ASSUME_GS1=7]="ASSUME_GS1",re[re.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",re[re.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",re[re.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(P||(P={}));var H=P;class D extends u{static getFormatInstance(){return new D}}D.kind="FormatException";var L;(function(re){re[re.Cp437=0]="Cp437",re[re.ISO8859_1=1]="ISO8859_1",re[re.ISO8859_2=2]="ISO8859_2",re[re.ISO8859_3=3]="ISO8859_3",re[re.ISO8859_4=4]="ISO8859_4",re[re.ISO8859_5=5]="ISO8859_5",re[re.ISO8859_6=6]="ISO8859_6",re[re.ISO8859_7=7]="ISO8859_7",re[re.ISO8859_8=8]="ISO8859_8",re[re.ISO8859_9=9]="ISO8859_9",re[re.ISO8859_10=10]="ISO8859_10",re[re.ISO8859_11=11]="ISO8859_11",re[re.ISO8859_13=12]="ISO8859_13",re[re.ISO8859_14=13]="ISO8859_14",re[re.ISO8859_15=14]="ISO8859_15",re[re.ISO8859_16=15]="ISO8859_16",re[re.SJIS=16]="SJIS",re[re.Cp1250=17]="Cp1250",re[re.Cp1251=18]="Cp1251",re[re.Cp1252=19]="Cp1252",re[re.Cp1256=20]="Cp1256",re[re.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",re[re.UTF8=22]="UTF8",re[re.ASCII=23]="ASCII",re[re.Big5=24]="Big5",re[re.GB18030=25]="GB18030",re[re.EUC_KR=26]="EUC_KR"})(L||(L={}));class T{constructor(c,A,f,...g){this.valueIdentifier=c,this.name=f,typeof A=="number"?this.values=Int32Array.from([A]):this.values=A,this.otherEncodingNames=g,T.VALUE_IDENTIFIER_TO_ECI.set(c,this),T.NAME_TO_ECI.set(f,this);const x=this.values;for(let v=0,j=x.length;v!==j;v++){const k=x[v];T.VALUES_TO_ECI.set(k,this)}for(const v of g)T.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(c){if(c<0||c>=900)throw new D("incorect value");const A=T.VALUES_TO_ECI.get(c);if(A===void 0)throw new D("incorect value");return A}static getCharacterSetECIByName(c){const A=T.NAME_TO_ECI.get(c);if(A===void 0)throw new D("incorect value");return A}equals(c){if(!(c instanceof T))return!1;const A=c;return this.getName()===A.getName()}}T.VALUE_IDENTIFIER_TO_ECI=new Map,T.VALUES_TO_ECI=new Map,T.NAME_TO_ECI=new Map,T.Cp437=new T(L.Cp437,Int32Array.from([0,2]),"Cp437"),T.ISO8859_1=new T(L.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),T.ISO8859_2=new T(L.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),T.ISO8859_3=new T(L.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),T.ISO8859_4=new T(L.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),T.ISO8859_5=new T(L.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),T.ISO8859_6=new T(L.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),T.ISO8859_7=new T(L.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),T.ISO8859_8=new T(L.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),T.ISO8859_9=new T(L.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),T.ISO8859_10=new T(L.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),T.ISO8859_11=new T(L.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),T.ISO8859_13=new T(L.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),T.ISO8859_14=new T(L.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),T.ISO8859_15=new T(L.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),T.ISO8859_16=new T(L.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),T.SJIS=new T(L.SJIS,20,"SJIS","Shift_JIS"),T.Cp1250=new T(L.Cp1250,21,"Cp1250","windows-1250"),T.Cp1251=new T(L.Cp1251,22,"Cp1251","windows-1251"),T.Cp1252=new T(L.Cp1252,23,"Cp1252","windows-1252"),T.Cp1256=new T(L.Cp1256,24,"Cp1256","windows-1256"),T.UnicodeBigUnmarked=new T(L.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),T.UTF8=new T(L.UTF8,26,"UTF8","UTF-8"),T.ASCII=new T(L.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),T.Big5=new T(L.Big5,28,"Big5"),T.GB18030=new T(L.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),T.EUC_KR=new T(L.EUC_KR,30,"EUC_KR","EUC-KR");class z extends u{}z.kind="UnsupportedOperationException";class M{static decode(c,A){const f=this.encodingName(A);return this.customDecoder?this.customDecoder(c,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(c,f):new TextDecoder(f).decode(c)}static shouldDecodeOnFallback(c){return!M.isBrowser()&&c==="ISO-8859-1"}static encode(c,A){const f=this.encodingName(A);return this.customEncoder?this.customEncoder(c,f):typeof TextEncoder>"u"?this.encodeFallback(c):new TextEncoder().encode(c)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(c){return typeof c=="string"?c:c.getName()}static encodingCharacterSet(c){return c instanceof T?c:T.getCharacterSetECIByName(c)}static decodeFallback(c,A){const f=this.encodingCharacterSet(A);if(M.isDecodeFallbackSupported(f)){let g="";for(let x=0,v=c.length;x<v;x++){let j=c[x].toString(16);j.length<2&&(j="0"+j),g+="%"+j}return decodeURIComponent(g)}if(f.equals(T.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(c.buffer));throw new z(`Encoding ${this.encodingName(A)} not supported by fallback.`)}static isDecodeFallbackSupported(c){return c.equals(T.UTF8)||c.equals(T.ISO8859_1)||c.equals(T.ASCII)}static encodeFallback(c){const f=btoa(unescape(encodeURIComponent(c))).split(""),g=[];for(let x=0;x<f.length;x++)g.push(f[x].charCodeAt(0));return new Uint8Array(g)}}class V{static castAsNonUtf8Char(c,A=null){const f=A?A.getName():this.ISO88591;return M.decode(new Uint8Array([c]),f)}static guessEncoding(c,A){if(A!=null&&A.get(H.CHARACTER_SET)!==void 0)return A.get(H.CHARACTER_SET).toString();const f=c.length;let g=!0,x=!0,v=!0,j=0,k=0,O=0,W=0,ne=0,le=0,ye=0,Be=0,je=0,Me=0,qe=0;const ct=c.length>3&&c[0]===239&&c[1]===187&&c[2]===191;for(let ht=0;ht<f&&(g||x||v);ht++){const dt=c[ht]&255;v&&(j>0?dt&128?j--:v=!1:dt&128&&(dt&64?(j++,dt&32?(j++,dt&16?(j++,dt&8?v=!1:W++):O++):k++):v=!1)),g&&(dt>127&&dt<160?g=!1:dt>159&&(dt<192||dt===215||dt===247)&&qe++),x&&(ne>0?dt<64||dt===127||dt>252?x=!1:ne--:dt===128||dt===160||dt>239?x=!1:dt>160&&dt<224?(le++,Be=0,ye++,ye>je&&(je=ye)):dt>127?(ne++,ye=0,Be++,Be>Me&&(Me=Be)):(ye=0,Be=0))}return v&&j>0&&(v=!1),x&&ne>0&&(x=!1),v&&(ct||k+O+W>0)?V.UTF8:x&&(V.ASSUME_SHIFT_JIS||je>=3||Me>=3)?V.SHIFT_JIS:g&&x?je===2&&le===2||qe*10>=f?V.SHIFT_JIS:V.ISO88591:g?V.ISO88591:x?V.SHIFT_JIS:v?V.UTF8:V.PLATFORM_DEFAULT_ENCODING}static format(c,...A){let f=-1;function g(v,j,k,O,W,ne){if(v==="%%")return"%";if(A[++f]===void 0)return;v=O?parseInt(O.substr(1)):void 0;let le=W?parseInt(W.substr(1)):void 0,ye;switch(ne){case"s":ye=A[f];break;case"c":ye=A[f][0];break;case"f":ye=parseFloat(A[f]).toFixed(v);break;case"p":ye=parseFloat(A[f]).toPrecision(v);break;case"e":ye=parseFloat(A[f]).toExponential(v);break;case"x":ye=parseInt(A[f]).toString(le||16);break;case"d":ye=parseFloat(parseInt(A[f],le||10).toPrecision(v)).toFixed(0);break}ye=typeof ye=="object"?JSON.stringify(ye):(+ye).toString(le);let Be=parseInt(k),je=k&&k[0]+""=="0"?"0":" ";for(;ye.length<Be;)ye=j!==void 0?ye+je:je+ye;return ye}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(x,g)}static getBytes(c,A){return M.encode(c,A)}static getCharCode(c,A=0){return c.charCodeAt(A)}static getCharAt(c){return String.fromCharCode(c)}}V.SHIFT_JIS=T.SJIS.getName(),V.GB2312="GB2312",V.ISO88591=T.ISO8859_1.getName(),V.EUC_JP="EUC_JP",V.UTF8=T.UTF8.getName(),V.PLATFORM_DEFAULT_ENCODING=V.UTF8,V.ASSUME_SHIFT_JIS=!1;class J{constructor(c=""){this.value=c}enableDecoding(c){return this.encoding=c,this}append(c){return typeof c=="string"?this.value+=c.toString():this.encoding?this.value+=V.castAsNonUtf8Char(c,this.encoding):this.value+=String.fromCharCode(c),this}appendChars(c,A,f){for(let g=A;A<A+f;g++)this.append(c[g]);return this}length(){return this.value.length}charAt(c){return this.value.charAt(c)}deleteCharAt(c){this.value=this.value.substr(0,c)+this.value.substring(c+1)}setCharAt(c,A){this.value=this.value.substr(0,c)+A+this.value.substr(c+1)}substring(c,A){return this.value.substring(c,A)}setLengthToZero(){this.value=""}toString(){return this.value}insert(c,A){this.value=this.value.substr(0,c)+A+this.value.substr(c+A.length)}}class Z{constructor(c,A,f,g){if(this.width=c,this.height=A,this.rowSize=f,this.bits=g,A==null&&(A=c),this.height=A,c<1||A<1)throw new m("Both dimensions must be greater than 0");f==null&&(f=Math.floor((c+31)/32)),this.rowSize=f,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(c){const A=c.length,f=c[0].length,g=new Z(f,A);for(let x=0;x<A;x++){const v=c[x];for(let j=0;j<f;j++)v[j]&&g.set(j,x)}return g}static parseFromString(c,A,f){if(c===null)throw new m("stringRepresentation cannot be null");const g=new Array(c.length);let x=0,v=0,j=-1,k=0,O=0;for(;O<c.length;)if(c.charAt(O)===`
`||c.charAt(O)==="\r"){if(x>v){if(j===-1)j=x-v;else if(x-v!==j)throw new m("row lengths do not match");v=x,k++}O++}else if(c.substring(O,O+A.length)===A)O+=A.length,g[x]=!0,x++;else if(c.substring(O,O+f.length)===f)O+=f.length,g[x]=!1,x++;else throw new m("illegal character encountered: "+c.substring(O));if(x>v){if(j===-1)j=x-v;else if(x-v!==j)throw new m("row lengths do not match");k++}const W=new Z(j,k);for(let ne=0;ne<x;ne++)g[ne]&&W.set(Math.floor(ne%j),Math.floor(ne/j));return W}get(c,A){const f=A*this.rowSize+Math.floor(c/32);return(this.bits[f]>>>(c&31)&1)!==0}set(c,A){const f=A*this.rowSize+Math.floor(c/32);this.bits[f]|=1<<(c&31)&4294967295}unset(c,A){const f=A*this.rowSize+Math.floor(c/32);this.bits[f]&=~(1<<(c&31)&4294967295)}flip(c,A){const f=A*this.rowSize+Math.floor(c/32);this.bits[f]^=1<<(c&31)&4294967295}xor(c){if(this.width!==c.getWidth()||this.height!==c.getHeight()||this.rowSize!==c.getRowSize())throw new m("input matrix dimensions do not match");const A=new _(Math.floor(this.width/32)+1),f=this.rowSize,g=this.bits;for(let x=0,v=this.height;x<v;x++){const j=x*f,k=c.getRow(x,A).getBitArray();for(let O=0;O<f;O++)g[j+O]^=k[O]}}clear(){const c=this.bits,A=c.length;for(let f=0;f<A;f++)c[f]=0}setRegion(c,A,f,g){if(A<0||c<0)throw new m("Left and top must be nonnegative");if(g<1||f<1)throw new m("Height and width must be at least 1");const x=c+f,v=A+g;if(v>this.height||x>this.width)throw new m("The region must fit inside the matrix");const j=this.rowSize,k=this.bits;for(let O=A;O<v;O++){const W=O*j;for(let ne=c;ne<x;ne++)k[W+Math.floor(ne/32)]|=1<<(ne&31)&4294967295}}getRow(c,A){A==null||A.getSize()<this.width?A=new _(this.width):A.clear();const f=this.rowSize,g=this.bits,x=c*f;for(let v=0;v<f;v++)A.setBulk(v*32,g[x+v]);return A}setRow(c,A){N.arraycopy(A.getBitArray(),0,this.bits,c*this.rowSize,this.rowSize)}rotate180(){const c=this.getWidth(),A=this.getHeight();let f=new _(c),g=new _(c);for(let x=0,v=Math.floor((A+1)/2);x<v;x++)f=this.getRow(x,f),g=this.getRow(A-1-x,g),f.reverse(),g.reverse(),this.setRow(x,g),this.setRow(A-1-x,f)}getEnclosingRectangle(){const c=this.width,A=this.height,f=this.rowSize,g=this.bits;let x=c,v=A,j=-1,k=-1;for(let O=0;O<A;O++)for(let W=0;W<f;W++){const ne=g[O*f+W];if(ne!==0){if(O<v&&(v=O),O>k&&(k=O),W*32<x){let le=0;for(;!(ne<<31-le&4294967295);)le++;W*32+le<x&&(x=W*32+le)}if(W*32+31>j){let le=31;for(;!(ne>>>le);)le--;W*32+le>j&&(j=W*32+le)}}}return j<x||k<v?null:Int32Array.from([x,v,j-x+1,k-v+1])}getTopLeftOnBit(){const c=this.rowSize,A=this.bits;let f=0;for(;f<A.length&&A[f]===0;)f++;if(f===A.length)return null;const g=f/c;let x=f%c*32;const v=A[f];let j=0;for(;!(v<<31-j&4294967295);)j++;return x+=j,Int32Array.from([x,g])}getBottomRightOnBit(){const c=this.rowSize,A=this.bits;let f=A.length-1;for(;f>=0&&A[f]===0;)f--;if(f<0)return null;const g=Math.floor(f/c);let x=Math.floor(f%c)*32;const v=A[f];let j=31;for(;!(v>>>j);)j--;return x+=j,Int32Array.from([x,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(c){if(!(c instanceof Z))return!1;const A=c;return this.width===A.width&&this.height===A.height&&this.rowSize===A.rowSize&&B.equals(this.bits,A.bits)}hashCode(){let c=this.width;return c=31*c+this.width,c=31*c+this.height,c=31*c+this.rowSize,c=31*c+B.hashCode(this.bits),c}toString(c="X ",A="  ",f=`
`){return this.buildToString(c,A,f)}buildToString(c,A,f){let g=new J;for(let x=0,v=this.height;x<v;x++){for(let j=0,k=this.width;j<k;j++)g.append(this.get(j,x)?c:A);g.append(f)}return g.toString()}clone(){return new Z(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends u{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class q extends b{constructor(c){super(c),this.luminances=q.EMPTY,this.buckets=new Int32Array(q.LUMINANCE_BUCKETS)}getBlackRow(c,A){const f=this.getLuminanceSource(),g=f.getWidth();A==null||A.getSize()<g?A=new _(g):A.clear(),this.initArrays(g);const x=f.getRow(c,this.luminances),v=this.buckets;for(let k=0;k<g;k++)v[(x[k]&255)>>q.LUMINANCE_SHIFT]++;const j=q.estimateBlackPoint(v);if(g<3)for(let k=0;k<g;k++)(x[k]&255)<j&&A.set(k);else{let k=x[0]&255,O=x[1]&255;for(let W=1;W<g-1;W++){const ne=x[W+1]&255;(O*4-k-ne)/2<j&&A.set(W),k=O,O=ne}}return A}getBlackMatrix(){const c=this.getLuminanceSource(),A=c.getWidth(),f=c.getHeight(),g=new Z(A,f);this.initArrays(A);const x=this.buckets;for(let k=1;k<5;k++){const O=Math.floor(f*k/5),W=c.getRow(O,this.luminances),ne=Math.floor(A*4/5);for(let le=Math.floor(A/5);le<ne;le++){const ye=W[le]&255;x[ye>>q.LUMINANCE_SHIFT]++}}const v=q.estimateBlackPoint(x),j=c.getMatrix();for(let k=0;k<f;k++){const O=k*A;for(let W=0;W<A;W++)(j[O+W]&255)<v&&g.set(W,k)}return g}createBinarizer(c){return new q(c)}initArrays(c){this.luminances.length<c&&(this.luminances=new Uint8ClampedArray(c));const A=this.buckets;for(let f=0;f<q.LUMINANCE_BUCKETS;f++)A[f]=0}static estimateBlackPoint(c){const A=c.length;let f=0,g=0,x=0;for(let W=0;W<A;W++)c[W]>x&&(g=W,x=c[W]),c[W]>f&&(f=c[W]);let v=0,j=0;for(let W=0;W<A;W++){const ne=W-g,le=c[W]*ne*ne;le>j&&(v=W,j=le)}if(g>v){const W=g;g=v,v=W}if(v-g<=A/16)throw new ee;let k=v-1,O=-1;for(let W=v-1;W>g;W--){const ne=W-g,le=ne*ne*(v-W)*(f-c[W]);le>O&&(k=W,O=le)}return k<<q.LUMINANCE_SHIFT}}q.LUMINANCE_BITS=5,q.LUMINANCE_SHIFT=8-q.LUMINANCE_BITS,q.LUMINANCE_BUCKETS=1<<q.LUMINANCE_BITS,q.EMPTY=Uint8ClampedArray.from([0]);class X extends q{constructor(c){super(c),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const c=this.getLuminanceSource(),A=c.getWidth(),f=c.getHeight();if(A>=X.MINIMUM_DIMENSION&&f>=X.MINIMUM_DIMENSION){const g=c.getMatrix();let x=A>>X.BLOCK_SIZE_POWER;A&X.BLOCK_SIZE_MASK&&x++;let v=f>>X.BLOCK_SIZE_POWER;f&X.BLOCK_SIZE_MASK&&v++;const j=X.calculateBlackPoints(g,x,v,A,f),k=new Z(A,f);X.calculateThresholdForBlock(g,x,v,A,f,j,k),this.matrix=k}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(c){return new X(c)}static calculateThresholdForBlock(c,A,f,g,x,v,j){const k=x-X.BLOCK_SIZE,O=g-X.BLOCK_SIZE;for(let W=0;W<f;W++){let ne=W<<X.BLOCK_SIZE_POWER;ne>k&&(ne=k);const le=X.cap(W,2,f-3);for(let ye=0;ye<A;ye++){let Be=ye<<X.BLOCK_SIZE_POWER;Be>O&&(Be=O);const je=X.cap(ye,2,A-3);let Me=0;for(let ct=-2;ct<=2;ct++){const ht=v[le+ct];Me+=ht[je-2]+ht[je-1]+ht[je]+ht[je+1]+ht[je+2]}const qe=Me/25;X.thresholdBlock(c,Be,ne,qe,g,j)}}}static cap(c,A,f){return c<A?A:c>f?f:c}static thresholdBlock(c,A,f,g,x,v){for(let j=0,k=f*x+A;j<X.BLOCK_SIZE;j++,k+=x)for(let O=0;O<X.BLOCK_SIZE;O++)(c[k+O]&255)<=g&&v.set(A+O,f+j)}static calculateBlackPoints(c,A,f,g,x){const v=x-X.BLOCK_SIZE,j=g-X.BLOCK_SIZE,k=new Array(f);for(let O=0;O<f;O++){k[O]=new Int32Array(A);let W=O<<X.BLOCK_SIZE_POWER;W>v&&(W=v);for(let ne=0;ne<A;ne++){let le=ne<<X.BLOCK_SIZE_POWER;le>j&&(le=j);let ye=0,Be=255,je=0;for(let qe=0,ct=W*g+le;qe<X.BLOCK_SIZE;qe++,ct+=g){for(let ht=0;ht<X.BLOCK_SIZE;ht++){const dt=c[ct+ht]&255;ye+=dt,dt<Be&&(Be=dt),dt>je&&(je=dt)}if(je-Be>X.MIN_DYNAMIC_RANGE)for(qe++,ct+=g;qe<X.BLOCK_SIZE;qe++,ct+=g)for(let ht=0;ht<X.BLOCK_SIZE;ht++)ye+=c[ct+ht]&255}let Me=ye>>X.BLOCK_SIZE_POWER*2;if(je-Be<=X.MIN_DYNAMIC_RANGE&&(Me=Be/2,O>0&&ne>0)){const qe=(k[O-1][ne]+2*k[O][ne-1]+k[O-1][ne-1])/4;Be<qe&&(Me=qe)}k[O][ne]=Me}}return k}}X.BLOCK_SIZE_POWER=3,X.BLOCK_SIZE=1<<X.BLOCK_SIZE_POWER,X.BLOCK_SIZE_MASK=X.BLOCK_SIZE-1,X.MINIMUM_DIMENSION=X.BLOCK_SIZE*5,X.MIN_DYNAMIC_RANGE=24;class Y{constructor(c,A){this.width=c,this.height=A}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(c,A,f,g){throw new z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new z("This luminance source does not support rotation by 45 degrees.")}toString(){const c=new Uint8ClampedArray(this.width);let A=new J;for(let f=0;f<this.height;f++){const g=this.getRow(f,c);for(let x=0;x<this.width;x++){const v=g[x]&255;let j;v<64?j="#":v<128?j="+":v<192?j=".":j=" ",A.append(j)}A.append(`
`)}return A.toString()}}class K extends Y{constructor(c){super(c.getWidth(),c.getHeight()),this.delegate=c}getRow(c,A){const f=this.delegate.getRow(c,A),g=this.getWidth();for(let x=0;x<g;x++)f[x]=255-(f[x]&255);return f}getMatrix(){const c=this.delegate.getMatrix(),A=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(A);for(let g=0;g<A;g++)f[g]=255-(c[g]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(c,A,f,g){return new K(this.delegate.crop(c,A,f,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new K(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new K(this.delegate.rotateCounterClockwise45())}}class ce extends Y{constructor(c){super(c.width,c.height),this.canvas=c,this.tempCanvasElement=null,this.buffer=ce.makeBufferFromCanvasImageData(c)}static makeBufferFromCanvasImageData(c){const A=c.getContext("2d").getImageData(0,0,c.width,c.height);return ce.toGrayscaleBuffer(A.data,c.width,c.height)}static toGrayscaleBuffer(c,A,f){const g=new Uint8ClampedArray(A*f);for(let x=0,v=0,j=c.length;x<j;x+=4,v++){let k;if(c[x+3]===0)k=255;else{const W=c[x],ne=c[x+1],le=c[x+2];k=306*W+601*ne+117*le+512>>10}g[v]=k}return g}getRow(c,A){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const f=this.getWidth(),g=c*f;return A===null?A=this.buffer.slice(g,g+f):(A.length<f&&(A=new Uint8ClampedArray(f)),A.set(this.buffer.slice(g,g+f))),A}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(c,A,f,g){return super.crop(c,A,f,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const c=this.canvas.ownerDocument.createElement("canvas");c.width=this.canvas.width,c.height=this.canvas.height,this.tempCanvasElement=c}return this.tempCanvasElement}rotate(c){const A=this.getTempCanvasElement(),f=A.getContext("2d"),g=c*ce.DEGREE_TO_RADIANS,x=this.canvas.width,v=this.canvas.height,j=Math.ceil(Math.abs(Math.cos(g))*x+Math.abs(Math.sin(g))*v),k=Math.ceil(Math.abs(Math.sin(g))*x+Math.abs(Math.cos(g))*v);return A.width=j,A.height=k,f.translate(j/2,k/2),f.rotate(g),f.drawImage(this.canvas,x/-2,v/-2),this.buffer=ce.makeBufferFromCanvasImageData(A),this}invert(){return new K(this)}}ce.DEGREE_TO_RADIANS=Math.PI/180;class oe{constructor(c,A,f){this.deviceId=c,this.label=A,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Q=(globalThis||Rf||self||window||void 0)&&(globalThis||Rf||self||window||void 0).__awaiter||function(re,c,A,f){function g(x){return x instanceof A?x:new A(function(v){v(x)})}return new(A||(A=Promise))(function(x,v){function j(W){try{O(f.next(W))}catch(ne){v(ne)}}function k(W){try{O(f.throw(W))}catch(ne){v(ne)}}function O(W){W.done?x(W.value):g(W.value).then(j,k)}O((f=f.apply(re,c||[])).next())})};class G{constructor(c,A=500,f){this.reader=c,this.timeBetweenScansMillis=A,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(c){this._timeBetweenDecodingAttempts=c<0?0:c}set hints(c){this._hints=c||null}get hints(){return this._hints}listVideoInputDevices(){return Q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const c=yield navigator.mediaDevices.enumerateDevices(),A=[];for(const f of c){const g=f.kind==="video"?"videoinput":f.kind;if(g!=="videoinput")continue;const x=f.deviceId||f.id,v=f.label||`Video device ${A.length+1}`,j=f.groupId,k={deviceId:x,label:v,kind:g,groupId:j};A.push(k)}return A})}getVideoInputDevices(){return Q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(A=>new oe(A.deviceId,A.label))})}findDeviceById(c){return Q(this,void 0,void 0,function*(){const A=yield this.listVideoInputDevices();return A?A.find(f=>f.deviceId===c):null})}decodeFromInputVideoDevice(c,A){return Q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(c,A)})}decodeOnceFromVideoDevice(c,A){return Q(this,void 0,void 0,function*(){this.reset();let f;c?f={deviceId:{exact:c}}:f={facingMode:"environment"};const g={video:f};return yield this.decodeOnceFromConstraints(g,A)})}decodeOnceFromConstraints(c,A){return Q(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeOnceFromStream(f,A)})}decodeOnceFromStream(c,A){return Q(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(c,A);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(c,A,f){return Q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(c,A,f)})}decodeFromVideoDevice(c,A,f){return Q(this,void 0,void 0,function*(){let g;c?g={deviceId:{exact:c}}:g={facingMode:"environment"};const x={video:g};return yield this.decodeFromConstraints(x,A,f)})}decodeFromConstraints(c,A,f){return Q(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeFromStream(g,A,f)})}decodeFromStream(c,A,f){return Q(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(c,A);return yield this.decodeContinuously(g,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(c,A){return Q(this,void 0,void 0,function*(){const f=this.prepareVideoElement(A);return this.addVideoSource(f,c),this.videoElement=f,this.stream=c,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(c){return new Promise((A,f)=>this.playVideoOnLoad(c,()=>A()))}playVideoOnLoad(c,A){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(c),c.addEventListener("ended",this.videoEndedListener),c.addEventListener("canplay",this.videoCanPlayListener),c.addEventListener("playing",A),this.tryPlayVideo(c)}isVideoPlaying(c){return c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2}tryPlayVideo(c){return Q(this,void 0,void 0,function*(){if(this.isVideoPlaying(c)){console.warn("Trying to play video that is already playing.");return}try{yield c.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(c,A){const f=document.getElementById(c);if(!f)throw new h(`element with id '${c}' not found`);if(f.nodeName.toLowerCase()!==A.toLowerCase())throw new h(`element with id '${c}' must be an ${A} element`);return f}decodeFromImage(c,A){if(!c&&!A)throw new h("either imageElement with a src set or an url must be provided");return A&&!c?this.decodeFromImageUrl(A):this.decodeFromImageElement(c)}decodeFromVideo(c,A){if(!c&&!A)throw new h("Either an element with a src set or an URL must be provided");return A&&!c?this.decodeFromVideoUrl(A):this.decodeFromVideoElement(c)}decodeFromVideoContinuously(c,A,f){if(c===void 0&&A===void 0)throw new h("Either an element with a src set or an URL must be provided");return A&&!c?this.decodeFromVideoUrlContinuously(A,f):this.decodeFromVideoElementContinuously(c,f)}decodeFromImageElement(c){if(!c)throw new h("An image element must be provided.");this.reset();const A=this.prepareImageElement(c);this.imageElement=A;let f;return this.isImageLoaded(A)?f=this.decodeOnce(A,!1,!0):f=this._decodeOnLoadImage(A),f}decodeFromVideoElement(c){const A=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideo(A)}decodeFromVideoElementContinuously(c,A){const f=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideoContinuously(f,A)}_decodeFromVideoElementSetup(c){if(!c)throw new h("A video element must be provided.");this.reset();const A=this.prepareVideoElement(c);return this.videoElement=A,A}decodeFromImageUrl(c){if(!c)throw new h("An URL must be provided.");this.reset();const A=this.prepareImageElement();this.imageElement=A;const f=this._decodeOnLoadImage(A);return A.src=c,f}decodeFromVideoUrl(c){if(!c)throw new h("An URL must be provided.");this.reset();const A=this.prepareVideoElement(),f=this.decodeFromVideoElement(A);return A.src=c,f}decodeFromVideoUrlContinuously(c,A){if(!c)throw new h("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(f,A);return f.src=c,g}_decodeOnLoadImage(c){return new Promise((A,f)=>{this.imageLoadedListener=()=>this.decodeOnce(c,!1,!0).then(A,f),c.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(c){return Q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(c),yield this.decodeOnce(c)})}_decodeOnLoadVideoContinuously(c,A){return Q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(c),this.decodeContinuously(c,A)})}isImageLoaded(c){return!(!c.complete||c.naturalWidth===0)}prepareImageElement(c){let A;return typeof c>"u"&&(A=document.createElement("img"),A.width=200,A.height=200),typeof c=="string"&&(A=this.getMediaElement(c,"img")),c instanceof HTMLImageElement&&(A=c),A}prepareVideoElement(c){let A;return!c&&typeof document<"u"&&(A=document.createElement("video"),A.width=200,A.height=200),typeof c=="string"&&(A=this.getMediaElement(c,"video")),c instanceof HTMLVideoElement&&(A=c),A.setAttribute("autoplay","true"),A.setAttribute("muted","true"),A.setAttribute("playsinline","true"),A}decodeOnce(c,A=!0,f=!0){this._stopAsyncDecode=!1;const g=(x,v)=>{if(this._stopAsyncDecode){v(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const j=this.decode(c);x(j)}catch(j){const k=A&&j instanceof ee,W=(j instanceof p||j instanceof D)&&f;if(k||W)return setTimeout(g,this._timeBetweenDecodingAttempts,x,v);v(j)}};return new Promise((x,v)=>g(x,v))}decodeContinuously(c,A){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(c);A(g,null),setTimeout(f,this.timeBetweenScansMillis)}catch(g){A(null,g);const x=g instanceof p||g instanceof D,v=g instanceof ee;(x||v)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(c){const A=this.createBinaryBitmap(c);return this.decodeBitmap(A)}_isHTMLVideoElement(c){return c.videoWidth!==0}drawFrameOnCanvas(c,A,f){A||(A={sx:0,sy:0,sWidth:c.videoWidth,sHeight:c.videoHeight,dx:0,dy:0,dWidth:c.videoWidth,dHeight:c.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(c,A.sx,A.sy,A.sWidth,A.sHeight,A.dx,A.dy,A.dWidth,A.dHeight)}drawImageOnCanvas(c,A,f=this.captureCanvasContext){A||(A={sx:0,sy:0,sWidth:c.naturalWidth,sHeight:c.naturalHeight,dx:0,dy:0,dWidth:c.naturalWidth,dHeight:c.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(c,A.sx,A.sy,A.sWidth,A.sHeight,A.dx,A.dy,A.dWidth,A.dHeight)}createBinaryBitmap(c){this.getCaptureCanvasContext(c),this._isHTMLVideoElement(c)?this.drawFrameOnCanvas(c):this.drawImageOnCanvas(c);const A=this.getCaptureCanvas(c),f=new ce(A),g=new X(f);return new y(g)}getCaptureCanvasContext(c){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(c).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(c){if(!this.captureCanvas){const A=this.createCaptureCanvas(c);this.captureCanvas=A}return this.captureCanvas}decodeBitmap(c){return this.reader.decode(c,this._hints)}createCaptureCanvas(c){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const A=document.createElement("canvas");let f,g;return typeof c<"u"&&(c instanceof HTMLVideoElement?(f=c.videoWidth,g=c.videoHeight):c instanceof HTMLImageElement&&(f=c.naturalWidth||c.width,g=c.naturalHeight||c.height)),A.style.width=f+"px",A.style.height=g+"px",A.width=f,A.height=g,A}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(c=>c.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(c,A){try{c.srcObject=A}catch{c.src=URL.createObjectURL(A)}}cleanVideoSource(c){try{c.srcObject=null}catch{c.src=""}this.videoElement.removeAttribute("src")}}class te{constructor(c,A,f=A==null?0:8*A.length,g,x,v=N.currentTimeMillis()){this.text=c,this.rawBytes=A,this.numBits=f,this.resultPoints=g,this.format=x,this.timestamp=v,this.text=c,this.rawBytes=A,f==null?this.numBits=A==null?0:8*A.length:this.numBits=f,this.resultPoints=g,this.format=x,this.resultMetadata=null,v==null?this.timestamp=N.currentTimeMillis():this.timestamp=v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(c,A){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(c,A)}putAllMetadata(c){c!==null&&(this.resultMetadata===null?this.resultMetadata=c:this.resultMetadata=new Map(c))}addResultPoints(c){const A=this.resultPoints;if(A===null)this.resultPoints=c;else if(c!==null&&c.length>0){const f=new Array(A.length+c.length);N.arraycopy(A,0,f,0,A.length),N.arraycopy(c,0,f,A.length,c.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var se;(function(re){re[re.AZTEC=0]="AZTEC",re[re.CODABAR=1]="CODABAR",re[re.CODE_39=2]="CODE_39",re[re.CODE_93=3]="CODE_93",re[re.CODE_128=4]="CODE_128",re[re.DATA_MATRIX=5]="DATA_MATRIX",re[re.EAN_8=6]="EAN_8",re[re.EAN_13=7]="EAN_13",re[re.ITF=8]="ITF",re[re.MAXICODE=9]="MAXICODE",re[re.PDF_417=10]="PDF_417",re[re.QR_CODE=11]="QR_CODE",re[re.RSS_14=12]="RSS_14",re[re.RSS_EXPANDED=13]="RSS_EXPANDED",re[re.UPC_A=14]="UPC_A",re[re.UPC_E=15]="UPC_E",re[re.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(se||(se={}));var de=se,ge;(function(re){re[re.OTHER=0]="OTHER",re[re.ORIENTATION=1]="ORIENTATION",re[re.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",re[re.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",re[re.ISSUE_NUMBER=4]="ISSUE_NUMBER",re[re.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",re[re.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",re[re.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",re[re.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",re[re.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",re[re.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ge||(ge={}));var ue=ge;class Ee{constructor(c,A,f,g,x=-1,v=-1){this.rawBytes=c,this.text=A,this.byteSegments=f,this.ecLevel=g,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=v,this.numBits=c==null?0:8*c.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(c){this.numBits=c}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(c){this.errorsCorrected=c}getErasures(){return this.erasures}setErasures(c){this.erasures=c}getOther(){return this.other}setOther(c){this.other=c}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ke{exp(c){return this.expTable[c]}log(c){if(c===0)throw new m;return this.logTable[c]}static addOrSubtract(c,A){return c^A}}class _e{constructor(c,A){if(A.length===0)throw new m;this.field=c;const f=A.length;if(f>1&&A[0]===0){let g=1;for(;g<f&&A[g]===0;)g++;g===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-g),N.arraycopy(A,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=A}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);const A=this.coefficients;let f;if(c===1){f=0;for(let v=0,j=A.length;v!==j;v++){const k=A[v];f=ke.addOrSubtract(f,k)}return f}f=A[0];const g=A.length,x=this.field;for(let v=1;v<g;v++)f=ke.addOrSubtract(x.multiply(c,f),A[v]);return f}addOrSubtract(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return c;if(c.isZero())return this;let A=this.coefficients,f=c.coefficients;if(A.length>f.length){const v=A;A=f,f=v}let g=new Int32Array(f.length);const x=f.length-A.length;N.arraycopy(f,0,g,0,x);for(let v=x;v<f.length;v++)g[v]=ke.addOrSubtract(A[v-x],f[v]);return new _e(this.field,g)}multiply(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||c.isZero())return this.field.getZero();const A=this.coefficients,f=A.length,g=c.coefficients,x=g.length,v=new Int32Array(f+x-1),j=this.field;for(let k=0;k<f;k++){const O=A[k];for(let W=0;W<x;W++)v[k+W]=ke.addOrSubtract(v[k+W],j.multiply(O,g[W]))}return new _e(j,v)}multiplyScalar(c){if(c===0)return this.field.getZero();if(c===1)return this;const A=this.coefficients.length,f=this.field,g=new Int32Array(A),x=this.coefficients;for(let v=0;v<A;v++)g[v]=f.multiply(x[v],c);return new _e(f,g)}multiplyByMonomial(c,A){if(c<0)throw new m;if(A===0)return this.field.getZero();const f=this.coefficients,g=f.length,x=new Int32Array(g+c),v=this.field;for(let j=0;j<g;j++)x[j]=v.multiply(f[j],A);return new _e(v,x)}divide(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(c.isZero())throw new m("Divide by 0");const A=this.field;let f=A.getZero(),g=this;const x=c.getCoefficient(c.getDegree()),v=A.inverse(x);for(;g.getDegree()>=c.getDegree()&&!g.isZero();){const j=g.getDegree()-c.getDegree(),k=A.multiply(g.getCoefficient(g.getDegree()),v),O=c.multiplyByMonomial(j,k),W=A.buildMonomial(j,k);f=f.addOrSubtract(W),g=g.addOrSubtract(O)}return[f,g]}toString(){let c="";for(let A=this.getDegree();A>=0;A--){let f=this.getCoefficient(A);if(f!==0){if(f<0?(c+=" - ",f=-f):c.length>0&&(c+=" + "),A===0||f!==1){const g=this.field.log(f);g===0?c+="1":g===1?c+="a":(c+="a^",c+=g)}A!==0&&(A===1?c+="x":(c+="x^",c+=A))}}return c}}class Oe extends u{}Oe.kind="ArithmeticException";class He extends ke{constructor(c,A,f){super(),this.primitive=c,this.size=A,this.generatorBase=f;const g=new Int32Array(A);let x=1;for(let j=0;j<A;j++)g[j]=x,x*=2,x>=A&&(x^=c,x&=A-1);this.expTable=g;const v=new Int32Array(A);for(let j=0;j<A-1;j++)v[g[j]]=j;this.logTable=v,this.zero=new _e(this,Int32Array.from([0])),this.one=new _e(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,A){if(c<0)throw new m;if(A===0)return this.zero;const f=new Int32Array(c+1);return f[0]=A,new _e(this,f)}inverse(c){if(c===0)throw new Oe;return this.expTable[this.size-this.logTable[c]-1]}multiply(c,A){return c===0||A===0?0:this.expTable[(this.logTable[c]+this.logTable[A])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(c){return c===this}}He.AZTEC_DATA_12=new He(4201,4096,1),He.AZTEC_DATA_10=new He(1033,1024,1),He.AZTEC_DATA_6=new He(67,64,1),He.AZTEC_PARAM=new He(19,16,1),He.QR_CODE_FIELD_256=new He(285,256,0),He.DATA_MATRIX_FIELD_256=new He(301,256,1),He.AZTEC_DATA_8=He.DATA_MATRIX_FIELD_256,He.MAXICODE_FIELD_64=He.AZTEC_DATA_6;class Ne extends u{}Ne.kind="ReedSolomonException";class me extends u{}me.kind="IllegalStateException";class Pe{constructor(c){this.field=c}decode(c,A){const f=this.field,g=new _e(f,c),x=new Int32Array(A);let v=!0;for(let ye=0;ye<A;ye++){const Be=g.evaluateAt(f.exp(ye+f.getGeneratorBase()));x[x.length-1-ye]=Be,Be!==0&&(v=!1)}if(v)return;const j=new _e(f,x),k=this.runEuclideanAlgorithm(f.buildMonomial(A,1),j,A),O=k[0],W=k[1],ne=this.findErrorLocations(O),le=this.findErrorMagnitudes(W,ne);for(let ye=0;ye<ne.length;ye++){const Be=c.length-1-f.log(ne[ye]);if(Be<0)throw new Ne("Bad error location");c[Be]=He.addOrSubtract(c[Be],le[ye])}}runEuclideanAlgorithm(c,A,f){if(c.getDegree()<A.getDegree()){const ye=c;c=A,A=ye}const g=this.field;let x=c,v=A,j=g.getZero(),k=g.getOne();for(;v.getDegree()>=(f/2|0);){let ye=x,Be=j;if(x=v,j=k,x.isZero())throw new Ne("r_{i-1} was zero");v=ye;let je=g.getZero();const Me=x.getCoefficient(x.getDegree()),qe=g.inverse(Me);for(;v.getDegree()>=x.getDegree()&&!v.isZero();){const ct=v.getDegree()-x.getDegree(),ht=g.multiply(v.getCoefficient(v.getDegree()),qe);je=je.addOrSubtract(g.buildMonomial(ct,ht)),v=v.addOrSubtract(x.multiplyByMonomial(ct,ht))}if(k=je.multiply(j).addOrSubtract(Be),v.getDegree()>=x.getDegree())throw new me("Division algorithm failed to reduce polynomial?")}const O=k.getCoefficient(0);if(O===0)throw new Ne("sigmaTilde(0) was zero");const W=g.inverse(O),ne=k.multiplyScalar(W),le=v.multiplyScalar(W);return[ne,le]}findErrorLocations(c){const A=c.getDegree();if(A===1)return Int32Array.from([c.getCoefficient(1)]);const f=new Int32Array(A);let g=0;const x=this.field;for(let v=1;v<x.getSize()&&g<A;v++)c.evaluateAt(v)===0&&(f[g]=x.inverse(v),g++);if(g!==A)throw new Ne("Error locator degree does not match number of roots");return f}findErrorMagnitudes(c,A){const f=A.length,g=new Int32Array(f),x=this.field;for(let v=0;v<f;v++){const j=x.inverse(A[v]);let k=1;for(let O=0;O<f;O++)if(v!==O){const W=x.multiply(A[O],j),ne=W&1?W&-2:W|1;k=x.multiply(k,ne)}g[v]=x.multiply(c.evaluateAt(j),x.inverse(k)),x.getGeneratorBase()!==0&&(g[v]=x.multiply(g[v],j))}return g}}var nt;(function(re){re[re.UPPER=0]="UPPER",re[re.LOWER=1]="LOWER",re[re.MIXED=2]="MIXED",re[re.DIGIT=3]="DIGIT",re[re.PUNCT=4]="PUNCT",re[re.BINARY=5]="BINARY"})(nt||(nt={}));class Xe{decode(c){this.ddata=c;let A=c.getBits(),f=this.extractBits(A),g=this.correctBits(f),x=Xe.convertBoolArrayToByteArray(g),v=Xe.getEncodedData(g),j=new Ee(x,v,null,null);return j.setNumBits(g.length),j}static highLevelDecode(c){return this.getEncodedData(c)}static getEncodedData(c){let A=c.length,f=nt.UPPER,g=nt.UPPER,x="",v=0;for(;v<A;)if(g===nt.BINARY){if(A-v<5)break;let j=Xe.readCode(c,v,5);if(v+=5,j===0){if(A-v<11)break;j=Xe.readCode(c,v,11)+31,v+=11}for(let k=0;k<j;k++){if(A-v<8){v=A;break}const O=Xe.readCode(c,v,8);x+=V.castAsNonUtf8Char(O),v+=8}g=f}else{let j=g===nt.DIGIT?4:5;if(A-v<j)break;let k=Xe.readCode(c,v,j);v+=j;let O=Xe.getCharacter(g,k);O.startsWith("CTRL_")?(f=g,g=Xe.getTable(O.charAt(5)),O.charAt(6)==="L"&&(f=g)):(x+=O,g=f)}return x}static getTable(c){switch(c){case"L":return nt.LOWER;case"P":return nt.PUNCT;case"M":return nt.MIXED;case"D":return nt.DIGIT;case"B":return nt.BINARY;case"U":default:return nt.UPPER}}static getCharacter(c,A){switch(c){case nt.UPPER:return Xe.UPPER_TABLE[A];case nt.LOWER:return Xe.LOWER_TABLE[A];case nt.MIXED:return Xe.MIXED_TABLE[A];case nt.PUNCT:return Xe.PUNCT_TABLE[A];case nt.DIGIT:return Xe.DIGIT_TABLE[A];default:throw new me("Bad table")}}correctBits(c){let A,f;this.ddata.getNbLayers()<=2?(f=6,A=He.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,A=He.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,A=He.AZTEC_DATA_10):(f=12,A=He.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),x=c.length/f;if(x<g)throw new D;let v=c.length%f,j=new Int32Array(x);for(let le=0;le<x;le++,v+=f)j[le]=Xe.readCode(c,v,f);try{new Pe(A).decode(j,x-g)}catch(le){throw new D(le)}let k=(1<<f)-1,O=0;for(let le=0;le<g;le++){let ye=j[le];if(ye===0||ye===k)throw new D;(ye===1||ye===k-1)&&O++}let W=new Array(g*f-O),ne=0;for(let le=0;le<g;le++){let ye=j[le];if(ye===1||ye===k-1)W.fill(ye>1,ne,ne+f-1),ne+=f-1;else for(let Be=f-1;Be>=0;--Be)W[ne++]=(ye&1<<Be)!==0}return W}extractBits(c){let A=this.ddata.isCompact(),f=this.ddata.getNbLayers(),g=(A?11:14)+f*4,x=new Int32Array(g),v=new Array(this.totalBitsInLayer(f,A));if(A)for(let j=0;j<x.length;j++)x[j]=j;else{let j=g+1+2*I.truncDivision(I.truncDivision(g,2)-1,15),k=g/2,O=I.truncDivision(j,2);for(let W=0;W<k;W++){let ne=W+I.truncDivision(W,15);x[k-W-1]=O-ne-1,x[k+W]=O+ne+1}}for(let j=0,k=0;j<f;j++){let O=(f-j)*4+(A?9:12),W=j*2,ne=g-1-W;for(let le=0;le<O;le++){let ye=le*2;for(let Be=0;Be<2;Be++)v[k+ye+Be]=c.get(x[W+Be],x[W+le]),v[k+2*O+ye+Be]=c.get(x[W+le],x[ne-Be]),v[k+4*O+ye+Be]=c.get(x[ne-Be],x[ne-le]),v[k+6*O+ye+Be]=c.get(x[ne-le],x[W+Be])}k+=O*8}return v}static readCode(c,A,f){let g=0;for(let x=A;x<A+f;x++)g<<=1,c[x]&&(g|=1);return g}static readByte(c,A){let f=c.length-A;return f>=8?Xe.readCode(c,A,8):Xe.readCode(c,A,f)<<8-f}static convertBoolArrayToByteArray(c){let A=new Uint8Array((c.length+7)/8);for(let f=0;f<A.length;f++)A[f]=Xe.readByte(c,8*f);return A}totalBitsInLayer(c,A){return((A?88:112)+16*c)*c}}Xe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Xe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Xe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ue{constructor(){}static round(c){return c===NaN?0:c<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:c>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:c+(c<0?-.5:.5)|0}static distance(c,A,f,g){const x=c-f,v=A-g;return Math.sqrt(x*x+v*v)}static sum(c){let A=0;for(let f=0,g=c.length;f!==g;f++){const x=c[f];A+=x}return A}}class yt{static floatToIntBits(c){return c}}yt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class We{constructor(c,A){this.x=c,this.y=A}getX(){return this.x}getY(){return this.y}equals(c){if(c instanceof We){const A=c;return this.x===A.x&&this.y===A.y}return!1}hashCode(){return 31*yt.floatToIntBits(this.x)+yt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(c){const A=this.distance(c[0],c[1]),f=this.distance(c[1],c[2]),g=this.distance(c[0],c[2]);let x,v,j;if(f>=A&&f>=g?(v=c[0],x=c[1],j=c[2]):g>=f&&g>=A?(v=c[1],x=c[0],j=c[2]):(v=c[2],x=c[0],j=c[1]),this.crossProductZ(x,v,j)<0){const k=x;x=j,j=k}c[0]=x,c[1]=v,c[2]=j}static distance(c,A){return Ue.distance(c.x,c.y,A.x,A.y)}static crossProductZ(c,A,f){const g=A.x,x=A.y;return(f.x-g)*(c.y-x)-(f.y-x)*(c.x-g)}}class Vt{constructor(c,A){this.bits=c,this.points=A}getBits(){return this.bits}getPoints(){return this.points}}class Le extends Vt{constructor(c,A,f,g,x){super(c,A),this.compact=f,this.nbDatablocks=g,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class rt{constructor(c,A,f,g){this.image=c,this.height=c.getHeight(),this.width=c.getWidth(),A==null&&(A=rt.INIT_SIZE),f==null&&(f=c.getWidth()/2|0),g==null&&(g=c.getHeight()/2|0);const x=A/2|0;if(this.leftInit=f-x,this.rightInit=f+x,this.upInit=g-x,this.downInit=g+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let c=this.leftInit,A=this.rightInit,f=this.upInit,g=this.downInit,x=!1,v=!0,j=!1,k=!1,O=!1,W=!1,ne=!1;const le=this.width,ye=this.height;for(;v;){v=!1;let Be=!0;for(;(Be||!k)&&A<le;)Be=this.containsBlackPoint(f,g,A,!1),Be?(A++,v=!0,k=!0):k||A++;if(A>=le){x=!0;break}let je=!0;for(;(je||!O)&&g<ye;)je=this.containsBlackPoint(c,A,g,!0),je?(g++,v=!0,O=!0):O||g++;if(g>=ye){x=!0;break}let Me=!0;for(;(Me||!W)&&c>=0;)Me=this.containsBlackPoint(f,g,c,!1),Me?(c--,v=!0,W=!0):W||c--;if(c<0){x=!0;break}let qe=!0;for(;(qe||!ne)&&f>=0;)qe=this.containsBlackPoint(c,A,f,!0),qe?(f--,v=!0,ne=!0):ne||f--;if(f<0){x=!0;break}v&&(j=!0)}if(!x&&j){const Be=A-c;let je=null;for(let ht=1;je===null&&ht<Be;ht++)je=this.getBlackPointOnSegment(c,g-ht,c+ht,g);if(je==null)throw new ee;let Me=null;for(let ht=1;Me===null&&ht<Be;ht++)Me=this.getBlackPointOnSegment(c,f+ht,c+ht,f);if(Me==null)throw new ee;let qe=null;for(let ht=1;qe===null&&ht<Be;ht++)qe=this.getBlackPointOnSegment(A,f+ht,A-ht,f);if(qe==null)throw new ee;let ct=null;for(let ht=1;ct===null&&ht<Be;ht++)ct=this.getBlackPointOnSegment(A,g-ht,A-ht,g);if(ct==null)throw new ee;return this.centerEdges(ct,je,qe,Me)}else throw new ee}getBlackPointOnSegment(c,A,f,g){const x=Ue.round(Ue.distance(c,A,f,g)),v=(f-c)/x,j=(g-A)/x,k=this.image;for(let O=0;O<x;O++){const W=Ue.round(c+O*v),ne=Ue.round(A+O*j);if(k.get(W,ne))return new We(W,ne)}return null}centerEdges(c,A,f,g){const x=c.getX(),v=c.getY(),j=A.getX(),k=A.getY(),O=f.getX(),W=f.getY(),ne=g.getX(),le=g.getY(),ye=rt.CORR;return x<this.width/2?[new We(ne-ye,le+ye),new We(j+ye,k+ye),new We(O-ye,W-ye),new We(x+ye,v-ye)]:[new We(ne+ye,le+ye),new We(j+ye,k-ye),new We(O-ye,W+ye),new We(x-ye,v-ye)]}containsBlackPoint(c,A,f,g){const x=this.image;if(g){for(let v=c;v<=A;v++)if(x.get(v,f))return!0}else for(let v=c;v<=A;v++)if(x.get(f,v))return!0;return!1}}rt.INIT_SIZE=10,rt.CORR=1;class mt{static checkAndNudgePoints(c,A){const f=c.getWidth(),g=c.getHeight();let x=!0;for(let v=0;v<A.length&&x;v+=2){const j=Math.floor(A[v]),k=Math.floor(A[v+1]);if(j<-1||j>f||k<-1||k>g)throw new ee;x=!1,j===-1?(A[v]=0,x=!0):j===f&&(A[v]=f-1,x=!0),k===-1?(A[v+1]=0,x=!0):k===g&&(A[v+1]=g-1,x=!0)}x=!0;for(let v=A.length-2;v>=0&&x;v-=2){const j=Math.floor(A[v]),k=Math.floor(A[v+1]);if(j<-1||j>f||k<-1||k>g)throw new ee;x=!1,j===-1?(A[v]=0,x=!0):j===f&&(A[v]=f-1,x=!0),k===-1?(A[v+1]=0,x=!0):k===g&&(A[v+1]=g-1,x=!0)}}}class At{constructor(c,A,f,g,x,v,j,k,O){this.a11=c,this.a21=A,this.a31=f,this.a12=g,this.a22=x,this.a32=v,this.a13=j,this.a23=k,this.a33=O}static quadrilateralToQuadrilateral(c,A,f,g,x,v,j,k,O,W,ne,le,ye,Be,je,Me){const qe=At.quadrilateralToSquare(c,A,f,g,x,v,j,k);return At.squareToQuadrilateral(O,W,ne,le,ye,Be,je,Me).times(qe)}transformPoints(c){const A=c.length,f=this.a11,g=this.a12,x=this.a13,v=this.a21,j=this.a22,k=this.a23,O=this.a31,W=this.a32,ne=this.a33;for(let le=0;le<A;le+=2){const ye=c[le],Be=c[le+1],je=x*ye+k*Be+ne;c[le]=(f*ye+v*Be+O)/je,c[le+1]=(g*ye+j*Be+W)/je}}transformPointsWithValues(c,A){const f=this.a11,g=this.a12,x=this.a13,v=this.a21,j=this.a22,k=this.a23,O=this.a31,W=this.a32,ne=this.a33,le=c.length;for(let ye=0;ye<le;ye++){const Be=c[ye],je=A[ye],Me=x*Be+k*je+ne;c[ye]=(f*Be+v*je+O)/Me,A[ye]=(g*Be+j*je+W)/Me}}static squareToQuadrilateral(c,A,f,g,x,v,j,k){const O=c-f+x-j,W=A-g+v-k;if(O===0&&W===0)return new At(f-c,x-f,c,g-A,v-g,A,0,0,1);{const ne=f-x,le=j-x,ye=g-v,Be=k-v,je=ne*Be-le*ye,Me=(O*Be-le*W)/je,qe=(ne*W-O*ye)/je;return new At(f-c+Me*f,j-c+qe*j,c,g-A+Me*g,k-A+qe*k,A,Me,qe,1)}}static quadrilateralToSquare(c,A,f,g,x,v,j,k){return At.squareToQuadrilateral(c,A,f,g,x,v,j,k).buildAdjoint()}buildAdjoint(){return new At(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(c){return new At(this.a11*c.a11+this.a21*c.a12+this.a31*c.a13,this.a11*c.a21+this.a21*c.a22+this.a31*c.a23,this.a11*c.a31+this.a21*c.a32+this.a31*c.a33,this.a12*c.a11+this.a22*c.a12+this.a32*c.a13,this.a12*c.a21+this.a22*c.a22+this.a32*c.a23,this.a12*c.a31+this.a22*c.a32+this.a32*c.a33,this.a13*c.a11+this.a23*c.a12+this.a33*c.a13,this.a13*c.a21+this.a23*c.a22+this.a33*c.a23,this.a13*c.a31+this.a23*c.a32+this.a33*c.a33)}}class wt extends mt{sampleGrid(c,A,f,g,x,v,j,k,O,W,ne,le,ye,Be,je,Me,qe,ct,ht){const dt=At.quadrilateralToQuadrilateral(g,x,v,j,k,O,W,ne,le,ye,Be,je,Me,qe,ct,ht);return this.sampleGridWithTransform(c,A,f,dt)}sampleGridWithTransform(c,A,f,g){if(A<=0||f<=0)throw new ee;const x=new Z(A,f),v=new Float32Array(2*A);for(let j=0;j<f;j++){const k=v.length,O=j+.5;for(let W=0;W<k;W+=2)v[W]=W/2+.5,v[W+1]=O;g.transformPoints(v),mt.checkAndNudgePoints(c,v);try{for(let W=0;W<k;W+=2)c.get(Math.floor(v[W]),Math.floor(v[W+1]))&&x.set(W/2,j)}catch{throw new ee}}return x}}class Ft{static setGridSampler(c){Ft.gridSampler=c}static getInstance(){return Ft.gridSampler}}Ft.gridSampler=new wt;class xt{constructor(c,A){this.x=c,this.y=A}toResultPoint(){return new We(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Rt{constructor(c){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=c}detect(){return this.detectMirror(!1)}detectMirror(c){let A=this.getMatrixCenter(),f=this.getBullsEyeCorners(A);if(c){let v=f[0];f[0]=f[2],f[2]=v}this.extractParameters(f);let g=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),x=this.getMatrixCornerPoints(f);return new Le(g,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(c){if(!this.isValidPoint(c[0])||!this.isValidPoint(c[1])||!this.isValidPoint(c[2])||!this.isValidPoint(c[3]))throw new ee;let A=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(c[0],c[1],A),this.sampleLine(c[1],c[2],A),this.sampleLine(c[2],c[3],A),this.sampleLine(c[3],c[0],A)]);this.shift=this.getRotation(f,A);let g=0;for(let v=0;v<4;v++){let j=f[(this.shift+v)%4];this.compact?(g<<=7,g+=j>>1&127):(g<<=10,g+=(j>>2&992)+(j>>1&31))}let x=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(c,A){let f=0;c.forEach((g,x,v)=>{let j=(g>>A-2<<1)+(g&1);f=(f<<3)+j}),f=((f&1)<<11)+(f>>1);for(let g=0;g<4;g++)if(I.bitCount(f^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new ee}getCorrectedParameterData(c,A){let f,g;A?(f=7,g=2):(f=10,g=4);let x=f-g,v=new Int32Array(f);for(let k=f-1;k>=0;--k)v[k]=c&15,c>>=4;try{new Pe(He.AZTEC_PARAM).decode(v,x)}catch{throw new ee}let j=0;for(let k=0;k<g;k++)j=(j<<4)+v[k];return j}getBullsEyeCorners(c){let A=c,f=c,g=c,x=c,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ne=this.getFirstDifferent(A,v,1,-1),le=this.getFirstDifferent(f,v,1,1),ye=this.getFirstDifferent(g,v,-1,1),Be=this.getFirstDifferent(x,v,-1,-1);if(this.nbCenterLayers>2){let je=this.distancePoint(Be,ne)*this.nbCenterLayers/(this.distancePoint(x,A)*(this.nbCenterLayers+2));if(je<.75||je>1.25||!this.isWhiteOrBlackRectangle(ne,le,ye,Be))break}A=ne,f=le,g=ye,x=Be,v=!v}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let j=new We(A.getX()+.5,A.getY()-.5),k=new We(f.getX()+.5,f.getY()+.5),O=new We(g.getX()-.5,g.getY()+.5),W=new We(x.getX()-.5,x.getY()-.5);return this.expandSquare([j,k,O,W],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let c,A,f,g;try{let j=new rt(this.image).detect();c=j[0],A=j[1],f=j[2],g=j[3]}catch{let k=this.image.getWidth()/2,O=this.image.getHeight()/2;c=this.getFirstDifferent(new xt(k+7,O-7),!1,1,-1).toResultPoint(),A=this.getFirstDifferent(new xt(k+7,O+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new xt(k-7,O+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new xt(k-7,O-7),!1,-1,-1).toResultPoint()}let x=Ue.round((c.getX()+g.getX()+A.getX()+f.getX())/4),v=Ue.round((c.getY()+g.getY()+A.getY()+f.getY())/4);try{let j=new rt(this.image,15,x,v).detect();c=j[0],A=j[1],f=j[2],g=j[3]}catch{c=this.getFirstDifferent(new xt(x+7,v-7),!1,1,-1).toResultPoint(),A=this.getFirstDifferent(new xt(x+7,v+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new xt(x-7,v+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new xt(x-7,v-7),!1,-1,-1).toResultPoint()}return x=Ue.round((c.getX()+g.getX()+A.getX()+f.getX())/4),v=Ue.round((c.getY()+g.getY()+A.getY()+f.getY())/4),new xt(x,v)}getMatrixCornerPoints(c){return this.expandSquare(c,2*this.nbCenterLayers,this.getDimension())}sampleGrid(c,A,f,g,x){let v=Ft.getInstance(),j=this.getDimension(),k=j/2-this.nbCenterLayers,O=j/2+this.nbCenterLayers;return v.sampleGrid(c,j,j,k,k,O,k,O,O,k,O,A.getX(),A.getY(),f.getX(),f.getY(),g.getX(),g.getY(),x.getX(),x.getY())}sampleLine(c,A,f){let g=0,x=this.distanceResultPoint(c,A),v=x/f,j=c.getX(),k=c.getY(),O=v*(A.getX()-c.getX())/x,W=v*(A.getY()-c.getY())/x;for(let ne=0;ne<f;ne++)this.image.get(Ue.round(j+ne*O),Ue.round(k+ne*W))&&(g|=1<<f-ne-1);return g}isWhiteOrBlackRectangle(c,A,f,g){let x=3;c=new xt(c.getX()-x,c.getY()+x),A=new xt(A.getX()-x,A.getY()-x),f=new xt(f.getX()+x,f.getY()-x),g=new xt(g.getX()+x,g.getY()+x);let v=this.getColor(g,c);if(v===0)return!1;let j=this.getColor(c,A);return j!==v||(j=this.getColor(A,f),j!==v)?!1:(j=this.getColor(f,g),j===v)}getColor(c,A){let f=this.distancePoint(c,A),g=(A.getX()-c.getX())/f,x=(A.getY()-c.getY())/f,v=0,j=c.getX(),k=c.getY(),O=this.image.get(c.getX(),c.getY()),W=Math.ceil(f);for(let le=0;le<W;le++)j+=g,k+=x,this.image.get(Ue.round(j),Ue.round(k))!==O&&v++;let ne=v/f;return ne>.1&&ne<.9?0:ne<=.1===O?1:-1}getFirstDifferent(c,A,f,g){let x=c.getX()+f,v=c.getY()+g;for(;this.isValid(x,v)&&this.image.get(x,v)===A;)x+=f,v+=g;for(x-=f,v-=g;this.isValid(x,v)&&this.image.get(x,v)===A;)x+=f;for(x-=f;this.isValid(x,v)&&this.image.get(x,v)===A;)v+=g;return v-=g,new xt(x,v)}expandSquare(c,A,f){let g=f/(2*A),x=c[0].getX()-c[2].getX(),v=c[0].getY()-c[2].getY(),j=(c[0].getX()+c[2].getX())/2,k=(c[0].getY()+c[2].getY())/2,O=new We(j+g*x,k+g*v),W=new We(j-g*x,k-g*v);x=c[1].getX()-c[3].getX(),v=c[1].getY()-c[3].getY(),j=(c[1].getX()+c[3].getX())/2,k=(c[1].getY()+c[3].getY())/2;let ne=new We(j+g*x,k+g*v),le=new We(j-g*x,k-g*v);return[O,ne,W,le]}isValid(c,A){return c>=0&&c<this.image.getWidth()&&A>0&&A<this.image.getHeight()}isValidPoint(c){let A=Ue.round(c.getX()),f=Ue.round(c.getY());return this.isValid(A,f)}distancePoint(c,A){return Ue.distance(c.getX(),c.getY(),A.getX(),A.getY())}distanceResultPoint(c,A){return Ue.distance(c.getX(),c.getY(),A.getX(),A.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class Ct{decode(c,A=null){let f=null,g=new Rt(c.getBlackMatrix()),x=null,v=null;try{let W=g.detectMirror(!1);x=W.getPoints(),this.reportFoundResultPoints(A,x),v=new Xe().decode(W)}catch(W){f=W}if(v==null)try{let W=g.detectMirror(!0);x=W.getPoints(),this.reportFoundResultPoints(A,x),v=new Xe().decode(W)}catch(W){throw f??W}let j=new te(v.getText(),v.getRawBytes(),v.getNumBits(),x,de.AZTEC,N.currentTimeMillis()),k=v.getByteSegments();k!=null&&j.putMetadata(ue.BYTE_SEGMENTS,k);let O=v.getECLevel();return O!=null&&j.putMetadata(ue.ERROR_CORRECTION_LEVEL,O),j}reportFoundResultPoints(c,A){if(c!=null){let f=c.get(H.NEED_RESULT_POINT_CALLBACK);f!=null&&A.forEach((g,x,v)=>{f.foundPossibleResultPoint(g)})}}reset(){}}class Kr extends G{constructor(c=500){super(new Ct,c)}}class Gt{decode(c,A){try{return this.doDecode(c,A)}catch{if(A&&A.get(H.TRY_HARDER)===!0&&c.isRotateSupported()){const x=c.rotateCounterClockwise(),v=this.doDecode(x,A),j=v.getResultMetadata();let k=270;j!==null&&j.get(ue.ORIENTATION)===!0&&(k=k+j.get(ue.ORIENTATION)%360),v.putMetadata(ue.ORIENTATION,k);const O=v.getResultPoints();if(O!==null){const W=x.getHeight();for(let ne=0;ne<O.length;ne++)O[ne]=new We(W-O[ne].getY()-1,O[ne].getX())}return v}else throw new ee}}reset(){}doDecode(c,A){const f=c.getWidth(),g=c.getHeight();let x=new _(f);const v=A&&A.get(H.TRY_HARDER)===!0,j=Math.max(1,g>>(v?8:5));let k;v?k=g:k=15;const O=Math.trunc(g/2);for(let W=0;W<k;W++){const ne=Math.trunc((W+1)/2),le=(W&1)===0,ye=O+j*(le?ne:-ne);if(ye<0||ye>=g)break;try{x=c.getBlackRow(ye,x)}catch{continue}for(let Be=0;Be<2;Be++){if(Be===1&&(x.reverse(),A&&A.get(H.NEED_RESULT_POINT_CALLBACK)===!0)){const je=new Map;A.forEach((Me,qe)=>je.set(qe,Me)),je.delete(H.NEED_RESULT_POINT_CALLBACK),A=je}try{const je=this.decodeRow(ye,x,A);if(Be===1){je.putMetadata(ue.ORIENTATION,180);const Me=je.getResultPoints();Me!==null&&(Me[0]=new We(f-Me[0].getX()-1,Me[0].getY()),Me[1]=new We(f-Me[1].getX()-1,Me[1].getY()))}return je}catch{}}}throw new ee}static recordPattern(c,A,f){const g=f.length;for(let O=0;O<g;O++)f[O]=0;const x=c.getSize();if(A>=x)throw new ee;let v=!c.get(A),j=0,k=A;for(;k<x;){if(c.get(k)!==v)f[j]++;else{if(++j===g)break;f[j]=1,v=!v}k++}if(!(j===g||j===g-1&&k===x))throw new ee}static recordPatternInReverse(c,A,f){let g=f.length,x=c.get(A);for(;A>0&&g>=0;)c.get(--A)!==x&&(g--,x=!x);if(g>=0)throw new ee;Gt.recordPattern(c,A+1,f)}static patternMatchVariance(c,A,f){const g=c.length;let x=0,v=0;for(let O=0;O<g;O++)x+=c[O],v+=A[O];if(x<v)return Number.POSITIVE_INFINITY;const j=x/v;f*=j;let k=0;for(let O=0;O<g;O++){const W=c[O],ne=A[O]*j,le=W>ne?W-ne:ne-W;if(le>f)return Number.POSITIVE_INFINITY;k+=le}return k/x}}class $e extends Gt{static findStartPattern(c){const A=c.getSize(),f=c.getNextSet(0);let g=0,x=Int32Array.from([0,0,0,0,0,0]),v=f,j=!1;const k=6;for(let O=f;O<A;O++)if(c.get(O)!==j)x[g]++;else{if(g===k-1){let W=$e.MAX_AVG_VARIANCE,ne=-1;for(let le=$e.CODE_START_A;le<=$e.CODE_START_C;le++){const ye=Gt.patternMatchVariance(x,$e.CODE_PATTERNS[le],$e.MAX_INDIVIDUAL_VARIANCE);ye<W&&(W=ye,ne=le)}if(ne>=0&&c.isRange(Math.max(0,v-(O-v)/2),v,!1))return Int32Array.from([v,O,ne]);v+=x[0]+x[1],x=x.slice(2,x.length-1),x[g-1]=0,x[g]=0,g--}else g++;x[g]=1,j=!j}throw new ee}static decodeCode(c,A,f){Gt.recordPattern(c,f,A);let g=$e.MAX_AVG_VARIANCE,x=-1;for(let v=0;v<$e.CODE_PATTERNS.length;v++){const j=$e.CODE_PATTERNS[v],k=this.patternMatchVariance(A,j,$e.MAX_INDIVIDUAL_VARIANCE);k<g&&(g=k,x=v)}if(x>=0)return x;throw new ee}decodeRow(c,A,f){const g=f&&f.get(H.ASSUME_GS1)===!0,x=$e.findStartPattern(A),v=x[2];let j=0;const k=new Uint8Array(20);k[j++]=v;let O;switch(v){case $e.CODE_START_A:O=$e.CODE_CODE_A;break;case $e.CODE_START_B:O=$e.CODE_CODE_B;break;case $e.CODE_START_C:O=$e.CODE_CODE_C;break;default:throw new D}let W=!1,ne=!1,le="",ye=x[0],Be=x[1];const je=Int32Array.from([0,0,0,0,0,0]);let Me=0,qe=0,ct=v,ht=0,dt=!0,Qr=!1,Nr=!1;for(;!W;){const sd=ne;switch(ne=!1,Me=qe,qe=$e.decodeCode(A,je,Be),k[j++]=qe,qe!==$e.CODE_STOP&&(dt=!0),qe!==$e.CODE_STOP&&(ht++,ct+=ht*qe),ye=Be,Be+=je.reduce((R1,YA)=>R1+YA,0),qe){case $e.CODE_START_A:case $e.CODE_START_B:case $e.CODE_START_C:throw new D}switch(O){case $e.CODE_CODE_A:if(qe<64)Nr===Qr?le+=String.fromCharCode(32+qe):le+=String.fromCharCode(32+qe+128),Nr=!1;else if(qe<96)Nr===Qr?le+=String.fromCharCode(qe-64):le+=String.fromCharCode(qe+64),Nr=!1;else switch(qe!==$e.CODE_STOP&&(dt=!1),qe){case $e.CODE_FNC_1:g&&(le.length===0?le+="]C1":le+="");break;case $e.CODE_FNC_2:case $e.CODE_FNC_3:break;case $e.CODE_FNC_4_A:!Qr&&Nr?(Qr=!0,Nr=!1):Qr&&Nr?(Qr=!1,Nr=!1):Nr=!0;break;case $e.CODE_SHIFT:ne=!0,O=$e.CODE_CODE_B;break;case $e.CODE_CODE_B:O=$e.CODE_CODE_B;break;case $e.CODE_CODE_C:O=$e.CODE_CODE_C;break;case $e.CODE_STOP:W=!0;break}break;case $e.CODE_CODE_B:if(qe<96)Nr===Qr?le+=String.fromCharCode(32+qe):le+=String.fromCharCode(32+qe+128),Nr=!1;else switch(qe!==$e.CODE_STOP&&(dt=!1),qe){case $e.CODE_FNC_1:g&&(le.length===0?le+="]C1":le+="");break;case $e.CODE_FNC_2:case $e.CODE_FNC_3:break;case $e.CODE_FNC_4_B:!Qr&&Nr?(Qr=!0,Nr=!1):Qr&&Nr?(Qr=!1,Nr=!1):Nr=!0;break;case $e.CODE_SHIFT:ne=!0,O=$e.CODE_CODE_A;break;case $e.CODE_CODE_A:O=$e.CODE_CODE_A;break;case $e.CODE_CODE_C:O=$e.CODE_CODE_C;break;case $e.CODE_STOP:W=!0;break}break;case $e.CODE_CODE_C:if(qe<100)qe<10&&(le+="0"),le+=qe;else switch(qe!==$e.CODE_STOP&&(dt=!1),qe){case $e.CODE_FNC_1:g&&(le.length===0?le+="]C1":le+="");break;case $e.CODE_CODE_A:O=$e.CODE_CODE_A;break;case $e.CODE_CODE_B:O=$e.CODE_CODE_B;break;case $e.CODE_STOP:W=!0;break}break}sd&&(O=O===$e.CODE_CODE_A?$e.CODE_CODE_B:$e.CODE_CODE_A)}const Ba=Be-ye;if(Be=A.getNextUnset(Be),!A.isRange(Be,Math.min(A.getSize(),Be+(Be-ye)/2),!1))throw new ee;if(ct-=ht*Me,ct%103!==Me)throw new p;const Oi=le.length;if(Oi===0)throw new ee;Oi>0&&dt&&(O===$e.CODE_CODE_C?le=le.substring(0,Oi-2):le=le.substring(0,Oi-1));const Sa=(x[1]+x[0])/2,gn=ye+Ba/2,Ws=k.length,Ka=new Uint8Array(Ws);for(let sd=0;sd<Ws;sd++)Ka[sd]=k[sd];const nd=[new We(Sa,c),new We(gn,c)];return new te(le,Ka,0,nd,de.CODE_128,new Date().getTime())}}$e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],$e.MAX_AVG_VARIANCE=.25,$e.MAX_INDIVIDUAL_VARIANCE=.7,$e.CODE_SHIFT=98,$e.CODE_CODE_C=99,$e.CODE_CODE_B=100,$e.CODE_CODE_A=101,$e.CODE_FNC_1=102,$e.CODE_FNC_2=97,$e.CODE_FNC_3=96,$e.CODE_FNC_4_A=101,$e.CODE_FNC_4_B=100,$e.CODE_START_A=103,$e.CODE_START_B=104,$e.CODE_START_C=105,$e.CODE_STOP=106;class It extends Gt{constructor(c=!1,A=!1){super(),this.usingCheckDigit=c,this.extendedMode=A,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(c,A,f){let g=this.counters;g.fill(0),this.decodeRowResult="";let x=It.findAsteriskPattern(A,g),v=A.getNextSet(x[1]),j=A.getSize(),k,O;do{It.recordPattern(A,v,g);let je=It.toNarrowWidePattern(g);if(je<0)throw new ee;k=It.patternToChar(je),this.decodeRowResult+=k,O=v;for(let Me of g)v+=Me;v=A.getNextSet(v)}while(k!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let W=0;for(let je of g)W+=je;let ne=v-O-W;if(v!==j&&ne*2<W)throw new ee;if(this.usingCheckDigit){let je=this.decodeRowResult.length-1,Me=0;for(let qe=0;qe<je;qe++)Me+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(qe));if(this.decodeRowResult.charAt(je)!==It.ALPHABET_STRING.charAt(Me%43))throw new p;this.decodeRowResult=this.decodeRowResult.substring(0,je)}if(this.decodeRowResult.length===0)throw new ee;let le;this.extendedMode?le=It.decodeExtended(this.decodeRowResult):le=this.decodeRowResult;let ye=(x[1]+x[0])/2,Be=O+W/2;return new te(le,null,0,[new We(ye,c),new We(Be,c)],de.CODE_39,new Date().getTime())}static findAsteriskPattern(c,A){let f=c.getSize(),g=c.getNextSet(0),x=0,v=g,j=!1,k=A.length;for(let O=g;O<f;O++)if(c.get(O)!==j)A[x]++;else{if(x===k-1){if(this.toNarrowWidePattern(A)===It.ASTERISK_ENCODING&&c.isRange(Math.max(0,v-Math.floor((O-v)/2)),v,!1))return[v,O];v+=A[0]+A[1],A.copyWithin(0,2,2+x-1),A[x-1]=0,A[x]=0,x--}else x++;A[x]=1,j=!j}throw new ee}static toNarrowWidePattern(c){let A=c.length,f=0,g;do{let x=2147483647;for(let k of c)k<x&&k>f&&(x=k);f=x,g=0;let v=0,j=0;for(let k=0;k<A;k++){let O=c[k];O>f&&(j|=1<<A-1-k,g++,v+=O)}if(g===3){for(let k=0;k<A&&g>0;k++){let O=c[k];if(O>f&&(g--,O*2>=v))return-1}return j}}while(g>3);return-1}static patternToChar(c){for(let A=0;A<It.CHARACTER_ENCODINGS.length;A++)if(It.CHARACTER_ENCODINGS[A]===c)return It.ALPHABET_STRING.charAt(A);if(c===It.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(c){let A=c.length,f="";for(let g=0;g<A;g++){let x=c.charAt(g);if(x==="+"||x==="$"||x==="%"||x==="/"){let v=c.charAt(g+1),j="\0";switch(x){case"+":if(v>="A"&&v<="Z")j=String.fromCharCode(v.charCodeAt(0)+32);else throw new D;break;case"$":if(v>="A"&&v<="Z")j=String.fromCharCode(v.charCodeAt(0)-64);else throw new D;break;case"%":if(v>="A"&&v<="E")j=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")j=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")j=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")j=String.fromCharCode(v.charCodeAt(0)+43);else if(v==="U")j="\0";else if(v==="V")j="@";else if(v==="W")j="`";else if(v==="X"||v==="Y"||v==="Z")j="";else throw new D;break;case"/":if(v>="A"&&v<="O")j=String.fromCharCode(v.charCodeAt(0)-32);else if(v==="Z")j=":";else throw new D;break}f+=j,g++}else f+=x}return f}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class Kt extends Gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(c,A,f){let g=this.decodeStart(A),x=this.decodeEnd(A),v=new J;Kt.decodeMiddle(A,g[1],x[0],v);let j=v.toString(),k=null;f!=null&&(k=f.get(H.ALLOWED_LENGTHS)),k==null&&(k=Kt.DEFAULT_ALLOWED_LENGTHS);let O=j.length,W=!1,ne=0;for(let Be of k){if(O===Be){W=!0;break}Be>ne&&(ne=Be)}if(!W&&O>ne&&(W=!0),!W)throw new D;const le=[new We(g[1],c),new We(x[0],c)];return new te(j,null,0,le,de.ITF,new Date().getTime())}static decodeMiddle(c,A,f,g){let x=new Int32Array(10),v=new Int32Array(5),j=new Int32Array(5);for(x.fill(0),v.fill(0),j.fill(0);A<f;){Gt.recordPattern(c,A,x);for(let O=0;O<5;O++){let W=2*O;v[O]=x[W],j[O]=x[W+1]}let k=Kt.decodeDigit(v);g.append(k.toString()),k=this.decodeDigit(j),g.append(k.toString()),x.forEach(function(O){A+=O})}}decodeStart(c){let A=Kt.skipWhiteSpace(c),f=Kt.findGuardPattern(c,A,Kt.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(c,f[0]),f}validateQuietZone(c,A){let f=this.narrowLineWidth*10;f=f<A?f:A;for(let g=A-1;f>0&&g>=0&&!c.get(g);g--)f--;if(f!==0)throw new ee}static skipWhiteSpace(c){const A=c.getSize(),f=c.getNextSet(0);if(f===A)throw new ee;return f}decodeEnd(c){c.reverse();try{let A=Kt.skipWhiteSpace(c),f;try{f=Kt.findGuardPattern(c,A,Kt.END_PATTERN_REVERSED[0])}catch(x){x instanceof ee&&(f=Kt.findGuardPattern(c,A,Kt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(c,f[0]);let g=f[0];return f[0]=c.getSize()-f[1],f[1]=c.getSize()-g,f}finally{c.reverse()}}static findGuardPattern(c,A,f){let g=f.length,x=new Int32Array(g),v=c.getSize(),j=!1,k=0,O=A;x.fill(0);for(let W=A;W<v;W++)if(c.get(W)!==j)x[k]++;else{if(k===g-1){if(Gt.patternMatchVariance(x,f,Kt.MAX_INDIVIDUAL_VARIANCE)<Kt.MAX_AVG_VARIANCE)return[O,W];O+=x[0]+x[1],N.arraycopy(x,2,x,0,k-1),x[k-1]=0,x[k]=0,k--}else k++;x[k]=1,j=!j}throw new ee}static decodeDigit(c){let A=Kt.MAX_AVG_VARIANCE,f=-1,g=Kt.PATTERNS.length;for(let x=0;x<g;x++){let v=Kt.PATTERNS[x],j=Gt.patternMatchVariance(c,v,Kt.MAX_INDIVIDUAL_VARIANCE);j<A?(A=j,f=x):j===A&&(f=-1)}if(f>=0)return f%10;throw new ee}}Kt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Kt.MAX_AVG_VARIANCE=.38,Kt.MAX_INDIVIDUAL_VARIANCE=.5,Kt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Kt.START_PATTERN=Int32Array.from([1,1,1,1]),Kt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Nt extends Gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(c){let A=!1,f,g=0,x=Int32Array.from([0,0,0]);for(;!A;){x=Int32Array.from([0,0,0]),f=Nt.findGuardPattern(c,g,!1,this.START_END_PATTERN,x);let v=f[0];g=f[1];let j=v-(g-v);j>=0&&(A=c.isRange(j,v,!1))}return f}static checkChecksum(c){return Nt.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let A=c.length;if(A===0)return!1;let f=parseInt(c.charAt(A-1),10);return Nt.getStandardUPCEANChecksum(c.substring(0,A-1))===f}static getStandardUPCEANChecksum(c){let A=c.length,f=0;for(let g=A-1;g>=0;g-=2){let x=c.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new D;f+=x}f*=3;for(let g=A-2;g>=0;g-=2){let x=c.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new D;f+=x}return(1e3-f)%10}static decodeEnd(c,A){return Nt.findGuardPattern(c,A,!1,Nt.START_END_PATTERN,new Int32Array(Nt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(c,A,f,g){return this.findGuardPattern(c,A,f,g,new Int32Array(g.length))}static findGuardPattern(c,A,f,g,x){let v=c.getSize();A=f?c.getNextUnset(A):c.getNextSet(A);let j=0,k=A,O=g.length,W=f;for(let ne=A;ne<v;ne++)if(c.get(ne)!==W)x[j]++;else{if(j===O-1){if(Gt.patternMatchVariance(x,g,Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return Int32Array.from([k,ne]);k+=x[0]+x[1];let le=x.slice(2,x.length-1);for(let ye=0;ye<j-1;ye++)x[ye]=le[ye];x[j-1]=0,x[j]=0,j--}else j++;x[j]=1,W=!W}throw new ee}static decodeDigit(c,A,f,g){this.recordPattern(c,f,A);let x=this.MAX_AVG_VARIANCE,v=-1,j=g.length;for(let k=0;k<j;k++){let O=g[k],W=Gt.patternMatchVariance(A,O,Nt.MAX_INDIVIDUAL_VARIANCE);W<x&&(x=W,v=k)}if(v>=0)return v;throw new ee}}Nt.MAX_AVG_VARIANCE=.48,Nt.MAX_INDIVIDUAL_VARIANCE=.7,Nt.START_END_PATTERN=Int32Array.from([1,1,1]),Nt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Nt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class br{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,A,f){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(A,f,g),v=g.toString(),j=br.parseExtensionString(v),k=[new We((f[0]+f[1])/2,c),new We(x,c)],O=new te(v,null,0,k,de.UPC_EAN_EXTENSION,new Date().getTime());return j!=null&&O.putAllMetadata(j),O}decodeMiddle(c,A,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=c.getSize(),v=A[1],j=0;for(let O=0;O<5&&v<x;O++){let W=Nt.decodeDigit(c,g,v,Nt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+W%10);for(let ne of g)v+=ne;W>=10&&(j|=1<<4-O),O!==4&&(v=c.getNextSet(v),v=c.getNextUnset(v))}if(f.length!==5)throw new ee;let k=this.determineCheckDigit(j);if(br.extensionChecksum(f.toString())!==k)throw new ee;return v}static extensionChecksum(c){let A=c.length,f=0;for(let g=A-2;g>=0;g-=2)f+=c.charAt(g).charCodeAt(0)-48;f*=3;for(let g=A-1;g>=0;g-=2)f+=c.charAt(g).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(c){for(let A=0;A<10;A++)if(c===this.CHECK_DIGIT_ENCODINGS[A])return A;throw new ee}static parseExtensionString(c){if(c.length!==5)return null;let A=br.parseExtension5String(c);return A==null?null:new Map([[ue.SUGGESTED_PRICE,A]])}static parseExtension5String(c){let A;switch(c.charAt(0)){case"0":A="£";break;case"5":A="$";break;case"9":switch(c){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}A="";break;default:A="";break}let f=parseInt(c.substring(1)),g=(f/100).toString(),x=f%100,v=x<10?"0"+x:x.toString();return A+g+"."+v}}class Ge{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,A,f){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(A,f,g),v=g.toString(),j=Ge.parseExtensionString(v),k=[new We((f[0]+f[1])/2,c),new We(x,c)],O=new te(v,null,0,k,de.UPC_EAN_EXTENSION,new Date().getTime());return j!=null&&O.putAllMetadata(j),O}decodeMiddle(c,A,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=c.getSize(),v=A[1],j=0;for(let k=0;k<2&&v<x;k++){let O=Nt.decodeDigit(c,g,v,Nt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+O%10);for(let W of g)v+=W;O>=10&&(j|=1<<1-k),k!==1&&(v=c.getNextSet(v),v=c.getNextUnset(v))}if(f.length!==2)throw new ee;if(parseInt(f.toString())%4!==j)throw new ee;return v}static parseExtensionString(c){return c.length!==2?null:new Map([[ue.ISSUE_NUMBER,parseInt(c)]])}}class vt{static decodeRow(c,A,f){let g=Nt.findGuardPattern(A,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new br().decodeRow(c,A,g)}catch{return new Ge().decodeRow(c,A,g)}}}vt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class gt extends Nt{constructor(){super(),this.decodeRowStringBuffer="",gt.L_AND_G_PATTERNS=gt.L_PATTERNS.map(c=>Int32Array.from(c));for(let c=10;c<20;c++){let A=gt.L_PATTERNS[c-10],f=new Int32Array(A.length);for(let g=0;g<A.length;g++)f[g]=A[A.length-g-1];gt.L_AND_G_PATTERNS[c]=f}}decodeRow(c,A,f){let g=gt.findStartGuardPattern(A),x=f==null?null:f.get(H.NEED_RESULT_POINT_CALLBACK);if(x!=null){const dt=new We((g[0]+g[1])/2,c);x.foundPossibleResultPoint(dt)}let v=this.decodeMiddle(A,g,this.decodeRowStringBuffer),j=v.rowOffset,k=v.resultString;if(x!=null){const dt=new We(j,c);x.foundPossibleResultPoint(dt)}let O=this.decodeEnd(A,j);if(x!=null){const dt=new We((O[0]+O[1])/2,c);x.foundPossibleResultPoint(dt)}let W=O[1],ne=W+(W-O[0]);if(ne>=A.getSize()||!A.isRange(W,ne,!1))throw new ee;let le=k.toString();if(le.length<8)throw new D;if(!gt.checkChecksum(le))throw new p;let ye=(g[1]+g[0])/2,Be=(O[1]+O[0])/2,je=this.getBarcodeFormat(),Me=[new We(ye,c),new We(Be,c)],qe=new te(le,null,0,Me,je,new Date().getTime()),ct=0;try{let dt=vt.decodeRow(c,A,O[1]);qe.putMetadata(ue.UPC_EAN_EXTENSION,dt.getText()),qe.putAllMetadata(dt.getResultMetadata()),qe.addResultPoints(dt.getResultPoints()),ct=dt.getText().length}catch{}let ht=f==null?null:f.get(H.ALLOWED_EAN_EXTENSIONS);if(ht!=null){let dt=!1;for(let Qr in ht)if(ct.toString()===Qr){dt=!0;break}if(!dt)throw new ee}return qe}decodeEnd(c,A){return gt.findGuardPattern(c,A,!1,gt.START_END_PATTERN,new Int32Array(gt.START_END_PATTERN.length).fill(0))}static checkChecksum(c){return gt.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let A=c.length;if(A===0)return!1;let f=parseInt(c.charAt(A-1),10);return gt.getStandardUPCEANChecksum(c.substring(0,A-1))===f}static getStandardUPCEANChecksum(c){let A=c.length,f=0;for(let g=A-1;g>=0;g-=2){let x=c.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new D;f+=x}f*=3;for(let g=A-2;g>=0;g-=2){let x=c.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new D;f+=x}return(1e3-f)%10}}class Bt extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,A,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=c.getSize(),v=A[1],j=0;for(let O=0;O<6&&v<x;O++){let W=gt.decodeDigit(c,g,v,gt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+W%10);for(let ne of g)v+=ne;W>=10&&(j|=1<<5-O)}f=Bt.determineFirstDigit(f,j),v=gt.findGuardPattern(c,v,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let O=0;O<6&&v<x;O++){let W=gt.decodeDigit(c,g,v,gt.L_PATTERNS);f+=String.fromCharCode(48+W);for(let ne of g)v+=ne}return{rowOffset:v,resultString:f}}getBarcodeFormat(){return de.EAN_13}static determineFirstDigit(c,A){for(let f=0;f<10;f++)if(A===this.FIRST_DIGIT_ENCODINGS[f])return c=String.fromCharCode(48+f)+c,c;throw new ee}}Bt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Qt extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,A,f){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=c.getSize(),v=A[1];for(let k=0;k<4&&v<x;k++){let O=gt.decodeDigit(c,g,v,gt.L_PATTERNS);f+=String.fromCharCode(48+O);for(let W of g)v+=W}v=gt.findGuardPattern(c,v,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<4&&v<x;k++){let O=gt.decodeDigit(c,g,v,gt.L_PATTERNS);f+=String.fromCharCode(48+O);for(let W of g)v+=W}return{rowOffset:v,resultString:f}}getBarcodeFormat(){return de.EAN_8}}class wr extends gt{constructor(){super(...arguments),this.ean13Reader=new Bt}getBarcodeFormat(){return de.UPC_A}decode(c,A){return this.maybeReturnResult(this.ean13Reader.decode(c))}decodeRow(c,A,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(c,A,f))}decodeMiddle(c,A,f){return this.ean13Reader.decodeMiddle(c,A,f)}maybeReturnResult(c){let A=c.getText();if(A.charAt(0)==="0"){let f=new te(A.substring(1),null,null,c.getResultPoints(),de.UPC_A);return c.getResultMetadata()!=null&&f.putAllMetadata(c.getResultMetadata()),f}else throw new ee}reset(){this.ean13Reader.reset()}}class Lt extends gt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(c,A,f){const g=this.decodeMiddleCounters.map(O=>O);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const x=c.getSize();let v=A[1],j=0;for(let O=0;O<6&&v<x;O++){const W=Lt.decodeDigit(c,g,v,Lt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+W%10);for(let ne of g)v+=ne;W>=10&&(j|=1<<5-O)}let k=Lt.determineNumSysAndCheckDigit(f,j);return{rowOffset:v,resultString:k}}decodeEnd(c,A){return Lt.findGuardPatternWithoutCounters(c,A,!0,Lt.MIDDLE_END_PATTERN)}checkChecksum(c){return gt.checkChecksum(Lt.convertUPCEtoUPCA(c))}static determineNumSysAndCheckDigit(c,A){for(let f=0;f<=1;f++)for(let g=0;g<10;g++)if(A===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][g]){let x=String.fromCharCode(48+f),v=String.fromCharCode(48+g);return x+c+v}throw ee.getNotFoundInstance()}getBarcodeFormat(){return de.UPC_E}static convertUPCEtoUPCA(c){const A=c.slice(1,7).split("").map(x=>x.charCodeAt(0)),f=new J;f.append(c.charAt(0));let g=A[5];switch(g){case 0:case 1:case 2:f.appendChars(A,0,2),f.append(g),f.append("0000"),f.appendChars(A,2,3);break;case 3:f.appendChars(A,0,3),f.append("00000"),f.appendChars(A,3,2);break;case 4:f.appendChars(A,0,4),f.append("00000"),f.append(A[4]);break;default:f.appendChars(A,0,5),f.append("0000"),f.append(g);break}return c.length>=8&&f.append(c.charAt(7)),f.toString()}}Lt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Lt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class tr extends Gt{constructor(c){super();let A=c==null?null:c.get(H.POSSIBLE_FORMATS),f=[];n(A)?(f.push(new Bt),f.push(new wr),f.push(new Qt),f.push(new Lt)):(A.indexOf(de.EAN_13)>-1&&f.push(new Bt),A.indexOf(de.UPC_A)>-1&&f.push(new wr),A.indexOf(de.EAN_8)>-1&&f.push(new Qt),A.indexOf(de.UPC_E)>-1&&f.push(new Lt)),this.readers=f}decodeRow(c,A,f){for(let g of this.readers)try{const x=g.decodeRow(c,A,f),v=x.getBarcodeFormat()===de.EAN_13&&x.getText().charAt(0)==="0",j=f==null?null:f.get(H.POSSIBLE_FORMATS),k=j==null||j.includes(de.UPC_A);if(v&&k){const O=x.getRawBytes(),W=new te(x.getText().substring(1),O,O?O.length:null,x.getResultPoints(),de.UPC_A);return W.putAllMetadata(x.getResultMetadata()),W}return x}catch{}throw new ee}reset(){for(let c of this.readers)c.reset()}}class rr extends Gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(c,A){for(let f=0;f<A.length;f++)if(Gt.patternMatchVariance(c,A[f],rr.MAX_INDIVIDUAL_VARIANCE)<rr.MAX_AVG_VARIANCE)return f;throw new ee}static count(c){return Ue.sum(new Int32Array(c))}static increment(c,A){let f=0,g=A[0];for(let x=1;x<c.length;x++)A[x]>g&&(g=A[x],f=x);c[f]++}static decrement(c,A){let f=0,g=A[0];for(let x=1;x<c.length;x++)A[x]<g&&(g=A[x],f=x);c[f]--}static isFinderPattern(c){let A=c[0]+c[1],f=A+c[2]+c[3],g=A/f;if(g>=rr.MIN_FINDER_PATTERN_RATIO&&g<=rr.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;for(let j of c)j>v&&(v=j),j<x&&(x=j);return v<10*x}return!1}}rr.MAX_AVG_VARIANCE=.2,rr.MAX_INDIVIDUAL_VARIANCE=.45,rr.MIN_FINDER_PATTERN_RATIO=9.5/12,rr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Vr{constructor(c,A){this.value=c,this.checksumPortion=A}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(c){if(!(c instanceof Vr))return!1;const A=c;return this.value===A.value&&this.checksumPortion===A.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Et{constructor(c,A,f,g,x){this.value=c,this.startEnd=A,this.value=c,this.startEnd=A,this.resultPoints=new Array,this.resultPoints.push(new We(f,x)),this.resultPoints.push(new We(g,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(c){if(!(c instanceof Et))return!1;const A=c;return this.value===A.value}hashCode(){return this.value}}class rn{constructor(){}static getRSSvalue(c,A,f){let g=0;for(let k of c)g+=k;let x=0,v=0,j=c.length;for(let k=0;k<j-1;k++){let O;for(O=1,v|=1<<k;O<c[k];O++,v&=~(1<<k)){let W=rn.combins(g-O-1,j-k-2);if(f&&v===0&&g-O-(j-k-1)>=j-k-1&&(W-=rn.combins(g-O-(j-k),j-k-2)),j-k-1>1){let ne=0;for(let le=g-O-(j-k-2);le>A;le--)ne+=rn.combins(g-O-le-1,j-k-3);W-=ne*(j-1-k)}else g-O>A&&W--;x+=W}g-=O}return x}static combins(c,A){let f,g;c-A>A?(g=A,f=c-A):(g=c-A,f=A);let x=1,v=1;for(let j=c;j>f;j--)x*=j,v<=g&&(x/=v,v++);for(;v<=g;)x/=v,v++;return x}}class ys{static buildBitArray(c){let A=c.length*2-1;c[c.length-1].getRightChar()==null&&(A-=1);let f=12*A,g=new _(f),x=0,j=c[0].getRightChar().getValue();for(let k=11;k>=0;--k)j&1<<k&&g.set(x),x++;for(let k=1;k<c.length;++k){let O=c[k],W=O.getLeftChar().getValue();for(let ne=11;ne>=0;--ne)W&1<<ne&&g.set(x),x++;if(O.getRightChar()!=null){let ne=O.getRightChar().getValue();for(let le=11;le>=0;--le)ne&1<<le&&g.set(x),x++}}return g}}class qr{constructor(c,A){A?this.decodedInformation=null:(this.finished=c,this.decodedInformation=A)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class In{constructor(c){this.newPosition=c}getNewPosition(){return this.newPosition}}class Or extends In{constructor(c,A){super(c),this.value=A}getValue(){return this.value}isFNC1(){return this.value===Or.FNC1}}Or.FNC1="$";class wn extends In{constructor(c,A,f){super(c),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=A}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class on extends In{constructor(c,A,f){if(super(c),A<0||A>10||f<0||f>10)throw new D;this.firstDigit=A,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===on.FNC1}isSecondDigitFNC1(){return this.secondDigit===on.FNC1}isAnyFNC1(){return this.firstDigit===on.FNC1||this.secondDigit===on.FNC1}}on.FNC1=10;class St{constructor(){}static parseFieldsInGeneralPurpose(c){if(!c)return null;if(c.length<2)throw new ee;let A=c.substring(0,2);for(let x of St.TWO_DIGIT_DATA_LENGTH)if(x[0]===A)return x[1]===St.VARIABLE_LENGTH?St.processVariableAI(2,x[2],c):St.processFixedAI(2,x[1],c);if(c.length<3)throw new ee;let f=c.substring(0,3);for(let x of St.THREE_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===St.VARIABLE_LENGTH?St.processVariableAI(3,x[2],c):St.processFixedAI(3,x[1],c);for(let x of St.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===St.VARIABLE_LENGTH?St.processVariableAI(4,x[2],c):St.processFixedAI(4,x[1],c);if(c.length<4)throw new ee;let g=c.substring(0,4);for(let x of St.FOUR_DIGIT_DATA_LENGTH)if(x[0]===g)return x[1]===St.VARIABLE_LENGTH?St.processVariableAI(4,x[2],c):St.processFixedAI(4,x[1],c);throw new ee}static processFixedAI(c,A,f){if(f.length<c)throw new ee;let g=f.substring(0,c);if(f.length<c+A)throw new ee;let x=f.substring(c,c+A),v=f.substring(c+A),j="("+g+")"+x,k=St.parseFieldsInGeneralPurpose(v);return k==null?j:j+k}static processVariableAI(c,A,f){let g=f.substring(0,c),x;f.length<c+A?x=f.length:x=c+A;let v=f.substring(c,x),j=f.substring(x),k="("+g+")"+v,O=St.parseFieldsInGeneralPurpose(j);return O==null?k:k+O}}St.VARIABLE_LENGTH=[],St.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",St.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",St.VARIABLE_LENGTH,20],["22",St.VARIABLE_LENGTH,29],["30",St.VARIABLE_LENGTH,8],["37",St.VARIABLE_LENGTH,8],["90",St.VARIABLE_LENGTH,30],["91",St.VARIABLE_LENGTH,30],["92",St.VARIABLE_LENGTH,30],["93",St.VARIABLE_LENGTH,30],["94",St.VARIABLE_LENGTH,30],["95",St.VARIABLE_LENGTH,30],["96",St.VARIABLE_LENGTH,30],["97",St.VARIABLE_LENGTH,3],["98",St.VARIABLE_LENGTH,30],["99",St.VARIABLE_LENGTH,30]],St.THREE_DIGIT_DATA_LENGTH=[["240",St.VARIABLE_LENGTH,30],["241",St.VARIABLE_LENGTH,30],["242",St.VARIABLE_LENGTH,6],["250",St.VARIABLE_LENGTH,30],["251",St.VARIABLE_LENGTH,30],["253",St.VARIABLE_LENGTH,17],["254",St.VARIABLE_LENGTH,20],["400",St.VARIABLE_LENGTH,30],["401",St.VARIABLE_LENGTH,30],["402",17],["403",St.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",St.VARIABLE_LENGTH,20],["421",St.VARIABLE_LENGTH,15],["422",3],["423",St.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],St.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",St.VARIABLE_LENGTH,15],["391",St.VARIABLE_LENGTH,18],["392",St.VARIABLE_LENGTH,15],["393",St.VARIABLE_LENGTH,18],["703",St.VARIABLE_LENGTH,30]],St.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",St.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",St.VARIABLE_LENGTH,20],["8003",St.VARIABLE_LENGTH,30],["8004",St.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",St.VARIABLE_LENGTH,30],["8008",St.VARIABLE_LENGTH,12],["8018",18],["8020",St.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",St.VARIABLE_LENGTH,70],["8200",St.VARIABLE_LENGTH,70]];class Ai{constructor(c){this.buffer=new J,this.information=c}decodeAllCodes(c,A){let f=A,g=null;do{let x=this.decodeGeneralPurposeField(f,g),v=St.parseFieldsInGeneralPurpose(x.getNewString());if(v!=null&&c.append(v),x.isRemaining()?g=""+x.getRemainingValue():g=null,f===x.getNewPosition())break;f=x.getNewPosition()}while(!0);return c.toString()}isStillNumeric(c){if(c+7>this.information.getSize())return c+4<=this.information.getSize();for(let A=c;A<c+3;++A)if(this.information.get(A))return!0;return this.information.get(c+3)}decodeNumeric(c){if(c+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(c,4);return x===0?new on(this.information.getSize(),on.FNC1,on.FNC1):new on(this.information.getSize(),x-1,on.FNC1)}let A=this.extractNumericValueFromBitArray(c,7),f=(A-8)/11,g=(A-8)%11;return new on(c+7,f,g)}extractNumericValueFromBitArray(c,A){return Ai.extractNumericValueFromBitArray(this.information,c,A)}static extractNumericValueFromBitArray(c,A,f){let g=0;for(let x=0;x<f;++x)c.get(A+x)&&(g|=1<<f-x-1);return g}decodeGeneralPurposeField(c,A){this.buffer.setLengthToZero(),A!=null&&this.buffer.append(A),this.current.setPosition(c);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new wn(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new wn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let c,A;do{let f=this.current.getPosition();if(this.current.isAlpha()?(A=this.parseAlphaBlock(),c=A.isFinished()):this.current.isIsoIec646()?(A=this.parseIsoIec646Block(),c=A.isFinished()):(A=this.parseNumericBlock(),c=A.isFinished()),!(f!==this.current.getPosition())&&!c)break}while(!c);return A.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let c=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFirstDigitFNC1()){let A;return c.isSecondDigitFNC1()?A=new wn(this.current.getPosition(),this.buffer.toString()):A=new wn(this.current.getPosition(),this.buffer.toString(),c.getSecondDigit()),new qr(!0,A)}if(this.buffer.append(c.getFirstDigit()),c.isSecondDigitFNC1()){let A=new wn(this.current.getPosition(),this.buffer.toString());return new qr(!0,A)}this.buffer.append(c.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new qr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let c=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let A=new wn(this.current.getPosition(),this.buffer.toString());return new qr(!0,A)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new qr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let c=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let A=new wn(this.current.getPosition(),this.buffer.toString());return new qr(!0,A)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new qr(!1)}isStillIsoIec646(c){if(c+5>this.information.getSize())return!1;let A=this.extractNumericValueFromBitArray(c,5);if(A>=5&&A<16)return!0;if(c+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,7);if(f>=64&&f<116)return!0;if(c+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(c,8);return g>=232&&g<253}decodeIsoIec646(c){let A=this.extractNumericValueFromBitArray(c,5);if(A===15)return new Or(c+5,Or.FNC1);if(A>=5&&A<15)return new Or(c+5,"0"+(A-5));let f=this.extractNumericValueFromBitArray(c,7);if(f>=64&&f<90)return new Or(c+7,""+(f+1));if(f>=90&&f<116)return new Or(c+7,""+(f+7));let g=this.extractNumericValueFromBitArray(c,8),x;switch(g){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new D}return new Or(c+8,x)}isStillAlpha(c){if(c+5>this.information.getSize())return!1;let A=this.extractNumericValueFromBitArray(c,5);if(A>=5&&A<16)return!0;if(c+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,6);return f>=16&&f<63}decodeAlphanumeric(c){let A=this.extractNumericValueFromBitArray(c,5);if(A===15)return new Or(c+5,Or.FNC1);if(A>=5&&A<15)return new Or(c+5,"0"+(A-5));let f=this.extractNumericValueFromBitArray(c,6);if(f>=32&&f<58)return new Or(c+6,""+(f+33));let g;switch(f){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new me("Decoding invalid alphanumeric value: "+f)}return new Or(c+6,g)}isAlphaTo646ToAlphaLatch(c){if(c+1>this.information.getSize())return!1;for(let A=0;A<5&&A+c<this.information.getSize();++A)if(A===2){if(!this.information.get(c+2))return!1}else if(this.information.get(c+A))return!1;return!0}isAlphaOr646ToNumericLatch(c){if(c+3>this.information.getSize())return!1;for(let A=c;A<c+3;++A)if(this.information.get(A))return!1;return!0}isNumericToAlphaNumericLatch(c){if(c+1>this.information.getSize())return!1;for(let A=0;A<4&&A+c<this.information.getSize();++A)if(this.information.get(c+A))return!1;return!0}}class hi{constructor(c){this.information=c,this.generalDecoder=new Ai(c)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Gn extends hi{constructor(c){super(c)}encodeCompressedGtin(c,A){c.append("(01)");let f=c.length();c.append("9"),this.encodeCompressedGtinWithoutAI(c,A,f)}encodeCompressedGtinWithoutAI(c,A,f){for(let g=0;g<4;++g){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(A+10*g,10);x/100===0&&c.append("0"),x/10===0&&c.append("0"),c.append(x)}Gn.appendCheckDigit(c,f)}static appendCheckDigit(c,A){let f=0;for(let g=0;g<13;g++){let x=c.charAt(g+A).charCodeAt(0)-48;f+=g&1?x:3*x}f=10-f%10,f===10&&(f=0),c.append(f)}}Gn.GTIN_SIZE=40;class da extends Gn{constructor(c){super(c)}parseInformation(){let c=new J;c.append("(01)");let A=c.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(da.HEADER_SIZE,4);return c.append(f),this.encodeCompressedGtinWithoutAI(c,da.HEADER_SIZE+4,A),this.getGeneralDecoder().decodeAllCodes(c,da.HEADER_SIZE+44)}}da.HEADER_SIZE=4;class Ua extends hi{constructor(c){super(c)}parseInformation(){let c=new J;return this.getGeneralDecoder().decodeAllCodes(c,Ua.HEADER_SIZE)}}Ua.HEADER_SIZE=5;class va extends Gn{constructor(c){super(c)}encodeCompressedWeight(c,A,f){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(A,f);this.addWeightCode(c,g);let x=this.checkWeight(g),v=1e5;for(let j=0;j<5;++j)x/v===0&&c.append("0"),v/=10;c.append(x)}}class ua extends va{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()!=ua.HEADER_SIZE+va.GTIN_SIZE+ua.WEIGHT_SIZE)throw new ee;let c=new J;return this.encodeCompressedGtin(c,ua.HEADER_SIZE),this.encodeCompressedWeight(c,ua.HEADER_SIZE+va.GTIN_SIZE,ua.WEIGHT_SIZE),c.toString()}}ua.HEADER_SIZE=5,ua.WEIGHT_SIZE=15;class Mo extends ua{constructor(c){super(c)}addWeightCode(c,A){c.append("(3103)")}checkWeight(c){return c}}class Wc extends ua{constructor(c){super(c)}addWeightCode(c,A){A<1e4?c.append("(3202)"):c.append("(3203)")}checkWeight(c){return c<1e4?c:c-1e4}}class ba extends Gn{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<ba.HEADER_SIZE+Gn.GTIN_SIZE)throw new ee;let c=new J;this.encodeCompressedGtin(c,ba.HEADER_SIZE);let A=this.getGeneralDecoder().extractNumericValueFromBitArray(ba.HEADER_SIZE+Gn.GTIN_SIZE,ba.LAST_DIGIT_SIZE);c.append("(392"),c.append(A),c.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(ba.HEADER_SIZE+Gn.GTIN_SIZE+ba.LAST_DIGIT_SIZE,null);return c.append(f.getNewString()),c.toString()}}ba.HEADER_SIZE=8,ba.LAST_DIGIT_SIZE=2;class ws extends Gn{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<ws.HEADER_SIZE+Gn.GTIN_SIZE)throw new ee;let c=new J;this.encodeCompressedGtin(c,ws.HEADER_SIZE);let A=this.getGeneralDecoder().extractNumericValueFromBitArray(ws.HEADER_SIZE+Gn.GTIN_SIZE,ws.LAST_DIGIT_SIZE);c.append("(393"),c.append(A),c.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(ws.HEADER_SIZE+Gn.GTIN_SIZE+ws.LAST_DIGIT_SIZE,ws.FIRST_THREE_DIGITS_SIZE);f/100==0&&c.append("0"),f/10==0&&c.append("0"),c.append(f);let g=this.getGeneralDecoder().decodeGeneralPurposeField(ws.HEADER_SIZE+Gn.GTIN_SIZE+ws.LAST_DIGIT_SIZE+ws.FIRST_THREE_DIGITS_SIZE,null);return c.append(g.getNewString()),c.toString()}}ws.HEADER_SIZE=8,ws.LAST_DIGIT_SIZE=2,ws.FIRST_THREE_DIGITS_SIZE=10;class An extends va{constructor(c,A,f){super(c),this.dateCode=f,this.firstAIdigits=A}parseInformation(){if(this.getInformation().getSize()!=An.HEADER_SIZE+An.GTIN_SIZE+An.WEIGHT_SIZE+An.DATE_SIZE)throw new ee;let c=new J;return this.encodeCompressedGtin(c,An.HEADER_SIZE),this.encodeCompressedWeight(c,An.HEADER_SIZE+An.GTIN_SIZE,An.WEIGHT_SIZE),this.encodeCompressedDate(c,An.HEADER_SIZE+An.GTIN_SIZE+An.WEIGHT_SIZE),c.toString()}encodeCompressedDate(c,A){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(A,An.DATE_SIZE);if(f==38400)return;c.append("("),c.append(this.dateCode),c.append(")");let g=f%32;f/=32;let x=f%12+1;f/=12;let v=f;v/10==0&&c.append("0"),c.append(v),x/10==0&&c.append("0"),c.append(x),g/10==0&&c.append("0"),c.append(g)}addWeightCode(c,A){c.append("("),c.append(this.firstAIdigits),c.append(A/1e5),c.append(")")}checkWeight(c){return c%1e5}}An.HEADER_SIZE=8,An.WEIGHT_SIZE=20,An.DATE_SIZE=16;function xf(re){try{if(re.get(1))return new da(re);if(!re.get(2))return new Ua(re);switch(Ai.extractNumericValueFromBitArray(re,1,4)){case 4:return new Mo(re);case 5:return new Wc(re)}switch(Ai.extractNumericValueFromBitArray(re,1,5)){case 12:return new ba(re);case 13:return new ws(re)}switch(Ai.extractNumericValueFromBitArray(re,1,7)){case 56:return new An(re,"310","11");case 57:return new An(re,"320","11");case 58:return new An(re,"310","13");case 59:return new An(re,"320","13");case 60:return new An(re,"310","15");case 61:return new An(re,"320","15");case 62:return new An(re,"310","17");case 63:return new An(re,"320","17")}}catch(c){throw console.log(c),new me("unknown decoder: "+re)}}class Ti{constructor(c,A,f,g){this.leftchar=c,this.rightchar=A,this.finderpattern=f,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(c,A){return c instanceof Ti?Ti.equalsOrNull(c.leftchar,A.leftchar)&&Ti.equalsOrNull(c.rightchar,A.rightchar)&&Ti.equalsOrNull(c.finderpattern,A.finderpattern):!1}static equalsOrNull(c,A){return c===null?A===null:Ti.equals(c,A)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ru{constructor(c,A,f){this.pairs=c,this.rowNumber=A,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(c){return this.checkEqualitity(this,c)}toString(){return"{ "+this.pairs+" }"}equals(c,A){return c instanceof ru?this.checkEqualitity(c,A)&&c.wasReversed===A.wasReversed:!1}checkEqualitity(c,A){if(!c||!A)return;let f;return c.forEach((g,x)=>{A.forEach(v=>{g.getLeftChar().getValue()===v.getLeftChar().getValue()&&g.getRightChar().getValue()===v.getRightChar().getValue()&&g.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(f=!0)})}),f}}class at extends rr{constructor(c){super(...arguments),this.pairs=new Array(at.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=c===!0}decodeRow(c,A,f){this.pairs.length=0,this.startFromEven=!1;try{return at.constructResult(this.decodeRow2pairs(c,A))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,at.constructResult(this.decodeRow2pairs(c,A))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(c,A){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(A,this.pairs,c))}catch(x){if(x instanceof ee){if(!this.pairs.length)throw new ee;f=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(c,!1),g){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new ee}checkRowsBoolean(c){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,c&&(this.rows=this.rows.reverse());let A=null;try{A=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return c&&(this.rows=this.rows.reverse()),A}checkRows(c,A){for(let f=A;f<this.rows.length;f++){let g=this.rows[f];this.pairs.length=0;for(let v of c)this.pairs.push(v.getPairs());if(this.pairs.push(g.getPairs()),!at.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(c);x.push(g);try{return this.checkRows(x,f+1)}catch(v){this.verbose&&console.log(v)}}throw new ee}static isValidSequence(c){for(let A of at.FINDER_PATTERN_SEQUENCES){if(c.length>A.length)continue;let f=!0;for(let g=0;g<c.length;g++)if(c[g].getFinderPattern().getValue()!=A[g]){f=!1;break}if(f)return!0}return!1}storeRow(c,A){let f=0,g=!1,x=!1;for(;f<this.rows.length;){let v=this.rows[f];if(v.getRowNumber()>c){x=v.isEquivalent(this.pairs);break}g=v.isEquivalent(this.pairs),f++}x||g||at.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new ru(this.pairs,c,A)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(c,A){for(let f of A)if(f.getPairs().length!==c.length){for(let g of f.getPairs())for(let x of c)if(Ti.equals(g,x))break}}static isPartialRow(c,A){for(let f of A){let g=!0;for(let x of c){let v=!1;for(let j of f.getPairs())if(x.equals(j)){v=!0;break}if(!v){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(c){let A=ys.buildBitArray(c),g=xf(A).parseInformation(),x=c[0].getFinderPattern().getResultPoints(),v=c[c.length-1].getFinderPattern().getResultPoints(),j=[x[0],x[1],v[0],v[1]];return new te(g,null,null,j,de.RSS_EXPANDED,null)}checkChecksum(){let c=this.pairs.get(0),A=c.getLeftChar(),f=c.getRightChar();if(f==null)return!1;let g=f.getChecksumPortion(),x=2;for(let j=1;j<this.pairs.size();++j){let k=this.pairs.get(j);g+=k.getLeftChar().getChecksumPortion(),x++;let O=k.getRightChar();O!=null&&(g+=O.getChecksumPortion(),x++)}return g%=211,211*(x-4)+g==A.getValue()}static getNextSecondBar(c,A){let f;return c.get(A)?(f=c.getNextUnset(A),f=c.getNextSet(f)):(f=c.getNextSet(A),f=c.getNextUnset(f)),f}retrieveNextPair(c,A,f){let g=A.length%2==0;this.startFromEven&&(g=!g);let x,v=!0,j=-1;do this.findNextPair(c,A,j),x=this.parseFoundFinderPattern(c,f,g),x==null?j=at.getNextSecondBar(c,this.startEnd[0]):v=!1;while(v);let k=this.decodeDataCharacter(c,x,g,!0);if(!this.isEmptyPair(A)&&A[A.length-1].mustBeLast())throw new ee;let O;try{O=this.decodeDataCharacter(c,x,g,!1)}catch(W){O=null,this.verbose&&console.log(W)}return new Ti(k,O,x,!0)}isEmptyPair(c){return c.length===0}findNextPair(c,A,f){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=c.getSize(),v;f>=0?v=f:this.isEmptyPair(A)?v=0:v=A[A.length-1].getFinderPattern().getStartEnd()[1];let j=A.length%2!=0;this.startFromEven&&(j=!j);let k=!1;for(;v<x&&(k=!c.get(v),!!k);)v++;let O=0,W=v;for(let ne=v;ne<x;ne++)if(c.get(ne)!=k)g[O]++;else{if(O==3){if(j&&at.reverseCounters(g),at.isFinderPattern(g)){this.startEnd[0]=W,this.startEnd[1]=ne;return}j&&at.reverseCounters(g),W+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,O--}else O++;g[O]=1,k=!k}throw new ee}static reverseCounters(c){let A=c.length;for(let f=0;f<A/2;++f){let g=c[f];c[f]=c[A-f-1],c[A-f-1]=g}}parseFoundFinderPattern(c,A,f){let g,x,v;if(f){let O=this.startEnd[0]-1;for(;O>=0&&!c.get(O);)O--;O++,g=this.startEnd[0]-O,x=O,v=this.startEnd[1]}else x=this.startEnd[0],v=c.getNextUnset(this.startEnd[1]+1),g=v-this.startEnd[1];let j=this.getDecodeFinderCounters();N.arraycopy(j,0,j,1,j.length-1),j[0]=g;let k;try{k=this.parseFinderValue(j,at.FINDER_PATTERNS)}catch{return null}return new Et(k,[x,v],x,v,A)}decodeDataCharacter(c,A,f,g){let x=this.getDataCharacterCounters();for(let gn=0;gn<x.length;gn++)x[gn]=0;if(g)at.recordPatternInReverse(c,A.getStartEnd()[0],x);else{at.recordPattern(c,A.getStartEnd()[1],x);for(let gn=0,Ws=x.length-1;gn<Ws;gn++,Ws--){let Ka=x[gn];x[gn]=x[Ws],x[Ws]=Ka}}let v=17,j=Ue.sum(new Int32Array(x))/v,k=(A.getStartEnd()[1]-A.getStartEnd()[0])/15;if(Math.abs(j-k)/k>.3)throw new ee;let O=this.getOddCounts(),W=this.getEvenCounts(),ne=this.getOddRoundingErrors(),le=this.getEvenRoundingErrors();for(let gn=0;gn<x.length;gn++){let Ws=1*x[gn]/j,Ka=Ws+.5;if(Ka<1){if(Ws<.3)throw new ee;Ka=1}else if(Ka>8){if(Ws>8.7)throw new ee;Ka=8}let nd=gn/2;gn&1?(W[nd]=Ka,le[nd]=Ws-Ka):(O[nd]=Ka,ne[nd]=Ws-Ka)}this.adjustOddEvenCounts(v);let ye=4*A.getValue()+(f?0:2)+(g?0:1)-1,Be=0,je=0;for(let gn=O.length-1;gn>=0;gn--){if(at.isNotA1left(A,f,g)){let Ws=at.WEIGHTS[ye][2*gn];je+=O[gn]*Ws}Be+=O[gn]}let Me=0;for(let gn=W.length-1;gn>=0;gn--)if(at.isNotA1left(A,f,g)){let Ws=at.WEIGHTS[ye][2*gn+1];Me+=W[gn]*Ws}let qe=je+Me;if(Be&1||Be>13||Be<4)throw new ee;let ct=(13-Be)/2,ht=at.SYMBOL_WIDEST[ct],dt=9-ht,Qr=rn.getRSSvalue(O,ht,!0),Nr=rn.getRSSvalue(W,dt,!1),Ba=at.EVEN_TOTAL_SUBSET[ct],Oi=at.GSUM[ct],Sa=Qr*Ba+Nr+Oi;return new Vr(Sa,qe)}static isNotA1left(c,A,f){return!(c.getValue()==0&&A&&f)}adjustOddEvenCounts(c){let A=Ue.sum(new Int32Array(this.getOddCounts())),f=Ue.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1;A>13?x=!0:A<4&&(g=!0);let v=!1,j=!1;f>13?j=!0:f<4&&(v=!0);let k=A+f-c,O=(A&1)==1,W=(f&1)==0;if(k==1)if(O){if(W)throw new ee;x=!0}else{if(!W)throw new ee;j=!0}else if(k==-1)if(O){if(W)throw new ee;g=!0}else{if(!W)throw new ee;v=!0}else if(k==0){if(O){if(!W)throw new ee;A<f?(g=!0,j=!0):(x=!0,v=!0)}else if(W)throw new ee}else throw new ee;if(g){if(x)throw new ee;at.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&at.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(j)throw new ee;at.increment(this.getEvenCounts(),this.getOddRoundingErrors())}j&&at.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}at.SYMBOL_WIDEST=[7,5,4,3,1],at.EVEN_TOTAL_SUBSET=[4,20,52,104,204],at.GSUM=[0,348,1388,2948,3988],at.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],at.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],at.FINDER_PAT_A=0,at.FINDER_PAT_B=1,at.FINDER_PAT_C=2,at.FINDER_PAT_D=3,at.FINDER_PAT_E=4,at.FINDER_PAT_F=5,at.FINDER_PATTERN_SEQUENCES=[[at.FINDER_PAT_A,at.FINDER_PAT_A],[at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B],[at.FINDER_PAT_A,at.FINDER_PAT_C,at.FINDER_PAT_B,at.FINDER_PAT_D],[at.FINDER_PAT_A,at.FINDER_PAT_E,at.FINDER_PAT_B,at.FINDER_PAT_D,at.FINDER_PAT_C],[at.FINDER_PAT_A,at.FINDER_PAT_E,at.FINDER_PAT_B,at.FINDER_PAT_D,at.FINDER_PAT_D,at.FINDER_PAT_F],[at.FINDER_PAT_A,at.FINDER_PAT_E,at.FINDER_PAT_B,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_F,at.FINDER_PAT_F],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_D],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_E],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_F,at.FINDER_PAT_F],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_E,at.FINDER_PAT_F,at.FINDER_PAT_F]],at.MAX_PAIRS=11;class Li extends Vr{constructor(c,A,f){super(c,A),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Fn extends rr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(c,A,f){const g=this.decodePair(A,!1,c,f);Fn.addOrTally(this.possibleLeftPairs,g),A.reverse();let x=this.decodePair(A,!0,c,f);Fn.addOrTally(this.possibleRightPairs,x),A.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1){for(let j of this.possibleRightPairs)if(j.getCount()>1&&Fn.checkChecksum(v,j))return Fn.constructResult(v,j)}throw new ee}static addOrTally(c,A){if(A==null)return;let f=!1;for(let g of c)if(g.getValue()===A.getValue()){g.incrementCount(),f=!0;break}f||c.push(A)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(c,A){let f=4537077*c.getValue()+A.getValue(),g=new String(f).toString(),x=new J;for(let O=13-g.length;O>0;O--)x.append("0");x.append(g);let v=0;for(let O=0;O<13;O++){let W=x.charAt(O).charCodeAt(0)-48;v+=O&1?W:3*W}v=10-v%10,v===10&&(v=0),x.append(v.toString());let j=c.getFinderPattern().getResultPoints(),k=A.getFinderPattern().getResultPoints();return new te(x.toString(),null,0,[j[0],j[1],k[0],k[1]],de.RSS_14,new Date().getTime())}static checkChecksum(c,A){let f=(c.getChecksumPortion()+16*A.getChecksumPortion())%79,g=9*c.getFinderPattern().getValue()+A.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,f===g}decodePair(c,A,f,g){try{let x=this.findFinderPattern(c,A),v=this.parseFoundFinderPattern(c,f,A,x),j=g==null?null:g.get(H.NEED_RESULT_POINT_CALLBACK);if(j!=null){let W=(x[0]+x[1])/2;A&&(W=c.getSize()-1-W),j.foundPossibleResultPoint(new We(W,f))}let k=this.decodeDataCharacter(c,v,!0),O=this.decodeDataCharacter(c,v,!1);return new Li(1597*k.getValue()+O.getValue(),k.getChecksumPortion()+4*O.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(c,A,f){let g=this.getDataCharacterCounters();for(let Me=0;Me<g.length;Me++)g[Me]=0;if(f)Gt.recordPatternInReverse(c,A.getStartEnd()[0],g);else{Gt.recordPattern(c,A.getStartEnd()[1]+1,g);for(let Me=0,qe=g.length-1;Me<qe;Me++,qe--){let ct=g[Me];g[Me]=g[qe],g[qe]=ct}}let x=f?16:15,v=Ue.sum(new Int32Array(g))/x,j=this.getOddCounts(),k=this.getEvenCounts(),O=this.getOddRoundingErrors(),W=this.getEvenRoundingErrors();for(let Me=0;Me<g.length;Me++){let qe=g[Me]/v,ct=Math.floor(qe+.5);ct<1?ct=1:ct>8&&(ct=8);let ht=Math.floor(Me/2);Me&1?(k[ht]=ct,W[ht]=qe-ct):(j[ht]=ct,O[ht]=qe-ct)}this.adjustOddEvenCounts(f,x);let ne=0,le=0;for(let Me=j.length-1;Me>=0;Me--)le*=9,le+=j[Me],ne+=j[Me];let ye=0,Be=0;for(let Me=k.length-1;Me>=0;Me--)ye*=9,ye+=k[Me],Be+=k[Me];let je=le+3*ye;if(f){if(ne&1||ne>12||ne<4)throw new ee;let Me=(12-ne)/2,qe=Fn.OUTSIDE_ODD_WIDEST[Me],ct=9-qe,ht=rn.getRSSvalue(j,qe,!1),dt=rn.getRSSvalue(k,ct,!0),Qr=Fn.OUTSIDE_EVEN_TOTAL_SUBSET[Me],Nr=Fn.OUTSIDE_GSUM[Me];return new Vr(ht*Qr+dt+Nr,je)}else{if(Be&1||Be>10||Be<4)throw new ee;let Me=(10-Be)/2,qe=Fn.INSIDE_ODD_WIDEST[Me],ct=9-qe,ht=rn.getRSSvalue(j,qe,!0),dt=rn.getRSSvalue(k,ct,!1),Qr=Fn.INSIDE_ODD_TOTAL_SUBSET[Me],Nr=Fn.INSIDE_GSUM[Me];return new Vr(dt*Qr+ht+Nr,je)}}findFinderPattern(c,A){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let g=c.getSize(),x=!1,v=0;for(;v<g&&(x=!c.get(v),A!==x);)v++;let j=0,k=v;for(let O=v;O<g;O++)if(c.get(O)!==x)f[j]++;else{if(j===3){if(rr.isFinderPattern(f))return[k,O];k+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,j--}else j++;f[j]=1,x=!x}throw new ee}parseFoundFinderPattern(c,A,f,g){let x=c.get(g[0]),v=g[0]-1;for(;v>=0&&x!==c.get(v);)v--;v++;const j=g[0]-v,k=this.getDecodeFinderCounters(),O=new Int32Array(k.length);N.arraycopy(k,0,O,1,k.length-1),O[0]=j;const W=this.parseFinderValue(O,Fn.FINDER_PATTERNS);let ne=v,le=g[1];return f&&(ne=c.getSize()-1-ne,le=c.getSize()-1-le),new Et(W,[v,g[1]],ne,le,A)}adjustOddEvenCounts(c,A){let f=Ue.sum(new Int32Array(this.getOddCounts())),g=Ue.sum(new Int32Array(this.getEvenCounts())),x=!1,v=!1,j=!1,k=!1;c?(f>12?v=!0:f<4&&(x=!0),g>12?k=!0:g<4&&(j=!0)):(f>11?v=!0:f<5&&(x=!0),g>10?k=!0:g<4&&(j=!0));let O=f+g-A,W=(f&1)===(c?1:0),ne=(g&1)===1;if(O===1)if(W){if(ne)throw new ee;v=!0}else{if(!ne)throw new ee;k=!0}else if(O===-1)if(W){if(ne)throw new ee;x=!0}else{if(!ne)throw new ee;j=!0}else if(O===0){if(W){if(!ne)throw new ee;f<g?(x=!0,k=!0):(v=!0,j=!0)}else if(ne)throw new ee}else throw new ee;if(x){if(v)throw new ee;rr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&rr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),j){if(k)throw new ee;rr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}k&&rr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Fn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Fn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Fn.OUTSIDE_GSUM=[0,161,961,2015,2715],Fn.INSIDE_GSUM=[0,336,1036,1516],Fn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Fn.INSIDE_ODD_WIDEST=[2,4,6,8],Fn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class gl extends Gt{constructor(c,A){super(),this.readers=[],this.verbose=A===!0;const f=c?c.get(H.POSSIBLE_FORMATS):null,g=c&&c.get(H.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(de.EAN_13)||f.includes(de.UPC_A)||f.includes(de.EAN_8)||f.includes(de.UPC_E))&&this.readers.push(new tr(c)),f.includes(de.CODE_39)&&this.readers.push(new It(g)),f.includes(de.CODE_128)&&this.readers.push(new $e),f.includes(de.ITF)&&this.readers.push(new Kt),f.includes(de.RSS_14)&&this.readers.push(new Fn),f.includes(de.RSS_EXPANDED)&&this.readers.push(new at(this.verbose))):(this.readers.push(new tr(c)),this.readers.push(new It),this.readers.push(new tr(c)),this.readers.push(new $e),this.readers.push(new Kt),this.readers.push(new Fn),this.readers.push(new at(this.verbose)))}decodeRow(c,A,f){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(c,A,f)}catch{}throw new ee}reset(){this.readers.forEach(c=>c.reset())}}class zA extends G{constructor(c=500,A){super(new gl(A),c,A)}}class Xr{constructor(c,A,f){this.ecCodewords=c,this.ecBlocks=[A],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Wr{constructor(c,A){this.count=c,this.dataCodewords=A}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Rr{constructor(c,A,f,g,x,v){this.versionNumber=c,this.symbolSizeRows=A,this.symbolSizeColumns=f,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=x,this.ecBlocks=v;let j=0;const k=v.getECCodewords(),O=v.getECBlocks();for(let W of O)j+=W.getCount()*(W.getDataCodewords()+k);this.totalCodewords=j}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(c,A){if(c&1||A&1)throw new D;for(let f of Rr.VERSIONS)if(f.symbolSizeRows===c&&f.symbolSizeColumns===A)return f;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new Rr(1,10,10,8,8,new Xr(5,new Wr(1,3))),new Rr(2,12,12,10,10,new Xr(7,new Wr(1,5))),new Rr(3,14,14,12,12,new Xr(10,new Wr(1,8))),new Rr(4,16,16,14,14,new Xr(12,new Wr(1,12))),new Rr(5,18,18,16,16,new Xr(14,new Wr(1,18))),new Rr(6,20,20,18,18,new Xr(18,new Wr(1,22))),new Rr(7,22,22,20,20,new Xr(20,new Wr(1,30))),new Rr(8,24,24,22,22,new Xr(24,new Wr(1,36))),new Rr(9,26,26,24,24,new Xr(28,new Wr(1,44))),new Rr(10,32,32,14,14,new Xr(36,new Wr(1,62))),new Rr(11,36,36,16,16,new Xr(42,new Wr(1,86))),new Rr(12,40,40,18,18,new Xr(48,new Wr(1,114))),new Rr(13,44,44,20,20,new Xr(56,new Wr(1,144))),new Rr(14,48,48,22,22,new Xr(68,new Wr(1,174))),new Rr(15,52,52,24,24,new Xr(42,new Wr(2,102))),new Rr(16,64,64,14,14,new Xr(56,new Wr(2,140))),new Rr(17,72,72,16,16,new Xr(36,new Wr(4,92))),new Rr(18,80,80,18,18,new Xr(48,new Wr(4,114))),new Rr(19,88,88,20,20,new Xr(56,new Wr(4,144))),new Rr(20,96,96,22,22,new Xr(68,new Wr(4,174))),new Rr(21,104,104,24,24,new Xr(56,new Wr(6,136))),new Rr(22,120,120,18,18,new Xr(68,new Wr(6,175))),new Rr(23,132,132,20,20,new Xr(62,new Wr(8,163))),new Rr(24,144,144,22,22,new Xr(62,new Wr(8,156),new Wr(2,155))),new Rr(25,8,18,6,16,new Xr(7,new Wr(1,5))),new Rr(26,8,32,6,14,new Xr(11,new Wr(1,10))),new Rr(27,12,26,10,24,new Xr(14,new Wr(1,16))),new Rr(28,12,36,10,16,new Xr(18,new Wr(1,22))),new Rr(29,16,36,14,16,new Xr(24,new Wr(1,32))),new Rr(30,16,48,14,22,new Xr(28,new Wr(1,49)))]}}Rr.VERSIONS=Rr.buildVersions();class tc{constructor(c){const A=c.getHeight();if(A<8||A>144||A&1)throw new D;this.version=tc.readVersion(c),this.mappingBitMatrix=this.extractDataRegion(c),this.readMappingMatrix=new Z(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(c){const A=c.getHeight(),f=c.getWidth();return Rr.getVersionForDimensions(A,f)}readCodewords(){const c=new Int8Array(this.version.getTotalCodewords());let A=0,f=4,g=0;const x=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let j=!1,k=!1,O=!1,W=!1;do if(f===x&&g===0&&!j)c[A++]=this.readCorner1(x,v)&255,f-=2,g+=2,j=!0;else if(f===x-2&&g===0&&v&3&&!k)c[A++]=this.readCorner2(x,v)&255,f-=2,g+=2,k=!0;else if(f===x+4&&g===2&&!(v&7)&&!O)c[A++]=this.readCorner3(x,v)&255,f-=2,g+=2,O=!0;else if(f===x-2&&g===0&&(v&7)===4&&!W)c[A++]=this.readCorner4(x,v)&255,f-=2,g+=2,W=!0;else{do f<x&&g>=0&&!this.readMappingMatrix.get(g,f)&&(c[A++]=this.readUtah(f,g,x,v)&255),f-=2,g+=2;while(f>=0&&g<v);f+=1,g+=3;do f>=0&&g<v&&!this.readMappingMatrix.get(g,f)&&(c[A++]=this.readUtah(f,g,x,v)&255),f+=2,g-=2;while(f<x&&g>=0);f+=3,g+=1}while(f<x||g<v);if(A!==this.version.getTotalCodewords())throw new D;return c}readModule(c,A,f,g){return c<0&&(c+=f,A+=4-(f+4&7)),A<0&&(A+=g,c+=4-(g+4&7)),this.readMappingMatrix.set(A,c),this.mappingBitMatrix.get(A,c)}readUtah(c,A,f,g){let x=0;return this.readModule(c-2,A-2,f,g)&&(x|=1),x<<=1,this.readModule(c-2,A-1,f,g)&&(x|=1),x<<=1,this.readModule(c-1,A-2,f,g)&&(x|=1),x<<=1,this.readModule(c-1,A-1,f,g)&&(x|=1),x<<=1,this.readModule(c-1,A,f,g)&&(x|=1),x<<=1,this.readModule(c,A-2,f,g)&&(x|=1),x<<=1,this.readModule(c,A-1,f,g)&&(x|=1),x<<=1,this.readModule(c,A,f,g)&&(x|=1),x}readCorner1(c,A){let f=0;return this.readModule(c-1,0,c,A)&&(f|=1),f<<=1,this.readModule(c-1,1,c,A)&&(f|=1),f<<=1,this.readModule(c-1,2,c,A)&&(f|=1),f<<=1,this.readModule(0,A-2,c,A)&&(f|=1),f<<=1,this.readModule(0,A-1,c,A)&&(f|=1),f<<=1,this.readModule(1,A-1,c,A)&&(f|=1),f<<=1,this.readModule(2,A-1,c,A)&&(f|=1),f<<=1,this.readModule(3,A-1,c,A)&&(f|=1),f}readCorner2(c,A){let f=0;return this.readModule(c-3,0,c,A)&&(f|=1),f<<=1,this.readModule(c-2,0,c,A)&&(f|=1),f<<=1,this.readModule(c-1,0,c,A)&&(f|=1),f<<=1,this.readModule(0,A-4,c,A)&&(f|=1),f<<=1,this.readModule(0,A-3,c,A)&&(f|=1),f<<=1,this.readModule(0,A-2,c,A)&&(f|=1),f<<=1,this.readModule(0,A-1,c,A)&&(f|=1),f<<=1,this.readModule(1,A-1,c,A)&&(f|=1),f}readCorner3(c,A){let f=0;return this.readModule(c-1,0,c,A)&&(f|=1),f<<=1,this.readModule(c-1,A-1,c,A)&&(f|=1),f<<=1,this.readModule(0,A-3,c,A)&&(f|=1),f<<=1,this.readModule(0,A-2,c,A)&&(f|=1),f<<=1,this.readModule(0,A-1,c,A)&&(f|=1),f<<=1,this.readModule(1,A-3,c,A)&&(f|=1),f<<=1,this.readModule(1,A-2,c,A)&&(f|=1),f<<=1,this.readModule(1,A-1,c,A)&&(f|=1),f}readCorner4(c,A){let f=0;return this.readModule(c-3,0,c,A)&&(f|=1),f<<=1,this.readModule(c-2,0,c,A)&&(f|=1),f<<=1,this.readModule(c-1,0,c,A)&&(f|=1),f<<=1,this.readModule(0,A-2,c,A)&&(f|=1),f<<=1,this.readModule(0,A-1,c,A)&&(f|=1),f<<=1,this.readModule(1,A-1,c,A)&&(f|=1),f<<=1,this.readModule(2,A-1,c,A)&&(f|=1),f<<=1,this.readModule(3,A-1,c,A)&&(f|=1),f}extractDataRegion(c){const A=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(c.getHeight()!==A)throw new m("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),v=A/g|0,j=f/x|0,k=v*g,O=j*x,W=new Z(O,k);for(let ne=0;ne<v;++ne){const le=ne*g;for(let ye=0;ye<j;++ye){const Be=ye*x;for(let je=0;je<g;++je){const Me=ne*(g+2)+1+je,qe=le+je;for(let ct=0;ct<x;++ct){const ht=ye*(x+2)+1+ct;if(c.get(ht,Me)){const dt=Be+ct;W.set(dt,qe)}}}}}return W}}class WA{constructor(c,A){this.numDataCodewords=c,this.codewords=A}static getDataBlocks(c,A){const f=A.getECBlocks();let g=0;const x=f.getECBlocks();for(let je of x)g+=je.getCount();const v=new Array(g);let j=0;for(let je of x)for(let Me=0;Me<je.getCount();Me++){const qe=je.getDataCodewords(),ct=f.getECCodewords()+qe;v[j++]=new WA(qe,new Uint8Array(ct))}const O=v[0].codewords.length-f.getECCodewords(),W=O-1;let ne=0;for(let je=0;je<W;je++)for(let Me=0;Me<j;Me++)v[Me].codewords[je]=c[ne++];const le=A.getVersionNumber()===24,ye=le?8:j;for(let je=0;je<ye;je++)v[je].codewords[O-1]=c[ne++];const Be=v[0].codewords.length;for(let je=O;je<Be;je++)for(let Me=0;Me<j;Me++){const qe=le?(Me+8)%j:Me,ct=le&&qe>7?je-1:je;v[qe].codewords[ct]=c[ne++]}if(ne!==c.length)throw new m;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ns{constructor(c){this.bytes=c,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(c){if(c<1||c>32||c>this.available())throw new m(""+c);let A=0,f=this.bitOffset,g=this.byteOffset;const x=this.bytes;if(f>0){const v=8-f,j=c<v?c:v,k=v-j,O=255>>8-j<<k;A=(x[g]&O)>>k,c-=j,f+=j,f===8&&(f=0,g++)}if(c>0){for(;c>=8;)A=A<<8|x[g]&255,g++,c-=8;if(c>0){const v=8-c,j=255>>v<<v;A=A<<c|(x[g]&j)>>v,f+=c}}return this.bitOffset=f,this.byteOffset=g,A}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ss;(function(re){re[re.PAD_ENCODE=0]="PAD_ENCODE",re[re.ASCII_ENCODE=1]="ASCII_ENCODE",re[re.C40_ENCODE=2]="C40_ENCODE",re[re.TEXT_ENCODE=3]="TEXT_ENCODE",re[re.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",re[re.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",re[re.BASE256_ENCODE=6]="BASE256_ENCODE"})(ss||(ss={}));class ao{static decode(c){const A=new ns(c),f=new J,g=new J,x=new Array;let v=ss.ASCII_ENCODE;do if(v===ss.ASCII_ENCODE)v=this.decodeAsciiSegment(A,f,g);else{switch(v){case ss.C40_ENCODE:this.decodeC40Segment(A,f);break;case ss.TEXT_ENCODE:this.decodeTextSegment(A,f);break;case ss.ANSIX12_ENCODE:this.decodeAnsiX12Segment(A,f);break;case ss.EDIFACT_ENCODE:this.decodeEdifactSegment(A,f);break;case ss.BASE256_ENCODE:this.decodeBase256Segment(A,f,x);break;default:throw new D}v=ss.ASCII_ENCODE}while(v!==ss.PAD_ENCODE&&A.available()>0);return g.length()>0&&f.append(g.toString()),new Ee(c,f.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(c,A,f){let g=!1;do{let x=c.readBits(8);if(x===0)throw new D;if(x<=128)return g&&(x+=128),A.append(String.fromCharCode(x-1)),ss.ASCII_ENCODE;if(x===129)return ss.PAD_ENCODE;if(x<=229){const v=x-130;v<10&&A.append("0"),A.append(""+v)}else switch(x){case 230:return ss.C40_ENCODE;case 231:return ss.BASE256_ENCODE;case 232:A.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:A.append("[)>05"),f.insert(0,"");break;case 237:A.append("[)>06"),f.insert(0,"");break;case 238:return ss.ANSIX12_ENCODE;case 239:return ss.TEXT_ENCODE;case 240:return ss.EDIFACT_ENCODE;case 241:break;default:if(x!==254||c.available()!==0)throw new D;break}}while(c.available()>0);return ss.ASCII_ENCODE}static decodeC40Segment(c,A){let f=!1;const g=[];let x=0;do{if(c.available()===8)return;const v=c.readBits(8);if(v===254)return;this.parseTwoBytes(v,c.readBits(8),g);for(let j=0;j<3;j++){const k=g[j];switch(x){case 0:if(k<3)x=k+1;else if(k<this.C40_BASIC_SET_CHARS.length){const O=this.C40_BASIC_SET_CHARS[k];f?(A.append(String.fromCharCode(O.charCodeAt(0)+128)),f=!1):A.append(O)}else throw new D;break;case 1:f?(A.append(String.fromCharCode(k+128)),f=!1):A.append(String.fromCharCode(k)),x=0;break;case 2:if(k<this.C40_SHIFT2_SET_CHARS.length){const O=this.C40_SHIFT2_SET_CHARS[k];f?(A.append(String.fromCharCode(O.charCodeAt(0)+128)),f=!1):A.append(O)}else switch(k){case 27:A.append("");break;case 30:f=!0;break;default:throw new D}x=0;break;case 3:f?(A.append(String.fromCharCode(k+224)),f=!1):A.append(String.fromCharCode(k+96)),x=0;break;default:throw new D}}}while(c.available()>0)}static decodeTextSegment(c,A){let f=!1,g=[],x=0;do{if(c.available()===8)return;const v=c.readBits(8);if(v===254)return;this.parseTwoBytes(v,c.readBits(8),g);for(let j=0;j<3;j++){const k=g[j];switch(x){case 0:if(k<3)x=k+1;else if(k<this.TEXT_BASIC_SET_CHARS.length){const O=this.TEXT_BASIC_SET_CHARS[k];f?(A.append(String.fromCharCode(O.charCodeAt(0)+128)),f=!1):A.append(O)}else throw new D;break;case 1:f?(A.append(String.fromCharCode(k+128)),f=!1):A.append(String.fromCharCode(k)),x=0;break;case 2:if(k<this.TEXT_SHIFT2_SET_CHARS.length){const O=this.TEXT_SHIFT2_SET_CHARS[k];f?(A.append(String.fromCharCode(O.charCodeAt(0)+128)),f=!1):A.append(O)}else switch(k){case 27:A.append("");break;case 30:f=!0;break;default:throw new D}x=0;break;case 3:if(k<this.TEXT_SHIFT3_SET_CHARS.length){const O=this.TEXT_SHIFT3_SET_CHARS[k];f?(A.append(String.fromCharCode(O.charCodeAt(0)+128)),f=!1):A.append(O),x=0}else throw new D;break;default:throw new D}}}while(c.available()>0)}static decodeAnsiX12Segment(c,A){const f=[];do{if(c.available()===8)return;const g=c.readBits(8);if(g===254)return;this.parseTwoBytes(g,c.readBits(8),f);for(let x=0;x<3;x++){const v=f[x];switch(v){case 0:A.append("\r");break;case 1:A.append("*");break;case 2:A.append(">");break;case 3:A.append(" ");break;default:if(v<14)A.append(String.fromCharCode(v+44));else if(v<40)A.append(String.fromCharCode(v+51));else throw new D;break}}}while(c.available()>0)}static parseTwoBytes(c,A,f){let g=(c<<8)+A-1,x=Math.floor(g/1600);f[0]=x,g-=x*1600,x=Math.floor(g/40),f[1]=x,f[2]=g-x*40}static decodeEdifactSegment(c,A){do{if(c.available()<=16)return;for(let f=0;f<4;f++){let g=c.readBits(6);if(g===31){const x=8-c.getBitOffset();x!==8&&c.readBits(x);return}g&32||(g|=64),A.append(String.fromCharCode(g))}}while(c.available()>0)}static decodeBase256Segment(c,A,f){let g=1+c.getByteOffset();const x=this.unrandomize255State(c.readBits(8),g++);let v;if(x===0?v=c.available()/8|0:x<250?v=x:v=250*(x-249)+this.unrandomize255State(c.readBits(8),g++),v<0)throw new D;const j=new Uint8Array(v);for(let k=0;k<v;k++){if(c.available()<8)throw new D;j[k]=this.unrandomize255State(c.readBits(8),g++)}f.push(j);try{A.append(M.decode(j,V.ISO88591))}catch(k){throw new me("Platform does not support required encoding: "+k.message)}}static unrandomize255State(c,A){const f=149*A%255+1,g=c-f;return g>=0?g:g+256}}ao.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ao.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ao.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ao.TEXT_SHIFT2_SET_CHARS=ao.C40_SHIFT2_SET_CHARS,ao.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class xl{constructor(){this.rsDecoder=new Pe(He.DATA_MATRIX_FIELD_256)}decode(c){const A=new tc(c),f=A.getVersion(),g=A.readCodewords(),x=WA.getDataBlocks(g,f);let v=0;for(let O of x)v+=O.getNumDataCodewords();const j=new Uint8Array(v),k=x.length;for(let O=0;O<k;O++){const W=x[O],ne=W.getCodewords(),le=W.getNumDataCodewords();this.correctErrors(ne,le);for(let ye=0;ye<le;ye++)j[ye*k+O]=ne[ye]}return ao.decode(j)}correctErrors(c,A){const f=new Int32Array(c);try{this.rsDecoder.decode(f,c.length-A)}catch{throw new p}for(let g=0;g<A;g++)c[g]=f[g]}}class vn{constructor(c){this.image=c,this.rectangleDetector=new rt(this.image)}detect(){const c=this.rectangleDetector.detect();let A=this.detectSolid1(c);if(A=this.detectSolid2(A),A[3]=this.correctTopRight(A),!A[3])throw new ee;A=this.shiftToModuleCenter(A);const f=A[0],g=A[1],x=A[2],v=A[3];let j=this.transitionsBetween(f,v)+1,k=this.transitionsBetween(x,v)+1;(j&1)===1&&(j+=1),(k&1)===1&&(k+=1),4*j<7*k&&4*k<7*j&&(j=k=Math.max(j,k));let O=vn.sampleGrid(this.image,f,g,x,v,j,k);return new Vt(O,[f,g,x,v])}static shiftPoint(c,A,f){let g=(A.getX()-c.getX())/(f+1),x=(A.getY()-c.getY())/(f+1);return new We(c.getX()+g,c.getY()+x)}static moveAway(c,A,f){let g=c.getX(),x=c.getY();return g<A?g-=1:g+=1,x<f?x-=1:x+=1,new We(g,x)}detectSolid1(c){let A=c[0],f=c[1],g=c[3],x=c[2],v=this.transitionsBetween(A,f),j=this.transitionsBetween(f,g),k=this.transitionsBetween(g,x),O=this.transitionsBetween(x,A),W=v,ne=[x,A,f,g];return W>j&&(W=j,ne[0]=A,ne[1]=f,ne[2]=g,ne[3]=x),W>k&&(W=k,ne[0]=f,ne[1]=g,ne[2]=x,ne[3]=A),W>O&&(ne[0]=g,ne[1]=x,ne[2]=A,ne[3]=f),ne}detectSolid2(c){let A=c[0],f=c[1],g=c[2],x=c[3],v=this.transitionsBetween(A,x),j=vn.shiftPoint(f,g,(v+1)*4),k=vn.shiftPoint(g,f,(v+1)*4),O=this.transitionsBetween(j,A),W=this.transitionsBetween(k,x);return O<W?(c[0]=A,c[1]=f,c[2]=g,c[3]=x):(c[0]=f,c[1]=g,c[2]=x,c[3]=A),c}correctTopRight(c){let A=c[0],f=c[1],g=c[2],x=c[3],v=this.transitionsBetween(A,x),j=this.transitionsBetween(f,x),k=vn.shiftPoint(A,f,(j+1)*4),O=vn.shiftPoint(g,f,(v+1)*4);v=this.transitionsBetween(k,x),j=this.transitionsBetween(O,x);let W=new We(x.getX()+(g.getX()-f.getX())/(v+1),x.getY()+(g.getY()-f.getY())/(v+1)),ne=new We(x.getX()+(A.getX()-f.getX())/(j+1),x.getY()+(A.getY()-f.getY())/(j+1));if(!this.isValid(W))return this.isValid(ne)?ne:null;if(!this.isValid(ne))return W;let le=this.transitionsBetween(k,W)+this.transitionsBetween(O,W),ye=this.transitionsBetween(k,ne)+this.transitionsBetween(O,ne);return le>ye?W:ne}shiftToModuleCenter(c){let A=c[0],f=c[1],g=c[2],x=c[3],v=this.transitionsBetween(A,x)+1,j=this.transitionsBetween(g,x)+1,k=vn.shiftPoint(A,f,j*4),O=vn.shiftPoint(g,f,v*4);v=this.transitionsBetween(k,x)+1,j=this.transitionsBetween(O,x)+1,(v&1)===1&&(v+=1),(j&1)===1&&(j+=1);let W=(A.getX()+f.getX()+g.getX()+x.getX())/4,ne=(A.getY()+f.getY()+g.getY()+x.getY())/4;A=vn.moveAway(A,W,ne),f=vn.moveAway(f,W,ne),g=vn.moveAway(g,W,ne),x=vn.moveAway(x,W,ne);let le,ye;return k=vn.shiftPoint(A,f,j*4),k=vn.shiftPoint(k,x,v*4),le=vn.shiftPoint(f,A,j*4),le=vn.shiftPoint(le,g,v*4),O=vn.shiftPoint(g,x,j*4),O=vn.shiftPoint(O,f,v*4),ye=vn.shiftPoint(x,g,j*4),ye=vn.shiftPoint(ye,A,v*4),[k,le,O,ye]}isValid(c){return c.getX()>=0&&c.getX()<this.image.getWidth()&&c.getY()>0&&c.getY()<this.image.getHeight()}static sampleGrid(c,A,f,g,x,v,j){return Ft.getInstance().sampleGrid(c,v,j,.5,.5,v-.5,.5,v-.5,j-.5,.5,j-.5,A.getX(),A.getY(),x.getX(),x.getY(),g.getX(),g.getY(),f.getX(),f.getY())}transitionsBetween(c,A){let f=Math.trunc(c.getX()),g=Math.trunc(c.getY()),x=Math.trunc(A.getX()),v=Math.trunc(A.getY()),j=Math.abs(v-g)>Math.abs(x-f);if(j){let je=f;f=g,g=je,je=x,x=v,v=je}let k=Math.abs(x-f),O=Math.abs(v-g),W=-k/2,ne=g<v?1:-1,le=f<x?1:-1,ye=0,Be=this.image.get(j?g:f,j?f:g);for(let je=f,Me=g;je!==x;je+=le){let qe=this.image.get(j?Me:je,j?je:Me);if(qe!==Be&&(ye++,Be=qe),W+=O,W>0){if(Me===v)break;Me+=ne,W-=k}}return ye}}class Ks{constructor(){this.decoder=new xl}decode(c,A=null){let f,g;if(A!=null&&A.has(H.PURE_BARCODE)){const O=Ks.extractPureBits(c.getBlackMatrix());f=this.decoder.decode(O),g=Ks.NO_POINTS}else{const O=new vn(c.getBlackMatrix()).detect();f=this.decoder.decode(O.getBits()),g=O.getPoints()}const x=f.getRawBytes(),v=new te(f.getText(),x,8*x.length,g,de.DATA_MATRIX,N.currentTimeMillis()),j=f.getByteSegments();j!=null&&v.putMetadata(ue.BYTE_SEGMENTS,j);const k=f.getECLevel();return k!=null&&v.putMetadata(ue.ERROR_CORRECTION_LEVEL,k),v}reset(){}static extractPureBits(c){const A=c.getTopLeftOnBit(),f=c.getBottomRightOnBit();if(A==null||f==null)throw new ee;const g=this.moduleSize(A,c);let x=A[1];const v=f[1];let j=A[0];const O=(f[0]-j+1)/g,W=(v-x+1)/g;if(O<=0||W<=0)throw new ee;const ne=g/2;x+=ne,j+=ne;const le=new Z(O,W);for(let ye=0;ye<W;ye++){const Be=x+ye*g;for(let je=0;je<O;je++)c.get(j+je*g,Be)&&le.set(je,ye)}return le}static moduleSize(c,A){const f=A.getWidth();let g=c[0];const x=c[1];for(;g<f&&A.get(g,x);)g++;if(g===f)throw new ee;const v=g-c[0];if(v===0)throw new ee;return v}}Ks.NO_POINTS=[];class Gc extends G{constructor(c=500){super(new Ks,c)}}var kn;(function(re){re[re.L=0]="L",re[re.M=1]="M",re[re.Q=2]="Q",re[re.H=3]="H"})(kn||(kn={}));class un{constructor(c,A,f){this.value=c,this.stringValue=A,this.bits=f,un.FOR_BITS.set(f,this),un.FOR_VALUE.set(c,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(c){switch(c){case"L":return un.L;case"M":return un.M;case"Q":return un.Q;case"H":return un.H;default:throw new h(c+"not available")}}toString(){return this.stringValue}equals(c){if(!(c instanceof un))return!1;const A=c;return this.value===A.value}static forBits(c){if(c<0||c>=un.FOR_BITS.size)throw new m;return un.FOR_BITS.get(c)}}un.FOR_BITS=new Map,un.FOR_VALUE=new Map,un.L=new un(kn.L,"L",1),un.M=new un(kn.M,"M",0),un.Q=new un(kn.Q,"Q",3),un.H=new un(kn.H,"H",2);class zs{constructor(c){this.errorCorrectionLevel=un.forBits(c>>3&3),this.dataMask=c&7}static numBitsDiffering(c,A){return I.bitCount(c^A)}static decodeFormatInformation(c,A){const f=zs.doDecodeFormatInformation(c,A);return f!==null?f:zs.doDecodeFormatInformation(c^zs.FORMAT_INFO_MASK_QR,A^zs.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(c,A){let f=Number.MAX_SAFE_INTEGER,g=0;for(const x of zs.FORMAT_INFO_DECODE_LOOKUP){const v=x[0];if(v===c||v===A)return new zs(x[1]);let j=zs.numBitsDiffering(c,v);j<f&&(g=x[1],f=j),c!==A&&(j=zs.numBitsDiffering(A,v),j<f&&(g=x[1],f=j))}return f<=3?new zs(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(c){if(!(c instanceof zs))return!1;const A=c;return this.errorCorrectionLevel===A.errorCorrectionLevel&&this.dataMask===A.dataMask}}zs.FORMAT_INFO_MASK_QR=21522,zs.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ve{constructor(c,...A){this.ecCodewordsPerBlock=c,this.ecBlocks=A}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let c=0;const A=this.ecBlocks;for(const f of A)c+=f.getCount();return c}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class we{constructor(c,A){this.count=c,this.dataCodewords=A}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Pt{constructor(c,A,...f){this.versionNumber=c,this.alignmentPatternCenters=A,this.ecBlocks=f;let g=0;const x=f[0].getECCodewordsPerBlock(),v=f[0].getECBlocks();for(const j of v)g+=j.getCount()*(j.getDataCodewords()+x);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(c){return this.ecBlocks[c.getValue()]}static getProvisionalVersionForDimension(c){if(c%4!==1)throw new D;try{return this.getVersionForNumber((c-17)/4)}catch{throw new D}}static getVersionForNumber(c){if(c<1||c>40)throw new m;return Pt.VERSIONS[c-1]}static decodeVersionInformation(c){let A=Number.MAX_SAFE_INTEGER,f=0;for(let g=0;g<Pt.VERSION_DECODE_INFO.length;g++){const x=Pt.VERSION_DECODE_INFO[g];if(x===c)return Pt.getVersionForNumber(g+7);const v=zs.numBitsDiffering(c,x);v<A&&(f=g+7,A=v)}return A<=3?Pt.getVersionForNumber(f):null}buildFunctionPattern(){const c=this.getDimensionForVersion(),A=new Z(c);A.setRegion(0,0,9,9),A.setRegion(c-8,0,8,9),A.setRegion(0,c-8,9,8);const f=this.alignmentPatternCenters.length;for(let g=0;g<f;g++){const x=this.alignmentPatternCenters[g]-2;for(let v=0;v<f;v++)g===0&&(v===0||v===f-1)||g===f-1&&v===0||A.setRegion(this.alignmentPatternCenters[v]-2,x,5,5)}return A.setRegion(6,9,1,c-17),A.setRegion(9,6,c-17,1),this.versionNumber>6&&(A.setRegion(c-11,0,3,6),A.setRegion(0,c-11,6,3)),A}toString(){return""+this.versionNumber}}Pt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Pt.VERSIONS=[new Pt(1,new Int32Array(0),new Ve(7,new we(1,19)),new Ve(10,new we(1,16)),new Ve(13,new we(1,13)),new Ve(17,new we(1,9))),new Pt(2,Int32Array.from([6,18]),new Ve(10,new we(1,34)),new Ve(16,new we(1,28)),new Ve(22,new we(1,22)),new Ve(28,new we(1,16))),new Pt(3,Int32Array.from([6,22]),new Ve(15,new we(1,55)),new Ve(26,new we(1,44)),new Ve(18,new we(2,17)),new Ve(22,new we(2,13))),new Pt(4,Int32Array.from([6,26]),new Ve(20,new we(1,80)),new Ve(18,new we(2,32)),new Ve(26,new we(2,24)),new Ve(16,new we(4,9))),new Pt(5,Int32Array.from([6,30]),new Ve(26,new we(1,108)),new Ve(24,new we(2,43)),new Ve(18,new we(2,15),new we(2,16)),new Ve(22,new we(2,11),new we(2,12))),new Pt(6,Int32Array.from([6,34]),new Ve(18,new we(2,68)),new Ve(16,new we(4,27)),new Ve(24,new we(4,19)),new Ve(28,new we(4,15))),new Pt(7,Int32Array.from([6,22,38]),new Ve(20,new we(2,78)),new Ve(18,new we(4,31)),new Ve(18,new we(2,14),new we(4,15)),new Ve(26,new we(4,13),new we(1,14))),new Pt(8,Int32Array.from([6,24,42]),new Ve(24,new we(2,97)),new Ve(22,new we(2,38),new we(2,39)),new Ve(22,new we(4,18),new we(2,19)),new Ve(26,new we(4,14),new we(2,15))),new Pt(9,Int32Array.from([6,26,46]),new Ve(30,new we(2,116)),new Ve(22,new we(3,36),new we(2,37)),new Ve(20,new we(4,16),new we(4,17)),new Ve(24,new we(4,12),new we(4,13))),new Pt(10,Int32Array.from([6,28,50]),new Ve(18,new we(2,68),new we(2,69)),new Ve(26,new we(4,43),new we(1,44)),new Ve(24,new we(6,19),new we(2,20)),new Ve(28,new we(6,15),new we(2,16))),new Pt(11,Int32Array.from([6,30,54]),new Ve(20,new we(4,81)),new Ve(30,new we(1,50),new we(4,51)),new Ve(28,new we(4,22),new we(4,23)),new Ve(24,new we(3,12),new we(8,13))),new Pt(12,Int32Array.from([6,32,58]),new Ve(24,new we(2,92),new we(2,93)),new Ve(22,new we(6,36),new we(2,37)),new Ve(26,new we(4,20),new we(6,21)),new Ve(28,new we(7,14),new we(4,15))),new Pt(13,Int32Array.from([6,34,62]),new Ve(26,new we(4,107)),new Ve(22,new we(8,37),new we(1,38)),new Ve(24,new we(8,20),new we(4,21)),new Ve(22,new we(12,11),new we(4,12))),new Pt(14,Int32Array.from([6,26,46,66]),new Ve(30,new we(3,115),new we(1,116)),new Ve(24,new we(4,40),new we(5,41)),new Ve(20,new we(11,16),new we(5,17)),new Ve(24,new we(11,12),new we(5,13))),new Pt(15,Int32Array.from([6,26,48,70]),new Ve(22,new we(5,87),new we(1,88)),new Ve(24,new we(5,41),new we(5,42)),new Ve(30,new we(5,24),new we(7,25)),new Ve(24,new we(11,12),new we(7,13))),new Pt(16,Int32Array.from([6,26,50,74]),new Ve(24,new we(5,98),new we(1,99)),new Ve(28,new we(7,45),new we(3,46)),new Ve(24,new we(15,19),new we(2,20)),new Ve(30,new we(3,15),new we(13,16))),new Pt(17,Int32Array.from([6,30,54,78]),new Ve(28,new we(1,107),new we(5,108)),new Ve(28,new we(10,46),new we(1,47)),new Ve(28,new we(1,22),new we(15,23)),new Ve(28,new we(2,14),new we(17,15))),new Pt(18,Int32Array.from([6,30,56,82]),new Ve(30,new we(5,120),new we(1,121)),new Ve(26,new we(9,43),new we(4,44)),new Ve(28,new we(17,22),new we(1,23)),new Ve(28,new we(2,14),new we(19,15))),new Pt(19,Int32Array.from([6,30,58,86]),new Ve(28,new we(3,113),new we(4,114)),new Ve(26,new we(3,44),new we(11,45)),new Ve(26,new we(17,21),new we(4,22)),new Ve(26,new we(9,13),new we(16,14))),new Pt(20,Int32Array.from([6,34,62,90]),new Ve(28,new we(3,107),new we(5,108)),new Ve(26,new we(3,41),new we(13,42)),new Ve(30,new we(15,24),new we(5,25)),new Ve(28,new we(15,15),new we(10,16))),new Pt(21,Int32Array.from([6,28,50,72,94]),new Ve(28,new we(4,116),new we(4,117)),new Ve(26,new we(17,42)),new Ve(28,new we(17,22),new we(6,23)),new Ve(30,new we(19,16),new we(6,17))),new Pt(22,Int32Array.from([6,26,50,74,98]),new Ve(28,new we(2,111),new we(7,112)),new Ve(28,new we(17,46)),new Ve(30,new we(7,24),new we(16,25)),new Ve(24,new we(34,13))),new Pt(23,Int32Array.from([6,30,54,78,102]),new Ve(30,new we(4,121),new we(5,122)),new Ve(28,new we(4,47),new we(14,48)),new Ve(30,new we(11,24),new we(14,25)),new Ve(30,new we(16,15),new we(14,16))),new Pt(24,Int32Array.from([6,28,54,80,106]),new Ve(30,new we(6,117),new we(4,118)),new Ve(28,new we(6,45),new we(14,46)),new Ve(30,new we(11,24),new we(16,25)),new Ve(30,new we(30,16),new we(2,17))),new Pt(25,Int32Array.from([6,32,58,84,110]),new Ve(26,new we(8,106),new we(4,107)),new Ve(28,new we(8,47),new we(13,48)),new Ve(30,new we(7,24),new we(22,25)),new Ve(30,new we(22,15),new we(13,16))),new Pt(26,Int32Array.from([6,30,58,86,114]),new Ve(28,new we(10,114),new we(2,115)),new Ve(28,new we(19,46),new we(4,47)),new Ve(28,new we(28,22),new we(6,23)),new Ve(30,new we(33,16),new we(4,17))),new Pt(27,Int32Array.from([6,34,62,90,118]),new Ve(30,new we(8,122),new we(4,123)),new Ve(28,new we(22,45),new we(3,46)),new Ve(30,new we(8,23),new we(26,24)),new Ve(30,new we(12,15),new we(28,16))),new Pt(28,Int32Array.from([6,26,50,74,98,122]),new Ve(30,new we(3,117),new we(10,118)),new Ve(28,new we(3,45),new we(23,46)),new Ve(30,new we(4,24),new we(31,25)),new Ve(30,new we(11,15),new we(31,16))),new Pt(29,Int32Array.from([6,30,54,78,102,126]),new Ve(30,new we(7,116),new we(7,117)),new Ve(28,new we(21,45),new we(7,46)),new Ve(30,new we(1,23),new we(37,24)),new Ve(30,new we(19,15),new we(26,16))),new Pt(30,Int32Array.from([6,26,52,78,104,130]),new Ve(30,new we(5,115),new we(10,116)),new Ve(28,new we(19,47),new we(10,48)),new Ve(30,new we(15,24),new we(25,25)),new Ve(30,new we(23,15),new we(25,16))),new Pt(31,Int32Array.from([6,30,56,82,108,134]),new Ve(30,new we(13,115),new we(3,116)),new Ve(28,new we(2,46),new we(29,47)),new Ve(30,new we(42,24),new we(1,25)),new Ve(30,new we(23,15),new we(28,16))),new Pt(32,Int32Array.from([6,34,60,86,112,138]),new Ve(30,new we(17,115)),new Ve(28,new we(10,46),new we(23,47)),new Ve(30,new we(10,24),new we(35,25)),new Ve(30,new we(19,15),new we(35,16))),new Pt(33,Int32Array.from([6,30,58,86,114,142]),new Ve(30,new we(17,115),new we(1,116)),new Ve(28,new we(14,46),new we(21,47)),new Ve(30,new we(29,24),new we(19,25)),new Ve(30,new we(11,15),new we(46,16))),new Pt(34,Int32Array.from([6,34,62,90,118,146]),new Ve(30,new we(13,115),new we(6,116)),new Ve(28,new we(14,46),new we(23,47)),new Ve(30,new we(44,24),new we(7,25)),new Ve(30,new we(59,16),new we(1,17))),new Pt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ve(30,new we(12,121),new we(7,122)),new Ve(28,new we(12,47),new we(26,48)),new Ve(30,new we(39,24),new we(14,25)),new Ve(30,new we(22,15),new we(41,16))),new Pt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ve(30,new we(6,121),new we(14,122)),new Ve(28,new we(6,47),new we(34,48)),new Ve(30,new we(46,24),new we(10,25)),new Ve(30,new we(2,15),new we(64,16))),new Pt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ve(30,new we(17,122),new we(4,123)),new Ve(28,new we(29,46),new we(14,47)),new Ve(30,new we(49,24),new we(10,25)),new Ve(30,new we(24,15),new we(46,16))),new Pt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ve(30,new we(4,122),new we(18,123)),new Ve(28,new we(13,46),new we(32,47)),new Ve(30,new we(48,24),new we(14,25)),new Ve(30,new we(42,15),new we(32,16))),new Pt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ve(30,new we(20,117),new we(4,118)),new Ve(28,new we(40,47),new we(7,48)),new Ve(30,new we(43,24),new we(22,25)),new Ve(30,new we(10,15),new we(67,16))),new Pt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ve(30,new we(19,118),new we(6,119)),new Ve(28,new we(18,47),new we(31,48)),new Ve(30,new we(34,24),new we(34,25)),new Ve(30,new we(20,15),new we(61,16)))];var As;(function(re){re[re.DATA_MASK_000=0]="DATA_MASK_000",re[re.DATA_MASK_001=1]="DATA_MASK_001",re[re.DATA_MASK_010=2]="DATA_MASK_010",re[re.DATA_MASK_011=3]="DATA_MASK_011",re[re.DATA_MASK_100=4]="DATA_MASK_100",re[re.DATA_MASK_101=5]="DATA_MASK_101",re[re.DATA_MASK_110=6]="DATA_MASK_110",re[re.DATA_MASK_111=7]="DATA_MASK_111"})(As||(As={}));class Ca{constructor(c,A){this.value=c,this.isMasked=A}unmaskBitMatrix(c,A){for(let f=0;f<A;f++)for(let g=0;g<A;g++)this.isMasked(f,g)&&c.flip(g,f)}}Ca.values=new Map([[As.DATA_MASK_000,new Ca(As.DATA_MASK_000,(re,c)=>(re+c&1)===0)],[As.DATA_MASK_001,new Ca(As.DATA_MASK_001,(re,c)=>(re&1)===0)],[As.DATA_MASK_010,new Ca(As.DATA_MASK_010,(re,c)=>c%3===0)],[As.DATA_MASK_011,new Ca(As.DATA_MASK_011,(re,c)=>(re+c)%3===0)],[As.DATA_MASK_100,new Ca(As.DATA_MASK_100,(re,c)=>(Math.floor(re/2)+Math.floor(c/3)&1)===0)],[As.DATA_MASK_101,new Ca(As.DATA_MASK_101,(re,c)=>re*c%6===0)],[As.DATA_MASK_110,new Ca(As.DATA_MASK_110,(re,c)=>re*c%6<3)],[As.DATA_MASK_111,new Ca(As.DATA_MASK_111,(re,c)=>(re+c+re*c%3&1)===0)]]);class rc{constructor(c){const A=c.getHeight();if(A<21||(A&3)!==1)throw new D;this.bitMatrix=c}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let c=0;for(let x=0;x<6;x++)c=this.copyBit(x,8,c);c=this.copyBit(7,8,c),c=this.copyBit(8,8,c),c=this.copyBit(8,7,c);for(let x=5;x>=0;x--)c=this.copyBit(8,x,c);const A=this.bitMatrix.getHeight();let f=0;const g=A-7;for(let x=A-1;x>=g;x--)f=this.copyBit(8,x,f);for(let x=A-8;x<A;x++)f=this.copyBit(x,8,f);if(this.parsedFormatInfo=zs.decodeFormatInformation(c,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const c=this.bitMatrix.getHeight(),A=Math.floor((c-17)/4);if(A<=6)return Pt.getVersionForNumber(A);let f=0;const g=c-11;for(let v=5;v>=0;v--)for(let j=c-9;j>=g;j--)f=this.copyBit(j,v,f);let x=Pt.decodeVersionInformation(f);if(x!==null&&x.getDimensionForVersion()===c)return this.parsedVersion=x,x;f=0;for(let v=5;v>=0;v--)for(let j=c-9;j>=g;j--)f=this.copyBit(v,j,f);if(x=Pt.decodeVersionInformation(f),x!==null&&x.getDimensionForVersion()===c)return this.parsedVersion=x,x;throw new D}copyBit(c,A,f){return(this.isMirror?this.bitMatrix.get(A,c):this.bitMatrix.get(c,A))?f<<1|1:f<<1}readCodewords(){const c=this.readFormatInformation(),A=this.readVersion(),f=Ca.values.get(c.getDataMask()),g=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,g);const x=A.buildFunctionPattern();let v=!0;const j=new Uint8Array(A.getTotalCodewords());let k=0,O=0,W=0;for(let ne=g-1;ne>0;ne-=2){ne===6&&ne--;for(let le=0;le<g;le++){const ye=v?g-1-le:le;for(let Be=0;Be<2;Be++)x.get(ne-Be,ye)||(W++,O<<=1,this.bitMatrix.get(ne-Be,ye)&&(O|=1),W===8&&(j[k++]=O,W=0,O=0))}v=!v}if(k!==A.getTotalCodewords())throw new D;return j}remask(){if(this.parsedFormatInfo===null)return;const c=Ca.values[this.parsedFormatInfo.getDataMask()],A=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,A)}setMirror(c){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=c}mirror(){const c=this.bitMatrix;for(let A=0,f=c.getWidth();A<f;A++)for(let g=A+1,x=c.getHeight();g<x;g++)c.get(A,g)!==c.get(g,A)&&(c.flip(g,A),c.flip(A,g))}}class $c{constructor(c,A){this.numDataCodewords=c,this.codewords=A}static getDataBlocks(c,A,f){if(c.length!==A.getTotalCodewords())throw new m;const g=A.getECBlocksForLevel(f);let x=0;const v=g.getECBlocks();for(const Be of v)x+=Be.getCount();const j=new Array(x);let k=0;for(const Be of v)for(let je=0;je<Be.getCount();je++){const Me=Be.getDataCodewords(),qe=g.getECCodewordsPerBlock()+Me;j[k++]=new $c(Me,new Uint8Array(qe))}const O=j[0].codewords.length;let W=j.length-1;for(;W>=0&&j[W].codewords.length!==O;)W--;W++;const ne=O-g.getECCodewordsPerBlock();let le=0;for(let Be=0;Be<ne;Be++)for(let je=0;je<k;je++)j[je].codewords[Be]=c[le++];for(let Be=W;Be<k;Be++)j[Be].codewords[ne]=c[le++];const ye=j[0].codewords.length;for(let Be=ne;Be<ye;Be++)for(let je=0;je<k;je++){const Me=je<W?Be:Be+1;j[je].codewords[Me]=c[le++]}return j}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Qa;(function(re){re[re.TERMINATOR=0]="TERMINATOR",re[re.NUMERIC=1]="NUMERIC",re[re.ALPHANUMERIC=2]="ALPHANUMERIC",re[re.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",re[re.BYTE=4]="BYTE",re[re.ECI=5]="ECI",re[re.KANJI=6]="KANJI",re[re.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",re[re.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",re[re.HANZI=9]="HANZI"})(Qa||(Qa={}));class nr{constructor(c,A,f,g){this.value=c,this.stringValue=A,this.characterCountBitsForVersions=f,this.bits=g,nr.FOR_BITS.set(g,this),nr.FOR_VALUE.set(c,this)}static forBits(c){const A=nr.FOR_BITS.get(c);if(A===void 0)throw new m;return A}getCharacterCountBits(c){const A=c.getVersionNumber();let f;return A<=9?f=0:A<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(c){if(!(c instanceof nr))return!1;const A=c;return this.value===A.value}toString(){return this.stringValue}}nr.FOR_BITS=new Map,nr.FOR_VALUE=new Map,nr.TERMINATOR=new nr(Qa.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),nr.NUMERIC=new nr(Qa.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),nr.ALPHANUMERIC=new nr(Qa.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),nr.STRUCTURED_APPEND=new nr(Qa.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),nr.BYTE=new nr(Qa.BYTE,"BYTE",Int32Array.from([8,16,16]),4),nr.ECI=new nr(Qa.ECI,"ECI",Int32Array.from([0,0,0]),7),nr.KANJI=new nr(Qa.KANJI,"KANJI",Int32Array.from([8,10,12]),8),nr.FNC1_FIRST_POSITION=new nr(Qa.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),nr.FNC1_SECOND_POSITION=new nr(Qa.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),nr.HANZI=new nr(Qa.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Pn{static decode(c,A,f,g){const x=new ns(c);let v=new J;const j=new Array;let k=-1,O=-1;try{let W=null,ne=!1,le;do{if(x.available()<4)le=nr.TERMINATOR;else{const ye=x.readBits(4);le=nr.forBits(ye)}switch(le){case nr.TERMINATOR:break;case nr.FNC1_FIRST_POSITION:case nr.FNC1_SECOND_POSITION:ne=!0;break;case nr.STRUCTURED_APPEND:if(x.available()<16)throw new D;k=x.readBits(8),O=x.readBits(8);break;case nr.ECI:const ye=Pn.parseECIValue(x);if(W=T.getCharacterSetECIByValue(ye),W===null)throw new D;break;case nr.HANZI:const Be=x.readBits(4),je=x.readBits(le.getCharacterCountBits(A));Be===Pn.GB2312_SUBSET&&Pn.decodeHanziSegment(x,v,je);break;default:const Me=x.readBits(le.getCharacterCountBits(A));switch(le){case nr.NUMERIC:Pn.decodeNumericSegment(x,v,Me);break;case nr.ALPHANUMERIC:Pn.decodeAlphanumericSegment(x,v,Me,ne);break;case nr.BYTE:Pn.decodeByteSegment(x,v,Me,W,j,g);break;case nr.KANJI:Pn.decodeKanjiSegment(x,v,Me);break;default:throw new D}break}}while(le!==nr.TERMINATOR)}catch{throw new D}return new Ee(c,v.toString(),j.length===0?null:j,f===null?null:f.toString(),k,O)}static decodeHanziSegment(c,A,f){if(f*13>c.available())throw new D;const g=new Uint8Array(2*f);let x=0;for(;f>0;){const v=c.readBits(13);let j=v/96<<8&4294967295|v%96;j<959?j+=41377:j+=42657,g[x]=j>>8&255,g[x+1]=j&255,x+=2,f--}try{A.append(M.decode(g,V.GB2312))}catch(v){throw new D(v)}}static decodeKanjiSegment(c,A,f){if(f*13>c.available())throw new D;const g=new Uint8Array(2*f);let x=0;for(;f>0;){const v=c.readBits(13);let j=v/192<<8&4294967295|v%192;j<7936?j+=33088:j+=49472,g[x]=j>>8,g[x+1]=j,x+=2,f--}try{A.append(M.decode(g,V.SHIFT_JIS))}catch(v){throw new D(v)}}static decodeByteSegment(c,A,f,g,x,v){if(8*f>c.available())throw new D;const j=new Uint8Array(f);for(let O=0;O<f;O++)j[O]=c.readBits(8);let k;g===null?k=V.guessEncoding(j,v):k=g.getName();try{A.append(M.decode(j,k))}catch(O){throw new D(O)}x.push(j)}static toAlphaNumericChar(c){if(c>=Pn.ALPHANUMERIC_CHARS.length)throw new D;return Pn.ALPHANUMERIC_CHARS[c]}static decodeAlphanumericSegment(c,A,f,g){const x=A.length();for(;f>1;){if(c.available()<11)throw new D;const v=c.readBits(11);A.append(Pn.toAlphaNumericChar(Math.floor(v/45))),A.append(Pn.toAlphaNumericChar(v%45)),f-=2}if(f===1){if(c.available()<6)throw new D;A.append(Pn.toAlphaNumericChar(c.readBits(6)))}if(g)for(let v=x;v<A.length();v++)A.charAt(v)==="%"&&(v<A.length()-1&&A.charAt(v+1)==="%"?A.deleteCharAt(v+1):A.setCharAt(v,""))}static decodeNumericSegment(c,A,f){for(;f>=3;){if(c.available()<10)throw new D;const g=c.readBits(10);if(g>=1e3)throw new D;A.append(Pn.toAlphaNumericChar(Math.floor(g/100))),A.append(Pn.toAlphaNumericChar(Math.floor(g/10)%10)),A.append(Pn.toAlphaNumericChar(g%10)),f-=3}if(f===2){if(c.available()<7)throw new D;const g=c.readBits(7);if(g>=100)throw new D;A.append(Pn.toAlphaNumericChar(Math.floor(g/10))),A.append(Pn.toAlphaNumericChar(g%10))}else if(f===1){if(c.available()<4)throw new D;const g=c.readBits(4);if(g>=10)throw new D;A.append(Pn.toAlphaNumericChar(g))}}static parseECIValue(c){const A=c.readBits(8);if(!(A&128))return A&127;if((A&192)===128){const f=c.readBits(8);return(A&63)<<8&4294967295|f}if((A&224)===192){const f=c.readBits(16);return(A&31)<<16&4294967295|f}throw new D}}Pn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Pn.GB2312_SUBSET=1;class nu{constructor(c){this.mirrored=c}isMirrored(){return this.mirrored}applyMirroredCorrection(c){if(!this.mirrored||c===null||c.length<3)return;const A=c[0];c[0]=c[2],c[2]=A}}class qc{constructor(){this.rsDecoder=new Pe(He.QR_CODE_FIELD_256)}decodeBooleanArray(c,A){return this.decodeBitMatrix(Z.parseFromBooleanArray(c),A)}decodeBitMatrix(c,A){const f=new rc(c);let g=null;try{return this.decodeBitMatrixParser(f,A)}catch(x){g=x}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const x=this.decodeBitMatrixParser(f,A);return x.setOther(new nu(!0)),x}catch(x){throw g!==null?g:x}}decodeBitMatrixParser(c,A){const f=c.readVersion(),g=c.readFormatInformation().getErrorCorrectionLevel(),x=c.readCodewords(),v=$c.getDataBlocks(x,f,g);let j=0;for(const W of v)j+=W.getNumDataCodewords();const k=new Uint8Array(j);let O=0;for(const W of v){const ne=W.getCodewords(),le=W.getNumDataCodewords();this.correctErrors(ne,le);for(let ye=0;ye<le;ye++)k[O++]=ne[ye]}return Pn.decode(k,f,g,A)}correctErrors(c,A){const f=new Int32Array(c);try{this.rsDecoder.decode(f,c.length-A)}catch{throw new p}for(let g=0;g<A;g++)c[g]=f[g]}}class Uo extends We{constructor(c,A,f){super(c,A),this.estimatedModuleSize=f}aboutEquals(c,A,f){if(Math.abs(A-this.getY())<=c&&Math.abs(f-this.getX())<=c){const g=Math.abs(c-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(c,A,f){const g=(this.getX()+A)/2,x=(this.getY()+c)/2,v=(this.estimatedModuleSize+f)/2;return new Uo(g,x,v)}}class su{constructor(c,A,f,g,x,v,j){this.image=c,this.startX=A,this.startY=f,this.width=g,this.height=x,this.moduleSize=v,this.resultPointCallback=j,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const c=this.startX,A=this.height,f=this.width,g=c+f,x=this.startY+A/2,v=new Int32Array(3),j=this.image;for(let k=0;k<A;k++){const O=x+(k&1?-Math.floor((k+1)/2):Math.floor((k+1)/2));v[0]=0,v[1]=0,v[2]=0;let W=c;for(;W<g&&!j.get(W,O);)W++;let ne=0;for(;W<g;){if(j.get(W,O))if(ne===1)v[1]++;else if(ne===2){if(this.foundPatternCross(v)){const le=this.handlePossibleCenter(v,O,W);if(le!==null)return le}v[0]=v[2],v[1]=1,v[2]=0,ne=1}else v[++ne]++;else ne===1&&ne++,v[ne]++;W++}if(this.foundPatternCross(v)){const le=this.handlePossibleCenter(v,O,g);if(le!==null)return le}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(c,A){return A-c[2]-c[1]/2}foundPatternCross(c){const A=this.moduleSize,f=A/2;for(let g=0;g<3;g++)if(Math.abs(A-c[g])>=f)return!1;return!0}crossCheckVertical(c,A,f,g){const x=this.image,v=x.getHeight(),j=this.crossCheckStateCount;j[0]=0,j[1]=0,j[2]=0;let k=c;for(;k>=0&&x.get(A,k)&&j[1]<=f;)j[1]++,k--;if(k<0||j[1]>f)return NaN;for(;k>=0&&!x.get(A,k)&&j[0]<=f;)j[0]++,k--;if(j[0]>f)return NaN;for(k=c+1;k<v&&x.get(A,k)&&j[1]<=f;)j[1]++,k++;if(k===v||j[1]>f)return NaN;for(;k<v&&!x.get(A,k)&&j[2]<=f;)j[2]++,k++;if(j[2]>f)return NaN;const O=j[0]+j[1]+j[2];return 5*Math.abs(O-g)>=2*g?NaN:this.foundPatternCross(j)?su.centerFromEnd(j,k):NaN}handlePossibleCenter(c,A,f){const g=c[0]+c[1]+c[2],x=su.centerFromEnd(c,f),v=this.crossCheckVertical(A,x,2*c[1],g);if(!isNaN(v)){const j=(c[0]+c[1]+c[2])/3;for(const O of this.possibleCenters)if(O.aboutEquals(j,v,x))return O.combineEstimate(v,x,j);const k=new Uo(x,v,j);this.possibleCenters.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return null}}class yl extends We{constructor(c,A,f,g){super(c,A),this.estimatedModuleSize=f,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(c,A,f){if(Math.abs(A-this.getY())<=c&&Math.abs(f-this.getX())<=c){const g=Math.abs(c-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(c,A,f){const g=this.count+1,x=(this.count*this.getX()+A)/g,v=(this.count*this.getY()+c)/g,j=(this.count*this.estimatedModuleSize+f)/g;return new yl(x,v,j,g)}}class GA{constructor(c){this.bottomLeft=c[0],this.topLeft=c[1],this.topRight=c[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class zt{constructor(c,A){this.image=c,this.resultPointCallback=A,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=A}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(c){const A=c!=null&&c.get(H.TRY_HARDER)!==void 0,f=c!=null&&c.get(H.PURE_BARCODE)!==void 0,g=this.image,x=g.getHeight(),v=g.getWidth();let j=Math.floor(3*x/(4*zt.MAX_MODULES));(j<zt.MIN_SKIP||A)&&(j=zt.MIN_SKIP);let k=!1;const O=new Int32Array(5);for(let ne=j-1;ne<x&&!k;ne+=j){O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0;let le=0;for(let ye=0;ye<v;ye++)if(g.get(ye,ne))(le&1)===1&&le++,O[le]++;else if(le&1)O[le]++;else if(le===4)if(zt.foundPatternCross(O)){if(this.handlePossibleCenter(O,ne,ye,f)===!0)if(j=2,this.hasSkipped===!0)k=this.haveMultiplyConfirmedCenters();else{const je=this.findRowSkip();je>O[2]&&(ne+=je-O[2]-j,ye=v-1)}else{O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,le=3;continue}le=0,O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0}else O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,le=3;else O[++le]++;zt.foundPatternCross(O)&&this.handlePossibleCenter(O,ne,v,f)===!0&&(j=O[0],this.hasSkipped&&(k=this.haveMultiplyConfirmedCenters()))}const W=this.selectBestPatterns();return We.orderBestPatterns(W),new GA(W)}static centerFromEnd(c,A){return A-c[4]-c[3]-c[2]/2}static foundPatternCross(c){let A=0;for(let x=0;x<5;x++){const v=c[x];if(v===0)return!1;A+=v}if(A<7)return!1;const f=A/7,g=f/2;return Math.abs(f-c[0])<g&&Math.abs(f-c[1])<g&&Math.abs(3*f-c[2])<3*g&&Math.abs(f-c[3])<g&&Math.abs(f-c[4])<g}getCrossCheckStateCount(){const c=this.crossCheckStateCount;return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c}crossCheckDiagonal(c,A,f,g){const x=this.getCrossCheckStateCount();let v=0;const j=this.image;for(;c>=v&&A>=v&&j.get(A-v,c-v);)x[2]++,v++;if(c<v||A<v)return!1;for(;c>=v&&A>=v&&!j.get(A-v,c-v)&&x[1]<=f;)x[1]++,v++;if(c<v||A<v||x[1]>f)return!1;for(;c>=v&&A>=v&&j.get(A-v,c-v)&&x[0]<=f;)x[0]++,v++;if(x[0]>f)return!1;const k=j.getHeight(),O=j.getWidth();for(v=1;c+v<k&&A+v<O&&j.get(A+v,c+v);)x[2]++,v++;if(c+v>=k||A+v>=O)return!1;for(;c+v<k&&A+v<O&&!j.get(A+v,c+v)&&x[3]<f;)x[3]++,v++;if(c+v>=k||A+v>=O||x[3]>=f)return!1;for(;c+v<k&&A+v<O&&j.get(A+v,c+v)&&x[4]<f;)x[4]++,v++;if(x[4]>=f)return!1;const W=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(W-g)<2*g&&zt.foundPatternCross(x)}crossCheckVertical(c,A,f,g){const x=this.image,v=x.getHeight(),j=this.getCrossCheckStateCount();let k=c;for(;k>=0&&x.get(A,k);)j[2]++,k--;if(k<0)return NaN;for(;k>=0&&!x.get(A,k)&&j[1]<=f;)j[1]++,k--;if(k<0||j[1]>f)return NaN;for(;k>=0&&x.get(A,k)&&j[0]<=f;)j[0]++,k--;if(j[0]>f)return NaN;for(k=c+1;k<v&&x.get(A,k);)j[2]++,k++;if(k===v)return NaN;for(;k<v&&!x.get(A,k)&&j[3]<f;)j[3]++,k++;if(k===v||j[3]>=f)return NaN;for(;k<v&&x.get(A,k)&&j[4]<f;)j[4]++,k++;if(j[4]>=f)return NaN;const O=j[0]+j[1]+j[2]+j[3]+j[4];return 5*Math.abs(O-g)>=2*g?NaN:zt.foundPatternCross(j)?zt.centerFromEnd(j,k):NaN}crossCheckHorizontal(c,A,f,g){const x=this.image,v=x.getWidth(),j=this.getCrossCheckStateCount();let k=c;for(;k>=0&&x.get(k,A);)j[2]++,k--;if(k<0)return NaN;for(;k>=0&&!x.get(k,A)&&j[1]<=f;)j[1]++,k--;if(k<0||j[1]>f)return NaN;for(;k>=0&&x.get(k,A)&&j[0]<=f;)j[0]++,k--;if(j[0]>f)return NaN;for(k=c+1;k<v&&x.get(k,A);)j[2]++,k++;if(k===v)return NaN;for(;k<v&&!x.get(k,A)&&j[3]<f;)j[3]++,k++;if(k===v||j[3]>=f)return NaN;for(;k<v&&x.get(k,A)&&j[4]<f;)j[4]++,k++;if(j[4]>=f)return NaN;const O=j[0]+j[1]+j[2]+j[3]+j[4];return 5*Math.abs(O-g)>=g?NaN:zt.foundPatternCross(j)?zt.centerFromEnd(j,k):NaN}handlePossibleCenter(c,A,f,g){const x=c[0]+c[1]+c[2]+c[3]+c[4];let v=zt.centerFromEnd(c,f),j=this.crossCheckVertical(A,Math.floor(v),c[2],x);if(!isNaN(j)&&(v=this.crossCheckHorizontal(Math.floor(v),Math.floor(j),c[2],x),!isNaN(v)&&(!g||this.crossCheckDiagonal(Math.floor(j),Math.floor(v),c[2],x)))){const k=x/7;let O=!1;const W=this.possibleCenters;for(let ne=0,le=W.length;ne<le;ne++){const ye=W[ne];if(ye.aboutEquals(k,j,v)){W[ne]=ye.combineEstimate(j,v,k),O=!0;break}}if(!O){const ne=new yl(v,j,k);W.push(ne),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ne)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let A=null;for(const f of this.possibleCenters)if(f.getCount()>=zt.CENTER_QUORUM)if(A==null)A=f;else return this.hasSkipped=!0,Math.floor((Math.abs(A.getX()-f.getX())-Math.abs(A.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let c=0,A=0;const f=this.possibleCenters.length;for(const v of this.possibleCenters)v.getCount()>=zt.CENTER_QUORUM&&(c++,A+=v.getEstimatedModuleSize());if(c<3)return!1;const g=A/f;let x=0;for(const v of this.possibleCenters)x+=Math.abs(v.getEstimatedModuleSize()-g);return x<=.05*A}selectBestPatterns(){const c=this.possibleCenters.length;if(c<3)throw new ee;const A=this.possibleCenters;let f;if(c>3){let g=0,x=0;for(const k of this.possibleCenters){const O=k.getEstimatedModuleSize();g+=O,x+=O*O}f=g/c;let v=Math.sqrt(x/c-f*f);A.sort((k,O)=>{const W=Math.abs(O.getEstimatedModuleSize()-f),ne=Math.abs(k.getEstimatedModuleSize()-f);return W<ne?-1:W>ne?1:0});const j=Math.max(.2*f,v);for(let k=0;k<A.length&&A.length>3;k++){const O=A[k];Math.abs(O.getEstimatedModuleSize()-f)>j&&(A.splice(k,1),k--)}}if(A.length>3){let g=0;for(const x of A)g+=x.getEstimatedModuleSize();f=g/A.length,A.sort((x,v)=>{if(v.getCount()===x.getCount()){const j=Math.abs(v.getEstimatedModuleSize()-f),k=Math.abs(x.getEstimatedModuleSize()-f);return j<k?1:j>k?-1:0}else return v.getCount()-x.getCount()}),A.splice(3)}return[A[0],A[1],A[2]]}}zt.CENTER_QUORUM=2,zt.MIN_SKIP=3,zt.MAX_MODULES=57;class Xc{constructor(c){this.image=c}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(c){this.resultPointCallback=c==null?null:c.get(H.NEED_RESULT_POINT_CALLBACK);const f=new zt(this.image,this.resultPointCallback).find(c);return this.processFinderPatternInfo(f)}processFinderPatternInfo(c){const A=c.getTopLeft(),f=c.getTopRight(),g=c.getBottomLeft(),x=this.calculateModuleSize(A,f,g);if(x<1)throw new ee("No pattern found in proccess finder.");const v=Xc.computeDimension(A,f,g,x),j=Pt.getProvisionalVersionForDimension(v),k=j.getDimensionForVersion()-7;let O=null;if(j.getAlignmentPatternCenters().length>0){const ye=f.getX()-A.getX()+g.getX(),Be=f.getY()-A.getY()+g.getY(),je=1-3/k,Me=Math.floor(A.getX()+je*(ye-A.getX())),qe=Math.floor(A.getY()+je*(Be-A.getY()));for(let ct=4;ct<=16;ct<<=1)try{O=this.findAlignmentInRegion(x,Me,qe,ct);break}catch(ht){if(!(ht instanceof ee))throw ht}}const W=Xc.createTransform(A,f,g,O,v),ne=Xc.sampleGrid(this.image,W,v);let le;return O===null?le=[g,A,f]:le=[g,A,f,O],new Vt(ne,le)}static createTransform(c,A,f,g,x){const v=x-3.5;let j,k,O,W;return g!==null?(j=g.getX(),k=g.getY(),O=v-3,W=O):(j=A.getX()-c.getX()+f.getX(),k=A.getY()-c.getY()+f.getY(),O=v,W=v),At.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,O,W,3.5,v,c.getX(),c.getY(),A.getX(),A.getY(),j,k,f.getX(),f.getY())}static sampleGrid(c,A,f){return Ft.getInstance().sampleGridWithTransform(c,f,f,A)}static computeDimension(c,A,f,g){const x=Ue.round(We.distance(c,A)/g),v=Ue.round(We.distance(c,f)/g);let j=Math.floor((x+v)/2)+7;switch(j&3){case 0:j++;break;case 2:j--;break;case 3:throw new ee("Dimensions could be not found.")}return j}calculateModuleSize(c,A,f){return(this.calculateModuleSizeOneWay(c,A)+this.calculateModuleSizeOneWay(c,f))/2}calculateModuleSizeOneWay(c,A){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(A.getX()),Math.floor(A.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(A.getX()),Math.floor(A.getY()),Math.floor(c.getX()),Math.floor(c.getY()));return isNaN(f)?g/7:isNaN(g)?f/7:(f+g)/14}sizeOfBlackWhiteBlackRunBothWays(c,A,f,g){let x=this.sizeOfBlackWhiteBlackRun(c,A,f,g),v=1,j=c-(f-c);j<0?(v=c/(c-j),j=0):j>=this.image.getWidth()&&(v=(this.image.getWidth()-1-c)/(j-c),j=this.image.getWidth()-1);let k=Math.floor(A-(g-A)*v);return v=1,k<0?(v=A/(A-k),k=0):k>=this.image.getHeight()&&(v=(this.image.getHeight()-1-A)/(k-A),k=this.image.getHeight()-1),j=Math.floor(c+(j-c)*v),x+=this.sizeOfBlackWhiteBlackRun(c,A,j,k),x-1}sizeOfBlackWhiteBlackRun(c,A,f,g){const x=Math.abs(g-A)>Math.abs(f-c);if(x){let ye=c;c=A,A=ye,ye=f,f=g,g=ye}const v=Math.abs(f-c),j=Math.abs(g-A);let k=-v/2;const O=c<f?1:-1,W=A<g?1:-1;let ne=0;const le=f+O;for(let ye=c,Be=A;ye!==le;ye+=O){const je=x?Be:ye,Me=x?ye:Be;if(ne===1===this.image.get(je,Me)){if(ne===2)return Ue.distance(ye,Be,c,A);ne++}if(k+=j,k>0){if(Be===g)break;Be+=W,k-=v}}return ne===2?Ue.distance(f+O,g,c,A):NaN}findAlignmentInRegion(c,A,f,g){const x=Math.floor(g*c),v=Math.max(0,A-x),j=Math.min(this.image.getWidth()-1,A+x);if(j-v<c*3)throw new ee("Alignment top exceeds estimated module size.");const k=Math.max(0,f-x),O=Math.min(this.image.getHeight()-1,f+x);if(O-k<c*3)throw new ee("Alignment bottom exceeds estimated module size.");return new su(this.image,v,k,j-v,O-k,c,this.resultPointCallback).find()}}class Qo{constructor(){this.decoder=new qc}getDecoder(){return this.decoder}decode(c,A){let f,g;if(A!=null&&A.get(H.PURE_BARCODE)!==void 0){const k=Qo.extractPureBits(c.getBlackMatrix());f=this.decoder.decodeBitMatrix(k,A),g=Qo.NO_POINTS}else{const k=new Xc(c.getBlackMatrix()).detect(A);f=this.decoder.decodeBitMatrix(k.getBits(),A),g=k.getPoints()}f.getOther()instanceof nu&&f.getOther().applyMirroredCorrection(g);const x=new te(f.getText(),f.getRawBytes(),void 0,g,de.QR_CODE,void 0),v=f.getByteSegments();v!==null&&x.putMetadata(ue.BYTE_SEGMENTS,v);const j=f.getECLevel();return j!==null&&x.putMetadata(ue.ERROR_CORRECTION_LEVEL,j),f.hasStructuredAppend()&&(x.putMetadata(ue.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),x.putMetadata(ue.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),x}reset(){}static extractPureBits(c){const A=c.getTopLeftOnBit(),f=c.getBottomRightOnBit();if(A===null||f===null)throw new ee;const g=this.moduleSize(A,c);let x=A[1],v=f[1],j=A[0],k=f[0];if(j>=k||x>=v)throw new ee;if(v-x!==k-j&&(k=j+(v-x),k>=c.getWidth()))throw new ee;const O=Math.round((k-j+1)/g),W=Math.round((v-x+1)/g);if(O<=0||W<=0)throw new ee;if(W!==O)throw new ee;const ne=Math.floor(g/2);x+=ne,j+=ne;const le=j+Math.floor((O-1)*g)-k;if(le>0){if(le>ne)throw new ee;j-=le}const ye=x+Math.floor((W-1)*g)-v;if(ye>0){if(ye>ne)throw new ee;x-=ye}const Be=new Z(O,W);for(let je=0;je<W;je++){const Me=x+Math.floor(je*g);for(let qe=0;qe<O;qe++)c.get(j+Math.floor(qe*g),Me)&&Be.set(qe,je)}return Be}static moduleSize(c,A){const f=A.getHeight(),g=A.getWidth();let x=c[0],v=c[1],j=!0,k=0;for(;x<g&&v<f;){if(j!==A.get(x,v)){if(++k===5)break;j=!j}x++,v++}if(x===g||v===f)throw new ee;return(x-c[0])/7}}Qo.NO_POINTS=new Array;class lr{PDF417Common(){}static getBitCountSum(c){return Ue.sum(c)}static toIntArray(c){if(c==null||!c.length)return lr.EMPTY_INT_ARRAY;const A=new Int32Array(c.length);let f=0;for(const g of c)A[f++]=g;return A}static getCodeword(c){const A=B.binarySearch(lr.SYMBOL_TABLE,c&262143);return A<0?-1:(lr.CODEWORD_TABLE[A]-1)%lr.NUMBER_OF_CODEWORDS}}lr.NUMBER_OF_CODEWORDS=929,lr.MAX_CODEWORDS_IN_BARCODE=lr.NUMBER_OF_CODEWORDS-1,lr.MIN_ROWS_IN_BARCODE=3,lr.MAX_ROWS_IN_BARCODE=90,lr.MODULES_IN_CODEWORD=17,lr.MODULES_IN_STOP_PATTERN=18,lr.BARS_IN_MODULE=8,lr.EMPTY_INT_ARRAY=new Int32Array([]),lr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),lr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Fm{constructor(c,A){this.bits=c,this.points=A}getBits(){return this.bits}getPoints(){return this.points}}class fr{static detectMultiple(c,A,f){let g=c.getBlackMatrix(),x=fr.detect(f,g);return x.length||(g=g.clone(),g.rotate180(),x=fr.detect(f,g)),new Fm(g,x)}static detect(c,A){const f=new Array;let g=0,x=0,v=!1;for(;g<A.getHeight();){const j=fr.findVertices(A,g,x);if(j[0]==null&&j[3]==null){if(!v)break;v=!1,x=0;for(const k of f)k[1]!=null&&(g=Math.trunc(Math.max(g,k[1].getY()))),k[3]!=null&&(g=Math.max(g,Math.trunc(k[3].getY())));g+=fr.ROW_STEP;continue}if(v=!0,f.push(j),!c)break;j[2]!=null?(x=Math.trunc(j[2].getX()),g=Math.trunc(j[2].getY())):(x=Math.trunc(j[4].getX()),g=Math.trunc(j[4].getY()))}return f}static findVertices(c,A,f){const g=c.getHeight(),x=c.getWidth(),v=new Array(8);return fr.copyToResult(v,fr.findRowsWithPattern(c,g,x,A,f,fr.START_PATTERN),fr.INDEXES_START_PATTERN),v[4]!=null&&(f=Math.trunc(v[4].getX()),A=Math.trunc(v[4].getY())),fr.copyToResult(v,fr.findRowsWithPattern(c,g,x,A,f,fr.STOP_PATTERN),fr.INDEXES_STOP_PATTERN),v}static copyToResult(c,A,f){for(let g=0;g<f.length;g++)c[f[g]]=A[g]}static findRowsWithPattern(c,A,f,g,x,v){const j=new Array(4);let k=!1;const O=new Int32Array(v.length);for(;g<A;g+=fr.ROW_STEP){let ne=fr.findGuardPattern(c,x,g,f,!1,v,O);if(ne!=null){for(;g>0;){const le=fr.findGuardPattern(c,x,--g,f,!1,v,O);if(le!=null)ne=le;else{g++;break}}j[0]=new We(ne[0],g),j[1]=new We(ne[1],g),k=!0;break}}let W=g+1;if(k){let ne=0,le=Int32Array.from([Math.trunc(j[0].getX()),Math.trunc(j[1].getX())]);for(;W<A;W++){const ye=fr.findGuardPattern(c,le[0],W,f,!1,v,O);if(ye!=null&&Math.abs(le[0]-ye[0])<fr.MAX_PATTERN_DRIFT&&Math.abs(le[1]-ye[1])<fr.MAX_PATTERN_DRIFT)le=ye,ne=0;else{if(ne>fr.SKIPPED_ROW_COUNT_MAX)break;ne++}}W-=ne+1,j[2]=new We(le[0],W),j[3]=new We(le[1],W)}return W-g<fr.BARCODE_MIN_HEIGHT&&B.fill(j,null),j}static findGuardPattern(c,A,f,g,x,v,j){B.fillWithin(j,0,j.length,0);let k=A,O=0;for(;c.get(k,f)&&k>0&&O++<fr.MAX_PIXEL_DRIFT;)k--;let W=k,ne=0,le=v.length;for(let ye=x;W<g;W++)if(c.get(W,f)!==ye)j[ne]++;else{if(ne===le-1){if(fr.patternMatchVariance(j,v,fr.MAX_INDIVIDUAL_VARIANCE)<fr.MAX_AVG_VARIANCE)return new Int32Array([k,W]);k+=j[0]+j[1],N.arraycopy(j,2,j,0,ne-1),j[ne-1]=0,j[ne]=0,ne--}else ne++;j[ne]=1,ye=!ye}return ne===le-1&&fr.patternMatchVariance(j,v,fr.MAX_INDIVIDUAL_VARIANCE)<fr.MAX_AVG_VARIANCE?new Int32Array([k,W-1]):null}static patternMatchVariance(c,A,f){let g=c.length,x=0,v=0;for(let O=0;O<g;O++)x+=c[O],v+=A[O];if(x<v)return 1/0;let j=x/v;f*=j;let k=0;for(let O=0;O<g;O++){let W=c[O],ne=A[O]*j,le=W>ne?W-ne:ne-W;if(le>f)return 1/0;k+=le}return k/x}}fr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),fr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),fr.MAX_AVG_VARIANCE=.42,fr.MAX_INDIVIDUAL_VARIANCE=.8,fr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),fr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),fr.MAX_PIXEL_DRIFT=3,fr.MAX_PATTERN_DRIFT=5,fr.SKIPPED_ROW_COUNT_MAX=25,fr.ROW_STEP=5,fr.BARCODE_MIN_HEIGHT=10;class Dn{constructor(c,A){if(A.length===0)throw new m;this.field=c;let f=A.length;if(f>1&&A[0]===0){let g=1;for(;g<f&&A[g]===0;)g++;g===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-g),N.arraycopy(A,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=A}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);if(c===1){let g=0;for(let x of this.coefficients)g=this.field.add(g,x);return g}let A=this.coefficients[0],f=this.coefficients.length;for(let g=1;g<f;g++)A=this.field.add(this.field.multiply(c,A),this.coefficients[g]);return A}add(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return c;if(c.isZero())return this;let A=this.coefficients,f=c.coefficients;if(A.length>f.length){let v=A;A=f,f=v}let g=new Int32Array(f.length),x=f.length-A.length;N.arraycopy(f,0,g,0,x);for(let v=x;v<f.length;v++)g[v]=this.field.add(A[v-x],f[v]);return new Dn(this.field,g)}subtract(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");return c.isZero()?this:this.add(c.negative())}multiply(c){return c instanceof Dn?this.multiplyOther(c):this.multiplyScalar(c)}multiplyOther(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||c.isZero())return new Dn(this.field,new Int32Array([0]));let A=this.coefficients,f=A.length,g=c.coefficients,x=g.length,v=new Int32Array(f+x-1);for(let j=0;j<f;j++){let k=A[j];for(let O=0;O<x;O++)v[j+O]=this.field.add(v[j+O],this.field.multiply(k,g[O]))}return new Dn(this.field,v)}negative(){let c=this.coefficients.length,A=new Int32Array(c);for(let f=0;f<c;f++)A[f]=this.field.subtract(0,this.coefficients[f]);return new Dn(this.field,A)}multiplyScalar(c){if(c===0)return new Dn(this.field,new Int32Array([0]));if(c===1)return this;let A=this.coefficients.length,f=new Int32Array(A);for(let g=0;g<A;g++)f[g]=this.field.multiply(this.coefficients[g],c);return new Dn(this.field,f)}multiplyByMonomial(c,A){if(c<0)throw new m;if(A===0)return new Dn(this.field,new Int32Array([0]));let f=this.coefficients.length,g=new Int32Array(f+c);for(let x=0;x<f;x++)g[x]=this.field.multiply(this.coefficients[x],A);return new Dn(this.field,g)}toString(){let c=new J;for(let A=this.getDegree();A>=0;A--){let f=this.getCoefficient(A);f!==0&&(f<0?(c.append(" - "),f=-f):c.length()>0&&c.append(" + "),(A===0||f!==1)&&c.append(f),A!==0&&(A===1?c.append("x"):(c.append("x^"),c.append(A))))}return c.toString()}}class km{add(c,A){return(c+A)%this.modulus}subtract(c,A){return(this.modulus+c-A)%this.modulus}exp(c){return this.expTable[c]}log(c){if(c===0)throw new m;return this.logTable[c]}inverse(c){if(c===0)throw new Oe;return this.expTable[this.modulus-this.logTable[c]-1]}multiply(c,A){return c===0||A===0?0:this.expTable[(this.logTable[c]+this.logTable[A])%(this.modulus-1)]}getSize(){return this.modulus}equals(c){return c===this}}class $A extends km{constructor(c,A){super(),this.modulus=c,this.expTable=new Int32Array(c),this.logTable=new Int32Array(c);let f=1;for(let g=0;g<c;g++)this.expTable[g]=f,f=f*A%c;for(let g=0;g<c-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new Dn(this,new Int32Array([0])),this.one=new Dn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,A){if(c<0)throw new m;if(A===0)return this.zero;let f=new Int32Array(c+1);return f[0]=A,new Dn(this,f)}}$A.PDF417_GF=new $A(lr.NUMBER_OF_CODEWORDS,3);class Yc{constructor(){this.field=$A.PDF417_GF}decode(c,A,f){let g=new Dn(this.field,c),x=new Int32Array(A),v=!1;for(let Be=A;Be>0;Be--){let je=g.evaluateAt(this.field.exp(Be));x[A-Be]=je,je!==0&&(v=!0)}if(!v)return 0;let j=this.field.getOne();if(f!=null)for(const Be of f){let je=this.field.exp(c.length-1-Be),Me=new Dn(this.field,new Int32Array([this.field.subtract(0,je),1]));j=j.multiply(Me)}let k=new Dn(this.field,x),O=this.runEuclideanAlgorithm(this.field.buildMonomial(A,1),k,A),W=O[0],ne=O[1],le=this.findErrorLocations(W),ye=this.findErrorMagnitudes(ne,W,le);for(let Be=0;Be<le.length;Be++){let je=c.length-1-this.field.log(le[Be]);if(je<0)throw p.getChecksumInstance();c[je]=this.field.subtract(c[je],ye[Be])}return le.length}runEuclideanAlgorithm(c,A,f){if(c.getDegree()<A.getDegree()){let le=c;c=A,A=le}let g=c,x=A,v=this.field.getZero(),j=this.field.getOne();for(;x.getDegree()>=Math.round(f/2);){let le=g,ye=v;if(g=x,v=j,g.isZero())throw p.getChecksumInstance();x=le;let Be=this.field.getZero(),je=g.getCoefficient(g.getDegree()),Me=this.field.inverse(je);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){let qe=x.getDegree()-g.getDegree(),ct=this.field.multiply(x.getCoefficient(x.getDegree()),Me);Be=Be.add(this.field.buildMonomial(qe,ct)),x=x.subtract(g.multiplyByMonomial(qe,ct))}j=Be.multiply(v).subtract(ye).negative()}let k=j.getCoefficient(0);if(k===0)throw p.getChecksumInstance();let O=this.field.inverse(k),W=j.multiply(O),ne=x.multiply(O);return[W,ne]}findErrorLocations(c){let A=c.getDegree(),f=new Int32Array(A),g=0;for(let x=1;x<this.field.getSize()&&g<A;x++)c.evaluateAt(x)===0&&(f[g]=this.field.inverse(x),g++);if(g!==A)throw p.getChecksumInstance();return f}findErrorMagnitudes(c,A,f){let g=A.getDegree(),x=new Int32Array(g);for(let O=1;O<=g;O++)x[g-O]=this.field.multiply(O,A.getCoefficient(O));let v=new Dn(this.field,x),j=f.length,k=new Int32Array(j);for(let O=0;O<j;O++){let W=this.field.inverse(f[O]),ne=this.field.subtract(0,c.evaluateAt(W)),le=this.field.inverse(v.evaluateAt(W));k[O]=this.field.multiply(ne,le)}return k}}class io{constructor(c,A,f,g,x){c instanceof io?this.constructor_2(c):this.constructor_1(c,A,f,g,x)}constructor_1(c,A,f,g,x){const v=A==null||f==null,j=g==null||x==null;if(v&&j)throw new ee;v?(A=new We(0,g.getY()),f=new We(0,x.getY())):j&&(g=new We(c.getWidth()-1,A.getY()),x=new We(c.getWidth()-1,f.getY())),this.image=c,this.topLeft=A,this.bottomLeft=f,this.topRight=g,this.bottomRight=x,this.minX=Math.trunc(Math.min(A.getX(),f.getX())),this.maxX=Math.trunc(Math.max(g.getX(),x.getX())),this.minY=Math.trunc(Math.min(A.getY(),g.getY())),this.maxY=Math.trunc(Math.max(f.getY(),x.getY()))}constructor_2(c){this.image=c.image,this.topLeft=c.getTopLeft(),this.bottomLeft=c.getBottomLeft(),this.topRight=c.getTopRight(),this.bottomRight=c.getBottomRight(),this.minX=c.getMinX(),this.maxX=c.getMaxX(),this.minY=c.getMinY(),this.maxY=c.getMaxY()}static merge(c,A){return c==null?A:A==null?c:new io(c.image,c.topLeft,c.bottomLeft,A.topRight,A.bottomRight)}addMissingRows(c,A,f){let g=this.topLeft,x=this.bottomLeft,v=this.topRight,j=this.bottomRight;if(c>0){let k=f?this.topLeft:this.topRight,O=Math.trunc(k.getY()-c);O<0&&(O=0);let W=new We(k.getX(),O);f?g=W:v=W}if(A>0){let k=f?this.bottomLeft:this.bottomRight,O=Math.trunc(k.getY()+A);O>=this.image.getHeight()&&(O=this.image.getHeight()-1);let W=new We(k.getX(),O);f?x=W:j=W}return new io(this.image,g,x,v,j)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Zc{constructor(c,A,f,g){this.columnCount=c,this.errorCorrectionLevel=g,this.rowCountUpperPart=A,this.rowCountLowerPart=f,this.rowCount=A+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ho{constructor(){this.buffer=""}static form(c,A){let f=-1;function g(v,j,k,O,W,ne){if(v==="%%")return"%";if(A[++f]===void 0)return;v=O?parseInt(O.substr(1)):void 0;let le=W?parseInt(W.substr(1)):void 0,ye;switch(ne){case"s":ye=A[f];break;case"c":ye=A[f][0];break;case"f":ye=parseFloat(A[f]).toFixed(v);break;case"p":ye=parseFloat(A[f]).toPrecision(v);break;case"e":ye=parseFloat(A[f]).toExponential(v);break;case"x":ye=parseInt(A[f]).toString(le||16);break;case"d":ye=parseFloat(parseInt(A[f],le||10).toPrecision(v)).toFixed(0);break}ye=typeof ye=="object"?JSON.stringify(ye):(+ye).toString(le);let Be=parseInt(k),je=k&&k[0]+""=="0"?"0":" ";for(;ye.length<Be;)ye=j!==void 0?ye+je:je+ye;return ye}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(x,g)}format(c,...A){this.buffer+=Ho.form(c,A)}toString(){return this.buffer}}class Vo{constructor(c){this.boundingBox=new io(c),this.codewords=new Array(c.getMaxY()-c.getMinY()+1)}getCodewordNearby(c){let A=this.getCodeword(c);if(A!=null)return A;for(let f=1;f<Vo.MAX_NEARBY_DISTANCE;f++){let g=this.imageRowToCodewordIndex(c)-f;if(g>=0&&(A=this.codewords[g],A!=null)||(g=this.imageRowToCodewordIndex(c)+f,g<this.codewords.length&&(A=this.codewords[g],A!=null)))return A}return null}imageRowToCodewordIndex(c){return c-this.boundingBox.getMinY()}setCodeword(c,A){this.codewords[this.imageRowToCodewordIndex(c)]=A}getCodeword(c){return this.codewords[this.imageRowToCodewordIndex(c)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const c=new Ho;let A=0;for(const f of this.codewords){if(f==null){c.format("%3d:    |   %n",A++);continue}c.format("%3d: %3d|%3d%n",A++,f.getRowNumber(),f.getValue())}return c.toString()}}Vo.MAX_NEARBY_DISTANCE=5;class Jc{constructor(){this.values=new Map}setValue(c){c=Math.trunc(c);let A=this.values.get(c);A==null&&(A=0),A++,this.values.set(c,A)}getValue(){let c=-1,A=new Array;for(const[f,g]of this.values.entries()){const x={getKey:()=>f,getValue:()=>g};x.getValue()>c?(c=x.getValue(),A=[],A.push(x.getKey())):x.getValue()===c&&A.push(x.getKey())}return lr.toIntArray(A)}getConfidence(c){return this.values.get(c)}}class au extends Vo{constructor(c,A){super(c),this._isLeft=A}setRowNumbers(){for(let c of this.getCodewords())c!=null&&c.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(c){let A=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(A,c);let f=this.getBoundingBox(),g=this._isLeft?f.getTopLeft():f.getTopRight(),x=this._isLeft?f.getBottomLeft():f.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(g.getY())),j=this.imageRowToCodewordIndex(Math.trunc(x.getY())),k=-1,O=1,W=0;for(let ne=v;ne<j;ne++){if(A[ne]==null)continue;let le=A[ne],ye=le.getRowNumber()-k;if(ye===0)W++;else if(ye===1)O=Math.max(O,W),W=1,k=le.getRowNumber();else if(ye<0||le.getRowNumber()>=c.getRowCount()||ye>ne)A[ne]=null;else{let Be;O>2?Be=(O-2)*ye:Be=ye;let je=Be>=ne;for(let Me=1;Me<=Be&&!je;Me++)je=A[ne-Me]!=null;je?A[ne]=null:(k=le.getRowNumber(),W=1)}}}getRowHeights(){let c=this.getBarcodeMetadata();if(c==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);let A=new Int32Array(c.getRowCount());for(let f of this.getCodewords())if(f!=null){let g=f.getRowNumber();if(g>=A.length)continue;A[g]++}return A}adjustIncompleteIndicatorColumnRowNumbers(c){let A=this.getBoundingBox(),f=this._isLeft?A.getTopLeft():A.getTopRight(),g=this._isLeft?A.getBottomLeft():A.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=this.imageRowToCodewordIndex(Math.trunc(g.getY())),j=this.getCodewords(),k=-1;for(let O=x;O<v;O++){if(j[O]==null)continue;let W=j[O];W.setRowNumberAsRowIndicatorColumn();let ne=W.getRowNumber()-k;ne===0||(ne===1?k=W.getRowNumber():W.getRowNumber()>=c.getRowCount()?j[O]=null:k=W.getRowNumber())}}getBarcodeMetadata(){let c=this.getCodewords(),A=new Jc,f=new Jc,g=new Jc,x=new Jc;for(let j of c){if(j==null)continue;j.setRowNumberAsRowIndicatorColumn();let k=j.getValue()%30,O=j.getRowNumber();switch(this._isLeft||(O+=2),O%3){case 0:f.setValue(k*3+1);break;case 1:x.setValue(k/3),g.setValue(k%3);break;case 2:A.setValue(k+1);break}}if(A.getValue().length===0||f.getValue().length===0||g.getValue().length===0||x.getValue().length===0||A.getValue()[0]<1||f.getValue()[0]+g.getValue()[0]<lr.MIN_ROWS_IN_BARCODE||f.getValue()[0]+g.getValue()[0]>lr.MAX_ROWS_IN_BARCODE)return null;let v=new Zc(A.getValue()[0],f.getValue()[0],g.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(c,v),v}removeIncorrectCodewords(c,A){for(let f=0;f<c.length;f++){let g=c[f];if(c[f]==null)continue;let x=g.getValue()%30,v=g.getRowNumber();if(v>A.getRowCount()){c[f]=null;continue}switch(this._isLeft||(v+=2),v%3){case 0:x*3+1!==A.getRowCountUpperPart()&&(c[f]=null);break;case 1:(Math.trunc(x/3)!==A.getErrorCorrectionLevel()||x%3!==A.getRowCountLowerPart())&&(c[f]=null);break;case 2:x+1!==A.getColumnCount()&&(c[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class wl{constructor(c,A){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=c,this.barcodeColumnCount=c.getColumnCount(),this.boundingBox=A,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let c=lr.MAX_CODEWORDS_IN_BARCODE,A;do A=c,c=this.adjustRowNumbersAndGetCount();while(c>0&&c<A);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(c){c!=null&&c.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let c=this.adjustRowNumbersByRow();if(c===0)return 0;for(let A=1;A<this.barcodeColumnCount+1;A++){let f=this.detectionResultColumns[A].getCodewords();for(let g=0;g<f.length;g++)f[g]!=null&&(f[g].hasValidRowNumber()||this.adjustRowNumbers(A,g,f))}return c}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let c=this.detectionResultColumns[0].getCodewords(),A=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<c.length;f++)if(c[f]!=null&&A[f]!=null&&c[f].getRowNumber()===A[f].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let x=this.detectionResultColumns[g].getCodewords()[f];x!=null&&(x.setRowNumber(c[f].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let c=0,A=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<A.length;f++){if(A[f]==null)continue;let g=A[f].getRowNumber(),x=0;for(let v=this.barcodeColumnCount+1;v>0&&x<this.ADJUST_ROW_NUMBER_SKIP;v--){let j=this.detectionResultColumns[v].getCodewords()[f];j!=null&&(x=wl.adjustRowNumberIfValid(g,x,j),j.hasValidRowNumber()||c++)}}return c}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let c=0,A=this.detectionResultColumns[0].getCodewords();for(let f=0;f<A.length;f++){if(A[f]==null)continue;let g=A[f].getRowNumber(),x=0;for(let v=1;v<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;v++){let j=this.detectionResultColumns[v].getCodewords()[f];j!=null&&(x=wl.adjustRowNumberIfValid(g,x,j),j.hasValidRowNumber()||c++)}}return c}static adjustRowNumberIfValid(c,A,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(c)?(f.setRowNumber(c),A=0):++A),A}adjustRowNumbers(c,A,f){if(!this.detectionResultColumns[c-1])return;let g=f[A],x=this.detectionResultColumns[c-1].getCodewords(),v=x;this.detectionResultColumns[c+1]!=null&&(v=this.detectionResultColumns[c+1].getCodewords());let j=new Array(14);j[2]=x[A],j[3]=v[A],A>0&&(j[0]=f[A-1],j[4]=x[A-1],j[5]=v[A-1]),A>1&&(j[8]=f[A-2],j[10]=x[A-2],j[11]=v[A-2]),A<f.length-1&&(j[1]=f[A+1],j[6]=x[A+1],j[7]=v[A+1]),A<f.length-2&&(j[9]=f[A+2],j[12]=x[A+2],j[13]=v[A+2]);for(let k of j)if(wl.adjustRowNumber(g,k))return}static adjustRowNumber(c,A){return A==null?!1:A.hasValidRowNumber()&&A.getBucket()===c.getBucket()?(c.setRowNumber(A.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(c){this.boundingBox=c}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(c,A){this.detectionResultColumns[c]=A}getDetectionResultColumn(c){return this.detectionResultColumns[c]}toString(){let c=this.detectionResultColumns[0];c==null&&(c=this.detectionResultColumns[this.barcodeColumnCount+1]);let A=new Ho;for(let f=0;f<c.getCodewords().length;f++){A.format("CW %3d:",f);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){A.format("    |   ");continue}let x=this.detectionResultColumns[g].getCodewords()[f];if(x==null){A.format("    |   ");continue}A.format(" %3d|%3d",x.getRowNumber(),x.getValue())}A.format("%n")}return A.toString()}}class oo{constructor(c,A,f,g){this.rowNumber=oo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(c),this.endX=Math.trunc(A),this.bucket=Math.trunc(f),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(c){return c!==oo.BARCODE_ROW_UNKNOWN&&this.bucket===c%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(c){this.rowNumber=c}toString(){return this.rowNumber+"|"+this.value}}oo.BARCODE_ROW_UNKNOWN=-1;class vs{static initialize(){for(let c=0;c<lr.SYMBOL_TABLE.length;c++){let A=lr.SYMBOL_TABLE[c],f=A&1;for(let g=0;g<lr.BARS_IN_MODULE;g++){let x=0;for(;(A&1)===f;)x+=1,A>>=1;f=A&1,vs.RATIOS_TABLE[c]||(vs.RATIOS_TABLE[c]=new Array(lr.BARS_IN_MODULE)),vs.RATIOS_TABLE[c][lr.BARS_IN_MODULE-g-1]=Math.fround(x/lr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(c){let A=vs.getDecodedCodewordValue(vs.sampleBitCounts(c));return A!==-1?A:vs.getClosestDecodedValue(c)}static sampleBitCounts(c){let A=Ue.sum(c),f=new Int32Array(lr.BARS_IN_MODULE),g=0,x=0;for(let v=0;v<lr.MODULES_IN_CODEWORD;v++){let j=A/(2*lr.MODULES_IN_CODEWORD)+v*A/lr.MODULES_IN_CODEWORD;x+c[g]<=j&&(x+=c[g],g++),f[g]++}return f}static getDecodedCodewordValue(c){let A=vs.getBitValue(c);return lr.getCodeword(A)===-1?-1:A}static getBitValue(c){let A=0;for(let f=0;f<c.length;f++)for(let g=0;g<c[f];g++)A=A<<1|(f%2===0?1:0);return Math.trunc(A)}static getClosestDecodedValue(c){let A=Ue.sum(c),f=new Array(lr.BARS_IN_MODULE);if(A>1)for(let v=0;v<f.length;v++)f[v]=Math.fround(c[v]/A);let g=yt.MAX_VALUE,x=-1;this.bSymbolTableReady||vs.initialize();for(let v=0;v<vs.RATIOS_TABLE.length;v++){let j=0,k=vs.RATIOS_TABLE[v];for(let O=0;O<lr.BARS_IN_MODULE;O++){let W=Math.fround(k[O]-f[O]);if(j+=Math.fround(W*W),j>=g)break}j<g&&(g=j,x=lr.SYMBOL_TABLE[v])}return x}}vs.bSymbolTableReady=!1,vs.RATIOS_TABLE=new Array(lr.SYMBOL_TABLE.length).map(re=>new Array(lr.BARS_IN_MODULE));class iu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(c){this.segmentIndex=c}getFileId(){return this.fileId}setFileId(c){this.fileId=c}getOptionalData(){return this.optionalData}setOptionalData(c){this.optionalData=c}isLastSegment(){return this.lastSegment}setLastSegment(c){this.lastSegment=c}getSegmentCount(){return this.segmentCount}setSegmentCount(c){this.segmentCount=c}getSender(){return this.sender||null}setSender(c){this.sender=c}getAddressee(){return this.addressee||null}setAddressee(c){this.addressee=c}getFileName(){return this.fileName}setFileName(c){this.fileName=c}getFileSize(){return this.fileSize}setFileSize(c){this.fileSize=c}getChecksum(){return this.checksum}setChecksum(c){this.checksum=c}getTimestamp(){return this.timestamp}setTimestamp(c){this.timestamp=c}}class ed{static parseLong(c,A=void 0){return parseInt(c,A)}}class ou extends u{}ou.kind="NullPointerException";class td{writeBytes(c){this.writeBytesOffset(c,0,c.length)}writeBytesOffset(c,A,f){if(c==null)throw new ou;if(A<0||A>c.length||f<0||A+f>c.length||A+f<0)throw new S;if(f===0)return;for(let g=0;g<f;g++)this.write(c[A+g])}flush(){}close(){}}class qA extends u{}class XA extends td{constructor(c=32){if(super(),this.count=0,c<0)throw new m("Negative initial size: "+c);this.buf=new Uint8Array(c)}ensureCapacity(c){c-this.buf.length>0&&this.grow(c)}grow(c){let f=this.buf.length<<1;if(f-c<0&&(f=c),f<0){if(c<0)throw new qA;f=I.MAX_VALUE}this.buf=B.copyOfUint8Array(this.buf,f)}write(c){this.ensureCapacity(this.count+1),this.buf[this.count]=c,this.count+=1}writeBytesOffset(c,A,f){if(A<0||A>c.length||f<0||A+f-c.length>0)throw new S;this.ensureCapacity(this.count+f),N.arraycopy(c,A,this.buf,this.count,f),this.count+=f}writeTo(c){c.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return B.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(c){return c?typeof c=="string"?this.toString_string(c):this.toString_number(c):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(c){return new String(this.buf).toString()}toString_number(c){return new String(this.buf).toString()}close(){}}var Fr;(function(re){re[re.ALPHA=0]="ALPHA",re[re.LOWER=1]="LOWER",re[re.MIXED=2]="MIXED",re[re.PUNCT=3]="PUNCT",re[re.ALPHA_SHIFT=4]="ALPHA_SHIFT",re[re.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Fr||(Fr={}));function lo(){if(typeof window<"u")return window.BigInt||null;if(typeof Rf<"u")return Rf.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let R;function ae(re){if(typeof R>"u"&&(R=lo()),R===null)throw new Error("BigInt is not supported!");return R(re)}function ve(){let re=[];re[0]=ae(1);let c=ae(900);re[1]=c;for(let A=2;A<16;A++)re[A]=re[A-1]*c;return re}class he{static decode(c,A){let f=new J(""),g=T.ISO8859_1;f.enableDecoding(g);let x=1,v=c[x++],j=new iu;for(;x<c[0];){switch(v){case he.TEXT_COMPACTION_MODE_LATCH:x=he.textCompaction(c,x,f);break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:x=he.byteCompaction(v,c,g,x,f);break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(c[x++]);break;case he.NUMERIC_COMPACTION_MODE_LATCH:x=he.numericCompaction(c,x,f);break;case he.ECI_CHARSET:T.getCharacterSetECIByValue(c[x++]);break;case he.ECI_GENERAL_PURPOSE:x+=2;break;case he.ECI_USER_DEFINED:x++;break;case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=he.decodeMacroBlock(c,x,j);break;case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:throw new D;default:x--,x=he.textCompaction(c,x,f);break}if(x<c.length)v=c[x++];else throw D.getFormatInstance()}if(f.length()===0)throw D.getFormatInstance();let k=new Ee(null,f.toString(),null,A);return k.setOther(j),k}static decodeMacroBlock(c,A,f){if(A+he.NUMBER_OF_SEQUENCE_CODEWORDS>c[0])throw D.getFormatInstance();let g=new Int32Array(he.NUMBER_OF_SEQUENCE_CODEWORDS);for(let j=0;j<he.NUMBER_OF_SEQUENCE_CODEWORDS;j++,A++)g[j]=c[A];f.setSegmentIndex(I.parseInt(he.decodeBase900toBase10(g,he.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new J;A=he.textCompaction(c,A,x),f.setFileId(x.toString());let v=-1;for(c[A]===he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=A+1);A<c[0];)switch(c[A]){case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(A++,c[A]){case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let j=new J;A=he.textCompaction(c,A+1,j),f.setFileName(j.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let k=new J;A=he.textCompaction(c,A+1,k),f.setSender(k.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let O=new J;A=he.textCompaction(c,A+1,O),f.setAddressee(O.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let W=new J;A=he.numericCompaction(c,A+1,W),f.setSegmentCount(I.parseInt(W.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ne=new J;A=he.numericCompaction(c,A+1,ne),f.setTimestamp(ed.parseLong(ne.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let le=new J;A=he.numericCompaction(c,A+1,le),f.setChecksum(I.parseInt(le.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ye=new J;A=he.numericCompaction(c,A+1,ye),f.setFileSize(ed.parseLong(ye.toString()));break;default:throw D.getFormatInstance()}break;case he.MACRO_PDF417_TERMINATOR:A++,f.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(v!==-1){let j=A-v;f.isLastSegment()&&j--,f.setOptionalData(B.copyOfRange(c,v,v+j))}return A}static textCompaction(c,A,f){let g=new Int32Array((c[0]-A)*2),x=new Int32Array((c[0]-A)*2),v=0,j=!1;for(;A<c[0]&&!j;){let k=c[A++];if(k<he.TEXT_COMPACTION_MODE_LATCH)g[v]=k/30,g[v+1]=k%30,v+=2;else switch(k){case he.TEXT_COMPACTION_MODE_LATCH:g[v++]=he.TEXT_COMPACTION_MODE_LATCH;break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:A--,j=!0;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[v]=he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,k=c[A++],x[v]=k,v++;break}}return he.decodeTextCompaction(g,x,v,f),A}static decodeTextCompaction(c,A,f,g){let x=Fr.ALPHA,v=Fr.ALPHA,j=0;for(;j<f;){let k=c[j],O="";switch(x){case Fr.ALPHA:if(k<26)O=String.fromCharCode(65+k);else switch(k){case 26:O=" ";break;case he.LL:x=Fr.LOWER;break;case he.ML:x=Fr.MIXED;break;case he.PS:v=x,x=Fr.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(A[j]);break;case he.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.LOWER:if(k<26)O=String.fromCharCode(97+k);else switch(k){case 26:O=" ";break;case he.AS:v=x,x=Fr.ALPHA_SHIFT;break;case he.ML:x=Fr.MIXED;break;case he.PS:v=x,x=Fr.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(A[j]);break;case he.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.MIXED:if(k<he.PL)O=he.MIXED_CHARS[k];else switch(k){case he.PL:x=Fr.PUNCT;break;case 26:O=" ";break;case he.LL:x=Fr.LOWER;break;case he.AL:x=Fr.ALPHA;break;case he.PS:v=x,x=Fr.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(A[j]);break;case he.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.PUNCT:if(k<he.PAL)O=he.PUNCT_CHARS[k];else switch(k){case he.PAL:x=Fr.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(A[j]);break;case he.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.ALPHA_SHIFT:if(x=v,k<26)O=String.fromCharCode(65+k);else switch(k){case 26:O=" ";break;case he.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.PUNCT_SHIFT:if(x=v,k<he.PAL)O=he.PUNCT_CHARS[k];else switch(k){case he.PAL:x=Fr.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(A[j]);break;case he.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break}O!==""&&g.append(O),j++}}static byteCompaction(c,A,f,g,x){let v=new XA,j=0,k=0,O=!1;switch(c){case he.BYTE_COMPACTION_MODE_LATCH:let W=new Int32Array(6),ne=A[g++];for(;g<A[0]&&!O;)switch(W[j++]=ne,k=900*k+ne,ne=A[g++],ne){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:g--,O=!0;break;default:if(j%5===0&&j>0){for(let le=0;le<6;++le)v.write(Number(ae(k)>>ae(8*(5-le))));k=0,j=0}break}g===A[0]&&ne<he.TEXT_COMPACTION_MODE_LATCH&&(W[j++]=ne);for(let le=0;le<j;le++)v.write(W[le]);break;case he.BYTE_COMPACTION_MODE_LATCH_6:for(;g<A[0]&&!O;){let le=A[g++];if(le<he.TEXT_COMPACTION_MODE_LATCH)j++,k=900*k+le;else switch(le){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:g--,O=!0;break}if(j%5===0&&j>0){for(let ye=0;ye<6;++ye)v.write(Number(ae(k)>>ae(8*(5-ye))));k=0,j=0}}break}return x.append(M.decode(v.toByteArray(),f)),g}static numericCompaction(c,A,f){let g=0,x=!1,v=new Int32Array(he.MAX_NUMERIC_CODEWORDS);for(;A<c[0]&&!x;){let j=c[A++];if(A===c[0]&&(x=!0),j<he.TEXT_COMPACTION_MODE_LATCH)v[g]=j,g++;else switch(j){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:A--,x=!0;break}(g%he.MAX_NUMERIC_CODEWORDS===0||j===he.NUMERIC_COMPACTION_MODE_LATCH||x)&&g>0&&(f.append(he.decodeBase900toBase10(v,g)),g=0)}return A}static decodeBase900toBase10(c,A){let f=ae(0);for(let x=0;x<A;x++)f+=he.EXP900[A-x-1]*ae(c[x]);let g=f.toString();if(g.charAt(0)!=="1")throw new D;return g.substring(1)}}he.TEXT_COMPACTION_MODE_LATCH=900,he.BYTE_COMPACTION_MODE_LATCH=901,he.NUMERIC_COMPACTION_MODE_LATCH=902,he.BYTE_COMPACTION_MODE_LATCH_6=924,he.ECI_USER_DEFINED=925,he.ECI_GENERAL_PURPOSE=926,he.ECI_CHARSET=927,he.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,he.MACRO_PDF417_TERMINATOR=922,he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,he.MAX_NUMERIC_CODEWORDS=15,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,he.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,he.PL=25,he.LL=27,he.AS=27,he.ML=28,he.AL=28,he.PS=29,he.PAL=29,he.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,he.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",he.EXP900=lo()?ve():[],he.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ie{constructor(){}static decode(c,A,f,g,x,v,j){let k=new io(c,A,f,g,x),O=null,W=null,ne;for(let Be=!0;;Be=!1){if(A!=null&&(O=Ie.getRowIndicatorColumn(c,k,A,!0,v,j)),g!=null&&(W=Ie.getRowIndicatorColumn(c,k,g,!1,v,j)),ne=Ie.merge(O,W),ne==null)throw ee.getNotFoundInstance();let je=ne.getBoundingBox();if(Be&&je!=null&&(je.getMinY()<k.getMinY()||je.getMaxY()>k.getMaxY()))k=je;else break}ne.setBoundingBox(k);let le=ne.getBarcodeColumnCount()+1;ne.setDetectionResultColumn(0,O),ne.setDetectionResultColumn(le,W);let ye=O!=null;for(let Be=1;Be<=le;Be++){let je=ye?Be:le-Be;if(ne.getDetectionResultColumn(je)!==void 0)continue;let Me;je===0||je===le?Me=new au(k,je===0):Me=new Vo(k),ne.setDetectionResultColumn(je,Me);let qe=-1,ct=qe;for(let ht=k.getMinY();ht<=k.getMaxY();ht++){if(qe=Ie.getStartColumn(ne,je,ht,ye),qe<0||qe>k.getMaxX()){if(ct===-1)continue;qe=ct}let dt=Ie.detectCodeword(c,k.getMinX(),k.getMaxX(),ye,qe,ht,v,j);dt!=null&&(Me.setCodeword(ht,dt),ct=qe,v=Math.min(v,dt.getWidth()),j=Math.max(j,dt.getWidth()))}}return Ie.createDecoderResult(ne)}static merge(c,A){if(c==null&&A==null)return null;let f=Ie.getBarcodeMetadata(c,A);if(f==null)return null;let g=io.merge(Ie.adjustBoundingBox(c),Ie.adjustBoundingBox(A));return new wl(f,g)}static adjustBoundingBox(c){if(c==null)return null;let A=c.getRowHeights();if(A==null)return null;let f=Ie.getMax(A),g=0;for(let j of A)if(g+=f-j,j>0)break;let x=c.getCodewords();for(let j=0;g>0&&x[j]==null;j++)g--;let v=0;for(let j=A.length-1;j>=0&&(v+=f-A[j],!(A[j]>0));j--);for(let j=x.length-1;v>0&&x[j]==null;j--)v--;return c.getBoundingBox().addMissingRows(g,v,c.isLeft())}static getMax(c){let A=-1;for(let f of c)A=Math.max(A,f);return A}static getBarcodeMetadata(c,A){let f;if(c==null||(f=c.getBarcodeMetadata())==null)return A==null?null:A.getBarcodeMetadata();let g;return A==null||(g=A.getBarcodeMetadata())==null?f:f.getColumnCount()!==g.getColumnCount()&&f.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&f.getRowCount()!==g.getRowCount()?null:f}static getRowIndicatorColumn(c,A,f,g,x,v){let j=new au(A,g);for(let k=0;k<2;k++){let O=k===0?1:-1,W=Math.trunc(Math.trunc(f.getX()));for(let ne=Math.trunc(Math.trunc(f.getY()));ne<=A.getMaxY()&&ne>=A.getMinY();ne+=O){let le=Ie.detectCodeword(c,0,c.getWidth(),g,W,ne,x,v);le!=null&&(j.setCodeword(ne,le),g?W=le.getStartX():W=le.getEndX())}}return j}static adjustCodewordCount(c,A){let f=A[0][1],g=f.getValue(),x=c.getBarcodeColumnCount()*c.getBarcodeRowCount()-Ie.getNumberOfECCodeWords(c.getBarcodeECLevel());if(g.length===0){if(x<1||x>lr.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();f.setValue(x)}else g[0]!==x&&f.setValue(x)}static createDecoderResult(c){let A=Ie.createBarcodeMatrix(c);Ie.adjustCodewordCount(c,A);let f=new Array,g=new Int32Array(c.getBarcodeRowCount()*c.getBarcodeColumnCount()),x=[],v=new Array;for(let k=0;k<c.getBarcodeRowCount();k++)for(let O=0;O<c.getBarcodeColumnCount();O++){let W=A[k][O+1].getValue(),ne=k*c.getBarcodeColumnCount()+O;W.length===0?f.push(ne):W.length===1?g[ne]=W[0]:(v.push(ne),x.push(W))}let j=new Array(x.length);for(let k=0;k<j.length;k++)j[k]=x[k];return Ie.createDecoderResultFromAmbiguousValues(c.getBarcodeECLevel(),g,lr.toIntArray(f),lr.toIntArray(v),j)}static createDecoderResultFromAmbiguousValues(c,A,f,g,x){let v=new Int32Array(g.length),j=100;for(;j-- >0;){for(let k=0;k<v.length;k++)A[g[k]]=x[k][v[k]];try{return Ie.decodeCodewords(A,c,f)}catch(k){if(!(k instanceof p))throw k}if(v.length===0)throw p.getChecksumInstance();for(let k=0;k<v.length;k++)if(v[k]<x[k].length-1){v[k]++;break}else if(v[k]=0,k===v.length-1)throw p.getChecksumInstance()}throw p.getChecksumInstance()}static createBarcodeMatrix(c){let A=Array.from({length:c.getBarcodeRowCount()},()=>new Array(c.getBarcodeColumnCount()+2));for(let g=0;g<A.length;g++)for(let x=0;x<A[g].length;x++)A[g][x]=new Jc;let f=0;for(let g of c.getDetectionResultColumns()){if(g!=null){for(let x of g.getCodewords())if(x!=null){let v=x.getRowNumber();if(v>=0){if(v>=A.length)continue;A[v][f].setValue(x.getValue())}}}f++}return A}static isValidBarcodeColumn(c,A){return A>=0&&A<=c.getBarcodeColumnCount()+1}static getStartColumn(c,A,f,g){let x=g?1:-1,v=null;if(Ie.isValidBarcodeColumn(c,A-x)&&(v=c.getDetectionResultColumn(A-x).getCodeword(f)),v!=null)return g?v.getEndX():v.getStartX();if(v=c.getDetectionResultColumn(A).getCodewordNearby(f),v!=null)return g?v.getStartX():v.getEndX();if(Ie.isValidBarcodeColumn(c,A-x)&&(v=c.getDetectionResultColumn(A-x).getCodewordNearby(f)),v!=null)return g?v.getEndX():v.getStartX();let j=0;for(;Ie.isValidBarcodeColumn(c,A-x);){A-=x;for(let k of c.getDetectionResultColumn(A).getCodewords())if(k!=null)return(g?k.getEndX():k.getStartX())+x*j*(k.getEndX()-k.getStartX());j++}return g?c.getBoundingBox().getMinX():c.getBoundingBox().getMaxX()}static detectCodeword(c,A,f,g,x,v,j,k){x=Ie.adjustCodewordStartColumn(c,A,f,g,x,v);let O=Ie.getModuleBitCount(c,A,f,g,x,v);if(O==null)return null;let W,ne=Ue.sum(O);if(g)W=x+ne;else{for(let Be=0;Be<O.length/2;Be++){let je=O[Be];O[Be]=O[O.length-1-Be],O[O.length-1-Be]=je}W=x,x=W-ne}if(!Ie.checkCodewordSkew(ne,j,k))return null;let le=vs.getDecodedValue(O),ye=lr.getCodeword(le);return ye===-1?null:new oo(x,W,Ie.getCodewordBucketNumber(le),ye)}static getModuleBitCount(c,A,f,g,x,v){let j=x,k=new Int32Array(8),O=0,W=g?1:-1,ne=g;for(;(g?j<f:j>=A)&&O<k.length;)c.get(j,v)===ne?(k[O]++,j+=W):(O++,ne=!ne);return O===k.length||j===(g?f:A)&&O===k.length-1?k:null}static getNumberOfECCodeWords(c){return 2<<c}static adjustCodewordStartColumn(c,A,f,g,x,v){let j=x,k=g?-1:1;for(let O=0;O<2;O++){for(;(g?j>=A:j<f)&&g===c.get(j,v);){if(Math.abs(x-j)>Ie.CODEWORD_SKEW_SIZE)return x;j+=k}k=-k,g=!g}return j}static checkCodewordSkew(c,A,f){return A-Ie.CODEWORD_SKEW_SIZE<=c&&c<=f+Ie.CODEWORD_SKEW_SIZE}static decodeCodewords(c,A,f){if(c.length===0)throw D.getFormatInstance();let g=1<<A+1,x=Ie.correctErrors(c,f,g);Ie.verifyCodewordCount(c,g);let v=he.decode(c,""+A);return v.setErrorsCorrected(x),v.setErasures(f.length),v}static correctErrors(c,A,f){if(A!=null&&A.length>f/2+Ie.MAX_ERRORS||f<0||f>Ie.MAX_EC_CODEWORDS)throw p.getChecksumInstance();return Ie.errorCorrection.decode(c,f,A)}static verifyCodewordCount(c,A){if(c.length<4)throw D.getFormatInstance();let f=c[0];if(f>c.length)throw D.getFormatInstance();if(f===0)if(A<c.length)c[0]=c.length-A;else throw D.getFormatInstance()}static getBitCountForCodeword(c){let A=new Int32Array(8),f=0,g=A.length-1;for(;!((c&1)!==f&&(f=c&1,g--,g<0));)A[g]++,c>>=1;return A}static getCodewordBucketNumber(c){return c instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(c):this.getCodewordBucketNumber_number(c)}static getCodewordBucketNumber_number(c){return Ie.getCodewordBucketNumber(Ie.getBitCountForCodeword(c))}static getCodewordBucketNumber_Int32Array(c){return(c[0]-c[2]+c[4]-c[6]+9)%9}static toString(c){let A=new Ho;for(let f=0;f<c.length;f++){A.format("Row %2d: ",f);for(let g=0;g<c[f].length;g++){let x=c[f][g];x.getValue().length===0?A.format("        ",null):A.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}A.format("%n")}return A.toString()}}Ie.CODEWORD_SKEW_SIZE=2,Ie.MAX_ERRORS=3,Ie.MAX_EC_CODEWORDS=512,Ie.errorCorrection=new Yc;class Ye{decode(c,A=null){let f=Ye.decode(c,A,!1);if(f==null||f.length===0||f[0]==null)throw ee.getNotFoundInstance();return f[0]}decodeMultiple(c,A=null){try{return Ye.decode(c,A,!0)}catch(f){throw f instanceof D||f instanceof p?ee.getNotFoundInstance():f}}static decode(c,A,f){const g=new Array,x=fr.detectMultiple(c,A,f);for(const v of x.getPoints()){const j=Ie.decode(x.getBits(),v[4],v[5],v[6],v[7],Ye.getMinCodewordWidth(v),Ye.getMaxCodewordWidth(v)),k=new te(j.getText(),j.getRawBytes(),void 0,v,de.PDF_417);k.putMetadata(ue.ERROR_CORRECTION_LEVEL,j.getECLevel());const O=j.getOther();O!=null&&k.putMetadata(ue.PDF417_EXTRA_METADATA,O),g.push(k)}return g.map(v=>v)}static getMaxWidth(c,A){return c==null||A==null?0:Math.trunc(Math.abs(c.getX()-A.getX()))}static getMinWidth(c,A){return c==null||A==null?I.MAX_VALUE:Math.trunc(Math.abs(c.getX()-A.getX()))}static getMaxCodewordWidth(c){return Math.floor(Math.max(Math.max(Ye.getMaxWidth(c[0],c[4]),Ye.getMaxWidth(c[6],c[2])*lr.MODULES_IN_CODEWORD/lr.MODULES_IN_STOP_PATTERN),Math.max(Ye.getMaxWidth(c[1],c[5]),Ye.getMaxWidth(c[7],c[3])*lr.MODULES_IN_CODEWORD/lr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(c){return Math.floor(Math.min(Math.min(Ye.getMinWidth(c[0],c[4]),Ye.getMinWidth(c[6],c[2])*lr.MODULES_IN_CODEWORD/lr.MODULES_IN_STOP_PATTERN),Math.min(Ye.getMinWidth(c[1],c[5]),Ye.getMinWidth(c[7],c[3])*lr.MODULES_IN_CODEWORD/lr.MODULES_IN_STOP_PATTERN)))}reset(){}}class ot extends u{}ot.kind="ReaderException";class Mt{constructor(c,A){this.verbose=c===!0,A&&this.setHints(A)}decode(c,A){return A&&this.setHints(A),this.decodeInternal(c)}decodeWithState(c){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(c)}setHints(c){this.hints=c;const A=!n(c)&&c.get(H.TRY_HARDER)===!0,f=n(c)?null:c.get(H.POSSIBLE_FORMATS),g=new Array;if(!n(f)){const x=f.some(v=>v===de.UPC_A||v===de.UPC_E||v===de.EAN_13||v===de.EAN_8||v===de.CODABAR||v===de.CODE_39||v===de.CODE_93||v===de.CODE_128||v===de.ITF||v===de.RSS_14||v===de.RSS_EXPANDED);x&&!A&&g.push(new gl(c,this.verbose)),f.includes(de.QR_CODE)&&g.push(new Qo),f.includes(de.DATA_MATRIX)&&g.push(new Ks),f.includes(de.AZTEC)&&g.push(new Ct),f.includes(de.PDF_417)&&g.push(new Ye),x&&A&&g.push(new gl(c,this.verbose))}g.length===0&&(A||g.push(new gl(c,this.verbose)),g.push(new Qo),g.push(new Ks),g.push(new Ct),g.push(new Ye),A&&g.push(new gl(c,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const c of this.readers)c.reset()}decodeInternal(c){if(this.readers===null)throw new ot("No readers where selected, nothing can be read.");for(const A of this.readers)try{return A.decode(c,this.hints)}catch(f){if(f instanceof ot)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class $t extends G{constructor(c=null,A=500){const f=new Mt;f.setHints(c),super(f,A)}decodeBitmap(c){return this.reader.decodeWithState(c)}}class pr extends G{constructor(c=500){super(new Ye,c)}}class Sr extends G{constructor(c=500){super(new Qo,c)}}var Yr;(function(re){re[re.ERROR_CORRECTION=0]="ERROR_CORRECTION",re[re.CHARACTER_SET=1]="CHARACTER_SET",re[re.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",re[re.MIN_SIZE=3]="MIN_SIZE",re[re.MAX_SIZE=4]="MAX_SIZE",re[re.MARGIN=5]="MARGIN",re[re.PDF417_COMPACT=6]="PDF417_COMPACT",re[re.PDF417_COMPACTION=7]="PDF417_COMPACTION",re[re.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",re[re.AZTEC_LAYERS=9]="AZTEC_LAYERS",re[re.QR_VERSION=10]="QR_VERSION"})(Yr||(Yr={}));var jr=Yr;class as{constructor(c){this.field=c,this.cachedGenerators=[],this.cachedGenerators.push(new _e(c,Int32Array.from([1])))}buildGenerator(c){const A=this.cachedGenerators;if(c>=A.length){let f=A[A.length-1];const g=this.field;for(let x=A.length;x<=c;x++){const v=f.multiply(new _e(g,Int32Array.from([1,g.exp(x-1+g.getGeneratorBase())])));A.push(v),f=v}}return A[c]}encode(c,A){if(A===0)throw new m("No error correction bytes");const f=c.length-A;if(f<=0)throw new m("No data bytes provided");const g=this.buildGenerator(A),x=new Int32Array(f);N.arraycopy(c,0,x,0,f);let v=new _e(this.field,x);v=v.multiplyByMonomial(A,1);const k=v.divide(g)[1].getCoefficients(),O=A-k.length;for(let W=0;W<O;W++)c[f+W]=0;N.arraycopy(k,0,c,f+O,k.length)}}class Ar{constructor(){}static applyMaskPenaltyRule1(c){return Ar.applyMaskPenaltyRule1Internal(c,!0)+Ar.applyMaskPenaltyRule1Internal(c,!1)}static applyMaskPenaltyRule2(c){let A=0;const f=c.getArray(),g=c.getWidth(),x=c.getHeight();for(let v=0;v<x-1;v++){const j=f[v];for(let k=0;k<g-1;k++){const O=j[k];O===j[k+1]&&O===f[v+1][k]&&O===f[v+1][k+1]&&A++}}return Ar.N2*A}static applyMaskPenaltyRule3(c){let A=0;const f=c.getArray(),g=c.getWidth(),x=c.getHeight();for(let v=0;v<x;v++)for(let j=0;j<g;j++){const k=f[v];j+6<g&&k[j]===1&&k[j+1]===0&&k[j+2]===1&&k[j+3]===1&&k[j+4]===1&&k[j+5]===0&&k[j+6]===1&&(Ar.isWhiteHorizontal(k,j-4,j)||Ar.isWhiteHorizontal(k,j+7,j+11))&&A++,v+6<x&&f[v][j]===1&&f[v+1][j]===0&&f[v+2][j]===1&&f[v+3][j]===1&&f[v+4][j]===1&&f[v+5][j]===0&&f[v+6][j]===1&&(Ar.isWhiteVertical(f,j,v-4,v)||Ar.isWhiteVertical(f,j,v+7,v+11))&&A++}return A*Ar.N3}static isWhiteHorizontal(c,A,f){A=Math.max(A,0),f=Math.min(f,c.length);for(let g=A;g<f;g++)if(c[g]===1)return!1;return!0}static isWhiteVertical(c,A,f,g){f=Math.max(f,0),g=Math.min(g,c.length);for(let x=f;x<g;x++)if(c[x][A]===1)return!1;return!0}static applyMaskPenaltyRule4(c){let A=0;const f=c.getArray(),g=c.getWidth(),x=c.getHeight();for(let k=0;k<x;k++){const O=f[k];for(let W=0;W<g;W++)O[W]===1&&A++}const v=c.getHeight()*c.getWidth();return Math.floor(Math.abs(A*2-v)*10/v)*Ar.N4}static getDataMaskBit(c,A,f){let g,x;switch(c){case 0:g=f+A&1;break;case 1:g=f&1;break;case 2:g=A%3;break;case 3:g=(f+A)%3;break;case 4:g=Math.floor(f/2)+Math.floor(A/3)&1;break;case 5:x=f*A,g=(x&1)+x%3;break;case 6:x=f*A,g=(x&1)+x%3&1;break;case 7:x=f*A,g=x%3+(f+A&1)&1;break;default:throw new m("Invalid mask pattern: "+c)}return g===0}static applyMaskPenaltyRule1Internal(c,A){let f=0;const g=A?c.getHeight():c.getWidth(),x=A?c.getWidth():c.getHeight(),v=c.getArray();for(let j=0;j<g;j++){let k=0,O=-1;for(let W=0;W<x;W++){const ne=A?v[j][W]:v[W][j];ne===O?k++:(k>=5&&(f+=Ar.N1+(k-5)),k=1,O=ne)}k>=5&&(f+=Ar.N1+(k-5))}return f}}Ar.N1=3,Ar.N2=3,Ar.N3=40,Ar.N4=10;class is{constructor(c,A){this.width=c,this.height=A;const f=new Array(A);for(let g=0;g!==A;g++)f[g]=new Uint8Array(c);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(c,A){return this.bytes[A][c]}getArray(){return this.bytes}setNumber(c,A,f){this.bytes[A][c]=f}setBoolean(c,A,f){this.bytes[A][c]=f?1:0}clear(c){for(const A of this.bytes)B.fill(A,c)}equals(c){if(!(c instanceof is))return!1;const A=c;if(this.width!==A.width||this.height!==A.height)return!1;for(let f=0,g=this.height;f<g;++f){const x=this.bytes[f],v=A.bytes[f];for(let j=0,k=this.width;j<k;++j)if(x[j]!==v[j])return!1}return!0}toString(){const c=new J;for(let A=0,f=this.height;A<f;++A){const g=this.bytes[A];for(let x=0,v=this.width;x<v;++x)switch(g[x]){case 0:c.append(" 0");break;case 1:c.append(" 1");break;default:c.append("  ");break}c.append(`
`)}return c.toString()}}class _n{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const c=new J;return c.append(`<<
`),c.append(" mode: "),c.append(this.mode?this.mode.toString():"null"),c.append(`
 ecLevel: `),c.append(this.ecLevel?this.ecLevel.toString():"null"),c.append(`
 version: `),c.append(this.version?this.version.toString():"null"),c.append(`
 maskPattern: `),c.append(this.maskPattern.toString()),this.matrix?(c.append(`
 matrix:
`),c.append(this.matrix.toString())):c.append(`
 matrix: null
`),c.append(`>>
`),c.toString()}setMode(c){this.mode=c}setECLevel(c){this.ecLevel=c}setVersion(c){this.version=c}setMaskPattern(c){this.maskPattern=c}setMatrix(c){this.matrix=c}static isValidMaskPattern(c){return c>=0&&c<_n.NUM_MASK_PATTERNS}}_n.NUM_MASK_PATTERNS=8;class Cr extends u{}Cr.kind="WriterException";class qt{constructor(){}static clearMatrix(c){c.clear(255)}static buildMatrix(c,A,f,g,x){qt.clearMatrix(x),qt.embedBasicPatterns(f,x),qt.embedTypeInfo(A,g,x),qt.maybeEmbedVersionInfo(f,x),qt.embedDataBits(c,g,x)}static embedBasicPatterns(c,A){qt.embedPositionDetectionPatternsAndSeparators(A),qt.embedDarkDotAtLeftBottomCorner(A),qt.maybeEmbedPositionAdjustmentPatterns(c,A),qt.embedTimingPatterns(A)}static embedTypeInfo(c,A,f){const g=new _;qt.makeTypeInfoBits(c,A,g);for(let x=0,v=g.getSize();x<v;++x){const j=g.get(g.getSize()-1-x),k=qt.TYPE_INFO_COORDINATES[x],O=k[0],W=k[1];if(f.setBoolean(O,W,j),x<8){const ne=f.getWidth()-x-1;f.setBoolean(ne,8,j)}else{const le=f.getHeight()-7+(x-8);f.setBoolean(8,le,j)}}}static maybeEmbedVersionInfo(c,A){if(c.getVersionNumber()<7)return;const f=new _;qt.makeVersionInfoBits(c,f);let g=6*3-1;for(let x=0;x<6;++x)for(let v=0;v<3;++v){const j=f.get(g);g--,A.setBoolean(x,A.getHeight()-11+v,j),A.setBoolean(A.getHeight()-11+v,x,j)}}static embedDataBits(c,A,f){let g=0,x=-1,v=f.getWidth()-1,j=f.getHeight()-1;for(;v>0;){for(v===6&&(v-=1);j>=0&&j<f.getHeight();){for(let k=0;k<2;++k){const O=v-k;if(!qt.isEmpty(f.get(O,j)))continue;let W;g<c.getSize()?(W=c.get(g),++g):W=!1,A!==255&&Ar.getDataMaskBit(A,O,j)&&(W=!W),f.setBoolean(O,j,W)}j+=x}x=-x,j+=x,v-=2}if(g!==c.getSize())throw new Cr("Not all bits consumed: "+g+"/"+c.getSize())}static findMSBSet(c){return 32-I.numberOfLeadingZeros(c)}static calculateBCHCode(c,A){if(A===0)throw new m("0 polynomial");const f=qt.findMSBSet(A);for(c<<=f-1;qt.findMSBSet(c)>=f;)c^=A<<qt.findMSBSet(c)-f;return c}static makeTypeInfoBits(c,A,f){if(!_n.isValidMaskPattern(A))throw new Cr("Invalid mask pattern");const g=c.getBits()<<3|A;f.appendBits(g,5);const x=qt.calculateBCHCode(g,qt.TYPE_INFO_POLY);f.appendBits(x,10);const v=new _;if(v.appendBits(qt.TYPE_INFO_MASK_PATTERN,15),f.xor(v),f.getSize()!==15)throw new Cr("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(c,A){A.appendBits(c.getVersionNumber(),6);const f=qt.calculateBCHCode(c.getVersionNumber(),qt.VERSION_INFO_POLY);if(A.appendBits(f,12),A.getSize()!==18)throw new Cr("should not happen but we got: "+A.getSize())}static isEmpty(c){return c===255}static embedTimingPatterns(c){for(let A=8;A<c.getWidth()-8;++A){const f=(A+1)%2;qt.isEmpty(c.get(A,6))&&c.setNumber(A,6,f),qt.isEmpty(c.get(6,A))&&c.setNumber(6,A,f)}}static embedDarkDotAtLeftBottomCorner(c){if(c.get(8,c.getHeight()-8)===0)throw new Cr;c.setNumber(8,c.getHeight()-8,1)}static embedHorizontalSeparationPattern(c,A,f){for(let g=0;g<8;++g){if(!qt.isEmpty(f.get(c+g,A)))throw new Cr;f.setNumber(c+g,A,0)}}static embedVerticalSeparationPattern(c,A,f){for(let g=0;g<7;++g){if(!qt.isEmpty(f.get(c,A+g)))throw new Cr;f.setNumber(c,A+g,0)}}static embedPositionAdjustmentPattern(c,A,f){for(let g=0;g<5;++g){const x=qt.POSITION_ADJUSTMENT_PATTERN[g];for(let v=0;v<5;++v)f.setNumber(c+v,A+g,x[v])}}static embedPositionDetectionPattern(c,A,f){for(let g=0;g<7;++g){const x=qt.POSITION_DETECTION_PATTERN[g];for(let v=0;v<7;++v)f.setNumber(c+v,A+g,x[v])}}static embedPositionDetectionPatternsAndSeparators(c){const A=qt.POSITION_DETECTION_PATTERN[0].length;qt.embedPositionDetectionPattern(0,0,c),qt.embedPositionDetectionPattern(c.getWidth()-A,0,c),qt.embedPositionDetectionPattern(0,c.getWidth()-A,c);const f=8;qt.embedHorizontalSeparationPattern(0,f-1,c),qt.embedHorizontalSeparationPattern(c.getWidth()-f,f-1,c),qt.embedHorizontalSeparationPattern(0,c.getWidth()-f,c);const g=7;qt.embedVerticalSeparationPattern(g,0,c),qt.embedVerticalSeparationPattern(c.getHeight()-g-1,0,c),qt.embedVerticalSeparationPattern(g,c.getHeight()-g,c)}static maybeEmbedPositionAdjustmentPatterns(c,A){if(c.getVersionNumber()<2)return;const f=c.getVersionNumber()-1,g=qt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let x=0,v=g.length;x!==v;x++){const j=g[x];if(j>=0)for(let k=0;k!==v;k++){const O=g[k];O>=0&&qt.isEmpty(A.get(O,j))&&qt.embedPositionAdjustmentPattern(O-2,j-2,A)}}}}qt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),qt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),qt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),qt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),qt.VERSION_INFO_POLY=7973,qt.TYPE_INFO_POLY=1335,qt.TYPE_INFO_MASK_PATTERN=21522;class nc{constructor(c,A){this.dataBytes=c,this.errorCorrectionBytes=A}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class bn{constructor(){}static calculateMaskPenalty(c){return Ar.applyMaskPenaltyRule1(c)+Ar.applyMaskPenaltyRule2(c)+Ar.applyMaskPenaltyRule3(c)+Ar.applyMaskPenaltyRule4(c)}static encode(c,A,f=null){let g=bn.DEFAULT_BYTE_MODE_ENCODING;const x=f!==null&&f.get(jr.CHARACTER_SET)!==void 0;x&&(g=f.get(jr.CHARACTER_SET).toString());const v=this.chooseMode(c,g),j=new _;if(v===nr.BYTE&&(x||bn.DEFAULT_BYTE_MODE_ENCODING!==g)){const ht=T.getCharacterSetECIByName(g);ht!==void 0&&this.appendECI(ht,j)}this.appendModeInfo(v,j);const k=new _;this.appendBytes(c,v,k,g);let O;if(f!==null&&f.get(jr.QR_VERSION)!==void 0){const ht=Number.parseInt(f.get(jr.QR_VERSION).toString(),10);O=Pt.getVersionForNumber(ht);const dt=this.calculateBitsNeeded(v,j,k,O);if(!this.willFit(dt,O,A))throw new Cr("Data too big for requested version")}else O=this.recommendVersion(A,v,j,k);const W=new _;W.appendBitArray(j);const ne=v===nr.BYTE?k.getSizeInBytes():c.length;this.appendLengthInfo(ne,O,v,W),W.appendBitArray(k);const le=O.getECBlocksForLevel(A),ye=O.getTotalCodewords()-le.getTotalECCodewords();this.terminateBits(ye,W);const Be=this.interleaveWithECBytes(W,O.getTotalCodewords(),ye,le.getNumBlocks()),je=new _n;je.setECLevel(A),je.setMode(v),je.setVersion(O);const Me=O.getDimensionForVersion(),qe=new is(Me,Me),ct=this.chooseMaskPattern(Be,A,O,qe);return je.setMaskPattern(ct),qt.buildMatrix(Be,A,O,ct,qe),je.setMatrix(qe),je}static recommendVersion(c,A,f,g){const x=this.calculateBitsNeeded(A,f,g,Pt.getVersionForNumber(1)),v=this.chooseVersion(x,c),j=this.calculateBitsNeeded(A,f,g,v);return this.chooseVersion(j,c)}static calculateBitsNeeded(c,A,f,g){return A.getSize()+c.getCharacterCountBits(g)+f.getSize()}static getAlphanumericCode(c){return c<bn.ALPHANUMERIC_TABLE.length?bn.ALPHANUMERIC_TABLE[c]:-1}static chooseMode(c,A=null){if(T.SJIS.getName()===A&&this.isOnlyDoubleByteKanji(c))return nr.KANJI;let f=!1,g=!1;for(let x=0,v=c.length;x<v;++x){const j=c.charAt(x);if(bn.isDigit(j))f=!0;else if(this.getAlphanumericCode(j.charCodeAt(0))!==-1)g=!0;else return nr.BYTE}return g?nr.ALPHANUMERIC:f?nr.NUMERIC:nr.BYTE}static isOnlyDoubleByteKanji(c){let A;try{A=M.encode(c,T.SJIS)}catch{return!1}const f=A.length;if(f%2!==0)return!1;for(let g=0;g<f;g+=2){const x=A[g]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(c,A,f,g){let x=Number.MAX_SAFE_INTEGER,v=-1;for(let j=0;j<_n.NUM_MASK_PATTERNS;j++){qt.buildMatrix(c,A,f,j,g);let k=this.calculateMaskPenalty(g);k<x&&(x=k,v=j)}return v}static chooseVersion(c,A){for(let f=1;f<=40;f++){const g=Pt.getVersionForNumber(f);if(bn.willFit(c,g,A))return g}throw new Cr("Data too big")}static willFit(c,A,f){const g=A.getTotalCodewords(),v=A.getECBlocksForLevel(f).getTotalECCodewords(),j=g-v,k=(c+7)/8;return j>=k}static terminateBits(c,A){const f=c*8;if(A.getSize()>f)throw new Cr("data bits cannot fit in the QR Code"+A.getSize()+" > "+f);for(let v=0;v<4&&A.getSize()<f;++v)A.appendBit(!1);const g=A.getSize()&7;if(g>0)for(let v=g;v<8;v++)A.appendBit(!1);const x=c-A.getSizeInBytes();for(let v=0;v<x;++v)A.appendBits(v&1?17:236,8);if(A.getSize()!==f)throw new Cr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(c,A,f,g,x,v){if(g>=f)throw new Cr("Block ID too large");const j=c%f,k=f-j,O=Math.floor(c/f),W=O+1,ne=Math.floor(A/f),le=ne+1,ye=O-ne,Be=W-le;if(ye!==Be)throw new Cr("EC bytes mismatch");if(f!==k+j)throw new Cr("RS blocks mismatch");if(c!==(ne+ye)*k+(le+Be)*j)throw new Cr("Total bytes mismatch");g<k?(x[0]=ne,v[0]=ye):(x[0]=le,v[0]=Be)}static interleaveWithECBytes(c,A,f,g){if(c.getSizeInBytes()!==f)throw new Cr("Number of bits and data bytes does not match");let x=0,v=0,j=0;const k=new Array;for(let W=0;W<g;++W){const ne=new Int32Array(1),le=new Int32Array(1);bn.getNumDataBytesAndNumECBytesForBlockID(A,f,g,W,ne,le);const ye=ne[0],Be=new Uint8Array(ye);c.toBytes(8*x,Be,0,ye);const je=bn.generateECBytes(Be,le[0]);k.push(new nc(Be,je)),v=Math.max(v,ye),j=Math.max(j,je.length),x+=ne[0]}if(f!==x)throw new Cr("Data bytes does not match offset");const O=new _;for(let W=0;W<v;++W)for(const ne of k){const le=ne.getDataBytes();W<le.length&&O.appendBits(le[W],8)}for(let W=0;W<j;++W)for(const ne of k){const le=ne.getErrorCorrectionBytes();W<le.length&&O.appendBits(le[W],8)}if(A!==O.getSizeInBytes())throw new Cr("Interleaving error: "+A+" and "+O.getSizeInBytes()+" differ.");return O}static generateECBytes(c,A){const f=c.length,g=new Int32Array(f+A);for(let v=0;v<f;v++)g[v]=c[v]&255;new as(He.QR_CODE_FIELD_256).encode(g,A);const x=new Uint8Array(A);for(let v=0;v<A;v++)x[v]=g[f+v];return x}static appendModeInfo(c,A){A.appendBits(c.getBits(),4)}static appendLengthInfo(c,A,f,g){const x=f.getCharacterCountBits(A);if(c>=1<<x)throw new Cr(c+" is bigger than "+((1<<x)-1));g.appendBits(c,x)}static appendBytes(c,A,f,g){switch(A){case nr.NUMERIC:bn.appendNumericBytes(c,f);break;case nr.ALPHANUMERIC:bn.appendAlphanumericBytes(c,f);break;case nr.BYTE:bn.append8BitBytes(c,f,g);break;case nr.KANJI:bn.appendKanjiBytes(c,f);break;default:throw new Cr("Invalid mode: "+A)}}static getDigit(c){return c.charCodeAt(0)-48}static isDigit(c){const A=bn.getDigit(c);return A>=0&&A<=9}static appendNumericBytes(c,A){const f=c.length;let g=0;for(;g<f;){const x=bn.getDigit(c.charAt(g));if(g+2<f){const v=bn.getDigit(c.charAt(g+1)),j=bn.getDigit(c.charAt(g+2));A.appendBits(x*100+v*10+j,10),g+=3}else if(g+1<f){const v=bn.getDigit(c.charAt(g+1));A.appendBits(x*10+v,7),g+=2}else A.appendBits(x,4),g++}}static appendAlphanumericBytes(c,A){const f=c.length;let g=0;for(;g<f;){const x=bn.getAlphanumericCode(c.charCodeAt(g));if(x===-1)throw new Cr;if(g+1<f){const v=bn.getAlphanumericCode(c.charCodeAt(g+1));if(v===-1)throw new Cr;A.appendBits(x*45+v,11),g+=2}else A.appendBits(x,6),g++}}static append8BitBytes(c,A,f){let g;try{g=M.encode(c,f)}catch(x){throw new Cr(x)}for(let x=0,v=g.length;x!==v;x++){const j=g[x];A.appendBits(j,8)}}static appendKanjiBytes(c,A){let f;try{f=M.encode(c,T.SJIS)}catch(x){throw new Cr(x)}const g=f.length;for(let x=0;x<g;x+=2){const v=f[x]&255,j=f[x+1]&255,k=v<<8&4294967295|j;let O=-1;if(k>=33088&&k<=40956?O=k-33088:k>=57408&&k<=60351&&(O=k-49472),O===-1)throw new Cr("Invalid byte sequence");const W=(O>>8)*192+(O&255);A.appendBits(W,13)}}static appendECI(c,A){A.appendBits(nr.ECI.getBits(),4),A.appendBits(c.getValue(),8)}}bn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),bn.DEFAULT_BYTE_MODE_ENCODING=T.UTF8.getName();class Ko{write(c,A,f,g=null){if(c.length===0)throw new m("Found empty contents");if(A<0||f<0)throw new m("Requested dimensions are too small: "+A+"x"+f);let x=un.L,v=Ko.QUIET_ZONE_SIZE;g!==null&&(g.get(jr.ERROR_CORRECTION)!==void 0&&(x=un.fromString(g.get(jr.ERROR_CORRECTION).toString())),g.get(jr.MARGIN)!==void 0&&(v=Number.parseInt(g.get(jr.MARGIN).toString(),10)));const j=bn.encode(c,x,g);return this.renderResult(j,A,f,v)}writeToDom(c,A,f,g,x=null){typeof c=="string"&&(c=document.querySelector(c));const v=this.write(A,f,g,x);c&&c.appendChild(v)}renderResult(c,A,f,g){const x=c.getMatrix();if(x===null)throw new me;const v=x.getWidth(),j=x.getHeight(),k=v+g*2,O=j+g*2,W=Math.max(A,k),ne=Math.max(f,O),le=Math.min(Math.floor(W/k),Math.floor(ne/O)),ye=Math.floor((W-v*le)/2),Be=Math.floor((ne-j*le)/2),je=this.createSVGElement(W,ne);for(let Me=0,qe=Be;Me<j;Me++,qe+=le)for(let ct=0,ht=ye;ct<v;ct++,ht+=le)if(x.get(ct,Me)===1){const dt=this.createSvgRectElement(ht,qe,le,le);je.appendChild(dt)}return je}createSVGElement(c,A){const f=document.createElementNS(Ko.SVG_NS,"svg");return f.setAttributeNS(null,"height",c.toString()),f.setAttributeNS(null,"width",A.toString()),f}createSvgRectElement(c,A,f,g){const x=document.createElementNS(Ko.SVG_NS,"rect");return x.setAttributeNS(null,"x",c.toString()),x.setAttributeNS(null,"y",A.toString()),x.setAttributeNS(null,"height",f.toString()),x.setAttributeNS(null,"width",g.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Ko.QUIET_ZONE_SIZE=4,Ko.SVG_NS="http://www.w3.org/2000/svg";class Pi{encode(c,A,f,g,x){if(c.length===0)throw new m("Found empty contents");if(A!==de.QR_CODE)throw new m("Can only encode QR_CODE, but got "+A);if(f<0||g<0)throw new m(`Requested dimensions are too small: ${f}x${g}`);let v=un.L,j=Pi.QUIET_ZONE_SIZE;x!==null&&(x.get(jr.ERROR_CORRECTION)!==void 0&&(v=un.fromString(x.get(jr.ERROR_CORRECTION).toString())),x.get(jr.MARGIN)!==void 0&&(j=Number.parseInt(x.get(jr.MARGIN).toString(),10)));const k=bn.encode(c,v,x);return Pi.renderResult(k,f,g,j)}static renderResult(c,A,f,g){const x=c.getMatrix();if(x===null)throw new me;const v=x.getWidth(),j=x.getHeight(),k=v+g*2,O=j+g*2,W=Math.max(A,k),ne=Math.max(f,O),le=Math.min(Math.floor(W/k),Math.floor(ne/O)),ye=Math.floor((W-v*le)/2),Be=Math.floor((ne-j*le)/2),je=new Z(W,ne);for(let Me=0,qe=Be;Me<j;Me++,qe+=le)for(let ct=0,ht=ye;ct<v;ct++,ht+=le)x.get(ct,Me)===1&&je.setRegion(ht,qe,le,le);return je}}Pi.QUIET_ZONE_SIZE=4;class co{encode(c,A,f,g,x){let v;switch(A){case de.QR_CODE:v=new Pi;break;default:throw new m("No encoder available for format "+A)}return v.encode(c,A,f,g,x)}}class Ha extends Y{constructor(c,A,f,g,x,v,j,k){if(super(v,j),this.yuvData=c,this.dataWidth=A,this.dataHeight=f,this.left=g,this.top=x,g+v>A||x+j>f)throw new m("Crop rectangle does not fit within image data.");k&&this.reverseHorizontal(v,j)}getRow(c,A){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const f=this.getWidth();(A==null||A.length<f)&&(A=new Uint8ClampedArray(f));const g=(c+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,g,A,0,f),A}getMatrix(){const c=this.getWidth(),A=this.getHeight();if(c===this.dataWidth&&A===this.dataHeight)return this.yuvData;const f=c*A,g=new Uint8ClampedArray(f);let x=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return N.arraycopy(this.yuvData,x,g,0,f),g;for(let v=0;v<A;v++){const j=v*c;N.arraycopy(this.yuvData,x,g,j,c),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(c,A,f,g){return new Ha(this.yuvData,this.dataWidth,this.dataHeight,this.left+c,this.top+A,f,g,!1)}renderThumbnail(){const c=this.getWidth()/Ha.THUMBNAIL_SCALE_FACTOR,A=this.getHeight()/Ha.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(c*A),g=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let v=0;v<A;v++){const j=v*c;for(let k=0;k<c;k++){const O=g[x+k*Ha.THUMBNAIL_SCALE_FACTOR]&255;f[j+k]=4278190080|O*65793}x+=this.dataWidth*Ha.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/Ha.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ha.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(c,A){const f=this.yuvData;for(let g=0,x=this.top*this.dataWidth+this.left;g<A;g++,x+=this.dataWidth){const v=x+c/2;for(let j=x,k=x+c-1;j<v;j++,k--){const O=f[j];f[j]=f[k],f[k]=O}}}invert(){return new K(this)}}Ha.THUMBNAIL_SCALE_FACTOR=2;class sc extends Y{constructor(c,A,f,g,x,v,j){if(super(A,f),this.dataWidth=g,this.dataHeight=x,this.left=v,this.top=j,c.BYTES_PER_ELEMENT===4){const k=A*f,O=new Uint8ClampedArray(k);for(let W=0;W<k;W++){const ne=c[W],le=ne>>16&255,ye=ne>>7&510,Be=ne&255;O[W]=(le+ye+Be)/4&255}this.luminances=O}else this.luminances=c;if(g===void 0&&(this.dataWidth=A),x===void 0&&(this.dataHeight=f),v===void 0&&(this.left=0),j===void 0&&(this.top=0),this.left+A>this.dataWidth||this.top+f>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(c,A){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const f=this.getWidth();(A==null||A.length<f)&&(A=new Uint8ClampedArray(f));const g=(c+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,g,A,0,f),A}getMatrix(){const c=this.getWidth(),A=this.getHeight();if(c===this.dataWidth&&A===this.dataHeight)return this.luminances;const f=c*A,g=new Uint8ClampedArray(f);let x=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return N.arraycopy(this.luminances,x,g,0,f),g;for(let v=0;v<A;v++){const j=v*c;N.arraycopy(this.luminances,x,g,j,c),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(c,A,f,g){return new sc(this.luminances,f,g,this.dataWidth,this.dataHeight,this.left+c,this.top+A)}invert(){return new K(this)}}class vl extends T{static forName(c){return this.getCharacterSetECIByName(c)}}class bs{}bs.ISO_8859_1=T.ISO8859_1;class zo{isCompact(){return this.compact}setCompact(c){this.compact=c}getSize(){return this.size}setSize(c){this.size=c}getLayers(){return this.layers}setLayers(c){this.layers=c}getCodeWords(){return this.codeWords}setCodeWords(c){this.codeWords=c}getMatrix(){return this.matrix}setMatrix(c){this.matrix=c}}class Wo{static singletonList(c){return[c]}static min(c,A){return c.sort(A)[0]}}class lu{constructor(c){this.previous=c}getPrevious(){return this.previous}}class Go extends lu{constructor(c,A,f){super(c),this.value=A,this.bitCount=f}appendTo(c,A){c.appendBits(this.value,this.bitCount)}add(c,A){return new Go(this,c,A)}addBinaryShift(c,A){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Go(this,c,A)}toString(){let c=this.value&(1<<this.bitCount)-1;return c|=1<<this.bitCount,"<"+I.toBinaryString(c|1<<this.bitCount).substring(1)+">"}}class Zs extends Go{constructor(c,A,f){super(c,0,0),this.binaryShiftStart=A,this.binaryShiftByteCount=f}appendTo(c,A){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(c.appendBits(31,5),this.binaryShiftByteCount>62?c.appendBits(this.binaryShiftByteCount-31,16):f===0?c.appendBits(Math.min(this.binaryShiftByteCount,31),5):c.appendBits(this.binaryShiftByteCount-31,5)),c.appendBits(A[this.binaryShiftStart+f],8)}addBinaryShift(c,A){return new Zs(this,c,A)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function yf(re,c,A){return new Zs(re,c,A)}function $o(re,c,A){return new Go(re,c,A)}const wf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Tn=0,Na=1,Aa=2,cu=3,Js=4,du=new Go(null,0,0),ha=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Va(re){for(let c of re)B.fill(c,-1);return re[Tn][Js]=0,re[Na][Js]=0,re[Na][Tn]=28,re[cu][Js]=0,re[Aa][Js]=0,re[Aa][Tn]=15,re}const ac=Va(B.createInt32Array(6,6));class Ts{constructor(c,A,f,g){this.token=c,this.mode=A,this.binaryShiftByteCount=f,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(c,A){let f=this.bitCount,g=this.token;if(c!==this.mode){let v=ha[this.mode][c];g=$o(g,v&65535,v>>16),f+=v>>16}let x=c===Aa?4:5;return g=$o(g,A,x),new Ts(g,c,0,f+x)}shiftAndAppend(c,A){let f=this.token,g=this.mode===Aa?4:5;return f=$o(f,ac[this.mode][c],g),f=$o(f,A,5),new Ts(f,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(c){let A=this.token,f=this.mode,g=this.bitCount;if(this.mode===Js||this.mode===Aa){let j=ha[f][Tn];A=$o(A,j&65535,j>>16),g+=j>>16,f=Tn}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,v=new Ts(A,f,this.binaryShiftByteCount+1,g+x);return v.binaryShiftByteCount===2078&&(v=v.endBinaryShift(c+1)),v}endBinaryShift(c){if(this.binaryShiftByteCount===0)return this;let A=this.token;return A=yf(A,c-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ts(A,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(c){let A=this.bitCount+(ha[this.mode][c.mode]>>16);return this.binaryShiftByteCount<c.binaryShiftByteCount?A+=Ts.calculateBinaryShiftCost(c)-Ts.calculateBinaryShiftCost(this):this.binaryShiftByteCount>c.binaryShiftByteCount&&c.binaryShiftByteCount>0&&(A+=10),A<=c.bitCount}toBitArray(c){let A=[];for(let g=this.endBinaryShift(c.length).token;g!==null;g=g.getPrevious())A.unshift(g);let f=new _;for(const g of A)g.appendTo(f,c);return f}toString(){return V.format("%s bits=%d bytes=%d",wf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(c){return c.binaryShiftByteCount>62?21:c.binaryShiftByteCount>31?20:c.binaryShiftByteCount>0?10:0}}Ts.INITIAL_STATE=new Ts(du,Tn,0,0);function ic(re){const c=V.getCharCode(" "),A=V.getCharCode("."),f=V.getCharCode(",");re[Tn][c]=1;const g=V.getCharCode("Z"),x=V.getCharCode("A");for(let le=x;le<=g;le++)re[Tn][le]=le-x+2;re[Na][c]=1;const v=V.getCharCode("z"),j=V.getCharCode("a");for(let le=j;le<=v;le++)re[Na][le]=le-j+2;re[Aa][c]=1;const k=V.getCharCode("9"),O=V.getCharCode("0");for(let le=O;le<=k;le++)re[Aa][le]=le-O+2;re[Aa][f]=12,re[Aa][A]=13;const W=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let le=0;le<W.length;le++)re[cu][V.getCharCode(W[le])]=le;const ne=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let le=0;le<ne.length;le++)V.getCharCode(ne[le])>0&&(re[Js][V.getCharCode(ne[le])]=le);return re}const rd=ic(B.createInt32Array(5,256));class Di{constructor(c){this.text=c}encode(){const c=V.getCharCode(" "),A=V.getCharCode(`
`);let f=Wo.singletonList(Ts.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let v,j=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case V.getCharCode("\r"):v=j===A?2:0;break;case V.getCharCode("."):v=j===c?3:0;break;case V.getCharCode(","):v=j===c?4:0;break;case V.getCharCode(":"):v=j===c?5:0;break;default:v=0}v>0?(f=Di.updateStateListForPair(f,x,v),x++):f=this.updateStateListForChar(f,x)}return Wo.min(f,(x,v)=>x.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(c,A){const f=[];for(let g of c)this.updateStateForChar(g,A,f);return Di.simplifyStates(f)}updateStateForChar(c,A,f){let g=this.text[A]&255,x=rd[c.getMode()][g]>0,v=null;for(let j=0;j<=Js;j++){let k=rd[j][g];if(k>0){if(v==null&&(v=c.endBinaryShift(A)),!x||j===c.getMode()||j===Aa){const O=v.latchAndAppend(j,k);f.push(O)}if(!x&&ac[c.getMode()][j]>=0){const O=v.shiftAndAppend(j,k);f.push(O)}}}if(c.getBinaryShiftByteCount()>0||rd[c.getMode()][g]===0){let j=c.addBinaryShiftChar(A);f.push(j)}}static updateStateListForPair(c,A,f){const g=[];for(let x of c)this.updateStateForPair(x,A,f,g);return this.simplifyStates(g)}static updateStateForPair(c,A,f,g){let x=c.endBinaryShift(A);if(g.push(x.latchAndAppend(Js,f)),c.getMode()!==Js&&g.push(x.shiftAndAppend(Js,f)),f===3||f===4){let v=x.latchAndAppend(Aa,16-f).latchAndAppend(Aa,1);g.push(v)}if(c.getBinaryShiftByteCount()>0){let v=c.addBinaryShiftChar(A).addBinaryShiftChar(A+1);g.push(v)}}static simplifyStates(c){let A=[];for(const f of c){let g=!0;for(const x of A){if(x.isBetterThanOrEqualTo(f)){g=!1;break}f.isBetterThanOrEqualTo(x)&&(A=A.filter(v=>v!==x))}g&&A.push(f)}return A}}class ir{constructor(){}static encodeBytes(c){return ir.encode(c,ir.DEFAULT_EC_PERCENT,ir.DEFAULT_AZTEC_LAYERS)}static encode(c,A,f){let g=new Di(c).encode(),x=I.truncDivision(g.getSize()*A,100)+11,v=g.getSize()+x,j,k,O,W,ne;if(f!==ir.DEFAULT_AZTEC_LAYERS){if(j=f<0,k=Math.abs(f),k>(j?ir.MAX_NB_BITS_COMPACT:ir.MAX_NB_BITS))throw new m(V.format("Illegal value %s for layers",f));O=ir.totalBitsInLayer(k,j),W=ir.WORD_SIZE[k];let dt=O-O%W;if(ne=ir.stuffBits(g,W),ne.getSize()+x>dt)throw new m("Data to large for user specified layer");if(j&&ne.getSize()>W*64)throw new m("Data to large for user specified layer")}else{W=0,ne=null;for(let dt=0;;dt++){if(dt>ir.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(j=dt<=3,k=j?dt+1:dt,O=ir.totalBitsInLayer(k,j),v>O)continue;(ne==null||W!==ir.WORD_SIZE[k])&&(W=ir.WORD_SIZE[k],ne=ir.stuffBits(g,W));let Qr=O-O%W;if(!(j&&ne.getSize()>W*64)&&ne.getSize()+x<=Qr)break}}let le=ir.generateCheckWords(ne,O,W),ye=ne.getSize()/W,Be=ir.generateModeMessage(j,k,ye),je=(j?11:14)+k*4,Me=new Int32Array(je),qe;if(j){qe=je;for(let dt=0;dt<Me.length;dt++)Me[dt]=dt}else{qe=je+1+2*I.truncDivision(I.truncDivision(je,2)-1,15);let dt=I.truncDivision(je,2),Qr=I.truncDivision(qe,2);for(let Nr=0;Nr<dt;Nr++){let Ba=Nr+I.truncDivision(Nr,15);Me[dt-Nr-1]=Qr-Ba-1,Me[dt+Nr]=Qr+Ba+1}}let ct=new Z(qe);for(let dt=0,Qr=0;dt<k;dt++){let Nr=(k-dt)*4+(j?9:12);for(let Ba=0;Ba<Nr;Ba++){let Oi=Ba*2;for(let Sa=0;Sa<2;Sa++)le.get(Qr+Oi+Sa)&&ct.set(Me[dt*2+Sa],Me[dt*2+Ba]),le.get(Qr+Nr*2+Oi+Sa)&&ct.set(Me[dt*2+Ba],Me[je-1-dt*2-Sa]),le.get(Qr+Nr*4+Oi+Sa)&&ct.set(Me[je-1-dt*2-Sa],Me[je-1-dt*2-Ba]),le.get(Qr+Nr*6+Oi+Sa)&&ct.set(Me[je-1-dt*2-Ba],Me[dt*2+Sa])}Qr+=Nr*8}if(ir.drawModeMessage(ct,j,qe,Be),j)ir.drawBullsEye(ct,I.truncDivision(qe,2),5);else{ir.drawBullsEye(ct,I.truncDivision(qe,2),7);for(let dt=0,Qr=0;dt<I.truncDivision(je,2)-1;dt+=15,Qr+=16)for(let Nr=I.truncDivision(qe,2)&1;Nr<qe;Nr+=2)ct.set(I.truncDivision(qe,2)-Qr,Nr),ct.set(I.truncDivision(qe,2)+Qr,Nr),ct.set(Nr,I.truncDivision(qe,2)-Qr),ct.set(Nr,I.truncDivision(qe,2)+Qr)}let ht=new zo;return ht.setCompact(j),ht.setSize(qe),ht.setLayers(k),ht.setCodeWords(ye),ht.setMatrix(ct),ht}static drawBullsEye(c,A,f){for(let g=0;g<f;g+=2)for(let x=A-g;x<=A+g;x++)c.set(x,A-g),c.set(x,A+g),c.set(A-g,x),c.set(A+g,x);c.set(A-f,A-f),c.set(A-f+1,A-f),c.set(A-f,A-f+1),c.set(A+f,A-f),c.set(A+f,A-f+1),c.set(A+f,A+f-1)}static generateModeMessage(c,A,f){let g=new _;return c?(g.appendBits(A-1,2),g.appendBits(f-1,6),g=ir.generateCheckWords(g,28,4)):(g.appendBits(A-1,5),g.appendBits(f-1,11),g=ir.generateCheckWords(g,40,4)),g}static drawModeMessage(c,A,f,g){let x=I.truncDivision(f,2);if(A)for(let v=0;v<7;v++){let j=x-3+v;g.get(v)&&c.set(j,x-5),g.get(v+7)&&c.set(x+5,j),g.get(20-v)&&c.set(j,x+5),g.get(27-v)&&c.set(x-5,j)}else for(let v=0;v<10;v++){let j=x-5+v+I.truncDivision(v,5);g.get(v)&&c.set(j,x-7),g.get(v+10)&&c.set(x+7,j),g.get(29-v)&&c.set(j,x+7),g.get(39-v)&&c.set(x-7,j)}}static generateCheckWords(c,A,f){let g=c.getSize()/f,x=new as(ir.getGF(f)),v=I.truncDivision(A,f),j=ir.bitsToWords(c,f,v);x.encode(j,v-g);let k=A%f,O=new _;O.appendBits(0,k);for(const W of Array.from(j))O.appendBits(W,f);return O}static bitsToWords(c,A,f){let g=new Int32Array(f),x,v;for(x=0,v=c.getSize()/A;x<v;x++){let j=0;for(let k=0;k<A;k++)j|=c.get(x*A+k)?1<<A-k-1:0;g[x]=j}return g}static getGF(c){switch(c){case 4:return He.AZTEC_PARAM;case 6:return He.AZTEC_DATA_6;case 8:return He.AZTEC_DATA_8;case 10:return He.AZTEC_DATA_10;case 12:return He.AZTEC_DATA_12;default:throw new m("Unsupported word size "+c)}}static stuffBits(c,A){let f=new _,g=c.getSize(),x=(1<<A)-2;for(let v=0;v<g;v+=A){let j=0;for(let k=0;k<A;k++)(v+k>=g||c.get(v+k))&&(j|=1<<A-1-k);(j&x)===x?(f.appendBits(j&x,A),v--):j&x?f.appendBits(j,A):(f.appendBits(j|1,A),v--)}return f}static totalBitsInLayer(c,A){return((A?88:112)+16*c)*c}}ir.DEFAULT_EC_PERCENT=33,ir.DEFAULT_AZTEC_LAYERS=0,ir.MAX_NB_BITS=32,ir.MAX_NB_BITS_COMPACT=4,ir.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class uu{encode(c,A,f,g){return this.encodeWithHints(c,A,f,g,null)}encodeWithHints(c,A,f,g,x){let v=bs.ISO_8859_1,j=ir.DEFAULT_EC_PERCENT,k=ir.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(jr.CHARACTER_SET)&&(v=vl.forName(x.get(jr.CHARACTER_SET).toString())),x.has(jr.ERROR_CORRECTION)&&(j=I.parseInt(x.get(jr.ERROR_CORRECTION).toString())),x.has(jr.AZTEC_LAYERS)&&(k=I.parseInt(x.get(jr.AZTEC_LAYERS).toString()))),uu.encodeLayers(c,A,f,g,v,j,k)}static encodeLayers(c,A,f,g,x,v,j){if(A!==de.AZTEC)throw new m("Can only encode AZTEC, but got "+A);let k=ir.encode(V.getBytes(c,x),v,j);return uu.renderResult(k,f,g)}static renderResult(c,A,f){let g=c.getMatrix();if(g==null)throw new me;let x=g.getWidth(),v=g.getHeight(),j=Math.max(A,x),k=Math.max(f,v),O=Math.min(j/x,k/v),W=(j-x*O)/2,ne=(k-v*O)/2,le=new Z(j,k);for(let ye=0,Be=ne;ye<v;ye++,Be+=O)for(let je=0,Me=W;je<x;je++,Me+=O)g.get(je,ye)&&le.setRegion(Me,Be,O,O);return le}}r.AbstractExpandedDecoder=hi,r.ArgumentException=h,r.ArithmeticException=Oe,r.AztecCode=zo,r.AztecCodeReader=Ct,r.AztecCodeWriter=uu,r.AztecDecoder=Xe,r.AztecDetector=Rt,r.AztecDetectorResult=Le,r.AztecEncoder=ir,r.AztecHighLevelEncoder=Di,r.AztecPoint=xt,r.BarcodeFormat=de,r.Binarizer=b,r.BinaryBitmap=y,r.BitArray=_,r.BitMatrix=Z,r.BitSource=ns,r.BrowserAztecCodeReader=Kr,r.BrowserBarcodeReader=zA,r.BrowserCodeReader=G,r.BrowserDatamatrixCodeReader=Gc,r.BrowserMultiFormatReader=$t,r.BrowserPDF417Reader=pr,r.BrowserQRCodeReader=Sr,r.BrowserQRCodeSvgWriter=Ko,r.CharacterSetECI=T,r.ChecksumException=p,r.Code128Reader=$e,r.Code39Reader=It,r.DataMatrixDecodedBitStreamParser=ao,r.DataMatrixReader=Ks,r.DecodeHintType=H,r.DecoderResult=Ee,r.DefaultGridSampler=wt,r.DetectorResult=Vt,r.EAN13Reader=Bt,r.EncodeHintType=jr,r.Exception=u,r.FormatException=D,r.GenericGF=He,r.GenericGFPoly=_e,r.GlobalHistogramBinarizer=q,r.GridSampler=mt,r.GridSamplerInstance=Ft,r.HTMLCanvasElementLuminanceSource=ce,r.HybridBinarizer=X,r.ITFReader=Kt,r.IllegalArgumentException=m,r.IllegalStateException=me,r.InvertedLuminanceSource=K,r.LuminanceSource=Y,r.MathUtils=Ue,r.MultiFormatOneDReader=gl,r.MultiFormatReader=Mt,r.MultiFormatWriter=co,r.NotFoundException=ee,r.OneDReader=Gt,r.PDF417DecodedBitStreamParser=he,r.PDF417DecoderErrorCorrection=Yc,r.PDF417Reader=Ye,r.PDF417ResultMetadata=iu,r.PerspectiveTransform=At,r.PlanarYUVLuminanceSource=Ha,r.QRCodeByteMatrix=is,r.QRCodeDataMask=Ca,r.QRCodeDecodedBitStreamParser=Pn,r.QRCodeDecoderErrorCorrectionLevel=un,r.QRCodeDecoderFormatInformation=zs,r.QRCodeEncoder=bn,r.QRCodeEncoderQRCode=_n,r.QRCodeMaskUtil=Ar,r.QRCodeMatrixUtil=qt,r.QRCodeMode=nr,r.QRCodeReader=Qo,r.QRCodeVersion=Pt,r.QRCodeWriter=Pi,r.RGBLuminanceSource=sc,r.RSS14Reader=Fn,r.RSSExpandedReader=at,r.ReaderException=ot,r.ReedSolomonDecoder=Pe,r.ReedSolomonEncoder=as,r.ReedSolomonException=Ne,r.Result=te,r.ResultMetadataType=ue,r.ResultPoint=We,r.StringUtils=V,r.UnsupportedOperationException=z,r.VideoInputDevice=oe,r.WhiteRectangleDetector=rt,r.WriterException=Cr,r.ZXingArrays=B,r.ZXingCharset=vl,r.ZXingInteger=I,r.ZXingStandardCharsets=bs,r.ZXingStringBuilder=J,r.ZXingStringEncoding=M,r.ZXingSystem=N,r.createAbstractExpandedDecoder=xf,Object.defineProperty(r,"__esModule",{value:!0})})})(rB,rB.exports);var Yn=rB.exports;const bbe=a1(Yn),Cbe=QL({__proto__:null,default:bbe},[Yn]);var dL=function(){function e(t,r,n){if(this.formatMap=new Map([[Ot.QR_CODE,Yn.BarcodeFormat.QR_CODE],[Ot.AZTEC,Yn.BarcodeFormat.AZTEC],[Ot.CODABAR,Yn.BarcodeFormat.CODABAR],[Ot.CODE_39,Yn.BarcodeFormat.CODE_39],[Ot.CODE_93,Yn.BarcodeFormat.CODE_93],[Ot.CODE_128,Yn.BarcodeFormat.CODE_128],[Ot.DATA_MATRIX,Yn.BarcodeFormat.DATA_MATRIX],[Ot.MAXICODE,Yn.BarcodeFormat.MAXICODE],[Ot.ITF,Yn.BarcodeFormat.ITF],[Ot.EAN_13,Yn.BarcodeFormat.EAN_13],[Ot.EAN_8,Yn.BarcodeFormat.EAN_8],[Ot.PDF_417,Yn.BarcodeFormat.PDF_417],[Ot.RSS_14,Yn.BarcodeFormat.RSS_14],[Ot.RSS_EXPANDED,Yn.BarcodeFormat.RSS_EXPANDED],[Ot.UPC_A,Yn.BarcodeFormat.UPC_A],[Ot.UPC_E,Yn.BarcodeFormat.UPC_E],[Ot.UPC_EAN_EXTENSION,Yn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Cbe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var s=this.createZXingFormats(t),i=new Map;i.set(Yn.DecodeHintType.POSSIBLE_FORMATS,s),i.set(Yn.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,s){try{n(r.decode(t))}catch(i){s(i)}})},e.prototype.decode=function(t){var r=new Yn.MultiFormatReader(this.verbose,this.hints),n=new Yn.HTMLCanvasElementLuminanceSource(t),s=new Yn.BinaryBitmap(new Yn.HybridBinarizer(n)),i=r.decode(s);return{text:i.text,format:SV.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,s){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,s=t;n<s.length;n++){var i=s[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Nbe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function d(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})},Bbe=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return d([u,h])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},uL=function(){function e(t,r,n){if(this.formatMap=new Map([[Ot.QR_CODE,"qr_code"],[Ot.AZTEC,"aztec"],[Ot.CODABAR,"codabar"],[Ot.CODE_39,"code_39"],[Ot.CODE_93,"code_93"],[Ot.CODE_128,"code_128"],[Ot.DATA_MATRIX,"data_matrix"],[Ot.ITF,"itf"],[Ot.EAN_13,"ean_13"],[Ot.EAN_8,"ean_8"],[Ot.PDF_417,"pdf417"],[Ot.UPC_A,"upc_a"],[Ot.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Nbe(this,void 0,void 0,function(){var r,n;return Bbe(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=s.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:SV.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,s=0,i=t;s<i.length;s++){var o=i[s],l=o.boundingBox.width*o.boundingBox.height;l>n&&(n=l,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,s=t;n<s.length;n++){var i=s[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,s){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),AL=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function d(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})},hL=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return d([u,h])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Sbe=function(){function e(t,r,n,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&uL.isSupported()?(this.primaryDecoder=new uL(t,n,s),this.secondaryDecoder=new dL(t,n,s)):this.primaryDecoder=new dL(t,n,s)}return e.prototype.decodeAsync=function(t){return AL(this,void 0,void 0,function(){var r;return hL(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return AL(this,void 0,void 0,function(){var r,n;return hL(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(n=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var s=n[r];t+=s}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),b6=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),S2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function d(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})},E2=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return d([u,h])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},jV=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),Ebe=function(e){b6(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var s={advanced:[n]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(jV),jbe=function(e){b6(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(Ebe),Ibe=function(e){b6(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(jV),Fbe=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new jbe(this.track)},e.prototype.torchFeature=function(){return new Ibe(this.track)},e}(),kbe=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,s),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,s){return S2(this,void 0,void 0,function(){var i,o;return E2(this,function(l){switch(l.label){case 0:return i=new e(t,r,s),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:l.sent(),l.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return S2(this,void 0,void 0,function(){return E2(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var s=t.mediaStream.getVideoTracks(),i=s.length,o=0;t.mediaStream.getVideoTracks().forEach(function(l){t.mediaStream.removeTrack(l),l.stop(),++o,o>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Fbe(this.getFirstTrackOrFail())},e}(),_be=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return S2(this,void 0,void 0,function(){return E2(this,function(s){return[2,kbe.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return S2(this,void 0,void 0,function(){var r,n;return E2(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=s.sent(),[2,new e(n)]}})})},e}(),fL=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function d(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})},mL=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return d([u,h])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Tbe=function(){function e(){}return e.failIfNotSupported=function(){return fL(this,void 0,void 0,function(){return mL(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return fL(this,void 0,void 0,function(){return mL(this,function(r){return[2,_be.create(t)]})})},e}(),Lbe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function d(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,d)}u((n=n.apply(e,t||[])).next())})},Pbe=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return d([u,h])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Dbe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=d0.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=d0.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Lbe(this,void 0,void 0,function(){var t,r,n,s,i,o,l;return Pbe(this,function(d){switch(d.label){case 0:return t=function(u){for(var h=u.getVideoTracks(),m=0,y=h;m<y.length;m++){var p=y[m];p.enabled=!1,p.stop(),u.removeTrack(p)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=d.sent(),s=[],i=0,o=n;i<o.length;i++)l=o[i],l.kind==="videoinput"&&s.push({id:l.deviceId,label:l.label});return t(r),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(i){for(var o=[],l=0,d=i;l<d.length;l++){var u=d[l];u.kind==="video"&&o.push({id:u.id,label:u.label})}t(o)},s=MediaStreamTrack;s.getSources(n)})},e}(),Es;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Es||(Es={}));var Obe=function(){function e(){this.state=Es.NOT_STARTED,this.onGoingTransactionNewState=Es.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Es.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Es.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Es.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Es.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Es.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Es.UNKNOWN:throw"Transition from unknown is not allowed";case Es.NOT_STARTED:this.failIfNewStateIs(t,[Es.PAUSED]);break;case Es.SCANNING:break;case Es.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,s=r;n<s.length;n++){var i=s[n];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Rbe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Es.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Es.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Es.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Es.PAUSED},e}(),Mbe=function(){function e(){}return e.create=function(){return new Rbe(new Obe)},e}(),Ube=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yo=function(e){Ube(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ybe),Qbe=function(){function e(t,r){this.logger=r,this.fps=yo.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=yo.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?EV.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!pd(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Hbe=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new vbe(this.verbose),this.qrcode=new Sbe(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Mbe.create()}return e.prototype.start=function(t,r,n,s){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;s?o=s:o=this.verbose?this.logger.log:function(){};var l=Qbe.create(r,this.logger);this.clearElement();var d=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=d,h=document.getElementById(this.elementId);h.clientWidth?h.clientWidth:yo.DEFAULT_WIDTH,h.style.position="relative",this.shouldScan=!0,this.element=h;var m=this,y=this.stateManagerProxy.startTransition(Es.SCANNING);return new Promise(function(p,b){var N=u?l.videoConstraints:m.createVideoConstraints(t);if(!N){y.cancel(),b("videoConstraints should be defined");return}var S={};(!u||l.aspectRatio)&&(S.aspectRatio=l.aspectRatio);var w={onRenderSurfaceReady:function(B,I){m.setupUi(B,I,l),m.isScanning=!0,m.foreverScan(l,n,o)}};Tbe.failIfNotSupported().then(function(B){B.create(N).then(function(I){return I.render(i.element,S,w).then(function(_){m.renderedCamera=_,y.execute(),p(null)}).catch(function(_){y.cancel(),b(_)})}).catch(function(I){y.cancel(),b(d0.errorGettingUserMedia(I))})}).catch(function(B){y.cancel(),b(d0.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Es.PAUSED),this.showPausedState(),(pd(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Es.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Es.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var i=document.getElementById(yo.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),n(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),r.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(pd(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var l=o.width,d=o.height,u=document.getElementById(n.elementId),h=u.clientWidth?u.clientWidth:yo.DEFAULT_WIDTH,m=Math.max(u.clientHeight?u.clientHeight:d,yo.FILE_SCAN_MIN_HEIGHT),y=n.computeCanvasDrawConfig(l,d,h,m);if(r){var p=n.createCanvasElement(h,m,"qr-canvas-visible");p.style.display="inline-block",u.appendChild(p);var b=p.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=h,b.canvas.height=m,b.drawImage(o,0,0,l,d,y.x,y.y,y.width,y.height)}var N=yo.FILE_SCAN_HIDDEN_CANVAS_PADDING,S=Math.max(o.width,y.width),w=Math.max(o.height,y.height),B=S+2*N,I=w+2*N,_=n.createCanvasElement(B,I);u.appendChild(_);var P=_.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=B,P.canvas.height=I,P.drawImage(o,0,0,l,d,N,N,S,w);try{n.qrcode.decodeRobustlyAsync(_).then(function(H){s(cL.createFromQrcodeResult(H))}).catch(i)}catch(H){i("QR code parse error, error = ".concat(H))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Dbe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!EV.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ot.QR_CODE,Ot.AZTEC,Ot.CODABAR,Ot.CODE_39,Ot.CODE_93,Ot.CODE_128,Ot.DATA_MATRIX,Ot.MAXICODE,Ot.ITF,Ot.EAN_13,Ot.EAN_8,Ot.PDF_417,Ot.RSS_14,Ot.RSS_EXPANDED,Ot.UPC_A,Ot.UPC_E,Ot.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],s=0,i=t.formatsToSupport;s<i.length;s++){var o=i[s];xbe(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(pd(t))return!0;if(!pd(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(pd(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return pd(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var s=this,i=n.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,r,i),l=function(u){if(u<yo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(yo.MIN_QR_BOX_SIZE,"px.")},d=function(u){return u>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};l(o.width),l(o.height),o.width=d(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var s=pd(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(s);var i=this.toQrdimensions(t,r,s);i.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&i.height<=r,l={x:0,y:0,width:t,height:r},d=o?this.getShadedRegionBounds(t,r,i):l,u=this.createCanvasElement(d.width,d.height),h={willReadFrequently:!0},m=u.getContext("2d",h);m.canvas.width=d.width,m.canvas.height=d.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,t,r,i),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=m,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=d0.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,cL.createFromQrcodeResult(s)),n.possiblyUpdateShaders(!0),!0}).catch(function(s){n.possiblyUpdateShaders(!1);var i=d0.codeParseError(s);return r(i,wbe.createFrom(i)),!1})},e.prototype.foreverScan=function(t,r,n){var s=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,l=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*o,u=this.qrRegion.height*l,h=this.qrRegion.x*o,m=this.qrRegion.y*l;this.context.drawImage(i,h,m,d,u,0,0,this.qrRegion.width,this.qrRegion.height);var y=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,r,n)},s.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(p){!p&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(r,n).finally(function(){y()})):y()}).catch(function(p){s.logger.logError("Error happend while scanning context",p),y()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",s={user:!0,environment:!0},i="exact",o=function(b){if(b in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(b,"'")},l=Object.keys(t);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var d=Object.keys(t)[0];if(d!==r&&d!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var u=t.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(i in u){if(o(u["".concat(i)]))return{facingMode:{exact:u["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var h=typeof u;throw"Invalid type of 'facingMode' = ".concat(h)}}else{var m=t.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(i in m)return{deviceId:{exact:m["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var y=typeof m;throw"Invalid type of 'deviceId' = ".concat(y)}}}var p=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(p)},e.prototype.computeCanvasDrawConfig=function(t,r,n,s){if(t<=n&&r<=s){var i=(n-t)/2,o=(s-r)/2;return{x:i,y:o,width:t,height:r}}else{var l=t,d=r;return t>n&&(r=n/t*r,t=n),r>s&&(t=s/r*t,r=s),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(d)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?yo.BORDER_SHADER_MATCH_COLOR:yo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var s=t,i=r,o=document.createElement("canvas");return o.style.width="".concat(s,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=pd(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,s){if(!(r-s.width<1||n-s.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(r-s.width)/2,l=(n-s.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(yo.SHADED_REGION_ELEMENT_ID),r-s.width<11||n-s.height<11)this.hasBorderShaders=!1;else{var d=5,u=40;this.insertShaderBorders(i,u,d,-d,null,0,!0),this.insertShaderBorders(i,u,d,-d,null,0,!1),this.insertShaderBorders(i,u,d,null,-d,0,!0),this.insertShaderBorders(i,u,d,null,-d,0,!1),this.insertShaderBorders(i,d,u+d,-d,null,-d,!0),this.insertShaderBorders(i,d,u+d,null,-d,-d,!0),this.insertShaderBorders(i,d,u+d,-d,null,-d,!1),this.insertShaderBorders(i,d,u+d,null,-d,-d,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,r,n,s,i,o,l){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=yo.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(n,"px"),s!==null&&(d.style.top="".concat(s,"px")),i!==null&&(d.style.bottom="".concat(i,"px")),l?d.style.left="".concat(o,"px"):d.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),t.appendChild(d)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),pL;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(pL||(pL={}));const Vbe=({onScanSuccess:e,onClose:t,isOpen:r})=>{const n=C.useRef(null),[s,i]=C.useState(!1),[o,l]=C.useState(null),[d,u]=C.useState(null),[h,m]=C.useState([]),[y,p]=C.useState(!1),[b,N]=C.useState("environment"),S=C.useRef("qr-reader-"+Math.random().toString(36).substring(2)),w=C.useRef(!1),B=typeof window.cordova<"u",I=async()=>{var M,V;if(!B)return!0;try{const J=(V=(M=window.cordova)==null?void 0:M.plugins)==null?void 0:V.permissions;if(!J)return!0;const Z=J.CAMERA||"android.permission.CAMERA";return await new Promise(ee=>{typeof J.hasPermission=="function"?J.hasPermission(Z,q=>{q&&q.hasPermission?ee(!0):J.requestPermission(Z,X=>ee(!!(X&&X.hasPermission)),()=>ee(!1))},()=>{J.requestPermission(Z,q=>ee(!!(q&&q.hasPermission)),()=>ee(!1))}):typeof J.checkPermission=="function"?J.checkPermission(Z,q=>{q&&q.hasPermission?ee(!0):J.requestPermission(Z,X=>ee(!!(X&&X.hasPermission)),()=>ee(!1))},()=>{J.requestPermission(Z,q=>ee(!!(q&&q.hasPermission)),()=>ee(!1))}):ee(!0)})}catch(J){return console.warn("requestCameraPermission failed, allowing fallback:",J),!0}},_=async()=>{if(!await I()){l("Camera permission is required to scan QR codes. Please allow it when prompted or enable it in Settings.");return}try{window.cordova.plugins.barcodeScanner.scan(V=>{V.cancelled||e(V.text),t()},V=>{console.error("Cordova scan failed:",V),l("Scanning failed: "+((V==null?void 0:V.message)||V))},{showTorchButton:!0,prompt:"Place a QR code inside the scan area",orientation:"portrait"})}catch(V){console.error("startCordovaScanner error:",V),l("Failed to start native scanner.")}},P=async()=>{try{const V=(await navigator.mediaDevices.enumerateDevices()).filter(J=>J.kind==="videoinput");return m(V),V}catch(M){return console.error("Error getting cameras:",M),l("Could not access camera devices."),[]}},H=async(M,V)=>{try{if(w.current)return;if(w.current=!0,l(null),i(!0),!await I()){i(!1),w.current=!1,l("Camera permission denied. Please grant camera access in app settings.");return}if(n.current){try{await n.current.stop()}catch{}try{await n.current.clear()}catch{}n.current=null}const Z=document.getElementById(S.current);Z&&(Z.innerHTML="");let ee=0;for(;!document.getElementById(S.current)&&ee<5;)await new Promise(requestAnimationFrame),ee++;const q=new Hbe(S.current);n.current=q;const X={fps:10,qrbox:{width:250,height:250},aspectRatio:1};await q.start(V?{facingMode:V}:M||{facingMode:b},X,Y=>{console.log("Barcode scanned:",Y),e(Y)},Y=>{const K=typeof Y=="string"?Y:Y&&Y.message?Y.message:"";K&&!K.includes("No QR code found")&&console.warn("QR Code scan error:",Y)}),p(!0),i(!1),w.current=!1}catch(J){console.error("Scanner error:",J),l(J.message||"Failed to start camera"),i(!1),p(!1),w.current=!1}},D=async()=>{try{if(n.current){try{await n.current.stop()}catch{}try{await n.current.clear()}catch{}n.current=null}p(!1)}catch(M){console.error("Error stopping scanner:",M)}},L=async()=>{w.current||(y?await D():await H(d||void 0))},T=async()=>{if(!h.length||w.current)return;const V=(h.findIndex(Z=>Z.deviceId===d)+1)%h.length,J=h[V].deviceId;u(J),await H(J)},z=async()=>{if(w.current)return;const M=b==="environment"?"user":"environment";N(M),u(null),await H(void 0,M)};return C.useEffect(()=>(r&&(B?(async()=>{if(!await I()){l("Camera permission is required to scan QR codes.");return}_()})():(async()=>{if(!await I()){l("Camera permission is required to scan QR codes.");return}const V=await P();V.length>0?(u(V[0].deviceId),await H(V[0].deviceId)):l("No cameras found on this device.")})()),()=>{B||D()}),[r]),!r||B?null:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(Gee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Scan Library Barcode"]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(eo,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[o?a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 flex-1 flex flex-col items-center justify-center",children:[a.jsx(ji,{className:"w-12 h-12 text-red-500 mb-3"}),a.jsx("p",{className:"text-red-700 text-center mb-4",children:o}),a.jsxs("button",{onClick:()=>{l(null),H(d||void 0)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[a.jsx(fI,{className:"w-4 h-4 mr-2"}),"Try Again"]})]}):a.jsxs("div",{className:"relative flex-1 bg-black rounded-lg overflow-hidden",children:[a.jsx("div",{id:S.current,className:"w-full h-full",style:{minHeight:"300px"}}),s&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-500 mr-2"}),a.jsx("span",{children:"Initializing camera..."})]})})]}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Position the library's barcode within the scanning area"}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx("button",{onClick:L,className:"p-3 bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors",title:y?"Turn off camera":"Turn on camera",children:y?a.jsx(ate,{className:"w-6 h-6"}):a.jsx(ite,{className:"w-6 h-6"})}),a.jsx("button",{onClick:z,className:"p-3 bg-indigo-100 text-indigo-700 rounded-full hover:bg-indigo-200 transition-colors",title:`Flip to ${b==="environment"?"front":"back"} camera`,children:a.jsx(jN,{className:"w-6 h-6"})}),h.length>1&&a.jsx("button",{onClick:T,className:"p-3 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",title:"Switch camera",children:a.jsx(fI,{className:"w-6 h-6"})})]})]})]}),a.jsx("div",{className:"p-4 border-t bg-gray-50",children:a.jsx("button",{onClick:t,className:"w-full px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close Scanner"})})]})})},Kbe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0);C.useEffect(()=>{(async()=>{try{n(!0);const o=await Re.getAnnouncements();t(o)}catch(o){console.error("Error fetching announcements:",o),Se.error("Failed to load announcements")}finally{n(!1)}})()},[]);const s=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?a.jsx("div",{className:"flex justify-center items-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx(tf,{className:"h-6 w-6 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Announcements"})]}),e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(tf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No announcements"}),a.jsx("p",{className:"text-gray-500",children:"No announcements available at the moment."})]}):a.jsx("div",{className:"space-y-4",children:e.map(i=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"mb-3",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title})}),a.jsx("div",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:i.content}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ii,{className:"h-4 w-4"}),a.jsxs("span",{children:["By ",i.created_by_name]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(us,{className:"h-4 w-4"}),a.jsx("span",{children:s(i.created_at)})]}),a.jsx("div",{className:"flex items-center space-x-1",children:i.is_global?a.jsxs(a.Fragment,{children:[a.jsx(fv,{className:"h-4 w-4"}),a.jsx("span",{children:"Global"})]}):a.jsxs(a.Fragment,{children:[a.jsx(jo,{className:"h-4 w-4"}),a.jsx("span",{children:"Branch Specific"})]})}),(i.start_date||i.end_date)&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ji,{className:"h-4 w-4"}),a.jsxs("span",{children:[i.start_date&&`From ${s(i.start_date)}`,i.start_date&&i.end_date&&" ",i.end_date&&`Until ${s(i.end_date)}`]})]})]})]},i.id))})]})},zbe=e=>{switch(e){case"Approved":return"bg-green-100 text-green-800";case"Not Approved":return"bg-red-100 text-red-800";case"Done":return"bg-blue-100 text-blue-800";case"Not Done":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},IV=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(null),o=Ur();return C.useEffect(()=>{(async()=>{try{n(!0);const u=(await Re.getQueries()).sort((h,m)=>m.upvotes-h.upvotes);t(u)}catch(d){i("Failed to load queries"),console.error("Error fetching queries:",d)}finally{n(!1)}})()},[]),r?a.jsx("div",{className:"p-6 text-center",children:"Loading..."}):s?a.jsx("div",{className:"p-6 text-center text-red-500",children:s}):a.jsx("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Public Queries"}),a.jsx("button",{onClick:()=>o("/queries/new"),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-indigo-700 transition-colors",children:"Ask a Question"})]}),a.jsx("div",{className:"space-y-4",children:e.map(l=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer hover:shadow-md transition-shadow border border-gray-200",onClick:()=>o(`/queries/${l.id}`),children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:l.title}),a.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${zbe(l.status)}`,children:l.status})]}),a.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Posted by ",a.jsx("span",{className:"font-medium text-gray-700",children:l.studentName})," on ",new Date(l.createdAt).toLocaleDateString()]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:l.description}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 pt-3 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(QS,{className:"w-4 h-4 text-green-500"}),l.upvotes]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(US,{className:"w-4 h-4 text-red-500"}),l.downvotes]})]}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(l.updatedAt).toLocaleDateString()!==new Date(l.createdAt).toLocaleDateString()?`Updated on ${new Date(l.updatedAt).toLocaleDateString()}`:""})]})]},l.id))})]})})},Wbe=()=>{const e=Ur(),[t,r]=C.useState(null),[n,s]=C.useState(!0),[i,o]=C.useState(!1),[l,d]=C.useState([]),[u,h]=C.useState([]),[m,y]=C.useState([]),[p,b]=C.useState([]),[N,S]=C.useState("overview"),[w,B]=C.useState("monthly"),[I,_]=C.useState(new Date),[P,H]=C.useState(!1),[D,L]=C.useState(null);C.useState(!1);const T=async()=>{try{const K=await Re.getAttendanceStatus();L(K)}catch(K){console.error("Error fetching attendance status:",K),ar.error("Failed to load attendance status")}},z=C.useCallback(async()=>{if(t){H(!0);try{const K={view:w};w==="monthly"?(K.month=I.getMonth()+1,K.year=I.getFullYear()):K.date=I.toISOString().split("T")[0],console.log("Fetching attendance with params:",K);const ce=await Re.getStudentAttendanceHistory(K);d(ce.attendance||[])}catch(K){ar.error("Failed to fetch attendance records."),console.error("Error fetching attendance data:",K)}finally{H(!1)}}},[t,w,I]);C.useEffect(()=>{(async()=>{try{s(!0);const[ce,oe,Q]=await Promise.all([Re.getStudentProfile(),Re.getStudentMembershipHistory(),Re.getStudentTransactions()]);ce&&ce.student&&r(ce.student),oe&&(oe.membershipHistory&&h(oe.membershipHistory),oe.monthlySummary&&y(oe.monthlySummary)),Q&&Q.transactions&&b(Q.transactions),await T()}catch(ce){ar.error("Failed to load student data."),console.error("Error fetching student data:",ce)}finally{s(!1)}})()},[]),C.useEffect(()=>{N==="attendance"&&t&&z()},[N,t,z]);const M=async K=>{o(!1);try{const ce=await Re.markAttendanceWithQR(K);ce&&ce.message&&(ar.success(ce.message),await z())}catch(ce){ar.error("Failed to mark attendance."),console.error("Error marking attendance with QR:",ce)}},V=async()=>{try{await ia("/student-auth/logout",{method:"POST"}),e("/student-login")}catch(K){console.error("Logout error:",K),e("/student-login")}},J=K=>{switch(K.toLowerCase()){case"active":case"paid":return"text-green-600 bg-green-100";case"expired":return"text-red-600 bg-red-100";case"inactive":return"text-gray-600 bg-gray-100";default:return"text-yellow-600 bg-yellow-100"}},Z=K=>{switch(K.toLowerCase()){case"active":return a.jsx(Sc,{className:"w-4 h-4"});case"expired":return a.jsx(pA,{className:"w-4 h-4"});default:return a.jsx(ji,{className:"w-4 h-4"})}},ee=K=>{const ce=typeof K=="string"?parseFloat(K):K;return ce==null||isNaN(ce)?"₹0.00":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(ce)},q=K=>{if(!K)return"N/A";const ce=new Date(K);return isNaN(ce.getTime())?"Invalid Date":ce.toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})},X=K=>{const ce=new Date(K),oe=new Date,Q=ce.getTime()-oe.getTime(),G=Math.ceil(Q/(1e3*60*60*24));return G<=30&&G>0},Y=K=>new Date(K)<new Date;return n?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 text-center",children:"Loading your dashboard..."})]})}):t?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 py-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:a.jsx(ii,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Dashboard"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome back, ",t.name,"!"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 overflow-x-auto whitespace-nowrap w-full sm:w-auto",children:[a.jsx(VC,{studentId:t.id,studentName:t.name,className:"mr-2 shrink-0",id:"invoice",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Student Details"}),a.jsxs("p",{className:"text-gray-600",children:["Generated on: ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",t.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",t.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",t.phone]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Registration #:"})," ",t.registrationNumber]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Membership Status"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${t.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Start Date:"})," ",new Date(t.membershipStart).toLocaleDateString()]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"End Date:"})," ",new Date(t.membershipEnd).toLocaleDateString()]})]})]})]}),l.length>0&&a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Attendance"}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First In"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Out"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.slice(0,5).map(K=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(K.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.firstIn?new Date(K.firstIn).toLocaleTimeString():"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.lastOut?new Date(K.lastOut).toLocaleTimeString():"N/A"})]},K.id))})]})})]}),a.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:a.jsx("p",{children:"This is an auto-generated report. For any discrepancies, please contact support."})})]})}),a.jsxs("button",{onClick:V,className:"shrink-0 flex items-center space-x-2 bg-red-100 text-red-700 px-3 py-2 sm:px-4 rounded-lg hover:bg-red-200 transition-colors text-sm",children:[a.jsx(PS,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.membershipEnd&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg border ${Y(t.membershipEnd)?"bg-red-50 border-red-200 text-red-800":X(t.membershipEnd)?"bg-yellow-50 border-yellow-200 text-yellow-800":"bg-green-50 border-green-200 text-green-800"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[Y(t.membershipEnd)?a.jsx(pA,{className:"w-5 h-5"}):X(t.membershipEnd)?a.jsx(ji,{className:"w-5 h-5"}):a.jsx(Sc,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:Y(t.membershipEnd)?"Membership Expired":X(t.membershipEnd)?"Membership Expiring Soon":"Membership Active"})]}),a.jsx("p",{className:"mt-1 text-sm",children:Y(t.membershipEnd)?`Your membership expired on ${q(t.membershipEnd)}. Please renew to continue library services.`:X(t.membershipEnd)?`Your membership expires on ${q(t.membershipEnd)}. Please renew soon.`:`Your membership is active until ${q(t.membershipEnd)}.`})]}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[a.jsx(Fd,{className:"w-5 h-5"}),a.jsx("span",{children:"Scan QR Code"})]}),a.jsxs("button",{onClick:()=>S("attendance"),className:"flex items-center space-x-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[a.jsx(Zn,{className:"w-5 h-5"}),a.jsx("span",{children:"View Attendance"})]}),a.jsxs("button",{onClick:()=>S("membership"),className:"flex items-center space-x-2 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors shadow-sm",children:[a.jsx($m,{className:"w-5 h-5"}),a.jsx("span",{children:"Membership History"})]})]})]})}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto whitespace-nowrap px-1",children:[{id:"overview",label:"Overview",icon:ii},{id:"attendance",label:"Attendance",icon:Zn},{id:"membership",label:"Membership History",icon:$m},{id:"announcements",label:"Announcements",icon:tf},{id:"queries",label:"Public Queries",icon:qee}].map(({id:K,label:ce,icon:oe})=>a.jsxs("button",{onClick:()=>S(K),className:`shrink-0 flex items-center gap-2 py-3 px-2 sm:px-1 border-b-2 font-medium text-sm ${N===K?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(oe,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:ce})]},K))})})}),N==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(ii,{className:"w-5 h-5"}),a.jsx("span",{children:"Profile Information"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ii,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.name})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(di,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone Number"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.phone})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Gl,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.email})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(TS,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Registration Number"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.registrationNumber})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(jo,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.address})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[Z(t.status),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(t.status)}`,children:t.status})]})]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(us,{className:"w-5 h-5"}),a.jsx("span",{children:"Current Membership"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Membership Start Date"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:q(t.membershipStart)})]})}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Membership End Date"}),a.jsx("p",{className:`text-2xl font-bold ${Y(t.membershipEnd)?"text-red-600":X(t.membershipEnd)?"text-yellow-600":"text-green-600"}`,children:q(t.membershipEnd)})]})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kw,{className:"w-5 h-5"}),a.jsx("span",{children:"Invoices"})]}),a.jsx(VC,{studentId:t.id,studentName:t.name,className:"text-sm",variant:"text"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:'View and download your membership invoices. Click the "Download Invoice" button above to get the latest invoice.'}),u.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Invoices"}),a.jsx("ul",{className:"divide-y divide-gray-200",children:u.slice(0,3).map((K,ce)=>a.jsxs("li",{className:"py-3 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[q(K.membershipStart)," - ",q(K.membershipEnd)]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[ee(K.amountPaid)," paid • ",q(K.changed_at)]})]}),a.jsx(VC,{studentId:t.id,studentName:t.name,className:"text-xs",variant:"text"})]},ce))}),u.length>3&&a.jsx("button",{onClick:()=>S("membership"),className:"mt-2 text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"View all invoices"})]})]})})]})]}),N==="attendance"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(Zn,{className:"w-5 h-5"}),a.jsx("span",{children:"Today's Status"})]})}),a.jsx("div",{className:"p-6",children:D?a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-3 h-3 rounded-full animate-pulse ${D.currentStatus==="checked_in"?"bg-green-500":"bg-gray-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:D.currentStatus==="checked_in"?"Currently Checked In":"Currently Checked Out"}),a.jsx("p",{className:"text-sm text-gray-500",children:D.hasMarkedToday?`First check-in today at ${D.firstIn?new Date(D.firstIn).toLocaleTimeString("en-IN"):"N/A"}`:"No attendance recorded yet today."})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Next Action"}),a.jsxs("p",{className:"text-lg font-semibold text-blue-600 capitalize",children:["Scan to Check ",D.nextAction]})]})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{children:"Loading today's status..."})})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx($m,{className:"w-5 h-5"}),a.jsx("span",{children:"Attendance History"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center bg-gray-200 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>B("daily"),className:`px-3 py-1 text-sm font-medium rounded-md ${w==="daily"?"bg-white text-gray-800 shadow-sm":"bg-transparent text-gray-600"}`,children:"Daily"}),a.jsx("button",{onClick:()=>B("monthly"),className:`px-3 py-1 text-sm font-medium rounded-md ${w==="monthly"?"bg-white text-gray-800 shadow-sm":"bg-transparent text-gray-600"}`,children:"Monthly"})]}),w==="daily"&&a.jsx("input",{type:"date",value:I.toISOString().split("T")[0],onChange:K=>_(new Date(K.target.value)),className:"p-1.5 border border-gray-300 rounded-lg text-sm"}),w==="monthly"&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>_(K=>new Date(K.getFullYear(),K.getMonth()-1,1)),className:"p-2 rounded-l-lg bg-gray-200 hover:bg-gray-300",children:a.jsx(QA,{className:"w-4 h-4"})}),a.jsx("input",{type:"month",value:`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}`,onChange:K=>_(new Date(K.target.value)),className:"p-1.5 border-t border-b border-gray-300 text-sm w-36 text-center"}),a.jsx("button",{onClick:()=>_(K=>new Date(K.getFullYear(),K.getMonth()+1,1)),className:"p-2 rounded-r-lg bg-gray-200 hover:bg-gray-300",children:a.jsx(gr,{className:"w-4 h-4"})})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:P?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First Check-in"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Check-out"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Hours"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.length>0?l.map(K=>{const ce=K.firstIn?new Date(K.firstIn):null,oe=K.lastOut?new Date(K.lastOut):null;let Q="—",G="Absent",te="bg-red-100 text-red-800";if(ce)if(oe){const se=oe.getTime()-ce.getTime();if(se>=0){const de=Math.floor(se/36e5),ge=Math.floor(se%36e5/6e4);Q=`${de}h ${ge}m`,G="Completed",te="bg-green-100 text-green-800"}else Q="Error",G="Error"}else Q="Ongoing",G="Present",te="bg-yellow-100 text-yellow-800";return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q(K.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${te}`,children:G})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ce?ce.toLocaleTimeString("en-IN"):"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe?oe.toLocaleTimeString("en-IN"):"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:Q})]},K.id)}):a.jsx("tr",{children:a.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(Zn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No attendance records found for this period."})]})})})]})})]})]}),N==="membership"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx($m,{className:"w-5 h-5"}),a.jsx("span",{children:"Membership History"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Complete payment and membership details"})]}),a.jsx("div",{className:"p-4 sm:p-6",children:u.length>0?a.jsx("div",{className:"space-y-6",children:u.map(K=>a.jsxs("div",{className:"border rounded-xl p-4 sm:p-6 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4",children:[a.jsx("div",{className:"mb-2 sm:mb-0",children:a.jsxs("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:[q(K.membershipStart)," - ",q(K.membershipEnd)]})}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${J(K.status)} self-start`,children:K.status})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(w0,{className:"w-4 h-4 text-blue-600"}),a.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Fee"})]}),a.jsx("p",{className:"text-xl font-bold text-blue-900",children:ee(K.totalFee)})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Sc,{className:"w-4 h-4 text-green-600"}),a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Total Paid"})]}),a.jsx("p",{className:"text-xl font-bold text-green-900",children:ee(K.amountPaid)})]}),a.jsxs("div",{className:`rounded-lg p-4 ${K.dueAmount>0?"bg-red-50":"bg-green-50"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(ji,{className:`w-4 h-4 ${K.dueAmount>0?"text-red-600":"text-green-600"}`}),a.jsx("p",{className:`text-sm font-medium ${K.dueAmount>0?"text-red-800":"text-green-800"}`,children:"Due Amount"})]}),a.jsx("p",{className:`text-xl font-bold ${K.dueAmount>0?"text-red-900":"text-green-900"}`,children:ee(K.dueAmount)})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Oy,{className:"w-4 h-4 text-purple-600"}),a.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Payment Status"})]}),a.jsx("p",{className:`text-sm font-semibold ${K.dueAmount>0?"text-red-600":"text-green-600"}`,children:K.dueAmount>0?"Pending":"Completed"})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center space-x-2",children:[a.jsx(w0,{className:"w-4 h-4"}),a.jsx("span",{children:"Payment Breakdown"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Cash Payment"})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ee(K.cash||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Online Payment"})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ee(K.online||0)})]})]})]}),(K.remark||K.shift_id||K.seat_id)&&a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center space-x-2",children:[a.jsx(Kw,{className:"w-4 h-4"}),a.jsx("span",{children:"Additional Details"})]}),a.jsxs("div",{className:"space-y-2",children:[K.shift_id&&a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500 w-20",children:"Shift ID:"}),a.jsx("span",{className:"text-sm text-gray-900",children:K.shift_id})]}),K.seat_id&&a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500 w-20",children:"Seat ID:"}),a.jsx("span",{className:"text-sm text-gray-900",children:K.seat_id})]}),K.remark&&a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500 w-20 flex-shrink-0",children:"Remark:"}),a.jsx("span",{className:"text-sm text-gray-900 mt-1 sm:mt-0",children:K.remark})]})]})]})]},K.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx($m,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-gray-500",children:"No membership history found"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your membership records will appear here"})]})})]}),N==="transactions"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(Oy,{className:"w-5 h-5"}),a.jsx("span",{children:"Transaction History"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length>0?p.map(K=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q(K.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K.type.toLowerCase()==="payment"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:K.type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:ee(K.amount)})]},K.id)):a.jsx("tr",{children:a.jsxs("td",{colSpan:3,className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(Oy,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No transactions found"})]})})})]})})]}),N==="announcements"&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:a.jsx("div",{className:"p-6",children:a.jsx(Kbe,{branchId:t==null?void 0:t.branchId})})}),N==="queries"&&a.jsx(IV,{})]}),i&&a.jsx(Vbe,{isOpen:i,onScanSuccess:M,onClose:()=>o(!1)})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[a.jsx(pA,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Could not load profile"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page or contact support."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})})},Gbe=()=>{const e=Ur();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-br from-blue-400 to-indigo-400 rounded-full opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-yellow-400 to-orange-400 rounded-full opacity-10 animate-spin",style:{animationDuration:"20s"}})]}),a.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:a.jsxs("div",{className:"max-w-7xl w-full",children:[a.jsx("div",{className:"lg:hidden mb-4 sm:mb-6",children:a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-5 text-center relative overflow-hidden mx-2 sm:mx-0",children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-center mb-3",children:[a.jsx("span",{className:"text-2xl sm:text-3xl mr-2 animate-bounce",children:"🪔"}),a.jsx("h3",{className:"text-lg sm:text-xl font-black text-white tracking-wide drop-shadow-lg",children:"Durga Puja Festival Offer"}),a.jsx("span",{className:"text-2xl sm:text-3xl ml-2 animate-bounce",children:"🎉"})]}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-orange-900 rounded-full px-4 py-2 font-black text-base sm:text-lg shadow-xl mb-3",children:a.jsx("span",{children:"UP TO 35% OFF"})}),a.jsx("p",{className:"text-white font-bold text-sm sm:text-base mb-3 drop-shadow-md",children:"Transform your library management this festive season"}),a.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-full px-4 py-2 font-black text-sm animate-pulse shadow-xl",children:"🕉️ LIMITED TIME OFFER - GRAB NOW! 🕉️"})]})]})}),a.jsx("div",{className:"hidden lg:block mb-8",children:a.jsx(Pg,{variant:"minimal",clickable:!1})}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-12 items-start justify-center",children:[a.jsxs("div",{className:"flex-1 w-full max-w-4xl mx-auto px-2 sm:px-4 lg:px-0",children:[a.jsx("div",{className:"text-center mb-8 sm:mb-12 lg:mb-16",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center mb-6 sm:mb-8",children:[a.jsxs("div",{className:"relative mb-4 sm:mb-0",children:[a.jsx(Kee,{className:"h-12 w-12 sm:h-14 sm:w-14 lg:h-16 lg:w-16 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text sm:mr-4 lg:mr-6",style:{WebkitBackgroundClip:"text"}}),a.jsx(nte,{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-yellow-400 animate-bounce"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent tracking-tight",children:"HAVENN"}),a.jsx("div",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-bold text-gray-700 mt-2 lg:mt-3",children:"Library Management System"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 max-w-5xl mx-auto mb-8 sm:mb-12 lg:mb-16",children:[a.jsxs(Mn,{className:"relative overflow-hidden bg-gradient-to-br from-white via-blue-50 to-purple-50 hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-blue-300 transform hover:scale-105",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 to-purple-600/10"}),a.jsxs(Da,{className:"text-center relative z-10",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full blur-lg opacity-30"}),a.jsx("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-full",children:a.jsx(ui,{className:"h-8 w-8 text-white"})})]})}),a.jsx(Oa,{className:"text-xl font-black bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"🏢 Library Owner / Staff"}),a.jsx(Mc,{className:"text-gray-700 font-medium text-sm",children:"Complete library ecosystem management with advanced analytics"})]}),a.jsxs(Fs,{className:"space-y-3 sm:space-y-4 relative z-10 p-4 sm:p-6",children:[a.jsx(Jt,{onClick:()=>e("/owner-login"),className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-blue-700 hover:from-blue-700 hover:via-purple-700 hover:to-blue-800 text-white font-bold py-3 sm:py-4 text-sm sm:text-base rounded-xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:"🚀 Owner Login"}),a.jsx(Jt,{onClick:()=>e("/owner-register"),variant:"outline",className:"w-full border-2 border-blue-600 text-blue-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 font-bold py-3 sm:py-4 text-sm sm:text-base rounded-xl transition-all duration-300 transform hover:scale-105",children:"✨ Register New Library"}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs sm:text-sm text-gray-600 font-medium",children:[a.jsx(zw,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600"}),a.jsx("span",{children:"Secure & Multi-tenant"})]})]})]}),a.jsxs(Mn,{className:"relative overflow-hidden bg-gradient-to-br from-white via-green-50 to-emerald-50 hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-green-300 transform hover:scale-105",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-600/10 to-emerald-600/10"}),a.jsxs(Da,{className:"text-center relative z-10",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600 to-emerald-600 rounded-full blur-lg opacity-30"}),a.jsx("div",{className:"relative bg-gradient-to-r from-green-600 to-emerald-600 p-3 rounded-full",children:a.jsx(WO,{className:"h-8 w-8 text-white"})})]})}),a.jsx(Oa,{className:"text-xl font-black bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"🎓 Student Access"}),a.jsx(Mc,{className:"text-gray-700 font-medium text-sm",children:"Smart attendance tracking and personalized dashboard"})]}),a.jsxs(Fs,{className:"space-y-3 sm:space-y-4 relative z-10 p-4 sm:p-6",children:[a.jsx(Jt,{onClick:()=>e("/student-login"),className:"w-full bg-gradient-to-r from-green-600 via-emerald-600 to-green-700 hover:from-green-700 hover:via-emerald-700 hover:to-green-800 text-white font-bold py-3 sm:py-4 text-sm sm:text-base rounded-xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:"🎯 Student Login"}),a.jsx("div",{className:"bg-gradient-to-r from-green-100 to-emerald-100 rounded-xl p-2 sm:p-3 text-center",children:a.jsx("div",{className:"text-xs sm:text-sm text-green-800 font-bold",children:"💡 Use library code + phone number"})}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs sm:text-sm text-gray-600 font-medium",children:[a.jsx(qO,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}),a.jsx("span",{children:"Instant Access"})]})]})]})]})]}),a.jsx("div",{className:"hidden lg:block lg:w-80 xl:w-96 order-first lg:order-last",children:a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 via-red-500 to-pink-500 rounded-3xl shadow-2xl p-8 text-center relative overflow-hidden sticky top-8 border-4 border-yellow-300 animate-pulse",children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 opacity-20 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-center mb-6",children:[a.jsx("span",{className:"text-4xl mr-3 animate-bounce",children:"🪔"}),a.jsx("h3",{className:"text-2xl font-black text-white tracking-wide drop-shadow-lg",children:"Durga Puja Festival"}),a.jsx("span",{className:"text-4xl ml-3 animate-bounce",children:"🎉"})]}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-orange-900 rounded-full px-6 py-4 font-black text-2xl shadow-xl mb-6 transform -rotate-1",children:a.jsx("span",{children:"UP TO 35% OFF"})}),a.jsx("p",{className:"text-white font-bold text-lg mb-8 drop-shadow-md leading-relaxed",children:"Transform your library management this festive season with our special pricing"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gradient-to-r from-yellow-300 to-orange-300 text-orange-900 rounded-2xl p-4 shadow-2xl border-2 border-yellow-400",children:[a.jsx("div",{className:"text-xl font-black mb-2",children:"🎯 SPECIAL FESTIVAL PRICING"}),a.jsx("div",{className:"text-sm font-bold",children:"Multiple plans available with huge discounts!"})]}),a.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-full px-6 py-4 font-black text-lg animate-bounce shadow-xl",children:"🕉️ LIMITED TIME OFFER - GRAB NOW! 🕉️"})]})]}),a.jsx("div",{className:"absolute top-4 left-4 text-yellow-300 opacity-80 animate-spin",style:{animationDuration:"3s"},children:a.jsx("span",{className:"text-3xl",children:"✨"})}),a.jsx("div",{className:"absolute top-4 right-4 text-yellow-300 opacity-80 animate-bounce",children:a.jsx("span",{className:"text-4xl",children:"🌟"})}),a.jsx("div",{className:"absolute bottom-4 left-4 text-yellow-300 opacity-80 animate-pulse",children:a.jsx("span",{className:"text-3xl",children:"🎊"})}),a.jsx("div",{className:"absolute bottom-4 right-4 text-yellow-300 opacity-80 animate-spin",style:{animationDuration:"2s"},children:a.jsx("span",{className:"text-3xl",children:"✨"})})]})})]})]})})]})},$be=()=>{const{isAuthenticated:e,isLoading:t,user:r}=Ys();if(t)return a.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:a.jsx("div",{className:"text-lg font-semibold text-gray-700",children:"Loading..."})});if(e){const n=(r==null?void 0:r.role)==="student"?"/student-dashboard":"/dashboard";return a.jsx(uS,{to:n,replace:!0})}return a.jsx(Gbe,{})},qbe=()=>{const e=Ur();Ys();const[t,r]=C.useState(null),[n,s]=C.useState(!0);C.useEffect(()=>{i()},[]);const i=async()=>{try{r({id:1,library_code:"MSL001",name:"MAA SARASWATI LIBRARY"})}catch(l){console.error("Error loading library data:",l),Se.error("Failed to load library information")}finally{s(!1)}},o=()=>{e("/")};return n?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading barcode..."})]})}):t?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:o,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(ml,{className:"w-5 h-5 mr-2"}),"Back to Dashboard"]})}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fd,{className:"w-6 h-6 text-purple-600 mr-2"}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Library Barcode"})]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-orange-400 px-6 py-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),a.jsxs("p",{className:"text-purple-100 mt-1",children:["Library Code: ",t.library_code]})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Student Attendance Barcode"}),a.jsx("p",{className:"text-gray-600",children:"Students can scan this barcode to mark their attendance automatically"})]}),a.jsx(y1,{libraryCode:t.library_code,libraryName:t.name,libraryId:t.id,isOpen:!0,onClose:()=>{}}),a.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Use This Barcode"}),a.jsxs("div",{className:"space-y-3 text-blue-800",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"1"}),a.jsx("p",{children:"Display this barcode prominently at your library entrance"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"2"}),a.jsx("p",{children:"Students can scan it using their phone camera or the scanner in their student account"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"3"}),a.jsx("p",{children:"Attendance will be marked automatically with in/out toggle functionality"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"4"}),a.jsx("p",{children:"Only students registered with your library can mark attendance using this barcode"})]})]})]}),a.jsx("div",{className:"mt-6 bg-amber-50 border border-amber-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Fd,{className:"h-5 w-5 text-amber-400"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Security Notice"}),a.jsx("div",{className:"mt-2 text-sm text-amber-700",children:a.jsx("p",{children:"This barcode is unique to your library and contains your library code. Students from other libraries cannot use this barcode to mark attendance. Each scan is verified against the student's registered library."})})]})]})})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Fd,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load library information"}),a.jsx("button",{onClick:o,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Go Back"})]})})},Xbe=()=>a.jsx("div",{className:"flex justify-center items-center w-full h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}),Ybe=({isAdmin:e,onAdd:t})=>a.jsxs("div",{className:"text-center bg-white rounded-xl shadow-sm border border-gray-200 p-12 mt-6",children:[a.jsx(tf,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Announcements Yet"}),a.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:e?"It's a bit quiet in here. Click 'New Announcement' to share updates with everyone.":"There are currently no announcements to display. Please check back later."}),e&&t&&a.jsxs("button",{onClick:t,className:"mt-6 flex items-center mx-auto space-x-2 bg-indigo-600 text-white px-5 py-2.5 rounded-lg hover:bg-indigo-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[a.jsx(FA,{className:"h-5 w-5"}),a.jsx("span",{children:"Create First Announcement"})]})]}),gL=({isAdmin:e=!1,branchId:t,onEdit:r,onAdd:n,viewMode:s="list"})=>{const[i,o]=C.useState([]),[l,d]=C.useState(!0),[u,h]=C.useState(null),m=async()=>{try{d(!0);const w=t&&!e?{branch_id:t}:{},I=(await Re.getAnnouncements(w)).map(_=>({id:_.id,title:_.title,content:_.content,branchId:_.branchId??_.branch_id??null,branchName:_.branchName??_.branch_name??null,isGlobal:_.isGlobal??_.is_global??!1,startDate:_.startDate??_.start_date??null,endDate:_.endDate??_.end_date??null,createdBy:_.createdBy??_.created_by??0,createdByName:_.createdByName??_.created_by_name??"",createdAt:_.createdAt??_.created_at??new Date().toISOString(),updatedAt:_.updatedAt??_.updated_at??new Date().toISOString(),isActive:_.isActive??_.is_active??!0}));o(I.sort((_,P)=>new Date(P.createdAt).getTime()-new Date(_.createdAt).getTime()))}catch(w){console.error("Error fetching announcements:",w),Se.error("Failed to load announcements. Please try again.")}finally{d(!1)}},y=async w=>{h(w);try{await Re.deleteAnnouncement(w),Se.success("Announcement deleted successfully"),o(B=>B.filter(I=>I.id!==w))}catch(B){console.error("Error deleting announcement:",B),Se.error("Failed to delete announcement.")}finally{h(null)}};C.useEffect(()=>{m()},[t]);const p=w=>w?new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):null;if(l)return a.jsx(Xbe,{});const b=s!=="list",N="rounded-xl border shadow-md transition-transform duration-200 ease-out transform-gpu will-change-transform ring-1 ring-white/20 hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.25deg] overflow-hidden text-white",S=w=>{if(w.isGlobal)return"bg-gradient-to-br from-indigo-500 to-violet-600 border-transparent";const B=w.id%3;return B===0?"bg-gradient-to-br from-emerald-500 to-teal-600 border-transparent":B===1?"bg-gradient-to-br from-amber-500 to-orange-600 border-transparent":"bg-gradient-to-br from-rose-500 to-red-600 border-transparent"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:e?"Manage Announcements":"Latest Updates"}),a.jsx("p",{className:"mt-1 text-md text-gray-500",children:"View, create, and manage all company-wide and branch-specific announcements."})]}),e&&n&&a.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[a.jsx(FA,{className:"h-5 w-5"}),a.jsx("span",{className:"hidden sm:block",children:"New Announcement"})]})]}),i.length===0?a.jsx(Ybe,{isAdmin:e,onAdd:n}):a.jsx("div",{className:b?"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"space-y-4",children:i.map(w=>a.jsxs("div",{className:`${N} ${S(w)} ${w.isActive?"":"opacity-90"}`,children:[a.jsxs("div",{className:`${s==="compact"?"p-3":"p-5"} border-b border-white/20 flex justify-between items-start gap-4`,children:[a.jsxs("div",{children:[a.jsx("h3",{className:`${s==="compact"?"text-lg":"text-xl"} font-bold text-white`,children:w.title}),!w.isActive&&a.jsx("span",{className:"text-xs font-medium bg-white/20 text-white px-2 py-0.5 rounded-full mt-2 inline-block border border-white/20",children:"Inactive"})]}),e&&a.jsxs("div",{className:"flex space-x-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>r&&r(w),className:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-md transition-colors",title:"Edit announcement",children:a.jsx(MS,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>y(w.id),disabled:u===w.id,className:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-md transition-colors disabled:opacity-50",title:"Delete announcement",children:u===w.id?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsx(Xs,{className:"h-5 w-5"})})]})]}),a.jsx("div",{className:`${s==="compact"?"p-3":"p-5"} text-white/95 text-base leading-relaxed whitespace-pre-wrap`,children:w.content}),a.jsxs("div",{className:`${s==="compact"?"px-3 py-3":"px-5 py-4"} bg-white/10 border-t border-white/20 flex flex-wrap items-center gap-x-6 gap-y-3 text-sm text-white/90`,children:[a.jsxs("div",{className:"flex items-center space-x-2",title:"Author",children:[a.jsx(ii,{className:"h-4 w-4"}),a.jsx("span",{children:w.createdByName})]}),a.jsxs("div",{className:"flex items-center space-x-2",title:`Published on ${p(w.createdAt)}`,children:[a.jsx(us,{className:"h-4 w-4"}),a.jsx("span",{children:p(w.createdAt)})]}),a.jsxs("div",{className:"flex items-center space-x-2",title:w.isGlobal?"Global Announcement":`Branch: ${w.branchName||"Unknown"}`,children:[w.isGlobal?a.jsx(fv,{className:"h-4 w-4 text-white"}):a.jsx(jo,{className:"h-4 w-4 text-white"}),a.jsx("span",{children:w.isGlobal?"Global":w.branchName?`Branch: ${w.branchName}`:"Branch Specific"})]}),(w.startDate||w.endDate)&&a.jsxs("div",{className:"flex items-center space-x-2",title:"Active Dates",children:[a.jsx(Zn,{className:"h-4 w-4 text-white"}),a.jsxs("span",{children:[p(w.startDate)," - ",p(w.endDate)||"Ongoing"]})]})]})]},w.id))})]})};var Zbe=Object.defineProperty,Jbe=(e,t,r)=>t in e?Zbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,KC=(e,t,r)=>(Jbe(e,typeof t!="symbol"?t+"":t,r),r);let e5e=class{constructor(){KC(this,"current",this.detect()),KC(this,"handoffState","pending"),KC(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Pc=new e5e;function eb(e){var t,r;return Pc.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function tb(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function tu(){let e=[],t={addEventListener(r,n,s,i){return r.addEventListener(n,s,i),t.add(()=>r.removeEventListener(n,s,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return tb(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=tu();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function C6(){let[e]=C.useState(tu);return C.useEffect(()=>()=>e.dispose(),[e]),e}let li=(e,t)=>{Pc.isServer?C.useEffect(e,t):C.useLayoutEffect(e,t)};function gf(e){let t=C.useRef(e);return li(()=>{t.current=e},[e]),t}let Un=function(e){let t=gf(e);return Je.useCallback((...r)=>t.current(...r),[t])},t5e=C.createContext(void 0);function r5e(){return C.useContext(t5e)}function nB(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Wd(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Wd),n}var j2=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(j2||{}),aA=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(aA||{});function pl(){let e=s5e();return C.useCallback(t=>n5e({mergeRefs:e,...t}),[e])}function n5e({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??a5e;let d=FV(t,e);if(i)return py(d,r,n,o,l);let u=s??0;if(u&2){let{static:h=!1,...m}=d;if(h)return py(m,r,n,o,l)}if(u&1){let{unmount:h=!0,...m}=d;return Wd(h?0:1,{0(){return null},1(){return py({...m,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return py(d,r,n,o,l)}function py(e,t={},r,n,s){let{as:i=r,children:o,refName:l="ref",...d}=zC(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},h=typeof o=="function"?o(t):o;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let m={};if(t){let y=!1,p=[];for(let[b,N]of Object.entries(t))typeof N=="boolean"&&(y=!0),N===!0&&p.push(b.replace(/([A-Z])/g,S=>`-${S.toLowerCase()}`));if(y){m["data-headlessui-state"]=p.join(" ");for(let b of p)m[`data-${b}`]=""}}if(i===C.Fragment&&(Object.keys(ih(d)).length>0||Object.keys(ih(m)).length>0))if(!C.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(ih(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ih(d)).concat(Object.keys(ih(m))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=h.props,p=y==null?void 0:y.className,b=typeof p=="function"?(...w)=>nB(p(...w),d.className):nB(p,d.className),N=b?{className:b}:{},S=FV(h.props,ih(zC(d,["ref"])));for(let w in m)w in S&&delete m[w];return C.cloneElement(h,Object.assign({},S,m,u,{ref:s(i5e(h),u.ref)},N))}return C.createElement(i,Object.assign({},zC(d,["ref"]),i!==C.Fragment&&u,i!==C.Fragment&&m),h)}function s5e(){let e=C.useRef([]),t=C.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function a5e(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function FV(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let n in r)Object.assign(t,{[n](s,...i){let o=r[n];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return t}function so(e){var t;return Object.assign(C.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ih(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function zC(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function i5e(e){return Je.version.split(".")[0]>="19"?e.props.ref:e.ref}let o5e="span";var I2=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(I2||{});function l5e(e,t){var r;let{features:n=1,...s}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return pl()({ourProps:i,theirProps:s,slot:{},defaultTag:o5e,name:"Hidden"})}let sB=so(l5e);function kV(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function CA(e){return kV(e)&&"tagName"in e}function cf(e){return CA(e)&&"accessKey"in e}function iA(e){return CA(e)&&"tabIndex"in e}function c5e(e){return CA(e)&&"style"in e}function d5e(e){return cf(e)&&e.nodeName==="IFRAME"}function u5e(e){return cf(e)&&e.nodeName==="INPUT"}let _V=Symbol();function A5e(e,t=!0){return Object.assign(e,{[_V]:t})}function zc(...e){let t=C.useRef(e);C.useEffect(()=>{t.current=e},[e]);let r=Un(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||(n==null?void 0:n[_V]))?void 0:r}let N6=C.createContext(null);N6.displayName="DescriptionContext";function TV(){let e=C.useContext(N6);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,TV),t}return e}function h5e(){let[e,t]=C.useState([]);return[e.length>0?e.join(" "):void 0,C.useMemo(()=>function(r){let n=Un(i=>(t(o=>[...o,i]),()=>t(o=>{let l=o.slice(),d=l.indexOf(i);return d!==-1&&l.splice(d,1),l}))),s=C.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Je.createElement(N6.Provider,{value:s},r.children)},[t])]}let f5e="p";function m5e(e,t){let r=C.useId(),n=r5e(),{id:s=`headlessui-description-${r}`,...i}=e,o=TV(),l=zc(t);li(()=>o.register(s),[s,o.register]);let d=n||!1,u=C.useMemo(()=>({...o.slot,disabled:d}),[o.slot,d]),h={ref:l,...o.props,id:s};return pl()({ourProps:h,theirProps:i,slot:u,defaultTag:f5e,name:o.name||"Description"})}let p5e=so(m5e),g5e=Object.assign(p5e,{});var LV=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(LV||{});let x5e=C.createContext(()=>{});function y5e({value:e,children:t}){return Je.createElement(x5e.Provider,{value:e},t)}let PV=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var w5e=Object.defineProperty,v5e=(e,t,r)=>t in e?w5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b5e=(e,t,r)=>(v5e(e,t+"",r),r),DV=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Zo=(e,t,r)=>(DV(e,t,"read from private field"),r?r.call(e):t.get(e)),WC=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},xL=(e,t,r,n)=>(DV(e,t,"write to private field"),t.set(e,r),r),Ac,Sp,Ep;let C5e=class{constructor(t){WC(this,Ac,{}),WC(this,Sp,new PV(()=>new Set)),WC(this,Ep,new Set),b5e(this,"disposables",tu()),xL(this,Ac,t),Pc.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Zo(this,Ac)}subscribe(t,r){if(Pc.isServer)return()=>{};let n={selector:t,callback:r,current:t(Zo(this,Ac))};return Zo(this,Ep).add(n),this.disposables.add(()=>{Zo(this,Ep).delete(n)})}on(t,r){return Pc.isServer?()=>{}:(Zo(this,Sp).get(t).add(r),this.disposables.add(()=>{Zo(this,Sp).get(t).delete(r)}))}send(t){let r=this.reduce(Zo(this,Ac),t);if(r!==Zo(this,Ac)){xL(this,Ac,r);for(let n of Zo(this,Ep)){let s=n.selector(Zo(this,Ac));OV(n.current,s)||(n.current=s,n.callback(s))}for(let n of Zo(this,Sp).get(t.type))n(Zo(this,Ac),t)}}};Ac=new WeakMap,Sp=new WeakMap,Ep=new WeakMap;function OV(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:GC(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:GC(e.entries(),t.entries()):yL(e)&&yL(t)?GC(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function GC(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function yL(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var N5e=Object.defineProperty,B5e=(e,t,r)=>t in e?N5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wL=(e,t,r)=>(B5e(e,typeof t!="symbol"?t+"":t,r),r),S5e=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(S5e||{});let E5e={0(e,t){let r=t.id,n=e.stack,s=e.stack.indexOf(r);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(r),n=i,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let s=e.stack.slice();return s.splice(n,1),{...e,stack:s}}},j5e=class RV extends C5e{constructor(){super(...arguments),wL(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),wL(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new RV({stack:[]})}reduce(t,r){return Wd(r.type,E5e,t,r)}};const MV=new PV(()=>j5e.new());var UV={exports:{}},QV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=C;function I5e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var F5e=typeof Object.is=="function"?Object.is:I5e,k5e=P1.useSyncExternalStore,_5e=P1.useRef,T5e=P1.useEffect,L5e=P1.useMemo,P5e=P1.useDebugValue;QV.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=_5e(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=L5e(function(){function d(p){if(!u){if(u=!0,h=p,p=n(p),s!==void 0&&o.hasValue){var b=o.value;if(s(b,p))return m=b}return m=p}if(b=m,F5e(h,p))return b;var N=n(p);return s!==void 0&&s(b,N)?(h=p,b):(h=p,m=N)}var u=!1,h,m,y=r===void 0?null:r;return[function(){return d(t())},y===null?void 0:function(){return d(y())}]},[t,r,n,s]);var l=k5e(e,i[0],i[1]);return T5e(function(){o.hasValue=!0,o.value=l},[l]),P5e(l),l};UV.exports=QV;var D5e=UV.exports;function HV(e,t,r=OV){return D5e.useSyncExternalStoreWithSelector(Un(n=>e.subscribe(O5e,n)),Un(()=>e.state),Un(()=>e.state),Un(t),r)}function O5e(e){return e}function D1(e,t){let r=C.useId(),n=MV.get(t),[s,i]=HV(n,C.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return li(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?i?s:!0:!1}let aB=new Map,tg=new Map;function vL(e){var t;let r=(t=tg.get(e))!=null?t:0;return tg.set(e,r+1),r!==0?()=>bL(e):(aB.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>bL(e))}function bL(e){var t;let r=(t=tg.get(e))!=null?t:1;if(r===1?tg.delete(e):tg.set(e,r-1),r!==1)return;let n=aB.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,aB.delete(e))}function R5e(e,{allowed:t,disallowed:r}={}){let n=D1(e,"inert-others");li(()=>{var s,i;if(!n)return;let o=tu();for(let d of(s=r==null?void 0:r())!=null?s:[])d&&o.add(vL(d));let l=(i=t==null?void 0:t())!=null?i:[];for(let d of l){if(!d)continue;let u=eb(d);if(!u)continue;let h=d.parentElement;for(;h&&h!==u.body;){for(let m of h.children)l.some(y=>m.contains(y))||o.add(vL(m));h=h.parentElement}}return o.dispose},[n,t,r])}function M5e(e,t,r){let n=gf(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&r()});C.useEffect(()=>{if(!e)return;let s=t===null?null:cf(t)?t:t.current;if(!s)return;let i=tu();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[t,n,e])}let F2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),U5e=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Cd=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Cd||{}),iB=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(iB||{}),Q5e=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Q5e||{});function H5e(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(F2)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function V5e(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(U5e)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var VV=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(VV||{});function K5e(e,t=0){var r;return e===((r=eb(e))==null?void 0:r.body)?!1:Wd(t,{0(){return e.matches(F2)},1(){let n=e;for(;n!==null;){if(n.matches(F2))return!0;n=n.parentElement}return!1}})}var z5e=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(z5e||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function _d(e){e==null||e.focus({preventScroll:!0})}let W5e=["textarea","input"].join(",");function G5e(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,W5e))!=null?r:!1}function $5e(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),i=t(n);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function rg(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?$5e(e):e:t&64?V5e(e):H5e(e);s.length>0&&o.length>1&&(o=o.filter(p=>!s.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===p:b===p))),n=n??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},h=0,m=o.length,y;do{if(h>=m||h+m<=0)return 0;let p=d+h;if(t&16)p=(p+m)%m;else{if(p<0)return 3;if(p>=m)return 1}y=o[p],y==null||y.focus(u),h+=l}while(y!==i.activeElement);return t&6&&G5e(y)&&y.select(),2}function KV(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function q5e(){return/Android/gi.test(window.navigator.userAgent)}function CL(){return KV()||q5e()}function gy(e,t,r,n){let s=gf(r);C.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[e,t,n])}function zV(e,t,r,n){let s=gf(r);C.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[e,t,n])}const NL=30;function X5e(e,t,r){let n=gf(r),s=C.useCallback(function(l,d){if(l.defaultPrevented)return;let u=d(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let h=function m(y){return typeof y=="function"?m(y()):Array.isArray(y)||y instanceof Set?y:[y]}(t);for(let m of h)if(m!==null&&(m.contains(u)||l.composed&&l.composedPath().includes(m)))return;return!K5e(u,VV.Loose)&&u.tabIndex!==-1&&l.preventDefault(),n.current(l,u)},[n,t]),i=C.useRef(null);gy(e,"pointerdown",l=>{var d,u;CL()||(i.current=((u=(d=l.composedPath)==null?void 0:d.call(l))==null?void 0:u[0])||l.target)},!0),gy(e,"pointerup",l=>{if(CL()||!i.current)return;let d=i.current;return i.current=null,s(l,()=>d)},!0);let o=C.useRef({x:0,y:0});gy(e,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),gy(e,"touchend",l=>{let d={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(d.x-o.current.x)>=NL||Math.abs(d.y-o.current.y)>=NL))return s(l,()=>iA(l.target)?l.target:null)},!0),zV(e,"blur",l=>s(l,()=>d5e(window.document.activeElement)?window.document.activeElement:null),!0)}function rb(...e){return C.useMemo(()=>eb(...e),[...e])}function WV(e,t,r,n){let s=gf(r);C.useEffect(()=>{e=e??window;function i(o){s.current(o)}return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)},[e,t,n])}function Y5e(e){return C.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Z5e(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...i){let o=t[s].call(r,...i);o&&(r=o,n.forEach(l=>l()))}}}function J5e(){let e;return{before({doc:t}){var r;let n=t.documentElement,s=(r=t.defaultView)!=null?r:window;e=Math.max(0,s.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,s=Math.max(0,n.clientWidth-n.offsetWidth),i=Math.max(0,e-s);r.style(n,"paddingRight",`${i}px`)}}}function eCe(){return KV()?{before({doc:e,d:t,meta:r}){function n(s){return r.containers.flatMap(i=>i()).some(i=>i.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=tu();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(iA(l.target))try{let d=l.target.closest("a");if(!d)return;let{hash:u}=new URL(d.href),h=e.querySelector(u);iA(h)&&!n(h)&&(o=h)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(iA(l.target)&&c5e(l.target))if(n(l.target)){let d=l.target;for(;d.parentElement&&n(d.parentElement);)d=d.parentElement;t.style(d,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(iA(l.target)){if(u5e(l.target))return;if(n(l.target)){let d=l.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let d=(l=window.scrollY)!=null?l:window.pageYOffset;i!==d&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function tCe(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function rCe(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let vh=Z5e(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:tu(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:rCe(r)},s=[eCe(),J5e(),tCe()];s.forEach(({before:i})=>i==null?void 0:i(n)),s.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});vh.subscribe(()=>{let e=vh.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&vh.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&vh.dispatch("TEARDOWN",r)}});function nCe(e,t,r=()=>({containers:[]})){let n=Y5e(vh),s=t?n.get(t):void 0,i=s?s.count>0:!1;return li(()=>{if(!(!t||!e))return vh.dispatch("PUSH",t,r),()=>vh.dispatch("POP",t,r)},[e,t]),i}function sCe(e,t,r=()=>[document.body]){let n=D1(e,"scroll-lock");nCe(n,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],r]}})}function aCe(e=0){let[t,r]=C.useState(e),n=C.useCallback(d=>r(d),[t]),s=C.useCallback(d=>r(u=>u|d),[t]),i=C.useCallback(d=>(t&d)===d,[t]),o=C.useCallback(d=>r(u=>u&~d),[r]),l=C.useCallback(d=>r(u=>u^d),[r]);return{flags:t,setFlag:n,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:l}}var iCe={},BL,SL;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((BL=process==null?void 0:iCe)==null?void 0:BL.NODE_ENV)==="test"&&typeof((SL=Element==null?void 0:Element.prototype)==null?void 0:SL.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var oCe=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(oCe||{});function lCe(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function cCe(e,t,r,n){let[s,i]=C.useState(r),{hasFlag:o,addFlag:l,removeFlag:d}=aCe(e&&s?3:0),u=C.useRef(!1),h=C.useRef(!1),m=C6();return li(()=>{var y;if(e){if(r&&i(!0),!t){r&&l(3);return}return(y=n==null?void 0:n.start)==null||y.call(n,r),dCe(t,{inFlight:u,prepare(){h.current?h.current=!1:h.current=u.current,u.current=!0,!h.current&&(r?(l(3),d(4)):(l(4),d(2)))},run(){h.current?r?(d(3),l(4)):(d(4),l(3)):r?d(1):l(1)},done(){var p;h.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,d(7),r||i(!1),(p=n==null?void 0:n.end)==null||p.call(n,r))}})}},[e,r,t,m]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function dCe(e,{prepare:t,run:r,done:n,inFlight:s}){let i=tu();return ACe(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{r(),i.requestAnimationFrame(()=>{i.add(uCe(e,n))})}),i.dispose}function uCe(e,t){var r,n;let s=tu();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(l=>l instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{i||t()}),s.dispose)}function ACe(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function B6(e,t){let r=C.useRef([]),n=Un(e);C.useEffect(()=>{let s=[...r.current];for(let[i,o]of t.entries())if(r.current[i]!==o){let l=n(t,s);return r.current=t,l}},[n,...t])}let nb=C.createContext(null);nb.displayName="OpenClosedContext";var Ol=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ol||{});function sb(){return C.useContext(nb)}function hCe({value:e,children:t}){return Je.createElement(nb.Provider,{value:e},t)}function fCe({children:e}){return Je.createElement(nb.Provider,{value:null},e)}function mCe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Mu=[];mCe(()=>{function e(t){if(!iA(t.target)||t.target===document.body||Mu[0]===t.target)return;let r=t.target;r=r.closest(F2),Mu.unshift(r??t.target),Mu=Mu.filter(n=>n!=null&&n.isConnected),Mu.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function GV(e){let t=Un(e),r=C.useRef(!1);C.useEffect(()=>(r.current=!1,()=>{r.current=!0,tb(()=>{r.current&&t()})}),[t])}function pCe(){let e=typeof document>"u";return"useSyncExternalStore"in V0?(t=>t.useSyncExternalStore)(V0)(()=>()=>{},()=>!1,()=>!e):!1}function O1(){let e=pCe(),[t,r]=C.useState(Pc.isHandoffComplete);return t&&Pc.isHandoffComplete===!1&&r(!1),C.useEffect(()=>{t!==!0&&r(!0)},[t]),C.useEffect(()=>Pc.handoff(),[]),e?!1:t}let $V=C.createContext(!1);function gCe(){return C.useContext($V)}function EL(e){return Je.createElement($V.Provider,{value:e.force},e.children)}function xCe(e){let t=gCe(),r=C.useContext(XV),[n,s]=C.useState(()=>{var i;if(!t&&r!==null)return(i=r.current)!=null?i:null;if(Pc.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return C.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),C.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),n}let qV=C.Fragment,yCe=so(function(e,t){let{ownerDocument:r=null,...n}=e,s=C.useRef(null),i=zc(A5e(p=>{s.current=p}),t),o=rb(s),l=r??o,d=xCe(l),[u]=C.useState(()=>{var p;return Pc.isServer?null:(p=l==null?void 0:l.createElement("div"))!=null?p:null}),h=C.useContext(oB),m=O1();li(()=>{!d||!u||d.contains(u)||(u.setAttribute("data-headlessui-portal",""),d.appendChild(u))},[d,u]),li(()=>{if(u&&h)return h.register(u)},[h,u]),GV(()=>{var p;!d||!u||(kV(u)&&d.contains(u)&&d.removeChild(u),d.childNodes.length<=0&&((p=d.parentElement)==null||p.removeChild(d)))});let y=pl();return m?!d||!u?null:MA.createPortal(y({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:qV,name:"Portal"}),u):null});function wCe(e,t){let r=zc(t),{enabled:n=!0,ownerDocument:s,...i}=e,o=pl();return n?Je.createElement(yCe,{...i,ownerDocument:s,ref:r}):o({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:qV,name:"Portal"})}let vCe=C.Fragment,XV=C.createContext(null);function bCe(e,t){let{target:r,...n}=e,s={ref:zc(t)},i=pl();return Je.createElement(XV.Provider,{value:r},i({ourProps:s,theirProps:n,defaultTag:vCe,name:"Popover.Group"}))}let oB=C.createContext(null);function CCe(){let e=C.useContext(oB),t=C.useRef([]),r=Un(i=>(t.current.push(i),e&&e.register(i),()=>n(i))),n=Un(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),s=C.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,C.useMemo(()=>function({children:i}){return Je.createElement(oB.Provider,{value:s},i)},[s])]}let NCe=so(wCe),YV=so(bCe),BCe=Object.assign(NCe,{Group:YV});function SCe(e,t=typeof document<"u"?document.defaultView:null,r){let n=D1(e,"escape");WV(t,"keydown",s=>{n&&(s.defaultPrevented||s.key===LV.Escape&&r(s))})}function ECe(){var e;let[t]=C.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=C.useState((e=t==null?void 0:t.matches)!=null?e:!1);return li(()=>{if(!t)return;function s(i){n(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),r}function jCe({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=rb(r),s=Un(()=>{var i,o;let l=[];for(let d of e)d!==null&&(CA(d)?l.push(d):"current"in d&&CA(d.current)&&l.push(d.current));if(t!=null&&t.current)for(let d of t.current)l.push(d);for(let d of(i=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?i:[])d!==document.body&&d!==document.head&&CA(d)&&d.id!=="headlessui-portal-root"&&(r&&(d.contains(r)||d.contains((o=r==null?void 0:r.getRootNode())==null?void 0:o.host))||l.some(u=>d.contains(u))||l.push(d));return l});return{resolveContainers:s,contains:Un(i=>s().some(o=>o.contains(i)))}}let ZV=C.createContext(null);function jL({children:e,node:t}){let[r,n]=C.useState(null),s=JV(t??r);return Je.createElement(ZV.Provider,{value:s},e,s===null&&Je.createElement(sB,{features:I2.Hidden,ref:i=>{var o,l;if(i){for(let d of(l=(o=eb(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(d!==document.body&&d!==document.head&&CA(d)&&d!=null&&d.contains(i)){n(d);break}}}}))}function JV(e=null){var t;return(t=C.useContext(ZV))!=null?t:e}function S6(){let e=C.useRef(!1);return li(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var jp=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(jp||{});function ICe(){let e=C.useRef(0);return zV(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function eK(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)CA(r.current)&&t.add(r.current);return t}let FCe="div";var ch=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ch||{});function kCe(e,t){let r=C.useRef(null),n=zc(r,t),{initialFocus:s,initialFocusFallback:i,containers:o,features:l=15,...d}=e;O1()||(l=0);let u=rb(r);PCe(l,{ownerDocument:u});let h=DCe(l,{ownerDocument:u,container:r,initialFocus:s,initialFocusFallback:i});OCe(l,{ownerDocument:u,container:r,containers:o,previousActiveElement:h});let m=ICe(),y=Un(B=>{if(!cf(r.current))return;let I=r.current;(_=>_())(()=>{Wd(m.current,{[jp.Forwards]:()=>{rg(I,Cd.First,{skipElements:[B.relatedTarget,i]})},[jp.Backwards]:()=>{rg(I,Cd.Last,{skipElements:[B.relatedTarget,i]})}})})}),p=D1(!!(l&2),"focus-trap#tab-lock"),b=C6(),N=C.useRef(!1),S={ref:n,onKeyDown(B){B.key=="Tab"&&(N.current=!0,b.requestAnimationFrame(()=>{N.current=!1}))},onBlur(B){if(!(l&4))return;let I=eK(o);cf(r.current)&&I.add(r.current);let _=B.relatedTarget;iA(_)&&_.dataset.headlessuiFocusGuard!=="true"&&(tK(I,_)||(N.current?rg(r.current,Wd(m.current,{[jp.Forwards]:()=>Cd.Next,[jp.Backwards]:()=>Cd.Previous})|Cd.WrapAround,{relativeTo:B.target}):iA(B.target)&&_d(B.target)))}},w=pl();return Je.createElement(Je.Fragment,null,p&&Je.createElement(sB,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:I2.Focusable}),w({ourProps:S,theirProps:d,defaultTag:FCe,name:"FocusTrap"}),p&&Je.createElement(sB,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:I2.Focusable}))}let _Ce=so(kCe),TCe=Object.assign(_Ce,{features:ch});function LCe(e=!0){let t=C.useRef(Mu.slice());return B6(([r],[n])=>{n===!0&&r===!1&&tb(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Mu.slice())},[e,Mu,t]),Un(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function PCe(e,{ownerDocument:t}){let r=!!(e&8),n=LCe(r);B6(()=>{r||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&_d(n())},[r]),GV(()=>{r&&_d(n())})}function DCe(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:s}){let i=C.useRef(null),o=D1(!!(e&1),"focus-trap#initial-focus"),l=S6();return B6(()=>{if(e===0)return;if(!o){s!=null&&s.current&&_d(s.current);return}let d=r.current;d&&tb(()=>{if(!l.current)return;let u=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===u){i.current=u;return}}else if(d.contains(u)){i.current=u;return}if(n!=null&&n.current)_d(n.current);else{if(e&16){if(rg(d,Cd.First|Cd.AutoFocus)!==iB.Error)return}else if(rg(d,Cd.First)!==iB.Error)return;if(s!=null&&s.current&&(_d(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[s,o,e]),i}function OCe(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:s}){let i=S6(),o=!!(e&4);WV(t==null?void 0:t.defaultView,"focus",l=>{if(!o||!i.current)return;let d=eK(n);cf(r.current)&&d.add(r.current);let u=s.current;if(!u)return;let h=l.target;cf(h)?tK(d,h)?(s.current=h,_d(h)):(l.preventDefault(),l.stopPropagation(),_d(u)):_d(s.current)},!0)}function tK(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function rK(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:sK)!==C.Fragment||Je.Children.count(e.children)===1}let ab=C.createContext(null);ab.displayName="TransitionContext";var RCe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(RCe||{});function MCe(){let e=C.useContext(ab);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function UCe(){let e=C.useContext(ib);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let ib=C.createContext(null);ib.displayName="NestingContext";function ob(e){return"children"in e?ob(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function nK(e,t){let r=gf(e),n=C.useRef([]),s=S6(),i=C6(),o=Un((p,b=aA.Hidden)=>{let N=n.current.findIndex(({el:S})=>S===p);N!==-1&&(Wd(b,{[aA.Unmount](){n.current.splice(N,1)},[aA.Hidden](){n.current[N].state="hidden"}}),i.microTask(()=>{var S;!ob(n)&&s.current&&((S=r.current)==null||S.call(r))}))}),l=Un(p=>{let b=n.current.find(({el:N})=>N===p);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:p,state:"visible"}),()=>o(p,aA.Unmount)}),d=C.useRef([]),u=C.useRef(Promise.resolve()),h=C.useRef({enter:[],leave:[]}),m=Un((p,b,N)=>{d.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([S])=>S!==p)),t==null||t.chains.current[b].push([p,new Promise(S=>{d.current.push(S)})]),t==null||t.chains.current[b].push([p,new Promise(S=>{Promise.all(h.current[b].map(([w,B])=>B)).then(()=>S())})]),b==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>N(b)):N(b)}),y=Un((p,b,N)=>{Promise.all(h.current[b].splice(0).map(([S,w])=>w)).then(()=>{var S;(S=d.current.shift())==null||S()}).then(()=>N(b))});return C.useMemo(()=>({children:n,register:l,unregister:o,onStart:m,onStop:y,wait:u,chains:h}),[l,o,n,m,y,h,u])}let sK=C.Fragment,aK=j2.RenderStrategy;function QCe(e,t){var r,n;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:l,afterLeave:d,enter:u,enterFrom:h,enterTo:m,entered:y,leave:p,leaveFrom:b,leaveTo:N,...S}=e,[w,B]=C.useState(null),I=C.useRef(null),_=rK(e),P=zc(..._?[I,t,B]:t===null?[]:[t]),H=(r=S.unmount)==null||r?aA.Unmount:aA.Hidden,{show:D,appear:L,initial:T}=MCe(),[z,M]=C.useState(D?"visible":"hidden"),V=UCe(),{register:J,unregister:Z}=V;li(()=>J(I),[J,I]),li(()=>{if(H===aA.Hidden&&I.current){if(D&&z!=="visible"){M("visible");return}return Wd(z,{hidden:()=>Z(I),visible:()=>J(I)})}},[z,I,J,Z,D,H]);let ee=O1();li(()=>{if(_&&ee&&z==="visible"&&I.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[I,z,ee,_]);let q=T&&!L,X=L&&D&&T,Y=C.useRef(!1),K=nK(()=>{Y.current||(M("hidden"),Z(I))},V),ce=Un(ge=>{Y.current=!0;let ue=ge?"enter":"leave";K.onStart(I,ue,Ee=>{Ee==="enter"?i==null||i():Ee==="leave"&&(l==null||l())})}),oe=Un(ge=>{let ue=ge?"enter":"leave";Y.current=!1,K.onStop(I,ue,Ee=>{Ee==="enter"?o==null||o():Ee==="leave"&&(d==null||d())}),ue==="leave"&&!ob(K)&&(M("hidden"),Z(I))});C.useEffect(()=>{_&&s||(ce(D),oe(D))},[D,_,s]);let Q=!(!s||!_||!ee||q),[,G]=cCe(Q,w,D,{start:ce,end:oe}),te=ih({ref:P,className:((n=nB(S.className,X&&u,X&&h,G.enter&&u,G.enter&&G.closed&&h,G.enter&&!G.closed&&m,G.leave&&p,G.leave&&!G.closed&&b,G.leave&&G.closed&&N,!G.transition&&D&&y))==null?void 0:n.trim())||void 0,...lCe(G)}),se=0;z==="visible"&&(se|=Ol.Open),z==="hidden"&&(se|=Ol.Closed),D&&z==="hidden"&&(se|=Ol.Opening),!D&&z==="visible"&&(se|=Ol.Closing);let de=pl();return Je.createElement(ib.Provider,{value:K},Je.createElement(hCe,{value:se},de({ourProps:te,theirProps:S,defaultTag:sK,features:aK,visible:z==="visible",name:"Transition.Child"})))}function HCe(e,t){let{show:r,appear:n=!1,unmount:s=!0,...i}=e,o=C.useRef(null),l=rK(e),d=zc(...l?[o,t]:t===null?[]:[t]);O1();let u=sb();if(r===void 0&&u!==null&&(r=(u&Ol.Open)===Ol.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,m]=C.useState(r?"visible":"hidden"),y=nK(()=>{r||m("hidden")}),[p,b]=C.useState(!0),N=C.useRef([r]);li(()=>{p!==!1&&N.current[N.current.length-1]!==r&&(N.current.push(r),b(!1))},[N,r]);let S=C.useMemo(()=>({show:r,appear:n,initial:p}),[r,n,p]);li(()=>{r?m("visible"):!ob(y)&&o.current!==null&&m("hidden")},[r,y]);let w={unmount:s},B=Un(()=>{var P;p&&b(!1),(P=e.beforeEnter)==null||P.call(e)}),I=Un(()=>{var P;p&&b(!1),(P=e.beforeLeave)==null||P.call(e)}),_=pl();return Je.createElement(ib.Provider,{value:y},Je.createElement(ab.Provider,{value:S},_({ourProps:{...w,as:C.Fragment,children:Je.createElement(iK,{ref:d,...w,...i,beforeEnter:B,beforeLeave:I})},theirProps:{},defaultTag:C.Fragment,features:aK,visible:h==="visible",name:"Transition"})))}function VCe(e,t){let r=C.useContext(ab)!==null,n=sb()!==null;return Je.createElement(Je.Fragment,null,!r&&n?Je.createElement(lB,{ref:t,...e}):Je.createElement(iK,{ref:t,...e}))}let lB=so(HCe),iK=so(QCe),E6=so(VCe),iw=Object.assign(lB,{Child:E6,Root:lB});var KCe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(KCe||{}),zCe=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(zCe||{});let WCe={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},j6=C.createContext(null);j6.displayName="DialogContext";function lb(e){let t=C.useContext(j6);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,lb),r}return t}function GCe(e,t){return Wd(t.type,WCe,e,t)}let IL=so(function(e,t){let r=C.useId(),{id:n=`headlessui-dialog-${r}`,open:s,onClose:i,initialFocus:o,role:l="dialog",autoFocus:d=!0,__demoMode:u=!1,unmount:h=!1,...m}=e,y=C.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(y.current||(y.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=sb();s===void 0&&p!==null&&(s=(p&Ol.Open)===Ol.Open);let b=C.useRef(null),N=zc(b,t),S=rb(b),w=s?0:1,[B,I]=C.useReducer(GCe,{titleId:null,descriptionId:null,panelRef:C.createRef()}),_=Un(()=>i(!1)),P=Un(G=>I({type:0,id:G})),H=O1()?w===0:!1,[D,L]=CCe(),T={get current(){var G;return(G=B.panelRef.current)!=null?G:b.current}},z=JV(),{resolveContainers:M}=jCe({mainTreeNode:z,portals:D,defaultContainers:[T]}),V=p!==null?(p&Ol.Closing)===Ol.Closing:!1;R5e(u||V?!1:H,{allowed:Un(()=>{var G,te;return[(te=(G=b.current)==null?void 0:G.closest("[data-headlessui-portal]"))!=null?te:null]}),disallowed:Un(()=>{var G;return[(G=z==null?void 0:z.closest("body > *:not(#headlessui-portal-root)"))!=null?G:null]})});let J=MV.get(null);li(()=>{if(H)return J.actions.push(n),()=>J.actions.pop(n)},[J,n,H]);let Z=HV(J,C.useCallback(G=>J.selectors.isTop(G,n),[J,n]));X5e(Z,M,G=>{G.preventDefault(),_()}),SCe(Z,S==null?void 0:S.defaultView,G=>{G.preventDefault(),G.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),_()}),sCe(u||V?!1:H,S,M),M5e(H,b,_);let[ee,q]=h5e(),X=C.useMemo(()=>[{dialogState:w,close:_,setTitleId:P,unmount:h},B],[w,B,_,P,h]),Y=C.useMemo(()=>({open:w===0}),[w]),K={ref:N,id:n,role:l,tabIndex:-1,"aria-modal":u?void 0:w===0?!0:void 0,"aria-labelledby":B.titleId,"aria-describedby":ee,unmount:h},ce=!ECe(),oe=ch.None;H&&!u&&(oe|=ch.RestoreFocus,oe|=ch.TabLock,d&&(oe|=ch.AutoFocus),ce&&(oe|=ch.InitialFocus));let Q=pl();return Je.createElement(fCe,null,Je.createElement(EL,{force:!0},Je.createElement(BCe,null,Je.createElement(j6.Provider,{value:X},Je.createElement(YV,{target:b},Je.createElement(EL,{force:!1},Je.createElement(q,{slot:Y},Je.createElement(L,null,Je.createElement(TCe,{initialFocus:o,initialFocusFallback:b,containers:M,features:oe},Je.createElement(y5e,{value:_},Q({ourProps:K,theirProps:m,slot:Y,defaultTag:$Ce,features:qCe,visible:w===0,name:"Dialog"})))))))))))}),$Ce="div",qCe=j2.RenderStrategy|j2.Static;function XCe(e,t){let{transition:r=!1,open:n,...s}=e,i=sb(),o=e.hasOwnProperty("open")||i!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!s.static?Je.createElement(jL,null,Je.createElement(iw,{show:n,transition:r,unmount:s.unmount},Je.createElement(IL,{ref:t,...s}))):Je.createElement(jL,null,Je.createElement(IL,{ref:t,open:n,...s}))}let YCe="div";function ZCe(e,t){let r=C.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:s=!1,...i}=e,[{dialogState:o,unmount:l},d]=lb("Dialog.Panel"),u=zc(t,d.panelRef),h=C.useMemo(()=>({open:o===0}),[o]),m=Un(S=>{S.stopPropagation()}),y={ref:u,id:n,onClick:m},p=s?E6:C.Fragment,b=s?{unmount:l}:{},N=pl();return Je.createElement(p,{...b},N({ourProps:y,theirProps:i,slot:h,defaultTag:YCe,name:"Dialog.Panel"}))}let JCe="div";function e4e(e,t){let{transition:r=!1,...n}=e,[{dialogState:s,unmount:i}]=lb("Dialog.Backdrop"),o=C.useMemo(()=>({open:s===0}),[s]),l={ref:t,"aria-hidden":!0},d=r?E6:C.Fragment,u=r?{unmount:i}:{},h=pl();return Je.createElement(d,{...u},h({ourProps:l,theirProps:n,slot:o,defaultTag:JCe,name:"Dialog.Backdrop"}))}let t4e="h2";function r4e(e,t){let r=C.useId(),{id:n=`headlessui-dialog-title-${r}`,...s}=e,[{dialogState:i,setTitleId:o}]=lb("Dialog.Title"),l=zc(t);C.useEffect(()=>(o(n),()=>o(null)),[n,o]);let d=C.useMemo(()=>({open:i===0}),[i]),u={ref:l,id:n};return pl()({ourProps:u,theirProps:s,slot:d,defaultTag:t4e,name:"Dialog.Title"})}let n4e=so(XCe),s4e=so(ZCe);so(e4e);let a4e=so(r4e),$C=Object.assign(n4e,{Panel:s4e,Title:a4e,Description:g5e});const i4e=({enabled:e,setEnabled:t})=>a.jsx("button",{type:"button",onClick:()=>t(!e),className:`${e?"bg-indigo-600":"bg-gray-200"} relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2`,children:a.jsx("span",{className:`${e?"translate-x-5":"translate-x-0"} inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out`})}),FL=({announcement:e,onClose:t,onSuccess:r})=>{const[n,s]=C.useState({title:"",content:"",branchId:null,isGlobal:!0,startDate:null,endDate:null,isActive:!0}),[i,o]=C.useState([]),[l,d]=C.useState(!1),[u,h]=C.useState({});C.useEffect(()=>{(async()=>{try{const N=await Re.getBranches();o(N)}catch{Se.error("Failed to load branches")}})()},[]),C.useEffect(()=>{e&&s({...e,startDate:e.startDate?e.startDate.split("T")[0]:e.startDate===null?null:"",endDate:e.endDate?e.endDate.split("T")[0]:e.endDate===null?null:""})},[e]);const m=()=>{const b={};return n.title.trim()||(b.title="Title cannot be empty."),n.content.trim()||(b.content="Content is required."),!n.isGlobal&&!n.branchId&&(b.branchId="Please select a branch for a non-global announcement."),n.startDate&&n.endDate&&new Date(n.startDate)>new Date(n.endDate)&&(b.endDate="End date cannot be before the start date."),h(b),Object.keys(b).length===0},y=async b=>{var N,S;if(b.preventDefault(),!m()){Se.warning("Please fix the errors before submitting.");return}d(!0);try{const w={...n,branchId:n.isGlobal?null:n.branchId};e!=null&&e.id?(await Re.updateAnnouncement(e.id,w),Se.success("Announcement updated successfully!")):(await Re.createAnnouncement(w),Se.success("Announcement created successfully!")),r()}catch(w){Se.error(((S=(N=w.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to save announcement.")}finally{d(!1)}},p=(b,N)=>{s(S=>({...S,[b]:N})),u[b]&&h(S=>{const w={...S};return delete w[b],w})};return a.jsx(iw.Root,{show:!0,as:C.Fragment,children:a.jsxs($C,{as:"div",className:"relative z-50",onClose:t,children:[a.jsx(iw.Child,{as:C.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 transition-opacity"})}),a.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx(iw.Child,{as:C.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsx($C.Panel,{className:"relative transform overflow-hidden rounded-xl bg-white text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-2xl",children:a.jsxs("form",{onSubmit:y,children:[a.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[a.jsx($C.Title,{as:"h3",className:"text-xl font-semibold text-gray-900",children:e?"Edit Announcement":"Create New Announcement"}),a.jsx("button",{type:"button",onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(eo,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:n.title,onChange:b=>p("title",b.target.value),className:`w-full form-input ${u.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., System Maintenance Alert"}),u.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),a.jsx("textarea",{value:n.content,onChange:b=>p("content",b.target.value),rows:5,className:`w-full form-input ${u.content?"border-red-500":"border-gray-300"}`,placeholder:"Provide details about the announcement..."}),u.content&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.content})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibility"}),a.jsxs("div",{className:"flex rounded-lg p-1 bg-gray-100",children:[a.jsxs("button",{type:"button",onClick:()=>p("isGlobal",!0),className:`w-1/2 py-2 text-sm rounded-md flex items-center justify-center gap-2 transition-colors ${n.isGlobal?"bg-white text-indigo-700 shadow-sm":"text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(fv,{className:"h-4 w-4"})," Global"]}),a.jsxs("button",{type:"button",onClick:()=>p("isGlobal",!1),className:`w-1/2 py-2 text-sm rounded-md flex items-center justify-center gap-2 transition-colors ${n.isGlobal?"text-gray-600 hover:bg-gray-200":"bg-white text-indigo-700 shadow-sm"}`,children:[a.jsx(jo,{className:"h-4 w-4"})," Branch Specific"]})]})]}),!n.isGlobal&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),a.jsxs("select",{value:n.branchId||"",onChange:b=>p("branchId",b.target.value?parseInt(b.target.value):null),className:`w-full form-select ${u.branchId?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select a branch..."}),i.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]}),u.branchId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.branchId})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date (Optional)"}),a.jsx("input",{type:"date",value:n.startDate||"",onChange:b=>p("startDate",b.target.value||null),className:"w-full form-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date (Optional)"}),a.jsx("input",{type:"date",value:n.endDate||"",onChange:b=>p("endDate",b.target.value||null),className:`w-full form-input ${u.endDate?"border-red-500":"border-gray-300"}`}),u.endDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.endDate})]})]}),a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"Set as Active"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Inactive announcements will be hidden from view."})]}),a.jsx(i4e,{enabled:n.isActive,setEnabled:b=>p("isActive",b)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 p-5 bg-gray-50 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:l,className:"flex items-center space-x-2 px-5 py-2.5 text-sm font-medium bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Fg,{className:"h-4 w-4"}),a.jsx("span",{children:l?"Saving...":e?"Save Changes":"Create Announcement"})]})]})]})})})})})]})})},qC=768;function o4e(){const[e,t]=C.useState(void 0);return C.useEffect(()=>{const r=window.matchMedia(`(max-width: ${qC-1}px)`),n=()=>{t(window.innerWidth<qC)};return r.addEventListener("change",n),t(window.innerWidth<qC),()=>r.removeEventListener("change",n)},[]),!!e}const l4e=({children:e,withBottomNav:t})=>a.jsx("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"env(safe-area-inset-top)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)",paddingBottom:`calc(env(safe-area-inset-bottom) + ${t?"60px":"0px"})`},children:e}),c4e=[{to:"/dashboard",label:"Home",icon:_S},{to:"/students",label:"Students",icon:ui},{to:"/attendance",label:"Attend",icon:us},{to:"/announcements",label:"News",icon:tf},{to:"/settings",label:"Settings",icon:RS}],d4e=()=>a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white/95 backdrop-blur border-t border-gray-200",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:a.jsx("ul",{className:"grid grid-cols-5",children:c4e.map(({to:e,label:t,icon:r})=>a.jsx("li",{children:a.jsxs(kX,{to:e,className:({isActive:n})=>`flex flex-col items-center justify-center py-2.5 text-xs ${n?"text-indigo-600":"text-gray-600"}`,children:[a.jsx(r,{size:20}),a.jsx("span",{className:"mt-1.5 leading-none",children:t})]})},e))})}),u4e=()=>{const e=o4e(),[t,r]=C.useState(!1),[n,s]=C.useState(),[i,o]=C.useState(0),[l,d]=C.useState("grid"),[u,h]=C.useState(!1),m=()=>{s(void 0),r(!0)},y=N=>{s(N),r(!0)},p=()=>{r(!1),s(void 0)},b=()=>{p(),o(N=>N+1)};return e?a.jsxs(l4e,{withBottomNav:!0,children:[a.jsxs("header",{className:"sticky top-0 z-30 bg-white/90 backdrop-blur border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[a.jsx("h1",{className:"text-base font-semibold",children:"Announcements"}),a.jsx("button",{onClick:m,className:"px-3 py-1.5 text-sm rounded-md bg-indigo-600 text-white active:scale-[0.98]",children:"New"})]}),a.jsxs("main",{className:"p-4 pb-24",children:[a.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[a.jsx("div",{className:"text-xs text-slate-500",children:"View"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>d("list"),className:`px-3 py-1.5 rounded-md text-sm ${l==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(kA,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>d("grid"),className:`px-3 py-1.5 rounded-md text-sm ${l==="grid"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(Qd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>d("compact"),className:`px-3 py-1.5 rounded-md text-sm ${l==="compact"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(BN,{className:"h-4 w-4"})})]})]}),a.jsx(gL,{isAdmin:!0,onEdit:y,onAdd:m,viewMode:l},i)]}),a.jsx(d4e,{}),t&&a.jsx(FL,{announcement:n,onClose:p,onSuccess:b})]}):a.jsxs("div",{className:"flex h-screen bg-gray-50/50",children:[a.jsx(an,{isCollapsed:u,setIsCollapsed:h,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex flex-col flex-1",children:[a.jsx(zn,{}),a.jsx("main",{className:"flex-1 p-6 lg:p-8 overflow-y-auto",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:"View"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>d("list"),className:`px-3 py-1.5 rounded-md text-sm ${l==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(kA,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>d("grid"),className:`px-3 py-1.5 rounded-md text-sm ${l==="grid"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(Qd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>d("compact"),className:`px-3 py-1.5 rounded-md text-sm ${l==="compact"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(BN,{className:"h-4 w-4"})})]})]}),a.jsx(gL,{isAdmin:!0,onEdit:y,onAdd:m,viewMode:l},i)]})})]}),t&&a.jsx(FL,{announcement:n,onClose:p,onSuccess:b})]})},A4e=e=>{switch(e){case"Approved":return"bg-green-100 text-green-800";case"Not Approved":return"bg-red-100 text-red-800";case"Done":return"bg-blue-100 text-blue-800";case"Not Done":return"bg-orange-100 text-orange-800";case"Posted":default:return"bg-yellow-100 text-yellow-800"}},h4e=()=>{const[e,t]=C.useState([]),[r,n]=C.useState("newest"),[s,i]=C.useState("All"),[o,l]=C.useState(!0),[d,u]=C.useState(null),h=Ur(),[m,y]=C.useState(!1),p=()=>{},b=async()=>{try{l(!0),u(null);const B=await Re.getAllQueriesForAdmin();t(B)}catch(B){console.error("Error fetching queries:",B),u(B.message||"Failed to load queries.")}finally{l(!1)}};C.useEffect(()=>{b()},[]);const N=async(B,I)=>{if(!["Approved","Not Approved","Done","Not Done","Posted"].includes(I)){console.error("Invalid status update:",I),u("Invalid status selected.");return}try{await Re.updateQueryStatus(B,I),await b()}catch(P){console.error("Error updating query status:",P),u(P.message||"Failed to update status.")}},S=B=>{h(`/queries/${B}`)},w=C.useMemo(()=>e.filter(I=>s==="All"||I.status===s).sort((I,_)=>{switch(r){case"upvotes":return(_.upvotes||0)-(I.upvotes||0);case"status":return I.status.localeCompare(_.status);case"newest":default:return new Date(_.createdAt).getTime()-new Date(I.createdAt).getTime()}}),[e,r,s]);return o?a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(an,{isCollapsed:m,setIsCollapsed:y,onBarcodeClick:p}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx("div",{className:"text-center p-8 bg-white rounded-lg shadow-sm border",children:"Loading queries..."})})})]})]}):a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(an,{isCollapsed:m,setIsCollapsed:y,onBarcodeClick:p}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-4 sm:mb-6",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Manage Public Queries"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"View, filter, and update the status of all student queries."})]}),a.jsx("div",{className:"mb-4 bg-white p-3 sm:p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3 sm:gap-6",children:[a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{htmlFor:"filter",className:"text-sm font-medium text-gray-700",children:"Filter by status"}),a.jsxs("select",{id:"filter",value:s,onChange:B=>i(B.target.value),className:"mt-1 w-full sm:w-56 text-sm rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"All",children:"All"}),a.jsx("option",{value:"Posted",children:"Posted"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"Not Approved",children:"Not Approved"}),a.jsx("option",{value:"Done",children:"Done"}),a.jsx("option",{value:"Not Done",children:"Not Done"})]})]}),a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{htmlFor:"sort",className:"text-sm font-medium text-gray-700",children:"Sort by"}),a.jsxs("select",{id:"sort",value:r,onChange:B=>n(B.target.value),className:"mt-1 w-full sm:w-56 text-sm rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"newest",children:"Newest"}),a.jsx("option",{value:"upvotes",children:"Most Upvoted"}),a.jsx("option",{value:"status",children:"Status"})]})]})]})}),d&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:d}),a.jsx("div",{className:"space-y-3 sm:space-y-4",children:w.map(B=>a.jsxs("div",{className:"p-4 sm:p-5 border rounded-lg shadow-sm bg-white transition-all hover:shadow-md",children:[a.jsxs("div",{className:"flex justify-between items-start gap-3",children:[a.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>S(B.id),children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 hover:text-indigo-600",children:B.title}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Posted by ",a.jsx("span",{className:"font-medium",children:B.studentName})," on ",new Date(B.createdAt).toLocaleDateString()]})]}),a.jsx("span",{className:`text-[10px] sm:text-xs font-medium mr-1 sm:mr-2 px-2 py-0.5 sm:px-2.5 sm:py-1 rounded-full ${A4e(B.status)}`,children:B.status})]}),a.jsxs("p",{className:"text-gray-600 mt-2 mb-3 sm:mb-4 text-sm",children:[B.description.substring(0,150),B.description.length>150&&"..."]}),a.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm border-t pt-2 sm:pt-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 text-gray-600",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(QS,{className:"w-4 h-4 mr-1 text-green-500"})," ",B.upvotes||0]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(US,{className:"w-4 h-4 mr-1 text-red-500"})," ",B.downvotes||0]})]}),a.jsx("div",{className:"relative inline-block text-left",children:a.jsxs("select",{onChange:I=>N(B.id,I.target.value),value:B.status,className:"text-xs sm:text-sm border-gray-300 rounded-md shadow-sm bg-white hover:border-gray-400 focus:ring-0 focus:border-gray-400",onClick:I=>I.stopPropagation(),children:[a.jsx("option",{children:"Posted"}),a.jsx("option",{children:"Approved"}),a.jsx("option",{children:"Not Approved"}),a.jsx("option",{children:"Done"}),a.jsx("option",{children:"Not Done"})]})})]})]},B.id))}),w.length===0&&!o&&a.jsx("div",{className:"text-center p-8 bg-white rounded-lg shadow-sm border",children:a.jsx("p",{className:"text-gray-600",children:"No queries match the current filter."})})]})})]})]})},f4e=()=>{var _,P,H;const{id:e}=Xd(),t=Ur(),{user:r}=Ys(),[n,s]=C.useState(null),[i,o]=C.useState(!0),[l,d]=C.useState(null),[u,h]=C.useState(""),[m,y]=C.useState(null),p=async()=>{try{o(!0);const D=await Re.getQueryById(Number(e)),L=D.comments||[],T={};L.forEach(M=>{T[M.id]={...M,replies:[]}});const z=[];L.forEach(M=>{M.parentCommentId&&T[M.parentCommentId]?T[M.parentCommentId].replies.push(T[M.id]):z.push(T[M.id])}),s({...D,comments:z})}catch(D){d("Failed to load query"),console.error("Error fetching query:",D)}finally{o(!1)}};C.useEffect(()=>{p()},[e]);const b=async D=>{if(n)try{await Re.voteOnQuery(n.id,D),await p()}catch(L){console.error("Error voting:",L)}},N=async D=>{if(n)try{await Re.updateQueryStatus(n.id,D),await p()}catch(L){console.error("Error updating status:",L)}},S=async D=>{if(D.preventDefault(),!(!u.trim()||!n))try{const L={comment_text:u,parent_comment_id:m};await Re.postComment(n.id,L),h(""),y(null),await p()}catch(L){console.error("Error posting comment:",L)}},w=(D,L=0)=>D.map(T=>a.jsxs("div",{className:`flex space-x-4 mt-4 ${L>0?"pl-6":""}`,children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-600",children:T.commenterName.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-sm text-gray-800",children:T.commenterName}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(T.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-gray-700 mt-1 text-sm",children:T.commentText})]}),a.jsx("button",{onClick:()=>y(T.id),className:"text-xs text-indigo-600 hover:underline mt-1 pl-1",children:"Reply"}),m===T.id&&a.jsxs("form",{onSubmit:S,className:"mt-2",children:[a.jsx("textarea",{value:u,onChange:z=>h(z.target.value),className:"w-full p-2 border rounded-md text-sm",placeholder:"Write your reply...",rows:2}),a.jsxs("div",{className:"mt-2 space-x-2",children:[a.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-3 py-1 rounded text-sm shadow-sm",children:"Post"}),a.jsx("button",{type:"button",onClick:()=>y(null),className:"text-gray-600 text-sm",children:"Cancel"})]})]}),T.replies&&w(T.replies,L+1)]})]},T.id));if(i)return a.jsx("div",{className:"p-6 text-center",children:"Loading..."});if(l)return a.jsx("div",{className:"p-6 text-center text-red-500",children:l});if(!n)return a.jsx("div",{className:"p-6 text-center",children:"Query not found"});const B={Posted:"bg-yellow-100 text-yellow-800",Approved:"bg-green-100 text-green-800","Not Approved":"bg-red-100 text-red-800",Done:"bg-blue-100 text-blue-800","Not Done":"bg-orange-100 text-orange-800"},I=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner";return a.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:[a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("button",{onClick:()=>t(-1),className:"mb-4 text-indigo-600 hover:underline flex items-center gap-2 text-sm",children:[a.jsx(ml,{className:"w-4 h-4"}),"Back to Queries"]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:n.title}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${B[n.status]}`,children:n.status})]}),a.jsxs("div",{className:"text-sm text-gray-500 mb-4 border-b pb-4",children:["Posted by ",a.jsx("span",{className:"font-medium text-gray-700",children:n.studentName})," on ",new Date(n.createdAt).toLocaleDateString()]}),a.jsx("p",{className:"text-gray-700 mb-5",children:n.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>b("up"),className:`flex items-center space-x-1.5 text-gray-600 hover:text-green-600 ${n.userVote==="upvote"?"text-green-600 font-semibold":""}`,children:[a.jsx(QS,{className:"w-5 h-5"}),a.jsx("span",{children:n.upvotes})]}),a.jsxs("button",{onClick:()=>b("down"),className:`flex items-center space-x-1.5 text-gray-600 hover:text-red-600 ${n.userVote==="downvote"?"text-red-600 font-semibold":""}`,children:[a.jsx(US,{className:"w-5 h-5"}),a.jsx("span",{children:n.downvotes})]})]}),I&&a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{onChange:D=>N(D.target.value),value:n.status,className:"text-xs border-gray-300 rounded-md shadow-sm",children:[a.jsx("option",{children:"Posted"}),a.jsx("option",{children:"Approved"}),a.jsx("option",{children:"Not Approved"}),a.jsx("option",{children:"Done"}),a.jsx("option",{children:"Not Done"})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[a.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[a.jsx(DS,{className:"w-5 h-5 text-gray-500"}),"Discussion (",((_=n.comments)==null?void 0:_.length)||0,")"]}),a.jsxs("form",{onSubmit:S,className:"mb-6 flex items-start space-x-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex-shrink-0"}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("textarea",{value:u,onChange:D=>h(D.target.value),className:"w-full p-2 border rounded-md mb-2 text-sm",placeholder:m?"Write your reply...":"Add to the discussion...",rows:m?2:3}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-1.5 rounded-md text-sm shadow-sm hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx(Jee,{className:"w-4 h-4"}),"Post"]}),m&&a.jsx("button",{type:"button",onClick:()=>{y(null),h("")},className:"text-gray-600 text-sm",children:"Cancel Reply"})]})]})]}),a.jsx("div",{children:n.comments&&n.comments.length>0?w(n.comments):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No comments yet. Be the first to say something!"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[((P=n.comments)==null?void 0:P.length)||0," ",((H=n.comments)==null?void 0:H.length)===1?"Comment":"Comments"]}),a.jsxs("form",{onSubmit:S,className:"mb-6",children:[a.jsx("textarea",{value:u,onChange:D=>h(D.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add a comment...",rows:3}),a.jsx("div",{className:"mt-2 flex justify-end",children:a.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",disabled:!u.trim(),children:"Post Comment"})})]}),a.jsx("div",{className:"space-y-4",children:n.comments&&n.comments.length>0?w(n.comments):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No comments yet. Be the first to comment!"})})]})]})},m4e=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[s,i]=C.useState(!1),o=Ur(),l=async d=>{if(d.preventDefault(),!e.trim()||!r.trim()){Se.error("Title and description cannot be empty.");return}i(!0);try{const u=await Re.postQuery({title:e,description:r});Se.success("Query submitted successfully!"),o(`/queries/${u.id}`)}catch(u){console.error("Failed to post query:",u),Se.error("Failed to submit query. Please try again.")}finally{i(!1)}};return a.jsx("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:a.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-md",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6",children:"Ask a New Question"}),a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",id:"title",value:e,onChange:d=>t(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter a concise title for your query",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",value:r,onChange:d=>n(d.target.value),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Provide a detailed description of your question or suggestion",required:!0})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:s,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg shadow-sm hover:bg-indigo-700 transition-colors disabled:bg-indigo-300 disabled:cursor-not-allowed",children:s?"Submitting...":"Submit Query"})})]})]})})};function p4e(e,t=[]){let r=[];function n(i,o){const l=C.createContext(o),d=r.length;r=[...r,o];function u(m){const{scope:y,children:p,...b}=m,N=(y==null?void 0:y[e][d])||l,S=C.useMemo(()=>b,Object.values(b));return a.jsx(N.Provider,{value:S,children:p})}function h(m,y){const p=(y==null?void 0:y[e][d])||l,b=C.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>C.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return s.scopeName=e,[n,g4e(s,...t)]}function g4e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:d,scopeName:u})=>{const m=d(i)[`__scope${u}`];return{...l,...m}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var XC="rovingFocusGroup.onEntryFocus",x4e={bubbles:!1,cancelable:!0},cb="RovingFocusGroup",[cB,oK,y4e]=oQ(cb),[w4e,lK]=p4e(cb,[y4e]),[v4e,b4e]=w4e(cb),cK=C.forwardRef((e,t)=>a.jsx(cB.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(cB.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(C4e,{...e,ref:t})})}));cK.displayName=cb;var C4e=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=e,y=C.useRef(null),p=rs(t,y),b=ME(i),[N=null,S]=Zh({prop:o,defaultProp:l,onChange:d}),[w,B]=C.useState(!1),I=Dc(u),_=oK(r),P=C.useRef(!1),[H,D]=C.useState(0);return C.useEffect(()=>{const L=y.current;if(L)return L.addEventListener(XC,I),()=>L.removeEventListener(XC,I)},[I]),a.jsx(v4e,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:N,onItemFocus:C.useCallback(L=>S(L),[S]),onItemShiftTab:C.useCallback(()=>B(!0),[]),onFocusableItemAdd:C.useCallback(()=>D(L=>L+1),[]),onFocusableItemRemove:C.useCallback(()=>D(L=>L-1),[]),children:a.jsx(tn.div,{tabIndex:w||H===0?-1:0,"data-orientation":n,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:_r(e.onMouseDown,()=>{P.current=!0}),onFocus:_r(e.onFocus,L=>{const T=!P.current;if(L.target===L.currentTarget&&T&&!w){const z=new CustomEvent(XC,x4e);if(L.currentTarget.dispatchEvent(z),!z.defaultPrevented){const M=_().filter(q=>q.focusable),V=M.find(q=>q.active),J=M.find(q=>q.id===N),ee=[V,J,...M].filter(Boolean).map(q=>q.ref.current);AK(ee,h)}}P.current=!1}),onBlur:_r(e.onBlur,()=>B(!1))})})}),dK="RovingFocusGroupItem",uK=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,l=Id(),d=i||l,u=b4e(dK,r),h=u.currentTabStopId===d,m=oK(r),{onFocusableItemAdd:y,onFocusableItemRemove:p}=u;return C.useEffect(()=>{if(n)return y(),()=>p()},[n,y,p]),a.jsx(cB.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:a.jsx(tn.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:_r(e.onMouseDown,b=>{n?u.onItemFocus(d):b.preventDefault()}),onFocus:_r(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:_r(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const N=S4e(b,u.orientation,u.dir);if(N!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=m().filter(B=>B.focusable).map(B=>B.ref.current);if(N==="last")w.reverse();else if(N==="prev"||N==="next"){N==="prev"&&w.reverse();const B=w.indexOf(b.currentTarget);w=u.loop?E4e(w,B+1):w.slice(B+1)}setTimeout(()=>AK(w))}})})})});uK.displayName=dK;var N4e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B4e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function S4e(e,t,r){const n=B4e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return N4e[n]}function AK(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function E4e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var j4e=cK,I4e=uK,I6="Tabs",[F4e,aNe]=A1(I6,[lK]),hK=lK(),[k4e,F6]=F4e(I6),fK=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=e,h=ME(l),[m,y]=Zh({prop:n,onChange:s,defaultProp:i});return a.jsx(k4e,{scope:r,baseId:Id(),value:m,onValueChange:y,orientation:o,dir:h,activationMode:d,children:a.jsx(tn.div,{dir:h,"data-orientation":o,...u,ref:t})})});fK.displayName=I6;var mK="TabsList",pK=C.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=F6(mK,r),o=hK(r);return a.jsx(j4e,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(tn.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});pK.displayName=mK;var gK="TabsTrigger",xK=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=F6(gK,r),l=hK(r),d=vK(o.baseId,n),u=bK(o.baseId,n),h=n===o.value;return a.jsx(I4e,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(tn.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:t,onMouseDown:_r(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:_r(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:_r(e.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!s&&m&&o.onValueChange(n)})})})});xK.displayName=gK;var yK="TabsContent",wK=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=F6(yK,r),d=vK(l.baseId,n),u=bK(l.baseId,n),h=n===l.value,m=C.useRef(h);return C.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),a.jsx(ff,{present:s||h,children:({present:y})=>a.jsx(tn.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!y,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:y&&i})})});wK.displayName=yK;function vK(e,t){return`${e}-trigger-${t}`}function bK(e,t){return`${e}-content-${t}`}var _4e=fK,CK=pK,NK=xK,BK=wK;const T4e=_4e,SK=C.forwardRef(({className:e,...t},r)=>a.jsx(CK,{ref:r,className:Br("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));SK.displayName=CK.displayName;const Ip=C.forwardRef(({className:e,...t},r)=>a.jsx(NK,{ref:r,className:Br("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ip.displayName=NK.displayName;const Fp=C.forwardRef(({className:e,...t},r)=>a.jsx(BK,{ref:r,className:Br("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fp.displayName=BK.displayName;const L4e=()=>{const[e,t]=C.useState([]),[r,n]=C.useState({pending:0,accepted:0,rejected:0,total:0}),[s,i]=C.useState({currentPage:1,totalPages:1,totalCount:0,limit:20}),[o,l]=C.useState(!0),[d,u]=C.useState(null),[h,m]=C.useState("all"),[y,p]=C.useState(1),[b,N]=C.useState(null),[S,w]=C.useState(!1),[B,I]=C.useState(!1),[_,P]=C.useState(""),[H,D]=C.useState("grid"),[L,T]=C.useState(!1),z=Ur(),{user:M}=Ys();C.useEffect(()=>{J(),Z()},[h,y]);const V=()=>{console.log("Barcode clicked in AdmissionRequests"),z("/barcode")};if(!M)return null;const J=async()=>{try{l(!0);const oe=await ia(`/admission-requests?status=${h}&page=${y}&limit=20`);if(!oe.ok)throw new Error("Failed to fetch admission requests");const Q=await oe.json();t(Q.requests),i(Q.pagination)}catch(oe){console.error("Error fetching requests:",oe),Se.error("Failed to load admission requests")}finally{l(!1)}},Z=async()=>{try{const oe=await ia("/admission-requests/stats/summary");if(oe.ok){const Q=await oe.json();n(Q)}}catch(oe){console.error("Error fetching stats:",oe)}},ee=async oe=>{try{u(oe);const Q=await ia(`/admission-requests/${oe}/accept`,{method:"POST"});if(!Q.ok){let G="Failed to accept request";try{G=(await Q.json()).message||G}catch{}throw new Error(G)}Se.success("Registration request accepted successfully!"),S&&w(!1),J(),Z()}catch(Q){console.error("Error accepting request:",Q),Se.error(Q instanceof Error?Q.message:"Failed to accept request")}finally{u(null)}},q=async()=>{if(b)try{u(b.id);const oe=await ia(`/admission-requests/${b.id}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:_})});if(!oe.ok){let Q="Failed to reject request";try{Q=(await oe.json()).message||Q}catch{}throw new Error(Q)}Se.success("Registration request rejected"),I(!1),P(""),N(null),S&&w(!1),J(),Z()}catch(oe){console.error("Error rejecting request:",oe),Se.error(oe instanceof Error?oe.message:"Failed to reject request")}finally{u(null)}},X=oe=>{switch(oe){case"pending":return a.jsx(Zn,{className:"h-4 w-4"});case"accepted":return a.jsx(Sc,{className:"h-4 w-4"});case"rejected":return a.jsx(pA,{className:"h-4 w-4"});default:return a.jsx(ji,{className:"h-4 w-4"})}},Y=oe=>{switch(oe){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-300 dark:border-yellow-700";case"accepted":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/40 dark:text-green-300 dark:border-green-700";case"rejected":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/40 dark:text-red-300 dark:border-red-700";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700"}},K=oe=>new Date(oe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ce=oe=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(oe);return a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50",children:[a.jsx(an,{isCollapsed:L,setIsCollapsed:T,onBarcodeClick:V}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(zn,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx(gO,{children:a.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admission Requests"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage student registration requests"})]}),a.jsxs(Jt,{variant:"outline",onClick:()=>z(-1),children:[a.jsx(ml,{className:"h-4 w-4 mr-2"}),"Go Back"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(Mn,{className:"bg-gradient-to-br from-indigo-500 to-violet-600 border-0 text-white ring-1 ring-white/10 transition-transform duration-200 ease-out transform-gpu hover:-translate-y-1 hover:scale-[1.02] hover:rotate-[1deg]",children:a.jsx(Fs,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white/80",children:"Total Requests"}),a.jsx("p",{className:"text-2xl font-bold",children:r.total})]}),a.jsx(ui,{className:"h-8 w-8 text-white"})]})})}),a.jsx(Mn,{className:"bg-gradient-to-br from-amber-500 to-orange-600 border-0 text-white ring-1 ring-white/10 transition-transform duration-200 ease-out transform-gpu hover:-translate-y-1 hover:scale-[1.02] hover:rotate-[1deg]",children:a.jsx(Fs,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white/80",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold",children:r.pending})]}),a.jsx(Zn,{className:"h-8 w-8 text-white"})]})})}),a.jsx(Mn,{className:"bg-gradient-to-br from-emerald-500 to-teal-600 border-0 text-white ring-1 ring-white/10 transition-transform duration-200 ease-out transform-gpu hover:-translate-y-1 hover:scale-[1.02] hover:rotate-[1deg]",children:a.jsx(Fs,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white/80",children:"Accepted"}),a.jsx("p",{className:"text-2xl font-bold",children:r.accepted})]}),a.jsx(Sc,{className:"h-8 w-8 text-white"})]})})}),a.jsx(Mn,{className:"bg-gradient-to-br from-rose-500 to-red-600 border-0 text-white ring-1 ring-white/10 transition-transform duration-200 ease-out transform-gpu hover:-translate-y-1 hover:scale-[1.02] hover:rotate-[1deg]",children:a.jsx(Fs,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white/80",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold",children:r.rejected})]}),a.jsx(pA,{className:"h-8 w-8 text-white"})]})})})]}),a.jsx(Mn,{children:a.jsx(Fs,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(kS,{className:"h-4 w-4"}),a.jsx(Dt,{children:"Filter by Status:"})]}),a.jsxs(Fc,{value:h,onValueChange:m,children:[a.jsx(Hl,{className:"w-full sm:w-48",children:a.jsx(kc,{})}),a.jsxs(Vl,{children:[a.jsx(Vs,{value:"all",children:"All Requests"}),a.jsx(Vs,{value:"pending",children:"Pending"}),a.jsx(Vs,{value:"accepted",children:"Accepted"}),a.jsx(Vs,{value:"rejected",children:"Rejected"})]})]})]})})}),a.jsxs(Mn,{children:[a.jsx(Da,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx(Oa,{children:"Registration Requests"}),a.jsxs(Mc,{children:[s.totalCount," total requests • Page ",s.currentPage," of ",s.totalPages]})]}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1 w-fit",children:[a.jsx("button",{onClick:()=>D("table"),className:`px-3 py-1.5 rounded-md text-sm ${H==="table"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,title:"Table View",children:a.jsx(kA,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>D("grid"),className:`px-3 py-1.5 rounded-md text-sm ${H==="grid"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,title:"Grid View",children:a.jsx(Qd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>D("compact"),className:`px-3 py-1.5 rounded-md text-sm ${H==="compact"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,title:"Compact",children:a.jsx(BN,{className:"h-4 w-4"})})]})]})}),a.jsx(Fs,{children:o?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(ds,{className:"h-8 w-8 animate-spin"})}):e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ui,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No requests found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:h==="all"?"No admission requests have been submitted yet.":`No ${h} requests found.`})]}):a.jsxs(a.Fragment,{children:[H==="table"?a.jsx(a.Fragment,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Zd,{children:[a.jsx(Jd,{children:a.jsxs(ks,{children:[a.jsx(hr,{children:"Student"}),a.jsx(hr,{className:"hidden md:table-cell",children:"Contact"}),a.jsx(hr,{className:"hidden lg:table-cell",children:"Branch"}),a.jsx(hr,{children:"Status"}),a.jsx(hr,{className:"hidden xl:table-cell",children:"Submitted"}),a.jsx(hr,{className:"text-right",children:"Actions"})]})}),a.jsx(eu,{children:e.map(oe=>a.jsxs(ks,{children:[a.jsx(sr,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:oe.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: #",oe.id]})]})}),a.jsx(sr,{className:"hidden md:table-cell",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(di,{className:"h-3 w-3"}),oe.phone]}),oe.email&&a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(Gl,{className:"h-3 w-3"}),oe.email]})]})}),a.jsx(sr,{className:"hidden lg:table-cell",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_o,{className:"h-3 w-3"}),oe.branch_name||"Not specified"]})}),a.jsx(sr,{children:a.jsxs(sA,{className:`${Y(oe.status)} flex items-center gap-1 w-fit`,children:[X(oe.status),a.jsx("span",{className:"capitalize",children:oe.status})]})}),a.jsx(sr,{className:"hidden xl:table-cell",children:a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(us,{className:"h-3 w-3"}),K(oe.created_at)]})}),a.jsx(sr,{children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(s5,{children:[a.jsx(a5,{asChild:!0,children:a.jsx(Jt,{size:"sm",variant:"outline",onClick:()=>{N(oe),w(!0)},children:a.jsx(ya,{className:"h-4 w-4"})})}),a.jsx(Ty,{children:"View Details"})]}),oe.status==="pending"?a.jsxs(a.Fragment,{children:[a.jsxs(s5,{children:[a.jsx(a5,{asChild:!0,children:a.jsx(Jt,{size:"sm",variant:"default",onClick:()=>ee(oe.id),disabled:d===oe.id,children:d===oe.id?a.jsx(ds,{className:"h-4 w-4 animate-spin"}):a.jsx(Ii,{className:"h-4 w-4"})})}),a.jsx(Ty,{children:"Accept Request"})]}),a.jsxs(s5,{children:[a.jsx(a5,{asChild:!0,children:a.jsx(Jt,{size:"sm",variant:"destructive",onClick:()=>{N(oe),I(!0)},disabled:d===oe.id,children:a.jsx(r0,{className:"h-4 w-4"})})}),a.jsx(Ty,{children:"Reject Request"})]})]}):null]})})]},oe.id))})]})})}):a.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:e.map(oe=>a.jsxs("div",{className:`rounded-xl border-0 ring-1 ring-white/10 shadow-md p-4 flex flex-col h-full text-white bg-gradient-to-br ${oe.status==="accepted"?"from-emerald-500 to-teal-600":oe.status==="rejected"?"from-rose-500 to-red-600":"from-amber-500 to-orange-600"} transition-transform duration-200 ease-out transform-gpu hover:-translate-y-1 hover:scale-[1.02] hover:rotate-[1deg]`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-white",children:oe.name}),a.jsxs("p",{className:"text-xs text-white/80",children:["ID: #",oe.id]})]}),a.jsxs(sA,{className:"bg-white/20 text-white border border-white/30 flex items-center gap-1 w-fit",children:[X(oe.status),a.jsx("span",{className:"capitalize",children:oe.status})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-white",children:[a.jsxs("div",{className:"rounded-lg p-3 bg-white/10 border border-white/20",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-white/80 flex items-center gap-1",children:[a.jsx(di,{className:"h-3.5 w-3.5 text-white/80"})," Phone"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-white",children:oe.phone})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/10 border border-white/20",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-white/80 flex items-center gap-1",children:[a.jsx(_o,{className:"h-3.5 w-3.5 text-white/80"})," Branch"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-white",children:oe.branch_name||"Not specified"})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/10 border border-white/20 col-span-2",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-white/80 flex items-center gap-1",children:[a.jsx(us,{className:"h-3.5 w-3.5 text-white/80"})," Submitted"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-white",children:K(oe.created_at)})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Jt,{size:"sm",variant:"outline",onClick:()=>{N(oe),w(!0)},title:"View Details",className:"border-white/40 text-white hover:bg-white/10",children:a.jsx(ya,{className:"h-4 w-4"})})}),oe.status==="pending"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{size:"sm",onClick:()=>ee(oe.id),disabled:d===oe.id,className:"bg-white/20 hover:bg-white/30 text-white",children:d===oe.id?a.jsx(ds,{className:"h-4 w-4 animate-spin"}):a.jsx(Ii,{className:"h-4 w-4"})}),a.jsx(Jt,{size:"sm",variant:"destructive",onClick:()=>{N(oe),I(!0)},disabled:d===oe.id,className:"bg-white/20 hover:bg-white/30 text-white border-0",children:a.jsx(r0,{className:"h-4 w-4"})})]})]})]},oe.id))}),s.totalPages>1&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-4 px-2",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(s.currentPage-1)*s.limit+1," to ",Math.min(s.currentPage*s.limit,s.totalCount)," of ",s.totalCount," requests"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{variant:"outline",size:"sm",onClick:()=>p(Math.max(1,y-1)),disabled:y===1,children:"Previous"}),a.jsxs("span",{className:"text-sm font-medium",children:["Page ",s.currentPage," of ",s.totalPages]}),a.jsx(Jt,{variant:"outline",size:"sm",onClick:()=>p(Math.min(s.totalPages,y+1)),disabled:y===s.totalPages,children:"Next"})]})]})]})})]}),a.jsx(I0,{open:S,onOpenChange:w,children:a.jsxs(Dh,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[a.jsxs(Oh,{children:[a.jsx(Mh,{children:"Registration Request Details"}),a.jsxs(Uh,{children:["Request ID: #",b==null?void 0:b.id," • Submitted: ",b&&K(b.created_at)]})]}),b&&a.jsxs("div",{className:"space-y-6 flex-grow overflow-y-auto -mx-6 px-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsxs(sA,{className:`${Y(b.status)} flex items-center gap-1`,children:[X(b.status),a.jsx("span",{className:"capitalize",children:b.status})]})]}),a.jsxs(T4e,{defaultValue:"personal",className:"w-full",children:[a.jsxs(SK,{className:"grid w-full grid-cols-2 sm:grid-cols-4",children:[a.jsx(Ip,{value:"personal",children:"Personal"}),a.jsx(Ip,{value:"membership",children:"Membership"}),a.jsx(Ip,{value:"payment",children:"Payment"}),a.jsx(Ip,{value:"status",children:"Status"})]}),a.jsxs("div",{className:"pt-4",children:[a.jsxs(Fp,{value:"personal",className:"space-y-4 m-0",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{children:"Full Name"}),a.jsx("p",{className:"text-sm font-medium",children:b.name})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Father's Name"}),a.jsx("p",{className:"text-sm",children:b.father_name||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Phone"}),a.jsx("p",{className:"text-sm",children:b.phone})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Email"}),a.jsx("p",{className:"text-sm",children:b.email||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Aadhar Number"}),a.jsx("p",{className:"text-sm",children:b.aadhar_number||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Registration Number"}),a.jsx("p",{className:"text-sm",children:b.registration_number||"Not provided"})]})]}),b.address&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Dt,{children:"Address"}),a.jsx("p",{className:"text-sm",children:b.address})]})]}),a.jsx(Fp,{value:"membership",className:"space-y-4 m-0",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{children:"Branch"}),a.jsx("p",{className:"text-sm",children:b.branch_name||"Not specified"})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Seat"}),a.jsx("p",{className:"text-sm",children:b.seat_number||"No preference"})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Locker"}),a.jsx("p",{className:"text-sm",children:b.locker_number||"Not requested"})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Membership Start"}),a.jsx("p",{className:"text-sm",children:b.membership_start?K(b.membership_start):"Not specified"})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Membership End"}),a.jsx("p",{className:"text-sm",children:b.membership_end?K(b.membership_end):"Not specified"})]})]})}),a.jsx(Fp,{value:"payment",className:"space-y-4 m-0",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{children:"Total Fee"}),a.jsx("p",{className:"text-sm font-medium",children:ce(b.total_fee)})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Cash Payment"}),a.jsx("p",{className:"text-sm",children:ce(b.cash)})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Online Payment"}),a.jsx("p",{className:"text-sm",children:ce(b.online)})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Security Money"}),a.jsx("p",{className:"text-sm",children:ce(b.security_money)})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Discount"}),a.jsx("p",{className:"text-sm",children:ce(b.discount)})]}),a.jsxs("div",{children:[a.jsx(Dt,{children:"Due Amount"}),a.jsx("p",{className:"text-sm font-medium text-red-600",children:ce(b.due_amount)})]})]})}),a.jsx(Fp,{value:"status",className:"space-y-4 m-0",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Dt,{children:"Current Status"}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsxs(sA,{className:`${Y(b.status)} flex items-center gap-1`,children:[X(b.status),a.jsx("span",{className:"capitalize",children:b.status})]})})]}),b.processed_at&&a.jsxs("div",{children:[a.jsx(Dt,{children:"Processed At"}),a.jsx("p",{className:"text-sm",children:K(b.processed_at)})]}),b.processed_by_username&&a.jsxs("div",{children:[a.jsx(Dt,{children:"Processed By"}),a.jsx("p",{className:"text-sm",children:b.processed_by_username})]}),b.rejection_reason&&a.jsxs("div",{children:[a.jsx(Dt,{children:"Rejection Reason"}),a.jsx("p",{className:"text-sm text-red-600",children:b.rejection_reason})]}),b.remark&&a.jsxs("div",{children:[a.jsx(Dt,{children:"Student's Notes"}),a.jsx("p",{className:"text-sm",children:b.remark})]})]})})]})]})]}),a.jsx(Rh,{className:"pt-4 mt-auto",children:a.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2 w-full",children:[a.jsx(Jt,{variant:"outline",onClick:()=>w(!1),children:"Close"}),(b==null?void 0:b.status)==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(Jt,{variant:"destructive",onClick:()=>{w(!1),I(!0)},disabled:d===(b==null?void 0:b.id),children:[a.jsx(r0,{className:"mr-2 h-4 w-4"}),"Reject Request"]}),a.jsxs(Jt,{onClick:()=>b&&ee(b.id),disabled:d===(b==null?void 0:b.id),children:[d===(b==null?void 0:b.id)?a.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Ii,{className:"mr-2 h-4 w-4"}),"Accept Request"]})]})]})})]})}),a.jsx(I0,{open:B,onOpenChange:I,children:a.jsxs(Dh,{children:[a.jsxs(Oh,{children:[a.jsx(Mh,{children:"Reject Registration Request"}),a.jsx(Uh,{children:"Are you sure you want to reject this registration request? This action cannot be undone."})]}),a.jsx("div",{className:"space-y-4 py-2",children:a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"rejectionReason",children:"Reason for Rejection (Optional)"}),a.jsx(lm,{id:"rejectionReason",placeholder:"Provide a reason for rejection...",value:_,onChange:oe=>P(oe.target.value),rows:3,className:"mt-2"})]})}),a.jsx(Rh,{children:a.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2 w-full",children:[a.jsx(Jt,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),a.jsxs(Jt,{variant:"destructive",onClick:q,disabled:d===(b==null?void 0:b.id),children:[d===(b==null?void 0:b.id)?a.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(r0,{className:"mr-2 h-4 w-4"}),"Reject Request"]})]})})]})})]})})})})]})]})},P4e=()=>{const{libraryCode:e}=Xd(),t=Ur(),[r,n]=C.useState(null),[s,i]=C.useState(!0),[o,l]=C.useState(!1),[d,u]=C.useState(null),[h,m]=C.useState(!1),[y,p]=C.useState(null),[b,N]=C.useState({name:"",email:"",phone:"",address:"",father_name:"",aadhar_number:"",registration_number:"",branch_id:"",membership_start:"",membership_end:"",total_fee:"0",amount_paid:"0",cash:"0",online:"0",security_money:"0",discount:"0",shift_ids:[],seat_id:"",locker_id:"",remark:""});C.useEffect(()=>{e&&S()},[e]);const S=async()=>{try{i(!0);const I=await fetch(`${Sg}/public-registration/library/${e}`);if(!I.ok)throw I.status===404?new Error("Library not found. Please check the registration link."):new Error("Failed to load library information");const _=await I.json();n(_)}catch(I){u(I instanceof Error?I.message:"Failed to load library information")}finally{i(!1)}},w=(I,_)=>{N(P=>({...P,[I]:_}))},B=async I=>{if(I.preventDefault(),!b.name||!b.phone||!b.branch_id){Se.error("Please fill in all required fields (Name, Phone, Branch)");return}try{l(!0),u(null);const _=await fetch(`${Sg}/public-registration/library/${e}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...b,shift_ids:b.shift_ids.map(H=>parseInt(H)),branch_id:parseInt(b.branch_id),seat_id:b.seat_id&&b.seat_id!=="none"?parseInt(b.seat_id):null,locker_id:b.locker_id&&b.locker_id!=="none"?parseInt(b.locker_id):null})}),P=await _.json();if(!_.ok)throw new Error(P.message||"Registration failed");m(!0),p(P.requestId),Se.success("Registration request submitted successfully!")}catch(_){const P=_ instanceof Error?_.message:"Registration failed";u(P),Se.error(P)}finally{l(!1)}};return s?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ds,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading registration form..."})]})}):d&&!r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs(Mn,{className:"w-full max-w-md",children:[a.jsx(Da,{children:a.jsxs(Oa,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(ji,{className:"h-5 w-5"}),"Error"]})}),a.jsxs(Fs,{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:d}),a.jsx(Jt,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:"Go Home"})]})]})}):h?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs(Mn,{className:"w-full max-w-md",children:[a.jsx(Da,{children:a.jsxs(Oa,{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Sc,{className:"h-5 w-5"}),"Registration Submitted!"]})}),a.jsxs(Fs,{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"Your registration request has been submitted successfully."}),a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Request ID: ",a.jsxs("span",{className:"font-mono font-medium",children:["#",y]})]})]}),a.jsxs(Sd,{children:[a.jsx(ji,{className:"h-4 w-4"}),a.jsx(Ed,{children:"Your request is now pending review by the library administration. You will be contacted once your request is processed."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Jt,{onClick:()=>t(`/registration-status/${e}/${b.phone}`),className:"w-full",children:"Check Status"}),a.jsx(Jt,{onClick:()=>window.location.reload(),variant:"outline",className:"w-full",children:"Submit Another Request"})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(Mn,{className:"mb-6",children:a.jsxs(Da,{children:[a.jsxs(Oa,{className:"flex items-center gap-2",children:[a.jsx(_o,{className:"h-6 w-6"}),r==null?void 0:r.library.name]}),a.jsxs(Mc,{children:["Student Registration Form • Library Code: ",r==null?void 0:r.library.code]})]})}),a.jsxs(Mn,{children:[a.jsxs(Da,{children:[a.jsx(Oa,{children:"Student Registration"}),a.jsx(Mc,{children:"Please fill out all required information. Your request will be reviewed by the library administration."})]}),a.jsx(Fs,{children:a.jsxs("form",{onSubmit:B,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(ii,{className:"h-5 w-5"}),"Personal Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"name",children:"Full Name *"}),a.jsx($r,{id:"name",value:b.name,onChange:I=>w("name",I.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"father_name",children:"Father's Name"}),a.jsx($r,{id:"father_name",value:b.father_name,onChange:I=>w("father_name",I.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"phone",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(di,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx($r,{id:"phone",type:"tel",className:"pl-10",value:b.phone,onChange:I=>w("phone",I.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx($r,{id:"email",type:"email",className:"pl-10",value:b.email,onChange:I=>w("email",I.target.value)})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"aadhar_number",children:"Aadhar Number"}),a.jsx($r,{id:"aadhar_number",value:b.aadhar_number,onChange:I=>w("aadhar_number",I.target.value)})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"registration_number",children:"Registration Number"}),a.jsx($r,{id:"registration_number",value:b.registration_number,onChange:I=>w("registration_number",I.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"address",children:"Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(jo,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(lm,{id:"address",className:"pl-10",value:b.address,onChange:I=>w("address",I.target.value),rows:3})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(_o,{className:"h-5 w-5"}),"Library Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"branch_id",children:"Branch *"}),a.jsxs(Fc,{value:b.branch_id,onValueChange:I=>w("branch_id",I),children:[a.jsx(Hl,{children:a.jsx(kc,{placeholder:"Select a branch"})}),a.jsx(Vl,{children:r==null?void 0:r.branches.map(I=>a.jsx(Vs,{value:I.id.toString(),children:I.name},I.id))})]})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"seat_id",children:"Preferred Seat (Optional)"}),a.jsxs(Fc,{value:b.seat_id,onValueChange:I=>w("seat_id",I),children:[a.jsx(Hl,{children:a.jsx(kc,{placeholder:"Select a seat"})}),a.jsxs(Vl,{children:[a.jsx(Vs,{value:"none",children:"No preference"}),r==null?void 0:r.seats.map(I=>a.jsxs(Vs,{value:I.id.toString(),children:["Seat ",I.seat_number]},I.id))]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"locker_id",children:"Preferred Locker (Optional)"}),a.jsxs(Fc,{value:b.locker_id,onValueChange:I=>w("locker_id",I),children:[a.jsx(Hl,{children:a.jsx(kc,{placeholder:"Select a locker"})}),a.jsxs(Vl,{children:[a.jsx(Vs,{value:"none",children:"No locker needed"}),r==null?void 0:r.lockers.map(I=>a.jsxs(Vs,{value:I.id.toString(),children:["Locker ",I.locker_number]},I.id))]})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(us,{className:"h-5 w-5"}),"Membership Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"membership_start",children:"Membership Start Date"}),a.jsx($r,{id:"membership_start",type:"date",value:b.membership_start,onChange:I=>w("membership_start",I.target.value)})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"membership_end",children:"Membership End Date"}),a.jsx($r,{id:"membership_end",type:"date",value:b.membership_end,onChange:I=>w("membership_end",I.target.value)})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(ef,{className:"h-5 w-5"}),"Payment Information (Optional)"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"total_fee",children:"Total Fee"}),a.jsx($r,{id:"total_fee",type:"number",min:"0",step:"0.01",value:b.total_fee,onChange:I=>w("total_fee",I.target.value)})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"cash",children:"Cash Payment"}),a.jsx($r,{id:"cash",type:"number",min:"0",step:"0.01",value:b.cash,onChange:I=>w("cash",I.target.value)})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"online",children:"Online Payment"}),a.jsx($r,{id:"online",type:"number",min:"0",step:"0.01",value:b.online,onChange:I=>w("online",I.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"security_money",children:"Security Money"}),a.jsx($r,{id:"security_money",type:"number",min:"0",step:"0.01",value:b.security_money,onChange:I=>w("security_money",I.target.value)})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"discount",children:"Discount"}),a.jsx($r,{id:"discount",type:"number",min:"0",step:"0.01",value:b.discount,onChange:I=>w("discount",I.target.value)})]})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"remark",children:"Additional Notes"}),a.jsx(lm,{id:"remark",value:b.remark,onChange:I=>w("remark",I.target.value),rows:3,placeholder:"Any additional information you'd like to share..."})]})}),d&&a.jsxs(Sd,{variant:"destructive",children:[a.jsx(ji,{className:"h-4 w-4"}),a.jsx(Ed,{children:d})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(Jt,{type:"submit",disabled:o,className:"flex-1",children:o?a.jsxs(a.Fragment,{children:[a.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Registration Request"}),a.jsx(Jt,{type:"button",variant:"outline",onClick:()=>t("/"),disabled:o,children:"Cancel"})]})]})})]})]})})},D4e=()=>{const{user:e}=Ys(),[t,r]=C.useState(!1),[n,s]=C.useState(null);return C.useEffect(()=>{e&&(async()=>{try{const o=await Re.getLibraryProfile();o&&o.library&&s({id:o.library.id,library_code:o.library.libraryCode,name:o.library.libraryName})}catch(o){console.error("Failed to load library profile",o),Se.error("Could not load library information")}})()},[e]),a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(an,{isCollapsed:t,setIsCollapsed:r,onBarcodeClick:()=>{}}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Public Registration"}),n?a.jsx(WR,{libraryCode:n.library_code,libraryName:n.name}):a.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-gray-500",children:"Loading library information..."})]})})]})},O4e=()=>{const{libraryCode:e,phone:t}=Xd(),r=Ur(),[n,s]=C.useState(e||""),[i,o]=C.useState(t||""),[l,d]=C.useState(null),[u,h]=C.useState(!1),[m,y]=C.useState(null),[p,b]=C.useState(!1);C.useEffect(()=>{e&&t&&N()},[e,t]);const N=async()=>{if(!n||!i){Se.error("Please enter both library code and phone number");return}try{h(!0),y(null),b(!0);const I=await fetch(`${Sg}/public-registration/library/${n}/status/${i}`);if(!I.ok){if(I.status===404){const P=await I.json();throw new Error(P.message||"No registration request found")}throw new Error("Failed to check registration status")}const _=await I.json();d(_)}catch(I){const _=I instanceof Error?I.message:"Failed to check registration status";y(_),d(null)}finally{h(!1)}},S=I=>{switch(I){case"pending":return a.jsx(Zn,{className:"h-4 w-4"});case"accepted":return a.jsx(Sc,{className:"h-4 w-4"});case"rejected":return a.jsx(pA,{className:"h-4 w-4"});default:return a.jsx(ji,{className:"h-4 w-4"})}},w=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"accepted":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},B=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsx(Mn,{className:"mb-6",children:a.jsxs(Da,{children:[a.jsxs(Oa,{className:"flex items-center gap-2",children:[a.jsx(To,{className:"h-6 w-6"}),"Check Registration Status"]}),a.jsx(Mc,{children:"Enter your library code and phone number to check your registration request status"})]})}),a.jsx(Mn,{className:"mb-6",children:a.jsx(Fs,{className:"pt-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"libraryCode",children:"Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(_o,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx($r,{id:"libraryCode",placeholder:"e.g., LIB001",className:"pl-10",value:n,onChange:I=>s(I.target.value.toUpperCase())})]})]}),a.jsxs("div",{children:[a.jsx(Dt,{htmlFor:"phone",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(di,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx($r,{id:"phone",type:"tel",placeholder:"Your phone number",className:"pl-10",value:i,onChange:I=>o(I.target.value)})]})]})]}),a.jsx(Jt,{onClick:N,disabled:u,className:"w-full",children:u?a.jsxs(a.Fragment,{children:[a.jsx(ds,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(To,{className:"mr-2 h-4 w-4"}),"Check Status"]})})]})})}),m&&p&&a.jsxs(Sd,{variant:"destructive",className:"mb-6",children:[a.jsx(ji,{className:"h-4 w-4"}),a.jsx(Ed,{children:m})]}),l&&a.jsxs(Mn,{children:[a.jsxs(Da,{children:[a.jsxs(Oa,{className:"flex items-center gap-2",children:[a.jsx(_o,{className:"h-5 w-5"}),l.library.name]}),a.jsxs(Mc,{children:["Library Code: ",l.library.code]})]}),a.jsxs(Fs,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ii,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:l.request.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Request ID: #",l.request.id]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Status:"}),a.jsxs(sA,{className:`${w(l.request.status)} flex items-center gap-1`,children:[S(l.request.status),l.request.status.charAt(0).toUpperCase()+l.request.status.slice(1)]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-sm font-medium",children:"Submitted"}),a.jsx("span",{className:"text-sm text-gray-600",children:B(l.request.submittedAt)})]}),l.request.lastUpdated!==l.request.submittedAt&&a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-sm font-medium",children:"Last Updated"}),a.jsx("span",{className:"text-sm text-gray-600",children:B(l.request.lastUpdated)})]}),l.request.processedAt&&a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-sm font-medium",children:"Processed"}),a.jsx("span",{className:"text-sm text-gray-600",children:B(l.request.processedAt)})]})]}),l.request.status==="pending"&&a.jsxs(Sd,{children:[a.jsx(Zn,{className:"h-4 w-4"}),a.jsx(Ed,{children:"Your registration request is currently being reviewed by the library administration. You will be contacted once a decision is made."})]}),l.request.status==="accepted"&&a.jsxs(Sd,{className:"border-green-200 bg-green-50",children:[a.jsx(Sc,{className:"h-4 w-4 text-green-600"}),a.jsx(Ed,{className:"text-green-800",children:"Congratulations! Your registration request has been accepted. You should have received contact information from the library administration."})]}),l.request.status==="rejected"&&a.jsxs(Sd,{variant:"destructive",children:[a.jsx(pA,{className:"h-4 w-4"}),a.jsxs(Ed,{children:["Your registration request has been rejected.",l.request.rejectionReason&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("strong",{children:"Reason:"})," ",l.request.rejectionReason]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(Jt,{onClick:()=>r(`/register/${l.library.code}`),variant:"outline",className:"flex-1",children:"New Registration"}),a.jsx(Jt,{onClick:()=>window.location.reload(),variant:"outline",className:"flex-1",children:"Refresh Status"})]})]})]}),p&&!l&&!m&&!u&&a.jsx(Mn,{children:a.jsxs(Fs,{className:"pt-6 text-center",children:[a.jsx(ji,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Registration Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"No registration request was found for the provided library code and phone number."}),a.jsx(Jt,{onClick:()=>r("/"),variant:"outline",children:"Go Home"})]})})]})})},R4e=()=>{Ys();const e=Uc(),[t,r]=C.useState(!1),[n,s]=C.useState(!1),[i,o]=C.useState(""),[l,d]=C.useState("card"),[u,h]=C.useState(null),[m,y]=C.useState(new Date().toISOString().slice(0,7)),[p,b]=C.useState(""),[N,S]=C.useState(""),[w,B]=C.useState([]),[I,_]=C.useState(null),[P,H]=C.useState(""),[D,L]=C.useState(new Date().toISOString().split("T")[0]),[T,z]=C.useState(!1),[M,V]=C.useState(null),[J,Z]=C.useState(""),[ee,q]=C.useState(""),[X,Y]=C.useState(""),{data:K,isLoading:ce}=ko({queryKey:["advancePayments"],queryFn:async()=>await Re.getAdvancePayments()}),oe=(K==null?void 0:K.advancePayments)||[],Q=()=>{Se.info("Barcode scanning functionality")};Je.useEffect(()=>{Re.getBranches().then(B).catch(()=>Se.error("Failed to load branches"))},[]);const{data:G,isLoading:te}=ko({queryKey:["allStudents"],queryFn:async()=>await Re.getStudents(void 0,void 0,void 0)}),de=((G==null?void 0:G.students)||[]).filter(Le=>i&&(Le.name.toLowerCase().includes(i.toLowerCase())||Le.phone.includes(i))),ge=ca({mutationFn:async Le=>{await Re.addAdvancePayment(Le)},onSuccess:()=>{Se.success("Advance payment recorded successfully"),e.invalidateQueries({queryKey:["advancePayments"]}),He()},onError:()=>{Se.error("Failed to record advance payment")}}),ue=ca({mutationFn:async Le=>{const{id:rt,...mt}=Le;await Re.updateAdvancePayment(rt,mt)},onSuccess:()=>{Se.success("Advance payment updated"),e.invalidateQueries({queryKey:["advancePayments"]}),me()},onError:()=>Se.error("Failed to update advance payment")}),Ee=ca({mutationFn:async Le=>{await Re.toggleAdvancePaymentDone(Le.id,Le.isDone)},onSuccess:()=>{e.invalidateQueries({queryKey:["advancePayments"]})},onError:()=>Se.error("Failed to update status")}),ke=ca({mutationFn:async Le=>{await Re.deleteAdvancePayment(Le)},onSuccess:()=>{Se.success("Advance payment deleted"),e.invalidateQueries({queryKey:["advancePayments"]})},onError:()=>Se.error("Failed to delete advance payment")}),_e=()=>{if(!I){Se.error("Please select a student");return}const Le=parseFloat(P);if(isNaN(Le)||Le<=0){Se.error("Please enter a valid amount");return}if(!D){Se.error("Please select a payment date");return}ge.mutate({studentId:I.id,amount:Le,paymentDate:D})},Oe=()=>{s(!0),o(""),_(null),H(""),L(new Date().toISOString().split("T")[0])},He=()=>{s(!1),o(""),_(null),H(""),L(new Date().toISOString().split("T")[0])},Ne=Le=>{V(Le),Z(String(Le.amount??""));const rt=(Le.paymentDate||Le.payment_date||"").slice(0,10);q(rt),Y(Le.notes||""),z(!0)},me=()=>{z(!1),V(null),Z(""),q(""),Y("")},Pe=()=>{if(!M)return;const Le=parseFloat(J);if(!isFinite(Le)||Le<=0){Se.error("Enter a valid amount");return}if(!ee){Se.error("Select a payment date");return}ue.mutate({id:M.id,amount:Le,paymentDate:ee,notes:X||void 0})},nt=Le=>{const rt=!!(Le.isDone??Le.is_done);Ee.mutate({id:Le.id,isDone:!rt})},Xe=Le=>{window.confirm("Delete this advance payment?")&&ke.mutate(Le.id)},Ue=Le=>{_(Le),o("")},yt=oe.filter(Le=>{if(u&&Le.branch_name){const rt=w.find(mt=>mt.name===Le.branch_name);if(!rt||rt.id!==u)return!1}if(m&&(Le.payment_date||Le.paymentDate||"").substring(0,7)!==m)return!1;if(p&&N){const rt=Le.payment_date||Le.paymentDate;if(rt<p||rt>N)return!1}return!0}),We=yt.reduce((Le,rt)=>Le+Number(rt.amount||0),0),Vt=yt.length;return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(an,{isCollapsed:t,setIsCollapsed:r,onBarcodeClick:Q}),a.jsxs("div",{className:"flex-1 flex flex-col min-h-screen overflow-hidden",children:[a.jsx(zn,{}),a.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[a.jsx(Hr.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-3xl shadow-2xl p-6 md:p-8 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-2xl",children:a.jsx(w0,{size:40,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:"Advanced Payment"}),a.jsx("p",{className:"text-indigo-100",children:"Record advance payments from students"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"bg-white/20 rounded-xl p-1 hidden sm:flex",children:[a.jsxs("button",{onClick:()=>d("card"),className:`px-3 py-2 rounded-lg flex items-center gap-2 text-white transition ${l==="card"?"bg-white/30":"hover:bg-white/10"}`,title:"Card view",children:[a.jsx(LS,{size:18}),a.jsx("span",{className:"hidden md:inline text-sm",children:"Cards"})]}),a.jsxs("button",{onClick:()=>d("table"),className:`px-3 py-2 rounded-lg flex items-center gap-2 text-white transition ${l==="table"?"bg-white/30":"hover:bg-white/10"}`,title:"Table view",children:[a.jsx(GO,{size:18}),a.jsx("span",{className:"hidden md:inline text-sm",children:"Table"})]})]}),a.jsxs("button",{onClick:Oe,className:"bg-white text-indigo-600 px-4 md:px-6 py-3 rounded-xl font-semibold flex items-center gap-2 hover:bg-indigo-50 transition-all shadow-lg hover:shadow-xl",children:[a.jsx(FA,{size:20}),"Add Payment"]})]})]})}),a.jsxs(Hr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"bg-indigo-50 text-indigo-700 px-3 py-2 rounded-lg text-sm font-semibold",children:[Vt," payments"]}),a.jsxs("div",{className:"bg-emerald-50 text-emerald-700 px-3 py-2 rounded-lg text-sm font-semibold",children:["₹",We.toFixed(2)]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),a.jsxs("select",{value:u||"",onChange:Le=>h(Le.target.value?parseInt(Le.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"All Branches"}),w.map(Le=>a.jsx("option",{value:Le.id,children:Le.name},Le.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Month"}),a.jsx("input",{type:"month",value:m,onChange:Le=>y(Le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment From"}),a.jsx("input",{type:"date",value:p,onChange:Le=>b(Le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment To"}),a.jsx("input",{type:"date",value:N,onChange:Le=>S(Le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),a.jsx("div",{className:"flex items-end gap-2",children:a.jsx("button",{onClick:()=>{const Le=new Date().toISOString().slice(0,7);y(Le),b(""),S(""),h(null)},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm font-medium w-full",children:"This Month"})})]}),(u||m||p||N)&&a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:()=>{h(null),y(""),b(""),S("")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Clear All Filters"})})]}),l==="table"?a.jsxs(Hr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Advanced Payment Records"}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Showing ",yt.length," of ",oe.length," payments"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Student Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"ID/Reg No."}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Seat Number"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Branch"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Amount"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Payment Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Membership Expiry"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:yt.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[a.jsx(w0,{className:"mx-auto text-gray-300 mb-3",size:48}),a.jsx("p",{className:"text-gray-500",children:oe.length===0?"No advance payments recorded yet":"No payments match the selected filters"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:oe.length===0?'Click "Add Payment" to record one':"Try adjusting your filters"})]})}):yt.map(Le=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-gray-900 font-medium",children:Le.studentName||Le.student_name}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:Le.registrationNumber||Le.registration_number||"N/A"}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:Le.seatNumber||Le.seat_number||"N/A"}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:Le.branchName||Le.branch_name||"N/A"}),a.jsxs("td",{className:"px-6 py-4 text-gray-900 font-semibold",children:["₹",parseFloat(Le.amount).toFixed(2)]}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(Le.paymentDate||Le.payment_date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(Le.membershipExpiry||Le.membership_expiry).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4",children:Le.isDone||Le.is_done?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full bg-emerald-50 text-emerald-700",children:[a.jsx(t0,{size:14})," Done"]}):a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full bg-amber-50 text-amber-700",children:[a.jsx(uI,{size:14})," Pending"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Ne(Le),className:"px-3 py-1 rounded-lg bg-indigo-50 text-indigo-700 hover:bg-indigo-100 text-sm font-medium",title:"Edit",children:a.jsx(EN,{size:16})}),a.jsx("button",{onClick:()=>nt(Le),className:"px-3 py-1 rounded-lg bg-emerald-50 text-emerald-700 hover:bg-emerald-100 text-sm font-medium",title:Le.isDone||Le.is_done?"Mark as Pending":"Mark as Done",children:a.jsx(t0,{size:16})}),a.jsx("button",{onClick:()=>Xe(Le),className:"px-3 py-1 rounded-lg bg-rose-50 text-rose-700 hover:bg-rose-100 text-sm font-medium",title:"Delete",children:a.jsx(Xs,{size:16})})]})})]},Le.id))})]})})]}):a.jsx(Hr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"",children:yt.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center",children:[a.jsx(w0,{className:"mx-auto text-gray-300 mb-3",size:48}),a.jsx("p",{className:"text-gray-500",children:oe.length===0?"No advance payments recorded yet":"No payments match the selected filters"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:oe.length===0?'Click "Add Payment" to record one':"Try adjusting your filters"})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:yt.map(Le=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-5 border border-gray-100 hover:shadow-xl transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-sm text-gray-500",children:new Date(Le.paymentDate||Le.payment_date).toLocaleDateString()}),a.jsxs("div",{className:"flex items-center gap-2",children:[Le.isDone||Le.is_done?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full bg-emerald-50 text-emerald-700",children:[a.jsx(t0,{size:14})," Done"]}):a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full bg-amber-50 text-amber-700",children:[a.jsx(uI,{size:14})," Pending"]}),a.jsxs("div",{className:"px-2 py-1 text-xs rounded-full bg-emerald-50 text-emerald-700 font-semibold",children:["₹",parseFloat(Le.amount).toFixed(2)]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 text-white flex items-center justify-center font-bold",children:(Le.studentName||Le.student_name||"U").charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-900",children:Le.studentName||Le.student_name}),a.jsx("div",{className:"text-xs text-gray-500",children:Le.registrationNumber||Le.registration_number||"N/A"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jo,{size:14}),Le.branchName||Le.branch_name||"N/A"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(us,{size:14}),"Expiry: ",new Date(Le.membershipExpiry||Le.membership_expiry).toLocaleDateString()]}),a.jsxs("div",{className:"col-span-2 text-xs text-gray-500",children:["Seat: ",Le.seatNumber||Le.seat_number||"N/A"]})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[a.jsxs("button",{onClick:()=>Ne(Le),className:"px-3 py-2 rounded-lg bg-indigo-50 text-indigo-700 hover:bg-indigo-100 text-sm font-medium flex items-center gap-1",children:[a.jsx(EN,{size:16})," Edit"]}),a.jsxs("button",{onClick:()=>nt(Le),className:"px-3 py-2 rounded-lg bg-emerald-50 text-emerald-700 hover:bg-emerald-100 text-sm font-medium flex items-center gap-1",children:[a.jsx(t0,{size:16})," ",Le.isDone||Le.is_done?"Undo":"Mark Done"]}),a.jsxs("button",{onClick:()=>Xe(Le),className:"px-3 py-2 rounded-lg bg-rose-50 text-rose-700 hover:bg-rose-100 text-sm font-medium flex items-center gap-1",children:[a.jsx(Xs,{size:16})," Delete"]})]})]},Le.id))})})]})]}),n&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(Hr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full overflow-hidden max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-2xl font-bold text-white",children:"Add Advanced Payment"}),a.jsx("button",{onClick:He,className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:a.jsx(eo,{size:24})})]})}),a.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[I?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Selected Student"}),a.jsxs("div",{className:"bg-indigo-50 border-2 border-indigo-200 rounded-xl p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-indigo-900",children:I.name}),a.jsx("p",{className:"text-sm text-indigo-700",children:I.phone}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-indigo-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(jo,{size:14}),I.branchName]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(us,{size:14}),"Expires: ",new Date(I.membershipEnd).toLocaleDateString()]})]})]}),a.jsx("button",{onClick:()=>_(null),className:"text-indigo-600 hover:bg-indigo-100 rounded-lg p-2 transition-colors",children:a.jsx(eo,{size:20})})]})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Select Student *"}),a.jsxs("div",{className:"relative mb-3",children:[a.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search student by name or phone...",value:i,onChange:Le=>o(Le.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",autoFocus:!0})]}),a.jsx("div",{className:"border-2 border-gray-200 rounded-xl max-h-64 overflow-y-auto",children:te?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(ds,{className:"animate-spin text-indigo-600",size:32})}):i?de.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(ii,{className:"mx-auto mb-2 text-gray-300",size:40}),a.jsx("p",{children:"No students found"})]}):de.map(Le=>a.jsxs("button",{onClick:()=>Ue(Le),className:"w-full px-4 py-3 hover:bg-indigo-50 border-b border-gray-100 text-left transition-colors",children:[a.jsx("div",{className:"font-semibold text-gray-900",children:Le.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:[Le.phone," • ",Le.branchName]})]},Le.id)):a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(ii,{className:"mx-auto mb-2 text-gray-300",size:40}),a.jsx("p",{children:"Start typing to search students"})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Advance Amount (₹) *"}),a.jsxs("div",{className:"relative",children:[a.jsx(ef,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"number",value:P,onChange:Le=>H(Le.target.value),placeholder:"Enter advance amount",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:!I})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Payment Date *"}),a.jsxs("div",{className:"relative",children:[a.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"date",value:D,onChange:Le=>L(Le.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",disabled:!I})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{onClick:He,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),a.jsx("button",{onClick:_e,disabled:ge.isPending||!I,className:"flex-1 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ge.isPending?a.jsxs(a.Fragment,{children:[a.jsx(ds,{size:18,className:"animate-spin"}),"Recording..."]}):"Record Payment"})]})]})]})}),T&&M&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(Hr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Advance Payment"}),a.jsx("button",{onClick:me,className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:a.jsx(eo,{size:22})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Amount (₹)"}),a.jsxs("div",{className:"relative",children:[a.jsx(ef,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"number",value:J,onChange:Le=>Z(Le.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Payment Date"}),a.jsxs("div",{className:"relative",children:[a.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"date",value:ee,onChange:Le=>q(Le.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes"}),a.jsx("textarea",{value:X,onChange:Le=>Y(Le.target.value),rows:3,className:"w-full px-3 py-2 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Optional notes"})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{onClick:me,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),a.jsx("button",{onClick:Pe,disabled:ue.isPending,className:"flex-1 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:ue.isPending?a.jsxs(a.Fragment,{children:[a.jsx(ds,{size:18,className:"animate-spin"})," Saving..."]}):"Save Changes"})]})]})]})})]})},M4e=new mq;function Dr({children:e}){const{isLoading:t,isAuthenticated:r}=Ys();return t?a.jsx("div",{children:"Loading..."}):r?e:a.jsx(uS,{to:"/owner-login"})}function U4e(){return a.jsxs(yX,{children:[a.jsx(dr,{path:"/owner-register",element:a.jsx(fbe,{})}),a.jsx(dr,{path:"/owner-login",element:a.jsx(pbe,{})}),a.jsx(dr,{path:"/student-login",element:a.jsx(gbe,{})}),a.jsx(dr,{path:"/student-dashboard",element:a.jsx(Wbe,{})}),a.jsx(dr,{path:"/",element:a.jsx($be,{})}),a.jsx(dr,{path:"/dashboard",element:a.jsx(Dr,{children:a.jsx(Mae,{})})}),a.jsx(dr,{path:"/barcode",element:a.jsx(Dr,{children:a.jsx(qbe,{})})}),a.jsx(dr,{path:"/hostel-dashboard",element:a.jsx(Dr,{children:a.jsx(ibe,{})})}),a.jsx(dr,{path:"/hostel/active-students",element:a.jsx(Dr,{children:a.jsx(obe,{})})}),a.jsx(dr,{path:"/students",element:a.jsx(Dr,{children:a.jsx(m0e,{})})}),a.jsx(dr,{path:"/students/add",element:a.jsx(Dr,{children:a.jsx(KR,{})})}),a.jsx(dr,{path:"/students/:id",element:a.jsx(Dr,{children:a.jsx(o1e,{})})}),a.jsx(dr,{path:"/students/:id/edit",element:a.jsx(Dr,{children:a.jsx(exe,{})})}),a.jsx(dr,{path:"/attendance",element:a.jsx(Dr,{children:a.jsx(dbe,{})})}),a.jsx(dr,{path:"/qr-test",element:a.jsx(Dr,{children:a.jsx(ube,{})})}),a.jsx(dr,{path:"/active-students",element:a.jsx(Dr,{children:a.jsx(Hae,{})})}),a.jsx(dr,{path:"/expired-memberships",element:a.jsx(Dr,{children:a.jsx(i1e,{})})}),a.jsx(dr,{path:"/expiring-memberships",element:a.jsx(Dr,{children:a.jsx(w_,{})})}),a.jsx(dr,{path:"/inactive-students",element:a.jsx(Dr,{children:a.jsx(lbe,{})})}),a.jsx(dr,{path:"/expiring-memberships",element:a.jsx(Dr,{children:a.jsx(w_,{})})}),a.jsx(dr,{path:"/schedule",element:a.jsx(Dr,{children:a.jsx(K1e,{})})}),a.jsx(dr,{path:"/shifts",element:a.jsx(Dr,{children:a.jsx(Uve,{})})}),a.jsx(dr,{path:"/shifts/:id/students",element:a.jsx(Dr,{children:a.jsx(Qve,{})})}),a.jsx(dr,{path:"/seats",element:a.jsx(Dr,{children:a.jsx(txe,{})})}),a.jsx(dr,{path:"/settings",element:a.jsx(Dr,{children:a.jsx(Z1e,{})})}),a.jsx(dr,{path:"/users/new",element:a.jsx(W_,{children:a.jsx(J1e,{})})}),a.jsx(dr,{path:"/hostel",element:a.jsx(Dr,{children:a.jsx(Kve,{})})}),a.jsx(dr,{path:"/hostel/branches/:branchId/students",element:a.jsx(Dr,{children:a.jsx(Wve,{})})}),a.jsx(dr,{path:"/hostel/students/:id",element:a.jsx(Dr,{children:a.jsx($ve,{})})}),a.jsx(dr,{path:"/hostel/students/:id/edit",element:a.jsx(Dr,{children:a.jsx(qve,{})})}),a.jsx(dr,{path:"/hostel/collections",element:a.jsx(Dr,{children:a.jsx(rbe,{})})}),a.jsx(dr,{path:"/hostel/expired",element:a.jsx(Dr,{children:a.jsx(nbe,{})})}),a.jsx(dr,{path:"/transactions",element:a.jsx(Dr,{children:a.jsx(Zve,{})})}),a.jsx(dr,{path:"/advanced-payment",element:a.jsx(Dr,{children:a.jsx(R4e,{})})}),a.jsx(dr,{path:"/collections",element:a.jsx(Dr,{children:a.jsx(Jve,{})})}),a.jsx(dr,{path:"/expenses",element:a.jsx(Dr,{children:a.jsx(ebe,{})})}),a.jsx(dr,{path:"/profit-loss",element:a.jsx(Dr,{children:a.jsx(tbe,{})})}),a.jsx(dr,{path:"/public-registration",element:a.jsx(Dr,{children:a.jsx(D4e,{})})}),a.jsx(dr,{path:"/branches",element:a.jsx(Dr,{children:a.jsx(sbe,{})})}),a.jsx(dr,{path:"/products",element:a.jsx(Dr,{children:a.jsx(abe,{})})}),a.jsx(dr,{path:"/announcements",element:a.jsx(Dr,{children:a.jsx(u4e,{})})}),a.jsx(dr,{path:"/admission-requests",element:a.jsx(Dr,{children:a.jsx(L4e,{})})}),a.jsx(dr,{path:"/register/:libraryCode",element:a.jsx(P4e,{})}),a.jsx(dr,{path:"/registration-status/:libraryCode?/:phone?",element:a.jsx(O4e,{})}),a.jsx(dr,{path:"/public-queries",element:a.jsx(Dr,{children:a.jsx(IV,{})})}),a.jsx(dr,{path:"/admin/queries",element:a.jsx(W_,{children:a.jsx(h4e,{})})}),a.jsx(dr,{path:"/queries/new",element:a.jsx(Dr,{children:a.jsx(m4e,{})})}),a.jsx(dr,{path:"/queries/:id",element:a.jsx(Dr,{children:a.jsx(f4e,{})})}),a.jsx(dr,{path:"/lockers",element:a.jsx(Dr,{children:a.jsx(cbe,{})})}),a.jsx(dr,{path:"/subscription",element:a.jsx(Dr,{children:a.jsx(hbe,{})})}),a.jsx(dr,{path:"*",element:a.jsx(Uae,{})})]})}function Q4e(){return a.jsx(wq,{client:M4e,children:a.jsx(gO,{children:a.jsx(Ree,{children:a.jsxs(jX,{children:[a.jsx(U4e,{}),a.jsx(c$,{}),a.jsx(J$,{position:"top-right"})]})})})})}tD(document.getElementById("root")).render(a.jsx(Q4e,{}));export{hp as _,Rf as c,a1 as g};
