var _S=e=>{throw TypeError(e)};var Z2=(e,t,r)=>t.has(e)||_S("Cannot "+r);var Ee=(e,t,r)=>(Z2(e,t,"read from private field"),r?r.call(e):t.get(e)),$t=(e,t,r)=>t.has(e)?_S("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),jt=(e,t,r,n)=>(Z2(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Br=(e,t,r)=>(Z2(e,t,"access private method"),r);var Wg=(e,t,r,n)=>({set _(s){jt(e,t,s,r)},get _(){return Ee(e,t,n)}});function AT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uT={exports:{}},aw={},dT={exports:{}},jr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp=Symbol.for("react.element"),qQ=Symbol.for("react.portal"),XQ=Symbol.for("react.fragment"),YQ=Symbol.for("react.strict_mode"),JQ=Symbol.for("react.profiler"),ZQ=Symbol.for("react.provider"),e9=Symbol.for("react.context"),t9=Symbol.for("react.forward_ref"),r9=Symbol.for("react.suspense"),n9=Symbol.for("react.memo"),s9=Symbol.for("react.lazy"),MS=Symbol.iterator;function a9(e){return e===null||typeof e!="object"?null:(e=MS&&e[MS]||e["@@iterator"],typeof e=="function"?e:null)}var hT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fT=Object.assign,mT={};function y0(e,t,r){this.props=e,this.context=t,this.refs=mT,this.updater=r||hT}y0.prototype.isReactComponent={};y0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};y0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pT(){}pT.prototype=y0.prototype;function oB(e,t,r){this.props=e,this.context=t,this.refs=mT,this.updater=r||hT}var lB=oB.prototype=new pT;lB.constructor=oB;fT(lB,y0.prototype);lB.isPureReactComponent=!0;var US=Array.isArray,gT=Object.prototype.hasOwnProperty,cB={current:null},xT={key:!0,ref:!0,__self:!0,__source:!0};function yT(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)gT.call(t,n)&&!xT.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var A=Array(l),d=0;d<l;d++)A[d]=arguments[d+2];s.children=A}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Zp,type:e,key:a,ref:o,props:s,_owner:cB.current}}function i9(e,t){return{$$typeof:Zp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function AB(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zp}function o9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var QS=/\/+/g;function ev(e,t){return typeof e=="object"&&e!==null&&e.key!=null?o9(""+e.key):t.toString(36)}function tx(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Zp:case qQ:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ev(o,0):n,US(s)?(r="",e!=null&&(r=e.replace(QS,"$&/")+"/"),tx(s,t,r,"",function(d){return d})):s!=null&&(AB(s)&&(s=i9(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(QS,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",US(e))for(var l=0;l<e.length;l++){a=e[l];var A=n+ev(a,l);o+=tx(a,t,r,A,s)}else if(A=a9(e),typeof A=="function")for(e=A.call(e),l=0;!(a=e.next()).done;)a=a.value,A=n+ev(a,l++),o+=tx(a,t,r,A,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zg(e,t,r){if(e==null)return e;var n=[],s=0;return tx(e,n,"","",function(a){return t.call(r,a,s++)}),n}function l9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ui={current:null},rx={transition:null},c9={ReactCurrentDispatcher:ui,ReactCurrentBatchConfig:rx,ReactCurrentOwner:cB};function wT(){throw Error("act(...) is not supported in production builds of React.")}jr.Children={map:zg,forEach:function(e,t,r){zg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zg(e,function(){t++}),t},toArray:function(e){return zg(e,function(t){return t})||[]},only:function(e){if(!AB(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jr.Component=y0;jr.Fragment=XQ;jr.Profiler=JQ;jr.PureComponent=oB;jr.StrictMode=YQ;jr.Suspense=r9;jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c9;jr.act=wT;jr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=fT({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=cB.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(A in t)gT.call(t,A)&&!xT.hasOwnProperty(A)&&(n[A]=t[A]===void 0&&l!==void 0?l[A]:t[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){l=Array(A);for(var d=0;d<A;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Zp,type:e.type,key:s,ref:a,props:n,_owner:o}};jr.createContext=function(e){return e={$$typeof:e9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZQ,_context:e},e.Consumer=e};jr.createElement=yT;jr.createFactory=function(e){var t=yT.bind(null,e);return t.type=e,t};jr.createRef=function(){return{current:null}};jr.forwardRef=function(e){return{$$typeof:t9,render:e}};jr.isValidElement=AB;jr.lazy=function(e){return{$$typeof:s9,_payload:{_status:-1,_result:e},_init:l9}};jr.memo=function(e,t){return{$$typeof:n9,type:e,compare:t===void 0?null:t}};jr.startTransition=function(e){var t=rx.transition;rx.transition={};try{e()}finally{rx.transition=t}};jr.unstable_act=wT;jr.useCallback=function(e,t){return ui.current.useCallback(e,t)};jr.useContext=function(e){return ui.current.useContext(e)};jr.useDebugValue=function(){};jr.useDeferredValue=function(e){return ui.current.useDeferredValue(e)};jr.useEffect=function(e,t){return ui.current.useEffect(e,t)};jr.useId=function(){return ui.current.useId()};jr.useImperativeHandle=function(e,t,r){return ui.current.useImperativeHandle(e,t,r)};jr.useInsertionEffect=function(e,t){return ui.current.useInsertionEffect(e,t)};jr.useLayoutEffect=function(e,t){return ui.current.useLayoutEffect(e,t)};jr.useMemo=function(e,t){return ui.current.useMemo(e,t)};jr.useReducer=function(e,t,r){return ui.current.useReducer(e,t,r)};jr.useRef=function(e){return ui.current.useRef(e)};jr.useState=function(e){return ui.current.useState(e)};jr.useSyncExternalStore=function(e,t,r){return ui.current.useSyncExternalStore(e,t,r)};jr.useTransition=function(){return ui.current.useTransition()};jr.version="18.3.1";dT.exports=jr;var N=dT.exports;const Ye=Jp(N),Zf=AT({__proto__:null,default:Ye},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A9=N,u9=Symbol.for("react.element"),d9=Symbol.for("react.fragment"),h9=Object.prototype.hasOwnProperty,f9=A9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m9={key:!0,ref:!0,__self:!0,__source:!0};function vT(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)h9.call(t,n)&&!m9.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:u9,type:e,key:a,ref:o,props:s,_owner:f9.current}}aw.Fragment=d9;aw.jsx=vT;aw.jsxs=vT;uT.exports=aw;var i=uT.exports,bT={exports:{}},no={},CT={exports:{}},BT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,K){var ae=Y.length;Y.push(K);e:for(;0<ae;){var be=ae-1>>>1,H=Y[be];if(0<s(H,K))Y[be]=K,Y[ae]=H,ae=be;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var K=Y[0],ae=Y.pop();if(ae!==K){Y[0]=ae;e:for(var be=0,H=Y.length,ee=H>>>1;be<ee;){var ie=2*(be+1)-1,le=Y[ie],ce=ie+1,me=Y[ce];if(0>s(le,ae))ce<H&&0>s(me,le)?(Y[be]=me,Y[ce]=ae,be=ce):(Y[be]=le,Y[ie]=ae,be=ie);else if(ce<H&&0>s(me,ae))Y[be]=me,Y[ce]=ae,be=ce;else break e}}return K}function s(Y,K){var ae=Y.sortIndex-K.sortIndex;return ae!==0?ae:Y.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var A=[],d=[],f=1,m=null,y=3,g=!1,b=!1,C=!1,F=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Y){for(var K=r(d);K!==null;){if(K.callback===null)n(d);else if(K.startTime<=Y)n(d),K.sortIndex=K.expirationTime,t(A,K);else break;K=r(d)}}function k(Y){if(C=!1,I(Y),!b)if(r(A)!==null)b=!0,q(M);else{var K=r(d);K!==null&&W(k,K.startTime-Y)}}function M(Y,K){b=!1,C&&(C=!1,v(R),R=-1),g=!0;var ae=y;try{for(I(K),m=r(A);m!==null&&(!(m.expirationTime>K)||Y&&!U());){var be=m.callback;if(typeof be=="function"){m.callback=null,y=m.priorityLevel;var H=be(m.expirationTime<=K);K=e.unstable_now(),typeof H=="function"?m.callback=H:m===r(A)&&n(A),I(K)}else n(A);m=r(A)}if(m!==null)var ee=!0;else{var ie=r(d);ie!==null&&W(k,ie.startTime-K),ee=!1}return ee}finally{m=null,y=ae,g=!1}}var V=!1,O=null,R=-1,_=5,J=-1;function U(){return!(e.unstable_now()-J<_)}function Q(){if(O!==null){var Y=e.unstable_now();J=Y;var K=!0;try{K=O(!0,Y)}finally{K?X():(V=!1,O=null)}}else V=!1}var X;if(typeof S=="function")X=function(){S(Q)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=Q,X=function(){$.postMessage(null)}}else X=function(){F(Q,0)};function q(Y){O=Y,V||(V=!0,X())}function W(Y,K){R=F(function(){Y(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,q(M))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(A)},e.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var ae=y;y=K;try{return Y()}finally{y=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ae=y;y=Y;try{return K()}finally{y=ae}},e.unstable_scheduleCallback=function(Y,K,ae){var be=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?be+ae:be):ae=be,Y){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ae+H,Y={id:f++,callback:K,priorityLevel:Y,startTime:ae,expirationTime:H,sortIndex:-1},ae>be?(Y.sortIndex=ae,t(d,Y),r(A)===null&&Y===r(d)&&(C?(v(R),R=-1):C=!0,W(k,ae-be))):(Y.sortIndex=H,t(A,Y),b||g||(b=!0,q(M))),Y},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(Y){var K=y;return function(){var ae=y;y=K;try{return Y.apply(this,arguments)}finally{y=ae}}}})(BT);CT.exports=BT;var p9=CT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g9=N,eo=p9;function mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NT=new Set,ip={};function wh(e,t){e0(e,t),e0(e+"Capture",t)}function e0(e,t){for(ip[e]=t,e=0;e<t.length;e++)NT.add(t[e])}var Wc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iC=Object.prototype.hasOwnProperty,x9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HS={},VS={};function y9(e){return iC.call(VS,e)?!0:iC.call(HS,e)?!1:x9.test(e)?VS[e]=!0:(HS[e]=!0,!1)}function w9(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v9(e,t,r,n){if(t===null||typeof t>"u"||w9(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function di(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ba={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ba[e]=new di(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ba[t]=new di(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ba[e]=new di(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ba[e]=new di(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ba[e]=new di(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ba[e]=new di(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ba[e]=new di(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ba[e]=new di(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ba[e]=new di(e,5,!1,e.toLowerCase(),null,!1,!1)});var uB=/[\-:]([a-z])/g;function dB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uB,dB);ba[t]=new di(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uB,dB);ba[t]=new di(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uB,dB);ba[t]=new di(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ba[e]=new di(e,1,!1,e.toLowerCase(),null,!1,!1)});ba.xlinkHref=new di("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ba[e]=new di(e,1,!1,e.toLowerCase(),null,!0,!0)});function hB(e,t,r,n){var s=ba.hasOwnProperty(t)?ba[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v9(t,r,s,n)&&(r=null),n||s===null?y9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var sA=g9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$g=Symbol.for("react.element"),rf=Symbol.for("react.portal"),nf=Symbol.for("react.fragment"),fB=Symbol.for("react.strict_mode"),oC=Symbol.for("react.profiler"),ST=Symbol.for("react.provider"),ET=Symbol.for("react.context"),mB=Symbol.for("react.forward_ref"),lC=Symbol.for("react.suspense"),cC=Symbol.for("react.suspense_list"),pB=Symbol.for("react.memo"),KA=Symbol.for("react.lazy"),FT=Symbol.for("react.offscreen"),KS=Symbol.iterator;function W0(e){return e===null||typeof e!="object"?null:(e=KS&&e[KS]||e["@@iterator"],typeof e=="function"?e:null)}var cs=Object.assign,tv;function pm(e){if(tv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);tv=t&&t[1]||""}return`
`+tv+e}var rv=!1;function nv(e,t){if(!e||rv)return"";rv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var A=`
`+s[o].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=o&&0<=l);break}}}finally{rv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pm(e):""}function b9(e){switch(e.tag){case 5:return pm(e.type);case 16:return pm("Lazy");case 13:return pm("Suspense");case 19:return pm("SuspenseList");case 0:case 2:case 15:return e=nv(e.type,!1),e;case 11:return e=nv(e.type.render,!1),e;case 1:return e=nv(e.type,!0),e;default:return""}}function AC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nf:return"Fragment";case rf:return"Portal";case oC:return"Profiler";case fB:return"StrictMode";case lC:return"Suspense";case cC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ET:return(e.displayName||"Context")+".Consumer";case ST:return(e._context.displayName||"Context")+".Provider";case mB:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pB:return t=e.displayName||null,t!==null?t:AC(e.type)||"Memo";case KA:t=e._payload,e=e._init;try{return AC(e(t))}catch{}}return null}function C9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return AC(t);case 8:return t===fB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ju(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function IT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B9(e){var t=IT(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qg(e){e._valueTracker||(e._valueTracker=B9(e))}function jT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=IT(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uC(e,t){var r=t.checked;return cs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function GS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ju(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function TT(e,t){t=t.checked,t!=null&&hB(e,"checked",t,!1)}function dC(e,t){TT(e,t);var r=ju(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hC(e,t.type,r):t.hasOwnProperty("defaultValue")&&hC(e,t.type,ju(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function WS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function hC(e,t,r){(t!=="number"||Qx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var gm=Array.isArray;function Cf(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ju(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(mt(91));return cs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(mt(92));if(gm(r)){if(1<r.length)throw Error(mt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ju(r)}}function LT(e,t){var r=ju(t.value),n=ju(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $S(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xg,PT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xg=Xg||document.createElement("div"),Xg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function op(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Dm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N9=["Webkit","ms","Moz","O"];Object.keys(Dm).forEach(function(e){N9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dm[t]=Dm[e]})});function OT(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Dm.hasOwnProperty(e)&&Dm[e]?(""+t).trim():t+"px"}function RT(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=OT(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var S9=cs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pC(e,t){if(t){if(S9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(mt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(mt(62))}}function gC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xC=null;function gB(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yC=null,Bf=null,Nf=null;function qS(e){if(e=rg(e)){if(typeof yC!="function")throw Error(mt(280));var t=e.stateNode;t&&(t=Aw(t),yC(e.stateNode,e.type,t))}}function DT(e){Bf?Nf?Nf.push(e):Nf=[e]:Bf=e}function _T(){if(Bf){var e=Bf,t=Nf;if(Nf=Bf=null,qS(e),t)for(e=0;e<t.length;e++)qS(t[e])}}function MT(e,t){return e(t)}function UT(){}var sv=!1;function QT(e,t,r){if(sv)return e(t,r);sv=!0;try{return MT(e,t,r)}finally{sv=!1,(Bf!==null||Nf!==null)&&(UT(),_T())}}function lp(e,t){var r=e.stateNode;if(r===null)return null;var n=Aw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(mt(231,t,typeof r));return r}var wC=!1;if(Wc)try{var z0={};Object.defineProperty(z0,"passive",{get:function(){wC=!0}}),window.addEventListener("test",z0,z0),window.removeEventListener("test",z0,z0)}catch{wC=!1}function E9(e,t,r,n,s,a,o,l,A){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var _m=!1,Hx=null,Vx=!1,vC=null,F9={onError:function(e){_m=!0,Hx=e}};function I9(e,t,r,n,s,a,o,l,A){_m=!1,Hx=null,E9.apply(F9,arguments)}function j9(e,t,r,n,s,a,o,l,A){if(I9.apply(this,arguments),_m){if(_m){var d=Hx;_m=!1,Hx=null}else throw Error(mt(198));Vx||(Vx=!0,vC=d)}}function vh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function HT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function XS(e){if(vh(e)!==e)throw Error(mt(188))}function T9(e){var t=e.alternate;if(!t){if(t=vh(e),t===null)throw Error(mt(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return XS(s),e;if(a===n)return XS(s),t;a=a.sibling}throw Error(mt(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(mt(189))}}if(r.alternate!==n)throw Error(mt(190))}if(r.tag!==3)throw Error(mt(188));return r.stateNode.current===r?e:t}function VT(e){return e=T9(e),e!==null?KT(e):null}function KT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=KT(e);if(t!==null)return t;e=e.sibling}return null}var GT=eo.unstable_scheduleCallback,YS=eo.unstable_cancelCallback,L9=eo.unstable_shouldYield,k9=eo.unstable_requestPaint,Ls=eo.unstable_now,P9=eo.unstable_getCurrentPriorityLevel,xB=eo.unstable_ImmediatePriority,WT=eo.unstable_UserBlockingPriority,Kx=eo.unstable_NormalPriority,O9=eo.unstable_LowPriority,zT=eo.unstable_IdlePriority,iw=null,Ul=null;function R9(e){if(Ul&&typeof Ul.onCommitFiberRoot=="function")try{Ul.onCommitFiberRoot(iw,e,void 0,(e.current.flags&128)===128)}catch{}}var sl=Math.clz32?Math.clz32:M9,D9=Math.log,_9=Math.LN2;function M9(e){return e>>>=0,e===0?32:31-(D9(e)/_9|0)|0}var Yg=64,Jg=4194304;function xm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=xm(l):(a&=o,a!==0&&(n=xm(a)))}else o=r&~s,o!==0?n=xm(o):a!==0&&(n=xm(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-sl(t),s=1<<r,n|=e[r],t&=~s;return n}function U9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-sl(a),l=1<<o,A=s[o];A===-1?(!(l&r)||l&n)&&(s[o]=U9(l,t)):A<=t&&(e.expiredLanes|=l),a&=~l}}function bC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $T(){var e=Yg;return Yg<<=1,!(Yg&4194240)&&(Yg=64),e}function av(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function eg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sl(t),e[t]=r}function H9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-sl(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function yB(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-sl(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var un=0;function qT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XT,wB,YT,JT,ZT,CC=!1,Zg=[],pu=null,gu=null,xu=null,cp=new Map,Ap=new Map,zA=[],V9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JS(e,t){switch(e){case"focusin":case"focusout":pu=null;break;case"dragenter":case"dragleave":gu=null;break;case"mouseover":case"mouseout":xu=null;break;case"pointerover":case"pointerout":cp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ap.delete(t.pointerId)}}function $0(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=rg(t),t!==null&&wB(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function K9(e,t,r,n,s){switch(t){case"focusin":return pu=$0(pu,e,t,r,n,s),!0;case"dragenter":return gu=$0(gu,e,t,r,n,s),!0;case"mouseover":return xu=$0(xu,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return cp.set(a,$0(cp.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ap.set(a,$0(Ap.get(a)||null,e,t,r,n,s)),!0}return!1}function eL(e){var t=Ed(e.target);if(t!==null){var r=vh(t);if(r!==null){if(t=r.tag,t===13){if(t=HT(r),t!==null){e.blockedOn=t,ZT(e.priority,function(){YT(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=BC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);xC=n,r.target.dispatchEvent(n),xC=null}else return t=rg(r),t!==null&&wB(t),e.blockedOn=r,!1;t.shift()}return!0}function ZS(e,t,r){nx(e)&&r.delete(t)}function G9(){CC=!1,pu!==null&&nx(pu)&&(pu=null),gu!==null&&nx(gu)&&(gu=null),xu!==null&&nx(xu)&&(xu=null),cp.forEach(ZS),Ap.forEach(ZS)}function q0(e,t){e.blockedOn===t&&(e.blockedOn=null,CC||(CC=!0,eo.unstable_scheduleCallback(eo.unstable_NormalPriority,G9)))}function up(e){function t(s){return q0(s,e)}if(0<Zg.length){q0(Zg[0],e);for(var r=1;r<Zg.length;r++){var n=Zg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(pu!==null&&q0(pu,e),gu!==null&&q0(gu,e),xu!==null&&q0(xu,e),cp.forEach(t),Ap.forEach(t),r=0;r<zA.length;r++)n=zA[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<zA.length&&(r=zA[0],r.blockedOn===null);)eL(r),r.blockedOn===null&&zA.shift()}var Sf=sA.ReactCurrentBatchConfig,Wx=!0;function W9(e,t,r,n){var s=un,a=Sf.transition;Sf.transition=null;try{un=1,vB(e,t,r,n)}finally{un=s,Sf.transition=a}}function z9(e,t,r,n){var s=un,a=Sf.transition;Sf.transition=null;try{un=4,vB(e,t,r,n)}finally{un=s,Sf.transition=a}}function vB(e,t,r,n){if(Wx){var s=BC(e,t,r,n);if(s===null)mv(e,t,n,zx,r),JS(e,n);else if(K9(s,e,t,r,n))n.stopPropagation();else if(JS(e,n),t&4&&-1<V9.indexOf(e)){for(;s!==null;){var a=rg(s);if(a!==null&&XT(a),a=BC(e,t,r,n),a===null&&mv(e,t,n,zx,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else mv(e,t,n,null,r)}}var zx=null;function BC(e,t,r,n){if(zx=null,e=gB(n),e=Ed(e),e!==null)if(t=vh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=HT(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zx=e,null}function tL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(P9()){case xB:return 1;case WT:return 4;case Kx:case O9:return 16;case zT:return 536870912;default:return 16}default:return 16}}var ou=null,bB=null,sx=null;function rL(){if(sx)return sx;var e,t=bB,r=t.length,n,s="value"in ou?ou.value:ou.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return sx=s.slice(e,1<n?1-n:void 0)}function ax(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function e1(){return!0}function eE(){return!1}function so(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?e1:eE,this.isPropagationStopped=eE,this}return cs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=e1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=e1)},persist:function(){},isPersistent:e1}),t}var w0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CB=so(w0),tg=cs({},w0,{view:0,detail:0}),$9=so(tg),iv,ov,X0,ow=cs({},tg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BB,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==X0&&(X0&&e.type==="mousemove"?(iv=e.screenX-X0.screenX,ov=e.screenY-X0.screenY):ov=iv=0,X0=e),iv)},movementY:function(e){return"movementY"in e?e.movementY:ov}}),tE=so(ow),q9=cs({},ow,{dataTransfer:0}),X9=so(q9),Y9=cs({},tg,{relatedTarget:0}),lv=so(Y9),J9=cs({},w0,{animationName:0,elapsedTime:0,pseudoElement:0}),Z9=so(J9),eH=cs({},w0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tH=so(eH),rH=cs({},w0,{data:0}),rE=so(rH),nH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iH(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aH[e])?!!t[e]:!1}function BB(){return iH}var oH=cs({},tg,{key:function(e){if(e.key){var t=nH[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ax(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sH[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BB,charCode:function(e){return e.type==="keypress"?ax(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ax(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lH=so(oH),cH=cs({},ow,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nE=so(cH),AH=cs({},tg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BB}),uH=so(AH),dH=cs({},w0,{propertyName:0,elapsedTime:0,pseudoElement:0}),hH=so(dH),fH=cs({},ow,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mH=so(fH),pH=[9,13,27,32],NB=Wc&&"CompositionEvent"in window,Mm=null;Wc&&"documentMode"in document&&(Mm=document.documentMode);var gH=Wc&&"TextEvent"in window&&!Mm,nL=Wc&&(!NB||Mm&&8<Mm&&11>=Mm),sE=" ",aE=!1;function sL(e,t){switch(e){case"keyup":return pH.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sf=!1;function xH(e,t){switch(e){case"compositionend":return aL(t);case"keypress":return t.which!==32?null:(aE=!0,sE);case"textInput":return e=t.data,e===sE&&aE?null:e;default:return null}}function yH(e,t){if(sf)return e==="compositionend"||!NB&&sL(e,t)?(e=rL(),sx=bB=ou=null,sf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nL&&t.locale!=="ko"?null:t.data;default:return null}}var wH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wH[e.type]:t==="textarea"}function iL(e,t,r,n){DT(n),t=$x(t,"onChange"),0<t.length&&(r=new CB("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Um=null,dp=null;function vH(e){gL(e,0)}function lw(e){var t=lf(e);if(jT(t))return e}function bH(e,t){if(e==="change")return t}var oL=!1;if(Wc){var cv;if(Wc){var Av="oninput"in document;if(!Av){var oE=document.createElement("div");oE.setAttribute("oninput","return;"),Av=typeof oE.oninput=="function"}cv=Av}else cv=!1;oL=cv&&(!document.documentMode||9<document.documentMode)}function lE(){Um&&(Um.detachEvent("onpropertychange",lL),dp=Um=null)}function lL(e){if(e.propertyName==="value"&&lw(dp)){var t=[];iL(t,dp,e,gB(e)),QT(vH,t)}}function CH(e,t,r){e==="focusin"?(lE(),Um=t,dp=r,Um.attachEvent("onpropertychange",lL)):e==="focusout"&&lE()}function BH(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lw(dp)}function NH(e,t){if(e==="click")return lw(t)}function SH(e,t){if(e==="input"||e==="change")return lw(t)}function EH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ll=typeof Object.is=="function"?Object.is:EH;function hp(e,t){if(ll(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!iC.call(t,s)||!ll(e[s],t[s]))return!1}return!0}function cE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function AE(e,t){var r=cE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cE(r)}}function cL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AL(){for(var e=window,t=Qx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qx(e.document)}return t}function SB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FH(e){var t=AL(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cL(r.ownerDocument.documentElement,r)){if(n!==null&&SB(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=AE(r,a);var o=AE(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var IH=Wc&&"documentMode"in document&&11>=document.documentMode,af=null,NC=null,Qm=null,SC=!1;function uE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;SC||af==null||af!==Qx(n)||(n=af,"selectionStart"in n&&SB(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Qm&&hp(Qm,n)||(Qm=n,n=$x(NC,"onSelect"),0<n.length&&(t=new CB("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=af)))}function t1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var of={animationend:t1("Animation","AnimationEnd"),animationiteration:t1("Animation","AnimationIteration"),animationstart:t1("Animation","AnimationStart"),transitionend:t1("Transition","TransitionEnd")},uv={},uL={};Wc&&(uL=document.createElement("div").style,"AnimationEvent"in window||(delete of.animationend.animation,delete of.animationiteration.animation,delete of.animationstart.animation),"TransitionEvent"in window||delete of.transitionend.transition);function cw(e){if(uv[e])return uv[e];if(!of[e])return e;var t=of[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uL)return uv[e]=t[r];return e}var dL=cw("animationend"),hL=cw("animationiteration"),fL=cw("animationstart"),mL=cw("transitionend"),pL=new Map,dE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vu(e,t){pL.set(e,t),wh(t,[e])}for(var dv=0;dv<dE.length;dv++){var hv=dE[dv],jH=hv.toLowerCase(),TH=hv[0].toUpperCase()+hv.slice(1);Vu(jH,"on"+TH)}Vu(dL,"onAnimationEnd");Vu(hL,"onAnimationIteration");Vu(fL,"onAnimationStart");Vu("dblclick","onDoubleClick");Vu("focusin","onFocus");Vu("focusout","onBlur");Vu(mL,"onTransitionEnd");e0("onMouseEnter",["mouseout","mouseover"]);e0("onMouseLeave",["mouseout","mouseover"]);e0("onPointerEnter",["pointerout","pointerover"]);e0("onPointerLeave",["pointerout","pointerover"]);wh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wh("onBeforeInput",["compositionend","keypress","textInput","paste"]);wh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ym="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LH=new Set("cancel close invalid load scroll toggle".split(" ").concat(ym));function hE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,j9(n,t,void 0,e),e.currentTarget=null}function gL(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],A=l.instance,d=l.currentTarget;if(l=l.listener,A!==a&&s.isPropagationStopped())break e;hE(s,l,d),a=A}else for(o=0;o<n.length;o++){if(l=n[o],A=l.instance,d=l.currentTarget,l=l.listener,A!==a&&s.isPropagationStopped())break e;hE(s,l,d),a=A}}}if(Vx)throw e=vC,Vx=!1,vC=null,e}function Qn(e,t){var r=t[TC];r===void 0&&(r=t[TC]=new Set);var n=e+"__bubble";r.has(n)||(xL(t,e,2,!1),r.add(n))}function fv(e,t,r){var n=0;t&&(n|=4),xL(r,e,n,t)}var r1="_reactListening"+Math.random().toString(36).slice(2);function fp(e){if(!e[r1]){e[r1]=!0,NT.forEach(function(r){r!=="selectionchange"&&(LH.has(r)||fv(r,!1,e),fv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[r1]||(t[r1]=!0,fv("selectionchange",!1,t))}}function xL(e,t,r,n){switch(tL(t)){case 1:var s=W9;break;case 4:s=z9;break;default:s=vB}r=s.bind(null,t,r,e),s=void 0,!wC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function mv(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var A=o.tag;if((A===3||A===4)&&(A=o.stateNode.containerInfo,A===s||A.nodeType===8&&A.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ed(l),o===null)return;if(A=o.tag,A===5||A===6){n=a=o;continue e}l=l.parentNode}}n=n.return}QT(function(){var d=a,f=gB(r),m=[];e:{var y=pL.get(e);if(y!==void 0){var g=CB,b=e;switch(e){case"keypress":if(ax(r)===0)break e;case"keydown":case"keyup":g=lH;break;case"focusin":b="focus",g=lv;break;case"focusout":b="blur",g=lv;break;case"beforeblur":case"afterblur":g=lv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=tE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=X9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uH;break;case dL:case hL:case fL:g=Z9;break;case mL:g=hH;break;case"scroll":g=$9;break;case"wheel":g=mH;break;case"copy":case"cut":case"paste":g=tH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=nE}var C=(t&4)!==0,F=!C&&e==="scroll",v=C?y!==null?y+"Capture":null:y;C=[];for(var S=d,I;S!==null;){I=S;var k=I.stateNode;if(I.tag===5&&k!==null&&(I=k,v!==null&&(k=lp(S,v),k!=null&&C.push(mp(S,k,I)))),F)break;S=S.return}0<C.length&&(y=new g(y,b,null,r,f),m.push({event:y,listeners:C}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",y&&r!==xC&&(b=r.relatedTarget||r.fromElement)&&(Ed(b)||b[zc]))break e;if((g||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=d,b=b?Ed(b):null,b!==null&&(F=vh(b),b!==F||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=d),g!==b)){if(C=tE,k="onMouseLeave",v="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(C=nE,k="onPointerLeave",v="onPointerEnter",S="pointer"),F=g==null?y:lf(g),I=b==null?y:lf(b),y=new C(k,S+"leave",g,r,f),y.target=F,y.relatedTarget=I,k=null,Ed(f)===d&&(C=new C(v,S+"enter",b,r,f),C.target=I,C.relatedTarget=F,k=C),F=k,g&&b)t:{for(C=g,v=b,S=0,I=C;I;I=Dh(I))S++;for(I=0,k=v;k;k=Dh(k))I++;for(;0<S-I;)C=Dh(C),S--;for(;0<I-S;)v=Dh(v),I--;for(;S--;){if(C===v||v!==null&&C===v.alternate)break t;C=Dh(C),v=Dh(v)}C=null}else C=null;g!==null&&fE(m,y,g,C,!1),b!==null&&F!==null&&fE(m,F,b,C,!0)}}e:{if(y=d?lf(d):window,g=y.nodeName&&y.nodeName.toLowerCase(),g==="select"||g==="input"&&y.type==="file")var M=bH;else if(iE(y))if(oL)M=SH;else{M=BH;var V=CH}else(g=y.nodeName)&&g.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(M=NH);if(M&&(M=M(e,d))){iL(m,M,r,f);break e}V&&V(e,y,d),e==="focusout"&&(V=y._wrapperState)&&V.controlled&&y.type==="number"&&hC(y,"number",y.value)}switch(V=d?lf(d):window,e){case"focusin":(iE(V)||V.contentEditable==="true")&&(af=V,NC=d,Qm=null);break;case"focusout":Qm=NC=af=null;break;case"mousedown":SC=!0;break;case"contextmenu":case"mouseup":case"dragend":SC=!1,uE(m,r,f);break;case"selectionchange":if(IH)break;case"keydown":case"keyup":uE(m,r,f)}var O;if(NB)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else sf?sL(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(nL&&r.locale!=="ko"&&(sf||R!=="onCompositionStart"?R==="onCompositionEnd"&&sf&&(O=rL()):(ou=f,bB="value"in ou?ou.value:ou.textContent,sf=!0)),V=$x(d,R),0<V.length&&(R=new rE(R,e,null,r,f),m.push({event:R,listeners:V}),O?R.data=O:(O=aL(r),O!==null&&(R.data=O)))),(O=gH?xH(e,r):yH(e,r))&&(d=$x(d,"onBeforeInput"),0<d.length&&(f=new rE("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:d}),f.data=O))}gL(m,t)})}function mp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $x(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=lp(e,r),a!=null&&n.unshift(mp(e,a,s)),a=lp(e,t),a!=null&&n.push(mp(e,a,s))),e=e.return}return n}function Dh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fE(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,A=l.alternate,d=l.stateNode;if(A!==null&&A===n)break;l.tag===5&&d!==null&&(l=d,s?(A=lp(r,a),A!=null&&o.unshift(mp(r,A,l))):s||(A=lp(r,a),A!=null&&o.push(mp(r,A,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var kH=/\r\n?/g,PH=/\u0000|\uFFFD/g;function mE(e){return(typeof e=="string"?e:""+e).replace(kH,`
`).replace(PH,"")}function n1(e,t,r){if(t=mE(t),mE(e)!==t&&r)throw Error(mt(425))}function qx(){}var EC=null,FC=null;function IC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jC=typeof setTimeout=="function"?setTimeout:void 0,OH=typeof clearTimeout=="function"?clearTimeout:void 0,pE=typeof Promise=="function"?Promise:void 0,RH=typeof queueMicrotask=="function"?queueMicrotask:typeof pE<"u"?function(e){return pE.resolve(null).then(e).catch(DH)}:jC;function DH(e){setTimeout(function(){throw e})}function pv(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),up(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);up(t)}function yu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var v0=Math.random().toString(36).slice(2),Rl="__reactFiber$"+v0,pp="__reactProps$"+v0,zc="__reactContainer$"+v0,TC="__reactEvents$"+v0,_H="__reactListeners$"+v0,MH="__reactHandles$"+v0;function Ed(e){var t=e[Rl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zc]||r[Rl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gE(e);e!==null;){if(r=e[Rl])return r;e=gE(e)}return t}e=r,r=e.parentNode}return null}function rg(e){return e=e[Rl]||e[zc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(mt(33))}function Aw(e){return e[pp]||null}var LC=[],cf=-1;function Ku(e){return{current:e}}function Kn(e){0>cf||(e.current=LC[cf],LC[cf]=null,cf--)}function kn(e,t){cf++,LC[cf]=e.current,e.current=t}var Tu={},Wa=Ku(Tu),Ii=Ku(!1),ah=Tu;function t0(e,t){var r=e.type.contextTypes;if(!r)return Tu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ji(e){return e=e.childContextTypes,e!=null}function Xx(){Kn(Ii),Kn(Wa)}function xE(e,t,r){if(Wa.current!==Tu)throw Error(mt(168));kn(Wa,t),kn(Ii,r)}function yL(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(mt(108,C9(e)||"Unknown",s));return cs({},r,n)}function Yx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tu,ah=Wa.current,kn(Wa,e),kn(Ii,Ii.current),!0}function yE(e,t,r){var n=e.stateNode;if(!n)throw Error(mt(169));r?(e=yL(e,t,ah),n.__reactInternalMemoizedMergedChildContext=e,Kn(Ii),Kn(Wa),kn(Wa,e)):Kn(Ii),kn(Ii,r)}var Tc=null,uw=!1,gv=!1;function wL(e){Tc===null?Tc=[e]:Tc.push(e)}function UH(e){uw=!0,wL(e)}function Gu(){if(!gv&&Tc!==null){gv=!0;var e=0,t=un;try{var r=Tc;for(un=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Tc=null,uw=!1}catch(s){throw Tc!==null&&(Tc=Tc.slice(e+1)),GT(xB,Gu),s}finally{un=t,gv=!1}}return null}var Af=[],uf=0,Jx=null,Zx=0,bo=[],Co=0,ih=null,Oc=1,Rc="";function xd(e,t){Af[uf++]=Zx,Af[uf++]=Jx,Jx=e,Zx=t}function vL(e,t,r){bo[Co++]=Oc,bo[Co++]=Rc,bo[Co++]=ih,ih=e;var n=Oc;e=Rc;var s=32-sl(n)-1;n&=~(1<<s),r+=1;var a=32-sl(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Oc=1<<32-sl(t)+s|r<<s|n,Rc=a+e}else Oc=1<<a|r<<s|n,Rc=e}function EB(e){e.return!==null&&(xd(e,1),vL(e,1,0))}function FB(e){for(;e===Jx;)Jx=Af[--uf],Af[uf]=null,Zx=Af[--uf],Af[uf]=null;for(;e===ih;)ih=bo[--Co],bo[Co]=null,Rc=bo[--Co],bo[Co]=null,Oc=bo[--Co],bo[Co]=null}var Yi=null,qi=null,Jn=!1,tl=null;function bL(e,t){var r=No(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yi=e,qi=yu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yi=e,qi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ih!==null?{id:Oc,overflow:Rc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=No(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yi=e,qi=null,!0):!1;default:return!1}}function kC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function PC(e){if(Jn){var t=qi;if(t){var r=t;if(!wE(e,t)){if(kC(e))throw Error(mt(418));t=yu(r.nextSibling);var n=Yi;t&&wE(e,t)?bL(n,r):(e.flags=e.flags&-4097|2,Jn=!1,Yi=e)}}else{if(kC(e))throw Error(mt(418));e.flags=e.flags&-4097|2,Jn=!1,Yi=e}}}function vE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yi=e}function s1(e){if(e!==Yi)return!1;if(!Jn)return vE(e),Jn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!IC(e.type,e.memoizedProps)),t&&(t=qi)){if(kC(e))throw CL(),Error(mt(418));for(;t;)bL(e,t),t=yu(t.nextSibling)}if(vE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(mt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qi=yu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qi=null}}else qi=Yi?yu(e.stateNode.nextSibling):null;return!0}function CL(){for(var e=qi;e;)e=yu(e.nextSibling)}function r0(){qi=Yi=null,Jn=!1}function IB(e){tl===null?tl=[e]:tl.push(e)}var QH=sA.ReactCurrentBatchConfig;function Y0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(mt(309));var n=r.stateNode}if(!n)throw Error(mt(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(mt(284));if(!r._owner)throw Error(mt(290,e))}return e}function a1(e,t){throw e=Object.prototype.toString.call(t),Error(mt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bE(e){var t=e._init;return t(e._payload)}function BL(e){function t(v,S){if(e){var I=v.deletions;I===null?(v.deletions=[S],v.flags|=16):I.push(S)}}function r(v,S){if(!e)return null;for(;S!==null;)t(v,S),S=S.sibling;return null}function n(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function s(v,S){return v=Cu(v,S),v.index=0,v.sibling=null,v}function a(v,S,I){return v.index=I,e?(I=v.alternate,I!==null?(I=I.index,I<S?(v.flags|=2,S):I):(v.flags|=2,S)):(v.flags|=1048576,S)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,S,I,k){return S===null||S.tag!==6?(S=Bv(I,v.mode,k),S.return=v,S):(S=s(S,I),S.return=v,S)}function A(v,S,I,k){var M=I.type;return M===nf?f(v,S,I.props.children,k,I.key):S!==null&&(S.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===KA&&bE(M)===S.type)?(k=s(S,I.props),k.ref=Y0(v,S,I),k.return=v,k):(k=dx(I.type,I.key,I.props,null,v.mode,k),k.ref=Y0(v,S,I),k.return=v,k)}function d(v,S,I,k){return S===null||S.tag!==4||S.stateNode.containerInfo!==I.containerInfo||S.stateNode.implementation!==I.implementation?(S=Nv(I,v.mode,k),S.return=v,S):(S=s(S,I.children||[]),S.return=v,S)}function f(v,S,I,k,M){return S===null||S.tag!==7?(S=Gd(I,v.mode,k,M),S.return=v,S):(S=s(S,I),S.return=v,S)}function m(v,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Bv(""+S,v.mode,I),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $g:return I=dx(S.type,S.key,S.props,null,v.mode,I),I.ref=Y0(v,null,S),I.return=v,I;case rf:return S=Nv(S,v.mode,I),S.return=v,S;case KA:var k=S._init;return m(v,k(S._payload),I)}if(gm(S)||W0(S))return S=Gd(S,v.mode,I,null),S.return=v,S;a1(v,S)}return null}function y(v,S,I,k){var M=S!==null?S.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return M!==null?null:l(v,S,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $g:return I.key===M?A(v,S,I,k):null;case rf:return I.key===M?d(v,S,I,k):null;case KA:return M=I._init,y(v,S,M(I._payload),k)}if(gm(I)||W0(I))return M!==null?null:f(v,S,I,k,null);a1(v,I)}return null}function g(v,S,I,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(I)||null,l(S,v,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $g:return v=v.get(k.key===null?I:k.key)||null,A(S,v,k,M);case rf:return v=v.get(k.key===null?I:k.key)||null,d(S,v,k,M);case KA:var V=k._init;return g(v,S,I,V(k._payload),M)}if(gm(k)||W0(k))return v=v.get(I)||null,f(S,v,k,M,null);a1(S,k)}return null}function b(v,S,I,k){for(var M=null,V=null,O=S,R=S=0,_=null;O!==null&&R<I.length;R++){O.index>R?(_=O,O=null):_=O.sibling;var J=y(v,O,I[R],k);if(J===null){O===null&&(O=_);break}e&&O&&J.alternate===null&&t(v,O),S=a(J,S,R),V===null?M=J:V.sibling=J,V=J,O=_}if(R===I.length)return r(v,O),Jn&&xd(v,R),M;if(O===null){for(;R<I.length;R++)O=m(v,I[R],k),O!==null&&(S=a(O,S,R),V===null?M=O:V.sibling=O,V=O);return Jn&&xd(v,R),M}for(O=n(v,O);R<I.length;R++)_=g(O,v,R,I[R],k),_!==null&&(e&&_.alternate!==null&&O.delete(_.key===null?R:_.key),S=a(_,S,R),V===null?M=_:V.sibling=_,V=_);return e&&O.forEach(function(U){return t(v,U)}),Jn&&xd(v,R),M}function C(v,S,I,k){var M=W0(I);if(typeof M!="function")throw Error(mt(150));if(I=M.call(I),I==null)throw Error(mt(151));for(var V=M=null,O=S,R=S=0,_=null,J=I.next();O!==null&&!J.done;R++,J=I.next()){O.index>R?(_=O,O=null):_=O.sibling;var U=y(v,O,J.value,k);if(U===null){O===null&&(O=_);break}e&&O&&U.alternate===null&&t(v,O),S=a(U,S,R),V===null?M=U:V.sibling=U,V=U,O=_}if(J.done)return r(v,O),Jn&&xd(v,R),M;if(O===null){for(;!J.done;R++,J=I.next())J=m(v,J.value,k),J!==null&&(S=a(J,S,R),V===null?M=J:V.sibling=J,V=J);return Jn&&xd(v,R),M}for(O=n(v,O);!J.done;R++,J=I.next())J=g(O,v,R,J.value,k),J!==null&&(e&&J.alternate!==null&&O.delete(J.key===null?R:J.key),S=a(J,S,R),V===null?M=J:V.sibling=J,V=J);return e&&O.forEach(function(Q){return t(v,Q)}),Jn&&xd(v,R),M}function F(v,S,I,k){if(typeof I=="object"&&I!==null&&I.type===nf&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case $g:e:{for(var M=I.key,V=S;V!==null;){if(V.key===M){if(M=I.type,M===nf){if(V.tag===7){r(v,V.sibling),S=s(V,I.props.children),S.return=v,v=S;break e}}else if(V.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===KA&&bE(M)===V.type){r(v,V.sibling),S=s(V,I.props),S.ref=Y0(v,V,I),S.return=v,v=S;break e}r(v,V);break}else t(v,V);V=V.sibling}I.type===nf?(S=Gd(I.props.children,v.mode,k,I.key),S.return=v,v=S):(k=dx(I.type,I.key,I.props,null,v.mode,k),k.ref=Y0(v,S,I),k.return=v,v=k)}return o(v);case rf:e:{for(V=I.key;S!==null;){if(S.key===V)if(S.tag===4&&S.stateNode.containerInfo===I.containerInfo&&S.stateNode.implementation===I.implementation){r(v,S.sibling),S=s(S,I.children||[]),S.return=v,v=S;break e}else{r(v,S);break}else t(v,S);S=S.sibling}S=Nv(I,v.mode,k),S.return=v,v=S}return o(v);case KA:return V=I._init,F(v,S,V(I._payload),k)}if(gm(I))return b(v,S,I,k);if(W0(I))return C(v,S,I,k);a1(v,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,S!==null&&S.tag===6?(r(v,S.sibling),S=s(S,I),S.return=v,v=S):(r(v,S),S=Bv(I,v.mode,k),S.return=v,v=S),o(v)):r(v,S)}return F}var n0=BL(!0),NL=BL(!1),ey=Ku(null),ty=null,df=null,jB=null;function TB(){jB=df=ty=null}function LB(e){var t=ey.current;Kn(ey),e._currentValue=t}function OC(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ef(e,t){ty=e,jB=df=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Si=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(jB!==e)if(e={context:e,memoizedValue:t,next:null},df===null){if(ty===null)throw Error(mt(308));df=e,ty.dependencies={lanes:0,firstContext:e}}else df=df.next=e;return t}var Fd=null;function kB(e){Fd===null?Fd=[e]:Fd.push(e)}function SL(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,kB(t)):(r.next=s.next,s.next=r),t.interleaved=r,$c(e,n)}function $c(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var GA=!1;function PB(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,zr&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,$c(e,r)}return s=n.interleaved,s===null?(t.next=t,kB(n)):(t.next=s.next,s.next=t),n.interleaved=t,$c(e,r)}function ix(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yB(e,r)}}function CE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ry(e,t,r,n){var s=e.updateQueue;GA=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var A=l,d=A.next;A.next=null,o===null?a=d:o.next=d,o=A;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=A))}if(a!==null){var m=s.baseState;o=0,f=d=A=null,l=a;do{var y=l.lane,g=l.eventTime;if((n&y)===y){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,C=l;switch(y=t,g=r,C.tag){case 1:if(b=C.payload,typeof b=="function"){m=b.call(g,m,y);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=C.payload,y=typeof b=="function"?b.call(g,m,y):b,y==null)break e;m=cs({},m,y);break e;case 2:GA=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,y=s.effects,y===null?s.effects=[l]:y.push(l))}else g={eventTime:g,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=g,A=m):f=f.next=g,o|=y;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;y=l,l=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(f===null&&(A=m),s.baseState=A,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);lh|=o,e.lanes=o,e.memoizedState=m}}function BE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(mt(191,s));s.call(n)}}}var ng={},Ql=Ku(ng),gp=Ku(ng),xp=Ku(ng);function Id(e){if(e===ng)throw Error(mt(174));return e}function OB(e,t){switch(kn(xp,t),kn(gp,e),kn(Ql,ng),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mC(t,e)}Kn(Ql),kn(Ql,t)}function s0(){Kn(Ql),Kn(gp),Kn(xp)}function FL(e){Id(xp.current);var t=Id(Ql.current),r=mC(t,e.type);t!==r&&(kn(gp,e),kn(Ql,r))}function RB(e){gp.current===e&&(Kn(Ql),Kn(gp))}var ss=Ku(0);function ny(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xv=[];function DB(){for(var e=0;e<xv.length;e++)xv[e]._workInProgressVersionPrimary=null;xv.length=0}var ox=sA.ReactCurrentDispatcher,yv=sA.ReactCurrentBatchConfig,oh=0,is=null,zs=null,aa=null,sy=!1,Hm=!1,yp=0,HH=0;function Ia(){throw Error(mt(321))}function _B(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ll(e[r],t[r]))return!1;return!0}function MB(e,t,r,n,s,a){if(oh=a,is=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ox.current=e===null||e.memoizedState===null?WH:zH,e=r(n,s),Hm){a=0;do{if(Hm=!1,yp=0,25<=a)throw Error(mt(301));a+=1,aa=zs=null,t.updateQueue=null,ox.current=$H,e=r(n,s)}while(Hm)}if(ox.current=ay,t=zs!==null&&zs.next!==null,oh=0,aa=zs=is=null,sy=!1,t)throw Error(mt(300));return e}function UB(){var e=yp!==0;return yp=0,e}function jl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return aa===null?is.memoizedState=aa=e:aa=aa.next=e,aa}function Lo(){if(zs===null){var e=is.alternate;e=e!==null?e.memoizedState:null}else e=zs.next;var t=aa===null?is.memoizedState:aa.next;if(t!==null)aa=t,zs=e;else{if(e===null)throw Error(mt(310));zs=e,e={memoizedState:zs.memoizedState,baseState:zs.baseState,baseQueue:zs.baseQueue,queue:zs.queue,next:null},aa===null?is.memoizedState=aa=e:aa=aa.next=e}return aa}function wp(e,t){return typeof t=="function"?t(e):t}function wv(e){var t=Lo(),r=t.queue;if(r===null)throw Error(mt(311));r.lastRenderedReducer=e;var n=zs,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,A=null,d=a;do{var f=d.lane;if((oh&f)===f)A!==null&&(A=A.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};A===null?(l=A=m,o=n):A=A.next=m,is.lanes|=f,lh|=f}d=d.next}while(d!==null&&d!==a);A===null?o=n:A.next=l,ll(n,t.memoizedState)||(Si=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=A,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,is.lanes|=a,lh|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function vv(e){var t=Lo(),r=t.queue;if(r===null)throw Error(mt(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);ll(a,t.memoizedState)||(Si=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function IL(){}function jL(e,t){var r=is,n=Lo(),s=t(),a=!ll(n.memoizedState,s);if(a&&(n.memoizedState=s,Si=!0),n=n.queue,QB(kL.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||aa!==null&&aa.memoizedState.tag&1){if(r.flags|=2048,vp(9,LL.bind(null,r,n,s,t),void 0,null),oa===null)throw Error(mt(349));oh&30||TL(r,t,s)}return s}function TL(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=is.updateQueue,t===null?(t={lastEffect:null,stores:null},is.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function LL(e,t,r,n){t.value=r,t.getSnapshot=n,PL(t)&&OL(e)}function kL(e,t,r){return r(function(){PL(t)&&OL(e)})}function PL(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ll(e,r)}catch{return!0}}function OL(e){var t=$c(e,1);t!==null&&al(t,e,1,-1)}function NE(e){var t=jl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wp,lastRenderedState:e},t.queue=e,e=e.dispatch=GH.bind(null,is,e),[t.memoizedState,e]}function vp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=is.updateQueue,t===null?(t={lastEffect:null,stores:null},is.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function RL(){return Lo().memoizedState}function lx(e,t,r,n){var s=jl();is.flags|=e,s.memoizedState=vp(1|t,r,void 0,n===void 0?null:n)}function dw(e,t,r,n){var s=Lo();n=n===void 0?null:n;var a=void 0;if(zs!==null){var o=zs.memoizedState;if(a=o.destroy,n!==null&&_B(n,o.deps)){s.memoizedState=vp(t,r,a,n);return}}is.flags|=e,s.memoizedState=vp(1|t,r,a,n)}function SE(e,t){return lx(8390656,8,e,t)}function QB(e,t){return dw(2048,8,e,t)}function DL(e,t){return dw(4,2,e,t)}function _L(e,t){return dw(4,4,e,t)}function ML(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UL(e,t,r){return r=r!=null?r.concat([e]):null,dw(4,4,ML.bind(null,t,e),r)}function HB(){}function QL(e,t){var r=Lo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_B(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function HL(e,t){var r=Lo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_B(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function VL(e,t,r){return oh&21?(ll(r,t)||(r=$T(),is.lanes|=r,lh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Si=!0),e.memoizedState=r)}function VH(e,t){var r=un;un=r!==0&&4>r?r:4,e(!0);var n=yv.transition;yv.transition={};try{e(!1),t()}finally{un=r,yv.transition=n}}function KL(){return Lo().memoizedState}function KH(e,t,r){var n=bu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},GL(e))WL(t,r);else if(r=SL(e,t,r,n),r!==null){var s=li();al(r,e,n,s),zL(r,t,n)}}function GH(e,t,r){var n=bu(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(GL(e))WL(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,ll(l,o)){var A=t.interleaved;A===null?(s.next=s,kB(t)):(s.next=A.next,A.next=s),t.interleaved=s;return}}catch{}finally{}r=SL(e,t,s,n),r!==null&&(s=li(),al(r,e,n,s),zL(r,t,n))}}function GL(e){var t=e.alternate;return e===is||t!==null&&t===is}function WL(e,t){Hm=sy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zL(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yB(e,r)}}var ay={readContext:To,useCallback:Ia,useContext:Ia,useEffect:Ia,useImperativeHandle:Ia,useInsertionEffect:Ia,useLayoutEffect:Ia,useMemo:Ia,useReducer:Ia,useRef:Ia,useState:Ia,useDebugValue:Ia,useDeferredValue:Ia,useTransition:Ia,useMutableSource:Ia,useSyncExternalStore:Ia,useId:Ia,unstable_isNewReconciler:!1},WH={readContext:To,useCallback:function(e,t){return jl().memoizedState=[e,t===void 0?null:t],e},useContext:To,useEffect:SE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,lx(4194308,4,ML.bind(null,t,e),r)},useLayoutEffect:function(e,t){return lx(4194308,4,e,t)},useInsertionEffect:function(e,t){return lx(4,2,e,t)},useMemo:function(e,t){var r=jl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KH.bind(null,is,e),[n.memoizedState,e]},useRef:function(e){var t=jl();return e={current:e},t.memoizedState=e},useState:NE,useDebugValue:HB,useDeferredValue:function(e){return jl().memoizedState=e},useTransition:function(){var e=NE(!1),t=e[0];return e=VH.bind(null,e[1]),jl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=is,s=jl();if(Jn){if(r===void 0)throw Error(mt(407));r=r()}else{if(r=t(),oa===null)throw Error(mt(349));oh&30||TL(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,SE(kL.bind(null,n,a,e),[e]),n.flags|=2048,vp(9,LL.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=jl(),t=oa.identifierPrefix;if(Jn){var r=Rc,n=Oc;r=(n&~(1<<32-sl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=yp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=HH++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zH={readContext:To,useCallback:QL,useContext:To,useEffect:QB,useImperativeHandle:UL,useInsertionEffect:DL,useLayoutEffect:_L,useMemo:HL,useReducer:wv,useRef:RL,useState:function(){return wv(wp)},useDebugValue:HB,useDeferredValue:function(e){var t=Lo();return VL(t,zs.memoizedState,e)},useTransition:function(){var e=wv(wp)[0],t=Lo().memoizedState;return[e,t]},useMutableSource:IL,useSyncExternalStore:jL,useId:KL,unstable_isNewReconciler:!1},$H={readContext:To,useCallback:QL,useContext:To,useEffect:QB,useImperativeHandle:UL,useInsertionEffect:DL,useLayoutEffect:_L,useMemo:HL,useReducer:vv,useRef:RL,useState:function(){return vv(wp)},useDebugValue:HB,useDeferredValue:function(e){var t=Lo();return zs===null?t.memoizedState=e:VL(t,zs.memoizedState,e)},useTransition:function(){var e=vv(wp)[0],t=Lo().memoizedState;return[e,t]},useMutableSource:IL,useSyncExternalStore:jL,useId:KL,unstable_isNewReconciler:!1};function qo(e,t){if(e&&e.defaultProps){t=cs({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function RC(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:cs({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hw={isMounted:function(e){return(e=e._reactInternals)?vh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=li(),s=bu(e),a=Mc(n,s);a.payload=t,r!=null&&(a.callback=r),t=wu(e,a,s),t!==null&&(al(t,e,s,n),ix(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=li(),s=bu(e),a=Mc(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=wu(e,a,s),t!==null&&(al(t,e,s,n),ix(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=li(),n=bu(e),s=Mc(r,n);s.tag=2,t!=null&&(s.callback=t),t=wu(e,s,n),t!==null&&(al(t,e,n,r),ix(t,e,n))}};function EE(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!hp(r,n)||!hp(s,a):!0}function $L(e,t,r){var n=!1,s=Tu,a=t.contextType;return typeof a=="object"&&a!==null?a=To(a):(s=ji(t)?ah:Wa.current,n=t.contextTypes,a=(n=n!=null)?t0(e,s):Tu),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function FE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&hw.enqueueReplaceState(t,t.state,null)}function DC(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},PB(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=To(a):(a=ji(t)?ah:Wa.current,s.context=t0(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(RC(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&hw.enqueueReplaceState(s,s.state,null),ry(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function a0(e,t){try{var r="",n=t;do r+=b9(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function bv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function _C(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var qH=typeof WeakMap=="function"?WeakMap:Map;function qL(e,t,r){r=Mc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){oy||(oy=!0,$C=n),_C(e,t)},r}function XL(e,t,r){r=Mc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){_C(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){_C(e,t),typeof n!="function"&&(vu===null?vu=new Set([this]):vu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function IE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new qH;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=cV.bind(null,e,t,r),t.then(e,e))}function jE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function TE(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mc(-1,1),t.tag=2,wu(r,t,1))),r.lanes|=1),e)}var XH=sA.ReactCurrentOwner,Si=!1;function ri(e,t,r,n){t.child=e===null?NL(t,null,r,n):n0(t,e.child,r,n)}function LE(e,t,r,n,s){r=r.render;var a=t.ref;return Ef(t,s),n=MB(e,t,r,n,a,s),r=UB(),e!==null&&!Si?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qc(e,t,s)):(Jn&&r&&EB(t),t.flags|=1,ri(e,t,n,s),t.child)}function kE(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!XB(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,YL(e,t,a,n,s)):(e=dx(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:hp,r(o,n)&&e.ref===t.ref)return qc(e,t,s)}return t.flags|=1,e=Cu(a,n),e.ref=t.ref,e.return=t,t.child=e}function YL(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(hp(a,n)&&e.ref===t.ref)if(Si=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Si=!0);else return t.lanes=e.lanes,qc(e,t,s)}return MC(e,t,r,n,s)}function JL(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(ff,zi),zi|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kn(ff,zi),zi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,kn(ff,zi),zi|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,kn(ff,zi),zi|=n;return ri(e,t,s,r),t.child}function ZL(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function MC(e,t,r,n,s){var a=ji(r)?ah:Wa.current;return a=t0(t,a),Ef(t,s),r=MB(e,t,r,n,a,s),n=UB(),e!==null&&!Si?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qc(e,t,s)):(Jn&&n&&EB(t),t.flags|=1,ri(e,t,r,s),t.child)}function PE(e,t,r,n,s){if(ji(r)){var a=!0;Yx(t)}else a=!1;if(Ef(t,s),t.stateNode===null)cx(e,t),$L(t,r,n),DC(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var A=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=To(d):(d=ji(r)?ah:Wa.current,d=t0(t,d));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||A!==d)&&FE(t,o,n,d),GA=!1;var y=t.memoizedState;o.state=y,ry(t,n,o,s),A=t.memoizedState,l!==n||y!==A||Ii.current||GA?(typeof f=="function"&&(RC(t,r,f,n),A=t.memoizedState),(l=GA||EE(t,r,l,n,y,A,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=A),o.props=n,o.state=A,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,EL(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:qo(t.type,l),o.props=d,m=t.pendingProps,y=o.context,A=r.contextType,typeof A=="object"&&A!==null?A=To(A):(A=ji(r)?ah:Wa.current,A=t0(t,A));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||y!==A)&&FE(t,o,n,A),GA=!1,y=t.memoizedState,o.state=y,ry(t,n,o,s);var b=t.memoizedState;l!==m||y!==b||Ii.current||GA?(typeof g=="function"&&(RC(t,r,g,n),b=t.memoizedState),(d=GA||EE(t,r,d,n,y,b,A)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,A),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,A)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=A,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return UC(e,t,r,n,a,s)}function UC(e,t,r,n,s,a){ZL(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&yE(t,r,!1),qc(e,t,a);n=t.stateNode,XH.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=n0(t,e.child,null,a),t.child=n0(t,null,l,a)):ri(e,t,l,a),t.memoizedState=n.state,s&&yE(t,r,!0),t.child}function ek(e){var t=e.stateNode;t.pendingContext?xE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xE(e,t.context,!1),OB(e,t.containerInfo)}function OE(e,t,r,n,s){return r0(),IB(s),t.flags|=256,ri(e,t,r,n),t.child}var QC={dehydrated:null,treeContext:null,retryLane:0};function HC(e){return{baseLanes:e,cachePool:null,transitions:null}}function tk(e,t,r){var n=t.pendingProps,s=ss.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),kn(ss,s&1),e===null)return PC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=pw(o,n,0,null),e=Gd(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=HC(r),t.memoizedState=QC,e):VB(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return YH(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var A={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=A,t.deletions=null):(n=Cu(s,A),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Cu(l,a):(a=Gd(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?HC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=QC,n}return a=e.child,e=a.sibling,n=Cu(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function VB(e,t){return t=pw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function i1(e,t,r,n){return n!==null&&IB(n),n0(t,e.child,null,r),e=VB(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YH(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=bv(Error(mt(422))),i1(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=pw({mode:"visible",children:n.children},s,0,null),a=Gd(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&n0(t,e.child,null,o),t.child.memoizedState=HC(o),t.memoizedState=QC,a);if(!(t.mode&1))return i1(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(mt(419)),n=bv(a,n,void 0),i1(e,t,o,n)}if(l=(o&e.childLanes)!==0,Si||l){if(n=oa,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,$c(e,s),al(n,e,s,-1))}return qB(),n=bv(Error(mt(421))),i1(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=AV.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,qi=yu(s.nextSibling),Yi=t,Jn=!0,tl=null,e!==null&&(bo[Co++]=Oc,bo[Co++]=Rc,bo[Co++]=ih,Oc=e.id,Rc=e.overflow,ih=t),t=VB(t,n.children),t.flags|=4096,t)}function RE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),OC(e.return,t,r)}function Cv(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function rk(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ri(e,t,n.children,r),n=ss.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RE(e,r,t);else if(e.tag===19)RE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(kn(ss,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ny(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Cv(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ny(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Cv(t,!0,r,null,a);break;case"together":Cv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),lh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(mt(153));if(t.child!==null){for(e=t.child,r=Cu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Cu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function JH(e,t,r){switch(t.tag){case 3:ek(t),r0();break;case 5:FL(t);break;case 1:ji(t.type)&&Yx(t);break;case 4:OB(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;kn(ey,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(kn(ss,ss.current&1),t.flags|=128,null):r&t.child.childLanes?tk(e,t,r):(kn(ss,ss.current&1),e=qc(e,t,r),e!==null?e.sibling:null);kn(ss,ss.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return rk(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),kn(ss,ss.current),n)break;return null;case 22:case 23:return t.lanes=0,JL(e,t,r)}return qc(e,t,r)}var nk,VC,sk,ak;nk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};VC=function(){};sk=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Id(Ql.current);var a=null;switch(r){case"input":s=uC(e,s),n=uC(e,n),a=[];break;case"select":s=cs({},s,{value:void 0}),n=cs({},n,{value:void 0}),a=[];break;case"textarea":s=fC(e,s),n=fC(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qx)}pC(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ip.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var A=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&A!==l&&(A!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||A&&A.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in A)A.hasOwnProperty(o)&&l[o]!==A[o]&&(r||(r={}),r[o]=A[o])}else r||(a||(a=[]),a.push(d,r)),r=A;else d==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,l=l?l.__html:void 0,A!=null&&l!==A&&(a=a||[]).push(d,A)):d==="children"?typeof A!="string"&&typeof A!="number"||(a=a||[]).push(d,""+A):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ip.hasOwnProperty(d)?(A!=null&&d==="onScroll"&&Qn("scroll",e),a||l===A||(a=[])):(a=a||[]).push(d,A))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};ak=function(e,t,r,n){r!==n&&(t.flags|=4)};function J0(e,t){if(!Jn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ja(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ZH(e,t,r){var n=t.pendingProps;switch(FB(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ja(t),null;case 1:return ji(t.type)&&Xx(),ja(t),null;case 3:return n=t.stateNode,s0(),Kn(Ii),Kn(Wa),DB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(s1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tl!==null&&(YC(tl),tl=null))),VC(e,t),ja(t),null;case 5:RB(t);var s=Id(xp.current);if(r=t.type,e!==null&&t.stateNode!=null)sk(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(mt(166));return ja(t),null}if(e=Id(Ql.current),s1(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Rl]=t,n[pp]=a,e=(t.mode&1)!==0,r){case"dialog":Qn("cancel",n),Qn("close",n);break;case"iframe":case"object":case"embed":Qn("load",n);break;case"video":case"audio":for(s=0;s<ym.length;s++)Qn(ym[s],n);break;case"source":Qn("error",n);break;case"img":case"image":case"link":Qn("error",n),Qn("load",n);break;case"details":Qn("toggle",n);break;case"input":GS(n,a),Qn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Qn("invalid",n);break;case"textarea":zS(n,a),Qn("invalid",n)}pC(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&n1(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&n1(n.textContent,l,e),s=["children",""+l]):ip.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qn("scroll",n)}switch(r){case"input":qg(n),WS(n,a,!0);break;case"textarea":qg(n),$S(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=qx)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kT(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Rl]=t,e[pp]=n,nk(e,t,!1,!1),t.stateNode=e;e:{switch(o=gC(r,n),r){case"dialog":Qn("cancel",e),Qn("close",e),s=n;break;case"iframe":case"object":case"embed":Qn("load",e),s=n;break;case"video":case"audio":for(s=0;s<ym.length;s++)Qn(ym[s],e);s=n;break;case"source":Qn("error",e),s=n;break;case"img":case"image":case"link":Qn("error",e),Qn("load",e),s=n;break;case"details":Qn("toggle",e),s=n;break;case"input":GS(e,n),s=uC(e,n),Qn("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=cs({},n,{value:void 0}),Qn("invalid",e);break;case"textarea":zS(e,n),s=fC(e,n),Qn("invalid",e);break;default:s=n}pC(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var A=l[a];a==="style"?RT(e,A):a==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&PT(e,A)):a==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&op(e,A):typeof A=="number"&&op(e,""+A):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ip.hasOwnProperty(a)?A!=null&&a==="onScroll"&&Qn("scroll",e):A!=null&&hB(e,a,A,o))}switch(r){case"input":qg(e),WS(e,n,!1);break;case"textarea":qg(e),$S(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ju(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Cf(e,!!n.multiple,a,!1):n.defaultValue!=null&&Cf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=qx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ja(t),null;case 6:if(e&&t.stateNode!=null)ak(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(mt(166));if(r=Id(xp.current),Id(Ql.current),s1(t)){if(n=t.stateNode,r=t.memoizedProps,n[Rl]=t,(a=n.nodeValue!==r)&&(e=Yi,e!==null))switch(e.tag){case 3:n1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&n1(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rl]=t,t.stateNode=n}return ja(t),null;case 13:if(Kn(ss),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jn&&qi!==null&&t.mode&1&&!(t.flags&128))CL(),r0(),t.flags|=98560,a=!1;else if(a=s1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(mt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(mt(317));a[Rl]=t}else r0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ja(t),a=!1}else tl!==null&&(YC(tl),tl=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ss.current&1?Ys===0&&(Ys=3):qB())),t.updateQueue!==null&&(t.flags|=4),ja(t),null);case 4:return s0(),VC(e,t),e===null&&fp(t.stateNode.containerInfo),ja(t),null;case 10:return LB(t.type._context),ja(t),null;case 17:return ji(t.type)&&Xx(),ja(t),null;case 19:if(Kn(ss),a=t.memoizedState,a===null)return ja(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)J0(a,!1);else{if(Ys!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ny(e),o!==null){for(t.flags|=128,J0(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kn(ss,ss.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ls()>i0&&(t.flags|=128,n=!0,J0(a,!1),t.lanes=4194304)}else{if(!n)if(e=ny(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),J0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Jn)return ja(t),null}else 2*Ls()-a.renderingStartTime>i0&&r!==1073741824&&(t.flags|=128,n=!0,J0(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ls(),t.sibling=null,r=ss.current,kn(ss,n?r&1|2:r&1),t):(ja(t),null);case 22:case 23:return $B(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?zi&1073741824&&(ja(t),t.subtreeFlags&6&&(t.flags|=8192)):ja(t),null;case 24:return null;case 25:return null}throw Error(mt(156,t.tag))}function eV(e,t){switch(FB(t),t.tag){case 1:return ji(t.type)&&Xx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return s0(),Kn(Ii),Kn(Wa),DB(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return RB(t),null;case 13:if(Kn(ss),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(mt(340));r0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Kn(ss),null;case 4:return s0(),null;case 10:return LB(t.type._context),null;case 22:case 23:return $B(),null;case 24:return null;default:return null}}var o1=!1,Qa=!1,tV=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function hf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xs(e,t,n)}else r.current=null}function KC(e,t,r){try{r()}catch(n){xs(e,t,n)}}var DE=!1;function rV(e,t){if(EC=Wx,e=AL(),SB(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,A=-1,d=0,f=0,m=e,y=null;t:for(;;){for(var g;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==a||n!==0&&m.nodeType!==3||(A=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)y=m,m=g;for(;;){if(m===e)break t;if(y===r&&++d===s&&(l=o),y===a&&++f===n&&(A=o),(g=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=g}r=l===-1||A===-1?null:{start:l,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(FC={focusedElem:e,selectionRange:r},Wx=!1,Pt=t;Pt!==null;)if(t=Pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pt=e;else for(;Pt!==null;){t=Pt;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var C=b.memoizedProps,F=b.memoizedState,v=t.stateNode,S=v.getSnapshotBeforeUpdate(t.elementType===t.type?C:qo(t.type,C),F);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(k){xs(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Pt=e;break}Pt=t.return}return b=DE,DE=!1,b}function Vm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&KC(t,r,a)}s=s.next}while(s!==n)}}function fw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function GC(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ik(e){var t=e.alternate;t!==null&&(e.alternate=null,ik(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rl],delete t[pp],delete t[TC],delete t[_H],delete t[MH])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ok(e){return e.tag===5||e.tag===3||e.tag===4}function _E(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ok(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function WC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qx));else if(n!==4&&(e=e.child,e!==null))for(WC(e,t,r),e=e.sibling;e!==null;)WC(e,t,r),e=e.sibling}function zC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(zC(e,t,r),e=e.sibling;e!==null;)zC(e,t,r),e=e.sibling}var ha=null,Zo=!1;function jA(e,t,r){for(r=r.child;r!==null;)lk(e,t,r),r=r.sibling}function lk(e,t,r){if(Ul&&typeof Ul.onCommitFiberUnmount=="function")try{Ul.onCommitFiberUnmount(iw,r)}catch{}switch(r.tag){case 5:Qa||hf(r,t);case 6:var n=ha,s=Zo;ha=null,jA(e,t,r),ha=n,Zo=s,ha!==null&&(Zo?(e=ha,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ha.removeChild(r.stateNode));break;case 18:ha!==null&&(Zo?(e=ha,r=r.stateNode,e.nodeType===8?pv(e.parentNode,r):e.nodeType===1&&pv(e,r),up(e)):pv(ha,r.stateNode));break;case 4:n=ha,s=Zo,ha=r.stateNode.containerInfo,Zo=!0,jA(e,t,r),ha=n,Zo=s;break;case 0:case 11:case 14:case 15:if(!Qa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&KC(r,t,o),s=s.next}while(s!==n)}jA(e,t,r);break;case 1:if(!Qa&&(hf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xs(r,t,l)}jA(e,t,r);break;case 21:jA(e,t,r);break;case 22:r.mode&1?(Qa=(n=Qa)||r.memoizedState!==null,jA(e,t,r),Qa=n):jA(e,t,r);break;default:jA(e,t,r)}}function ME(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tV),t.forEach(function(n){var s=uV.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ho(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ha=l.stateNode,Zo=!1;break e;case 3:ha=l.stateNode.containerInfo,Zo=!0;break e;case 4:ha=l.stateNode.containerInfo,Zo=!0;break e}l=l.return}if(ha===null)throw Error(mt(160));lk(a,o,s),ha=null,Zo=!1;var A=s.alternate;A!==null&&(A.return=null),s.return=null}catch(d){xs(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ck(t,e),t=t.sibling}function ck(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ho(t,e),Nl(e),n&4){try{Vm(3,e,e.return),fw(3,e)}catch(C){xs(e,e.return,C)}try{Vm(5,e,e.return)}catch(C){xs(e,e.return,C)}}break;case 1:Ho(t,e),Nl(e),n&512&&r!==null&&hf(r,r.return);break;case 5:if(Ho(t,e),Nl(e),n&512&&r!==null&&hf(r,r.return),e.flags&32){var s=e.stateNode;try{op(s,"")}catch(C){xs(e,e.return,C)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&TT(s,a),gC(l,o);var d=gC(l,a);for(o=0;o<A.length;o+=2){var f=A[o],m=A[o+1];f==="style"?RT(s,m):f==="dangerouslySetInnerHTML"?PT(s,m):f==="children"?op(s,m):hB(s,f,m,d)}switch(l){case"input":dC(s,a);break;case"textarea":LT(s,a);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Cf(s,!!a.multiple,g,!1):y!==!!a.multiple&&(a.defaultValue!=null?Cf(s,!!a.multiple,a.defaultValue,!0):Cf(s,!!a.multiple,a.multiple?[]:"",!1))}s[pp]=a}catch(C){xs(e,e.return,C)}}break;case 6:if(Ho(t,e),Nl(e),n&4){if(e.stateNode===null)throw Error(mt(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(C){xs(e,e.return,C)}}break;case 3:if(Ho(t,e),Nl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{up(t.containerInfo)}catch(C){xs(e,e.return,C)}break;case 4:Ho(t,e),Nl(e);break;case 13:Ho(t,e),Nl(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(WB=Ls())),n&4&&ME(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Qa=(d=Qa)||f,Ho(t,e),Qa=d):Ho(t,e),Nl(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(Pt=e,f=e.child;f!==null;){for(m=Pt=f;Pt!==null;){switch(y=Pt,g=y.child,y.tag){case 0:case 11:case 14:case 15:Vm(4,y,y.return);break;case 1:hf(y,y.return);var b=y.stateNode;if(typeof b.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(C){xs(n,r,C)}}break;case 5:hf(y,y.return);break;case 22:if(y.memoizedState!==null){QE(m);continue}}g!==null?(g.return=y,Pt=g):QE(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,A=m.memoizedProps.style,o=A!=null&&A.hasOwnProperty("display")?A.display:null,l.style.display=OT("display",o))}catch(C){xs(e,e.return,C)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(C){xs(e,e.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ho(t,e),Nl(e),n&4&&ME(e);break;case 21:break;default:Ho(t,e),Nl(e)}}function Nl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ok(r)){var n=r;break e}r=r.return}throw Error(mt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(op(s,""),n.flags&=-33);var a=_E(e);zC(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=_E(e);WC(e,l,o);break;default:throw Error(mt(161))}}catch(A){xs(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nV(e,t,r){Pt=e,Ak(e)}function Ak(e,t,r){for(var n=(e.mode&1)!==0;Pt!==null;){var s=Pt,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||o1;if(!o){var l=s.alternate,A=l!==null&&l.memoizedState!==null||Qa;l=o1;var d=Qa;if(o1=o,(Qa=A)&&!d)for(Pt=s;Pt!==null;)o=Pt,A=o.child,o.tag===22&&o.memoizedState!==null?HE(s):A!==null?(A.return=o,Pt=A):HE(s);for(;a!==null;)Pt=a,Ak(a),a=a.sibling;Pt=s,o1=l,Qa=d}UE(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Pt=a):UE(e)}}function UE(e){for(;Pt!==null;){var t=Pt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qa||fw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qa)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:qo(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&BE(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}BE(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&up(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}Qa||t.flags&512&&GC(t)}catch(y){xs(t,t.return,y)}}if(t===e){Pt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Pt=r;break}Pt=t.return}}function QE(e){for(;Pt!==null;){var t=Pt;if(t===e){Pt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Pt=r;break}Pt=t.return}}function HE(e){for(;Pt!==null;){var t=Pt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fw(4,t)}catch(A){xs(t,r,A)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(A){xs(t,s,A)}}var a=t.return;try{GC(t)}catch(A){xs(t,a,A)}break;case 5:var o=t.return;try{GC(t)}catch(A){xs(t,o,A)}}}catch(A){xs(t,t.return,A)}if(t===e){Pt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Pt=l;break}Pt=t.return}}var sV=Math.ceil,iy=sA.ReactCurrentDispatcher,KB=sA.ReactCurrentOwner,Io=sA.ReactCurrentBatchConfig,zr=0,oa=null,Hs=null,va=0,zi=0,ff=Ku(0),Ys=0,bp=null,lh=0,mw=0,GB=0,Km=null,Ni=null,WB=0,i0=1/0,jc=null,oy=!1,$C=null,vu=null,l1=!1,lu=null,ly=0,Gm=0,qC=null,Ax=-1,ux=0;function li(){return zr&6?Ls():Ax!==-1?Ax:Ax=Ls()}function bu(e){return e.mode&1?zr&2&&va!==0?va&-va:QH.transition!==null?(ux===0&&(ux=$T()),ux):(e=un,e!==0||(e=window.event,e=e===void 0?16:tL(e.type)),e):1}function al(e,t,r,n){if(50<Gm)throw Gm=0,qC=null,Error(mt(185));eg(e,r,n),(!(zr&2)||e!==oa)&&(e===oa&&(!(zr&2)&&(mw|=r),Ys===4&&$A(e,va)),Ti(e,n),r===1&&zr===0&&!(t.mode&1)&&(i0=Ls()+500,uw&&Gu()))}function Ti(e,t){var r=e.callbackNode;Q9(e,t);var n=Gx(e,e===oa?va:0);if(n===0)r!==null&&YS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&YS(r),t===1)e.tag===0?UH(VE.bind(null,e)):wL(VE.bind(null,e)),RH(function(){!(zr&6)&&Gu()}),r=null;else{switch(qT(n)){case 1:r=xB;break;case 4:r=WT;break;case 16:r=Kx;break;case 536870912:r=zT;break;default:r=Kx}r=xk(r,uk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function uk(e,t){if(Ax=-1,ux=0,zr&6)throw Error(mt(327));var r=e.callbackNode;if(Ff()&&e.callbackNode!==r)return null;var n=Gx(e,e===oa?va:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cy(e,n);else{t=n;var s=zr;zr|=2;var a=hk();(oa!==e||va!==t)&&(jc=null,i0=Ls()+500,Kd(e,t));do try{oV();break}catch(l){dk(e,l)}while(!0);TB(),iy.current=a,zr=s,Hs!==null?t=0:(oa=null,va=0,t=Ys)}if(t!==0){if(t===2&&(s=bC(e),s!==0&&(n=s,t=XC(e,s))),t===1)throw r=bp,Kd(e,0),$A(e,n),Ti(e,Ls()),r;if(t===6)$A(e,n);else{if(s=e.current.alternate,!(n&30)&&!aV(s)&&(t=cy(e,n),t===2&&(a=bC(e),a!==0&&(n=a,t=XC(e,a))),t===1))throw r=bp,Kd(e,0),$A(e,n),Ti(e,Ls()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(mt(345));case 2:yd(e,Ni,jc);break;case 3:if($A(e,n),(n&130023424)===n&&(t=WB+500-Ls(),10<t)){if(Gx(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){li(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=jC(yd.bind(null,e,Ni,jc),t);break}yd(e,Ni,jc);break;case 4:if($A(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-sl(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Ls()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sV(n/1960))-n,10<n){e.timeoutHandle=jC(yd.bind(null,e,Ni,jc),n);break}yd(e,Ni,jc);break;case 5:yd(e,Ni,jc);break;default:throw Error(mt(329))}}}return Ti(e,Ls()),e.callbackNode===r?uk.bind(null,e):null}function XC(e,t){var r=Km;return e.current.memoizedState.isDehydrated&&(Kd(e,t).flags|=256),e=cy(e,t),e!==2&&(t=Ni,Ni=r,t!==null&&YC(t)),e}function YC(e){Ni===null?Ni=e:Ni.push.apply(Ni,e)}function aV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ll(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $A(e,t){for(t&=~GB,t&=~mw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-sl(t),n=1<<r;e[r]=-1,t&=~n}}function VE(e){if(zr&6)throw Error(mt(327));Ff();var t=Gx(e,0);if(!(t&1))return Ti(e,Ls()),null;var r=cy(e,t);if(e.tag!==0&&r===2){var n=bC(e);n!==0&&(t=n,r=XC(e,n))}if(r===1)throw r=bp,Kd(e,0),$A(e,t),Ti(e,Ls()),r;if(r===6)throw Error(mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yd(e,Ni,jc),Ti(e,Ls()),null}function zB(e,t){var r=zr;zr|=1;try{return e(t)}finally{zr=r,zr===0&&(i0=Ls()+500,uw&&Gu())}}function ch(e){lu!==null&&lu.tag===0&&!(zr&6)&&Ff();var t=zr;zr|=1;var r=Io.transition,n=un;try{if(Io.transition=null,un=1,e)return e()}finally{un=n,Io.transition=r,zr=t,!(zr&6)&&Gu()}}function $B(){zi=ff.current,Kn(ff)}function Kd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,OH(r)),Hs!==null)for(r=Hs.return;r!==null;){var n=r;switch(FB(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xx();break;case 3:s0(),Kn(Ii),Kn(Wa),DB();break;case 5:RB(n);break;case 4:s0();break;case 13:Kn(ss);break;case 19:Kn(ss);break;case 10:LB(n.type._context);break;case 22:case 23:$B()}r=r.return}if(oa=e,Hs=e=Cu(e.current,null),va=zi=t,Ys=0,bp=null,GB=mw=lh=0,Ni=Km=null,Fd!==null){for(t=0;t<Fd.length;t++)if(r=Fd[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Fd=null}return e}function dk(e,t){do{var r=Hs;try{if(TB(),ox.current=ay,sy){for(var n=is.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}sy=!1}if(oh=0,aa=zs=is=null,Hm=!1,yp=0,KB.current=null,r===null||r.return===null){Ys=1,bp=t,Hs=null;break}e:{var a=e,o=r.return,l=r,A=t;if(t=va,l.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var d=A,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=jE(o);if(g!==null){g.flags&=-257,TE(g,o,l,a,t),g.mode&1&&IE(a,d,t),t=g,A=d;var b=t.updateQueue;if(b===null){var C=new Set;C.add(A),t.updateQueue=C}else b.add(A);break e}else{if(!(t&1)){IE(a,d,t),qB();break e}A=Error(mt(426))}}else if(Jn&&l.mode&1){var F=jE(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),TE(F,o,l,a,t),IB(a0(A,l));break e}}a=A=a0(A,l),Ys!==4&&(Ys=2),Km===null?Km=[a]:Km.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=qL(a,A,t);CE(a,v);break e;case 1:l=A;var S=a.type,I=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(vu===null||!vu.has(I)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=XL(a,l,t);CE(a,k);break e}}a=a.return}while(a!==null)}mk(r)}catch(M){t=M,Hs===r&&r!==null&&(Hs=r=r.return);continue}break}while(!0)}function hk(){var e=iy.current;return iy.current=ay,e===null?ay:e}function qB(){(Ys===0||Ys===3||Ys===2)&&(Ys=4),oa===null||!(lh&268435455)&&!(mw&268435455)||$A(oa,va)}function cy(e,t){var r=zr;zr|=2;var n=hk();(oa!==e||va!==t)&&(jc=null,Kd(e,t));do try{iV();break}catch(s){dk(e,s)}while(!0);if(TB(),zr=r,iy.current=n,Hs!==null)throw Error(mt(261));return oa=null,va=0,Ys}function iV(){for(;Hs!==null;)fk(Hs)}function oV(){for(;Hs!==null&&!L9();)fk(Hs)}function fk(e){var t=gk(e.alternate,e,zi);e.memoizedProps=e.pendingProps,t===null?mk(e):Hs=t,KB.current=null}function mk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=eV(r,t),r!==null){r.flags&=32767,Hs=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ys=6,Hs=null;return}}else if(r=ZH(r,t,zi),r!==null){Hs=r;return}if(t=t.sibling,t!==null){Hs=t;return}Hs=t=e}while(t!==null);Ys===0&&(Ys=5)}function yd(e,t,r){var n=un,s=Io.transition;try{Io.transition=null,un=1,lV(e,t,r,n)}finally{Io.transition=s,un=n}return null}function lV(e,t,r,n){do Ff();while(lu!==null);if(zr&6)throw Error(mt(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(mt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(H9(e,a),e===oa&&(Hs=oa=null,va=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||l1||(l1=!0,xk(Kx,function(){return Ff(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Io.transition,Io.transition=null;var o=un;un=1;var l=zr;zr|=4,KB.current=null,rV(e,r),ck(r,e),FH(FC),Wx=!!EC,FC=EC=null,e.current=r,nV(r),k9(),zr=l,un=o,Io.transition=a}else e.current=r;if(l1&&(l1=!1,lu=e,ly=s),a=e.pendingLanes,a===0&&(vu=null),R9(r.stateNode),Ti(e,Ls()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(oy)throw oy=!1,e=$C,$C=null,e;return ly&1&&e.tag!==0&&Ff(),a=e.pendingLanes,a&1?e===qC?Gm++:(Gm=0,qC=e):Gm=0,Gu(),null}function Ff(){if(lu!==null){var e=qT(ly),t=Io.transition,r=un;try{if(Io.transition=null,un=16>e?16:e,lu===null)var n=!1;else{if(e=lu,lu=null,ly=0,zr&6)throw Error(mt(331));var s=zr;for(zr|=4,Pt=e.current;Pt!==null;){var a=Pt,o=a.child;if(Pt.flags&16){var l=a.deletions;if(l!==null){for(var A=0;A<l.length;A++){var d=l[A];for(Pt=d;Pt!==null;){var f=Pt;switch(f.tag){case 0:case 11:case 15:Vm(8,f,a)}var m=f.child;if(m!==null)m.return=f,Pt=m;else for(;Pt!==null;){f=Pt;var y=f.sibling,g=f.return;if(ik(f),f===d){Pt=null;break}if(y!==null){y.return=g,Pt=y;break}Pt=g}}}var b=a.alternate;if(b!==null){var C=b.child;if(C!==null){b.child=null;do{var F=C.sibling;C.sibling=null,C=F}while(C!==null)}}Pt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Pt=o;else e:for(;Pt!==null;){if(a=Pt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Vm(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,Pt=v;break e}Pt=a.return}}var S=e.current;for(Pt=S;Pt!==null;){o=Pt;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Pt=I;else e:for(o=S;Pt!==null;){if(l=Pt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fw(9,l)}}catch(M){xs(l,l.return,M)}if(l===o){Pt=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,Pt=k;break e}Pt=l.return}}if(zr=s,Gu(),Ul&&typeof Ul.onPostCommitFiberRoot=="function")try{Ul.onPostCommitFiberRoot(iw,e)}catch{}n=!0}return n}finally{un=r,Io.transition=t}}return!1}function KE(e,t,r){t=a0(r,t),t=qL(e,t,1),e=wu(e,t,1),t=li(),e!==null&&(eg(e,1,t),Ti(e,t))}function xs(e,t,r){if(e.tag===3)KE(e,e,r);else for(;t!==null;){if(t.tag===3){KE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vu===null||!vu.has(n))){e=a0(r,e),e=XL(t,e,1),t=wu(t,e,1),e=li(),t!==null&&(eg(t,1,e),Ti(t,e));break}}t=t.return}}function cV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=li(),e.pingedLanes|=e.suspendedLanes&r,oa===e&&(va&r)===r&&(Ys===4||Ys===3&&(va&130023424)===va&&500>Ls()-WB?Kd(e,0):GB|=r),Ti(e,t)}function pk(e,t){t===0&&(e.mode&1?(t=Jg,Jg<<=1,!(Jg&130023424)&&(Jg=4194304)):t=1);var r=li();e=$c(e,t),e!==null&&(eg(e,t,r),Ti(e,r))}function AV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pk(e,r)}function uV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(mt(314))}n!==null&&n.delete(t),pk(e,r)}var gk;gk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ii.current)Si=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Si=!1,JH(e,t,r);Si=!!(e.flags&131072)}else Si=!1,Jn&&t.flags&1048576&&vL(t,Zx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;cx(e,t),e=t.pendingProps;var s=t0(t,Wa.current);Ef(t,r),s=MB(null,t,n,e,s,r);var a=UB();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(n)?(a=!0,Yx(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,PB(t),s.updater=hw,t.stateNode=s,s._reactInternals=t,DC(t,n,e,r),t=UC(null,t,n,!0,a,r)):(t.tag=0,Jn&&a&&EB(t),ri(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(cx(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=hV(n),e=qo(n,e),s){case 0:t=MC(null,t,n,e,r);break e;case 1:t=PE(null,t,n,e,r);break e;case 11:t=LE(null,t,n,e,r);break e;case 14:t=kE(null,t,n,qo(n.type,e),r);break e}throw Error(mt(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qo(n,s),MC(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qo(n,s),PE(e,t,n,s,r);case 3:e:{if(ek(t),e===null)throw Error(mt(387));n=t.pendingProps,a=t.memoizedState,s=a.element,EL(e,t),ry(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=a0(Error(mt(423)),t),t=OE(e,t,n,r,s);break e}else if(n!==s){s=a0(Error(mt(424)),t),t=OE(e,t,n,r,s);break e}else for(qi=yu(t.stateNode.containerInfo.firstChild),Yi=t,Jn=!0,tl=null,r=NL(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(r0(),n===s){t=qc(e,t,r);break e}ri(e,t,n,r)}t=t.child}return t;case 5:return FL(t),e===null&&PC(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,IC(n,s)?o=null:a!==null&&IC(n,a)&&(t.flags|=32),ZL(e,t),ri(e,t,o,r),t.child;case 6:return e===null&&PC(t),null;case 13:return tk(e,t,r);case 4:return OB(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=n0(t,null,n,r):ri(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qo(n,s),LE(e,t,n,s,r);case 7:return ri(e,t,t.pendingProps,r),t.child;case 8:return ri(e,t,t.pendingProps.children,r),t.child;case 12:return ri(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,kn(ey,n._currentValue),n._currentValue=o,a!==null)if(ll(a.value,o)){if(a.children===s.children&&!Ii.current){t=qc(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var A=l.firstContext;A!==null;){if(A.context===n){if(a.tag===1){A=Mc(-1,r&-r),A.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?A.next=A:(A.next=f.next,f.next=A),d.pending=A}}a.lanes|=r,A=a.alternate,A!==null&&(A.lanes|=r),OC(a.return,r,t),l.lanes|=r;break}A=A.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(mt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),OC(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ri(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ef(t,r),s=To(s),n=n(s),t.flags|=1,ri(e,t,n,r),t.child;case 14:return n=t.type,s=qo(n,t.pendingProps),s=qo(n.type,s),kE(e,t,n,s,r);case 15:return YL(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:qo(n,s),cx(e,t),t.tag=1,ji(n)?(e=!0,Yx(t)):e=!1,Ef(t,r),$L(t,n,s),DC(t,n,s,r),UC(null,t,n,!0,e,r);case 19:return rk(e,t,r);case 22:return JL(e,t,r)}throw Error(mt(156,t.tag))};function xk(e,t){return GT(e,t)}function dV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function No(e,t,r,n){return new dV(e,t,r,n)}function XB(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hV(e){if(typeof e=="function")return XB(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mB)return 11;if(e===pB)return 14}return 2}function Cu(e,t){var r=e.alternate;return r===null?(r=No(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function dx(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")XB(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nf:return Gd(r.children,s,a,t);case fB:o=8,s|=8;break;case oC:return e=No(12,r,t,s|2),e.elementType=oC,e.lanes=a,e;case lC:return e=No(13,r,t,s),e.elementType=lC,e.lanes=a,e;case cC:return e=No(19,r,t,s),e.elementType=cC,e.lanes=a,e;case FT:return pw(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ST:o=10;break e;case ET:o=9;break e;case mB:o=11;break e;case pB:o=14;break e;case KA:o=16,n=null;break e}throw Error(mt(130,e==null?e:typeof e,""))}return t=No(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Gd(e,t,r,n){return e=No(7,e,n,t),e.lanes=r,e}function pw(e,t,r,n){return e=No(22,e,n,t),e.elementType=FT,e.lanes=r,e.stateNode={isHidden:!1},e}function Bv(e,t,r){return e=No(6,e,null,t),e.lanes=r,e}function Nv(e,t,r){return t=No(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fV(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=av(0),this.expirationTimes=av(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=av(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function YB(e,t,r,n,s,a,o,l,A){return e=new fV(e,t,r,l,A),t===1?(t=1,a===!0&&(t|=8)):t=0,a=No(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},PB(a),e}function mV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function yk(e){if(!e)return Tu;e=e._reactInternals;e:{if(vh(e)!==e||e.tag!==1)throw Error(mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(mt(171))}if(e.tag===1){var r=e.type;if(ji(r))return yL(e,r,t)}return t}function wk(e,t,r,n,s,a,o,l,A){return e=YB(r,n,!0,e,s,a,o,l,A),e.context=yk(null),r=e.current,n=li(),s=bu(r),a=Mc(n,s),a.callback=t??null,wu(r,a,s),e.current.lanes=s,eg(e,s,n),Ti(e,n),e}function gw(e,t,r,n){var s=t.current,a=li(),o=bu(s);return r=yk(r),t.context===null?t.context=r:t.pendingContext=r,t=Mc(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=wu(s,t,o),e!==null&&(al(e,s,o,a),ix(e,s,o)),o}function Ay(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function GE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function JB(e,t){GE(e,t),(e=e.alternate)&&GE(e,t)}function pV(){return null}var vk=typeof reportError=="function"?reportError:function(e){console.error(e)};function ZB(e){this._internalRoot=e}xw.prototype.render=ZB.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(mt(409));gw(e,t,null,null)};xw.prototype.unmount=ZB.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ch(function(){gw(null,e,null,null)}),t[zc]=null}};function xw(e){this._internalRoot=e}xw.prototype.unstable_scheduleHydration=function(e){if(e){var t=JT();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zA.length&&t!==0&&t<zA[r].priority;r++);zA.splice(r,0,e),r===0&&eL(e)}};function eN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function WE(){}function gV(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var d=Ay(o);a.call(d)}}var o=wk(t,n,e,0,null,!1,!1,"",WE);return e._reactRootContainer=o,e[zc]=o.current,fp(e.nodeType===8?e.parentNode:e),ch(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Ay(A);l.call(d)}}var A=YB(e,0,!1,null,null,!1,!1,"",WE);return e._reactRootContainer=A,e[zc]=A.current,fp(e.nodeType===8?e.parentNode:e),ch(function(){gw(t,A,r,n)}),A}function ww(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var A=Ay(o);l.call(A)}}gw(t,o,e,s)}else o=gV(r,t,e,s,n);return Ay(o)}XT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xm(t.pendingLanes);r!==0&&(yB(t,r|1),Ti(t,Ls()),!(zr&6)&&(i0=Ls()+500,Gu()))}break;case 13:ch(function(){var n=$c(e,1);if(n!==null){var s=li();al(n,e,1,s)}}),JB(e,1)}};wB=function(e){if(e.tag===13){var t=$c(e,134217728);if(t!==null){var r=li();al(t,e,134217728,r)}JB(e,134217728)}};YT=function(e){if(e.tag===13){var t=bu(e),r=$c(e,t);if(r!==null){var n=li();al(r,e,t,n)}JB(e,t)}};JT=function(){return un};ZT=function(e,t){var r=un;try{return un=e,t()}finally{un=r}};yC=function(e,t,r){switch(t){case"input":if(dC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Aw(n);if(!s)throw Error(mt(90));jT(n),dC(n,s)}}}break;case"textarea":LT(e,r);break;case"select":t=r.value,t!=null&&Cf(e,!!r.multiple,t,!1)}};MT=zB;UT=ch;var xV={usingClientEntryPoint:!1,Events:[rg,lf,Aw,DT,_T,zB]},Z0={findFiberByHostInstance:Ed,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yV={bundleType:Z0.bundleType,version:Z0.version,rendererPackageName:Z0.rendererPackageName,rendererConfig:Z0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sA.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VT(e),e===null?null:e.stateNode},findFiberByHostInstance:Z0.findFiberByHostInstance||pV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var c1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c1.isDisabled&&c1.supportsFiber)try{iw=c1.inject(yV),Ul=c1}catch{}}no.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xV;no.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eN(t))throw Error(mt(200));return mV(e,t,null,r)};no.createRoot=function(e,t){if(!eN(e))throw Error(mt(299));var r=!1,n="",s=vk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=YB(e,1,!1,null,null,r,!1,n,s),e[zc]=t.current,fp(e.nodeType===8?e.parentNode:e),new ZB(t)};no.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(mt(188)):(e=Object.keys(e).join(","),Error(mt(268,e)));return e=VT(t),e=e===null?null:e.stateNode,e};no.flushSync=function(e){return ch(e)};no.hydrate=function(e,t,r){if(!yw(t))throw Error(mt(200));return ww(null,e,t,!0,r)};no.hydrateRoot=function(e,t,r){if(!eN(e))throw Error(mt(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=vk;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=wk(t,null,e,1,r??null,s,!1,a,o),e[zc]=t.current,fp(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new xw(t)};no.render=function(e,t,r){if(!yw(t))throw Error(mt(200));return ww(null,e,t,!1,r)};no.unmountComponentAtNode=function(e){if(!yw(e))throw Error(mt(40));return e._reactRootContainer?(ch(function(){ww(null,null,e,!1,function(){e._reactRootContainer=null,e[zc]=null})}),!0):!1};no.unstable_batchedUpdates=zB;no.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!yw(r))throw Error(mt(200));if(e==null||e._reactInternals===void 0)throw Error(mt(38));return ww(e,t,r,!1,n)};no.version="18.3.1-next-f1338f8080-20240426";function bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bk)}catch(e){console.error(e)}}bk(),bT.exports=no;var Wu=bT.exports;const Ck=Jp(Wu);var Bk,zE=Wu;Bk=zE.createRoot,zE.hydrateRoot;var wV=e=>{switch(e){case"success":return CV;case"info":return NV;case"warning":return BV;case"error":return SV;default:return null}},vV=Array(12).fill(0),bV=({visible:e,className:t})=>Ye.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ye.createElement("div",{className:"sonner-spinner"},vV.map((r,n)=>Ye.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),CV=Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ye.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),BV=Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ye.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),NV=Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),SV=Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ye.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),EV=Ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ye.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ye.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),FV=()=>{let[e,t]=Ye.useState(document.hidden);return Ye.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},JC=1,IV=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...s}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:JC++,o=this.toasts.find(A=>A.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(A=>A.id===a?(this.publish({...A,...t,id:a,title:n}),{...A,...t,id:a,dismissible:l,title:n}):A):this.addToast({title:n,...s,dismissible:l,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=t instanceof Promise?t:t(),a=n!==void 0,o,l=s.then(async d=>{if(o=["resolve",d],Ye.isValidElement(d))a=!1,this.create({id:n,type:"default",message:d});else if(TV(d)&&!d.ok){a=!1;let f=typeof r.error=="function"?await r.error(`HTTP error! status: ${d.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${d.status}`):r.description;this.create({id:n,type:"error",message:f,description:m})}else if(r.success!==void 0){a=!1;let f=typeof r.success=="function"?await r.success(d):r.success,m=typeof r.description=="function"?await r.description(d):r.description;this.create({id:n,type:"success",message:f,description:m})}}).catch(async d=>{if(o=["reject",d],r.error!==void 0){a=!1;let f=typeof r.error=="function"?await r.error(d):r.error,m=typeof r.description=="function"?await r.description(d):r.description;this.create({id:n,type:"error",message:f,description:m})}}).finally(()=>{var d;a&&(this.dismiss(n),n=void 0),(d=r.finally)==null||d.call(r)}),A=()=>new Promise((d,f)=>l.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:A}:Object.assign(n,{unwrap:A})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||JC++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ci=new IV,jV=(e,t)=>{let r=(t==null?void 0:t.id)||JC++;return Ci.addToast({title:e,...t,id:r}),r},TV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",LV=jV,kV=()=>Ci.toasts,PV=()=>Ci.getActiveToasts(),Fe=Object.assign(LV,{success:Ci.success,info:Ci.info,warning:Ci.warning,error:Ci.error,custom:Ci.custom,message:Ci.message,promise:Ci.promise,dismiss:Ci.dismiss,loading:Ci.loading},{getHistory:kV,getToasts:PV});function OV(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}OV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function A1(e){return e.label!==void 0}var RV=3,DV="32px",_V="16px",$E=4e3,MV=356,UV=14,QV=20,HV=200;function Vo(...e){return e.filter(Boolean).join(" ")}function VV(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var KV=e=>{var t,r,n,s,a,o,l,A,d,f,m;let{invert:y,toast:g,unstyled:b,interacting:C,setHeights:F,visibleToasts:v,heights:S,index:I,toasts:k,expanded:M,removeToast:V,defaultRichColors:O,closeButton:R,style:_,cancelButtonStyle:J,actionButtonStyle:U,className:Q="",descriptionClassName:X="",duration:Z,position:$,gap:q,loadingIcon:W,expandByDefault:Y,classNames:K,icons:ae,closeButtonAriaLabel:be="Close toast",pauseWhenPageIsHidden:H}=e,[ee,ie]=Ye.useState(null),[le,ce]=Ye.useState(null),[me,we]=Ye.useState(!1),[Ie,ve]=Ye.useState(!1),[Ce,Pe]=Ye.useState(!1),[Me,Je]=Ye.useState(!1),[Re,ye]=Ye.useState(!1),[pt,rt]=Ye.useState(0),[Ke,ht]=Ye.useState(0),_e=Ye.useRef(g.duration||Z||$E),ft=Ye.useRef(null),yt=Ye.useRef(null),et=I===0,Nt=I+1<=v,wt=g.type,Ht=g.dismissible!==!1,lr=g.className||"",qe=g.descriptionClassName||"",St=Ye.useMemo(()=>S.findIndex(gt=>gt.toastId===g.id)||0,[S,g.id]),Ze=Ye.useMemo(()=>{var gt;return(gt=g.closeButton)!=null?gt:R},[g.closeButton,R]),br=Ye.useMemo(()=>g.duration||Z||$E,[g.duration,Z]),Ot=Ye.useRef(0),dt=Ye.useRef(0),Zt=Ye.useRef(0),Ut=Ye.useRef(null),[Or,Er]=$.split("-"),fi=Ye.useMemo(()=>S.reduce((gt,Cr,Qt)=>Qt>=St?gt:gt+Cr.height,0),[S,St]),hn=FV(),ur=g.invert||y,vs=wt==="loading";dt.current=Ye.useMemo(()=>St*q+fi,[St,fi]),Ye.useEffect(()=>{_e.current=br},[br]),Ye.useEffect(()=>{we(!0)},[]),Ye.useEffect(()=>{let gt=yt.current;if(gt){let Cr=gt.getBoundingClientRect().height;return ht(Cr),F(Qt=>[{toastId:g.id,height:Cr,position:g.position},...Qt]),()=>F(Qt=>Qt.filter(an=>an.toastId!==g.id))}},[F,g.id]),Ye.useLayoutEffect(()=>{if(!me)return;let gt=yt.current,Cr=gt.style.height;gt.style.height="auto";let Qt=gt.getBoundingClientRect().height;gt.style.height=Cr,ht(Qt),F(an=>an.find(yn=>yn.toastId===g.id)?an.map(yn=>yn.toastId===g.id?{...yn,height:Qt}:yn):[{toastId:g.id,height:Qt,position:g.position},...an])},[me,g.title,g.description,F,g.id]);let Qr=Ye.useCallback(()=>{ve(!0),rt(dt.current),F(gt=>gt.filter(Cr=>Cr.toastId!==g.id)),setTimeout(()=>{V(g)},HV)},[g,V,F,dt]);Ye.useEffect(()=>{if(g.promise&&wt==="loading"||g.duration===1/0||g.type==="loading")return;let gt;return M||C||H&&hn?(()=>{if(Zt.current<Ot.current){let Cr=new Date().getTime()-Ot.current;_e.current=_e.current-Cr}Zt.current=new Date().getTime()})():_e.current!==1/0&&(Ot.current=new Date().getTime(),gt=setTimeout(()=>{var Cr;(Cr=g.onAutoClose)==null||Cr.call(g,g),Qr()},_e.current)),()=>clearTimeout(gt)},[M,C,g,wt,H,hn,Qr]),Ye.useEffect(()=>{g.delete&&Qr()},[Qr,g.delete]);function nr(){var gt,Cr,Qt;return ae!=null&&ae.loading?Ye.createElement("div",{className:Vo(K==null?void 0:K.loader,(gt=g==null?void 0:g.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":wt==="loading"},ae.loading):W?Ye.createElement("div",{className:Vo(K==null?void 0:K.loader,(Cr=g==null?void 0:g.classNames)==null?void 0:Cr.loader,"sonner-loader"),"data-visible":wt==="loading"},W):Ye.createElement(bV,{className:Vo(K==null?void 0:K.loader,(Qt=g==null?void 0:g.classNames)==null?void 0:Qt.loader),visible:wt==="loading"})}return Ye.createElement("li",{tabIndex:0,ref:yt,className:Vo(Q,lr,K==null?void 0:K.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,K==null?void 0:K.default,K==null?void 0:K[wt],(r=g==null?void 0:g.classNames)==null?void 0:r[wt]),"data-sonner-toast":"","data-rich-colors":(n=g.richColors)!=null?n:O,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":me,"data-promise":!!g.promise,"data-swiped":Re,"data-removed":Ie,"data-visible":Nt,"data-y-position":Or,"data-x-position":Er,"data-index":I,"data-front":et,"data-swiping":Ce,"data-dismissible":Ht,"data-type":wt,"data-invert":ur,"data-swipe-out":Me,"data-swipe-direction":le,"data-expanded":!!(M||Y&&me),style:{"--index":I,"--toasts-before":I,"--z-index":k.length-I,"--offset":`${Ie?pt:dt.current}px`,"--initial-height":Y?"auto":`${Ke}px`,..._,...g.style},onDragEnd:()=>{Pe(!1),ie(null),Ut.current=null},onPointerDown:gt=>{vs||!Ht||(ft.current=new Date,rt(dt.current),gt.target.setPointerCapture(gt.pointerId),gt.target.tagName!=="BUTTON"&&(Pe(!0),Ut.current={x:gt.clientX,y:gt.clientY}))},onPointerUp:()=>{var gt,Cr,Qt,an;if(Me||!Ht)return;Ut.current=null;let yn=Number(((gt=yt.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ft=Number(((Cr=yt.current)==null?void 0:Cr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bs=new Date().getTime()-((Qt=ft.current)==null?void 0:Qt.getTime()),tn=ee==="x"?yn:Ft,wn=Math.abs(tn)/bs;if(Math.abs(tn)>=QV||wn>.11){rt(dt.current),(an=g.onDismiss)==null||an.call(g,g),ce(ee==="x"?yn>0?"right":"left":Ft>0?"down":"up"),Qr(),Je(!0),ye(!1);return}Pe(!1),ie(null)},onPointerMove:gt=>{var Cr,Qt,an,yn;if(!Ut.current||!Ht||((Cr=window.getSelection())==null?void 0:Cr.toString().length)>0)return;let Ft=gt.clientY-Ut.current.y,bs=gt.clientX-Ut.current.x,tn=(Qt=e.swipeDirections)!=null?Qt:VV($);!ee&&(Math.abs(bs)>1||Math.abs(Ft)>1)&&ie(Math.abs(bs)>Math.abs(Ft)?"x":"y");let wn={x:0,y:0};ee==="y"?(tn.includes("top")||tn.includes("bottom"))&&(tn.includes("top")&&Ft<0||tn.includes("bottom")&&Ft>0)&&(wn.y=Ft):ee==="x"&&(tn.includes("left")||tn.includes("right"))&&(tn.includes("left")&&bs<0||tn.includes("right")&&bs>0)&&(wn.x=bs),(Math.abs(wn.x)>0||Math.abs(wn.y)>0)&&ye(!0),(an=yt.current)==null||an.style.setProperty("--swipe-amount-x",`${wn.x}px`),(yn=yt.current)==null||yn.style.setProperty("--swipe-amount-y",`${wn.y}px`)}},Ze&&!g.jsx?Ye.createElement("button",{"aria-label":be,"data-disabled":vs,"data-close-button":!0,onClick:vs||!Ht?()=>{}:()=>{var gt;Qr(),(gt=g.onDismiss)==null||gt.call(g,g)},className:Vo(K==null?void 0:K.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(a=ae==null?void 0:ae.close)!=null?a:EV):null,g.jsx||N.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:Ye.createElement(Ye.Fragment,null,wt||g.icon||g.promise?Ye.createElement("div",{"data-icon":"",className:Vo(K==null?void 0:K.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||nr():null,g.type!=="loading"?g.icon||(ae==null?void 0:ae[wt])||wV(wt):null):null,Ye.createElement("div",{"data-content":"",className:Vo(K==null?void 0:K.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},Ye.createElement("div",{"data-title":"",className:Vo(K==null?void 0:K.title,(A=g==null?void 0:g.classNames)==null?void 0:A.title)},typeof g.title=="function"?g.title():g.title),g.description?Ye.createElement("div",{"data-description":"",className:Vo(X,qe,K==null?void 0:K.description,(d=g==null?void 0:g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),N.isValidElement(g.cancel)?g.cancel:g.cancel&&A1(g.cancel)?Ye.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||J,onClick:gt=>{var Cr,Qt;A1(g.cancel)&&Ht&&((Qt=(Cr=g.cancel).onClick)==null||Qt.call(Cr,gt),Qr())},className:Vo(K==null?void 0:K.cancelButton,(f=g==null?void 0:g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,N.isValidElement(g.action)?g.action:g.action&&A1(g.action)?Ye.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||U,onClick:gt=>{var Cr,Qt;A1(g.action)&&((Qt=(Cr=g.action).onClick)==null||Qt.call(Cr,gt),!gt.defaultPrevented&&Qr())},className:Vo(K==null?void 0:K.actionButton,(m=g==null?void 0:g.classNames)==null?void 0:m.actionButton)},g.action.label):null))};function qE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function GV(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?_V:DV;function A(d){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?A(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):A(l)}),r}var WV=N.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:A,mobileOffset:d,theme:f="light",richColors:m,duration:y,style:g,visibleToasts:b=RV,toastOptions:C,dir:F=qE(),gap:v=UV,loadingIcon:S,icons:I,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:M}=e,[V,O]=Ye.useState([]),R=Ye.useMemo(()=>Array.from(new Set([n].concat(V.filter(H=>H.position).map(H=>H.position)))),[V,n]),[_,J]=Ye.useState([]),[U,Q]=Ye.useState(!1),[X,Z]=Ye.useState(!1),[$,q]=Ye.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=Ye.useRef(null),Y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=Ye.useRef(null),ae=Ye.useRef(!1),be=Ye.useCallback(H=>{O(ee=>{var ie;return(ie=ee.find(le=>le.id===H.id))!=null&&ie.delete||Ci.dismiss(H.id),ee.filter(({id:le})=>le!==H.id)})},[]);return Ye.useEffect(()=>Ci.subscribe(H=>{if(H.dismiss){O(ee=>ee.map(ie=>ie.id===H.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{Ck.flushSync(()=>{O(ee=>{let ie=ee.findIndex(le=>le.id===H.id);return ie!==-1?[...ee.slice(0,ie),{...ee[ie],...H},...ee.slice(ie+1)]:[H,...ee]})})})}),[]),Ye.useEffect(()=>{if(f!=="system"){q(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:ee})=>{q(ee?"dark":"light")})}catch{H.addListener(({matches:ie})=>{try{q(ie?"dark":"light")}catch(le){console.error(le)}})}},[f]),Ye.useEffect(()=>{V.length<=1&&Q(!1)},[V]),Ye.useEffect(()=>{let H=ee=>{var ie,le;s.every(ce=>ee[ce]||ee.code===ce)&&(Q(!0),(ie=W.current)==null||ie.focus()),ee.code==="Escape"&&(document.activeElement===W.current||(le=W.current)!=null&&le.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[s]),Ye.useEffect(()=>{if(W.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,ae.current=!1)}},[W.current]),Ye.createElement("section",{ref:t,"aria-label":`${k} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((H,ee)=>{var ie;let[le,ce]=H.split("-");return V.length?Ye.createElement("ol",{key:H,dir:F==="auto"?qE():F,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":le,"data-lifted":U&&V.length>1&&!a,"data-x-position":ce,style:{"--front-toast-height":`${((ie=_[0])==null?void 0:ie.height)||0}px`,"--width":`${MV}px`,"--gap":`${v}px`,...g,...GV(A,d)},onBlur:me=>{ae.current&&!me.currentTarget.contains(me.relatedTarget)&&(ae.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||ae.current||(ae.current=!0,K.current=me.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{X||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},V.filter(me=>!me.position&&ee===0||me.position===H).map((me,we)=>{var Ie,ve;return Ye.createElement(KV,{key:me.id,icons:I,index:we,toast:me,defaultRichColors:m,duration:(Ie=C==null?void 0:C.duration)!=null?Ie:y,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:b,closeButton:(ve=C==null?void 0:C.closeButton)!=null?ve:o,interacting:X,position:H,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,removeToast:be,toasts:V.filter(Ce=>Ce.position==me.position),heights:_.filter(Ce=>Ce.position==me.position),setHeights:J,expandByDefault:a,gap:v,loadingIcon:S,expanded:U,pauseWhenPageIsHidden:M,swipeDirections:e.swipeDirections})})):null}))});let zV={data:""},$V=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||zV,qV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,XV=/\/\*[^]*?\*\/|  +/g,XE=/\n+/g,qA=(e,t)=>{let r="",n="",s="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?qA(o,a):a+"{"+qA(o,a[1]=="k"?"":t)+"}":typeof o=="object"?n+=qA(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,A=>/&/.test(A)?A.replace(/&/g,l):l?l+" "+A:A)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=qA.p?qA.p(a,o):a+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},bc={},Nk=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Nk(e[r]);return t}return e},YV=(e,t,r,n,s)=>{let a=Nk(e),o=bc[a]||(bc[a]=(A=>{let d=0,f=11;for(;d<A.length;)f=101*f+A.charCodeAt(d++)>>>0;return"go"+f})(a));if(!bc[o]){let A=a!==e?e:(d=>{let f,m,y=[{}];for(;f=qV.exec(d.replace(XV,""));)f[4]?y.shift():f[3]?(m=f[3].replace(XE," ").trim(),y.unshift(y[0][m]=y[0][m]||{})):y[0][f[1]]=f[2].replace(XE," ").trim();return y[0]})(e);bc[o]=qA(s?{["@keyframes "+o]:A}:A,r?"":"."+o)}let l=r&&bc.g?bc.g:null;return r&&(bc.g=bc[o]),((A,d,f,m)=>{m?d.data=d.data.replace(m,A):d.data.indexOf(A)===-1&&(d.data=f?A+d.data:d.data+A)})(bc[o],t,n,l),o},JV=(e,t,r)=>e.reduce((n,s,a)=>{let o=t[a];if(o&&o.call){let l=o(r),A=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=A?"."+A:l&&typeof l=="object"?l.props?"":qA(l,""):l===!1?"":l}return n+s+(o??"")},"");function vw(e){let t=this||{},r=e.call?e(t.p):e;return YV(r.unshift?r.raw?JV(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,$V(t.target),t.g,t.o,t.k)}let Sk,ZC,e5;vw.bind({g:1});let Xc=vw.bind({k:1});function ZV(e,t,r,n){qA.p=t,Sk=e,ZC=r,e5=n}function zu(e,t){let r=this||{};return function(){let n=arguments;function s(a,o){let l=Object.assign({},a),A=l.className||s.className;r.p=Object.assign({theme:ZC&&ZC()},l),r.o=/ *go\d+/.test(A),l.className=vw.apply(r,n)+(A?" "+A:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),e5&&d[0]&&e5(l),Sk(d,l)}return s}}var eK=e=>typeof e=="function",uy=(e,t)=>eK(e)?e(t):e,tK=(()=>{let e=0;return()=>(++e).toString()})(),Ek=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),rK=20,Fk=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,rK)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return Fk(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},hx=[],jd={toasts:[],pausedAt:void 0},bh=e=>{jd=Fk(jd,e),hx.forEach(t=>{t(jd)})},nK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},sK=(e={})=>{let[t,r]=N.useState(jd),n=N.useRef(jd);N.useEffect(()=>(n.current!==jd&&r(jd),hx.push(r),()=>{let a=hx.indexOf(r);a>-1&&hx.splice(a,1)}),[]);let s=t.toasts.map(a=>{var o,l,A;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((o=e[a.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((l=e[a.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||nK[a.type],style:{...e.style,...(A=e[a.type])==null?void 0:A.style,...a.style}}});return{...t,toasts:s}},aK=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||tK()}),sg=e=>(t,r)=>{let n=aK(t,e,r);return bh({type:2,toast:n}),n.id},Wt=(e,t)=>sg("blank")(e,t);Wt.error=sg("error");Wt.success=sg("success");Wt.loading=sg("loading");Wt.custom=sg("custom");Wt.dismiss=e=>{bh({type:3,toastId:e})};Wt.remove=e=>bh({type:4,toastId:e});Wt.promise=(e,t,r)=>{let n=Wt.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?uy(t.success,s):void 0;return a?Wt.success(a,{id:n,...r,...r==null?void 0:r.success}):Wt.dismiss(n),s}).catch(s=>{let a=t.error?uy(t.error,s):void 0;a?Wt.error(a,{id:n,...r,...r==null?void 0:r.error}):Wt.dismiss(n)}),e};var iK=(e,t)=>{bh({type:1,toast:{id:e,height:t}})},oK=()=>{bh({type:5,time:Date.now()})},Wm=new Map,lK=1e3,cK=(e,t=lK)=>{if(Wm.has(e))return;let r=setTimeout(()=>{Wm.delete(e),bh({type:4,toastId:e})},t);Wm.set(e,r)},AK=e=>{let{toasts:t,pausedAt:r}=sK(e);N.useEffect(()=>{if(r)return;let a=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let A=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(A<0){l.visible&&Wt.dismiss(l.id);return}return setTimeout(()=>Wt.dismiss(l.id),A)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=N.useCallback(()=>{r&&bh({type:6,time:Date.now()})},[r]),s=N.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:A=8,defaultPosition:d}=o||{},f=t.filter(g=>(g.position||d)===(a.position||d)&&g.height),m=f.findIndex(g=>g.id===a.id),y=f.filter((g,b)=>b<m&&g.visible).length;return f.filter(g=>g.visible).slice(...l?[y+1]:[0,y]).reduce((g,b)=>g+(b.height||0)+A,0)},[t]);return N.useEffect(()=>{t.forEach(a=>{if(a.dismissed)cK(a.id,a.removeDelay);else{let o=Wm.get(a.id);o&&(clearTimeout(o),Wm.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:iK,startPause:oK,endPause:n,calculateOffset:s}}},uK=Xc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dK=Xc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hK=Xc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fK=zu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mK=Xc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pK=zu("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${mK} 1s linear infinite;
`,gK=Xc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xK=Xc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yK=zu("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wK=zu("div")`
  position: absolute;
`,vK=zu("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bK=Xc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CK=zu("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,BK=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(CK,null,t):t:r==="blank"?null:N.createElement(vK,null,N.createElement(pK,{...n}),r!=="loading"&&N.createElement(wK,null,r==="error"?N.createElement(fK,{...n}):N.createElement(yK,{...n})))},NK=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,SK=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,EK="0%{opacity:0;} 100%{opacity:1;}",FK="0%{opacity:1;} 100%{opacity:0;}",IK=zu("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jK=zu("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,TK=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Ek()?[EK,FK]:[NK(r),SK(r)];return{animation:t?`${Xc(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xc(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},LK=N.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?TK(e.position||t||"top-center",e.visible):{opacity:0},a=N.createElement(BK,{toast:e}),o=N.createElement(jK,{...e.ariaProps},uy(e.message,e));return N.createElement(IK,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:a,message:o}):N.createElement(N.Fragment,null,a,o))});ZV(N.createElement);var kK=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let a=N.useCallback(o=>{if(o){let l=()=>{let A=o.getBoundingClientRect().height;n(e,A)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:a,className:t,style:r},s)},PK=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ek()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},OK=vw`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,u1=16,RK=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:A}=AK(r);return N.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:u1,left:u1,right:u1,bottom:u1,pointerEvents:"none",...a},className:o,onMouseEnter:A.startPause,onMouseLeave:A.endPause},l.map(d=>{let f=d.position||t,m=A.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),y=PK(f,m);return N.createElement(kK,{id:d.id,key:d.id,onHeightUpdate:A.updateHeight,className:d.visible?OK:"",style:y},d.type==="custom"?uy(d.message,d):s?s(d):N.createElement(LK,{toast:d,position:f}))}))},b0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ah=typeof window>"u"||"Deno"in globalThis;function ni(){}function DK(e,t){return typeof e=="function"?e(t):e}function t5(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ik(e,t){return Math.max(e+(t||0)-Date.now(),0)}function If(e,t){return typeof e=="function"?e(t):e}function rl(e,t){return typeof e=="function"?e(t):e}function YE(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==tN(o,t.options))return!1}else if(!Cp(t.queryKey,o))return!1}if(r!=="all"){const A=t.isActive();if(r==="active"&&!A||r==="inactive"&&A)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function JE(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(uh(t.options.mutationKey)!==uh(a))return!1}else if(!Cp(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function tN(e,t){return((t==null?void 0:t.queryKeyHashFn)||uh)(e)}function uh(e){return JSON.stringify(e,(t,r)=>r5(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Cp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Cp(e[r],t[r])):!1}function jk(e,t){if(e===t)return e;const r=ZE(e)&&ZE(t);if(r||r5(e)&&r5(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{};let A=0;for(let d=0;d<o;d++){const f=r?d:a[d];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,A++):(l[f]=jk(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&A++)}return s===o&&A===s?e:l}return t}function dy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ZE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function r5(e){if(!e6(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!e6(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function e6(e){return Object.prototype.toString.call(e)==="[object Object]"}function _K(e){return new Promise(t=>{setTimeout(t,e)})}function n5(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?jk(e,t):t}function MK(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function UK(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var rN=Symbol();function Tk(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Lk(e,t){return typeof e=="function"?e(...t):!!e}var Rd,YA,Uf,eT,QK=(eT=class extends b0{constructor(){super();$t(this,Rd);$t(this,YA);$t(this,Uf);jt(this,Uf,t=>{if(!Ah&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ee(this,YA)||this.setEventListener(Ee(this,Uf))}onUnsubscribe(){var t;this.hasListeners()||((t=Ee(this,YA))==null||t.call(this),jt(this,YA,void 0))}setEventListener(t){var r;jt(this,Uf,t),(r=Ee(this,YA))==null||r.call(this),jt(this,YA,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Ee(this,Rd)!==t&&(jt(this,Rd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Ee(this,Rd)=="boolean"?Ee(this,Rd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Rd=new WeakMap,YA=new WeakMap,Uf=new WeakMap,eT),nN=new QK,Qf,JA,Hf,tT,HK=(tT=class extends b0{constructor(){super();$t(this,Qf,!0);$t(this,JA);$t(this,Hf);jt(this,Hf,t=>{if(!Ah&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ee(this,JA)||this.setEventListener(Ee(this,Hf))}onUnsubscribe(){var t;this.hasListeners()||((t=Ee(this,JA))==null||t.call(this),jt(this,JA,void 0))}setEventListener(t){var r;jt(this,Hf,t),(r=Ee(this,JA))==null||r.call(this),jt(this,JA,t(this.setOnline.bind(this)))}setOnline(t){Ee(this,Qf)!==t&&(jt(this,Qf,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Ee(this,Qf)}},Qf=new WeakMap,JA=new WeakMap,Hf=new WeakMap,tT),hy=new HK;function s5(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function VK(e){return Math.min(1e3*2**e,3e4)}function kk(e){return(e??"online")==="online"?hy.isOnline():!0}var Pk=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Sv(e){return e instanceof Pk}function Ok(e){let t=!1,r=0,n=!1,s;const a=s5(),o=C=>{var F;n||(y(new Pk(C)),(F=e.abort)==null||F.call(e))},l=()=>{t=!0},A=()=>{t=!1},d=()=>nN.isFocused()&&(e.networkMode==="always"||hy.isOnline())&&e.canRun(),f=()=>kk(e.networkMode)&&e.canRun(),m=C=>{var F;n||(n=!0,(F=e.onSuccess)==null||F.call(e,C),s==null||s(),a.resolve(C))},y=C=>{var F;n||(n=!0,(F=e.onError)==null||F.call(e,C),s==null||s(),a.reject(C))},g=()=>new Promise(C=>{var F;s=v=>{(n||d())&&C(v)},(F=e.onPause)==null||F.call(e)}).then(()=>{var C;s=void 0,n||(C=e.onContinue)==null||C.call(e)}),b=()=>{if(n)return;let C;const F=r===0?e.initialPromise:void 0;try{C=F??e.fn()}catch(v){C=Promise.reject(v)}Promise.resolve(C).then(m).catch(v=>{var V;if(n)return;const S=e.retry??(Ah?0:3),I=e.retryDelay??VK,k=typeof I=="function"?I(r,v):I,M=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,v);if(t||!M){y(v);return}r++,(V=e.onFail)==null||V.call(e,r,v),_K(k).then(()=>d()?void 0:g()).then(()=>{t?y(v):b()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:A,canStart:f,start:()=>(f()?b():g().then(b),a)}}var KK=e=>setTimeout(e,0);function GK(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=KK;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(A=>{r(A)})})})};return{batch:l=>{let A;t++;try{A=l()}finally{t--,t||o()}return A},batchCalls:l=>(...A)=>{a(()=>{l(...A)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var $s=GK(),Dd,rT,Rk=(rT=class{constructor(){$t(this,Dd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t5(this.gcTime)&&jt(this,Dd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ah?1/0:5*60*1e3))}clearGcTimeout(){Ee(this,Dd)&&(clearTimeout(Ee(this,Dd)),jt(this,Dd,void 0))}},Dd=new WeakMap,rT),Vf,Kf,vo,_d,Ra,$p,Md,Yo,Fc,nT,WK=(nT=class extends Rk{constructor(t){super();$t(this,Yo);$t(this,Vf);$t(this,Kf);$t(this,vo);$t(this,_d);$t(this,Ra);$t(this,$p);$t(this,Md);jt(this,Md,!1),jt(this,$p,t.defaultOptions),this.setOptions(t.options),this.observers=[],jt(this,_d,t.client),jt(this,vo,Ee(this,_d).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,jt(this,Vf,zK(this.options)),this.state=t.state??Ee(this,Vf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ee(this,Ra))==null?void 0:t.promise}setOptions(t){this.options={...Ee(this,$p),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ee(this,vo).remove(this)}setData(t,r){const n=n5(this.state.data,t,this.options);return Br(this,Yo,Fc).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Br(this,Yo,Fc).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Ee(this,Ra))==null?void 0:n.promise;return(s=Ee(this,Ra))==null||s.cancel(t),r?r.then(ni).catch(ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ee(this,Vf))}isActive(){return this.observers.some(t=>rl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Ik(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Ee(this,Ra))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Ee(this,Ra))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ee(this,vo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ee(this,Ra)&&(Ee(this,Md)?Ee(this,Ra).cancel({revert:!0}):Ee(this,Ra).cancelRetry()),this.scheduleGc()),Ee(this,vo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Br(this,Yo,Fc).call(this,{type:"invalidate"})}fetch(t,r){var A,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ee(this,Ra))return Ee(this,Ra).continueRetry(),Ee(this,Ra).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(jt(this,Md,!0),n.signal)})},a=()=>{const m=Tk(this.options,r),y={client:Ee(this,_d),queryKey:this.queryKey,meta:this.meta};return s(y),jt(this,Md,!1),this.options.persister?this.options.persister(m,y,this):m(y)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ee(this,_d),state:this.state,fetchFn:a};s(o),(A=this.options.behavior)==null||A.onFetch(o,this),jt(this,Kf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Br(this,Yo,Fc).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=m=>{var y,g,b,C;Sv(m)&&m.silent||Br(this,Yo,Fc).call(this,{type:"error",error:m}),Sv(m)||((g=(y=Ee(this,vo).config).onError)==null||g.call(y,m,this),(C=(b=Ee(this,vo).config).onSettled)==null||C.call(b,this.state.data,m,this)),this.scheduleGc()};return jt(this,Ra,Ok({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var y,g,b,C;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(F){l(F);return}(g=(y=Ee(this,vo).config).onSuccess)==null||g.call(y,m,this),(C=(b=Ee(this,vo).config).onSettled)==null||C.call(b,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,y)=>{Br(this,Yo,Fc).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Br(this,Yo,Fc).call(this,{type:"pause"})},onContinue:()=>{Br(this,Yo,Fc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Ee(this,Ra).start()}},Vf=new WeakMap,Kf=new WeakMap,vo=new WeakMap,_d=new WeakMap,Ra=new WeakMap,$p=new WeakMap,Md=new WeakMap,Yo=new WeakSet,Fc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Dk(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Sv(s)&&s.revert&&Ee(this,Kf)?{...Ee(this,Kf),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),$s.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ee(this,vo).notify({query:this,type:"updated",action:t})})},nT);function Dk(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kk(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zK(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Tl,sT,$K=(sT=class extends b0{constructor(t={}){super();$t(this,Tl);this.config=t,jt(this,Tl,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??tN(s,r);let o=this.get(a);return o||(o=new WK({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Ee(this,Tl).has(t.queryHash)||(Ee(this,Tl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ee(this,Tl).get(t.queryHash);r&&(t.destroy(),r===t&&Ee(this,Tl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$s.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ee(this,Tl).get(t)}getAll(){return[...Ee(this,Tl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>YE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>YE(t,n)):r}notify(t){$s.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){$s.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$s.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Tl=new WeakMap,sT),Ll,Ja,Ud,kl,_A,aT,qK=(aT=class extends Rk{constructor(t){super();$t(this,kl);$t(this,Ll);$t(this,Ja);$t(this,Ud);this.mutationId=t.mutationId,jt(this,Ja,t.mutationCache),jt(this,Ll,[]),this.state=t.state||_k(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ee(this,Ll).includes(t)||(Ee(this,Ll).push(t),this.clearGcTimeout(),Ee(this,Ja).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){jt(this,Ll,Ee(this,Ll).filter(r=>r!==t)),this.scheduleGc(),Ee(this,Ja).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ee(this,Ll).length||(this.state.status==="pending"?this.scheduleGc():Ee(this,Ja).remove(this))}continue(){var t;return((t=Ee(this,Ud))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,A,d,f,m,y,g,b,C,F,v,S,I,k,M,V,O,R;const r=()=>{Br(this,kl,_A).call(this,{type:"continue"})};jt(this,Ud,Ok({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(_,J)=>{Br(this,kl,_A).call(this,{type:"failed",failureCount:_,error:J})},onPause:()=>{Br(this,kl,_A).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ee(this,Ja).canRun(this)}));const n=this.state.status==="pending",s=!Ee(this,Ud).canStart();try{if(n)r();else{Br(this,kl,_A).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(a=Ee(this,Ja).config).onMutate)==null?void 0:o.call(a,t,this));const J=await((A=(l=this.options).onMutate)==null?void 0:A.call(l,t));J!==this.state.context&&Br(this,kl,_A).call(this,{type:"pending",context:J,variables:t,isPaused:s})}const _=await Ee(this,Ud).start();return await((f=(d=Ee(this,Ja).config).onSuccess)==null?void 0:f.call(d,_,t,this.state.context,this)),await((y=(m=this.options).onSuccess)==null?void 0:y.call(m,_,t,this.state.context)),await((b=(g=Ee(this,Ja).config).onSettled)==null?void 0:b.call(g,_,null,this.state.variables,this.state.context,this)),await((F=(C=this.options).onSettled)==null?void 0:F.call(C,_,null,t,this.state.context)),Br(this,kl,_A).call(this,{type:"success",data:_}),_}catch(_){try{throw await((S=(v=Ee(this,Ja).config).onError)==null?void 0:S.call(v,_,t,this.state.context,this)),await((k=(I=this.options).onError)==null?void 0:k.call(I,_,t,this.state.context)),await((V=(M=Ee(this,Ja).config).onSettled)==null?void 0:V.call(M,void 0,_,this.state.variables,this.state.context,this)),await((R=(O=this.options).onSettled)==null?void 0:R.call(O,void 0,_,t,this.state.context)),_}finally{Br(this,kl,_A).call(this,{type:"error",error:_})}}finally{Ee(this,Ja).runNext(this)}}},Ll=new WeakMap,Ja=new WeakMap,Ud=new WeakMap,kl=new WeakSet,_A=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$s.batch(()=>{Ee(this,Ll).forEach(n=>{n.onMutationUpdate(t)}),Ee(this,Ja).notify({mutation:this,type:"updated",action:t})})},aT);function _k(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lc,Jo,qp,iT,XK=(iT=class extends b0{constructor(t={}){super();$t(this,Lc);$t(this,Jo);$t(this,qp);this.config=t,jt(this,Lc,new Set),jt(this,Jo,new Map),jt(this,qp,0)}build(t,r,n){const s=new qK({mutationCache:this,mutationId:++Wg(this,qp)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){Ee(this,Lc).add(t);const r=d1(t);if(typeof r=="string"){const n=Ee(this,Jo).get(r);n?n.push(t):Ee(this,Jo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Ee(this,Lc).delete(t)){const r=d1(t);if(typeof r=="string"){const n=Ee(this,Jo).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&Ee(this,Jo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=d1(t);if(typeof r=="string"){const n=Ee(this,Jo).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=d1(t);if(typeof r=="string"){const s=(n=Ee(this,Jo).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$s.batch(()=>{Ee(this,Lc).forEach(t=>{this.notify({type:"removed",mutation:t})}),Ee(this,Lc).clear(),Ee(this,Jo).clear()})}getAll(){return Array.from(Ee(this,Lc))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>JE(r,n))}findAll(t={}){return this.getAll().filter(r=>JE(t,r))}notify(t){$s.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return $s.batch(()=>Promise.all(t.map(r=>r.continue().catch(ni))))}},Lc=new WeakMap,Jo=new WeakMap,qp=new WeakMap,iT);function d1(e){var t;return(t=e.options.scope)==null?void 0:t.id}function t6(e){return{onFetch:(t,r)=>{var f,m,y,g,b;const n=t.options,s=(y=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,a=((g=t.state.data)==null?void 0:g.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},A=0;const d=async()=>{let C=!1;const F=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?C=!0:t.signal.addEventListener("abort",()=>{C=!0}),t.signal)})},v=Tk(t.options,t.fetchOptions),S=async(I,k,M)=>{if(C)return Promise.reject();if(k==null&&I.pages.length)return Promise.resolve(I);const V={client:t.client,queryKey:t.queryKey,pageParam:k,direction:M?"backward":"forward",meta:t.options.meta};F(V);const O=await v(V),{maxPages:R}=t.options,_=M?UK:MK;return{pages:_(I.pages,O,R),pageParams:_(I.pageParams,k,R)}};if(s&&a.length){const I=s==="backward",k=I?YK:r6,M={pages:a,pageParams:o},V=k(n,M);l=await S(M,V,I)}else{const I=e??a.length;do{const k=A===0?o[0]??n.initialPageParam:r6(n,l);if(A>0&&k==null)break;l=await S(l,k),A++}while(A<I)}return l};t.options.persister?t.fetchFn=()=>{var C,F;return(F=(C=t.options).persister)==null?void 0:F.call(C,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function r6(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function YK(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var fs,ZA,eu,Gf,Wf,tu,zf,$f,oT,JK=(oT=class{constructor(e={}){$t(this,fs);$t(this,ZA);$t(this,eu);$t(this,Gf);$t(this,Wf);$t(this,tu);$t(this,zf);$t(this,$f);jt(this,fs,e.queryCache||new $K),jt(this,ZA,e.mutationCache||new XK),jt(this,eu,e.defaultOptions||{}),jt(this,Gf,new Map),jt(this,Wf,new Map),jt(this,tu,0)}mount(){Wg(this,tu)._++,Ee(this,tu)===1&&(jt(this,zf,nN.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ee(this,fs).onFocus())})),jt(this,$f,hy.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ee(this,fs).onOnline())})))}unmount(){var e,t;Wg(this,tu)._--,Ee(this,tu)===0&&((e=Ee(this,zf))==null||e.call(this),jt(this,zf,void 0),(t=Ee(this,$f))==null||t.call(this),jt(this,$f,void 0))}isFetching(e){return Ee(this,fs).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ee(this,ZA).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ee(this,fs).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Ee(this,fs).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(If(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Ee(this,fs).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Ee(this,fs).get(n.queryHash),a=s==null?void 0:s.state.data,o=DK(t,a);if(o!==void 0)return Ee(this,fs).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return $s.batch(()=>Ee(this,fs).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ee(this,fs).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Ee(this,fs);$s.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ee(this,fs);return $s.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=$s.batch(()=>Ee(this,fs).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(ni).catch(ni)}invalidateQueries(e,t={}){return $s.batch(()=>(Ee(this,fs).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=$s.batch(()=>Ee(this,fs).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ni)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ni)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ee(this,fs).build(this,t);return r.isStaleByTime(If(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ni).catch(ni)}fetchInfiniteQuery(e){return e.behavior=t6(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ni).catch(ni)}ensureInfiniteQueryData(e){return e.behavior=t6(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hy.isOnline()?Ee(this,ZA).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ee(this,fs)}getMutationCache(){return Ee(this,ZA)}getDefaultOptions(){return Ee(this,eu)}setDefaultOptions(e){jt(this,eu,e)}setQueryDefaults(e,t){Ee(this,Gf).set(uh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ee(this,Gf).values()],r={};return t.forEach(n=>{Cp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Ee(this,Wf).set(uh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ee(this,Wf).values()],r={};return t.forEach(n=>{Cp(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ee(this,eu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===rN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ee(this,eu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ee(this,fs).clear(),Ee(this,ZA).clear()}},fs=new WeakMap,ZA=new WeakMap,eu=new WeakMap,Gf=new WeakMap,Wf=new WeakMap,tu=new WeakMap,zf=new WeakMap,$f=new WeakMap,oT),vi,Mr,Xp,Za,Qd,qf,ru,nu,Yp,Xf,Yf,Hd,Vd,su,Jf,sn,wm,a5,i5,o5,l5,c5,A5,u5,Mk,lT,ZK=(lT=class extends b0{constructor(t,r){super();$t(this,sn);$t(this,vi);$t(this,Mr);$t(this,Xp);$t(this,Za);$t(this,Qd);$t(this,qf);$t(this,ru);$t(this,nu);$t(this,Yp);$t(this,Xf);$t(this,Yf);$t(this,Hd);$t(this,Vd);$t(this,su);$t(this,Jf,new Set);this.options=r,jt(this,vi,t),jt(this,nu,null),jt(this,ru,s5()),this.options.experimental_prefetchInRender||Ee(this,ru).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ee(this,Mr).addObserver(this),n6(Ee(this,Mr),this.options)?Br(this,sn,wm).call(this):this.updateResult(),Br(this,sn,l5).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d5(Ee(this,Mr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d5(Ee(this,Mr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Br(this,sn,c5).call(this),Br(this,sn,A5).call(this),Ee(this,Mr).removeObserver(this)}setOptions(t){const r=this.options,n=Ee(this,Mr);if(this.options=Ee(this,vi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof rl(this.options.enabled,Ee(this,Mr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Br(this,sn,u5).call(this),Ee(this,Mr).setOptions(this.options),r._defaulted&&!dy(this.options,r)&&Ee(this,vi).getQueryCache().notify({type:"observerOptionsUpdated",query:Ee(this,Mr),observer:this});const s=this.hasListeners();s&&s6(Ee(this,Mr),n,this.options,r)&&Br(this,sn,wm).call(this),this.updateResult(),s&&(Ee(this,Mr)!==n||rl(this.options.enabled,Ee(this,Mr))!==rl(r.enabled,Ee(this,Mr))||If(this.options.staleTime,Ee(this,Mr))!==If(r.staleTime,Ee(this,Mr)))&&Br(this,sn,a5).call(this);const a=Br(this,sn,i5).call(this);s&&(Ee(this,Mr)!==n||rl(this.options.enabled,Ee(this,Mr))!==rl(r.enabled,Ee(this,Mr))||a!==Ee(this,su))&&Br(this,sn,o5).call(this,a)}getOptimisticResult(t){const r=Ee(this,vi).getQueryCache().build(Ee(this,vi),t),n=this.createResult(r,t);return tG(this,n)&&(jt(this,Za,n),jt(this,qf,this.options),jt(this,Qd,Ee(this,Mr).state)),n}getCurrentResult(){return Ee(this,Za)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){Ee(this,Jf).add(t)}getCurrentQuery(){return Ee(this,Mr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Ee(this,vi).defaultQueryOptions(t),n=Ee(this,vi).getQueryCache().build(Ee(this,vi),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Br(this,sn,wm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Ee(this,Za)))}createResult(t,r){var _;const n=Ee(this,Mr),s=this.options,a=Ee(this,Za),o=Ee(this,Qd),l=Ee(this,qf),d=t!==n?t.state:Ee(this,Xp),{state:f}=t;let m={...f},y=!1,g;if(r._optimisticResults){const J=this.hasListeners(),U=!J&&n6(t,r),Q=J&&s6(t,n,r,s);(U||Q)&&(m={...m,...Dk(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:C,status:F}=m;g=m.data;let v=!1;if(r.placeholderData!==void 0&&g===void 0&&F==="pending"){let J;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(J=a.data,v=!0):J=typeof r.placeholderData=="function"?r.placeholderData((_=Ee(this,Yf))==null?void 0:_.state.data,Ee(this,Yf)):r.placeholderData,J!==void 0&&(F="success",g=n5(a==null?void 0:a.data,J,r),y=!0)}if(r.select&&g!==void 0&&!v)if(a&&g===(o==null?void 0:o.data)&&r.select===Ee(this,Yp))g=Ee(this,Xf);else try{jt(this,Yp,r.select),g=r.select(g),g=n5(a==null?void 0:a.data,g,r),jt(this,Xf,g),jt(this,nu,null)}catch(J){jt(this,nu,J)}Ee(this,nu)&&(b=Ee(this,nu),g=Ee(this,Xf),C=Date.now(),F="error");const S=m.fetchStatus==="fetching",I=F==="pending",k=F==="error",M=I&&S,V=g!==void 0,R={status:F,fetchStatus:m.fetchStatus,isPending:I,isSuccess:F==="success",isError:k,isInitialLoading:M,isLoading:M,data:g,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:C,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:S,isRefetching:S&&!I,isLoadingError:k&&!V,isPaused:m.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:k&&V,isStale:sN(t,r),refetch:this.refetch,promise:Ee(this,ru)};if(this.options.experimental_prefetchInRender){const J=X=>{R.status==="error"?X.reject(R.error):R.data!==void 0&&X.resolve(R.data)},U=()=>{const X=jt(this,ru,R.promise=s5());J(X)},Q=Ee(this,ru);switch(Q.status){case"pending":t.queryHash===n.queryHash&&J(Q);break;case"fulfilled":(R.status==="error"||R.data!==Q.value)&&U();break;case"rejected":(R.status!=="error"||R.error!==Q.reason)&&U();break}}return R}updateResult(){const t=Ee(this,Za),r=this.createResult(Ee(this,Mr),this.options);if(jt(this,Qd,Ee(this,Mr).state),jt(this,qf,this.options),Ee(this,Qd).data!==void 0&&jt(this,Yf,Ee(this,Mr)),dy(r,t))return;jt(this,Za,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!Ee(this,Jf).size)return!0;const o=new Set(a??Ee(this,Jf));return this.options.throwOnError&&o.add("error"),Object.keys(Ee(this,Za)).some(l=>{const A=l;return Ee(this,Za)[A]!==t[A]&&o.has(A)})};Br(this,sn,Mk).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Br(this,sn,l5).call(this)}},vi=new WeakMap,Mr=new WeakMap,Xp=new WeakMap,Za=new WeakMap,Qd=new WeakMap,qf=new WeakMap,ru=new WeakMap,nu=new WeakMap,Yp=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,Hd=new WeakMap,Vd=new WeakMap,su=new WeakMap,Jf=new WeakMap,sn=new WeakSet,wm=function(t){Br(this,sn,u5).call(this);let r=Ee(this,Mr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ni)),r},a5=function(){Br(this,sn,c5).call(this);const t=If(this.options.staleTime,Ee(this,Mr));if(Ah||Ee(this,Za).isStale||!t5(t))return;const n=Ik(Ee(this,Za).dataUpdatedAt,t)+1;jt(this,Hd,setTimeout(()=>{Ee(this,Za).isStale||this.updateResult()},n))},i5=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ee(this,Mr)):this.options.refetchInterval)??!1},o5=function(t){Br(this,sn,A5).call(this),jt(this,su,t),!(Ah||rl(this.options.enabled,Ee(this,Mr))===!1||!t5(Ee(this,su))||Ee(this,su)===0)&&jt(this,Vd,setInterval(()=>{(this.options.refetchIntervalInBackground||nN.isFocused())&&Br(this,sn,wm).call(this)},Ee(this,su)))},l5=function(){Br(this,sn,a5).call(this),Br(this,sn,o5).call(this,Br(this,sn,i5).call(this))},c5=function(){Ee(this,Hd)&&(clearTimeout(Ee(this,Hd)),jt(this,Hd,void 0))},A5=function(){Ee(this,Vd)&&(clearInterval(Ee(this,Vd)),jt(this,Vd,void 0))},u5=function(){const t=Ee(this,vi).getQueryCache().build(Ee(this,vi),this.options);if(t===Ee(this,Mr))return;const r=Ee(this,Mr);jt(this,Mr,t),jt(this,Xp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Mk=function(t){$s.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Ee(this,Za))}),Ee(this,vi).getQueryCache().notify({query:Ee(this,Mr),type:"observerResultsUpdated"})})},lT);function eG(e,t){return rl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function n6(e,t){return eG(e,t)||e.state.data!==void 0&&d5(e,t,t.refetchOnMount)}function d5(e,t,r){if(rl(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&sN(e,t)}return!1}function s6(e,t,r,n){return(e!==t||rl(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&sN(e,r)}function sN(e,t){return rl(t.enabled,e)!==!1&&e.isStaleByTime(If(t.staleTime,e))}function tG(e,t){return!dy(e.getCurrentResult(),t)}var au,iu,bi,kc,Gc,fx,h5,cT,rG=(cT=class extends b0{constructor(r,n){super();$t(this,Gc);$t(this,au);$t(this,iu);$t(this,bi);$t(this,kc);jt(this,au,r),this.setOptions(n),this.bindMethods(),Br(this,Gc,fx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=Ee(this,au).defaultMutationOptions(r),dy(this.options,n)||Ee(this,au).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ee(this,bi),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&uh(n.mutationKey)!==uh(this.options.mutationKey)?this.reset():((s=Ee(this,bi))==null?void 0:s.state.status)==="pending"&&Ee(this,bi).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Ee(this,bi))==null||r.removeObserver(this)}onMutationUpdate(r){Br(this,Gc,fx).call(this),Br(this,Gc,h5).call(this,r)}getCurrentResult(){return Ee(this,iu)}reset(){var r;(r=Ee(this,bi))==null||r.removeObserver(this),jt(this,bi,void 0),Br(this,Gc,fx).call(this),Br(this,Gc,h5).call(this)}mutate(r,n){var s;return jt(this,kc,n),(s=Ee(this,bi))==null||s.removeObserver(this),jt(this,bi,Ee(this,au).getMutationCache().build(Ee(this,au),this.options)),Ee(this,bi).addObserver(this),Ee(this,bi).execute(r)}},au=new WeakMap,iu=new WeakMap,bi=new WeakMap,kc=new WeakMap,Gc=new WeakSet,fx=function(){var n;const r=((n=Ee(this,bi))==null?void 0:n.state)??_k();jt(this,iu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},h5=function(r){$s.batch(()=>{var n,s,a,o,l,A,d,f;if(Ee(this,kc)&&this.hasListeners()){const m=Ee(this,iu).variables,y=Ee(this,iu).context;(r==null?void 0:r.type)==="success"?((s=(n=Ee(this,kc)).onSuccess)==null||s.call(n,r.data,m,y),(o=(a=Ee(this,kc)).onSettled)==null||o.call(a,r.data,null,m,y)):(r==null?void 0:r.type)==="error"&&((A=(l=Ee(this,kc)).onError)==null||A.call(l,r.error,m,y),(f=(d=Ee(this,kc)).onSettled)==null||f.call(d,void 0,r.error,m,y))}this.listeners.forEach(m=>{m(Ee(this,iu))})})},cT),Uk=N.createContext(void 0),aA=e=>{const t=N.useContext(Uk);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nG=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(Uk.Provider,{value:e,children:t})),Qk=N.createContext(!1),sG=()=>N.useContext(Qk);Qk.Provider;function aG(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var iG=N.createContext(aG()),oG=()=>N.useContext(iG),lG=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},cG=e=>{N.useEffect(()=>{e.clearReset()},[e])},AG=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Lk(r,[e.error,n])),uG=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},dG=(e,t)=>e.isLoading&&e.isFetching&&!t,hG=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,a6=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function fG(e,t,r){var m,y,g,b,C;const n=aA(),s=sG(),a=oG(),o=n.defaultQueryOptions(e);(y=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||y.call(m,o),o._optimisticResults=s?"isRestoring":"optimistic",uG(o),lG(o,a),cG(a);const l=!n.getQueryCache().get(o.queryHash),[A]=N.useState(()=>new t(n,o)),d=A.getOptimisticResult(o),f=!s&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(F=>{const v=f?A.subscribe($s.batchCalls(F)):ni;return A.updateResult(),v},[A,f]),()=>A.getCurrentResult(),()=>A.getCurrentResult()),N.useEffect(()=>{A.setOptions(o)},[o,A]),hG(o,d))throw a6(o,A,a);if(AG({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((b=(g=n.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||b.call(g,o,d),o.experimental_prefetchInRender&&!Ah&&dG(d,s)){const F=l?a6(o,A,a):(C=n.getQueryCache().get(o.queryHash))==null?void 0:C.promise;F==null||F.catch(ni).finally(()=>{A.updateResult()})}return o.notifyOnChangeProps?d:A.trackResult(d)}function cl(e,t){return fG(e,ZK)}function ii(e,t){const r=aA(),[n]=N.useState(()=>new rG(r,e));N.useEffect(()=>{n.setOptions(e)},[n,e]);const s=N.useSyncExternalStore(N.useCallback(o=>n.subscribe($s.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=N.useCallback((o,l)=>{n.mutate(o,l).catch(ni)},[n]);if(s.error&&Lk(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(this,arguments)}var cu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(cu||(cu={}));const i6="popstate";function mG(e){e===void 0&&(e={});function t(s,a){let{pathname:o="/",search:l="",hash:A=""}=Ch(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),f5("",{pathname:o,search:l,hash:A},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let A=s.location.href,d=A.indexOf("#");l=d===-1?A:A.slice(0,d)}return l+"#"+(typeof a=="string"?a:fy(a))}function n(s,a){aN(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return gG(t,r,n,e)}function os(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pG(){return Math.random().toString(36).substr(2,8)}function o6(e,t){return{usr:e.state,key:e.key,idx:t}}function f5(e,t,r,n){return r===void 0&&(r=null),Bp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ch(t):t,{state:r,key:t&&t.key||n||pG()})}function fy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ch(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function gG(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=cu.Pop,A=null,d=f();d==null&&(d=0,o.replaceState(Bp({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=cu.Pop;let F=f(),v=F==null?null:F-d;d=F,A&&A({action:l,location:C.location,delta:v})}function y(F,v){l=cu.Push;let S=f5(C.location,F,v);r&&r(S,F),d=f()+1;let I=o6(S,d),k=C.createHref(S);try{o.pushState(I,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(k)}a&&A&&A({action:l,location:C.location,delta:1})}function g(F,v){l=cu.Replace;let S=f5(C.location,F,v);r&&r(S,F),d=f();let I=o6(S,d),k=C.createHref(S);o.replaceState(I,"",k),a&&A&&A({action:l,location:C.location,delta:0})}function b(F){let v=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof F=="string"?F:fy(F);return S=S.replace(/ $/,"%20"),os(v,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,v)}let C={get action(){return l},get location(){return e(s,o)},listen(F){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener(i6,m),A=F,()=>{s.removeEventListener(i6,m),A=null}},createHref(F){return t(s,F)},createURL:b,encodeLocation(F){let v=b(F);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:y,replace:g,go(F){return o.go(F)}};return C}var l6;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(l6||(l6={}));function xG(e,t,r){return r===void 0&&(r="/"),yG(e,t,r,!1)}function yG(e,t,r,n){let s=typeof t=="string"?Ch(t):t,a=o0(s.pathname||"/",r);if(a==null)return null;let o=Hk(e);wG(o);let l=null;for(let A=0;l==null&&A<o.length;++A){let d=TG(a);l=IG(o[A],d,n)}return l}function Hk(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let A={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};A.relativePath.startsWith("/")&&(os(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let d=Bu([n,A.relativePath]),f=r.concat(A);a.children&&a.children.length>0&&(os(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Hk(a.children,t,f,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:EG(d,a.index),routesMeta:f})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let A of Vk(a.path))s(a,o,A)}),t}function Vk(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Vk(n.join("/")),l=[];return l.push(...o.map(A=>A===""?a:[a,A].join("/"))),s&&l.push(...o),l.map(A=>e.startsWith("/")&&A===""?"/":A)}function wG(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:FG(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vG=/^:[\w-]+$/,bG=3,CG=2,BG=1,NG=10,SG=-2,c6=e=>e==="*";function EG(e,t){let r=e.split("/"),n=r.length;return r.some(c6)&&(n+=SG),t&&(n+=CG),r.filter(s=>!c6(s)).reduce((s,a)=>s+(vG.test(a)?bG:a===""?BG:NG),n)}function FG(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function IG(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let A=n[l],d=l===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=my({path:A.relativePath,caseSensitive:A.caseSensitive,end:d},f),y=A.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=my({path:A.relativePath,caseSensitive:A.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Bu([a,m.pathname]),pathnameBase:OG(Bu([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=Bu([a,m.pathnameBase]))}return o}function my(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jG(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,f,m)=>{let{paramName:y,isOptional:g}=f;if(y==="*"){let C=l[m]||"";o=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const b=l[m];return g&&!b?d[y]=void 0:d[y]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function jG(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),aN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,A)=>(n.push({paramName:l,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function TG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return aN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function o0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function LG(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ch(e):e;return{pathname:r?r.startsWith("/")?r:kG(r,t):t,search:RG(n),hash:DG(s)}}function kG(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ev(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PG(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function iN(e,t){let r=PG(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oN(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ch(e):(s=Bp({},e),os(!s.pathname||!s.pathname.includes("?"),Ev("?","pathname","search",s)),os(!s.pathname||!s.pathname.includes("#"),Ev("#","pathname","hash",s)),os(!s.search||!s.search.includes("#"),Ev("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}l=m>=0?t[m]:"/"}let A=LG(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(d||f)&&(A.pathname+="/"),A}const Bu=e=>e.join("/").replace(/\/\/+/g,"/"),OG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),RG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,DG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _G(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Kk=["post","put","patch","delete"];new Set(Kk);const MG=["get",...Kk];new Set(MG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(this,arguments)}const bw=N.createContext(null),Gk=N.createContext(null),iA=N.createContext(null),Cw=N.createContext(null),oA=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Wk=N.createContext(null);function UG(e,t){let{relative:r}=t===void 0?{}:t;C0()||os(!1);let{basename:n,navigator:s}=N.useContext(iA),{hash:a,pathname:o,search:l}=Bw(e,{relative:r}),A=o;return n!=="/"&&(A=o==="/"?n:Bu([n,o])),s.createHref({pathname:A,search:l,hash:a})}function C0(){return N.useContext(Cw)!=null}function Bh(){return C0()||os(!1),N.useContext(Cw).location}function zk(e){N.useContext(iA).static||N.useLayoutEffect(e)}function Tr(){let{isDataRoute:e}=N.useContext(oA);return e?ZG():QG()}function QG(){C0()||os(!1);let e=N.useContext(bw),{basename:t,future:r,navigator:n}=N.useContext(iA),{matches:s}=N.useContext(oA),{pathname:a}=Bh(),o=JSON.stringify(iN(s,r.v7_relativeSplatPath)),l=N.useRef(!1);return zk(()=>{l.current=!0}),N.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=oN(d,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Bu([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,o,a,e])}function lA(){let{matches:e}=N.useContext(oA),t=e[e.length-1];return t?t.params:{}}function Bw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(iA),{matches:s}=N.useContext(oA),{pathname:a}=Bh(),o=JSON.stringify(iN(s,n.v7_relativeSplatPath));return N.useMemo(()=>oN(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function HG(e,t){return VG(e,t)}function VG(e,t,r,n){C0()||os(!1);let{navigator:s}=N.useContext(iA),{matches:a}=N.useContext(oA),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let A=o?o.pathnameBase:"/";o&&o.route;let d=Bh(),f;if(t){var m;let F=typeof t=="string"?Ch(t):t;A==="/"||(m=F.pathname)!=null&&m.startsWith(A)||os(!1),f=F}else f=d;let y=f.pathname||"/",g=y;if(A!=="/"){let F=A.replace(/^\//,"").split("/");g="/"+y.replace(/^\//,"").split("/").slice(F.length).join("/")}let b=xG(e,{pathname:g}),C=$G(b&&b.map(F=>Object.assign({},F,{params:Object.assign({},l,F.params),pathname:Bu([A,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?A:Bu([A,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,r,n);return t&&C?N.createElement(Cw.Provider,{value:{location:Np({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:cu.Pop}},C):C}function KG(){let e=JG(),t=_G(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,null)}const GG=N.createElement(KG,null);class WG extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(oA.Provider,{value:this.props.routeContext},N.createElement(Wk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zG(e){let{routeContext:t,match:r,children:n}=e,s=N.useContext(bw);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(oA.Provider,{value:t},n)}function $G(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||os(!1),o=o.slice(0,Math.min(o.length,f+1))}let A=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:y,errors:g}=r,b=m.route.loader&&y[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||b){A=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,y)=>{let g,b=!1,C=null,F=null;r&&(g=l&&m.route.id?l[m.route.id]:void 0,C=m.route.errorElement||GG,A&&(d<0&&y===0?(b=!0,F=null):d===y&&(b=!0,F=m.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,y+1)),S=()=>{let I;return g?I=C:b?I=F:m.route.Component?I=N.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=f,N.createElement(zG,{match:m,routeContext:{outlet:f,matches:v,isDataRoute:r!=null},children:I})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?N.createElement(WG,{location:r.location,revalidation:r.revalidation,component:C,error:g,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}var $k=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($k||{}),py=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(py||{});function qG(e){let t=N.useContext(bw);return t||os(!1),t}function XG(e){let t=N.useContext(Gk);return t||os(!1),t}function YG(e){let t=N.useContext(oA);return t||os(!1),t}function qk(e){let t=YG(),r=t.matches[t.matches.length-1];return r.route.id||os(!1),r.route.id}function JG(){var e;let t=N.useContext(Wk),r=XG(py.UseRouteError),n=qk(py.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ZG(){let{router:e}=qG($k.UseNavigateStable),t=qk(py.UseNavigateStable),r=N.useRef(!1);return zk(()=>{r.current=!0}),N.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Np({fromRouteId:t},a)))},[e,t])}function eW(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Xk(e){let{to:t,replace:r,state:n,relative:s}=e;C0()||os(!1);let{future:a,static:o}=N.useContext(iA),{matches:l}=N.useContext(oA),{pathname:A}=Bh(),d=Tr(),f=oN(t,iN(l,a.v7_relativeSplatPath),A,s==="path"),m=JSON.stringify(f);return N.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:s}),[d,m,s,r,n]),null}function er(e){os(!1)}function tW(e){let{basename:t="/",children:r=null,location:n,navigationType:s=cu.Pop,navigator:a,static:o=!1,future:l}=e;C0()&&os(!1);let A=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:A,navigator:a,static:o,future:Np({v7_relativeSplatPath:!1},l)}),[A,l,a,o]);typeof n=="string"&&(n=Ch(n));let{pathname:f="/",search:m="",hash:y="",state:g=null,key:b="default"}=n,C=N.useMemo(()=>{let F=o0(f,A);return F==null?null:{location:{pathname:F,search:m,hash:y,state:g,key:b},navigationType:s}},[A,f,m,y,g,b,s]);return C==null?null:N.createElement(iA.Provider,{value:d},N.createElement(Cw.Provider,{children:r,value:C}))}function rW(e){let{children:t,location:r}=e;return HG(m5(t),r)}new Promise(()=>{});function m5(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let a=[...t,s];if(n.type===N.Fragment){r.push.apply(r,m5(n.props.children,a));return}n.type!==er&&os(!1),!n.props.index||!n.props.children||os(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=m5(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function Yk(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function nW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sW(e,t){return e.button===0&&(!t||t==="_self")&&!nW(e)}const aW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iW=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],oW="6";try{window.__reactRouterVersion=oW}catch{}const lW=N.createContext({isTransitioning:!1}),cW="startTransition",A6=Zf[cW];function AW(e){let{basename:t,children:r,future:n,window:s}=e,a=N.useRef();a.current==null&&(a.current=mG({window:s,v5Compat:!0}));let o=a.current,[l,A]=N.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},f=N.useCallback(m=>{d&&A6?A6(()=>A(m)):A(m)},[A,d]);return N.useLayoutEffect(()=>o.listen(f),[o,f]),N.useEffect(()=>eW(n),[n]),N.createElement(tW,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const uW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=N.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:A,to:d,preventScrollReset:f,viewTransition:m}=t,y=Yk(t,aW),{basename:g}=N.useContext(iA),b,C=!1;if(typeof d=="string"&&dW.test(d)&&(b=d,uW))try{let I=new URL(window.location.href),k=d.startsWith("//")?new URL(I.protocol+d):new URL(d),M=o0(k.pathname,g);k.origin===I.origin&&M!=null?d=M+k.search+k.hash:C=!0}catch{}let F=UG(d,{relative:s}),v=mW(d,{replace:o,state:l,target:A,preventScrollReset:f,relative:s,viewTransition:m});function S(I){n&&n(I),I.defaultPrevented||v(I)}return N.createElement("a",gy({},y,{href:b||F,onClick:C||a?n:S,ref:r,target:A}))}),hW=N.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:A,viewTransition:d,children:f}=t,m=Yk(t,iW),y=Bw(A,{relative:m.relative}),g=Bh(),b=N.useContext(Gk),{navigator:C,basename:F}=N.useContext(iA),v=b!=null&&pW(y)&&d===!0,S=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,I=g.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(I=I.toLowerCase(),k=k?k.toLowerCase():null,S=S.toLowerCase()),k&&F&&(k=o0(k,F)||k);const M=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let V=I===S||!o&&I.startsWith(S)&&I.charAt(M)==="/",O=k!=null&&(k===S||!o&&k.startsWith(S)&&k.charAt(S.length)==="/"),R={isActive:V,isPending:O,isTransitioning:v},_=V?n:void 0,J;typeof a=="function"?J=a(R):J=[a,V?"active":null,O?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(R):l;return N.createElement(gn,gy({},m,{"aria-current":_,className:J,ref:r,style:U,to:A,viewTransition:d}),typeof f=="function"?f(R):f)});var p5;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(p5||(p5={}));var u6;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(u6||(u6={}));function fW(e){let t=N.useContext(bw);return t||os(!1),t}function mW(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,A=Tr(),d=Bh(),f=Bw(e,{relative:o});return N.useCallback(m=>{if(sW(m,r)){m.preventDefault();let y=n!==void 0?n:fy(d)===fy(f);A(e,{replace:y,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[d,A,f,n,s,r,e,a,o,l])}function pW(e,t){t===void 0&&(t={});let r=N.useContext(lW);r==null&&os(!1);let{basename:n}=fW(p5.useViewTransitionState),s=Bw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=o0(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=o0(r.nextLocation.pathname,n)||r.nextLocation.pathname;return my(s.pathname,o)!=null||my(s.pathname,a)!=null}function yr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function gW(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Jk(...e){return t=>e.forEach(r=>gW(r,t))}function Gn(...e){return N.useCallback(Jk(...e),e)}function xW(e,t){const r=N.createContext(t),n=a=>{const{children:o,...l}=a,A=N.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:A,children:o})};n.displayName=e+"Provider";function s(a){const o=N.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function ag(e,t=[]){let r=[];function n(a,o){const l=N.createContext(o),A=r.length;r=[...r,o];const d=m=>{var v;const{scope:y,children:g,...b}=m,C=((v=y==null?void 0:y[e])==null?void 0:v[A])||l,F=N.useMemo(()=>b,Object.values(b));return i.jsx(C.Provider,{value:F,children:g})};d.displayName=a+"Provider";function f(m,y){var C;const g=((C=y==null?void 0:y[e])==null?void 0:C[A])||l,b=N.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=r.map(o=>N.createContext(o));return function(l){const A=(l==null?void 0:l[e])||a;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,yW(s,...t)]}function yW(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:A,scopeName:d})=>{const m=A(a)[`__scope${d}`];return{...l,...m}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var dh=N.forwardRef((e,t)=>{const{children:r,...n}=e,s=N.Children.toArray(r),a=s.find(wW);if(a){const o=a.props.children,l=s.map(A=>A===a?N.Children.count(o)>1?N.Children.only(null):N.isValidElement(o)?o.props.children:null:A);return i.jsx(g5,{...n,ref:t,children:N.isValidElement(o)?N.cloneElement(o,void 0,l):null})}return i.jsx(g5,{...n,ref:t,children:r})});dh.displayName="Slot";var g5=N.forwardRef((e,t)=>{const{children:r,...n}=e;if(N.isValidElement(r)){const s=bW(r);return N.cloneElement(r,{...vW(n,r.props),ref:t?Jk(t,s):s})}return N.Children.count(r)>1?N.Children.only(null):null});g5.displayName="SlotClone";var Zk=({children:e})=>i.jsx(i.Fragment,{children:e});function wW(e){return N.isValidElement(e)&&e.type===Zk}function vW(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function bW(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var CW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ur=CW.reduce((e,t)=>{const r=N.forwardRef((n,s)=>{const{asChild:a,...o}=n,l=a?dh:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function BW(e,t){e&&Wu.flushSync(()=>e.dispatchEvent(t))}function Yl(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function NW(e,t=globalThis==null?void 0:globalThis.document){const r=Yl(e);N.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var SW="DismissableLayer",x5="dismissableLayer.update",EW="dismissableLayer.pointerDownOutside",FW="dismissableLayer.focusOutside",d6,eP=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nw=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...A}=e,d=N.useContext(eP),[f,m]=N.useState(null),y=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=N.useState({}),b=Gn(t,O=>m(O)),C=Array.from(d.layers),[F]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=C.indexOf(F),S=f?C.indexOf(f):-1,I=d.layersWithOutsidePointerEventsDisabled.size>0,k=S>=v,M=TW(O=>{const R=O.target,_=[...d.branches].some(J=>J.contains(R));!k||_||(s==null||s(O),o==null||o(O),O.defaultPrevented||l==null||l())},y),V=LW(O=>{const R=O.target;[...d.branches].some(J=>J.contains(R))||(a==null||a(O),o==null||o(O),O.defaultPrevented||l==null||l())},y);return NW(O=>{S===d.layers.size-1&&(n==null||n(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},y),N.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(d6=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),h6(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=d6)}},[f,y,r,d]),N.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),h6())},[f,d]),N.useEffect(()=>{const O=()=>g({});return document.addEventListener(x5,O),()=>document.removeEventListener(x5,O)},[]),i.jsx(Ur.div,{...A,ref:b,style:{pointerEvents:I?k?"auto":"none":void 0,...e.style},onFocusCapture:yr(e.onFocusCapture,V.onFocusCapture),onBlurCapture:yr(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:yr(e.onPointerDownCapture,M.onPointerDownCapture)})});Nw.displayName=SW;var IW="DismissableLayerBranch",jW=N.forwardRef((e,t)=>{const r=N.useContext(eP),n=N.useRef(null),s=Gn(t,n);return N.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(Ur.div,{...e,ref:s})});jW.displayName=IW;function TW(e,t=globalThis==null?void 0:globalThis.document){const r=Yl(e),n=N.useRef(!1),s=N.useRef(()=>{});return N.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let A=function(){tP(EW,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=A,t.addEventListener("click",s.current,{once:!0})):A()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function LW(e,t=globalThis==null?void 0:globalThis.document){const r=Yl(e),n=N.useRef(!1);return N.useEffect(()=>{const s=a=>{a.target&&!n.current&&tP(FW,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function h6(){const e=new CustomEvent(x5);document.dispatchEvent(e)}function tP(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?BW(s,a):s.dispatchEvent(a)}var Ai=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},kW=Zf.useId||(()=>{}),PW=0;function Uc(e){const[t,r]=N.useState(kW());return Ai(()=>{r(n=>n??String(PW++))},[e]),t?`radix-${t}`:""}const OW=["top","right","bottom","left"],Lu=Math.min,$i=Math.max,xy=Math.round,h1=Math.floor,ku=e=>({x:e,y:e}),RW={left:"right",right:"left",bottom:"top",top:"bottom"},DW={start:"end",end:"start"};function y5(e,t,r){return $i(e,Lu(t,r))}function Yc(e,t){return typeof e=="function"?e(t):e}function Jc(e){return e.split("-")[0]}function B0(e){return e.split("-")[1]}function lN(e){return e==="x"?"y":"x"}function cN(e){return e==="y"?"height":"width"}function Pu(e){return["top","bottom"].includes(Jc(e))?"y":"x"}function AN(e){return lN(Pu(e))}function _W(e,t,r){r===void 0&&(r=!1);const n=B0(e),s=AN(e),a=cN(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=yy(o)),[o,yy(o)]}function MW(e){const t=yy(e);return[w5(e),t,w5(t)]}function w5(e){return e.replace(/start|end/g,t=>DW[t])}function UW(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:o;default:return[]}}function QW(e,t,r,n){const s=B0(e);let a=UW(Jc(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(w5)))),a}function yy(e){return e.replace(/left|right|bottom|top/g,t=>RW[t])}function HW(e){return{top:0,right:0,bottom:0,left:0,...e}}function rP(e){return typeof e!="number"?HW(e):{top:e,right:e,bottom:e,left:e}}function wy(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function f6(e,t,r){let{reference:n,floating:s}=e;const a=Pu(t),o=AN(t),l=cN(o),A=Jc(t),d=a==="y",f=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,y=n[l]/2-s[l]/2;let g;switch(A){case"top":g={x:f,y:n.y-s.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:m};break;case"left":g={x:n.x-s.width,y:m};break;default:g={x:n.x,y:n.y}}switch(B0(t)){case"start":g[o]-=y*(r&&d?-1:1);break;case"end":g[o]+=y*(r&&d?-1:1);break}return g}const VW=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),A=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:m}=f6(d,n,A),y=n,g={},b=0;for(let C=0;C<l.length;C++){const{name:F,fn:v}=l[C],{x:S,y:I,data:k,reset:M}=await v({x:f,y:m,initialPlacement:n,placement:y,strategy:s,middlewareData:g,rects:d,platform:o,elements:{reference:e,floating:t}});f=S??f,m=I??m,g={...g,[F]:{...g[F],...k}},M&&b<=50&&(b++,typeof M=="object"&&(M.placement&&(y=M.placement),M.rects&&(d=M.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):M.rects),{x:f,y:m}=f6(d,y,A)),C=-1)}return{x:f,y:m,placement:y,strategy:s,middlewareData:g}};async function Sp(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:A}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:y=!1,padding:g=0}=Yc(t,e),b=rP(g),F=l[y?m==="floating"?"reference":"floating":m],v=wy(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(F)))==null||r?F:F.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:A})),S=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),k=await(a.isElement==null?void 0:a.isElement(I))?await(a.getScale==null?void 0:a.getScale(I))||{x:1,y:1}:{x:1,y:1},M=wy(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:I,strategy:A}):S);return{top:(v.top-M.top+b.top)/k.y,bottom:(M.bottom-v.bottom+b.bottom)/k.y,left:(v.left-M.left+b.left)/k.x,right:(M.right-v.right+b.right)/k.x}}const KW=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:A}=t,{element:d,padding:f=0}=Yc(e,t)||{};if(d==null)return{};const m=rP(f),y={x:r,y:n},g=AN(s),b=cN(g),C=await o.getDimensions(d),F=g==="y",v=F?"top":"left",S=F?"bottom":"right",I=F?"clientHeight":"clientWidth",k=a.reference[b]+a.reference[g]-y[g]-a.floating[b],M=y[g]-a.reference[g],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let O=V?V[I]:0;(!O||!await(o.isElement==null?void 0:o.isElement(V)))&&(O=l.floating[I]||a.floating[b]);const R=k/2-M/2,_=O/2-C[b]/2-1,J=Lu(m[v],_),U=Lu(m[S],_),Q=J,X=O-C[b]-U,Z=O/2-C[b]/2+R,$=y5(Q,Z,X),q=!A.arrow&&B0(s)!=null&&Z!==$&&a.reference[b]/2-(Z<Q?J:U)-C[b]/2<0,W=q?Z<Q?Z-Q:Z-X:0;return{[g]:y[g]+W,data:{[g]:$,centerOffset:Z-$-W,...q&&{alignmentOffset:W}},reset:q}}}),GW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:A,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:C=!0,...F}=Yc(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=Jc(s),S=Pu(l),I=Jc(l)===l,k=await(A.isRTL==null?void 0:A.isRTL(d.floating)),M=y||(I||!C?[yy(l)]:MW(l)),V=b!=="none";!y&&V&&M.push(...QW(l,C,b,k));const O=[l,...M],R=await Sp(t,F),_=[];let J=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&_.push(R[v]),m){const Z=_W(s,o,k);_.push(R[Z[0]],R[Z[1]])}if(J=[...J,{placement:s,overflows:_}],!_.every(Z=>Z<=0)){var U,Q;const Z=(((U=a.flip)==null?void 0:U.index)||0)+1,$=O[Z];if($)return{data:{index:Z,overflows:J},reset:{placement:$}};let q=(Q=J.filter(W=>W.overflows[0]<=0).sort((W,Y)=>W.overflows[1]-Y.overflows[1])[0])==null?void 0:Q.placement;if(!q)switch(g){case"bestFit":{var X;const W=(X=J.filter(Y=>{if(V){const K=Pu(Y.placement);return K===S||K==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(K=>K>0).reduce((K,ae)=>K+ae,0)]).sort((Y,K)=>Y[1]-K[1])[0])==null?void 0:X[0];W&&(q=W);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function m6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function p6(e){return OW.some(t=>e[t]>=0)}const WW=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Yc(e,t);switch(n){case"referenceHidden":{const a=await Sp(t,{...s,elementContext:"reference"}),o=m6(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:p6(o)}}}case"escaped":{const a=await Sp(t,{...s,altBoundary:!0}),o=m6(a,r.floating);return{data:{escapedOffsets:o,escaped:p6(o)}}}default:return{}}}}};async function zW(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Jc(r),l=B0(r),A=Pu(r)==="y",d=["left","top"].includes(o)?-1:1,f=a&&A?-1:1,m=Yc(t,e);let{mainAxis:y,crossAxis:g,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),A?{x:g*f,y:y*d}:{x:y*d,y:g*f}}const $W=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,A=await zW(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+A.x,y:a+A.y,data:{...A,placement:o}}}}},qW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:F=>{let{x:v,y:S}=F;return{x:v,y:S}}},...A}=Yc(e,t),d={x:r,y:n},f=await Sp(t,A),m=Pu(Jc(s)),y=lN(m);let g=d[y],b=d[m];if(a){const F=y==="y"?"top":"left",v=y==="y"?"bottom":"right",S=g+f[F],I=g-f[v];g=y5(S,g,I)}if(o){const F=m==="y"?"top":"left",v=m==="y"?"bottom":"right",S=b+f[F],I=b-f[v];b=y5(S,b,I)}const C=l.fn({...t,[y]:g,[m]:b});return{...C,data:{x:C.x-r,y:C.y-n,enabled:{[y]:a,[m]:o}}}}}},XW=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:A=!0,crossAxis:d=!0}=Yc(e,t),f={x:r,y:n},m=Pu(s),y=lN(m);let g=f[y],b=f[m];const C=Yc(l,t),F=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(A){const I=y==="y"?"height":"width",k=a.reference[y]-a.floating[I]+F.mainAxis,M=a.reference[y]+a.reference[I]-F.mainAxis;g<k?g=k:g>M&&(g=M)}if(d){var v,S;const I=y==="y"?"width":"height",k=["top","left"].includes(Jc(s)),M=a.reference[m]-a.floating[I]+(k&&((v=o.offset)==null?void 0:v[m])||0)+(k?0:F.crossAxis),V=a.reference[m]+a.reference[I]+(k?0:((S=o.offset)==null?void 0:S[m])||0)-(k?F.crossAxis:0);b<M?b=M:b>V&&(b=V)}return{[y]:g,[m]:b}}}},YW=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:A=()=>{},...d}=Yc(e,t),f=await Sp(t,d),m=Jc(s),y=B0(s),g=Pu(s)==="y",{width:b,height:C}=a.floating;let F,v;m==="top"||m==="bottom"?(F=m,v=y===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,F=y==="end"?"top":"bottom");const S=C-f.top-f.bottom,I=b-f.left-f.right,k=Lu(C-f[F],S),M=Lu(b-f[v],I),V=!t.middlewareData.shift;let O=k,R=M;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=I),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=S),V&&!y){const J=$i(f.left,0),U=$i(f.right,0),Q=$i(f.top,0),X=$i(f.bottom,0);g?R=b-2*(J!==0||U!==0?J+U:$i(f.left,f.right)):O=C-2*(Q!==0||X!==0?Q+X:$i(f.top,f.bottom))}await A({...t,availableWidth:R,availableHeight:O});const _=await o.getDimensions(l.floating);return b!==_.width||C!==_.height?{reset:{rects:!0}}:{}}}};function Sw(){return typeof window<"u"}function N0(e){return nP(e)?(e.nodeName||"").toLowerCase():"#document"}function Ji(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function sc(e){var t;return(t=(nP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nP(e){return Sw()?e instanceof Node||e instanceof Ji(e).Node:!1}function Al(e){return Sw()?e instanceof Element||e instanceof Ji(e).Element:!1}function Jl(e){return Sw()?e instanceof HTMLElement||e instanceof Ji(e).HTMLElement:!1}function g6(e){return!Sw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ji(e).ShadowRoot}function ig(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=ul(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function JW(e){return["table","td","th"].includes(N0(e))}function Ew(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function uN(e){const t=dN(),r=Al(e)?ul(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function ZW(e){let t=Ou(e);for(;Jl(t)&&!l0(t);){if(uN(t))return t;if(Ew(t))return null;t=Ou(t)}return null}function dN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function l0(e){return["html","body","#document"].includes(N0(e))}function ul(e){return Ji(e).getComputedStyle(e)}function Fw(e){return Al(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ou(e){if(N0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||g6(e)&&e.host||sc(e);return g6(t)?t.host:t}function sP(e){const t=Ou(e);return l0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jl(t)&&ig(t)?t:sP(t)}function Ep(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=sP(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=Ji(s);if(a){const l=v5(o);return t.concat(o,o.visualViewport||[],ig(s)?s:[],l&&r?Ep(l):[])}return t.concat(s,Ep(s,[],r))}function v5(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aP(e){const t=ul(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Jl(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=xy(r)!==a||xy(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function hN(e){return Al(e)?e:e.contextElement}function jf(e){const t=hN(e);if(!Jl(t))return ku(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=aP(t);let o=(a?xy(r.width):r.width)/n,l=(a?xy(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const ez=ku(0);function iP(e){const t=Ji(e);return!dN()||!t.visualViewport?ez:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tz(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ji(e)?!1:t}function hh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=hN(e);let o=ku(1);t&&(n?Al(n)&&(o=jf(n)):o=jf(e));const l=tz(a,r,n)?iP(a):ku(0);let A=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,m=s.height/o.y;if(a){const y=Ji(a),g=n&&Al(n)?Ji(n):n;let b=y,C=v5(b);for(;C&&n&&g!==b;){const F=jf(C),v=C.getBoundingClientRect(),S=ul(C),I=v.left+(C.clientLeft+parseFloat(S.paddingLeft))*F.x,k=v.top+(C.clientTop+parseFloat(S.paddingTop))*F.y;A*=F.x,d*=F.y,f*=F.x,m*=F.y,A+=I,d+=k,b=Ji(C),C=v5(b)}}return wy({width:f,height:m,x:A,y:d})}function rz(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=sc(n),l=t?Ew(t.floating):!1;if(n===o||l&&a)return r;let A={scrollLeft:0,scrollTop:0},d=ku(1);const f=ku(0),m=Jl(n);if((m||!m&&!a)&&((N0(n)!=="body"||ig(o))&&(A=Fw(n)),Jl(n))){const y=hh(n);d=jf(n),f.x=y.x+n.clientLeft,f.y=y.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-A.scrollLeft*d.x+f.x,y:r.y*d.y-A.scrollTop*d.y+f.y}}function nz(e){return Array.from(e.getClientRects())}function b5(e,t){const r=Fw(e).scrollLeft;return t?t.left+r:hh(sc(e)).left+r}function sz(e){const t=sc(e),r=Fw(e),n=e.ownerDocument.body,s=$i(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=$i(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+b5(e);const l=-r.scrollTop;return ul(n).direction==="rtl"&&(o+=$i(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function az(e,t){const r=Ji(e),n=sc(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,A=0;if(s){a=s.width,o=s.height;const d=dN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,A=s.offsetTop)}return{width:a,height:o,x:l,y:A}}function iz(e,t){const r=hh(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Jl(e)?jf(e):ku(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,A=s*a.x,d=n*a.y;return{width:o,height:l,x:A,y:d}}function x6(e,t,r){let n;if(t==="viewport")n=az(e,r);else if(t==="document")n=sz(sc(e));else if(Al(t))n=iz(t,r);else{const s=iP(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return wy(n)}function oP(e,t){const r=Ou(e);return r===t||!Al(r)||l0(r)?!1:ul(r).position==="fixed"||oP(r,t)}function oz(e,t){const r=t.get(e);if(r)return r;let n=Ep(e,[],!1).filter(l=>Al(l)&&N0(l)!=="body"),s=null;const a=ul(e).position==="fixed";let o=a?Ou(e):e;for(;Al(o)&&!l0(o);){const l=ul(o),A=uN(o);!A&&l.position==="fixed"&&(s=null),(a?!A&&!s:!A&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ig(o)&&!A&&oP(e,o))?n=n.filter(f=>f!==o):s=l,o=Ou(o)}return t.set(e,n),n}function lz(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Ew(t)?[]:oz(t,this._c):[].concat(r),n],l=o[0],A=o.reduce((d,f)=>{const m=x6(t,f,s);return d.top=$i(m.top,d.top),d.right=Lu(m.right,d.right),d.bottom=Lu(m.bottom,d.bottom),d.left=$i(m.left,d.left),d},x6(t,l,s));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}}function cz(e){const{width:t,height:r}=aP(e);return{width:t,height:r}}function Az(e,t,r){const n=Jl(t),s=sc(t),a=r==="fixed",o=hh(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const A=ku(0);if(n||!n&&!a)if((N0(t)!=="body"||ig(s))&&(l=Fw(t)),n){const g=hh(t,!0,a,t);A.x=g.x+t.clientLeft,A.y=g.y+t.clientTop}else s&&(A.x=b5(s));let d=0,f=0;if(s&&!n&&!a){const g=s.getBoundingClientRect();f=g.top+l.scrollTop,d=g.left+l.scrollLeft-b5(s,g)}const m=o.left+l.scrollLeft-A.x-d,y=o.top+l.scrollTop-A.y-f;return{x:m,y,width:o.width,height:o.height}}function Fv(e){return ul(e).position==="static"}function y6(e,t){if(!Jl(e)||ul(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return sc(e)===r&&(r=r.ownerDocument.body),r}function lP(e,t){const r=Ji(e);if(Ew(e))return r;if(!Jl(e)){let s=Ou(e);for(;s&&!l0(s);){if(Al(s)&&!Fv(s))return s;s=Ou(s)}return r}let n=y6(e,t);for(;n&&JW(n)&&Fv(n);)n=y6(n,t);return n&&l0(n)&&Fv(n)&&!uN(n)?r:n||ZW(e)||r}const uz=async function(e){const t=this.getOffsetParent||lP,r=this.getDimensions,n=await r(e.floating);return{reference:Az(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function dz(e){return ul(e).direction==="rtl"}const hz={convertOffsetParentRelativeRectToViewportRelativeRect:rz,getDocumentElement:sc,getClippingRect:lz,getOffsetParent:lP,getElementRects:uz,getClientRects:nz,getDimensions:cz,getScale:jf,isElement:Al,isRTL:dz};function fz(e,t){let r=null,n;const s=sc(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,A){l===void 0&&(l=!1),A===void 0&&(A=1),a();const{left:d,top:f,width:m,height:y}=e.getBoundingClientRect();if(l||t(),!m||!y)return;const g=h1(f),b=h1(s.clientWidth-(d+m)),C=h1(s.clientHeight-(f+y)),F=h1(d),S={rootMargin:-g+"px "+-b+"px "+-C+"px "+-F+"px",threshold:$i(0,Lu(1,A))||1};let I=!0;function k(M){const V=M[0].intersectionRatio;if(V!==A){if(!I)return o();V?o(!1,V):n=setTimeout(()=>{o(!1,1e-7)},1e3)}I=!1}try{r=new IntersectionObserver(k,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(k,S)}r.observe(e)}return o(!0),a}function cP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:A=!1}=n,d=hN(e),f=s||a?[...d?Ep(d):[],...Ep(t)]:[];f.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const m=d&&l?fz(d,r):null;let y=-1,g=null;o&&(g=new ResizeObserver(v=>{let[S]=v;S&&S.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var I;(I=g)==null||I.observe(t)})),r()}),d&&!A&&g.observe(d),g.observe(t));let b,C=A?hh(e):null;A&&F();function F(){const v=hh(e);C&&(v.x!==C.x||v.y!==C.y||v.width!==C.width||v.height!==C.height)&&r(),C=v,b=requestAnimationFrame(F)}return r(),()=>{var v;f.forEach(S=>{s&&S.removeEventListener("scroll",r),a&&S.removeEventListener("resize",r)}),m==null||m(),(v=g)==null||v.disconnect(),g=null,A&&cancelAnimationFrame(b)}}const mz=$W,pz=qW,gz=GW,xz=YW,yz=WW,w6=KW,wz=XW,vz=(e,t,r)=>{const n=new Map,s={platform:hz,...r},a={...s.platform,_c:n};return VW(e,t,{...s,platform:a})};var mx=typeof document<"u"?N.useLayoutEffect:N.useEffect;function vy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!vy(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!vy(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function AP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function v6(e,t){const r=AP(e);return Math.round(t*r)/r}function Iv(e){const t=N.useRef(e);return mx(()=>{t.current=e}),t}function bz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:A,open:d}=e,[f,m]=N.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,g]=N.useState(n);vy(y,n)||g(n);const[b,C]=N.useState(null),[F,v]=N.useState(null),S=N.useCallback(Y=>{Y!==V.current&&(V.current=Y,C(Y))},[]),I=N.useCallback(Y=>{Y!==O.current&&(O.current=Y,v(Y))},[]),k=a||b,M=o||F,V=N.useRef(null),O=N.useRef(null),R=N.useRef(f),_=A!=null,J=Iv(A),U=Iv(s),Q=Iv(d),X=N.useCallback(()=>{if(!V.current||!O.current)return;const Y={placement:t,strategy:r,middleware:y};U.current&&(Y.platform=U.current),vz(V.current,O.current,Y).then(K=>{const ae={...K,isPositioned:Q.current!==!1};Z.current&&!vy(R.current,ae)&&(R.current=ae,Wu.flushSync(()=>{m(ae)}))})},[y,t,r,U,Q]);mx(()=>{d===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(Y=>({...Y,isPositioned:!1})))},[d]);const Z=N.useRef(!1);mx(()=>(Z.current=!0,()=>{Z.current=!1}),[]),mx(()=>{if(k&&(V.current=k),M&&(O.current=M),k&&M){if(J.current)return J.current(k,M,X);X()}},[k,M,X,J,_]);const $=N.useMemo(()=>({reference:V,floating:O,setReference:S,setFloating:I}),[S,I]),q=N.useMemo(()=>({reference:k,floating:M}),[k,M]),W=N.useMemo(()=>{const Y={position:r,left:0,top:0};if(!q.floating)return Y;const K=v6(q.floating,f.x),ae=v6(q.floating,f.y);return l?{...Y,transform:"translate("+K+"px, "+ae+"px)",...AP(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:K,top:ae}},[r,l,q.floating,f.x,f.y]);return N.useMemo(()=>({...f,update:X,refs:$,elements:q,floatingStyles:W}),[f,X,$,q,W])}const Cz=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?w6({element:n.current,padding:s}).fn(r):{}:n?w6({element:n,padding:s}).fn(r):{}}}},Bz=(e,t)=>({...mz(e),options:[e,t]}),Nz=(e,t)=>({...pz(e),options:[e,t]}),Sz=(e,t)=>({...wz(e),options:[e,t]}),Ez=(e,t)=>({...gz(e),options:[e,t]}),Fz=(e,t)=>({...xz(e),options:[e,t]}),Iz=(e,t)=>({...yz(e),options:[e,t]}),jz=(e,t)=>({...Cz(e),options:[e,t]});var Tz="Arrow",uP=N.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(Ur.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});uP.displayName=Tz;var Lz=uP;function kz(e,t=[]){let r=[];function n(a,o){const l=N.createContext(o),A=r.length;r=[...r,o];function d(m){const{scope:y,children:g,...b}=m,C=(y==null?void 0:y[e][A])||l,F=N.useMemo(()=>b,Object.values(b));return i.jsx(C.Provider,{value:F,children:g})}function f(m,y){const g=(y==null?void 0:y[e][A])||l,b=N.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,f]}const s=()=>{const a=r.map(o=>N.createContext(o));return function(l){const A=(l==null?void 0:l[e])||a;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,Pz(s,...t)]}function Pz(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:A,scopeName:d})=>{const m=A(a)[`__scope${d}`];return{...l,...m}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function dP(e){const[t,r]=N.useState(void 0);return Ai(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const A=a.borderBoxSize,d=Array.isArray(A)?A[0]:A;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var fN="Popper",[hP,Iw]=kz(fN),[Oz,fP]=hP(fN),mP=e=>{const{__scopePopper:t,children:r}=e,[n,s]=N.useState(null);return i.jsx(Oz,{scope:t,anchor:n,onAnchorChange:s,children:r})};mP.displayName=fN;var pP="PopperAnchor",gP=N.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=fP(pP,r),o=N.useRef(null),l=Gn(t,o);return N.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(Ur.div,{...s,ref:l})});gP.displayName=pP;var mN="PopperContent",[Rz,Dz]=hP(mN),xP=N.forwardRef((e,t)=>{var me,we,Ie,ve,Ce,Pe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:A=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:g="optimized",onPlaced:b,...C}=e,F=fP(mN,r),[v,S]=N.useState(null),I=Gn(t,Me=>S(Me)),[k,M]=N.useState(null),V=dP(k),O=(V==null?void 0:V.width)??0,R=(V==null?void 0:V.height)??0,_=n+(a!=="center"?"-"+a:""),J=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},U=Array.isArray(d)?d:[d],Q=U.length>0,X={padding:J,boundary:U.filter(Mz),altBoundary:Q},{refs:Z,floatingStyles:$,placement:q,isPositioned:W,middlewareData:Y}=bz({strategy:"fixed",placement:_,whileElementsMounted:(...Me)=>cP(...Me,{animationFrame:g==="always"}),elements:{reference:F.anchor},middleware:[Bz({mainAxis:s+R,alignmentAxis:o}),A&&Nz({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Sz():void 0,...X}),A&&Ez({...X}),Fz({...X,apply:({elements:Me,rects:Je,availableWidth:Re,availableHeight:ye})=>{const{width:pt,height:rt}=Je.reference,Ke=Me.floating.style;Ke.setProperty("--radix-popper-available-width",`${Re}px`),Ke.setProperty("--radix-popper-available-height",`${ye}px`),Ke.setProperty("--radix-popper-anchor-width",`${pt}px`),Ke.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),k&&jz({element:k,padding:l}),Uz({arrowWidth:O,arrowHeight:R}),y&&Iz({strategy:"referenceHidden",...X})]}),[K,ae]=vP(q),be=Yl(b);Ai(()=>{W&&(be==null||be())},[W,be]);const H=(me=Y.arrow)==null?void 0:me.x,ee=(we=Y.arrow)==null?void 0:we.y,ie=((Ie=Y.arrow)==null?void 0:Ie.centerOffset)!==0,[le,ce]=N.useState();return Ai(()=>{v&&ce(window.getComputedStyle(v).zIndex)},[v]),i.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:W?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(ve=Y.transformOrigin)==null?void 0:ve.x,(Ce=Y.transformOrigin)==null?void 0:Ce.y].join(" "),...((Pe=Y.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Rz,{scope:r,placedSide:K,onArrowChange:M,arrowX:H,arrowY:ee,shouldHideArrow:ie,children:i.jsx(Ur.div,{"data-side":K,"data-align":ae,...C,ref:I,style:{...C.style,animation:W?void 0:"none"}})})})});xP.displayName=mN;var yP="PopperArrow",_z={top:"bottom",right:"left",bottom:"top",left:"right"},wP=N.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=Dz(yP,n),o=_z[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(Lz,{...s,ref:r,style:{...s.style,display:"block"}})})});wP.displayName=yP;function Mz(e){return e!==null}var Uz=e=>({name:"transformOrigin",options:e,fn(t){var F,v,S;const{placement:r,rects:n,middlewareData:s}=t,o=((F=s.arrow)==null?void 0:F.centerOffset)!==0,l=o?0:e.arrowWidth,A=o?0:e.arrowHeight,[d,f]=vP(r),m={start:"0%",center:"50%",end:"100%"}[f],y=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,g=(((S=s.arrow)==null?void 0:S.y)??0)+A/2;let b="",C="";return d==="bottom"?(b=o?m:`${y}px`,C=`${-A}px`):d==="top"?(b=o?m:`${y}px`,C=`${n.floating.height+A}px`):d==="right"?(b=`${-A}px`,C=o?m:`${g}px`):d==="left"&&(b=`${n.floating.width+A}px`,C=o?m:`${g}px`),{data:{x:b,y:C}}}});function vP(e){const[t,r="center"]=e.split("-");return[t,r]}var bP=mP,CP=gP,BP=xP,NP=wP,Qz="Portal",pN=N.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=N.useState(!1);Ai(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Ck.createPortal(i.jsx(Ur.div,{...n,ref:t}),o):null});pN.displayName=Qz;function Hz(e,t){return N.useReducer((r,n)=>t[r][n]??r,e)}var Nh=e=>{const{present:t,children:r}=e,n=Vz(t),s=typeof r=="function"?r({present:n.isPresent}):N.Children.only(r),a=Gn(n.ref,Kz(s));return typeof r=="function"||n.isPresent?N.cloneElement(s,{ref:a}):null};Nh.displayName="Presence";function Vz(e){const[t,r]=N.useState(),n=N.useRef({}),s=N.useRef(e),a=N.useRef("none"),o=e?"mounted":"unmounted",[l,A]=Hz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const d=f1(n.current);a.current=l==="mounted"?d:"none"},[l]),Ai(()=>{const d=n.current,f=s.current;if(f!==e){const y=a.current,g=f1(d);e?A("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?A("UNMOUNT"):A(f&&y!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,A]),Ai(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,m=g=>{const C=f1(n.current).includes(g.animationName);if(g.target===t&&C&&(A("ANIMATION_END"),!s.current)){const F=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=F)})}},y=g=>{g.target===t&&(a.current=f1(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else A("ANIMATION_END")},[t,A]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function f1(e){return(e==null?void 0:e.animationName)||"none"}function Kz(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function fh({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=Gz({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,l=Yl(r),A=N.useCallback(d=>{if(a){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else s(d)},[a,e,s,l]);return[o,A]}function Gz({defaultProp:e,onChange:t}){const r=N.useState(e),[n]=r,s=N.useRef(n),a=Yl(t);return N.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var Wz="VisuallyHidden",gN=N.forwardRef((e,t)=>i.jsx(Ur.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));gN.displayName=Wz;var zz=gN,[jw,Oye]=ag("Tooltip",[Iw]),Tw=Iw(),SP="TooltipProvider",$z=700,C5="tooltip.open",[qz,xN]=jw(SP),EP=e=>{const{__scopeTooltip:t,delayDuration:r=$z,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,[o,l]=N.useState(!0),A=N.useRef(!1),d=N.useRef(0);return N.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),i.jsx(qz,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:N.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:N.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:A,onPointerInTransitChange:N.useCallback(f=>{A.current=f},[]),disableHoverableContent:s,children:a})};EP.displayName=SP;var Lw="Tooltip",[Xz,kw]=jw(Lw),FP=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,A=xN(Lw,e.__scopeTooltip),d=Tw(t),[f,m]=N.useState(null),y=Uc(),g=N.useRef(0),b=o??A.disableHoverableContent,C=l??A.delayDuration,F=N.useRef(!1),[v=!1,S]=fh({prop:n,defaultProp:s,onChange:O=>{O?(A.onOpen(),document.dispatchEvent(new CustomEvent(C5))):A.onClose(),a==null||a(O)}}),I=N.useMemo(()=>v?F.current?"delayed-open":"instant-open":"closed",[v]),k=N.useCallback(()=>{window.clearTimeout(g.current),g.current=0,F.current=!1,S(!0)},[S]),M=N.useCallback(()=>{window.clearTimeout(g.current),g.current=0,S(!1)},[S]),V=N.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{F.current=!0,S(!0),g.current=0},C)},[C,S]);return N.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),i.jsx(bP,{...d,children:i.jsx(Xz,{scope:t,contentId:y,open:v,stateAttribute:I,trigger:f,onTriggerChange:m,onTriggerEnter:N.useCallback(()=>{A.isOpenDelayed?V():k()},[A.isOpenDelayed,V,k]),onTriggerLeave:N.useCallback(()=>{b?M():(window.clearTimeout(g.current),g.current=0)},[M,b]),onOpen:k,onClose:M,disableHoverableContent:b,children:r})})};FP.displayName=Lw;var B5="TooltipTrigger",IP=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=kw(B5,r),a=xN(B5,r),o=Tw(r),l=N.useRef(null),A=Gn(t,l,s.onTriggerChange),d=N.useRef(!1),f=N.useRef(!1),m=N.useCallback(()=>d.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),i.jsx(CP,{asChild:!0,...o,children:i.jsx(Ur.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:A,onPointerMove:yr(e.onPointerMove,y=>{y.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:yr(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:yr(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:yr(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:yr(e.onBlur,s.onClose),onClick:yr(e.onClick,s.onClose)})})});IP.displayName=B5;var Yz="TooltipPortal",[Rye,Jz]=jw(Yz,{forceMount:void 0}),c0="TooltipContent",jP=N.forwardRef((e,t)=>{const r=Jz(c0,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=kw(c0,e.__scopeTooltip);return i.jsx(Nh,{present:n||o.open,children:o.disableHoverableContent?i.jsx(TP,{side:s,...a,ref:t}):i.jsx(Zz,{side:s,...a,ref:t})})}),Zz=N.forwardRef((e,t)=>{const r=kw(c0,e.__scopeTooltip),n=xN(c0,e.__scopeTooltip),s=N.useRef(null),a=Gn(t,s),[o,l]=N.useState(null),{trigger:A,onClose:d}=r,f=s.current,{onPointerInTransitChange:m}=n,y=N.useCallback(()=>{l(null),m(!1)},[m]),g=N.useCallback((b,C)=>{const F=b.currentTarget,v={x:b.clientX,y:b.clientY},S=n$(v,F.getBoundingClientRect()),I=s$(v,S),k=a$(C.getBoundingClientRect()),M=o$([...I,...k]);l(M),m(!0)},[m]);return N.useEffect(()=>()=>y(),[y]),N.useEffect(()=>{if(A&&f){const b=F=>g(F,f),C=F=>g(F,A);return A.addEventListener("pointerleave",b),f.addEventListener("pointerleave",C),()=>{A.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",C)}}},[A,f,g,y]),N.useEffect(()=>{if(o){const b=C=>{const F=C.target,v={x:C.clientX,y:C.clientY},S=(A==null?void 0:A.contains(F))||(f==null?void 0:f.contains(F)),I=!i$(v,o);S?y():I&&(y(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[A,f,o,d,y]),i.jsx(TP,{...e,ref:a})}),[e$,t$]=jw(Lw,{isInside:!1}),TP=N.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,A=kw(c0,r),d=Tw(r),{onClose:f}=A;return N.useEffect(()=>(document.addEventListener(C5,f),()=>document.removeEventListener(C5,f)),[f]),N.useEffect(()=>{if(A.trigger){const m=y=>{const g=y.target;g!=null&&g.contains(A.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[A.trigger,f]),i.jsx(Nw,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:i.jsxs(BP,{"data-state":A.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Zk,{children:n}),i.jsx(e$,{scope:r,isInside:!0,children:i.jsx(zz,{id:A.contentId,role:"tooltip",children:s||n})})]})})});jP.displayName=c0;var LP="TooltipArrow",r$=N.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Tw(r);return t$(LP,r).isInside?null:i.jsx(NP,{...s,...n,ref:t})});r$.displayName=LP;function n$(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function s$(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function a$(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function i$(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,A=t[a].y,d=t[o].x,f=t[o].y;A>n!=f>n&&r<(d-l)*(n-A)/(f-A)+l&&(s=!s)}return s}function o$(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),l$(t)}function l$(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var c$=EP,A$=FP,u$=IP,kP=jP;function PP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=PP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function OP(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=PP(e))&&(n&&(n+=" "),n+=t);return n}const yN="-",d$=e=>{const t=f$(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(yN);return l[0]===""&&l.length!==1&&l.shift(),RP(l,t)||h$(o)},getConflictingClassGroupIds:(o,l)=>{const A=r[o]||[];return l&&n[o]?[...A,...n[o]]:A}}},RP=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?RP(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(yN);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},b6=/^\[(.+)\]$/,h$=e=>{if(b6.test(e)){const t=b6.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},f$=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return p$(Object.entries(e.classGroups),r).forEach(([a,o])=>{N5(o,n,a,t)}),n},N5=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:C6(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(m$(s)){N5(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{N5(o,C6(t,a),r,n)})})},C6=(e,t)=>{let r=e;return t.split(yN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},m$=e=>e.isThemeGetter,p$=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,g$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},DP="!",x$=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const A=[];let d=0,f=0,m;for(let F=0;F<l.length;F++){let v=l[F];if(d===0){if(v===s&&(n||l.slice(F,F+a)===t)){A.push(l.slice(f,F)),f=F+a;continue}if(v==="/"){m=F;continue}}v==="["?d++:v==="]"&&d--}const y=A.length===0?l:l.substring(f),g=y.startsWith(DP),b=g?y.substring(1):y,C=m&&m>f?m-f:void 0;return{modifiers:A,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:C}};return r?l=>r({className:l,parseClassName:o}):o},y$=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},w$=e=>({cache:g$(e.cacheSize),parseClassName:x$(e),...d$(e)}),v$=/\s+/,b$=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(v$);let l="";for(let A=o.length-1;A>=0;A-=1){const d=o[A],{modifiers:f,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}=r(d);let b=!!g,C=n(b?y.substring(0,g):y);if(!C){if(!b){l=d+(l.length>0?" "+l:l);continue}if(C=n(y),!C){l=d+(l.length>0?" "+l:l);continue}b=!1}const F=y$(f).join(":"),v=m?F+DP:F,S=v+C;if(a.includes(S))continue;a.push(S);const I=s(C,b);for(let k=0;k<I.length;++k){const M=I[k];a.push(v+M)}l=d+(l.length>0?" "+l:l)}return l};function C$(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_P(t))&&(n&&(n+=" "),n+=r);return n}const _P=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=_P(e[n]))&&(r&&(r+=" "),r+=t);return r};function B$(e,...t){let r,n,s,a=o;function o(A){const d=t.reduce((f,m)=>m(f),e());return r=w$(d),n=r.cache.get,s=r.cache.set,a=l,l(A)}function l(A){const d=n(A);if(d)return d;const f=b$(A,r);return s(A,f),f}return function(){return a(C$.apply(null,arguments))}}const Un=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},MP=/^\[(?:([a-z-]+):)?(.+)\]$/i,N$=/^\d+\/\d+$/,S$=new Set(["px","full","screen"]),E$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,F$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,j$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cc=e=>Tf(e)||S$.has(e)||N$.test(e),TA=e=>S0(e,"length",M$),Tf=e=>!!e&&!Number.isNaN(Number(e)),jv=e=>S0(e,"number",Tf),em=e=>!!e&&Number.isInteger(Number(e)),L$=e=>e.endsWith("%")&&Tf(e.slice(0,-1)),vr=e=>MP.test(e),LA=e=>E$.test(e),k$=new Set(["length","size","percentage"]),P$=e=>S0(e,k$,UP),O$=e=>S0(e,"position",UP),R$=new Set(["image","url"]),D$=e=>S0(e,R$,Q$),_$=e=>S0(e,"",U$),tm=()=>!0,S0=(e,t,r)=>{const n=MP.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},M$=e=>F$.test(e)&&!I$.test(e),UP=()=>!1,U$=e=>j$.test(e),Q$=e=>T$.test(e),H$=()=>{const e=Un("colors"),t=Un("spacing"),r=Un("blur"),n=Un("brightness"),s=Un("borderColor"),a=Un("borderRadius"),o=Un("borderSpacing"),l=Un("borderWidth"),A=Un("contrast"),d=Un("grayscale"),f=Un("hueRotate"),m=Un("invert"),y=Un("gap"),g=Un("gradientColorStops"),b=Un("gradientColorStopPositions"),C=Un("inset"),F=Un("margin"),v=Un("opacity"),S=Un("padding"),I=Un("saturate"),k=Un("scale"),M=Un("sepia"),V=Un("skew"),O=Un("space"),R=Un("translate"),_=()=>["auto","contain","none"],J=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",vr,t],Q=()=>[vr,t],X=()=>["",Cc,TA],Z=()=>["auto",Tf,vr],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",vr],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],be=()=>[Tf,vr];return{cacheSize:500,separator:":",theme:{colors:[tm],spacing:[Cc,TA],blur:["none","",LA,vr],brightness:be(),borderColor:[e],borderRadius:["none","","full",LA,vr],borderSpacing:Q(),borderWidth:X(),contrast:be(),grayscale:K(),hueRotate:be(),invert:K(),gap:Q(),gradientColorStops:[e],gradientColorStopPositions:[L$,TA],inset:U(),margin:U(),opacity:be(),padding:Q(),saturate:be(),scale:be(),sepia:K(),skew:be(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",vr]}],container:["container"],columns:[{columns:[LA]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),vr]}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",em,vr]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",vr]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",em,vr]}],"grid-cols":[{"grid-cols":[tm]}],"col-start-end":[{col:["auto",{span:["full",em,vr]},vr]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[tm]}],"row-start-end":[{row:["auto",{span:[em,vr]},vr]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",vr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",vr]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[F]}],mx:[{mx:[F]}],my:[{my:[F]}],ms:[{ms:[F]}],me:[{me:[F]}],mt:[{mt:[F]}],mr:[{mr:[F]}],mb:[{mb:[F]}],ml:[{ml:[F]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",vr,t]}],"min-w":[{"min-w":[vr,t,"min","max","fit"]}],"max-w":[{"max-w":[vr,t,"none","full","min","max","fit","prose",{screen:[LA]},LA]}],h:[{h:[vr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[vr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[vr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[vr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",LA,TA]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jv]}],"font-family":[{font:[tm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",vr]}],"line-clamp":[{"line-clamp":["none",Tf,jv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cc,vr]}],"list-image":[{"list-image":["none",vr]}],"list-style-type":[{list:["none","disc","decimal",vr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cc,TA]}],"underline-offset":[{"underline-offset":["auto",Cc,vr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),O$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",P$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},D$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Cc,vr]}],"outline-w":[{outline:[Cc,TA]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Cc,TA]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",LA,_$]}],"shadow-color":[{shadow:[tm]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[A]}],"drop-shadow":[{"drop-shadow":["","none",LA,vr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[I]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[A]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",vr]}],duration:[{duration:be()}],ease:[{ease:["linear","in","out","in-out",vr]}],delay:[{delay:be()}],animate:[{animate:["none","spin","ping","pulse","bounce",vr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[em,vr]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",vr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Cc,TA,jv]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},V$=B$(H$);function hr(...e){return V$(OP(e))}const QP=c$,Tv=A$,Lv=u$,px=N.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(kP,{ref:n,sideOffset:t,className:hr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));px.displayName=kP.displayName;function HP(e,t){return function(){return e.apply(t,arguments)}}const{toString:K$}=Object.prototype,{getPrototypeOf:wN}=Object,{iterator:Pw,toStringTag:VP}=Symbol,Ow=(e=>t=>{const r=K$.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),hl=e=>(e=e.toLowerCase(),t=>Ow(t)===e),Rw=e=>t=>typeof t===e,{isArray:E0}=Array,Fp=Rw("undefined");function G$(e){return e!==null&&!Fp(e)&&e.constructor!==null&&!Fp(e.constructor)&&Li(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const KP=hl("ArrayBuffer");function W$(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&KP(e.buffer),t}const z$=Rw("string"),Li=Rw("function"),GP=Rw("number"),Dw=e=>e!==null&&typeof e=="object",$$=e=>e===!0||e===!1,gx=e=>{if(Ow(e)!=="object")return!1;const t=wN(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(VP in e)&&!(Pw in e)},q$=hl("Date"),X$=hl("File"),Y$=hl("Blob"),J$=hl("FileList"),Z$=e=>Dw(e)&&Li(e.pipe),eq=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Li(e.append)&&((t=Ow(e))==="formdata"||t==="object"&&Li(e.toString)&&e.toString()==="[object FormData]"))},tq=hl("URLSearchParams"),[rq,nq,sq,aq]=["ReadableStream","Request","Response","Headers"].map(hl),iq=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function og(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),E0(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function WP(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Td=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zP=e=>!Fp(e)&&e!==Td;function S5(){const{caseless:e}=zP(this)&&this||{},t={},r=(n,s)=>{const a=e&&WP(t,s)||s;gx(t[a])&&gx(n)?t[a]=S5(t[a],n):gx(n)?t[a]=S5({},n):E0(n)?t[a]=n.slice():t[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&og(arguments[n],r);return t}const oq=(e,t,r,{allOwnKeys:n}={})=>(og(t,(s,a)=>{r&&Li(s)?e[a]=HP(s,r):e[a]=s},{allOwnKeys:n}),e),lq=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cq=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Aq=(e,t,r,n)=>{let s,a,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)o=s[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&wN(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},uq=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},dq=e=>{if(!e)return null;if(E0(e))return e;let t=e.length;if(!GP(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},hq=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&wN(Uint8Array)),fq=(e,t)=>{const n=(e&&e[Pw]).call(e);let s;for(;(s=n.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},mq=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},pq=hl("HTMLFormElement"),gq=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),B6=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),xq=hl("RegExp"),$P=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};og(r,(s,a)=>{let o;(o=t(s,a,e))!==!1&&(n[a]=o||s)}),Object.defineProperties(e,n)},yq=e=>{$P(e,(t,r)=>{if(Li(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Li(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},wq=(e,t)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return E0(e)?n(e):n(String(e).split(t)),r},vq=()=>{},bq=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Cq(e){return!!(e&&Li(e.append)&&e[VP]==="FormData"&&e[Pw])}const Bq=e=>{const t=new Array(10),r=(n,s)=>{if(Dw(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const a=E0(n)?[]:{};return og(n,(o,l)=>{const A=r(o,s+1);!Fp(A)&&(a[l]=A)}),t[s]=void 0,a}}return n};return r(e,0)},Nq=hl("AsyncFunction"),Sq=e=>e&&(Dw(e)||Li(e))&&Li(e.then)&&Li(e.catch),qP=((e,t)=>e?setImmediate:t?((r,n)=>(Td.addEventListener("message",({source:s,data:a})=>{s===Td&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Td.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Li(Td.postMessage)),Eq=typeof queueMicrotask<"u"?queueMicrotask.bind(Td):typeof process<"u"&&process.nextTick||qP,Fq=e=>e!=null&&Li(e[Pw]),ze={isArray:E0,isArrayBuffer:KP,isBuffer:G$,isFormData:eq,isArrayBufferView:W$,isString:z$,isNumber:GP,isBoolean:$$,isObject:Dw,isPlainObject:gx,isReadableStream:rq,isRequest:nq,isResponse:sq,isHeaders:aq,isUndefined:Fp,isDate:q$,isFile:X$,isBlob:Y$,isRegExp:xq,isFunction:Li,isStream:Z$,isURLSearchParams:tq,isTypedArray:hq,isFileList:J$,forEach:og,merge:S5,extend:oq,trim:iq,stripBOM:lq,inherits:cq,toFlatObject:Aq,kindOf:Ow,kindOfTest:hl,endsWith:uq,toArray:dq,forEachEntry:fq,matchAll:mq,isHTMLForm:pq,hasOwnProperty:B6,hasOwnProp:B6,reduceDescriptors:$P,freezeMethods:yq,toObjectSet:wq,toCamelCase:gq,noop:vq,toFiniteNumber:bq,findKey:WP,global:Td,isContextDefined:zP,isSpecCompliantForm:Cq,toJSONObject:Bq,isAsyncFn:Nq,isThenable:Sq,setImmediate:qP,asap:Eq,isIterable:Fq};function xr(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ze.inherits(xr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const XP=xr.prototype,YP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{YP[e]={value:e}});Object.defineProperties(xr,YP);Object.defineProperty(XP,"isAxiosError",{value:!0});xr.from=(e,t,r,n,s,a)=>{const o=Object.create(XP);return ze.toFlatObject(e,o,function(A){return A!==Error.prototype},l=>l!=="isAxiosError"),xr.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};const Iq=null;function E5(e){return ze.isPlainObject(e)||ze.isArray(e)}function JP(e){return ze.endsWith(e,"[]")?e.slice(0,-2):e}function N6(e,t,r){return e?e.concat(t).map(function(s,a){return s=JP(s),!r&&a?"["+s+"]":s}).join(r?".":""):t}function jq(e){return ze.isArray(e)&&!e.some(E5)}const Tq=ze.toFlatObject(ze,{},null,function(t){return/^is[A-Z]/.test(t)});function _w(e,t,r){if(!ze.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ze.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,F){return!ze.isUndefined(F[C])});const n=r.metaTokens,s=r.visitor||f,a=r.dots,o=r.indexes,A=(r.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(t);if(!ze.isFunction(s))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(ze.isDate(b))return b.toISOString();if(!A&&ze.isBlob(b))throw new xr("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(b)||ze.isTypedArray(b)?A&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,C,F){let v=b;if(b&&!F&&typeof b=="object"){if(ze.endsWith(C,"{}"))C=n?C:C.slice(0,-2),b=JSON.stringify(b);else if(ze.isArray(b)&&jq(b)||(ze.isFileList(b)||ze.endsWith(C,"[]"))&&(v=ze.toArray(b)))return C=JP(C),v.forEach(function(I,k){!(ze.isUndefined(I)||I===null)&&t.append(o===!0?N6([C],k,a):o===null?C:C+"[]",d(I))}),!1}return E5(b)?!0:(t.append(N6(F,C,a),d(b)),!1)}const m=[],y=Object.assign(Tq,{defaultVisitor:f,convertValue:d,isVisitable:E5});function g(b,C){if(!ze.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+C.join("."));m.push(b),ze.forEach(b,function(v,S){(!(ze.isUndefined(v)||v===null)&&s.call(t,v,ze.isString(S)?S.trim():S,C,y))===!0&&g(v,C?C.concat(S):[S])}),m.pop()}}if(!ze.isObject(e))throw new TypeError("data must be an object");return g(e),t}function S6(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function vN(e,t){this._pairs=[],e&&_w(e,this,t)}const ZP=vN.prototype;ZP.append=function(t,r){this._pairs.push([t,r])};ZP.toString=function(t){const r=t?function(n){return t.call(this,n,S6)}:S6;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Lq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function e7(e,t,r){if(!t)return e;const n=r&&r.encode||Lq;ze.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(t,r):a=ze.isURLSearchParams(t)?t.toString():new vN(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class E6{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ze.forEach(this.handlers,function(n){n!==null&&t(n)})}}const t7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kq=typeof URLSearchParams<"u"?URLSearchParams:vN,Pq=typeof FormData<"u"?FormData:null,Oq=typeof Blob<"u"?Blob:null,Rq={isBrowser:!0,classes:{URLSearchParams:kq,FormData:Pq,Blob:Oq},protocols:["http","https","file","blob","url","data"]},bN=typeof window<"u"&&typeof document<"u",F5=typeof navigator=="object"&&navigator||void 0,Dq=bN&&(!F5||["ReactNative","NativeScript","NS"].indexOf(F5.product)<0),_q=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mq=bN&&window.location.href||"http://localhost",Uq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bN,hasStandardBrowserEnv:Dq,hasStandardBrowserWebWorkerEnv:_q,navigator:F5,origin:Mq},Symbol.toStringTag,{value:"Module"})),Ha={...Uq,...Rq};function Qq(e,t){return _w(e,new Ha.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return Ha.isNode&&ze.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Hq(e){return ze.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Vq(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}function r7(e){function t(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),A=a>=r.length;return o=!o&&ze.isArray(s)?s.length:o,A?(ze.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!ze.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],a)&&ze.isArray(s[o])&&(s[o]=Vq(s[o])),!l)}if(ze.isFormData(e)&&ze.isFunction(e.entries)){const r={};return ze.forEachEntry(e,(n,s)=>{t(Hq(n),s,r,0)}),r}return null}function Kq(e,t,r){if(ze.isString(e))try{return(t||JSON.parse)(e),ze.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const lg={transitional:t7,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=ze.isObject(t);if(a&&ze.isHTMLForm(t)&&(t=new FormData(t)),ze.isFormData(t))return s?JSON.stringify(r7(t)):t;if(ze.isArrayBuffer(t)||ze.isBuffer(t)||ze.isStream(t)||ze.isFile(t)||ze.isBlob(t)||ze.isReadableStream(t))return t;if(ze.isArrayBufferView(t))return t.buffer;if(ze.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Qq(t,this.formSerializer).toString();if((l=ze.isFileList(t))||n.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return _w(l?{"files[]":t}:t,A&&new A,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),Kq(t)):t}],transformResponse:[function(t){const r=this.transitional||lg.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ze.isResponse(t)||ze.isReadableStream(t))return t;if(t&&ze.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?xr.from(l,xr.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ha.classes.FormData,Blob:Ha.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],e=>{lg.headers[e]={}});const Gq=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wq=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&Gq[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},F6=Symbol("internals");function rm(e){return e&&String(e).trim().toLowerCase()}function xx(e){return e===!1||e==null?e:ze.isArray(e)?e.map(xx):String(e)}function zq(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const $q=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kv(e,t,r,n,s){if(ze.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!ze.isString(t)){if(ze.isString(n))return t.indexOf(n)!==-1;if(ze.isRegExp(n))return n.test(t)}}function qq(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Xq(e,t){const r=ze.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,a,o){return this[n].call(this,t,s,a,o)},configurable:!0})})}class ki{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function a(l,A,d){const f=rm(A);if(!f)throw new Error("header name must be a non-empty string");const m=ze.findKey(s,f);(!m||s[m]===void 0||d===!0||d===void 0&&s[m]!==!1)&&(s[m||A]=xx(l))}const o=(l,A)=>ze.forEach(l,(d,f)=>a(d,f,A));if(ze.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ze.isString(t)&&(t=t.trim())&&!$q(t))o(Wq(t),r);else if(ze.isObject(t)&&ze.isIterable(t)){let l={},A,d;for(const f of t){if(!ze.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[d=f[0]]=(A=l[d])?ze.isArray(A)?[...A,f[1]]:[A,f[1]]:f[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=rm(t),t){const n=ze.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return zq(s);if(ze.isFunction(r))return r.call(this,s,n);if(ze.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=rm(t),t){const n=ze.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||kv(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function a(o){if(o=rm(o),o){const l=ze.findKey(n,o);l&&(!r||kv(n,n[l],l,r))&&(delete n[l],s=!0)}}return ze.isArray(t)?t.forEach(a):a(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!t||kv(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const r=this,n={};return ze.forEach(this,(s,a)=>{const o=ze.findKey(n,a);if(o){r[o]=xx(s),delete r[a];return}const l=t?qq(a):String(a).trim();l!==a&&delete r[a],r[l]=xx(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ze.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&ze.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[F6]=this[F6]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=rm(o);n[l]||(Xq(s,o),n[l]=!0)}return ze.isArray(t)?t.forEach(a):a(t),this}}ki.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(ki.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ze.freezeMethods(ki);function Pv(e,t){const r=this||lg,n=t||r,s=ki.from(n.headers);let a=n.data;return ze.forEach(e,function(l){a=l.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function n7(e){return!!(e&&e.__CANCEL__)}function F0(e,t,r){xr.call(this,e??"canceled",xr.ERR_CANCELED,t,r),this.name="CanceledError"}ze.inherits(F0,xr,{__CANCEL__:!0});function s7(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new xr("Request failed with status code "+r.status,[xr.ERR_BAD_REQUEST,xr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Yq(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Jq(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,a=0,o;return t=t!==void 0?t:1e3,function(A){const d=Date.now(),f=n[a];o||(o=d),r[s]=A,n[s]=d;let m=a,y=0;for(;m!==s;)y+=r[m++],m=m%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),d-o<t)return;const g=f&&d-f;return g?Math.round(y*1e3/g):void 0}}function Zq(e,t){let r=0,n=1e3/t,s,a;const o=(d,f=Date.now())=>{r=f,s=null,a&&(clearTimeout(a),a=null),e.apply(null,d)};return[(...d)=>{const f=Date.now(),m=f-r;m>=n?o(d,f):(s=d,a||(a=setTimeout(()=>{a=null,o(s)},n-m)))},()=>s&&o(s)]}const by=(e,t,r=3)=>{let n=0;const s=Jq(50,250);return Zq(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,A=o-n,d=s(A),f=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:A,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},I6=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},j6=e=>(...t)=>ze.asap(()=>e(...t)),eX=Ha.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ha.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ha.origin),Ha.navigator&&/(msie|trident)/i.test(Ha.navigator.userAgent)):()=>!0,tX=Ha.hasStandardBrowserEnv?{write(e,t,r,n,s,a){const o=[e+"="+encodeURIComponent(t)];ze.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ze.isString(n)&&o.push("path="+n),ze.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rX(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nX(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function a7(e,t,r){let n=!rX(t);return e&&(n||r==!1)?nX(e,t):t}const T6=e=>e instanceof ki?{...e}:e;function mh(e,t){t=t||{};const r={};function n(d,f,m,y){return ze.isPlainObject(d)&&ze.isPlainObject(f)?ze.merge.call({caseless:y},d,f):ze.isPlainObject(f)?ze.merge({},f):ze.isArray(f)?f.slice():f}function s(d,f,m,y){if(ze.isUndefined(f)){if(!ze.isUndefined(d))return n(void 0,d,m,y)}else return n(d,f,m,y)}function a(d,f){if(!ze.isUndefined(f))return n(void 0,f)}function o(d,f){if(ze.isUndefined(f)){if(!ze.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function l(d,f,m){if(m in t)return n(d,f);if(m in e)return n(void 0,d)}const A={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,m)=>s(T6(d),T6(f),m,!0)};return ze.forEach(Object.keys(Object.assign({},e,t)),function(f){const m=A[f]||s,y=m(e[f],t[f],f);ze.isUndefined(y)&&m!==l||(r[f]=y)}),r}const i7=e=>{const t=mh({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=t;t.headers=o=ki.from(o),t.url=e7(a7(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let A;if(ze.isFormData(r)){if(Ha.hasStandardBrowserEnv||Ha.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((A=o.getContentType())!==!1){const[d,...f]=A?A.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Ha.hasStandardBrowserEnv&&(n&&ze.isFunction(n)&&(n=n(t)),n||n!==!1&&eX(t.url))){const d=s&&a&&tX.read(a);d&&o.set(s,d)}return t},sX=typeof XMLHttpRequest<"u",aX=sX&&function(e){return new Promise(function(r,n){const s=i7(e);let a=s.data;const o=ki.from(s.headers).normalize();let{responseType:l,onUploadProgress:A,onDownloadProgress:d}=s,f,m,y,g,b;function C(){g&&g(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let F=new XMLHttpRequest;F.open(s.method.toUpperCase(),s.url,!0),F.timeout=s.timeout;function v(){if(!F)return;const I=ki.from("getAllResponseHeaders"in F&&F.getAllResponseHeaders()),M={data:!l||l==="text"||l==="json"?F.responseText:F.response,status:F.status,statusText:F.statusText,headers:I,config:e,request:F};s7(function(O){r(O),C()},function(O){n(O),C()},M),F=null}"onloadend"in F?F.onloadend=v:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(v)},F.onabort=function(){F&&(n(new xr("Request aborted",xr.ECONNABORTED,e,F)),F=null)},F.onerror=function(){n(new xr("Network Error",xr.ERR_NETWORK,e,F)),F=null},F.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const M=s.transitional||t7;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new xr(k,M.clarifyTimeoutError?xr.ETIMEDOUT:xr.ECONNABORTED,e,F)),F=null},a===void 0&&o.setContentType(null),"setRequestHeader"in F&&ze.forEach(o.toJSON(),function(k,M){F.setRequestHeader(M,k)}),ze.isUndefined(s.withCredentials)||(F.withCredentials=!!s.withCredentials),l&&l!=="json"&&(F.responseType=s.responseType),d&&([y,b]=by(d,!0),F.addEventListener("progress",y)),A&&F.upload&&([m,g]=by(A),F.upload.addEventListener("progress",m),F.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(f=I=>{F&&(n(!I||I.type?new F0(null,e,F):I),F.abort(),F=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const S=Yq(s.url);if(S&&Ha.protocols.indexOf(S)===-1){n(new xr("Unsupported protocol "+S+":",xr.ERR_BAD_REQUEST,e));return}F.send(a||null)})},iX=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const a=function(d){if(!s){s=!0,l();const f=d instanceof Error?d:this.reason;n.abort(f instanceof xr?f:new F0(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,a(new xr(`timeout ${t} of ms exceeded`,xr.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:A}=n;return A.unsubscribe=()=>ze.asap(l),A}},oX=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},lX=async function*(e,t){for await(const r of cX(e))yield*oX(r,t)},cX=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},L6=(e,t,r,n)=>{const s=lX(e,t);let a=0,o,l=A=>{o||(o=!0,n&&n(A))};return new ReadableStream({async pull(A){try{const{done:d,value:f}=await s.next();if(d){l(),A.close();return}let m=f.byteLength;if(r){let y=a+=m;r(y)}A.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(A){return l(A),s.return()}},{highWaterMark:2})},Mw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",o7=Mw&&typeof ReadableStream=="function",AX=Mw&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),l7=(e,...t)=>{try{return!!e(...t)}catch{return!1}},uX=o7&&l7(()=>{let e=!1;const t=new Request(Ha.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),k6=64*1024,I5=o7&&l7(()=>ze.isReadableStream(new Response("").body)),Cy={stream:I5&&(e=>e.body)};Mw&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Cy[t]&&(Cy[t]=ze.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new xr(`Response type '${t}' is not supported`,xr.ERR_NOT_SUPPORT,n)})})})(new Response);const dX=async e=>{if(e==null)return 0;if(ze.isBlob(e))return e.size;if(ze.isSpecCompliantForm(e))return(await new Request(Ha.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(e)||ze.isArrayBuffer(e))return e.byteLength;if(ze.isURLSearchParams(e)&&(e=e+""),ze.isString(e))return(await AX(e)).byteLength},hX=async(e,t)=>{const r=ze.toFiniteNumber(e.getContentLength());return r??dX(t)},fX=Mw&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:A,responseType:d,headers:f,withCredentials:m="same-origin",fetchOptions:y}=i7(e);d=d?(d+"").toLowerCase():"text";let g=iX([s,a&&a.toAbortSignal()],o),b;const C=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let F;try{if(A&&uX&&r!=="get"&&r!=="head"&&(F=await hX(f,n))!==0){let M=new Request(t,{method:"POST",body:n,duplex:"half"}),V;if(ze.isFormData(n)&&(V=M.headers.get("content-type"))&&f.setContentType(V),M.body){const[O,R]=I6(F,by(j6(A)));n=L6(M.body,k6,O,R)}}ze.isString(m)||(m=m?"include":"omit");const v="credentials"in Request.prototype;b=new Request(t,{...y,signal:g,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:v?m:void 0});let S=await fetch(b);const I=I5&&(d==="stream"||d==="response");if(I5&&(l||I&&C)){const M={};["status","statusText","headers"].forEach(_=>{M[_]=S[_]});const V=ze.toFiniteNumber(S.headers.get("content-length")),[O,R]=l&&I6(V,by(j6(l),!0))||[];S=new Response(L6(S.body,k6,O,()=>{R&&R(),C&&C()}),M)}d=d||"text";let k=await Cy[ze.findKey(Cy,d)||"text"](S,e);return!I&&C&&C(),await new Promise((M,V)=>{s7(M,V,{data:k,headers:ki.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:b})})}catch(v){throw C&&C(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new xr("Network Error",xr.ERR_NETWORK,e,b),{cause:v.cause||v}):xr.from(v,v&&v.code,e,b)}}),j5={http:Iq,xhr:aX,fetch:fX};ze.forEach(j5,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const P6=e=>`- ${e}`,mX=e=>ze.isFunction(e)||e===null||e===!1,c7={getAdapter:e=>{e=ze.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let a=0;a<t;a++){r=e[a];let o;if(n=r,!mX(r)&&(n=j5[(o=String(r)).toLowerCase()],n===void 0))throw new xr(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([l,A])=>`adapter ${l} `+(A===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(P6).join(`
`):" "+P6(a[0]):"as no adapter specified";throw new xr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:j5};function Ov(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new F0(null,e)}function O6(e){return Ov(e),e.headers=ki.from(e.headers),e.data=Pv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),c7.getAdapter(e.adapter||lg.adapter)(e).then(function(n){return Ov(e),n.data=Pv.call(e,e.transformResponse,n),n.headers=ki.from(n.headers),n},function(n){return n7(n)||(Ov(e),n&&n.response&&(n.response.data=Pv.call(e,e.transformResponse,n.response),n.response.headers=ki.from(n.response.headers))),Promise.reject(n)})}const A7="1.9.0",Uw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Uw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const R6={};Uw.transitional=function(t,r,n){function s(a,o){return"[Axios v"+A7+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new xr(s(o," has been removed"+(r?" in "+r:"")),xr.ERR_DEPRECATED);return r&&!R6[o]&&(R6[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};Uw.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function pX(e,t,r){if(typeof e!="object")throw new xr("options must be an object",xr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],o=t[a];if(o){const l=e[a],A=l===void 0||o(l,a,e);if(A!==!0)throw new xr("option "+a+" must be "+A,xr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new xr("Unknown option "+a,xr.ERR_BAD_OPTION)}}const yx={assertOptions:pX,validators:Uw},Sl=yx.validators;class Wd{constructor(t){this.defaults=t||{},this.interceptors={request:new E6,response:new E6}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mh(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&yx.assertOptions(n,{silentJSONParsing:Sl.transitional(Sl.boolean),forcedJSONParsing:Sl.transitional(Sl.boolean),clarifyTimeoutError:Sl.transitional(Sl.boolean)},!1),s!=null&&(ze.isFunction(s)?r.paramsSerializer={serialize:s}:yx.assertOptions(s,{encode:Sl.function,serialize:Sl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),yx.assertOptions(r,{baseUrl:Sl.spelling("baseURL"),withXsrfToken:Sl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&ze.merge(a.common,a[r.method]);a&&ze.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),r.headers=ki.concat(o,a);const l=[];let A=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(A=A&&C.synchronous,l.unshift(C.fulfilled,C.rejected))});const d=[];this.interceptors.response.forEach(function(C){d.push(C.fulfilled,C.rejected)});let f,m=0,y;if(!A){const b=[O6.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,d),y=b.length,f=Promise.resolve(r);m<y;)f=f.then(b[m++],b[m++]);return f}y=l.length;let g=r;for(m=0;m<y;){const b=l[m++],C=l[m++];try{g=b(g)}catch(F){C.call(this,F);break}}try{f=O6.call(this,g)}catch(b){return Promise.reject(b)}for(m=0,y=d.length;m<y;)f=f.then(d[m++],d[m++]);return f}getUri(t){t=mh(this.defaults,t);const r=a7(t.baseURL,t.url,t.allowAbsoluteUrls);return e7(r,t.params,t.paramsSerializer)}}ze.forEach(["delete","get","head","options"],function(t){Wd.prototype[t]=function(r,n){return this.request(mh(n||{},{method:t,url:r,data:(n||{}).data}))}});ze.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(mh(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Wd.prototype[t]=r(),Wd.prototype[t+"Form"]=r(!0)});class CN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new F0(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new CN(function(s){t=s}),cancel:t}}}function gX(e){return function(r){return e.apply(null,r)}}function xX(e){return ze.isObject(e)&&e.isAxiosError===!0}const T5={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(T5).forEach(([e,t])=>{T5[t]=e});function u7(e){const t=new Wd(e),r=HP(Wd.prototype.request,t);return ze.extend(r,Wd.prototype,t,{allOwnKeys:!0}),ze.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return u7(mh(e,s))},r}const Pn=u7(lg);Pn.Axios=Wd;Pn.CanceledError=F0;Pn.CancelToken=CN;Pn.isCancel=n7;Pn.VERSION=A7;Pn.toFormData=_w;Pn.AxiosError=xr;Pn.Cancel=Pn.CanceledError;Pn.all=function(t){return Promise.all(t)};Pn.spread=gX;Pn.isAxiosError=xX;Pn.mergeConfig=mh;Pn.AxiosHeaders=ki;Pn.formToJSON=e=>r7(ze.isHTMLForm(e)?new FormData(e):e);Pn.getAdapter=c7.getAdapter;Pn.HttpStatusCode=T5;Pn.default=Pn;const yX=()=>{const e=typeof window<"u"&&window.location.hostname==="localhost";return typeof navigator<"u"&&(navigator.userAgent.includes("Cordova")||navigator.userAgent.includes("Capacitor")||typeof window<"u"&&window.location.protocol==="file:")?"https://havenn.onrender.com/api":e?"/api":"https://havenn.onrender.com/api"},Ip=yX(),ga=(e,t={})=>fetch(`${Ip}${e}`,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}}),BN=Ip;console.log("🔗 API_URL configured as:",BN);console.log("🌍 Window location:",typeof window<"u"?window.location.href:"N/A");console.log("🔧 User agent:",typeof navigator<"u"?navigator.userAgent:"N/A");console.log("📱 Is mobile app:",typeof navigator<"u"&&(navigator.userAgent.includes("Cordova")||navigator.userAgent.includes("Capacitor")||typeof window<"u"&&window.location.protocol==="file:"));const At=Pn.create({baseURL:BN,withCredentials:!0});let D6=0;At.interceptors.request.use(e=>(console.log("🚀 API Request Details:",{url:e.url,baseURL:e.baseURL,fullURL:e.baseURL+e.url,method:e.method,headers:e.headers}),e));const jp=e=>{if(Array.isArray(e))return e.map(t=>jp(t));if(e&&typeof e=="object"&&e!==null){const t={};for(const[r,n]of Object.entries(e)){const s=r.replace(/_([a-z])/g,(a,o)=>o.toUpperCase());t[s]=jp(n)}return t}return e},Tp=e=>{if(Array.isArray(e))return e.map(t=>Tp(t));if(e&&typeof e=="object"&&e!==null){const t={};for(const[r,n]of Object.entries(e)){const s=r.replace(/([A-Z])/g,"_$1").toLowerCase();t[s]=Tp(n)}return t}return e};At.interceptors.request.use(e=>{const t=localStorage.getItem("user");return t&&(e.headers["X-User-Info"]=t),e});At.interceptors.request.use(e=>(console.log("API Request:",{url:e.url,method:e.method,data:e.data,headers:e.headers}),e));At.interceptors.request.use(e=>{if(e.data&&typeof e.data=="object"&&!(e.data instanceof FormData)){let t={...e.data};t.hasOwnProperty("branch_id")&&t.hasOwnProperty("branchId")&&(console.warn('[API.TS INTERCEPTOR] Conflict: Found both "branch_id" (value:',t.branch_id,') and "branchId" (value:',t.branchId,'). Removing "branchId" to prioritize the snake_case "branch_id".'),delete t.branchId),e.data=Tp(t)}return e});At.interceptors.response.use(e=>(e.data&&typeof e.data=="object"&&(e.data=jp(e.data)),e),e=>{var n,s,a,o,l,A,d;if(((n=e.response)==null?void 0:n.status)===401)console.warn("401 Unauthorized - Authentication required:",(a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message);else if(((o=e.response)==null?void 0:o.status)===403&&((A=(l=e.response)==null?void 0:l.data)!=null&&A.subscriptionExpired)){console.warn("403 Forbidden - Subscription inactive/expired");const f=Date.now();f-D6>5e3&&(Fe.error("Subscription inactive or trial expired. Viewing is allowed, but actions are disabled. Please renew on the Subscription page."),D6=f)}else e.response||(console.error("Network error - please check your connection:",e.message),console.error("Connection failed - this may be a network connectivity issue"));const t=((d=e.response)==null?void 0:d.data)||{message:e.message};console.error("API Error (Axios Interceptor - Response Error):",JSON.stringify(t,null,2));const r=t.message||"An unexpected error occurred while processing your request";return Promise.reject(new Error(r))});const Ue={login:async({username:e,password:t,libraryCode:r})=>{var n;try{const s=await At.post("/auth/login",{username:e,password:t,libraryCode:r}),{message:a,user:o}=s.data;if(a==="Login successful"&&o)return console.log("Login successful, user:",o),localStorage.setItem("user",JSON.stringify(o)),o;throw new Error(a||"Login failed: Invalid response from server")}catch(s){throw console.error("Login error details:",((n=s.response)==null?void 0:n.data)||s.message),s instanceof Error?s:new Error("Login failed due to server error")}},logout:async()=>{var e;try{const t=await At.get("/auth/logout");return console.log("Logout response:",t.data),localStorage.removeItem("user"),t.data}catch(t){throw console.error("Logout error:",((e=t.response)==null?void 0:e.data)||t.message),t}},checkAuthStatus:async()=>{var e,t;try{const r=await At.get("/auth/status");return console.log("Auth status check:",r.data),r.data}catch(r){if(console.error("Auth status check failed:",((e=r.response)==null?void 0:e.data)||r.message),((t=r.response)==null?void 0:t.status)===401)return{isAuthenticated:!1,user:null};throw r}},getBranches:async()=>{var e,t,r;try{return(await At.get("/branches")).data.branches}catch(n){throw console.error("[api.ts getBranches] Error:",n.message,JSON.stringify((e=n.response)==null?void 0:e.data,null,2)),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch branches")}},addBranch:async e=>(await At.post("/branches",e)).data,updateBranch:async(e,t)=>(await At.put(`/branches/${e}`,t)).data,deleteBranch:async e=>(await At.delete(`/branches/${e}`)).data,getProducts:async()=>(await At.get("/products")).data.products,addProduct:async e=>(await At.post("/products",e)).data,updateProduct:async(e,t)=>(await At.put(`/products/${e}`,t)).data,deleteProduct:async e=>(await At.delete(`/products/${e}`)).data,getHostelBranches:async()=>{var e;try{return(await At.get("/hostel/branches")).data.branches}catch(t){throw console.error("Error fetching hostel branches:",((e=t.response)==null?void 0:e.data)||t.message),t}},addHostelBranch:async e=>{try{return(await At.post("/hostel/branches",e)).data.branch}catch(t){throw t}},updateHostelBranch:async(e,t)=>{try{return(await At.put(`/hostel/branches/${e}`,t)).data.branch}catch(r){throw r}},deleteHostelBranch:async e=>{try{return(await At.delete(`/hostel/branches/${e}`)).data}catch(t){throw t}},getHostelStudents:async e=>{try{const t={};return e&&(t.branchId=e),(await At.get("/hostel/students",{params:t})).data.students}catch(t){throw t}},getHostelStudent:async e=>{try{return(await At.get(`/hostel/students/${e}`)).data}catch(t){throw t}},addHostelStudent:async e=>{var t;try{return(await At.post("/hostel/students",e)).data}catch(r){throw console.error("Error in api.ts addHostelStudent:",r.message,JSON.stringify((t=r.response)==null?void 0:t.data,null,2)),r}},updateHostelStudent:async(e,t)=>{try{return(await At.put(`/hostel/students/${e}`,t)).data}catch(r){throw r}},deleteHostelStudent:async e=>{try{return(await At.delete(`/hostel/students/${e}`)).data}catch(t){throw t}},uploadImage:async e=>{try{return(await At.post("/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw t}},getExpiredHostelStudents:async()=>{try{return(await At.get("/hostel/students/meta/expired")).data}catch(e){throw e}},renewHostelStudent:async(e,t)=>{try{return(await At.post(`/hostel/students/${e}/renew`,t)).data}catch(r){throw r}},getHostelCollections:async e=>{var t;try{const r={};return e!=null&&e.month&&(r.month=e.month),e!=null&&e.branchId&&(r.branchId=e.branchId),(await At.get("/hostel/collections",{params:r})).data}catch(r){throw console.error("[api.ts getHostelCollections] Error:",r.message,JSON.stringify((t=r.response)==null?void 0:t.data,null,2)),r}},updateHostelCollectionPayment:async(e,t)=>{try{return(await At.put(`/hostel/collections/${e}`,t)).data}catch(r){throw r}},getQueries:async()=>{var e,t,r;try{return(await At.get("/queries")).data}catch(n){throw console.error("[api.ts getQueries] Error:",n.message,JSON.stringify((e=n.response)==null?void 0:e.data,null,2)),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch queries")}},getAllQueriesForAdmin:async()=>{var e,t;try{return(await At.get("/queries/admin")).data}catch(r){throw console.error("Error fetching admin queries:",r),new Error(((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to fetch admin queries")}},getQueryById:async e=>{var t,r,n;try{return(await At.get(`/queries/${e}`)).data}catch(s){throw console.error("[api.ts getQueryById] Error:",s.message,JSON.stringify((t=s.response)==null?void 0:t.data,null,2)),new Error(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to fetch query details")}},postQuery:async e=>{var t,r,n;try{return(await At.post("/queries",e)).data}catch(s){throw console.error("[api.ts postQuery] Error:",s.message,JSON.stringify((t=s.response)==null?void 0:t.data,null,2)),new Error(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to post query")}},voteOnQuery:async(e,t)=>{var r,n,s;try{return(await At.post(`/queries/${e}/vote`,{vote_type:t})).data}catch(a){throw console.error("[api.ts voteOnQuery] Error:",a.message,JSON.stringify((r=a.response)==null?void 0:r.data,null,2)),new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to vote on query")}},updateQueryStatus:async(e,t)=>{var r,n,s;try{return(await At.put(`/queries/${e}/status`,{status:t})).data}catch(a){throw console.error("[api.ts updateQueryStatus] Error:",a.message,JSON.stringify((r=a.response)==null?void 0:r.data,null,2)),new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to update query status")}},postComment:async(e,t)=>{var r,n,s;try{return(await At.post(`/queries/${e}/comments`,t)).data}catch(a){throw console.error("[api.ts postComment] Error:",a.message,JSON.stringify((r=a.response)==null?void 0:r.data,null,2)),new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to post comment")}},getInactiveStudents:async()=>(await At.get("/students/inactive")).data,updateStudentStatus:async(e,t)=>(await At.put(`/students/${e}/status`,t)).data,getStudents:async(e,t,r)=>{const n={fromDate:e,toDate:t};return r&&(n.branchId=r),(await At.get("/students",{params:n})).data},getStudent:async e=>(await At.get(`/students/${e}`)).data,getActiveStudents:async e=>{const t={};return e&&(t.branchId=e),(await At.get("/students/active",{params:t})).data},getExpiredMemberships:async e=>{const t={};return e&&(t.branchId=e),(await At.get("/students/expired",{params:t})).data},getExpiringSoon:async e=>{const t={};return e&&(t.branchId=e),(await At.get("/students/expiring-soon",{params:t})).data},getTotalStudentsCount:async e=>(await Ue.getStudents(void 0,void 0,e)).students.length,getActiveStudentsCount:async e=>(await Ue.getActiveStudents(e)).students.length,getExpiredMembershipsCount:async e=>(await Ue.getExpiredMemberships(e)).students.length,addStudent:async e=>{var t,r;try{const n={...e,cash:e.cash??0,online:e.online??0,securityMoney:e.securityMoney??0,remark:e.remark??null,profileImageUrl:e.profileImageUrl??null,aadhaarFrontUrl:e.aadhaarFrontUrl??null,aadhaarBackUrl:e.aadhaarBackUrl??null};console.log("[api.ts addStudent] Sending student data:",JSON.stringify(n,null,2));const s=await At.post("/students",n);return console.log("[api.ts addStudent] Response received:",JSON.stringify(s.data,null,2)),s.data}catch(n){throw console.error("[api.ts addStudent] Error:",{message:n.message,response:(t=n.response)==null?void 0:t.data,status:(r=n.response)==null?void 0:r.status}),n}},updateStudent:async(e,t)=>(await At.put(`/students/${e}`,t)).data,deleteStudent:async e=>(await At.delete(`/students/${e}`)).data,renewStudent:async(e,t)=>(await At.post(`/students/${e}/renew`,t)).data,getDashboardStats:async e=>(await At.get("/students/stats/dashboard",{params:e})).data,getSchedules:async(e=null)=>{const t={};e!=null?(t.branch_id=e,console.log("Fetching schedules for branch ID:",e)):console.log("Fetching schedules for all branches");try{const r=await At.get("/schedules/with-students",{params:t});console.log("API Response:",r);let n=[];return Array.isArray(r.data)?(console.log("Received array response with",r.data.length,"schedules"),n=r.data):r.data&&Array.isArray(r.data.schedules)?(console.log("Received object response with",r.data.schedules.length,"schedules"),n=r.data.schedules):console.warn("Unexpected API response format, defaulting to empty array:",r.data),{schedules:n}}catch(r){throw console.error("Error in getSchedules:",r),r}},getSchedule:async e=>(await At.get(`/schedules/${e}`)).data,getSchedulesWithStudents:async()=>{var e;try{return(await At.get("/schedules/with-students")).data}catch(t){throw console.error("Error fetching schedules with students:",((e=t.response)==null?void 0:e.data)||t.message),t}},addSchedule:async e=>(await At.post("/schedules",e)).data,updateSchedule:async(e,t)=>(await At.put(`/schedules/${e}`,t)).data,deleteSchedule:async e=>(await At.delete(`/schedules/${e}`)).data,getUserProfile:async()=>{var e;try{return(await At.get("/users/profile")).data}catch(t){throw console.error("Error fetching user profile:",((e=t.response)==null?void 0:e.data)||t.message),t}},updateUserProfile:async e=>{var t;try{return(await At.put("/users/profile",e)).data}catch(r){throw console.error("Error updating user profile:",((t=r.response)==null?void 0:t.data)||r.message),r}},addUser:async e=>{var t;try{return(await At.post("/users",e)).data}catch(r){throw console.error("Error adding user:",((t=r.response)==null?void 0:t.data)||r.message),r}},getAllUsers:async()=>{var e;try{return(await At.get("/users")).data}catch(t){throw console.error("Error fetching users:",((e=t.response)==null?void 0:e.data)||t.message),t}},deleteUser:async e=>{var t;try{return(await At.delete(`/users/${e}`)).data}catch(r){throw console.error("Error deleting user:",((t=r.response)==null?void 0:t.data)||r.message),r}},changeUserPassword:async e=>{var t;try{return(await At.put("/users/profile",e)).data}catch(r){throw console.error("Error changing password:",((t=r.response)==null?void 0:t.data)||r.message),r}},getStudentsByShift:async(e,t)=>(await At.get(`/students/shift/${e}`,{params:t})).data,getSeats:async e=>(await At.get("/seats",{params:e})).data,addSeats:async e=>(await At.post("/seats",e)).data,deleteSeat:async e=>(await At.delete(`/seats/${e}`)).data,getSeatAssignments:async e=>{var t;try{return(await At.get(`/seats/${e}/assignments`)).data}catch(r){throw console.error("Error fetching seat assignments:",((t=r.response)==null?void 0:t.data)||r.message),r}},getAvailableShifts:async e=>{var t,r;try{return(await At.get(`/seats/${e}/all-shifts-status`)).data}catch(n){throw console.error(`Error fetching shifts status for seat ${e}:`,n.message),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch shifts status")}},getSettings:async()=>{var e;try{return(await At.get("/settings")).data}catch(t){throw console.error("Error fetching settings:",((e=t.response)==null?void 0:e.data)||t.message),t}},updateSettings:async e=>{var t;try{return(await At.put("/settings",e)).data}catch(r){throw console.error("Error updating settings:",((t=r.response)==null?void 0:t.data)||r.message),r}},getTransactions:async()=>{var e;try{return(await At.get("/transactions")).data}catch(t){throw console.error("Error fetching transactions:",((e=t.response)==null?void 0:e.data)||t.message),t}},addTransaction:async e=>{var t;try{return(await At.post("/transactions",e)).data}catch(r){throw console.error("Error adding transaction:",((t=r.response)==null?void 0:t.data)||r.message),r}},updateTransaction:async(e,t)=>{var r;try{return(await At.put(`/transactions/${e}`,t)).data}catch(n){throw console.error("Error updating transaction:",((r=n.response)==null?void 0:r.data)||n.message),n}},deleteTransaction:async e=>{var t;try{return(await At.delete(`/transactions/${e}`)).data}catch(r){throw console.error("Error deleting transaction:",((t=r.response)==null?void 0:t.data)||r.message),r}},getCollections:async(e={})=>(await At.get("/collections",{params:e})).data,getCollectionStats:async(e={})=>(await At.get("/collections/stats",{params:e})).data,updateCollectionPayment:async(e,t)=>{const{amount:r,method:n}=t;return(await At.put(`/collections/${e}`,{paymentAmount:r,paymentMethod:n})).data},getExpenses:async e=>{const t={};return e&&(t.branchId=e),(await At.get("/expenses",{params:t})).data},addExpense:async e=>(await At.post("/expenses",e)).data,updateExpense:async(e,t)=>(await At.put(`/expenses/${e}`,t)).data,deleteExpense:async e=>(await At.delete(`/expenses/${e}`)).data,getProfitLoss:async e=>(await At.get("/reports/profit-loss",{params:e})).data,getMonthlyCollections:async e=>(await At.get("/reports/monthly-collections",{params:{month:e}})).data,getLockers:async e=>{const t={};return e&&(t.branchId=e),(await At.get("/lockers",{params:t})).data},addLockers:async e=>(await At.post("/lockers",{lockerNumbers:e})).data,createLocker:async e=>(await At.post("/lockers",e)).data,updateLocker:async(e,t)=>(await At.put(`/lockers/${e}`,t)).data,deleteLocker:async e=>(await At.delete(`/lockers/${e}`)).data,assignLocker:async(e,t)=>(await At.put(`/lockers/${e}/assign`,t)).data,fetchAttendance:async(e={})=>{var t,r;try{const n={...e,includeMembership:!0},s=await At.get("/owner-dashboard/attendance",{params:n}),a=s.data.attendance.map(o=>({...o,membershipStatus:o.membershipStatus||"inactive",membershipEndDate:o.membershipEndDate||null,hasDueAmount:o.hasDueAmount||!1,dueAmount:o.dueAmount||0}));return{...s.data,attendance:a}}catch(n){throw console.error("[api.ts fetchAttendance] Error:",n.message),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch attendance")}},getLibraryProfile:async()=>(await At.get("/owner-dashboard/profile")).data,getStudentProfile:async()=>(await At.get("/student-auth/profile")).data,markAttendanceWithQR:async e=>{try{const t=typeof e=="string"?JSON.parse(e):e,r=Pn.create(),n={qrData:t,notes:"Scanned via mobile app"};return console.log("Sending QR attendance data:",n),(await r.post(`${BN}/student-auth/attendance/qr`,n,{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")?`Bearer ${localStorage.getItem("token")}`:""},withCredentials:!0})).data}catch(t){throw console.error("Error in markAttendanceWithQR:",t),t.response&&console.error("Server responded with:",t.response.data),new Error("Failed to mark attendance. Please try again.")}},getStudentAttendanceHistory:async(e={})=>(await At.get("/student-auth/attendance",{params:e})).data,getAnnouncements:async e=>(await At.get("/announcements",{params:e})).data,getStudentMembershipHistory:async()=>(await At.get("/student-auth/membership-history")).data,getStudentTransactions:()=>At.get("/student-auth/transactions").then(e=>e.data),getAttendanceStatus:()=>At.get("/student-auth/attendance/status").then(e=>e.data),toggleAttendance:e=>At.post("/student-auth/attendance/toggle",{notes:e}).then(t=>t.data),createAnnouncement:e=>At.post("/announcements",Tp(e)).then(t=>t.data),updateAnnouncement:(e,t)=>At.put(`/announcements/${e}`,Tp(t)).then(r=>r.data),deleteAnnouncement:e=>At.delete(`/announcements/${e}`).then(t=>t.data),getOwnerProfile:async()=>{const e=await At.get("/settings/owner/profile");return jp(e.data)},updateOwnerProfile:async e=>{const t=await At.put("/settings/owner/profile",e);return jp(t.data)},changeOwnerPassword:async e=>(await At.put("/settings/owner/password",e)).data,updateUserPermissions:async(e,t)=>{var r;try{return(await At.put(`/users/${e}/permissions`,{permissions:t})).data}catch(n){throw console.error("Error updating user permissions:",((r=n.response)==null?void 0:r.data)||n.message),n}}},d7=N.createContext({isAuthenticated:!1,user:null,login:()=>{},logout:async()=>{},refreshUser:async()=>{},isLoading:!1}),wX=({children:e})=>{const[t,r]=N.useState(null),[n,s]=N.useState(!0),a=async()=>{var A,d,f;try{const y=(A=(await Pn.get("/api/auth/refresh",{withCredentials:!0})).data)==null?void 0:A.user;y?(y.permissions=y.permissions||[],r(y),console.log("[AuthContext] Session refreshed:",y)):console.warn("[AuthContext] No user data in refresh response")}catch(m){console.error("[AuthContext] Failed to refresh session:",m),(((d=m.response)==null?void 0:d.status)===401||((f=m.response)==null?void 0:f.status)===403)&&(console.log("[AuthContext] Authentication failed, logging out"),r(null))}};N.useEffect(()=>{const A=async f=>{f&&s(!0);try{const m=await ga("/owner-auth/status");if(m.ok){const b=await m.json();if(b.isAuthenticated&&b.owner){let C={};try{const v=await ga("/subscriptions/status");if(v.ok){const S=await v.json();C={is_trial:S.subscription.isTrial,subscription_end_date:S.subscription.endDate,subscription_plan:S.subscription.plan,is_subscription_active:S.subscription.isActive}}}catch(v){console.warn("[AuthContext] Failed to fetch subscription info:",v)}const F={id:b.owner.id.toString(),username:b.owner.ownerName,role:"admin",permissions:["view_dashboard","manage_students","manage_memberships","view_reports","manage_seats","manage_shifts","manage_hostel","manage_transactions","manage_expenses","manage_products","manage_lockers_or_staff","manage_branches","manage_users"],libraryId:b.owner.id,libraryCode:b.owner.libraryCode,isOwner:!0,...C};r(F);return}}const y=await Ue.checkAuthStatus();if(y&&y.isAuthenticated&&y.user){const b={...y.user,permissions:y.user.permissions||[]};r(b);return}const g=await ga("/student-auth/status");if(g.ok){const b=await g.json();if(b.isAuthenticated&&b.student){const C={id:b.student.id.toString(),username:b.student.name,role:"student",permissions:[],libraryId:b.student.library_id};r(C);return}}r(null)}catch(m){console.error("Error during auth check:",m),r(null)}finally{f&&s(!1)}};A(!0);const d=setInterval(()=>A(!1),3e4);return()=>clearInterval(d)},[]);const o=A=>{A.permissions=A.permissions||[],r(A),s(!1)},l=async()=>{s(!0);try{t&&t.isOwner?await ga("/owner-auth/logout",{method:"POST"}):await Ue.logout(),r(null),window.location.href="/#/"}catch(A){console.error("Logout failed:",A)}finally{s(!1)}};return i.jsx(d7.Provider,{value:{isAuthenticated:!!t,user:t,login:o,logout:l,refreshUser:a,isLoading:n},children:e})},hi=()=>N.useContext(d7);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h7=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},A)=>N.createElement("svg",{ref:A,...bX,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:h7("lucide",s),...l},[...o.map(([d,f])=>N.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(e,t)=>{const r=N.forwardRef(({className:n,...s},a)=>N.createElement(CX,{ref:a,iconNode:t,className:h7(`lucide-${vX(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=xt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=xt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=xt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=xt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=xt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=xt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=xt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=xt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=xt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=xt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=xt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=xt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=xt("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=xt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=xt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=xt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=xt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=xt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=xt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=xt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=xt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=xt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=xt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=xt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=xt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=xt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=xt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=xt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=xt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=xt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=xt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=xt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=xt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=xt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=xt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=xt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=xt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=xt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=xt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=xt("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=xt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=xt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=xt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=xt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=xt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=xt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=xt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=xt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=xt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=xt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=xt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=xt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=xt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=xt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=xt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=xt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=xt("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=xt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=xt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=xt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=xt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=xt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=xt("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=xt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=xt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=xt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=xt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=xt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=xt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=xt("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=xt("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=xt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=xt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=xt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=xt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=xt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=xt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=xt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=xt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=xt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=xt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=xt("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=xt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=xt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zs=()=>{const{user:e,logout:t}=hi(),r=Tr(),s=(()=>{if(e!=null&&e.subscription_end_date){const A=new Date(e.subscription_end_date),d=new Date,f=A.getTime()-d.getTime(),m=Math.ceil(f/(1e3*3600*24));return m>0?m:0}return null})(),o=e!=null&&e.subscription_plan?{free_trial:"Free Trial","1_month":"Monthly Plan","3_month":"Quarterly Plan","6_month":"Half-Yearly Plan","9_month":"Nine-Month Plan","12_month":"Annual Plan"}[e.subscription_plan]||e.subscription_plan:"No Plan",l=()=>{t(),r("/login")};return i.jsxs("div",{className:"flex flex-col bg-white",children:[(e==null?void 0:e.is_trial)&&s!==null&&s>0&&i.jsxs("div",{className:"bg-green-100 border-b border-green-400 text-green-700 px-4 py-2 text-center text-sm font-medium",children:["🟢 ",o," Active – ",s," Days Left"]}),(e==null?void 0:e.is_subscription_active)&&!(e!=null&&e.is_trial)&&i.jsxs("div",{className:"bg-blue-100 border-b border-blue-400 text-blue-700 px-4 py-2 text-center text-sm font-medium",children:["🔵 ",o," Active"]}),!(e!=null&&e.is_subscription_active)&&!(e!=null&&e.is_trial)&&(e==null?void 0:e.role)==="admin"&&i.jsxs("div",{className:"bg-yellow-100 border-b border-yellow-400 text-yellow-700 px-4 py-2 text-center text-sm font-medium",children:["⚠️ No Active Subscription – ",i.jsx("a",{href:"/subscription-plans",className:"underline font-bold",children:"Subscribe Now"})]}),i.jsxs("div",{className:"flex items-center justify-between py-2 px-4 border-b border-gray-200",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-purple-100 focus:border-purple-300"})]})}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",children:i.jsx(EX,{className:"h-5 w-5 text-gray-600"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-purple-600 flex items-center justify-center text-white",children:e&&e.username?e.username.charAt(0).toUpperCase():"U"}),i.jsxs("div",{className:"hidden md:block",children:[i.jsx("p",{className:"text-sm font-medium",children:(e==null?void 0:e.username)||"User"}),i.jsx("button",{onClick:l,className:"text-xs text-gray-500 hover:text-purple-600",children:"Sign out"})]})]})]})]})]})};var LN={};LN.match=tY;LN.parse=B7;var XX=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,YX=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,JX=/^(?:(min|max)-)?(.+)/,ZX=/(em|rem|px|cm|mm|in|pt|pc)?$/,eY=/(dpi|dpcm|dppx)?$/;function tY(e,t){return B7(e).some(function(r){var n=r.inverse,s=r.type==="all"||t.type===r.type;if(s&&n||!(s||n))return!1;var a=r.expressions.every(function(o){var l=o.feature,A=o.modifier,d=o.value,f=t[l];if(!f)return!1;switch(l){case"orientation":case"scan":return f.toLowerCase()===d.toLowerCase();case"width":case"height":case"device-width":case"device-height":d=z6(d),f=z6(f);break;case"resolution":d=W6(d),f=W6(f);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":d=G6(d),f=G6(f);break;case"grid":case"color":case"color-index":case"monochrome":d=parseInt(d,10)||1,f=parseInt(f,10)||0;break}switch(A){case"min":return f>=d;case"max":return f<=d;default:return f===d}});return a&&!n||!a&&n})}function B7(e){return e.split(",").map(function(t){t=t.trim();var r=t.match(XX),n=r[1],s=r[2],a=r[3]||"",o={};return o.inverse=!!n&&n.toLowerCase()==="not",o.type=s?s.toLowerCase():"all",a=a.match(/\([^\)]+\)/g)||[],o.expressions=a.map(function(l){var A=l.match(YX),d=A[1].toLowerCase().match(JX);return{modifier:d[1],feature:d[2],value:A[2]}}),o})}function G6(e){var t=Number(e),r;return t||(r=e.match(/^(\d+)\s*\/\s*(\d+)$/),t=r[1]/r[2]),t}function W6(e){var t=parseFloat(e),r=String(e).match(eY)[1];switch(r){case"dpcm":return t/2.54;case"dppx":return t*96;default:return t}}function z6(e){var t=parseFloat(e),r=String(e).match(ZX)[1];switch(r){case"em":return t*16;case"rem":return t*16;case"cm":return t*96/2.54;case"mm":return t*96/2.54/10;case"in":return t*96;case"pt":return t*72;case"pc":return t*72/12;default:return t}}var rY=LN.match,$6=typeof window<"u"?window.matchMedia:null;function nY(e,t,r){var n=this,s;$6&&!r&&(s=$6.call(window,e)),s?(this.matches=s.matches,this.media=s.media,s.addListener(l)):(this.matches=rY(e,t),this.media=e),this.addListener=a,this.removeListener=o,this.dispose=A;function a(d){s&&s.addListener(d)}function o(d){s&&s.removeListener(d)}function l(d){n.matches=d.matches,n.media=d.media}function A(){s&&s.removeListener(l)}}function sY(e,t,r){return new nY(e,t,r)}var aY=sY;const iY=Jp(aY);var oY=/[A-Z]/g,lY=/^ms-/,Dv={};function cY(e){return"-"+e.toLowerCase()}function N7(e){if(Dv.hasOwnProperty(e))return Dv[e];var t=e.replace(oY,cY);return Dv[e]=lY.test(t)?"-"+t:t}function AY(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),n=Object.keys(t),s=r.length;if(n.length!==s)return!1;for(let a=0;a<s;a++){const o=r[a];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var S7={exports:{}},uY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dY=uY,hY=dY;function E7(){}function F7(){}F7.resetWarningCache=E7;var fY=function(){function e(n,s,a,o,l,A){if(A!==hY){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:F7,resetWarningCache:E7};return r.PropTypes=r,r};S7.exports=fY();var mY=S7.exports;const en=Jp(mY),ti=en.oneOfType([en.string,en.number]),kN={all:en.bool,grid:en.bool,aural:en.bool,braille:en.bool,handheld:en.bool,print:en.bool,projection:en.bool,screen:en.bool,tty:en.bool,tv:en.bool,embossed:en.bool},I7={orientation:en.oneOf(["portrait","landscape"]),scan:en.oneOf(["progressive","interlace"]),aspectRatio:en.string,deviceAspectRatio:en.string,height:ti,deviceHeight:ti,width:ti,deviceWidth:ti,color:en.bool,colorIndex:en.bool,monochrome:en.bool,resolution:ti,type:Object.keys(kN)},{type:Dye,...pY}=I7,j7={minAspectRatio:en.string,maxAspectRatio:en.string,minDeviceAspectRatio:en.string,maxDeviceAspectRatio:en.string,minHeight:ti,maxHeight:ti,minDeviceHeight:ti,maxDeviceHeight:ti,minWidth:ti,maxWidth:ti,minDeviceWidth:ti,maxDeviceWidth:ti,minColor:en.number,maxColor:en.number,minColorIndex:en.number,maxColorIndex:en.number,minMonochrome:en.number,maxMonochrome:en.number,minResolution:ti,maxResolution:ti,...pY},gY={...kN,...j7};var xY={all:gY,types:kN,matchers:I7,features:j7};const yY=e=>`not ${e}`,wY=(e,t)=>{const r=N7(e);return typeof t=="number"&&(t=`${t}px`),t===!0?r:t===!1?yY(r):`(${r}: ${t})`},vY=e=>e.join(" and "),bY=e=>{const t=[];return Object.keys(xY.all).forEach(r=>{const n=e[r];n!=null&&t.push(wY(r,n))}),vY(t)},CY=N.createContext(void 0),BY=e=>e.query||bY(e),q6=e=>e?Object.keys(e).reduce((r,n)=>(r[N7(n)]=e[n],r),{}):void 0,T7=()=>{const e=N.useRef(!1);return N.useEffect(()=>{e.current=!0},[]),e.current},NY=e=>{const t=N.useContext(CY),r=()=>q6(e)||q6(t),[n,s]=N.useState(r);return N.useEffect(()=>{const a=r();AY(n,a)||s(a)},[e,t]),n},SY=e=>{const t=()=>BY(e),[r,n]=N.useState(t);return N.useEffect(()=>{const s=t();r!==s&&n(s)},[e]),r},EY=(e,t)=>{const r=()=>iY(e,t||{},!!t),[n,s]=N.useState(r),a=T7();return N.useEffect(()=>{if(a){const o=r();return s(o),()=>{o&&o.dispose()}}},[e,t]),n},FY=e=>{const[t,r]=N.useState(e.matches);return N.useEffect(()=>{const n=s=>{r(s.matches)};return e.addListener(n),r(e.matches),()=>{e.removeListener(n)}},[e]),t},IY=(e,t,r)=>{const n=NY(t),s=SY(e);if(!s)throw new Error("Invalid or missing MediaQuery!");const a=EY(s,n),o=FY(a),l=T7();return N.useEffect(()=>{l&&r&&r(o)},[o]),N.useEffect(()=>()=>{a&&a.dispose()},[]),o},jY=""+new URL("logo-B0DErw8i.jpg",import.meta.url).href,TY=(e,t)=>!e||!e.permissions?!1:e.role==="admin"?!0:t==="manage_lockers_or_staff"?e.role==="admin"||e.role==="staff":e.permissions.includes(t),On=({isCollapsed:e,setIsCollapsed:t,onBarcodeClick:r})=>{const{user:n}=hi(),s=Bh(),a=Tr(),[o,l]=N.useState(!1),[A,d]=N.useState(!1),[f,m]=N.useState(!1),y=IY({query:"(max-width: 767px)"}),g=y?!1:e,b=v=>v==="/"?s.pathname==="/":s.pathname.startsWith(v),C=[{path:"/dashboard",icon:i.jsx(SN,{size:20}),label:"Home",permission:null},{path:"/students",icon:i.jsx(zX,{size:20}),label:"Library Students",hasDropdown:!0,permission:"manage_library_students"},{path:"/attendance",icon:i.jsx(tc,{size:20}),label:"Attendance",permission:"manage_library_students"},{path:"#",icon:i.jsx(Qc,{size:20}),label:"Barcode",permission:"manage_library_students",onClick:r},{path:"/announcements",icon:i.jsx(u0,{size:20}),label:"Announcements",permission:"manage_library_students"},{path:"/admission-requests",icon:i.jsx(WX,{size:20}),label:"Admission Requests",permission:"manage_library_students"},{path:"/admin/queries",icon:i.jsx(KX,{size:20}),label:"Admin Queries",permission:"admin_only"},{path:"/schedule",icon:i.jsx(ko,{size:20}),label:"Schedule",permission:"manage_schedules"},{path:"/shifts",icon:i.jsx(Xs,{size:20}),label:"Shifts",permission:"manage_schedules"},{path:"/seats",icon:i.jsx(RX,{size:20}),label:"Seats",permission:"manage_seats"},{path:"/branches",icon:i.jsx(I0,{size:20}),label:"Manage Branches",permission:"manage_branches"},{path:"/products",icon:i.jsx(UX,{size:20}),label:"Products",permission:"manage_products"},{path:"/transactions",icon:i.jsx(Qw,{size:20}),label:"Transactions",permission:"view_transactions"},{path:"/collections",icon:i.jsx(wx,{size:20}),label:"Collection & Due",permission:"view_collections"},{path:"/expenses",icon:i.jsx(V6,{size:20}),label:"Expenses",permission:"manage_expenses"},{path:"/profit-loss",icon:i.jsx(LX,{size:20}),label:"Profit & Loss",permission:"view_reports"},{path:"/lockers",icon:i.jsx(BX,{size:20}),label:"Lockers",permission:"manage_lockers_or_staff"},{path:"/settings",icon:i.jsx(w7,{size:20}),label:"Settings",permission:"admin_only"},{path:"/subscription",icon:i.jsx(V6,{size:20}),label:"Subscription",permission:"admin_only"}],F=()=>{a("/"),y&&m(!1)};return i.jsxs(i.Fragment,{children:[y&&i.jsx("button",{className:"fixed top-4 left-4 z-50 md:hidden p-2 rounded-md bg-white shadow-md",onClick:()=>m(!0),children:i.jsx(_X,{size:24})}),y&&f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>m(!1)}),i.jsxs("div",{className:`h-screen bg-gradient-to-br from-purple-50 to-orange-50 border-r border-gray-100 flex flex-col min-h-0 transition-all duration-300 ${y?f?"fixed top-0 left-0 z-50 w-64":"hidden":g?"w-16":"w-64"}`,children:[i.jsxs("div",{className:"p-4 flex items-center justify-between",children:[!g&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("img",{src:jY,alt:"Library Logo",className:"h-10 w-10 rounded-full object-cover"}),i.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-orange-400 text-transparent bg-clip-text",children:["HAVENN ",i.jsx("br",{}),i.jsx("p",{className:"text-sm text-gray-500",children:"Library into Heaven"})]})]}),y?i.jsx("button",{onClick:()=>m(!1),className:"p-1 rounded-full hover:bg-gray-100",children:i.jsx(AA,{size:20})}):i.jsx("button",{onClick:()=>t(!e),className:"p-1 rounded-full hover:bg-gray-100",children:i.jsx(Tn,{size:20,className:`${e?"rotate-180":""}`})})]}),i.jsx("nav",{className:"flex-1 px-2 py-4 overflow-y-auto",children:i.jsx("ul",{className:"space-y-1",children:C.map(v=>{let S=!1;return v.permission===null?S=!0:v.permission==="admin_only"?S=(n==null?void 0:n.role)==="admin":S=TY(n,v.permission),S?i.jsxs("li",{children:[v.onClick?i.jsxs("button",{onClick:()=>{console.log("Barcode button clicked!",v.label),v.onClick?(console.log("Calling onClick handler"),v.onClick()):console.log("No onClick handler found"),y&&m(!1)},className:`flex items-center w-full text-left py-2.5 px-4 rounded-lg transition-colors duration-200 ${g?"justify-center":""} ${b(v.path)?"bg-purple-100 text-purple-700":"text-gray-700 hover:bg-gray-100"}`,children:[v.icon,!g&&i.jsx("span",{className:"ml-3 font-medium",children:v.label})]}):i.jsxs(gn,{to:v.path,onClick:I=>{v.hasDropdown&&!g?(I.preventDefault(),v.label==="Library Students"?l(!o):v.label==="Hostel Students"&&d(!A)):y&&m(!1)},className:`flex items-center py-2.5 px-4 rounded-lg transition-colors duration-200 ${g?"justify-center":""} ${b(v.path)?"bg-purple-100 text-purple-700":"text-gray-700 hover:bg-gray-100"}`,children:[v.icon,!g&&i.jsxs("div",{className:"flex justify-between items-center w-full",children:[i.jsx("span",{className:"ml-3 font-medium",children:v.label}),v.hasDropdown&&i.jsx(Tn,{size:16,className:`transition-transform ${v.label==="Library Students"&&o||v.label==="Hostel Students"&&A?"rotate-90":""}`})]})]}),!g&&v.hasDropdown&&o&&v.label==="Library Students"&&i.jsxs("div",{className:"ml-8 mt-1 space-y-1 animate-fade-in",children:[i.jsx(gn,{to:"/students/add",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/students/add")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Add Student"}),i.jsx(gn,{to:"/students",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/students")&&s.pathname.split("/").length===2?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"View All"}),i.jsxs(gn,{to:"/active-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/active-students")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:[i.jsx(Du,{size:14,className:"mr-1.5"}),"Active Students"]}),i.jsxs(gn,{to:"/expired-memberships",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/expired-memberships")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:[i.jsx(d0,{size:14,className:"mr-1.5"}),"Expired Members"]}),i.jsxs(gn,{to:"/inactive-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/inactive-students")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:[i.jsx(v7,{size:14,className:"mr-1.5"}),"Inactive Students"]})]}),!g&&v.hasDropdown&&A&&v.label==="Hostel Students"&&i.jsxs("div",{className:"ml-8 mt-1 space-y-1 animate-fade-in",children:[i.jsx(gn,{to:"/hostel-dashboard",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel-dashboard")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Hostel Dashboard"}),i.jsxs(gn,{to:"/hostel/active-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/active-students")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:[i.jsx(Du,{size:14,className:"mr-1.5"}),"Active Students"]}),i.jsx(gn,{to:"/hostel/collections",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/collections")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Collection & Due"}),i.jsx(gn,{to:"/hostel/expired",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/expired")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Expired Memberships"}),i.jsx(gn,{to:"/hostel",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel")&&s.pathname.split("/").length===2?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>y&&m(!1),children:"Student Management"})]})]},v.path):null})})}),i.jsx("div",{className:"p-2",children:i.jsx("button",{className:`flex items-center w-full px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors ${g?"justify-center":""}`,onClick:F,children:i.jsxs("div",{className:`flex items-center gap-3 ${g?"justify-center":""}`,children:[i.jsx(x7,{size:20,className:"text-gray-500"}),!g&&i.jsx("span",{className:"font-medium",children:"Logout"})]})})})]})]})},el=({title:e,value:t,icon:r,iconBgColor:n,textColor:s="text-gray-900",arrowIcon:a})=>i.jsxs("div",{className:"bg-white rounded-xl p-5 flex flex-col shadow-sm border border-gray-100 relative overflow-hidden",children:[i.jsx("div",{className:`${n} p-2 rounded-lg inline-block`,children:r}),i.jsx("h3",{className:"text-sm text-gray-500 mt-3",children:e}),i.jsx("p",{className:`text-4xl font-semibold mt-1 ${s}`,children:t}),a&&i.jsx("div",{className:"absolute bottom-4 right-4",children:a})]}),LY=e=>e||"N/A",kY=({limit:e,selectedBranchId:t})=>{const[r,n]=N.useState([]),[s,a]=N.useState(!0),[o,l]=N.useState(""),[A,d]=N.useState(1),[f,m]=N.useState(5),y=Tr();N.useEffect(()=>{(async()=>{a(!0);try{const M=await Ue.getStudents(void 0,void 0,t??void 0);if(!M||!Array.isArray(M.students))throw new Error("Invalid students data");n(M.students)}catch(M){M.response&&M.response.status===401?(Fe.error("Session expired. Please log in again."),y("/login")):(console.error("Failed to fetch students:",M.message),Fe.error("Failed to fetch students")),n([])}finally{a(!1)}})()},[y,t]);const g=async k=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Ue.deleteStudent(k),n(r.filter(M=>M.id!==k)),Fe.success("Student deleted successfully")}catch(M){console.error("Failed to delete student:",M.message),Fe.error("Failed to delete student")}},b=k=>{y(`/students/${k}`)},C=r.filter(k=>k.name.toLowerCase().includes(o.toLowerCase())||k.phone.toLowerCase().includes(o.toLowerCase())||k.registrationNumber&&k.registrationNumber.toLowerCase().includes(o.toLowerCase())||k.seatNumber&&k.seatNumber.toLowerCase().includes(o.toLowerCase())),F=e??A*f,v=e?0:F-f,S=C.slice(v,F),I=e?1:Math.ceil(C.length/f);return i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-start md:items-center justify-between space-y-2 md:space-y-0",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Students List"}),!e&&i.jsxs("div",{className:"relative w-full md:w-64",children:[i.jsx(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:o,onChange:k=>l(k.target.value)})]})]}),s?i.jsx("div",{className:"flex justify-center p-8",children:"Loading students..."}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50 text-left",children:[i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Name"}),i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Registration Number"}),i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Seat"}),i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Phone"}),i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Membership End"}),i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:S.map(k=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4",children:k.name}),i.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:k.registrationNumber||"N/A"}),i.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:k.seatNumber||"N/A"}),i.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:k.phone}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${k.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.status.charAt(0).toUpperCase()+k.status.slice(1)})}),i.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:LY(k.membershipEnd)}),i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("button",{onClick:()=>b(k.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:i.jsx(Oi,{size:16})}),i.jsx("button",{onClick:()=>g(k.id),className:"text-red-600 hover:text-red-800 p-2",children:i.jsx(Oo,{size:16})})]})]},k.id))})]})}),C.length===0&&i.jsx("div",{className:"py-8 text-center text-gray-500",children:"No students found matching your search."})]}),!e&&C.length>0&&i.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:justify-between md:space-y-0 border-t border-gray-200 px-6 py-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("select",{value:f,onChange:k=>{m(Number(k.target.value)),d(1)},className:"text-sm border rounded py-2 px-3",children:[i.jsx("option",{value:5,children:"5"}),i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:25,children:"25"}),i.jsx("option",{value:50,children:"50"})]}),i.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>d(k=>Math.max(k-1,1)),disabled:A===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:i.jsx($u,{size:16})}),i.jsxs("span",{className:"text-sm",children:["Page ",A," of ",I]}),i.jsx("button",{onClick:()=>d(k=>Math.min(k+1,I)),disabled:A===I,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:i.jsx(Tn,{size:16})})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",v+1," to ",Math.min(F,C.length)," of"," ",C.length," students"]})]}),e&&C.length>e&&i.jsx("div",{className:"flex justify-center border-t border-gray-100 p-4",children:i.jsxs("button",{onClick:()=>y("/students"),className:"text-purple-600 hover:text-purple-800 text-sm font-medium flex items-center p-2",children:["View all students ",i.jsx(Tn,{size:16,className:"ml-1"})]})})]})};function Vr(e){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(e)}function PY(e,t){if(Vr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L7(e){var t=PY(e,"string");return Vr(t)=="symbol"?t:t+""}function vm(e,t,r){return(t=L7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(r),!0).forEach(function(n){vm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OY(e){if(Array.isArray(e))return e}function RY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],A=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;A=!1}else for(;!(A=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);A=!0);}catch(f){d=!0,s=f}finally{try{if(!A&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function O5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function k7(e,t){if(e){if(typeof e=="string")return O5(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O5(e,t):void 0}}function DY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hc(e,t){return OY(e)||RY(e,t)||k7(e,t)||DY()}function _Y(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uA(e,t){if(e==null)return{};var r,n,s=_Y(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var MY=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function UY(e){var t=e.defaultInputValue,r=t===void 0?"":t,n=e.defaultMenuIsOpen,s=n===void 0?!1:n,a=e.defaultValue,o=a===void 0?null:a,l=e.inputValue,A=e.menuIsOpen,d=e.onChange,f=e.onInputChange,m=e.onMenuClose,y=e.onMenuOpen,g=e.value,b=uA(e,MY),C=N.useState(l!==void 0?l:r),F=Hc(C,2),v=F[0],S=F[1],I=N.useState(A!==void 0?A:s),k=Hc(I,2),M=k[0],V=k[1],O=N.useState(g!==void 0?g:o),R=Hc(O,2),_=R[0],J=R[1],U=N.useCallback(function(Y,K){typeof d=="function"&&d(Y,K),J(Y)},[d]),Q=N.useCallback(function(Y,K){var ae;typeof f=="function"&&(ae=f(Y,K)),S(ae!==void 0?ae:Y)},[f]),X=N.useCallback(function(){typeof y=="function"&&y(),V(!0)},[y]),Z=N.useCallback(function(){typeof m=="function"&&m(),V(!1)},[m]),$=l!==void 0?l:v,q=A!==void 0?A:M,W=g!==void 0?g:_;return Yt(Yt({},b),{},{inputValue:$,menuIsOpen:q,onChange:U,onInputChange:Q,onMenuClose:Z,onMenuOpen:X,value:W})}function tr(){return tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tr.apply(null,arguments)}function QY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L7(n.key),n)}}function HY(e,t,r){return t&&Y6(e.prototype,t),r&&Y6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R5(e,t){return R5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},R5(e,t)}function VY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R5(e,t)}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ny(e)}function P7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P7=function(){return!!e})()}function KY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GY(e,t){if(t&&(Vr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KY(e)}function WY(e){var t=P7();return function(){var r,n=Ny(e);if(t){var s=Ny(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return GY(this,r)}}function zY(e){if(Array.isArray(e))return O5(e)}function $Y(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PN(e){return zY(e)||$Y(e)||k7(e)||qY()}var XY=!1;function YY(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function JY(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ZY=function(){function e(r){var n=this;this._insertTag=function(s){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,a),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!XY:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(JY(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var a=YY(s);try{a.insertRule(n,a.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Oa="-ms-",Sy="-moz-",Jr="-webkit-",O7="comm",ON="rule",RN="decl",eJ="@import",R7="@keyframes",tJ="@layer",rJ=Math.abs,Kw=String.fromCharCode,nJ=Object.assign;function sJ(e,t){return pa(e,0)^45?(((t<<2^pa(e,0))<<2^pa(e,1))<<2^pa(e,2))<<2^pa(e,3):0}function D7(e){return e.trim()}function aJ(e,t){return(e=t.exec(e))?e[0]:e}function Zr(e,t,r){return e.replace(t,r)}function D5(e,t){return e.indexOf(t)}function pa(e,t){return e.charCodeAt(t)|0}function Lp(e,t,r){return e.slice(t,r)}function Pl(e){return e.length}function DN(e){return e.length}function m1(e,t){return t.push(e),e}function iJ(e,t){return e.map(t).join("")}var Gw=1,h0=1,_7=0,Ri=0,Us=0,j0="";function Ww(e,t,r,n,s,a,o){return{value:e,root:t,parent:r,type:n,props:s,children:a,line:Gw,column:h0,length:o,return:""}}function sm(e,t){return nJ(Ww("",null,null,"",null,null,0),e,{length:-e.length},t)}function oJ(){return Us}function lJ(){return Us=Ri>0?pa(j0,--Ri):0,h0--,Us===10&&(h0=1,Gw--),Us}function Zi(){return Us=Ri<_7?pa(j0,Ri++):0,h0++,Us===10&&(h0=1,Gw++),Us}function Vl(){return pa(j0,Ri)}function vx(){return Ri}function cg(e,t){return Lp(j0,e,t)}function kp(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M7(e){return Gw=h0=1,_7=Pl(j0=e),Ri=0,[]}function U7(e){return j0="",e}function bx(e){return D7(cg(Ri-1,_5(e===91?e+2:e===40?e+1:e)))}function cJ(e){for(;(Us=Vl())&&Us<33;)Zi();return kp(e)>2||kp(Us)>3?"":" "}function AJ(e,t){for(;--t&&Zi()&&!(Us<48||Us>102||Us>57&&Us<65||Us>70&&Us<97););return cg(e,vx()+(t<6&&Vl()==32&&Zi()==32))}function _5(e){for(;Zi();)switch(Us){case e:return Ri;case 34:case 39:e!==34&&e!==39&&_5(Us);break;case 40:e===41&&_5(e);break;case 92:Zi();break}return Ri}function uJ(e,t){for(;Zi()&&e+Us!==57;)if(e+Us===84&&Vl()===47)break;return"/*"+cg(t,Ri-1)+"*"+Kw(e===47?e:Zi())}function dJ(e){for(;!kp(Vl());)Zi();return cg(e,Ri)}function hJ(e){return U7(Cx("",null,null,null,[""],e=M7(e),0,[0],e))}function Cx(e,t,r,n,s,a,o,l,A){for(var d=0,f=0,m=o,y=0,g=0,b=0,C=1,F=1,v=1,S=0,I="",k=s,M=a,V=n,O=I;F;)switch(b=S,S=Zi()){case 40:if(b!=108&&pa(O,m-1)==58){D5(O+=Zr(bx(S),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:O+=bx(S);break;case 9:case 10:case 13:case 32:O+=cJ(b);break;case 92:O+=AJ(vx()-1,7);continue;case 47:switch(Vl()){case 42:case 47:m1(fJ(uJ(Zi(),vx()),t,r),A);break;default:O+="/"}break;case 123*C:l[d++]=Pl(O)*v;case 125*C:case 59:case 0:switch(S){case 0:case 125:F=0;case 59+f:v==-1&&(O=Zr(O,/\f/g,"")),g>0&&Pl(O)-m&&m1(g>32?Z6(O+";",n,r,m-1):Z6(Zr(O," ","")+";",n,r,m-2),A);break;case 59:O+=";";default:if(m1(V=J6(O,t,r,d,f,s,l,I,k=[],M=[],m),a),S===123)if(f===0)Cx(O,t,V,V,k,a,m,l,M);else switch(y===99&&pa(O,3)===110?100:y){case 100:case 108:case 109:case 115:Cx(e,V,V,n&&m1(J6(e,V,V,0,0,s,l,I,s,k=[],m),M),s,M,m,l,n?k:M);break;default:Cx(O,V,V,V,[""],M,0,l,M)}}d=f=g=0,C=v=1,I=O="",m=o;break;case 58:m=1+Pl(O),g=b;default:if(C<1){if(S==123)--C;else if(S==125&&C++==0&&lJ()==125)continue}switch(O+=Kw(S),S*C){case 38:v=f>0?1:(O+="\f",-1);break;case 44:l[d++]=(Pl(O)-1)*v,v=1;break;case 64:Vl()===45&&(O+=bx(Zi())),y=Vl(),f=m=Pl(I=O+=dJ(vx())),S++;break;case 45:b===45&&Pl(O)==2&&(C=0)}}return a}function J6(e,t,r,n,s,a,o,l,A,d,f){for(var m=s-1,y=s===0?a:[""],g=DN(y),b=0,C=0,F=0;b<n;++b)for(var v=0,S=Lp(e,m+1,m=rJ(C=o[b])),I=e;v<g;++v)(I=D7(C>0?y[v]+" "+S:Zr(S,/&\f/g,y[v])))&&(A[F++]=I);return Ww(e,t,r,s===0?ON:l,A,d,f)}function fJ(e,t,r){return Ww(e,t,r,O7,Kw(oJ()),Lp(e,2,-2),0)}function Z6(e,t,r,n){return Ww(e,t,r,RN,Lp(e,0,n),Lp(e,n+1,-1),n)}function Lf(e,t){for(var r="",n=DN(e),s=0;s<n;s++)r+=t(e[s],s,e,t)||"";return r}function mJ(e,t,r,n){switch(e.type){case tJ:if(e.children.length)break;case eJ:case RN:return e.return=e.return||e.value;case O7:return"";case R7:return e.return=e.value+"{"+Lf(e.children,n)+"}";case ON:e.value=e.props.join(",")}return Pl(r=Lf(e.children,n))?e.return=e.value+"{"+r+"}":""}function pJ(e){var t=DN(e);return function(r,n,s,a){for(var o="",l=0;l<t;l++)o+=e[l](r,n,s,a)||"";return o}}function gJ(e){return function(t){t.root||(t=t.return)&&e(t)}}function xJ(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var yJ=function(t,r,n){for(var s=0,a=0;s=a,a=Vl(),s===38&&a===12&&(r[n]=1),!kp(a);)Zi();return cg(t,Ri)},wJ=function(t,r){var n=-1,s=44;do switch(kp(s)){case 0:s===38&&Vl()===12&&(r[n]=1),t[n]+=yJ(Ri-1,r,n);break;case 2:t[n]+=bx(s);break;case 4:if(s===44){t[++n]=Vl()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Kw(s)}while(s=Zi());return t},vJ=function(t,r){return U7(wJ(M7(t),r))},eF=new WeakMap,bJ=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,s=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!eF.get(n))&&!s){eF.set(t,!0);for(var a=[],o=vJ(r,a),l=n.props,A=0,d=0;A<o.length;A++)for(var f=0;f<l.length;f++,d++)t.props[d]=a[A]?o[A].replace(/&\f/g,l[f]):l[f]+" "+o[A]}}},CJ=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function Q7(e,t){switch(sJ(e,t)){case 5103:return Jr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Jr+e+Sy+e+Oa+e+e;case 6828:case 4268:return Jr+e+Oa+e+e;case 6165:return Jr+e+Oa+"flex-"+e+e;case 5187:return Jr+e+Zr(e,/(\w+).+(:[^]+)/,Jr+"box-$1$2"+Oa+"flex-$1$2")+e;case 5443:return Jr+e+Oa+"flex-item-"+Zr(e,/flex-|-self/,"")+e;case 4675:return Jr+e+Oa+"flex-line-pack"+Zr(e,/align-content|flex-|-self/,"")+e;case 5548:return Jr+e+Oa+Zr(e,"shrink","negative")+e;case 5292:return Jr+e+Oa+Zr(e,"basis","preferred-size")+e;case 6060:return Jr+"box-"+Zr(e,"-grow","")+Jr+e+Oa+Zr(e,"grow","positive")+e;case 4554:return Jr+Zr(e,/([^-])(transform)/g,"$1"+Jr+"$2")+e;case 6187:return Zr(Zr(Zr(e,/(zoom-|grab)/,Jr+"$1"),/(image-set)/,Jr+"$1"),e,"")+e;case 5495:case 3959:return Zr(e,/(image-set\([^]*)/,Jr+"$1$`$1");case 4968:return Zr(Zr(e,/(.+:)(flex-)?(.*)/,Jr+"box-pack:$3"+Oa+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jr+e+e;case 4095:case 3583:case 4068:case 2532:return Zr(e,/(.+)-inline(.+)/,Jr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Pl(e)-1-t>6)switch(pa(e,t+1)){case 109:if(pa(e,t+4)!==45)break;case 102:return Zr(e,/(.+:)(.+)-([^]+)/,"$1"+Jr+"$2-$3$1"+Sy+(pa(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~D5(e,"stretch")?Q7(Zr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(pa(e,t+1)!==115)break;case 6444:switch(pa(e,Pl(e)-3-(~D5(e,"!important")&&10))){case 107:return Zr(e,":",":"+Jr)+e;case 101:return Zr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jr+(pa(e,14)===45?"inline-":"")+"box$3$1"+Jr+"$2$3$1"+Oa+"$2box$3")+e}break;case 5936:switch(pa(e,t+11)){case 114:return Jr+e+Oa+Zr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Jr+e+Oa+Zr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Jr+e+Oa+Zr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Jr+e+Oa+e+e}return e}var BJ=function(t,r,n,s){if(t.length>-1&&!t.return)switch(t.type){case RN:t.return=Q7(t.value,t.length);break;case R7:return Lf([sm(t,{value:Zr(t.value,"@","@"+Jr)})],s);case ON:if(t.length)return iJ(t.props,function(a){switch(aJ(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Lf([sm(t,{props:[Zr(a,/:(read-\w+)/,":"+Sy+"$1")]})],s);case"::placeholder":return Lf([sm(t,{props:[Zr(a,/:(plac\w+)/,":"+Jr+"input-$1")]}),sm(t,{props:[Zr(a,/:(plac\w+)/,":"+Sy+"$1")]}),sm(t,{props:[Zr(a,/:(plac\w+)/,Oa+"input-$1")]})],s)}return""})}},NJ=[BJ],SJ=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(C){var F=C.getAttribute("data-emotion");F.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var s=t.stylisPlugins||NJ,a={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(C){for(var F=C.getAttribute("data-emotion").split(" "),v=1;v<F.length;v++)a[F[v]]=!0;l.push(C)});var A,d=[bJ,CJ];{var f,m=[mJ,gJ(function(C){f.insert(C)})],y=pJ(d.concat(s,m)),g=function(F){return Lf(hJ(F),y)};A=function(F,v,S,I){f=S,g(F?F+"{"+v.styles+"}":v.styles),I&&(b.inserted[v.name]=!0)}}var b={key:r,sheet:new ZY({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:A};return b.sheet.hydrate(l),b},H7={exports:{}},dn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var la=typeof Symbol=="function"&&Symbol.for,_N=la?Symbol.for("react.element"):60103,MN=la?Symbol.for("react.portal"):60106,zw=la?Symbol.for("react.fragment"):60107,$w=la?Symbol.for("react.strict_mode"):60108,qw=la?Symbol.for("react.profiler"):60114,Xw=la?Symbol.for("react.provider"):60109,Yw=la?Symbol.for("react.context"):60110,UN=la?Symbol.for("react.async_mode"):60111,Jw=la?Symbol.for("react.concurrent_mode"):60111,Zw=la?Symbol.for("react.forward_ref"):60112,e2=la?Symbol.for("react.suspense"):60113,EJ=la?Symbol.for("react.suspense_list"):60120,t2=la?Symbol.for("react.memo"):60115,r2=la?Symbol.for("react.lazy"):60116,FJ=la?Symbol.for("react.block"):60121,IJ=la?Symbol.for("react.fundamental"):60117,jJ=la?Symbol.for("react.responder"):60118,TJ=la?Symbol.for("react.scope"):60119;function ao(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _N:switch(e=e.type,e){case UN:case Jw:case zw:case qw:case $w:case e2:return e;default:switch(e=e&&e.$$typeof,e){case Yw:case Zw:case r2:case t2:case Xw:return e;default:return t}}case MN:return t}}}function V7(e){return ao(e)===Jw}dn.AsyncMode=UN;dn.ConcurrentMode=Jw;dn.ContextConsumer=Yw;dn.ContextProvider=Xw;dn.Element=_N;dn.ForwardRef=Zw;dn.Fragment=zw;dn.Lazy=r2;dn.Memo=t2;dn.Portal=MN;dn.Profiler=qw;dn.StrictMode=$w;dn.Suspense=e2;dn.isAsyncMode=function(e){return V7(e)||ao(e)===UN};dn.isConcurrentMode=V7;dn.isContextConsumer=function(e){return ao(e)===Yw};dn.isContextProvider=function(e){return ao(e)===Xw};dn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_N};dn.isForwardRef=function(e){return ao(e)===Zw};dn.isFragment=function(e){return ao(e)===zw};dn.isLazy=function(e){return ao(e)===r2};dn.isMemo=function(e){return ao(e)===t2};dn.isPortal=function(e){return ao(e)===MN};dn.isProfiler=function(e){return ao(e)===qw};dn.isStrictMode=function(e){return ao(e)===$w};dn.isSuspense=function(e){return ao(e)===e2};dn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zw||e===Jw||e===qw||e===$w||e===e2||e===EJ||typeof e=="object"&&e!==null&&(e.$$typeof===r2||e.$$typeof===t2||e.$$typeof===Xw||e.$$typeof===Yw||e.$$typeof===Zw||e.$$typeof===IJ||e.$$typeof===jJ||e.$$typeof===TJ||e.$$typeof===FJ)};dn.typeOf=ao;H7.exports=dn;var LJ=H7.exports,K7=LJ,kJ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},PJ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},G7={};G7[K7.ForwardRef]=kJ;G7[K7.Memo]=PJ;var OJ=!0;function RJ(e,t,r){var n="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(n+=s+" ")}),n}var W7=function(t,r,n){var s=t.key+"-"+r.name;(n===!1||OJ===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},DJ=function(t,r,n){W7(t,r,n);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var a=r;do t.insert(r===a?"."+s:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function _J(e){for(var t=0,r,n=0,s=e.length;s>=4;++n,s-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var MJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},UJ=!1,QJ=/[A-Z]|^ms/g,HJ=/_EMO_([^_]+?)_([^]*?)_EMO_/g,z7=function(t){return t.charCodeAt(1)===45},tF=function(t){return t!=null&&typeof t!="boolean"},_v=xJ(function(e){return z7(e)?e:e.replace(QJ,"-$&").toLowerCase()}),rF=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(HJ,function(n,s,a){return Ol={name:s,styles:a,next:Ol},s})}return MJ[t]!==1&&!z7(t)&&typeof r=="number"&&r!==0?r+"px":r},VJ="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Pp(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return Ol={name:s.name,styles:s.styles,next:Ol},s.name;var a=r;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Ol={name:o.name,styles:o.styles,next:Ol},o=o.next;var l=a.styles+";";return l}return KJ(e,t,r)}case"function":{if(e!==void 0){var A=Ol,d=r(e);return Ol=A,Pp(e,t,d)}break}}var f=r;return f}function KJ(e,t,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=Pp(e,t,r[s])+";";else for(var a in r){var o=r[a];if(typeof o!="object"){var l=o;tF(l)&&(n+=_v(a)+":"+rF(a,l)+";")}else{if(a==="NO_COMPONENT_SELECTOR"&&UJ)throw new Error(VJ);if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var A=0;A<o.length;A++)tF(o[A])&&(n+=_v(a)+":"+rF(a,o[A])+";");else{var d=Pp(e,t,o);switch(a){case"animation":case"animationName":{n+=_v(a)+":"+d+";";break}default:n+=a+"{"+d+"}"}}}}return n}var nF=/label:\s*([^\s;{]+)\s*(;|$)/g,Ol;function $7(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,s="";Ol=void 0;var a=e[0];if(a==null||a.raw===void 0)n=!1,s+=Pp(r,t,a);else{var o=a;s+=o[0]}for(var l=1;l<e.length;l++)if(s+=Pp(r,t,e[l]),n){var A=a;s+=A[l]}nF.lastIndex=0;for(var d="",f;(f=nF.exec(s))!==null;)d+="-"+f[1];var m=_J(s)+d;return{name:m,styles:s,next:Ol}}var GJ=function(t){return t()},WJ=Zf.useInsertionEffect?Zf.useInsertionEffect:!1,zJ=WJ||GJ,$J=!1,q7=N.createContext(typeof HTMLElement<"u"?SJ({key:"css"}):null);q7.Provider;var qJ=function(t){return N.forwardRef(function(r,n){var s=N.useContext(q7);return t(r,s,n)})},XJ=N.createContext({}),QN={}.hasOwnProperty,M5="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",YJ=function(t,r){var n={};for(var s in r)QN.call(r,s)&&(n[s]=r[s]);return n[M5]=t,n},JJ=function(t){var r=t.cache,n=t.serialized,s=t.isStringTag;return W7(r,n,s),zJ(function(){return DJ(r,n,s)}),null},ZJ=qJ(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var s=e[M5],a=[n],o="";typeof e.className=="string"?o=RJ(t.registered,a,e.className):e.className!=null&&(o=e.className+" ");var l=$7(a,void 0,N.useContext(XJ));o+=t.key+"-"+l.name;var A={};for(var d in e)QN.call(e,d)&&d!=="css"&&d!==M5&&!$J&&(A[d]=e[d]);return A.className=o,r&&(A.ref=r),N.createElement(N.Fragment,null,N.createElement(JJ,{cache:t,serialized:l,isStringTag:typeof s=="string"}),N.createElement(s,A))}),eZ=ZJ,zt=function(t,r){var n=arguments;if(r==null||!QN.call(r,"css"))return N.createElement.apply(void 0,n);var s=n.length,a=new Array(s);a[0]=eZ,a[1]=YJ(t,r);for(var o=2;o<s;o++)a[o]=n[o];return N.createElement.apply(null,a)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(zt||(zt={}));function HN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return $7(t)}function tZ(){var e=HN.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function rZ(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var U5=N.useLayoutEffect,nZ=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ey=function(){};function sZ(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function aZ(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var a=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(sZ(e,o)));return a.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var sF=function(t){return fZ(t)?t.filter(Boolean):Vr(t)==="object"&&t!==null?[t]:[]},X7=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=uA(t,nZ);return Yt({},r)},ws=function(t,r,n){var s=t.cx,a=t.getStyles,o=t.getClassNames,l=t.className;return{css:a(r,t),className:s(n??{},o(r,t),l)}};function n2(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function iZ(e){return n2(e)?window.innerHeight:e.clientHeight}function Y7(e){return n2(e)?window.pageYOffset:e.scrollTop}function Fy(e,t){if(n2(e)){window.scrollTo(0,t);return}e.scrollTop=t}function oZ(e){var t=getComputedStyle(e),r=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),!(r&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function lZ(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function p1(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ey,s=Y7(e),a=t-s,o=10,l=0;function A(){l+=o;var d=lZ(l,s,a,r);Fy(e,d),l<r?window.requestAnimationFrame(A):n(e)}A()}function aF(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=t.offsetHeight/3;n.bottom+s>r.bottom?Fy(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):n.top-s<r.top&&Fy(e,Math.max(t.offsetTop-s,0))}function cZ(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function iF(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function AZ(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var J7=!1,uZ={get passive(){return J7=!0}},g1=typeof window<"u"?window:{};g1.addEventListener&&g1.removeEventListener&&(g1.addEventListener("p",Ey,uZ),g1.removeEventListener("p",Ey,!1));var dZ=J7;function hZ(e){return e!=null}function fZ(e){return Array.isArray(e)}function x1(e,t,r){return e?t:r}var mZ=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var a=Object.entries(t).filter(function(o){var l=Hc(o,1),A=l[0];return!n.includes(A)});return a.reduce(function(o,l){var A=Hc(l,2),d=A[0],f=A[1];return o[d]=f,o},{})},pZ=["children","innerProps"],gZ=["children","innerProps"];function xZ(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,s=e.placement,a=e.shouldScroll,o=e.isFixedPosition,l=e.controlHeight,A=oZ(r),d={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return d;var f=A.getBoundingClientRect(),m=f.height,y=r.getBoundingClientRect(),g=y.bottom,b=y.height,C=y.top,F=r.offsetParent.getBoundingClientRect(),v=F.top,S=o?window.innerHeight:iZ(A),I=Y7(A),k=parseInt(getComputedStyle(r).marginBottom,10),M=parseInt(getComputedStyle(r).marginTop,10),V=v-M,O=S-C,R=V+I,_=m-I-C,J=g-S+I+k,U=I+C-M,Q=160;switch(s){case"auto":case"bottom":if(O>=b)return{placement:"bottom",maxHeight:t};if(_>=b&&!o)return a&&p1(A,J,Q),{placement:"bottom",maxHeight:t};if(!o&&_>=n||o&&O>=n){a&&p1(A,J,Q);var X=o?O-k:_-k;return{placement:"bottom",maxHeight:X}}if(s==="auto"||o){var Z=t,$=o?V:R;return $>=n&&(Z=Math.min($-k-l,t)),{placement:"top",maxHeight:Z}}if(s==="bottom")return a&&Fy(A,J),{placement:"bottom",maxHeight:t};break;case"top":if(V>=b)return{placement:"top",maxHeight:t};if(R>=b&&!o)return a&&p1(A,U,Q),{placement:"top",maxHeight:t};if(!o&&R>=n||o&&V>=n){var q=t;return(!o&&R>=n||o&&V>=n)&&(q=o?V-M:R-M),a&&p1(A,U,Q),{placement:"top",maxHeight:q}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return d}function yZ(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var Z7=function(t){return t==="auto"?"bottom":t},wZ=function(t,r){var n,s=t.placement,a=t.theme,o=a.borderRadius,l=a.spacing,A=a.colors;return Yt((n={label:"menu"},vm(n,yZ(s),"100%"),vm(n,"position","absolute"),vm(n,"width","100%"),vm(n,"zIndex",1),n),r?{}:{backgroundColor:A.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},eO=N.createContext(null),vZ=function(t){var r=t.children,n=t.minMenuHeight,s=t.maxMenuHeight,a=t.menuPlacement,o=t.menuPosition,l=t.menuShouldScrollIntoView,A=t.theme,d=N.useContext(eO)||{},f=d.setPortalPlacement,m=N.useRef(null),y=N.useState(s),g=Hc(y,2),b=g[0],C=g[1],F=N.useState(null),v=Hc(F,2),S=v[0],I=v[1],k=A.spacing.controlHeight;return U5(function(){var M=m.current;if(M){var V=o==="fixed",O=l&&!V,R=xZ({maxHeight:s,menuEl:M,minHeight:n,placement:a,shouldScroll:O,isFixedPosition:V,controlHeight:k});C(R.maxHeight),I(R.placement),f==null||f(R.placement)}},[s,a,o,l,n,f,k]),r({ref:m,placerProps:Yt(Yt({},t),{},{placement:S||Z7(a),maxHeight:b})})},bZ=function(t){var r=t.children,n=t.innerRef,s=t.innerProps;return zt("div",tr({},ws(t,"menu",{menu:!0}),{ref:n},s),r)},CZ=bZ,BZ=function(t,r){var n=t.maxHeight,s=t.theme.spacing.baseUnit;return Yt({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},NZ=function(t){var r=t.children,n=t.innerProps,s=t.innerRef,a=t.isMulti;return zt("div",tr({},ws(t,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:s},n),r)},tO=function(t,r){var n=t.theme,s=n.spacing.baseUnit,a=n.colors;return Yt({textAlign:"center"},r?{}:{color:a.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},SZ=tO,EZ=tO,FZ=function(t){var r=t.children,n=r===void 0?"No options":r,s=t.innerProps,a=uA(t,pZ);return zt("div",tr({},ws(Yt(Yt({},a),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},IZ=function(t){var r=t.children,n=r===void 0?"Loading...":r,s=t.innerProps,a=uA(t,gZ);return zt("div",tr({},ws(Yt(Yt({},a),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},jZ=function(t){var r=t.rect,n=t.offset,s=t.position;return{left:r.left,position:s,top:n,width:r.width,zIndex:1}},TZ=function(t){var r=t.appendTo,n=t.children,s=t.controlElement,a=t.innerProps,o=t.menuPlacement,l=t.menuPosition,A=N.useRef(null),d=N.useRef(null),f=N.useState(Z7(o)),m=Hc(f,2),y=m[0],g=m[1],b=N.useMemo(function(){return{setPortalPlacement:g}},[]),C=N.useState(null),F=Hc(C,2),v=F[0],S=F[1],I=N.useCallback(function(){if(s){var O=cZ(s),R=l==="fixed"?0:window.pageYOffset,_=O[y]+R;(_!==(v==null?void 0:v.offset)||O.left!==(v==null?void 0:v.rect.left)||O.width!==(v==null?void 0:v.rect.width))&&S({offset:_,rect:O})}},[s,l,y,v==null?void 0:v.offset,v==null?void 0:v.rect.left,v==null?void 0:v.rect.width]);U5(function(){I()},[I]);var k=N.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),s&&A.current&&(d.current=cP(s,A.current,I,{elementResize:"ResizeObserver"in window}))},[s,I]);U5(function(){k()},[k]);var M=N.useCallback(function(O){A.current=O,k()},[k]);if(!r&&l!=="fixed"||!v)return null;var V=zt("div",tr({ref:M},ws(Yt(Yt({},t),{},{offset:v.offset,position:l,rect:v.rect}),"menuPortal",{"menu-portal":!0}),a),n);return zt(eO.Provider,{value:b},r?Wu.createPortal(V,r):V)},LZ=function(t){var r=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},kZ=function(t){var r=t.children,n=t.innerProps,s=t.isDisabled,a=t.isRtl;return zt("div",tr({},ws(t,"container",{"--is-disabled":s,"--is-rtl":a}),n),r)},PZ=function(t,r){var n=t.theme.spacing,s=t.isMulti,a=t.hasValue,o=t.selectProps.controlShouldRenderValue;return Yt({alignItems:"center",display:s&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},OZ=function(t){var r=t.children,n=t.innerProps,s=t.isMulti,a=t.hasValue;return zt("div",tr({},ws(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":a}),n),r)},RZ=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},DZ=function(t){var r=t.children,n=t.innerProps;return zt("div",tr({},ws(t,"indicatorsContainer",{indicators:!0}),n),r)},oF,_Z=["size"],MZ=["innerProps","isRtl","size"],UZ={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},rO=function(t){var r=t.size,n=uA(t,_Z);return zt("svg",tr({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:UZ},n))},VN=function(t){return zt(rO,tr({size:20},t),zt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},nO=function(t){return zt(rO,tr({size:20},t),zt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},sO=function(t,r){var n=t.isFocused,s=t.theme,a=s.spacing.baseUnit,o=s.colors;return Yt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:a*2,":hover":{color:n?o.neutral80:o.neutral40}})},QZ=sO,HZ=function(t){var r=t.children,n=t.innerProps;return zt("div",tr({},ws(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||zt(nO,null))},VZ=sO,KZ=function(t){var r=t.children,n=t.innerProps;return zt("div",tr({},ws(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||zt(VN,null))},GZ=function(t,r){var n=t.isDisabled,s=t.theme,a=s.spacing.baseUnit,o=s.colors;return Yt({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:a*2,marginTop:a*2})},WZ=function(t){var r=t.innerProps;return zt("span",tr({},r,ws(t,"indicatorSeparator",{"indicator-separator":!0})))},zZ=tZ(oF||(oF=rZ([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),$Z=function(t,r){var n=t.isFocused,s=t.size,a=t.theme,o=a.colors,l=a.spacing.baseUnit;return Yt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},Mv=function(t){var r=t.delay,n=t.offset;return zt("span",{css:HN({animation:"".concat(zZ," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},qZ=function(t){var r=t.innerProps,n=t.isRtl,s=t.size,a=s===void 0?4:s,o=uA(t,MZ);return zt("div",tr({},ws(Yt(Yt({},o),{},{innerProps:r,isRtl:n,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),zt(Mv,{delay:0,offset:n}),zt(Mv,{delay:160,offset:!0}),zt(Mv,{delay:320,offset:!n}))},XZ=function(t,r){var n=t.isDisabled,s=t.isFocused,a=t.theme,o=a.colors,l=a.borderRadius,A=a.spacing;return Yt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:A.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},YZ=function(t){var r=t.children,n=t.isDisabled,s=t.isFocused,a=t.innerRef,o=t.innerProps,l=t.menuIsOpen;return zt("div",tr({ref:a},ws(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},JZ=YZ,ZZ=["data"],eee=function(t,r){var n=t.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},tee=function(t){var r=t.children,n=t.cx,s=t.getStyles,a=t.getClassNames,o=t.Heading,l=t.headingProps,A=t.innerProps,d=t.label,f=t.theme,m=t.selectProps;return zt("div",tr({},ws(t,"group",{group:!0}),A),zt(o,tr({},l,{selectProps:m,theme:f,getStyles:s,getClassNames:a,cx:n}),d),zt("div",null,r))},ree=function(t,r){var n=t.theme,s=n.colors,a=n.spacing;return Yt({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},nee=function(t){var r=X7(t);r.data;var n=uA(r,ZZ);return zt("div",tr({},ws(t,"groupHeading",{"group-heading":!0}),n))},see=tee,aee=["innerRef","isDisabled","isHidden","inputClassName"],iee=function(t,r){var n=t.isDisabled,s=t.value,a=t.theme,o=a.spacing,l=a.colors;return Yt(Yt({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},oee),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},aO={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},oee={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Yt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},aO)},lee=function(t){return Yt({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},aO)},cee=function(t){var r=t.cx,n=t.value,s=X7(t),a=s.innerRef,o=s.isDisabled,l=s.isHidden,A=s.inputClassName,d=uA(s,aee);return zt("div",tr({},ws(t,"input",{"input-container":!0}),{"data-value":n||""}),zt("input",tr({className:r({input:!0},A),ref:a,style:lee(l),disabled:o},d)))},Aee=cee,uee=function(t,r){var n=t.theme,s=n.spacing,a=n.borderRadius,o=n.colors;return Yt({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:s.baseUnit/2})},dee=function(t,r){var n=t.theme,s=n.borderRadius,a=n.colors,o=t.cropWithEllipsis;return Yt({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},hee=function(t,r){var n=t.theme,s=n.spacing,a=n.borderRadius,o=n.colors,l=t.isFocused;return Yt({alignItems:"center",display:"flex"},r?{}:{borderRadius:a/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},iO=function(t){var r=t.children,n=t.innerProps;return zt("div",n,r)},fee=iO,mee=iO;function pee(e){var t=e.children,r=e.innerProps;return zt("div",tr({role:"button"},r),t||zt(VN,{size:14}))}var gee=function(t){var r=t.children,n=t.components,s=t.data,a=t.innerProps,o=t.isDisabled,l=t.removeProps,A=t.selectProps,d=n.Container,f=n.Label,m=n.Remove;return zt(d,{data:s,innerProps:Yt(Yt({},ws(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:A},zt(f,{data:s,innerProps:Yt({},ws(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:A},r),zt(m,{data:s,innerProps:Yt(Yt({},ws(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:A}))},xee=gee,yee=function(t,r){var n=t.isDisabled,s=t.isFocused,a=t.isSelected,o=t.theme,l=o.spacing,A=o.colors;return Yt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:a?A.primary:s?A.primary25:"transparent",color:n?A.neutral20:a?A.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:a?A.primary:A.primary50}})},wee=function(t){var r=t.children,n=t.isDisabled,s=t.isFocused,a=t.isSelected,o=t.innerRef,l=t.innerProps;return zt("div",tr({},ws(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":a}),{ref:o,"aria-disabled":n},l),r)},vee=wee,bee=function(t,r){var n=t.theme,s=n.spacing,a=n.colors;return Yt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:a.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Cee=function(t){var r=t.children,n=t.innerProps;return zt("div",tr({},ws(t,"placeholder",{placeholder:!0}),n),r)},Bee=Cee,Nee=function(t,r){var n=t.isDisabled,s=t.theme,a=s.spacing,o=s.colors;return Yt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},See=function(t){var r=t.children,n=t.isDisabled,s=t.innerProps;return zt("div",tr({},ws(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),r)},Eee=See,Fee={ClearIndicator:KZ,Control:JZ,DropdownIndicator:HZ,DownChevron:nO,CrossIcon:VN,Group:see,GroupHeading:nee,IndicatorsContainer:DZ,IndicatorSeparator:WZ,Input:Aee,LoadingIndicator:qZ,Menu:CZ,MenuList:NZ,MenuPortal:TZ,LoadingMessage:IZ,NoOptionsMessage:FZ,MultiValue:xee,MultiValueContainer:fee,MultiValueLabel:mee,MultiValueRemove:pee,Option:vee,Placeholder:Bee,SelectContainer:kZ,SingleValue:Eee,ValueContainer:OZ},Iee=function(t){return Yt(Yt({},Fee),t.components)},lF=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function jee(e,t){return!!(e===t||lF(e)&&lF(t))}function Tee(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!jee(e[r],t[r]))return!1;return!0}function Lee(e,t){t===void 0&&(t=Tee);var r=null;function n(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var kee={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Pee=function(t){return zt("span",tr({css:kee},t))},cF=Pee,Oee={guidance:function(t){var r=t.isSearchable,n=t.isMulti,s=t.tabSelectsValue,a=t.context,o=t.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,n=t.label,s=n===void 0?"":n,a=t.labels,o=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var r=t.context,n=t.focused,s=t.options,a=t.label,o=a===void 0?"":a,l=t.selectValue,A=t.isDisabled,d=t.isSelected,f=t.isAppleDevice,m=function(C,F){return C&&C.length?"".concat(C.indexOf(F)+1," of ").concat(C.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(m(l,n),".");if(r==="menu"&&f){var y=A?" disabled":"",g="".concat(d?" selected":"").concat(y);return"".concat(o).concat(g,", ").concat(m(s,n),".")}return""},onFilter:function(t){var r=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Ree=function(t){var r=t.ariaSelection,n=t.focusedOption,s=t.focusedValue,a=t.focusableOptions,o=t.isFocused,l=t.selectValue,A=t.selectProps,d=t.id,f=t.isAppleDevice,m=A.ariaLiveMessages,y=A.getOptionLabel,g=A.inputValue,b=A.isMulti,C=A.isOptionDisabled,F=A.isSearchable,v=A.menuIsOpen,S=A.options,I=A.screenReaderStatus,k=A.tabSelectsValue,M=A.isLoading,V=A["aria-label"],O=A["aria-live"],R=N.useMemo(function(){return Yt(Yt({},Oee),m||{})},[m]),_=N.useMemo(function(){var $="";if(r&&R.onChange){var q=r.option,W=r.options,Y=r.removedValue,K=r.removedValues,ae=r.value,be=function(we){return Array.isArray(we)?null:we},H=Y||q||be(ae),ee=H?y(H):"",ie=W||K||void 0,le=ie?ie.map(y):[],ce=Yt({isDisabled:H&&C(H,l),label:ee,labels:le},r);$=R.onChange(ce)}return $},[r,R,C,l,y]),J=N.useMemo(function(){var $="",q=n||s,W=!!(n&&l&&l.includes(n));if(q&&R.onFocus){var Y={focused:q,label:y(q),isDisabled:C(q,l),isSelected:W,options:a,context:q===n?"menu":"value",selectValue:l,isAppleDevice:f};$=R.onFocus(Y)}return $},[n,s,y,C,R,a,l,f]),U=N.useMemo(function(){var $="";if(v&&S.length&&!M&&R.onFilter){var q=I({count:a.length});$=R.onFilter({inputValue:g,resultsMessage:q})}return $},[a,g,v,R,S,I,M]),Q=(r==null?void 0:r.action)==="initial-input-focus",X=N.useMemo(function(){var $="";if(R.guidance){var q=s?"value":v?"menu":"input";$=R.guidance({"aria-label":V,context:q,isDisabled:n&&C(n,l),isMulti:b,isSearchable:F,tabSelectsValue:k,isInitialFocus:Q})}return $},[V,n,s,b,C,F,v,R,l,k,Q]),Z=zt(N.Fragment,null,zt("span",{id:"aria-selection"},_),zt("span",{id:"aria-focused"},J),zt("span",{id:"aria-results"},U),zt("span",{id:"aria-guidance"},X));return zt(N.Fragment,null,zt(cF,{id:d},Q&&Z),zt(cF,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!Q&&Z))},Dee=Ree,Q5=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],_ee=new RegExp("["+Q5.map(function(e){return e.letters}).join("")+"]","g"),oO={};for(var Uv=0;Uv<Q5.length;Uv++)for(var Qv=Q5[Uv],Hv=0;Hv<Qv.letters.length;Hv++)oO[Qv.letters[Hv]]=Qv.base;var lO=function(t){return t.replace(_ee,function(r){return oO[r]})},Mee=Lee(lO),AF=function(t){return t.replace(/^\s+|\s+$/g,"")},Uee=function(t){return"".concat(t.label," ").concat(t.value)},Qee=function(t){return function(r,n){if(r.data.__isNew__)return!0;var s=Yt({ignoreCase:!0,ignoreAccents:!0,stringify:Uee,trim:!0,matchFrom:"any"},t),a=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,A=s.trim,d=s.matchFrom,f=A?AF(n):n,m=A?AF(l(r)):l(r);return a&&(f=f.toLowerCase(),m=m.toLowerCase()),o&&(f=Mee(f),m=lO(m)),d==="start"?m.substr(0,f.length)===f:m.indexOf(f)>-1}},Hee=["innerRef"];function Vee(e){var t=e.innerRef,r=uA(e,Hee),n=mZ(r,"onExited","in","enter","exit","appear");return zt("input",tr({ref:t},n,{css:HN({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Kee=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function Gee(e){var t=e.isEnabled,r=e.onBottomArrive,n=e.onBottomLeave,s=e.onTopArrive,a=e.onTopLeave,o=N.useRef(!1),l=N.useRef(!1),A=N.useRef(0),d=N.useRef(null),f=N.useCallback(function(F,v){if(d.current!==null){var S=d.current,I=S.scrollTop,k=S.scrollHeight,M=S.clientHeight,V=d.current,O=v>0,R=k-M-I,_=!1;R>v&&o.current&&(n&&n(F),o.current=!1),O&&l.current&&(a&&a(F),l.current=!1),O&&v>R?(r&&!o.current&&r(F),V.scrollTop=k,_=!0,o.current=!0):!O&&-v>I&&(s&&!l.current&&s(F),V.scrollTop=0,_=!0,l.current=!0),_&&Kee(F)}},[r,n,s,a]),m=N.useCallback(function(F){f(F,F.deltaY)},[f]),y=N.useCallback(function(F){A.current=F.changedTouches[0].clientY},[]),g=N.useCallback(function(F){var v=A.current-F.changedTouches[0].clientY;f(F,v)},[f]),b=N.useCallback(function(F){if(F){var v=dZ?{passive:!1}:!1;F.addEventListener("wheel",m,v),F.addEventListener("touchstart",y,v),F.addEventListener("touchmove",g,v)}},[g,y,m]),C=N.useCallback(function(F){F&&(F.removeEventListener("wheel",m,!1),F.removeEventListener("touchstart",y,!1),F.removeEventListener("touchmove",g,!1))},[g,y,m]);return N.useEffect(function(){if(t){var F=d.current;return b(F),function(){C(F)}}},[t,b,C]),function(F){d.current=F}}var uF=["boxSizing","height","overflow","paddingRight","position"],dF={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function hF(e){e.cancelable&&e.preventDefault()}function fF(e){e.stopPropagation()}function mF(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function pF(){return"ontouchstart"in window||navigator.maxTouchPoints}var gF=!!(typeof window<"u"&&window.document&&window.document.createElement),am=0,_h={capture:!1,passive:!1};function Wee(e){var t=e.isEnabled,r=e.accountForScrollbars,n=r===void 0?!0:r,s=N.useRef({}),a=N.useRef(null),o=N.useCallback(function(A){if(gF){var d=document.body,f=d&&d.style;if(n&&uF.forEach(function(b){var C=f&&f[b];s.current[b]=C}),n&&am<1){var m=parseInt(s.current.paddingRight,10)||0,y=document.body?document.body.clientWidth:0,g=window.innerWidth-y+m||0;Object.keys(dF).forEach(function(b){var C=dF[b];f&&(f[b]=C)}),f&&(f.paddingRight="".concat(g,"px"))}d&&pF()&&(d.addEventListener("touchmove",hF,_h),A&&(A.addEventListener("touchstart",mF,_h),A.addEventListener("touchmove",fF,_h))),am+=1}},[n]),l=N.useCallback(function(A){if(gF){var d=document.body,f=d&&d.style;am=Math.max(am-1,0),n&&am<1&&uF.forEach(function(m){var y=s.current[m];f&&(f[m]=y)}),d&&pF()&&(d.removeEventListener("touchmove",hF,_h),A&&(A.removeEventListener("touchstart",mF,_h),A.removeEventListener("touchmove",fF,_h)))}},[n]);return N.useEffect(function(){if(t){var A=a.current;return o(A),function(){l(A)}}},[t,o,l]),function(A){a.current=A}}var zee=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},$ee={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function qee(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,s=n===void 0?!0:n,a=e.onBottomArrive,o=e.onBottomLeave,l=e.onTopArrive,A=e.onTopLeave,d=Gee({isEnabled:s,onBottomArrive:a,onBottomLeave:o,onTopArrive:l,onTopLeave:A}),f=Wee({isEnabled:r}),m=function(g){d(g),f(g)};return zt(N.Fragment,null,r&&zt("div",{onClick:zee,css:$ee}),t(m))}var Xee={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Yee=function(t){var r=t.name,n=t.onFocus;return zt("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Xee,value:"",onChange:function(){}})},Jee=Yee;function KN(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Zee(){return KN(/^iPhone/i)}function cO(){return KN(/^Mac/i)}function ete(){return KN(/^iPad/i)||cO()&&navigator.maxTouchPoints>1}function tte(){return Zee()||ete()}function rte(){return cO()||tte()}var nte=function(t){return t.label},ste=function(t){return t.label},ate=function(t){return t.value},ite=function(t){return!!t.isDisabled},ote={clearIndicator:VZ,container:LZ,control:XZ,dropdownIndicator:QZ,group:eee,groupHeading:ree,indicatorsContainer:RZ,indicatorSeparator:GZ,input:iee,loadingIndicator:$Z,loadingMessage:EZ,menu:wZ,menuList:BZ,menuPortal:jZ,multiValue:uee,multiValueLabel:dee,multiValueRemove:hee,noOptionsMessage:SZ,option:yee,placeholder:bee,singleValue:Nee,valueContainer:PZ},lte={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},cte=4,AO=4,Ate=38,ute=AO*2,dte={baseUnit:AO,controlHeight:Ate,menuGutter:ute},Vv={borderRadius:cte,colors:lte,spacing:dte},hte={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:iF(),captureMenuScroll:!iF(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Qee(),formatGroupLabel:nte,getOptionLabel:ste,getOptionValue:ate,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:ite,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!AZ(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function xF(e,t,r,n){var s=hO(e,t,r),a=fO(e,t,r),o=dO(e,t),l=Iy(e,t);return{type:"option",data:t,isDisabled:s,isSelected:a,label:o,value:l,index:n}}function Bx(e,t){return e.options.map(function(r,n){if("options"in r){var s=r.options.map(function(o,l){return xF(e,o,t,l)}).filter(function(o){return wF(e,o)});return s.length>0?{type:"group",data:r,options:s,index:n}:void 0}var a=xF(e,r,t,n);return wF(e,a)?a:void 0}).filter(hZ)}function uO(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,PN(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function yF(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,PN(n.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(n.index,"-").concat(s.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function fte(e,t){return uO(Bx(e,t))}function wF(e,t){var r=e.inputValue,n=r===void 0?"":r,s=t.data,a=t.isSelected,o=t.label,l=t.value;return(!pO(e)||!a)&&mO(e,{label:o,value:l,data:s},n)}function mte(e,t){var r=e.focusedValue,n=e.selectValue,s=n.indexOf(r);if(s>-1){var a=t.indexOf(r);if(a>-1)return r;if(s<t.length)return t[s]}return null}function pte(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var Kv=function(t,r){var n,s=(n=t.find(function(a){return a.data===r}))===null||n===void 0?void 0:n.id;return s||null},dO=function(t,r){return t.getOptionLabel(r)},Iy=function(t,r){return t.getOptionValue(r)};function hO(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function fO(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=Iy(e,t);return r.some(function(s){return Iy(e,s)===n})}function mO(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var pO=function(t){var r=t.hideSelectedOptions,n=t.isMulti;return r===void 0?n:r},gte=1,gO=function(e){VY(r,e);var t=WY(r);function r(n){var s;if(QY(this,r),s=t.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=rte(),s.controlRef=null,s.getControlRef=function(A){s.controlRef=A},s.focusedOptionRef=null,s.getFocusedOptionRef=function(A){s.focusedOptionRef=A},s.menuListRef=null,s.getMenuListRef=function(A){s.menuListRef=A},s.inputRef=null,s.getInputRef=function(A){s.inputRef=A},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(A,d){var f=s.props,m=f.onChange,y=f.name;d.name=y,s.ariaOnChange(A,d),m(A,d)},s.setValue=function(A,d,f){var m=s.props,y=m.closeMenuOnSelect,g=m.isMulti,b=m.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:b}),y&&(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(A,{action:d,option:f})},s.selectOption=function(A){var d=s.props,f=d.blurInputOnSelect,m=d.isMulti,y=d.name,g=s.state.selectValue,b=m&&s.isOptionSelected(A,g),C=s.isOptionDisabled(A,g);if(b){var F=s.getOptionValue(A);s.setValue(g.filter(function(v){return s.getOptionValue(v)!==F}),"deselect-option",A)}else if(!C)m?s.setValue([].concat(PN(g),[A]),"select-option",A):s.setValue(A,"select-option");else{s.ariaOnChange(A,{action:"select-option",option:A,name:y});return}f&&s.blurInput()},s.removeValue=function(A){var d=s.props.isMulti,f=s.state.selectValue,m=s.getOptionValue(A),y=f.filter(function(b){return s.getOptionValue(b)!==m}),g=x1(d,y,y[0]||null);s.onChange(g,{action:"remove-value",removedValue:A}),s.focusInput()},s.clearValue=function(){var A=s.state.selectValue;s.onChange(x1(s.props.isMulti,[],null),{action:"clear",removedValues:A})},s.popValue=function(){var A=s.props.isMulti,d=s.state.selectValue,f=d[d.length-1],m=d.slice(0,d.length-1),y=x1(A,m,m[0]||null);f&&s.onChange(y,{action:"pop-value",removedValue:f})},s.getFocusedOptionId=function(A){return Kv(s.state.focusableOptionsWithIds,A)},s.getFocusableOptionsWithIds=function(){return yF(Bx(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var A=arguments.length,d=new Array(A),f=0;f<A;f++)d[f]=arguments[f];return aZ.apply(void 0,[s.props.classNamePrefix].concat(d))},s.getOptionLabel=function(A){return dO(s.props,A)},s.getOptionValue=function(A){return Iy(s.props,A)},s.getStyles=function(A,d){var f=s.props.unstyled,m=ote[A](d,f);m.boxSizing="border-box";var y=s.props.styles[A];return y?y(m,d):m},s.getClassNames=function(A,d){var f,m;return(f=(m=s.props.classNames)[A])===null||f===void 0?void 0:f.call(m,d)},s.getElementId=function(A){return"".concat(s.state.instancePrefix,"-").concat(A)},s.getComponents=function(){return Iee(s.props)},s.buildCategorizedOptions=function(){return Bx(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return uO(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(A,d){s.setState({ariaSelection:Yt({value:A},d)})},s.onMenuMouseDown=function(A){A.button===0&&(A.stopPropagation(),A.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(A){s.blockOptionHover=!1},s.onControlMouseDown=function(A){if(!A.defaultPrevented){var d=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?A.target.tagName!=="INPUT"&&A.target.tagName!=="TEXTAREA"&&s.onMenuClose():d&&s.openMenu("first"):(d&&(s.openAfterFocus=!0),s.focusInput()),A.target.tagName!=="INPUT"&&A.target.tagName!=="TEXTAREA"&&A.preventDefault()}},s.onDropdownIndicatorMouseDown=function(A){if(!(A&&A.type==="mousedown"&&A.button!==0)&&!s.props.isDisabled){var d=s.props,f=d.isMulti,m=d.menuIsOpen;s.focusInput(),m?(s.setState({inputIsHiddenAfterUpdate:!f}),s.onMenuClose()):s.openMenu("first"),A.preventDefault()}},s.onClearIndicatorMouseDown=function(A){A&&A.type==="mousedown"&&A.button!==0||(s.clearValue(),A.preventDefault(),s.openAfterFocus=!1,A.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(A){typeof s.props.closeMenuOnScroll=="boolean"?A.target instanceof HTMLElement&&n2(A.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(A)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(A){var d=A.touches,f=d&&d.item(0);f&&(s.initialTouchX=f.clientX,s.initialTouchY=f.clientY,s.userIsDragging=!1)},s.onTouchMove=function(A){var d=A.touches,f=d&&d.item(0);if(f){var m=Math.abs(f.clientX-s.initialTouchX),y=Math.abs(f.clientY-s.initialTouchY),g=5;s.userIsDragging=m>g||y>g}},s.onTouchEnd=function(A){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(A.target)&&s.menuListRef&&!s.menuListRef.contains(A.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(A){s.userIsDragging||s.onControlMouseDown(A)},s.onClearIndicatorTouchEnd=function(A){s.userIsDragging||s.onClearIndicatorMouseDown(A)},s.onDropdownIndicatorTouchEnd=function(A){s.userIsDragging||s.onDropdownIndicatorMouseDown(A)},s.handleInputChange=function(A){var d=s.props.inputValue,f=A.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(f,{action:"input-change",prevInputValue:d}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(A){s.props.onFocus&&s.props.onFocus(A),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(A){var d=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(A),s.onInputChange("",{action:"input-blur",prevInputValue:d}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(A){if(!(s.blockOptionHover||s.state.focusedOption===A)){var d=s.getFocusableOptions(),f=d.indexOf(A);s.setState({focusedOption:A,focusedOptionId:f>-1?s.getFocusedOptionId(A):null})}},s.shouldHideSelectedOptions=function(){return pO(s.props)},s.onValueInputFocus=function(A){A.preventDefault(),A.stopPropagation(),s.focus()},s.onKeyDown=function(A){var d=s.props,f=d.isMulti,m=d.backspaceRemovesValue,y=d.escapeClearsValue,g=d.inputValue,b=d.isClearable,C=d.isDisabled,F=d.menuIsOpen,v=d.onKeyDown,S=d.tabSelectsValue,I=d.openMenuOnFocus,k=s.state,M=k.focusedOption,V=k.focusedValue,O=k.selectValue;if(!C&&!(typeof v=="function"&&(v(A),A.defaultPrevented))){switch(s.blockOptionHover=!0,A.key){case"ArrowLeft":if(!f||g)return;s.focusValue("previous");break;case"ArrowRight":if(!f||g)return;s.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(V)s.removeValue(V);else{if(!m)return;f?s.popValue():b&&s.clearValue()}break;case"Tab":if(s.isComposing||A.shiftKey||!F||!S||!M||I&&s.isOptionSelected(M,O))return;s.selectOption(M);break;case"Enter":if(A.keyCode===229)break;if(F){if(!M||s.isComposing)return;s.selectOption(M);break}return;case"Escape":F?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:g}),s.onMenuClose()):b&&y&&s.clearValue();break;case" ":if(g)return;if(!F){s.openMenu("first");break}if(!M)return;s.selectOption(M);break;case"ArrowUp":F?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":F?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!F)return;s.focusOption("pageup");break;case"PageDown":if(!F)return;s.focusOption("pagedown");break;case"Home":if(!F)return;s.focusOption("first");break;case"End":if(!F)return;s.focusOption("last");break;default:return}A.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++gte),s.state.selectValue=sF(n.value),n.menuIsOpen&&s.state.selectValue.length){var a=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=a,s.state.focusedOption=o[l],s.state.focusedOptionId=Kv(a,o[l])}return s}return HY(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&aF(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isDisabled,l=a.menuIsOpen,A=this.state.isFocused;(A&&!o&&s.isDisabled||A&&l&&!s.menuIsOpen)&&this.focusInput(),A&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!A&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(aF(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,a){this.props.onInputChange(s,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var a=this,o=this.state,l=o.selectValue,A=o.isFocused,d=this.buildFocusableOptions(),f=s==="first"?0:d.length-1;if(!this.props.isMulti){var m=d.indexOf(l[0]);m>-1&&(f=m)}this.scrollToFocusedOptionOnUpdate=!(A&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[f],focusedOptionId:this.getFocusedOptionId(d[f])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(s){var a=this.state,o=a.selectValue,l=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var A=o.indexOf(l);l||(A=-1);var d=o.length-1,f=-1;if(o.length){switch(s){case"previous":A===0?f=0:A===-1?f=d:f=A-1;break;case"next":A>-1&&A<d&&(f=A+1);break}this.setState({inputIsHidden:f!==-1,focusedValue:o[f]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var A=0,d=l.indexOf(o);o||(d=-1),s==="up"?A=d>0?d-1:l.length-1:s==="down"?A=(d+1)%l.length:s==="pageup"?(A=d-a,A<0&&(A=0)):s==="pagedown"?(A=d+a,A>l.length-1&&(A=l.length-1)):s==="last"&&(A=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[A],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[A])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Vv):Yt(Yt({},Vv),this.props.theme):Vv}},{key:"getCommonProps",value:function(){var s=this.clearValue,a=this.cx,o=this.getStyles,l=this.getClassNames,A=this.getValue,d=this.selectOption,f=this.setValue,m=this.props,y=m.isMulti,g=m.isRtl,b=m.options,C=this.hasValue();return{clearValue:s,cx:a,getStyles:o,getClassNames:l,getValue:A,hasValue:C,isMulti:y,isRtl:g,options:b,selectOption:d,selectProps:m,setValue:f,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,a=s.isClearable,o=s.isMulti;return a===void 0?o:a}},{key:"isOptionDisabled",value:function(s,a){return hO(this.props,s,a)}},{key:"isOptionSelected",value:function(s,a){return fO(this.props,s,a)}},{key:"filterOption",value:function(s,a){return mO(this.props,s,a)}},{key:"formatOptionLabel",value:function(s,a){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:a,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,a=s.isDisabled,o=s.isSearchable,l=s.inputId,A=s.inputValue,d=s.tabIndex,f=s.form,m=s.menuIsOpen,y=s.required,g=this.getComponents(),b=g.Input,C=this.state,F=C.inputIsHidden,v=C.ariaSelection,S=this.commonProps,I=l||this.getElementId("input"),k=Yt(Yt(Yt({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":y,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(v==null?void 0:v.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?N.createElement(b,tr({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:I,innerRef:this.getInputRef,isDisabled:a,isHidden:F,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:f,type:"text",value:A},k)):N.createElement(Vee,tr({id:I,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ey,onFocus:this.onInputFocus,disabled:a,tabIndex:d,inputMode:"none",form:f,value:""},k))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,a=this.getComponents(),o=a.MultiValue,l=a.MultiValueContainer,A=a.MultiValueLabel,d=a.MultiValueRemove,f=a.SingleValue,m=a.Placeholder,y=this.commonProps,g=this.props,b=g.controlShouldRenderValue,C=g.isDisabled,F=g.isMulti,v=g.inputValue,S=g.placeholder,I=this.state,k=I.selectValue,M=I.focusedValue,V=I.isFocused;if(!this.hasValue()||!b)return v?null:N.createElement(m,tr({},y,{key:"placeholder",isDisabled:C,isFocused:V,innerProps:{id:this.getElementId("placeholder")}}),S);if(F)return k.map(function(R,_){var J=R===M,U="".concat(s.getOptionLabel(R),"-").concat(s.getOptionValue(R));return N.createElement(o,tr({},y,{components:{Container:l,Label:A,Remove:d},isFocused:J,isDisabled:C,key:U,index:_,removeProps:{onClick:function(){return s.removeValue(R)},onTouchEnd:function(){return s.removeValue(R)},onMouseDown:function(X){X.preventDefault()}},data:R}),s.formatOptionLabel(R,"value"))});if(v)return null;var O=k[0];return N.createElement(f,tr({},y,{data:O,isDisabled:C}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),a=s.ClearIndicator,o=this.commonProps,l=this.props,A=l.isDisabled,d=l.isLoading,f=this.state.isFocused;if(!this.isClearable()||!a||A||!this.hasValue()||d)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(a,tr({},o,{innerProps:m,isFocused:f}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),a=s.LoadingIndicator,o=this.commonProps,l=this.props,A=l.isDisabled,d=l.isLoading,f=this.state.isFocused;if(!a||!d)return null;var m={"aria-hidden":"true"};return N.createElement(a,tr({},o,{innerProps:m,isDisabled:A,isFocused:f}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator,o=s.IndicatorSeparator;if(!a||!o)return null;var l=this.commonProps,A=this.props.isDisabled,d=this.state.isFocused;return N.createElement(o,tr({},l,{isDisabled:A,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),a=s.DropdownIndicator;if(!a)return null;var o=this.commonProps,l=this.props.isDisabled,A=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return N.createElement(a,tr({},o,{innerProps:d,isDisabled:l,isFocused:A}))}},{key:"renderMenu",value:function(){var s=this,a=this.getComponents(),o=a.Group,l=a.GroupHeading,A=a.Menu,d=a.MenuList,f=a.MenuPortal,m=a.LoadingMessage,y=a.NoOptionsMessage,g=a.Option,b=this.commonProps,C=this.state.focusedOption,F=this.props,v=F.captureMenuScroll,S=F.inputValue,I=F.isLoading,k=F.loadingMessage,M=F.minMenuHeight,V=F.maxMenuHeight,O=F.menuIsOpen,R=F.menuPlacement,_=F.menuPosition,J=F.menuPortalTarget,U=F.menuShouldBlockScroll,Q=F.menuShouldScrollIntoView,X=F.noOptionsMessage,Z=F.onMenuScrollToTop,$=F.onMenuScrollToBottom;if(!O)return null;var q=function(ee,ie){var le=ee.type,ce=ee.data,me=ee.isDisabled,we=ee.isSelected,Ie=ee.label,ve=ee.value,Ce=C===ce,Pe=me?void 0:function(){return s.onOptionHover(ce)},Me=me?void 0:function(){return s.selectOption(ce)},Je="".concat(s.getElementId("option"),"-").concat(ie),Re={id:Je,onClick:Me,onMouseMove:Pe,onMouseOver:Pe,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:we};return N.createElement(g,tr({},b,{innerProps:Re,data:ce,isDisabled:me,isSelected:we,key:Je,label:Ie,type:le,value:ve,isFocused:Ce,innerRef:Ce?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ee.data,"menu"))},W;if(this.hasOptions())W=this.getCategorizedOptions().map(function(H){if(H.type==="group"){var ee=H.data,ie=H.options,le=H.index,ce="".concat(s.getElementId("group"),"-").concat(le),me="".concat(ce,"-heading");return N.createElement(o,tr({},b,{key:ce,data:ee,options:ie,Heading:l,headingProps:{id:me,data:H.data},label:s.formatGroupLabel(H.data)}),H.options.map(function(we){return q(we,"".concat(le,"-").concat(we.index))}))}else if(H.type==="option")return q(H,"".concat(H.index))});else if(I){var Y=k({inputValue:S});if(Y===null)return null;W=N.createElement(m,b,Y)}else{var K=X({inputValue:S});if(K===null)return null;W=N.createElement(y,b,K)}var ae={minMenuHeight:M,maxMenuHeight:V,menuPlacement:R,menuPosition:_,menuShouldScrollIntoView:Q},be=N.createElement(vZ,tr({},b,ae),function(H){var ee=H.ref,ie=H.placerProps,le=ie.placement,ce=ie.maxHeight;return N.createElement(A,tr({},b,ae,{innerRef:ee,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:I,placement:le}),N.createElement(qee,{captureEnabled:v,onTopArrive:Z,onBottomArrive:$,lockEnabled:U},function(me){return N.createElement(d,tr({},b,{innerRef:function(Ie){s.getMenuListRef(Ie),me(Ie)},innerProps:{role:"listbox","aria-multiselectable":b.isMulti,id:s.getElementId("listbox")},isLoading:I,maxHeight:ce,focusedOption:C}),W)}))});return J||_==="fixed"?N.createElement(f,tr({},b,{appendTo:J,controlElement:this.controlRef,menuPlacement:R,menuPosition:_}),be):be}},{key:"renderFormField",value:function(){var s=this,a=this.props,o=a.delimiter,l=a.isDisabled,A=a.isMulti,d=a.name,f=a.required,m=this.state.selectValue;if(f&&!this.hasValue()&&!l)return N.createElement(Jee,{name:d,onFocus:this.onValueInputFocus});if(!(!d||l))if(A)if(o){var y=m.map(function(C){return s.getOptionValue(C)}).join(o);return N.createElement("input",{name:d,type:"hidden",value:y})}else{var g=m.length>0?m.map(function(C,F){return N.createElement("input",{key:"i-".concat(F),name:d,type:"hidden",value:s.getOptionValue(C)})}):N.createElement("input",{name:d,type:"hidden",value:""});return N.createElement("div",null,g)}else{var b=m[0]?this.getOptionValue(m[0]):"";return N.createElement("input",{name:d,type:"hidden",value:b})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,a=this.state,o=a.ariaSelection,l=a.focusedOption,A=a.focusedValue,d=a.isFocused,f=a.selectValue,m=this.getFocusableOptions();return N.createElement(Dee,tr({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:A,isFocused:d,selectValue:f,focusableOptions:m,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),a=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,A=s.ValueContainer,d=this.props,f=d.className,m=d.id,y=d.isDisabled,g=d.menuIsOpen,b=this.state.isFocused,C=this.commonProps=this.getCommonProps();return N.createElement(l,tr({},C,{className:f,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:y,isFocused:b}),this.renderLiveRegion(),N.createElement(a,tr({},C,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:y,isFocused:b,menuIsOpen:g}),N.createElement(A,tr({},C,{isDisabled:y}),this.renderPlaceholderOrValue(),this.renderInput()),N.createElement(o,tr({},C,{isDisabled:y}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,a){var o=a.prevProps,l=a.clearFocusValueOnUpdate,A=a.inputIsHiddenAfterUpdate,d=a.ariaSelection,f=a.isFocused,m=a.prevWasFocused,y=a.instancePrefix,g=s.options,b=s.value,C=s.menuIsOpen,F=s.inputValue,v=s.isMulti,S=sF(b),I={};if(o&&(b!==o.value||g!==o.options||C!==o.menuIsOpen||F!==o.inputValue)){var k=C?fte(s,S):[],M=C?yF(Bx(s,S),"".concat(y,"-option")):[],V=l?mte(a,S):null,O=pte(a,k),R=Kv(M,O);I={selectValue:S,focusedOption:O,focusedOptionId:R,focusableOptionsWithIds:M,focusedValue:V,clearFocusValueOnUpdate:!1}}var _=A!=null&&s!==o?{inputIsHidden:A,inputIsHiddenAfterUpdate:void 0}:{},J=d,U=f&&m;return f&&!U&&(J={value:x1(v,S,S[0]||null),options:S,action:"initial-input-focus"},U=!m),(d==null?void 0:d.action)==="initial-input-focus"&&(J=null),Yt(Yt(Yt({},I),_),{},{prevProps:s,ariaSelection:J,prevWasFocused:U})}}]),r}(N.Component);gO.defaultProps=hte;var xte=N.forwardRef(function(e,t){var r=UY(e);return N.createElement(gO,tr({ref:t},r))}),ai=xte;const xO=()=>{const e=Tr(),[t,r]=N.useState({name:"",registrationNumber:"",fatherName:"",aadharNumber:"",email:"",phone:"",address:"",branchId:null,membershipStart:"",membershipEnd:"",seatId:null,shiftIds:[],lockerId:null,totalFee:"",cash:"",online:"",securityMoney:"",remark:"",image:null,imageUrl:null,aadhaarFront:null,aadhaarFrontUrl:null,aadhaarBack:null,aadhaarBackUrl:null,discount:"0"}),[n,s]=N.useState([]),[a,o]=N.useState([]),[l,A]=N.useState([]),[d,f]=N.useState([]),[m,y]=N.useState(!1),[g,b]=N.useState(!1),[C,F]=N.useState(!1),[v,S]=N.useState(null);N.useEffect(()=>{(async()=>{try{const ae=await Ue.getBranches();s(ae),S(null)}catch(ae){console.error("Failed to fetch branches:",ae),S("You do not have permission to view branches. Contact an admin."),Fe.error("Failed to load branches. Check your permissions.")}})()},[]),N.useEffect(()=>{(async()=>{if(t.branchId!==null){y(!0),F(!0);try{const ae=Ue.getSeats({branchId:t.branchId}),be=Ue.getLockers(t.branchId),[H,ee]=await Promise.all([ae,be]);o(H.seats),f(ee.lockers),S(null)}catch(ae){console.error("Failed to fetch branch data:",ae),S("Failed to load seats and lockers for this branch. Check permissions."),Fe.error("Failed to load seats and lockers.")}finally{y(!1),F(!1)}}else o([]),f([])})()},[t.branchId]),N.useEffect(()=>{(async()=>{if(t.seatId){b(!0);try{const ae=await Ue.getAvailableShifts(t.seatId);A(ae.shifts),S(null)}catch(ae){console.error("Failed to fetch shifts status:",ae),S("Failed to load shifts for the selected seat."),Fe.error("Failed to load shifts status."),A([])}finally{b(!1)}}else if(t.branchId){b(!0);try{const be=(await Ue.getSchedules(t.branchId)).schedules.map(H=>({...H,fee:H.fee??0,isAssigned:!1}));A(be),S(null)}catch(ae){console.error("Failed to fetch shifts for branch:",ae),S("Failed to load shifts for the selected branch."),Fe.error("Failed to load shifts."),A([])}finally{b(!1)}}else A([])})()},[t.branchId,t.seatId]);const I=K=>{const{name:ae,value:be}=K.target;r(H=>({...H,[ae]:be}))},k=(K,ae)=>{const be=ae?ae.value:null;r(K==="branchId"?H=>({...H,branchId:be,seatId:null,shiftIds:[],lockerId:null,totalFee:""}):K==="seatId"?H=>({...H,seatId:be,shiftIds:[]}):H=>({...H,[K]:be}))},M=K=>{const ae=K?K.map(be=>be.value):[];r(be=>({...be,shiftIds:ae}))},V=K=>{const ae=K.target.files?K.target.files[0]:null;if(ae){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(ae.type)){Fe.error("Only JPEG, JPG, PNG, and GIF images are allowed");return}if(ae.size>200*1024){Fe.error("Image size exceeds 200KB limit");return}r(be=>({...be,image:ae}))}},O=K=>{const ae=K.target.files?K.target.files[0]:null;if(ae){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(ae.type)){Fe.error("Only JPEG, JPG, PNG, and GIF images are allowed for Aadhaar front");return}if(ae.size>200*1024){Fe.error("Aadhaar front image size exceeds 200KB limit");return}r(be=>({...be,aadhaarFront:ae}))}},R=K=>{const ae=K.target.files?K.target.files[0]:null;if(ae){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(ae.type)){Fe.error("Only JPEG, JPG, PNG, and GIF images are allowed for Aadhaar back");return}if(ae.size>200*1024){Fe.error("Aadhaar back image size exceeds 200KB limit");return}r(be=>({...be,aadhaarBack:ae}))}},_=n.map(K=>({value:K.id,label:K.name})),J=[{value:null,label:"None",isDisabled:!1},...a.map(K=>({value:K.id,label:K.seatNumber,isDisabled:!1}))],U=[{value:null,label:"None",isDisabled:!1},...d.filter(K=>!K.isAssigned).map(K=>({value:K.id,label:K.lockerNumber,isDisabled:!1}))],Q=l.map(K=>{K.fee&&`${K.fee}`;const ae=K.description?`[${K.description}]`:"";let be=`${K.title} [Rs.${K.fee}] ${ae}`.trim();if(t.seatId!==null){const H=K.isAssigned?"(Assigned)":"(Available)";be=`${K.title} [Rs.${K.fee}] ${ae} ${H}`.trim()}return{value:K.id,label:be,isDisabled:K.isAssigned||!1}});N.useEffect(()=>{if(t.shiftIds&&t.shiftIds.length>0){const K=l.filter(ae=>t.shiftIds.includes(ae.id)).reduce((ae,be)=>ae+(be.fee??0),0);r(ae=>({...ae,totalFee:K.toString()}))}else t.totalFee&&t.totalFee!==""||r(K=>({...K,totalFee:""}))},[t.shiftIds,l]);const X=async()=>{var K;if(!t.name||!t.phone||t.branchId===null||!t.membershipStart||!t.membershipEnd){Fe.error("Please fill in all required fields (Name, Phone, Branch, Membership Start, Membership End)");return}try{let ae=t.imageUrl||"";if(t.image){const ie=new FormData;ie.append("image",t.image),ae=(await Ue.uploadImage(ie)).imageUrl||""}let be=t.aadhaarFrontUrl||"";if(t.aadhaarFront){const ie=new FormData;ie.append("image",t.aadhaarFront),be=(await Ue.uploadImage(ie)).imageUrl||""}let H=t.aadhaarBackUrl||"";if(t.aadhaarBack){const ie=new FormData;ie.append("image",t.aadhaarBack),H=(await Ue.uploadImage(ie)).imageUrl||""}const ee={name:t.name,registrationNumber:t.registrationNumber||void 0,fatherName:t.fatherName||void 0,aadharNumber:t.aadharNumber||void 0,email:t.email||void 0,phone:t.phone,address:((K=t.address)==null?void 0:K.trim())||void 0,branchId:t.branchId,membershipStart:t.membershipStart,membershipEnd:t.membershipEnd,totalFee:t.totalFee?parseFloat(t.totalFee):0,amountPaid:(parseFloat(t.cash)||0)+(parseFloat(t.online)||0),cash:parseFloat(t.cash)||0,online:parseFloat(t.online)||0,securityMoney:parseFloat(t.securityMoney)||0,discount:parseFloat(t.discount)||0,remark:t.remark||void 0,profileImageUrl:ae||void 0,aadhaarFrontUrl:be||void 0,aadhaarBackUrl:H||void 0,seatId:t.seatId!==null?t.seatId:void 0,shiftIds:t.shiftIds,lockerId:t.lockerId!==null?t.lockerId:void 0};await Ue.addStudent(ee),Fe.success("Student added successfully"),e("/students")}catch(ae){console.error("Failed to add student:",ae),Fe.error(ae.message||"Failed to add student")}},Z=parseFloat(t.cash)||0,$=parseFloat(t.online)||0,q=Z+$,Y=(parseFloat(t.totalFee)||0)-(parseFloat(t.discount)||0)-q;return i.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add New Student"}),v&&i.jsx("div",{className:"text-red-500 mb-4",children:v}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),i.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number *"}),i.jsx("input",{type:"text",id:"registrationNumber",name:"registrationNumber",value:t.registrationNumber||"",onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"fatherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),i.jsx("input",{type:"text",id:"fatherName",name:"fatherName",value:t.fatherName||"",onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"aadharNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),i.jsx("input",{type:"text",id:"aadharNumber",name:"aadharNumber",value:t.aadharNumber||"",onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",value:t.email||"",onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),i.jsx("input",{type:"text",id:"phone",name:"phone",value:t.phone,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),i.jsx("input",{type:"text",id:"address",name:"address",value:t.address||"",onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch *"}),i.jsx(ai,{options:_,value:_.find(K=>K.value===t.branchId)||null,onChange:K=>k("branchId",K),placeholder:"Select a branch",className:"w-full",isDisabled:n.length===0,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"membershipStart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership Start *"}),i.jsx("input",{type:"date",id:"membershipStart",name:"membershipStart",value:t.membershipStart,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"membershipEnd",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership End *"}),i.jsx("input",{type:"date",id:"membershipEnd",name:"membershipEnd",value:t.membershipEnd,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"seatId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Seat *"}),i.jsx(ai,{options:J,value:J.find(K=>K.value===t.seatId)||null,onChange:K=>k("seatId",K),isLoading:m,placeholder:t.branchId?"Select a seat":"Select a branch first",className:"w-full",isDisabled:!t.branchId||a.length===0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"shiftId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Shift *"}),i.jsx(ai,{isMulti:!0,options:Q,value:Q.filter(K=>t.shiftIds.includes(K.value)),onChange:M,isLoading:g,placeholder:g?"Loading shifts...":t.branchId?l.length===0?"No shifts found for this branch":"Select one or more shifts":"Select a branch first",className:"w-full",isDisabled:!t.branchId||g})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"lockerId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Locker"}),i.jsx(ai,{options:U,value:U.find(K=>K.value===t.lockerId)||null,onChange:K=>k("lockerId",K),isLoading:C,placeholder:t.branchId?"Select an available locker":"Select a branch first",className:"w-full",isDisabled:!t.branchId||d.length===0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"totalFee",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee *"}),i.jsx("input",{type:"number",id:"totalFee",name:"totalFee",value:t.totalFee,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount"}),i.jsx("input",{type:"number",id:"discount",name:"discount",value:t.discount,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"cash",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Payment"}),i.jsx("input",{type:"number",id:"cash",name:"cash",value:t.cash,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"online",className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Payment"}),i.jsx("input",{type:"number",id:"online",name:"online",value:t.online,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"securityMoney",className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money"}),i.jsx("input",{type:"number",id:"securityMoney",name:"securityMoney",value:t.securityMoney,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount Paid"}),i.jsx("input",{type:"number",id:"amountPaid",name:"amountPaid",value:q.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dueAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),i.jsx("input",{type:"number",id:"dueAmount",name:"dueAmount",value:Y.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"remark",className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),i.jsx("textarea",{id:"remark",name:"remark",value:t.remark||"",onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image (max 200KB)"}),i.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:V,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"aadhaarFront",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Front Image (max 200KB)"}),i.jsx("input",{type:"file",id:"aadhaarFront",name:"aadhaarFront",accept:"image/*",onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"aadhaarBack",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Back Image (max 200KB)"}),i.jsx("input",{type:"file",id:"aadhaarBack",name:"aadhaarBack",accept:"image/*",onChange:R,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),i.jsx("button",{onClick:X,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-200",disabled:!!v,children:"Add Student"})]})]})},yte=e=>e||"N/A",wte=({limit:e,selectedBranchId:t})=>{const[r,n]=N.useState([]),[s,a]=N.useState(!0),[o,l]=N.useState(1),[A,d]=N.useState(5),f=Tr();N.useEffect(()=>{(async()=>{a(!0);try{const I=await Ue.getExpiringSoon(t??void 0);if(!I||!Array.isArray(I.students))throw new Error("Invalid data received for expiring students");n(I.students)}catch(I){I.response&&I.response.status===401?(Fe.error("Session expired. Please log in again."),f("/login")):(console.error("Failed to fetch expiring memberships:",I.message),Fe.error("Failed to fetch expiring memberships")),n([])}finally{a(!1)}})()},[f,t]);const m=S=>{if(!S){Fe.error("No phone number available for this student.");return}let I=S.replace(/\D/g,"");I.length===10&&(I=`91${I}`);const k=`https://wa.me/${I}`;window.open(k,"_blank","noopener,noreferrer")},y=async S=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Ue.deleteStudent(S),n(r.filter(I=>I.id!==S)),Fe.success("Student deleted successfully")}catch(I){console.error("Failed to delete student:",I.message),Fe.error("Failed to delete student")}},g=S=>{f(`/students/${S}`)};if(s)return i.jsx("div",{className:"flex justify-center p-4",children:"Loading expiring memberships..."});const b=e??o*A,C=e?0:b-A,F=r.slice(C,b),v=e?1:Math.ceil(r.length/A);return i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-orange-100 p-2 rounded-lg",children:i.jsx(ci,{size:20,className:"text-orange-500"})}),i.jsx("h3",{className:"ml-3 text-lg font-medium",children:"Expiring Memberships"})]})}),F.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50 text-left",children:[i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Name"}),i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Seat"}),i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Phone"}),i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Expiry Date"}),i.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:F.map(S=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4",children:S.name}),i.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:S.seatNumber||"N/A"}),i.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:S.phone}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${S.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-orange-100 text-orange-800",children:yte(S.membershipEnd)})}),i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("button",{onClick:()=>g(S.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",title:"View student details",children:i.jsx(Oi,{size:16})}),i.jsx("button",{onClick:()=>y(S.id),className:"mr-2 text-red-600 hover:text-red-800 p-2",title:"Delete student",children:i.jsx(Oo,{size:16})}),i.jsx("button",{onClick:()=>m(S.phone),className:"text-green-600 hover:text-green-800 p-2",title:`Send WhatsApp message to ${S.name}`,children:i.jsx(EN,{size:16})})]})]},S.id))})]})}):i.jsx("div",{className:"p-8 text-center text-gray-500",children:"No memberships expiring soon."}),!e&&r.length>0&&i.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:justify-between md:space-y-0 border-t border-gray-200 px-6 py-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("select",{value:A,onChange:S=>{d(Number(S.target.value)),l(1)},className:"text-sm border rounded py-2 px-3",children:[i.jsx("option",{value:5,children:"5"}),i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:25,children:"25"}),i.jsx("option",{value:50,children:"50"})]}),i.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>l(S=>Math.max(S-1,1)),disabled:o===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:i.jsx($u,{size:16})}),i.jsxs("span",{className:"text-sm",children:["Page ",o," of ",v]}),i.jsx("button",{onClick:()=>l(S=>Math.min(S+1,v)),disabled:o===v,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:i.jsx(Tn,{size:16})})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",C+1," to ",Math.min(b,r.length)," of"," ",r.length," students"]})]}),e&&r.length>e&&i.jsx("div",{className:"flex justify-center border-t border-gray-100 p-4",children:i.jsxs("button",{onClick:()=>f("/expiring-memberships"),className:"text-purple-600 hover:text-purple-800 text-sm font-medium flex items-center p-2",children:["View all expiring memberships ",i.jsx(Tn,{size:16,className:"ml-1"})]})})]})},Ag=function(e,t){let s=e;const a=bm[t];let o=null,l=0,A=null;const d=[],f={},m=function(O,R){l=s*4+17,o=function(_){const J=new Array(_);for(let U=0;U<_;U+=1){J[U]=new Array(_);for(let Q=0;Q<_;Q+=1)J[U][Q]=null}return J}(l),y(0,0),y(l-7,0),y(0,l-7),C(),b(),v(O,R),s>=7&&F(O),A==null&&(A=k(s,a,d)),S(A,R)},y=function(O,R){for(let _=-1;_<=7;_+=1)if(!(O+_<=-1||l<=O+_))for(let J=-1;J<=7;J+=1)R+J<=-1||l<=R+J||(0<=_&&_<=6&&(J==0||J==6)||0<=J&&J<=6&&(_==0||_==6)||2<=_&&_<=4&&2<=J&&J<=4?o[O+_][R+J]=!0:o[O+_][R+J]=!1)},g=function(){let O=0,R=0;for(let _=0;_<8;_+=1){m(!0,_);const J=PA.getLostPoint(f);(_==0||O>J)&&(O=J,R=_)}return R},b=function(){for(let O=8;O<l-8;O+=1)o[O][6]==null&&(o[O][6]=O%2==0);for(let O=8;O<l-8;O+=1)o[6][O]==null&&(o[6][O]=O%2==0)},C=function(){const O=PA.getPatternPosition(s);for(let R=0;R<O.length;R+=1)for(let _=0;_<O.length;_+=1){const J=O[R],U=O[_];if(o[J][U]==null)for(let Q=-2;Q<=2;Q+=1)for(let X=-2;X<=2;X+=1)Q==-2||Q==2||X==-2||X==2||Q==0&&X==0?o[J+Q][U+X]=!0:o[J+Q][U+X]=!1}},F=function(O){const R=PA.getBCHTypeNumber(s);for(let _=0;_<18;_+=1){const J=!O&&(R>>_&1)==1;o[Math.floor(_/3)][_%3+l-8-3]=J}for(let _=0;_<18;_+=1){const J=!O&&(R>>_&1)==1;o[_%3+l-8-3][Math.floor(_/3)]=J}},v=function(O,R){const _=a<<3|R,J=PA.getBCHTypeInfo(_);for(let U=0;U<15;U+=1){const Q=!O&&(J>>U&1)==1;U<6?o[U][8]=Q:U<8?o[U+1][8]=Q:o[l-15+U][8]=Q}for(let U=0;U<15;U+=1){const Q=!O&&(J>>U&1)==1;U<8?o[8][l-U-1]=Q:U<9?o[8][15-U-1+1]=Q:o[8][15-U-1]=Q}o[l-8][8]=!O},S=function(O,R){let _=-1,J=l-1,U=7,Q=0;const X=PA.getMaskFunction(R);for(let Z=l-1;Z>0;Z-=2)for(Z==6&&(Z-=1);;){for(let $=0;$<2;$+=1)if(o[J][Z-$]==null){let q=!1;Q<O.length&&(q=(O[Q]>>>U&1)==1),X(J,Z-$)&&(q=!q),o[J][Z-$]=q,U-=1,U==-1&&(Q+=1,U=7)}if(J+=_,J<0||l<=J){J-=_,_=-_;break}}},I=function(O,R){let _=0,J=0,U=0;const Q=new Array(R.length),X=new Array(R.length);for(let W=0;W<R.length;W+=1){const Y=R[W].dataCount,K=R[W].totalCount-Y;J=Math.max(J,Y),U=Math.max(U,K),Q[W]=new Array(Y);for(let ee=0;ee<Q[W].length;ee+=1)Q[W][ee]=255&O.getBuffer()[ee+_];_+=Y;const ae=PA.getErrorCorrectPolynomial(K),H=Op(Q[W],ae.getLength()-1).mod(ae);X[W]=new Array(ae.getLength()-1);for(let ee=0;ee<X[W].length;ee+=1){const ie=ee+H.getLength()-X[W].length;X[W][ee]=ie>=0?H.getAt(ie):0}}let Z=0;for(let W=0;W<R.length;W+=1)Z+=R[W].totalCount;const $=new Array(Z);let q=0;for(let W=0;W<J;W+=1)for(let Y=0;Y<R.length;Y+=1)W<Q[Y].length&&($[q]=Q[Y][W],q+=1);for(let W=0;W<U;W+=1)for(let Y=0;Y<R.length;Y+=1)W<X[Y].length&&($[q]=X[Y][W],q+=1);return $},k=function(O,R,_){const J=vF.getRSBlocks(O,R),U=bF();for(let X=0;X<_.length;X+=1){const Z=_[X];U.put(Z.getMode(),4),U.put(Z.getLength(),PA.getLengthInBits(Z.getMode(),O)),Z.write(U)}let Q=0;for(let X=0;X<J.length;X+=1)Q+=J[X].dataCount;if(U.getLengthInBits()>Q*8)throw"code length overflow. ("+U.getLengthInBits()+">"+Q*8+")";for(U.getLengthInBits()+4<=Q*8&&U.put(0,4);U.getLengthInBits()%8!=0;)U.putBit(!1);for(;!(U.getLengthInBits()>=Q*8||(U.put(236,8),U.getLengthInBits()>=Q*8));)U.put(17,8);return I(U,J)};f.addData=function(O,R){R=R||"Byte";let _=null;switch(R){case"Numeric":_=vte(O);break;case"Alphanumeric":_=bte(O);break;case"Byte":_=Cte(O);break;case"Kanji":_=Bte(O);break;default:throw"mode:"+R}d.push(_),A=null},f.isDark=function(O,R){if(O<0||l<=O||R<0||l<=R)throw O+","+R;return o[O][R]},f.getModuleCount=function(){return l},f.make=function(){if(s<1){let O=1;for(;O<40;O++){const R=vF.getRSBlocks(O,a),_=bF();for(let U=0;U<d.length;U++){const Q=d[U];_.put(Q.getMode(),4),_.put(Q.getLength(),PA.getLengthInBits(Q.getMode(),O)),Q.write(_)}let J=0;for(let U=0;U<R.length;U++)J+=R[U].dataCount;if(_.getLengthInBits()<=J*8)break}s=O}m(!1,g())},f.createTableTag=function(O,R){O=O||2,R=typeof R>"u"?O*4:R;let _="";_+='<table style="',_+=" border-width: 0px; border-style: none;",_+=" border-collapse: collapse;",_+=" padding: 0px; margin: "+R+"px;",_+='">',_+="<tbody>";for(let J=0;J<f.getModuleCount();J+=1){_+="<tr>";for(let U=0;U<f.getModuleCount();U+=1)_+='<td style="',_+=" border-width: 0px; border-style: none;",_+=" border-collapse: collapse;",_+=" padding: 0px; margin: 0px;",_+=" width: "+O+"px;",_+=" height: "+O+"px;",_+=" background-color: ",_+=f.isDark(J,U)?"#000000":"#ffffff",_+=";",_+='"/>';_+="</tr>"}return _+="</tbody>",_+="</table>",_},f.createSvgTag=function(O,R,_,J){let U={};typeof arguments[0]=="object"&&(U=arguments[0],O=U.cellSize,R=U.margin,_=U.alt,J=U.title),O=O||2,R=typeof R>"u"?O*4:R,_=typeof _=="string"?{text:_}:_||{},_.text=_.text||null,_.id=_.text?_.id||"qrcode-description":null,J=typeof J=="string"?{text:J}:J||{},J.text=J.text||null,J.id=J.text?J.id||"qrcode-title":null;const Q=f.getModuleCount()*O+R*2;let X,Z,$,q,W="",Y;for(Y="l"+O+",0 0,"+O+" -"+O+",0 0,-"+O+"z ",W+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',W+=U.scalable?"":' width="'+Q+'px" height="'+Q+'px"',W+=' viewBox="0 0 '+Q+" "+Q+'" ',W+=' preserveAspectRatio="xMinYMin meet"',W+=J.text||_.text?' role="img" aria-labelledby="'+M([J.id,_.id].join(" ").trim())+'"':"",W+=">",W+=J.text?'<title id="'+M(J.id)+'">'+M(J.text)+"</title>":"",W+=_.text?'<description id="'+M(_.id)+'">'+M(_.text)+"</description>":"",W+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',W+='<path d="',$=0;$<f.getModuleCount();$+=1)for(q=$*O+R,X=0;X<f.getModuleCount();X+=1)f.isDark($,X)&&(Z=X*O+R,W+="M"+Z+","+q+Y);return W+='" stroke="transparent" fill="black"/>',W+="</svg>",W},f.createDataURL=function(O,R){O=O||2,R=typeof R>"u"?O*4:R;const _=f.getModuleCount()*O+R*2,J=R,U=_-R;return Fte(_,_,function(Q,X){if(J<=Q&&Q<U&&J<=X&&X<U){const Z=Math.floor((Q-J)/O),$=Math.floor((X-J)/O);return f.isDark($,Z)?0:1}else return 1})},f.createImgTag=function(O,R,_){O=O||2,R=typeof R>"u"?O*4:R;const J=f.getModuleCount()*O+R*2;let U="";return U+="<img",U+=' src="',U+=f.createDataURL(O,R),U+='"',U+=' width="',U+=J,U+='"',U+=' height="',U+=J,U+='"',_&&(U+=' alt="',U+=M(_),U+='"'),U+="/>",U};const M=function(O){let R="";for(let _=0;_<O.length;_+=1){const J=O.charAt(_);switch(J){case"<":R+="&lt;";break;case">":R+="&gt;";break;case"&":R+="&amp;";break;case'"':R+="&quot;";break;default:R+=J;break}}return R},V=function(O){O=typeof O>"u"?1*2:O;const _=f.getModuleCount()*1+O*2,J=O,U=_-O;let Q,X,Z,$,q;const W={"██":"█","█ ":"▀"," █":"▄","  ":" "},Y={"██":"▀","█ ":"▀"," █":" ","  ":" "};let K="";for(Q=0;Q<_;Q+=2){for(Z=Math.floor((Q-J)/1),$=Math.floor((Q+1-J)/1),X=0;X<_;X+=1)q="█",J<=X&&X<U&&J<=Q&&Q<U&&f.isDark(Z,Math.floor((X-J)/1))&&(q=" "),J<=X&&X<U&&J<=Q+1&&Q+1<U&&f.isDark($,Math.floor((X-J)/1))?q+=" ":q+="█",K+=O<1&&Q+1>=U?Y[q]:W[q];K+=`
`}return _%2&&O>0?K.substring(0,K.length-_-1)+Array(_+1).join("▀"):K.substring(0,K.length-1)};return f.createASCII=function(O,R){if(O=O||1,O<2)return V(R);O-=1,R=typeof R>"u"?O*2:R;const _=f.getModuleCount()*O+R*2,J=R,U=_-R;let Q,X,Z,$;const q=Array(O+1).join("██"),W=Array(O+1).join("  ");let Y="",K="";for(Q=0;Q<_;Q+=1){for(Z=Math.floor((Q-J)/O),K="",X=0;X<_;X+=1)$=1,J<=X&&X<U&&J<=Q&&Q<U&&f.isDark(Z,Math.floor((X-J)/O))&&($=0),K+=$?q:W;for(Z=0;Z<O;Z+=1)Y+=K+`
`}return Y.substring(0,Y.length-1)},f.renderTo2dContext=function(O,R){R=R||2;const _=f.getModuleCount();for(let J=0;J<_;J++)for(let U=0;U<_;U++)O.fillStyle=f.isDark(J,U)?"black":"white",O.fillRect(J*R,U*R,R,R)},f};Ag.stringToBytes=function(e){const t=[];for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t.push(n&255)}return t};Ag.createStringToBytes=function(e,t){const r=function(){const s=Ste(e),a=function(){const A=s.read();if(A==-1)throw"eof";return A};let o=0;const l={};for(;;){const A=s.read();if(A==-1)break;const d=a(),f=a(),m=a(),y=String.fromCharCode(A<<8|d),g=f<<8|m;l[y]=g,o+=1}if(o!=t)throw o+" != "+t;return l}(),n=63;return function(s){const a=[];for(let o=0;o<s.length;o+=1){const l=s.charCodeAt(o);if(l<128)a.push(l);else{const A=r[s.charAt(o)];typeof A=="number"?(A&255)==A?a.push(A):(a.push(A>>>8),a.push(A&255)):a.push(n)}}return a}};const Da={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},bm={L:1,M:0,Q:3,H:2},kA={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},PA=function(){const e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],t=1335,r=7973,n=21522,s={},a=function(o){let l=0;for(;o!=0;)l+=1,o>>>=1;return l};return s.getBCHTypeInfo=function(o){let l=o<<10;for(;a(l)-a(t)>=0;)l^=t<<a(l)-a(t);return(o<<10|l)^n},s.getBCHTypeNumber=function(o){let l=o<<12;for(;a(l)-a(r)>=0;)l^=r<<a(l)-a(r);return o<<12|l},s.getPatternPosition=function(o){return e[o-1]},s.getMaskFunction=function(o){switch(o){case kA.PATTERN000:return function(l,A){return(l+A)%2==0};case kA.PATTERN001:return function(l,A){return l%2==0};case kA.PATTERN010:return function(l,A){return A%3==0};case kA.PATTERN011:return function(l,A){return(l+A)%3==0};case kA.PATTERN100:return function(l,A){return(Math.floor(l/2)+Math.floor(A/3))%2==0};case kA.PATTERN101:return function(l,A){return l*A%2+l*A%3==0};case kA.PATTERN110:return function(l,A){return(l*A%2+l*A%3)%2==0};case kA.PATTERN111:return function(l,A){return(l*A%3+(l+A)%2)%2==0};default:throw"bad maskPattern:"+o}},s.getErrorCorrectPolynomial=function(o){let l=Op([1],0);for(let A=0;A<o;A+=1)l=l.multiply(Op([1,MA.gexp(A)],0));return l},s.getLengthInBits=function(o,l){if(1<=l&&l<10)switch(o){case Da.MODE_NUMBER:return 10;case Da.MODE_ALPHA_NUM:return 9;case Da.MODE_8BIT_BYTE:return 8;case Da.MODE_KANJI:return 8;default:throw"mode:"+o}else if(l<27)switch(o){case Da.MODE_NUMBER:return 12;case Da.MODE_ALPHA_NUM:return 11;case Da.MODE_8BIT_BYTE:return 16;case Da.MODE_KANJI:return 10;default:throw"mode:"+o}else if(l<41)switch(o){case Da.MODE_NUMBER:return 14;case Da.MODE_ALPHA_NUM:return 13;case Da.MODE_8BIT_BYTE:return 16;case Da.MODE_KANJI:return 12;default:throw"mode:"+o}else throw"type:"+l},s.getLostPoint=function(o){const l=o.getModuleCount();let A=0;for(let m=0;m<l;m+=1)for(let y=0;y<l;y+=1){let g=0;const b=o.isDark(m,y);for(let C=-1;C<=1;C+=1)if(!(m+C<0||l<=m+C))for(let F=-1;F<=1;F+=1)y+F<0||l<=y+F||C==0&&F==0||b==o.isDark(m+C,y+F)&&(g+=1);g>5&&(A+=3+g-5)}for(let m=0;m<l-1;m+=1)for(let y=0;y<l-1;y+=1){let g=0;o.isDark(m,y)&&(g+=1),o.isDark(m+1,y)&&(g+=1),o.isDark(m,y+1)&&(g+=1),o.isDark(m+1,y+1)&&(g+=1),(g==0||g==4)&&(A+=3)}for(let m=0;m<l;m+=1)for(let y=0;y<l-6;y+=1)o.isDark(m,y)&&!o.isDark(m,y+1)&&o.isDark(m,y+2)&&o.isDark(m,y+3)&&o.isDark(m,y+4)&&!o.isDark(m,y+5)&&o.isDark(m,y+6)&&(A+=40);for(let m=0;m<l;m+=1)for(let y=0;y<l-6;y+=1)o.isDark(y,m)&&!o.isDark(y+1,m)&&o.isDark(y+2,m)&&o.isDark(y+3,m)&&o.isDark(y+4,m)&&!o.isDark(y+5,m)&&o.isDark(y+6,m)&&(A+=40);let d=0;for(let m=0;m<l;m+=1)for(let y=0;y<l;y+=1)o.isDark(y,m)&&(d+=1);const f=Math.abs(100*d/l/l-50)/5;return A+=f*10,A},s}(),MA=function(){const e=new Array(256),t=new Array(256);for(let n=0;n<8;n+=1)e[n]=1<<n;for(let n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(let n=0;n<255;n+=1)t[e[n]]=n;const r={};return r.glog=function(n){if(n<1)throw"glog("+n+")";return t[n]},r.gexp=function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return e[n]},r}(),Op=function(e,t){if(typeof e.length>"u")throw e.length+"/"+t;const r=function(){let s=0;for(;s<e.length&&e[s]==0;)s+=1;const a=new Array(e.length-s+t);for(let o=0;o<e.length-s;o+=1)a[o]=e[o+s];return a}(),n={};return n.getAt=function(s){return r[s]},n.getLength=function(){return r.length},n.multiply=function(s){const a=new Array(n.getLength()+s.getLength()-1);for(let o=0;o<n.getLength();o+=1)for(let l=0;l<s.getLength();l+=1)a[o+l]^=MA.gexp(MA.glog(n.getAt(o))+MA.glog(s.getAt(l)));return Op(a,0)},n.mod=function(s){if(n.getLength()-s.getLength()<0)return n;const a=MA.glog(n.getAt(0))-MA.glog(s.getAt(0)),o=new Array(n.getLength());for(let l=0;l<n.getLength();l+=1)o[l]=n.getAt(l);for(let l=0;l<s.getLength();l+=1)o[l]^=MA.gexp(MA.glog(s.getAt(l))+a);return Op(o,0).mod(s)},n},vF=function(){const e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(s,a){const o={};return o.totalCount=s,o.dataCount=a,o},r={},n=function(s,a){switch(a){case bm.L:return e[(s-1)*4+0];case bm.M:return e[(s-1)*4+1];case bm.Q:return e[(s-1)*4+2];case bm.H:return e[(s-1)*4+3];default:return}};return r.getRSBlocks=function(s,a){const o=n(s,a);if(typeof o>"u")throw"bad rs block @ typeNumber:"+s+"/errorCorrectionLevel:"+a;const l=o.length/3,A=[];for(let d=0;d<l;d+=1){const f=o[d*3+0],m=o[d*3+1],y=o[d*3+2];for(let g=0;g<f;g+=1)A.push(t(m,y))}return A},r}(),bF=function(){const e=[];let t=0;const r={};return r.getBuffer=function(){return e},r.getAt=function(n){const s=Math.floor(n/8);return(e[s]>>>7-n%8&1)==1},r.put=function(n,s){for(let a=0;a<s;a+=1)r.putBit((n>>>s-a-1&1)==1)},r.getLengthInBits=function(){return t},r.putBit=function(n){const s=Math.floor(t/8);e.length<=s&&e.push(0),n&&(e[s]|=128>>>t%8),t+=1},r},vte=function(e){const t=Da.MODE_NUMBER,r=e,n={};n.getMode=function(){return t},n.getLength=function(o){return r.length},n.write=function(o){const l=r;let A=0;for(;A+2<l.length;)o.put(s(l.substring(A,A+3)),10),A+=3;A<l.length&&(l.length-A==1?o.put(s(l.substring(A,A+1)),4):l.length-A==2&&o.put(s(l.substring(A,A+2)),7))};const s=function(o){let l=0;for(let A=0;A<o.length;A+=1)l=l*10+a(o.charAt(A));return l},a=function(o){if("0"<=o&&o<="9")return o.charCodeAt(0)-48;throw"illegal char :"+o};return n},bte=function(e){const t=Da.MODE_ALPHA_NUM,r=e,n={};n.getMode=function(){return t},n.getLength=function(a){return r.length},n.write=function(a){const o=r;let l=0;for(;l+1<o.length;)a.put(s(o.charAt(l))*45+s(o.charAt(l+1)),11),l+=2;l<o.length&&a.put(s(o.charAt(l)),6)};const s=function(a){if("0"<=a&&a<="9")return a.charCodeAt(0)-48;if("A"<=a&&a<="Z")return a.charCodeAt(0)-65+10;switch(a){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+a}};return n},Cte=function(e){const t=Da.MODE_8BIT_BYTE,r=Ag.stringToBytes(e),n={};return n.getMode=function(){return t},n.getLength=function(s){return r.length},n.write=function(s){for(let a=0;a<r.length;a+=1)s.put(r[a],8)},n},Bte=function(e){const t=Da.MODE_KANJI,r=Ag.stringToBytes;(function(a,o){const l=r(a);if(l.length!=2||(l[0]<<8|l[1])!=o)throw"sjis not supported."})("友",38726);const n=r(e),s={};return s.getMode=function(){return t},s.getLength=function(a){return~~(n.length/2)},s.write=function(a){const o=n;let l=0;for(;l+1<o.length;){let A=(255&o[l])<<8|255&o[l+1];if(33088<=A&&A<=40956)A-=33088;else if(57408<=A&&A<=60351)A-=49472;else throw"illegal char at "+(l+1)+"/"+A;A=(A>>>8&255)*192+(A&255),a.put(A,13),l+=2}if(l<o.length)throw"illegal char at "+(l+1)},s},yO=function(){const e=[],t={};return t.writeByte=function(r){e.push(r&255)},t.writeShort=function(r){t.writeByte(r),t.writeByte(r>>>8)},t.writeBytes=function(r,n,s){n=n||0,s=s||r.length;for(let a=0;a<s;a+=1)t.writeByte(r[a+n])},t.writeString=function(r){for(let n=0;n<r.length;n+=1)t.writeByte(r.charCodeAt(n))},t.toByteArray=function(){return e},t.toString=function(){let r="";r+="[";for(let n=0;n<e.length;n+=1)n>0&&(r+=","),r+=e[n];return r+="]",r},t},Nte=function(){let e=0,t=0,r=0,n="";const s={},a=function(l){n+=String.fromCharCode(o(l&63))},o=function(l){if(l<0)throw"n:"+l;if(l<26)return 65+l;if(l<52)return 97+(l-26);if(l<62)return 48+(l-52);if(l==62)return 43;if(l==63)return 47;throw"n:"+l};return s.writeByte=function(l){for(e=e<<8|l&255,t+=8,r+=1;t>=6;)a(e>>>t-6),t-=6},s.flush=function(){if(t>0&&(a(e<<6-t),e=0,t=0),r%3!=0){const l=3-r%3;for(let A=0;A<l;A+=1)n+="="}},s.toString=function(){return n},s},Ste=function(e){const t=e;let r=0,n=0,s=0;const a={};a.read=function(){for(;s<8;){if(r>=t.length){if(s==0)return-1;throw"unexpected end of file./"+s}const A=t.charAt(r);if(r+=1,A=="=")return s=0,-1;if(A.match(/^\s$/))continue;n=n<<6|o(A.charCodeAt(0)),s+=6}const l=n>>>s-8&255;return s-=8,l};const o=function(l){if(65<=l&&l<=90)return l-65;if(97<=l&&l<=122)return l-97+26;if(48<=l&&l<=57)return l-48+52;if(l==43)return 62;if(l==47)return 63;throw"c:"+l};return a},Ete=function(e,t){const r=e,n=t,s=new Array(e*t),a={};a.setPixel=function(d,f,m){s[f*r+d]=m},a.write=function(d){d.writeString("GIF87a"),d.writeShort(r),d.writeShort(n),d.writeByte(128),d.writeByte(0),d.writeByte(0),d.writeByte(0),d.writeByte(0),d.writeByte(0),d.writeByte(255),d.writeByte(255),d.writeByte(255),d.writeString(","),d.writeShort(0),d.writeShort(0),d.writeShort(r),d.writeShort(n),d.writeByte(0);const f=2,m=l(f);d.writeByte(f);let y=0;for(;m.length-y>255;)d.writeByte(255),d.writeBytes(m,y,255),y+=255;d.writeByte(m.length-y),d.writeBytes(m,y,m.length-y),d.writeByte(0),d.writeString(";")};const o=function(d){const f=d;let m=0,y=0;const g={};return g.write=function(b,C){if(b>>>C)throw"length over";for(;m+C>=8;)f.writeByte(255&(b<<m|y)),C-=8-m,b>>>=8-m,y=0,m=0;y=b<<m|y,m=m+C},g.flush=function(){m>0&&f.writeByte(y)},g},l=function(d){const f=1<<d,m=(1<<d)+1;let y=d+1;const g=A();for(let S=0;S<f;S+=1)g.add(String.fromCharCode(S));g.add(String.fromCharCode(f)),g.add(String.fromCharCode(m));const b=yO(),C=o(b);C.write(f,y);let F=0,v=String.fromCharCode(s[F]);for(F+=1;F<s.length;){const S=String.fromCharCode(s[F]);F+=1,g.contains(v+S)?v=v+S:(C.write(g.indexOf(v),y),g.size()<4095&&(g.size()==1<<y&&(y+=1),g.add(v+S)),v=S)}return C.write(g.indexOf(v),y),C.write(m,y),C.flush(),b.toByteArray()},A=function(){const d={};let f=0;const m={};return m.add=function(y){if(m.contains(y))throw"dup key:"+y;d[y]=f,f+=1},m.size=function(){return f},m.indexOf=function(y){return d[y]},m.contains=function(y){return typeof d[y]<"u"},m};return a},Fte=function(e,t,r){const n=Ete(e,t);for(let l=0;l<t;l+=1)for(let A=0;A<e;A+=1)n.setPixel(A,l,r(A,l));const s=yO();n.write(s);const a=Nte(),o=s.toByteArray();for(let l=0;l<o.length;l+=1)a.writeByte(o[l]);return a.flush(),"data:image/gif;base64,"+a},ug=({libraryCode:e,libraryName:t,libraryId:r,isOpen:n,onClose:s})=>{const a=N.useRef(null),[o,l]=N.useState(""),[A,d]=N.useState("");N.useEffect(()=>{n&&e&&r&&f()},[n,e,r]);const f=()=>{const C=JSON.stringify({libraryId:r,libraryCode:e,libraryName:t,type:"attendance"});l(C);try{const F=Ag(0,"M");F.addData(C),F.make();const v=F.createSvgTag(4,0);d(v),m(F)}catch(F){console.error("Error generating QR code:",F),Wt.error("Failed to generate barcode")}},m=b=>{const C=a.current;if(!C)return;const F=C.getContext("2d");if(!F)return;const v=b.getModuleCount(),S=8,I=32,k=v*S+I*2;C.width=k,C.height=k+60,F.fillStyle="#ffffff",F.fillRect(0,0,C.width,C.height),F.fillStyle="#000000";for(let M=0;M<v;M++)for(let V=0;V<v;V++)b.isDark(M,V)&&F.fillRect(V*S+I,M*S+I,S,S);F.fillStyle="#000000",F.font="bold 16px Arial",F.textAlign="center",F.fillText(t,C.width/2,k+25),F.font="12px Arial",F.fillText(`Code: ${e}`,C.width/2,k+45)},y=()=>{const b=a.current;if(!b)return;const C=document.createElement("a");C.download=`${e}_barcode.png`,C.href=b.toDataURL(),C.click(),Wt.success("Barcode downloaded successfully!")},g=()=>{navigator.clipboard.writeText(o).then(()=>{Wt.success("Barcode data copied to clipboard!")}).catch(()=>{Wt.error("Failed to copy barcode data")})};return n?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[i.jsx(Qc,{className:"w-5 h-5 mr-2 text-blue-600"}),"Library Barcode"]}),i.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(AA,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:"Students can scan this QR code to check in/out for attendance"})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"p-4 bg-white border-2 border-gray-200 rounded-lg shadow-sm",children:A?i.jsx("div",{dangerouslySetInnerHTML:{__html:A}}):i.jsx("canvas",{ref:a,className:"border border-gray-300",style:{maxWidth:"200px",maxHeight:"200px"}})})}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Library Code:"}),i.jsx("p",{className:"text-gray-900 font-mono",children:e})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Library ID:"}),i.jsx("p",{className:"text-gray-900 font-mono",children:r})]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Barcode Data:"}),i.jsx("p",{className:"text-xs text-gray-600 font-mono bg-white p-2 rounded border break-all",children:o})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{onClick:y,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[i.jsx(Hw,{className:"w-4 h-4 mr-2"}),"Download"]}),i.jsxs("button",{onClick:g,className:"flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[i.jsx(L5,{className:"w-4 h-4 mr-2"}),"Copy Data"]})]}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[i.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Instructions:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsx("li",{children:"• Print this QR code and display it prominently in your library"}),i.jsx("li",{children:"• Students can scan this code to check in when arriving"}),i.jsx("li",{children:"• Students can scan again to check out when leaving"}),i.jsx("li",{children:"• Each library has a unique QR code for security"}),i.jsx("li",{children:"• Students can only mark attendance using their registered library's QR code"})]})]})]}),i.jsx("canvas",{ref:a,style:{display:"none"}})]})}):null},Ite=({libraryCode:e,libraryName:t})=>{const[r,n]=N.useState(!1),s=typeof window<"u"?`${window.location.protocol}//${window.location.host}`:"https://yourdomain.com",a=`${s}/#/register/${e}`,o=`${s}/#/registration-status/${e}`,l=async(f,m)=>{try{await navigator.clipboard.writeText(f),n(!0),Fe.success(`${m} copied to clipboard!`),setTimeout(()=>n(!1),2e3)}catch(y){console.error("Failed to copy text: ",y),Fe.error("Failed to copy to clipboard")}},A=f=>{window.open(f,"_blank","noopener,noreferrer")},d=async()=>{if(navigator.share)try{await navigator.share({title:`Register for ${t}`,text:`Join ${t} - Register now!`,url:a})}catch(f){console.error("Error sharing:",f),l(a,"Registration link")}else l(a,"Registration link")};return i.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[i.jsx(H6,{className:"w-5 h-5 mr-2 text-purple-600"}),"Public Registration Link"]}),i.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Library Code: ",e]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Registration URL"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-800 font-mono break-all",children:a}),i.jsx("button",{onClick:()=>l(a,"Registration link"),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",title:"Copy registration link",children:r?i.jsx(By,{className:"w-4 h-4"}):i.jsx(L5,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>A(a),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Open registration page",children:i.jsx(U6,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Status Check URL"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-800 font-mono break-all",children:o}),i.jsx("button",{onClick:()=>l(o,"Status check link"),className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",title:"Copy status check link",children:r?i.jsx(By,{className:"w-4 h-4"}):i.jsx(L5,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>A(o),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Open status check page",children:i.jsx(U6,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[i.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"How to use:"}),i.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[i.jsxs("li",{children:["• Share the ",i.jsx("strong",{children:"Registration URL"})," with prospective students"]}),i.jsxs("li",{children:["• Students can check their application status using the ",i.jsx("strong",{children:"Status Check URL"})]}),i.jsxs("li",{children:["• Review and manage applications in the ",i.jsx("strong",{children:"Admission Requests"})," section"]}),i.jsx("li",{children:"• Approved students will automatically get accounts and membership"})]})]}),i.jsx("div",{className:"flex space-x-2",children:i.jsxs("button",{onClick:d,className:"flex-1 flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:[i.jsx(H6,{className:"w-4 h-4 mr-2"}),"Share Registration Link"]})})]})]})},jte=()=>{const e=Tr();let t=null;try{const ve=hi();if(!ve)throw new Error("Auth context is not available");t=ve.user}catch(ve){return console.error("Auth context error:",ve),Fe.error("Authentication error. Please log in again."),e("/login"),null}const[r,n]=N.useState(0),[s,a]=N.useState({totalStudents:0,activeStudents:0,expiredMemberships:0}),[o,l]=N.useState({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}),[A,d]=N.useState(!1),[f,m]=N.useState([]),[y,g]=N.useState(null),[b,C]=N.useState({totalStudents:0,branches:[],expiredCount:0,totalCollection:0,totalDue:0}),[F,v]=N.useState(!0),[S,I]=N.useState([]),[k,M]=N.useState(!1),[V,O]=N.useState("daily"),[R,_]=N.useState(new Date().toISOString().split("T")[0]),[J,U]=N.useState(""),[Q,X]=N.useState(!1),[Z,$]=N.useState(null),[q,W]=N.useState({totalPresent:0,totalCheckedIn:0,totalCheckedOut:0}),[Y,K]=N.useState({page:1,limit:10,totalRecords:0,totalPages:1}),[ae,be]=N.useState(!1);N.useEffect(()=>{(async()=>{if(t)try{const Ce=await Ue.getLibraryProfile();Ce&&Ce.library&&$({id:Ce.library.id,library_code:Ce.library.libraryCode,name:Ce.library.libraryName})}catch(Ce){console.error("Failed to load library info:",Ce),Fe.error("Could not load library information.")}})()},[t]);const H=()=>{X(!0)},ee=async()=>{try{const ve=await Ue.getBranches();if(!ve||!Array.isArray(ve))throw new Error("Invalid branches data");m(ve)}catch(ve){Fe.error("Failed to load branches"),console.error("Error fetching branches:",ve),m([])}},ie=async()=>{var ve;try{const[Ce,Pe,Me]=await Promise.all([Ue.getTotalStudentsCount(y??void 0).catch(()=>0),Ue.getActiveStudentsCount(y??void 0).catch(()=>0),Ue.getExpiredMembershipsCount(y??void 0).catch(()=>0)]);a({totalStudents:Number(Ce)||0,activeStudents:Number(Pe)||0,expiredMemberships:Number(Me)||0});const Je=await Ue.getDashboardStats(y?{branchId:y}:void 0).catch(()=>({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}));l({totalCollection:Number(Je.totalCollection)||0,totalDue:Number(Je.totalDue)||0,totalExpense:Number(Je.totalExpense)||0,profitLoss:Number(Je.profitLoss)||0})}catch(Ce){((ve=Ce.response)==null?void 0:ve.status)===401?(Fe.error("Session expired. Please log in again."),e("/login")):(Fe.error("Failed to load dashboard stats"),console.error("Error fetching stats:",Ce),a({totalStudents:0,activeStudents:0,expiredMemberships:0}),l({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}))}},le=async()=>{var ve;v(!0);try{const[Ce,Pe,Me,Je]=await Promise.all([Ue.getHostelBranches(),Ue.getHostelStudents(),Ue.getExpiredHostelStudents(),Ue.getHostelCollections()]),Re=(Pe??[]).reduce((_e,ft)=>{const yt=ft.branchId;return yt&&(_e[yt]=(_e[yt]||0)+1),_e},{}),ye=(Array.isArray(Ce)?Ce:[]).map(_e=>({..._e,studentCount:Re[_e.id]||0})),pt=((ve=Me==null?void 0:Me.expiredStudents)==null?void 0:ve.length)??0,rt=(Je==null?void 0:Je.collections)??[],Ke=rt.reduce((_e,ft)=>{const yt=parseFloat(String(ft.cashPaid||0)),et=parseFloat(String(ft.onlinePaid||0));return _e+yt+et},0),ht=rt.reduce((_e,ft)=>{const yt=parseFloat(String(ft.dueAmount||0));return _e+yt},0);C({totalStudents:Array.isArray(Pe)?Pe.length:0,branches:ye,expiredCount:pt,totalCollection:Ke,totalDue:ht})}catch(Ce){Fe.error("Failed to load hostel statistics"),console.error("Error fetching hostel stats:",Ce)}finally{v(!1)}};N.useEffect(()=>{t&&(ee(),ie(),le(),we())},[t,y]),N.useEffect(()=>{t&&we()},[V,R,J]);const ce=t&&(t.role==="admin"||t.role==="staff"),me=()=>{n(ve=>ve+1)},we=async(ve=1)=>{if(t){M(!0);try{const Ce=await Ue.fetchAttendance({date:R,search:J,page:ve,limit:Y.limit,view:V});I(Ce.attendance),K(Ce.pagination);const Pe=Ce.attendance.filter(Je=>Je.firstIn&&!Je.lastOut).length,Me=Ce.attendance.filter(Je=>Je.lastOut).length;W({totalPresent:Ce.pagination.totalRecords,totalCheckedIn:Pe,totalCheckedOut:Me})}catch(Ce){console.error("Failed to load attendance:",Ce),Fe.error("Could not load attendance records.")}finally{M(!1)}}},Ie=ve=>ve?new Date(ve).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"Not recorded";return t?i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsx(On,{isCollapsed:ae,setIsCollapsed:be,onBarcodeClick:H}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Dashboard"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"branch-select",className:"text-sm font-medium text-gray-700 mr-2",children:"Filter by Branch:"}),i.jsxs("select",{id:"branch-select",value:y??"all",onChange:ve=>g(ve.target.value==="all"?null:parseInt(ve.target.value,10)),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",children:[i.jsx("option",{value:"all",children:"All Branches"}),f.map(ve=>i.jsx("option",{value:ve.id.toString(),children:ve.name},ve.id))]})]}),i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Library Statistics"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[i.jsx(gn,{to:"/students",className:"block",children:i.jsx(el,{title:"Total Students",value:s.totalStudents,icon:i.jsx(tc,{className:"h-6 w-6 text-purple-500"}),iconBgColor:"bg-purple-100",arrowIcon:i.jsx(Tn,{className:"h-5 w-5 text-purple-400"})})}),i.jsx(gn,{to:"/active-students",className:"block",children:i.jsx(el,{title:"Active Students",value:s.activeStudents,icon:i.jsx(Du,{className:"h-6 w-6 text-blue-500"}),iconBgColor:"bg-blue-100",arrowIcon:i.jsx(Tn,{className:"h-5 w-5 text-blue-400"})})}),i.jsx(gn,{to:"/expired-memberships",className:"block",children:i.jsx(el,{title:"Expired Memberships",value:s.expiredMemberships,icon:i.jsx(d0,{className:"h-6 w-6 text-orange-500"}),iconBgColor:"bg-orange-100",arrowIcon:i.jsx(Tn,{className:"h-5 w-5 text-orange-400"})})})]}),i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Financial Overview (This Month)"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[i.jsx(el,{title:"Total Collection",value:o.totalCollection,icon:i.jsx(Qw,{className:"h-6 w-6 text-green-500"}),iconBgColor:"bg-green-100",arrowIcon:i.jsx(Tn,{className:"h-5 w-5 text-green-400"})}),i.jsx(el,{title:"Total Due",value:o.totalDue,icon:i.jsx(d0,{className:"h-6 w-6 text-red-500"}),iconBgColor:"bg-red-100",arrowIcon:i.jsx(Tn,{className:"h-5 w-5 text-red-400"})}),i.jsx(el,{title:"Total Expense",value:o.totalExpense,icon:i.jsx(K6,{className:"h-6 w-6 text-yellow-500"}),iconBgColor:"bg-yellow-100",arrowIcon:i.jsx(Tn,{className:"h-5 w-5 text-yellow-400"})}),i.jsx(el,{title:o.profitLoss>=0?"Profit":"Loss",value:Math.abs(o.profitLoss),icon:o.profitLoss>=0?i.jsx(C7,{className:"h-6 w-6 text-teal-500"}):i.jsx(K6,{className:"h-6 w-6 text-red-500"}),iconBgColor:o.profitLoss>=0?"bg-teal-100":"bg-red-100",arrowIcon:i.jsx(Tn,{className:`h-5 w-5 ${o.profitLoss>=0?"text-teal-400":"text-red-400"}`})})]}),Z&&i.jsx(Ite,{libraryCode:Z.library_code,libraryName:Z.name}),ce&&Z&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Attendance Management"}),i.jsx("p",{className:"text-blue-100",children:"Monitor and manage student attendance"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[i.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 w-full sm:w-auto",children:[i.jsx(ko,{className:"w-5 h-5 mb-1"}),i.jsx("input",{type:"date",value:R,onChange:ve=>_(ve.target.value),className:"bg-transparent text-white placeholder-blue-200 border-0 focus:ring-0 p-0 text-sm font-medium w-full"})]}),i.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 flex items-center w-full sm:w-auto",children:[i.jsx(ec,{className:"w-4 h-4 mr-2 text-white"}),i.jsx("input",{type:"text",placeholder:"Search students...",value:J,onChange:ve=>U(ve.target.value),className:"bg-transparent text-white placeholder-blue-200 border-0 focus:ring-0 p-0 text-sm font-medium w-full sm:w-48"})]}),i.jsxs("button",{onClick:()=>X(!0),className:"bg-green-500/20 backdrop-blur-sm hover:bg-green-500/30 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 w-full sm:w-auto",children:[i.jsx(Qc,{className:"w-4 h-4"}),i.jsx("span",{children:"Generate QR"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100 text-sm",children:"Total Present"}),i.jsx("p",{className:"text-2xl font-bold",children:q.totalPresent})]}),i.jsx(Du,{className:"w-8 h-8 text-blue-200"})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100 text-sm",children:"Checked In"}),i.jsx("p",{className:"text-2xl font-bold",children:q.totalCheckedIn})]}),i.jsx(Xs,{className:"w-8 h-8 text-green-200"})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-100 text-sm",children:"Checked Out"}),i.jsx("p",{className:"text-2xl font-bold",children:q.totalCheckedOut})]}),i.jsx(Xs,{className:"w-8 h-8 text-red-200"})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[i.jsx("div",{className:"p-6 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Records"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>O("daily"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${V==="daily"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Daily"}),i.jsx("button",{onClick:()=>O("monthly"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${V==="monthly"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Monthly"})]})]})}),k?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"text-gray-500 mt-2",children:"Loading attendance..."})]}):S.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration Number"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check In"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check Out"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(ve=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:ve.studentName}),i.jsx("div",{className:"text-sm text-gray-500",children:ve.phone})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ve.registrationNumber}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ie(ve.firstIn||"")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ie(ve.lastOut||"")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ve.lastOut?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:ve.lastOut?"Checked Out":"Checked In"})})]},ve.studentId))})]})}),Y.totalRecords>0&&i.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6",children:[i.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[i.jsx("button",{onClick:()=>we(Y.page-1),disabled:Y.page<=1,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),i.jsx("button",{onClick:()=>we(Y.page+1),disabled:Y.page>=Y.totalPages,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),i.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",i.jsx("span",{className:"font-medium",children:(Y.page-1)*Y.limit+1})," to ",i.jsx("span",{className:"font-medium",children:Math.min(Y.page*Y.limit,Y.totalRecords)})," of"," ",i.jsx("span",{className:"font-medium",children:Y.totalRecords})," results"]})}),i.jsx("div",{children:i.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[i.jsxs("button",{onClick:()=>we(Y.page-1),disabled:Y.page<=1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[i.jsx("span",{className:"sr-only",children:"Previous"}),i.jsx(Tn,{className:"h-5 w-5 rotate-180","aria-hidden":"true"})]}),i.jsxs("button",{onClick:()=>we(Y.page+1),disabled:Y.page>=Y.totalPages,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[i.jsx("span",{className:"sr-only",children:"Next"}),i.jsx(Tn,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]}):i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(ko,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Attendance Records"}),i.jsx("p",{className:"text-gray-500",children:"No students have marked attendance for the selected date."})]})]})]}),ce&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Manage Library Students"}),A?i.jsx("button",{onClick:()=>{d(!1),me()},className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition duration-200",children:"Cancel"}):i.jsx("button",{onClick:()=>d(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition duration-200",children:"Add Student"})]}),A&&i.jsx(xO,{}),i.jsx(kY,{selectedBranchId:y},r.toString())]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Expiring Soon (Library)"}),i.jsx(wte,{selectedBranchId:y})]})]})})]}),Z&&i.jsx(ug,{isOpen:Q,libraryCode:Z.library_code,libraryName:Z.name,libraryId:Z.id,onClose:()=>X(!1)})]}):null},Tte=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-orange-50 p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-6xl font-bold text-purple-600 mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-700 mb-6",children:"Oops! Page not found"}),i.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"The page you are looking for might have been removed or is temporarily unavailable."}),i.jsx(gn,{to:"/",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Return to Dashboard"})]})}),ac=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:hr("w-full caption-bottom text-sm",e),...t})}));ac.displayName="Table";const ic=N.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:hr("[&_tr]:border-b",e),...t}));ic.displayName="TableHeader";const oc=N.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:hr("[&_tr:last-child]:border-0",e),...t}));oc.displayName="TableBody";const Lte=N.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:hr("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Lte.displayName="TableFooter";const Zn=N.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:hr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Zn.displayName="TableRow";const Jt=N.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:hr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Jt.displayName="TableHead";const Gt=N.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:hr("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Gt.displayName="TableCell";const wO=N.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:hr("mt-4 text-sm text-muted-foreground",e),...t}));wO.displayName="TableCaption";const kte=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",Pte=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,a]=N.useState(""),[o,l]=N.useState(1),[A,d]=N.useState(10),[f,m]=N.useState(!1),y=Tr();N.useEffect(()=>{(async()=>{try{const M=await Ue.getActiveStudents();if(!M||!Array.isArray(M.students))throw new Error("Invalid data received for active students");t(M.students),n(!1)}catch(M){console.error("Failed to fetch active students:",M.message),n(!1)}})()},[]),N.useEffect(()=>{l(1)},[s]);const g=e.filter(k=>k.name.toLowerCase().includes(s.toLowerCase())||k.phone.toLowerCase().includes(s.toLowerCase())||k.registrationNumber&&k.registrationNumber.toLowerCase().includes(s.toLowerCase())),b=o*A,C=b-A,F=g.slice(C,b),v=Math.ceil(g.length/A),S=async k=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Ue.deleteStudent(k),t(e.filter(M=>M.id!==k)),Fe.success("Student deleted successfully")}catch(M){console.error("Failed to delete student:",M.message),Fe.error("Failed to delete student")}},I=k=>{y(`/students/${k}`)};return i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(On,{isCollapsed:f,setIsCollapsed:m}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Active Students"}),i.jsx("p",{className:"text-gray-500",children:"Manage all your active students"})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-col md:flex-row items-start md:items-center justify-between space-y-2 md:space-y-0",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Active Students List"}),i.jsxs("div",{className:"relative w-full md:w-64",children:[i.jsx(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:s,onChange:k=>a(k.target.value)})]})]}),r?i.jsx("div",{className:"flex justify-center p-8",children:"Loading active students..."}):i.jsx(i.Fragment,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(ac,{children:[i.jsx(ic,{children:i.jsxs(Zn,{children:[i.jsx(Jt,{children:"Name"}),i.jsx(Jt,{children:"Registration Number"}),i.jsx(Jt,{className:"hidden md:table-cell",children:"Phone"}),i.jsx(Jt,{children:"Status"}),i.jsx(Jt,{className:"hidden md:table-cell",children:"Membership End"}),i.jsx(Jt,{children:"Actions"})]})}),i.jsx(oc,{children:F.length>0?F.map(k=>i.jsxs(Zn,{children:[i.jsx(Gt,{children:k.name}),i.jsx(Gt,{children:k.registrationNumber||"N/A"}),i.jsx(Gt,{className:"hidden md:table-cell",children:k.phone}),i.jsx(Gt,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${k.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.status==="active"?"Active":"Expired"})}),i.jsx(Gt,{className:"hidden md:table-cell",children:kte(k.membershipEnd)}),i.jsxs(Gt,{children:[i.jsx("button",{onClick:()=>I(k.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:i.jsx(Oi,{size:16})}),i.jsx("button",{onClick:()=>S(k.id),className:"text-red-600 hover:text-red-800 p-2",children:i.jsx(Oo,{size:16})})]})]},k.id)):i.jsx(Zn,{children:i.jsx(Gt,{colSpan:6,className:"text-center py-8 text-gray-500",children:g.length===0?"No active students found matching your search.":"No active students on this page."})})})]})})}),!r&&g.length>0&&i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border-t border-gray-200 px-6 py-3 space-y-2 md:space-y-0",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("select",{value:A,onChange:k=>{d(Number(k.target.value)),l(1)},className:"text-sm border rounded py-2 px-3",children:[i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:25,children:"25"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]}),i.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>l(k=>Math.max(k-1,1)),disabled:o===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:i.jsx($u,{size:16})}),i.jsxs("span",{className:"text-sm",children:["Page ",o," of ",v]}),i.jsx("button",{onClick:()=>l(k=>Math.min(k+1,v)),disabled:o===v,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:i.jsx(Tn,{size:16})})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",C+1," to ",Math.min(b,g.length)," of ",g.length," students"]})]})]})]})})]})]})};var vO={exports:{}};(function(e,t){(function(r,n){e.exports=n(N)})(typeof self<"u"?self:Yh,function(r){return function(){var n={155:function(v){v.exports=r}},s={};function a(v){var S=s[v];if(S!==void 0)return S.exports;var I=s[v]={exports:{}};return n[v](I,I.exports,a),I.exports}a.d=function(v,S){for(var I in S)a.o(S,I)&&!a.o(v,I)&&Object.defineProperty(v,I,{enumerable:!0,get:S[I]})},a.o=function(v,S){return Object.prototype.hasOwnProperty.call(v,S)},a.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})};var o={};a.r(o),a.d(o,{useReactToPrint:function(){return F}});var l=a(155);function A({level:v="error",messages:S,suppressErrors:I=!1}){I||(v==="error"?console.error(S):v==="warning"?console.warn(S):console.debug(S))}function d(v,S){if(S||!v){const I=document.getElementById("printWindow");I&&document.body.removeChild(I)}}function f(v){return v instanceof Error?v:new Error("Unknown Error")}function m(v,S){const{documentTitle:I,onAfterPrint:k,onPrintError:M,preserveAfterPrint:V,print:O,suppressErrors:R}=S;setTimeout(()=>{var _,J;if(v.contentWindow){let U=function(){k==null||k(),d(V)};if(v.contentWindow.focus(),O)O(v).then(U).catch(Q=>{M?M("print",f(Q)):A({messages:["An error was thrown by the specified `print` function"],suppressErrors:R})});else{if(v.contentWindow.print){const Q=(J=(_=v.contentDocument)===null||_===void 0?void 0:_.title)!==null&&J!==void 0?J:"",X=v.ownerDocument.title;I&&(v.ownerDocument.title=I,v.contentDocument&&(v.contentDocument.title=I)),v.contentWindow.print(),I&&(v.ownerDocument.title=X,v.contentDocument&&(v.contentDocument.title=Q))}else A({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:R});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(Q=>{var X,Z;return((Z=(X=navigator.userAgent)!==null&&X!==void 0?X:navigator.vendor)!==null&&Z!==void 0?Z:"opera"in window&&window.opera).match(Q)})?setTimeout(U,500):U()}}else A({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:R})},500)}function y(v){const S=[],I=document.createTreeWalker(v,NodeFilter.SHOW_ELEMENT,null);let k=I.nextNode();for(;k;)S.push(k),k=I.nextNode();return S}function g(v,S,I){const k=y(v),M=y(S);if(k.length===M.length)for(let V=0;V<k.length;V++){const O=k[V],R=M[V],_=O.shadowRoot;if(_!==null){const J=R.attachShadow({mode:_.mode});J.innerHTML=_.innerHTML,g(_,J,I)}}else A({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",v,S],suppressErrors:I})}const b=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function C(v,S,I,k){var M,V,O,R,_;const{contentNode:J,clonedContentNode:U,clonedImgNodes:Q,clonedVideoNodes:X,numResourcesToLoad:Z,originalCanvasNodes:$}=I,{bodyClass:q,fonts:W,ignoreGlobalStyles:Y,pageStyle:K,nonce:ae,suppressErrors:be,copyShadowRoots:H}=k;v.onload=null;const ee=(M=v.contentDocument)!==null&&M!==void 0?M:(V=v.contentWindow)===null||V===void 0?void 0:V.document;if(ee){const ie=ee.body.appendChild(U);H&&g(J,ie,!!be),W&&(!((O=v.contentDocument)===null||O===void 0)&&O.fonts&&(!((R=v.contentWindow)===null||R===void 0)&&R.FontFace)?W.forEach(Ce=>{const Pe=new FontFace(Ce.family,Ce.source,{weight:Ce.weight,style:Ce.style});v.contentDocument.fonts.add(Pe),Pe.loaded.then(()=>{S(Pe)}).catch(Me=>{S(Pe,["Failed loading the font:",Pe,"Load error:",f(Me)])})}):(W.forEach(Ce=>{S(Ce)}),A({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:be})));const le=K??b,ce=ee.createElement("style");ae&&(ce.setAttribute("nonce",ae),ee.head.setAttribute("nonce",ae)),ce.appendChild(ee.createTextNode(le)),ee.head.appendChild(ce),q&&ee.body.classList.add(...q.split(" "));const me=ee.querySelectorAll("canvas");for(let Ce=0;Ce<$.length;++Ce){const Pe=$[Ce],Me=me[Ce];if(Me===void 0){A({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Pe],suppressErrors:be});continue}const Je=Me.getContext("2d");Je&&Je.drawImage(Pe,0,0)}for(let Ce=0;Ce<Q.length;Ce++){const Pe=Q[Ce],Me=Pe.getAttribute("src");if(Me){const Je=new Image;Je.onload=()=>{S(Pe)},Je.onerror=(Re,ye,pt,rt,Ke)=>{S(Pe,["Error loading <img>",Pe,"Error",Ke])},Je.src=Me}else S(Pe,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Pe])}for(let Ce=0;Ce<X.length;Ce++){const Pe=X[Ce];Pe.preload="auto";const Me=Pe.getAttribute("poster");if(Me){const Je=new Image;Je.onload=()=>{S(Pe)},Je.onerror=(Re,ye,pt,rt,Ke)=>{S(Pe,["Error loading video poster",Me,"for video",Pe,"Error:",Ke])},Je.src=Me}else Pe.readyState>=2?S(Pe):Pe.src?(Pe.onloadeddata=()=>{S(Pe)},Pe.onerror=(Je,Re,ye,pt,rt)=>{S(Pe,["Error loading video",Pe,"Error",rt])},Pe.onstalled=()=>{S(Pe,["Loading video stalled, skipping",Pe])}):S(Pe,["Error loading video, `src` is empty",Pe])}const we="select",Ie=J.querySelectorAll(we),ve=ee.querySelectorAll(we);for(let Ce=0;Ce<Ie.length;Ce++)ve[Ce].value=Ie[Ce].value;if(!Y){const Ce=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Pe=0,Me=Ce.length;Pe<Me;++Pe){const Je=Ce[Pe];if(Je.tagName.toLowerCase()==="style"){const Re=ee.createElement(Je.tagName),ye=Je.sheet;if(ye){let pt="";try{const rt=ye.cssRules.length;for(let Ke=0;Ke<rt;++Ke)typeof ye.cssRules[Ke].cssText=="string"&&(pt+=`${ye.cssRules[Ke].cssText}\r
`)}catch(rt){A({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Je,`Original error: ${f(rt).message}`],level:"warning"})}Re.setAttribute("id",`react-to-print-${Pe}`),ae&&Re.setAttribute("nonce",ae),Re.appendChild(ee.createTextNode(pt)),ee.head.appendChild(Re)}}else if(Je.getAttribute("href"))if(Je.hasAttribute("disabled"))A({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Je],level:"warning"}),S(Je);else{const Re=ee.createElement(Je.tagName);for(let ye=0,pt=Je.attributes.length;ye<pt;++ye){const rt=Je.attributes[ye];rt&&Re.setAttribute(rt.nodeName,(_=rt.nodeValue)!==null&&_!==void 0?_:"")}Re.onload=()=>{S(Re)},Re.onerror=(ye,pt,rt,Ke,ht)=>{S(Re,["Failed to load",Re,"Error:",ht])},ae&&Re.setAttribute("nonce",ae),ee.head.appendChild(Re)}else A({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Je],level:"warning"}),S(Je)}}}Z===0&&m(v,k)}function F({bodyClass:v,contentRef:S,copyShadowRoots:I,documentTitle:k,fonts:M,ignoreGlobalStyles:V,nonce:O,onAfterPrint:R,onBeforePrint:_,onPrintError:J,pageStyle:U,preserveAfterPrint:Q,print:X,suppressErrors:Z}){return(0,l.useCallback)($=>{function q(){const W={bodyClass:v,contentRef:S,copyShadowRoots:I,documentTitle:k,fonts:M,ignoreGlobalStyles:V,nonce:O,onAfterPrint:R,onBeforePrint:_,onPrintError:J,pageStyle:U,preserveAfterPrint:Q,print:X,suppressErrors:Z},Y=function(){const be=document.createElement("iframe");return be.width=`${document.documentElement.clientWidth}px`,be.height=`${document.documentElement.clientHeight}px`,be.style.position="absolute",be.style.top=`-${document.documentElement.clientHeight+100}px`,be.style.left=`-${document.documentElement.clientWidth+100}px`,be.id="printWindow",be.srcdoc="<!DOCTYPE html>",be}(),K=function(be,H){const{contentRef:ee,fonts:ie,ignoreGlobalStyles:le,suppressErrors:ce}=H,me=function({contentRef:Me,optionalContent:Je,suppressErrors:Re}){return Je&&typeof Je=="function"?(Me&&A({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Je()):Me?Me.current:void A({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Re})}({contentRef:ee,optionalContent:be,suppressErrors:ce});if(!me)return;const we=me.cloneNode(!0),Ie=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ve=we.querySelectorAll("img"),Ce=we.querySelectorAll("video"),Pe=ie?ie.length:0;return{contentNode:me,clonedContentNode:we,clonedImgNodes:ve,clonedVideoNodes:Ce,numResourcesToLoad:(le?0:Ie.length)+ve.length+Ce.length+Pe,originalCanvasNodes:me.querySelectorAll("canvas")}}($,W);if(!K)return void A({messages:["There is nothing to print"],suppressErrors:Z});const ae=function(be,H,ee){const{suppressErrors:ie}=be,le=[],ce=[];return function(me,we){le.includes(me)?A({level:"debug",messages:["Tried to mark a resource that has already been handled",me],suppressErrors:ie}):(we?(A({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...we],suppressErrors:ie}),ce.push(me)):le.push(me),le.length+ce.length===H&&m(ee,be))}}(W,K.numResourcesToLoad,Y);(function(be,H,ee,ie){be.onload=()=>{C(be,H,ee,ie)},document.body.appendChild(be)})(Y,ae,K,W)}d(Q,!0),_?_().then(()=>{q()}).catch(W=>{J==null||J("onBeforePrint",f(W))}):q()},[v,S,I,k,M,V,O,R,_,J,U,Q,X,Z])}return o}()})})(vO);var bO=vO.exports;const Ote="modulepreload",Rte=function(e,t){return new URL(e,t).href},CF={},H5=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),A=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(d=>{if(d=Rte(d,n),d in CF)return;CF[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(!!n)for(let b=o.length-1;b>=0;b--){const C=o[b];if(C.href===d&&(!f||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Ote,f||(g.as="script"),g.crossOrigin="",g.href=d,A&&g.setAttribute("nonce",A),document.head.appendChild(g),f)return new Promise((b,C)=>{g.addEventListener("load",b),g.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var Va=Uint8Array,Xi=Uint16Array,GN=Int32Array,s2=new Va([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a2=new Va([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),V5=new Va([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),CO=function(e,t){for(var r=new Xi(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new GN(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return{b:r,r:s}},BO=CO(s2,2),NO=BO.b,K5=BO.r;NO[28]=258,K5[258]=28;var SO=CO(a2,0),Dte=SO.b,BF=SO.r,G5=new Xi(32768);for(var Vn=0;Vn<32768;++Vn){var OA=(Vn&43690)>>1|(Vn&21845)<<1;OA=(OA&52428)>>2|(OA&13107)<<2,OA=(OA&61680)>>4|(OA&3855)<<4,G5[Vn]=((OA&65280)>>8|(OA&255)<<8)>>1}var Kl=function(e,t,r){for(var n=e.length,s=0,a=new Xi(t);s<n;++s)e[s]&&++a[e[s]-1];var o=new Xi(t);for(s=1;s<t;++s)o[s]=o[s-1]+a[s-1]<<1;var l;if(r){l=new Xi(1<<t);var A=15-t;for(s=0;s<n;++s)if(e[s])for(var d=s<<4|e[s],f=t-e[s],m=o[e[s]-1]++<<f,y=m|(1<<f)-1;m<=y;++m)l[G5[m]>>A]=d}else for(l=new Xi(n),s=0;s<n;++s)e[s]&&(l[s]=G5[o[e[s]-1]++]>>15-e[s]);return l},_u=new Va(288);for(var Vn=0;Vn<144;++Vn)_u[Vn]=8;for(var Vn=144;Vn<256;++Vn)_u[Vn]=9;for(var Vn=256;Vn<280;++Vn)_u[Vn]=7;for(var Vn=280;Vn<288;++Vn)_u[Vn]=8;var Rp=new Va(32);for(var Vn=0;Vn<32;++Vn)Rp[Vn]=5;var _te=Kl(_u,9,0),Mte=Kl(_u,9,1),Ute=Kl(Rp,5,0),Qte=Kl(Rp,5,1),Gv=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ko=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Wv=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},WN=function(e){return(e+7)/8|0},EO=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Va(e.subarray(t,r))},Hte=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Xo=function(e,t,r){var n=new Error(t||Hte[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Xo),!r)throw n;return n},Vte=function(e,t,r,n){var s=e.length,a=0;if(!s||t.f&&!t.l)return r||new Va(0);var o=!r,l=o||t.i!=2,A=t.i;o&&(r=new Va(s*3));var d=function(Ce){var Pe=r.length;if(Ce>Pe){var Me=new Va(Math.max(Pe*2,Ce));Me.set(r),r=Me}},f=t.f||0,m=t.p||0,y=t.b||0,g=t.l,b=t.d,C=t.m,F=t.n,v=s*8;do{if(!g){f=Ko(e,m,1);var S=Ko(e,m+1,3);if(m+=3,S)if(S==1)g=Mte,b=Qte,C=9,F=5;else if(S==2){var V=Ko(e,m,31)+257,O=Ko(e,m+10,15)+4,R=V+Ko(e,m+5,31)+1;m+=14;for(var _=new Va(R),J=new Va(19),U=0;U<O;++U)J[V5[U]]=Ko(e,m+U*3,7);m+=O*3;for(var Q=Gv(J),X=(1<<Q)-1,Z=Kl(J,Q,1),U=0;U<R;){var $=Z[Ko(e,m,X)];m+=$&15;var I=$>>4;if(I<16)_[U++]=I;else{var q=0,W=0;for(I==16?(W=3+Ko(e,m,3),m+=2,q=_[U-1]):I==17?(W=3+Ko(e,m,7),m+=3):I==18&&(W=11+Ko(e,m,127),m+=7);W--;)_[U++]=q}}var Y=_.subarray(0,V),K=_.subarray(V);C=Gv(Y),F=Gv(K),g=Kl(Y,C,1),b=Kl(K,F,1)}else Xo(1);else{var I=WN(m)+4,k=e[I-4]|e[I-3]<<8,M=I+k;if(M>s){A&&Xo(0);break}l&&d(y+k),r.set(e.subarray(I,M),y),t.b=y+=k,t.p=m=M*8,t.f=f;continue}if(m>v){A&&Xo(0);break}}l&&d(y+131072);for(var ae=(1<<C)-1,be=(1<<F)-1,H=m;;H=m){var q=g[Wv(e,m)&ae],ee=q>>4;if(m+=q&15,m>v){A&&Xo(0);break}if(q||Xo(2),ee<256)r[y++]=ee;else if(ee==256){H=m,g=null;break}else{var ie=ee-254;if(ee>264){var U=ee-257,le=s2[U];ie=Ko(e,m,(1<<le)-1)+NO[U],m+=le}var ce=b[Wv(e,m)&be],me=ce>>4;ce||Xo(3),m+=ce&15;var K=Dte[me];if(me>3){var le=a2[me];K+=Wv(e,m)&(1<<le)-1,m+=le}if(m>v){A&&Xo(0);break}l&&d(y+131072);var we=y+ie;if(y<K){var Ie=a-K,ve=Math.min(K,we);for(Ie+y<0&&Xo(3);y<ve;++y)r[y]=n[Ie+y]}for(;y<we;++y)r[y]=r[y-K]}}t.l=g,t.p=H,t.b=y,t.f=f,g&&(f=1,t.m=C,t.d=b,t.n=F)}while(!f);return y!=r.length&&o?EO(r,0,y):r.subarray(0,y)},Bc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},im=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},zv=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return{t:IO,l:0};if(s==1){var o=new Va(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(M,V){return M.f-V.f}),r.push({s:-1,f:25001});var l=r[0],A=r[1],d=0,f=1,m=2;for(r[0]={s:-1,f:l.f+A.f,l,r:A};f!=s-1;)l=r[r[d].f<r[m].f?d++:m++],A=r[d!=f&&r[d].f<r[m].f?d++:m++],r[f++]={s:-1,f:l.f+A.f,l,r:A};for(var y=a[0].s,n=1;n<s;++n)a[n].s>y&&(y=a[n].s);var g=new Xi(y+1),b=W5(r[f-1],g,0);if(b>t){var n=0,C=0,F=b-t,v=1<<F;for(a.sort(function(V,O){return g[O.s]-g[V.s]||V.f-O.f});n<s;++n){var S=a[n].s;if(g[S]>t)C+=v-(1<<b-g[S]),g[S]=t;else break}for(C>>=F;C>0;){var I=a[n].s;g[I]<t?C-=1<<t-g[I]++-1:++n}for(;n>=0&&C;--n){var k=a[n].s;g[k]==t&&(--g[k],++C)}b=t}return{t:new Va(g),l:b}},W5=function(e,t,r){return e.s==-1?Math.max(W5(e.l,t,r+1),W5(e.r,t,r+1)):t[e.s]=r},NF=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Xi(++t),n=0,s=e[0],a=1,o=function(A){r[n++]=A},l=1;l<=t;++l)if(e[l]==s&&l!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=e[l]}return{c:r.subarray(0,n),n:t}},om=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},FO=function(e,t,r){var n=r.length,s=WN(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var a=0;a<n;++a)e[s+a+4]=r[a];return(s+4+n)*8},SF=function(e,t,r,n,s,a,o,l,A,d,f){Bc(t,f++,r),++s[256];for(var m=zv(s,15),y=m.t,g=m.l,b=zv(a,15),C=b.t,F=b.l,v=NF(y),S=v.c,I=v.n,k=NF(C),M=k.c,V=k.n,O=new Xi(19),R=0;R<S.length;++R)++O[S[R]&31];for(var R=0;R<M.length;++R)++O[M[R]&31];for(var _=zv(O,7),J=_.t,U=_.l,Q=19;Q>4&&!J[V5[Q-1]];--Q);var X=d+5<<3,Z=om(s,_u)+om(a,Rp)+o,$=om(s,y)+om(a,C)+o+14+3*Q+om(O,J)+2*O[16]+3*O[17]+7*O[18];if(A>=0&&X<=Z&&X<=$)return FO(t,f,e.subarray(A,A+d));var q,W,Y,K;if(Bc(t,f,1+($<Z)),f+=2,$<Z){q=Kl(y,g,0),W=y,Y=Kl(C,F,0),K=C;var ae=Kl(J,U,0);Bc(t,f,I-257),Bc(t,f+5,V-1),Bc(t,f+10,Q-4),f+=14;for(var R=0;R<Q;++R)Bc(t,f+3*R,J[V5[R]]);f+=3*Q;for(var be=[S,M],H=0;H<2;++H)for(var ee=be[H],R=0;R<ee.length;++R){var ie=ee[R]&31;Bc(t,f,ae[ie]),f+=J[ie],ie>15&&(Bc(t,f,ee[R]>>5&127),f+=ee[R]>>12)}}else q=_te,W=_u,Y=Ute,K=Rp;for(var R=0;R<l;++R){var le=n[R];if(le>255){var ie=le>>18&31;im(t,f,q[ie+257]),f+=W[ie+257],ie>7&&(Bc(t,f,le>>23&31),f+=s2[ie]);var ce=le&31;im(t,f,Y[ce]),f+=K[ce],ce>3&&(im(t,f,le>>5&8191),f+=a2[ce])}else im(t,f,q[le]),f+=W[le]}return im(t,f,q[256]),f+W[256]},Kte=new GN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),IO=new Va(0),Gte=function(e,t,r,n,s,a){var o=a.z||e.length,l=new Va(n+o+5*(1+Math.ceil(o/7e3))+s),A=l.subarray(n,l.length-s),d=a.l,f=(a.r||0)&7;if(t){f&&(A[0]=a.r>>3);for(var m=Kte[t-1],y=m>>13,g=m&8191,b=(1<<r)-1,C=a.p||new Xi(32768),F=a.h||new Xi(b+1),v=Math.ceil(r/3),S=2*v,I=function(Je){return(e[Je]^e[Je+1]<<v^e[Je+2]<<S)&b},k=new GN(25e3),M=new Xi(288),V=new Xi(32),O=0,R=0,_=a.i||0,J=0,U=a.w||0,Q=0;_+2<o;++_){var X=I(_),Z=_&32767,$=F[X];if(C[Z]=$,F[X]=Z,U<=_){var q=o-_;if((O>7e3||J>24576)&&(q>423||!d)){f=SF(e,A,0,k,M,V,R,J,Q,_-Q,f),J=O=R=0,Q=_;for(var W=0;W<286;++W)M[W]=0;for(var W=0;W<30;++W)V[W]=0}var Y=2,K=0,ae=g,be=Z-$&32767;if(q>2&&X==I(_-be))for(var H=Math.min(y,q)-1,ee=Math.min(32767,_),ie=Math.min(258,q);be<=ee&&--ae&&Z!=$;){if(e[_+Y]==e[_+Y-be]){for(var le=0;le<ie&&e[_+le]==e[_+le-be];++le);if(le>Y){if(Y=le,K=be,le>H)break;for(var ce=Math.min(be,le-2),me=0,W=0;W<ce;++W){var we=_-be+W&32767,Ie=C[we],ve=we-Ie&32767;ve>me&&(me=ve,$=we)}}}Z=$,$=C[Z],be+=Z-$&32767}if(K){k[J++]=268435456|K5[Y]<<18|BF[K];var Ce=K5[Y]&31,Pe=BF[K]&31;R+=s2[Ce]+a2[Pe],++M[257+Ce],++V[Pe],U=_+Y,++O}else k[J++]=e[_],++M[e[_]]}}for(_=Math.max(_,U);_<o;++_)k[J++]=e[_],++M[e[_]];f=SF(e,A,d,k,M,V,R,J,Q,_-Q,f),d||(a.r=f&7|A[f/8|0]<<3,f-=7,a.h=F,a.p=C,a.i=_,a.w=U)}else{for(var _=a.w||0;_<o+d;_+=65535){var Me=_+65535;Me>=o&&(A[f/8|0]=d,Me=o),f=FO(A,f+1,e.subarray(_,Me))}a.i=o}return EO(l,0,n+WN(f)+s)},jO=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Wte=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Va(a.length+e.length);o.set(a),o.set(e,a.length),e=o,s.w=a.length}return Gte(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},TO=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},zte=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=jO();s.p(t.dictionary),TO(e,2,s.d())}},$te=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Xo(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Xo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function z5(e,t){t||(t={});var r=jO();r.p(e);var n=Wte(e,t,t.dictionary?6:2,4);return zte(n,t),TO(n,n.length-4,r.d()),n}function qte(e,t){return Vte(e.subarray($te(e,t),-4),{i:2},t,t)}var Xte=typeof TextDecoder<"u"&&new TextDecoder,Yte=0;try{Xte.decode(IO,{stream:!0}),Yte=1}catch{}var sr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function $v(){sr.console&&typeof sr.console.log=="function"&&sr.console.log.apply(sr.console,arguments)}var bn={log:$v,warn:function(e){sr.console&&(typeof sr.console.warn=="function"?sr.console.warn.apply(sr.console,arguments):$v.call(null,arguments))},error:function(e){sr.console&&(typeof sr.console.error=="function"?sr.console.error.apply(sr.console,arguments):$v(e))}};function qv(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){wd(n.response,t,r)},n.onerror=function(){bn.error("could not download file")},n.send()}function EF(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function y1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var zm,$5,wd=sr.saveAs||((typeof window>"u"?"undefined":Vr(window))!=="object"||window!==sr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=sr.URL||sr.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?EF(s.href)?qv(e,t,r):y1(s,s.target="_blank"):y1(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){y1(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(EF(e))qv(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){y1(n)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:Vr(a)!=="object"&&(bn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return qv(e,t,r);var s=e.type==="application/octet-stream",a=/constructor/i.test(sr.HTMLElement)||sr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&a)&&(typeof FileReader>"u"?"undefined":Vr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(e)}else{var A=sr.URL||sr.webkitURL,d=A.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){A.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function LO(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,a=r[n].process,o=s.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),A=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),d.length==1&&(d="0"+d),"#"+l+A+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Xv(e,t){var r=e[0],n=e[1],s=e[2],a=e[3];r=Ta(r,n,s,a,t[0],7,-680876936),a=Ta(a,r,n,s,t[1],12,-389564586),s=Ta(s,a,r,n,t[2],17,606105819),n=Ta(n,s,a,r,t[3],22,-1044525330),r=Ta(r,n,s,a,t[4],7,-176418897),a=Ta(a,r,n,s,t[5],12,1200080426),s=Ta(s,a,r,n,t[6],17,-1473231341),n=Ta(n,s,a,r,t[7],22,-45705983),r=Ta(r,n,s,a,t[8],7,1770035416),a=Ta(a,r,n,s,t[9],12,-1958414417),s=Ta(s,a,r,n,t[10],17,-42063),n=Ta(n,s,a,r,t[11],22,-1990404162),r=Ta(r,n,s,a,t[12],7,1804603682),a=Ta(a,r,n,s,t[13],12,-40341101),s=Ta(s,a,r,n,t[14],17,-1502002290),r=La(r,n=Ta(n,s,a,r,t[15],22,1236535329),s,a,t[1],5,-165796510),a=La(a,r,n,s,t[6],9,-1069501632),s=La(s,a,r,n,t[11],14,643717713),n=La(n,s,a,r,t[0],20,-373897302),r=La(r,n,s,a,t[5],5,-701558691),a=La(a,r,n,s,t[10],9,38016083),s=La(s,a,r,n,t[15],14,-660478335),n=La(n,s,a,r,t[4],20,-405537848),r=La(r,n,s,a,t[9],5,568446438),a=La(a,r,n,s,t[14],9,-1019803690),s=La(s,a,r,n,t[3],14,-187363961),n=La(n,s,a,r,t[8],20,1163531501),r=La(r,n,s,a,t[13],5,-1444681467),a=La(a,r,n,s,t[2],9,-51403784),s=La(s,a,r,n,t[7],14,1735328473),r=ka(r,n=La(n,s,a,r,t[12],20,-1926607734),s,a,t[5],4,-378558),a=ka(a,r,n,s,t[8],11,-2022574463),s=ka(s,a,r,n,t[11],16,1839030562),n=ka(n,s,a,r,t[14],23,-35309556),r=ka(r,n,s,a,t[1],4,-1530992060),a=ka(a,r,n,s,t[4],11,1272893353),s=ka(s,a,r,n,t[7],16,-155497632),n=ka(n,s,a,r,t[10],23,-1094730640),r=ka(r,n,s,a,t[13],4,681279174),a=ka(a,r,n,s,t[0],11,-358537222),s=ka(s,a,r,n,t[3],16,-722521979),n=ka(n,s,a,r,t[6],23,76029189),r=ka(r,n,s,a,t[9],4,-640364487),a=ka(a,r,n,s,t[12],11,-421815835),s=ka(s,a,r,n,t[15],16,530742520),r=Pa(r,n=ka(n,s,a,r,t[2],23,-995338651),s,a,t[0],6,-198630844),a=Pa(a,r,n,s,t[7],10,1126891415),s=Pa(s,a,r,n,t[14],15,-1416354905),n=Pa(n,s,a,r,t[5],21,-57434055),r=Pa(r,n,s,a,t[12],6,1700485571),a=Pa(a,r,n,s,t[3],10,-1894986606),s=Pa(s,a,r,n,t[10],15,-1051523),n=Pa(n,s,a,r,t[1],21,-2054922799),r=Pa(r,n,s,a,t[8],6,1873313359),a=Pa(a,r,n,s,t[15],10,-30611744),s=Pa(s,a,r,n,t[6],15,-1560198380),n=Pa(n,s,a,r,t[13],21,1309151649),r=Pa(r,n,s,a,t[4],6,-145523070),a=Pa(a,r,n,s,t[11],10,-1120210379),s=Pa(s,a,r,n,t[2],15,718787259),n=Pa(n,s,a,r,t[9],21,-343485551),e[0]=Au(r,e[0]),e[1]=Au(n,e[1]),e[2]=Au(s,e[2]),e[3]=Au(a,e[3])}function i2(e,t,r,n,s,a){return t=Au(Au(t,e),Au(n,a)),Au(t<<s|t>>>32-s,r)}function Ta(e,t,r,n,s,a,o){return i2(t&r|~t&n,e,t,s,a,o)}function La(e,t,r,n,s,a,o){return i2(t&n|r&~n,e,t,s,a,o)}function ka(e,t,r,n,s,a,o){return i2(t^r^n,e,t,s,a,o)}function Pa(e,t,r,n,s,a,o){return i2(r^(t|~n),e,t,s,a,o)}function kO(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Xv(n,Jte(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Xv(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,Xv(n,s),n}function Jte(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}zm=sr.atob.bind(sr),$5=sr.btoa.bind(sr);var FF="0123456789abcdef".split("");function Zte(e){for(var t="",r=0;r<4;r++)t+=FF[e>>8*r+4&15]+FF[e>>8*r&15];return t}function ere(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function q5(e){return kO(e).map(ere).join("")}var tre=function(e){for(var t=0;t<e.length;t++)e[t]=Zte(e[t]);return e.join("")}(kO("hello"))!="5d41402abc4b2a76b9719d911017c592";function Au(e,t){if(tre){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function X5(e,t){var r,n,s,a;if(e!==r){for(var o=(s=e,a=1+(256/e.length>>0),new Array(a+1).join(s)),l=[],A=0;A<256;A++)l[A]=A;var d=0;for(A=0;A<256;A++){var f=l[A];d=(d+f+o.charCodeAt(A))%256,l[A]=l[d],l[d]=f}r=e,n=l}else l=n;var m=t.length,y=0,g=0,b="";for(A=0;A<m;A++)g=(g+(f=l[y=(y+1)%256]))%256,l[y]=l[g],l[g]=f,o=l[(l[y]+l[g])%256],b+=String.fromCharCode(t.charCodeAt(A)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var IF={print:4,modify:8,copy:16,"annot-forms":32};function Jh(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(IF.perm!==void 0)throw new Error("Invalid permission: "+l);s+=IF[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^s)),this.encryptionKey=q5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=X5(this.encryptionKey,this.padding)}function Zh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function jF(e){if(Vr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!s],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(l){sr.console&&bn.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function jy(e){if(!(this instanceof jy))return new jy(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function PO(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Bd(e,t,r,n,s){if(!(this instanceof Bd))return new Bd(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,PO.call(this,n,s)}function mf(e,t,r,n,s){if(!(this instanceof mf))return new mf(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,PO.call(this,n,s)}function rr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],a=arguments[3],o=[],l=1,A=16,d="S",f=null;Vr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,a=e.compress||e.compressPdf||a,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(A=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=jF;var b="1.3",C=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(L){b=L};var F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return F};var v=g.__private__.getPageFormat=function(L){return F[L]};s=s||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},I=S.COMPAT;function k(){this.saveGraphicsState(),ye(new Ft(Ze,0,0,-Ze,0,Ea()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),d="n",I=S.ADVANCED}function M(){this.restoreGraphicsState(),d="S",I=S.COMPAT}var V=g.__private__.combineFontStyleAndFontWeight=function(L,se){if(L=="bold"&&se=="normal"||L=="bold"&&se==400||L=="normal"&&se=="italic"||L=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(L=se==400||se==="normal"?L==="italic"?"italic":"normal":se!=700&&se!=="bold"||L!=="normal"?(se==700?"bold":se)+""+L:"bold"),L};g.advancedAPI=function(L){var se=I===S.COMPAT;return se&&k.call(this),typeof L!="function"||(L(this),se&&M.call(this)),this},g.compatAPI=function(L){var se=I===S.ADVANCED;return se&&M.call(this),typeof L!="function"||(L(this),se&&k.call(this)),this},g.isAdvancedAPI=function(){return I===S.ADVANCED};var O,R=function(L){if(I!==S.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_=g.roundToPrecision=g.__private__.roundToPrecision=function(L,se){var pe=t||se;if(isNaN(L)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(pe).replace(/0+$/,"")};O=g.hpf=g.__private__.hpf=typeof A=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return _(L,A)}:A==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return _(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return _(L,16)};var J=g.f2=g.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return _(L,2)},U=g.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return _(L,3)},Q=g.scale=g.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return I===S.COMPAT?L*Ze:I===S.ADVANCED?L:void 0},X=function(L){return I===S.COMPAT?Ea()-L:I===S.ADVANCED?L:void 0},Z=function(L){return Q(X(L))};g.__private__.setPrecision=g.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var $,q="00000000000000000000000000000000",W=g.__private__.getFileId=function(){return q},Y=g.__private__.setFileId=function(L){return q=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ss=new Jh(f.userPermissions,f.userPassword,f.ownerPassword,q)),q};g.setFileId=function(L){return Y(L),this},g.getFileId=function(){return W()};var K=g.__private__.convertDateToPDFDate=function(L){var se=L.getTimezoneOffset(),pe=se<0?"+":"-",Ne=Math.floor(Math.abs(se/60)),De=Math.abs(se%60),Xe=[pe,ie(Ne),"'",ie(De),"'"].join("");return["D:",L.getFullYear(),ie(L.getMonth()+1),ie(L.getDate()),ie(L.getHours()),ie(L.getMinutes()),ie(L.getSeconds()),Xe].join("")},ae=g.__private__.convertPDFDateToDate=function(L){var se=parseInt(L.substr(2,4),10),pe=parseInt(L.substr(6,2),10)-1,Ne=parseInt(L.substr(8,2),10),De=parseInt(L.substr(10,2),10),Xe=parseInt(L.substr(12,2),10),it=parseInt(L.substr(14,2),10);return new Date(se,pe,Ne,De,Xe,it,0)},be=g.__private__.setCreationDate=function(L){var se;if(L===void 0&&(L=new Date),L instanceof Date)se=K(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=L}return $=se},H=g.__private__.getCreationDate=function(L){var se=$;return L==="jsDate"&&(se=ae($)),se};g.setCreationDate=function(L){return be(L),this},g.getCreationDate=function(L){return H(L)};var ee,ie=g.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},le=g.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},ce=0,me=[],we=[],Ie=0,ve=[],Ce=[],Pe=!1,Me=we,Je=function(){ce=0,Ie=0,we=[],me=[],ve=[],Ca=fn(),za=fn()};g.__private__.setCustomOutputDestination=function(L){Pe=!0,Me=L};var Re=function(L){Pe||(Me=L)};g.__private__.resetCustomOutputDestination=function(){Pe=!1,Me=we};var ye=g.__private__.out=function(L){return L=L.toString(),Ie+=L.length+1,Me.push(L),Me},pt=g.__private__.write=function(L){return ye(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},rt=g.__private__.getArrayBuffer=function(L){for(var se=L.length,pe=new ArrayBuffer(se),Ne=new Uint8Array(pe);se--;)Ne[se]=L.charCodeAt(se);return pe},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ke};var ht=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(L){return ht=I===S.ADVANCED?L/Ze:L,this};var _e,ft=g.__private__.getFontSize=g.getFontSize=function(){return I===S.COMPAT?ht:ht*Ze},yt=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(L){return yt=L,this},g.__private__.getR2L=g.getR2L=function(){return yt};var et,Nt=g.__private__.setZoomMode=function(L){var se=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))_e=L;else if(isNaN(L)){if(se.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');_e=L}else _e=parseInt(L,10)};g.__private__.getZoomMode=function(){return _e};var wt,Ht=g.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');et=L};g.__private__.getPageMode=function(){return et};var lr=g.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');wt=L};g.__private__.getLayoutMode=function(){return wt},g.__private__.setDisplayMode=g.setDisplayMode=function(L,se,pe){return Nt(L),lr(se),Ht(pe),this};var qe={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(L){if(Object.keys(qe).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return qe[L]},g.__private__.getDocumentProperties=function(){return qe},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(L){for(var se in qe)qe.hasOwnProperty(se)&&L[se]&&(qe[se]=L[se]);return this},g.__private__.setDocumentProperty=function(L,se){if(Object.keys(qe).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return qe[L]=se};var St,Ze,br,Ot,dt,Zt={},Ut={},Or=[],Er={},fi={},hn={},ur={},vs=null,Qr=0,nr=[],gt=new jF(g),Cr=e.hotfixes||[],Qt={},an={},yn=[],Ft=function L(se,pe,Ne,De,Xe,it){if(!(this instanceof L))return new L(se,pe,Ne,De,Xe,it);isNaN(se)&&(se=1),isNaN(pe)&&(pe=0),isNaN(Ne)&&(Ne=0),isNaN(De)&&(De=1),isNaN(Xe)&&(Xe=0),isNaN(it)&&(it=0),this._matrix=[se,pe,Ne,De,Xe,it]};Object.defineProperty(Ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ft.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(L)},Ft.prototype.multiply=function(L){var se=L.sx*this.sx+L.shy*this.shx,pe=L.sx*this.shy+L.shy*this.sy,Ne=L.shx*this.sx+L.sy*this.shx,De=L.shx*this.shy+L.sy*this.sy,Xe=L.tx*this.sx+L.ty*this.shx+this.tx,it=L.tx*this.shy+L.ty*this.sy+this.ty;return new Ft(se,pe,Ne,De,Xe,it)},Ft.prototype.decompose=function(){var L=this.sx,se=this.shy,pe=this.shx,Ne=this.sy,De=this.tx,Xe=this.ty,it=Math.sqrt(L*L+se*se),Ct=(L/=it)*pe+(se/=it)*Ne;pe-=L*Ct,Ne-=se*Ct;var Vt=Math.sqrt(pe*pe+Ne*Ne);return Ct/=Vt,L*(Ne/=Vt)<se*(pe/=Vt)&&(L=-L,se=-se,Ct=-Ct,it=-it),{scale:new Ft(it,0,0,Vt,0,0),translate:new Ft(1,0,0,1,De,Xe),rotate:new Ft(L,se,-se,L,0,0),skew:new Ft(1,0,Ct,1,0,0)}},Ft.prototype.toString=function(L){return this.join(" ")},Ft.prototype.inversed=function(){var L=this.sx,se=this.shy,pe=this.shx,Ne=this.sy,De=this.tx,Xe=this.ty,it=1/(L*Ne-se*pe),Ct=Ne*it,Vt=-se*it,cr=-pe*it,Ar=L*it;return new Ft(Ct,Vt,cr,Ar,-Ct*De-cr*Xe,-Vt*De-Ar*Xe)},Ft.prototype.applyToPoint=function(L){var se=L.x*this.sx+L.y*this.shx+this.tx,pe=L.x*this.shy+L.y*this.sy+this.ty;return new xA(se,pe)},Ft.prototype.applyToRectangle=function(L){var se=this.applyToPoint(L),pe=this.applyToPoint(new xA(L.x+L.w,L.y+L.h));return new dd(se.x,se.y,pe.x-se.x,pe.y-se.y)},Ft.prototype.clone=function(){var L=this.sx,se=this.shy,pe=this.shx,Ne=this.sy,De=this.tx,Xe=this.ty;return new Ft(L,se,pe,Ne,De,Xe)},g.Matrix=Ft;var bs=g.matrixMult=function(L,se){return se.multiply(L)},tn=new Ft(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=tn;var wn=function(L,se){if(!fi[L]){var pe=(se instanceof Bd?"Sh":"P")+(Object.keys(Er).length+1).toString(10);se.id=pe,fi[L]=pe,Er[pe]=se,gt.publish("addPattern",se)}};g.ShadingPattern=Bd,g.TilingPattern=mf,g.addShadingPattern=function(L,se){return R("addShadingPattern()"),wn(L,se),this},g.beginTilingPattern=function(L){R("beginTilingPattern()"),yA(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},g.endTilingPattern=function(L,se){R("endTilingPattern()"),se.stream=Ce[ee].join(`
`),wn(L,se),gt.publish("endTilingPattern",se),yn.pop().restore()};var Hr=g.__private__.newObject=function(){var L=fn();return Sn(L,!0),L},fn=g.__private__.newObjectDeferred=function(){return ce++,me[ce]=function(){return Ie},ce},Sn=function(L,se){return se=typeof se=="boolean"&&se,me[L]=Ie,se&&ye(L+" 0 obj"),L},Bt=g.__private__.newAdditionalObject=function(){var L={objId:fn(),content:""};return ve.push(L),L},Ca=fn(),za=fn(),En=g.__private__.decodeColorString=function(L){var se=L.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length===5&&(se[4]==="k"||se[4]==="K")&&(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var pe=parseFloat(se[0]);se=[pe,pe,pe,"r"]}for(var Ne="#",De=0;De<3;De++)Ne+=("0"+Math.floor(255*parseFloat(se[De])).toString(16)).slice(-2);return Ne},ea=g.__private__.encodeColorString=function(L){var se;typeof L=="string"&&(L={ch1:L});var pe=L.ch1,Ne=L.ch2,De=L.ch3,Xe=L.ch4,it=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var Ct=new LO(pe);if(Ct.ok)pe=Ct.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var Vt=parseInt(pe.substr(1),16);pe=Vt>>16&255,Ne=Vt>>8&255,De=255&Vt}if(Ne===void 0||Xe===void 0&&pe===Ne&&Ne===De)if(typeof pe=="string")se=pe+" "+it[0];else switch(L.precision){case 2:se=J(pe/255)+" "+it[0];break;case 3:default:se=U(pe/255)+" "+it[0]}else if(Xe===void 0||Vr(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return se=["1.","1.","1.",it[1]].join(" ");if(typeof pe=="string")se=[pe,Ne,De,it[1]].join(" ");else switch(L.precision){case 2:se=[J(pe/255),J(Ne/255),J(De/255),it[1]].join(" ");break;default:case 3:se=[U(pe/255),U(Ne/255),U(De/255),it[1]].join(" ")}}else if(typeof pe=="string")se=[pe,Ne,De,Xe,it[2]].join(" ");else switch(L.precision){case 2:se=[J(pe),J(Ne),J(De),J(Xe),it[2]].join(" ");break;case 3:default:se=[U(pe),U(Ne),U(De),U(Xe),it[2]].join(" ")}return se},$a=g.__private__.getFilters=function(){return o},ca=g.__private__.putStream=function(L){var se=(L=L||{}).data||"",pe=L.filters||$a(),Ne=L.alreadyAppliedFilters||[],De=L.addLength1||!1,Xe=se.length,it=L.objectId,Ct=function(ta){return ta};if(f!==null&&it===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ct=Ss.encryptor(it,0));var Vt={};pe===!0&&(pe=["FlateEncode"]);var cr=L.additionalKeyValues||[],Ar=(Vt=rr.API.processDataByFilters!==void 0?rr.API.processDataByFilters(se,pe):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Ne)?Ne.join(" "):Ne.toString());if(Vt.data.length!==0&&(cr.push({key:"Length",value:Vt.data.length}),De===!0&&cr.push({key:"Length1",value:Xe})),Ar.length!=0)if(Ar.split("/").length-1==1)cr.push({key:"Filter",value:Ar});else{cr.push({key:"Filter",value:"["+Ar+"]"});for(var Ir=0;Ir<cr.length;Ir+=1)if(cr[Ir].key==="DecodeParms"){for(var Mn=[],on=0;on<Vt.reverseChain.split("/").length-1;on+=1)Mn.push("null");Mn.push(cr[Ir].value),cr[Ir].value="["+Mn.join(" ")+"]"}}ye("<<");for(var $n=0;$n<cr.length;$n++)ye("/"+cr[$n].key+" "+cr[$n].value);ye(">>"),Vt.data.length!==0&&(ye("stream"),ye(Ct(Vt.data)),ye("endstream"))},Cs=g.__private__.putPage=function(L){var se=L.number,pe=L.data,Ne=L.objId,De=L.contentsObjId;Sn(Ne,!0),ye("<</Type /Page"),ye("/Parent "+L.rootDictionaryObjId+" 0 R"),ye("/Resources "+L.resourceDictionaryObjId+" 0 R"),ye("/MediaBox ["+parseFloat(O(L.mediaBox.bottomLeftX))+" "+parseFloat(O(L.mediaBox.bottomLeftY))+" "+O(L.mediaBox.topRightX)+" "+O(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ye("/CropBox ["+O(L.cropBox.bottomLeftX)+" "+O(L.cropBox.bottomLeftY)+" "+O(L.cropBox.topRightX)+" "+O(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ye("/BleedBox ["+O(L.bleedBox.bottomLeftX)+" "+O(L.bleedBox.bottomLeftY)+" "+O(L.bleedBox.topRightX)+" "+O(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ye("/TrimBox ["+O(L.trimBox.bottomLeftX)+" "+O(L.trimBox.bottomLeftY)+" "+O(L.trimBox.topRightX)+" "+O(L.trimBox.topRightY)+"]"),L.artBox!==null&&ye("/ArtBox ["+O(L.artBox.bottomLeftX)+" "+O(L.artBox.bottomLeftY)+" "+O(L.artBox.topRightX)+" "+O(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ye("/UserUnit "+L.userUnit),gt.publish("putPage",{objId:Ne,pageContext:nr[se],pageNumber:se,page:pe}),ye("/Contents "+De+" 0 R"),ye(">>"),ye("endobj");var Xe=pe.join(`
`);return I===S.ADVANCED&&(Xe+=`
Q`),Sn(De,!0),ca({data:Xe,filters:$a(),objectId:De}),ye("endobj"),Ne},dc=g.__private__.putPages=function(){var L,se,pe=[];for(L=1;L<=Qr;L++)nr[L].objId=fn(),nr[L].contentsObjId=fn();for(L=1;L<=Qr;L++)pe.push(Cs({number:L,data:Ce[L],objId:nr[L].objId,contentsObjId:nr[L].contentsObjId,mediaBox:nr[L].mediaBox,cropBox:nr[L].cropBox,bleedBox:nr[L].bleedBox,trimBox:nr[L].trimBox,artBox:nr[L].artBox,userUnit:nr[L].userUnit,rootDictionaryObjId:Ca,resourceDictionaryObjId:za}));Sn(Ca,!0),ye("<</Type /Pages");var Ne="/Kids [";for(se=0;se<Qr;se++)Ne+=pe[se]+" 0 R ";ye(Ne+"]"),ye("/Count "+Qr),ye(">>"),ye("endobj"),gt.publish("postPutPages")},hA=function(L){gt.publish("putFont",{font:L,out:ye,newObject:Hr,putStream:ca}),L.isAlreadyPutted!==!0&&(L.objectNumber=Hr(),ye("<<"),ye("/Type /Font"),ye("/BaseFont /"+Zh(L.postScriptName)),ye("/Subtype /Type1"),typeof L.encoding=="string"&&ye("/Encoding /"+L.encoding),ye("/FirstChar 32"),ye("/LastChar 255"),ye(">>"),ye("endobj"))},Aa=function(){for(var L in Zt)Zt.hasOwnProperty(L)&&(m===!1||m===!0&&y.hasOwnProperty(L))&&hA(Zt[L])},As=function(L){L.objectNumber=Hr();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[O(L.x),O(L.y),O(L.x+L.width),O(L.y+L.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var pe=L.pages[1].join(`
`);ca({data:pe,additionalKeyValues:se,objectId:L.objectNumber}),ye("endobj")},Xr=function(){for(var L in Qt)Qt.hasOwnProperty(L)&&As(Qt[L])},Ju=function(L,se){var pe,Ne=[],De=1/(se-1);for(pe=0;pe<1;pe+=De)Ne.push(pe);if(Ne.push(1),L[0].offset!=0){var Xe={offset:0,color:L[0].color};L.unshift(Xe)}if(L[L.length-1].offset!=1){var it={offset:1,color:L[L.length-1].color};L.push(it)}for(var Ct="",Vt=0,cr=0;cr<Ne.length;cr++){for(pe=Ne[cr];pe>L[Vt+1].offset;)Vt++;var Ar=L[Vt].offset,Ir=(pe-Ar)/(L[Vt+1].offset-Ar),Mn=L[Vt].color,on=L[Vt+1].color;Ct+=le(Math.round((1-Ir)*Mn[0]+Ir*on[0]).toString(16))+le(Math.round((1-Ir)*Mn[1]+Ir*on[1]).toString(16))+le(Math.round((1-Ir)*Mn[2]+Ir*on[2]).toString(16))}return Ct.trim()},io=function(L,se){se||(se=21);var pe=Hr(),Ne=Ju(L.colors,se),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+se+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ca({data:Ne,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),ye("endobj"),L.objectNumber=Hr(),ye("<< /ShadingType "+L.type),ye("/ColorSpace /DeviceRGB");var Xe="/Coords ["+O(parseFloat(L.coords[0]))+" "+O(parseFloat(L.coords[1]))+" ";L.type===2?Xe+=O(parseFloat(L.coords[2]))+" "+O(parseFloat(L.coords[3])):Xe+=O(parseFloat(L.coords[2]))+" "+O(parseFloat(L.coords[3]))+" "+O(parseFloat(L.coords[4]))+" "+O(parseFloat(L.coords[5])),ye(Xe+="]"),L.matrix&&ye("/Matrix ["+L.matrix.toString()+"]"),ye("/Function "+pe+" 0 R"),ye("/Extend [true true]"),ye(">>"),ye("endobj")},Zu=function(L,se){var pe=fn(),Ne=Hr();se.push({resourcesOid:pe,objectOid:Ne}),L.objectNumber=Ne;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+L.boundingBox.map(O).join(" ")+"]"}),De.push({key:"XStep",value:O(L.xStep)}),De.push({key:"YStep",value:O(L.yStep)}),De.push({key:"Resources",value:pe+" 0 R"}),L.matrix&&De.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),ca({data:L.stream,additionalKeyValues:De,objectId:L.objectNumber}),ye("endobj")},st=function(L){var se;for(se in Er)Er.hasOwnProperty(se)&&(Er[se]instanceof Bd?io(Er[se]):Er[se]instanceof mf&&Zu(Er[se],L))},Fh=function(L){for(var se in L.objectNumber=Hr(),ye("<<"),L)switch(se){case"opacity":ye("/ca "+J(L[se]));break;case"stroke-opacity":ye("/CA "+J(L[se]))}ye(">>"),ye("endobj")},Fn=function(){var L;for(L in hn)hn.hasOwnProperty(L)&&Fh(hn[L])},oo=function(){for(var L in ye("/XObject <<"),Qt)Qt.hasOwnProperty(L)&&Qt[L].objectNumber>=0&&ye("/"+L+" "+Qt[L].objectNumber+" 0 R");gt.publish("putXobjectDict"),ye(">>")},R0=function(){Ss.oid=Hr(),ye("<<"),ye("/Filter /Standard"),ye("/V "+Ss.v),ye("/R "+Ss.r),ye("/U <"+Ss.toHexString(Ss.U)+">"),ye("/O <"+Ss.toHexString(Ss.O)+">"),ye("/P "+Ss.P),ye(">>"),ye("endobj")},Rr=function(){for(var L in ye("/Font <<"),Zt)Zt.hasOwnProperty(L)&&(m===!1||m===!0&&y.hasOwnProperty(L))&&ye("/"+L+" "+Zt[L].objectNumber+" 0 R");ye(">>")},Dr=function(){if(Object.keys(Er).length>0){for(var L in ye("/Shading <<"),Er)Er.hasOwnProperty(L)&&Er[L]instanceof Bd&&Er[L].objectNumber>=0&&ye("/"+L+" "+Er[L].objectNumber+" 0 R");gt.publish("putShadingPatternDict"),ye(">>")}},pr=function(L){if(Object.keys(Er).length>0){for(var se in ye("/Pattern <<"),Er)Er.hasOwnProperty(se)&&Er[se]instanceof g.TilingPattern&&Er[se].objectNumber>=0&&Er[se].objectNumber<L&&ye("/"+se+" "+Er[se].objectNumber+" 0 R");gt.publish("putTilingPatternDict"),ye(">>")}},ed=function(){if(Object.keys(hn).length>0){var L;for(L in ye("/ExtGState <<"),hn)hn.hasOwnProperty(L)&&hn[L].objectNumber>=0&&ye("/"+L+" "+hn[L].objectNumber+" 0 R");gt.publish("putGStateDict"),ye(">>")}},Dn=function(L){Sn(L.resourcesOid,!0),ye("<<"),ye("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Rr(),Dr(),pr(L.objectOid),ed(),oo(),ye(">>"),ye("endobj")},fA=function(){var L=[];Aa(),Fn(),Xr(),st(L),gt.publish("putResources"),L.forEach(Dn),Dn({resourcesOid:za,objectOid:Number.MAX_SAFE_INTEGER}),gt.publish("postPutResources")},Wn=function(){gt.publish("putAdditionalObjects");for(var L=0;L<ve.length;L++){var se=ve[L];Sn(se.objId,!0),ye(se.content),ye("endobj")}gt.publish("postPutAdditionalObjects")},Mi=function(L){Ut[L.fontName]=Ut[L.fontName]||{},Ut[L.fontName][L.fontStyle]=L.id},td=function(L,se,pe,Ne,De){var Xe={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:L,fontName:se,fontStyle:pe,encoding:Ne,isStandardFont:De||!1,metadata:{}};return gt.publish("addFont",{font:Xe,instance:this}),Zt[Xe.id]=Xe,Mi(Xe),Xe.id},_n=function(L){for(var se=0,pe=Ke.length;se<pe;se++){var Ne=td.call(this,L[se][0],L[se][1],L[se][2],Ke[se][3],!0);m===!1&&(y[Ne]=!0);var De=L[se][0].split("-");Mi({id:Ne,fontName:De[0],fontStyle:De[1]||""})}gt.publish("addFonts",{fonts:Zt,dictionary:Ut})},Ds=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Ne){var se=Ne.stack||"";~se.indexOf(" at ")&&(se=se.split(" at ")[1]);var pe="Error in function "+se.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!sr.console)throw new Error(pe);sr.console.error(pe,Ne),sr.alert&&alert(pe)}},L.foo.bar=L,L.foo},mA=function(L,se){var pe,Ne,De,Xe,it,Ct,Vt,cr,Ar;if(De=(se=se||{}).sourceEncoding||"Unicode",it=se.outputEncoding,(se.autoencode||it)&&Zt[St].metadata&&Zt[St].metadata[De]&&Zt[St].metadata[De].encoding&&(Xe=Zt[St].metadata[De].encoding,!it&&Zt[St].encoding&&(it=Zt[St].encoding),!it&&Xe.codePages&&(it=Xe.codePages[0]),typeof it=="string"&&(it=Xe[it]),it)){for(Vt=!1,Ct=[],pe=0,Ne=L.length;pe<Ne;pe++)(cr=it[L.charCodeAt(pe)])?Ct.push(String.fromCharCode(cr)):Ct.push(L[pe]),Ct[pe].charCodeAt(0)>>8&&(Vt=!0);L=Ct.join("")}for(pe=L.length;Vt===void 0&&pe!==0;)L.charCodeAt(pe-1)>>8&&(Vt=!0),pe--;if(!Vt)return L;for(Ct=se.noBOM?[]:[254,255],pe=0,Ne=L.length;pe<Ne;pe++){if((Ar=(cr=L.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ct.push(Ar),Ct.push(cr-(Ar<<8))}return String.fromCharCode.apply(void 0,Ct)},Bs=g.__private__.pdfEscape=g.pdfEscape=function(L,se){return mA(L,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qr=g.__private__.beginPage=function(L){Ce[++Qr]=[],nr[Qr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},fe(Qr),Re(Ce[ee])},Ns=function(L,se){var pe,Ne,De;switch(r=se||r,typeof L=="string"&&(pe=v(L.toLowerCase()),Array.isArray(pe)&&(Ne=pe[0],De=pe[1])),Array.isArray(L)&&(Ne=L[0]*Ze,De=L[1]*Ze),isNaN(Ne)&&(Ne=s[0],De=s[1]),(Ne>14400||De>14400)&&(bn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ne=Math.min(14400,Ne),De=Math.min(14400,De)),s=[Ne,De],r.substr(0,1)){case"l":De>Ne&&(s=[De,Ne]);break;case"p":Ne>De&&(s=[De,Ne])}qr(s),Vs(_o),ye(pi),ts!==0&&ye(ts+" J"),wl!==0&&ye(wl+" j"),gt.publish("addPage",{pageNumber:Qr})},Qe=function(L){L>0&&L<=Qr&&(Ce.splice(L,1),nr.splice(L,1),Qr--,ee>Qr&&(ee=Qr),this.setPage(ee))},fe=function(L){L>0&&L<=Qr&&(ee=L)},_t=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ce.length-1},es=function(L,se,pe){var Ne,De=void 0;return pe=pe||{},L=L!==void 0?L:Zt[St].fontName,se=se!==void 0?se:Zt[St].fontStyle,Ne=L.toLowerCase(),Ut[Ne]!==void 0&&Ut[Ne][se]!==void 0?De=Ut[Ne][se]:Ut[L]!==void 0&&Ut[L][se]!==void 0?De=Ut[L][se]:pe.disableWarning===!1&&bn.warn("Unable to look up font label for font '"+L+"', '"+se+"'. Refer to getFontList() for available fonts."),De||pe.noFallback||(De=Ut.times[se])==null&&(De=Ut.times.normal),De},Ba=g.__private__.putInfo=function(){var L=Hr(),se=function(Ne){return Ne};for(var pe in f!==null&&(se=Ss.encryptor(L,0)),ye("<<"),ye("/Producer ("+Bs(se("jsPDF "+rr.version))+")"),qe)qe.hasOwnProperty(pe)&&qe[pe]&&ye("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+Bs(se(qe[pe]))+")");ye("/CreationDate ("+Bs(se($))+")"),ye(">>"),ye("endobj")},rd=g.__private__.putCatalog=function(L){var se=(L=L||{}).rootDictionaryObjId||Ca;switch(Hr(),ye("<<"),ye("/Type /Catalog"),ye("/Pages "+se+" 0 R"),_e||(_e="fullwidth"),_e){case"fullwidth":ye("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ye("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ye("/OpenAction [3 0 R /Fit]");break;case"original":ye("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+_e;pe.substr(pe.length-1)==="%"&&(_e=parseInt(_e)/100),typeof _e=="number"&&ye("/OpenAction [3 0 R /XYZ null null "+J(_e)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":ye("/PageLayout /OneColumn");break;case"single":ye("/PageLayout /SinglePage");break;case"two":case"twoleft":ye("/PageLayout /TwoColumnLeft");break;case"tworight":ye("/PageLayout /TwoColumnRight")}et&&ye("/PageMode /"+et),gt.publish("putCatalog"),ye(">>"),ye("endobj")},nd=g.__private__.putTrailer=function(){ye("trailer"),ye("<<"),ye("/Size "+(ce+1)),ye("/Root "+ce+" 0 R"),ye("/Info "+(ce-1)+" 0 R"),f!==null&&ye("/Encrypt "+Ss.oid+" 0 R"),ye("/ID [ <"+q+"> <"+q+"> ]"),ye(">>")},Na=g.__private__.putHeader=function(){ye("%PDF-"+b),ye("%ºß¬à")},Kt=g.__private__.putXRef=function(){var L="0000000000";ye("xref"),ye("0 "+(ce+1)),ye("0000000000 65535 f ");for(var se=1;se<=ce;se++)typeof me[se]=="function"?ye((L+me[se]()).slice(-10)+" 00000 n "):me[se]!==void 0?ye((L+me[se]).slice(-10)+" 00000 n "):ye("0000000000 00000 n ")},Kr=g.__private__.buildDocument=function(){Je(),Re(we),gt.publish("buildDocument"),Na(),dc(),Wn(),fA(),f!==null&&R0(),Ba(),rd();var L=Ie;return Kt(),nd(),ye("startxref"),ye(""+L),ye("%%EOF"),Re(Ce[ee]),we.join(`
`)},hc=g.__private__.getBlob=function(L){return new Blob([rt(L)],{type:"application/pdf"})},pA=g.output=g.__private__.output=Ds(function(L,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",L){case void 0:return Kr();case"save":g.save(se.filename);break;case"arraybuffer":return rt(Kr());case"blob":return hc(Kr());case"bloburi":case"bloburl":if(sr.URL!==void 0&&typeof sr.URL.createObjectURL=="function")return sr.URL&&sr.URL.createObjectURL(hc(Kr()))||void 0;bn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",Ne=Kr();try{pe=$5(Ne)}catch{pe=$5(unescape(encodeURIComponent(Ne)))}return"data:application/pdf;filename="+se.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(De=se.pdfObjectUrl,Xe="");var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",Ct=sr.open();return Ct!==null&&Ct.document.write(it),Ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',cr=sr.open();if(cr!==null){cr.document.write(Vt);var Ar=this;cr.document.documentElement.querySelector("#pdfViewer").onload=function(){cr.document.title=se.filename,cr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ar.output("bloburl"))}}return cr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',Mn=sr.open();if(Mn!==null&&(Mn.document.write(Ir),Mn.document.title=se.filename),Mn||typeof safari>"u")return Mn;break;case"datauri":case"dataurl":return sr.document.location.href=this.output("datauristring",se);default:return null}}),gA=function(L){return Array.isArray(Cr)===!0&&Cr.indexOf(L)>-1};switch(n){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=gA("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ze=n}var Ss=null;be(),Y();var sd=function(L){return f!==null?Ss.encryptor(L,0):function(se){return se}},Ih=g.__private__.getPageInfo=g.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nr[L].objId,pageNumber:L,pageContext:nr[L]}},Rt=g.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in nr)if(nr[se].objId===L)break;return Ih(se)},fc=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:nr[ee].objId,pageNumber:ee,pageContext:nr[ee]}};g.addPage=function(){return Ns.apply(this,arguments),this},g.setPage=function(){return fe.apply(this,arguments),Re.call(this,Ce[ee]),this},g.insertPage=function(L){return this.addPage(),this.movePage(ee,L),this},g.movePage=function(L,se){var pe,Ne;if(L>se){pe=Ce[L],Ne=nr[L];for(var De=L;De>se;De--)Ce[De]=Ce[De-1],nr[De]=nr[De-1];Ce[se]=pe,nr[se]=Ne,this.setPage(se)}else if(L<se){pe=Ce[L],Ne=nr[L];for(var Xe=L;Xe<se;Xe++)Ce[Xe]=Ce[Xe+1],nr[Xe]=nr[Xe+1];Ce[se]=pe,nr[se]=Ne,this.setPage(se)}return this},g.deletePage=function(){return Qe.apply(this,arguments),this},g.__private__.text=g.text=function(L,se,pe,Ne,De){var Xe,it,Ct,Vt,cr,Ar,Ir,Mn,on,$n=(Ne=Ne||{}).scope||this;if(typeof L=="number"&&typeof se=="number"&&(typeof pe=="string"||Array.isArray(pe))){var ta=pe;pe=se,se=L,L=ta}if(arguments[3]instanceof Ft?(R("The transform parameter of text() with a Matrix value"),on=De):(Ct=arguments[4],Vt=arguments[5],Vr(Ir=arguments[3])==="object"&&Ir!==null||(typeof Ct=="string"&&(Vt=Ct,Ct=null),typeof Ir=="string"&&(Vt=Ir,Ir=null),typeof Ir=="number"&&(Ct=Ir,Ir=null),Ne={flags:Ir,angle:Ct,align:Vt})),isNaN(se)||isNaN(pe)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return $n;var qn="",Qi=!1,us=typeof Ne.lineHeightFactor=="number"?Ne.lineHeightFactor:xl,qa=$n.internal.scaleFactor;function ua(In){return In=In.split("	").join(Array(Ne.TabLen||9).join(" ")),Bs(In,Ir)}function wA(In){for(var jn,Fs=In.concat(),Ws=[],xc=Fs.length;xc--;)typeof(jn=Fs.shift())=="string"?Ws.push(jn):Array.isArray(In)&&(jn.length===1||jn[1]===void 0&&jn[2]===void 0)?Ws.push(jn[0]):Ws.push([jn[0],jn[1],jn[2]]);return Ws}function Fa(In,jn){var Fs;if(typeof In=="string")Fs=jn(In)[0];else if(Array.isArray(In)){for(var Ws,xc,M0=In.concat(),Lh=[],Sg=M0.length;Sg--;)typeof(Ws=M0.shift())=="string"?Lh.push(jn(Ws)[0]):Array.isArray(Ws)&&typeof Ws[0]=="string"&&(xc=jn(Ws[0],Ws[1],Ws[2]),Lh.push([xc[0],xc[1],xc[2]]));Fs=Lh}return Fs}var vA=!1,pc=!0;if(typeof L=="string")vA=!0;else if(Array.isArray(L)){var fd=L.concat();it=[];for(var gc,mn=fd.length;mn--;)(typeof(gc=fd.shift())!="string"||Array.isArray(gc)&&typeof gc[0]!="string")&&(pc=!1);vA=pc}if(vA===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var bA=ht/$n.internal.scaleFactor,Cl=bA*(us-1);switch(Ne.baseline){case"bottom":pe-=Cl;break;case"top":pe+=bA-Cl;break;case"hanging":pe+=bA-2*Cl;break;case"middle":pe+=bA/2-Cl}if((Ar=Ne.maxWidth||0)>0&&(typeof L=="string"?L=$n.splitTextToSize(L,Ar):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(In,jn){return In.concat($n.splitTextToSize(jn,Ar))},[]))),Xe={text:L,x:se,y:pe,options:Ne,mutex:{pdfEscape:Bs,activeFontKey:St,fonts:Zt,activeFontSize:ht}},gt.publish("preProcessText",Xe),L=Xe.text,Ct=(Ne=Xe.options).angle,!(on instanceof Ft)&&Ct&&typeof Ct=="number"){Ct*=Math.PI/180,Ne.rotationDirection===0&&(Ct=-Ct),I===S.ADVANCED&&(Ct=-Ct);var uo=Math.cos(Ct),Nr=Math.sin(Ct);on=new Ft(uo,Nr,-Nr,uo,0,0)}else Ct&&Ct instanceof Ft&&(on=Ct);I!==S.ADVANCED||on||(on=tn),(cr=Ne.charSpace||Ge)!==void 0&&(qn+=O(Q(cr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mn=Ne.horizontalScale)!==void 0&&(qn+=O(100*Mn)+` Tz
`),Ne.lang;var Ks=-1,re=Ne.renderingMode!==void 0?Ne.renderingMode:Ne.stroke,c=$n.internal.getCurrentPageInfo().pageContext;switch(re){case 0:case!1:case"fill":Ks=0;break;case 1:case!0:case"stroke":Ks=1;break;case 2:case"fillThenStroke":Ks=2;break;case 3:case"invisible":Ks=3;break;case 4:case"fillAndAddForClipping":Ks=4;break;case 5:case"strokeAndAddPathForClipping":Ks=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ks=6;break;case 7:case"addToPathForClipping":Ks=7}var u=c.usedRenderingMode!==void 0?c.usedRenderingMode:-1;Ks!==-1?qn+=Ks+` Tr
`:u!==-1&&(qn+=`0 Tr
`),Ks!==-1&&(c.usedRenderingMode=Ks),Vt=Ne.align||"left";var h,p=ht*us,x=$n.internal.pageSize.getWidth(),w=Zt[St];cr=Ne.charSpace||Ge,Ar=Ne.maxWidth||0,Ir=Object.assign({autoencode:!0,noBOM:!0},Ne.flags);var E=[],T=function(In){return $n.getStringUnitWidth(In,{font:w,charSpace:cr,fontSize:ht,doKerning:!1})*ht/qa};if(Object.prototype.toString.call(L)==="[object Array]"){var P;it=wA(L),Vt!=="left"&&(h=it.map(T));var z,te=0;if(Vt==="right"){se-=h[0],L=[],mn=it.length;for(var Ae=0;Ae<mn;Ae++)Ae===0?(z=Ao(se),P=Mo(pe)):(z=Q(te-h[Ae]),P=-p),L.push([it[Ae],z,P]),te=h[Ae]}else if(Vt==="center"){se-=h[0]/2,L=[],mn=it.length;for(var ge=0;ge<mn;ge++)ge===0?(z=Ao(se),P=Mo(pe)):(z=Q((te-h[ge])/2),P=-p),L.push([it[ge],z,P]),te=h[ge]}else if(Vt==="left"){L=[],mn=it.length;for(var Be=0;Be<mn;Be++)L.push(it[Be])}else if(Vt==="justify"&&w.encoding==="Identity-H"){L=[],mn=it.length,Ar=Ar!==0?Ar:x;for(var Se=0,ke=0;ke<mn;ke++)if(P=ke===0?Mo(pe):-p,z=ke===0?Ao(se):Se,ke<mn-1){var We=Q((Ar-h[ke])/(it[ke].split(" ").length-1)),ot=it[ke].split(" ");L.push([ot[0]+" ",z,P]),Se=0;for(var ut=1;ut<ot.length;ut++){var lt=(T(ot[ut-1]+" "+ot[ut])-T(ot[ut]))*qa+We;ut==ot.length-1?L.push([ot[ut],lt,0]):L.push([ot[ut]+" ",lt,0]),Se-=lt}}else L.push([it[ke],z,P]);L.push(["",Se,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],mn=it.length,Ar=Ar!==0?Ar:x,ke=0;ke<mn;ke++)P=ke===0?Mo(pe):-p,z=ke===0?Ao(se):0,ke<mn-1?E.push(O(Q((Ar-h[ke])/(it[ke].split(" ").length-1)))):E.push(0),L.push([it[ke],z,P])}}var wr=typeof Ne.R2L=="boolean"?Ne.R2L:yt;wr===!0&&(L=Fa(L,function(In,jn,Fs){return[In.split("").reverse().join(""),jn,Fs]})),Xe={text:L,x:se,y:pe,options:Ne,mutex:{pdfEscape:Bs,activeFontKey:St,fonts:Zt,activeFontSize:ht}},gt.publish("postProcessText",Xe),L=Xe.text,Qi=Xe.mutex.isHex||!1;var ar=Zt[St].encoding;ar!=="WinAnsiEncoding"&&ar!=="StandardEncoding"||(L=Fa(L,function(In,jn,Fs){return[ua(In),jn,Fs]})),it=wA(L),L=[];for(var ds,Gs,ns,_r=0,Xn=1,Es=Array.isArray(it[0])?Xn:_r,Xa="",ho=function(In,jn,Fs){var Ws="";return Fs instanceof Ft?(Fs=typeof Ne.angle=="number"?bs(Fs,new Ft(1,0,0,1,In,jn)):bs(new Ft(1,0,0,1,In,jn),Fs),I===S.ADVANCED&&(Fs=bs(new Ft(1,0,0,-1,0,0),Fs)),Ws=Fs.join(" ")+` Tm
`):Ws=O(In)+" "+O(jn)+` Td
`,Ws},gi=0;gi<it.length;gi++){switch(Xa="",Es){case Xn:ns=(Qi?"<":"(")+it[gi][0]+(Qi?">":")"),ds=parseFloat(it[gi][1]),Gs=parseFloat(it[gi][2]);break;case _r:ns=(Qi?"<":"(")+it[gi]+(Qi?">":")"),ds=Ao(se),Gs=Mo(pe)}E!==void 0&&E[gi]!==void 0&&(Xa=E[gi]+` Tw
`),gi===0?L.push(Xa+ho(ds,Gs,on)+ns):Es===_r?L.push(Xa+ns):Es===Xn&&L.push(Xa+ho(ds,Gs,on)+ns)}L=Es===_r?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var xi=`BT
/`;return xi+=St+" "+ht+` Tf
`,xi+=O(ht*us)+` TL
`,xi+=Sa+`
`,xi+=qn,xi+=L,ye(xi+="ET"),y[St]=!0,$n};var lo=g.__private__.clip=g.clip=function(L){return ye(L==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return lo("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ye("n"),this};var Mt=g.__private__.isValidStyle=function(L){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(se=!0),se};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(L){return Mt(L)&&(d=L),this};var jh=g.__private__.getStyle=g.getStyle=function(L){var se=d;switch(L){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=L}return se},dr=g.close=function(){return ye("h"),this};g.stroke=function(){return ye("S"),this},g.fill=function(L){return zn("f",L),this},g.fillEvenOdd=function(L){return zn("f*",L),this},g.fillStroke=function(L){return zn("B",L),this},g.fillStrokeEvenOdd=function(L){return zn("B*",L),this};var zn=function(L,se){Vr(se)==="object"?Th(se,L):ye(L)},ad=function(L){L===null||I===S.ADVANCED&&L===void 0||(L=jh(L),ye(L))};function id(L,se,pe,Ne,De){var Xe=new mf(se||this.boundingBox,pe||this.xStep,Ne||this.yStep,this.gState,De||this.matrix);Xe.stream=this.stream;var it=L+"$$"+this.cloneIndex+++"$$";return wn(it,Xe),Xe}var Th=function(L,se){var pe=fi[L.key],Ne=Er[pe];if(Ne instanceof Bd)ye("q"),ye(Do(se)),Ne.gState&&g.setGState(Ne.gState),ye(L.matrix.toString()+" cm"),ye("/"+pe+" sh"),ye("Q");else if(Ne instanceof mf){var De=new Ft(1,0,0,-1,0,Ea());L.matrix&&(De=De.multiply(L.matrix||tn),pe=id.call(Ne,L.key,L.boundingBox,L.xStep,L.yStep,De).id),ye("q"),ye("/Pattern cs"),ye("/"+pe+" scn"),Ne.gState&&g.setGState(Ne.gState),ye(se),ye("Q")}},Do=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},od=g.moveTo=function(L,se){return ye(O(Q(L))+" "+O(Z(se))+" m"),this},Ui=g.lineTo=function(L,se){return ye(O(Q(L))+" "+O(Z(se))+" l"),this},mi=g.curveTo=function(L,se,pe,Ne,De,Xe){return ye([O(Q(L)),O(Z(se)),O(Q(pe)),O(Z(Ne)),O(Q(De)),O(Z(Xe)),"c"].join(" ")),this};g.__private__.line=g.line=function(L,se,pe,Ne,De){if(isNaN(L)||isNaN(se)||isNaN(pe)||isNaN(Ne)||!Mt(De))throw new Error("Invalid arguments passed to jsPDF.line");return I===S.COMPAT?this.lines([[pe-L,Ne-se]],L,se,[1,1],De||"S"):this.lines([[pe-L,Ne-se]],L,se,[1,1]).stroke()},g.__private__.lines=g.lines=function(L,se,pe,Ne,De,Xe){var it,Ct,Vt,cr,Ar,Ir,Mn,on,$n,ta,qn,Qi;if(typeof L=="number"&&(Qi=pe,pe=se,se=L,L=Qi),Ne=Ne||[1,1],Xe=Xe||!1,isNaN(se)||isNaN(pe)||!Array.isArray(L)||!Array.isArray(Ne)||!Mt(De)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(od(se,pe),it=Ne[0],Ct=Ne[1],cr=L.length,ta=se,qn=pe,Vt=0;Vt<cr;Vt++)(Ar=L[Vt]).length===2?(ta=Ar[0]*it+ta,qn=Ar[1]*Ct+qn,Ui(ta,qn)):(Ir=Ar[0]*it+ta,Mn=Ar[1]*Ct+qn,on=Ar[2]*it+ta,$n=Ar[3]*Ct+qn,ta=Ar[4]*it+ta,qn=Ar[5]*Ct+qn,mi(Ir,Mn,on,$n,ta,qn));return Xe&&dr(),ad(De),this},g.path=function(L){for(var se=0;se<L.length;se++){var pe=L[se],Ne=pe.c;switch(pe.op){case"m":od(Ne[0],Ne[1]);break;case"l":Ui(Ne[0],Ne[1]);break;case"c":mi.apply(this,Ne);break;case"h":dr()}}return this},g.__private__.rect=g.rect=function(L,se,pe,Ne,De){if(isNaN(L)||isNaN(se)||isNaN(pe)||isNaN(Ne)||!Mt(De))throw new Error("Invalid arguments passed to jsPDF.rect");return I===S.COMPAT&&(Ne=-Ne),ye([O(Q(L)),O(Z(se)),O(Q(pe)),O(Q(Ne)),"re"].join(" ")),ad(De),this},g.__private__.triangle=g.triangle=function(L,se,pe,Ne,De,Xe,it){if(isNaN(L)||isNaN(se)||isNaN(pe)||isNaN(Ne)||isNaN(De)||isNaN(Xe)||!Mt(it))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-L,Ne-se],[De-pe,Xe-Ne],[L-De,se-Xe]],L,se,[1,1],it,!0),this},g.__private__.roundedRect=g.roundedRect=function(L,se,pe,Ne,De,Xe,it){if(isNaN(L)||isNaN(se)||isNaN(pe)||isNaN(Ne)||isNaN(De)||isNaN(Xe)||!Mt(it))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ct=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*pe),Xe=Math.min(Xe,.5*Ne),this.lines([[pe-2*De,0],[De*Ct,0,De,Xe-Xe*Ct,De,Xe],[0,Ne-2*Xe],[0,Xe*Ct,-De*Ct,Xe,-De,Xe],[2*De-pe,0],[-De*Ct,0,-De,-Xe*Ct,-De,-Xe],[0,2*Xe-Ne],[0,-Xe*Ct,De*Ct,-Xe,De,-Xe]],L+De,se,[1,1],it,!0),this},g.__private__.ellipse=g.ellipse=function(L,se,pe,Ne,De){if(isNaN(L)||isNaN(se)||isNaN(pe)||isNaN(Ne)||!Mt(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*pe,it=4/3*(Math.SQRT2-1)*Ne;return od(L+pe,se),mi(L+pe,se-it,L+Xe,se-Ne,L,se-Ne),mi(L-Xe,se-Ne,L-pe,se-it,L-pe,se),mi(L-pe,se+it,L-Xe,se+Ne,L,se+Ne),mi(L+Xe,se+Ne,L+pe,se+it,L+pe,se),ad(De),this},g.__private__.circle=g.circle=function(L,se,pe,Ne){if(isNaN(L)||isNaN(se)||isNaN(pe)||!Mt(Ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,se,pe,pe,Ne)},g.setFont=function(L,se,pe){return pe&&(se=V(se,pe)),St=es(L,se,{disableWarning:!1}),this};var mc=g.__private__.getFont=g.getFont=function(){return Zt[es.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var L,se,pe={};for(L in Ut)if(Ut.hasOwnProperty(L))for(se in pe[L]=[],Ut[L])Ut[L].hasOwnProperty(se)&&pe[L].push(se);return pe},g.addFont=function(L,se,pe,Ne,De){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(pe=V(pe,Ne)),De=De||"Identity-H",td.call(this,L,se,pe,De)};var xl,_o=e.lineWidth||.200025,co=g.__private__.getLineWidth=g.getLineWidth=function(){return _o},Vs=g.__private__.setLineWidth=g.setLineWidth=function(L){return _o=L,ye(O(Q(L))+" w"),this};g.__private__.setLineDash=rr.API.setLineDash=rr.API.setLineDashPattern=function(L,se){if(L=L||[],se=se||0,isNaN(se)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(pe){return O(Q(pe))}).join(" "),se=O(Q(se)),ye("["+L+"] "+se+" d"),this};var ld=g.__private__.getLineHeight=g.getLineHeight=function(){return ht*xl};g.__private__.getLineHeight=g.getLineHeight=function(){return ht*xl};var cd=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(xl=L),this},Ad=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return xl};cd(e.lineHeight);var Ao=g.__private__.getHorizontalCoordinate=function(L){return Q(L)},Mo=g.__private__.getVerticalCoordinate=function(L){return I===S.ADVANCED?L:nr[ee].mediaBox.topRightY-nr[ee].mediaBox.bottomLeftY-Q(L)},D0=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(L){return O(Ao(L))},Fr=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(L){return O(Mo(L))},pi=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return En(pi)},g.__private__.setStrokeColor=g.setDrawColor=function(L,se,pe,Ne){return pi=ea({ch1:L,ch2:se,ch3:pe,ch4:Ne,pdfColorType:"draw",precision:2}),ye(pi),this};var yl=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return En(yl)},g.__private__.setFillColor=g.setFillColor=function(L,se,pe,Ne){return yl=ea({ch1:L,ch2:se,ch3:pe,ch4:Ne,pdfColorType:"fill",precision:2}),ye(yl),this};var Sa=e.textColor||"0 g",_0=g.__private__.getTextColor=g.getTextColor=function(){return En(Sa)};g.__private__.setTextColor=g.setTextColor=function(L,se,pe,Ne){return Sa=ea({ch1:L,ch2:se,ch3:pe,ch4:Ne,pdfColorType:"text",precision:3}),this};var Ge=e.charSpace,mr=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ge||0)};g.__private__.setCharSpace=g.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ge=L,this};var ts=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(L){var se=g.CapJoinStyles[L];if(se===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ts=se,ye(se+" J"),this};var wl=0;g.__private__.setLineJoin=g.setLineJoin=function(L){var se=g.CapJoinStyles[L];if(se===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wl=se,ye(se+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ye(O(Q(L))+" M"),this},g.GState=jy,g.setGState=function(L){(L=typeof L=="string"?hn[ur[L]]:ud(null,L)).equals(vs)||(ye("/"+L.id+" gs"),vs=L)};var ud=function(L,se){if(!L||!ur[L]){var pe=!1;for(var Ne in hn)if(hn.hasOwnProperty(Ne)&&hn[Ne].equals(se)){pe=!0;break}if(pe)se=hn[Ne];else{var De="GS"+(Object.keys(hn).length+1).toString(10);hn[De]=se,se.id=De}return L&&(ur[L]=se.id),gt.publish("addGState",se),se}};g.addGState=function(L,se){return ud(L,se),this},g.saveGraphicsState=function(){return ye("q"),Or.push({key:St,size:ht,color:Sa}),this},g.restoreGraphicsState=function(){ye("Q");var L=Or.pop();return St=L.key,ht=L.size,Sa=L.color,vs=null,this},g.setCurrentTransformationMatrix=function(L){return ye(L.toString()+" cm"),this},g.comment=function(L){return ye("#"+L),this};var xA=function(L,se){var pe=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Xe){isNaN(Xe)||(pe=parseFloat(Xe))}});var Ne=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ne},set:function(Xe){isNaN(Xe)||(Ne=parseFloat(Xe))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Xe){De=Xe.toString()}}),this},dd=function(L,se,pe,Ne){xA.call(this,L,se),this.type="rect";var De=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(it){isNaN(it)||(De=parseFloat(it))}});var Xe=Ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(it){isNaN(it)||(Xe=parseFloat(it))}}),this},hd=function(){this.page=Qr,this.currentPage=ee,this.pages=Ce.slice(0),this.pagesContext=nr.slice(0),this.x=br,this.y=Ot,this.matrix=dt,this.width=rn(ee),this.height=Ea(ee),this.outputDestination=Me,this.id="",this.objectNumber=-1};hd.prototype.restore=function(){Qr=this.page,ee=this.currentPage,nr=this.pagesContext,Ce=this.pages,br=this.x,Ot=this.y,dt=this.matrix,bl(ee,this.width),Gr(ee,this.height),Me=this.outputDestination};var yA=function(L,se,pe,Ne,De){yn.push(new hd),Qr=ee=0,Ce=[],br=L,Ot=se,dt=De,qr([pe,Ne])},rs=function(L){if(an[L])yn.pop().restore();else{var se=new hd,pe="Xo"+(Object.keys(Qt).length+1).toString(10);se.id=pe,an[L]=pe,Qt[pe]=se,gt.publish("addFormObject",se),yn.pop().restore()}};for(var vl in g.beginFormObject=function(L,se,pe,Ne,De){return yA(L,se,pe,Ne,De),this},g.endFormObject=function(L){return rs(L),this},g.doFormObject=function(L,se){var pe=Qt[an[L]];return ye("q"),ye(se.toString()+" cm"),ye("/"+pe.id+" Do"),ye("Q"),this},g.getFormObject=function(L){var se=Qt[an[L]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},g.save=function(L,se){return L=L||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(wd(hc(Kr()),L),typeof wd.unload=="function"&&sr.setTimeout&&setTimeout(wd.unload,911),this):new Promise(function(pe,Ne){try{var De=wd(hc(Kr()),L);typeof wd.unload=="function"&&sr.setTimeout&&setTimeout(wd.unload,911),pe(De)}catch(Xe){Ne(Xe.message)}})},rr.API)rr.API.hasOwnProperty(vl)&&(vl==="events"&&rr.API.events.length?function(L,se){var pe,Ne,De;for(De=se.length-1;De!==-1;De--)pe=se[De][0],Ne=se[De][1],L.subscribe.apply(L,[pe].concat(typeof Ne=="function"?[Ne]:Ne))}(gt,rr.API.events):g[vl]=rr.API[vl]);var rn=g.getPageWidth=function(L){return(nr[L=L||ee].mediaBox.topRightX-nr[L].mediaBox.bottomLeftX)/Ze},bl=g.setPageWidth=function(L,se){nr[L].mediaBox.topRightX=se*Ze+nr[L].mediaBox.bottomLeftX},Ea=g.getPageHeight=function(L){return(nr[L=L||ee].mediaBox.topRightY-nr[L].mediaBox.bottomLeftY)/Ze},Gr=g.setPageHeight=function(L,se){nr[L].mediaBox.topRightY=se*Ze+nr[L].mediaBox.bottomLeftY};return g.internal={pdfEscape:Bs,getStyle:jh,getFont:mc,getFontSize:ft,getCharSpace:mr,getTextColor:_0,getLineHeight:ld,getLineHeightFactor:Ad,getLineWidth:co,write:pt,getHorizontalCoordinate:Ao,getVerticalCoordinate:Mo,getCoordinateString:D0,getVerticalCoordinateString:Fr,collections:{},newObject:Hr,newAdditionalObject:Bt,newObjectDeferred:fn,newObjectDeferredBegin:Sn,getFilters:$a,putStream:ca,events:gt,scaleFactor:Ze,pageSize:{getWidth:function(){return rn(ee)},setWidth:function(L){bl(ee,L)},getHeight:function(){return Ea(ee)},setHeight:function(L){Gr(ee,L)}},encryptionOptions:f,encryption:Ss,getEncryptor:sd,output:pA,getNumberOfPages:_t,pages:Ce,out:ye,f2:J,f3:U,getPageInfo:Ih,getPageInfoByObjId:Rt,getCurrentPageInfo:fc,getPDFVersion:C,Point:xA,Rectangle:dd,Matrix:Ft,hasHotfix:gA},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return rn(ee)},set:function(L){bl(ee,L)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ea(ee)},set:function(L){Gr(ee,L)},enumerable:!0,configurable:!0}),_n.call(g,Ke),St="F1",Ns(s,r),gt.publish("initialized"),g}Jh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Jh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Jh.prototype.processOwnerPassword=function(e,t){return X5(q5(t).substr(0,5),e)},Jh.prototype.encryptor=function(e,t){var r=q5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return X5(r,n)}},jy.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Vr(e)!==Vr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},rr.API={events:[]},rr.version="3.0.1";var ms=rr.API,zN=1,Sh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},fr=function(e){return e.toFixed(2)},RA=function(e){return e.toFixed(5)};ms.__acroform__={};var Di=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},TF=function(e){return e*zN},Fl=function(e){var t=new RO,r=Dt.internal.getHeight(e)||0,n=Dt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(fr(n)),Number(fr(r))],t},rre=ms.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},nre=ms.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},sre=ms.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ks=ms.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sre(e,t-1)},Ps=ms.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rre(e,t-1)},Os=ms.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nre(e,t-1)},are=ms.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],a=e[1],o=e[2],l=e[3],A={};return A.lowerLeft_X=r(s)||0,A.lowerLeft_Y=n(a+l)||0,A.upperRight_X=r(s+o)||0,A.upperRight_Y=n(a)||0,[Number(fr(A.lowerLeft_X)),Number(fr(A.lowerLeft_Y)),Number(fr(A.upperRight_X)),Number(fr(A.upperRight_Y))]},ire=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Y5(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+fr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Fl(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Y5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(U){return U.split(`
`)}):s.map(function(U){return[U]});var a=r,o=Dt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Dt.internal.getWidth(e)||0;l=l<0?-l:l;var A=function(U,Q,X){if(U+1<s.length){var Z=Q+" "+s[U+1][0];return w1(Z,e,X).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var d,f,m=w1("3",e,a).height,y=e.multiline?o-a:(o-m)/2,g=y+=2,b=0,C=0,F=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+w1(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var v="",S=0,I=0;I<s.length;I++)if(s.hasOwnProperty(I)){var k=!1;if(s[I].length!==1&&F!==s[I].length-1){if((m+2)*(S+2)+2>o)continue e;v+=s[I][F],k=!0,C=I,I--}else{v=(v+=s[I][F]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var M=parseInt(I),V=A(M,v,a),O=I>=s.length-1;if(V&&!O){v+=" ",F=0;continue}if(V||O){if(O)C=M;else if(e.multiline&&(m+2)*(S+2)+2>o)continue e}else{if(!e.multiline||(m+2)*(S+2)+2>o)continue e;C=M}}for(var R="",_=b;_<=C;_++){var J=s[_];if(e.multiline){if(_===C){R+=J[F]+" ",F=(F+1)%J.length;continue}if(_===b){R+=J[J.length-1]+" ";continue}}R+=J[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,f=w1(R,e,a).width,e.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;case"left":default:d=2}t+=fr(d)+" "+fr(g)+` Td
`,t+="("+Sh(R)+`) Tj
`,t+=-fr(d)+` 0 Td
`,g=-(a+2),f=0,b=k?C:C+1,S++,v=""}break}return n.text=t,n.fontSize=a,n},w1=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},ore={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lre=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},cre=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),Vr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},Are=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(fl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ore)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");zN=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new DO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var a=n[s];a.objId=void 0,a.hasAnnotation&&lre(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var a=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],A=[],d=l.Rect;if(l.Rect&&(l.Rect=are(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Dt.createDefaultAppearanceStream(l),Vr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(A=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=ire(l);A.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var g=l.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var b=g[o];typeof b=="function"&&(b=b.call(s,l)),m+="/"+o+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(s,l)),m+="/"+o+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);m+=">>"}A.push({key:"AP",value:`<<
`+m+">>"})}s.internal.putStream({additionalKeyValues:A,objectId:l.objId}),s.internal.out("endobj")}a&&cre(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},OO=ms.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(a!==0&&(s+=" "),Vr(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+Sh(n(e[a].toString()))+")"):s+=e[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Yv=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Sh(n(e))+")"},_l=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_l.prototype.toString=function(){return this.objId+" 0 R"},_l.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},_l.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:OO(s,this.objId,this.scope)}):s instanceof _l?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var RO=function(){_l.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Di(RO,_l);var DO=function(){_l.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Sh(r(e))+")"}},set:function(r){e=r}})};Di(DO,_l);var fl=function e(){_l.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ks(t,3)},set:function(v){v?this.F=Ps(t,3):this.F=Os(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');r=v}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(v){n=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(v){n[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(v){n[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(v){n[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(v){n[3]=v}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Ty)return;a="FieldObject"+e.FieldNum++}var v=function(S){return S};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Sh(v(a))+")"},set:function(v){a=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(v){a=v}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(v){A=v}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/zN:d},set:function(v){d=v}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(v){f=v}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Ty||this instanceof $d))return Yv(m,this.objId,this.scope)},set:function(v){v=v.toString(),m=v}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ia?y:Yv(y,this.objId,this.scope)},set:function(v){v=v.toString(),y=this instanceof ia?v:v.substr(0,1)==="("?Mh(v.substr(1,v.length-2)):Mh(v)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia?Mh(y.substr(1,y.length-1)):y},set:function(v){v=v.toString(),y=this instanceof ia?"/"+v:v}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ia?g:Yv(g,this.objId,this.scope)},set:function(v){v=v.toString(),g=this instanceof ia?v:v.substr(0,1)==="("?Mh(v.substr(1,v.length-2)):Mh(v)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia?Mh(g.substr(1,g.length-1)):g},set:function(v){v=v.toString(),g=this instanceof ia?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(v){v=!!v,C=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(v){b=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,1)},set:function(v){v?this.Ff=Ps(this.Ff,1):this.Ff=Os(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,2)},set:function(v){v?this.Ff=Ps(this.Ff,2):this.Ff=Os(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,3)},set:function(v){v?this.Ff=Ps(this.Ff,3):this.Ff=Os(this.Ff,3)}});var F=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(F!==null)return F},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');F=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(F){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:F=2;break;case"center":case 1:F=1;break;case"left":case 0:default:F=0}}})};Di(fl,_l);var kf=function(){fl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return OO(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(a,o,l){l||(l=1);for(var A,d=[];A=o.exec(a);)d.push(A[l]);return d}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,18)},set:function(r){r?this.Ff=Ps(this.Ff,18):this.Ff=Os(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ps(this.Ff,19):this.Ff=Os(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,20)},set:function(r){r?(this.Ff=Ps(this.Ff,20),t.sort()):this.Ff=Os(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,22)},set:function(r){r?this.Ff=Ps(this.Ff,22):this.Ff=Os(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,23)},set:function(r){r?this.Ff=Ps(this.Ff,23):this.Ff=Os(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,27)},set:function(r){r?this.Ff=Ps(this.Ff,27):this.Ff=Os(this.Ff,27)}}),this.hasAppearanceStream=!1};Di(kf,fl);var Pf=function(){kf.call(this),this.fontName="helvetica",this.combo=!1};Di(Pf,kf);var Of=function(){Pf.call(this),this.combo=!0};Di(Of,Pf);var Nx=function(){Of.call(this),this.edit=!0};Di(Nx,Of);var ia=function(){fl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,15)},set:function(r){r?this.Ff=Ps(this.Ff,15):this.Ff=Os(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,16)},set:function(r){r?this.Ff=Ps(this.Ff,16):this.Ff=Os(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,17)},set:function(r){r?this.Ff=Ps(this.Ff,17):this.Ff=Os(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,26)},set:function(r){r?this.Ff=Ps(this.Ff,26):this.Ff=Os(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+Sh(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Vr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Di(ia,fl);var Sx=function(){ia.call(this),this.pushButton=!0};Di(Sx,ia);var Rf=function(){ia.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Di(Rf,ia);var Ty=function(){var e,t;fl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Sh(s(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Vr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Di(Ty,fl),Rf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Rf.prototype.createOption=function(e){var t=new Ty;return t.Parent=this,t.optionName=e,this.Kids.push(t),ure.call(this.scope,t),t};var Ex=function(){ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};Di(Ex,ia);var $d=function(){fl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,13)},set:function(t){t?this.Ff=Ps(this.Ff,13):this.Ff=Os(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,21)},set:function(t){t?this.Ff=Ps(this.Ff,21):this.Ff=Os(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,23)},set:function(t){t?this.Ff=Ps(this.Ff,23):this.Ff=Os(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,24)},set:function(t){t?this.Ff=Ps(this.Ff,24):this.Ff=Os(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,25)},set:function(t){t?this.Ff=Ps(this.Ff,25):this.Ff=Os(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,26)},set:function(t){t?this.Ff=Ps(this.Ff,26):this.Ff=Os(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Di($d,fl);var Fx=function(){$d.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,14)},set:function(e){e?this.Ff=Ps(this.Ff,14):this.Ff=Os(this.Ff,14)}}),this.password=!0};Di(Fx,$d);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Fl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=Y5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+fr(Dt.internal.getWidth(e))+" "+fr(Dt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+fr(a.fontSize)+" Tf "+s),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Fl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],a=Dt.internal.getHeight(e),o=Dt.internal.getWidth(e),l=Y5(e,e.caption);return s.push("1 g"),s.push("0 0 "+fr(o)+" "+fr(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+fr(o-1)+" "+fr(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+fr(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Fl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+fr(Dt.internal.getWidth(e))+" "+fr(Dt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Dt.RadioButton.Circle.YesNormal,t.D[e]=Dt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Fl(e);t.scope=e.scope;var r=[],n=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Dt.internal.Bezier_C,a=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+RA(Dt.internal.getWidth(e)/2)+" "+RA(Dt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fl(e);t.scope=e.scope;var r=[],n=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*Dt.internal.Bezier_C).toFixed(5)),o=Number((n*Dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+RA(Dt.internal.getWidth(e)/2)+" "+RA(Dt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+RA(Dt.internal.getWidth(e)/2)+" "+RA(Dt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Fl(e);t.scope=e.scope;var r=[],n=Dt.internal.getWidth(e)<=Dt.internal.getHeight(e)?Dt.internal.getWidth(e)/4:Dt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*Dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+RA(Dt.internal.getWidth(e)/2)+" "+RA(Dt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Dt.RadioButton.Cross.YesNormal,t.D[e]=Dt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Fl(e);t.scope=e.scope;var r=[],n=Dt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+fr(Dt.internal.getWidth(e)-2)+" "+fr(Dt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(fr(n.x1.x)+" "+fr(n.x1.y)+" m"),r.push(fr(n.x2.x)+" "+fr(n.x2.y)+" l"),r.push(fr(n.x4.x)+" "+fr(n.x4.y)+" m"),r.push(fr(n.x3.x)+" "+fr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fl(e);t.scope=e.scope;var r=Dt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+fr(Dt.internal.getWidth(e))+" "+fr(Dt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+fr(Dt.internal.getWidth(e)-2)+" "+fr(Dt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(fr(r.x1.x)+" "+fr(r.x1.y)+" m"),n.push(fr(r.x2.x)+" "+fr(r.x2.y)+" l"),n.push(fr(r.x4.x)+" "+fr(r.x4.y)+" m"),n.push(fr(r.x3.x)+" "+fr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Fl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+fr(Dt.internal.getWidth(e))+" "+fr(Dt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Dt.internal.getWidth(e),r=Dt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Dt.internal.getWidth=function(e){var t=0;return Vr(e)==="object"&&(t=TF(e.Rect[2])),t},Dt.internal.getHeight=function(e){var t=0;return Vr(e)==="object"&&(t=TF(e.Rect[3])),t};var ure=ms.addField=function(e){if(Are(this,e),!(e instanceof fl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ms.AcroFormChoiceField=kf,ms.AcroFormListBox=Pf,ms.AcroFormComboBox=Of,ms.AcroFormEditBox=Nx,ms.AcroFormButton=ia,ms.AcroFormPushButton=Sx,ms.AcroFormRadioButton=Rf,ms.AcroFormCheckBox=Ex,ms.AcroFormTextField=$d,ms.AcroFormPasswordField=Fx,ms.AcroFormAppearance=Dt,ms.AcroForm={ChoiceField:kf,ListBox:Pf,ComboBox:Of,EditBox:Nx,Button:ia,PushButton:Sx,RadioButton:Rf,CheckBox:Ex,TextField:$d,PasswordField:Fx,Appearance:Dt},rr.AcroForm={ChoiceField:kf,ListBox:Pf,ComboBox:Of,EditBox:Nx,Button:ia,PushButton:Sx,RadioButton:Rf,CheckBox:Ex,TextField:$d,PasswordField:Fx,Appearance:Dt};function _O(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(U,Q){var X,Z,$,q,W,Y=t;if((Q=Q||t)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(V(U))for(W in r)for($=r[W],X=0;X<$.length;X+=1){for(q=!0,Z=0;Z<$[X].length;Z+=1)if($[X][Z]!==void 0&&$[X][Z]!==U[Z]){q=!1;break}if(q===!0){Y=W;break}}else for(W in r)for($=r[W],X=0;X<$.length;X+=1){for(q=!0,Z=0;Z<$[X].length;Z+=1)if($[X][Z]!==void 0&&$[X][Z]!==U.charCodeAt(Z)){q=!1;break}if(q===!0){Y=W;break}}return Y===t&&Q!==t&&(Y=Q),Y},s=function U(Q){for(var X=this.internal.write,Z=this.internal.putStream,$=(0,this.internal.getFilters)();$.indexOf("FlateEncode")!==-1;)$.splice($.indexOf("FlateEncode"),1);Q.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:Q.width}),q.push({key:"Height",value:Q.height}),Q.colorSpace===F.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Q.palette.length/3-1)+" "+("sMask"in Q&&Q.sMask!==void 0?Q.objectId+2:Q.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+Q.colorSpace}),Q.colorSpace===F.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:Q.bitsPerComponent}),"decodeParameters"in Q&&Q.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+Q.decodeParameters+">>"}),"transparency"in Q&&Array.isArray(Q.transparency)){for(var W="",Y=0,K=Q.transparency.length;Y<K;Y++)W+=Q.transparency[Y]+" "+Q.transparency[Y]+" ";q.push({key:"Mask",value:"["+W+"]"})}Q.sMask!==void 0&&q.push({key:"SMask",value:Q.objectId+1+" 0 R"});var ae=Q.filter!==void 0?["/"+Q.filter]:void 0;if(Z({data:Q.data,additionalKeyValues:q,alreadyAppliedFilters:ae,objectId:Q.objectId}),X("endobj"),"sMask"in Q&&Q.sMask!==void 0){var be="/Predictor "+Q.predictor+" /Colors 1 /BitsPerComponent "+Q.bitsPerComponent+" /Columns "+Q.width,H={width:Q.width,height:Q.height,colorSpace:"DeviceGray",bitsPerComponent:Q.bitsPerComponent,decodeParameters:be,data:Q.sMask};"filter"in Q&&(H.filter=Q.filter),U.call(this,H)}if(Q.colorSpace===F.INDEXED){var ee=this.internal.newObject();Z({data:R(new Uint8Array(Q.palette)),objectId:ee}),X("endobj")}},a=function(){var U=this.internal.collections.addImage_images;for(var Q in U)s.call(this,U[Q])},o=function(){var U,Q=this.internal.collections.addImage_images,X=this.internal.write;for(var Z in Q)X("/I"+(U=Q[Z]).index,U.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},A=function(){var U=this.internal.collections.addImage_images;return l.call(this),U},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(U){return typeof e["process"+U.toUpperCase()]=="function"},m=function(U){return Vr(U)==="object"&&U.nodeType===1},y=function(U,Q){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var X=""+U.getAttribute("src");if(X.indexOf("data:image/")===0)return zm(unescape(X).split("base64,").pop());var Z=e.loadFile(X,!0);if(Z!==void 0)return Z}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var $;switch(Q){case"PNG":$="image/png";break;case"WEBP":$="image/webp";break;case"JPEG":case"JPG":default:$="image/jpeg"}return zm(U.toDataURL($,1).split("base64,").pop())}},g=function(U){var Q=this.internal.collections.addImage_images;if(Q){for(var X in Q)if(U===Q[X].alias)return Q[X]}},b=function(U,Q,X){return U||Q||(U=-96,Q=-96),U<0&&(U=-1*X.width*72/U/this.internal.scaleFactor),Q<0&&(Q=-1*X.height*72/Q/this.internal.scaleFactor),U===0&&(U=Q*X.width/X.height),Q===0&&(Q=U*X.height/X.width),[U,Q]},C=function(U,Q,X,Z,$,q){var W=b.call(this,X,Z,$),Y=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,ae=A.call(this);if(X=W[0],Z=W[1],ae[$.index]=$,q){q*=Math.PI/180;var be=Math.cos(q),H=Math.sin(q),ee=function(le){return le.toFixed(4)},ie=[ee(be),ee(H),ee(-1*H),ee(be),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,Y(U),K(Q+Z),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([Y(X),"0","0",Y(Z),"0","0","cm"].join(" "))):this.internal.write([Y(X),"0","0",Y(Z),Y(U),K(Q+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+$.index+" Do"),this.internal.write("Q")},F=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=e.__addimage__.sHashCode=function(U){var Q,X,Z=0;if(typeof U=="string")for(X=U.length,Q=0;Q<X;Q++)Z=(Z<<5)-Z+U.charCodeAt(Q),Z|=0;else if(V(U))for(X=U.byteLength/2,Q=0;Q<X;Q++)Z=(Z<<5)-Z+U[Q],Z|=0;return Z},I=e.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var Q=!0;return U.length===0&&(Q=!1),U.length%4!=0&&(Q=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(Q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(Q=!1),Q},k=e.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var Q=U.indexOf(",");return Q<0?null:U.substring(0,Q).trim().endsWith("base64")?U.substring(Q+1):null},M=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(U){return M()&&U instanceof ArrayBuffer};var V=e.__addimage__.isArrayBufferView=function(U){return M()&&typeof Uint32Array<"u"&&(U instanceof Int8Array||U instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array)},O=e.__addimage__.binaryStringToUint8Array=function(U){for(var Q=U.length,X=new Uint8Array(Q),Z=0;Z<Q;Z++)X[Z]=U.charCodeAt(Z);return X},R=e.__addimage__.arrayBufferToBinaryString=function(U){for(var Q="",X=V(U)?U:new Uint8Array(U),Z=0;Z<X.length;Z+=8192)Q+=String.fromCharCode.apply(null,X.subarray(Z,Z+8192));return Q};e.addImage=function(){var U,Q,X,Z,$,q,W,Y,K;if(typeof arguments[1]=="number"?(Q=t,X=arguments[1],Z=arguments[2],$=arguments[3],q=arguments[4],W=arguments[5],Y=arguments[6],K=arguments[7]):(Q=arguments[1],X=arguments[2],Z=arguments[3],$=arguments[4],q=arguments[5],W=arguments[6],Y=arguments[7],K=arguments[8]),Vr(U=arguments[0])==="object"&&!m(U)&&"imageData"in U){var ae=U;U=ae.imageData,Q=ae.format||Q||t,X=ae.x||X||0,Z=ae.y||Z||0,$=ae.w||ae.width||$,q=ae.h||ae.height||q,W=ae.alias||W,Y=ae.compression||Y,K=ae.rotation||ae.angle||K}var be=this.internal.getFilters();if(Y===void 0&&be.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(X)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var H=_.call(this,U,Q,W,Y);return C.call(this,X,Z,$,q,H,K),this};var _=function(U,Q,X,Z){var $,q,W;if(typeof U=="string"&&n(U)===t){U=unescape(U);var Y=J(U,!1);(Y!==""||(Y=e.loadFile(U,!0))!==void 0)&&(U=Y)}if(m(U)&&(U=y(U,Q)),Q=n(U,Q),!f(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(((W=X)==null||W.length===0)&&(X=function(K){return typeof K=="string"||V(K)?S(K):V(K.data)?S(K.data):null}(U)),($=g.call(this,X))||(M()&&(U instanceof Uint8Array||Q==="RGBA"||(q=U,U=O(U))),$=this["process"+Q.toUpperCase()](U,d.call(this),X,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in e.image_compression?K:v.NONE}(Z),q)),!$)throw new Error("An unknown error occurred whilst processing the image.");return $},J=e.__addimage__.convertBase64ToBinaryString=function(U,Q){Q=typeof Q!="boolean"||Q;var X,Z="";if(typeof U=="string"){var $;X=($=k(U))!==null&&$!==void 0?$:U;try{Z=zm(X)}catch(q){if(Q)throw I(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};e.getImageProperties=function(U){var Q,X,Z="";if(m(U)&&(U=y(U)),typeof U=="string"&&n(U)===t&&((Z=J(U,!1))===""&&(Z=e.loadFile(U)||""),U=Z),X=n(U),!f(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(!M()||U instanceof Uint8Array||(U=O(U)),!(Q=this["process"+X.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return Q.fileType=X,Q}})(rr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};rr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,m=0;m<d.length&&!f;m++)switch((n=d[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var y=0;y<d.length;y++){n=d[y];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),F=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(C.objId),S=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(v(n.contents))+")",a+=" /Popup "+F.objId+" 0 R",a+=" /P "+A.objId+" 0 R",a+=" /T ("+g(v(S))+") >>",C.content=a;var I=C.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+I,n.open&&(a+=" /Open true"),a+=" >>",F.content=a,this.internal.write(C.objId,"0 R",F.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(b(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var M=this.annotations._nameMap[n.options.name];n.options.pageNumber=M.page,n.options.top=M.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var V=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+V+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,a,o){var l=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:A(r),y:d(n),w:A(r+s),h:d(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,s,a){var o,l,A=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(d*f)}else l=A,o=d;return this.text(r,n,s,a),s+=.2*d,a.align==="center"&&(n-=A/2),a.align==="right"&&(n-=A),this.link(n,s-d,l,o,a),A},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(rr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(C){return t[C.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},l=e.__arabicParser__.isArabicEndLetter=function(C){return o(C)&&a(C)&&t[C.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(C){return o(C)&&s.indexOf(C.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return o(C)&&a(C)&&t[C.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(C){return o(C)&&a(C)&&t[C.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(C){return o(C)&&a(C)&&t[C.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(C){return o(C)&&a(C)&&t[C.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(C){var F=0,v=r,S="",I=0;for(F=0;F<C.length;F+=1)v[C.charCodeAt(F)]!==void 0?(I++,typeof(v=v[C.charCodeAt(F)])=="number"&&(S+=String.fromCharCode(v),v=r,I=0),F===C.length-1&&(v=r,S+=C.charAt(F-(I-1)),F-=I-1,I=0)):(v=r,S+=C.charAt(F-I),F-=I,I=0);return S};e.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&n[C.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(C,F,v){return o(C)?a(C)===!1?-1:!d(C)||!o(F)&&!o(v)||!o(v)&&l(F)||l(C)&&!o(F)||l(C)&&A(F)||l(C)&&l(F)?0:f(C)&&o(F)&&!l(F)&&o(v)&&d(v)?3:l(C)||!o(v)?1:2:-1},g=function(C){var F=0,v=0,S=0,I="",k="",M="",V=(C=C||"").split("\\s+"),O=[];for(F=0;F<V.length;F+=1){for(O.push(""),v=0;v<V[F].length;v+=1)I=V[F][v],k=V[F][v-1],M=V[F][v+1],o(I)?(S=y(I,k,M),O[F]+=S!==-1?String.fromCharCode(t[I.charCodeAt(0)][S]):I):O[F]+=I;O[F]=m(O[F])}return O.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var C,F=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(F)){var S=0;for(v=[],S=0;S<F.length;S+=1)Array.isArray(F[S])?v.push([g(F[S][0]),F[S][1],F[S][2]]):v.push([g(F[S])]);C=v}else C=g(F);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};e.events.push(["preProcessText",b])}(rr.API),rr.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(rr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(C){A=C}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(C){d=C}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(C){m=C}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(C){y=C}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(C){b=C}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(A){return n.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},e.getTextDimensions=function(A,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),y=d.scaleFactor||this.internal.scaleFactor,g=0,b=0,C=0,F=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var v=d.maxWidth;v>0?typeof A=="string"?A=this.splitTextToSize(A,v):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(I,k){return I.concat(F.splitTextToSize(k,v))},[])):A=Array.isArray(A)?A:[A];for(var S=0;S<A.length;S++)g<(C=this.getStringUnitWidth(A[S],{font:m})*f)&&(g=C);return g!==0&&(b=A.length),{w:g/=y,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var A=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var A;A=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===A.lineNumber?(A.x=(d.x||0)+(d.width||0),A.y=d.y||0):d.y+d.height+A.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=m.top,g&&y&&(this.printHeaderRow(A.lineNumber,!0),A.y+=y[0].height)):A.y=d.y+d.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,r===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-f,A.y+f,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+f,{align:"center",baseline:"top",maxWidth:A.width-f-f}):this.text(A.text,A.x+f,A.y+f,{align:"left",baseline:"top",maxWidth:A.width-f-f})),this.internal.__cell__.lastCell=A,this};e.table=function(A,d,f,m,y){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,b,C,F,v=[],S=[],I=[],k={},M={},V=[],O=[],R=(y=y||{}).autoSize||!1,_=y.printHeaders!==!1,J=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,U=y.margins||Object.assign({width:this.getPageWidth()},t),Q=typeof y.padding=="number"?y.padding:3,X=y.headerBackgroundColor||"#c8c8c8",Z=y.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=_,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=Q,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=Z,this.setFontSize(J),m==null)S=v=Object.keys(f[0]),I=v.map(function(){return"left"});else if(Array.isArray(m)&&Vr(m[0])==="object")for(v=m.map(function(ae){return ae.name}),S=m.map(function(ae){return ae.prompt||ae.name||""}),I=m.map(function(ae){return ae.align||"left"}),g=0;g<m.length;g+=1)M[m[g].name]=m[g].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(S=v=m,I=v.map(function(){return"left"}));if(R||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<v.length;g+=1){for(k[F=v[g]]=f.map(function(ae){return ae[F]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(S[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=k[F],this.setFont(void 0,"normal"),C=0;C<b.length;C+=1)V.push(this.getTextDimensions(b[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[F]=Math.max.apply(null,V)+Q+Q,V=[]}if(_){var $={};for(g=0;g<v.length;g+=1)$[v[g]]={},$[v[g]].text=S[g],$[v[g]].align=I[g];var q=l.call(this,$,M);O=v.map(function(ae){return new a(A,d,M[ae],q,$[ae].text,void 0,$[ae].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var W=m.reduce(function(ae,be){return ae[be.name]=be.align,ae},{});for(g=0;g<f.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:f[g]},this);var Y=l.call(this,f[g],M);for(C=0;C<v.length;C+=1){var K=f[g][v[C]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:C,data:K},this),o.call(this,new a(A,d,M[v[C]],Y,K,g+2,W[v[C]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=d,this};var l=function(A,d){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(A).map(function(g){var b=A[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/y+f+f},this).reduce(function(g,b){return Math.max(g,b)},0)};e.setTableHeaderRow=function(A){n.call(this),this.internal.__cell__.tableHeaderRow=A},e.printHeaderRow=function(A,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,y.push(f)),f.lineNumber=A;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(b)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(rr.API);var MO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},UO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J5=_O(UO),QO=[100,200,300,400,500,600,700,800,900],dre=_O(QO);function Z5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return MO[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(a){return typeof J5[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function LF(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var hre={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},kF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function PF(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function fre(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},hre,r.genericFontFamilies||{}),a=null,o=null,l=0;l<t.length;++l)if(s[(a=Z5(t[l])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+PF(a)+"' and default family '"+n+"'.");if(o=function(A,d){if(d[A])return d[A];var f=J5[A],m=f<=J5.normal?-1:1,y=LF(d,UO,f,m);if(!y)throw new Error("Could not find a matching font-stretch value for "+A);return y}(a.stretch,o),o=function(A,d){if(d[A])return d[A];for(var f=MO[A],m=0;m<f.length;++m)if(d[f[m]])return d[f[m]];throw new Error("Could not find a matching font-style for "+A)}(a.style,o),!(o=function(A,d){if(d[A])return d[A];if(A===400&&d[500])return d[500];if(A===500&&d[400])return d[400];var f=dre[A],m=LF(d,QO,f,A<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+A);return m}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+PF(a)+"'.");return o}function OF(e){return e.trimLeft()}function mre(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function pre(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var v1,RF,DF,Jv=["times"];(function(e){var t,r,n,s,a,o,l,A,d,f=function(H){return H=H||{},this.isStrokeTransparent=H.isStrokeTransparent||!1,this.strokeOpacity=H.strokeOpacity||1,this.strokeStyle=H.strokeStyle||"#000000",this.fillStyle=H.fillStyle||"#000000",this.isFillTransparent=H.isFillTransparent||!1,this.fillOpacity=H.fillOpacity||1,this.font=H.font||"10px sans-serif",this.textBaseline=H.textBaseline||"alphabetic",this.textAlign=H.textAlign||"left",this.lineWidth=H.lineWidth||1,this.lineJoin=H.lineJoin||"miter",this.lineCap=H.lineCap||"butt",this.path=H.path||[],this.transform=H.transform!==void 0?H.transform.clone():new A,this.globalCompositeOperation=H.globalCompositeOperation||"normal",this.globalAlpha=H.globalAlpha||1,this.clip_path=H.clip_path||[],this.currentPoint=H.currentPoint||new o,this.miterLimit=H.miterLimit||10,this.lastPoint=H.lastPoint||new o,this.lineDashOffset=H.lineDashOffset||0,this.lineDash=H.lineDash||[],this.margin=H.margin||[0,0,0,0],this.prevPageLastElemOffset=H.prevPageLastElemOffset||0,this.ignoreClearRect=typeof H.ignoreClearRect!="boolean"||H.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,A=this.internal.Matrix,d=new f}]);var m=function(H){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ee=H;Object.defineProperty(this,"pdf",{get:function(){return ee}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(Re){ie=!!Re}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(Re){le=!!Re}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Re){isNaN(Re)||(ce=Re)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Re){isNaN(Re)||(me=Re)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Re){var ye;typeof Re=="number"?ye=[Re,Re,Re,Re]:((ye=new Array(4))[0]=Re[0],ye[1]=Re.length>=2?Re[1]:ye[0],ye[2]=Re.length>=3?Re[2]:ye[0],ye[3]=Re.length>=4?Re[3]:ye[1]),d.margin=ye}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Re){we=Re}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(Re){Ie=Re}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(Re){ve=Re}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Re){Re instanceof f&&(d=Re)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Re){d.path=Re}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(Re){Ce=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var ye;ye=y(Re),this.ctx.fillStyle=ye.style,this.ctx.isFillTransparent=ye.a===0,this.ctx.fillOpacity=ye.a,this.pdf.setFillColor(ye.r,ye.g,ye.b,{a:ye.a}),this.pdf.setTextColor(ye.r,ye.g,ye.b,{a:ye.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var ye=y(Re);this.ctx.strokeStyle=ye.style,this.ctx.isStrokeTransparent=ye.a===0,this.ctx.strokeOpacity=ye.a,ye.a===0?this.pdf.setDrawColor(255,255,255):(ye.a,this.pdf.setDrawColor(ye.r,ye.g,ye.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var Pe=null;function Me(Re,ye){if(Pe===null){var pt=function(rt){var Ke=[];return Object.keys(rt).forEach(function(ht){rt[ht].forEach(function(_e){var ft=null;switch(_e){case"bold":ft={family:ht,weight:"bold"};break;case"italic":ft={family:ht,style:"italic"};break;case"bolditalic":ft={family:ht,weight:"bold",style:"italic"};break;case"":case"normal":ft={family:ht}}ft!==null&&(ft.ref={name:ht,style:_e},Ke.push(ft))})}),Ke}(Re.getFontList());Pe=function(rt){for(var Ke={},ht=0;ht<rt.length;++ht){var _e=Z5(rt[ht]),ft=_e.family,yt=_e.stretch,et=_e.style,Nt=_e.weight;Ke[ft]=Ke[ft]||{},Ke[ft][yt]=Ke[ft][yt]||{},Ke[ft][yt][et]=Ke[ft][yt][et]||{},Ke[ft][yt][et][Nt]=_e}return Ke}(pt.concat(ye))}return Pe}var Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(Re){Pe=null,Je=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var ye;if(this.ctx.font=Re,(ye=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var pt=ye[1];ye[2];var rt=ye[3],Ke=ye[4];ye[5];var ht=ye[6],_e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor(_e==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:_e==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var ft=function(qe){var St,Ze,br=[],Ot=qe.trim();if(Ot==="")return Jv;if(Ot in kF)return[kF[Ot]];for(;Ot!=="";){switch(Ze=null,St=(Ot=OF(Ot)).charAt(0)){case'"':case"'":Ze=mre(Ot.substring(1),St);break;default:Ze=pre(Ot)}if(Ze===null||(br.push(Ze[0]),(Ot=OF(Ze[1]))!==""&&Ot.charAt(0)!==","))return Jv;Ot=Ot.replace(/^,/,"")}return br}(ht);if(this.fontFaces){var yt=fre(Me(this.pdf,this.fontFaces),ft.map(function(qe){return{family:qe,stretch:"normal",weight:rt,style:pt}}));this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var et="";(rt==="bold"||parseInt(rt,10)>=700||pt==="bold")&&(et="bold"),pt==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var Nt="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ht=0;Ht<ft.length;Ht++){if(this.pdf.internal.getFont(ft[Ht],et,{noFallback:!0,disableWarning:!0})!==void 0){Nt=ft[Ht];break}if(et==="bolditalic"&&this.pdf.internal.getFont(ft[Ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=ft[Ht],et="bold";else if(this.pdf.internal.getFont(ft[Ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=ft[Ht],et="normal";break}}if(Nt===""){for(var lr=0;lr<ft.length;lr++)if(wt[ft[lr]]){Nt=wt[ft[lr]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};m.prototype.setLineDash=function(H){this.lineDash=H},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){k.call(this,"fill",!1)},m.prototype.stroke=function(){k.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(H,ee){if(isNaN(H)||isNaN(ee))throw bn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new o(H,ee));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(H,ee)},m.prototype.closePath=function(){var H=new o(0,0),ee=0;for(ee=this.path.length-1;ee!==-1;ee--)if(this.path[ee].type==="begin"&&Vr(this.path[ee+1])==="object"&&typeof this.path[ee+1].x=="number"){H=new o(this.path[ee+1].x,this.path[ee+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(H.x,H.y)},m.prototype.lineTo=function(H,ee){if(isNaN(H)||isNaN(ee))throw bn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new o(H,ee));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},m.prototype.quadraticCurveTo=function(H,ee,ie,le){if(isNaN(ie)||isNaN(le)||isNaN(H)||isNaN(ee))throw bn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(ie,le)),me=this.ctx.transform.applyToPoint(new o(H,ee));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},m.prototype.bezierCurveTo=function(H,ee,ie,le,ce,me){if(isNaN(ce)||isNaN(me)||isNaN(H)||isNaN(ee)||isNaN(ie)||isNaN(le))throw bn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(ce,me)),Ie=this.ctx.transform.applyToPoint(new o(H,ee)),ve=this.ctx.transform.applyToPoint(new o(ie,le));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:ve.x,y2:ve.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},m.prototype.arc=function(H,ee,ie,le,ce,me){if(isNaN(H)||isNaN(ee)||isNaN(ie)||isNaN(le)||isNaN(ce))throw bn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(H,ee));H=we.x,ee=we.y;var Ie=this.ctx.transform.applyToPoint(new o(0,ie)),ve=this.ctx.transform.applyToPoint(new o(0,0));ie=Math.sqrt(Math.pow(Ie.x-ve.x,2)+Math.pow(Ie.y-ve.y,2))}Math.abs(ce-le)>=2*Math.PI&&(le=0,ce=2*Math.PI),this.path.push({type:"arc",x:H,y:ee,radius:ie,startAngle:le,endAngle:ce,counterclockwise:me})},m.prototype.arcTo=function(H,ee,ie,le,ce){throw new Error("arcTo not implemented.")},m.prototype.rect=function(H,ee,ie,le){if(isNaN(H)||isNaN(ee)||isNaN(ie)||isNaN(le))throw bn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(H,ee),this.lineTo(H+ie,ee),this.lineTo(H+ie,ee+le),this.lineTo(H,ee+le),this.lineTo(H,ee),this.lineTo(H+ie,ee),this.lineTo(H,ee)},m.prototype.fillRect=function(H,ee,ie,le){if(isNaN(H)||isNaN(ee)||isNaN(ie)||isNaN(le))throw bn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(H,ee,ie,le),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},m.prototype.strokeRect=function(H,ee,ie,le){if(isNaN(H)||isNaN(ee)||isNaN(ie)||isNaN(le))throw bn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(H,ee,ie,le),this.stroke())},m.prototype.clearRect=function(H,ee,ie,le){if(isNaN(H)||isNaN(ee)||isNaN(ie)||isNaN(le))throw bn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(H,ee,ie,le))},m.prototype.save=function(H){H=typeof H!="boolean"||H;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(ee),H){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},m.prototype.restore=function(H){H=typeof H!="boolean"||H;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(ee),H&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(H){var ee,ie,le,ce;if(H.isCanvasGradient===!0&&(H=H.getColor()),!H)return{r:0,g:0,b:0,a:0,style:H};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(H))ee=0,ie=0,le=0,ce=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(H);if(me!==null)ee=parseInt(me[1]),ie=parseInt(me[2]),le=parseInt(me[3]),ce=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(H))!==null)ee=parseInt(me[1]),ie=parseInt(me[2]),le=parseInt(me[3]),ce=parseFloat(me[4]);else{if(ce=1,typeof H=="string"&&H.charAt(0)!=="#"){var we=new LO(H);H=we.ok?we.toHex():"#000000"}H.length===4?(ee=H.substring(1,2),ee+=ee,ie=H.substring(2,3),ie+=ie,le=H.substring(3,4),le+=le):(ee=H.substring(1,3),ie=H.substring(3,5),le=H.substring(5,7)),ee=parseInt(ee,16),ie=parseInt(ie,16),le=parseInt(le,16)}}return{r:ee,g:ie,b:le,a:ce,style:H}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(H,ee,ie,le){if(isNaN(ee)||isNaN(ie)||typeof H!="string")throw bn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!g.call(this)){var ce=Y(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;Q.call(this,{text:H,x:ee,y:ie,scale:me,angle:ce,align:this.textAlign,maxWidth:le})}},m.prototype.strokeText=function(H,ee,ie,le){if(isNaN(ee)||isNaN(ie)||typeof H!="string")throw bn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){le=isNaN(le)?void 0:le;var ce=Y(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;Q.call(this,{text:H,x:ee,y:ie,scale:me,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:le})}},m.prototype.measureText=function(H){if(typeof H!="string")throw bn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ee=this.pdf,ie=this.pdf.internal.scaleFactor,le=ee.internal.getFontSize(),ce=ee.getStringUnitWidth(H)*le/ee.internal.scaleFactor,me=function(we){var Ie=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ie}}),this};return new me({width:ce*=Math.round(96*ie/72*1e4)/1e4})},m.prototype.scale=function(H,ee){if(isNaN(H)||isNaN(ee))throw bn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new A(H,0,0,ee,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},m.prototype.rotate=function(H){if(isNaN(H))throw bn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ee=new A(Math.cos(H),Math.sin(H),-Math.sin(H),Math.cos(H),0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.translate=function(H,ee){if(isNaN(H)||isNaN(ee))throw bn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new A(1,0,0,1,H,ee);this.ctx.transform=this.ctx.transform.multiply(ie)},m.prototype.transform=function(H,ee,ie,le,ce,me){if(isNaN(H)||isNaN(ee)||isNaN(ie)||isNaN(le)||isNaN(ce)||isNaN(me))throw bn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new A(H,ee,ie,le,ce,me);this.ctx.transform=this.ctx.transform.multiply(we)},m.prototype.setTransform=function(H,ee,ie,le,ce,me){H=isNaN(H)?1:H,ee=isNaN(ee)?0:ee,ie=isNaN(ie)?0:ie,le=isNaN(le)?1:le,ce=isNaN(ce)?0:ce,me=isNaN(me)?0:me,this.ctx.transform=new A(H,ee,ie,le,ce,me)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(H,ee,ie,le,ce,me,we,Ie,ve){var Ce=this.pdf.getImageProperties(H),Pe=1,Me=1,Je=1,Re=1;le!==void 0&&Ie!==void 0&&(Je=Ie/le,Re=ve/ce,Pe=Ce.width/le*Ie/le,Me=Ce.height/ce*ve/ce),me===void 0&&(me=ee,we=ie,ee=0,ie=0),le!==void 0&&Ie===void 0&&(Ie=le,ve=ce),le===void 0&&Ie===void 0&&(Ie=Ce.width,ve=Ce.height);for(var ye,pt=this.ctx.transform.decompose(),rt=Y(pt.rotate.shx),Ke=new A,ht=(Ke=(Ke=(Ke=Ke.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new l(me-ee*Je,we-ie*Re,le*Pe,ce*Me)),_e=F.call(this,ht),ft=[],yt=0;yt<_e.length;yt+=1)ft.indexOf(_e[yt])===-1&&ft.push(_e[yt]);if(I(ft),this.autoPaging)for(var et=ft[0],Nt=ft[ft.length-1],wt=et;wt<Nt+1;wt++){this.pdf.setPage(wt);var Ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lr=wt===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=wt===1?0:qe+(wt-2)*St;if(this.ctx.clip_path.length!==0){var br=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ye,this.posX+this.margin[3],-Ze+lr+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=br}var Ot=JSON.parse(JSON.stringify(ht));Ot=S([Ot],this.posX+this.margin[3],-Ze+lr+this.ctx.prevPageLastElemOffset)[0];var dt=(wt>et||wt<Nt)&&C.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ht,St,null).clip().discardPath()),this.pdf.addImage(H,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,rt),dt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(H,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,rt)};var F=function(H,ee,ie){var le=[];ee=ee||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(H.type){default:case"mt":case"lt":le.push(Math.floor((H.y+ce)/ie)+1);break;case"arc":le.push(Math.floor((H.y+ce-H.radius)/ie)+1),le.push(Math.floor((H.y+ce+H.radius)/ie)+1);break;case"qct":var me=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x,H.y);le.push(Math.floor((me.y+ce)/ie)+1),le.push(Math.floor((me.y+me.h+ce)/ie)+1);break;case"bct":var we=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,H.x1,H.y1,H.x2,H.y2,H.x,H.y);le.push(Math.floor((we.y+ce)/ie)+1),le.push(Math.floor((we.y+we.h+ce)/ie)+1);break;case"rect":le.push(Math.floor((H.y+ce)/ie)+1),le.push(Math.floor((H.y+H.h+ce)/ie)+1)}for(var Ie=0;Ie<le.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<le[Ie];)v.call(this);return le},v=function(){var H=this.fillStyle,ee=this.strokeStyle,ie=this.font,le=this.lineCap,ce=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=H,this.strokeStyle=ee,this.font=ie,this.lineCap=le,this.lineWidth=ce,this.lineJoin=me},S=function(H,ee,ie){for(var le=0;le<H.length;le++)switch(H[le].type){case"bct":H[le].x2+=ee,H[le].y2+=ie;case"qct":H[le].x1+=ee,H[le].y1+=ie;case"mt":case"lt":case"arc":default:H[le].x+=ee,H[le].y+=ie}return H},I=function(H){return H.sort(function(ee,ie){return ee-ie})},k=function(H,ee){for(var ie,le,ce=this.fillStyle,me=this.strokeStyle,we=this.lineCap,Ie=this.lineWidth,ve=Math.abs(Ie*this.ctx.transform.scaleX),Ce=this.lineJoin,Pe=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),Je=[],Re=0;Re<Me.length;Re++)if(Me[Re].x!==void 0)for(var ye=F.call(this,Me[Re]),pt=0;pt<ye.length;pt+=1)Je.indexOf(ye[pt])===-1&&Je.push(ye[pt]);for(var rt=0;rt<Je.length;rt++)for(;this.pdf.internal.getNumberOfPages()<Je[rt];)v.call(this);if(I(Je),this.autoPaging)for(var Ke=Je[0],ht=Je[Je.length-1],_e=Ke;_e<ht+1;_e++){this.pdf.setPage(_e),this.fillStyle=ce,this.strokeStyle=me,this.lineCap=we,this.lineWidth=ve,this.lineJoin=Ce;var ft=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=_e===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=_e===1?0:et+(_e-2)*Nt;if(this.ctx.clip_path.length!==0){var Ht=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ie,this.posX+this.margin[3],-wt+yt+this.ctx.prevPageLastElemOffset),M.call(this,H,!0),this.path=Ht}if(le=JSON.parse(JSON.stringify(Pe)),this.path=S(le,this.posX+this.margin[3],-wt+yt+this.ctx.prevPageLastElemOffset),ee===!1||_e===0){var lr=(_e>Ke||_e<ht)&&C.call(this);lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,Nt,null).clip().discardPath()),M.call(this,H,ee),lr&&this.pdf.restoreGraphicsState()}this.lineWidth=Ie}else this.lineWidth=ve,M.call(this,H,ee),this.lineWidth=Ie;this.path=Pe},M=function(H,ee){if((H!=="stroke"||ee||!b.call(this))&&(H==="stroke"||ee||!g.call(this))){for(var ie,le,ce=[],me=this.path,we=0;we<me.length;we++){var Ie=me[we];switch(Ie.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:Ie,deltas:[],abs:[]});break;case"lt":var ve=ce.length;if(me[we-1]&&!isNaN(me[we-1].x)&&(ie=[Ie.x-me[we-1].x,Ie.y-me[we-1].y],ve>0)){for(;ve>=0;ve--)if(ce[ve-1].close!==!0&&ce[ve-1].begin!==!0){ce[ve-1].deltas.push(ie),ce[ve-1].abs.push(Ie);break}}break;case"bct":ie=[Ie.x1-me[we-1].x,Ie.y1-me[we-1].y,Ie.x2-me[we-1].x,Ie.y2-me[we-1].y,Ie.x-me[we-1].x,Ie.y-me[we-1].y],ce[ce.length-1].deltas.push(ie);break;case"qct":var Ce=me[we-1].x+2/3*(Ie.x1-me[we-1].x),Pe=me[we-1].y+2/3*(Ie.y1-me[we-1].y),Me=Ie.x+2/3*(Ie.x1-Ie.x),Je=Ie.y+2/3*(Ie.y1-Ie.y),Re=Ie.x,ye=Ie.y;ie=[Ce-me[we-1].x,Pe-me[we-1].y,Me-me[we-1].x,Je-me[we-1].y,Re-me[we-1].x,ye-me[we-1].y],ce[ce.length-1].deltas.push(ie);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(Ie)}}le=ee?null:H==="stroke"?"stroke":"fill";for(var pt=!1,rt=0;rt<ce.length;rt++)if(ce[rt].arc)for(var Ke=ce[rt].abs,ht=0;ht<Ke.length;ht++){var _e=Ke[ht];_e.type==="arc"?R.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,ee,!pt):X.call(this,_e.x,_e.y),pt=!0}else if(ce[rt].close===!0)this.pdf.internal.out("h"),pt=!1;else if(ce[rt].begin!==!0){var ft=ce[rt].start.x,yt=ce[rt].start.y;Z.call(this,ce[rt].deltas,ft,yt),pt=!0}le&&_.call(this,le),ee&&J.call(this)}},V=function(H){var ee=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=ee*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return H-ie;case"top":return H+ee-ie;case"hanging":return H+ee-2*ie;case"middle":return H+ee/2-ie;case"ideographic":return H;case"alphabetic":default:return H}},O=function(H){return H+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var H=function(){};return H.colorStops=[],H.addColorStop=function(ee,ie){this.colorStops.push([ee,ie])},H.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},H.isCanvasGradient=!0,H},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(H,ee,ie,le,ce,me,we,Ie,ve){for(var Ce=q.call(this,ie,le,ce,me),Pe=0;Pe<Ce.length;Pe++){var Me=Ce[Pe];Pe===0&&(ve?U.call(this,Me.x1+H,Me.y1+ee):X.call(this,Me.x1+H,Me.y1+ee)),$.call(this,H,ee,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}Ie?J.call(this):_.call(this,we)},_=function(H){switch(H){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(H,ee){this.pdf.internal.out(r(H)+" "+n(ee)+" m")},Q=function(H){var ee;switch(H.align){case"right":case"end":ee="right";break;case"center":ee="center";break;case"left":case"start":default:ee="left"}var ie=this.pdf.getTextDimensions(H.text),le=V.call(this,H.y),ce=O.call(this,le)-ie.h,me=this.ctx.transform.applyToPoint(new o(H.x,le)),we=this.ctx.transform.decompose(),Ie=new A;Ie=(Ie=(Ie=Ie.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var ve,Ce,Pe,Me=this.ctx.transform.applyToRectangle(new l(H.x,le,ie.w,ie.h)),Je=Ie.applyToRectangle(new l(H.x,ce,ie.w,ie.h)),Re=F.call(this,Je),ye=[],pt=0;pt<Re.length;pt+=1)ye.indexOf(Re[pt])===-1&&ye.push(Re[pt]);if(I(ye),this.autoPaging)for(var rt=ye[0],Ke=ye[ye.length-1],ht=rt;ht<Ke+1;ht++){this.pdf.setPage(ht);var _e=ht===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[2],et=yt-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],wt=Nt-this.margin[3],Ht=ht===1?0:ft+(ht-2)*et;if(this.ctx.clip_path.length!==0){var lr=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ve,this.posX+this.margin[3],-1*Ht+_e),M.call(this,"fill",!0),this.path=lr}var qe=S([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-Ht+_e+this.ctx.prevPageLastElemOffset)[0];H.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*H.scale),Pe=this.lineWidth,this.lineWidth=Pe*H.scale);var St=this.autoPaging!=="text";if(St||qe.y+qe.h<=yt){if(St||qe.y>=_e&&qe.x<=Nt){var Ze=St?H.text:this.pdf.splitTextToSize(H.text,H.maxWidth||Nt-qe.x)[0],br=S([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-Ht+_e+this.ctx.prevPageLastElemOffset)[0],Ot=St&&(ht>rt||ht<Ke)&&C.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,et,null).clip().discardPath()),this.pdf.text(Ze,br.x,br.y,{angle:H.angle,align:ee,renderingMode:H.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else qe.y<yt&&(this.ctx.prevPageLastElemOffset+=yt-qe.y);H.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Pe)}else H.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*H.scale),Pe=this.lineWidth,this.lineWidth=Pe*H.scale),this.pdf.text(H.text,me.x+this.posX,me.y+this.posY,{angle:H.angle,align:ee,renderingMode:H.renderingMode,maxWidth:H.maxWidth}),H.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=Pe)},X=function(H,ee,ie,le){ie=ie||0,le=le||0,this.pdf.internal.out(r(H+ie)+" "+n(ee+le)+" l")},Z=function(H,ee,ie){return this.pdf.lines(H,ee,ie,null,null)},$=function(H,ee,ie,le,ce,me,we,Ie){this.pdf.internal.out([t(s(ie+H)),t(a(le+ee)),t(s(ce+H)),t(a(me+ee)),t(s(we+H)),t(a(Ie+ee)),"c"].join(" "))},q=function(H,ee,ie,le){for(var ce=2*Math.PI,me=Math.PI/2;ee>ie;)ee-=ce;var we=Math.abs(ie-ee);we<ce&&le&&(we=ce-we);for(var Ie=[],ve=le?-1:1,Ce=ee;we>1e-5;){var Pe=Ce+ve*Math.min(we,me);Ie.push(W.call(this,H,Ce,Pe)),we-=Math.abs(Pe-Ce),Ce=Pe}return Ie},W=function(H,ee,ie){var le=(ie-ee)/2,ce=H*Math.cos(le),me=H*Math.sin(le),we=ce,Ie=-me,ve=we*we+Ie*Ie,Ce=ve+we*ce+Ie*me,Pe=4/3*(Math.sqrt(2*ve*Ce)-Ce)/(we*me-Ie*ce),Me=we-Pe*Ie,Je=Ie+Pe*we,Re=Me,ye=-Je,pt=le+ee,rt=Math.cos(pt),Ke=Math.sin(pt);return{x1:H*Math.cos(ee),y1:H*Math.sin(ee),x2:Me*rt-Je*Ke,y2:Me*Ke+Je*rt,x3:Re*rt-ye*Ke,y3:Re*Ke+ye*rt,x4:H*Math.cos(ie),y4:H*Math.sin(ie)}},Y=function(H){return 180*H/Math.PI},K=function(H,ee,ie,le,ce,me){var we=H+.5*(ie-H),Ie=ee+.5*(le-ee),ve=ce+.5*(ie-ce),Ce=me+.5*(le-me),Pe=Math.min(H,ce,we,ve),Me=Math.max(H,ce,we,ve),Je=Math.min(ee,me,Ie,Ce),Re=Math.max(ee,me,Ie,Ce);return new l(Pe,Je,Me-Pe,Re-Je)},ae=function(H,ee,ie,le,ce,me,we,Ie){var ve,Ce,Pe,Me,Je,Re,ye,pt,rt,Ke,ht,_e,ft,yt,et=ie-H,Nt=le-ee,wt=ce-ie,Ht=me-le,lr=we-ce,qe=Ie-me;for(Ce=0;Ce<41;Ce++)rt=(ye=(Pe=H+(ve=Ce/40)*et)+ve*((Je=ie+ve*wt)-Pe))+ve*(Je+ve*(ce+ve*lr-Je)-ye),Ke=(pt=(Me=ee+ve*Nt)+ve*((Re=le+ve*Ht)-Me))+ve*(Re+ve*(me+ve*qe-Re)-pt),Ce==0?(ht=rt,_e=Ke,ft=rt,yt=Ke):(ht=Math.min(ht,rt),_e=Math.min(_e,Ke),ft=Math.max(ft,rt),yt=Math.max(yt,Ke));return new l(Math.round(ht),Math.round(_e),Math.round(ft-ht),Math.round(yt-_e))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var H,ee,ie=(H=this.ctx.lineDash,ee=this.ctx.lineDashOffset,JSON.stringify({lineDash:H,lineDashOffset:ee}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(rr.API),function(e){var t=function(a){var o,l,A,d,f,m,y,g,b,C;for(l=[],A=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>A;A+=4)(f=(a.charCodeAt(A)<<24)+(a.charCodeAt(A+1)<<16)+(a.charCodeAt(A+2)<<8)+a.charCodeAt(A+3))!==0?(m=(f=((f=((f=((f=(f-(C=f%85))/85)-(b=f%85))/85)-(g=f%85))/85)-(y=f%85))/85)%85,l.push(m+33,y+33,g+33,b+33,C+33)):l.push(122);return function(F,v){for(var S=v;S>0;S--)F.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,A,d,f,m=String,y="length",g=255,b="charCodeAt",C="slice",F="replace";for(a[C](-2),a=a[C](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),A=[],d=0,f=(a+=o="uuuuu"[C](a[y]%5||5))[y];f>d;d+=5)l=52200625*(a[b](d)-33)+614125*(a[b](d+1)-33)+7225*(a[b](d+2)-33)+85*(a[b](d+3)-33)+(a[b](d+4)-33),A.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(v,S){for(var I=S;I>0;I--)v.pop()}(A,o[y]),m.fromCharCode.apply(m,A)},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",A=0;A<a.length;A+=2)l+=String.fromCharCode("0x"+(a[A]+a[A+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=z5(o)).reduce(function(A,d){return A+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,o){var l=0,A=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":A=r(A),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=t(A),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=n(A),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=A.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=s(A),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:A,reverseChain:d.reverse().join(" ")}}}(rr.API),function(e){e.loadFile=function(t,r,n){return function(s,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(A,d,f){var m=new XMLHttpRequest,y=0,g=function(b){var C=b.length,F=[],v=String.fromCharCode;for(y=0;y<C;y+=1)F.push(v(255&b.charCodeAt(y)));return F.join("")};if(m.open("GET",A,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?f(g(this.responseText)):f(void 0)}),m.send(null),d&&m.status===200)return g(m.responseText)}(s,a,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(rr.API),function(e){function t(){return(sr.html2canvas?Promise.resolve(sr.html2canvas):H5(()=>Promise.resolve().then(()=>sle),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(sr.DOMPurify?Promise.resolve(sr.DOMPurify):H5(()=>import("./purify.es-BFmuJLeH.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Vr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var A=document.createElement(o);for(var d in l.className&&(A.className=l.className),l.innerHTML&&l.dompurify&&(A.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)A.style[d]=l.style[d];return A},a=function o(l){var A=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),A);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(A){switch(n(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(A){return this.set({src:s("div",{innerHTML:o,dompurify:A})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function A(d,f){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),y=d.firstChild;y;y=y.nextSibling)f!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(A(y,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,l(this.prop.container,A)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var A=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=d,d)for(var y=0;y<d.length;++y){var g=d[y],b=g.src.find(function(C){return C.format==="truetype"});b&&A.addFont(b.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,A.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(A){if(A in a.template.prop)return function(){this.prop[A]=o[A]};switch(A){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[A]=o[A]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var A=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(A):A})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(A,d){return Math.floor(A*d/72*96)}return this.then(function(){(o=o||rr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,A,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),A!=null&&(this.progress.n=A),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,A,d){return this.setProgress(o?this.progress.val+o:null,l||null,A?this.progress.n+A:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var A=this;return this.thenCore(o,l,function(d,f){return A.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return A.updateProgress(null,d),m}).then(d,f).then(function(m){return A.updateProgress(1),m})})},a.prototype.thenCore=function(o,l,A){A=A||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),f=A.call(d,o,l);return a.convert(f,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(A){l=l.thenCore(A)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,rr.getPageSize=function(o,l,A){if(Vr(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,A=d.format||A}l=l||"mm",A=A||"a4",o=(""+(o||"P")).toLowerCase();var f,m=(""+A).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var g,b=0,C=0;if(y.hasOwnProperty(m))b=y[m][1]/f,C=y[m][0]/f;else try{b=A[1],C=A[0]}catch{throw new Error("Invalid format: "+A)}if(o==="p"||o==="portrait")o="p",C>b&&(g=C,C=b,b=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>C&&(g=C,C=b,b=g)}return{width:C,height:b,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Z5):null;var A=new a(l);return l.worker?A:A.from(o).doCallback()}}(rr.API),rr.API.addJS=function(e){return DF=e,this.internal.events.subscribe("postPutResources",function(){v1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(v1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),RF=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+DF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){v1!==void 0&&RF!==void 0&&this.internal.out("/Names <</JavaScript "+v1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),a=0;a<s.length;a++){var o=s[a],l=n.exec(o);if(l!=null){var A=l[1];r.internal.newObjectDeferredBegin(A,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(a=0;a<d;a++){var m=r.internal.newObject();f.push(m);var y=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<f.length;a++)r.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,a){var o={title:s,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var A=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var a=0;a<s.children.length;a++)n.count++,this.count_r(n,s.children[a]);return n.count}}])}(rr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,a,o,l){var A,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(A=function(m){for(var y,g=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,C={width:0,height:0,numcomponents:1},F=4;F<b;F+=2){if(F+=g,t.indexOf(m.charCodeAt(F+1))!==-1){y=256*m.charCodeAt(F+5)+m.charCodeAt(F+6),C={width:256*m.charCodeAt(F+7)+m.charCodeAt(F+8),height:y,numcomponents:m.charCodeAt(F+9)};break}g=256*m.charCodeAt(F+2)+m.charCodeAt(F+3)}return C}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:A.width,height:A.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:s}}return f}}(rr.API);var Uh,b1,_F,MF,UF,gre=function(){var e,t,r;function n(a){var o,l,A,d,f,m,y,g,b,C,F,v,S,I;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(o=this.readUInt32(),b=(function(){var k,M;for(M=[],k=0;k<4;++k)M.push(String.fromCharCode(this.data[this.pos++]));return M}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,m.delay=1e3*f/d,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),a=(m!=null?m.data:void 0)||this.imgData,v=0;0<=o?v<o:v>o;0<=o?++v:--v)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(A=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>A)throw new Error("More transparent colors than palette size");if((C=A-this.transparency.indexed.length)>0)for(S=0;0<=C?S<C:S>C;0<=C?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":y=(F=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,F.slice(0,y)),this.text[g]=String.fromCharCode.apply(String,F.slice(y+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(I=this.colorType)===4||I===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),A=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function f(m,y,g,b){var C,F,v,S,I,k,M,V,O,R,_,J,U,Q,X,Z,$,q,W,Y,K,ae=Math.ceil((d.width-m)/g),be=Math.ceil((d.height-y)/b),H=d.width==ae&&d.height==be;for(Q=o*ae,J=H?l:new Uint8Array(Q*be),k=a.length,U=0,F=0;U<be&&A<k;){switch(a[A++]){case 0:for(S=$=0;$<Q;S=$+=1)J[F++]=a[A++];break;case 1:for(S=q=0;q<Q;S=q+=1)C=a[A++],I=S<o?0:J[F-o],J[F++]=(C+I)%256;break;case 2:for(S=W=0;W<Q;S=W+=1)C=a[A++],v=(S-S%o)/o,X=U&&J[(U-1)*Q+v*o+S%o],J[F++]=(X+C)%256;break;case 3:for(S=Y=0;Y<Q;S=Y+=1)C=a[A++],v=(S-S%o)/o,I=S<o?0:J[F-o],X=U&&J[(U-1)*Q+v*o+S%o],J[F++]=(C+Math.floor((I+X)/2))%256;break;case 4:for(S=K=0;K<Q;S=K+=1)C=a[A++],v=(S-S%o)/o,I=S<o?0:J[F-o],U===0?X=Z=0:(X=J[(U-1)*Q+v*o+S%o],Z=v&&J[(U-1)*Q+(v-1)*o+S%o]),M=I+X-Z,V=Math.abs(M-I),R=Math.abs(M-X),_=Math.abs(M-Z),O=V<=R&&V<=_?I:R<=_?X:Z,J[F++]=(C+O)%256;break;default:throw new Error("Invalid filter algorithm: "+a[A-1])}if(!H){var ee=((y+U*b)*d.width+m)*o,ie=U*Q;for(S=0;S<ae;S+=1){for(var le=0;le<o;le+=1)l[ee++]=J[ie++];ee+=(g-1)*o}}U++}}return a=qte(a),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var a,o,l,A,d,f,m,y,g;for(l=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+l.length),A=0,a=0,o=m=0,y=l.length;m<y;o=m+=3)d[A++]=l[o],d[A++]=l[o+1],d[A++]=l[o+2],d[A++]=(g=f[a++])!=null?g:255;return d},n.prototype.copyToImageData=function(a,o){var l,A,d,f,m,y,g,b,C,F,v;if(A=this.colors,C=null,l=this.hasAlphaChannel,this.palette.length&&(C=(v=this._decodedPalette)!=null?v:this._decodedPalette=this.decodePalette(),A=4,l=!0),b=(d=a.data||a).length,m=C||o,f=y=0,A===1)for(;f<b;)g=C?4*o[f/4]:y,F=m[g++],d[f++]=F,d[f++]=F,d[f++]=F,d[f++]=l?m[g++]:255,y=g;else for(;f<b;)g=C?4*o[f/4]:y,d[f++]=m[g++],d[f++]=m[g++],d[f++]=m[g++],d[f++]=l?m[g++]:255,y=g},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(sr)==="[object Window]"){try{t=sr.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(a){var o;if(s()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var o,l,A,d,f,m,y,g;if(this.animation){for(g=[],l=f=0,m=(y=this.animation.frames).length;f<m;l=++f)o=y[l],A=a.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(A,d),o.imageData=A,g.push(o.image=e(A));return g}},n.prototype.renderFrame=function(a,o){var l,A,d;return l=(A=this.animation.frames)[o],d=A[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(a){var o,l,A,d,f,m,y=this;return l=0,m=this.animation,d=m.numFrames,A=m.frames,f=m.numPlays,(o=function(){var g,b;if(g=l++%d,b=A[g],y.renderFrame(a,g),d>1&&l/d<f)return y.animation._timeout=setTimeout(o,b.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function xre(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,o=1<<(7&s)+1;e[t++],e[t++];var l=null,A=null;a&&(l=t,A=o,t+=3*o);var d=!0,f=[],m=0,y=null,g=0,b=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var C=e[t++];m=e[t++]|e[t++]<<8,y=e[t++],!(1&C)&&(y=null),g=C>>2&7,t++;break;case 254:for(;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var F=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,k=e[t++],M=k>>6&1,V=1<<(7&k)+1,O=l,R=A,_=!1;k>>7&&(_=!0,O=t,R=V,t+=3*V);var J=t;for(t++;;){var U;if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}f.push({x:F,y:v,width:S,height:I,has_local_palette:_,palette_offset:O,palette_size:R,data_offset:J,data_length:t-J,transparent_index:y,interlaced:!!M,delay:m,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(Q){if(Q<0||Q>=f.length)throw new Error("Frame index out of range.");return f[Q]},this.decodeAndBlitFrameBGRA=function(Q,X){var Z=this.frameInfo(Q),$=Z.width*Z.height,q=new Uint8Array($);QF(e,Z.data_offset,q,$);var W=Z.palette_offset,Y=Z.transparent_index;Y===null&&(Y=256);var K=Z.width,ae=r-K,be=K,H=4*(Z.y*r+Z.x),ee=4*((Z.y+Z.height)*r+Z.x),ie=H,le=4*ae;Z.interlaced===!0&&(le+=4*r*7);for(var ce=8,me=0,we=q.length;me<we;++me){var Ie=q[me];if(be===0&&(be=K,(ie+=le)>=ee&&(le=4*ae+4*r*(ce-1),ie=H+(K+ae)*(ce<<1),ce>>=1)),Ie===Y)ie+=4;else{var ve=e[W+3*Ie],Ce=e[W+3*Ie+1],Pe=e[W+3*Ie+2];X[ie++]=Pe,X[ie++]=Ce,X[ie++]=ve,X[ie++]=255}--be}},this.decodeAndBlitFrameRGBA=function(Q,X){var Z=this.frameInfo(Q),$=Z.width*Z.height,q=new Uint8Array($);QF(e,Z.data_offset,q,$);var W=Z.palette_offset,Y=Z.transparent_index;Y===null&&(Y=256);var K=Z.width,ae=r-K,be=K,H=4*(Z.y*r+Z.x),ee=4*((Z.y+Z.height)*r+Z.x),ie=H,le=4*ae;Z.interlaced===!0&&(le+=4*r*7);for(var ce=8,me=0,we=q.length;me<we;++me){var Ie=q[me];if(be===0&&(be=K,(ie+=le)>=ee&&(le=4*ae+4*r*(ce-1),ie=H+(K+ae)*(ce<<1),ce>>=1)),Ie===Y)ie+=4;else{var ve=e[W+3*Ie],Ce=e[W+3*Ie+1],Pe=e[W+3*Ie+2];X[ie++]=ve,X[ie++]=Ce,X[ie++]=Pe,X[ie++]=255}--be}}}function QF(e,t,r,n){for(var s=e[t++],a=1<<s,o=a+1,l=o+1,A=s+1,d=(1<<A)-1,f=0,m=0,y=0,g=e[t++],b=new Int32Array(4096),C=null;;){for(;f<16&&g!==0;)m|=e[t++]<<f,f+=8,g===1?g=e[t++]:--g;if(f<A)break;var F=m&d;if(m>>=A,f-=A,F!==a){if(F===o)break;for(var v=F<l?F:C,S=0,I=v;I>a;)I=b[I]>>8,++S;var k=I;if(y+S+(v!==F?1:0)>n)return void bn.log("Warning, gif stream longer than expected.");r[y++]=k;var M=y+=S;for(v!==F&&(r[y++]=k),I=v;S--;)I=b[I],r[--M]=255&I,I>>=8;C!==null&&l<4096&&(b[l++]=C<<8|k,l>=d+1&&A<12&&(++A,d=d<<1|1)),C=F}else l=o+1,d=(1<<(A=s+1))-1,C=null}return y!==n&&bn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Zv(e){var t,r,n,s,a,o=Math.floor,l=new Array(64),A=new Array(64),d=new Array(64),f=new Array(64),m=new Array(65535),y=new Array(65535),g=new Array(64),b=new Array(64),C=[],F=0,v=7,S=new Array(64),I=new Array(64),k=new Array(64),M=new Array(256),V=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(H,ee){for(var ie=0,le=0,ce=new Array,me=1;me<=16;me++){for(var we=1;we<=H[me];we++)ce[ee[le]]=[],ce[ee[le]][0]=ie,ce[ee[le]][1]=me,le++,ie++;ie*=2}return ce}function W(H){for(var ee=H[0],ie=H[1]-1;ie>=0;)ee&1<<ie&&(F|=1<<v),ie--,--v<0&&(F==255?(Y(255),Y(0)):Y(F),v=7,F=0)}function Y(H){C.push(H)}function K(H){Y(H>>8&255),Y(255&H)}function ae(H,ee,ie,le,ce){for(var me,we=ce[0],Ie=ce[240],ve=function(Ke,ht){var _e,ft,yt,et,Nt,wt,Ht,lr,qe,St,Ze=0;for(qe=0;qe<8;++qe){_e=Ke[Ze],ft=Ke[Ze+1],yt=Ke[Ze+2],et=Ke[Ze+3],Nt=Ke[Ze+4],wt=Ke[Ze+5],Ht=Ke[Ze+6];var br=_e+(lr=Ke[Ze+7]),Ot=_e-lr,dt=ft+Ht,Zt=ft-Ht,Ut=yt+wt,Or=yt-wt,Er=et+Nt,fi=et-Nt,hn=br+Er,ur=br-Er,vs=dt+Ut,Qr=dt-Ut;Ke[Ze]=hn+vs,Ke[Ze+4]=hn-vs;var nr=.707106781*(Qr+ur);Ke[Ze+2]=ur+nr,Ke[Ze+6]=ur-nr;var gt=.382683433*((hn=fi+Or)-(Qr=Zt+Ot)),Cr=.5411961*hn+gt,Qt=1.306562965*Qr+gt,an=.707106781*(vs=Or+Zt),yn=Ot+an,Ft=Ot-an;Ke[Ze+5]=Ft+Cr,Ke[Ze+3]=Ft-Cr,Ke[Ze+1]=yn+Qt,Ke[Ze+7]=yn-Qt,Ze+=8}for(Ze=0,qe=0;qe<8;++qe){_e=Ke[Ze],ft=Ke[Ze+8],yt=Ke[Ze+16],et=Ke[Ze+24],Nt=Ke[Ze+32],wt=Ke[Ze+40],Ht=Ke[Ze+48];var bs=_e+(lr=Ke[Ze+56]),tn=_e-lr,wn=ft+Ht,Hr=ft-Ht,fn=yt+wt,Sn=yt-wt,Bt=et+Nt,Ca=et-Nt,za=bs+Bt,En=bs-Bt,ea=wn+fn,$a=wn-fn;Ke[Ze]=za+ea,Ke[Ze+32]=za-ea;var ca=.707106781*($a+En);Ke[Ze+16]=En+ca,Ke[Ze+48]=En-ca;var Cs=.382683433*((za=Ca+Sn)-($a=Hr+tn)),dc=.5411961*za+Cs,hA=1.306562965*$a+Cs,Aa=.707106781*(ea=Sn+Hr),As=tn+Aa,Xr=tn-Aa;Ke[Ze+40]=Xr+dc,Ke[Ze+24]=Xr-dc,Ke[Ze+8]=As+hA,Ke[Ze+56]=As-hA,Ze++}for(qe=0;qe<64;++qe)St=Ke[qe]*ht[qe],g[qe]=St>0?St+.5|0:St-.5|0;return g}(H,ee),Ce=0;Ce<64;++Ce)b[O[Ce]]=ve[Ce];var Pe=b[0]-ie;ie=b[0],Pe==0?W(le[0]):(W(le[y[me=32767+Pe]]),W(m[me]));for(var Me=63;Me>0&&b[Me]==0;)Me--;if(Me==0)return W(we),ie;for(var Je,Re=1;Re<=Me;){for(var ye=Re;b[Re]==0&&Re<=Me;)++Re;var pt=Re-ye;if(pt>=16){Je=pt>>4;for(var rt=1;rt<=Je;++rt)W(Ie);pt&=15}me=32767+b[Re],W(ce[(pt<<4)+y[me]]),W(m[me]),Re++}return Me!=63&&W(we),ie}function be(H){H=Math.min(Math.max(H,1),100),a!=H&&(function(ee){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ce=o((ie[le]*ee+50)/100);ce=Math.min(Math.max(ce,1),255),l[O[le]]=ce}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var Ie=o((me[we]*ee+50)/100);Ie=Math.min(Math.max(Ie,1),255),A[O[we]]=Ie}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,Pe=0;Pe<8;Pe++)for(var Me=0;Me<8;Me++)d[Ce]=1/(l[O[Ce]]*ve[Pe]*ve[Me]*8),f[Ce]=1/(A[O[Ce]]*ve[Pe]*ve[Me]*8),Ce++}(H<50?Math.floor(5e3/H):Math.floor(200-2*H)),a=H)}this.encode=function(H,ee){ee&&be(ee),C=new Array,F=0,v=7,K(65496),K(65504),K(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),K(1),K(1),Y(0),Y(0),function(){K(65499),K(132),Y(0);for(var ft=0;ft<64;ft++)Y(l[ft]);Y(1);for(var yt=0;yt<64;yt++)Y(A[yt])}(),function(ft,yt){K(65472),K(17),Y(8),K(yt),K(ft),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(H.width,H.height),function(){K(65476),K(418),Y(0);for(var ft=0;ft<16;ft++)Y(R[ft+1]);for(var yt=0;yt<=11;yt++)Y(_[yt]);Y(16);for(var et=0;et<16;et++)Y(J[et+1]);for(var Nt=0;Nt<=161;Nt++)Y(U[Nt]);Y(1);for(var wt=0;wt<16;wt++)Y(Q[wt+1]);for(var Ht=0;Ht<=11;Ht++)Y(X[Ht]);Y(17);for(var lr=0;lr<16;lr++)Y(Z[lr+1]);for(var qe=0;qe<=161;qe++)Y($[qe])}(),K(65498),K(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var ie=0,le=0,ce=0;F=0,v=7,this.encode.displayName="_encode_";for(var me,we,Ie,ve,Ce,Pe,Me,Je,Re,ye=H.data,pt=H.width,rt=H.height,Ke=4*pt,ht=0;ht<rt;){for(me=0;me<Ke;){for(Ce=Ke*ht+me,Me=-1,Je=0,Re=0;Re<64;Re++)Pe=Ce+(Je=Re>>3)*Ke+(Me=4*(7&Re)),ht+Je>=rt&&(Pe-=Ke*(ht+1+Je-rt)),me+Me>=Ke&&(Pe-=me+Me-Ke+4),we=ye[Pe++],Ie=ye[Pe++],ve=ye[Pe++],S[Re]=(V[we]+V[Ie+256>>0]+V[ve+512>>0]>>16)-128,I[Re]=(V[we+768>>0]+V[Ie+1024>>0]+V[ve+1280>>0]>>16)-128,k[Re]=(V[we+1280>>0]+V[Ie+1536>>0]+V[ve+1792>>0]>>16)-128;ie=ae(S,d,ie,t,n),le=ae(I,f,le,r,s),ce=ae(k,f,ce,r,s),me+=32}ht+=8}if(v>=0){var _e=[];_e[1]=v+1,_e[0]=(1<<v+1)-1,W(_e)}return K(65497),new Uint8Array(C)},e=e||50,function(){for(var H=String.fromCharCode,ee=0;ee<256;ee++)M[ee]=H(ee)}(),t=q(R,_),r=q(Q,X),n=q(J,U),s=q(Z,$),function(){for(var H=1,ee=2,ie=1;ie<=15;ie++){for(var le=H;le<ee;le++)y[32767+le]=ie,m[32767+le]=[],m[32767+le][1]=ie,m[32767+le][0]=le;for(var ce=-(ee-1);ce<=-H;ce++)y[32767+ce]=ie,m[32767+ce]=[],m[32767+ce][1]=ie,m[32767+ce][0]=ee-1+ce;H<<=1,ee<<=1}}(),function(){for(var H=0;H<256;H++)V[H]=19595*H,V[H+256>>0]=38470*H,V[H+512>>0]=7471*H+32768,V[H+768>>0]=-11059*H,V[H+1024>>0]=-21709*H,V[H+1280>>0]=32768*H+8421375,V[H+1536>>0]=-27439*H,V[H+1792>>0]=-5329*H}(),be(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Go(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function HF(e){function t(R){if(!R)throw Error("assert :P")}function r(R,_,J){for(var U=0;4>U;U++)if(R[_+U]!=J.charCodeAt(U))return!0;return!1}function n(R,_,J,U,Q){for(var X=0;X<Q;X++)R[_+X]=J[U+X]}function s(R,_,J,U){for(var Q=0;Q<U;Q++)R[_+Q]=J}function a(R){return new Int32Array(R)}function o(R,_){for(var J=[],U=0;U<R;U++)J.push(new _);return J}function l(R,_){var J=[];return function U(Q,X,Z){for(var $=Z[X],q=0;q<$&&(Q.push(Z.length>X+1?[]:new _),!(Z.length<X+1));q++)U(Q[q],X+1,Z)}(J,0,R),J}var A=function(){var R=this;function _(B,j){for(var D=1<<j-1>>>0;B&D;)D>>>=1;return D?(B&D-1)+D:B}function J(B,j,D,G,ne){t(!(G%D));do B[j+(G-=D)]=ne;while(0<G)}function U(B,j,D,G,ne){if(t(2328>=ne),512>=ne)var oe=a(512);else if((oe=a(ne))==null)return 0;return function(ue,de,he,xe,je,He){var Ve,Oe,at=de,$e=1<<he,Te=a(16),Le=a(16);for(t(je!=0),t(xe!=null),t(ue!=null),t(0<he),Oe=0;Oe<je;++Oe){if(15<xe[Oe])return 0;++Te[xe[Oe]]}if(Te[0]==je)return 0;for(Le[1]=0,Ve=1;15>Ve;++Ve){if(Te[Ve]>1<<Ve)return 0;Le[Ve+1]=Le[Ve]+Te[Ve]}for(Oe=0;Oe<je;++Oe)Ve=xe[Oe],0<xe[Oe]&&(He[Le[Ve]++]=Oe);if(Le[15]==1)return(xe=new Q).g=0,xe.value=He[0],J(ue,at,1,$e,xe),$e;var tt,ct=-1,nt=$e-1,It=0,vt=1,qt=1,bt=1<<he;for(Oe=0,Ve=1,je=2;Ve<=he;++Ve,je<<=1){if(vt+=qt<<=1,0>(qt-=Te[Ve]))return 0;for(;0<Te[Ve];--Te[Ve])(xe=new Q).g=Ve,xe.value=He[Oe++],J(ue,at+It,je,bt,xe),It=_(It,Ve)}for(Ve=he+1,je=2;15>=Ve;++Ve,je<<=1){if(vt+=qt<<=1,0>(qt-=Te[Ve]))return 0;for(;0<Te[Ve];--Te[Ve]){if(xe=new Q,(It&nt)!=ct){for(at+=bt,tt=1<<(ct=Ve)-he;15>ct&&!(0>=(tt-=Te[ct]));)++ct,tt<<=1;$e+=bt=1<<(tt=ct-he),ue[de+(ct=It&nt)].g=tt+he,ue[de+ct].value=at-de-ct}xe.g=Ve-he,xe.value=He[Oe++],J(ue,at+(It>>he),je,bt,xe),It=_(It,Ve)}}return vt!=2*Le[15]-1?0:$e}(B,j,D,G,ne,oe)}function Q(){this.value=this.g=0}function X(){this.value=this.g=0}function Z(){this.G=o(5,Q),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(mn,X)}function $(B,j,D,G){t(B!=null),t(j!=null),t(2147483648>G),B.Ca=254,B.I=0,B.b=-8,B.Ka=0,B.oa=j,B.pa=D,B.Jd=j,B.Yc=D+G,B.Zc=4<=G?D+G-4+1:D,me(B)}function q(B,j){for(var D=0;0<j--;)D|=Ie(B,128)<<j;return D}function W(B,j){var D=q(B,j);return we(B)?-D:D}function Y(B,j,D,G){var ne,oe=0;for(t(B!=null),t(j!=null),t(4294967288>G),B.Sb=G,B.Ra=0,B.u=0,B.h=0,4<G&&(G=4),ne=0;ne<G;++ne)oe+=j[D+ne]<<8*ne;B.Ra=oe,B.bb=G,B.oa=j,B.pa=D}function K(B){for(;8<=B.u&&B.bb<B.Sb;)B.Ra>>>=8,B.Ra+=B.oa[B.pa+B.bb]<<uo-8>>>0,++B.bb,B.u-=8;ie(B)&&(B.h=1,B.u=0)}function ae(B,j){if(t(0<=j),!B.h&&j<=Cl){var D=ee(B)&bA[j];return B.u+=j,K(B),D}return B.h=1,B.u=0}function be(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(B){return B.Ra>>>(B.u&uo-1)>>>0}function ie(B){return t(B.bb<=B.Sb),B.h||B.bb==B.Sb&&B.u>uo}function le(B,j){B.u=j,B.h=ie(B)}function ce(B){B.u>=Nr&&(t(B.u>=Nr),K(B))}function me(B){t(B!=null&&B.oa!=null),B.pa<B.Zc?(B.I=(B.oa[B.pa++]|B.I<<8)>>>0,B.b+=8):(t(B!=null&&B.oa!=null),B.pa<B.Yc?(B.b+=8,B.I=B.oa[B.pa++]|B.I<<8):B.Ka?B.b=0:(B.I<<=8,B.b+=8,B.Ka=1))}function we(B){return q(B,1)}function Ie(B,j){var D=B.Ca;0>B.b&&me(B);var G=B.b,ne=D*j>>>8,oe=(B.I>>>G>ne)+0;for(oe?(D-=ne,B.I-=ne+1<<G>>>0):D=ne+1,G=D,ne=0;256<=G;)ne+=8,G>>=8;return G=7^ne+Ks[G],B.b-=G,B.Ca=(D<<G)-1,oe}function ve(B,j,D){B[j+0]=D>>24&255,B[j+1]=D>>16&255,B[j+2]=D>>8&255,B[j+3]=D>>0&255}function Ce(B,j){return B[j+0]<<0|B[j+1]<<8}function Pe(B,j){return Ce(B,j)|B[j+2]<<16}function Me(B,j){return Ce(B,j)|Ce(B,j+2)<<16}function Je(B,j){var D=1<<j;return t(B!=null),t(0<j),B.X=a(D),B.X==null?0:(B.Mb=32-j,B.Xa=j,1)}function Re(B,j){t(B!=null),t(j!=null),t(B.Xa==j.Xa),n(j.X,0,B.X,0,1<<j.Xa)}function ye(){this.X=[],this.Xa=this.Mb=0}function pt(B,j,D,G){t(D!=null),t(G!=null);var ne=D[0],oe=G[0];return ne==0&&(ne=(B*oe+j/2)/j),oe==0&&(oe=(j*ne+B/2)/B),0>=ne||0>=oe?0:(D[0]=ne,G[0]=oe,1)}function rt(B,j){return B+(1<<j)-1>>>j}function Ke(B,j){return((4278255360&B)+(4278255360&j)>>>0&4278255360)+((16711935&B)+(16711935&j)>>>0&16711935)>>>0}function ht(B,j){R[j]=function(D,G,ne,oe,ue,de,he){var xe;for(xe=0;xe<ue;++xe){var je=R[B](de[he+xe-1],ne,oe+xe);de[he+xe]=Ke(D[G+xe],je)}}}function _e(){this.ud=this.hd=this.jd=0}function ft(B,j){return((4278124286&(B^j))>>>1)+(B&j)>>>0}function yt(B){return 0<=B&&256>B?B:0>B?0:255<B?255:void 0}function et(B,j){return yt(B+(B-j+.5>>1))}function Nt(B,j,D){return Math.abs(j-D)-Math.abs(B-D)}function wt(B,j,D,G,ne,oe,ue){for(G=oe[ue-1],D=0;D<ne;++D)oe[ue+D]=G=Ke(B[j+D],G)}function Ht(B,j,D,G,ne){var oe;for(oe=0;oe<D;++oe){var ue=B[j+oe],de=ue>>8&255,he=16711935&(he=(he=16711935&ue)+((de<<16)+de));G[ne+oe]=(4278255360&ue)+he>>>0}}function lr(B,j){j.jd=B>>0&255,j.hd=B>>8&255,j.ud=B>>16&255}function qe(B,j,D,G,ne,oe){var ue;for(ue=0;ue<G;++ue){var de=j[D+ue],he=de>>>8,xe=de,je=255&(je=(je=de>>>16)+((B.jd<<24>>24)*(he<<24>>24)>>>5));xe=255&(xe=(xe=xe+((B.hd<<24>>24)*(he<<24>>24)>>>5))+((B.ud<<24>>24)*(je<<24>>24)>>>5)),ne[oe+ue]=(4278255360&de)+(je<<16)+xe}}function St(B,j,D,G,ne){R[j]=function(oe,ue,de,he,xe,je,He,Ve,Oe){for(he=He;he<Ve;++he)for(He=0;He<Oe;++He)xe[je++]=ne(de[G(oe[ue++])])},R[B]=function(oe,ue,de,he,xe,je,He){var Ve=8>>oe.b,Oe=oe.Ea,at=oe.K[0],$e=oe.w;if(8>Ve)for(oe=(1<<oe.b)-1,$e=(1<<Ve)-1;ue<de;++ue){var Te,Le=0;for(Te=0;Te<Oe;++Te)Te&oe||(Le=G(he[xe++])),je[He++]=ne(at[Le&$e]),Le>>=Ve}else R["VP8LMapColor"+D](he,xe,at,$e,je,He,ue,de,Oe)}}function Ze(B,j,D,G,ne){for(D=j+D;j<D;){var oe=B[j++];G[ne++]=oe>>16&255,G[ne++]=oe>>8&255,G[ne++]=oe>>0&255}}function br(B,j,D,G,ne){for(D=j+D;j<D;){var oe=B[j++];G[ne++]=oe>>16&255,G[ne++]=oe>>8&255,G[ne++]=oe>>0&255,G[ne++]=oe>>24&255}}function Ot(B,j,D,G,ne){for(D=j+D;j<D;){var oe=(ue=B[j++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;G[ne++]=oe,G[ne++]=ue}}function dt(B,j,D,G,ne){for(D=j+D;j<D;){var oe=(ue=B[j++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;G[ne++]=oe,G[ne++]=ue}}function Zt(B,j,D,G,ne){for(D=j+D;j<D;){var oe=B[j++];G[ne++]=oe>>0&255,G[ne++]=oe>>8&255,G[ne++]=oe>>16&255}}function Ut(B,j,D,G,ne,oe){if(oe==0)for(D=j+D;j<D;)ve(G,((oe=B[j++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ne+=32;else n(G,ne,B,j,D)}function Or(B,j){R[j][0]=R[B+"0"],R[j][1]=R[B+"1"],R[j][2]=R[B+"2"],R[j][3]=R[B+"3"],R[j][4]=R[B+"4"],R[j][5]=R[B+"5"],R[j][6]=R[B+"6"],R[j][7]=R[B+"7"],R[j][8]=R[B+"8"],R[j][9]=R[B+"9"],R[j][10]=R[B+"10"],R[j][11]=R[B+"11"],R[j][12]=R[B+"12"],R[j][13]=R[B+"13"],R[j][14]=R[B+"0"],R[j][15]=R[B+"0"]}function Er(B){return B==_2||B==M2||B==Lg||B==U2}function fi(){this.eb=[],this.size=this.A=this.fb=0}function hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ur(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fi,this.f.kb=new hn,this.sd=null}function vs(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nr(B){return alert("todo:WebPSamplerProcessPlane"),B.T}function gt(B,j){var D=B.T,G=j.ba.f.RGBA,ne=G.eb,oe=G.fb+B.ka*G.A,ue=mo[j.ba.S],de=B.y,he=B.O,xe=B.f,je=B.N,He=B.ea,Ve=B.W,Oe=j.cc,at=j.dc,$e=j.Mc,Te=j.Nc,Le=B.ka,tt=B.ka+B.T,ct=B.U,nt=ct+1>>1;for(Le==0?ue(de,he,null,null,xe,je,He,Ve,xe,je,He,Ve,ne,oe,null,null,ct):(ue(j.ec,j.fc,de,he,Oe,at,$e,Te,xe,je,He,Ve,ne,oe-G.A,ne,oe,ct),++D);Le+2<tt;Le+=2)Oe=xe,at=je,$e=He,Te=Ve,je+=B.Rc,Ve+=B.Rc,oe+=2*G.A,ue(de,(he+=2*B.fa)-B.fa,de,he,Oe,at,$e,Te,xe,je,He,Ve,ne,oe-G.A,ne,oe,ct);return he+=B.fa,B.j+tt<B.o?(n(j.ec,j.fc,de,he,ct),n(j.cc,j.dc,xe,je,nt),n(j.Mc,j.Nc,He,Ve,nt),D--):1&tt||ue(de,he,null,null,xe,je,He,Ve,xe,je,He,Ve,ne,oe+G.A,null,null,ct),D}function Cr(B,j,D){var G=B.F,ne=[B.J];if(G!=null){var oe=B.U,ue=j.ba.S,de=ue==Tg||ue==Lg;j=j.ba.f.RGBA;var he=[0],xe=B.ka;he[0]=B.T,B.Kb&&(xe==0?--he[0]:(--xe,ne[0]-=B.width),B.j+B.ka+B.T==B.o&&(he[0]=B.o-B.j-xe));var je=j.eb;xe=j.fb+xe*j.A,B=jn(G,ne[0],B.width,oe,he,je,xe+(de?0:3),j.A),t(D==he),B&&Er(ue)&&xi(je,xe,de,oe,he,j.A)}return 0}function Qt(B){var j=B.ma,D=j.ba.S,G=11>D,ne=D==Ig||D==jg||D==Tg||D==D2||D==12||Er(D);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!pc(j.Oa,B,ne?11:12))return 0;if(ne&&Er(D)&&it(),B.da)alert("todo:use_scaling");else{if(G){if(j.Ib=nr,B.Kb){if(D=B.U+1>>1,j.memory=a(B.U+2*D),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+B.U,j.Mc=j.cc,j.Nc=j.dc+D,j.Ib=gt,it()}}else alert("todo:EmitYUV");ne&&(j.Jb=Cr,G&&De())}if(G&&!wS){for(B=0;256>B;++B)jQ[B]=89858*(B-128)+Pg>>kg,kQ[B]=-22014*(B-128)+Pg,LQ[B]=-45773*(B-128),TQ[B]=113618*(B-128)+Pg>>kg;for(B=Q0;B<V2;++B)j=76283*(B-16)+Pg>>kg,PQ[B-Q0]=us(j,255),OQ[B-Q0]=us(j+8>>4,15);wS=1}return 1}function an(B){var j=B.ma,D=B.U,G=B.T;return t(!(1&B.ka)),0>=D||0>=G?0:(D=j.Ib(B,j),j.Jb!=null&&j.Jb(B,j,D),j.Dc+=D,1)}function yn(B){B.ma.memory=null}function Ft(B,j,D,G){return ae(B,8)!=47?0:(j[0]=ae(B,14)+1,D[0]=ae(B,14)+1,G[0]=ae(B,1),ae(B,3)!=0?0:!B.h)}function bs(B,j){if(4>B)return B+1;var D=B-2>>1;return(2+(1&B)<<D)+ae(j,D)+1}function tn(B,j){return 120<j?j-120:1<=(D=((D=pQ[j-1])>>4)*B+(8-(15&D)))?D:1;var D}function wn(B,j,D){var G=ee(D),ne=B[j+=255&G].g-8;return 0<ne&&(le(D,D.u+8),G=ee(D),j+=B[j].value,j+=G&(1<<ne)-1),le(D,D.u+B[j].g),B[j].value}function Hr(B,j,D){return D.g+=B.g,D.value+=B.value<<j>>>0,t(8>=D.g),B.g}function fn(B,j,D){var G=B.xc;return t((j=G==0?0:B.vc[B.md*(D>>G)+(j>>G)])<B.Wb),B.Ya[j]}function Sn(B,j,D,G){var ne=B.ab,oe=B.c*j,ue=B.C;j=ue+j;var de=D,he=G;for(G=B.Ta,D=B.Ua;0<ne--;){var xe=B.gc[ne],je=ue,He=j,Ve=de,Oe=he,at=(he=G,de=D,xe.Ea);switch(t(je<He),t(He<=xe.nc),xe.hc){case 2:u(Ve,Oe,(He-je)*at,he,de);break;case 0:var $e=je,Te=He,Le=he,tt=de,ct=(bt=xe).Ea;$e==0&&(re(Ve,Oe,null,null,1,Le,tt),wt(Ve,Oe+1,0,0,ct-1,Le,tt+1),Oe+=ct,tt+=ct,++$e);for(var nt=1<<bt.b,It=nt-1,vt=rt(ct,bt.b),qt=bt.K,bt=bt.w+($e>>bt.b)*vt;$e<Te;){var Yr=qt,ln=bt,Wr=1;for(c(Ve,Oe,Le,tt-ct,1,Le,tt);Wr<ct;){var Lr=(Wr&~It)+nt;Lr>ct&&(Lr=ct),(0,E[Yr[ln++]>>8&15])(Ve,Oe+ +Wr,Le,tt+Wr-ct,Lr-Wr,Le,tt+Wr),Wr=Lr}Oe+=ct,tt+=ct,++$e&It||(bt+=vt)}He!=xe.nc&&n(he,de-at,he,de+(He-je-1)*at,at);break;case 1:for(at=Ve,Te=Oe,ct=(Ve=xe.Ea)-(tt=Ve&~(Le=(Oe=1<<xe.b)-1)),$e=rt(Ve,xe.b),nt=xe.K,xe=xe.w+(je>>xe.b)*$e;je<He;){for(It=nt,vt=xe,qt=new _e,bt=Te+tt,Yr=Te+Ve;Te<bt;)lr(It[vt++],qt),T(qt,at,Te,Oe,he,de),Te+=Oe,de+=Oe;Te<Yr&&(lr(It[vt++],qt),T(qt,at,Te,ct,he,de),Te+=ct,de+=ct),++je&Le||(xe+=$e)}break;case 3:if(Ve==he&&Oe==de&&0<xe.b){for(Te=he,Ve=at=de+(He-je)*at-(tt=(He-je)*rt(xe.Ea,xe.b)),Oe=he,Le=de,$e=[],tt=(ct=tt)-1;0<=tt;--tt)$e[tt]=Oe[Le+tt];for(tt=ct-1;0<=tt;--tt)Te[Ve+tt]=$e[tt];h(xe,je,He,he,at,he,de)}else h(xe,je,He,Ve,Oe,he,de)}de=G,he=D}he!=D&&n(G,D,de,he,oe)}function Bt(B,j){var D=B.V,G=B.Ba+B.c*B.C,ne=j-B.C;if(t(j<=B.l.o),t(16>=ne),0<ne){var oe=B.l,ue=B.Ta,de=B.Ua,he=oe.width;if(Sn(B,ne,D,G),ne=de=[de],t((D=B.C)<(G=j)),t(oe.v<oe.va),G>oe.o&&(G=oe.o),D<oe.j){var xe=oe.j-D;D=oe.j,ne[0]+=xe*he}if(D>=G?D=0:(ne[0]+=4*oe.v,oe.ka=D-oe.j,oe.U=oe.va-oe.v,oe.T=G-D,D=1),D){if(de=de[0],11>(D=B.ca).S){var je=D.f.RGBA,He=(G=D.S,ne=oe.U,oe=oe.T,xe=je.eb,je.A),Ve=oe;for(je=je.fb+B.Ma*je.A;0<Ve--;){var Oe=ue,at=de,$e=ne,Te=xe,Le=je;switch(G){case Fg:P(Oe,at,$e,Te,Le);break;case Ig:z(Oe,at,$e,Te,Le);break;case _2:z(Oe,at,$e,Te,Le),xi(Te,Le,0,$e,1,0);break;case AS:ge(Oe,at,$e,Te,Le);break;case jg:Ut(Oe,at,$e,Te,Le,1);break;case M2:Ut(Oe,at,$e,Te,Le,1),xi(Te,Le,0,$e,1,0);break;case Tg:Ut(Oe,at,$e,Te,Le,0);break;case Lg:Ut(Oe,at,$e,Te,Le,0),xi(Te,Le,1,$e,1,0);break;case D2:te(Oe,at,$e,Te,Le);break;case U2:te(Oe,at,$e,Te,Le),In(Te,Le,$e,1,0);break;case uS:Ae(Oe,at,$e,Te,Le);break;default:t(0)}de+=he,je+=He}B.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(B.Ma<=D.height)}}B.C=j,t(B.C<=B.i)}function Ca(B){var j;if(0<B.ua)return 0;for(j=0;j<B.Wb;++j){var D=B.Ya[j].G,G=B.Ya[j].H;if(0<D[1][G[1]+0].g||0<D[2][G[2]+0].g||0<D[3][G[3]+0].g)return 0}return 1}function za(B,j,D,G,ne,oe){if(B.Z!=0){var ue=B.qd,de=B.rd;for(t(BA[B.Z]!=null);j<D;++j)BA[B.Z](ue,de,G,ne,G,ne,oe),ue=G,de=ne,ne+=oe;B.qd=ue,B.rd=de}}function En(B,j){var D=B.l.ma,G=D.Z==0||D.Z==1?B.l.j:B.C;if(G=B.C<G?G:B.C,t(j<=B.l.o),j>G){var ne=B.l.width,oe=D.ca,ue=D.tb+ne*G,de=B.V,he=B.Ba+B.c*G,xe=B.gc;t(B.ab==1),t(xe[0].hc==3),x(xe[0],G,j,de,he,oe,ue),za(D,G,j,oe,ue,ne)}B.C=B.Ma=j}function ea(B,j,D,G,ne,oe,ue){var de=B.$/G,he=B.$%G,xe=B.m,je=B.s,He=D+B.$,Ve=He;ne=D+G*ne;var Oe=D+G*oe,at=280+je.ua,$e=B.Pb?de:16777216,Te=0<je.ua?je.Wa:null,Le=je.wc,tt=He<Oe?fn(je,he,de):null;t(B.C<oe),t(Oe<=ne);var ct=!1;e:for(;;){for(;ct||He<Oe;){var nt=0;if(de>=$e){var It=He-D;t(($e=B).Pb),$e.wd=$e.m,$e.xd=It,0<$e.s.ua&&Re($e.s.Wa,$e.s.vb),$e=de+xQ}if(he&Le||(tt=fn(je,he,de)),t(tt!=null),tt.Qb&&(j[He]=tt.qb,ct=!0),!ct)if(ce(xe),tt.jc){nt=xe,It=j;var vt=He,qt=tt.pd[ee(nt)&mn-1];t(tt.jc),256>qt.g?(le(nt,nt.u+qt.g),It[vt]=qt.value,nt=0):(le(nt,nt.u+qt.g-256),t(256<=qt.value),nt=qt.value),nt==0&&(ct=!0)}else nt=wn(tt.G[0],tt.H[0],xe);if(xe.h)break;if(ct||256>nt){if(!ct)if(tt.nd)j[He]=(tt.qb|nt<<8)>>>0;else{if(ce(xe),ct=wn(tt.G[1],tt.H[1],xe),ce(xe),It=wn(tt.G[2],tt.H[2],xe),vt=wn(tt.G[3],tt.H[3],xe),xe.h)break;j[He]=(vt<<24|ct<<16|nt<<8|It)>>>0}if(ct=!1,++He,++he>=G&&(he=0,++de,ue!=null&&de<=oe&&!(de%16)&&ue(B,de),Te!=null))for(;Ve<He;)nt=j[Ve++],Te.X[(506832829*nt&4294967295)>>>Te.Mb]=nt}else if(280>nt){if(nt=bs(nt-256,xe),It=wn(tt.G[4],tt.H[4],xe),ce(xe),It=tn(G,It=bs(It,xe)),xe.h)break;if(He-D<It||ne-He<nt)break e;for(vt=0;vt<nt;++vt)j[He+vt]=j[He+vt-It];for(He+=nt,he+=nt;he>=G;)he-=G,++de,ue!=null&&de<=oe&&!(de%16)&&ue(B,de);if(t(He<=ne),he&Le&&(tt=fn(je,he,de)),Te!=null)for(;Ve<He;)nt=j[Ve++],Te.X[(506832829*nt&4294967295)>>>Te.Mb]=nt}else{if(!(nt<at))break e;for(ct=nt-280,t(Te!=null);Ve<He;)nt=j[Ve++],Te.X[(506832829*nt&4294967295)>>>Te.Mb]=nt;nt=He,t(!(ct>>>(It=Te).Xa)),j[nt]=It.X[ct],ct=!0}ct||t(xe.h==ie(xe))}if(B.Pb&&xe.h&&He<ne)t(B.m.h),B.a=5,B.m=B.wd,B.$=B.xd,0<B.s.ua&&Re(B.s.vb,B.s.Wa);else{if(xe.h)break e;ue!=null&&ue(B,de>oe?oe:de),B.a=0,B.$=He-D}return 1}return B.a=3,0}function $a(B){t(B!=null),B.vc=null,B.yc=null,B.Ya=null;var j=B.Wa;j!=null&&(j.X=null),B.vb=null,t(B!=null)}function ca(){var B=new rs;return B==null?null:(B.a=0,B.xb=fS,Or("Predictor","VP8LPredictors"),Or("Predictor","VP8LPredictors_C"),Or("PredictorAdd","VP8LPredictorsAdd"),Or("PredictorAdd","VP8LPredictorsAdd_C"),u=Ht,T=qe,P=Ze,z=br,te=Ot,Ae=dt,ge=Zt,R.VP8LMapColor32b=p,R.VP8LMapColor8b=w,B)}function Cs(B,j,D,G,ne){var oe=1,ue=[B],de=[j],he=G.m,xe=G.s,je=null,He=0;e:for(;;){if(D)for(;oe&&ae(he,1);){var Ve=ue,Oe=de,at=G,$e=1,Te=at.m,Le=at.gc[at.ab],tt=ae(Te,2);if(at.Oc&1<<tt)oe=0;else{switch(at.Oc|=1<<tt,Le.hc=tt,Le.Ea=Ve[0],Le.nc=Oe[0],Le.K=[null],++at.ab,t(4>=at.ab),tt){case 0:case 1:Le.b=ae(Te,3)+2,$e=Cs(rt(Le.Ea,Le.b),rt(Le.nc,Le.b),0,at,Le.K),Le.K=Le.K[0];break;case 3:var ct,nt=ae(Te,8)+1,It=16<nt?0:4<nt?1:2<nt?2:3;if(Ve[0]=rt(Le.Ea,It),Le.b=It,ct=$e=Cs(nt,1,0,at,Le.K)){var vt,qt=nt,bt=Le,Yr=1<<(8>>bt.b),ln=a(Yr);if(ln==null)ct=0;else{var Wr=bt.K[0],Lr=bt.w;for(ln[0]=bt.K[0][0],vt=1;vt<1*qt;++vt)ln[vt]=Ke(Wr[Lr+vt],ln[vt-1]);for(;vt<4*Yr;++vt)ln[vt]=0;bt.K[0]=null,bt.K[0]=ln,ct=1}}$e=ct;break;case 2:break;default:t(0)}oe=$e}}if(ue=ue[0],de=de[0],oe&&ae(he,1)&&!(oe=1<=(He=ae(he,4))&&11>=He)){G.a=3;break e}var vn;if(vn=oe)t:{var pn,gr,_s,yi=G,Ms=ue,wi=de,cn=He,Vi=D,Ki=yi.m,ra=yi.s,da=[null],Ya=1,po=0,Bl=gQ[cn];r:for(;;){if(Vi&&ae(Ki,1)){var na=ae(Ki,3)+2,wc=rt(Ms,na),md=rt(wi,na),kh=wc*md;if(!Cs(wc,md,0,yi,da))break r;for(da=da[0],ra.xc=na,pn=0;pn<kh;++pn){var NA=da[pn]>>8&65535;da[pn]=NA,NA>=Ya&&(Ya=NA+1)}}if(Ki.h)break r;for(gr=0;5>gr;++gr){var hs=dS[gr];!gr&&0<cn&&(hs+=1<<cn),po<hs&&(po=hs)}var K2=o(Ya*Bl,Q),CS=Ya,BS=o(CS,Z);if(BS==null)var Rg=null;else t(65536>=CS),Rg=BS;var H0=a(po);if(Rg==null||H0==null||K2==null){yi.a=1;break r}var Dg=K2;for(pn=_s=0;pn<Ya;++pn){var Qo=Rg[pn],Ph=Qo.G,Oh=Qo.H,NS=0,_g=1,SS=0;for(gr=0;5>gr;++gr){hs=dS[gr],Ph[gr]=Dg,Oh[gr]=_s,!gr&&0<cn&&(hs+=1<<cn);s:{var Mg,G2=hs,Ug=yi,V0=H0,_Q=Dg,MQ=_s,W2=0,SA=Ug.m,UQ=ae(SA,1);if(s(V0,0,0,G2),UQ){var QQ=ae(SA,1)+1,HQ=ae(SA,1),ES=ae(SA,HQ==0?1:8);V0[ES]=1,QQ==2&&(V0[ES=ae(SA,8)]=1);var Qg=1}else{var FS=a(19),IS=ae(SA,4)+4;if(19<IS){Ug.a=3;var Hg=0;break s}for(Mg=0;Mg<IS;++Mg)FS[mQ[Mg]]=ae(SA,3);var z2=void 0,K0=void 0,jS=Ug,VQ=FS,Vg=G2,TS=V0,$2=0,EA=jS.m,LS=8,kS=o(128,Q);n:for(;U(kS,0,7,VQ,19);){if(ae(EA,1)){var KQ=2+2*ae(EA,3);if((z2=2+ae(EA,KQ))>Vg)break n}else z2=Vg;for(K0=0;K0<Vg&&z2--;){ce(EA);var PS=kS[0+(127&ee(EA))];le(EA,EA.u+PS.g);var Rh=PS.value;if(16>Rh)TS[K0++]=Rh,Rh!=0&&(LS=Rh);else{var GQ=Rh==16,OS=Rh-16,WQ=hQ[OS],RS=ae(EA,dQ[OS])+WQ;if(K0+RS>Vg)break n;for(var zQ=GQ?LS:0;0<RS--;)TS[K0++]=zQ}}$2=1;break n}$2||(jS.a=3),Qg=$2}(Qg=Qg&&!SA.h)&&(W2=U(_Q,MQ,8,V0,G2)),Qg&&W2!=0?Hg=W2:(Ug.a=3,Hg=0)}if(Hg==0)break r;if(_g&&fQ[gr]==1&&(_g=Dg[_s].g==0),NS+=Dg[_s].g,_s+=Hg,3>=gr){var G0,q2=H0[0];for(G0=1;G0<hs;++G0)H0[G0]>q2&&(q2=H0[G0]);SS+=q2}}if(Qo.nd=_g,Qo.Qb=0,_g&&(Qo.qb=(Ph[3][Oh[3]+0].value<<24|Ph[1][Oh[1]+0].value<<16|Ph[2][Oh[2]+0].value)>>>0,NS==0&&256>Ph[0][Oh[0]+0].value&&(Qo.Qb=1,Qo.qb+=Ph[0][Oh[0]+0].value<<8)),Qo.jc=!Qo.Qb&&6>SS,Qo.jc){var Kg,vc=Qo;for(Kg=0;Kg<mn;++Kg){var FA=Kg,IA=vc.pd[FA],Gg=vc.G[0][vc.H[0]+FA];256<=Gg.value?(IA.g=Gg.g+256,IA.value=Gg.value):(IA.g=0,IA.value=0,FA>>=Hr(Gg,8,IA),FA>>=Hr(vc.G[1][vc.H[1]+FA],16,IA),FA>>=Hr(vc.G[2][vc.H[2]+FA],0,IA),Hr(vc.G[3][vc.H[3]+FA],24,IA))}}}ra.vc=da,ra.Wb=Ya,ra.Ya=Rg,ra.yc=K2,vn=1;break t}vn=0}if(!(oe=vn)){G.a=3;break e}if(0<He){if(xe.ua=1<<He,!Je(xe.Wa,He)){G.a=1,oe=0;break e}}else xe.ua=0;var X2=G,DS=ue,$Q=de,Y2=X2.s,J2=Y2.xc;if(X2.c=DS,X2.i=$Q,Y2.md=rt(DS,J2),Y2.wc=J2==0?-1:(1<<J2)-1,D){G.xb=NQ;break e}if((je=a(ue*de))==null){G.a=1,oe=0;break e}oe=(oe=ea(G,je,0,ue,de,de,null))&&!he.h;break e}return oe?(ne!=null?ne[0]=je:(t(je==null),t(D)),G.$=0,D||$a(xe)):$a(xe),oe}function dc(B,j){var D=B.c*B.i,G=D+j+16*j;return t(B.c<=j),B.V=a(G),B.V==null?(B.Ta=null,B.Ua=0,B.a=1,0):(B.Ta=B.V,B.Ua=B.Ba+D+j,1)}function hA(B,j){var D=B.C,G=j-D,ne=B.V,oe=B.Ba+B.c*D;for(t(j<=B.l.o);0<G;){var ue=16<G?16:G,de=B.l.ma,he=B.l.width,xe=he*ue,je=de.ca,He=de.tb+he*D,Ve=B.Ta,Oe=B.Ua;Sn(B,ue,ne,oe),Fs(Ve,Oe,je,He,xe),za(de,D,D+ue,je,He,he),G-=ue,ne+=ue*B.c,D+=ue}t(D==j),B.C=B.Ma=j}function Aa(){this.ub=this.yd=this.td=this.Rb=0}function As(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xr(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ju(){this.Yb=function(){var B=[];return function j(D,G,ne){for(var oe=ne[G],ue=0;ue<oe&&(D.push(ne.length>G+1?[]:0),!(ne.length<G+1));ue++)j(D[ue],G+1,ne)}(B,0,[3,11]),B}()}function io(){this.jb=a(3),this.Wc=l([4,8],Ju),this.Xc=l([4,17],Ju)}function Zu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function st(){this.ld=this.La=this.dd=this.tc=0}function Fh(){this.Na=this.la=0}function Fn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function oo(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function R0(){this.uc=this.M=this.Nb=0,this.wa=Array(new st),this.Y=0,this.ya=Array(new oo),this.aa=0,this.l=new pr}function Rr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Dr(){this.cb=this.a=0,this.sc="",this.m=new be,this.Od=new Aa,this.Kc=new As,this.ed=new Zu,this.Qa=new Xr,this.Ic=this.$c=this.Aa=0,this.D=new R0,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,be),this.ia=0,this.pb=o(4,Fn),this.Pa=new io,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Rr),this.Hd=0,this.rb=Array(new Fh),this.sb=0,this.wa=Array(new st),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new oo),this.L=this.aa=0,this.gd=l([4,2],st),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ed(){var B=new Dr;return B!=null&&(B.a=0,B.sc="OK",B.cb=0,B.Xb=0,U0||(U0=Mi)),B}function Dn(B,j,D){return B.a==0&&(B.a=j,B.sc=D,B.cb=0),0}function fA(B,j,D){return 3<=D&&B[j+0]==157&&B[j+1]==1&&B[j+2]==42}function Wn(B,j){if(B==null)return 0;if(B.a=0,B.sc="OK",j==null)return Dn(B,2,"null VP8Io passed to VP8GetHeaders()");var D=j.data,G=j.w,ne=j.ha;if(4>ne)return Dn(B,7,"Truncated header.");var oe=D[G+0]|D[G+1]<<8|D[G+2]<<16,ue=B.Od;if(ue.Rb=!(1&oe),ue.td=oe>>1&7,ue.yd=oe>>4&1,ue.ub=oe>>5,3<ue.td)return Dn(B,3,"Incorrect keyframe parameters.");if(!ue.yd)return Dn(B,4,"Frame not displayable.");G+=3,ne-=3;var de=B.Kc;if(ue.Rb){if(7>ne)return Dn(B,7,"cannot parse picture header");if(!fA(D,G,ne))return Dn(B,3,"Bad code word");de.c=16383&(D[G+4]<<8|D[G+3]),de.Td=D[G+4]>>6,de.i=16383&(D[G+6]<<8|D[G+5]),de.Ud=D[G+6]>>6,G+=7,ne-=7,B.za=de.c+15>>4,B.Ub=de.i+15>>4,j.width=de.c,j.height=de.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,s((oe=B.Pa).jb,0,255,oe.jb.length),t((oe=B.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,s(oe.Zb,0,0,oe.Zb.length),s(oe.Lb,0,0,oe.Lb)}if(ue.ub>ne)return Dn(B,7,"bad partition length");$(oe=B.m,D,G,ue.ub),G+=ue.ub,ne-=ue.ub,ue.Rb&&(de.Ld=we(oe),de.Kd=we(oe)),de=B.Qa;var he,xe=B.Pa;if(t(oe!=null),t(de!=null),de.Cb=we(oe),de.Cb){if(de.Bb=we(oe),we(oe)){for(de.Fb=we(oe),he=0;4>he;++he)de.Zb[he]=we(oe)?W(oe,7):0;for(he=0;4>he;++he)de.Lb[he]=we(oe)?W(oe,6):0}if(de.Bb)for(he=0;3>he;++he)xe.jb[he]=we(oe)?q(oe,8):255}else de.Bb=0;if(oe.Ka)return Dn(B,3,"cannot parse segment header");if((de=B.ed).zd=we(oe),de.Tb=q(oe,6),de.wb=q(oe,3),de.Pc=we(oe),de.Pc&&we(oe)){for(xe=0;4>xe;++xe)we(oe)&&(de.vd[xe]=W(oe,6));for(xe=0;4>xe;++xe)we(oe)&&(de.od[xe]=W(oe,6))}if(B.L=de.Tb==0?0:de.zd?1:2,oe.Ka)return Dn(B,3,"cannot parse filter header");var je=ne;if(ne=he=G,G=he+je,de=je,B.Xb=(1<<q(B.m,2))-1,je<3*(xe=B.Xb))D=7;else{for(he+=3*xe,de-=3*xe,je=0;je<xe;++je){var He=D[ne+0]|D[ne+1]<<8|D[ne+2]<<16;He>de&&(He=de),$(B.Jc[+je],D,he,He),he+=He,de-=He,ne+=3}$(B.Jc[+xe],D,he,de),D=he<G?0:5}if(D!=0)return Dn(B,D,"cannot parse partitions");for(D=q(he=B.m,7),ne=we(he)?W(he,4):0,G=we(he)?W(he,4):0,de=we(he)?W(he,4):0,xe=we(he)?W(he,4):0,he=we(he)?W(he,4):0,je=B.Qa,He=0;4>He;++He){if(je.Cb){var Ve=je.Zb[He];je.Fb||(Ve+=D)}else{if(0<He){B.pb[He]=B.pb[0];continue}Ve=D}var Oe=B.pb[He];Oe.Sc[0]=Q2[us(Ve+ne,127)],Oe.Sc[1]=H2[us(Ve+0,127)],Oe.Eb[0]=2*Q2[us(Ve+G,127)],Oe.Eb[1]=101581*H2[us(Ve+de,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=Q2[us(Ve+xe,117)],Oe.Qc[1]=H2[us(Ve+he,127)],Oe.lc=Ve+he}if(!ue.Rb)return Dn(B,4,"Not a key frame.");for(we(oe),ue=B.Pa,D=0;4>D;++D){for(ne=0;8>ne;++ne)for(G=0;3>G;++G)for(de=0;11>de;++de)xe=Ie(oe,CQ[D][ne][G][de])?q(oe,8):vQ[D][ne][G][de],ue.Wc[D][ne].Yb[G][de]=xe;for(ne=0;17>ne;++ne)ue.Xc[D][ne]=ue.Wc[D][BQ[ne]]}return B.kc=we(oe),B.kc&&(B.Bd=q(oe,8)),B.cb=1}function Mi(B,j,D,G,ne,oe,ue){var de=j[ne].Yb[D];for(D=0;16>ne;++ne){if(!Ie(B,de[D+0]))return ne;for(;!Ie(B,de[D+1]);)if(de=j[++ne].Yb[0],D=0,ne==16)return 16;var he=j[ne+1].Yb;if(Ie(B,de[D+2])){var xe=B,je=0;if(Ie(xe,(Ve=de)[(He=D)+3]))if(Ie(xe,Ve[He+6])){for(de=0,He=2*(je=Ie(xe,Ve[He+8]))+(Ve=Ie(xe,Ve[He+9+je])),je=0,Ve=yQ[He];Ve[de];++de)je+=je+Ie(xe,Ve[de]);je+=3+(8<<He)}else Ie(xe,Ve[He+7])?(je=7+2*Ie(xe,165),je+=Ie(xe,145)):je=5+Ie(xe,159);else je=Ie(xe,Ve[He+4])?3+Ie(xe,Ve[He+5]):2;de=he[2]}else je=1,de=he[1];he=ue+wQ[ne],0>(xe=B).b&&me(xe);var He,Ve=xe.b,Oe=(He=xe.Ca>>1)-(xe.I>>Ve)>>31;--xe.b,xe.Ca+=Oe,xe.Ca|=1,xe.I-=(He+1&Oe)<<Ve,oe[he]=((je^Oe)-Oe)*G[(0<ne)+0]}return 16}function td(B){var j=B.rb[B.sb-1];j.la=0,j.Na=0,s(B.zc,0,0,B.zc.length),B.ja=0}function _n(B,j){if(B==null)return 0;if(j==null)return Dn(B,2,"NULL VP8Io parameter in VP8Decode().");if(!B.cb&&!Wn(B,j))return 0;if(t(B.cb),j.ac==null||j.ac(j)){j.ob&&(B.L=0);var D=Og[B.L];if(B.L==2?(B.yb=0,B.zb=0):(B.yb=j.v-D>>4,B.zb=j.j-D>>4,0>B.yb&&(B.yb=0),0>B.zb&&(B.zb=0)),B.Va=j.o+15+D>>4,B.Hb=j.va+15+D>>4,B.Hb>B.za&&(B.Hb=B.za),B.Va>B.Ub&&(B.Va=B.Ub),0<B.L){var G=B.ed;for(D=0;4>D;++D){var ne;if(B.Qa.Cb){var oe=B.Qa.Lb[D];B.Qa.Fb||(oe+=G.Tb)}else oe=G.Tb;for(ne=0;1>=ne;++ne){var ue=B.gd[D][ne],de=oe;if(G.Pc&&(de+=G.vd[0],ne&&(de+=G.od[0])),0<(de=0>de?0:63<de?63:de)){var he=de;0<G.wb&&(he=4<G.wb?he>>2:he>>1)>9-G.wb&&(he=9-G.wb),1>he&&(he=1),ue.dd=he,ue.tc=2*de+he,ue.ld=40<=de?2:15<=de?1:0}else ue.tc=0;ue.La=ne}}}D=0}else Dn(B,6,"Frame setup failed"),D=B.a;if(D=D==0){if(D){B.$c=0,0<B.Aa||(B.Ic=DQ);e:{D=B.Ic,G=4*(he=B.za);var xe=32*he,je=he+1,He=0<B.L?he*(0<B.Aa?2:1):0,Ve=(B.Aa==2?2:1)*he;if((ue=G+832+(ne=3*(16*D+Og[B.L])/2*xe)+(oe=B.Fa!=null&&0<B.Fa.length?B.Kc.c*B.Kc.i:0))!=ue)D=0;else{if(ue>B.Vb){if(B.Vb=0,B.Ec=a(ue),B.Fc=0,B.Ec==null){D=Dn(B,1,"no memory during frame initialization.");break e}B.Vb=ue}ue=B.Ec,de=B.Fc,B.Ac=ue,B.Bc=de,de+=G,B.Gd=o(xe,Rr),B.Hd=0,B.rb=o(je+1,Fh),B.sb=1,B.wa=He?o(He,st):null,B.Y=0,B.D.Nb=0,B.D.wa=B.wa,B.D.Y=B.Y,0<B.Aa&&(B.D.Y+=he),t(!0),B.oc=ue,B.pc=de,de+=832,B.ya=o(Ve,oo),B.aa=0,B.D.ya=B.ya,B.D.aa=B.aa,B.Aa==2&&(B.D.aa+=he),B.R=16*he,B.B=8*he,he=(xe=Og[B.L])*B.R,xe=xe/2*B.B,B.sa=ue,B.ta=de+he,B.qa=B.sa,B.ra=B.ta+16*D*B.R+xe,B.Ha=B.qa,B.Ia=B.ra+8*D*B.B+xe,B.$c=0,de+=ne,B.mb=oe?ue:null,B.nb=oe?de:null,t(de+oe<=B.Fc+B.Vb),td(B),s(B.Ac,B.Bc,0,G),D=1}}if(D){if(j.ka=0,j.y=B.sa,j.O=B.ta,j.f=B.qa,j.N=B.ra,j.ea=B.Ha,j.Vd=B.Ia,j.fa=B.R,j.Rc=B.B,j.F=null,j.J=0,!Sg){for(D=-255;255>=D;++D)Ws[255+D]=0>D?-D:D;for(D=-1020;1020>=D;++D)xc[1020+D]=-128>D?-128:127<D?127:D;for(D=-112;112>=D;++D)M0[112+D]=-16>D?-16:15<D?15:D;for(D=-255;510>=D;++D)Lh[255+D]=0>D?0:255<D?255:D;Sg=1}Be=Ba,Se=Qe,We=fe,ot=_t,ut=es,ke=Ns,lt=yl,wr=Sa,ar=mr,ds=ts,Gs=_0,ns=Ge,_r=wl,Xn=ud,Es=Ad,Xa=Ao,ho=Mo,gi=D0,Uo[0]=Mt,Uo[1]=nd,Uo[2]=fc,Uo[3]=lo,Uo[4]=jh,Uo[5]=zn,Uo[6]=dr,Uo[7]=ad,Uo[8]=Th,Uo[9]=id,CA[0]=gA,CA[1]=Kt,CA[2]=Kr,CA[3]=hc,CA[4]=Ss,CA[5]=sd,CA[6]=Ih,yc[0]=mi,yc[1]=Na,yc[2]=Do,yc[3]=od,yc[4]=xl,yc[5]=mc,yc[6]=_o,D=1}else D=0}D&&(D=function(Oe,at){for(Oe.M=0;Oe.M<Oe.Va;++Oe.M){var $e,Te=Oe.Jc[Oe.M&Oe.Xb],Le=Oe.m,tt=Oe;for($e=0;$e<tt.za;++$e){var ct=Le,nt=tt,It=nt.Ac,vt=nt.Bc+4*$e,qt=nt.zc,bt=nt.ya[nt.aa+$e];if(nt.Qa.Bb?bt.$b=Ie(ct,nt.Pa.jb[0])?2+Ie(ct,nt.Pa.jb[2]):Ie(ct,nt.Pa.jb[1]):bt.$b=0,nt.kc&&(bt.Ad=Ie(ct,nt.Bd)),bt.Za=!Ie(ct,145)+0,bt.Za){var Yr=bt.Ob,ln=0;for(nt=0;4>nt;++nt){var Wr,Lr=qt[0+nt];for(Wr=0;4>Wr;++Wr){Lr=bQ[It[vt+Wr]][Lr];for(var vn=hS[Ie(ct,Lr[0])];0<vn;)vn=hS[2*vn+Ie(ct,Lr[vn])];Lr=-vn,It[vt+Wr]=Lr}n(Yr,ln,It,vt,4),ln+=4,qt[0+nt]=Lr}}else Lr=Ie(ct,156)?Ie(ct,128)?1:3:Ie(ct,163)?2:0,bt.Ob[0]=Lr,s(It,vt,Lr,4),s(qt,0,Lr,4);bt.Dd=Ie(ct,142)?Ie(ct,114)?Ie(ct,183)?1:3:2:0}if(tt.m.Ka)return Dn(Oe,7,"Premature end-of-partition0 encountered.");for(;Oe.ja<Oe.za;++Oe.ja){if(tt=Te,ct=(Le=Oe).rb[Le.sb-1],It=Le.rb[Le.sb+Le.ja],$e=Le.ya[Le.aa+Le.ja],vt=Le.kc?$e.Ad:0)ct.la=It.la=0,$e.Za||(ct.Na=It.Na=0),$e.Hc=0,$e.Gc=0,$e.ia=0;else{var pn,gr;if(ct=It,It=tt,vt=Le.Pa.Xc,qt=Le.ya[Le.aa+Le.ja],bt=Le.pb[qt.$b],nt=qt.ad,Yr=0,ln=Le.rb[Le.sb-1],Lr=Wr=0,s(nt,Yr,0,384),qt.Za)var _s=0,yi=vt[3];else{vn=a(16);var Ms=ct.Na+ln.Na;if(Ms=U0(It,vt[1],Ms,bt.Eb,0,vn,0),ct.Na=ln.Na=(0<Ms)+0,1<Ms)Be(vn,0,nt,Yr);else{var wi=vn[0]+3>>3;for(vn=0;256>vn;vn+=16)nt[Yr+vn]=wi}_s=1,yi=vt[0]}var cn=15&ct.la,Vi=15&ln.la;for(vn=0;4>vn;++vn){var Ki=1&Vi;for(wi=gr=0;4>wi;++wi)cn=cn>>1|(Ki=(Ms=U0(It,yi,Ms=Ki+(1&cn),bt.Sc,_s,nt,Yr))>_s)<<7,gr=gr<<2|(3<Ms?3:1<Ms?2:nt[Yr+0]!=0),Yr+=16;cn>>=4,Vi=Vi>>1|Ki<<7,Wr=(Wr<<8|gr)>>>0}for(yi=cn,_s=Vi>>4,pn=0;4>pn;pn+=2){for(gr=0,cn=ct.la>>4+pn,Vi=ln.la>>4+pn,vn=0;2>vn;++vn){for(Ki=1&Vi,wi=0;2>wi;++wi)Ms=Ki+(1&cn),cn=cn>>1|(Ki=0<(Ms=U0(It,vt[2],Ms,bt.Qc,0,nt,Yr)))<<3,gr=gr<<2|(3<Ms?3:1<Ms?2:nt[Yr+0]!=0),Yr+=16;cn>>=2,Vi=Vi>>1|Ki<<5}Lr|=gr<<4*pn,yi|=cn<<4<<pn,_s|=(240&Vi)<<pn}ct.la=yi,ln.la=_s,qt.Hc=Wr,qt.Gc=Lr,qt.ia=43690&Lr?0:bt.ia,vt=!(Wr|Lr)}if(0<Le.L&&(Le.wa[Le.Y+Le.ja]=Le.gd[$e.$b][$e.Za],Le.wa[Le.Y+Le.ja].La|=!vt),tt.Ka)return Dn(Oe,7,"Premature end-of-file encountered.")}if(td(Oe),Le=at,tt=1,$e=(Te=Oe).D,ct=0<Te.L&&Te.M>=Te.zb&&Te.M<=Te.Va,Te.Aa==0)e:{if($e.M=Te.M,$e.uc=ct,Fa(Te,$e),tt=1,$e=(gr=Te.D).Nb,ct=(Lr=Og[Te.L])*Te.R,It=Lr/2*Te.B,vn=16*$e*Te.R,wi=8*$e*Te.B,vt=Te.sa,qt=Te.ta-ct+vn,bt=Te.qa,nt=Te.ra-It+wi,Yr=Te.Ha,ln=Te.Ia-It+wi,Vi=(cn=gr.M)==0,Wr=cn>=Te.Va-1,Te.Aa==2&&Fa(Te,gr),gr.uc)for(Ki=(Ms=Te).D.M,t(Ms.D.uc),gr=Ms.yb;gr<Ms.Hb;++gr){_s=gr,yi=Ki;var ra=(da=(hs=Ms).D).Nb;pn=hs.R;var da=da.wa[da.Y+_s],Ya=hs.sa,po=hs.ta+16*ra*pn+16*_s,Bl=da.dd,na=da.tc;if(na!=0)if(t(3<=na),hs.L==1)0<_s&&Xa(Ya,po,pn,na+4),da.La&&gi(Ya,po,pn,na),0<yi&&Es(Ya,po,pn,na+4),da.La&&ho(Ya,po,pn,na);else{var wc=hs.B,md=hs.qa,kh=hs.ra+8*ra*wc+8*_s,NA=hs.Ha,hs=hs.Ia+8*ra*wc+8*_s;ra=da.ld,0<_s&&(wr(Ya,po,pn,na+4,Bl,ra),ds(md,kh,NA,hs,wc,na+4,Bl,ra)),da.La&&(ns(Ya,po,pn,na,Bl,ra),Xn(md,kh,NA,hs,wc,na,Bl,ra)),0<yi&&(lt(Ya,po,pn,na+4,Bl,ra),ar(md,kh,NA,hs,wc,na+4,Bl,ra)),da.La&&(Gs(Ya,po,pn,na,Bl,ra),_r(md,kh,NA,hs,wc,na,Bl,ra))}}if(Te.ia&&alert("todo:DitherRow"),Le.put!=null){if(gr=16*cn,cn=16*(cn+1),Vi?(Le.y=Te.sa,Le.O=Te.ta+vn,Le.f=Te.qa,Le.N=Te.ra+wi,Le.ea=Te.Ha,Le.W=Te.Ia+wi):(gr-=Lr,Le.y=vt,Le.O=qt,Le.f=bt,Le.N=nt,Le.ea=Yr,Le.W=ln),Wr||(cn-=Lr),cn>Le.o&&(cn=Le.o),Le.F=null,Le.J=null,Te.Fa!=null&&0<Te.Fa.length&&gr<cn&&(Le.J=Gr(Te,Le,gr,cn-gr),Le.F=Te.mb,Le.F==null&&Le.F.length==0)){tt=Dn(Te,3,"Could not decode alpha data.");break e}gr<Le.j&&(Lr=Le.j-gr,gr=Le.j,t(!(1&Lr)),Le.O+=Te.R*Lr,Le.N+=Te.B*(Lr>>1),Le.W+=Te.B*(Lr>>1),Le.F!=null&&(Le.J+=Le.width*Lr)),gr<cn&&(Le.O+=Le.v,Le.N+=Le.v>>1,Le.W+=Le.v>>1,Le.F!=null&&(Le.J+=Le.v),Le.ka=gr-Le.j,Le.U=Le.va-Le.v,Le.T=cn-gr,tt=Le.put(Le))}$e+1!=Te.Ic||Wr||(n(Te.sa,Te.ta-ct,vt,qt+16*Te.R,ct),n(Te.qa,Te.ra-It,bt,nt+8*Te.B,It),n(Te.Ha,Te.Ia-It,Yr,ln+8*Te.B,It))}if(!tt)return Dn(Oe,6,"Output aborted.")}return 1}(B,j)),j.bc!=null&&j.bc(j),D&=1}return D?(B.cb=0,D):0}function Ds(B,j,D,G,ne){ne=B[j+D+32*G]+(ne>>3),B[j+D+32*G]=-256&ne?0>ne?0:255:ne}function mA(B,j,D,G,ne,oe){Ds(B,j,0,D,G+ne),Ds(B,j,1,D,G+oe),Ds(B,j,2,D,G-oe),Ds(B,j,3,D,G-ne)}function Bs(B){return(20091*B>>16)+B}function qr(B,j,D,G){var ne,oe=0,ue=a(16);for(ne=0;4>ne;++ne){var de=B[j+0]+B[j+8],he=B[j+0]-B[j+8],xe=(35468*B[j+4]>>16)-Bs(B[j+12]),je=Bs(B[j+4])+(35468*B[j+12]>>16);ue[oe+0]=de+je,ue[oe+1]=he+xe,ue[oe+2]=he-xe,ue[oe+3]=de-je,oe+=4,j++}for(ne=oe=0;4>ne;++ne)de=(B=ue[oe+0]+4)+ue[oe+8],he=B-ue[oe+8],xe=(35468*ue[oe+4]>>16)-Bs(ue[oe+12]),Ds(D,G,0,0,de+(je=Bs(ue[oe+4])+(35468*ue[oe+12]>>16))),Ds(D,G,1,0,he+xe),Ds(D,G,2,0,he-xe),Ds(D,G,3,0,de-je),oe++,G+=32}function Ns(B,j,D,G){var ne=B[j+0]+4,oe=35468*B[j+4]>>16,ue=Bs(B[j+4]),de=35468*B[j+1]>>16;mA(D,G,0,ne+ue,B=Bs(B[j+1]),de),mA(D,G,1,ne+oe,B,de),mA(D,G,2,ne-oe,B,de),mA(D,G,3,ne-ue,B,de)}function Qe(B,j,D,G,ne){qr(B,j,D,G),ne&&qr(B,j+16,D,G+4)}function fe(B,j,D,G){Se(B,j+0,D,G,1),Se(B,j+32,D,G+128,1)}function _t(B,j,D,G){var ne;for(B=B[j+0]+4,ne=0;4>ne;++ne)for(j=0;4>j;++j)Ds(D,G,j,ne,B)}function es(B,j,D,G){B[j+0]&&ot(B,j+0,D,G),B[j+16]&&ot(B,j+16,D,G+4),B[j+32]&&ot(B,j+32,D,G+128),B[j+48]&&ot(B,j+48,D,G+128+4)}function Ba(B,j,D,G){var ne,oe=a(16);for(ne=0;4>ne;++ne){var ue=B[j+0+ne]+B[j+12+ne],de=B[j+4+ne]+B[j+8+ne],he=B[j+4+ne]-B[j+8+ne],xe=B[j+0+ne]-B[j+12+ne];oe[0+ne]=ue+de,oe[8+ne]=ue-de,oe[4+ne]=xe+he,oe[12+ne]=xe-he}for(ne=0;4>ne;++ne)ue=(B=oe[0+4*ne]+3)+oe[3+4*ne],de=oe[1+4*ne]+oe[2+4*ne],he=oe[1+4*ne]-oe[2+4*ne],xe=B-oe[3+4*ne],D[G+0]=ue+de>>3,D[G+16]=xe+he>>3,D[G+32]=ue-de>>3,D[G+48]=xe-he>>3,G+=64}function rd(B,j,D){var G,ne=j-32,oe=Hi,ue=255-B[ne-1];for(G=0;G<D;++G){var de,he=oe,xe=ue+B[j-1];for(de=0;de<D;++de)B[j+de]=he[xe+B[ne+de]];j+=32}}function nd(B,j){rd(B,j,4)}function Na(B,j){rd(B,j,8)}function Kt(B,j){rd(B,j,16)}function Kr(B,j){var D;for(D=0;16>D;++D)n(B,j+32*D,B,j-32,16)}function hc(B,j){var D;for(D=16;0<D;--D)s(B,j,B[j-1],16),j+=32}function pA(B,j,D){var G;for(G=0;16>G;++G)s(j,D+32*G,B,16)}function gA(B,j){var D,G=16;for(D=0;16>D;++D)G+=B[j-1+32*D]+B[j+D-32];pA(G>>5,B,j)}function Ss(B,j){var D,G=8;for(D=0;16>D;++D)G+=B[j-1+32*D];pA(G>>4,B,j)}function sd(B,j){var D,G=8;for(D=0;16>D;++D)G+=B[j+D-32];pA(G>>4,B,j)}function Ih(B,j){pA(128,B,j)}function Rt(B,j,D){return B+2*j+D+2>>2}function fc(B,j){var D,G=j-32;for(G=new Uint8Array([Rt(B[G-1],B[G+0],B[G+1]),Rt(B[G+0],B[G+1],B[G+2]),Rt(B[G+1],B[G+2],B[G+3]),Rt(B[G+2],B[G+3],B[G+4])]),D=0;4>D;++D)n(B,j+32*D,G,0,G.length)}function lo(B,j){var D=B[j-1],G=B[j-1+32],ne=B[j-1+64],oe=B[j-1+96];ve(B,j+0,16843009*Rt(B[j-1-32],D,G)),ve(B,j+32,16843009*Rt(D,G,ne)),ve(B,j+64,16843009*Rt(G,ne,oe)),ve(B,j+96,16843009*Rt(ne,oe,oe))}function Mt(B,j){var D,G=4;for(D=0;4>D;++D)G+=B[j+D-32]+B[j-1+32*D];for(G>>=3,D=0;4>D;++D)s(B,j+32*D,G,4)}function jh(B,j){var D=B[j-1+0],G=B[j-1+32],ne=B[j-1+64],oe=B[j-1-32],ue=B[j+0-32],de=B[j+1-32],he=B[j+2-32],xe=B[j+3-32];B[j+0+96]=Rt(G,ne,B[j-1+96]),B[j+1+96]=B[j+0+64]=Rt(D,G,ne),B[j+2+96]=B[j+1+64]=B[j+0+32]=Rt(oe,D,G),B[j+3+96]=B[j+2+64]=B[j+1+32]=B[j+0+0]=Rt(ue,oe,D),B[j+3+64]=B[j+2+32]=B[j+1+0]=Rt(de,ue,oe),B[j+3+32]=B[j+2+0]=Rt(he,de,ue),B[j+3+0]=Rt(xe,he,de)}function dr(B,j){var D=B[j+1-32],G=B[j+2-32],ne=B[j+3-32],oe=B[j+4-32],ue=B[j+5-32],de=B[j+6-32],he=B[j+7-32];B[j+0+0]=Rt(B[j+0-32],D,G),B[j+1+0]=B[j+0+32]=Rt(D,G,ne),B[j+2+0]=B[j+1+32]=B[j+0+64]=Rt(G,ne,oe),B[j+3+0]=B[j+2+32]=B[j+1+64]=B[j+0+96]=Rt(ne,oe,ue),B[j+3+32]=B[j+2+64]=B[j+1+96]=Rt(oe,ue,de),B[j+3+64]=B[j+2+96]=Rt(ue,de,he),B[j+3+96]=Rt(de,he,he)}function zn(B,j){var D=B[j-1+0],G=B[j-1+32],ne=B[j-1+64],oe=B[j-1-32],ue=B[j+0-32],de=B[j+1-32],he=B[j+2-32],xe=B[j+3-32];B[j+0+0]=B[j+1+64]=oe+ue+1>>1,B[j+1+0]=B[j+2+64]=ue+de+1>>1,B[j+2+0]=B[j+3+64]=de+he+1>>1,B[j+3+0]=he+xe+1>>1,B[j+0+96]=Rt(ne,G,D),B[j+0+64]=Rt(G,D,oe),B[j+0+32]=B[j+1+96]=Rt(D,oe,ue),B[j+1+32]=B[j+2+96]=Rt(oe,ue,de),B[j+2+32]=B[j+3+96]=Rt(ue,de,he),B[j+3+32]=Rt(de,he,xe)}function ad(B,j){var D=B[j+0-32],G=B[j+1-32],ne=B[j+2-32],oe=B[j+3-32],ue=B[j+4-32],de=B[j+5-32],he=B[j+6-32],xe=B[j+7-32];B[j+0+0]=D+G+1>>1,B[j+1+0]=B[j+0+64]=G+ne+1>>1,B[j+2+0]=B[j+1+64]=ne+oe+1>>1,B[j+3+0]=B[j+2+64]=oe+ue+1>>1,B[j+0+32]=Rt(D,G,ne),B[j+1+32]=B[j+0+96]=Rt(G,ne,oe),B[j+2+32]=B[j+1+96]=Rt(ne,oe,ue),B[j+3+32]=B[j+2+96]=Rt(oe,ue,de),B[j+3+64]=Rt(ue,de,he),B[j+3+96]=Rt(de,he,xe)}function id(B,j){var D=B[j-1+0],G=B[j-1+32],ne=B[j-1+64],oe=B[j-1+96];B[j+0+0]=D+G+1>>1,B[j+2+0]=B[j+0+32]=G+ne+1>>1,B[j+2+32]=B[j+0+64]=ne+oe+1>>1,B[j+1+0]=Rt(D,G,ne),B[j+3+0]=B[j+1+32]=Rt(G,ne,oe),B[j+3+32]=B[j+1+64]=Rt(ne,oe,oe),B[j+3+64]=B[j+2+64]=B[j+0+96]=B[j+1+96]=B[j+2+96]=B[j+3+96]=oe}function Th(B,j){var D=B[j-1+0],G=B[j-1+32],ne=B[j-1+64],oe=B[j-1+96],ue=B[j-1-32],de=B[j+0-32],he=B[j+1-32],xe=B[j+2-32];B[j+0+0]=B[j+2+32]=D+ue+1>>1,B[j+0+32]=B[j+2+64]=G+D+1>>1,B[j+0+64]=B[j+2+96]=ne+G+1>>1,B[j+0+96]=oe+ne+1>>1,B[j+3+0]=Rt(de,he,xe),B[j+2+0]=Rt(ue,de,he),B[j+1+0]=B[j+3+32]=Rt(D,ue,de),B[j+1+32]=B[j+3+64]=Rt(G,D,ue),B[j+1+64]=B[j+3+96]=Rt(ne,G,D),B[j+1+96]=Rt(oe,ne,G)}function Do(B,j){var D;for(D=0;8>D;++D)n(B,j+32*D,B,j-32,8)}function od(B,j){var D;for(D=0;8>D;++D)s(B,j,B[j-1],8),j+=32}function Ui(B,j,D){var G;for(G=0;8>G;++G)s(j,D+32*G,B,8)}function mi(B,j){var D,G=8;for(D=0;8>D;++D)G+=B[j+D-32]+B[j-1+32*D];Ui(G>>4,B,j)}function mc(B,j){var D,G=4;for(D=0;8>D;++D)G+=B[j+D-32];Ui(G>>3,B,j)}function xl(B,j){var D,G=4;for(D=0;8>D;++D)G+=B[j-1+32*D];Ui(G>>3,B,j)}function _o(B,j){Ui(128,B,j)}function co(B,j,D){var G=B[j-D],ne=B[j+0],oe=3*(ne-G)+R2[1020+B[j-2*D]-B[j+D]],ue=Eg[112+(oe+4>>3)];B[j-D]=Hi[255+G+Eg[112+(oe+3>>3)]],B[j+0]=Hi[255+ne-ue]}function Vs(B,j,D,G){var ne=B[j+0],oe=B[j+D];return fo[255+B[j-2*D]-B[j-D]]>G||fo[255+oe-ne]>G}function ld(B,j,D,G){return 4*fo[255+B[j-D]-B[j+0]]+fo[255+B[j-2*D]-B[j+D]]<=G}function cd(B,j,D,G,ne){var oe=B[j-3*D],ue=B[j-2*D],de=B[j-D],he=B[j+0],xe=B[j+D],je=B[j+2*D],He=B[j+3*D];return 4*fo[255+de-he]+fo[255+ue-xe]>G?0:fo[255+B[j-4*D]-oe]<=ne&&fo[255+oe-ue]<=ne&&fo[255+ue-de]<=ne&&fo[255+He-je]<=ne&&fo[255+je-xe]<=ne&&fo[255+xe-he]<=ne}function Ad(B,j,D,G){var ne=2*G+1;for(G=0;16>G;++G)ld(B,j+G,D,ne)&&co(B,j+G,D)}function Ao(B,j,D,G){var ne=2*G+1;for(G=0;16>G;++G)ld(B,j+G*D,1,ne)&&co(B,j+G*D,1)}function Mo(B,j,D,G){var ne;for(ne=3;0<ne;--ne)Ad(B,j+=4*D,D,G)}function D0(B,j,D,G){var ne;for(ne=3;0<ne;--ne)Ao(B,j+=4,D,G)}function Fr(B,j,D,G,ne,oe,ue,de){for(oe=2*oe+1;0<ne--;){if(cd(B,j,D,oe,ue))if(Vs(B,j,D,de))co(B,j,D);else{var he=B,xe=j,je=D,He=he[xe-2*je],Ve=he[xe-je],Oe=he[xe+0],at=he[xe+je],$e=he[xe+2*je],Te=27*(tt=R2[1020+3*(Oe-Ve)+R2[1020+He-at]])+63>>7,Le=18*tt+63>>7,tt=9*tt+63>>7;he[xe-3*je]=Hi[255+he[xe-3*je]+tt],he[xe-2*je]=Hi[255+He+Le],he[xe-je]=Hi[255+Ve+Te],he[xe+0]=Hi[255+Oe-Te],he[xe+je]=Hi[255+at-Le],he[xe+2*je]=Hi[255+$e-tt]}j+=G}}function pi(B,j,D,G,ne,oe,ue,de){for(oe=2*oe+1;0<ne--;){if(cd(B,j,D,oe,ue))if(Vs(B,j,D,de))co(B,j,D);else{var he=B,xe=j,je=D,He=he[xe-je],Ve=he[xe+0],Oe=he[xe+je],at=Eg[112+(($e=3*(Ve-He))+4>>3)],$e=Eg[112+($e+3>>3)],Te=at+1>>1;he[xe-2*je]=Hi[255+he[xe-2*je]+Te],he[xe-je]=Hi[255+He+$e],he[xe+0]=Hi[255+Ve-at],he[xe+je]=Hi[255+Oe-Te]}j+=G}}function yl(B,j,D,G,ne,oe){Fr(B,j,D,1,16,G,ne,oe)}function Sa(B,j,D,G,ne,oe){Fr(B,j,1,D,16,G,ne,oe)}function _0(B,j,D,G,ne,oe){var ue;for(ue=3;0<ue;--ue)pi(B,j+=4*D,D,1,16,G,ne,oe)}function Ge(B,j,D,G,ne,oe){var ue;for(ue=3;0<ue;--ue)pi(B,j+=4,1,D,16,G,ne,oe)}function mr(B,j,D,G,ne,oe,ue,de){Fr(B,j,ne,1,8,oe,ue,de),Fr(D,G,ne,1,8,oe,ue,de)}function ts(B,j,D,G,ne,oe,ue,de){Fr(B,j,1,ne,8,oe,ue,de),Fr(D,G,1,ne,8,oe,ue,de)}function wl(B,j,D,G,ne,oe,ue,de){pi(B,j+4*ne,ne,1,8,oe,ue,de),pi(D,G+4*ne,ne,1,8,oe,ue,de)}function ud(B,j,D,G,ne,oe,ue,de){pi(B,j+4,1,ne,8,oe,ue,de),pi(D,G+4,1,ne,8,oe,ue,de)}function xA(){this.ba=new ur,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function dd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function hd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yA(){this.ua=0,this.Wa=new ye,this.vb=new ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new Q}function rs(){this.xb=this.a=0,this.l=new pr,this.ca=new ur,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yA,this.ab=0,this.gc=o(4,hd),this.Oc=0}function vl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new pr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function rn(B,j,D,G,ne,oe,ue){for(B=B==null?0:B[j+0],j=0;j<ue;++j)ne[oe+j]=B+D[G+j]&255,B=ne[oe+j]}function bl(B,j,D,G,ne,oe,ue){var de;if(B==null)rn(null,null,D,G,ne,oe,ue);else for(de=0;de<ue;++de)ne[oe+de]=B[j+de]+D[G+de]&255}function Ea(B,j,D,G,ne,oe,ue){if(B==null)rn(null,null,D,G,ne,oe,ue);else{var de,he=B[j+0],xe=he,je=he;for(de=0;de<ue;++de)xe=je+(he=B[j+de])-xe,je=D[G+de]+(-256&xe?0>xe?0:255:xe)&255,xe=he,ne[oe+de]=je}}function Gr(B,j,D,G){var ne=j.width,oe=j.o;if(t(B!=null&&j!=null),0>D||0>=G||D+G>oe)return null;if(!B.Cc){if(B.ga==null){var ue;if(B.ga=new vl,(ue=B.ga==null)||(ue=j.width*j.o,t(B.Gb.length==0),B.Gb=a(ue),B.Uc=0,B.Gb==null?ue=0:(B.mb=B.Gb,B.nb=B.Uc,B.rc=null,ue=1),ue=!ue),!ue){ue=B.ga;var de=B.Fa,he=B.P,xe=B.qc,je=B.mb,He=B.nb,Ve=he+1,Oe=xe-1,at=ue.l;if(t(de!=null&&je!=null&&j!=null),BA[0]=null,BA[1]=rn,BA[2]=bl,BA[3]=Ea,ue.ca=je,ue.tb=He,ue.c=j.width,ue.i=j.height,t(0<ue.c&&0<ue.i),1>=xe)j=0;else if(ue.$a=de[he+0]>>0&3,ue.Z=de[he+0]>>2&3,ue.Lc=de[he+0]>>4&3,he=de[he+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||he)j=0;else if(at.put=an,at.ac=Qt,at.bc=yn,at.ma=ue,at.width=j.width,at.height=j.height,at.Da=j.Da,at.v=j.v,at.va=j.va,at.j=j.j,at.o=j.o,ue.$a)e:{t(ue.$a==1),j=ca();t:for(;;){if(j==null){j=0;break e}if(t(ue!=null),ue.mc=j,j.c=ue.c,j.i=ue.i,j.l=ue.l,j.l.ma=ue,j.l.width=ue.c,j.l.height=ue.i,j.a=0,Y(j.m,de,Ve,Oe),!Cs(ue.c,ue.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&Ca(j.s)?(ue.ic=1,de=j.c*j.i,j.Ta=null,j.Ua=0,j.V=a(de),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(ue.ic=0,j=dc(j,ue.c)),!j))break t;j=1;break e}ue.mc=null,j=0}else j=Oe>=ue.c*ue.i;ue=!j}if(ue)return null;B.ga.Lc!=1?B.Ga=0:G=oe-D}t(B.ga!=null),t(D+G<=oe);e:{if(j=(de=B.ga).c,oe=de.l.o,de.$a==0){if(Ve=B.rc,Oe=B.Vc,at=B.Fa,he=B.P+1+D*j,xe=B.mb,je=B.nb+D*j,t(he<=B.P+B.qc),de.Z!=0)for(t(BA[de.Z]!=null),ue=0;ue<G;++ue)BA[de.Z](Ve,Oe,at,he,xe,je,j),Ve=xe,Oe=je,je+=j,he+=j;else for(ue=0;ue<G;++ue)n(xe,je,at,he,j),Ve=xe,Oe=je,je+=j,he+=j;B.rc=Ve,B.Vc=Oe}else{if(t(de.mc!=null),j=D+G,t((ue=de.mc)!=null),t(j<=ue.i),ue.C>=j)j=1;else if(de.ic||De(),de.ic){de=ue.V,Ve=ue.Ba,Oe=ue.c;var $e=ue.i,Te=(at=1,he=ue.$/Oe,xe=ue.$%Oe,je=ue.m,He=ue.s,ue.$),Le=Oe*$e,tt=Oe*j,ct=He.wc,nt=Te<tt?fn(He,xe,he):null;t(Te<=Le),t(j<=$e),t(Ca(He));t:for(;;){for(;!je.h&&Te<tt;){if(xe&ct||(nt=fn(He,xe,he)),t(nt!=null),ce(je),256>($e=wn(nt.G[0],nt.H[0],je)))de[Ve+Te]=$e,++Te,++xe>=Oe&&(xe=0,++he<=j&&!(he%16)&&En(ue,he));else{if(!(280>$e)){at=0;break t}$e=bs($e-256,je);var It,vt=wn(nt.G[4],nt.H[4],je);if(ce(je),!(Te>=(vt=tn(Oe,vt=bs(vt,je)))&&Le-Te>=$e)){at=0;break t}for(It=0;It<$e;++It)de[Ve+Te+It]=de[Ve+Te+It-vt];for(Te+=$e,xe+=$e;xe>=Oe;)xe-=Oe,++he<=j&&!(he%16)&&En(ue,he);Te<tt&&xe&ct&&(nt=fn(He,xe,he))}t(je.h==ie(je))}En(ue,he>j?j:he);break t}!at||je.h&&Te<Le?(at=0,ue.a=je.h?5:3):ue.$=Te,j=at}else j=ea(ue,ue.V,ue.Ba,ue.c,ue.i,j,hA);if(!j){G=0;break e}}D+G>=oe&&(B.Cc=1),G=1}if(!G)return null;if(B.Cc&&((G=B.ga)!=null&&(G.mc=null),B.ga=null,0<B.Ga))return alert("todo:WebPDequantizeLevels"),null}return B.nb+D*ne}function L(B,j,D,G,ne,oe){for(;0<ne--;){var ue,de=B,he=j+(D?1:0),xe=B,je=j+(D?0:3);for(ue=0;ue<G;++ue){var He=xe[je+4*ue];He!=255&&(He*=32897,de[he+4*ue+0]=de[he+4*ue+0]*He>>23,de[he+4*ue+1]=de[he+4*ue+1]*He>>23,de[he+4*ue+2]=de[he+4*ue+2]*He>>23)}j+=oe}}function se(B,j,D,G,ne){for(;0<G--;){var oe;for(oe=0;oe<D;++oe){var ue=B[j+2*oe+0],de=15&(xe=B[j+2*oe+1]),he=4369*de,xe=(240&xe|xe>>4)*he>>16;B[j+2*oe+0]=(240&ue|ue>>4)*he>>16&240|(15&ue|ue<<4)*he>>16>>4&15,B[j+2*oe+1]=240&xe|de}j+=ne}}function pe(B,j,D,G,ne,oe,ue,de){var he,xe,je=255;for(xe=0;xe<ne;++xe){for(he=0;he<G;++he){var He=B[j+he];oe[ue+4*he]=He,je&=He}j+=D,ue+=de}return je!=255}function Ne(B,j,D,G,ne){var oe;for(oe=0;oe<ne;++oe)D[G+oe]=B[j+oe]>>8}function De(){xi=L,In=se,jn=pe,Fs=Ne}function Xe(B,j,D){R[B]=function(G,ne,oe,ue,de,he,xe,je,He,Ve,Oe,at,$e,Te,Le,tt,ct){var nt,It=ct-1>>1,vt=de[he+0]|xe[je+0]<<16,qt=He[Ve+0]|Oe[at+0]<<16;t(G!=null);var bt=3*vt+qt+131074>>2;for(j(G[ne+0],255&bt,bt>>16,$e,Te),oe!=null&&(bt=3*qt+vt+131074>>2,j(oe[ue+0],255&bt,bt>>16,Le,tt)),nt=1;nt<=It;++nt){var Yr=de[he+nt]|xe[je+nt]<<16,ln=He[Ve+nt]|Oe[at+nt]<<16,Wr=vt+Yr+qt+ln+524296,Lr=Wr+2*(Yr+qt)>>3;bt=Lr+vt>>1,vt=(Wr=Wr+2*(vt+ln)>>3)+Yr>>1,j(G[ne+2*nt-1],255&bt,bt>>16,$e,Te+(2*nt-1)*D),j(G[ne+2*nt-0],255&vt,vt>>16,$e,Te+(2*nt-0)*D),oe!=null&&(bt=Wr+qt>>1,vt=Lr+ln>>1,j(oe[ue+2*nt-1],255&bt,bt>>16,Le,tt+(2*nt-1)*D),j(oe[ue+2*nt+0],255&vt,vt>>16,Le,tt+(2*nt+0)*D)),vt=Yr,qt=ln}1&ct||(bt=3*vt+qt+131074>>2,j(G[ne+ct-1],255&bt,bt>>16,$e,Te+(ct-1)*D),oe!=null&&(bt=3*qt+vt+131074>>2,j(oe[ue+ct-1],255&bt,bt>>16,Le,tt+(ct-1)*D)))}}function it(){mo[Fg]=SQ,mo[Ig]=mS,mo[AS]=EQ,mo[jg]=pS,mo[Tg]=gS,mo[D2]=xS,mo[uS]=FQ,mo[_2]=mS,mo[M2]=pS,mo[Lg]=gS,mo[U2]=xS}function Ct(B){return B&~IQ?0>B?0:255:B>>yS}function Vt(B,j){return Ct((19077*B>>8)+(26149*j>>8)-14234)}function cr(B,j,D){return Ct((19077*B>>8)-(6419*j>>8)-(13320*D>>8)+8708)}function Ar(B,j){return Ct((19077*B>>8)+(33050*j>>8)-17685)}function Ir(B,j,D,G,ne){G[ne+0]=Vt(B,D),G[ne+1]=cr(B,j,D),G[ne+2]=Ar(B,j)}function Mn(B,j,D,G,ne){G[ne+0]=Ar(B,j),G[ne+1]=cr(B,j,D),G[ne+2]=Vt(B,D)}function on(B,j,D,G,ne){var oe=cr(B,j,D);j=oe<<3&224|Ar(B,j)>>3,G[ne+0]=248&Vt(B,D)|oe>>5,G[ne+1]=j}function $n(B,j,D,G,ne){var oe=240&Ar(B,j)|15;G[ne+0]=240&Vt(B,D)|cr(B,j,D)>>4,G[ne+1]=oe}function ta(B,j,D,G,ne){G[ne+0]=255,Ir(B,j,D,G,ne+1)}function qn(B,j,D,G,ne){Mn(B,j,D,G,ne),G[ne+3]=255}function Qi(B,j,D,G,ne){Ir(B,j,D,G,ne),G[ne+3]=255}function us(B,j){return 0>B?0:B>j?j:B}function qa(B,j,D){R[B]=function(G,ne,oe,ue,de,he,xe,je,He){for(var Ve=je+(-2&He)*D;je!=Ve;)j(G[ne+0],oe[ue+0],de[he+0],xe,je),j(G[ne+1],oe[ue+0],de[he+0],xe,je+D),ne+=2,++ue,++he,je+=2*D;1&He&&j(G[ne+0],oe[ue+0],de[he+0],xe,je)}}function ua(B,j,D){return D==0?B==0?j==0?6:5:j==0?4:0:D}function wA(B,j,D,G,ne){switch(B>>>30){case 3:Se(j,D,G,ne,0);break;case 2:ke(j,D,G,ne);break;case 1:ot(j,D,G,ne)}}function Fa(B,j){var D,G,ne=j.M,oe=j.Nb,ue=B.oc,de=B.pc+40,he=B.oc,xe=B.pc+584,je=B.oc,He=B.pc+600;for(D=0;16>D;++D)ue[de+32*D-1]=129;for(D=0;8>D;++D)he[xe+32*D-1]=129,je[He+32*D-1]=129;for(0<ne?ue[de-1-32]=he[xe-1-32]=je[He-1-32]=129:(s(ue,de-32-1,127,21),s(he,xe-32-1,127,9),s(je,He-32-1,127,9)),G=0;G<B.za;++G){var Ve=j.ya[j.aa+G];if(0<G){for(D=-1;16>D;++D)n(ue,de+32*D-4,ue,de+32*D+12,4);for(D=-1;8>D;++D)n(he,xe+32*D-4,he,xe+32*D+4,4),n(je,He+32*D-4,je,He+32*D+4,4)}var Oe=B.Gd,at=B.Hd+G,$e=Ve.ad,Te=Ve.Hc;if(0<ne&&(n(ue,de-32,Oe[at].y,0,16),n(he,xe-32,Oe[at].f,0,8),n(je,He-32,Oe[at].ea,0,8)),Ve.Za){var Le=ue,tt=de-32+16;for(0<ne&&(G>=B.za-1?s(Le,tt,Oe[at].y[15],4):n(Le,tt,Oe[at+1].y,0,4)),D=0;4>D;D++)Le[tt+128+D]=Le[tt+256+D]=Le[tt+384+D]=Le[tt+0+D];for(D=0;16>D;++D,Te<<=2)Le=ue,tt=de+vS[D],Uo[Ve.Ob[D]](Le,tt),wA(Te,$e,16*+D,Le,tt)}else if(Le=ua(G,ne,Ve.Ob[0]),CA[Le](ue,de),Te!=0)for(D=0;16>D;++D,Te<<=2)wA(Te,$e,16*+D,ue,de+vS[D]);for(D=Ve.Gc,Le=ua(G,ne,Ve.Dd),yc[Le](he,xe),yc[Le](je,He),Te=$e,Le=he,tt=xe,255&(Ve=D>>0)&&(170&Ve?We(Te,256,Le,tt):ut(Te,256,Le,tt)),Ve=je,Te=He,255&(D>>=8)&&(170&D?We($e,320,Ve,Te):ut($e,320,Ve,Te)),ne<B.Ub-1&&(n(Oe[at].y,0,ue,de+480,16),n(Oe[at].f,0,he,xe+224,8),n(Oe[at].ea,0,je,He+224,8)),D=8*oe*B.B,Oe=B.sa,at=B.ta+16*G+16*oe*B.R,$e=B.qa,Ve=B.ra+8*G+D,Te=B.Ha,Le=B.Ia+8*G+D,D=0;16>D;++D)n(Oe,at+D*B.R,ue,de+32*D,16);for(D=0;8>D;++D)n($e,Ve+D*B.B,he,xe+32*D,8),n(Te,Le+D*B.B,je,He+32*D,8)}}function vA(B,j,D,G,ne,oe,ue,de,he){var xe=[0],je=[0],He=0,Ve=he!=null?he.kd:0,Oe=he??new dd;if(B==null||12>D)return 7;Oe.data=B,Oe.w=j,Oe.ha=D,j=[j],D=[D],Oe.gb=[Oe.gb];e:{var at=j,$e=D,Te=Oe.gb;if(t(B!=null),t($e!=null),t(Te!=null),Te[0]=0,12<=$e[0]&&!r(B,at[0],"RIFF")){if(r(B,at[0]+8,"WEBP")){Te=3;break e}var Le=Me(B,at[0]+4);if(12>Le||4294967286<Le){Te=3;break e}if(Ve&&Le>$e[0]-8){Te=7;break e}Te[0]=Le,at[0]+=12,$e[0]-=12}Te=0}if(Te!=0)return Te;for(Le=0<Oe.gb[0],D=D[0];;){e:{var tt=B;$e=j,Te=D;var ct=xe,nt=je,It=at=[0];if((bt=He=[He])[0]=0,8>Te[0])Te=7;else{if(!r(tt,$e[0],"VP8X")){if(Me(tt,$e[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var vt=Me(tt,$e[0]+8),qt=1+Pe(tt,$e[0]+12);if(2147483648<=qt*(tt=1+Pe(tt,$e[0]+15))){Te=3;break e}It!=null&&(It[0]=vt),ct!=null&&(ct[0]=qt),nt!=null&&(nt[0]=tt),$e[0]+=18,Te[0]-=18,bt[0]=1}Te=0}}if(He=He[0],at=at[0],Te!=0)return Te;if($e=!!(2&at),!Le&&He)return 3;if(oe!=null&&(oe[0]=!!(16&at)),ue!=null&&(ue[0]=$e),de!=null&&(de[0]=0),ue=xe[0],at=je[0],He&&$e&&he==null){Te=0;break}if(4>D){Te=7;break}if(Le&&He||!Le&&!He&&!r(B,j[0],"ALPH")){D=[D],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{vt=B,Te=j,Le=D;var bt=Oe.gb;ct=Oe.na,nt=Oe.P,It=Oe.Sa,qt=22,t(vt!=null),t(Le!=null),tt=Te[0];var Yr=Le[0];for(t(ct!=null),t(It!=null),ct[0]=null,nt[0]=null,It[0]=0;;){if(Te[0]=tt,Le[0]=Yr,8>Yr){Te=7;break e}var ln=Me(vt,tt+4);if(4294967286<ln){Te=3;break e}var Wr=8+ln+1&-2;if(qt+=Wr,0<bt&&qt>bt){Te=3;break e}if(!r(vt,tt,"VP8 ")||!r(vt,tt,"VP8L")){Te=0;break e}if(Yr[0]<Wr){Te=7;break e}r(vt,tt,"ALPH")||(ct[0]=vt,nt[0]=tt+8,It[0]=ln),tt+=Wr,Yr-=Wr}}if(D=D[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Te!=0)break}D=[D],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(bt=B,Te=j,Le=D,ct=Oe.gb[0],nt=Oe.Ja,It=Oe.xa,vt=Te[0],tt=!r(bt,vt,"VP8 "),qt=!r(bt,vt,"VP8L"),t(bt!=null),t(Le!=null),t(nt!=null),t(It!=null),8>Le[0])Te=7;else{if(tt||qt){if(bt=Me(bt,vt+4),12<=ct&&bt>ct-12){Te=3;break e}if(Ve&&bt>Le[0]-8){Te=7;break e}nt[0]=bt,Te[0]+=8,Le[0]-=8,It[0]=qt}else It[0]=5<=Le[0]&&bt[vt+0]==47&&!(bt[vt+4]>>5),nt[0]=Le[0];Te=0}if(D=D[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],j=j[0],Te!=0)break;if(4294967286<Oe.Ja)return 3;if(de==null||$e||(de[0]=Oe.xa?2:1),ue=[ue],at=[at],Oe.xa){if(5>D){Te=7;break}de=ue,Ve=at,$e=oe,B==null||5>D?B=0:5<=D&&B[j+0]==47&&!(B[j+4]>>5)?(Le=[0],bt=[0],ct=[0],Y(nt=new H,B,j,D),Ft(nt,Le,bt,ct)?(de!=null&&(de[0]=Le[0]),Ve!=null&&(Ve[0]=bt[0]),$e!=null&&($e[0]=ct[0]),B=1):B=0):B=0}else{if(10>D){Te=7;break}de=at,B==null||10>D||!fA(B,j+3,D-3)?B=0:(Ve=B[j+0]|B[j+1]<<8|B[j+2]<<16,$e=16383&(B[j+7]<<8|B[j+6]),B=16383&(B[j+9]<<8|B[j+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=Oe.Ja||!$e||!B?B=0:(ue&&(ue[0]=$e),de&&(de[0]=B),B=1))}if(!B||(ue=ue[0],at=at[0],He&&(xe[0]!=ue||je[0]!=at)))return 3;he!=null&&(he[0]=Oe,he.offset=j-he.w,t(4294967286>j-he.w),t(he.offset==he.ha-D));break}return Te==0||Te==7&&He&&he==null?(oe!=null&&(oe[0]|=Oe.na!=null&&0<Oe.na.length),G!=null&&(G[0]=ue),ne!=null&&(ne[0]=at),0):Te}function pc(B,j,D){var G=j.width,ne=j.height,oe=0,ue=0,de=G,he=ne;if(j.Da=B!=null&&0<B.Da,j.Da&&(de=B.cd,he=B.bd,oe=B.v,ue=B.j,11>D||(oe&=-2,ue&=-2),0>oe||0>ue||0>=de||0>=he||oe+de>G||ue+he>ne))return 0;if(j.v=oe,j.j=ue,j.va=oe+de,j.o=ue+he,j.U=de,j.T=he,j.da=B!=null&&0<B.da,j.da){if(!pt(de,he,D=[B.ib],oe=[B.hb]))return 0;j.ib=D[0],j.hb=oe[0]}return j.ob=B!=null&&B.ob,j.Kb=B==null||!B.Sd,j.da&&(j.ob=j.ib<3*G/4&&j.hb<3*ne/4,j.Kb=0),1}function fd(B){if(B==null)return 2;if(11>B.S){var j=B.f.RGBA;j.fb+=(B.height-1)*j.A,j.A=-j.A}else j=B.f.kb,B=B.height,j.O+=(B-1)*j.fa,j.fa=-j.fa,j.N+=(B-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(B-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(B-1)*j.lb,j.lb=-j.lb);return 0}function gc(B,j,D,G){if(G==null||0>=B||0>=j)return 2;if(D!=null){if(D.Da){var ne=D.cd,oe=D.bd,ue=-2&D.v,de=-2&D.j;if(0>ue||0>de||0>=ne||0>=oe||ue+ne>B||de+oe>j)return 2;B=ne,j=oe}if(D.da){if(!pt(B,j,ne=[D.ib],oe=[D.hb]))return 2;B=ne[0],j=oe[0]}}G.width=B,G.height=j;e:{var he=G.width,xe=G.height;if(B=G.S,0>=he||0>=xe||!(B>=Fg&&13>B))B=2;else{if(0>=G.Rd&&G.sd==null){ue=oe=ne=j=0;var je=(de=he*bS[B])*xe;if(11>B||(oe=(xe+1)/2*(j=(he+1)/2),B==12&&(ue=(ne=he)*xe)),(xe=a(je+2*oe+ue))==null){B=1;break e}G.sd=xe,11>B?((he=G.f.RGBA).eb=xe,he.fb=0,he.A=de,he.size=je):((he=G.f.kb).y=xe,he.O=0,he.fa=de,he.Fd=je,he.f=xe,he.N=0+je,he.Ab=j,he.Cd=oe,he.ea=xe,he.W=0+je+oe,he.Db=j,he.Ed=oe,B==12&&(he.F=xe,he.J=0+je+2*oe),he.Tc=ue,he.lb=ne)}if(j=1,ne=G.S,oe=G.width,ue=G.height,ne>=Fg&&13>ne)if(11>ne)B=G.f.RGBA,j&=(de=Math.abs(B.A))*(ue-1)+oe<=B.size,j&=de>=oe*bS[ne],j&=B.eb!=null;else{B=G.f.kb,de=(oe+1)/2,je=(ue+1)/2,he=Math.abs(B.fa),xe=Math.abs(B.Ab);var He=Math.abs(B.Db),Ve=Math.abs(B.lb),Oe=Ve*(ue-1)+oe;j&=he*(ue-1)+oe<=B.Fd,j&=xe*(je-1)+de<=B.Cd,j=(j&=He*(je-1)+de<=B.Ed)&he>=oe&xe>=de&He>=de,j&=B.y!=null,j&=B.f!=null,j&=B.ea!=null,ne==12&&(j&=Ve>=oe,j&=Oe<=B.Tc,j&=B.F!=null)}else j=0;B=j?0:2}}return B!=0||D!=null&&D.fd&&(B=fd(G)),B}var mn=64,bA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Cl=24,uo=32,Nr=8,Ks=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ht("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(B){return B},R.Predictor2=function(B,j,D){return j[D+0]},R.Predictor3=function(B,j,D){return j[D+1]},R.Predictor4=function(B,j,D){return j[D-1]},R.Predictor5=function(B,j,D){return ft(ft(B,j[D+1]),j[D+0])},R.Predictor6=function(B,j,D){return ft(B,j[D-1])},R.Predictor7=function(B,j,D){return ft(B,j[D+0])},R.Predictor8=function(B,j,D){return ft(j[D-1],j[D+0])},R.Predictor9=function(B,j,D){return ft(j[D+0],j[D+1])},R.Predictor10=function(B,j,D){return ft(ft(B,j[D-1]),ft(j[D+0],j[D+1]))},R.Predictor11=function(B,j,D){var G=j[D+0];return 0>=Nt(G>>24&255,B>>24&255,(j=j[D-1])>>24&255)+Nt(G>>16&255,B>>16&255,j>>16&255)+Nt(G>>8&255,B>>8&255,j>>8&255)+Nt(255&G,255&B,255&j)?G:B},R.Predictor12=function(B,j,D){var G=j[D+0];return(yt((B>>24&255)+(G>>24&255)-((j=j[D-1])>>24&255))<<24|yt((B>>16&255)+(G>>16&255)-(j>>16&255))<<16|yt((B>>8&255)+(G>>8&255)-(j>>8&255))<<8|yt((255&B)+(255&G)-(255&j)))>>>0},R.Predictor13=function(B,j,D){var G=j[D-1];return(et((B=ft(B,j[D+0]))>>24&255,G>>24&255)<<24|et(B>>16&255,G>>16&255)<<16|et(B>>8&255,G>>8&255)<<8|et(B>>0&255,G>>0&255))>>>0};var re=R.PredictorAdd0;R.PredictorAdd1=wt,ht("Predictor2","PredictorAdd2"),ht("Predictor3","PredictorAdd3"),ht("Predictor4","PredictorAdd4"),ht("Predictor5","PredictorAdd5"),ht("Predictor6","PredictorAdd6"),ht("Predictor7","PredictorAdd7"),ht("Predictor8","PredictorAdd8"),ht("Predictor9","PredictorAdd9"),ht("Predictor10","PredictorAdd10"),ht("Predictor11","PredictorAdd11"),ht("Predictor12","PredictorAdd12"),ht("Predictor13","PredictorAdd13");var c=R.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(B){return B>>8&255},function(B){return B}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(B){return B},function(B){return B>>8&255});var u,h=R.ColorIndexInverseTransform,p=R.MapARGB,x=R.VP8LColorIndexInverseTransformAlpha,w=R.MapAlpha,E=R.VP8LPredictorsAdd=[];E.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var T,P,z,te,Ae,ge,Be,Se,ke,We,ot,ut,lt,wr,ar,ds,Gs,ns,_r,Xn,Es,Xa,ho,gi,xi,In,jn,Fs,Ws=a(511),xc=a(2041),M0=a(225),Lh=a(767),Sg=0,R2=xc,Eg=M0,Hi=Lh,fo=Ws,Fg=0,Ig=1,AS=2,jg=3,Tg=4,D2=5,uS=6,_2=7,M2=8,Lg=9,U2=10,dQ=[2,3,7],hQ=[3,3,11],dS=[280,256,256,256,40],fQ=[0,1,1,1,0],mQ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],pQ=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],gQ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xQ=8,Q2=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],H2=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],U0=null,yQ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wQ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],hS=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],vQ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bQ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],CQ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],BQ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],CA=[],Uo=[],yc=[],NQ=1,fS=2,BA=[],mo=[];Xe("UpsampleRgbLinePair",Ir,3),Xe("UpsampleBgrLinePair",Mn,3),Xe("UpsampleRgbaLinePair",Qi,4),Xe("UpsampleBgraLinePair",qn,4),Xe("UpsampleArgbLinePair",ta,4),Xe("UpsampleRgba4444LinePair",$n,2),Xe("UpsampleRgb565LinePair",on,2);var SQ=R.UpsampleRgbLinePair,EQ=R.UpsampleBgrLinePair,mS=R.UpsampleRgbaLinePair,pS=R.UpsampleBgraLinePair,gS=R.UpsampleArgbLinePair,xS=R.UpsampleRgba4444LinePair,FQ=R.UpsampleRgb565LinePair,kg=16,Pg=1<<kg-1,Q0=-227,V2=482,yS=6,IQ=(256<<yS)-1,wS=0,jQ=a(256),TQ=a(256),LQ=a(256),kQ=a(256),PQ=a(V2-Q0),OQ=a(V2-Q0);qa("YuvToRgbRow",Ir,3),qa("YuvToBgrRow",Mn,3),qa("YuvToRgbaRow",Qi,4),qa("YuvToBgraRow",qn,4),qa("YuvToArgbRow",ta,4),qa("YuvToRgba4444Row",$n,2),qa("YuvToRgb565Row",on,2);var vS=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Og=[0,2,8],RQ=[8,7,6,4,4,2,2,2,1,1,1,1],DQ=1;this.WebPDecodeRGBA=function(B,j,D,G,ne){var oe=Ig,ue=new xA,de=new ur;ue.ba=de,de.S=oe,de.width=[de.width],de.height=[de.height];var he=de.width,xe=de.height,je=new vs;if(je==null||B==null)var He=2;else t(je!=null),He=vA(B,j,D,je.width,je.height,je.Pd,je.Qd,je.format,null);if(He!=0?he=0:(he!=null&&(he[0]=je.width[0]),xe!=null&&(xe[0]=je.height[0]),he=1),he){de.width=de.width[0],de.height=de.height[0],G!=null&&(G[0]=de.width),ne!=null&&(ne[0]=de.height);e:{if(G=new pr,(ne=new dd).data=B,ne.w=j,ne.ha=D,ne.kd=1,j=[0],t(ne!=null),((B=vA(ne.data,ne.w,ne.ha,null,null,null,j,null,ne))==0||B==7)&&j[0]&&(B=4),(j=B)==0){if(t(ue!=null),G.data=ne.data,G.w=ne.w+ne.offset,G.ha=ne.ha-ne.offset,G.put=an,G.ac=Qt,G.bc=yn,G.ma=ue,ne.xa){if((B=ca())==null){ue=1;break e}if(function(Ve,Oe){var at=[0],$e=[0],Te=[0];t:for(;;){if(Ve==null)return 0;if(Oe==null)return Ve.a=2,0;if(Ve.l=Oe,Ve.a=0,Y(Ve.m,Oe.data,Oe.w,Oe.ha),!Ft(Ve.m,at,$e,Te)){Ve.a=3;break t}if(Ve.xb=fS,Oe.width=at[0],Oe.height=$e[0],!Cs(at[0],$e[0],1,Ve,null))break t;return 1}return t(Ve.a!=0),0}(B,G)){if(G=(j=gc(G.width,G.height,ue.Oa,ue.ba))==0){t:{G=B;r:for(;;){if(G==null){G=0;break t}if(t(G.s.yc!=null),t(G.s.Ya!=null),t(0<G.s.Wb),t((D=G.l)!=null),t((ne=D.ma)!=null),G.xb!=0){if(G.ca=ne.ba,G.tb=ne.tb,t(G.ca!=null),!pc(ne.Oa,D,jg)){G.a=2;break r}if(!dc(G,D.width)||D.da)break r;if((D.da||Er(G.ca.S))&&De(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&De()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!Je(G.s.vb,G.s.Wa.Xa)){G.a=1;break r}G.xb=0}if(!ea(G,G.V,G.Ba,G.c,G.i,D.o,Bt))break r;ne.Dc=G.Ma,G=1;break t}t(G.a!=0),G=0}G=!G}G&&(j=B.a)}else j=B.a}else{if((B=new ed)==null){ue=1;break e}if(B.Fa=ne.na,B.P=ne.P,B.qc=ne.Sa,Wn(B,G)){if((j=gc(G.width,G.height,ue.Oa,ue.ba))==0){if(B.Aa=0,D=ue.Oa,t((ne=B)!=null),D!=null){if(0<(he=0>(he=D.Md)?0:100<he?255:255*he/100)){for(xe=je=0;4>xe;++xe)12>(He=ne.pb[xe]).lc&&(He.ia=he*RQ[0>He.lc?0:He.lc]>>3),je|=He.ia;je&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=D.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}_n(B,G)||(j=B.a)}}else j=B.a}j==0&&ue.Oa!=null&&ue.Oa.fd&&(j=fd(ue.ba))}ue=j}oe=ue!=0?null:11>oe?de.f.RGBA.eb:de.f.kb.y}else oe=null;return oe};var bS=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,_){for(var J="",U=0;U<4;U++)J+=String.fromCharCode(R[_++]);return J}function f(R,_){return(R[_+0]<<0|R[_+1]<<8|R[_+2]<<16)>>>0}function m(R,_){return(R[_+0]<<0|R[_+1]<<8|R[_+2]<<16|R[_+3]<<24)>>>0}new A;var y=[0],g=[0],b=[],C=new A,F=e,v=function(R,_){var J={},U=0,Q=!1,X=0,Z=0;if(J.frames=[],!function(ee,ie,le,ce){for(var me=0;me<ce;me++)if(ee[ie+me]!=le.charCodeAt(me))return!0;return!1}(R,_,"RIFF",4)){for(m(R,_+=4),_+=8;_<R.length;){var $=d(R,_),q=m(R,_+=4);_+=4;var W=q+(1&q);switch($){case"VP8 ":case"VP8L":J.frames[U]===void 0&&(J.frames[U]={}),(ae=J.frames[U]).src_off=Q?Z:_-8,ae.src_size=X+q+8,U++,Q&&(Q=!1,X=0,Z=0);break;case"VP8X":(ae=J.header={}).feature_flags=R[_];var Y=_+4;ae.canvas_width=1+f(R,Y),Y+=3,ae.canvas_height=1+f(R,Y),Y+=3;break;case"ALPH":Q=!0,X=W+8,Z=_-8;break;case"ANIM":(ae=J.header).bgcolor=m(R,_),Y=_+4,ae.loop_count=(be=R)[(H=Y)+0]<<0|be[H+1]<<8,Y+=2;break;case"ANMF":var K,ae;(ae=J.frames[U]={}).offset_x=2*f(R,_),_+=3,ae.offset_y=2*f(R,_),_+=3,ae.width=1+f(R,_),_+=3,ae.height=1+f(R,_),_+=3,ae.duration=f(R,_),_+=3,K=R[_++],ae.dispose=1&K,ae.blend=K>>1&1}$!="ANMF"&&(_+=W)}var be,H;return J}}(F,0);v.response=F,v.rgbaoutput=!0,v.dataurl=!1;var S=v.header?v.header:null,I=v.frames?v.frames:null;if(S){S.loop_counter=S.loop_count,y=[S.canvas_height],g=[S.canvas_width];for(var k=0;k<I.length&&I[k].blend!=0;k++);}var M=I[0],V=C.WebPDecodeRGBA(F,M.src_off,M.src_size,g,y);M.rgba=V,M.imgwidth=g[0],M.imgheight=y[0];for(var O=0;O<g[0]*y[0]*4;O++)b[O]=V[O];return this.width=g,this.height=y,this.data=b,this}(function(e){var t=function(){return typeof z5=="function"},r=function(y,g,b,C){var F=4,v=o;switch(C){case e.image_compression.FAST:F=1,v=a;break;case e.image_compression.MEDIUM:F=6,v=l;break;case e.image_compression.SLOW:F=9,v=A}y=n(y,g,b,v);var S=z5(y,{level:F});return e.__addimage__.arrayBufferToBinaryString(S)},n=function(y,g,b,C){for(var F,v,S,I=y.length/g,k=new Uint8Array(y.length+I),M=f(),V=0;V<I;V+=1){if(S=V*g,F=y.subarray(S,S+g),C)k.set(C(F,b,v),S+V);else{for(var O,R=M.length,_=[];O<R;O+=1)_[O]=M[O](F,b,v);var J=m(_.concat());k.set(_[J],S+V)}v=F}return k},s=function(y){var g=Array.apply([],y);return g.unshift(0),g},a=function(y,g){var b,C=[],F=y.length;C[0]=1;for(var v=0;v<F;v+=1)b=y[v-g]||0,C[v+1]=y[v]-b+256&255;return C},o=function(y,g,b){var C,F=[],v=y.length;F[0]=2;for(var S=0;S<v;S+=1)C=b&&b[S]||0,F[S+1]=y[S]-C+256&255;return F},l=function(y,g,b){var C,F,v=[],S=y.length;v[0]=3;for(var I=0;I<S;I+=1)C=y[I-g]||0,F=b&&b[I]||0,v[I+1]=y[I]+256-(C+F>>>1)&255;return v},A=function(y,g,b){var C,F,v,S,I=[],k=y.length;I[0]=4;for(var M=0;M<k;M+=1)C=y[M-g]||0,F=b&&b[M]||0,v=b&&b[M-g]||0,S=d(C,F,v),I[M+1]=y[M]-S+256&255;return I},d=function(y,g,b){if(y===g&&g===b)return y;var C=Math.abs(g-b),F=Math.abs(y-b),v=Math.abs(y+g-b-b);return C<=F&&C<=v?y:F<=v?g:b},f=function(){return[s,a,o,l,A]},m=function(y){var g=y.map(function(b){return b.reduce(function(C,F){return C+Math.abs(F)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(y,g,b,C){var F,v,S,I,k,M,V,O,R,_,J,U,Q,X,Z,$=this.decode.FLATE_DECODE,q="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(S=new gre(y)).imgData,v=S.bits,F=S.colorSpace,k=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){R=(O=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,J=new Uint8Array(R*S.colors),_=new Uint8Array(R);var W,Y=S.pixelBitlength-S.bits;for(X=0,Z=0;X<R;X++){for(Q=O[X],W=0;W<Y;)J[Z++]=Q>>>W&255,W+=S.bits;_[X]=Q>>>W&255}}if(S.bits===16){R=(O=new Uint32Array(S.decodePixels().buffer)).length,J=new Uint8Array(R*(32/S.pixelBitlength)*S.colors),_=new Uint8Array(R*(32/S.pixelBitlength)),U=S.colors>1,X=0,Z=0;for(var K=0;X<R;)Q=O[X++],J[Z++]=Q>>>0&255,U&&(J[Z++]=Q>>>16&255,Q=O[X++],J[Z++]=Q>>>0&255),_[K++]=Q>>>16&255;v=8}C!==e.image_compression.NONE&&t()?(y=r(J,S.width*S.colors,S.colors,C),V=r(_,S.width,1,C)):(y=J,V=_,$=void 0)}if(S.colorType===3&&(F=this.color_spaces.INDEXED,M=S.palette,S.transparency.indexed)){var ae=S.transparency.indexed,be=0;for(X=0,R=ae.length;X<R;++X)be+=ae[X];if((be/=255)===R-1&&ae.indexOf(0)!==-1)I=[ae.indexOf(0)];else if(be!==R){for(O=S.decodePixels(),_=new Uint8Array(O.length),X=0,R=O.length;X<R;X++)_[X]=ae[O[X]];V=r(_,S.width,1)}}var H=function(ee){var ie;switch(ee){case e.image_compression.FAST:ie=11;break;case e.image_compression.MEDIUM:ie=13;break;case e.image_compression.SLOW:ie=14;break;default:ie=12}return ie}(C);return $===this.decode.FLATE_DECODE&&(q="/Predictor "+H+" "),q+="/Colors "+k+" /BitsPerComponent "+v+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:b,data:y,index:g,filter:$,decodeParameters:q,transparency:I,palette:M,sMask:V,predictor:H,width:S.width,height:S.height,bitsPerComponent:v,colorSpace:F}}}})(rr.API),function(e){e.processGIF89A=function(t,r,n,s){var a=new xre(t),o=a.width,l=a.height,A=[];a.decodeAndBlitFrameRGBA(0,A);var d={data:A,width:o,height:l},f=new Zv(100).encode(d,100);return e.processJPEG.call(this,f,r,n,s)},e.processGIF87A=e.processGIF89A}(rr.API),Go.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Go.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){bn.log("bit decode error:"+r)}},Go.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var A=this.palette[a>>7-l&1];this.data[o+4*l]=A.blue,this.data[o+4*l+1]=A.green,this.data[o+4*l+2]=A.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Go.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=a>>4,A=15&a,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*s+1>=this.width)break;d=this.palette[A],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Go.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Go.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,A=(a>>10&t)/t*255|0,d=a>>15?255:0,f=n*this.width*4+4*s;this.data[f]=A,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=d}this.pos+=e}},Go.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,A=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,f=s*this.width*4+4*a;this.data[f]=d,this.data[f+1]=A,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},Go.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Go.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=a,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},Go.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var a=new Go(t,!1),o=a.width,l=a.height,A={data:a.getData(),width:o,height:l},d=new Zv(100).encode(A,100);return e.processJPEG.call(this,d,r,n,s)}}(rr.API),HF.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var a=new HF(t),o=a.width,l=a.height,A={data:a.getData(),width:o,height:l},d=new Zv(100).encode(A,100);return e.processJPEG.call(this,d,r,n,s)}}(rr.API),rr.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,a=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,A=0,d=0;d<s;d+=4){var f=n[d],m=n[d+1],y=n[d+2],g=n[d+3];a[l++]=f,a[l++]=m,a[l++]=y,o[A++]=g}var b=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},rr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Uh=rr.API,b1=Uh.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,A=l.fof?l.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,m=t.doKerning!==!1,y=0,g=e.length,b=0,C=l[0]||A,F=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?F.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(y=m&&Vr(d[n])==="object"&&!isNaN(parseInt(d[n][b],10))?d[n][b]/f:0,F.push((l[n]||C)/A+y)),b=n;return F},_F=Uh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Uh.processArabic&&(e=Uh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:b1.apply(this,arguments).reduce(function(a,o){return a+o},0)},MF=function(e,t,r,n){for(var s=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<r;)l+=t[a],a++;s.push(e.slice(0,a));var A=a;for(l=0;a!==o;)l+t[a]>n&&(s.push(e.slice(A,a)),l=0,A=a),l+=t[a],a++;return A!==a&&s.push(e.slice(A,a)),s},UF=function(e,t,r){r||(r={});var n,s,a,o,l,A,d,f=[],m=[f],y=r.textIndent||0,g=0,b=0,C=e.split(" "),F=b1.apply(this,[" ",r])[0];if(A=r.lineIndent===-1?C[0].length+2:r.lineIndent||0){var v=Array(A).join(" "),S=[];C.map(function(k){(k=k.split(/\s*\n/)).length>1?S=S.concat(k.map(function(M,V){return(V&&M.length?`
`:"")+M})):S.push(k[0])}),C=S,A=_F.apply(this,[v,r])}for(a=0,o=C.length;a<o;a++){var I=0;if(n=C[a],A&&n[0]==`
`&&(n=n.substr(1),I=1),y+g+(b=(s=b1.apply(this,[n,r])).reduce(function(k,M){return k+M},0))>t||I){if(b>t){for(l=MF.apply(this,[n,s,t-(y+g),t]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);b=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(k,M){return k+M},0)}else f=[n];m.push(f),y=b+A,g=F}else f.push(n),y+=g+b,g=F}return d=A?function(k,M){return(M?v:"")+k.join(" ")}:function(k){return k.join(" ")},m.map(d)},Uh.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=r.lineIndent;var l,A,d=[];for(l=0,A=n.length;l<A;l++)d=d.concat(UF.apply(this,[n[l],o,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var a=function(m){return"0x"+parseInt(m,10).toString(16)},o=e.__fontmetrics__.compress=function(m){var y,g,b,C,F=["{"];for(var v in m){if(y=m[v],isNaN(parseInt(v,10))?g="'"+v+"'":(v=parseInt(v,10),g=(g=a(v).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof y=="number")y<0?(b=a(y).slice(3),C="-"):(b=a(y).slice(2),C=""),b=C+b.slice(0,-1)+n[b.slice(-1)];else{if(Vr(y)!=="object")throw new Error("Don't know what to do with value type "+Vr(y)+".");b=o(y)}F.push(g+b)}return F.push("}"),F.join("")},l=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,g,b,C,F={},v=1,S=F,I=[],k="",M="",V=m.length-1,O=1;O<V;O+=1)(C=m[O])=="'"?y?(b=y.join(""),y=void 0):y=[]:y?y.push(C):C=="{"?(I.push([S,b]),S={},b=void 0):C=="}"?((g=I.pop())[0][g[1]]=S,b=void 0,S=g[0]):C=="-"?v=-1:b===void 0?r.hasOwnProperty(C)?(k+=r[C],b=parseInt(k,16)*v,v=1,k=""):k+=C:r.hasOwnProperty(C)?(M+=r[C],S[b]=parseInt(M,16)*v,v=1,b=void 0,M=""):M+=C;return F},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var y=m.font,g=f.Unicode[y.postScriptName];g&&(y.metadata.Unicode={},y.metadata.Unicode.widths=g.widths,y.metadata.Unicode.kerning=g.kerning);var b=d.Unicode[y.postScriptName];b&&(y.metadata.Unicode.encoding=b,y.encoding=b.codePages[0])}])}(rr.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),a=0;a<n;a++)s[a]=r.charCodeAt(a);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,a=r.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(zm(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(rr),function(e){function t(){return(sr.canvg?Promise.resolve(sr.canvg):H5(()=>import("./index.es-BNHvsiX-.js"),[],import.meta.url)).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}rr.API.addSvgAsImage=function(r,n,s,a,o,l,A,d){if(isNaN(n)||isNaN(s))throw bn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw bn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=o;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(b){return b.fromString(m,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(y)}).then(function(){g.addImage(f.toDataURL("image/jpeg",1),n,s,a,o,A,d)})}}(),rr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},rr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),A=[],d=0,f=0,m=0;function y(b,C){var F,v=!1;for(F=0;F<b.length;F+=1)b[F]===C&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=l.length;for(m=0;m<g;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Vr(e)==="object"){for(s in e)if(a=e[s],y(l,s)&&a!==void 0){if(r[s].type==="boolean"&&typeof a=="boolean")r[s].value=a;else if(r[s].type==="name"&&y(r[s].valueSet,a))r[s].value=a;else if(r[s].type==="integer"&&Number.isInteger(a))r[s].value=a;else if(r[s].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")A.push(String(a[d]-1));else if(a[d].length>1){for(f=0;f<a[d].length;f+=1)typeof a[d][f]!="number"&&(n=!1);n===!0&&A.push([a[d][0]-1,a[d][1]-1].join(" "))}r[s].value="["+A.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,C=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?C.push("/"+b+" /"+r[b].value):C.push("/"+b+" "+r[b].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+o.length+l.length+s.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+a+o+l+A),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(rr.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var l,A=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],m=0,y=a.length;m<y;++m){if(l=o.metadata.characterToGlyph(a.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(m),A.indexOf(l)==-1&&(A.push(l),A.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},n=function(a){var o,l,A,d,f,m,y;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],m=0,y=(l=Object.keys(a).sort(function(g,b){return g-b})).length;m<y;m++)o=l[m],A.length>=100&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(d=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+d+">"));return A.length&&(f+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",b=0;b<y.length;b++)g+=String.fromCharCode(y[b]);var C=d();f({data:g,addLength1:!0,objectId:C}),A("endobj");var F=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:F}),A("endobj");var v=d();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+Zh(l.fontName)),A("/FontFile2 "+C+" 0 R"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/Flags "+l.metadata.flags),A("/StemV "+l.metadata.stemV),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A(">>"),A("endobj");var S=d();A("<<"),A("/Type /Font"),A("/BaseFont /"+Zh(l.fontName)),A("/FontDescriptor "+v+" 0 R"),A("/W "+e.API.PDFObject.convert(m)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+l.encoding+")"),A(">>"),A(">>"),A("endobj"),l.objectNumber=d(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+F+" 0 R"),A("/BaseFont /"+Zh(l.fontName)),A("/Encoding /"+l.encoding),A("/DescendantFonts ["+S+" 0 R]"),A(">>"),A("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,A=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,y="",g=0;g<m.length;g++)y+=String.fromCharCode(m[g]);var b=d();f({data:y,addLength1:!0,objectId:b}),A("endobj");var C=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:C}),A("endobj");var F=d();A("<<"),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A("/StemV "+l.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+b+" 0 R"),A("/Flags 96"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/FontName /"+Zh(l.fontName)),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A(">>"),A("endobj"),l.objectNumber=d();for(var v=0;v<l.metadata.hmtx.widths.length;v++)l.metadata.hmtx.widths[v]=parseInt(l.metadata.hmtx.widths[v]*(1e3/l.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+Zh(l.fontName)+"/FontDescriptor "+F+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),A("endobj"),l.isAlreadyPutted=!0}})(a)}]);var s=function(a){var o,l=a.text||"",A=a.x,d=a.y,f=a.options||{},m=a.mutex||{},y=m.pdfEscape,g=m.activeFontKey,b=m.fonts,C=g,F="",v=0,S="",I=b[C].encoding;if(b[C].encoding!=="Identity-H")return{text:l,x:A,y:d,options:f,mutex:m};for(S=l,C=g,Array.isArray(l)&&(S=l[0]),v=0;v<S.length;v+=1)b[C].metadata.hasOwnProperty("cmap")&&(o=b[C].metadata.cmap.unicode.codeMap[S[v].charCodeAt(0)]),o||S[v].charCodeAt(0)<256&&b[C].metadata.hasOwnProperty("Unicode")?F+=S[v]:F+="";var k="";return parseInt(C.slice(1))<14||I==="WinAnsiEncoding"?k=y(F,C).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(k=r(F,b[C])),m.isHex=!0,{text:k,x:A,y:d,options:f,mutex:m}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],A={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([s(Object.assign({},A,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(s(Object.assign({},A,{text:o[d]})).text);a.text=l}else a.text=s(Object.assign({},A,{text:o})).text}])}(rr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(rr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,a,o,l,A,d,f,m=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},F=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,I=0;this.__bidiEngine__={};var k=function(U){var Q=U.charCodeAt(),X=Q>>8,Z=C[X];return Z!==void 0?m[256*Z+(255&Q)]:X===252||X===253?"AL":v.test(X)?"L":X===8?"R":"N"},M=function(U){for(var Q,X=0;X<U.length;X++){if((Q=k(U.charAt(X)))==="L")return!1;if(Q==="R")return!0}return!1},V=function(U,Q,X,Z){var $,q,W,Y,K=Q[Z];switch(K){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(K="AN");break;case"AL":S=!0,K="R";break;case"WS":K="N";break;case"CS":Z<1||Z+1>=Q.length||($=X[Z-1])!=="EN"&&$!=="AN"||(q=Q[Z+1])!=="EN"&&q!=="AN"?K="N":S&&(q="AN"),K=q===$?q:"N";break;case"ES":K=($=Z>0?X[Z-1]:"B")==="EN"&&Z+1<Q.length&&Q[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&X[Z-1]==="EN"){K="EN";break}if(S){K="N";break}for(W=Z+1,Y=Q.length;W<Y&&Q[W]==="ET";)W++;K=W<Y&&Q[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(Y=Q.length,W=Z+1;W<Y&&Q[W]==="NSM";)W++;if(W<Y){var ae=U[Z],be=ae>=1425&&ae<=2303||ae===64286;if($=Q[W],be&&($==="R"||$==="AL")){K="R";break}}}K=Z<1||($=Q[Z-1])==="B"?"N":X[Z-1];break;case"B":S=!1,s=!0,K=I;break;case"S":a=!0,K="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":K="N"}return K},O=function(U,Q,X){var Z=U.split("");return X&&R(Z,X,{hiLevel:I}),Z.reverse(),Q&&Q.reverse(),Z.join("")},R=function(U,Q,X){var Z,$,q,W,Y,K=-1,ae=U.length,be=0,H=[],ee=I?g:y,ie=[];for(S=!1,s=!1,a=!1,$=0;$<ae;$++)ie[$]=k(U[$]);for(q=0;q<ae;q++){if(Y=be,H[q]=V(U,ie,H,q),Z=240&(be=ee[Y][b[H[q]]]),be&=15,Q[q]=W=ee[be][5],Z>0)if(Z===16){for($=K;$<q;$++)Q[$]=1;K=-1}else K=-1;if(ee[be][6])K===-1&&(K=q);else if(K>-1){for($=K;$<q;$++)Q[$]=W;K=-1}ie[q]==="B"&&(Q[q]=0),X.hiLevel|=W}a&&function(le,ce,me){for(var we=0;we<me;we++)if(le[we]==="S"){ce[we]=I;for(var Ie=we-1;Ie>=0&&le[Ie]==="WS";Ie--)ce[Ie]=I}}(ie,Q,ae)},_=function(U,Q,X,Z,$){if(!($.hiLevel<U)){if(U===1&&I===1&&!s)return Q.reverse(),void(X&&X.reverse());for(var q,W,Y,K,ae=Q.length,be=0;be<ae;){if(Z[be]>=U){for(Y=be+1;Y<ae&&Z[Y]>=U;)Y++;for(K=be,W=Y-1;K<W;K++,W--)q=Q[K],Q[K]=Q[W],Q[W]=q,X&&(q=X[K],X[K]=X[W],X[W]=q);be=Y}be++}}},J=function(U,Q,X){var Z=U.split(""),$={hiLevel:I};return X||(X=[]),R(Z,X,$),function(q,W,Y){if(Y.hiLevel!==0&&f)for(var K,ae=0;ae<q.length;ae++)W[ae]===1&&(K=F.indexOf(q[ae]))>=0&&(q[ae]=F[K+1])}(Z,X,$),_(2,Z,Q,X,$),_(1,Z,Q,X,$),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(U,Q,X){if(function($,q){if(q)for(var W=0;W<$.length;W++)q[W]=W;l===void 0&&(l=M($)),d===void 0&&(d=M($))}(U,Q),o||!A||d)if(o&&A&&l^d)I=l?1:0,U=O(U,Q,X);else if(!o&&A&&d)I=l?1:0,U=J(U,Q,X),U=O(U,Q);else if(!o||l||A||d){if(o&&!A&&l^d)U=O(U,Q),l?(I=0,U=J(U,Q,X)):(I=1,U=J(U,Q,X),U=O(U,Q));else if(o&&l&&!A&&d)I=1,U=J(U,Q,X),U=O(U,Q);else if(!o&&!A&&l^d){var Z=f;l?(I=1,U=J(U,Q,X),I=0,f=!1,U=J(U,Q,X),f=Z):(I=0,U=J(U,Q,X),U=O(U,Q),I=1,f=!1,U=J(U,Q,X),f=Z,U=O(U,Q))}}else I=0,U=J(U,Q,X);else I=l?1:0,U=J(U,Q,X);return U},this.__bidiEngine__.setOptions=function(U){U&&(o=U.isInputVisual,A=U.isOutputVisual,l=U.isInputRtl,d=U.isOutputRtl,f=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(rr),rr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Mu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new kre(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new yre(this.contents),this.head=new vre(this),this.name=new Sre(this),this.cmap=new HO(this),this.toUnicode={},this.hhea=new bre(this),this.maxp=new Ere(this),this.hmtx=new Fre(this),this.post=new Bre(this),this.os2=new Cre(this),this.loca=new Lre(this),this.glyf=new Ire(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,A,d;for(d=[],o=0,l=(A=this.bbox).length;o<l;o++)t=A[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)s=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ml,Mu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,a,o,l,A;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),A=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^A)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*a+65536*o+256*l+A},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,a;for(a=[],n=0,s=t.length;n<s;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),yre=function(){var e;function t(r){var n,s,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,a,o,l,A,d,f,m,y,g,b,C;for(C in g=Object.keys(r).length,A=Math.log(2),m=16*Math.floor(Math.log(g)/A),o=Math.floor(m/A),f=16*g-m,(s=new Mu).writeInt(this.scalarType),s.writeShort(g),s.writeShort(m),s.writeShort(o),s.writeShort(f),a=16*g,d=s.pos+a,l=null,b=[],r)for(y=r[C],s.writeString(C),s.writeInt(e(y)),s.writeInt(d),s.writeInt(y.length),b=b.concat(y),C==="head"&&(l=d),d+=y.length;d%4;)b.push(0),d++;return s.write(b),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,a,o;for(r=VO.call(r);r.length%4;)r.push(0);for(a=new Mu(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=a.readUInt32();return 4294967295&s},t}(),wre={}.hasOwnProperty,lc=function(e,t){for(var r in t)wre.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ml=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var vre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lc(t,ml),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Mu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),VF=function(){function e(t,r){var n,s,a,o,l,A,d,f,m,y,g,b,C,F,v,S,I;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=t.readByte();break;case 4:for(g=t.readUInt16(),y=g/2,t.pos+=6,a=function(){var k,M;for(M=[],A=k=0;0<=y?k<y:k>y;A=0<=y?++k:--k)M.push(t.readUInt16());return M}(),t.pos+=2,C=function(){var k,M;for(M=[],A=k=0;0<=y?k<y:k>y;A=0<=y?++k:--k)M.push(t.readUInt16());return M}(),d=function(){var k,M;for(M=[],A=k=0;0<=y?k<y:k>y;A=0<=y?++k:--k)M.push(t.readUInt16());return M}(),f=function(){var k,M;for(M=[],A=k=0;0<=y?k<y:k>y;A=0<=y?++k:--k)M.push(t.readUInt16());return M}(),s=(this.length-t.pos+this.offset)/2,l=function(){var k,M;for(M=[],A=k=0;0<=s?k<s:k>s;A=0<=s?++k:--k)M.push(t.readUInt16());return M}(),A=v=0,I=a.length;v<I;A=++v)for(F=a[A],n=S=b=C[A];b<=F?S<=F:S>=F;n=b<=F?++S:--S)f[A]===0?o=n+d[A]:(o=l[f[A]/2+(n-b)-(y-A)]||0)!==0&&(o+=d[A]),this.codeMap[n]=65535&o}t.pos=m}return e.encode=function(t,r){var n,s,a,o,l,A,d,f,m,y,g,b,C,F,v,S,I,k,M,V,O,R,_,J,U,Q,X,Z,$,q,W,Y,K,ae,be,H,ee,ie,le,ce,me,we,Ie,ve,Ce,Pe;switch(Z=new Mu,o=Object.keys(t).sort(function(Me,Je){return Me-Je}),r){case"macroman":for(C=0,F=function(){var Me=[];for(b=0;b<256;++b)Me.push(0);return Me}(),S={0:0},a={},$=0,K=o.length;$<K;$++)S[Ie=t[s=o[$]]]==null&&(S[Ie]=++C),a[s]={old:t[s],new:S[t[s]]},F[s]=S[t[s]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(F),{charMap:a,subtable:Z.data,maxGlyphID:C+1};case"unicode":for(Q=[],m=[],I=0,S={},n={},v=d=null,q=0,ae=o.length;q<ae;q++)S[M=t[s=o[q]]]==null&&(S[M]=++I),n[s]={old:M,new:S[M]},l=S[M]-s,v!=null&&l===d||(v&&m.push(v),Q.push(s),d=l),v=s;for(v&&m.push(v),m.push(65535),Q.push(65535),J=2*(_=Q.length),R=2*Math.pow(Math.log(_)/Math.LN2,2),y=Math.log(R/2)/Math.LN2,O=2*_-R,A=[],V=[],g=[],b=W=0,be=Q.length;W<be;b=++W){if(U=Q[b],f=m[b],U===65535){A.push(0),V.push(0);break}if(U-(X=n[U].new)>=32768)for(A.push(0),V.push(2*(g.length+_-b)),s=Y=U;U<=f?Y<=f:Y>=f;s=U<=f?++Y:--Y)g.push(n[s].new);else A.push(X-U),V.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*_+2*g.length),Z.writeUInt16(0),Z.writeUInt16(J),Z.writeUInt16(R),Z.writeUInt16(y),Z.writeUInt16(O),me=0,H=m.length;me<H;me++)s=m[me],Z.writeUInt16(s);for(Z.writeUInt16(0),we=0,ee=Q.length;we<ee;we++)s=Q[we],Z.writeUInt16(s);for(ve=0,ie=A.length;ve<ie;ve++)l=A[ve],Z.writeUInt16(l);for(Ce=0,le=V.length;Ce<le;Ce++)k=V[Ce],Z.writeUInt16(k);for(Pe=0,ce=g.length;Pe<ce;Pe++)C=g[Pe],Z.writeUInt16(C);return{charMap:n,subtable:Z.data,maxGlyphID:I+1}}},e}(),HO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lc(t,ml),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)n=new VF(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,a;return n==null&&(n="macroman"),s=VF.encode(r,n),(a=new Mu).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},t}(),bre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lc(t,ml),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Cre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lc(t,ml),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Bre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lc(t,ml),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(s=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var l,A,d;for(d=[],o=l=0,A=this.file.maxp.numGlyphs;0<=A?l<A:l>A;o=0<=A?++l:--l)d.push(r.readUInt32());return d}).call(this)}},t}(),Nre=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Sre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lc(t,ml),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,a,o,l,A,d,f,m,y,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),A=r.readShort(),s=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+A+r.readShort()});for(d={},o=m=0,y=s.length;m<y;o=++m)a=s[o],r.pos=a.offset,f=r.readString(a.length),l=new Nre(f,a),d[g=a.nameID]==null&&(d[g]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),Ere=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lc(t,ml),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Fre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lc(t,ml),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,a,o,l,A,d;for(r.pos=this.offset,this.metrics=[],n=0,A=this.file.hhea.numberOfMetrics;0<=A?n<A:n>A;n=0<=A?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,m;for(m=[],n=f=0;0<=a?f<a:f>a;n=0<=a?++f:--f)m.push(r.readInt16());return m}(),this.widths=(function(){var f,m,y,g;for(g=[],f=0,m=(y=this.metrics).length;f<m;f++)o=y[f],g.push(o.advance);return g}).call(this),s=this.widths[this.widths.length-1],d=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)d.push(this.widths.push(s));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),VO=[].slice,Ire=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lc(t,ml),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,a,o,l,A,d,f,m,y;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,s=o.indexOf(r),(a=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,l=(A=new Mu(n.read(a))).readShort(),f=A.readShort(),y=A.readShort(),d=A.readShort(),m=A.readShort(),this.cache[r]=l===-1?new Tre(A,f,y,d,m):new jre(A,l,f,y,d,m),this.cache[r]))},t.prototype.encode=function(r,n,s){var a,o,l,A,d;for(l=[],o=[],A=0,d=n.length;A<d;A++)a=r[n[A]],o.push(l.length),a&&(l=l.concat(a.encode(s)));return o.push(l.length),{table:l,offsets:o}},t}(),jre=function(){function e(t,r,n,s,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Tre=function(){function e(t,r,n,s,a){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Mu(VO.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Lre=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return lc(t,ml),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<s.length;++l)if(s[l]=a,o<n.length&&n[o]==l){++o,s[l]=a;var A=this.offsets[l],d=this.offsets[l+1]-A;d>0&&(a+=d)}for(var f=new Array(4*s.length),m=0;m<s.length;++m)f[4*m+3]=255&s[m],f[4*m+2]=(65280&s[m])>>8,f[4*m+1]=(16711680&s[m])>>16,f[4*m]=(4278190080&s[m])>>24;return f},t}(),kre=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,a;for(r in s=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,a,o,l,A;for(s={},o=0,l=t.length;o<l;o++)s[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],s)(n=s[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in A=this.glyphsFor(r))n=A[a],s[a]=n;return s},e.prototype.encode=function(t,r){var n,s,a,o,l,A,d,f,m,y,g,b,C,F,v;for(s in n=HO.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},v=n.charMap)g[(A=v[s]).old]=A.new;for(b in y=n.maxGlyphID,o)b in g||(g[b]=y++);return f=function(S){var I,k;for(I in k={},S)k[S[I]]=I;return k}(g),m=Object.keys(f).sort(function(S,I){return S-I}),C=function(){var S,I,k;for(k=[],S=0,I=m.length;S<I;S++)l=m[S],k.push(f[l]);return k}(),a=this.font.glyf.encode(o,C,g),d=this.font.loca.encode(a.offsets,C),F={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(F["OS/2"]=this.font.os2.raw()),this.font.directory.encode(F)},e}();rr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,a,o;if(Array.isArray(r))return"["+function(){var l,A,d;for(d=[],l=0,A=r.length;l<A;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in a=["<<"],r)o=r[s],a.push("/"+s+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var e4=function(e,t){return e4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},e4(e,t)};function pl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e4(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var t4=function(){return t4=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},t4.apply(this,arguments)};function ei(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function A(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):s(f.value).then(l,A)}d((n=n.apply(e,[])).next())})}function _a(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return A([d,f])}}function A(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],s=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function C1(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||t)}var Zc=function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o2=function(e,t){return Zc.fromClientRect(e,t.getBoundingClientRect())},Pre=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Zc(0,0,n,s)},l2=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},Ts=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},KF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ore=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var B1=0;B1<KF.length;B1++)Ore[KF.charCodeAt(B1)]=B1;var GF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var N1=0;N1<GF.length;N1++)Cm[GF.charCodeAt(N1)]=N1;var Rre=function(e){var t=e.length*.75,r=e.length,n,s=0,a,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)a=Cm[e.charCodeAt(n)],o=Cm[e.charCodeAt(n+1)],l=Cm[e.charCodeAt(n+2)],A=Cm[e.charCodeAt(n+3)],f[s++]=a<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},Dre=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},_re=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},qd=5,$N=11,eb=2,Mre=$N-qd,KO=65536>>qd,Ure=1<<qd,tb=Ure-1,Qre=1024>>qd,Hre=KO+Qre,Vre=Hre,Kre=32,Gre=Vre+Kre,Wre=65536>>$N,zre=1<<Mre,$re=zre-1,WF=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},qre=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},Xre=function(e,t){var r=Rre(e),n=Array.isArray(r)?_re(r):new Uint32Array(r),s=Array.isArray(r)?Dre(r):new Uint16Array(r),a=24,o=WF(s,a/2,n[4]/2),l=n[5]===2?WF(s,(a+n[4])/2):qre(n,Math.ceil((a+n[4])/4));return new Yre(n[0],n[1],n[2],n[3],o,l)},Yre=function(){function e(t,r,n,s,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>qd],r=(r<<eb)+(t&tb),this.data[r];if(t<=65535)return r=this.index[KO+(t-55296>>qd)],r=(r<<eb)+(t&tb),this.data[r];if(t<this.highStart)return r=Gre-Wre+(t>>$N),r=this.index[r],r+=t>>qd&$re,r=this.index[r],r=(r<<eb)+(t&tb),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),zF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jre=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var S1=0;S1<zF.length;S1++)Jre[zF.charCodeAt(S1)]=S1;var Zre="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",$F=50,ene=1,GO=2,WO=3,tne=4,rne=5,qF=7,zO=8,XF=9,uu=10,r4=11,YF=12,n4=13,nne=14,Bm=15,s4=16,E1=17,lm=18,sne=19,JF=20,a4=21,cm=22,rb=23,Qh=24,Gi=25,Nm=26,Sm=27,Hh=28,ane=29,Nd=30,ine=31,F1=32,I1=33,i4=34,o4=35,l4=36,Dp=37,c4=38,Ix=39,jx=40,nb=41,$O=42,one=43,lne=[9001,65288],qO="!",kr="×",j1="÷",A4=Xre(Zre),Nc=[Nd,l4],u4=[ene,GO,WO,rne],XO=[uu,zO],ZF=[Sm,Nm],cne=u4.concat(XO),eI=[c4,Ix,jx,i4,o4],Ane=[Bm,n4],une=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(a,o){var l=A4.get(a);if(l>$F?(s.push(!0),l-=$F):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),r.push(s4);if(l===tne||l===r4){if(o===0)return n.push(o),r.push(Nd);var A=r[o-1];return cne.indexOf(A)===-1?(n.push(n[o-1]),r.push(A)):(n.push(o),r.push(Nd))}if(n.push(o),l===ine)return r.push(t==="strict"?a4:Dp);if(l===$O||l===ane)return r.push(Nd);if(l===one)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(Dp):r.push(Nd);r.push(l)}),[n,r,s]},sb=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var a=r;a<=n.length;){a++;var o=n[a];if(o===t)return!0;if(o!==uu)break}if(s===uu)for(var a=r;a>0;){a--;var l=n[a];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var A=r;A<=n.length;){A++;var o=n[A];if(o===t)return!0;if(o!==uu)break}if(l!==uu)break}return!1},tI=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===uu)r--;else return n}return 0},dne=function(e,t,r,n,s){if(r[n]===0)return kr;var a=n-1;if(Array.isArray(s)&&s[a]===!0)return kr;var o=a-1,l=a+1,A=t[a],d=o>=0?t[o]:0,f=t[l];if(A===GO&&f===WO)return kr;if(u4.indexOf(A)!==-1)return qO;if(u4.indexOf(f)!==-1||XO.indexOf(f)!==-1)return kr;if(tI(a,t)===zO)return j1;if(A4.get(e[a])===r4||(A===F1||A===I1)&&A4.get(e[l])===r4||A===qF||f===qF||A===XF||[uu,n4,Bm].indexOf(A)===-1&&f===XF||[E1,lm,sne,Qh,Hh].indexOf(f)!==-1||tI(a,t)===cm||sb(rb,cm,a,t)||sb([E1,lm],a4,a,t)||sb(YF,YF,a,t))return kr;if(A===uu)return j1;if(A===rb||f===rb)return kr;if(f===s4||A===s4)return j1;if([n4,Bm,a4].indexOf(f)!==-1||A===nne||d===l4&&Ane.indexOf(A)!==-1||A===Hh&&f===l4||f===JF||Nc.indexOf(f)!==-1&&A===Gi||Nc.indexOf(A)!==-1&&f===Gi||A===Sm&&[Dp,F1,I1].indexOf(f)!==-1||[Dp,F1,I1].indexOf(A)!==-1&&f===Nm||Nc.indexOf(A)!==-1&&ZF.indexOf(f)!==-1||ZF.indexOf(A)!==-1&&Nc.indexOf(f)!==-1||[Sm,Nm].indexOf(A)!==-1&&(f===Gi||[cm,Bm].indexOf(f)!==-1&&t[l+1]===Gi)||[cm,Bm].indexOf(A)!==-1&&f===Gi||A===Gi&&[Gi,Hh,Qh].indexOf(f)!==-1)return kr;if([Gi,Hh,Qh,E1,lm].indexOf(f)!==-1)for(var m=a;m>=0;){var y=t[m];if(y===Gi)return kr;if([Hh,Qh].indexOf(y)!==-1)m--;else break}if([Sm,Nm].indexOf(f)!==-1)for(var m=[E1,lm].indexOf(A)!==-1?o:a;m>=0;){var y=t[m];if(y===Gi)return kr;if([Hh,Qh].indexOf(y)!==-1)m--;else break}if(c4===A&&[c4,Ix,i4,o4].indexOf(f)!==-1||[Ix,i4].indexOf(A)!==-1&&[Ix,jx].indexOf(f)!==-1||[jx,o4].indexOf(A)!==-1&&f===jx||eI.indexOf(A)!==-1&&[JF,Nm].indexOf(f)!==-1||eI.indexOf(f)!==-1&&A===Sm||Nc.indexOf(A)!==-1&&Nc.indexOf(f)!==-1||A===Qh&&Nc.indexOf(f)!==-1||Nc.concat(Gi).indexOf(A)!==-1&&f===cm&&lne.indexOf(e[l])===-1||Nc.concat(Gi).indexOf(f)!==-1&&A===lm)return kr;if(A===nb&&f===nb){for(var g=r[a],b=1;g>0&&(g--,t[g]===nb);)b++;if(b%2!==0)return kr}return A===F1&&f===I1?kr:j1},hne=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=une(e,t.lineBreak),n=r[0],s=r[1],a=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(l){return[Gi,Nd,$O].indexOf(l)!==-1?Dp:l}));var o=t.wordBreak==="keep-all"?a.map(function(l,A){return l&&e[A]>=19968&&e[A]<=40959}):void 0;return[n,s,o]},fne=function(){function e(t,r,n,s){this.codePoints=t,this.required=r===qO,this.start=n,this.end=s}return e.prototype.slice=function(){return Ts.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),mne=function(e,t){var r=l2(e),n=hne(r,t),s=n[0],a=n[1],o=n[2],l=r.length,A=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var f=kr;d<l&&(f=dne(r,a,s,++d,o))===kr;);if(f!==kr||d===l){var m=new fne(r,f,A,d);return A=d,{value:m,done:!1}}return{done:!0,value:null}}}},pne=1,gne=2,dg=4,rI=8,Ly=10,nI=47,$m=92,xne=9,yne=32,T1=34,Am=61,wne=35,vne=36,bne=37,L1=39,k1=40,um=41,Cne=95,Bi=45,Bne=33,Nne=60,Sne=62,Ene=64,Fne=91,Ine=93,jne=61,Tne=123,P1=63,Lne=125,sI=124,kne=126,Pne=128,aI=65533,ab=42,Ld=43,One=44,Rne=58,Dne=59,_p=46,_ne=0,Mne=8,Une=11,Qne=14,Hne=31,Vne=127,El=-1,YO=48,JO=97,ZO=101,Kne=102,Gne=117,Wne=122,eR=65,tR=69,rR=70,zne=85,$ne=90,Ua=function(e){return e>=YO&&e<=57},qne=function(e){return e>=55296&&e<=57343},Vh=function(e){return Ua(e)||e>=eR&&e<=rR||e>=JO&&e<=Kne},Xne=function(e){return e>=JO&&e<=Wne},Yne=function(e){return e>=eR&&e<=$ne},Jne=function(e){return Xne(e)||Yne(e)},Zne=function(e){return e>=Pne},O1=function(e){return e===Ly||e===xne||e===yne},ky=function(e){return Jne(e)||Zne(e)||e===Cne},iI=function(e){return ky(e)||Ua(e)||e===Bi},ese=function(e){return e>=_ne&&e<=Mne||e===Une||e>=Qne&&e<=Hne||e===Vne},WA=function(e,t){return e!==$m?!1:t!==Ly},R1=function(e,t,r){return e===Bi?ky(t)||WA(t,r):ky(e)?!0:!!(e===$m&&WA(e,t))},ib=function(e,t,r){return e===Ld||e===Bi?Ua(t)?!0:t===_p&&Ua(r):Ua(e===_p?t:e)},tse=function(e){var t=0,r=1;(e[t]===Ld||e[t]===Bi)&&(e[t]===Bi&&(r=-1),t++);for(var n=[];Ua(e[t]);)n.push(e[t++]);var s=n.length?parseInt(Ts.apply(void 0,n),10):0;e[t]===_p&&t++;for(var a=[];Ua(e[t]);)a.push(e[t++]);var o=a.length,l=o?parseInt(Ts.apply(void 0,a),10):0;(e[t]===tR||e[t]===ZO)&&t++;var A=1;(e[t]===Ld||e[t]===Bi)&&(e[t]===Bi&&(A=-1),t++);for(var d=[];Ua(e[t]);)d.push(e[t++]);var f=d.length?parseInt(Ts.apply(void 0,d),10):0;return r*(s+l*Math.pow(10,-o))*Math.pow(10,A*f)},rse={type:2},nse={type:3},sse={type:4},ase={type:13},ise={type:8},ose={type:21},lse={type:9},cse={type:10},Ase={type:11},use={type:12},dse={type:14},D1={type:23},hse={type:1},fse={type:25},mse={type:24},pse={type:26},gse={type:27},xse={type:28},yse={type:29},wse={type:31},d4={type:32},nR=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(l2(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==d4;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case T1:return this.consumeStringToken(T1);case wne:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(iI(r)||WA(n,s)){var a=R1(r,n,s)?gne:pne,o=this.consumeName();return{type:5,value:o,flags:a}}break;case vne:if(this.peekCodePoint(0)===Am)return this.consumeCodePoint(),ase;break;case L1:return this.consumeStringToken(L1);case k1:return rse;case um:return nse;case ab:if(this.peekCodePoint(0)===Am)return this.consumeCodePoint(),dse;break;case Ld:if(ib(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case One:return sse;case Bi:var l=t,A=this.peekCodePoint(0),d=this.peekCodePoint(1);if(ib(l,A,d))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(R1(l,A,d))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(A===Bi&&d===Sne)return this.consumeCodePoint(),this.consumeCodePoint(),mse;break;case _p:if(ib(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case nI:if(this.peekCodePoint(0)===ab)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===ab&&(f=this.consumeCodePoint(),f===nI))return this.consumeToken();if(f===El)return this.consumeToken()}break;case Rne:return pse;case Dne:return gse;case Nne:if(this.peekCodePoint(0)===Bne&&this.peekCodePoint(1)===Bi&&this.peekCodePoint(2)===Bi)return this.consumeCodePoint(),this.consumeCodePoint(),fse;break;case Ene:var m=this.peekCodePoint(0),y=this.peekCodePoint(1),g=this.peekCodePoint(2);if(R1(m,y,g)){var o=this.consumeName();return{type:7,value:o}}break;case Fne:return xse;case $m:if(WA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case Ine:return yse;case jne:if(this.peekCodePoint(0)===Am)return this.consumeCodePoint(),ise;break;case Tne:return Ase;case Lne:return use;case Gne:case zne:var b=this.peekCodePoint(0),C=this.peekCodePoint(1);return b===Ld&&(Vh(C)||C===P1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case sI:if(this.peekCodePoint(0)===Am)return this.consumeCodePoint(),lse;if(this.peekCodePoint(0)===sI)return this.consumeCodePoint(),ose;break;case kne:if(this.peekCodePoint(0)===Am)return this.consumeCodePoint(),cse;break;case El:return d4}return O1(t)?(this.consumeWhiteSpace(),wse):Ua(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):ky(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ts(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Vh(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===P1&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Ts.apply(void 0,t.map(function(A){return A===P1?YO:A})),16),a=parseInt(Ts.apply(void 0,t.map(function(A){return A===P1?rR:A})),16);return{type:30,start:s,end:a}}var o=parseInt(Ts.apply(void 0,t),16);if(this.peekCodePoint(0)===Bi&&Vh(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Vh(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var a=parseInt(Ts.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===k1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===k1?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===El)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===L1||r===T1){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===El||this.peekCodePoint(0)===um)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),D1)}for(;;){var s=this.consumeCodePoint();if(s===El||s===um)return{type:22,value:Ts.apply(void 0,t)};if(O1(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===El||this.peekCodePoint(0)===um?(this.consumeCodePoint(),{type:22,value:Ts.apply(void 0,t)}):(this.consumeBadUrlRemnants(),D1);if(s===T1||s===L1||s===k1||ese(s))return this.consumeBadUrlRemnants(),D1;if(s===$m)if(WA(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),D1;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;O1(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===um||t===El)return;WA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=Ts.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===El||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Ly)return this._value.splice(0,n),hse;if(s===$m){var a=this._value[n+1];a!==El&&a!==void 0&&(a===Ly?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):WA(s,a)&&(r+=this.consumeStringSlice(n),r+=Ts(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=dg,n=this.peekCodePoint(0);for((n===Ld||n===Bi)&&t.push(this.consumeCodePoint());Ua(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===_p&&Ua(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=rI;Ua(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===tR||n===ZO)&&((s===Ld||s===Bi)&&Ua(a)||Ua(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=rI;Ua(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[tse(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(R1(s,a,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return s===bne?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Vh(t)){for(var r=Ts(t);Vh(this.peekCodePoint(0))&&r.length<6;)r+=Ts(this.consumeCodePoint());O1(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||qne(n)||n>1114111?aI:n}return t===El?aI:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(iI(r))t+=Ts(r);else if(WA(r,this.peekCodePoint(0)))t+=Ts(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),sR=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new nR;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||bse(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?d4:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),hg=function(e){return e.type===15},T0=function(e){return e.type===17},xn=function(e){return e.type===20},vse=function(e){return e.type===0},h4=function(e,t){return xn(e)&&e.value===t},aR=function(e){return e.type!==31},f0=function(e){return e.type!==31&&e.type!==4},cc=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},bse=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Uu=function(e){return e.type===17||e.type===15},Qs=function(e){return e.type===16||Uu(e)},iR=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},xa={type:17,number:0,flags:dg},qN={type:16,number:50,flags:dg},du={type:16,number:100,flags:dg},Em=function(e,t,r){var n=e[0],s=e[1];return[Ln(n,t),Ln(typeof s<"u"?s:n,r)]},Ln=function(e,t){if(e.type===16)return e.number/100*t;if(hg(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},oR="deg",lR="grad",cR="rad",AR="turn",c2={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case oR:return Math.PI*t.number/180;case lR:return Math.PI/200*t.number;case cR:return t.number;case AR:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},uR=function(e){return e.type===15&&(e.unit===oR||e.unit===lR||e.unit===cR||e.unit===AR)},dR=function(e){var t=e.filter(xn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[xa,xa];case"to top":case"bottom":return Eo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[xa,du];case"to right":case"left":return Eo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[du,du];case"to bottom":case"top":return Eo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[du,xa];case"to left":case"right":return Eo(270)}return 0},Eo=function(e){return Math.PI*e/180},Su={name:"color",parse:function(e,t){if(t.type===18){var r=Cse[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);return hu(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return hu(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6);return hu(parseInt(n,16),parseInt(s,16),parseInt(a,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return hu(parseInt(n,16),parseInt(s,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var l=Vc[t.value.toUpperCase()];if(typeof l<"u")return l}return Vc.TRANSPARENT}},Eu=function(e){return(255&e)===0},sa=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},hu=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},oI=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},lI=function(e,t){var r=t.filter(f0);if(r.length===3){var n=r.map(oI),s=n[0],a=n[1],o=n[2];return hu(s,a,o,1)}if(r.length===4){var l=r.map(oI),s=l[0],a=l[1],o=l[2],A=l[3];return hu(s,a,o,A)}return 0};function ob(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var cI=function(e,t){var r=t.filter(f0),n=r[0],s=r[1],a=r[2],o=r[3],l=(n.type===17?Eo(n.number):c2.parse(e,n))/(Math.PI*2),A=Qs(s)?s.number/100:0,d=Qs(a)?a.number/100:0,f=typeof o<"u"&&Qs(o)?Ln(o,1):1;if(A===0)return hu(d*255,d*255,d*255,1);var m=d<=.5?d*(A+1):d+A-d*A,y=d*2-m,g=ob(y,m,l+1/3),b=ob(y,m,l),C=ob(y,m,l-1/3);return hu(g*255,b*255,C*255,f)},Cse={hsl:cI,hsla:cI,rgb:lI,rgba:lI},qm=function(e,t){return Su.parse(e,sR.create(t).parseComponentValue())},Vc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Bse={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(xn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Nse={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},A2=function(e,t){var r=Su.parse(e,t[0]),n=t[1];return n&&Qs(n)?{color:r,stop:n}:{color:r,stop:null}},AI=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=xa),n.stop===null&&(n.stop=du);for(var s=[],a=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var A=Ln(l,t);A>a?s.push(A):s.push(a),a=A}else s.push(null)}for(var d=null,o=0;o<s.length;o++){var f=s[o];if(f===null)d===null&&(d=o);else if(d!==null){for(var m=o-d,y=s[d-1],g=(f-y)/(m+1),b=1;b<=m;b++)s[d+b-1]=g*b;d=null}}return e.map(function(C,F){var v=C.color;return{color:v,stop:Math.max(Math.min(1,s[F]/t),0)}})},Sse=function(e,t,r){var n=t/2,s=r/2,a=Ln(e[0],t)-n,o=s-Ln(e[1],r);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},Ese=function(e,t,r){var n=typeof e=="number"?e:Sse(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),a=t/2,o=r/2,l=s/2,A=Math.sin(n-Math.PI/2)*l,d=Math.cos(n-Math.PI/2)*l;return[s,a-d,a+d,o-A,o+A]},Wo=function(e,t){return Math.sqrt(e*e+t*t)},uI=function(e,t,r,n,s){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,l){var A=l[0],d=l[1],f=Wo(r-A,n-d);return(s?f<o.optimumDistance:f>o.optimumDistance)?{optimumCorner:l,optimumDistance:f}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},Fse=function(e,t,r,n,s){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)a=o=Math.min(Wo(t,r),Wo(t,r-s),Wo(t-n,r),Wo(t-n,r-s));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),A=uI(n,s,t,r,!0),d=A[0],f=A[1];a=Wo(d-t,(f-r)/l),o=l*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)a=o=Math.max(Wo(t,r),Wo(t,r-s),Wo(t-n,r),Wo(t-n,r-s));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),m=uI(n,s,t,r,!1),d=m[0],f=m[1];a=Wo(d-t,(f-r)/l),o=l*a}break}return Array.isArray(e.size)&&(a=Ln(e.size[0],n),o=e.size.length===2?Ln(e.size[1],s):a),[a,o]},Ise=function(e,t){var r=Eo(180),n=[];return cc(t).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&o.value==="to"){r=dR(s);return}else if(uR(o)){r=c2.parse(e,o);return}}var l=A2(e,s);n.push(l)}),{angle:r,stops:n,type:1}},_1=function(e,t){var r=Eo(180),n=[];return cc(t).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=dR(s);return}else if(uR(o)){r=(c2.parse(e,o)+Eo(270))%Eo(360);return}}var l=A2(e,s);n.push(l)}),{angle:r,stops:n,type:1}},jse=function(e,t){var r=Eo(180),n=[],s=1,a=0,o=3,l=[];return cc(t).forEach(function(A,d){var f=A[0];if(d===0){if(xn(f)&&f.value==="linear"){s=1;return}else if(xn(f)&&f.value==="radial"){s=2;return}}if(f.type===18){if(f.name==="from"){var m=Su.parse(e,f.values[0]);n.push({stop:xa,color:m})}else if(f.name==="to"){var m=Su.parse(e,f.values[0]);n.push({stop:du,color:m})}else if(f.name==="color-stop"){var y=f.values.filter(f0);if(y.length===2){var m=Su.parse(e,y[1]),g=y[0];T0(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:m})}}}}),s===1?{angle:(r+Eo(180))%Eo(360),stops:n,type:s}:{size:o,shape:a,stops:n,position:l,type:s}},hR="closest-side",fR="farthest-side",mR="closest-corner",pR="farthest-corner",gR="circle",xR="ellipse",yR="cover",wR="contain",Tse=function(e,t){var r=0,n=3,s=[],a=[];return cc(t).forEach(function(o,l){var A=!0;if(l===0){var d=!1;A=o.reduce(function(m,y){if(d)if(xn(y))switch(y.value){case"center":return a.push(qN),m;case"top":case"left":return a.push(xa),m;case"right":case"bottom":return a.push(du),m}else(Qs(y)||Uu(y))&&a.push(y);else if(xn(y))switch(y.value){case gR:return r=0,!1;case xR:return r=1,!1;case"at":return d=!0,!1;case hR:return n=0,!1;case yR:case fR:return n=1,!1;case wR:case mR:return n=2,!1;case pR:return n=3,!1}else if(Uu(y)||Qs(y))return Array.isArray(n)||(n=[]),n.push(y),!1;return m},A)}if(A){var f=A2(e,o);s.push(f)}}),{size:n,shape:r,stops:s,position:a,type:2}},M1=function(e,t){var r=0,n=3,s=[],a=[];return cc(t).forEach(function(o,l){var A=!0;if(l===0?A=o.reduce(function(f,m){if(xn(m))switch(m.value){case"center":return a.push(qN),!1;case"top":case"left":return a.push(xa),!1;case"right":case"bottom":return a.push(du),!1}else if(Qs(m)||Uu(m))return a.push(m),!1;return f},A):l===1&&(A=o.reduce(function(f,m){if(xn(m))switch(m.value){case gR:return r=0,!1;case xR:return r=1,!1;case wR:case hR:return n=0,!1;case fR:return n=1,!1;case mR:return n=2,!1;case yR:case pR:return n=3,!1}else if(Uu(m)||Qs(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return f},A)),A){var d=A2(e,o);s.push(d)}}),{size:n,shape:r,stops:s,position:a,type:2}},Lse=function(e){return e.type===1},kse=function(e){return e.type===2},XN={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=vR[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Pse(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!vR[e.name])}var vR={"linear-gradient":Ise,"-moz-linear-gradient":_1,"-ms-linear-gradient":_1,"-o-linear-gradient":_1,"-webkit-linear-gradient":_1,"radial-gradient":Tse,"-moz-radial-gradient":M1,"-ms-radial-gradient":M1,"-o-radial-gradient":M1,"-webkit-radial-gradient":M1,"-webkit-gradient":jse},Ose={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return f0(n)&&Pse(n)}).map(function(n){return XN.parse(e,n)})}},Rse={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(xn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Dse={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return cc(t).map(function(r){return r.filter(Qs)}).map(iR)}},_se={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return cc(t).map(function(r){return r.filter(xn).map(function(n){return n.value}).join(" ")}).map(Mse)}},Mse=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Df;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Df||(Df={}));var Use={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return cc(t).map(function(r){return r.filter(Qse)})}},Qse=function(e){return xn(e)||Qs(e)},u2=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Hse=u2("top"),Vse=u2("right"),Kse=u2("bottom"),Gse=u2("left"),d2=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return iR(r.filter(Qs))}}},Wse=d2("top-left"),zse=d2("top-right"),$se=d2("bottom-right"),qse=d2("bottom-left"),h2=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Xse=h2("top"),Yse=h2("right"),Jse=h2("bottom"),Zse=h2("left"),f2=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return hg(r)?r.number:0}}},eae=f2("top"),tae=f2("right"),rae=f2("bottom"),nae=f2("left"),sae={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},aae={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},iae={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(xn).reduce(function(r,n){return r|oae(n.value)},0)}},oae=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},lae={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},cae={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},Py;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Py||(Py={}));var Aae={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return Py.STRICT;case"normal":default:return Py.NORMAL}}},uae={name:"line-height",initialValue:"normal",prefix:!1,type:4},dI=function(e,t){return xn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Qs(e)?Ln(e,t):t},dae={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:XN.parse(e,t)}},hae={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},f4={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},m2=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},fae=m2("top"),mae=m2("right"),pae=m2("bottom"),gae=m2("left"),xae={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(xn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},yae={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},p2=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},wae=p2("top"),vae=p2("right"),bae=p2("bottom"),Cae=p2("left"),Bae={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Nae={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Sae={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&h4(t[0],"none")?[]:cc(t).map(function(r){for(var n={color:Vc.TRANSPARENT,offsetX:xa,offsetY:xa,blur:xa},s=0,a=0;a<r.length;a++){var o=r[a];Uu(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:n.blur=o,s++):n.color=Su.parse(e,o)}return n})}},Eae={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Fae={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=Tae[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Iae=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},jae=function(e){var t=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,s,a,o,l]:null},Tae={matrix:Iae,matrix3d:jae},hI={type:16,number:50,flags:dg},Lae=[hI,hI],kae={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Qs);return r.length!==2?Lae:[r[0],r[1]]}},Pae={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Xm;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Xm||(Xm={}));var Oae={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Xm.BREAK_ALL;case"keep-all":return Xm.KEEP_ALL;case"normal":default:return Xm.NORMAL}}},Rae={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(T0(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},bR={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Dae={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return T0(t)?t.number:1}},_ae={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mae={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(xn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Uae={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},Qae={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Hae={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(T0(t))return t.number;if(xn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Vae={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(xn).map(function(r){return r.value})}},Kae={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},qs=function(e,t){return(e&t)!==0},Gae={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},Wae={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(aR),a=0;a<s.length;a++){var o=s[a],l=s[a+1];if(o.type===20){var A=l&&T0(l)?l.number:1;n.push({counter:o.value,increment:A})}}return n}},zae={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(aR),s=0;s<n.length;s++){var a=n[s],o=n[s+1];if(xn(a)&&a.value!=="none"){var l=o&&T0(o)?o.number:0;r.push({counter:a.value,reset:l})}}return r}},$ae={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(hg).map(function(r){return bR.parse(e,r)})}},qae={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(vse);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var o=s[a].value,l=s[a+1].value;n.push({open:o,close:l})}return n}},fI=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},Xae={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&h4(t[0],"none")?[]:cc(t).map(function(r){for(var n={color:255,offsetX:xa,offsetY:xa,blur:xa,spread:xa,inset:!1},s=0,a=0;a<r.length;a++){var o=r[a];h4(o,"inset")?n.inset=!0:Uu(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:s===2?n.blur=o:n.spread=o,s++):n.color=Su.parse(e,o)}return n})}},Yae={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(xn).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},Jae={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Zae={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return hg(t)?t.number:0}},eie=function(){function e(t,r){var n,s;this.animationDuration=Tt(t,$ae,r.animationDuration),this.backgroundClip=Tt(t,Bse,r.backgroundClip),this.backgroundColor=Tt(t,Nse,r.backgroundColor),this.backgroundImage=Tt(t,Ose,r.backgroundImage),this.backgroundOrigin=Tt(t,Rse,r.backgroundOrigin),this.backgroundPosition=Tt(t,Dse,r.backgroundPosition),this.backgroundRepeat=Tt(t,_se,r.backgroundRepeat),this.backgroundSize=Tt(t,Use,r.backgroundSize),this.borderTopColor=Tt(t,Hse,r.borderTopColor),this.borderRightColor=Tt(t,Vse,r.borderRightColor),this.borderBottomColor=Tt(t,Kse,r.borderBottomColor),this.borderLeftColor=Tt(t,Gse,r.borderLeftColor),this.borderTopLeftRadius=Tt(t,Wse,r.borderTopLeftRadius),this.borderTopRightRadius=Tt(t,zse,r.borderTopRightRadius),this.borderBottomRightRadius=Tt(t,$se,r.borderBottomRightRadius),this.borderBottomLeftRadius=Tt(t,qse,r.borderBottomLeftRadius),this.borderTopStyle=Tt(t,Xse,r.borderTopStyle),this.borderRightStyle=Tt(t,Yse,r.borderRightStyle),this.borderBottomStyle=Tt(t,Jse,r.borderBottomStyle),this.borderLeftStyle=Tt(t,Zse,r.borderLeftStyle),this.borderTopWidth=Tt(t,eae,r.borderTopWidth),this.borderRightWidth=Tt(t,tae,r.borderRightWidth),this.borderBottomWidth=Tt(t,rae,r.borderBottomWidth),this.borderLeftWidth=Tt(t,nae,r.borderLeftWidth),this.boxShadow=Tt(t,Xae,r.boxShadow),this.color=Tt(t,sae,r.color),this.direction=Tt(t,aae,r.direction),this.display=Tt(t,iae,r.display),this.float=Tt(t,lae,r.cssFloat),this.fontFamily=Tt(t,Uae,r.fontFamily),this.fontSize=Tt(t,Qae,r.fontSize),this.fontStyle=Tt(t,Kae,r.fontStyle),this.fontVariant=Tt(t,Vae,r.fontVariant),this.fontWeight=Tt(t,Hae,r.fontWeight),this.letterSpacing=Tt(t,cae,r.letterSpacing),this.lineBreak=Tt(t,Aae,r.lineBreak),this.lineHeight=Tt(t,uae,r.lineHeight),this.listStyleImage=Tt(t,dae,r.listStyleImage),this.listStylePosition=Tt(t,hae,r.listStylePosition),this.listStyleType=Tt(t,f4,r.listStyleType),this.marginTop=Tt(t,fae,r.marginTop),this.marginRight=Tt(t,mae,r.marginRight),this.marginBottom=Tt(t,pae,r.marginBottom),this.marginLeft=Tt(t,gae,r.marginLeft),this.opacity=Tt(t,Dae,r.opacity);var a=Tt(t,xae,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Tt(t,yae,r.overflowWrap),this.paddingTop=Tt(t,wae,r.paddingTop),this.paddingRight=Tt(t,vae,r.paddingRight),this.paddingBottom=Tt(t,bae,r.paddingBottom),this.paddingLeft=Tt(t,Cae,r.paddingLeft),this.paintOrder=Tt(t,Yae,r.paintOrder),this.position=Tt(t,Nae,r.position),this.textAlign=Tt(t,Bae,r.textAlign),this.textDecorationColor=Tt(t,_ae,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Tt(t,Mae,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=Tt(t,Sae,r.textShadow),this.textTransform=Tt(t,Eae,r.textTransform),this.transform=Tt(t,Fae,r.transform),this.transformOrigin=Tt(t,kae,r.transformOrigin),this.visibility=Tt(t,Pae,r.visibility),this.webkitTextStrokeColor=Tt(t,Jae,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Tt(t,Zae,r.webkitTextStrokeWidth),this.wordBreak=Tt(t,Oae,r.wordBreak),this.zIndex=Tt(t,Rae,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Eu(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return qs(this.display,4)||qs(this.display,33554432)||qs(this.display,268435456)||qs(this.display,536870912)||qs(this.display,67108864)||qs(this.display,134217728)},e}(),tie=function(){function e(t,r){this.content=Tt(t,Gae,r.content),this.quotes=Tt(t,qae,r.quotes)}return e}(),mI=function(){function e(t,r){this.counterIncrement=Tt(t,Wae,r.counterIncrement),this.counterReset=Tt(t,zae,r.counterReset)}return e}(),Tt=function(e,t,r){var n=new nR,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var a=new sR(n.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,xn(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return c2.parse(e,a.parseComponentValue());case"color":return Su.parse(e,a.parseComponentValue());case"image":return XN.parse(e,a.parseComponentValue());case"length":var l=a.parseComponentValue();return Uu(l)?l:xa;case"length-percentage":var A=a.parseComponentValue();return Qs(A)?A:xa;case"time":return bR.parse(e,a.parseComponentValue())}break}},rie="data-html2canvas-debug",nie=function(e){var t=e.getAttribute(rie);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},m4=function(e,t){var r=nie(e);return r===1||t===r},Ac=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,m4(r,3))debugger;this.styles=new eie(t,window.getComputedStyle(r,null)),x4(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=o2(this.context,r),m4(r,4)&&(this.flags|=16)}return e}(),sie="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",pI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var U1=0;U1<pI.length;U1++)Fm[pI.charCodeAt(U1)]=U1;var aie=function(e){var t=e.length*.75,r=e.length,n,s=0,a,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)a=Fm[e.charCodeAt(n)],o=Fm[e.charCodeAt(n+1)],l=Fm[e.charCodeAt(n+2)],A=Fm[e.charCodeAt(n+3)],f[s++]=a<<2|o>>4,f[s++]=(o&15)<<4|l>>2,f[s++]=(l&3)<<6|A&63;return d},iie=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},oie=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Xd=5,YN=11,lb=2,lie=YN-Xd,CR=65536>>Xd,cie=1<<Xd,cb=cie-1,Aie=1024>>Xd,uie=CR+Aie,die=uie,hie=32,fie=die+hie,mie=65536>>YN,pie=1<<lie,gie=pie-1,gI=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},xie=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},yie=function(e,t){var r=aie(e),n=Array.isArray(r)?oie(r):new Uint32Array(r),s=Array.isArray(r)?iie(r):new Uint16Array(r),a=24,o=gI(s,a/2,n[4]/2),l=n[5]===2?gI(s,(a+n[4])/2):xie(n,Math.ceil((a+n[4])/4));return new wie(n[0],n[1],n[2],n[3],o,l)},wie=function(){function e(t,r,n,s,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Xd],r=(r<<lb)+(t&cb),this.data[r];if(t<=65535)return r=this.index[CR+(t-55296>>Xd)],r=(r<<lb)+(t&cb),this.data[r];if(t<this.highStart)return r=fie-mie+(t>>YN),r=this.index[r],r+=t>>Xd&gie,r=this.index[r],r=(r<<lb)+(t&cb),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),xI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vie=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Q1=0;Q1<xI.length;Q1++)vie[xI.charCodeAt(Q1)]=Q1;var bie=1,Ab=2,ub=3,yI=4,wI=5,Cie=7,vI=8,db=9,hb=10,bI=11,CI=12,BI=13,NI=14,fb=15,Bie=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},Nie=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},Sie=yie(sie),wo="×",mb="÷",Eie=function(e){return Sie.get(e)},Fie=function(e,t,r){var n=r-2,s=t[n],a=t[r-1],o=t[r];if(a===Ab&&o===ub)return wo;if(a===Ab||a===ub||a===yI||o===Ab||o===ub||o===yI)return mb;if(a===vI&&[vI,db,bI,CI].indexOf(o)!==-1||(a===bI||a===db)&&(o===db||o===hb)||(a===CI||a===hb)&&o===hb||o===BI||o===wI||o===Cie||a===bie)return wo;if(a===BI&&o===NI){for(;s===wI;)s=t[--n];if(s===NI)return wo}if(a===fb&&o===fb){for(var l=0;s===fb;)l++,s=t[--n];if(l%2===0)return wo}return mb},Iie=function(e){var t=Bie(e),r=t.length,n=0,s=0,a=t.map(Eie);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=wo;n<r&&(o=Fie(t,a,++n))===wo;);if(o!==wo||n===r){var l=Nie.apply(null,t.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},jie=function(e){for(var t=Iie(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},Tie=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),a=Math.round(s.height);if(e.body.removeChild(n),a===t)return!0}}return!1},Lie=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=l2(n.data).map(function(A){return Ts(A)}),a=0,o={},l=s.every(function(A,d){r.setStart(n,a),r.setEnd(n,a+A.length);var f=r.getBoundingClientRect();a+=A.length;var m=f.x>o.x||f.y>o.y;return o=f,d===0?!0:m});return e.body.removeChild(t),l},kie=function(){return typeof new Image().crossOrigin<"u"},Pie=function(){return typeof new XMLHttpRequest().responseType=="string"},Oie=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},SI=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},Rie=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,a=t.toDataURL();s.src=a;var o=p4(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),EI(o).then(function(l){n.drawImage(l,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=e.createElement("div");return d.style.backgroundImage="url("+a+")",d.style.height=r+"px",SI(A)?EI(p4(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),SI(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},p4=function(e,t,r,n,s){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},EI=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},ma={get SUPPORT_RANGE_BOUNDS(){var e=Tie(document);return Object.defineProperty(ma,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ma.SUPPORT_RANGE_BOUNDS&&Lie(document);return Object.defineProperty(ma,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Oie(document);return Object.defineProperty(ma,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?Rie(document):Promise.resolve(!1);return Object.defineProperty(ma,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=kie();return Object.defineProperty(ma,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Pie();return Object.defineProperty(ma,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ma,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ma,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ym=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),Die=function(e,t,r,n){var s=Uie(t,r),a=[],o=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(ma.SUPPORT_RANGE_BOUNDS){var A=FI(n,o,l.length).getClientRects();if(A.length>1){var d=JN(l),f=0;d.forEach(function(y){a.push(new Ym(y,Zc.fromDOMRectList(e,FI(n,f+o,y.length).getClientRects()))),f+=y.length})}else a.push(new Ym(l,Zc.fromDOMRectList(e,A)))}else{var m=n.splitText(l.length);a.push(new Ym(l,_ie(e,n))),n=m}else ma.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),a},_ie=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var a=o2(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),a}}return Zc.EMPTY},FI=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},JN=function(e){if(ma.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return jie(e)},Mie=function(e,t){if(ma.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return Hie(e,t)},Uie=function(e,t){return t.letterSpacing!==0?JN(e):Mie(e,t)},Qie=[32,160,4961,65792,65793,4153,4241],Hie=function(e,t){for(var r=mne(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,a=function(){if(s.value){var o=s.value.slice(),l=l2(o),A="";l.forEach(function(d){Qie.indexOf(d)===-1?A+=Ts(d):(A.length&&n.push(A),n.push(Ts(d)),A="")}),A.length&&n.push(A)}};!(s=r.next()).done;)a();return n},Vie=function(){function e(t,r,n){this.text=Kie(r.data,n.textTransform),this.textBounds=Die(t,this.text,n,r)}return e}(),Kie=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Gie,Wie);case 2:return e.toUpperCase();default:return e}},Gie=/(^|\s|:|-|\(|\))([a-z])/g,Wie=function(e,t,r){return e.length>0?t+r.toUpperCase():e},BR=function(e){pl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t}(Ac),NR=function(e){pl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t}(Ac),SR=function(e){pl(t,e);function t(r,n){var s=e.call(this,r,n)||this,a=new XMLSerializer,o=o2(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(Ac),ER=function(e){pl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Ac),g4=function(e){pl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t}(Ac),zie=[{type:15,flags:0,unit:"px",number:3}],$ie=[{type:16,flags:0,number:50}],qie=function(e){return e.width>e.height?new Zc(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Zc(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Xie=function(e){var t=e.type===Yie?new Array(e.value.length+1).join("•"):e.value;return t.length===0?e.placeholder||"":t},Oy="checkbox",Ry="radio",Yie="password",II=707406591,ZN=function(e){pl(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=Xie(n),(s.type===Oy||s.type===Ry)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=qie(s.bounds)),s.type){case Oy:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=zie;break;case Ry:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=$ie;break}return s}return t}(Ac),FR=function(e){pl(t,e);function t(r,n){var s=e.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return s.value=a&&a.text||"",s}return t}(Ac),IR=function(e){pl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Ac),jR=function(e){pl(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=LR(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?qm(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Vc.TRANSPARENT,o=n.contentWindow.document.body?qm(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Vc.TRANSPARENT;s.backgroundColor=Eu(a)?Eu(o)?s.styles.backgroundColor:o:a}}catch{}return s}return t}(Ac),Jie=["OL","UL","MENU"],Tx=function(e,t,r,n){for(var s=t.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,kR(s)&&s.data.trim().length>0)r.textNodes.push(new Vie(e,s,r.styles));else if(pf(s))if(DR(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return Tx(e,l,r,n)});else{var o=TR(e,s);o.styles.isVisible()&&(Zie(s,o,n)?o.flags|=4:eoe(o.styles)&&(o.flags|=2),Jie.indexOf(s.tagName)!==-1&&(o.flags|=8),r.elements.push(o),s.slot,s.shadowRoot?Tx(e,s.shadowRoot,o,n):!Dy(s)&&!PR(s)&&!_y(s)&&Tx(e,s,o,n))}},TR=function(e,t){return y4(t)?new BR(e,t):OR(t)?new NR(e,t):PR(t)?new SR(e,t):toe(t)?new ER(e,t):roe(t)?new g4(e,t):noe(t)?new ZN(e,t):_y(t)?new FR(e,t):Dy(t)?new IR(e,t):RR(t)?new jR(e,t):new Ac(e,t)},LR=function(e,t){var r=TR(e,t);return r.flags|=4,Tx(e,t,r,r),r},Zie=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||e3(e)&&r.styles.isTransparent()},eoe=function(e){return e.isPositioned()||e.isFloating()},kR=function(e){return e.nodeType===Node.TEXT_NODE},pf=function(e){return e.nodeType===Node.ELEMENT_NODE},x4=function(e){return pf(e)&&typeof e.style<"u"&&!Lx(e)},Lx=function(e){return typeof e.className=="object"},toe=function(e){return e.tagName==="LI"},roe=function(e){return e.tagName==="OL"},noe=function(e){return e.tagName==="INPUT"},soe=function(e){return e.tagName==="HTML"},PR=function(e){return e.tagName==="svg"},e3=function(e){return e.tagName==="BODY"},OR=function(e){return e.tagName==="CANVAS"},jI=function(e){return e.tagName==="VIDEO"},y4=function(e){return e.tagName==="IMG"},RR=function(e){return e.tagName==="IFRAME"},TI=function(e){return e.tagName==="STYLE"},aoe=function(e){return e.tagName==="SCRIPT"},Dy=function(e){return e.tagName==="TEXTAREA"},_y=function(e){return e.tagName==="SELECT"},DR=function(e){return e.tagName==="SLOT"},LI=function(e){return e.tagName.indexOf("-")>0},ioe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,a=!0;n!==null&&n.forEach(function(l){var A=r.counters[l.counter];A&&l.increment!==0&&(a=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var o=[];return a&&s.forEach(function(l){var A=r.counters[l.counter];o.push(l.counter),A||(A=r.counters[l.counter]=[]),A.push(l.reset)}),o},e}(),kI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},PI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},ooe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},loe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Kh=function(e,t,r,n,s,a){return e<t||e>r?Mp(e,s,a.length>0):n.integers.reduce(function(o,l,A){for(;e>=l;)e-=l,o+=n.values[A];return o},"")+a},_R=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},Is=function(e,t,r,n,s){var a=r-t+1;return(e<0?"-":"")+(_R(Math.abs(e),a,n,function(o){return Ts(Math.floor(o%a)+t)})+s)},pd=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return _R(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},ef=1,UA=2,QA=4,Im=8,Sc=function(e,t,r,n,s,a){if(e<-9999||e>9999)return Mp(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return t[0]+l;for(var A=0;o>0&&A<=4;A++){var d=o%10;d===0&&qs(a,ef)&&l!==""?l=t[d]+l:d>1||d===1&&A===0||d===1&&A===1&&qs(a,UA)||d===1&&A===1&&qs(a,QA)&&e>100||d===1&&A>1&&qs(a,Im)?l=t[d]+(A>0?r[A-1]:"")+l:d===1&&A>0&&(l=r[A-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},OI="十百千萬",RI="拾佰仟萬",DI="マイナス",pb="마이너스",Mp=function(e,t,r){var n=r?". ":"",s=r?"、":"",a=r?", ":"",o=r?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=Is(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return pd(e,"〇一二三四五六七八九",s);case 6:return Kh(e,1,3999,kI,3,n).toLowerCase();case 7:return Kh(e,1,3999,kI,3,n);case 8:return Is(e,945,969,!1,n);case 9:return Is(e,97,122,!1,n);case 10:return Is(e,65,90,!1,n);case 11:return Is(e,1632,1641,!0,n);case 12:case 49:return Kh(e,1,9999,PI,3,n);case 35:return Kh(e,1,9999,PI,3,n).toLowerCase();case 13:return Is(e,2534,2543,!0,n);case 14:case 30:return Is(e,6112,6121,!0,n);case 15:return pd(e,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return pd(e,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return Sc(e,"零一二三四五六七八九",OI,"負",s,UA|QA|Im);case 47:return Sc(e,"零壹貳參肆伍陸柒捌玖",RI,"負",s,ef|UA|QA|Im);case 42:return Sc(e,"零一二三四五六七八九",OI,"负",s,UA|QA|Im);case 41:return Sc(e,"零壹贰叁肆伍陆柒捌玖",RI,"负",s,ef|UA|QA|Im);case 26:return Sc(e,"〇一二三四五六七八九","十百千万",DI,s,0);case 25:return Sc(e,"零壱弐参四伍六七八九","拾百千万",DI,s,ef|UA|QA);case 31:return Sc(e,"영일이삼사오육칠팔구","십백천만",pb,a,ef|UA|QA);case 33:return Sc(e,"零一二三四五六七八九","十百千萬",pb,a,0);case 32:return Sc(e,"零壹貳參四五六七八九","拾百千",pb,a,ef|UA|QA);case 18:return Is(e,2406,2415,!0,n);case 20:return Kh(e,1,19999,loe,3,n);case 21:return Is(e,2790,2799,!0,n);case 22:return Is(e,2662,2671,!0,n);case 22:return Kh(e,1,10999,ooe,3,n);case 23:return pd(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return pd(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Is(e,3302,3311,!0,n);case 28:return pd(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return pd(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return Is(e,3792,3801,!0,n);case 37:return Is(e,6160,6169,!0,n);case 38:return Is(e,4160,4169,!0,n);case 39:return Is(e,2918,2927,!0,n);case 40:return Is(e,1776,1785,!0,n);case 43:return Is(e,3046,3055,!0,n);case 44:return Is(e,3174,3183,!0,n);case 45:return Is(e,3664,3673,!0,n);case 46:return Is(e,3872,3881,!0,n);case 3:default:return Is(e,48,57,!0,n)}},MR="data-html2canvas-ignore",_I=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new ioe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=coe(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=s.contentWindow,A=l.document,d=doe(s).then(function(){return ei(n,void 0,void 0,function(){var f,m;return _a(this,function(y){switch(y.label){case 0:return this.scrolledElements.forEach(poe),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),f=this.options.onclone,m=this.clonedReferenceElement,typeof m>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:y.sent(),y.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,uoe(A)]:[3,4];case 3:y.sent(),y.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(A,m)}).then(function(){return s})]:[2,s]}})})});return A.open(),A.write(foe(document.doctype)+"<html></html>"),moe(this.referenceElement.ownerDocument,a,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),d},e.prototype.createElementClone=function(t){if(m4(t,2))debugger;if(OR(t))return this.createCanvasClone(t);if(jI(t))return this.createVideoClone(t);if(TI(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return y4(r)&&(y4(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),LI(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return gb(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var a=t.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!pf(r)||!aoe(r)&&!r.hasAttribute(MR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!pf(r)||!TI(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(pf(a)&&DR(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(r,l,n)})}else this.appendChildNode(r,a,n)},e.prototype.cloneNode=function(t,r){if(kR(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&pf(t)&&(x4(t)||Lx(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var a=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&x4(s)&&(this.clonedReferenceElement=s),e3(s)&&yoe(s);var A=this.counters.parse(new mI(this.context,a)),d=this.resolvePseudoContent(t,s,o,Jm.BEFORE);LI(t)&&(r=!0),jI(t)||this.cloneChildNodes(t,s,r),d&&s.insertBefore(d,s.firstChild);var f=this.resolvePseudoContent(t,s,l,Jm.AFTER);return f&&s.appendChild(f),this.counters.pop(A),(a&&(this.options.copyStyles||Lx(t))&&!RR(t)||r)&&gb(a,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(Dy(t)||_y(t))&&(Dy(s)||_y(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var a=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new mI(this.context,n));var A=new tie(this.context,n),d=l.createElement("html2canvaspseudoelement");gb(n,d),A.content.forEach(function(m){if(m.type===0)d.appendChild(l.createTextNode(m.value));else if(m.type===22){var y=l.createElement("img");y.src=m.value,y.style.opacity="1",d.appendChild(y)}else if(m.type===18){if(m.name==="attr"){var g=m.values.filter(xn);g.length&&d.appendChild(l.createTextNode(t.getAttribute(g[0].value)||""))}else if(m.name==="counter"){var b=m.values.filter(f0),C=b[0],F=b[1];if(C&&xn(C)){var v=a.counters.getCounterValue(C.value),S=F&&xn(F)?f4.parse(a.context,F.value):3;d.appendChild(l.createTextNode(Mp(v,S,!1)))}}else if(m.name==="counters"){var I=m.values.filter(f0),C=I[0],k=I[1],F=I[2];if(C&&xn(C)){var M=a.counters.getCounterValues(C.value),V=F&&xn(F)?f4.parse(a.context,F.value):3,O=k&&k.type===0?k.value:"",R=M.map(function(U){return Mp(U,V,!1)}).join(O);d.appendChild(l.createTextNode(R))}}}else if(m.type===20)switch(m.value){case"open-quote":d.appendChild(l.createTextNode(fI(A.quotes,a.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(fI(A.quotes,--a.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(m.value))}}),d.className=w4+" "+v4;var f=s===Jm.BEFORE?" "+w4:" "+v4;return Lx(r)?r.className.baseValue+=f:r.className+=f,d}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Jm;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Jm||(Jm={}));var coe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(MR,"true"),e.body.appendChild(r),r},Aoe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},uoe=function(e){return Promise.all([].slice.call(e.images,0).map(Aoe))},doe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var a=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},hoe=["all","d","content"],gb=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);hoe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},foe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},moe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},poe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},goe=":before",xoe=":after",w4="___html2canvas___pseudoelement_before",v4="___html2canvas___pseudoelement_after",MI=`{
    content: "" !important;
    display: none !important;
}`,yoe=function(e){woe(e,"."+w4+goe+MI+`
         .`+v4+xoe+MI)},woe=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},UR=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),voe=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(yb(t)||Noe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ei(this,void 0,void 0,function(){var r,n,s,a,o=this;return _a(this,function(l){switch(l.label){case 0:return r=UR.isSameOrigin(t),n=!xb(t)&&this._options.useCORS===!0&&ma.SUPPORT_CORS_IMAGES&&!r,s=!xb(t)&&!r&&!yb(t)&&typeof this._options.proxy=="string"&&ma.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!xb(t)&&!yb(t)&&!s&&!n?[2]:(a=t,s?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(A,d){var f=new Image;f.onload=function(){return A(f)},f.onerror=d,(Soe(a)||n)&&(f.crossOrigin="anonymous"),f.src=a,f.complete===!0&&setTimeout(function(){return A(f)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(a,o){var l=ma.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")a(A.response);else{var m=new FileReader;m.addEventListener("load",function(){return a(m.result)},!1),m.addEventListener("error",function(y){return o(y)},!1),m.readAsDataURL(A.response)}else o("Failed to proxy resource "+s+" with status code "+A.status)},A.onerror=o;var d=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+d+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),r._options.imageTimeout){var f=r._options.imageTimeout;A.timeout=f,A.ontimeout=function(){return o("Timed out ("+f+"ms) proxying "+s)}}A.send()})},e}(),boe=/^data:image\/svg\+xml/i,Coe=/^data:image\/.*;base64,/i,Boe=/^data:image\/.*/i,Noe=function(e){return ma.SUPPORT_SVG_DRAWING||!Eoe(e)},xb=function(e){return Boe.test(e)},Soe=function(e){return Coe.test(e)},yb=function(e){return e.substr(0,4)==="blob"},Eoe=function(e){return e.substr(-3).toLowerCase()==="svg"||boe.test(e)},Et=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Gh=function(e,t,r){return new Et(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},H1=function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=Gh(this.start,this.startControl,t),s=Gh(this.startControl,this.endControl,t),a=Gh(this.endControl,this.end,t),o=Gh(n,s,t),l=Gh(s,a,t),A=Gh(o,l,t);return r?new e(this.start,n,o,A):new e(A,l,a,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Bo=function(e){return e.type===1},Foe=function(){function e(t){var r=t.styles,n=t.bounds,s=Em(r.borderTopLeftRadius,n.width,n.height),a=s[0],o=s[1],l=Em(r.borderTopRightRadius,n.width,n.height),A=l[0],d=l[1],f=Em(r.borderBottomRightRadius,n.width,n.height),m=f[0],y=f[1],g=Em(r.borderBottomLeftRadius,n.width,n.height),b=g[0],C=g[1],F=[];F.push((a+A)/n.width),F.push((b+m)/n.width),F.push((o+C)/n.height),F.push((d+y)/n.height);var v=Math.max.apply(Math,F);v>1&&(a/=v,o/=v,A/=v,d/=v,m/=v,y/=v,b/=v,C/=v);var S=n.width-A,I=n.height-y,k=n.width-m,M=n.height-C,V=r.borderTopWidth,O=r.borderRightWidth,R=r.borderBottomWidth,_=r.borderLeftWidth,J=Ln(r.paddingTop,t.bounds.width),U=Ln(r.paddingRight,t.bounds.width),Q=Ln(r.paddingBottom,t.bounds.width),X=Ln(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Yn(n.left+_/3,n.top+V/3,a-_/3,o-V/3,nn.TOP_LEFT):new Et(n.left+_/3,n.top+V/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Yn(n.left+S,n.top+V/3,A-O/3,d-V/3,nn.TOP_RIGHT):new Et(n.left+n.width-O/3,n.top+V/3),this.bottomRightBorderDoubleOuterBox=m>0||y>0?Yn(n.left+k,n.top+I,m-O/3,y-R/3,nn.BOTTOM_RIGHT):new Et(n.left+n.width-O/3,n.top+n.height-R/3),this.bottomLeftBorderDoubleOuterBox=b>0||C>0?Yn(n.left+_/3,n.top+M,b-_/3,C-R/3,nn.BOTTOM_LEFT):new Et(n.left+_/3,n.top+n.height-R/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Yn(n.left+_*2/3,n.top+V*2/3,a-_*2/3,o-V*2/3,nn.TOP_LEFT):new Et(n.left+_*2/3,n.top+V*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Yn(n.left+S,n.top+V*2/3,A-O*2/3,d-V*2/3,nn.TOP_RIGHT):new Et(n.left+n.width-O*2/3,n.top+V*2/3),this.bottomRightBorderDoubleInnerBox=m>0||y>0?Yn(n.left+k,n.top+I,m-O*2/3,y-R*2/3,nn.BOTTOM_RIGHT):new Et(n.left+n.width-O*2/3,n.top+n.height-R*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||C>0?Yn(n.left+_*2/3,n.top+M,b-_*2/3,C-R*2/3,nn.BOTTOM_LEFT):new Et(n.left+_*2/3,n.top+n.height-R*2/3),this.topLeftBorderStroke=a>0||o>0?Yn(n.left+_/2,n.top+V/2,a-_/2,o-V/2,nn.TOP_LEFT):new Et(n.left+_/2,n.top+V/2),this.topRightBorderStroke=a>0||o>0?Yn(n.left+S,n.top+V/2,A-O/2,d-V/2,nn.TOP_RIGHT):new Et(n.left+n.width-O/2,n.top+V/2),this.bottomRightBorderStroke=m>0||y>0?Yn(n.left+k,n.top+I,m-O/2,y-R/2,nn.BOTTOM_RIGHT):new Et(n.left+n.width-O/2,n.top+n.height-R/2),this.bottomLeftBorderStroke=b>0||C>0?Yn(n.left+_/2,n.top+M,b-_/2,C-R/2,nn.BOTTOM_LEFT):new Et(n.left+_/2,n.top+n.height-R/2),this.topLeftBorderBox=a>0||o>0?Yn(n.left,n.top,a,o,nn.TOP_LEFT):new Et(n.left,n.top),this.topRightBorderBox=A>0||d>0?Yn(n.left+S,n.top,A,d,nn.TOP_RIGHT):new Et(n.left+n.width,n.top),this.bottomRightBorderBox=m>0||y>0?Yn(n.left+k,n.top+I,m,y,nn.BOTTOM_RIGHT):new Et(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=b>0||C>0?Yn(n.left,n.top+M,b,C,nn.BOTTOM_LEFT):new Et(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?Yn(n.left+_,n.top+V,Math.max(0,a-_),Math.max(0,o-V),nn.TOP_LEFT):new Et(n.left+_,n.top+V),this.topRightPaddingBox=A>0||d>0?Yn(n.left+Math.min(S,n.width-O),n.top+V,S>n.width+O?0:Math.max(0,A-O),Math.max(0,d-V),nn.TOP_RIGHT):new Et(n.left+n.width-O,n.top+V),this.bottomRightPaddingBox=m>0||y>0?Yn(n.left+Math.min(k,n.width-_),n.top+Math.min(I,n.height-R),Math.max(0,m-O),Math.max(0,y-R),nn.BOTTOM_RIGHT):new Et(n.left+n.width-O,n.top+n.height-R),this.bottomLeftPaddingBox=b>0||C>0?Yn(n.left+_,n.top+Math.min(M,n.height-R),Math.max(0,b-_),Math.max(0,C-R),nn.BOTTOM_LEFT):new Et(n.left+_,n.top+n.height-R),this.topLeftContentBox=a>0||o>0?Yn(n.left+_+X,n.top+V+J,Math.max(0,a-(_+X)),Math.max(0,o-(V+J)),nn.TOP_LEFT):new Et(n.left+_+X,n.top+V+J),this.topRightContentBox=A>0||d>0?Yn(n.left+Math.min(S,n.width+_+X),n.top+V+J,S>n.width+_+X?0:A-_+X,d-(V+J),nn.TOP_RIGHT):new Et(n.left+n.width-(O+U),n.top+V+J),this.bottomRightContentBox=m>0||y>0?Yn(n.left+Math.min(k,n.width-(_+X)),n.top+Math.min(I,n.height+V+J),Math.max(0,m-(O+U)),y-(R+Q),nn.BOTTOM_RIGHT):new Et(n.left+n.width-(O+U),n.top+n.height-(R+Q)),this.bottomLeftContentBox=b>0||C>0?Yn(n.left+_+X,n.top+M,Math.max(0,b-(_+X)),C-(R+Q),nn.BOTTOM_LEFT):new Et(n.left+_+X,n.top+n.height-(R+Q))}return e}(),nn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(nn||(nn={}));var Yn=function(e,t,r,n,s){var a=4*((Math.sqrt(2)-1)/3),o=r*a,l=n*a,A=e+r,d=t+n;switch(s){case nn.TOP_LEFT:return new H1(new Et(e,d),new Et(e,d-l),new Et(A-o,t),new Et(A,t));case nn.TOP_RIGHT:return new H1(new Et(e,t),new Et(e+o,t),new Et(A,d-l),new Et(A,d));case nn.BOTTOM_RIGHT:return new H1(new Et(A,t),new Et(A,t+l),new Et(e+o,d),new Et(e,d));case nn.BOTTOM_LEFT:default:return new H1(new Et(A,d),new Et(A-o,d),new Et(e,t+l),new Et(e,t))}},My=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Ioe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Uy=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},joe=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),V1=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),Toe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),Loe=function(e){return e.type===0},QR=function(e){return e.type===1},koe=function(e){return e.type===2},UI=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},Poe=function(e,t,r,n,s){return e.map(function(a,o){switch(o){case 0:return a.add(t,r);case 1:return a.add(t+n,r);case 2:return a.add(t+n,r+s);case 3:return a.add(t,r+s)}return a})},HR=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),VR=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new Foe(this.container),this.container.styles.opacity<1&&this.effects.push(new Toe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new joe(n,s,a))}if(this.container.styles.overflowX!==0){var o=My(this.curves),l=Uy(this.curves);UI(o,l)?this.effects.push(new V1(o,6)):(this.effects.push(new V1(o,2)),this.effects.push(new V1(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var a=n.effects.filter(function(A){return!QR(A)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=My(n.curves),l=Uy(n.curves);UI(o,l)||s.unshift(new V1(l,6))}}else s.unshift.apply(s,a);n=n.parent}return s.filter(function(A){return qs(A.target,t)})},e}(),b4=function(e,t,r,n){e.container.elements.forEach(function(s){var a=qs(s.flags,4),o=qs(s.flags,2),l=new VR(s,e);qs(s.styles.display,2048)&&n.push(l);var A=qs(s.flags,8)?[]:n;if(a||o){var d=a||s.styles.isPositioned()?r:t,f=new HR(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var m=s.styles.zIndex.order;if(m<0){var y=0;d.negativeZIndex.some(function(b,C){return m>b.element.container.styles.zIndex.order?(y=C,!1):y>0}),d.negativeZIndex.splice(y,0,f)}else if(m>0){var g=0;d.positiveZIndex.some(function(b,C){return m>=b.element.container.styles.zIndex.order?(g=C+1,!1):g>0}),d.positiveZIndex.splice(g,0,f)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else s.styles.isFloating()?d.nonPositionedFloats.push(f):d.nonPositionedInlineLevel.push(f);b4(l,f,a?f:r,A)}else s.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),b4(l,t,r,A);qs(s.flags,8)&&KR(s,A)})},KR=function(e,t){for(var r=e instanceof g4?e.start:1,n=e instanceof g4?e.reversed:!1,s=0;s<t.length;s++){var a=t[s];a.container instanceof ER&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=Mp(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},Ooe=function(e){var t=new VR(e,null),r=new HR(t),n=[];return b4(t,r,r,n),KR(t.container,n),r},QI=function(e,t){switch(t){case 0:return Fo(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Fo(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Fo(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Fo(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Roe=function(e,t){switch(t){case 0:return Fo(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Fo(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Fo(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Fo(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Doe=function(e,t){switch(t){case 0:return Fo(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Fo(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Fo(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Fo(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},_oe=function(e,t){switch(t){case 0:return K1(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return K1(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return K1(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return K1(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},K1=function(e,t){var r=[];return Bo(e)?r.push(e.subdivide(.5,!1)):r.push(e),Bo(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Fo=function(e,t,r,n){var s=[];return Bo(e)?s.push(e.subdivide(.5,!1)):s.push(e),Bo(r)?s.push(r.subdivide(.5,!0)):s.push(r),Bo(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),Bo(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},GR=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Qy=function(e){var t=e.styles,r=e.bounds,n=Ln(t.paddingLeft,r.width),s=Ln(t.paddingRight,r.width),a=Ln(t.paddingTop,r.width),o=Ln(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+a+o))},Moe=function(e,t){return e===0?t.bounds:e===2?Qy(t):GR(t)},Uoe=function(e,t){return e===0?t.bounds:e===2?Qy(t):GR(t)},wb=function(e,t,r){var n=Moe(tf(e.styles.backgroundOrigin,t),e),s=Uoe(tf(e.styles.backgroundClip,t),e),a=Qoe(tf(e.styles.backgroundSize,t),r,n),o=a[0],l=a[1],A=Em(tf(e.styles.backgroundPosition,t),n.width-o,n.height-l),d=Hoe(tf(e.styles.backgroundRepeat,t),A,a,n,s),f=Math.round(n.left+A[0]),m=Math.round(n.top+A[1]);return[d,f,m,o,l]},Wh=function(e){return xn(e)&&e.value===Df.AUTO},G1=function(e){return typeof e=="number"},Qoe=function(e,t,r){var n=t[0],s=t[1],a=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(Qs(o)&&l&&Qs(l))return[Ln(o,r.width),Ln(l,r.height)];var A=G1(a);if(xn(o)&&(o.value===Df.CONTAIN||o.value===Df.COVER)){if(G1(a)){var d=r.width/r.height;return d<a!=(o.value===Df.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var f=G1(n),m=G1(s),y=f||m;if(Wh(o)&&(!l||Wh(l))){if(f&&m)return[n,s];if(!A&&!y)return[r.width,r.height];if(y&&A){var g=f?n:s*a,b=m?s:n/a;return[g,b]}var C=f?n:r.width,F=m?s:r.height;return[C,F]}if(A){var v=0,S=0;return Qs(o)?v=Ln(o,r.width):Qs(l)&&(S=Ln(l,r.height)),Wh(o)?v=S*a:(!l||Wh(l))&&(S=v/a),[v,S]}var I=null,k=null;if(Qs(o)?I=Ln(o,r.width):l&&Qs(l)&&(k=Ln(l,r.height)),I!==null&&(!l||Wh(l))&&(k=f&&m?I/n*s:r.height),k!==null&&Wh(o)&&(I=f&&m?k/s*n:r.width),I!==null&&k!==null)return[I,k];throw new Error("Unable to calculate background-size for element")},tf=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},Hoe=function(e,t,r,n,s){var a=t[0],o=t[1],l=r[0],A=r[1];switch(e){case 2:return[new Et(Math.round(n.left),Math.round(n.top+o)),new Et(Math.round(n.left+n.width),Math.round(n.top+o)),new Et(Math.round(n.left+n.width),Math.round(A+n.top+o)),new Et(Math.round(n.left),Math.round(A+n.top+o))];case 3:return[new Et(Math.round(n.left+a),Math.round(n.top)),new Et(Math.round(n.left+a+l),Math.round(n.top)),new Et(Math.round(n.left+a+l),Math.round(n.height+n.top)),new Et(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new Et(Math.round(n.left+a),Math.round(n.top+o)),new Et(Math.round(n.left+a+l),Math.round(n.top+o)),new Et(Math.round(n.left+a+l),Math.round(n.top+o+A)),new Et(Math.round(n.left+a),Math.round(n.top+o+A))];default:return[new Et(Math.round(s.left),Math.round(s.top)),new Et(Math.round(s.left+s.width),Math.round(s.top)),new Et(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Et(Math.round(s.left),Math.round(s.height+s.top))]}},Voe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",HI="Hidden Text",Koe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),s.src=Voe,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(HI)),n.appendChild(a),n.appendChild(s);var l=s.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(HI)),n.style.lineHeight="normal",s.style.verticalAlign="super";var A=s.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:A}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),WR=function(){function e(t,r){this.context=t,this.options=r}return e}(),Goe=1e4,Woe=function(e){pl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new Koe(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),koe(r)&&(this.ctx.globalAlpha=r.opacity),Loe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),QR(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return ei(this,void 0,void 0,function(){var n;return _a(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return ei(this,void 0,void 0,function(){return _a(this,function(n){switch(n.label){case 0:if(qs(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var o=JN(r.text);o.reduce(function(l,A){return a.ctx.fillText(A,l,r.bounds.top+s),l+a.ctx.measureText(A).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=Yoe(r.fontFamily).join(", "),a=hg(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,s].join(" "),s,a]},t.prototype.renderTextNode=function(r,n){return ei(this,void 0,void 0,function(){var s,a,o,l,A,d,f,m,y=this;return _a(this,function(g){return s=this.createFontStyle(n),a=s[0],o=s[1],l=s[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,l),d=A.baseline,f=A.middle,m=n.paintOrder,r.textBounds.forEach(function(b){m.forEach(function(C){switch(C){case 0:y.ctx.fillStyle=sa(n.color),y.renderTextWithLetterSpacing(b,n.letterSpacing,d);var F=n.textShadow;F.length&&b.text.trim().length&&(F.slice(0).reverse().forEach(function(v){y.ctx.shadowColor=sa(v.color),y.ctx.shadowOffsetX=v.offsetX.number*y.options.scale,y.ctx.shadowOffsetY=v.offsetY.number*y.options.scale,y.ctx.shadowBlur=v.blur.number,y.renderTextWithLetterSpacing(b,n.letterSpacing,d)}),y.ctx.shadowColor="",y.ctx.shadowOffsetX=0,y.ctx.shadowOffsetY=0,y.ctx.shadowBlur=0),n.textDecorationLine.length&&(y.ctx.fillStyle=sa(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(v){switch(v){case 1:y.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+d),b.bounds.width,1);break;case 2:y.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:y.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+f),b.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&b.text.trim().length&&(y.ctx.strokeStyle=sa(n.webkitTextStrokeColor),y.ctx.lineWidth=n.webkitTextStrokeWidth,y.ctx.lineJoin=window.chrome?"miter":"round",y.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+d)),y.ctx.strokeStyle="",y.ctx.lineWidth=0,y.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=Qy(r),o=Uy(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return ei(this,void 0,void 0,function(){var n,s,a,o,l,A,S,S,d,f,m,y,k,g,b,M,C,F,v,S,I,k,M;return _a(this,function(V){switch(V.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,a=n.styles,o=0,l=n.textNodes,V.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,a)]):[3,4];case 2:V.sent(),V.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof BR))return[3,8];V.label=5;case 5:return V.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return S=V.sent(),this.renderReplacedElement(n,s,S),[3,8];case 7:return V.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof NR&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof SR))return[3,12];V.label=9;case 9:return V.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return S=V.sent(),this.renderReplacedElement(n,s,S),[3,12];case 11:return V.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof jR&&n.tree?(d=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:f=V.sent(),n.width&&n.height&&this.ctx.drawImage(f,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),V.label=14;case 14:if(n instanceof ZN&&(m=Math.min(n.bounds.width,n.bounds.height),n.type===Oy?n.checked&&(this.ctx.save(),this.path([new Et(n.bounds.left+m*.39363,n.bounds.top+m*.79),new Et(n.bounds.left+m*.16,n.bounds.top+m*.5549),new Et(n.bounds.left+m*.27347,n.bounds.top+m*.44071),new Et(n.bounds.left+m*.39694,n.bounds.top+m*.5649),new Et(n.bounds.left+m*.72983,n.bounds.top+m*.23),new Et(n.bounds.left+m*.84,n.bounds.top+m*.34085),new Et(n.bounds.left+m*.39363,n.bounds.top+m*.79)]),this.ctx.fillStyle=sa(II),this.ctx.fill(),this.ctx.restore()):n.type===Ry&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+m/2,n.bounds.top+m/2,m/4,0,Math.PI*2,!0),this.ctx.fillStyle=sa(II),this.ctx.fill(),this.ctx.restore())),zoe(n)&&n.value.length){switch(y=this.createFontStyle(a),k=y[0],g=y[1],b=this.fontMetrics.getMetrics(k,g).baseline,this.ctx.font=k,this.ctx.fillStyle=sa(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=qoe(n.styles.textAlign),M=Qy(n),C=0,n.styles.textAlign){case 1:C+=M.width/2;break;case 2:C+=M.width;break}F=M.add(C,0,0,-M.height/2+1),this.ctx.save(),this.path([new Et(M.left,M.top),new Et(M.left+M.width,M.top),new Et(M.left+M.width,M.top+M.height),new Et(M.left,M.top+M.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ym(n.value,F),a.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!qs(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(v=n.styles.listStyleImage,v.type!==0)return[3,18];S=void 0,I=v.url,V.label=15;case 15:return V.trys.push([15,17,,18]),[4,this.context.cache.match(I)];case 16:return S=V.sent(),this.ctx.drawImage(S,n.bounds.left-(S.width+10),n.bounds.top),[3,18];case 17:return V.sent(),this.context.logger.error("Error loading list-style-image "+I),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(k=this.createFontStyle(a)[0],this.ctx.font=k,this.ctx.fillStyle=sa(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",M=new Zc(n.bounds.left,n.bounds.top+Ln(n.styles.paddingTop,n.bounds.width),n.bounds.width,dI(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ym(r.listValue,M),a.letterSpacing,dI(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),V.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return ei(this,void 0,void 0,function(){var n,s,v,a,o,v,l,A,v,d,f,v,m,y,v,g,b,v,C,F,v;return _a(this,function(S){switch(S.label){case 0:if(qs(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:S.sent(),n=0,s=r.negativeZIndex,S.label=2;case 2:return n<s.length?(v=s[n],[4,this.renderStack(v)]):[3,5];case 3:S.sent(),S.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:S.sent(),a=0,o=r.nonInlineLevel,S.label=7;case 7:return a<o.length?(v=o[a],[4,this.renderNode(v)]):[3,10];case 8:S.sent(),S.label=9;case 9:return a++,[3,7];case 10:l=0,A=r.nonPositionedFloats,S.label=11;case 11:return l<A.length?(v=A[l],[4,this.renderStack(v)]):[3,14];case 12:S.sent(),S.label=13;case 13:return l++,[3,11];case 14:d=0,f=r.nonPositionedInlineLevel,S.label=15;case 15:return d<f.length?(v=f[d],[4,this.renderStack(v)]):[3,18];case 16:S.sent(),S.label=17;case 17:return d++,[3,15];case 18:m=0,y=r.inlineLevel,S.label=19;case 19:return m<y.length?(v=y[m],[4,this.renderNode(v)]):[3,22];case 20:S.sent(),S.label=21;case 21:return m++,[3,19];case 22:g=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,S.label=23;case 23:return g<b.length?(v=b[g],[4,this.renderStack(v)]):[3,26];case 24:S.sent(),S.label=25;case 25:return g++,[3,23];case 26:C=0,F=r.positiveZIndex,S.label=27;case 27:return C<F.length?(v=F[C],[4,this.renderStack(v)]):[3,30];case 28:S.sent(),S.label=29;case 29:return C++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,a){var o=Bo(s)?s.start:s;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Bo(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},t.prototype.resizeImage=function(r,n,s){var a;if(r.width===n&&r.height===s)return r;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var A=l.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,s),l},t.prototype.renderBackgroundImage=function(r){return ei(this,void 0,void 0,function(){var n,s,a,o,l,A;return _a(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,s=function(f){var m,y,g,J,q,W,X,Z,R,b,J,q,W,X,Z,C,F,v,S,I,k,M,V,O,R,_,J,U,Q,X,Z,$,q,W,Y,K,ae,be,H,ee,ie,le;return _a(this,function(ce){switch(ce.label){case 0:if(f.type!==0)return[3,5];m=void 0,y=f.url,ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,a.context.cache.match(y)];case 2:return m=ce.sent(),[3,4];case 3:return ce.sent(),a.context.logger.error("Error loading background-image "+y),[3,4];case 4:return m&&(g=wb(r,n,[m.width,m.height,m.width/m.height]),J=g[0],q=g[1],W=g[2],X=g[3],Z=g[4],R=a.ctx.createPattern(a.resizeImage(m,X,Z),"repeat"),a.renderRepeat(J,R,q,W)),[3,6];case 5:Lse(f)?(b=wb(r,n,[null,null,null]),J=b[0],q=b[1],W=b[2],X=b[3],Z=b[4],C=Ese(f.angle,X,Z),F=C[0],v=C[1],S=C[2],I=C[3],k=C[4],M=document.createElement("canvas"),M.width=X,M.height=Z,V=M.getContext("2d"),O=V.createLinearGradient(v,I,S,k),AI(f.stops,F).forEach(function(me){return O.addColorStop(me.stop,sa(me.color))}),V.fillStyle=O,V.fillRect(0,0,X,Z),X>0&&Z>0&&(R=a.ctx.createPattern(M,"repeat"),a.renderRepeat(J,R,q,W))):kse(f)&&(_=wb(r,n,[null,null,null]),J=_[0],U=_[1],Q=_[2],X=_[3],Z=_[4],$=f.position.length===0?[qN]:f.position,q=Ln($[0],X),W=Ln($[$.length-1],Z),Y=Fse(f,q,W,X,Z),K=Y[0],ae=Y[1],K>0&&ae>0&&(be=a.ctx.createRadialGradient(U+q,Q+W,0,U+q,Q+W,K),AI(f.stops,K*2).forEach(function(me){return be.addColorStop(me.stop,sa(me.color))}),a.path(J),a.ctx.fillStyle=be,K!==ae?(H=r.bounds.left+.5*r.bounds.width,ee=r.bounds.top+.5*r.bounds.height,ie=ae/K,le=1/ie,a.ctx.save(),a.ctx.translate(H,ee),a.ctx.transform(1,0,0,ie,0,0),a.ctx.translate(-H,-ee),a.ctx.fillRect(U,le*(Q-ee)+ee,X,Z*le),a.ctx.restore()):a.ctx.fill())),ce.label=6;case 6:return n--,[2]}})},a=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(A=l[o],[5,s(A)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return ei(this,void 0,void 0,function(){return _a(this,function(a){return this.path(QI(s,n)),this.ctx.fillStyle=sa(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,a){return ei(this,void 0,void 0,function(){var o,l;return _a(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,a)]:[3,2];case 1:return A.sent(),[2];case 2:return o=Roe(a,s),this.path(o),this.ctx.fillStyle=sa(r),this.ctx.fill(),l=Doe(a,s),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return ei(this,void 0,void 0,function(){var n,s,a,o,l,A,d,f,m=this;return _a(this,function(y){switch(y.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!Eu(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=$oe(tf(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Eu(n.backgroundColor)||(this.ctx.fillStyle=sa(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:y.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){m.ctx.save();var b=My(r.curves),C=g.inset?0:Goe,F=Poe(b,-C+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(m.path(b),m.ctx.clip(),m.mask(F)):(m.mask(b),m.ctx.clip(),m.path(F)),m.ctx.shadowOffsetX=g.offsetX.number+C,m.ctx.shadowOffsetY=g.offsetY.number,m.ctx.shadowColor=sa(g.color),m.ctx.shadowBlur=g.blur.number,m.ctx.fillStyle=g.inset?sa(g.color):"rgba(0,0,0,1)",m.ctx.fill(),m.ctx.restore()}),y.label=2;case 2:l=0,A=0,d=a,y.label=3;case 3:return A<d.length?(f=d[A],f.style!==0&&!Eu(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return y.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,l,r.curves,3)];case 6:return y.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,l,r.curves)];case 8:return y.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,l,r.curves)];case 10:y.sent(),y.label=11;case 11:l++,y.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,a,o){return ei(this,void 0,void 0,function(){var l,A,d,f,m,y,g,b,C,F,v,S,I,k,M,V,M,V;return _a(this,function(O){return this.ctx.save(),l=_oe(a,s),A=QI(a,s),o===2&&(this.path(A),this.ctx.clip()),Bo(A[0])?(d=A[0].start.x,f=A[0].start.y):(d=A[0].x,f=A[0].y),Bo(A[1])?(m=A[1].end.x,y=A[1].end.y):(m=A[1].x,y=A[1].y),s===0||s===2?g=Math.abs(d-m):g=Math.abs(f-y),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(A.slice(0,2)),b=n<3?n*3:n*2,C=n<3?n*2:n,o===3&&(b=n,C=n),F=!0,g<=b*2?F=!1:g<=b*2+C?(v=g/(2*b+C),b*=v,C*=v):(S=Math.floor((g+C)/(b+C)),I=(g-S*b)/(S-1),k=(g-(S+1)*b)/S,C=k<=0||Math.abs(C-I)<Math.abs(C-k)?I:k),F&&(o===3?this.ctx.setLineDash([0,b+C]):this.ctx.setLineDash([b,C])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=sa(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Bo(A[0])&&(M=A[3],V=A[0],this.ctx.beginPath(),this.formatPath([new Et(M.end.x,M.end.y),new Et(V.start.x,V.start.y)]),this.ctx.stroke()),Bo(A[1])&&(M=A[1],V=A[2],this.ctx.beginPath(),this.formatPath([new Et(M.end.x,M.end.y),new Et(V.start.x,V.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return ei(this,void 0,void 0,function(){var n;return _a(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sa(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Ooe(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(WR),zoe=function(e){return e instanceof IR||e instanceof FR?!0:e instanceof ZN&&e.type!==Ry&&e.type!==Oy},$oe=function(e,t){switch(e){case 0:return My(t);case 2:return Ioe(t);case 1:default:return Uy(t)}},qoe=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Xoe=["-apple-system","system-ui"],Yoe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Xoe.indexOf(t)===-1}):e},Joe=function(e){pl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return ei(this,void 0,void 0,function(){var n,s;return _a(this,function(a){switch(a.label){case 0:return n=p4(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Zoe(n)];case 1:return s=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sa(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(WR),Zoe=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},ele=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,C1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,C1([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,C1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,C1([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),tle=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new ele({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new voe(this,t)}return e.instanceCount=1,e}(),t3=function(e,t){return t===void 0&&(t={}),rle(e,t)};typeof window<"u"&&UR.setContext(window);var rle=function(e,t){return ei(void 0,void 0,void 0,function(){var r,n,s,a,o,l,A,d,f,m,y,g,b,C,F,v,S,I,k,M,O,V,O,R,_,J,U,Q,X,Z,$,q,W,Y,K,ae,be,H,ee,ie;return _a(this,function(le){switch(le.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(R=t.allowTaint)!==null&&R!==void 0?R:!1,imageTimeout:(_=t.imageTimeout)!==null&&_!==void 0?_:15e3,proxy:t.proxy,useCORS:(J=t.useCORS)!==null&&J!==void 0?J:!1},a=t4({logging:(U=t.logging)!==null&&U!==void 0?U:!0,cache:t.cache},s),o={windowWidth:(Q=t.windowWidth)!==null&&Q!==void 0?Q:n.innerWidth,windowHeight:(X=t.windowHeight)!==null&&X!==void 0?X:n.innerHeight,scrollX:(Z=t.scrollX)!==null&&Z!==void 0?Z:n.pageXOffset,scrollY:($=t.scrollY)!==null&&$!==void 0?$:n.pageYOffset},l=new Zc(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new tle(a,l),d=(q=t.foreignObjectRendering)!==null&&q!==void 0?q:!1,f={allowTaint:(W=t.allowTaint)!==null&&W!==void 0?W:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),m=new _I(A,e,f),y=m.clonedReferenceElement,y?[4,m.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=le.sent(),b=e3(y)||soe(y)?Pre(y.ownerDocument):o2(A,y),C=b.width,F=b.height,v=b.left,S=b.top,I=nle(A,y,t.backgroundColor),k={canvas:t.canvas,backgroundColor:I,scale:(K=(Y=t.scale)!==null&&Y!==void 0?Y:n.devicePixelRatio)!==null&&K!==void 0?K:1,x:((ae=t.x)!==null&&ae!==void 0?ae:0)+v,y:((be=t.y)!==null&&be!==void 0?be:0)+S,width:(H=t.width)!==null&&H!==void 0?H:Math.ceil(C),height:(ee=t.height)!==null&&ee!==void 0?ee:Math.ceil(F)},d?(A.logger.debug("Document cloned, using foreign object rendering"),O=new Joe(A,k),[4,O.render(y)]):[3,3];case 2:return M=le.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+v+","+S+" with size "+C+"x"+F+" using computed rendering"),A.logger.debug("Starting DOM parsing"),V=LR(A,y),I===V.styles.backgroundColor&&(V.styles.backgroundColor=Vc.TRANSPARENT),A.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),O=new Woe(A,k),[4,O.render(V)];case 4:M=le.sent(),le.label=5;case 5:return(!((ie=t.removeContainer)!==null&&ie!==void 0)||ie)&&(_I.destroy(g)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,M]}})})},nle=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?qm(e,getComputedStyle(n.documentElement).backgroundColor):Vc.TRANSPARENT,a=n.body?qm(e,getComputedStyle(n.body).backgroundColor):Vc.TRANSPARENT,o=typeof r=="string"?qm(e,r):r===null?Vc.TRANSPARENT:4294967295;return t===n.documentElement?Eu(s)?Eu(a)?o:a:s:o};const sle=Object.freeze(Object.defineProperty({__proto__:null,default:t3},Symbol.toStringTag,{value:"Module"})),VI=e=>new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),vb=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),ale=({isOpen:e,onClose:t,studentId:r})=>{const[n,s]=N.useState(null),[a,o]=N.useState(!0),[l,A]=N.useState(null),d=N.useRef(null),f=N.useCallback(async()=>{if(r){o(!0),A(null);try{const C=await Ue.getStudent(r),F={...C,name:C.name||"",email:C.email||"",phone:C.phone||"",address:C.address||"",membershipStart:C.membershipStart||new Date().toISOString(),membershipEnd:C.membershipEnd||new Date().toISOString(),status:C.status||"active",totalFee:C.totalFee??0,amountPaid:C.amountPaid??0,dueAmount:C.dueAmount??0,cash:C.cash??0,online:C.online??0,securityMoney:C.securityMoney??0,branchId:C.branchId??0,remark:C.remark||null,createdAt:C.createdAt||new Date().toISOString(),discount:0};C.discount!==void 0&&(F.discount=Number(C.discount)||0),s(F)}catch(C){console.error("Error fetching student data:",C),A("Failed to load student data"),Fe.error("Failed to load student data")}finally{o(!1)}}},[r]);N.useEffect(()=>{e&&r&&f()},[e,r,f]);const m=bO.useReactToPrint({content:()=>d.current,onAfterPrint:()=>Fe.success("Invoice printed successfully!"),pageStyle:`
      @page { 
        size: A4;
        margin: 10mm;
      }
      @media print {
        body { 
          -webkit-print-color-adjust: exact; 
        }
        .no-print { 
          display: none !important; 
        }
      }
    `,documentTitle:`Invoice_${(n==null?void 0:n.name)||"Student"}_${new Date().toISOString().split("T")[0]}`,removeAfterPrint:!1}),y=N.useCallback(async()=>{if(!d.current)return null;const C=d.current,v=(await t3(C,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),S=new rr("p","mm","a4"),I=S.getImageProperties(v),k=S.internal.pageSize.getWidth(),M=I.height*k/I.width;return S.addImage(v,"PNG",0,0,k,M),S},[]),g=N.useCallback(async()=>{if(n)try{const C=await y();if(!C)return;const F=`invoice_${n.name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;C.save(F),Fe.success("Invoice downloaded as PDF!")}catch(C){console.error("Error generating PDF:",C),Fe.error("Failed to generate PDF")}},[n,y]),b=N.useCallback(async()=>{if(n)try{const C=await y();if(!C)return;const F=C.output("blob"),v=URL.createObjectURL(F),S=document.createElement("a");S.href=v,S.download=`invoice_${n.name.replace(/\s+/g,"_")}.pdf`,document.body.appendChild(S),S.click(),document.body.removeChild(S),setTimeout(()=>URL.revokeObjectURL(v),100);const I=`Here's the invoice for ${n.name}`,k=`https://wa.me/?text=${encodeURIComponent(I)}`;window.open(k,"_blank"),Fe.success("Downloaded PDF. Please attach it to WhatsApp.")}catch(C){console.error("Error sharing via WhatsApp:",C),Fe.error("Failed to share via WhatsApp")}},[n,y]);return e?i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:i.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[i.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75"}),i.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 px-4 py-3 sm:px-6 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg leading-6 font-medium text-white",children:n?`Invoice - ${n.name}`:"Invoice"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:m,className:"p-1 rounded-full text-white hover:bg-blue-700",children:i.jsx(FN,{className:"h-5 w-5"})}),i.jsx("button",{onClick:t,className:"p-1 rounded-full text-white hover:bg-blue-700",children:i.jsx(AA,{className:"h-5 w-5"})})]})]}),i.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6",children:a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l?i.jsxs("div",{className:"text-center py-10",children:[i.jsx(ci,{className:"mx-auto h-12 w-12 text-red-500"}),i.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Error loading invoice"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l}),i.jsx("button",{onClick:f,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Retry"})]}):n?i.jsxs("div",{ref:d,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bill To:"}),i.jsx("p",{className:"text-gray-900",children:n.name}),n.fatherName&&i.jsxs("p",{className:"text-gray-600",children:["S/O ",n.fatherName]}),n.registrationNumber&&i.jsxs("p",{className:"text-gray-600",children:["Reg: ",n.registrationNumber]}),n.phone&&i.jsxs("p",{className:"text-gray-600 flex items-center",children:[i.jsx(cA,{className:"h-4 w-4 mr-1"})," ",n.phone]}),n.email&&i.jsxs("p",{className:"text-gray-600 flex items-center",children:[i.jsx(Ru,{className:"h-4 w-4 mr-1"})," ",n.email]})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Membership Period"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Start Date"}),i.jsx("p",{className:"text-sm font-medium",children:VI(n.membershipStart)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"End Date"}),i.jsx("p",{className:"text-sm font-medium",children:VI(n.membershipEnd)})]})]})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payment Summary"}),i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Total Fee:"}),i.jsx("span",{className:"font-medium",children:vb(n.totalFee)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Amount Paid:"}),i.jsx("span",{className:"text-green-600",children:vb(n.amountPaid)})]}),i.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2",children:[i.jsx("span",{className:"font-medium",children:"Balance Due:"}),i.jsx("span",{className:"font-medium",children:vb(n.dueAmount)})]})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsxs("button",{onClick:g,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[i.jsx(Hw,{className:"h-4 w-4 mr-2"}),"Download"]}),i.jsxs("button",{onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:[i.jsx(VX,{className:"h-4 w-4 mr-2"}),"Share via WhatsApp"]})]})]}):null})]})]})}):null},ile=Ye.memo(ale),ole=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",lle=()=>{var Ie;const[e,t]=N.useState(null),[r,n]=N.useState([]),[s,a]=N.useState([]),[o,l]=N.useState(void 0),[A,d]=N.useState(!0),[f,m]=N.useState(""),[y,g]=N.useState(1),[b,C]=N.useState(10),[F,v]=N.useState(""),[S,I]=N.useState(""),[k,M]=N.useState("desc"),[V,O]=N.useState(!1),[R,_]=N.useState(!1),[J,U]=N.useState(!1),[Q,X]=N.useState(null),Z=Tr(),$=ve=>{X(ve),U(!0)},q=()=>{_(!0)},W=async()=>{try{const ve=await Ue.getLibraryProfile();t({id:ve.library.id,library_code:ve.library.libraryCode,name:ve.library.libraryName})}catch(ve){console.error("Error fetching library data:",ve),Fe.error("Failed to load library information")}};N.useEffect(()=>{W()},[]);const Y=async()=>{try{d(!0);const Ce=(await Ue.getStudents(F||void 0,S||void 0,o)).students.map(Pe=>{const Re=new Date(Pe.membershipEnd)<new Date;return{...Pe,status:Re?"expired":"active",createdAt:Pe.createdAt||"N/A",isActive:Pe.isActive}});n(Ce)}catch(ve){console.error("Failed to fetch students:",ve.message),Fe.error("Failed to fetch students")}finally{d(!1)}};N.useEffect(()=>{(async()=>{try{const Ce=await Ue.getBranches();a(Ce||[])}catch(Ce){console.error("Failed to fetch branches:",Ce.message),Fe.error("Failed to fetch branches"),a([])}})(),Y(),W()},[o,F,S]),N.useEffect(()=>{g(1)},[f,o,F,S]);const K=()=>{M(ve=>ve==="asc"?"desc":"asc")},ae=async(ve,Ce)=>{const Pe=!Ce,Me=Pe?"activate":"deactivate";if(window.confirm(`Are you sure you want to ${Me} this student?${Pe?"":`
This will unassign their seat.`}`))try{await Ue.updateStudentStatus(ve,{isActive:Pe}),Fe.success(`Student ${Me}d successfully`),Y()}catch{Fe.error(`Failed to ${Me} student`)}},H=[...r].sort((ve,Ce)=>{const Pe=new Date(ve.createdAt),Me=new Date(Ce.createdAt),Je=isNaN(Pe.getTime())?0:Pe.getTime(),Re=isNaN(Me.getTime())?0:Me.getTime();return k==="asc"?Je-Re:Re-Je}).filter(ve=>ve.name.toLowerCase().includes(f.toLowerCase())||ve.phone.toLowerCase().includes(f.toLowerCase())||ve.registrationNumber&&ve.registrationNumber.toLowerCase().includes(f.toLowerCase())),ee=y*b,ie=ee-b,le=H.slice(ie,ee),ce=Math.ceil(H.length/b),me=async ve=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Ue.deleteStudent(ve),n(r.filter(Ce=>Ce.id!==ve)),Fe.success("Student deleted successfully")}catch(Ce){console.error("Failed to delete student:",Ce.message),Fe.error("Failed to delete student")}},we=ve=>{Z(`/students/${ve}`)};return o&&((Ie=s.find(ve=>ve.id===o))==null||Ie.name),i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(On,{isCollapsed:V,setIsCollapsed:O,onBarcodeClick:q}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"All Students"}),i.jsx("p",{className:"text-gray-500",children:"Manage all your students"})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-col md:flex-row items-center justify-between gap-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Students List"}),i.jsxs("div",{className:"relative w-full md:w-64",children:[i.jsx(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:f,onChange:ve=>m(ve.target.value)})]})]}),i.jsxs("div",{className:"p-4 flex flex-wrap items-center gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{className:"text-sm text-gray-500",children:"Branch:"}),i.jsxs("select",{value:o??"",onChange:ve=>l(ve.target.value?Number(ve.target.value):void 0),className:"p-2 border rounded text-sm",children:[i.jsx("option",{value:"",children:"All Branches"}),s.map(ve=>i.jsx("option",{value:ve.id,children:ve.name},ve.id))]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{className:"text-sm text-gray-500",children:"From:"}),i.jsx("input",{type:"date",value:F,onChange:ve=>v(ve.target.value),className:"p-2 border rounded"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{className:"text-sm text-gray-500",children:"To:"}),i.jsx("input",{type:"date",value:S,onChange:ve=>I(ve.target.value),className:"p-2 border rounded"})]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(ac,{children:[i.jsx(ic,{children:i.jsxs(Zn,{children:[i.jsx(Jt,{children:"Name"}),i.jsx(Jt,{children:"Registration"}),i.jsx(Jt,{children:"Phone"}),i.jsx(Jt,{children:"Status"}),i.jsx(Jt,{children:"Seat"}),i.jsx(Jt,{children:i.jsxs("button",{className:"flex items-center gap-1",onClick:K,children:["Added On ",k==="asc"?i.jsx(SX,{size:14}):i.jsx(NX,{size:14})]})}),i.jsx(Jt,{children:"Invoice"}),i.jsx(Jt,{children:"Action"}),i.jsx(Jt,{children:"Actions"})]})}),i.jsx(oc,{children:A?i.jsx(Zn,{children:i.jsx(Gt,{colSpan:9,className:"text-center py-8",children:"Loading..."})}):le.length>0?le.map(ve=>i.jsxs(Zn,{className:`${ve.isActive?"":"bg-gray-100 text-gray-400"}`,children:[i.jsx(Gt,{children:ve.name}),i.jsx(Gt,{children:ve.registrationNumber||"N/A"}),i.jsx(Gt,{children:ve.phone}),i.jsx(Gt,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${ve.isActive?ve.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:ve.isActive?ve.status==="active"?"Active":"Expired":"Inactive"})}),i.jsx(Gt,{children:ve.seatNumber||"N/A"}),i.jsx(Gt,{children:ole(ve.createdAt)}),i.jsx(Gt,{children:i.jsxs("button",{onClick:()=>$(ve.id),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 p-2 rounded transition-colors",title:"View Invoice",children:[i.jsx(k5,{size:16}),i.jsx("span",{className:"text-xs font-medium",children:"Invoice"})]})}),i.jsx(Gt,{children:i.jsxs("button",{onClick:()=>ae(ve.id,ve.isActive),className:`flex items-center gap-1 text-xs p-1 rounded font-semibold ${ve.isActive?"text-yellow-600 hover:bg-yellow-100":"text-green-600 hover:bg-green-100"}`,title:ve.isActive?"Deactivate Student":"Activate Student",children:[ve.isActive?i.jsx(v7,{size:16}):i.jsx(b7,{size:16}),ve.isActive?"Deactivate":"Activate"]})}),i.jsxs(Gt,{children:[i.jsx("button",{onClick:()=>we(ve.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:i.jsx(Oi,{size:16})}),i.jsx("button",{onClick:()=>me(ve.id),className:"text-red-600 hover:text-red-800 p-2",children:i.jsx(Oo,{size:16})})]})]},ve.id)):i.jsx(Zn,{children:i.jsx(Gt,{colSpan:9,className:"text-center py-8",children:"No students found."})})})]})}),!A&&H.length>0&&i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border-t p-4 gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("select",{value:b,onChange:ve=>C(Number(ve.target.value)),className:"text-sm border rounded py-2 px-3",children:[i.jsx("option",{value:10,children:"10"}),i.jsx("option",{value:25,children:"25"}),i.jsx("option",{value:50,children:"50"}),i.jsx("option",{value:100,children:"100"})]}),i.jsx("span",{className:"text-sm text-gray-500",children:"per page"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>g(ve=>Math.max(ve-1,1)),disabled:y===1,className:"p-2 rounded border disabled:opacity-50",children:i.jsx($u,{size:16})}),i.jsxs("span",{className:"text-sm",children:["Page ",y," of ",ce]}),i.jsx("button",{onClick:()=>g(ve=>Math.min(ve+1,ce)),disabled:y===ce,className:"p-2 rounded border disabled:opacity-50",children:i.jsx(Tn,{size:16})})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",ie+1,"-",Math.min(ee,H.length)," of ",H.length]})]})]})]})})]}),e&&i.jsx(ug,{isOpen:R,onClose:()=>_(!1),libraryCode:e.library_code,libraryName:e.name,libraryId:e.id}),Q&&i.jsx(ile,{isOpen:J,onClose:()=>{U(!1),X(null)},studentId:Q})]})},KI=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,GI=OP,g2=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return GI(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(d=>{const f=r==null?void 0:r[d],m=a==null?void 0:a[d];if(f===null)return null;const y=KI(f)||KI(m);return s[d][y]}),l=r&&Object.entries(r).reduce((d,f)=>{let[m,y]=f;return y===void 0||(d[m]=y),d},{}),A=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:m,className:y,...g}=f;return Object.entries(g).every(b=>{let[C,F]=b;return Array.isArray(F)?F.includes({...a,...l}[C]):{...a,...l}[C]===F})?[...d,m,y]:d},[]);return GI(e,o,A,r==null?void 0:r.class,r==null?void 0:r.className)},C4=g2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Xt=N.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?dh:"button";return i.jsx(o,{className:hr(C4({variant:t,size:r,className:e})),ref:a,...s})});Xt.displayName="Button";const WI=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0);N.useEffect(()=>{(async()=>{n(!0);try{const l=await Ue.getExpiringSoon();t(l.students)}catch(l){Fe.error(l.message||"Failed to fetch expiring memberships.")}finally{n(!1)}})()},[]);const s=o=>{if(!o){Fe.error("No phone number available for this student.");return}let l=o.replace(/\D/g,"");l.length===10&&(l=`91${l}`);const A=`https://wa.me/${l}`;window.open(A,"_blank","noopener,noreferrer")},a=o=>new Date(o).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});return i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(On,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Expiring Memberships"}),i.jsx("p",{className:"text-gray-500",children:"View all memberships expiring soon."})]}),i.jsx("div",{className:"rounded-lg border bg-white shadow-sm",children:r?i.jsx("p",{className:"p-4 text-center text-gray-500",children:"Loading..."}):e.length===0?i.jsx("p",{className:"p-4 text-center text-gray-500",children:"No memberships are expiring soon."}):i.jsxs(ac,{children:[i.jsx(ic,{children:i.jsxs(Zn,{children:[i.jsx(Jt,{children:"Name"}),i.jsx(Jt,{children:"Phone"}),i.jsx(Jt,{children:"Expiry Date"}),i.jsx(Jt,{className:"text-right",children:"Contact"})]})}),i.jsx(oc,{children:e.map(o=>i.jsxs(Zn,{children:[i.jsx(Gt,{className:"font-medium",children:o.name}),i.jsx(Gt,{children:o.phone}),i.jsx(Gt,{children:a(o.membershipEnd)}),i.jsx(Gt,{className:"text-right",children:i.jsx(Xt,{variant:"ghost",size:"icon",onClick:()=>s(o.phone),title:`Send WhatsApp message to ${o.name}`,children:i.jsx(EN,{className:"h-5 w-5 text-green-600"})})})]},o.id))})]})})]})})]})]})};var bb="focusScope.autoFocusOnMount",Cb="focusScope.autoFocusOnUnmount",zI={bubbles:!1,cancelable:!0},cle="FocusScope",r3=N.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,A]=N.useState(null),d=Yl(s),f=Yl(a),m=N.useRef(null),y=Gn(t,C=>A(C)),g=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let C=function(I){if(g.paused||!l)return;const k=I.target;l.contains(k)?m.current=k:HA(m.current,{select:!0})},F=function(I){if(g.paused||!l)return;const k=I.relatedTarget;k!==null&&(l.contains(k)||HA(m.current,{select:!0}))},v=function(I){if(document.activeElement===document.body)for(const M of I)M.removedNodes.length>0&&HA(l)};document.addEventListener("focusin",C),document.addEventListener("focusout",F);const S=new MutationObserver(v);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",F),S.disconnect()}}},[n,l,g.paused]),N.useEffect(()=>{if(l){qI.add(g);const C=document.activeElement;if(!l.contains(C)){const v=new CustomEvent(bb,zI);l.addEventListener(bb,d),l.dispatchEvent(v),v.defaultPrevented||(Ale(mle(zR(l)),{select:!0}),document.activeElement===C&&HA(l))}return()=>{l.removeEventListener(bb,d),setTimeout(()=>{const v=new CustomEvent(Cb,zI);l.addEventListener(Cb,f),l.dispatchEvent(v),v.defaultPrevented||HA(C??document.body,{select:!0}),l.removeEventListener(Cb,f),qI.remove(g)},0)}}},[l,d,f,g]);const b=N.useCallback(C=>{if(!r&&!n||g.paused)return;const F=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,v=document.activeElement;if(F&&v){const S=C.currentTarget,[I,k]=ule(S);I&&k?!C.shiftKey&&v===k?(C.preventDefault(),r&&HA(I,{select:!0})):C.shiftKey&&v===I&&(C.preventDefault(),r&&HA(k,{select:!0})):v===S&&C.preventDefault()}},[r,n,g.paused]);return i.jsx(Ur.div,{tabIndex:-1,...o,ref:y,onKeyDown:b})});r3.displayName=cle;function Ale(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(HA(n,{select:t}),document.activeElement!==r)return}function ule(e){const t=zR(e),r=$I(t,e),n=$I(t.reverse(),e);return[r,n]}function zR(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function $I(e,t){for(const r of e)if(!dle(r,{upTo:t}))return r}function dle(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hle(e){return e instanceof HTMLInputElement&&"select"in e}function HA(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&hle(e)&&t&&e.select()}}var qI=fle();function fle(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=XI(e,t),e.unshift(t)},remove(t){var r;e=XI(e,t),(r=e[0])==null||r.resume()}}}function XI(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function mle(e){return e.filter(t=>t.tagName!=="A")}var Bb=0;function $R(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??YI()),document.body.insertAdjacentElement("beforeend",e[1]??YI()),Bb++,()=>{Bb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bb--}},[])}function YI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dl=function(){return Dl=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Dl.apply(this,arguments)};function qR(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function ple(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var kx="right-scroll-bar-position",Px="width-before-scroll-bar",gle="with-scroll-bars-hidden",xle="--removed-body-scroll-bar-size";function Nb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yle(e,t){var r=N.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var wle=typeof window<"u"?N.useLayoutEffect:N.useEffect,JI=new WeakMap;function vle(e,t){var r=yle(null,function(n){return e.forEach(function(s){return Nb(s,n)})});return wle(function(){var n=JI.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||Nb(l,null)}),a.forEach(function(l){s.has(l)||Nb(l,o)})}JI.set(r,e)},[e]),r}function ble(e){return e}function Cle(e,t){t===void 0&&(t=ble);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var A=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(A)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return s}function Ble(e){e===void 0&&(e={});var t=Cle(null);return t.options=Dl({async:!0,ssr:!1},e),t}var XR=function(e){var t=e.sideCar,r=qR(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,Dl({},r))};XR.isSideCarExport=!0;function Nle(e,t){return e.useMedium(t),XR}var YR=Ble(),Sb=function(){},x2=N.forwardRef(function(e,t){var r=N.useRef(null),n=N.useState({onScrollCapture:Sb,onWheelCapture:Sb,onTouchMoveCapture:Sb}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,A=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,y=e.sideCar,g=e.noIsolation,b=e.inert,C=e.allowPinchZoom,F=e.as,v=F===void 0?"div":F,S=e.gapMode,I=qR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=y,M=vle([r,t]),V=Dl(Dl({},I),s);return N.createElement(N.Fragment,null,f&&N.createElement(k,{sideCar:YR,removeScrollBar:d,shards:m,noIsolation:g,inert:b,setCallbacks:a,allowPinchZoom:!!C,lockRef:r,gapMode:S}),o?N.cloneElement(N.Children.only(l),Dl(Dl({},V),{ref:M})):N.createElement(v,Dl({},V,{className:A,ref:M}),l))});x2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};x2.classNames={fullWidth:Px,zeroRight:kx};var Sle=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ele(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Sle();return t&&e.setAttribute("nonce",t),e}function Fle(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ile(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jle=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Ele())&&(Fle(t,r),Ile(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Tle=function(){var e=jle();return function(t,r){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},JR=function(){var e=Tle(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},Lle={left:0,top:0,right:0,gap:0},Eb=function(e){return parseInt(e||"",10)||0},kle=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Eb(r),Eb(n),Eb(s)]},Ple=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Lle;var t=kle(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Ole=JR(),_f="data-scroll-locked",Rle=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(gle,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(_f,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kx,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Px,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(kx," .").concat(kx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Px," .").concat(Px,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(_f,`] {
    `).concat(xle,": ").concat(l,`px;
  }
`)},ZI=function(){var e=parseInt(document.body.getAttribute(_f)||"0",10);return isFinite(e)?e:0},Dle=function(){N.useEffect(function(){return document.body.setAttribute(_f,(ZI()+1).toString()),function(){var e=ZI()-1;e<=0?document.body.removeAttribute(_f):document.body.setAttribute(_f,e.toString())}},[])},_le=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;Dle();var a=N.useMemo(function(){return Ple(s)},[s]);return N.createElement(Ole,{styles:Rle(a,!t,s,r?"":"!important")})},B4=!1;if(typeof window<"u")try{var W1=Object.defineProperty({},"passive",{get:function(){return B4=!0,!0}});window.addEventListener("test",W1,W1),window.removeEventListener("test",W1,W1)}catch{B4=!1}var zh=B4?{passive:!1}:!1,Mle=function(e){return e.tagName==="TEXTAREA"},ZR=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Mle(e)&&r[t]==="visible")},Ule=function(e){return ZR(e,"overflowY")},Qle=function(e){return ZR(e,"overflowX")},ej=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=eD(e,n);if(s){var a=tD(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Hle=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Vle=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},eD=function(e,t){return e==="v"?Ule(t):Qle(t)},tD=function(e,t){return e==="v"?Hle(t):Vle(t)},Kle=function(e,t){return e==="h"&&t==="rtl"?-1:1},Gle=function(e,t,r,n,s){var a=Kle(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,A=t.contains(l),d=!1,f=o>0,m=0,y=0;do{var g=tD(e,l),b=g[0],C=g[1],F=g[2],v=C-F-a*b;(b||v)&&eD(e,l)&&(m+=v,y+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!A&&l!==document.body||A&&(t.contains(l)||t===l));return(f&&(Math.abs(m)<1||!s)||!f&&(Math.abs(y)<1||!s))&&(d=!0),d},z1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tj=function(e){return[e.deltaX,e.deltaY]},rj=function(e){return e&&"current"in e?e.current:e},Wle=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$le=0,$h=[];function qle(e){var t=N.useRef([]),r=N.useRef([0,0]),n=N.useRef(),s=N.useState($le++)[0],a=N.useState(JR)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var C=ple([e.lockRef.current],(e.shards||[]).map(rj),!0).filter(Boolean);return C.forEach(function(F){return F.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(F){return F.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=N.useCallback(function(C,F){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!o.current.allowPinchZoom;var v=z1(C),S=r.current,I="deltaX"in C?C.deltaX:S[0]-v[0],k="deltaY"in C?C.deltaY:S[1]-v[1],M,V=C.target,O=Math.abs(I)>Math.abs(k)?"h":"v";if("touches"in C&&O==="h"&&V.type==="range")return!1;var R=ej(O,V);if(!R)return!0;if(R?M=O:(M=O==="v"?"h":"v",R=ej(O,V)),!R)return!1;if(!n.current&&"changedTouches"in C&&(I||k)&&(n.current=M),!M)return!0;var _=n.current||M;return Gle(_,F,C,_==="h"?I:k,!0)},[]),A=N.useCallback(function(C){var F=C;if(!(!$h.length||$h[$h.length-1]!==a)){var v="deltaY"in F?tj(F):z1(F),S=t.current.filter(function(M){return M.name===F.type&&(M.target===F.target||F.target===M.shadowParent)&&Wle(M.delta,v)})[0];if(S&&S.should){F.cancelable&&F.preventDefault();return}if(!S){var I=(o.current.shards||[]).map(rj).filter(Boolean).filter(function(M){return M.contains(F.target)}),k=I.length>0?l(F,I[0]):!o.current.noIsolation;k&&F.cancelable&&F.preventDefault()}}},[]),d=N.useCallback(function(C,F,v,S){var I={name:C,delta:F,target:v,should:S,shadowParent:Xle(v)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(k){return k!==I})},1)},[]),f=N.useCallback(function(C){r.current=z1(C),n.current=void 0},[]),m=N.useCallback(function(C){d(C.type,tj(C),C.target,l(C,e.lockRef.current))},[]),y=N.useCallback(function(C){d(C.type,z1(C),C.target,l(C,e.lockRef.current))},[]);N.useEffect(function(){return $h.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",A,zh),document.addEventListener("touchmove",A,zh),document.addEventListener("touchstart",f,zh),function(){$h=$h.filter(function(C){return C!==a}),document.removeEventListener("wheel",A,zh),document.removeEventListener("touchmove",A,zh),document.removeEventListener("touchstart",f,zh)}},[]);var g=e.removeScrollBar,b=e.inert;return N.createElement(N.Fragment,null,b?N.createElement(a,{styles:zle(s)}):null,g?N.createElement(_le,{gapMode:e.gapMode}):null)}function Xle(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Yle=Nle(YR,qle);var n3=N.forwardRef(function(e,t){return N.createElement(x2,Dl({},e,{ref:t,sideCar:Yle}))});n3.classNames=x2.classNames;var Jle=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qh=new WeakMap,$1=new WeakMap,q1={},Fb=0,rD=function(e){return e&&(e.host||rD(e.parentNode))},Zle=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=rD(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ece=function(e,t,r,n){var s=Zle(t,Array.isArray(e)?e:[e]);q1[r]||(q1[r]=new WeakMap);var a=q1[r],o=[],l=new Set,A=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var f=function(m){!m||A.has(m)||Array.prototype.forEach.call(m.children,function(y){if(l.has(y))f(y);else try{var g=y.getAttribute(n),b=g!==null&&g!=="false",C=(qh.get(y)||0)+1,F=(a.get(y)||0)+1;qh.set(y,C),a.set(y,F),o.push(y),C===1&&b&&$1.set(y,!0),F===1&&y.setAttribute(r,"true"),b||y.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",y,v)}})};return f(t),l.clear(),Fb++,function(){o.forEach(function(m){var y=qh.get(m)-1,g=a.get(m)-1;qh.set(m,y),a.set(m,g),y||($1.has(m)||m.removeAttribute(n),$1.delete(m)),g||m.removeAttribute(r)}),Fb--,Fb||(qh=new WeakMap,qh=new WeakMap,$1=new WeakMap,q1={})}},nD=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Jle(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),ece(n,s,r,"aria-hidden")):function(){return null}},s3="Dialog",[sD,_ye]=ag(s3),[tce,gl]=sD(s3),aD=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=N.useRef(null),A=N.useRef(null),[d=!1,f]=fh({prop:n,defaultProp:s,onChange:a});return i.jsx(tce,{scope:t,triggerRef:l,contentRef:A,contentId:Uc(),titleId:Uc(),descriptionId:Uc(),open:d,onOpenChange:f,onOpenToggle:N.useCallback(()=>f(m=>!m),[f]),modal:o,children:r})};aD.displayName=s3;var iD="DialogTrigger",rce=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gl(iD,r),a=Gn(t,s.triggerRef);return i.jsx(Ur.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":o3(s.open),...n,ref:a,onClick:yr(e.onClick,s.onOpenToggle)})});rce.displayName=iD;var a3="DialogPortal",[nce,oD]=sD(a3,{forceMount:void 0}),lD=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=gl(a3,t);return i.jsx(nce,{scope:t,forceMount:r,children:N.Children.map(n,o=>i.jsx(Nh,{present:r||a.open,children:i.jsx(pN,{asChild:!0,container:s,children:o})}))})};lD.displayName=a3;var Hy="DialogOverlay",cD=N.forwardRef((e,t)=>{const r=oD(Hy,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=gl(Hy,e.__scopeDialog);return a.modal?i.jsx(Nh,{present:n||a.open,children:i.jsx(sce,{...s,ref:t})}):null});cD.displayName=Hy;var sce=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gl(Hy,r);return i.jsx(n3,{as:dh,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Ur.div,{"data-state":o3(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ph="DialogContent",AD=N.forwardRef((e,t)=>{const r=oD(ph,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=gl(ph,e.__scopeDialog);return i.jsx(Nh,{present:n||a.open,children:a.modal?i.jsx(ace,{...s,ref:t}):i.jsx(ice,{...s,ref:t})})});AD.displayName=ph;var ace=N.forwardRef((e,t)=>{const r=gl(ph,e.__scopeDialog),n=N.useRef(null),s=Gn(t,r.contentRef,n);return N.useEffect(()=>{const a=n.current;if(a)return nD(a)},[]),i.jsx(uD,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yr(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:yr(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:yr(e.onFocusOutside,a=>a.preventDefault())})}),ice=N.forwardRef((e,t)=>{const r=gl(ph,e.__scopeDialog),n=N.useRef(!1),s=N.useRef(!1);return i.jsx(uD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var A,d;(A=e.onInteractOutside)==null||A.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),uD=N.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=gl(ph,r),A=N.useRef(null),d=Gn(t,A);return $R(),i.jsxs(i.Fragment,{children:[i.jsx(r3,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Nw,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":o3(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(oce,{titleId:l.titleId}),i.jsx(cce,{contentRef:A,descriptionId:l.descriptionId})]})]})}),i3="DialogTitle",dD=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gl(i3,r);return i.jsx(Ur.h2,{id:s.titleId,...n,ref:t})});dD.displayName=i3;var hD="DialogDescription",fD=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gl(hD,r);return i.jsx(Ur.p,{id:s.descriptionId,...n,ref:t})});fD.displayName=hD;var mD="DialogClose",pD=N.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=gl(mD,r);return i.jsx(Ur.button,{type:"button",...n,ref:t,onClick:yr(e.onClick,()=>s.onOpenChange(!1))})});pD.displayName=mD;function o3(e){return e?"open":"closed"}var gD="DialogTitleWarning",[Mye,xD]=xW(gD,{contentName:ph,titleName:i3,docsSlug:"dialog"}),oce=({titleId:e})=>{const t=xD(gD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},lce="DialogDescriptionWarning",cce=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xD(lce).contentName}}.`;return N.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Ace=aD,uce=lD,yD=cD,wD=AD,vD=dD,bD=fD,CD=pD;const Mf=Ace,dce=uce,Ib=CD,BD=N.forwardRef(({className:e,...t},r)=>i.jsx(yD,{ref:r,className:hr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));BD.displayName=yD.displayName;const Yd=N.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(dce,{children:[i.jsx(BD,{}),i.jsxs(wD,{ref:n,className:hr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(CD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(AA,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yd.displayName=wD.displayName;const Jd=({className:e,...t})=>i.jsx("div",{className:hr("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jd.displayName="DialogHeader";const Zd=({className:e,...t})=>i.jsx("div",{className:hr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zd.displayName="DialogFooter";const eh=N.forwardRef(({className:e,...t},r)=>i.jsx(vD,{ref:r,className:hr("text-lg font-semibold leading-none tracking-tight",e),...t}));eh.displayName=vD.displayName;const th=N.forwardRef(({className:e,...t},r)=>i.jsx(bD,{ref:r,className:hr("text-sm text-muted-foreground",e),...t}));th.displayName=bD.displayName;function $r(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function to(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function si(e,t){const r=$r(e);return isNaN(t)?to(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ro(e,t){const r=$r(e);if(isNaN(t))return to(e,NaN);if(!t)return r;const n=r.getDate(),s=to(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return n>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const l3=6048e5,hce=864e5;let fce={};function fg(){return fce}function rc(e,t){var l,A,d,f;const r=fg(),n=(t==null?void 0:t.weekStartsOn)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=$r(e),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function gh(e){return rc(e,{weekStartsOn:1})}function ND(e){const t=$r(e),r=t.getFullYear(),n=to(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=gh(n),a=to(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=gh(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function m0(e){const t=$r(e);return t.setHours(0,0,0,0),t}function Vy(e){const t=$r(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ml(e,t){const r=m0(e),n=m0(t),s=+r-Vy(r),a=+n-Vy(n);return Math.round((s-a)/hce)}function mce(e){const t=ND(e),r=to(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),gh(r)}function N4(e,t){const r=t*7;return si(e,r)}function pce(e,t){return ro(e,t*12)}function gce(e){let t;return e.forEach(function(r){const n=$r(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function xce(e){let t;return e.forEach(r=>{const n=$r(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Ei(e,t){const r=m0(e),n=m0(t);return+r==+n}function c3(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yce(e){if(!c3(e)&&typeof e!="number")return!1;const t=$r(e);return!isNaN(Number(t))}function Up(e,t){const r=$r(e),n=$r(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function wce(e,t,r){const n=rc(e,r),s=rc(t,r),a=+n-Vy(n),o=+s-Vy(s);return Math.round((a-o)/l3)}function A3(e){const t=$r(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Pi(e){const t=$r(e);return t.setDate(1),t.setHours(0,0,0,0),t}function SD(e){const t=$r(e),r=to(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function u3(e,t){var l,A,d,f;const r=fg(),n=(t==null?void 0:t.weekStartsOn)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=$r(e),a=s.getDay(),o=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function ED(e){return u3(e,{weekStartsOn:1})}const vce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bce=(e,t,r)=>{let n;const s=vce[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function jb(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Cce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sce={date:jb({formats:Cce,defaultWidth:"full"}),time:jb({formats:Bce,defaultWidth:"full"}),dateTime:jb({formats:Nce,defaultWidth:"full"})},Ece={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fce=(e,t,r,n)=>Ece[e];function dm(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const Ice={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Tce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Pce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oce=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Rce={ordinalNumber:Oce,era:dm({values:Ice,defaultWidth:"wide"}),quarter:dm({values:jce,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dm({values:Tce,defaultWidth:"wide"}),day:dm({values:Lce,defaultWidth:"wide"}),dayPeriod:dm({values:kce,defaultWidth:"wide",formattingValues:Pce,defaultFormattingWidth:"wide"})};function hm(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],A=Array.isArray(l)?_ce(l,m=>m.test(o)):Dce(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(A):A,d=r.valueCallback?r.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function Dce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function _ce(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Mce(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Uce=/^(\d+)(th|st|nd|rd)?/i,Qce=/\d+/i,Hce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Vce={any:[/^b/i,/^(a|c)/i]},Kce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gce={any:[/1/i,/2/i,/3/i,/4/i]},Wce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$ce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Yce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jce={ordinalNumber:Mce({matchPattern:Uce,parsePattern:Qce,valueCallback:e=>parseInt(e,10)}),era:hm({matchPatterns:Hce,defaultMatchWidth:"wide",parsePatterns:Vce,defaultParseWidth:"any"}),quarter:hm({matchPatterns:Kce,defaultMatchWidth:"wide",parsePatterns:Gce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hm({matchPatterns:Wce,defaultMatchWidth:"wide",parsePatterns:zce,defaultParseWidth:"any"}),day:hm({matchPatterns:$ce,defaultMatchWidth:"wide",parsePatterns:qce,defaultParseWidth:"any"}),dayPeriod:hm({matchPatterns:Xce,defaultMatchWidth:"any",parsePatterns:Yce,defaultParseWidth:"any"})},FD={code:"en-US",formatDistance:bce,formatLong:Sce,formatRelative:Fce,localize:Rce,match:Jce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Zce(e){const t=$r(e);return Ml(t,SD(t))+1}function ID(e){const t=$r(e),r=+gh(t)-+mce(t);return Math.round(r/l3)+1}function jD(e,t){var f,m,y,g;const r=$r(e),n=r.getFullYear(),s=fg(),a=(t==null?void 0:t.firstWeekContainsDate)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(y=s.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,o=to(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=rc(o,t),A=to(e,0);A.setFullYear(n,0,a),A.setHours(0,0,0,0);const d=rc(A,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function eAe(e,t){var l,A,d,f;const r=fg(),n=(t==null?void 0:t.firstWeekContainsDate)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=jD(e,t),a=to(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),rc(a,t)}function TD(e,t){const r=$r(e),n=+rc(r,t)-+eAe(r,t);return Math.round(n/l3)+1}function An(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const DA={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return An(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):An(r+1,2)},d(e,t){return An(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return An(e.getHours()%12||12,t.length)},H(e,t){return An(e.getHours(),t.length)},m(e,t){return An(e.getMinutes(),t.length)},s(e,t){return An(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return An(s,t.length)}},Xh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nj={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return DA.y(e,t)},Y:function(e,t,r,n){const s=jD(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return An(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):An(a,t.length)},R:function(e,t){const r=ND(e);return An(r,t.length)},u:function(e,t){const r=e.getFullYear();return An(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return An(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return An(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return DA.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return An(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=TD(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):An(s,t.length)},I:function(e,t,r){const n=ID(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):An(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):DA.d(e,t)},D:function(e,t,r){const n=Zce(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):An(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return An(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return An(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return An(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Xh.noon:n===0?s=Xh.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Xh.evening:n>=12?s=Xh.afternoon:n>=4?s=Xh.morning:s=Xh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return DA.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):DA.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):An(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):An(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):DA.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):DA.s(e,t)},S:function(e,t){return DA.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return aj(n);case"XXXX":case"XX":return vd(n);case"XXXXX":case"XXX":default:return vd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return aj(n);case"xxxx":case"xx":return vd(n);case"xxxxx":case"xxx":default:return vd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+sj(n,":");case"OOOO":default:return"GMT"+vd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+sj(n,":");case"zzzz":default:return"GMT"+vd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return An(n,t.length)},T:function(e,t,r){const n=e.getTime();return An(n,t.length)}};function sj(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+An(a,2)}function aj(e,t){return e%60===0?(e>0?"-":"+")+An(Math.abs(e)/60,2):vd(e,t)}function vd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=An(Math.trunc(n/60),2),a=An(n%60,2);return r+s+t+a}const ij=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},LD=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},tAe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return ij(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",ij(n,t)).replace("{{time}}",LD(s,t))},rAe={p:LD,P:tAe},nAe=/^D+$/,sAe=/^Y+$/,aAe=["D","DD","YY","YYYY"];function iAe(e){return nAe.test(e)}function oAe(e){return sAe.test(e)}function lAe(e,t,r){const n=cAe(e,t,r);if(console.warn(n),aAe.includes(e))throw new RangeError(n)}function cAe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const AAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dAe=/^'([^]*?)'?$/,hAe=/''/g,fAe=/[a-zA-Z]/;function eA(e,t,r){var f,m,y,g,b,C,F,v;const n=fg(),s=(r==null?void 0:r.locale)??n.locale??FD,a=(r==null?void 0:r.firstWeekContainsDate)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(y=n.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((C=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:C.weekStartsOn)??n.weekStartsOn??((v=(F=n.locale)==null?void 0:F.options)==null?void 0:v.weekStartsOn)??0,l=$r(e);if(!yce(l))throw new RangeError("Invalid time value");let A=t.match(uAe).map(S=>{const I=S[0];if(I==="p"||I==="P"){const k=rAe[I];return k(S,s.formatLong)}return S}).join("").match(AAe).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const I=S[0];if(I==="'")return{isToken:!1,value:mAe(S)};if(nj[I])return{isToken:!0,value:S};if(I.match(fAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:S}});s.localize.preprocessor&&(A=s.localize.preprocessor(l,A));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return A.map(S=>{if(!S.isToken)return S.value;const I=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&oAe(I)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&iAe(I))&&lAe(I,t,String(e));const k=nj[I[0]];return k(l,I,s.localize,d)}).join("")}function mAe(e){const t=e.match(dAe);return t?t[1].replace(hAe,"'"):e}function pAe(e){const t=$r(e),r=t.getFullYear(),n=t.getMonth(),s=to(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function gAe(e){return Math.trunc(+$r(e)/1e3)}function xAe(e){const t=$r(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function yAe(e,t){return wce(xAe(e),Pi(e),t)+1}function S4(e,t){const r=$r(e),n=$r(t);return r.getTime()>n.getTime()}function kD(e,t){const r=$r(e),n=$r(t);return+r<+n}function d3(e,t){const r=$r(e),n=$r(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function wAe(e,t){const r=$r(e),n=$r(t);return r.getFullYear()===n.getFullYear()}function Tb(e,t){return si(e,-t)}function Lb(e,t){const r=$r(e),n=r.getFullYear(),s=r.getDate(),a=to(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const o=pAe(a);return r.setMonth(t,Math.min(s,o)),r}function oj(e,t){const r=$r(e);return isNaN(+r)?to(e,NaN):(r.setFullYear(t),r)}var or=function(){return or=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},or.apply(this,arguments)};function vAe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function PD(e,t,r){for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function mg(e){return e.mode==="multiple"}function pg(e){return e.mode==="range"}function y2(e){return e.mode==="single"}var bAe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function CAe(e,t){return eA(e,"LLLL y",t)}function BAe(e,t){return eA(e,"d",t)}function NAe(e,t){return eA(e,"LLLL",t)}function SAe(e){return"".concat(e)}function EAe(e,t){return eA(e,"cccccc",t)}function FAe(e,t){return eA(e,"yyyy",t)}var IAe=Object.freeze({__proto__:null,formatCaption:CAe,formatDay:BAe,formatMonthCaption:NAe,formatWeekNumber:SAe,formatWeekdayName:EAe,formatYearCaption:FAe}),jAe=function(e,t,r){return eA(e,"do MMMM (EEEE)",r)},TAe=function(){return"Month: "},LAe=function(){return"Go to next month"},kAe=function(){return"Go to previous month"},PAe=function(e,t){return eA(e,"cccc",t)},OAe=function(e){return"Week n. ".concat(e)},RAe=function(){return"Year: "},DAe=Object.freeze({__proto__:null,labelDay:jAe,labelMonthDropdown:TAe,labelNext:LAe,labelPrevious:kAe,labelWeekNumber:OAe,labelWeekday:PAe,labelYearDropdown:RAe});function _Ae(){var e="buttons",t=bAe,r=FD,n={},s={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:IAe,labels:DAe,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:a,styles:o,today:l,mode:"default"}}function MAe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,a=e.fromDate,o=e.toDate;return n?a=Pi(n):t&&(a=new Date(t,0,1)),s?o=A3(s):r&&(o=new Date(r,11,31)),{fromDate:a?m0(a):void 0,toDate:o?m0(o):void 0}}var OD=N.createContext(void 0);function UAe(e){var t,r=e.initialProps,n=_Ae(),s=MAe(r),a=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var A;(y2(r)||mg(r)||pg(r))&&(A=r.onSelect);var d=or(or(or({},n),r),{captionLayout:l,classNames:or(or({},n.classNames),r.classNames),components:or({},r.components),formatters:or(or({},n.formatters),r.formatters),fromDate:a,labels:or(or({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:or(or({},n.modifiers),r.modifiers),modifiersClassNames:or(or({},n.modifiersClassNames),r.modifiersClassNames),onSelect:A,styles:or(or({},n.styles),r.styles),toDate:o});return i.jsx(OD.Provider,{value:d,children:e.children})}function Rn(){var e=N.useContext(OD);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function RD(e){var t=Rn(),r=t.locale,n=t.classNames,s=t.styles,a=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function QAe(e){return i.jsx("svg",or({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function DD(e){var t,r,n=e.onChange,s=e.value,a=e.children,o=e.caption,l=e.className,A=e.style,d=Rn(),f=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:QAe;return i.jsxs("div",{className:l,style:A,children:[i.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:n,children:a}),i.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(f,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function HAe(e){var t,r=Rn(),n=r.fromDate,s=r.toDate,a=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,A=r.classNames,d=r.components,f=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});var m=[];if(wAe(n,s))for(var y=Pi(n),g=n.getMonth();g<=s.getMonth();g++)m.push(Lb(y,g));else for(var y=Pi(new Date),g=0;g<=11;g++)m.push(Lb(y,g));var b=function(F){var v=Number(F.target.value),S=Lb(Pi(e.displayMonth),v);e.onChange(S)},C=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:DD;return i.jsx(C,{name:"months","aria-label":f(),className:A.dropdown_month,style:a.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(F){return i.jsx("option",{value:F.getMonth(),children:l(F,{locale:o})},F.getMonth())})})}function VAe(e){var t,r=e.displayMonth,n=Rn(),s=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,A=n.classNames,d=n.components,f=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,y=[];if(!s)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});for(var g=s.getFullYear(),b=a.getFullYear(),C=g;C<=b;C++)y.push(oj(SD(new Date),C));var F=function(S){var I=oj(Pi(r),Number(S.target.value));e.onChange(I)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:DD;return i.jsx(v,{name:"years","aria-label":m(),className:A.dropdown_year,style:l.dropdown_year,onChange:F,value:r.getFullYear(),caption:f(r,{locale:o}),children:y.map(function(S){return i.jsx("option",{value:S.getFullYear(),children:f(S,{locale:o})},S.getFullYear())})})}function KAe(e,t){var r=N.useState(e),n=r[0],s=r[1],a=t===void 0?n:t;return[a,s]}function GAe(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,A=l===void 0?1:l;if(a&&Up(a,s)<0){var d=-1*(A-1);s=ro(a,d)}return o&&Up(s,o)<0&&(s=o),Pi(s)}function WAe(){var e=Rn(),t=GAe(e),r=KAe(t,e.month),n=r[0],s=r[1],a=function(o){var l;if(!e.disableNavigation){var A=Pi(o);s(A),(l=e.onMonthChange)===null||l===void 0||l.call(e,A)}};return[n,a]}function zAe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Pi(e),a=Pi(ro(s,n)),o=Up(a,s),l=[],A=0;A<o;A++){var d=ro(s,A);l.push(d)}return r&&(l=l.reverse()),l}function $Ae(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=Pi(e);if(!r)return ro(l,o);var A=Up(r,e);if(!(A<a))return ro(l,o)}}function qAe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,o=n?a:1,l=Pi(e);if(!r)return ro(l,-o);var A=Up(l,r);if(!(A<=0))return ro(l,-o)}}var _D=N.createContext(void 0);function XAe(e){var t=Rn(),r=WAe(),n=r[0],s=r[1],a=zAe(n,t),o=$Ae(n,t),l=qAe(n,t),A=function(m){return a.some(function(y){return d3(m,y)})},d=function(m,y){A(m)||(y&&kD(m,y)?s(ro(m,1+t.numberOfMonths*-1)):s(m))},f={currentMonth:n,displayMonths:a,goToMonth:s,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:A};return i.jsx(_D.Provider,{value:f,children:e.children})}function gg(){var e=N.useContext(_D);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function lj(e){var t,r=Rn(),n=r.classNames,s=r.styles,a=r.components,o=gg().goToMonth,l=function(f){o(ro(f,e.displayIndex?-e.displayIndex:0))},A=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:RD,d=i.jsx(A,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:d}),i.jsx(HAe,{onChange:l,displayMonth:e.displayMonth}),i.jsx(VAe,{onChange:l,displayMonth:e.displayMonth})]})}function YAe(e){return i.jsx("svg",or({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function JAe(e){return i.jsx("svg",or({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ky=N.forwardRef(function(e,t){var r=Rn(),n=r.classNames,s=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var o=a.join(" "),l=or(or({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),i.jsx("button",or({},e,{ref:t,type:"button",className:o,style:l}))});function ZAe(e){var t,r,n=Rn(),s=n.dir,a=n.locale,o=n.classNames,l=n.styles,A=n.labels,d=A.labelPrevious,f=A.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var y=d(e.previousMonth,{locale:a}),g=[o.nav_button,o.nav_button_previous].join(" "),b=f(e.nextMonth,{locale:a}),C=[o.nav_button,o.nav_button_next].join(" "),F=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:JAe,v=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:YAe;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(Ky,{name:"previous-month","aria-label":y,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?i.jsx(F,{className:o.nav_icon,style:l.nav_icon}):i.jsx(v,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(Ky,{name:"next-month","aria-label":b,className:C,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?i.jsx(v,{className:o.nav_icon,style:l.nav_icon}):i.jsx(F,{className:o.nav_icon,style:l.nav_icon})})]})}function cj(e){var t=Rn().numberOfMonths,r=gg(),n=r.previousMonth,s=r.nextMonth,a=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(b){return d3(e.displayMonth,b)}),A=l===0,d=l===o.length-1,f=t>1&&(A||!d),m=t>1&&(d||!A),y=function(){n&&a(n)},g=function(){s&&a(s)};return i.jsx(ZAe,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:m,nextMonth:s,previousMonth:n,onPreviousClick:y,onNextClick:g})}function eue(e){var t,r=Rn(),n=r.classNames,s=r.disableNavigation,a=r.styles,o=r.captionLayout,l=r.components,A=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:RD,d;return s?d=i.jsx(A,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=i.jsx(lj,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=i.jsxs(i.Fragment,{children:[i.jsx(lj,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(cj,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=i.jsxs(i.Fragment,{children:[i.jsx(A,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(cj,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:a.caption,children:d})}function tue(e){var t=Rn(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?i.jsx("tfoot",{className:s,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function rue(e,t,r){for(var n=r?gh(new Date):rc(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var o=si(n,a);s.push(o)}return s}function nue(){var e=Rn(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,A=e.labels.labelWeekday,d=rue(s,a,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(f,m){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":A(f,{locale:s}),children:l(f,{locale:s})},m)})]})}function sue(){var e,t=Rn(),r=t.classNames,n=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:nue;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(a,{})})}function aue(e){var t=Rn(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var h3=N.createContext(void 0);function iue(e){if(!mg(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(h3.Provider,{value:t,children:e.children})}return i.jsx(oue,{initialProps:e.initialProps,children:e.children})}function oue(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,a=t.max,o=function(d,f,m){var y,g;(y=t.onDayClick)===null||y===void 0||y.call(t,d,f,m);var b=!!(f.selected&&s&&(n==null?void 0:n.length)===s);if(!b){var C=!!(!f.selected&&a&&(n==null?void 0:n.length)===a);if(!C){var F=n?PD([],n):[];if(f.selected){var v=F.findIndex(function(S){return Ei(d,S)});F.splice(v,1)}else F.push(d);(g=t.onSelect)===null||g===void 0||g.call(t,F,d,f,m)}}},l={disabled:[]};n&&l.disabled.push(function(d){var f=a&&n.length>a-1,m=n.some(function(y){return Ei(y,d)});return!!(f&&!m)});var A={selected:n,onDayClick:o,modifiers:l};return i.jsx(h3.Provider,{value:A,children:r})}function f3(){var e=N.useContext(h3);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function lue(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Ei(s,e)&&Ei(n,e)?void 0:Ei(s,e)?{from:s,to:void 0}:Ei(n,e)?void 0:S4(n,e)?{from:e,to:s}:{from:n,to:e}:s?S4(e,s)?{from:s,to:e}:{from:e,to:s}:n?kD(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var m3=N.createContext(void 0);function cue(e){if(!pg(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(m3.Provider,{value:t,children:e.children})}return i.jsx(Aue,{initialProps:e.initialProps,children:e.children})}function Aue(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},a=s.from,o=s.to,l=t.min,A=t.max,d=function(g,b,C){var F,v;(F=t.onDayClick)===null||F===void 0||F.call(t,g,b,C);var S=lue(g,n);(v=t.onSelect)===null||v===void 0||v.call(t,S,g,b,C)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(f.range_start=[a],o?(f.range_end=[o],Ei(a,o)||(f.range_middle=[{after:a,before:o}])):f.range_end=[a]):o&&(f.range_start=[o],f.range_end=[o]),l&&(a&&!o&&f.disabled.push({after:Tb(a,l-1),before:si(a,l-1)}),a&&o&&f.disabled.push({after:a,before:si(a,l-1)}),!a&&o&&f.disabled.push({after:Tb(o,l-1),before:si(o,l-1)})),A){if(a&&!o&&(f.disabled.push({before:si(a,-A+1)}),f.disabled.push({after:si(a,A-1)})),a&&o){var m=Ml(o,a)+1,y=A-m;f.disabled.push({before:Tb(a,y)}),f.disabled.push({after:si(o,y)})}!a&&o&&(f.disabled.push({before:si(o,-A+1)}),f.disabled.push({after:si(o,A-1)}))}return i.jsx(m3.Provider,{value:{selected:n,onDayClick:d,modifiers:f},children:r})}function p3(){var e=N.useContext(m3);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ox(e){return Array.isArray(e)?PD([],e):e!==void 0?[e]:[]}function uue(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Ox(s)}),t}var dl;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(dl||(dl={}));var due=dl.Selected,Ec=dl.Disabled,hue=dl.Hidden,fue=dl.Today,kb=dl.RangeEnd,Pb=dl.RangeMiddle,Ob=dl.RangeStart,mue=dl.Outside;function pue(e,t,r){var n,s=(n={},n[due]=Ox(e.selected),n[Ec]=Ox(e.disabled),n[hue]=Ox(e.hidden),n[fue]=[e.today],n[kb]=[],n[Pb]=[],n[Ob]=[],n[mue]=[],n);return e.fromDate&&s[Ec].push({before:e.fromDate}),e.toDate&&s[Ec].push({after:e.toDate}),mg(e)?s[Ec]=s[Ec].concat(t.modifiers[Ec]):pg(e)&&(s[Ec]=s[Ec].concat(r.modifiers[Ec]),s[Ob]=r.modifiers[Ob],s[Pb]=r.modifiers[Pb],s[kb]=r.modifiers[kb]),s}var MD=N.createContext(void 0);function gue(e){var t=Rn(),r=f3(),n=p3(),s=pue(t,r,n),a=uue(t.modifiers),o=or(or({},s),a);return i.jsx(MD.Provider,{value:o,children:e.children})}function UD(){var e=N.useContext(MD);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function xue(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function yue(e){return!!(e&&typeof e=="object"&&"from"in e)}function wue(e){return!!(e&&typeof e=="object"&&"after"in e)}function vue(e){return!!(e&&typeof e=="object"&&"before"in e)}function bue(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Cue(e,t){var r,n=t.from,s=t.to;if(n&&s){var a=Ml(s,n)<0;a&&(r=[s,n],n=r[0],s=r[1]);var o=Ml(e,n)>=0&&Ml(s,e)>=0;return o}return s?Ei(s,e):n?Ei(n,e):!1}function Bue(e){return c3(e)}function Nue(e){return Array.isArray(e)&&e.every(c3)}function Sue(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Bue(r))return Ei(e,r);if(Nue(r))return r.includes(e);if(yue(r))return Cue(e,r);if(bue(r))return r.dayOfWeek.includes(e.getDay());if(xue(r)){var n=Ml(r.before,e),s=Ml(r.after,e),a=n>0,o=s<0,l=S4(r.before,r.after);return l?o&&a:a||o}return wue(r)?Ml(e,r.after)>0:vue(r)?Ml(r.before,e)>0:typeof r=="function"?r(e):!1})}function g3(e,t,r){var n=Object.keys(t).reduce(function(a,o){var l=t[o];return Sue(e,l)&&a.push(o),a},[]),s={};return n.forEach(function(a){return s[a]=!0}),r&&!d3(e,r)&&(s.outside=!0),s}function Eue(e,t){for(var r=Pi(e[0]),n=A3(e[e.length-1]),s,a,o=r;o<=n;){var l=g3(o,t),A=!l.disabled&&!l.hidden;if(!A){o=si(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),s||(s=o),o=si(o,1)}return a||s}var Fue=365;function QD(e,t){var r=t.moveBy,n=t.direction,s=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,A=s.weekStartsOn,d=s.fromDate,f=s.toDate,m=s.locale,y={day:si,week:N4,month:ro,year:pce,startOfWeek:function(F){return s.ISOWeek?gh(F):rc(F,{locale:m,weekStartsOn:A})},endOfWeek:function(F){return s.ISOWeek?ED(F):u3(F,{locale:m,weekStartsOn:A})}},g=y[r](e,n==="after"?1:-1);n==="before"&&d?g=gce([d,g]):n==="after"&&f&&(g=xce([f,g]));var b=!0;if(a){var C=g3(g,a);b=!C.disabled&&!C.hidden}return b?g:l.count>Fue?l.lastFocused:QD(g,{moveBy:r,direction:n,context:s,modifiers:a,retry:or(or({},l),{count:l.count+1})})}var HD=N.createContext(void 0);function Iue(e){var t=gg(),r=UD(),n=N.useState(),s=n[0],a=n[1],o=N.useState(),l=o[0],A=o[1],d=Eue(t.displayMonths,r),f=s??(l&&t.isDateDisplayed(l))?l:d,m=function(){A(s),a(void 0)},y=function(F){a(F)},g=Rn(),b=function(F,v){if(s){var S=QD(s,{moveBy:F,direction:v,context:g,modifiers:r});Ei(s,S)||(t.goToDate(S,s),y(S))}},C={focusedDay:s,focusTarget:f,blur:m,focus:y,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return i.jsx(HD.Provider,{value:C,children:e.children})}function x3(){var e=N.useContext(HD);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function jue(e,t){var r=UD(),n=g3(e,r,t);return n}var y3=N.createContext(void 0);function Tue(e){if(!y2(e.initialProps)){var t={selected:void 0};return i.jsx(y3.Provider,{value:t,children:e.children})}return i.jsx(Lue,{initialProps:e.initialProps,children:e.children})}function Lue(e){var t=e.initialProps,r=e.children,n=function(a,o,l){var A,d,f;if((A=t.onDayClick)===null||A===void 0||A.call(t,a,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,a,o,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,a,a,o,l)},s={selected:t.selected,onDayClick:n};return i.jsx(y3.Provider,{value:s,children:r})}function VD(){var e=N.useContext(y3);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function kue(e,t){var r=Rn(),n=VD(),s=f3(),a=p3(),o=x3(),l=o.focusDayAfter,A=o.focusDayBefore,d=o.focusWeekAfter,f=o.focusWeekBefore,m=o.blur,y=o.focus,g=o.focusMonthBefore,b=o.focusMonthAfter,C=o.focusYearBefore,F=o.focusYearAfter,v=o.focusStartOfWeek,S=o.focusEndOfWeek,I=function(W){var Y,K,ae,be;y2(r)?(Y=n.onDayClick)===null||Y===void 0||Y.call(n,e,t,W):mg(r)?(K=s.onDayClick)===null||K===void 0||K.call(s,e,t,W):pg(r)?(ae=a.onDayClick)===null||ae===void 0||ae.call(a,e,t,W):(be=r.onDayClick)===null||be===void 0||be.call(r,e,t,W)},k=function(W){var Y;y(e),(Y=r.onDayFocus)===null||Y===void 0||Y.call(r,e,t,W)},M=function(W){var Y;m(),(Y=r.onDayBlur)===null||Y===void 0||Y.call(r,e,t,W)},V=function(W){var Y;(Y=r.onDayMouseEnter)===null||Y===void 0||Y.call(r,e,t,W)},O=function(W){var Y;(Y=r.onDayMouseLeave)===null||Y===void 0||Y.call(r,e,t,W)},R=function(W){var Y;(Y=r.onDayPointerEnter)===null||Y===void 0||Y.call(r,e,t,W)},_=function(W){var Y;(Y=r.onDayPointerLeave)===null||Y===void 0||Y.call(r,e,t,W)},J=function(W){var Y;(Y=r.onDayTouchCancel)===null||Y===void 0||Y.call(r,e,t,W)},U=function(W){var Y;(Y=r.onDayTouchEnd)===null||Y===void 0||Y.call(r,e,t,W)},Q=function(W){var Y;(Y=r.onDayTouchMove)===null||Y===void 0||Y.call(r,e,t,W)},X=function(W){var Y;(Y=r.onDayTouchStart)===null||Y===void 0||Y.call(r,e,t,W)},Z=function(W){var Y;(Y=r.onDayKeyUp)===null||Y===void 0||Y.call(r,e,t,W)},$=function(W){var Y;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?l():A();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?A():l();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),d();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),f();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?C():g();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?F():b();break;case"Home":W.preventDefault(),W.stopPropagation(),v();break;case"End":W.preventDefault(),W.stopPropagation(),S();break}(Y=r.onDayKeyDown)===null||Y===void 0||Y.call(r,e,t,W)},q={onClick:I,onFocus:k,onBlur:M,onKeyDown:$,onKeyUp:Z,onMouseEnter:V,onMouseLeave:O,onPointerEnter:R,onPointerLeave:_,onTouchCancel:J,onTouchEnd:U,onTouchMove:Q,onTouchStart:X};return q}function Pue(){var e=Rn(),t=VD(),r=f3(),n=p3(),s=y2(e)?t.selected:mg(e)?r.selected:pg(e)?n.selected:void 0;return s}function Oue(e){return Object.values(dl).includes(e)}function Rue(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(Oue(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function Due(e,t){var r=or({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=or(or({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function _ue(e,t,r){var n,s,a,o=Rn(),l=x3(),A=jue(e,t),d=kue(e,A),f=Pue(),m=!!(o.onDayClick||o.mode!=="default");N.useEffect(function(){var V;A.outside||l.focusedDay&&m&&Ei(l.focusedDay,e)&&((V=r.current)===null||V===void 0||V.focus())},[l.focusedDay,e,r,m,A.outside]);var y=Rue(o,A).join(" "),g=Due(o,A),b=!!(A.outside&&!o.showOutsideDays||A.hidden),C=(a=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:aue,F=i.jsx(C,{date:e,displayMonth:t,activeModifiers:A}),v={style:g,className:y,children:F,role:"gridcell"},S=l.focusTarget&&Ei(l.focusTarget,e)&&!A.outside,I=l.focusedDay&&Ei(l.focusedDay,e),k=or(or(or({},v),(n={disabled:A.disabled,role:"gridcell"},n["aria-selected"]=A.selected,n.tabIndex=I||S?0:-1,n)),d),M={isButton:m,isHidden:b,activeModifiers:A,selectedDays:f,buttonProps:k,divProps:v};return M}function Mue(e){var t=N.useRef(null),r=_ue(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(Ky,or({name:"day",ref:t},r.buttonProps)):i.jsx("div",or({},r.divProps))}function Uue(e){var t=e.number,r=e.dates,n=Rn(),s=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,A=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,f=d(Number(t),{locale:l});if(!s)return i.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:f});var m=A(Number(t),{locale:l}),y=function(g){s(t,r,g)};return i.jsx(Ky,{name:"week-number","aria-label":m,className:o.weeknumber,style:a.weeknumber,onClick:y,children:f})}function Que(e){var t,r,n=Rn(),s=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,A=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Mue,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Uue,f;return o&&(f=i.jsx("td",{className:a.cell,style:s.cell,children:i.jsx(d,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:a.row,style:s.row,children:[f,e.dates.map(function(m){return i.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:i.jsx(A,{displayMonth:e.displayMonth,date:m})},gAe(m))})]})}function Aj(e,t,r){for(var n=r!=null&&r.ISOWeek?ED(t):u3(t,r),s=r!=null&&r.ISOWeek?gh(e):rc(e,r),a=Ml(n,s),o=[],l=0;l<=a;l++)o.push(si(s,l));var A=o.reduce(function(d,f){var m=r!=null&&r.ISOWeek?ID(f):TD(f,r),y=d.find(function(g){return g.weekNumber===m});return y?(y.dates.push(f),d):(d.push({weekNumber:m,dates:[f]}),d)},[]);return A}function Hue(e,t){var r=Aj(Pi(e),A3(e),t);if(t!=null&&t.useFixedWeeks){var n=yAe(e,t);if(n<6){var s=r[r.length-1],a=s.dates[s.dates.length-1],o=N4(a,6-n),l=Aj(N4(a,1),o,t);r.push.apply(r,l)}}return r}function Vue(e){var t,r,n,s=Rn(),a=s.locale,o=s.classNames,l=s.styles,A=s.hideHead,d=s.fixedWeeks,f=s.components,m=s.weekStartsOn,y=s.firstWeekContainsDate,g=s.ISOWeek,b=Hue(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:g,locale:a,weekStartsOn:m,firstWeekContainsDate:y}),C=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:sue,F=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:Que,v=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:tue;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!A&&i.jsx(C,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:b.map(function(S){return i.jsx(F,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),i.jsx(v,{displayMonth:e.displayMonth})]})}function Kue(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Gue=Kue()?N.useLayoutEffect:N.useEffect,Rb=!1,Wue=0;function uj(){return"react-day-picker-".concat(++Wue)}function zue(e){var t,r=e??(Rb?uj():null),n=N.useState(r),s=n[0],a=n[1];return Gue(function(){s===null&&a(uj())},[]),N.useEffect(function(){Rb===!1&&(Rb=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function $ue(e){var t,r,n=Rn(),s=n.dir,a=n.classNames,o=n.styles,l=n.components,A=gg().displayMonths,d=zue(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[a.month],y=o.month,g=e.displayIndex===0,b=e.displayIndex===A.length-1,C=!g&&!b;s==="rtl"&&(t=[g,b],b=t[0],g=t[1]),g&&(m.push(a.caption_start),y=or(or({},y),o.caption_start)),b&&(m.push(a.caption_end),y=or(or({},y),o.caption_end)),C&&(m.push(a.caption_between),y=or(or({},y),o.caption_between));var F=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:eue;return i.jsxs("div",{className:m.join(" "),style:y,children:[i.jsx(F,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(Vue,{id:f,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function que(e){var t=Rn(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function Xue(e){var t,r,n=e.initialProps,s=Rn(),a=x3(),o=gg(),l=N.useState(!1),A=l[0],d=l[1];N.useEffect(function(){s.initialFocus&&a.focusTarget&&(A||(a.focus(a.focusTarget),d(!0)))},[s.initialFocus,A,a.focus,a.focusTarget,a]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var m=or(or({},s.styles.root),s.style),y=Object.keys(n).filter(function(b){return b.startsWith("data-")}).reduce(function(b,C){var F;return or(or({},b),(F={},F[C]=n[C],F))},{}),g=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:que;return i.jsx("div",or({className:f.join(" "),style:m,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},y,{children:i.jsx(g,{children:o.displayMonths.map(function(b,C){return i.jsx($ue,{displayIndex:C,displayMonth:b},C)})})}))}function Yue(e){var t=e.children,r=vAe(e,["children"]);return i.jsx(UAe,{initialProps:r,children:i.jsx(XAe,{children:i.jsx(Tue,{initialProps:r,children:i.jsx(iue,{initialProps:r,children:i.jsx(cue,{initialProps:r,children:i.jsx(gue,{children:i.jsx(Iue,{children:t})})})})})})})}function Jue(e){return i.jsx(Yue,or({},e,{children:i.jsx(Xue,{initialProps:e})}))}function Gy({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(Jue,{showOutsideDays:r,className:hr("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:hr(C4({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:hr(C4({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>i.jsx($u,{className:"h-4 w-4"}),IconRight:({...s})=>i.jsx(Tn,{className:"h-4 w-4"})},...n})}Gy.displayName="Calendar";const Zue=e=>e&&"permissions"in e&&Array.isArray(e.permissions),ede=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",tde=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,a]=N.useState(""),[o,l]=N.useState(!1),[A,d]=N.useState(null),[f,m]=N.useState(null),[y,g]=N.useState([]),[b,C]=N.useState(""),[F,v]=N.useState(""),[S,I]=N.useState(""),[k,M]=N.useState(""),[V,O]=N.useState(""),[R,_]=N.useState(""),[J,U]=N.useState(""),[Q,X]=N.useState(new Date),[Z,$]=N.useState(ro(new Date,1)),[q,W]=N.useState([]),[Y,K]=N.useState(!1),[ae,be]=N.useState([]),[H,ee]=N.useState([]),[ie,le]=N.useState(null),[ce,me]=N.useState(null),[we,Ie]=N.useState(null),[ve,Ce]=N.useState(""),[Pe,Me]=N.useState(""),[Je,Re]=N.useState(""),[ye,pt]=N.useState(""),[rt,Ke]=N.useState(""),ht=Tr(),{user:_e}=hi();N.useEffect(()=>{(async()=>{try{const Ze=(await Ue.getBranches()||[]).map(br=>({value:br.id,label:br.name}));ee(Ze),g([{value:null,label:"All Branches"},...Ze])}catch(St){console.error("Error fetching branches:",St),Fe.error(St.message||"Failed to fetch branches.")}})()},[]),N.useEffect(()=>{(async()=>{n(!0);try{const qe=await Ue.getExpiredMemberships(f==null?void 0:f.value);t(qe.students)}catch(qe){console.error("Error fetching expired memberships:",qe),Fe.error(qe.message||"Failed to fetch expired memberships.")}finally{n(!1)}})()},[f]),N.useEffect(()=>{we!=null&&we.value?(async()=>{K(!0);try{const St=await Ue.getSchedules(we.value);W(St.schedules.map(Ze=>({value:Ze.id,label:Ze.title})))}catch(St){console.error("Error fetching shifts for branch:",St),Fe.error("Failed to fetch shifts."),W([])}finally{K(!1)}})():W([])},[we]),N.useEffect(()=>{ie!=null&&ie.value&&(we!=null&&we.value)&&A?(async()=>{try{const br=(await Ue.getSeats({branchId:we.value,shiftId:ie.value})).seats.filter(Ot=>!Ot.studentId||Ot.studentId===A.id);be([{value:null,label:"None"},...br.map(Ot=>({value:Ot.id,label:Ot.seatNumber}))]),ce&&!br.some(Ot=>Ot.id===ce.value)&&me(null)}catch(St){console.error("Error fetching seats:",St),Fe.error("Failed to fetch seats."),be([])}})():be([])},[ie,we,A]);const ft=async qe=>{var St;try{n(!0);const Ze=await Ue.getStudent(qe.id);d(Ze),X(new Date),$(ro(new Date,1)),C(Ze.name||""),v(Ze.registrationNumber||""),I(Ze.fatherName||""),M(Ze.aadharNumber||""),_(Ze.email||""),U(Ze.phone||""),O(Ze.address||""),Ie(Ze.branchId?{value:Ze.branchId,label:Ze.branchName}:null);const br=(St=Ze.assignments)==null?void 0:St[0];le(br?{value:br.shiftId,label:br.shiftTitle}:null),setTimeout(()=>{me(br?{value:br.seatId,label:br.seatNumber}:null)},200),Ce(Ze.totalFee?Ze.totalFee.toString():"0"),Me(Ze.cash?Ze.cash.toString():"0"),Re(Ze.online?Ze.online.toString():"0"),pt(Ze.securityMoney?Ze.securityMoney.toString():"0"),Ke(Ze.remark||""),l(!0)}catch(Ze){console.error("Failed to fetch student details for renewal:",Ze),Fe.error("Failed to load student details for renewal.")}finally{n(!1)}},yt=qe=>{const Ze=`https://wa.me/${qe.replace(/\D/g,"")}`;window.open(Ze,"_blank")},et=async()=>{var qe,St,Ze;if(!A||!Q||!Z||!b.trim()||!J.trim()||!V.trim()||!(ie!=null&&ie.value)||!ve||!(we!=null&&we.value)){Fe.error("Please ensure Name, Phone, Address, Branch, Shift, and Fee are filled correctly.");return}try{await Ue.renewStudent(A.id,{name:b,registrationNumber:F,fatherName:S,aadharNumber:k,address:V,membershipStart:eA(Q,"yyyy-MM-dd"),membershipEnd:eA(Z,"yyyy-MM-dd"),email:R,phone:J,branchId:we.value,shiftIds:[ie.value],seatId:ce?ce.value:void 0,totalFee:parseFloat(ve),cash:parseFloat(Pe)||0,online:parseFloat(Je)||0,securityMoney:parseFloat(ye)||0,remark:rt.trim()||void 0}),Fe.success(`Membership renewed for ${A.name}`),l(!1);const br=await Ue.getExpiredMemberships(f==null?void 0:f.value);t(br.students)}catch(br){console.error("Renew error:",((qe=br.response)==null?void 0:qe.data)||br.message),Fe.error(((Ze=(St=br.response)==null?void 0:St.data)==null?void 0:Ze.message)||"Failed to renew membership")}},Nt=parseFloat(Pe)||0,wt=parseFloat(Je)||0,Ht=Nt+wt,lr=(parseFloat(ve)||0)-Ht;return _e?i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(On,{isCollapsed:!1,setIsCollapsed:()=>{},onBarcodeClick:()=>{}}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[i.jsx(Zs,{}),i.jsxs("div",{className:"flex-1 p-4",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Expired Memberships"}),i.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ec,{className:"absolute left-3 top-3 text-gray-400"}),i.jsx("input",{className:"pl-10 pr-4 py-2 border rounded",placeholder:"Search by name, phone, or Reg. No.",value:s,onChange:qe=>a(qe.target.value)})]}),i.jsx("div",{className:"w-64",children:i.jsx(ai,{options:y,value:f,onChange:m,placeholder:"Filter by Branch",isClearable:!0})})]}),r?i.jsx("p",{children:"Loading..."}):i.jsxs(ac,{children:[i.jsx(ic,{children:i.jsxs(Zn,{children:[i.jsx(Jt,{children:"Name"}),i.jsx(Jt,{children:"Registration Number"}),i.jsx(Jt,{children:"Email"}),i.jsx(Jt,{children:"Phone"}),i.jsx(Jt,{children:"Expiry"}),i.jsx(Jt,{children:"Actions"})]})}),i.jsx(oc,{children:e.filter(qe=>qe.name.toLowerCase().includes(s.toLowerCase())||qe.phone&&qe.phone.includes(s)||qe.registrationNumber&&qe.registrationNumber.toLowerCase().includes(s.toLowerCase())).map(qe=>i.jsxs(Zn,{children:[i.jsx(Gt,{children:qe.name}),i.jsx(Gt,{children:qe.registrationNumber||"N/A"}),i.jsx(Gt,{children:qe.email}),i.jsx(Gt,{children:qe.phone}),i.jsx(Gt,{children:ede(qe.membershipEnd)}),i.jsxs(Gt,{className:"space-x-2",children:[i.jsx(Xt,{onClick:()=>ht(`/students/${qe.id}`),variant:"outline",children:i.jsx(Oi,{size:16})}),((_e==null?void 0:_e.role)==="admin"||(_e==null?void 0:_e.role)==="staff")&&i.jsxs(Xt,{onClick:()=>ft(qe),children:[i.jsx(Tn,{size:16})," Renew"]}),((_e==null?void 0:_e.role)==="admin"||Zue(_e)&&_e.permissions.includes("manage_students"))&&i.jsx(Xt,{variant:"destructive",onClick:async()=>{if(window.confirm("Are you sure you want to delete this student? This action cannot be undone."))try{await Ue.deleteStudent(qe.id),t(e.filter(St=>St.id!==qe.id)),Fe.success("Student deleted successfully.")}catch(St){Fe.error(St.message||"Failed to delete student.")}},children:i.jsx(Oo,{size:16})}),i.jsx(Xt,{variant:"outline",onClick:()=>yt(qe.phone),title:"Send WhatsApp Message",children:i.jsx(MX,{size:16})})]})]},qe.id))})]})]}),i.jsx(Mf,{open:o,onOpenChange:l,children:i.jsxs(Yd,{className:"max-h-[90vh] overflow-y-auto",children:[i.jsxs(Jd,{children:[i.jsx(eh,{children:"Renew Membership"}),i.jsxs(th,{children:["Renew for ",A==null?void 0:A.name]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Branch"}),i.jsx(ai,{options:H,value:we,onChange:qe=>{Ie(qe),le(null),me(null),Ce("")},placeholder:"Select a branch"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Name"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:b,onChange:qe=>C(qe.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Registration Number"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:F,onChange:qe=>v(qe.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Father's Name"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:S,onChange:qe=>I(qe.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Aadhar Number"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:k,onChange:qe=>M(qe.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Address"}),i.jsx("textarea",{className:"w-full border rounded px-3 py-2 mt-1",value:V,onChange:qe=>O(qe.target.value),rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Start Date"}),i.jsx(Gy,{mode:"single",selected:Q,onSelect:X,className:"rounded-md border"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"End Date"}),i.jsx(Gy,{mode:"single",selected:Z,onSelect:$,className:"rounded-md border"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Email"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"email",value:R,onChange:qe=>_(qe.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Phone"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"tel",value:J,onChange:qe=>U(qe.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Branch"}),i.jsx(ai,{options:H,value:we,onChange:Ie,placeholder:"Select Branch"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Shift"}),i.jsx(ai,{options:q,value:ie,onChange:le,placeholder:"Select Shift"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Seat"}),i.jsx(ai,{options:ae,value:ce,onChange:me,placeholder:"Select Seat",isDisabled:!ie})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Total Fee"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:ve,onChange:qe=>Ce(qe.target.value),min:"0",step:"0.01"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Cash Payment"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:Pe,onChange:qe=>Me(qe.target.value),min:"0",step:"0.01"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Online Payment"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:Je,onChange:qe=>Re(qe.target.value),min:"0",step:"0.01"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Security Money"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:ye,onChange:qe=>pt(qe.target.value),min:"0",step:"0.01"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Amount Paid"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1 bg-gray-100",type:"number",value:Ht.toFixed(2),readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Due Amount"}),i.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1 bg-gray-100",type:"number",value:lr.toFixed(2),readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium",children:"Remark"}),i.jsx("textarea",{className:"w-full border rounded px-3 py-2 mt-1",value:rt,onChange:qe=>Ke(qe.target.value),rows:3})]})]}),i.jsxs(Zd,{children:[i.jsx(Xt,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),i.jsx(Xt,{onClick:et,children:"Renew Membership"})]})]})})]})]}):(ht("/login"),null)},dj=""+new URL("invoiceimage-CC0K_7ae.jpg",import.meta.url).href,Db=e=>{if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"N/A":t.toISOString().split("T")[0]},rde=()=>{const{id:e}=lA(),t=Tr(),[r,n]=N.useState(null),[s,a]=N.useState(!0),[o,l]=N.useState(null),A=N.useRef(null);N.useEffect(()=>{(async()=>{try{const b=parseInt(e,10);if(isNaN(b))throw new Error("Invalid student ID");const C=await Ue.getStudent(b);if(!C)throw new Error("Student data not found");console.log("Fetched student data:",C);const S=new Date(C.membershipEnd)<new Date;n({...C,status:S?"expired":C.status,totalFee:C.totalFee,amountPaid:C.amountPaid,dueAmount:C.dueAmount,cash:C.cash,online:C.online,securityMoney:C.securityMoney??0,discount:C.discount??0}),l(null)}catch(b){console.error("Failed to fetch student:",b);const C=b.message==="Server error"?"Failed to load student details due to a server error. Please try again later.":b.message;l(C),Fe.error(C),n(null)}finally{a(!1)}})()},[e]);const d=async()=>{if(window.confirm("Are you sure you want to delete this student?"))try{const g=parseInt(e,10);if(isNaN(g))throw new Error("Invalid student ID");await Ue.deleteStudent(g),Fe.success("Student deleted successfully"),t("/students")}catch(g){console.error("Failed to delete student:",g.message);const b=g.message==="Student not found"?"Student not found. It may have already been deleted.":"Failed to delete student: "+g.message;Fe.error(b)}},f=()=>{window.print()};if(s)return i.jsx("div",{children:"Loading student details..."});if(o)return i.jsx("div",{children:o});if(!r)return i.jsx("div",{children:"Student not found"});const m=r.assignments&&r.assignments.length>0?r.assignments.map(g=>g.shiftTitle).filter(Boolean).join(", "):void 0,y=r.assignments&&r.assignments.length>0?Array.from(new Set(r.assignments.map(g=>g.seatNumber).filter(Boolean))).join(", "):void 0;return i.jsxs(i.Fragment,{children:[i.jsx("style",{children:`
          @media print {
            body {
              margin: 0;
              padding: 0;
              -webkit-print-color-adjust: exact;
            }
            .no-print {
              display: none !important;
            }
            .print-logo {
              width: 15%;
              max-width: 15%;
              display: block;
              margin: 0 auto 20px auto;
            }
            .print-title {
              text-align: center;
              color: #f97316;
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 20px;
            }
            .print-container {
              padding: 20px;
            }
          }
        `}),i.jsx("div",{className:"flex h-screen bg-gray-50",children:i.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto print-container",ref:A,children:[i.jsx("h1",{className:"print-title hidden print:block",children:"Student Details"}),i.jsxs("button",{onClick:()=>t(-1),className:"mb-4 flex items-center text-purple-600 hover:text-purple-800 no-print",children:[i.jsx(Po,{size:20,className:"mr-2"}),"Back"]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[i.jsx("div",{className:"flex justify-center mb-6 no-print",children:i.jsx("img",{src:dj,alt:"SDM Library Logo",className:"max-w-[250px]"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6 no-print",children:"Student Details"}),r.profileImageUrl&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-medium mb-2",children:"Profile Image"}),i.jsx("img",{src:r.profileImageUrl,alt:"Profile",className:"w-32 h-32 object-cover rounded-full"})]}),r.aadhaarFrontUrl&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-medium mb-2",children:"Aadhaar Front Image"}),i.jsx("img",{src:r.aadhaarFrontUrl,alt:"Aadhaar Front",className:"w-32 h-32 object-cover rounded"})]}),r.aadhaarBackUrl&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-medium mb-2",children:"Aadhaar Back Image"}),i.jsx("img",{src:r.aadhaarBackUrl,alt:"Aadhaar Back",className:"w-32 h-32 object-cover rounded"})]}),i.jsx("img",{src:dj,alt:"SDM Library Logo",className:"print-logo hidden print:block"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Name"}),i.jsx("p",{className:"text-gray-600",children:r.name||"Unknown"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Registration Number"}),i.jsx("p",{className:"text-gray-600",children:r.registrationNumber||"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Father's Name"}),i.jsx("p",{className:"text-gray-600",children:r.fatherName||"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Aadhar Number"}),i.jsx("p",{className:"text-gray-600",children:r.aadharNumber||"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Email"}),i.jsx("p",{className:"text-gray-600",children:r.email||"Unknown"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Phone"}),i.jsx("p",{className:"text-gray-600",children:r.phone||"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Address"}),i.jsx("p",{className:"text-gray-600",children:r.address||"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Branch"}),i.jsx("p",{className:"text-gray-600",children:r.branchName||"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Status"}),i.jsx("p",{className:`inline-block px-2 py-1 rounded-full text-xs ${r.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.status==="active"?"Active":"Expired"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Membership Start"}),i.jsx("p",{className:"text-gray-600",children:Db(r.membershipStart)})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Membership End"}),i.jsx("p",{className:"text-gray-600",children:Db(r.membershipEnd)})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Assigned Shift(s)"}),i.jsx("p",{className:"text-gray-600",children:m||"No shift assigned"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Seat Number(s)"}),i.jsx("p",{className:"text-gray-600",children:y||"None"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Locker Number"}),i.jsx("p",{className:"text-gray-600",children:r.lockerNumber||"None"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Total Fee"}),i.jsx("p",{className:"text-gray-600",children:r.totalFee!==void 0&&r.totalFee!==null?`Rs. ${r.totalFee.toFixed(2)}`:"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Amount Paid"}),i.jsx("p",{className:"text-gray-600",children:r.amountPaid!==void 0&&r.amountPaid!==null?`Rs. ${r.amountPaid.toFixed(2)}`:"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Due Amount"}),i.jsx("p",{className:"text-gray-600",children:r.dueAmount!==void 0&&r.dueAmount!==null?`Rs. ${r.dueAmount.toFixed(2)}`:"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Cash Payment"}),i.jsx("p",{className:"text-gray-600",children:r.cash!==void 0&&r.cash!==null?`Rs. ${r.cash.toFixed(2)}`:"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Online Payment"}),i.jsx("p",{className:"text-gray-600",children:r.online!==void 0&&r.online!==null?`Rs. ${r.online.toFixed(2)}`:"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Security Money"}),i.jsx("p",{className:"text-gray-600",children:r.securityMoney!==void 0&&r.securityMoney!==null?`Rs. ${r.securityMoney.toFixed(2)}`:"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Discount"})," ",i.jsx("p",{className:"text-gray-600",children:r.discount!==void 0&&r.discount!==null?`Rs. ${r.discount.toFixed(2)}`:"N/A"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium",children:"Created At"}),i.jsx("p",{className:"text-gray-600",children:Db(r.createdAt)})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("h2",{className:"text-lg font-medium",children:"Remark"}),i.jsx("p",{className:"text-gray-600",children:r.remark||"N/A"})]})]}),i.jsxs("div",{className:"mt-6 flex space-x-4 no-print",children:[i.jsxs("button",{onClick:()=>t(`/students/${r.id}/edit`),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(IN,{size:16,className:"mr-2"}),"Edit"]}),i.jsxs("button",{onClick:d,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[i.jsx(Oo,{size:16,className:"mr-2"}),"Delete"]}),i.jsxs("button",{onClick:f,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[i.jsx(FN,{size:16,className:"mr-2"}),"Print"]})]})]})]})})})})]})};var nde="Label",KD=N.forwardRef((e,t)=>i.jsx(Ur.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));KD.displayName=nde;var GD=KD;const sde=g2("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lt=N.forwardRef(({className:e,...t},r)=>i.jsx(GD,{ref:r,className:hr(sde(),e),...t}));Lt.displayName=GD.displayName;function hj(e,[t,r]){return Math.min(r,Math.max(t,e))}function ade(e,t=[]){let r=[];function n(a,o){const l=N.createContext(o),A=r.length;r=[...r,o];function d(m){const{scope:y,children:g,...b}=m,C=(y==null?void 0:y[e][A])||l,F=N.useMemo(()=>b,Object.values(b));return i.jsx(C.Provider,{value:F,children:g})}function f(m,y){const g=(y==null?void 0:y[e][A])||l,b=N.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,f]}const s=()=>{const a=r.map(o=>N.createContext(o));return function(l){const A=(l==null?void 0:l[e])||a;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,ide(s,...t)]}function ide(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:A,scopeName:d})=>{const m=A(a)[`__scope${d}`];return{...l,...m}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function WD(e){const t=e+"CollectionProvider",[r,n]=ade(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:C}=g,F=Ye.useRef(null),v=Ye.useRef(new Map).current;return i.jsx(s,{scope:b,itemMap:v,collectionRef:F,children:C})};o.displayName=t;const l=e+"CollectionSlot",A=Ye.forwardRef((g,b)=>{const{scope:C,children:F}=g,v=a(l,C),S=Gn(b,v.collectionRef);return i.jsx(dh,{ref:S,children:F})});A.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=Ye.forwardRef((g,b)=>{const{scope:C,children:F,...v}=g,S=Ye.useRef(null),I=Gn(b,S),k=a(d,C);return Ye.useEffect(()=>(k.itemMap.set(S,{ref:S,...v}),()=>void k.itemMap.delete(S))),i.jsx(dh,{[f]:"",ref:I,children:F})});m.displayName=d;function y(g){const b=a(e+"CollectionConsumer",g);return Ye.useCallback(()=>{const F=b.collectionRef.current;if(!F)return[];const v=Array.from(F.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((k,M)=>v.indexOf(k.ref.current)-v.indexOf(M.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:A,ItemSlot:m},y,n]}var ode=N.createContext(void 0);function w3(e){const t=N.useContext(ode);return e||t||"ltr"}function zD(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lde=[" ","Enter","ArrowUp","ArrowDown"],cde=[" ","Enter"],xg="Select",[w2,v2,Ade]=WD(xg),[L0,Uye]=ag(xg,[Ade,Iw]),b2=Iw(),[ude,qu]=L0(xg),[dde,hde]=L0(xg),$D=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:A,dir:d,name:f,autoComplete:m,disabled:y,required:g,form:b}=e,C=b2(t),[F,v]=N.useState(null),[S,I]=N.useState(null),[k,M]=N.useState(!1),V=w3(d),[O=!1,R]=fh({prop:n,defaultProp:s,onChange:a}),[_,J]=fh({prop:o,defaultProp:l,onChange:A}),U=N.useRef(null),Q=F?b||!!F.closest("form"):!0,[X,Z]=N.useState(new Set),$=Array.from(X).map(q=>q.props.value).join(";");return i.jsx(bP,{...C,children:i.jsxs(ude,{required:g,scope:t,trigger:F,onTriggerChange:v,valueNode:S,onValueNodeChange:I,valueNodeHasChildren:k,onValueNodeHasChildrenChange:M,contentId:Uc(),value:_,onValueChange:J,open:O,onOpenChange:R,dir:V,triggerPointerDownPosRef:U,disabled:y,children:[i.jsx(w2.Provider,{scope:t,children:i.jsx(dde,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(q=>{Z(W=>new Set(W).add(q))},[]),onNativeOptionRemove:N.useCallback(q=>{Z(W=>{const Y=new Set(W);return Y.delete(q),Y})},[]),children:r})}),Q?i.jsxs(y_,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:m,value:_,onChange:q=>J(q.target.value),disabled:y,form:b,children:[_===void 0?i.jsx("option",{value:""}):null,Array.from(X)]},$):null]})})};$D.displayName=xg;var qD="SelectTrigger",XD=N.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=b2(r),o=qu(qD,r),l=o.disabled||n,A=Gn(t,o.onTriggerChange),d=v2(r),f=N.useRef("touch"),[m,y,g]=w_(C=>{const F=d().filter(I=>!I.disabled),v=F.find(I=>I.value===o.value),S=v_(F,C,v);S!==void 0&&o.onValueChange(S.value)}),b=C=>{l||(o.onOpenChange(!0),g()),C&&(o.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return i.jsx(CP,{asChild:!0,...a,children:i.jsx(Ur.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":x_(o.value)?"":void 0,...s,ref:A,onClick:yr(s.onClick,C=>{C.currentTarget.focus(),f.current!=="mouse"&&b(C)}),onPointerDown:yr(s.onPointerDown,C=>{f.current=C.pointerType;const F=C.target;F.hasPointerCapture(C.pointerId)&&F.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(b(C),C.preventDefault())}),onKeyDown:yr(s.onKeyDown,C=>{const F=m.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&y(C.key),!(F&&C.key===" ")&&lde.includes(C.key)&&(b(),C.preventDefault())})})})});XD.displayName=qD;var YD="SelectValue",JD=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,A=qu(YD,r),{onValueNodeHasChildrenChange:d}=A,f=a!==void 0,m=Gn(t,A.onValueNodeChange);return Ai(()=>{d(f)},[d,f]),i.jsx(Ur.span,{...l,ref:m,style:{pointerEvents:"none"},children:x_(A.value)?i.jsx(i.Fragment,{children:o}):a})});JD.displayName=YD;var fde="SelectIcon",ZD=N.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(Ur.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});ZD.displayName=fde;var mde="SelectPortal",e_=e=>i.jsx(pN,{asChild:!0,...e});e_.displayName=mde;var xh="SelectContent",t_=N.forwardRef((e,t)=>{const r=qu(xh,e.__scopeSelect),[n,s]=N.useState();if(Ai(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Wu.createPortal(i.jsx(r_,{scope:e.__scopeSelect,children:i.jsx(w2.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(n_,{...e,ref:t})});t_.displayName=xh;var zo=10,[r_,Xu]=L0(xh),pde="SelectContentImpl",n_=N.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:y,collisionPadding:g,sticky:b,hideWhenDetached:C,avoidCollisions:F,...v}=e,S=qu(xh,r),[I,k]=N.useState(null),[M,V]=N.useState(null),O=Gn(t,me=>k(me)),[R,_]=N.useState(null),[J,U]=N.useState(null),Q=v2(r),[X,Z]=N.useState(!1),$=N.useRef(!1);N.useEffect(()=>{if(I)return nD(I)},[I]),$R();const q=N.useCallback(me=>{const[we,...Ie]=Q().map(Pe=>Pe.ref.current),[ve]=Ie.slice(-1),Ce=document.activeElement;for(const Pe of me)if(Pe===Ce||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===we&&M&&(M.scrollTop=0),Pe===ve&&M&&(M.scrollTop=M.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==Ce))return},[Q,M]),W=N.useCallback(()=>q([R,I]),[q,R,I]);N.useEffect(()=>{X&&W()},[X,W]);const{onOpenChange:Y,triggerPointerDownPosRef:K}=S;N.useEffect(()=>{if(I){let me={x:0,y:0};const we=ve=>{var Ce,Pe;me={x:Math.abs(Math.round(ve.pageX)-(((Ce=K.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(ve.pageY)-(((Pe=K.current)==null?void 0:Pe.y)??0))}},Ie=ve=>{me.x<=10&&me.y<=10?ve.preventDefault():I.contains(ve.target)||Y(!1),document.removeEventListener("pointermove",we),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[I,Y,K]),N.useEffect(()=>{const me=()=>Y(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[Y]);const[ae,be]=w_(me=>{const we=Q().filter(Ce=>!Ce.disabled),Ie=we.find(Ce=>Ce.ref.current===document.activeElement),ve=v_(we,me,Ie);ve&&setTimeout(()=>ve.ref.current.focus())}),H=N.useCallback((me,we,Ie)=>{const ve=!$.current&&!Ie;(S.value!==void 0&&S.value===we||ve)&&(_(me),ve&&($.current=!0))},[S.value]),ee=N.useCallback(()=>I==null?void 0:I.focus(),[I]),ie=N.useCallback((me,we,Ie)=>{const ve=!$.current&&!Ie;(S.value!==void 0&&S.value===we||ve)&&U(me)},[S.value]),le=n==="popper"?E4:s_,ce=le===E4?{side:l,sideOffset:A,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:y,collisionPadding:g,sticky:b,hideWhenDetached:C,avoidCollisions:F}:{};return i.jsx(r_,{scope:r,content:I,viewport:M,onViewportChange:V,itemRefCallback:H,selectedItem:R,onItemLeave:ee,itemTextRefCallback:ie,focusSelectedItem:W,selectedItemText:J,position:n,isPositioned:X,searchRef:ae,children:i.jsx(n3,{as:dh,allowPinchZoom:!0,children:i.jsx(r3,{asChild:!0,trapped:S.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:yr(s,me=>{var we;(we=S.trigger)==null||we.focus({preventScroll:!0}),me.preventDefault()}),children:i.jsx(Nw,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:i.jsx(le,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:me=>me.preventDefault(),...v,...ce,onPlaced:()=>Z(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:yr(v.onKeyDown,me=>{const we=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!we&&me.key.length===1&&be(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let ve=Q().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(me.key)&&(ve=ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Ce=me.target,Pe=ve.indexOf(Ce);ve=ve.slice(Pe+1)}setTimeout(()=>q(ve)),me.preventDefault()}})})})})})})});n_.displayName=pde;var gde="SelectItemAlignedPosition",s_=N.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=qu(xh,r),o=Xu(xh,r),[l,A]=N.useState(null),[d,f]=N.useState(null),m=Gn(t,O=>f(O)),y=v2(r),g=N.useRef(!1),b=N.useRef(!0),{viewport:C,selectedItem:F,selectedItemText:v,focusSelectedItem:S}=o,I=N.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&C&&F&&v){const O=a.trigger.getBoundingClientRect(),R=d.getBoundingClientRect(),_=a.valueNode.getBoundingClientRect(),J=v.getBoundingClientRect();if(a.dir!=="rtl"){const Ce=J.left-R.left,Pe=_.left-Ce,Me=O.left-Pe,Je=O.width+Me,Re=Math.max(Je,R.width),ye=window.innerWidth-zo,pt=hj(Pe,[zo,Math.max(zo,ye-Re)]);l.style.minWidth=Je+"px",l.style.left=pt+"px"}else{const Ce=R.right-J.right,Pe=window.innerWidth-_.right-Ce,Me=window.innerWidth-O.right-Pe,Je=O.width+Me,Re=Math.max(Je,R.width),ye=window.innerWidth-zo,pt=hj(Pe,[zo,Math.max(zo,ye-Re)]);l.style.minWidth=Je+"px",l.style.right=pt+"px"}const U=y(),Q=window.innerHeight-zo*2,X=C.scrollHeight,Z=window.getComputedStyle(d),$=parseInt(Z.borderTopWidth,10),q=parseInt(Z.paddingTop,10),W=parseInt(Z.borderBottomWidth,10),Y=parseInt(Z.paddingBottom,10),K=$+q+X+Y+W,ae=Math.min(F.offsetHeight*5,K),be=window.getComputedStyle(C),H=parseInt(be.paddingTop,10),ee=parseInt(be.paddingBottom,10),ie=O.top+O.height/2-zo,le=Q-ie,ce=F.offsetHeight/2,me=F.offsetTop+ce,we=$+q+me,Ie=K-we;if(we<=ie){const Ce=U.length>0&&F===U[U.length-1].ref.current;l.style.bottom="0px";const Pe=d.clientHeight-C.offsetTop-C.offsetHeight,Me=Math.max(le,ce+(Ce?ee:0)+Pe+W),Je=we+Me;l.style.height=Je+"px"}else{const Ce=U.length>0&&F===U[0].ref.current;l.style.top="0px";const Me=Math.max(ie,$+C.offsetTop+(Ce?H:0)+ce)+Ie;l.style.height=Me+"px",C.scrollTop=we-ie+C.offsetTop}l.style.margin=`${zo}px 0`,l.style.minHeight=ae+"px",l.style.maxHeight=Q+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[y,a.trigger,a.valueNode,l,d,C,F,v,a.dir,n]);Ai(()=>I(),[I]);const[k,M]=N.useState();Ai(()=>{d&&M(window.getComputedStyle(d).zIndex)},[d]);const V=N.useCallback(O=>{O&&b.current===!0&&(I(),S==null||S(),b.current=!1)},[I,S]);return i.jsx(yde,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:V,children:i.jsx("div",{ref:A,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:i.jsx(Ur.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});s_.displayName=gde;var xde="SelectPopperPosition",E4=N.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=zo,...a}=e,o=b2(r);return i.jsx(BP,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});E4.displayName=xde;var[yde,v3]=L0(xh,{}),F4="SelectViewport",a_=N.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Xu(F4,r),o=v3(F4,r),l=Gn(t,a.onViewportChange),A=N.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(w2.Slot,{scope:r,children:i.jsx(Ur.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:yr(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&m){const g=Math.abs(A.current-f.scrollTop);if(g>0){const b=window.innerHeight-zo*2,C=parseFloat(m.style.minHeight),F=parseFloat(m.style.height),v=Math.max(C,F);if(v<b){const S=v+g,I=Math.min(b,S),k=S-I;m.style.height=I+"px",m.style.bottom==="0px"&&(f.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}A.current=f.scrollTop})})})]})});a_.displayName=F4;var i_="SelectGroup",[wde,vde]=L0(i_),bde=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Uc();return i.jsx(wde,{scope:r,id:s,children:i.jsx(Ur.div,{role:"group","aria-labelledby":s,...n,ref:t})})});bde.displayName=i_;var o_="SelectLabel",l_=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=vde(o_,r);return i.jsx(Ur.div,{id:s.id,...n,ref:t})});l_.displayName=o_;var Wy="SelectItem",[Cde,c_]=L0(Wy),A_=N.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=qu(Wy,r),A=Xu(Wy,r),d=l.value===n,[f,m]=N.useState(a??""),[y,g]=N.useState(!1),b=Gn(t,S=>{var I;return(I=A.itemRefCallback)==null?void 0:I.call(A,S,n,s)}),C=Uc(),F=N.useRef("touch"),v=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Cde,{scope:r,value:n,disabled:s,textId:C,isSelected:d,onItemTextChange:N.useCallback(S=>{m(I=>I||((S==null?void 0:S.textContent)??"").trim())},[]),children:i.jsx(w2.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:i.jsx(Ur.div,{role:"option","aria-labelledby":C,"data-highlighted":y?"":void 0,"aria-selected":d&&y,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:yr(o.onFocus,()=>g(!0)),onBlur:yr(o.onBlur,()=>g(!1)),onClick:yr(o.onClick,()=>{F.current!=="mouse"&&v()}),onPointerUp:yr(o.onPointerUp,()=>{F.current==="mouse"&&v()}),onPointerDown:yr(o.onPointerDown,S=>{F.current=S.pointerType}),onPointerMove:yr(o.onPointerMove,S=>{var I;F.current=S.pointerType,s?(I=A.onItemLeave)==null||I.call(A):F.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yr(o.onPointerLeave,S=>{var I;S.currentTarget===document.activeElement&&((I=A.onItemLeave)==null||I.call(A))}),onKeyDown:yr(o.onKeyDown,S=>{var k;((k=A.searchRef)==null?void 0:k.current)!==""&&S.key===" "||(cde.includes(S.key)&&v(),S.key===" "&&S.preventDefault())})})})})});A_.displayName=Wy;var jm="SelectItemText",u_=N.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=qu(jm,r),l=Xu(jm,r),A=c_(jm,r),d=hde(jm,r),[f,m]=N.useState(null),y=Gn(t,v=>m(v),A.onItemTextChange,v=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,v,A.value,A.disabled)}),g=f==null?void 0:f.textContent,b=N.useMemo(()=>i.jsx("option",{value:A.value,disabled:A.disabled,children:g},A.value),[A.disabled,A.value,g]),{onNativeOptionAdd:C,onNativeOptionRemove:F}=d;return Ai(()=>(C(b),()=>F(b)),[C,F,b]),i.jsxs(i.Fragment,{children:[i.jsx(Ur.span,{id:A.textId,...a,ref:y}),A.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wu.createPortal(a.children,o.valueNode):null]})});u_.displayName=jm;var d_="SelectItemIndicator",h_=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return c_(d_,r).isSelected?i.jsx(Ur.span,{"aria-hidden":!0,...n,ref:t}):null});h_.displayName=d_;var I4="SelectScrollUpButton",f_=N.forwardRef((e,t)=>{const r=Xu(I4,e.__scopeSelect),n=v3(I4,e.__scopeSelect),[s,a]=N.useState(!1),o=Gn(t,n.onScrollButtonChange);return Ai(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=A.scrollTop>0;a(d)};const A=r.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(p_,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=r;l&&A&&(l.scrollTop=l.scrollTop-A.offsetHeight)}}):null});f_.displayName=I4;var j4="SelectScrollDownButton",m_=N.forwardRef((e,t)=>{const r=Xu(j4,e.__scopeSelect),n=v3(j4,e.__scopeSelect),[s,a]=N.useState(!1),o=Gn(t,n.onScrollButtonChange);return Ai(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=A.scrollHeight-A.clientHeight,f=Math.ceil(A.scrollTop)<d;a(f)};const A=r.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(p_,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=r;l&&A&&(l.scrollTop=l.scrollTop+A.offsetHeight)}}):null});m_.displayName=j4;var p_=N.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Xu("SelectScrollButton",r),o=N.useRef(null),l=v2(r),A=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>A(),[A]),Ai(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ur.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:yr(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:yr(s.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:yr(s.onPointerLeave,()=>{A()})})}),Bde="SelectSeparator",g_=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Ur.div,{"aria-hidden":!0,...n,ref:t})});g_.displayName=Bde;var T4="SelectArrow",Nde=N.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=b2(r),a=qu(T4,r),o=Xu(T4,r);return a.open&&o.position==="popper"?i.jsx(NP,{...s,...n,ref:t}):null});Nde.displayName=T4;function x_(e){return e===""||e===void 0}var y_=N.forwardRef((e,t)=>{const{value:r,...n}=e,s=N.useRef(null),a=Gn(t,s),o=zD(r);return N.useEffect(()=>{const l=s.current,A=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(A,"value").set;if(o!==r&&f){const m=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(m)}},[o,r]),i.jsx(gN,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});y_.displayName="BubbleSelect";function w_(e){const t=Yl(e),r=N.useRef(""),n=N.useRef(0),s=N.useCallback(o=>{const l=r.current+o;t(l),function A(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>A(""),1e3))}(l)},[t]),a=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function v_(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=Sde(e,Math.max(a,0));s.length===1&&(o=o.filter(d=>d!==r));const A=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return A!==r?A:void 0}function Sde(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ede=$D,b_=XD,Fde=JD,Ide=ZD,jde=e_,C_=t_,Tde=a_,B_=l_,N_=A_,Lde=u_,kde=h_,S_=f_,E_=m_,F_=g_;const Gl=Ede,Wl=Fde,il=N.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(b_,{ref:n,className:hr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(Ide,{asChild:!0,children:i.jsx(f7,{className:"h-4 w-4 opacity-50"})})]}));il.displayName=b_.displayName;const I_=N.forwardRef(({className:e,...t},r)=>i.jsx(S_,{ref:r,className:hr("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(kX,{className:"h-4 w-4"})}));I_.displayName=S_.displayName;const j_=N.forwardRef(({className:e,...t},r)=>i.jsx(E_,{ref:r,className:hr("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(f7,{className:"h-4 w-4"})}));j_.displayName=E_.displayName;const ol=N.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(jde,{children:i.jsxs(C_,{ref:s,className:hr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(I_,{}),i.jsx(Tde,{className:hr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(j_,{})]})}));ol.displayName=C_.displayName;const Pde=N.forwardRef(({className:e,...t},r)=>i.jsx(B_,{ref:r,className:hr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Pde.displayName=B_.displayName;const Rs=N.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(N_,{ref:n,className:hr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(kde,{children:i.jsx(By,{className:"h-4 w-4"})})}),i.jsx(Lde,{children:t})]}));Rs.displayName=N_.displayName;const Ode=N.forwardRef(({className:e,...t},r)=>i.jsx(F_,{ref:r,className:hr("-mx-1 my-1 h-px bg-muted",e),...t}));Ode.displayName=F_.displayName;const Pr=N.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:hr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Pr.displayName="Input";const p0=N.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:hr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));p0.displayName="Textarea";const Cn=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:hr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Cn.displayName="Card";const ya=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:hr("flex flex-col space-y-1.5 p-6",e),...t}));ya.displayName="CardHeader";const wa=N.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:hr("text-2xl font-semibold leading-none tracking-tight",e),...t}));wa.displayName="CardTitle";const nc=N.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:hr("text-sm text-muted-foreground",e),...t}));nc.displayName="CardDescription";const ys=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:hr("p-6 pt-0",e),...t}));ys.displayName="CardContent";const Rde=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:hr("flex items-center p-6 pt-0",e),...t}));Rde.displayName="CardFooter";class Dde extends Ye.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){var t;return this.state.hasError?i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:i.jsxs(Cn,{className:"p-6 shadow-lg border-gray-200 dark:border-gray-700",children:[i.jsx(ya,{children:i.jsx(wa,{className:"text-xl font-bold text-red-600",children:"Something Went Wrong"})}),i.jsxs(ys,{children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:((t=this.state.error)==null?void 0:t.toString())||"An unknown error occurred while loading the schedule. Please try refreshing the page or contact support if the issue persists."}),i.jsx(Xt,{onClick:()=>window.location.reload(),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Refresh Page"})]})]})}):this.props.children}}const fj=e=>{if(!e)return null;const t=new Date(e+"T00:00:00");return isNaN(t.getTime())?null:t},_de=e=>{if(!e||!e.includes(":"))return"N/A";const[t,r]=e.split(":").map(Number);if(isNaN(t)||isNaN(r))return"Invalid time";const n=new Date;return n.setHours(t,r,0),new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(n)},_b=e=>{const t=typeof e=="string"?new Date(e+"T00:00:00"):e;return isNaN(t.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)},Mde=()=>{var Z,$;const[e,t]=N.useState(void 0),[r,n]=N.useState([]),[s,a]=N.useState([]),[o,l]=N.useState(!1),[A,d]=N.useState(!1),[f,m]=N.useState(null),y=()=>{Fe.info("Barcode scanning functionality is not yet implemented.")},[g,b]=N.useState(!1),[C,F]=N.useState(!1),[v,S]=N.useState(null),[I,k]=N.useState(null),M={title:"",date:new Date,time:"",description:"",fee:0,branchId:f||void 0},[V,O]=N.useState(M),R=N.useCallback(async()=>{try{const q=await Ue.getBranches(),W=Array.isArray(q)?q:[];a(W),W.length>0&&O(Y=>({...Y,branchId:f||W[0].id}))}catch(q){console.error("Error fetching branches:",q),Fe.error("Failed to load branches")}},[f]),_=N.useCallback(async()=>{l(!0);try{console.log("Fetching schedules for branch ID:",f);const q=await Ue.getSchedules(f||null);console.log("Raw API Response:",q);let W=[];Array.isArray(q)?(console.log("Response is an array, using directly"),W=q):q&&Array.isArray(q.schedules)?(console.log("Response has schedules array"),W=q.schedules):(console.warn("Unexpected response format, defaulting to empty array",q),W=[]),console.log("Processed schedules:",W),console.log("Raw schedules data:",W);const Y=W.filter(K=>K&&typeof K=="object").map(K=>{var be;const ae=K.branch_name||K.branch_id&&((be=s.find(H=>H.id===K.branch_id))==null?void 0:be.name)||"—";return{id:K.id,title:K.title||"Untitled Event",description:K.description||"",time:K.time||"",eventDate:K.eventDate||K.event_date||"",fee:typeof K.fee=="number"?K.fee:parseFloat(K.fee)||0,branchId:K.branch_id,branchName:ae}});console.log("Setting events:",Y),n(Y)}catch(q){console.error("Error caught in fetchEvents:",q),Fe.error(q.message||"Failed to load events"),n([])}finally{l(!1)}},[f]);N.useEffect(()=>{_(),R()},[_,R]);const J=async()=>{if(!V.title.trim()||!V.time||!V.branchId){Fe.error("Please fill in all required fields: Event Title, Time, and Branch.");return}const W=(V.date instanceof Date&&!isNaN(V.date.getTime())?V.date:new Date).toISOString().split("T")[0],Y={title:V.title.trim(),description:V.description.trim()||null,time:V.time,eventDate:W,fee:V.fee,branch_id:V.branchId};console.log("Sending add event data:",Y),l(!0);try{await Ue.addSchedule(Y),await _(),b(!1),O(M),Fe.success("Event added successfully!")}catch(K){console.error("Error in handleAddEventSubmit:",K),Fe.error(K.message||"Failed to add event.")}finally{l(!1)}},U=async()=>{var K;if(!v)return;if(!v.title.trim()||!v.time||!v.branchId){Fe.error("Please fill in all required fields: Event Title, Time, and Branch.");return}const q=fj(v.eventDate),W=q?q.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],Y={title:v.title.trim(),description:((K=v.description)==null?void 0:K.trim())||null,time:v.time,eventDate:W,fee:v.fee,branch_id:v.branchId};console.log("Sending update event data:",Y),l(!0);try{await Ue.updateSchedule(v.id,Y),await _(),F(!1),S(null),Fe.success("Event updated successfully!")}catch(ae){console.error("Error in handleUpdateEventSubmit:",ae),Fe.error(ae.message||"Failed to update event.")}finally{l(!1)}},Q=async()=>{if(I){l(!0);try{await Ue.deleteSchedule(I.id),n(q=>q.filter(W=>W.id!==I.id)),Fe.success("Event removed from schedule.")}catch(q){Fe.error(q.message||"Failed to delete event.")}finally{l(!1),k(null)}}},X=e?r.filter(q=>{const W=fj(q.eventDate);return W?W.getFullYear()===e.getFullYear()&&W.getMonth()===e.getMonth()&&W.getDate()===e.getDate():!1}):r;return i.jsx(Dde,{children:i.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[i.jsx(On,{isCollapsed:A,setIsCollapsed:d,onBarcodeClick:y}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Schedules & Events"}),i.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-1",children:"Manage your daily activities and classes."})]}),i.jsxs("div",{className:"w-full sm:w-64",children:[i.jsx(Lt,{htmlFor:"branchFilter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by Branch"}),i.jsxs(Gl,{value:(f==null?void 0:f.toString())||"all",onValueChange:q=>{const W=q==="all"?null:parseInt(q);console.log("Selected branch ID changed:",W),m(W)},children:[i.jsx(il,{className:"w-[200px]",children:i.jsx(Wl,{placeholder:"Select a branch"})}),i.jsxs(ol,{children:[i.jsx(Rs,{value:"all",children:"All Branches"}),s.map(q=>i.jsx(Rs,{value:q.id.toString(),children:q.name},q.id))]})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[i.jsx("div",{className:"lg:col-span-1 space-y-8",children:i.jsxs(Cn,{className:"shadow-lg border-gray-200 dark:border-gray-700",children:[i.jsx(ya,{children:i.jsxs(wa,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Calendar"}),i.jsx(ko,{className:"h-5 w-5 text-gray-400"})]})}),i.jsxs(ys,{children:[i.jsx(Gy,{mode:"single",selected:e,onSelect:t,className:"p-0"}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsxs(Xt,{onClick:()=>{O({...M,date:e||new Date}),b(!0)},disabled:o,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:[i.jsx(Vw,{size:18,className:"mr-2"})," Add New Event"]}),e&&i.jsxs(Xt,{variant:"ghost",className:"w-full text-red-500 hover:text-red-600",onClick:()=>t(void 0),disabled:o,children:[i.jsx(AA,{size:16,className:"mr-2"})," Clear Selection"]})]})]})]})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(Cn,{className:"shadow-lg border-gray-200 dark:border-gray-700",children:[i.jsx(ya,{children:i.jsx(wa,{children:e?`Events for ${_b(e)}`:"All Upcoming Events"})}),i.jsx(ys,{children:o?i.jsx("div",{className:"py-12 flex justify-center items-center",children:i.jsx(Js,{className:"h-8 w-8 animate-spin text-indigo-600"})}):i.jsxs(ac,{children:[i.jsx(wO,{children:X.length===0?"No events to display.":"A list of your scheduled events."}),i.jsx(ic,{children:i.jsxs(Zn,{children:[i.jsx(Jt,{className:"w-[150px]",children:"Event"}),i.jsx(Jt,{children:"Branch"}),i.jsx(Jt,{children:"Time"}),i.jsx(Jt,{children:"Fee"}),i.jsx(Jt,{className:"hidden md:table-cell",children:"Description"}),i.jsx(Jt,{className:"text-right",children:"Actions"})]})}),i.jsx(oc,{children:X.map(q=>i.jsxs(Zn,{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[i.jsx(Gt,{className:"font-medium",children:q.title}),i.jsx(Gt,{children:q.branchName||"—"}),i.jsx(Gt,{children:_de(q.time)}),i.jsxs(Gt,{children:["₹",q.fee.toFixed(2)]}),i.jsx(Gt,{className:"hidden md:table-cell max-w-xs truncate",children:q.description||"—"}),i.jsxs(Gt,{className:"text-right space-x-1",children:[i.jsx(Xt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-500 hover:text-blue-700",onClick:()=>{S(q),F(!0)},children:i.jsx(QX,{size:16})}),i.jsx(Xt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-700",onClick:()=>k(q),children:i.jsx(Oo,{size:16})})]})]},q.id))})]})})]})})]})]})})]}),i.jsx(Mf,{open:g,onOpenChange:b,children:i.jsxs(Yd,{className:"sm:max-w-[480px] dark:bg-gray-800",children:[i.jsxs(Jd,{children:[i.jsx(eh,{children:"Add New Event"}),i.jsx(th,{children:"Fill in the details for your new schedule event."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"eventTitle",children:"Event Title *"}),i.jsx(Pr,{id:"eventTitle",placeholder:"Enter event title",value:V.title,onChange:q=>O({...V,title:q.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"eventBranch",children:"Branch *"}),i.jsxs(Gl,{value:((Z=V.branchId)==null?void 0:Z.toString())||"",onValueChange:q=>O({...V,branchId:parseInt(q)}),children:[i.jsx(il,{children:i.jsx(Wl,{placeholder:"Select a branch"})}),i.jsx(ol,{children:s.map(q=>i.jsx(Rs,{value:q.id.toString(),children:q.name},q.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"eventTime",children:"Time *"}),i.jsx(Pr,{id:"eventTime",type:"time",value:V.time,onChange:q=>O({...V,time:q.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"eventFee",children:"Fee"}),i.jsx(Pr,{id:"eventFee",type:"number",placeholder:"0.00",value:V.fee,onChange:q=>O({...V,fee:parseFloat(q.target.value)||0})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"eventDescription",children:"Description (optional)"}),i.jsx(p0,{id:"eventDescription",placeholder:"Enter event description",value:V.description||"",onChange:q=>O({...V,description:q.target.value})})]}),i.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i.jsx(Lt,{children:"Date"}),i.jsx("div",{children:_b(V.date)})]})]}),i.jsxs(Zd,{children:[i.jsx(Ib,{asChild:!0,children:i.jsx(Xt,{variant:"outline",children:"Cancel"})}),i.jsxs(Xt,{onClick:J,disabled:o,children:[o&&i.jsx(Js,{className:"h-4 w-4 animate-spin mr-2"})," Add Event"]})]})]})}),i.jsx(Mf,{open:C,onOpenChange:F,children:i.jsxs(Yd,{className:"sm:max-w-[480px] dark:bg-gray-800",children:[i.jsxs(Jd,{children:[i.jsx(eh,{children:"Edit Event"}),i.jsx(th,{children:"Update the details for this schedule event."})]}),v&&i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"editEventTitle",children:"Event Title *"}),i.jsx(Pr,{id:"editEventTitle",placeholder:"Enter event title",value:v.title,onChange:q=>S({...v,title:q.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"editEventBranch",children:"Branch *"}),i.jsxs(Gl,{value:(($=v.branchId)==null?void 0:$.toString())||"",onValueChange:q=>S({...v,branchId:parseInt(q)}),children:[i.jsx(il,{children:i.jsx(Wl,{placeholder:"Select a branch"})}),i.jsx(ol,{children:s.map(q=>i.jsx(Rs,{value:q.id.toString(),children:q.name},q.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"editEventTime",children:"Time *"}),i.jsx(Pr,{id:"editEventTime",type:"time",value:v.time,onChange:q=>S({...v,time:q.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"editEventFee",children:"Fee"}),i.jsx(Pr,{id:"editEventFee",type:"number",placeholder:"0.00",value:v.fee,onChange:q=>S({...v,fee:parseFloat(q.target.value)||0})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"editEventDescription",children:"Description (optional)"}),i.jsx(p0,{id:"editEventDescription",placeholder:"Enter event description",value:v.description||"",onChange:q=>S({...v,description:q.target.value})})]}),i.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i.jsx(Lt,{children:"Date"}),i.jsx("div",{children:_b(v.eventDate)})]})]}),i.jsxs(Zd,{children:[i.jsx(Ib,{asChild:!0,children:i.jsx(Xt,{variant:"outline",children:"Cancel"})}),i.jsxs(Xt,{onClick:U,disabled:o,children:[o&&i.jsx(Js,{className:"h-4 w-4 animate-spin mr-2"})," Save Changes"]})]})]})}),i.jsx(Mf,{open:!!I,onOpenChange:()=>k(null),children:i.jsxs(Yd,{className:"sm:max-w-md dark:bg-gray-800",children:[i.jsxs(Jd,{children:[i.jsx(eh,{children:"Are you absolutely sure?"}),i.jsxs(th,{children:["This action cannot be undone. This will permanently delete the event",i.jsxs("span",{className:"font-bold",children:[' "',I==null?void 0:I.title,'"']}),"."]})]}),i.jsxs(Zd,{className:"sm:justify-end",children:[i.jsx(Ib,{asChild:!0,children:i.jsx(Xt,{type:"button",variant:"secondary",children:"Cancel"})}),i.jsxs(Xt,{type:"button",variant:"destructive",onClick:Q,disabled:o,children:[o&&i.jsx(Js,{className:"h-4 w-4 animate-spin mr-2"})," Delete"]})]})]})})]})})};var b3="Checkbox",[Ude,Qye]=ag(b3),[Qde,Hde]=Ude(b3),T_=N.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:A="on",onCheckedChange:d,form:f,...m}=e,[y,g]=N.useState(null),b=Gn(t,k=>g(k)),C=N.useRef(!1),F=y?f||!!y.closest("form"):!0,[v=!1,S]=fh({prop:s,defaultProp:a,onChange:d}),I=N.useRef(v);return N.useEffect(()=>{const k=y==null?void 0:y.form;if(k){const M=()=>S(I.current);return k.addEventListener("reset",M),()=>k.removeEventListener("reset",M)}},[y,S]),i.jsxs(Qde,{scope:r,state:v,disabled:l,children:[i.jsx(Ur.button,{type:"button",role:"checkbox","aria-checked":Fu(v)?"mixed":v,"aria-required":o,"data-state":P_(v),"data-disabled":l?"":void 0,disabled:l,value:A,...m,ref:b,onKeyDown:yr(e.onKeyDown,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:yr(e.onClick,k=>{S(M=>Fu(M)?!0:!M),F&&(C.current=k.isPropagationStopped(),C.current||k.stopPropagation())})}),F&&i.jsx(Vde,{control:y,bubbles:!C.current,name:n,value:A,checked:v,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:Fu(a)?!1:a})]})});T_.displayName=b3;var L_="CheckboxIndicator",k_=N.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=Hde(L_,r);return i.jsx(Nh,{present:n||Fu(a.state)||a.state===!0,children:i.jsx(Ur.span,{"data-state":P_(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});k_.displayName=L_;var Vde=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...a}=e,o=N.useRef(null),l=zD(r),A=dP(t);N.useEffect(()=>{const f=o.current,m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&g){const b=new Event("click",{bubbles:n});f.indeterminate=Fu(r),g.call(f,Fu(r)?!1:r),f.dispatchEvent(b)}},[l,r,n]);const d=N.useRef(Fu(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??d.current,...a,tabIndex:-1,ref:o,style:{...e.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Fu(e){return e==="indeterminate"}function P_(e){return Fu(e)?"indeterminate":e?"checked":"unchecked"}var O_=T_,Kde=k_;const L4=N.forwardRef(({className:e,...t},r)=>i.jsx(O_,{ref:r,className:hr("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(Kde,{className:hr("flex items-center justify-center text-current"),children:i.jsx(By,{className:"h-4 w-4"})})}));L4.displayName=O_.displayName;const Gde=g2("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rh({className:e,variant:t,...r}){return i.jsx("div",{className:hr(Gde({variant:t}),e),...r})}const mj=[{id:"manage_library_students",label:"Manage Library Students",category:"Library"},{id:"manage_schedules",label:"Manage Schedules & Shifts",category:"Library"},{id:"manage_seats",label:"Manage Seats",category:"Library"},{id:"view_collections",label:"View Library Collections",category:"Library"},{id:"manage_hostel_students",label:"Manage Hostel Students",category:"Hostel"},{id:"manage_hostel_branches",label:"Manage Hostel Branches",category:"Hostel"},{id:"view_hostel_collections",label:"View Hostel Collections",category:"Hostel"},{id:"manage_branches",label:"Manage Main Branches",category:"General"},{id:"manage_products",label:"Manage Products",category:"General"},{id:"manage_expenses",label:"Manage Expenses",category:"General"},{id:"view_transactions",label:"View Transactions",category:"General"},{id:"view_reports",label:"View Profit & Loss",category:"General"}],Wde=()=>{const e=aA(),[t,r]=N.useState(!1),[n,s]=N.useState({username:"",password:"",role:"staff",full_name:"",email:"",permissions:[],branch_access:[]}),{data:a=[],isLoading:o}=cl({queryKey:["allUsers"],queryFn:Ue.getAllUsers}),{data:l=[],isLoading:A}=cl({queryKey:["branches"],queryFn:Ue.getBranches}),d=ii({mutationFn:v=>Ue.addUser(v),onSuccess:()=>{Fe.success("Staff member created successfully!"),s({username:"",password:"",role:"staff",full_name:"",email:"",permissions:[],branch_access:[]}),e.invalidateQueries({queryKey:["allUsers"]})},onError:v=>Fe.error(v.message||"Failed to create staff member")}),f=ii({mutationFn:v=>Ue.deleteUser(v),onSuccess:()=>{Fe.success("Staff member deleted successfully!"),e.invalidateQueries({queryKey:["allUsers"]})},onError:v=>Fe.error(v.message||"Failed to delete staff member")}),m=mj.reduce((v,S)=>(v[S.category]||(v[S.category]=[]),v[S.category].push(S),v),{}),y=(v,S)=>{s(I=>({...I,permissions:S?[...I.permissions,v]:I.permissions.filter(k=>k!==v)}))},g=(v,S)=>{s(I=>({...I,branch_access:S?[...I.branch_access,v]:I.branch_access.filter(k=>k!==v)}))},b=v=>{if(v.preventDefault(),!n.username||!n.password){Fe.error("Username and password are required");return}if(!n.full_name){Fe.error("Full name is required");return}if(n.permissions.length===0){Fe.error("Please select at least one permission");return}if(n.branch_access.length===0){Fe.error("Please select at least one branch for access");return}d.mutate(n)},C=(v,S)=>{window.confirm(`Are you sure you want to delete staff member "${S}"?`)&&f.mutate(v)},F=(Array.isArray(a)?a:[]).filter(v=>v.role==="staff").map(v=>({...v,permissions:Array.isArray(v.permissions)?v.permissions:[],branch_details:Array.isArray(v.branch_details)?v.branch_details:Array.isArray(v.branchDetails)?v.branchDetails:[]}));return o||A?i.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Cn,{children:[i.jsxs(ya,{children:[i.jsxs(wa,{className:"flex items-center gap-2",children:[i.jsx(tc,{className:"w-5 h-5"}),"Create New Staff Member"]}),i.jsx(nc,{children:"Create a new staff account with customizable permissions and branch access"})]}),i.jsx(ys,{children:i.jsxs("form",{onSubmit:b,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"username",children:"Username *"}),i.jsx(Pr,{id:"username",value:n.username,onChange:v=>s(S=>({...S,username:v.target.value})),placeholder:"Enter username",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"full_name",children:"Full Name *"}),i.jsx(Pr,{id:"full_name",value:n.full_name,onChange:v=>s(S=>({...S,full_name:v.target.value})),placeholder:"Enter full name",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"email",children:"Email"}),i.jsx(Pr,{id:"email",type:"email",value:n.email,onChange:v=>s(S=>({...S,email:v.target.value})),placeholder:"Enter email address"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Lt,{htmlFor:"password",children:"Password *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Pr,{id:"password",type:t?"text":"password",value:n.password,onChange:v=>s(S=>({...S,password:v.target.value})),placeholder:"Enter password",required:!0}),i.jsx(Xt,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2",onClick:()=>r(!t),children:t?i.jsx(A0,{className:"w-4 h-4"}):i.jsx(Oi,{className:"w-4 h-4"})})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(GX,{className:"w-5 h-5"}),i.jsx(Lt,{className:"text-base font-semibold",children:"Feature Permissions *"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(m).map(([v,S])=>i.jsxs(Cn,{className:"p-4",children:[i.jsx("h4",{className:"font-medium mb-3 text-sm text-gray-700",children:v}),i.jsx("div",{className:"space-y-2",children:S.map(I=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(L4,{id:I.id,checked:n.permissions.includes(I.id),onCheckedChange:k=>y(I.id,k)}),i.jsx(Lt,{htmlFor:I.id,className:"text-sm font-normal cursor-pointer",children:I.label})]},I.id))})]},v))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(IX,{className:"w-5 h-5"}),i.jsx(Lt,{className:"text-base font-semibold",children:"Branch Access *"})]}),i.jsxs(Cn,{className:"p-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(v=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(L4,{id:`branch-${v.id}`,checked:n.branch_access.includes(v.id),onCheckedChange:S=>g(v.id,S)}),i.jsxs(Lt,{htmlFor:`branch-${v.id}`,className:"text-sm font-normal cursor-pointer",children:[v.name," ",v.code&&`(${v.code})`]})]},v.id))}),l.length===0&&i.jsx("p",{className:"text-sm text-gray-500",children:"No branches available. Please create branches first."})]})]}),i.jsx(Xt,{type:"submit",className:"w-full md:w-auto",disabled:d.isPending,children:d.isPending?"Creating...":"Create Staff Member"})]})})]}),i.jsxs(Cn,{children:[i.jsxs(ya,{children:[i.jsx(wa,{children:"Existing Staff Members"}),i.jsx(nc,{children:"Manage existing staff accounts and their permissions"})]}),i.jsx(ys,{children:F.length===0?i.jsx("p",{className:"text-center text-gray-500 py-8",children:"No staff members found."}):i.jsx("div",{className:"space-y-4",children:F.map(v=>i.jsx(Cn,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(So,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:v.full_name||v.fullName||v.username}),i.jsx(rh,{variant:"secondary",children:v.role})]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["@",v.username]}),v.email&&i.jsx("p",{className:"text-sm text-gray-600",children:v.email}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Permissions: "}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.isArray(v.permissions)&&v.permissions.map(S=>{const I=mj.find(k=>k.id===S);return I?i.jsx(rh,{variant:"outline",className:"text-xs",children:I.label},S):null})})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Branch Access: "}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(Array.isArray(v.branch_details)?v.branch_details:Array.isArray(v.branchDetails)?v.branchDetails:[]).map(S=>i.jsx(rh,{variant:"outline",className:"text-xs",children:S.name},S.id))})]})]})]}),i.jsx(Xt,{variant:"destructive",size:"sm",onClick:()=>C(v.id,v.username),disabled:f.isPending,children:i.jsx(Oo,{className:"w-4 h-4"})})]})},v.id))})})]})]})},zde=()=>{const e=aA(),{user:t}=hi(),{data:r,isLoading:n,error:s}=cl({queryKey:["userProfile"],queryFn:()=>t!=null&&t.isOwner?Ue.getOwnerProfile():Ue.getUserProfile(),enabled:!!t}),{data:a,isLoading:o,error:l}=cl({queryKey:["settings"],queryFn:Ue.getSettings,enabled:(t==null?void 0:t.role)==="admin"}),[A,d]=N.useState({fullName:"",email:"",libraryName:"",ownerPhone:"",oldPassword:"",newPassword:"",confirmPassword:""}),[f,m]=N.useState({brevoTemplateId:"",daysBeforeExpiration:""}),[y,g]=N.useState(!1),[b,C]=N.useState(!1);N.useEffect(()=>{const _=(r==null?void 0:r.owner)||(r==null?void 0:r.user);_&&d(J=>({...J,fullName:_.ownerName||_.fullName||"",email:_.ownerEmail||_.email||"",libraryName:_.libraryName||"",ownerPhone:_.ownerPhone||""}))},[r]),N.useEffect(()=>{var _;a&&m({brevoTemplateId:a.brevoTemplateId||"",daysBeforeExpiration:((_=a.daysBeforeExpiration)==null?void 0:_.toString())||""})},[a]);const F=_=>{const{name:J,value:U}=_.target;d(Q=>({...Q,[J]:U}))},v=_=>{const{name:J,value:U}=_.target;m(Q=>({...Q,[J]:U}))},S=_=>{_.preventDefault(),t!=null&&t.isOwner?k.mutate({libraryName:A.libraryName,ownerName:A.fullName,ownerEmail:A.email,ownerPhone:A.ownerPhone}):I.mutate({fullName:A.fullName,email:A.email})},I=ii({mutationFn:_=>Ue.updateUserProfile(_),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),Fe.success("Profile updated successfully!")},onError:_=>Fe.error(_.message||"Failed to update profile")}),k=ii({mutationFn:_=>Ue.updateOwnerProfile(_),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),Fe.success("Profile updated successfully!")},onError:_=>Fe.error(_.message||"Failed to update profile")}),M=ii({mutationFn:_=>t!=null&&t.isOwner?Ue.changeOwnerPassword({currentPassword:_.currentPassword,newPassword:_.newPassword}):Ue.changeUserPassword(_),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),Fe.success("Password changed successfully!"),d(_=>({..._,oldPassword:"",newPassword:"",confirmPassword:""}))},onError:_=>Fe.error(_.message||"Failed to change password")}),V=ii({mutationFn:_=>Ue.updateSettings(_),onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]}),Fe.success("Settings updated successfully!")},onError:_=>Fe.error(_.message||"Failed to update settings")}),O=_=>{if(_.preventDefault(),!A.oldPassword||!A.newPassword){Fe.error("Please fill current and new password fields");return}if(A.newPassword!==A.confirmPassword){Fe.error("New passwords do not match");return}M.mutate({currentPassword:A.oldPassword,newPassword:A.newPassword})},R=_=>{_.preventDefault();const J=parseInt(f.daysBeforeExpiration,10);if(isNaN(J)||J<=0){Fe.error("Days Before Expiration must be a positive number");return}V.mutate({brevoTemplateId:f.brevoTemplateId,daysBeforeExpiration:J})};return t?n?i.jsx("div",{children:"Loading..."}):s?i.jsxs("div",{children:["Error loading profile: ",s.message]}):i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx("div",{className:`fixed inset-y-0 left-0 transform ${y?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${b?"md:w-16":"md:w-64"}`,children:i.jsx(On,{isCollapsed:b,setIsCollapsed:C,onBarcodeClick:()=>{}})}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Settings"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),i.jsxs("form",{onSubmit:S,children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(t==null?void 0:t.isOwner)&&i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"libraryName",className:"block text-sm font-medium text-gray-700",children:"Library Name"}),i.jsx(Pr,{id:"libraryName",name:"libraryName",value:A.libraryName,onChange:F})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:t!=null&&t.isOwner?"Owner Name":"Full Name"}),i.jsx(Pr,{id:"fullName",name:"fullName",value:A.fullName,onChange:F})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),i.jsx(Pr,{id:"email",name:"email",type:"email",value:A.email,onChange:F})]}),(t==null?void 0:t.isOwner)&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"ownerPhone",className:"block text-sm font-medium text-gray-700",children:"Owner Phone"}),i.jsx(Pr,{id:"ownerPhone",name:"ownerPhone",value:A.ownerPhone,onChange:F})]})]}),i.jsx("div",{className:"mt-4 text-right",children:i.jsx(Xt,{type:"submit",disabled:I.isPending||k.isPending,children:I.isPending||k.isPending?"Saving...":"Save Changes"})})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Change Password"}),i.jsxs("form",{onSubmit:O,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"oldPassword",children:"Current Password"}),i.jsx(Pr,{id:"oldPassword",name:"oldPassword",value:A.oldPassword,onChange:F,type:"password"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"newPassword",children:"New Password"}),i.jsx(Pr,{id:"newPassword",name:"newPassword",value:A.newPassword,onChange:F,type:"password"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),i.jsx(Pr,{id:"confirmPassword",name:"confirmPassword",value:A.confirmPassword,onChange:F,type:"password"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(Xt,{type:"submit",children:"Update Password"})})]})]})]}),t.role==="admin"&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Email Settings"}),o?i.jsx("div",{children:"Loading..."}):l?i.jsx("div",{children:"Error..."}):i.jsxs("form",{onSubmit:R,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"brevoTemplateId",children:"Brevo Template ID"}),i.jsx(Pr,{id:"brevoTemplateId",name:"brevoTemplateId",value:f.brevoTemplateId,onChange:v})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"daysBeforeExpiration",children:"Remind Before Expiration (Days)"}),i.jsx(Pr,{id:"daysBeforeExpiration",name:"daysBeforeExpiration",type:"number",value:f.daysBeforeExpiration,onChange:v})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(Xt,{type:"submit",children:"Save Email Settings"})})]})]}),i.jsx(Wde,{})]})]})})]})]}):i.jsx("div",{children:"Please log in to access settings."})},pj=({children:e})=>{const{user:t,isLoading:r}=hi();return r?i.jsx("div",{children:"Loading..."}):!t||t.role!=="admin"?i.jsx(Xk,{to:"/owner-login"}):i.jsx(i.Fragment,{children:e})},$de=()=>{const e=Tr(),[t,r]=N.useState({username:"",password:"",role:"staff"}),n=a=>{const{name:o,value:l}=a.target;r(A=>({...A,[o]:l}))},s=async a=>{a.preventDefault();try{const o={username:t.username,password:t.password,role:t.role};await Ue.addUser(o),Fe.success("User added successfully"),e("/dashboard")}catch(o){console.error("Failed to add user:",o.message),Fe.error("Failed to add user")}};return i.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add New User"}),i.jsxs("form",{onSubmit:s,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),i.jsx("input",{type:"text",id:"username",name:"username",value:t.username,onChange:n,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:n,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),i.jsxs("select",{id:"role",name:"role",value:t.role,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",children:[i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"staff",children:"Staff"})]})]}),i.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-200",children:"Add User"})]})]})},qde=()=>{const{id:e}=lA(),t=Tr(),[r,n]=N.useState({name:"",registrationNumber:"",fatherName:"",aadharNumber:"",email:"",phone:"",address:"",branchId:null,membershipStart:"",membershipEnd:"",shiftIds:[],seatId:null,lockerId:null,totalFee:"",cash:"",online:"",securityMoney:"",remark:"",discount:"0",profileImage:null,profileImageUrl:"",aadhaarFrontImage:null,aadhaarFrontUrl:"",aadhaarBackImage:null,aadhaarBackUrl:""}),[s,a]=N.useState([]),[o,l]=N.useState([]),[A,d]=N.useState([]),[f,m]=N.useState([]),[y,g]=N.useState(!1),[b,C]=N.useState(!0),[F,v]=N.useState(!1),S=e?parseInt(e,10):NaN;if(isNaN(S))return i.jsx("div",{className:"p-6 text-red-500 text-center",children:"Invalid student ID."});N.useEffect(()=>{(async()=>{var Y,K,ae,be,H;try{const[ee,ie,le]=await Promise.all([Ue.getStudent(S),Ue.getBranches(),Ue.getLockers()]),ce=ee,me=(ce.assignments||[]).map(we=>we.shiftId).filter(Boolean);n({name:ce.name||"",registrationNumber:ce.registrationNumber||"",fatherName:ce.fatherName||"",aadharNumber:ce.aadharNumber||"",email:ce.email||"",phone:ce.phone||"",address:ce.address||"",branchId:ce.branchId||null,membershipStart:ce.membershipStart.split("T")[0],membershipEnd:ce.membershipEnd.split("T")[0],shiftIds:me,seatId:((K=(Y=ce.assignments)==null?void 0:Y[0])==null?void 0:K.seatId)||null,lockerId:ce.lockerId||null,totalFee:ce.totalFee.toString(),cash:ce.cash.toString(),online:ce.online.toString(),securityMoney:ce.securityMoney.toString(),discount:ce.discount?ce.discount.toString():"0",remark:ce.remark||"",profileImage:null,profileImageUrl:ce.profileImageUrl||"",aadhaarFrontImage:null,aadhaarFrontUrl:ce.aadhaarFrontUrl||"",aadhaarBackImage:null,aadhaarBackUrl:ce.aadhaarBackUrl||""}),d(ie),m(le.lockers)}catch(ee){console.error("Failed to fetch data:",ee);const ie=((ae=ee.response)==null?void 0:ae.status)===404?"Student not found":((H=(be=ee.response)==null?void 0:be.data)==null?void 0:H.message)||ee.message||"Failed to load student, shifts, branches, or lockers";Fe.error(ie)}finally{C(!1)}})()},[S]),N.useEffect(()=>{(async()=>{if(!r.branchId){a([]);return}try{const K=(await Ue.getSchedules(r.branchId)).schedules.map(ae=>({...ae,fee:ae.fee??0}));a(K)}catch(Y){console.error("Failed to fetch shifts:",Y),Fe.error("Failed to load shifts for the selected branch."),a([])}})()},[r.branchId]),N.useEffect(()=>{(async()=>{var K,ae;const Y=r.branchId;if(Y){g(!0);try{const H=(await Ue.getSeats({branchId:Y})).seats;l(H)}catch(be){console.error("Failed to fetch seats:",be),Fe.error(((ae=(K=be.response)==null?void 0:K.data)==null?void 0:ae.message)||"Failed to load seats")}finally{g(!1)}}else l([])})()},[r.branchId]);const I=W=>{const{name:Y,value:K}=W.target;n(ae=>({...ae,[Y]:K}))},k=(W,Y)=>{const K=Y?Y.value:null;W==="branchId"?n(ae=>({...ae,branchId:K,seatId:null,shiftIds:[]})):W==="seatId"?n(ae=>({...ae,seatId:K})):W==="lockerId"&&n(ae=>({...ae,lockerId:K}))},M=W=>{const Y=W?W.map(ae=>ae.value):[],K=s.filter(ae=>Y.includes(ae.id)).reduce((ae,be)=>ae+(be.fee??0),0);n(ae=>({...ae,shiftIds:Y,totalFee:K?K.toString():ae.totalFee}))},V=(W,Y)=>{const K=W.target.files?W.target.files[0]:null;if(K){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(K.type)){Fe.error(`Only JPEG, JPG, PNG, and GIF images are allowed for ${Y}`);return}if(K.size>200*1024){Fe.error(`Image size exceeds 200KB limit for ${Y}`);return}n(ae=>({...ae,[Y]:K}))}},O=async()=>{var W,Y;if(!r.name||!r.phone||!r.address||r.branchId===null||!r.membershipStart||!r.membershipEnd){Fe.error("Please fill in all required fields: Name, Phone, Address, Branch, Membership Start, Membership End");return}v(!0);try{let K=r.profileImageUrl;if(r.profileImage){const ee=new FormData;ee.append("image",r.profileImage),K=(await Ue.uploadImage(ee)).imageUrl||""}let ae=r.aadhaarFrontUrl;if(r.aadhaarFrontImage){const ee=new FormData;ee.append("image",r.aadhaarFrontImage),ae=(await Ue.uploadImage(ee)).imageUrl||""}let be=r.aadhaarBackUrl;if(r.aadhaarBackImage){const ee=new FormData;ee.append("image",r.aadhaarBackImage),be=(await Ue.uploadImage(ee)).imageUrl||""}const H={name:r.name,registrationNumber:r.registrationNumber||"",fatherName:r.fatherName||"",aadharNumber:r.aadharNumber||"",email:r.email||"",phone:r.phone,address:r.address,branchId:r.branchId,membershipStart:r.membershipStart,membershipEnd:r.membershipEnd,totalFee:parseFloat(r.totalFee)||0,amountPaid:(parseFloat(r.cash)||0)+(parseFloat(r.online)||0),discount:parseFloat(r.discount)||0,shiftIds:r.shiftIds,seatId:r.seatId,lockerId:r.lockerId,cash:parseFloat(r.cash)||0,online:parseFloat(r.online)||0,securityMoney:parseFloat(r.securityMoney)||0,remark:r.remark||"",profileImageUrl:K||"",aadhaarFrontUrl:ae||"",aadhaarBackUrl:be||""};await Ue.updateStudent(S,H),Fe.success("Student updated successfully"),t(`/students/${S}`)}catch(K){console.error("Failed to update student:",K),Fe.error(((Y=(W=K.response)==null?void 0:W.data)==null?void 0:Y.message)||K.message||"Failed to update student")}finally{v(!1)}},R=A.map(W=>({value:W.id,label:W.name})),_=[{value:null,label:"None"},...o.map(W=>({value:W.id,label:W.seatNumber}))],J=s.map(W=>({value:W.id,label:`${W.title} (${W.time} on ${W.eventDate})`})),U=[{value:null,label:"None"},...f.filter(W=>!W.isAssigned||W.studentId===S).map(W=>({value:W.id,label:W.lockerNumber}))],Q=parseFloat(r.cash)||0,X=parseFloat(r.online)||0,Z=Q+X,q=(parseFloat(r.totalFee)||0)-(parseFloat(r.discount)||0)-Z;return b?i.jsx("div",{className:"p-6 text-center",children:"Loading..."}):i.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsxs(Xt,{variant:"ghost",onClick:()=>t(`/students/${S}`),className:"mr-4",children:[i.jsx(Po,{className:"h-4 w-4 mr-2"})," Back"]}),i.jsx("h1",{className:"text-2xl font-bold",children:"Edit Student"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),i.jsx("input",{type:"text",id:"registrationNumber",name:"registrationNumber",value:r.registrationNumber,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"fatherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),i.jsx("input",{type:"text",id:"fatherName",name:"fatherName",value:r.fatherName,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"aadharNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),i.jsx("input",{type:"text",id:"aadharNumber",name:"aadharNumber",value:r.aadharNumber,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("input",{type:"text",id:"phone",name:"phone",value:r.phone,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("input",{type:"text",id:"address",name:"address",value:r.address,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),i.jsx(ai,{options:R,value:R.find(W=>W.value===r.branchId)||null,onChange:W=>k("branchId",W),placeholder:"Select a branch",className:"w-full",isDisabled:A.length===0,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"membershipStart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership Start"}),i.jsx("input",{type:"date",id:"membershipStart",name:"membershipStart",value:r.membershipStart,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"membershipEnd",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership End"}),i.jsx("input",{type:"date",id:"membershipEnd",name:"membershipEnd",value:r.membershipEnd,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"shiftIds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Shift(s)"}),i.jsx(ai,{isMulti:!0,options:J,value:J.filter(W=>r.shiftIds.includes(W.value)),onChange:M,placeholder:s.length===0?"No shifts for this branch":"Select one or more shifts",className:"w-full",isDisabled:s.length===0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"seatId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Seat"}),i.jsx(ai,{options:_,value:_.find(W=>W.value===r.seatId)||null,onChange:W=>k("seatId",W),isLoading:y,placeholder:r.branchId?"Select a seat":"Select a branch and shift first",className:"w-full",isDisabled:!r.branchId||o.length===0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"lockerId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Locker"}),i.jsx(ai,{options:U,value:U.find(W=>W.value===r.lockerId)||null,onChange:W=>k("lockerId",W),placeholder:r.branchId?"Select an available locker":"Select a branch first",className:"w-full",isDisabled:!r.branchId||f.length===0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"totalFee",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee"}),i.jsx("input",{type:"number",id:"totalFee",name:"totalFee",value:r.totalFee,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount"}),i.jsx("input",{type:"number",id:"discount",name:"discount",value:r.discount,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"cash",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Payment"}),i.jsx("input",{type:"number",id:"cash",name:"cash",value:r.cash,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"online",className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Payment"}),i.jsx("input",{type:"number",id:"online",name:"online",value:r.online,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"securityMoney",className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money"}),i.jsx("input",{type:"number",id:"securityMoney",name:"securityMoney",value:r.securityMoney,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount Paid"}),i.jsx("input",{type:"number",id:"amountPaid",name:"amountPaid",value:Z.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"dueAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),i.jsx("input",{type:"number",id:"dueAmount",name:"dueAmount",value:q.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"remark",className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),i.jsx("textarea",{id:"remark",name:"remark",value:r.remark,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"profileImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image (max 200KB)"}),i.jsx("input",{type:"file",id:"profileImage",name:"profileImage",accept:"image/*",onChange:W=>V(W,"profileImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.profileImageUrl&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:r.profileImageUrl,alt:"Profile Preview",className:"h-20 w-20 object-cover rounded"})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"aadhaarFrontImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Front Image (max 200KB)"}),i.jsx("input",{type:"file",id:"aadhaarFrontImage",name:"aadhaarFrontImage",accept:"image/*",onChange:W=>V(W,"aadhaarFrontImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.aadhaarFrontUrl&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:r.aadhaarFrontUrl,alt:"Aadhaar Front Preview",className:"h-20 w-20 object-cover rounded"})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"aadhaarBackImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Back Image (max 200KB)"}),i.jsx("input",{type:"file",id:"aadhaarBackImage",name:"aadhaarBackImage",accept:"image/*",onChange:W=>V(W,"aadhaarBackImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.aadhaarBackUrl&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:r.aadhaarBackUrl,alt:"Aadhaar Back Preview",className:"h-20 w-20 object-cover rounded"})})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Xt,{variant:"outline",onClick:()=>t(`/students/${S}`),disabled:F,children:"Cancel"}),i.jsx(Xt,{onClick:O,disabled:F,children:F?"Updating...":"Update Student"})]})]})]})},Xde=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[s,a]=N.useState(!0),[o,l]=N.useState(null),[A,d]=N.useState(""),[f,m]=N.useState(!1),[y,g]=N.useState(!1),[b,C]=N.useState([]),[F,v]=N.useState(null),[S,I]=N.useState(""),[k,M]=N.useState(null),V=Tr(),{isAuthenticated:O,isLoading:R}=hi(),_=()=>{Fe.info("Barcode scanning functionality is not yet implemented.")};N.useEffect(()=>{!R&&!O&&V("/login")},[O,R,V]);const J=async()=>{try{const q=await Ue.getBranches();C(q||[])}catch(q){Fe.error(q.message||"Failed to load branches"),C([])}},U=async(q=0)=>{try{a(!0);const Y={};F&&(Y.branchId=F),k&&(Y.shiftId=k);const K=await Ue.getSeats(Y);if(K.seats&&Array.isArray(K.seats))t(K.seats.sort((ae,be)=>parseInt(ae.seatNumber)-parseInt(be.seatNumber))),l(null);else throw new Error("Invalid data format from API")}catch(Y){l(Y.message||"Failed to fetch seats. Please try again."),q<2?(await new Promise(K=>setTimeout(K,1e3*(q+1))),await U(q+1)):Fe.error(Y.message||"Failed to fetch seats after multiple attempts")}finally{a(!1)}},Q=async(q=null)=>{try{const W=await Ue.getSchedules(q);if(W.schedules&&Array.isArray(W.schedules)){const Y=W.schedules.sort((K,ae)=>{const be=K.eventDate.localeCompare(ae.eventDate);return be!==0?be:K.time.localeCompare(ae.time)});n(Y)}else throw new Error("Invalid schedules data format from API")}catch(W){console.error("Failed to fetch schedules:",W),Fe.error(W.message||"Failed to fetch schedules"),n([])}},X=async q=>{if(q.preventDefault(),!F){Fe.error("Please select a branch before adding seats");return}m(!0);try{const W=await Ue.addSeats({seatNumbers:A,branchId:F});Fe.success(W.message||"Seats added successfully"),d(""),await U()}catch(W){Fe.error(W.message||"Failed to add seats")}finally{m(!1)}},Z=async q=>{if(window.confirm("Are you sure you want to delete this seat?"))try{const W=await Ue.deleteSeat(q);Fe.success(W.message||"Seat deleted successfully"),await U()}catch(W){Fe.error(W.message||"Failed to delete seat")}};N.useEffect(()=>{O&&J()},[O]),N.useEffect(()=>{O&&Q(F)},[O,F]),N.useEffect(()=>{O&&(U(),k&&r.length>0&&(r.some(W=>W.id===k)||M(null)))},[O,F,k,r]);const $=e.filter(q=>q.seatNumber.includes(S));return R?i.jsx("div",{className:"flex min-h-screen justify-center items-center",children:i.jsx(Js,{size:24,className:"animate-spin text-gray-500 dark:text-gray-400"})}):i.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[i.jsx(On,{isCollapsed:y,setIsCollapsed:g,onBarcodeClick:_}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-end justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-gray-200",children:"Seat Assignments"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-400 mt-1",children:"Manage library seat availability"})]}),i.jsxs("button",{onClick:()=>V(-1),className:"flex items-center text-purple-600 hover:text-purple-800 transition-colors",children:[i.jsx(Po,{size:20,className:"mr-1"})," Back"]})]}),i.jsxs("div",{className:"mb-4 flex flex-wrap gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"branch-select",className:"text-sm font-medium text-gray-700 dark:text-gray-300 mr-2",children:"Filter by Branch:"}),i.jsxs("select",{id:"branch-select",value:F??"",onChange:q=>v(q.target.value?parseInt(q.target.value,10):null),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[i.jsx("option",{value:"",children:"All Branches"}),b.map(q=>i.jsx("option",{value:q.id.toString(),children:q.name},q.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mr-2",children:"Search Seat:"}),i.jsx("input",{type:"text",value:S,onChange:q=>I(q.target.value),placeholder:"Enter seat number",className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mr-2",children:"Filter by Shift:"}),i.jsxs("select",{value:k??"",onChange:q=>M(q.target.value?parseInt(q.target.value,10):null),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 text-sm",children:[i.jsx("option",{value:"",children:"All Shifts"}),r.map(q=>i.jsx("option",{value:q.id,children:q.title},q.id))]})]})]}),s?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(Js,{size:24,className:"animate-spin text-gray-500 dark:text-gray-400"})}):o?i.jsx("div",{className:"text-red-500 dark:text-red-400 bg-red-50 dark:bg-red-900/30 p-4 rounded-lg mb-6",children:o}):$.length===0?i.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No seats found."}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:$.map(q=>i.jsxs("div",{className:"p-3 border rounded-lg shadow-sm bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h3",{className:"text-base font-semibold text-gray-800 dark:text-gray-200",children:["Seat ",q.seatNumber]}),i.jsx("button",{onClick:()=>Z(q.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-800/50",children:i.jsx(Oo,{size:14})})]}),q.shifts.length===0?i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"No shifts available."}):i.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:q.shifts.map(W=>i.jsxs("div",{className:`flex items-center gap-1 p-1 rounded-md text-xs ${W.isAssigned?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-500":"bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300"}`,children:[i.jsxs("span",{className:"flex-1 truncate",children:[W.shiftTitle,W.description&&` (${W.description})`]}),W.isAssigned&&W.studentName&&i.jsx("span",{className:"text-[15px] italic truncate",children:W.studentName})]},W.shiftId))})]},q.id))}),i.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:"seat-numbers",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Add New Seats"}),i.jsx("input",{id:"seat-numbers",type:"text",value:A,onChange:q=>d(q.target.value),placeholder:"Enter seat numbers (e.g., 1,2,3)",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 text-sm bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,disabled:f||!F})]}),i.jsx("button",{onClick:X,className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 dark:hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:f||!A.trim()||!F,children:f?i.jsxs(i.Fragment,{children:[i.jsx(Js,{size:16,className:"animate-spin"})," Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx(OX,{size:16})," Add Seats"]})})]})})]})})]})]})},Yde=g2("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Dc=N.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:hr(Yde({variant:t}),e),...r}));Dc.displayName="Alert";const C3=N.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:hr("mb-1 font-medium leading-none tracking-tight",e),...t}));C3.displayName="AlertTitle";const _c=N.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:hr("text-sm [&_p]:leading-relaxed",e),...t}));_c.displayName="AlertDescription";const Jde=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,a]=N.useState(null),[o,l]=N.useState(!1),[A,d]=N.useState([]),[f,m]=N.useState("all");N.useEffect(()=>{(async()=>{try{const C=await Ue.getSchedulesWithStudents();t(C.schedules||[])}catch(C){a("Failed to load shifts. Please try again later."),console.error("Failed to fetch shifts:",C)}finally{n(!1)}})()},[]),N.useEffect(()=>{(async()=>{try{const C=await Ue.getBranches();d(C||[])}catch(C){console.error("Failed to load branches:",C)}})()},[]);const y=b=>new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(new Date(b)),g=Ye.useMemo(()=>{if(f==="all")return e;const b=parseInt(f,10);return Number.isNaN(b)?e:e.filter(C=>C.branchId===b)},[e,f]);return i.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[i.jsx(On,{isCollapsed:o,setIsCollapsed:l}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs(Cn,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm animate-fade-in",children:[i.jsxs(ya,{className:"border-b border-gray-200 dark:border-gray-700",children:[i.jsxs(wa,{className:"flex items-center gap-2 text-2xl sm:text-3xl font-bold text-gray-800 dark:text-gray-200",children:[i.jsx(Xs,{size:24,className:"text-purple-600 dark:text-purple-400"}),"Shifts Overview"]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"View and manage your scheduled shifts"})]}),i.jsxs(ys,{className:"pt-6",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4",children:i.jsx("div",{className:"w-full sm:w-64",children:i.jsxs(Gl,{value:f,onValueChange:m,children:[i.jsx(il,{children:i.jsx(Wl,{placeholder:"Filter by branch"})}),i.jsxs(ol,{children:[i.jsx(Rs,{value:"all",children:"All branches"}),A.map(b=>i.jsx(Rs,{value:String(b.id),children:b.name},b.id))]})]})})}),r?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(Js,{size:24,className:"animate-spin text-gray-500 dark:text-gray-400"})}):s?i.jsxs(Dc,{variant:"destructive",className:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700",children:[i.jsx(C3,{className:"text-red-700 dark:text-red-300",children:"Error"}),i.jsx(_c,{className:"text-red-600 dark:text-red-400",children:s})]}):g.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No shifts available. Add a new shift to get started."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(ac,{children:[i.jsx(ic,{children:i.jsxs(Zn,{children:[i.jsx(Jt,{className:"text-gray-700 dark:text-gray-300",children:i.jsx("div",{className:"flex items-center gap-1.5",children:"Title"})}),i.jsx(Jt,{className:"text-gray-700 dark:text-gray-300",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(ko,{size:16}),"Date"]})}),i.jsx(Jt,{className:"text-gray-700 dark:text-gray-300",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Xs,{size:16}),"Time"]})}),i.jsx(Jt,{className:"text-right text-gray-700 dark:text-gray-300",children:i.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[i.jsx(tc,{size:16}),"Students"]})})]})}),i.jsx(oc,{children:g.map(b=>i.jsxs(Zn,{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors animate-fade-in-row",children:[i.jsx(Gt,{className:"font-medium text-gray-800 dark:text-gray-200",children:b.title}),i.jsx(Gt,{className:"text-gray-600 dark:text-gray-400",children:y(b.eventDate)}),i.jsxs(Gt,{className:"text-gray-600 dark:text-gray-400",children:[b.description," "]}),i.jsx(Gt,{className:"text-right",children:i.jsx(gn,{to:`/shifts/${b.id}/students`,className:"text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 hover:underline transition-colors",children:b.studentCount})})]},b.id))})]})})]})]})})})]}),i.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInRow {
          from {
            opacity: 0;
            transform: translateX(-10px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        .animate-fade-in {
          animation: fadeIn 0.5s ease-out forwards;
        }
        .animate-fade-in-row {
          animation: fadeInRow 0.3s ease-out forwards;
        }
      `})]})},Zde=()=>{const{id:e}=lA(),t=Tr(),[r,n]=N.useState([]),[s,a]=N.useState(""),[o,l]=N.useState({search:"",status:"all"}),[A,d]=N.useState(!0),[f,m]=N.useState(null),[y,g]=N.useState(!1),[b,C]=N.useState(!1),[F,v]=N.useState([]),[S,I]=N.useState("all"),k=()=>{Fe.info("Barcode scanning functionality is not yet implemented.")};N.useEffect(()=>{(async()=>{try{const _=parseInt(e,10);if(isNaN(_))throw new Error("Invalid shift ID");const J=await Ue.getSchedule(_);a(J.title||`Shift ${_}`);const U=await Ue.getStudentsByShift(_,o);if(!U||!Array.isArray(U.students))throw new Error("Invalid response: Students data is missing or not an array");n(U.students)}catch(_){const J=_.message||"Failed to load shift details or students. Please try again later.";m(J),Fe.error(J),console.error("Failed to fetch shift or students:",_)}finally{d(!1)}})()},[e,o]),N.useEffect(()=>{(async()=>{try{const _=await Ue.getBranches();v(_||[])}catch(_){console.error("Failed to load branches:",_)}})()},[]);const M=R=>{const{name:_,value:J}=R.target;l(U=>({...U,[_]:J}))},V=R=>{l(_=>({..._,status:R}))},O=Ye.useMemo(()=>{if(S==="all")return r;const R=parseInt(S,10);return Number.isNaN(R)?r:r.filter(_=>_.branchId===R)},[r,S]);return i.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[i.jsx("button",{onClick:()=>g(!y),className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-md shadow-md dark:bg-gray-800 dark:text-gray-200",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),i.jsx("div",{className:`fixed inset-y-0 left-0 transform ${y?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${b?"md:w-16":"md:w-64"}`,children:i.jsx(On,{isCollapsed:b,setIsCollapsed:C,onBarcodeClick:k})}),y&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>g(!1)}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs(Cn,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[i.jsxs(ya,{className:"flex flex-row items-center justify-between",children:[i.jsxs(wa,{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:["Students in ",s]}),i.jsxs(Xt,{variant:"outline",onClick:()=>t("/shifts"),className:"flex items-center gap-2",children:[i.jsx(Po,{size:16}),"Back to Shifts"]})]}),i.jsxs(ys,{children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsx(Pr,{type:"text",name:"search",value:o.search,onChange:M,placeholder:"Search by name, phone, or Reg. No.",className:"max-w-sm"}),i.jsxs(Gl,{value:o.status,onValueChange:V,children:[i.jsx(il,{className:"w-[180px]",children:i.jsx(Wl,{placeholder:"Filter by status"})}),i.jsxs(ol,{children:[i.jsx(Rs,{value:"all",children:"All"}),i.jsx(Rs,{value:"active",children:"Active"}),i.jsx(Rs,{value:"expired",children:"Expired"})]})]}),i.jsxs(Gl,{value:S,onValueChange:I,children:[i.jsx(il,{className:"w-[200px]",children:i.jsx(Wl,{placeholder:"Filter by branch"})}),i.jsxs(ol,{children:[i.jsx(Rs,{value:"all",children:"All branches"}),F.map(R=>i.jsx(Rs,{value:String(R.id),children:R.name},R.id))]})]})]}),A?i.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Loading students..."}):f?i.jsxs(Dc,{variant:"destructive",children:[i.jsx(C3,{children:"Error"}),i.jsx(_c,{children:f})]}):O.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No students found for this shift."}):i.jsxs(ac,{children:[i.jsx(ic,{children:i.jsxs(Zn,{children:[i.jsx(Jt,{children:"Name"}),i.jsx(Jt,{children:"Registration Number"}),i.jsx(Jt,{children:"Email"}),i.jsx(Jt,{children:"Phone"}),i.jsx(Jt,{children:"Status"})]})}),i.jsx(oc,{children:O.map(R=>i.jsxs(Zn,{children:[i.jsx(Gt,{className:"font-medium",children:R.name}),i.jsx(Gt,{children:R.registrationNumber||"N/A"}),i.jsx(Gt,{children:R.email||"N/A"}),i.jsx(Gt,{children:R.phone||"N/A"}),i.jsx(Gt,{children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${R.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.status})})]},R.id))})]})]})]})})})]})]})},ehe=({onSubmit:e})=>{const[t,r]=N.useState(""),n=s=>{if(s.preventDefault(),!t){Fe.error("Branch name is required");return}e({name:t}),r("")};return i.jsxs("form",{onSubmit:n,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch Name"}),i.jsx("input",{type:"text",value:t,onChange:s=>r(s.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),i.jsx("button",{type:"submit",className:"inline-flex justify-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors",children:"Add Branch"})]})},R_=({branches:e,onSubmit:t,initialData:r})=>{var ye,pt,rt,Ke,ht,_e,ft,yt;const[n,s]=N.useState((r==null?void 0:r.branchId)||(r==null?void 0:r.branch_id)||(!r&&e&&e.length>0?e[0].id:"")),[a,o]=N.useState((r==null?void 0:r.name)||""),[l,A]=N.useState((r==null?void 0:r.address)||""),[d,f]=N.useState((r==null?void 0:r.fatherName)||(r==null?void 0:r.father_name)||""),[m,y]=N.useState((r==null?void 0:r.motherName)||(r==null?void 0:r.mother_name)||""),[g,b]=N.useState((r==null?void 0:r.aadharNumber)||(r==null?void 0:r.aadhar_number)||""),[C,F]=N.useState((r==null?void 0:r.phoneNumber)||(r==null?void 0:r.phone_number)||""),[v,S]=N.useState((r==null?void 0:r.profileImageUrl)||(r==null?void 0:r.profile_image_url)||""),[I,k]=N.useState((r==null?void 0:r.aadharImageUrl)||(r==null?void 0:r.aadhar_image_url)||""),[M,V]=N.useState((r==null?void 0:r.religion)||""),[O,R]=N.useState((r==null?void 0:r.foodPreference)||(r==null?void 0:r.food_preference)||""),[_,J]=N.useState((r==null?void 0:r.gender)||""),[U,Q]=N.useState(((ye=r==null?void 0:r.securityMoney)==null?void 0:ye.toString())||((pt=r==null?void 0:r.security_money)==null?void 0:pt.toString())||""),[X,Z]=N.useState((r==null?void 0:r.registrationNumber)||(r==null?void 0:r.registration_number)||""),[$,q]=N.useState((r==null?void 0:r.stayStartDate)||(r==null?void 0:r.stay_start_date)||""),[W,Y]=N.useState((r==null?void 0:r.stayEndDate)||(r==null?void 0:r.stay_end_date)||""),[K,ae]=N.useState(((rt=r==null?void 0:r.totalFee)==null?void 0:rt.toString())||((Ke=r==null?void 0:r.total_fee)==null?void 0:Ke.toString())||""),[be,H]=N.useState(((ht=r==null?void 0:r.cashPaid)==null?void 0:ht.toString())||((_e=r==null?void 0:r.cash_paid)==null?void 0:_e.toString())||""),[ee,ie]=N.useState(((ft=r==null?void 0:r.onlinePaid)==null?void 0:ft.toString())||((yt=r==null?void 0:r.online_paid)==null?void 0:yt.toString())||""),[le,ce]=N.useState((r==null?void 0:r.roomNumber)||(r==null?void 0:r.room_number)||""),[me,we]=N.useState((r==null?void 0:r.remark)||""),[Ie,ve]=N.useState(0),[Ce,Pe]=N.useState(!1),Me=Tr();N.useEffect(()=>{const et=parseFloat(K)||0,Nt=parseFloat(be)||0,wt=parseFloat(ee)||0,Ht=et-(Nt+wt);ve(Ht>=0?Ht:0)},[K,be,ee]),N.useEffect(()=>{var et,Nt,wt,Ht,lr,qe,St,Ze;r?(s(r.branchId||r.branch_id||(e&&e.length>0&&!r.branch_id&&!r.branchId?e[0].id:"")),o(r.name||""),A(r.address||""),f(r.fatherName||r.father_name||""),y(r.motherName||r.mother_name||""),b(r.aadharNumber||r.aadhar_number||""),F(r.phoneNumber||r.phone_number||""),S(r.profileImageUrl||r.profile_image_url||""),k(r.aadharImageUrl||r.aadhar_image_url||""),V(r.religion||""),R(r.foodPreference||r.food_preference||""),J(r.gender||""),Q(((et=r.securityMoney)==null?void 0:et.toString())||((Nt=r.security_money)==null?void 0:Nt.toString())||""),Z(r.registrationNumber||r.registration_number||""),q(r.stayStartDate||r.stay_start_date||""),Y(r.stayEndDate||r.stay_end_date||""),ae(((wt=r.totalFee)==null?void 0:wt.toString())||((Ht=r.total_fee)==null?void 0:Ht.toString())||""),H(((lr=r.cashPaid)==null?void 0:lr.toString())||((qe=r.cash_paid)==null?void 0:qe.toString())||""),ie(((St=r.onlinePaid)==null?void 0:St.toString())||((Ze=r.online_paid)==null?void 0:Ze.toString())||""),ce(r.roomNumber||r.room_number||""),we(r.remark||"")):!r&&e&&e.length>0&&!n&&s(e[0].id)},[r,e,n]);const Je=async(et,Nt)=>{Pe(!0);try{const wt=new FormData;wt.append("image",et);const Ht=await Ue.uploadImage(wt);if(!Ht.imageUrl)throw new Error("No image URL returned");Nt(Ht.imageUrl),Fe.success("Image uploaded successfully")}catch(wt){console.error("Image upload error:",wt),Fe.error("Failed to upload image")}finally{Pe(!1)}},Re=async et=>{et.preventDefault();const Nt=[];n||Nt.push("Branch is required"),a.trim()||Nt.push("Name is required"),$||Nt.push("Stay Start Date is required"),W||Nt.push("Stay End Date is required");const wt=parseFloat(K);(isNaN(wt)||wt<0)&&Nt.push("Total Fee must be a non-negative number"),le.trim()||Nt.push("Room Number is required"),M.trim()||Nt.push("Religion is required"),O||Nt.push("Food Preference is required"),_||Nt.push("Gender is required");const Ht=parseFloat(be);be&&(isNaN(Ht)||Ht<0)&&Nt.push("Cash Paid must be a non-negative number");const lr=parseFloat(ee);ee&&(isNaN(lr)||lr<0)&&Nt.push("Online Paid must be a non-negative number");const qe=parseFloat(U);if(U&&(isNaN(qe)||qe<0)&&Nt.push("Security Money must be a non-negative number"),g&&!/^\d{12}$/.test(g)&&Nt.push("Aadhar Number must be a 12-digit number"),C&&!/^\d{10}$/.test(C)&&Nt.push("Phone Number must be a 10-digit number"),Nt.length>0){Fe.error(Nt.join(", "));return}const St={branch_id:String(n),name:a.trim(),address:l.trim()||null,father_name:d.trim()||null,mother_name:m.trim()||null,aadhar_number:g||null,phone_number:C||null,profile_image_url:v||null,aadhar_image_url:I||null,religion:M.trim(),food_preference:O,gender:_,security_money:U?parseFloat(U):0,registration_number:X.trim()||null,stay_start_date:$,stay_end_date:W,total_fee:wt,cash_paid:be?parseFloat(be):0,online_paid:ee?parseFloat(ee):0,room_number:le.trim(),remark:me.trim()||null};console.log("Submitting student data to API (HostelStudentForm.tsx):",JSON.stringify(St,null,2));try{await t(St),Fe.success(r?"Student updated successfully":"Student added successfully"),r||(s(e&&e.length>0?e[0].id:""),o(""),A(""),f(""),y(""),b(""),F(""),S(""),k(""),V(""),R(""),J(""),Q(""),Z(""),q(""),Y(""),ae(""),H(""),ie(""),ce(""),we(""))}catch(Ze){console.error("Error submitting student data (HostelStudentForm.tsx):",Ze),Fe.error(Ze.message||"Failed to add/update student. Check the console for details.")}};return i.jsxs("form",{onSubmit:Re,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),i.jsxs("select",{value:n,onChange:et=>s(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[i.jsx("option",{value:"",children:"Select Branch"}),e.map(et=>i.jsx("option",{value:et.id,children:et.name},et.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("input",{type:"text",value:a,onChange:et=>o(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("input",{type:"text",value:l,onChange:et=>A(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),i.jsx("input",{type:"text",value:d,onChange:et=>f(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Name"}),i.jsx("input",{type:"text",value:m,onChange:et=>y(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),i.jsx("input",{type:"text",value:g,onChange:et=>b(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),i.jsx("input",{type:"text",value:C,onChange:et=>F(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stay Start Date"}),i.jsx("input",{type:"date",value:$,onChange:et=>q(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stay End Date"}),i.jsx("input",{type:"date",value:W,onChange:et=>Y(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee (in INR)"}),i.jsx("input",{type:"number",step:"0.01",value:K,onChange:et=>ae(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Paid (in INR)"}),i.jsx("input",{type:"number",step:"0.01",value:be,onChange:et=>H(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Paid (in INR)"}),i.jsx("input",{type:"number",step:"0.01",value:ee,onChange:et=>ie(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount (in INR)"}),i.jsx("input",{type:"text",value:`₹${Ie.toFixed(2)}`,readOnly:!0,className:"block w-full rounded-md border-gray-300 bg-gray-100 shadow-sm sm:text-sm p-2 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),i.jsx("input",{type:"text",value:le,onChange:et=>ce(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money (in INR)"}),i.jsx("input",{type:"number",step:"0.01",value:U,onChange:et=>Q(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),i.jsx("input",{type:"text",value:X,onChange:et=>Z(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Religion"}),i.jsx("input",{type:"text",value:M,onChange:et=>V(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Food Preference"}),i.jsxs("select",{value:O,onChange:et=>R(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[i.jsx("option",{value:"",children:"Select Food Preference"}),i.jsx("option",{value:"Veg",children:"Veg"}),i.jsx("option",{value:"Non-Veg",children:"Non-Veg"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),i.jsxs("select",{value:_,onChange:et=>J(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[i.jsx("option",{value:"",children:"Select Gender"}),i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{className:"sm:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),i.jsx("textarea",{value:me,onChange:et=>we(et.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image"}),i.jsx("input",{type:"file",accept:"image/*",onChange:et=>et.target.files&&Je(et.target.files[0],S),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",disabled:Ce}),v&&i.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Uploaded: ",v.split("/").pop()]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Image"}),i.jsx("input",{type:"file",accept:"image/*",onChange:et=>et.target.files&&Je(et.target.files[0],k),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",disabled:Ce}),I&&i.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Uploaded: ",I.split("/").pop()]})]})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{type:"submit",disabled:Ce,className:"inline-flex justify-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors disabled:bg-indigo-400",children:Ce?"Uploading...":r?"Update Student":"Add Student"}),i.jsx("button",{type:"button",onClick:()=>Me(-1),className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors",children:"Cancel"})]})]})},the=({branches:e,onUpdateBranch:t,onDeleteBranch:r})=>{const[n,s]=N.useState(null),[a,o]=N.useState(""),l=f=>{s(f),o(f.name)},A=()=>{n&&(t(n.id,a),s(null))},d=()=>{s(null)};return i.jsx("div",{className:"space-y-4",children:e.map(f=>i.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-md",children:(n==null?void 0:n.id)===f.id?i.jsxs("div",{className:"flex items-center space-x-2 w-full",children:[i.jsx("input",{type:"text",value:a,onChange:m=>o(m.target.value),className:"flex-grow rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"}),i.jsx("button",{onClick:A,className:"text-green-600 hover:text-green-800",children:"Save"}),i.jsx("button",{onClick:d,className:"text-gray-600 hover:text-gray-800",children:"Cancel"})]}):i.jsxs(i.Fragment,{children:[i.jsxs(gn,{to:`/hostel/branches/${f.id}/students`,className:"text-indigo-600 hover:text-indigo-800 font-medium",children:[f.name," (",f.studentCount," students)"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>l(f),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),i.jsx("button",{onClick:()=>r(f.id),className:"text-red-600 hover:text-red-800",disabled:f.studentCount>0,children:"Delete"})]})]})},f.id))})},rhe=()=>{const e=aA(),t=Tr(),{data:r,isLoading:n,error:s}=cl({queryKey:["hostelBranches"],queryFn:()=>Ue.getHostelBranches()}),a=ii({mutationFn:y=>Ue.addHostelBranch(y),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Fe.success("Branch added successfully")},onError:()=>{Fe.error("Failed to add branch")}}),o=ii({mutationFn:({id:y,name:g})=>Ue.updateHostelBranch(y,{name:g}),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Fe.success("Branch updated successfully")},onError:()=>{Fe.error("Failed to update branch")}}),l=ii({mutationFn:y=>Ue.deleteHostelBranch(y),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Fe.success("Branch deleted successfully")},onError:y=>{Fe.error(y.message||"Failed to delete branch")}}),A=ii({mutationFn:y=>Ue.addHostelStudent(y),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Fe.success("Student added successfully")},onError:()=>{Fe.error("Failed to add student")}}),d=(y,g)=>{o.mutate({id:y,name:g})},f=y=>{window.confirm("Are you sure you want to delete this branch?")&&l.mutate(y)},m=y=>{const g={...y,branchId:parseInt(y.branchId,10)};A.mutate(g)};return n?i.jsx("div",{className:"p-6 animate-pulse",children:"Loading..."}):s?i.jsxs("div",{className:"p-6",children:["Error: ",s.message]}):i.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(Po,{className:"w-5 h-5 mr-2"}),"Back"]}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Hostel Management"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Add Branch"}),i.jsx(ehe,{onSubmit:y=>a.mutate(y)})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Add Student"}),i.jsx(R_,{branches:r||[],onSubmit:m})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Branches"}),i.jsx(the,{branches:r||[],onUpdateBranch:d,onDeleteBranch:f})]})]})},nhe=({branchId:e})=>{const[t,r]=N.useState([]),[n,s]=N.useState(!0),[a,o]=N.useState(""),[l,A]=N.useState(1),d=10,f=Tr();N.useEffect(()=>{(async()=>{var I;try{const k=await Ue.getHostelStudents(e);let M=[];Array.isArray(k)?M=k:k.students?M=k.students:(I=k.data)!=null&&I.students&&(M=k.data.students);const V=M.filter(O=>String(O.branch_id??O.branchId)===e);r(V)}catch{Fe.error("Failed to fetch students")}finally{s(!1)}})()},[e]);const m=async S=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Ue.deleteHostelStudent(S),r(I=>I.filter(k=>k.id!==S)),Fe.success("Student deleted successfully")}catch{Fe.error("Failed to delete student")}},y=S=>{f(`/hostel/students/${S}`)},g=t.filter(S=>{var I;return S.name.toLowerCase().includes(a.toLowerCase())||(((I=S.phoneNumber)==null?void 0:I.toLowerCase().includes(a.toLowerCase()))??!1)}),b=l*d,C=b-d,F=g.slice(C,b),v=Math.ceil(g.length/d);return i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"relative max-w-sm",children:[i.jsx(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:S=>o(S.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm transition-colors"})]})}),n?i.jsx("div",{className:"flex justify-center p-8 animate-pulse",children:"Loading students..."}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 font-medium text-gray-900",children:"Name"}),i.jsx("th",{className:"px-6 py-3 font-medium text-gray-900 hidden md:table-cell",children:"Phone"}),i.jsx("th",{className:"px-6 py-3 font-medium text-gray-900 hidden md:table-cell",children:"Aadhar"}),i.jsx("th",{className:"px-6 py-3 font-medium text-gray-900",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:F.map(S=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:S.name}),i.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:S.phoneNumber||"N/A"}),i.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:S.aadharNumber||"N/A"}),i.jsxs("td",{className:"px-6 py-4 flex space-x-2",children:[i.jsx("button",{onClick:()=>y(S.id),className:"text-indigo-600 hover:text-indigo-800 p-1 transition-colors",title:"View Details",children:i.jsx(Oi,{size:18})}),i.jsx("button",{onClick:()=>m(S.id),className:"text-red-600 hover:text-red-800 p-1 transition-colors",title:"Delete",children:i.jsx(Oo,{size:18})})]})]},S.id))})]})}),v>1&&i.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>A(S=>Math.max(S-1,1)),disabled:l===1,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[i.jsx($u,{className:"w-4 h-4 mr-2"}),"Previous"]}),i.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",l," of ",v]}),i.jsxs("button",{onClick:()=>A(S=>Math.min(S+1,v)),disabled:l===v,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Next",i.jsx(Tn,{className:"w-4 h-4 ml-2"})]})]})]})]})},she=()=>{const{branchId:e}=lA(),t=Tr();return e?i.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(Po,{className:"w-5 h-5 mr-2"}),"Back"]}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Branch Students"})]}),i.jsx(nhe,{branchId:e})]}):i.jsx("div",{className:"p-6",children:"Invalid branch ID"})},ahe=""+new URL("SDMLibLogo-BCZtqCjy.jpg",import.meta.url).href,ihe=()=>{const{id:e}=lA(),t=Tr(),{data:r,isLoading:n,error:s}=cl({queryKey:["hostelStudent",e],queryFn:()=>Ue.getHostelStudent(e),enabled:!!e});if(n)return i.jsx("div",{className:"p-6 animate-pulse",children:"Loading student details..."});if(s)return i.jsxs("div",{className:"p-6 text-red-600",children:["Error loading student: ",s.message]});if(!r||!r.student)return i.jsx("div",{className:"p-6",children:"Student not found."});const{student:a,history:o}=r,l=o[0]||{};return i.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(Po,{className:"w-5 h-5 mr-2"}),"Back"]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>t(`/hostel/students/${e}/edit`),className:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-indigo-700 transition-colors",children:"Edit"}),i.jsx("button",{onClick:()=>window.print(),className:"inline-flex items-center rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-gray-700 transition-colors",children:"Print"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-6",children:[i.jsx("div",{className:"w-full",children:i.jsx("img",{src:ahe,alt:"SDM Boy's Hostel Banner",className:"w-full h-auto object-cover"})}),i.jsxs("div",{className:"flex space-x-4",children:[a.profileImageUrl&&i.jsx("img",{src:a.profileImageUrl,alt:"Profile",className:"w-24 h-24 object-cover rounded-lg border border-gray-200"}),a.aadharImageUrl&&i.jsx("img",{src:a.aadharImageUrl,alt:"Aadhar",className:"w-24 h-24 object-cover rounded-lg border border-gray-200"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{label:"Name",value:a.name||"N/A"},{label:"Address",value:a.address||"N/A"},{label:"Father’s Name",value:a.fatherName||"N/A"},{label:"Mother’s Name",value:a.motherName||"N/A"},{label:"Aadhar Number",value:a.aadharNumber||"N/A"},{label:"Phone Number",value:a.phoneNumber||"N/A"},{label:"Branch",value:a.branchName||"N/A"},{label:"Security Money",value:`₹${(Number(a.securityMoney)||0).toFixed(2)}`},{label:"Registration Number",value:a.registrationNumber||"N/A"},{label:"Status",value:a.status||"N/A"},{label:"Current Room Number",value:l.roomNumber||"N/A"},{label:"Current Stay Start",value:l.stayStartDate?new Date(l.stayStartDate).toLocaleDateString():"N/A"},{label:"Current Stay End",value:l.stayEndDate?new Date(l.stayEndDate).toLocaleDateString():"N/A"},{label:"Current Total Fee",value:`₹${(l.totalFee||0).toFixed(2)}`},{label:"Current Cash Paid",value:`₹${(l.cashPaid||0).toFixed(2)}`},{label:"Current Online Paid",value:`₹${(l.onlinePaid||0).toFixed(2)}`},{label:"Current Due Amount",value:`₹${(l.dueAmount||0).toFixed(2)}`}].map((A,d)=>i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-sm font-medium text-gray-500",children:A.label}),i.jsx("span",{className:"text-gray-900",children:A.value})]},d))}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Stay History"}),o.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Fee"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cash Paid"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Online Paid"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Amount"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remark"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(A=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:new Date(A.stayStartDate).toLocaleDateString()}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:new Date(A.stayEndDate).toLocaleDateString()}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:A.roomNumber||"N/A"}),i.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["₹",A.totalFee.toFixed(2)]}),i.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["₹",A.cashPaid.toFixed(2)]}),i.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["₹",A.onlinePaid.toFixed(2)]}),i.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-600",children:["₹",A.dueAmount.toFixed(2)]}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:A.remark||"N/A"})]},A.id))})]})}):i.jsx("p",{className:"text-gray-500",children:"No stay history available."})]})]})]})},ohe=()=>{var g,b,C;const{id:e}=lA(),t=aA(),r=Tr(),{data:n,isLoading:s,error:a}=cl({queryKey:["hostelStudent",e],queryFn:()=>Ue.getHostelStudent(e),enabled:!!e}),{data:o,isLoading:l,error:A}=cl({queryKey:["hostelBranches"],queryFn:()=>Ue.getHostelBranches()}),d=ii({mutationFn:F=>Ue.updateHostelStudent(e,F),onSuccess:F=>{t.invalidateQueries({queryKey:["hostelStudent",e]}),t.invalidateQueries({queryKey:["hostelStudents"]}),t.invalidateQueries({queryKey:["hostelBranches"]}),Fe.success("Student updated successfully"),r(`/hostel/students/${e}`)},onError:F=>{Fe.error(F.message||"Failed to update student")}});if(s||l)return i.jsx("div",{className:"p-6 animate-pulse",children:"Loading..."});if(a)return i.jsxs("div",{className:"p-6 text-red-500",children:["Error loading student data: ",a.message]});if(A)return i.jsxs("div",{className:"p-6 text-red-500",children:["Error loading branches: ",A.message]});if(!n||!n.student)return i.jsx("div",{className:"p-6",children:"Student data not found."});const f=n.student,m=n.history&&n.history.length>0?n.history[0]:{},y={...f,stayStartDate:m.stayStartDate||"",stayEndDate:m.stayEndDate||"",totalFee:((g=m.totalFee)==null?void 0:g.toString())||"",cashPaid:((b=m.cashPaid)==null?void 0:b.toString())||"",onlinePaid:((C=m.onlinePaid)==null?void 0:C.toString())||""};return i.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("button",{onClick:()=>r(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(Po,{className:"w-5 h-5 mr-2"}),"Back"]}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Hostel Student"}),i.jsx("div",{})," "]}),i.jsx("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-lg",children:i.jsx(R_,{branches:o||[],onSubmit:d.mutate,initialData:y})})]})},D_=N.createContext({});function lhe(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const B3=typeof window<"u",che=B3?N.useLayoutEffect:N.useEffect,N3=N.createContext(null),__=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Ahe(e=!0){const t=N.useContext(N3);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,a=N.useId();N.useEffect(()=>{if(e)return s(a)},[e]);const o=N.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,o]:[!0]}function S3(e,t){e.indexOf(t)===-1&&e.push(t)}function E3(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const tA=(e,t,r)=>r>t?t:r<e?e:r;let zy=()=>{};const rA={},M_=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),U_=e=>/^0[^.\s]+$/u.test(e);function F3(e){let t;return()=>(t===void 0&&(t=e()),t)}const jo=e=>e,uhe=(e,t)=>r=>t(e(r)),yg=(...e)=>e.reduce(uhe),Qp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class I3{constructor(){this.subscriptions=[]}add(t){return S3(this.subscriptions,t),()=>E3(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zl=e=>e*1e3,$l=e=>e/1e3;function Q_(e,t){return t?e*(1e3/t):0}const H_=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,dhe=1e-7,hhe=12;function fhe(e,t,r,n,s){let a,o,l=0;do o=t+(r-t)/2,a=H_(o,n,s)-e,a>0?r=o:t=o;while(Math.abs(a)>dhe&&++l<hhe);return o}function wg(e,t,r,n){if(e===t&&r===n)return jo;const s=a=>fhe(a,0,1,e,r);return a=>a===0||a===1?a:H_(s(a),t,n)}const V_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,K_=e=>t=>1-e(1-t),G_=wg(.33,1.53,.69,.99),j3=K_(G_),W_=V_(j3),z_=e=>(e*=2)<1?.5*j3(e):.5*(2-Math.pow(2,-10*(e-1))),T3=e=>1-Math.sin(Math.acos(e)),$_=K_(T3),q_=V_(T3),mhe=wg(.42,0,1,1),phe=wg(0,0,.58,1),X_=wg(.42,0,.58,1),ghe=e=>Array.isArray(e)&&typeof e[0]!="number",Y_=e=>Array.isArray(e)&&typeof e[0]=="number",gj={linear:jo,easeIn:mhe,easeInOut:X_,easeOut:phe,circIn:T3,circInOut:q_,circOut:$_,backIn:j3,backInOut:W_,backOut:G_,anticipate:z_},xhe=e=>typeof e=="string",xj=e=>{if(Y_(e)){zy(e.length===4);const[t,r,n,s]=e;return wg(t,r,n,s)}else if(xhe(e))return zy(gj[e]!==void 0),gj[e];return e},X1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],yj={value:null,addProjectionMetrics:null};function yhe(e,t){let r=new Set,n=new Set,s=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},A=0;function d(m){o.has(m)&&(f.schedule(m),e()),A++,m(l)}const f={schedule:(m,y=!1,g=!1)=>{const C=g&&s?r:n;return y&&o.add(m),C.has(m)||C.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(l=m,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(d),t&&yj.value&&yj.value.frameloop[t].push(A),A=0,r.clear(),s=!1,a&&(a=!1,f.process(m))}};return f}const whe=40;function J_(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=X1.reduce((I,k)=>(I[k]=yhe(a,t?k:void 0),I),{}),{setup:l,read:A,resolveKeyframes:d,preUpdate:f,update:m,preRender:y,render:g,postRender:b}=o,C=()=>{const I=rA.useManualTiming?s.timestamp:performance.now();r=!1,rA.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(I-s.timestamp,whe),1)),s.timestamp=I,s.isProcessing=!0,l.process(s),A.process(s),d.process(s),f.process(s),m.process(s),y.process(s),g.process(s),b.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(C))},F=()=>{r=!0,n=!0,s.isProcessing||e(C)};return{schedule:X1.reduce((I,k)=>{const M=o[k];return I[k]=(V,O=!1,R=!1)=>(r||F(),M.schedule(V,O,R)),I},{}),cancel:I=>{for(let k=0;k<X1.length;k++)o[X1[k]].cancel(I)},state:s,steps:o}}const{schedule:ls,cancel:Qu,state:fa,steps:Mb}=J_(typeof requestAnimationFrame<"u"?requestAnimationFrame:jo,!0);let Rx;function vhe(){Rx=void 0}const Fi={now:()=>(Rx===void 0&&Fi.set(fa.isProcessing||rA.useManualTiming?fa.timestamp:performance.now()),Rx),set:e=>{Rx=e,queueMicrotask(vhe)}},Z_=e=>t=>typeof t=="string"&&t.startsWith(e),L3=Z_("--"),bhe=Z_("var(--"),k3=e=>bhe(e)?Che.test(e.split("/*")[0].trim()):!1,Che=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,k0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Hp={...k0,transform:e=>tA(0,1,e)},Y1={...k0,default:1},Zm=e=>Math.round(e*1e5)/1e5,P3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Bhe(e){return e==null}const Nhe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,O3=(e,t)=>r=>!!(typeof r=="string"&&Nhe.test(r)&&r.startsWith(e)||t&&!Bhe(r)&&Object.prototype.hasOwnProperty.call(r,t)),eM=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,a,o,l]=n.match(P3);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},She=e=>tA(0,255,e),Ub={...k0,transform:e=>Math.round(She(e))},kd={test:O3("rgb","red"),parse:eM("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Ub.transform(e)+", "+Ub.transform(t)+", "+Ub.transform(r)+", "+Zm(Hp.transform(n))+")"};function Ehe(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const k4={test:O3("#"),parse:Ehe,transform:kd.transform},vg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),VA=vg("deg"),ql=vg("%"),ir=vg("px"),Fhe=vg("vh"),Ihe=vg("vw"),wj={...ql,parse:e=>ql.parse(e)/100,transform:e=>ql.transform(e*100)},gf={test:O3("hsl","hue"),parse:eM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ql.transform(Zm(t))+", "+ql.transform(Zm(r))+", "+Zm(Hp.transform(n))+")"},Ma={test:e=>kd.test(e)||k4.test(e)||gf.test(e),parse:e=>kd.test(e)?kd.parse(e):gf.test(e)?gf.parse(e):k4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?kd.transform(e):gf.transform(e)},jhe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function The(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(P3))==null?void 0:t.length)||0)+(((r=e.match(jhe))==null?void 0:r.length)||0)>0}const tM="number",rM="color",Lhe="var",khe="var(",vj="${}",Phe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vp(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(Phe,A=>(Ma.test(A)?(n.color.push(a),s.push(rM),r.push(Ma.parse(A))):A.startsWith(khe)?(n.var.push(a),s.push(Lhe),r.push(A)):(n.number.push(a),s.push(tM),r.push(parseFloat(A))),++a,vj)).split(vj);return{values:r,split:l,indexes:n,types:s}}function nM(e){return Vp(e).values}function sM(e){const{split:t,types:r}=Vp(e),n=t.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],s[o]!==void 0){const l=r[o];l===tM?a+=Zm(s[o]):l===rM?a+=Ma.transform(s[o]):a+=s[o]}return a}}const Ohe=e=>typeof e=="number"?0:e;function Rhe(e){const t=nM(e);return sM(e)(t.map(Ohe))}const Hu={test:The,parse:nM,createTransformer:sM,getAnimatableNone:Rhe};function Qb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Dhe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,o=0;if(!t)s=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,A=2*r-l;s=Qb(A,l,e+1/3),a=Qb(A,l,e),o=Qb(A,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function $y(e,t){return r=>r>0?t:e}const as=(e,t,r)=>e+(t-e)*r,Hb=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},_he=[k4,kd,gf],Mhe=e=>_he.find(t=>t.test(e));function bj(e){const t=Mhe(e);if(!t)return!1;let r=t.parse(e);return t===gf&&(r=Dhe(r)),r}const Cj=(e,t)=>{const r=bj(e),n=bj(t);if(!r||!n)return $y(e,t);const s={...r};return a=>(s.red=Hb(r.red,n.red,a),s.green=Hb(r.green,n.green,a),s.blue=Hb(r.blue,n.blue,a),s.alpha=as(r.alpha,n.alpha,a),kd.transform(s))},P4=new Set(["none","hidden"]);function Uhe(e,t){return P4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Qhe(e,t){return r=>as(e,t,r)}function R3(e){return typeof e=="number"?Qhe:typeof e=="string"?k3(e)?$y:Ma.test(e)?Cj:Khe:Array.isArray(e)?aM:typeof e=="object"?Ma.test(e)?Cj:Hhe:$y}function aM(e,t){const r=[...e],n=r.length,s=e.map((a,o)=>R3(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=s[o](a);return r}}function Hhe(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=R3(e[s])(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function Vhe(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=e.indexes[a][n[a]],l=e.values[o]??0;r[s]=l,n[a]++}return r}const Khe=(e,t)=>{const r=Hu.createTransformer(t),n=Vp(e),s=Vp(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?P4.has(e)&&!s.values.length||P4.has(t)&&!n.values.length?Uhe(e,t):yg(aM(Vhe(n,s),s.values),r):$y(e,t)};function iM(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?as(e,t,r):R3(e)(e,t)}const Ghe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ls.update(t,r),stop:()=>Qu(t),now:()=>fa.isProcessing?fa.timestamp:Fi.now()}},oM=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=e(a/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},qy=2e4;function D3(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<qy;)t+=r,n=e.next(t);return t>=qy?1/0:t}function Whe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(D3(n),qy);return{type:"keyframes",ease:a=>n.next(s*a).value/t,duration:$l(s)}}const zhe=5;function lM(e,t,r){const n=Math.max(t-zhe,0);return Q_(r-e(n),t-n)}const gs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vb=.001;function $he({duration:e=gs.duration,bounce:t=gs.bounce,velocity:r=gs.velocity,mass:n=gs.mass}){let s,a,o=1-t;o=tA(gs.minDamping,gs.maxDamping,o),e=tA(gs.minDuration,gs.maxDuration,$l(e)),o<1?(s=d=>{const f=d*o,m=f*e,y=f-r,g=O4(d,o),b=Math.exp(-m);return Vb-y/g*b},a=d=>{const m=d*o*e,y=m*r+r,g=Math.pow(o,2)*Math.pow(d,2)*e,b=Math.exp(-m),C=O4(Math.pow(d,2),o);return(-s(d)+Vb>0?-1:1)*((y-g)*b)/C}):(s=d=>{const f=Math.exp(-d*e),m=(d-r)*e+1;return-Vb+f*m},a=d=>{const f=Math.exp(-d*e),m=(r-d)*(e*e);return f*m});const l=5/e,A=Xhe(s,a,l);if(e=zl(e),isNaN(A))return{stiffness:gs.stiffness,damping:gs.damping,duration:e};{const d=Math.pow(A,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const qhe=12;function Xhe(e,t,r){let n=r;for(let s=1;s<qhe;s++)n=n-e(n)/t(n);return n}function O4(e,t){return e*Math.sqrt(1-t*t)}const Yhe=["duration","bounce"],Jhe=["stiffness","damping","mass"];function Bj(e,t){return t.some(r=>e[r]!==void 0)}function Zhe(e){let t={velocity:gs.velocity,stiffness:gs.stiffness,damping:gs.damping,mass:gs.mass,isResolvedFromDuration:!1,...e};if(!Bj(e,Jhe)&&Bj(e,Yhe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*tA(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:gs.mass,stiffness:s,damping:a}}else{const r=$he(e);t={...t,...r,mass:gs.mass},t.isResolvedFromDuration=!0}return t}function Xy(e=gs.visualDuration,t=gs.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:A,damping:d,mass:f,duration:m,velocity:y,isResolvedFromDuration:g}=Zhe({...r,velocity:-$l(r.velocity||0)}),b=y||0,C=d/(2*Math.sqrt(A*f)),F=o-a,v=$l(Math.sqrt(A/f)),S=Math.abs(F)<5;n||(n=S?gs.restSpeed.granular:gs.restSpeed.default),s||(s=S?gs.restDelta.granular:gs.restDelta.default);let I;if(C<1){const M=O4(v,C);I=V=>{const O=Math.exp(-C*v*V);return o-O*((b+C*v*F)/M*Math.sin(M*V)+F*Math.cos(M*V))}}else if(C===1)I=M=>o-Math.exp(-v*M)*(F+(b+v*F)*M);else{const M=v*Math.sqrt(C*C-1);I=V=>{const O=Math.exp(-C*v*V),R=Math.min(M*V,300);return o-O*((b+C*v*F)*Math.sinh(R)+M*F*Math.cosh(R))/M}}const k={calculatedDuration:g&&m||null,next:M=>{const V=I(M);if(g)l.done=M>=m;else{let O=M===0?b:0;C<1&&(O=M===0?zl(b):lM(I,M,V));const R=Math.abs(O)<=n,_=Math.abs(o-V)<=s;l.done=R&&_}return l.value=l.done?o:V,l},toString:()=>{const M=Math.min(D3(k),qy),V=oM(O=>k.next(M*O).value,M,30);return M+"ms "+V},toTransition:()=>{}};return k}Xy.applyToOptions=e=>{const t=Whe(e,100,Xy);return e.ease=t.ease,e.duration=zl(t.duration),e.type="keyframes",e};function R4({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:A,restDelta:d=.5,restSpeed:f}){const m=e[0],y={done:!1,value:m},g=R=>l!==void 0&&R<l||A!==void 0&&R>A,b=R=>l===void 0?A:A===void 0||Math.abs(l-R)<Math.abs(A-R)?l:A;let C=r*t;const F=m+C,v=o===void 0?F:o(F);v!==F&&(C=v-m);const S=R=>-C*Math.exp(-R/n),I=R=>v+S(R),k=R=>{const _=S(R),J=I(R);y.done=Math.abs(_)<=d,y.value=y.done?v:J};let M,V;const O=R=>{g(y.value)&&(M=R,V=Xy({keyframes:[y.value,b(y.value)],velocity:lM(I,R,y.value),damping:s,stiffness:a,restDelta:d,restSpeed:f}))};return O(0),{calculatedDuration:null,next:R=>{let _=!1;return!V&&M===void 0&&(_=!0,k(R),O(R)),M!==void 0&&R>=M?V.next(R-M):(!_&&k(R),y)}}}function efe(e,t,r){const n=[],s=r||rA.mix||iM,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const A=Array.isArray(t)?t[o]||jo:t;l=yg(A,l)}n.push(l)}return n}function tfe(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(zy(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=efe(t,n,s),A=l.length,d=f=>{if(o&&f<e[0])return t[0];let m=0;if(A>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const y=Qp(e[m],e[m+1],f);return l[m](y)};return r?f=>d(tA(e[0],e[a-1],f)):d}function rfe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Qp(0,t,n);e.push(as(r,1,s))}}function nfe(e){const t=[0];return rfe(t,e.length-1),t}function sfe(e,t){return e.map(r=>r*t)}function afe(e,t){return e.map(()=>t||X_).splice(0,e.length-1)}function ep({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=ghe(n)?n.map(xj):xj(n),a={done:!1,value:t[0]},o=sfe(r&&r.length===t.length?r:nfe(t),e),l=tfe(o,t,{ease:Array.isArray(s)?s:afe(t,s)});return{calculatedDuration:e,next:A=>(a.value=l(A),a.done=A>=e,a)}}const ife=e=>e!==null;function _3(e,{repeat:t,repeatType:r="loop"},n,s=1){const a=e.filter(ife),l=s<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!l||n===void 0?a[l]:n}const ofe={decay:R4,inertia:R4,tween:ep,keyframes:ep,spring:Xy};function cM(e){typeof e.type=="string"&&(e.type=ofe[e.type])}class M3{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const lfe=e=>e/100;class U3 extends M3{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:s}=this.options;s&&s.updatedAt!==Fi.now()&&this.tick(Fi.now())}if(this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;cM(t);const{type:r=ep,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const A=r||ep;A!==ep&&typeof l[0]!="number"&&(this.mixKeyframes=yg(lfe,iM(l[0],l[1])),l=[0,100]);const d=A({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=A({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=D3(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:A}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:y,repeatDelay:g,type:b,onUpdate:C,finalKeyframe:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let I=this.currentTime,k=n;if(m){const R=Math.min(this.currentTime,s)/l;let _=Math.floor(R),J=R%1;!J&&R>=1&&(J=1),J===1&&_--,_=Math.min(_,m+1),!!(_%2)&&(y==="reverse"?(J=1-J,g&&(J-=g/l)):y==="mirror"&&(k=o)),I=tA(0,1,J)*l}const M=S?{done:!1,value:f[0]}:k.next(I);a&&(M.value=a(M.value));let{done:V}=M;!S&&A!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return O&&b!==R4&&(M.value=_3(f,this.options,F,this.speed)),C&&C(M.value),O&&this.finish(),M}then(t,r){return this.finished.then(t,r)}get duration(){return $l(this.calculatedDuration)}get time(){return $l(this.currentTime)}set time(t){var r;t=zl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fi.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=$l(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Ghe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function cfe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Pd=e=>e*180/Math.PI,D4=e=>{const t=Pd(Math.atan2(e[1],e[0]));return _4(t)},Afe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:D4,rotateZ:D4,skewX:e=>Pd(Math.atan(e[1])),skewY:e=>Pd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},_4=e=>(e=e%360,e<0&&(e+=360),e),Nj=D4,Sj=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ej=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ufe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Sj,scaleY:Ej,scale:e=>(Sj(e)+Ej(e))/2,rotateX:e=>_4(Pd(Math.atan2(e[6],e[5]))),rotateY:e=>_4(Pd(Math.atan2(-e[2],e[0]))),rotateZ:Nj,rotate:Nj,skewX:e=>Pd(Math.atan(e[4])),skewY:e=>Pd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Fj(e){return e.includes("scale")?1:0}function M4(e,t){if(!e||e==="none")return Fj(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=ufe,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Afe,s=l}if(!s)return Fj(t);const a=n[t],o=s[1].split(",").map(hfe);return typeof a=="function"?a(o):o[a]}const dfe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return M4(r,t)};function hfe(e){return parseFloat(e.trim())}const P0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],O0=new Set(P0),Ij=e=>e===k0||e===ir,ffe=new Set(["x","y","z"]),mfe=P0.filter(e=>!ffe.has(e));function pfe(e){const t=[];return mfe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const nh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>M4(t,"x"),y:(e,{transform:t})=>M4(t,"y")};nh.translateX=nh.x;nh.translateY=nh.y;const sh=new Set;let U4=!1,Q4=!1,H4=!1;function AM(){if(Q4){const e=Array.from(sh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=pfe(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,o])=>{var l;(l=n.getValue(a))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Q4=!1,U4=!1,sh.forEach(e=>e.complete(H4)),sh.clear()}function uM(){sh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Q4=!0)})}function gfe(){H4=!0,uM(),AM(),H4=!1}class Q3{constructor(t,r,n,s,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(sh.add(this),U4||(U4=!0,ls.read(uM),ls.resolveKeyframes(AM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const a=s==null?void 0:s.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&a===void 0&&s.set(t[0])}cfe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),sh.delete(this)}cancel(){this.state==="scheduled"&&(sh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xfe=e=>e.startsWith("--");function yfe(e,t,r){xfe(t)?e.style.setProperty(t,r):e.style[t]=r}const wfe=F3(()=>window.ScrollTimeline!==void 0),vfe={};function bfe(e,t){const r=F3(e);return()=>vfe[t]??r()}const dM=bfe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tm=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,jj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tm([0,.65,.55,1]),circOut:Tm([.55,0,1,.45]),backIn:Tm([.31,.01,.66,-.59]),backOut:Tm([.33,1.53,.69,.99])};function hM(e,t){if(e)return typeof e=="function"?dM()?oM(e,t):"ease-out":Y_(e)?Tm(e):Array.isArray(e)?e.map(r=>hM(r,t)||jj.easeOut):jj[e]}function Cfe(e,t,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:A}={},d=void 0){const f={[t]:r};A&&(f.offset=A);const m=hM(l,s);Array.isArray(m)&&(f.easing=m);const y={delay:n,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),e.animate(f,y)}function fM(e){return typeof e=="function"&&"applyToOptions"in e}function Bfe({type:e,...t}){return fM(e)&&dM()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Nfe extends M3{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:A}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,zy(typeof t.type!="string");const d=Bfe(t);this.animation=Cfe(r,n,s,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=_3(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):yfe(r,n,f),this.animation.cancel()}A==null||A(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return $l(Number(t))}get time(){return $l(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&wfe()?(this.animation.timeline=t,jo):r(this)}}const mM={anticipate:z_,backInOut:W_,circInOut:q_};function Sfe(e){return e in mM}function Efe(e){typeof e.ease=="string"&&Sfe(e.ease)&&(e.ease=mM[e.ease])}const Tj=10;class Ffe extends Nfe{constructor(t){Efe(t),cM(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new U3({...o,autoplay:!1}),A=zl(this.finishedTime??this.time);r.setWithVelocity(l.sample(A-Tj).value,l.sample(A).value,Tj),l.stop()}}const Lj=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hu.test(e)||e==="0")&&!e.startsWith("url("));function Ife(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function jfe(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Lj(s,t),l=Lj(a,t);return!o||!l?!1:Ife(e)||(r==="spring"||fM(r))&&n}const Tfe=new Set(["opacity","clipPath","filter","transform"]),Lfe=F3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kfe(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:a,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:A}=t.owner.getProps();return Lfe()&&r&&Tfe.has(r)&&(r!=="transform"||!A)&&!l&&!n&&s!=="mirror"&&a!==0&&o!=="inertia"}const Pfe=40;class Ofe extends M3{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:A,motionValue:d,element:f,...m}){var b;super(),this.stop=()=>{var C,F;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(F=this.keyframeResolver)==null||F.cancel()},this.createdAt=Fi.now();const y={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:o,name:A,motionValue:d,element:f,...m},g=(f==null?void 0:f.KeyframeResolver)||Q3;this.keyframeResolver=new g(l,(C,F,v)=>this.onKeyframesResolved(C,F,y,!v),A,d,f),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:A,isHandoff:d,onUpdate:f}=n;this.resolvedAt=Fi.now(),jfe(t,a,o,l)||((rA.instantAnimations||!A)&&(f==null||f(_3(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Pfe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!d&&kfe(y)?new Ffe({...y,element:y.motionValue.owner.current}):new U3(y);g.finished.then(()=>this.notifyFinished()).catch(jo),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),gfe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Rfe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Dfe(e){const t=Rfe.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function pM(e,t,r=1){const[n,s]=Dfe(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return M_(o)?parseFloat(o):o}return k3(s)?pM(s,t,r+1):s}function H3(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const gM=new Set(["width","height","top","left","right","bottom",...P0]),_fe={test:e=>e==="auto",parse:e=>e},xM=e=>t=>t.test(e),yM=[k0,ir,ql,VA,Ihe,Fhe,_fe],kj=e=>yM.find(xM(e));function Mfe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||U_(e):!0}const Ufe=new Set(["brightness","contrast","saturate","opacity"]);function Qfe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(P3)||[];if(!n)return e;const s=r.replace(n,"");let a=Ufe.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const Hfe=/\b([a-z-]*)\(.*?\)/gu,V4={...Hu,getAnimatableNone:e=>{const t=e.match(Hfe);return t?t.map(Qfe).join(" "):e}},Pj={...k0,transform:Math.round},Vfe={rotate:VA,rotateX:VA,rotateY:VA,rotateZ:VA,scale:Y1,scaleX:Y1,scaleY:Y1,scaleZ:Y1,skew:VA,skewX:VA,skewY:VA,distance:ir,translateX:ir,translateY:ir,translateZ:ir,x:ir,y:ir,z:ir,perspective:ir,transformPerspective:ir,opacity:Hp,originX:wj,originY:wj,originZ:ir},V3={borderWidth:ir,borderTopWidth:ir,borderRightWidth:ir,borderBottomWidth:ir,borderLeftWidth:ir,borderRadius:ir,radius:ir,borderTopLeftRadius:ir,borderTopRightRadius:ir,borderBottomRightRadius:ir,borderBottomLeftRadius:ir,width:ir,maxWidth:ir,height:ir,maxHeight:ir,top:ir,right:ir,bottom:ir,left:ir,padding:ir,paddingTop:ir,paddingRight:ir,paddingBottom:ir,paddingLeft:ir,margin:ir,marginTop:ir,marginRight:ir,marginBottom:ir,marginLeft:ir,backgroundPositionX:ir,backgroundPositionY:ir,...Vfe,zIndex:Pj,fillOpacity:Hp,strokeOpacity:Hp,numOctaves:Pj},Kfe={...V3,color:Ma,backgroundColor:Ma,outlineColor:Ma,fill:Ma,stroke:Ma,borderColor:Ma,borderTopColor:Ma,borderRightColor:Ma,borderBottomColor:Ma,borderLeftColor:Ma,filter:V4,WebkitFilter:V4},wM=e=>Kfe[e];function vM(e,t){let r=wM(e);return r!==V4&&(r=Hu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Gfe=new Set(["auto","none","0"]);function Wfe(e,t,r){let n=0,s;for(;n<e.length&&!s;){const a=e[n];typeof a=="string"&&!Gfe.has(a)&&Vp(a).values.length&&(s=e[n]),n++}if(s&&r)for(const a of t)e[a]=vM(r,s)}class zfe extends Q3{constructor(t,r,n,s,a){super(t,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let A=0;A<t.length;A++){let d=t[A];if(typeof d=="string"&&(d=d.trim(),k3(d))){const f=pM(d,r.current);f!==void 0&&(t[A]=f),A===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!gM.has(n)||t.length!==2)return;const[s,a]=t,o=kj(s),l=kj(a);if(o!==l)if(Ij(o)&&Ij(l))for(let A=0;A<t.length;A++){const d=t[A];typeof d=="string"&&(t[A]=parseFloat(d))}else nh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||Mfe(t[s]))&&n.push(s);n.length&&Wfe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=nh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([A,d])=>{t.getValue(A).set(d)}),this.resolveNoneKeyframes()}}function $fe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Oj=30,qfe=e=>!isNaN(parseFloat(e));class Xfe{constructor(t,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{var o,l;const a=Fi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const A of this.dependents)A.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Fi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=qfe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new I3);const n=this.events[t].add(r);return t==="change"?()=>{n(),ls.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Fi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Oj)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Oj);return Q_(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function g0(e,t){return new Xfe(e,t)}const bM=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:K3,cancel:Hye}=J_(queueMicrotask,!1),$o={x:!1,y:!1};function CM(){return $o.x||$o.y}function Yfe(e){return e==="x"||e==="y"?$o[e]?null:($o[e]=!0,()=>{$o[e]=!1}):$o.x||$o.y?null:($o.x=$o.y=!0,()=>{$o.x=$o.y=!1})}function BM(e,t){const r=$fe(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function Rj(e){return!(e.pointerType==="touch"||CM())}function Jfe(e,t,r={}){const[n,s,a]=BM(e,r),o=l=>{if(!Rj(l))return;const{target:A}=l,d=t(A,l);if(typeof d!="function"||!A)return;const f=m=>{Rj(m)&&(d(m),A.removeEventListener("pointerleave",f))};A.addEventListener("pointerleave",f,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const NM=(e,t)=>t?e===t?!0:NM(e,t.parentElement):!1,G3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Zfe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function e0e(e){return Zfe.has(e.tagName)||e.tabIndex!==-1}const Dx=new WeakSet;function Dj(e){return t=>{t.key==="Enter"&&e(t)}}function Kb(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const t0e=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Dj(()=>{if(Dx.has(r))return;Kb(r,"down");const s=Dj(()=>{Kb(r,"up")}),a=()=>Kb(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function _j(e){return G3(e)&&!CM()}function r0e(e,t,r={}){const[n,s,a]=BM(e,r),o=l=>{const A=l.currentTarget;if(!_j(l))return;Dx.add(A);const d=t(A,l),f=(g,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Dx.has(A)&&Dx.delete(A),_j(g)&&typeof d=="function"&&d(g,{success:b})},m=g=>{f(g,A===window||A===document||r.useGlobalTarget||NM(A,g.target))},y=g=>{f(g,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",y,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l instanceof HTMLElement&&(l.addEventListener("focus",d=>t0e(d,s)),!e0e(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}const n0e=[...yM,Ma,Hu],s0e=e=>n0e.find(xM(e)),SM=N.createContext({strict:!1}),Mj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},x0={};for(const e in Mj)x0[e]={isEnabled:t=>Mj[e].some(r=>!!t[r])};function a0e(e){for(const t in e)x0[t]={...x0[t],...e[t]}}const i0e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yy(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||i0e.has(e)}let EM=e=>!Yy(e);function o0e(e){e&&(EM=t=>t.startsWith("on")?!Yy(t):e(t))}try{o0e(require("@emotion/is-prop-valid").default)}catch{}function l0e(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(EM(s)||r===!0&&Yy(s)||!t&&!Yy(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function c0e(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const C2=N.createContext({});function B2(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Kp(e){return typeof e=="string"||Array.isArray(e)}const W3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z3=["initial",...W3];function N2(e){return B2(e.animate)||z3.some(t=>Kp(e[t]))}function FM(e){return!!(N2(e)||e.variants)}function A0e(e,t){if(N2(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Kp(r)?r:void 0,animate:Kp(n)?n:void 0}}return e.inherit!==!1?t:{}}function u0e(e){const{initial:t,animate:r}=A0e(e,N.useContext(C2));return N.useMemo(()=>({initial:t,animate:r}),[Uj(t),Uj(r)])}function Uj(e){return Array.isArray(e)?e.join(" "):e}const d0e=Symbol.for("motionComponentSymbol");function xf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function h0e(e,t,r){return N.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):xf(r)&&(r.current=n))},[t])}const $3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),f0e="framerAppearId",IM="data-"+$3(f0e),jM=N.createContext({});function m0e(e,t,r,n,s){var C,F;const{visualElement:a}=N.useContext(C2),o=N.useContext(SM),l=N.useContext(N3),A=N.useContext(__).reducedMotion,d=N.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:a,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:A}));const f=d.current,m=N.useContext(jM);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&p0e(d.current,r,s,m);const y=N.useRef(!1);N.useInsertionEffect(()=>{f&&y.current&&f.update(r,l)});const g=r[IM],b=N.useRef(!!g&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,g))&&((F=window.MotionHasOptimisedAnimation)==null?void 0:F.call(window,g)));return che(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),K3.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),N.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,g)}),b.current=!1))}),f}function p0e(e,t,r,n){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:A,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:TM(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&xf(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:A,layoutRoot:d})}function TM(e){if(e)return e.options.allowProjection!==!1?e.projection:TM(e.parent)}function g0e({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&a0e(e);function a(l,A){let d;const f={...N.useContext(__),...l,layoutId:x0e(l)},{isStatic:m}=f,y=u0e(l),g=n(l,m);if(!m&&B3){y0e();const b=w0e(f);d=b.MeasureLayout,y.visualElement=m0e(s,g,f,t,b.ProjectionNode)}return i.jsxs(C2.Provider,{value:y,children:[d&&y.visualElement?i.jsx(d,{visualElement:y.visualElement,...f}):null,r(s,l,h0e(g,y.visualElement,A),g,m,y.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=N.forwardRef(a);return o[d0e]=s,o}function x0e({layoutId:e}){const t=N.useContext(D_).id;return t&&e!==void 0?t+"-"+e:e}function y0e(e,t){N.useContext(SM).strict}function w0e(e){const{drag:t,layout:r}=x0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Gp={};function v0e(e){for(const t in e)Gp[t]=e[t],L3(t)&&(Gp[t].isCSSVariable=!0)}function LM(e,{layout:t,layoutId:r}){return O0.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Gp[e]||e==="opacity")}const Ka=e=>!!(e&&e.getVelocity),b0e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},C0e=P0.length;function B0e(e,t,r){let n="",s=!0;for(let a=0;a<C0e;a++){const o=P0[a],l=e[o];if(l===void 0)continue;let A=!0;if(typeof l=="number"?A=l===(o.startsWith("scale")?1:0):A=parseFloat(l)===0,!A||r){const d=bM(l,V3[o]);if(!A){s=!1;const f=b0e[o]||o;n+=`${f}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function q3(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const A in t){const d=t[A];if(O0.has(A)){o=!0;continue}else if(L3(A)){s[A]=d;continue}else{const f=bM(d,V3[A]);A.startsWith("origin")?(l=!0,a[A]=f):n[A]=f}}if(t.transform||(o||r?n.transform=B0e(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:A="50%",originY:d="50%",originZ:f=0}=a;n.transformOrigin=`${A} ${d} ${f}`}}const X3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kM(e,t,r){for(const n in t)!Ka(t[n])&&!LM(n,r)&&(e[n]=t[n])}function N0e({transformTemplate:e},t){return N.useMemo(()=>{const r=X3();return q3(r,t,e),Object.assign({},r.vars,r.style)},[t])}function S0e(e,t){const r=e.style||{},n={};return kM(n,r,e),Object.assign(n,N0e(e,t)),n}function E0e(e,t){const r={},n=S0e(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const F0e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y3(e){return typeof e!="string"||e.includes("-")?!1:!!(F0e.indexOf(e)>-1||/[A-Z]/u.test(e))}const I0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},j0e={offset:"strokeDashoffset",array:"strokeDasharray"};function T0e(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?I0e:j0e;e[a.offset]=ir.transform(-n);const o=ir.transform(t),l=ir.transform(r);e[a.array]=`${o} ${l}`}function PM(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:o=0,...l},A,d,f){if(q3(e,l,d),A){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y}=e;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),s!==void 0&&T0e(m,s,a,o,!1)}const OM=()=>({...X3(),attrs:{}}),RM=e=>typeof e=="string"&&e.toLowerCase()==="svg";function L0e(e,t,r,n){const s=N.useMemo(()=>{const a=OM();return PM(a,t,RM(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};kM(a,e.style,e),s.style={...a,...s.style}}return s}function k0e(e=!1){return(r,n,s,{latestValues:a},o)=>{const A=(Y3(r)?L0e:E0e)(n,a,o,r),d=l0e(n,typeof r=="string",e),f=r!==N.Fragment?{...d,...A,ref:s}:{},{children:m}=n,y=N.useMemo(()=>Ka(m)?m.get():m,[m]);return N.createElement(r,{...f,children:y})}}function Qj(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function J3(e,t,r,n){if(typeof t=="function"){const[s,a]=Qj(n);t=t(r!==void 0?r:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=Qj(n);t=t(r!==void 0?r:e.custom,s,a)}return t}function _x(e){return Ka(e)?e.get():e}function P0e({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:O0e(r,n,s,e),renderState:t()}}const DM=e=>(t,r)=>{const n=N.useContext(C2),s=N.useContext(N3),a=()=>P0e(e,t,n,s);return r?a():lhe(a)};function O0e(e,t,r,n){const s={},a=n(e,{});for(const y in a)s[y]=_x(a[y]);let{initial:o,animate:l}=e;const A=N2(e),d=FM(e);t&&d&&!A&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!B2(m)){const y=Array.isArray(m)?m:[m];for(let g=0;g<y.length;g++){const b=J3(e,y[g]);if(b){const{transitionEnd:C,transition:F,...v}=b;for(const S in v){let I=v[S];if(Array.isArray(I)){const k=f?I.length-1:0;I=I[k]}I!==null&&(s[S]=I)}for(const S in C)s[S]=C[S]}}}return s}function Z3(e,t,r){var a;const{style:n}=e,s={};for(const o in n)(Ka(n[o])||t.style&&Ka(t.style[o])||LM(o,e)||((a=r==null?void 0:r.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const R0e={useVisualState:DM({scrapeMotionValuesFromProps:Z3,createRenderState:X3})};function _M(e,t,r){const n=Z3(e,t,r);for(const s in e)if(Ka(e[s])||Ka(t[s])){const a=P0.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}const D0e={useVisualState:DM({scrapeMotionValuesFromProps:_M,createRenderState:OM})};function _0e(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Y3(n)?D0e:R0e,preloadedFeatures:e,useRender:k0e(s),createVisualElement:t,Component:n};return g0e(o)}}function Wp(e,t,r){const n=e.getProps();return J3(n,t,r!==void 0?r:n.custom,e)}const K4=e=>Array.isArray(e);function M0e(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,g0(r))}function U0e(e){return K4(e)?e[e.length-1]||0:e}function Q0e(e,t){const r=Wp(e,t);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const o in a){const l=U0e(a[o]);M0e(e,o,l)}}function H0e(e){return!!(Ka(e)&&e.add)}function G4(e,t){const r=e.getValue("willChange");if(H0e(r))return r.add(t);if(!r&&rA.WillChange){const n=new rA.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function MM(e){return e.props[IM]}const V0e=e=>e!==null;function K0e(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(V0e),a=t&&r!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const G0e={type:"spring",stiffness:500,damping:25,restSpeed:10},W0e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),z0e={type:"keyframes",duration:.8},$0e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q0e=(e,{keyframes:t})=>t.length>2?z0e:O0.has(e)?e.startsWith("scale")?W0e(t[1]):G0e:$0e;function X0e({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:A,elapsed:d,...f}){return!!Object.keys(f).length}const eS=(e,t,r,n={},s,a)=>o=>{const l=H3(n,e)||{},A=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-zl(A);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:y=>{t.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};X0e(l)||Object.assign(f,q0e(e,f)),f.duration&&(f.duration=zl(f.duration)),f.repeatDelay&&(f.repeatDelay=zl(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(m=!0)),(rA.instantAnimations||rA.skipAnimations)&&(m=!0,f.duration=0,f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!a&&t.get()!==void 0){const y=K0e(f.keyframes,l);if(y!==void 0){ls.update(()=>{f.onUpdate(y),f.onComplete()});return}}return l.isSync?new U3(f):new Ofe(f)};function Y0e({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function UM(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(a=n);const A=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const m=e.getValue(f,e.latestValues[f]??null),y=l[f];if(y===void 0||d&&Y0e(d,f))continue;const g={delay:r,...H3(a||{},f)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===b&&!g.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const v=MM(e);if(v){const S=window.MotionHandoffAnimation(v,f,ls);S!==null&&(g.startTime=S,C=!0)}}G4(e,f),m.start(eS(f,m,y,e.shouldReduceMotion&&gM.has(f)?{type:!1}:g,e,C));const F=m.animation;F&&A.push(F)}return o&&Promise.all(A).then(()=>{ls.update(()=>{o&&Q0e(e,o)})}),A}function W4(e,t,r={}){var A;const n=Wp(e,t,r.type==="exit"?(A=e.presenceContext)==null?void 0:A.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(UM(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:y}=s;return J0e(e,t,f+d,m,y,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,f]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>f())}else return Promise.all([a(),o(r.delay)])}function J0e(e,t,r=0,n=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*n,A=s===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort(Z0e).forEach((d,f)=>{d.notify("AnimationStart",t),o.push(W4(d,t,{...a,delay:r+A(f)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function Z0e(e,t){return e.sortNodePosition(t)}function eme(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>W4(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=W4(e,t,r);else{const s=typeof t=="function"?Wp(e,t,r.custom):t;n=Promise.all(UM(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function QM(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const tme=z3.length;function HM(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?HM(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<tme;r++){const n=z3[r],s=e.props[n];(Kp(s)||s===!1)&&(t[n]=s)}return t}const rme=[...W3].reverse(),nme=W3.length;function sme(e){return t=>Promise.all(t.map(({animation:r,options:n})=>eme(e,r,n)))}function ame(e){let t=sme(e),r=Hj(),n=!0;const s=A=>(d,f)=>{var y;const m=Wp(e,f,A==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);if(m){const{transition:g,transitionEnd:b,...C}=m;d={...d,...C,...b}}return d};function a(A){t=A(e)}function o(A){const{props:d}=e,f=HM(e.parent)||{},m=[],y=new Set;let g={},b=1/0;for(let F=0;F<nme;F++){const v=rme[F],S=r[v],I=d[v]!==void 0?d[v]:f[v],k=Kp(I),M=v===A?S.isActive:null;M===!1&&(b=F);let V=I===f[v]&&I!==d[v]&&k;if(V&&n&&e.manuallyAnimateOnMount&&(V=!1),S.protectedKeys={...g},!S.isActive&&M===null||!I&&!S.prevProp||B2(I)||typeof I=="boolean")continue;const O=ime(S.prevProp,I);let R=O||v===A&&S.isActive&&!V&&k||F>b&&k,_=!1;const J=Array.isArray(I)?I:[I];let U=J.reduce(s(v),{});M===!1&&(U={});const{prevResolvedValues:Q={}}=S,X={...Q,...U},Z=W=>{R=!0,y.has(W)&&(_=!0,y.delete(W)),S.needsAnimating[W]=!0;const Y=e.getValue(W);Y&&(Y.liveStyle=!1)};for(const W in X){const Y=U[W],K=Q[W];if(g.hasOwnProperty(W))continue;let ae=!1;K4(Y)&&K4(K)?ae=!QM(Y,K):ae=Y!==K,ae?Y!=null?Z(W):y.add(W):Y!==void 0&&y.has(W)?Z(W):S.protectedKeys[W]=!0}S.prevProp=I,S.prevResolvedValues=U,S.isActive&&(g={...g,...U}),n&&e.blockInitialAnimation&&(R=!1),R&&(!(V&&O)||_)&&m.push(...J.map(W=>({animation:W,options:{type:v}})))}if(y.size){const F={};if(typeof d.initial!="boolean"){const v=Wp(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(F.transition=v.transition)}y.forEach(v=>{const S=e.getBaseTarget(v),I=e.getValue(v);I&&(I.liveStyle=!0),F[v]=S??null}),m.push({animation:F})}let C=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(C=!1),n=!1,C?t(m):Promise.resolve()}function l(A,d){var m;if(r[A].isActive===d)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(y=>{var g;return(g=y.animationState)==null?void 0:g.setActive(A,d)}),r[A].isActive=d;const f=o(A);for(const y in r)r[y].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=Hj(),n=!0}}}function ime(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!QM(t,e):!1}function gd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hj(){return{animate:gd(!0),whileInView:gd(),whileHover:gd(),whileTap:gd(),whileDrag:gd(),whileFocus:gd(),exit:gd()}}class Yu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ome extends Yu{constructor(t){super(t),t.animationState||(t.animationState=ame(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();B2(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let lme=0;class cme extends Yu{constructor(){super(...arguments),this.id=lme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Ame={animation:{Feature:ome},exit:{Feature:cme}};function zp(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function bg(e){return{point:{x:e.pageX,y:e.pageY}}}const ume=e=>t=>G3(t)&&e(t,bg(t));function tp(e,t,r,n){return zp(e,t,ume(r),n)}function VM({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function dme({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hme(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const KM=1e-4,fme=1-KM,mme=1+KM,GM=.01,pme=0-GM,gme=0+GM;function oi(e){return e.max-e.min}function xme(e,t,r){return Math.abs(e-t)<=r}function Vj(e,t,r,n=.5){e.origin=n,e.originPoint=as(t.min,t.max,e.origin),e.scale=oi(r)/oi(t),e.translate=as(r.min,r.max,e.origin)-e.originPoint,(e.scale>=fme&&e.scale<=mme||isNaN(e.scale))&&(e.scale=1),(e.translate>=pme&&e.translate<=gme||isNaN(e.translate))&&(e.translate=0)}function rp(e,t,r,n){Vj(e.x,t.x,r.x,n?n.originX:void 0),Vj(e.y,t.y,r.y,n?n.originY:void 0)}function Kj(e,t,r){e.min=r.min+t.min,e.max=e.min+oi(t)}function yme(e,t,r){Kj(e.x,t.x,r.x),Kj(e.y,t.y,r.y)}function Gj(e,t,r){e.min=t.min-r.min,e.max=e.min+oi(t)}function np(e,t,r){Gj(e.x,t.x,r.x),Gj(e.y,t.y,r.y)}const Wj=()=>({translate:0,scale:1,origin:0,originPoint:0}),yf=()=>({x:Wj(),y:Wj()}),zj=()=>({min:0,max:0}),js=()=>({x:zj(),y:zj()});function yo(e){return[e("x"),e("y")]}function Gb(e){return e===void 0||e===1}function z4({scale:e,scaleX:t,scaleY:r}){return!Gb(e)||!Gb(t)||!Gb(r)}function bd(e){return z4(e)||WM(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function WM(e){return $j(e.x)||$j(e.y)}function $j(e){return e&&e!=="0%"}function Jy(e,t,r){const n=e-r,s=t*n;return r+s}function qj(e,t,r,n,s){return s!==void 0&&(e=Jy(e,s,n)),Jy(e,r,n)+t}function $4(e,t=0,r=1,n,s){e.min=qj(e.min,t,r,n,s),e.max=qj(e.max,t,r,n,s)}function zM(e,{x:t,y:r}){$4(e.x,t.translate,t.scale,t.originPoint),$4(e.y,r.translate,r.scale,r.originPoint)}const Xj=.999999999999,Yj=1.0000000000001;function wme(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=r[l],o=a.projectionDelta;const{visualElement:A}=a.options;A&&A.props.style&&A.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vf(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,zM(e,o)),n&&bd(a.latestValues)&&vf(e,a.latestValues))}t.x<Yj&&t.x>Xj&&(t.x=1),t.y<Yj&&t.y>Xj&&(t.y=1)}function wf(e,t){e.min=e.min+t,e.max=e.max+t}function Jj(e,t,r,n,s=.5){const a=as(e.min,e.max,s);$4(e,t,r,a,n)}function vf(e,t){Jj(e.x,t.x,t.scaleX,t.scale,t.originX),Jj(e.y,t.y,t.scaleY,t.scale,t.originY)}function $M(e,t){return VM(hme(e.getBoundingClientRect(),t))}function vme(e,t,r){const n=$M(e,r),{scroll:s}=t;return s&&(wf(n.x,s.offset.x),wf(n.y,s.offset.y)),n}const qM=({current:e})=>e?e.ownerDocument.defaultView:null,Zj=(e,t)=>Math.abs(e-t);function bme(e,t){const r=Zj(e.x,t.x),n=Zj(e.y,t.y);return Math.sqrt(r**2+n**2)}class XM{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=zb(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,g=bme(m.offset,{x:0,y:0})>=3;if(!y&&!g)return;const{point:b}=m,{timestamp:C}=fa;this.history.push({...b,timestamp:C});const{onStart:F,onMove:v}=this.handlers;y||(F&&F(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Wb(y,this.transformPagePoint),ls.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=zb(m.type==="pointercancel"?this.lastMoveEventInfo:Wb(y,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,F),b&&b(m,F)},!G3(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=bg(t),l=Wb(o,this.transformPagePoint),{point:A}=l,{timestamp:d}=fa;this.history=[{...A,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,zb(l,this.history)),this.removeListeners=yg(tp(this.contextWindow,"pointermove",this.handlePointerMove),tp(this.contextWindow,"pointerup",this.handlePointerUp),tp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qu(this.updatePoint)}}function Wb(e,t){return t?{point:t(e.point)}:e}function e8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zb({point:e},t){return{point:e,delta:e8(e,YM(t)),offset:e8(e,Cme(t)),velocity:Bme(t,.1)}}function Cme(e){return e[0]}function YM(e){return e[e.length-1]}function Bme(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=YM(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>zl(t)));)r--;if(!n)return{x:0,y:0};const a=$l(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Nme(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?as(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?as(r,e,n.max):Math.min(e,r)),e}function t8(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Sme(e,{top:t,left:r,bottom:n,right:s}){return{x:t8(e.x,r,s),y:t8(e.y,t,n)}}function r8(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Eme(e,t){return{x:r8(e.x,t.x),y:r8(e.y,t.y)}}function Fme(e,t){let r=.5;const n=oi(e),s=oi(t);return s>n?r=Qp(t.min,t.max-n,e.min):n>s&&(r=Qp(e.min,e.max-s,t.min)),tA(0,1,r)}function Ime(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const q4=.35;function jme(e=q4){return e===!1?e=0:e===!0&&(e=q4),{x:n8(e,"left","right"),y:n8(e,"top","bottom")}}function n8(e,t,r){return{min:s8(e,t),max:s8(e,r)}}function s8(e,t){return typeof e=="number"?e:e[t]||0}const Tme=new WeakMap;class Lme{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=js(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(bg(f).point)},a=(f,m)=>{const{drag:y,dragPropagation:g,onDragStart:b}=this.getProps();if(y&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Yfe(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yo(F=>{let v=this.getAxisMotionValue(F).get()||0;if(ql.test(v)){const{projection:S}=this.visualElement;if(S&&S.layout){const I=S.layout.layoutBox[F];I&&(v=oi(I)*(parseFloat(v)/100))}}this.originPoint[F]=v}),b&&ls.postRender(()=>b(f,m)),G4(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},o=(f,m)=>{const{dragPropagation:y,dragDirectionLock:g,onDirectionLock:b,onDrag:C}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:F}=m;if(g&&this.currentDirection===null){this.currentDirection=kme(F),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,F),this.updateAxis("y",m.point,F),this.visualElement.render(),C&&C(f,m)},l=(f,m)=>this.stop(f,m),A=()=>yo(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new XM(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:A},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:qM(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ls.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!J1(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Nme(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;t&&xf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Sme(n.layoutBox,t):this.constraints=!1,this.elastic=jme(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&yo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ime(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!xf(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=vme(n,s.root,this.visualElement.getTransformPagePoint());let o=Eme(s.layout.layoutBox,a);if(r){const l=r(dme(o));this.hasMutatedConstraints=!!l,l&&(o=VM(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),A=this.constraints||{},d=yo(f=>{if(!J1(f,r,this.currentDirection))return;let m=A&&A[f]||{};o&&(m={min:0,max:0});const y=s?200:1e6,g=s?40:1e7,b={type:"inertia",velocity:n?t[f]:0,bounceStiffness:y,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return G4(this.visualElement,t),n.start(eS(t,n,0,r,this.visualElement,!1))}stopAnimation(){yo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){yo(r=>{const{drag:n}=this.getProps();if(!J1(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];a.set(t[r]-as(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!xf(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};yo(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const A=l.get();s[o]=Fme({min:A,max:A},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),yo(o=>{if(!J1(o,t,null))return;const l=this.getAxisMotionValue(o),{min:A,max:d}=this.constraints[o];l.set(as(A,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;Tme.set(this.visualElement,this);const t=this.visualElement.current,r=tp(t,"pointerdown",A=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(A)}),n=()=>{const{dragConstraints:A}=this.getProps();xf(A)&&A.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ls.read(n);const o=zp(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:A,hasLayoutChanged:d})=>{this.isDragging&&d&&(yo(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=A[f].translate,m.set(m.get()+A[f].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=q4,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function J1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function kme(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Pme extends Yu{constructor(t){super(t),this.removeGroupControls=jo,this.removeListeners=jo,this.controls=new Lme(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jo}unmount(){this.removeGroupControls(),this.removeListeners()}}const a8=e=>(t,r)=>{e&&ls.postRender(()=>e(t,r))};class Ome extends Yu{constructor(){super(...arguments),this.removePointerDownListener=jo}onPointerDown(t){this.session=new XM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:a8(t),onStart:a8(r),onMove:n,onEnd:(a,o)=>{delete this.session,s&&ls.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=tp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ir.test(e))e=parseFloat(e);else return e;const r=i8(e,t.target.x),n=i8(e,t.target.y);return`${r}% ${n}%`}},Rme={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Hu.parse(e);if(s.length>5)return n;const a=Hu.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,A=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=A;const d=as(l,A,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),a(s)}};class Dme extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;v0e(_me),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Mx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,s||t.layoutDependency!==r||r===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ls.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),K3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function JM(e){const[t,r]=Ahe(),n=N.useContext(D_);return i.jsx(Dme,{...e,layoutGroup:n,switchLayoutGroup:N.useContext(jM),isPresent:t,safeToRemove:r})}const _me={borderRadius:{...fm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fm,borderTopRightRadius:fm,borderBottomLeftRadius:fm,borderBottomRightRadius:fm,boxShadow:Rme};function Mme(e,t,r){const n=Ka(e)?e:g0(e);return n.start(eS("",n,t,r)),n.animation}function Ume(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Qme=(e,t)=>e.depth-t.depth;class Hme{constructor(){this.children=[],this.isDirty=!1}add(t){S3(this.children,t),this.isDirty=!0}remove(t){E3(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Qme),this.isDirty=!1,this.children.forEach(t)}}function Vme(e,t){const r=Fi.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(Qu(n),e(a-t))};return ls.setup(n,!0),()=>Qu(n)}const ZM=["TopLeft","TopRight","BottomLeft","BottomRight"],Kme=ZM.length,o8=e=>typeof e=="string"?parseFloat(e):e,l8=e=>typeof e=="number"||ir.test(e);function Gme(e,t,r,n,s,a){s?(e.opacity=as(0,r.opacity??1,Wme(n)),e.opacityExit=as(t.opacity??1,0,zme(n))):a&&(e.opacity=as(t.opacity??1,r.opacity??1,n));for(let o=0;o<Kme;o++){const l=`border${ZM[o]}Radius`;let A=c8(t,l),d=c8(r,l);if(A===void 0&&d===void 0)continue;A||(A=0),d||(d=0),A===0||d===0||l8(A)===l8(d)?(e[l]=Math.max(as(o8(A),o8(d),n),0),(ql.test(d)||ql.test(A))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=as(t.rotate||0,r.rotate||0,n))}function c8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Wme=eU(0,.5,$_),zme=eU(.5,.95,jo);function eU(e,t,r){return n=>n<e?0:n>t?1:r(Qp(e,t,n))}function A8(e,t){e.min=t.min,e.max=t.max}function go(e,t){A8(e.x,t.x),A8(e.y,t.y)}function u8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function d8(e,t,r,n,s){return e-=t,e=Jy(e,1/r,n),s!==void 0&&(e=Jy(e,1/s,n)),e}function $me(e,t=0,r=1,n=.5,s,a=e,o=e){if(ql.test(t)&&(t=parseFloat(t),t=as(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=as(a.min,a.max,n);e===a&&(l-=t),e.min=d8(e.min,t,r,l,s),e.max=d8(e.max,t,r,l,s)}function h8(e,t,[r,n,s],a,o){$me(e,t[r],t[n],t[s],t.scale,a,o)}const qme=["x","scaleX","originX"],Xme=["y","scaleY","originY"];function f8(e,t,r,n){h8(e.x,t,qme,r?r.x:void 0,n?n.x:void 0),h8(e.y,t,Xme,r?r.y:void 0,n?n.y:void 0)}function m8(e){return e.translate===0&&e.scale===1}function tU(e){return m8(e.x)&&m8(e.y)}function p8(e,t){return e.min===t.min&&e.max===t.max}function Yme(e,t){return p8(e.x,t.x)&&p8(e.y,t.y)}function g8(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function rU(e,t){return g8(e.x,t.x)&&g8(e.y,t.y)}function x8(e){return oi(e.x)/oi(e.y)}function y8(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Jme{constructor(){this.members=[]}add(t){S3(this.members,t),t.scheduleRender()}remove(t){if(E3(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zme(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:y,skewX:g,skewY:b}=r;d&&(n=`perspective(${d}px) ${n}`),f&&(n+=`rotate(${f}deg) `),m&&(n+=`rotateX(${m}deg) `),y&&(n+=`rotateY(${y}deg) `),g&&(n+=`skewX(${g}deg) `),b&&(n+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,A=e.y.scale*t.y;return(l!==1||A!==1)&&(n+=`scale(${l}, ${A})`),n||"none"}const $b=["","X","Y","Z"],epe={visibility:"hidden"},tpe=1e3;let rpe=0;function qb(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function nU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=MM(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ls,!(s||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&nU(n)}function sU({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=rpe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ape),this.nodes.forEach(Ape),this.nodes.forEach(upe),this.nodes.forEach(ipe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let A=0;A<this.path.length;A++)this.path[A].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hme)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new I3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const A=this.eventHandlers.get(o);A&&A.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ume(o),this.instance=o;const{layoutId:l,layout:A,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(A||l)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Vme(m,250),Mx.hasAnimatedSinceResize&&(Mx.hasAnimatedSinceResize=!1,this.nodes.forEach(v8))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||A)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||ppe,{onLayoutAnimationStart:C,onLayoutAnimationComplete:F}=d.getProps(),v=!this.targetLayout||!rU(this.targetLayout,g),S=!m&&y;if(this.options.layoutRoot||this.resumeFrom||S||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const I={...H3(b,"layout"),onPlay:C,onComplete:F};(d.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else m||v8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dpe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:A}=this.options;if(l===void 0&&!A)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(w8);return}this.isUpdating||this.nodes.forEach(lpe),this.isUpdating=!1,this.nodes.forEach(cpe),this.nodes.forEach(npe),this.nodes.forEach(spe),this.clearAllSnapshots();const l=Fi.now();fa.delta=tA(0,1e3/60,l-fa.timestamp),fa.timestamp=l,fa.isProcessing=!0,Mb.update.process(fa),Mb.preRender.process(fa),Mb.render.process(fa),fa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,K3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ope),this.sharedNodes.forEach(hpe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ls.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ls.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!oi(this.snapshot.measuredBox.x)&&!oi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let A=0;A<this.path.length;A++)this.path[A].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=js(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const A=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:A,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:A}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!tU(this.projectionDelta),A=this.getTransformTemplate(),d=A?A(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||bd(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let A=this.removeElementScroll(l);return o&&(A=this.removeTransform(A)),gpe(A),{animationId:this.root.animationId,measuredBox:l,layoutBox:A,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return js();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(xpe))){const{scroll:f}=this.root;f&&(wf(l.x,f.offset.x),wf(l.y,f.offset.y))}return l}removeElementScroll(o){var A;const l=js();if(go(l,o),(A=this.scroll)!=null&&A.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:y}=f;f!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&go(l,o),wf(l.x,m.offset.x),wf(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const A=js();go(A,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&vf(A,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),bd(f.latestValues)&&vf(A,f.latestValues)}return bd(this.latestValues)&&vf(A,this.latestValues),A}removeTransform(o){const l=js();go(l,o);for(let A=0;A<this.path.length;A++){const d=this.path[A];if(!d.instance||!bd(d.latestValues))continue;z4(d.latestValues)&&d.updateSnapshot();const f=js(),m=d.measurePageBox();go(f,m),f8(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return bd(this.latestValues)&&f8(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var y;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const A=!!this.resumingFrom||this!==l;if(!(o||A&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=fa.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=js(),this.relativeTargetOrigin=js(),np(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),go(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=js(),this.targetWithTransforms=js()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):go(this.target,this.layout.layoutBox),zM(this.target,this.targetDelta)):go(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=js(),this.relativeTargetOrigin=js(),np(this.relativeTargetOrigin,this.target,g.target),go(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||z4(this.parent.latestValues)||WM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let A=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(A=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(A=!1),this.resolvedRelativeTargetAt===fa.timestamp&&(A=!1),A)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;go(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;wme(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=js());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u8(this.prevProjectionDelta.x,this.projectionDelta.x),u8(this.prevProjectionDelta.y,this.projectionDelta.y)),rp(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!y8(this.projectionDelta.x,this.prevProjectionDelta.x)||!y8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const A=this.getStack();A&&A.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yf(),this.projectionDelta=yf(),this.projectionDeltaWithTransform=yf()}setAnimationOrigin(o,l=!1){const A=this.snapshot,d=A?A.latestValues:{},f={...this.latestValues},m=yf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=js(),g=A?A.source:void 0,b=this.layout?this.layout.source:void 0,C=g!==b,F=this.getStack(),v=!F||F.members.length<=1,S=!!(C&&!v&&this.options.crossfade===!0&&!this.path.some(mpe));this.animationProgress=0;let I;this.mixTargetDelta=k=>{const M=k/1e3;b8(m.x,o.x,M),b8(m.y,o.y,M),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(np(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fpe(this.relativeTarget,this.relativeTargetOrigin,y,M),I&&Yme(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=js()),go(I,this.relativeTarget)),C&&(this.animationValues=f,Gme(f,d,this.latestValues,M,S,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,A,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(d=(A=this.resumingFrom)==null?void 0:A.currentAnimation)==null||d.stop(!1),this.pendingAnimation&&(Qu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ls.update(()=>{Mx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=g0(0)),this.currentAnimation=Mme(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tpe),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:A,layout:d,latestValues:f}=o;if(!(!l||!A||!d)){if(this!==o&&this.layout&&d&&aU(this.options.animationType,this.layout.layoutBox,d.layoutBox)){A=this.target||js();const m=oi(this.layout.layoutBox.x);A.x.min=o.target.x.min,A.x.max=A.x.min+m;const y=oi(this.layout.layoutBox.y);A.y.min=o.target.y.min,A.y.max=A.y.min+y}go(l,A),vf(l,f),rp(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Jme),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:A}={}){const d=this.getStack();d&&d.promote(this,A),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:A}=o;if((A.z||A.rotate||A.rotateX||A.rotateY||A.rotateZ||A.skewX||A.skewY)&&(l=!0),!l)return;const d={};A.z&&qb("z",o,d,this.animationValues);for(let f=0;f<$b.length;f++)qb(`rotate${$b[f]}`,o,d,this.animationValues),qb(`skew${$b[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return epe;const l={visibility:""},A=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=_x(o==null?void 0:o.pointerEvents)||"",l.transform=A?A(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=_x(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!bd(this.latestValues)&&(g.transform=A?A({},""):"none",this.hasProjected=!1),g}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=Zme(this.projectionDeltaWithTransform,this.treeScale,f),A&&(l.transform=A(f,l.transform));const{x:m,y}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?l.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Gp){if(f[g]===void 0)continue;const{correct:b,applyTo:C,isCSSVariable:F}=Gp[g],v=l.transform==="none"?f[g]:b(f[g],d);if(C){const S=C.length;for(let I=0;I<S;I++)l[C[I]]=v}else F?this.options.visualElement.renderState.vars[g]=v:l[g]=v}return this.options.layoutId&&(l.pointerEvents=d===this?_x(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(w8),this.root.sharedNodes.clear()}}}function npe(e){e.updateLayout()}function spe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?yo(m=>{const y=o?t.measuredBox[m]:t.layoutBox[m],g=oi(y);y.min=n[m].min,y.max=y.min+g}):aU(a,t.layoutBox,n)&&yo(m=>{const y=o?t.measuredBox[m]:t.layoutBox[m],g=oi(n[m]);y.max=y.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+g)});const l=yf();rp(l,n,t.layoutBox);const A=yf();o?rp(A,e.applyTransform(s,!0),t.measuredBox):rp(A,n,t.layoutBox);const d=!tU(l);let f=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:g}=m;if(y&&g){const b=js();np(b,t.layoutBox,y.layoutBox);const C=js();np(C,n,g.layoutBox),rU(b,C)||(f=!0),m.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:A,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function ape(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ipe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ope(e){e.clearSnapshot()}function w8(e){e.clearMeasurements()}function lpe(e){e.isLayoutDirty=!1}function cpe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function v8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ape(e){e.resolveTargetDelta()}function upe(e){e.calcProjection()}function dpe(e){e.resetSkewAndRotation()}function hpe(e){e.removeLeadSnapshot()}function b8(e,t,r){e.translate=as(t.translate,0,r),e.scale=as(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function C8(e,t,r,n){e.min=as(t.min,r.min,n),e.max=as(t.max,r.max,n)}function fpe(e,t,r,n){C8(e.x,t.x,r.x,n),C8(e.y,t.y,r.y,n)}function mpe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ppe={duration:.45,ease:[.4,0,.1,1]},B8=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),N8=B8("applewebkit/")&&!B8("chrome/")?Math.round:jo;function S8(e){e.min=N8(e.min),e.max=N8(e.max)}function gpe(e){S8(e.x),S8(e.y)}function aU(e,t,r){return e==="position"||e==="preserve-aspect"&&!xme(x8(t),x8(r),.2)}function xpe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const ype=sU({attachResizeListener:(e,t)=>zp(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xb={current:void 0},iU=sU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xb.current){const e=new ype({});e.mount(window),e.setOptions({layoutScroll:!0}),Xb.current=e}return Xb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),wpe={pan:{Feature:Ome},drag:{Feature:Pme,ProjectionNode:iU,MeasureLayout:JM}};function E8(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&ls.postRender(()=>a(t,bg(t)))}class vpe extends Yu{mount(){const{current:t}=this.node;t&&(this.unmount=Jfe(t,(r,n)=>(E8(this.node,n,"Start"),s=>E8(this.node,s,"End"))))}unmount(){}}class bpe extends Yu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yg(zp(this.node.current,"focus",()=>this.onFocus()),zp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function F8(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&ls.postRender(()=>a(t,bg(t)))}class Cpe extends Yu{mount(){const{current:t}=this.node;t&&(this.unmount=r0e(t,(r,n)=>(F8(this.node,n,"Start"),(s,{success:a})=>F8(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const X4=new WeakMap,Yb=new WeakMap,Bpe=e=>{const t=X4.get(e.target);t&&t(e)},Npe=e=>{e.forEach(Bpe)};function Spe({root:e,...t}){const r=e||document;Yb.has(r)||Yb.set(r,{});const n=Yb.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(Npe,{root:e,...t})),n[s]}function Epe(e,t,r){const n=Spe(t);return X4.set(e,r),n.observe(e),()=>{X4.delete(e),n.unobserve(e)}}const Fpe={some:0,all:1};class Ipe extends Yu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Fpe[s]},l=A=>{const{isIntersecting:d}=A;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),y=d?f:m;y&&y(A)};return Epe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(jpe(t,r))&&this.startObserver()}unmount(){}}function jpe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Tpe={inView:{Feature:Ipe},tap:{Feature:Cpe},focus:{Feature:bpe},hover:{Feature:vpe}},Lpe={layout:{ProjectionNode:iU,MeasureLayout:JM}},Y4={current:null},oU={current:!1};function kpe(){if(oU.current=!0,!!B3)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Y4.current=e.matches;e.addListener(t),t()}else Y4.current=!1}const Ppe=new WeakMap;function Ope(e,t,r){for(const n in t){const s=t[n],a=r[n];if(Ka(s))e.addValue(n,s);else if(Ka(a))e.addValue(n,g0(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,g0(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const I8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rpe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Q3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Fi.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ls.render(this.render,!1,!0))};const{latestValues:A,renderState:d}=o;this.latestValues=A,this.baseTarget={...A},this.initialValues=r.initial?{...A}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=N2(r),this.isVariantNode=FM(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in m){const g=m[y];A[y]!==void 0&&Ka(g)&&g.set(A[y],!1)}}mount(t){this.current=t,Ppe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),oU.current||kpe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Y4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qu(this.notifyUpdate),Qu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=O0.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ls.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in x0){const r=x0[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):js()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<I8.length;n++){const s=I8[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Ope(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=g0(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(M_(n)||U_(n))?n=parseFloat(n):!s0e(n)&&Hu.test(r)&&(n=vM(t,r)),this.setBaseTarget(t,Ka(n)?n.get():n)),Ka(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=J3(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ka(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new I3),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class lU extends Rpe{constructor(){super(...arguments),this.KeyframeResolver=zfe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ka(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function cU(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}function Dpe(e){return window.getComputedStyle(e)}class _pe extends lU{constructor(){super(...arguments),this.type="html",this.renderInstance=cU}readValueFromInstance(t,r){if(O0.has(r))return dfe(t,r);{const n=Dpe(t),s=(L3(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return $M(t,r)}build(t,r,n){q3(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Z3(t,r,n)}}const AU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Mpe(e,t,r,n){cU(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(AU.has(s)?s:$3(s),t.attrs[s])}class Upe extends lU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=js}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(O0.has(r)){const n=wM(r);return n&&n.default||0}return r=AU.has(r)?r:$3(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return _M(t,r,n)}build(t,r,n){PM(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){Mpe(t,r,n,s)}mount(t){this.isSVGTag=RM(t.tagName),super.mount(t)}}const Qpe=(e,t)=>Y3(e)?new Upe(t):new _pe(t,{allowProjection:e!==N.Fragment}),Hpe=_0e({...Ame,...Tpe,...wpe,...Lpe},Qpe),Bn=c0e(Hpe),Vpe=({onAddSuccess:e})=>{const[t,r]=N.useState(""),[n,s]=N.useState(""),[a,o]=N.useState(""),[l,A]=N.useState(""),[d,f]=N.useState(""),m=ii({mutationFn:g=>Ue.addTransaction(g),onSuccess:()=>{e(),r(""),s(""),o(""),A(""),f("")},onError:g=>{console.error("Failed to add transaction:",g.message),alert("Failed to add transaction: "+g.message)}}),y=g=>{if(g.preventDefault(),!t.trim()){alert("Name is required");return}const b={name:t.trim(),cashReceipt:n===""?0:parseFloat(n),onlineReceipt:a===""?0:parseFloat(a),cashExpense:l===""?0:parseFloat(l),onlineExpense:d===""?0:parseFloat(d)};m.mutate(b)};return i.jsx("form",{onSubmit:y,className:"mb-4",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("input",{type:"text",value:t,onChange:g=>r(g.target.value),placeholder:"Name",className:"border p-2 rounded",required:!0}),i.jsx("input",{type:"number",value:n,onChange:g=>s(g.target.value),placeholder:"Cash Receipt",className:"border p-2 rounded",min:"0",step:"0.01"}),i.jsx("input",{type:"number",value:a,onChange:g=>o(g.target.value),placeholder:"Online Receipt",className:"border p-2 rounded",min:"0",step:"0.01"}),i.jsx("input",{type:"number",value:l,onChange:g=>A(g.target.value),placeholder:"Cash Expense",className:"border p-2 rounded",min:"0",step:"0.01"}),i.jsx("input",{type:"number",value:d,onChange:g=>f(g.target.value),placeholder:"Online Expense",className:"border p-2 rounded",min:"0",step:"0.01"}),i.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 disabled:bg-blue-300",disabled:m.isPending,children:m.isPending?"Adding...":"Add Transaction"})]})})},Kpe=({transaction:e})=>{const t=aA(),[r,n]=N.useState(e.name),[s,a]=N.useState(e.cashReceipt.toString()),[o,l]=N.useState(e.onlineReceipt.toString()),[A,d]=N.useState(e.cashExpense.toString()),[f,m]=N.useState(e.onlineExpense.toString()),y=((parseFloat(s)||0)+(parseFloat(o)||0)-(parseFloat(A)||0)-(parseFloat(f)||0)).toFixed(2),g=ii({mutationFn:v=>Ue.updateTransaction(e.id,v),onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]}),alert("Transaction updated successfully")},onError:v=>{console.error("Failed to update transaction:",v.message),alert("Failed to update transaction: "+v.message)}}),b=ii({mutationFn:()=>Ue.deleteTransaction(e.id),onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]}),alert("Transaction deleted successfully")},onError:v=>{console.error("Failed to delete transaction:",v.message),alert("Failed to delete transaction: "+v.message)}}),C=()=>{if(!r.trim()){alert("Name is required");return}const v={name:r.trim(),cashReceipt:parseFloat(s)||0,onlineReceipt:parseFloat(o)||0,cashExpense:parseFloat(A)||0,onlineExpense:parseFloat(f)||0};g.mutate(v)},F=()=>{window.confirm("Are you sure you want to delete this transaction?")&&b.mutate()};return i.jsxs("tr",{children:[i.jsx("td",{className:"py-2 px-4 border-b",children:i.jsx("input",{type:"text",value:r,onChange:v=>n(v.target.value),className:"w-full border rounded p-1",required:!0})}),i.jsx("td",{className:"py-2 px-4 border-b",children:i.jsx("input",{type:"number",value:s,onChange:v=>a(v.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),i.jsx("td",{className:"py-2 px-4 border-b",children:i.jsx("input",{type:"number",value:o,onChange:v=>l(v.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),i.jsx("td",{className:"py-2 px-4 border-b",children:i.jsx("input",{type:"number",value:A,onChange:v=>d(v.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),i.jsx("td",{className:"py-2 px-4 border-b",children:i.jsx("input",{type:"number",value:f,onChange:v=>m(v.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),i.jsx("td",{className:"py-2 px-4 border-b",children:y}),i.jsxs("td",{className:"py-2 px-4 border-b",children:[i.jsx("button",{onClick:C,className:"bg-green-500 text-white p-1 rounded mr-2 hover:bg-green-600 disabled:bg-green-300",disabled:g.isPending,children:g.isPending?"Saving...":"Save"}),i.jsx("button",{onClick:F,className:"bg-red-500 text-white p-1 rounded hover:bg-red-600 disabled:bg-red-300",disabled:b.isPending,children:b.isPending?"Deleting...":"Delete"})]})]})},Gpe=()=>{const[e,t]=N.useState(!1),r=aA(),{data:n,isLoading:s,error:a}=cl({queryKey:["transactions"],queryFn:Ue.getTransactions}),o=()=>{r.invalidateQueries({queryKey:["transactions"]})},l=(n==null?void 0:n.transactions)||[];return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[i.jsx(On,{isCollapsed:e,setIsCollapsed:t}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:i.jsxs(Bn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsxs("h1",{className:"text-3xl font-bold mb-6 text-gray-800 flex items-center gap-2",children:[i.jsx("span",{role:"img","aria-label":"money",children:"💰"})," Transactions"]}),i.jsx(Bn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},className:"bg-white shadow-lg rounded-xl p-4 mb-6 w-full",children:i.jsx(Vpe,{onAddSuccess:o})}),s?i.jsxs("div",{className:"flex items-center justify-center text-gray-600 mt-6",children:[i.jsx(Js,{className:"animate-spin mr-2"}),"Loading transactions..."]}):a?i.jsxs("div",{className:"flex items-center justify-center text-red-500 mt-6",children:[i.jsx(d0,{className:"mr-2"}),"Error: ",a.message]}):i.jsx(Bn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"overflow-x-auto bg-white shadow-md rounded-xl w-full",children:i.jsxs("table",{className:"w-full text-sm text-left table-auto",children:[i.jsx("thead",{className:"bg-gray-100 text-gray-700 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3",children:"Name"}),i.jsx("th",{className:"px-4 py-3",children:"Cash Receipt"}),i.jsx("th",{className:"px-4 py-3",children:"Online Receipt"}),i.jsx("th",{className:"px-4 py-3",children:"Cash Expense"}),i.jsx("th",{className:"px-4 py-3",children:"Online Expense"}),i.jsx("th",{className:"px-4 py-3",children:"Total"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{children:l.length>0?l.map(A=>i.jsx(Kpe,{transaction:A},A.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-gray-500",children:"No transactions found."})})})]})})]})})]})},Wpe=()=>{const e=aA(),{user:t}=hi(),r=new Date().toISOString().slice(0,7),[n,s]=N.useState(!1),a=()=>{Fe.info("Barcode scanning functionality is not yet implemented.")},[o,l]=N.useState(""),[A,d]=N.useState(r),[f,m]=N.useState(null),[y,g]=N.useState([]),[b,C]=N.useState(!1),[F,v]=N.useState(null),[S,I]=N.useState(""),[k,M]=N.useState(null);N.useEffect(()=>{Ue.getBranches().then(g).catch(()=>Fe.error("Failed to load branches"))},[]);const{data:V,isLoading:O}=cl({queryKey:["collections",A,f],queryFn:()=>Ue.getCollections({month:A,branchId:f||void 0})}),{data:R,isLoading:_}=cl({queryKey:["collectionStats",A,f],queryFn:()=>Ue.getCollectionStats({month:A,branchId:f||void 0}),enabled:!!t&&t.role==="admin"}),J=ii({mutationFn:$=>Ue.updateCollectionPayment($.historyId,{amount:$.amount,method:$.method}),onSuccess:()=>{Fe.success("Payment updated successfully"),C(!1),e.invalidateQueries({queryKey:["collections"]}),(t==null?void 0:t.role)==="admin"&&e.invalidateQueries({queryKey:["collectionStats"]})},onError:$=>{Fe.error($.message||"Failed to update payment")}}),U=$=>{v($),I($.dueAmount.toFixed(2)),M(null),C(!0)},Q=()=>{if(!F||!k||!S){Fe.error("Please select a payment method and enter a payment amount");return}const $=parseFloat(S);if(isNaN($)||$<=0||$>F.dueAmount+.01){Fe.error("Invalid payment amount. Cannot be zero or more than the due amount.");return}J.mutate({historyId:F.historyId,amount:$,method:k})},X=(V==null?void 0:V.collections.filter($=>$.name.toLowerCase().includes(o.toLowerCase())))||[],Z=(V==null?void 0:V.collections.length)||0;return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[i.jsx(On,{isCollapsed:n,setIsCollapsed:s,onBarcodeClick:a}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:[i.jsxs(Bn.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4",children:"📊 Collection & Due"}),i.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0",children:[i.jsx("input",{type:"text",placeholder:"Search by student name...",value:o,onChange:$=>l($.target.value),className:"flex-1 p-2 border rounded-md"}),i.jsx("input",{type:"month",value:A,onChange:$=>d($.target.value),className:"p-2 border rounded-md"}),i.jsxs("select",{value:f||"",onChange:$=>m($.target.value?Number($.target.value):null),className:"p-2 border rounded-md",children:[i.jsx("option",{value:"",children:"All Branches"}),y.map($=>i.jsx("option",{value:$.id,children:$.name},$.id))]})]}),(t==null?void 0:t.role)==="admin"&&i.jsxs(Bn.div,{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",initial:{opacity:0},animate:{opacity:1},children:[i.jsx(mm,{title:"Total Students",value:Z,isLoading:O}),i.jsx(mm,{title:"Total Collected",value:R==null?void 0:R.totalPaid,isLoading:_,isCurrency:!0,color:"text-green-600"}),i.jsx(mm,{title:"Total Due",value:R==null?void 0:R.totalDue,isLoading:_,isCurrency:!0,color:"text-red-600"}),i.jsx(mm,{title:"Cash Collected",value:R==null?void 0:R.totalCash,isLoading:_,isCurrency:!0,color:"text-blue-600"}),i.jsx(mm,{title:"Online Collected",value:R==null?void 0:R.totalOnline,isLoading:_,isCurrency:!0,color:"text-purple-600"})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:O?i.jsx("div",{className:"text-center p-8",children:i.jsx(Js,{className:"h-8 w-8 animate-spin mx-auto"})}):i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Student Name"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Branch"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Shift"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Fee"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cash"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Online"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Security"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Paid"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Due"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remark"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:X.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:12,className:"px-4 py-4 text-center text-gray-500",children:"No collections found."})}):X.map($=>{var q;return i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:$.name}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:((q=y.find(W=>W.id===$.branchId))==null?void 0:q.name)||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:$.shiftTitle||"N/A"}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["₹",$.totalFee.toFixed(2)]}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["₹",$.cash.toFixed(2)]}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["₹",$.online.toFixed(2)]}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["₹",$.securityMoney.toFixed(2)]}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:["₹",$.amountPaid.toFixed(2)]}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-bold text-red-600",children:["₹",$.dueAmount.toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-wrap text-sm text-gray-500",children:$.remark||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:$.createdAt?new Date($.createdAt).toLocaleDateString():"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:$.dueAmount>0&&i.jsx("button",{onClick:()=>U($),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Pay Due"})})]},$.historyId)})})]})})]}),b&&F&&i.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Pay Due for ",F.name]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Total Due Amount: ₹",F.dueAmount.toFixed(2)]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Payment Method:"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:k==="cash",onChange:()=>M("cash"),className:"mr-2"}),"Cash"]}),i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:k==="online",onChange:()=>M("online"),className:"mr-2"}),"Online"]})]})]}),i.jsx("input",{type:"number",value:S,onChange:$=>I($.target.value),placeholder:"Enter payment amount",className:"w-full p-2 border rounded-md mb-4",max:F.dueAmount.toString()}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 border rounded-md",children:"Cancel"}),i.jsx("button",{onClick:Q,disabled:J.isPending,className:"px-4 py-2 bg-purple-600 text-white rounded-md disabled:bg-purple-300",children:J.isPending?i.jsx(Js,{className:"h-4 w-4 animate-spin"}):"Submit Payment"})]})]})})]})]})},mm=({title:e,value:t,isLoading:r,isCurrency:n=!1,color:s="text-gray-800"})=>i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500",children:e}),i.jsx("div",{className:`text-xl font-bold ${s}`,children:r?i.jsx(Js,{className:"h-5 w-5 animate-spin"}):n?`₹${(t||0).toFixed(2)}`:t||0})]}),zpe=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState([]),[s,a]=N.useState([]),[o,l]=N.useState([]),[A,d]=N.useState(void 0),[f,m]=N.useState({title:"",amount:"",date:"",remark:"",branchId:""}),[y,g]=N.useState(""),[b,C]=N.useState(!1),[F,v]=N.useState(null),[S,I]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const Z=await Ue.getBranches();console.log("Fetched branches:",Z),l(Array.isArray(Z)?Z:[])}catch(Z){console.error("Failed to fetch branches:",Z),Fe.error("Failed to load branches"),l([])}})()},[]),N.useEffect(()=>{(async()=>{I(!0);try{console.log("Fetching expenses with branchId:",A);const Z=await Ue.getExpenses(A);if(console.log("API response for expenses:",Z),!Z||!Array.isArray(Z.expenses))throw new Error("Invalid API response: expenses is not an array");const $=Z.expenses.map(q=>{const W=parseFloat(String(q.amount));return{id:q.id,title:q.title,amount:isNaN(W)?0:W,date:q.date,remark:q.remark,branchId:q.branchId??null,branchName:q.branchName??null}});console.log("Parsed expenses:",$),n($),a(Array.isArray(Z.products)?Z.products:[])}catch(Z){console.error("Failed to fetch expenses:",Z),Fe.error("Failed to load expenses"),n([]),a([])}finally{I(!1)}})()},[A]),N.useEffect(()=>{var X;if(F){const Z=F.date.includes("T")?F.date.split("T")[0]:F.date,$=s.some(q=>q.name===F.title);m({title:$?F.title:"Other",amount:F.amount.toString(),date:Z,remark:F.remark||"",branchId:((X=F.branchId)==null?void 0:X.toString())||""}),C(!$),g($?"":F.title)}else m({title:"",amount:"",date:"",remark:"",branchId:(A==null?void 0:A.toString())||""}),C(!1),g("")},[F,s,A]);const k=X=>{const{name:Z,value:$}=X.target;Z==="title"&&(C($==="Other"),$!=="Other"&&g("")),m(q=>({...q,[Z]:$}))},M=X=>{g(X.target.value)},V=X=>{const Z=X.target.value?parseInt(X.target.value,10):void 0;d(Z)},O=async()=>{const X=b&&y?y:f.title;if(!X||!f.amount||!f.date){Fe.error("Title, amount, and date are required");return}try{const Z={title:X,amount:f.amount,date:f.date,remark:f.remark,branchId:f.branchId?parseInt(f.branchId,10):null};if(console.log("Submitting expense data:",Z),F){const $=await Ue.updateExpense(F.id,Z),q={...$,amount:parseFloat(String($.amount)),branchId:$.branchId??null,branchName:$.branchName??null};n(W=>W.map(Y=>Y.id===q.id?q:Y)),v(null),Fe.success("Expense updated successfully")}else{const $=await Ue.addExpense(Z),q={...$,amount:parseFloat(String($.amount)),branchId:$.branchId??null,branchName:$.branchName??null};n(W=>[q,...W]),m({title:"",amount:"",date:"",remark:"",branchId:(A==null?void 0:A.toString())||""}),C(!1),g(""),Fe.success("Expense added successfully")}}catch(Z){console.error("Failed to save expense:",Z),Fe.error("Failed to save expense")}},R=X=>{console.log("Editing expense:",X),v(X)},_=async X=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await Ue.deleteExpense(X),n(Z=>Z.filter($=>$.id!==X)),F&&F.id===X&&v(null),Fe.success("Expense deleted successfully")}catch(Z){console.error("Failed to delete expense:",Z),Fe.error("Failed to delete expense")}},J=r.reduce((X,Z)=>{const $=new Date(Z.date);if(isNaN($.getTime()))return console.warn(`Invalid date for expense ${Z.id}: ${Z.date}`),X;const q=$.toLocaleString("default",{month:"long",year:"numeric"});return X[q]||(X[q]=[]),X[q].push(Z),X},{}),U=X=>{try{const Z=new Date(X);return isNaN(Z.getTime())?(console.warn(`Invalid date string: ${X}`),X):X.includes("T")?X.split("T")[0]:X}catch(Z){return console.error("Error formatting date:",X,Z),X}},Q=X=>{if(X.branchName)return X.branchName;if(X.branchId){const Z=o.find($=>$.id===X.branchId);return Z?Z.name:"Global"}return"Global"};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[i.jsx(On,{isCollapsed:e,setIsCollapsed:t}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:S?i.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):i.jsxs(Bn.div,{className:"max-w-4xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx(Bn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-6 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:"💸 Expenses"}),i.jsxs(Bn.div,{className:"bg-white shadow-md rounded-lg p-6 mb-4",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.15},children:[i.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:"Filter by Branch"}),i.jsxs("select",{value:A??"",onChange:V,className:"w-full sm:w-1/3 px-4 py-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"",children:"All Branches"}),o.map(X=>i.jsx("option",{value:X.id.toString(),children:X.name},X.id))]})]}),i.jsxs(Bn.div,{className:"bg-white shadow-md rounded-lg p-6 mb-8",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.15},children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:F?"Edit Expense":"Add New Expense"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4",children:[i.jsxs("select",{name:"title",value:f.title,onChange:k,className:"w-full px-4 py-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"",children:"Select Title"}),s.map(X=>i.jsx("option",{value:X.name,children:X.name},X.id)),i.jsx("option",{value:"Other",children:"Other"})]}),b&&i.jsx("input",{type:"text",name:"customTitle",value:y,onChange:M,placeholder:"Enter custom title",className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),i.jsx("input",{type:"number",name:"amount",value:f.amount,onChange:k,placeholder:"Amount",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),i.jsx("input",{type:"text",name:"remark",value:f.remark,onChange:k,placeholder:"Remark",className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),i.jsx("input",{type:"date",name:"date",value:f.date,onChange:k,className:"w-full px-4 py-2 border border-gray-300 rounded-md"}),i.jsxs("select",{name:"branchId",value:f.branchId,onChange:k,className:"w-full px-4 py-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"",children:"Select Branch (Optional)"}),o.map(X=>i.jsx("option",{value:X.id.toString(),children:X.name},X.id))]})]}),i.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[i.jsx("button",{onClick:O,className:"bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition",children:F?"Update Expense":"Add Expense"}),F&&i.jsx("button",{onClick:()=>v(null),className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition",children:"Cancel"})]})]}),Object.entries(J).sort(([X],[Z])=>new Date(Z).getTime()-new Date(X).getTime()).map(([X,Z],$)=>{const q=Z.reduce((W,Y)=>W+(Y.amount||0),0);return i.jsxs(Bn.div,{className:"mb-8",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2+$*.1},children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:X}),i.jsx("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-gray-100 text-gray-700 font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-3 px-4 text-left",children:"Title"}),i.jsx("th",{className:"py-3 px-4 text-left",children:"Amount"}),i.jsx("th",{className:"py-3 px-4 text-left",children:"Remark"}),i.jsx("th",{className:"py-3 px-4 text-left",children:"Date"}),i.jsx("th",{className:"py-3 px-4 text-left",children:"Branch"}),i.jsx("th",{className:"py-3 px-4 text-left",children:"Actions"})]})}),i.jsx("tbody",{children:Z.map((W,Y)=>i.jsxs(Bn.tr,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.25+Y*.02},className:"hover:bg-gray-50 transition",children:[i.jsx("td",{className:"py-3 px-4 border-b",children:W.title||"Untitled"}),i.jsx("td",{className:"py-3 px-4 border-b",children:(W.amount||0).toFixed(2)}),i.jsx("td",{className:"py-3 px-4 border-b",children:W.remark||"-"}),i.jsx("td",{className:"py-3 px-4 border-b",children:U(W.date)}),i.jsx("td",{className:"py-3 px-4 border-b",children:Q(W)}),i.jsxs("td",{className:"py-3 px-4 border-b",children:[i.jsx("button",{onClick:()=>R(W),className:"text-blue-600 hover:underline mr-2",children:"Edit"}),i.jsx("button",{onClick:()=>_(W.id),className:"text-red-600 hover:underline",children:"Delete"})]})]},W.id))})]})}),i.jsxs("div",{className:"mt-2 text-right font-semibold",children:["Total for ",X,": Rs. ",q.toFixed(2)]})]},X)}),r.length===0&&!S&&i.jsx("div",{className:"p-6 text-center text-gray-500",children:"No expenses found."})]})})]})},$pe=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(new Date().toISOString().slice(0,7)),[s,a]=N.useState(null),[o,l]=N.useState([]),[A,d]=N.useState(null);N.useEffect(()=>{(async()=>{try{const y=await Ue.getBranches();l(y)}catch(y){console.error("Failed to fetch branches:",y),Fe.error("Failed to load branches")}})()},[]);const f=async()=>{try{const m={month:r,branchId:s},y=await Ue.getProfitLoss(m);d(y)}catch(m){console.error("Failed to fetch profit/loss:",m),Fe.error("Failed to load profit/loss data")}};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[i.jsx(On,{isCollapsed:e,setIsCollapsed:t}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:i.jsxs(Bn.div,{className:"max-w-3xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx(Bn.h1,{className:"text-2xl md:text-3xl font-bold mb-6 text-gray-800 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:"📈 Profit & Loss"}),i.jsxs(Bn.div,{className:"bg-white rounded-lg shadow p-6 mb-6",initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},transition:{delay:.15},children:[i.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Month"}),i.jsx("input",{type:"month",id:"month",value:r,onChange:m=>n(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4"}),i.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Branch"}),i.jsxs("select",{id:"branch",value:s||"",onChange:m=>a(m.target.value?Number(m.target.value):null),className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-4",children:[i.jsx("option",{value:"",children:"All Branches"}),o.map(m=>i.jsx("option",{value:m.id,children:m.name},m.id))]}),i.jsx("button",{onClick:f,className:"w-full sm:w-auto bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition",children:"Fetch Report"})]}),A&&i.jsxs(Bn.div,{className:"bg-white p-6 rounded-lg shadow",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:[i.jsxs("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:["Financial Summary for ",A.month]}),i.jsxs("div",{className:"space-y-2 text-sm sm:text-base",children:[i.jsxs("p",{children:["Total Collected: ",i.jsx("span",{className:"font-semibold",children:A.totalCollected.toFixed(2)})]}),i.jsxs("p",{children:["Total Expenses: ",i.jsx("span",{className:"font-semibold",children:A.totalExpenses.toFixed(2)})]}),i.jsxs("p",{className:`font-semibold ${A.profitLoss>=0?"text-green-600":"text-red-600"}`,children:[A.profitLoss>=0?"Profit":"Loss",": ",Math.abs(A.profitLoss).toFixed(2)]})]})]})]})})]})},qpe=()=>{const e=new Date().toISOString().slice(0,7),[t,r]=N.useState(!1),[n,s]=N.useState([]),[a,o]=N.useState(!0),[l,A]=N.useState(null),[d,f]=N.useState(""),[m,y]=N.useState(e),[g,b]=N.useState([]),[C,F]=N.useState(""),[v,S]=N.useState([]),[I,k]=N.useState(!1),[M,V]=N.useState(null),[O,R]=N.useState(""),[_,J]=N.useState("cash"),[U,Q]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const ee=await Ue.getHostelBranches();b(ee||[])}catch(ee){console.error("Failed to fetch branches for filter:",ee),Fe.error("Failed to load branches for filter.")}})()},[]);const X=async(H,ee)=>{o(!0),A(null);try{const ie={};H&&(ie.month=H),ee&&ee!==""&&(ie.branch_id=ee),console.log("[HostelCollectionDue] Fetching collections with params:",ie);const le=await Ue.getHostelCollections(ie);if(console.log("[HostelCollectionDue] API Response (after camelCasing by interceptor):",JSON.stringify(le,null,2)),!le||typeof le!="object")throw console.error("[HostelCollectionDue] Invalid response structure (not an object):",le),new Error("Invalid response structure from server: Response is not an object");if(!Array.isArray(le.collections))throw console.error("[HostelCollectionDue] Invalid response structure (collections not an array):",le),new Error('Invalid response structure from server: Expected "responseData.collections" to be an array');s(le.collections.map(ce=>({historyId:ce.historyId,studentId:ce.studentId,studentName:ce.studentName||null,branchId:ce.branchId||null,branchName:ce.branchName||null,studentPhoneNumber:ce.studentPhoneNumber||null,studentRegistrationNumber:ce.studentRegistrationNumber||null,studentCurrentRoomNumber:ce.studentCurrentRoomNumber||null,studentSecurityMoney:parseFloat(String(ce.studentSecurityMoney||0)),stayStartDate:ce.stayStartDate,stayEndDate:ce.stayEndDate,totalFee:parseFloat(String(ce.totalFee||0)),cashPaid:parseFloat(String(ce.cashPaid||0)),onlinePaid:parseFloat(String(ce.onlinePaid||0)),dueAmount:parseFloat(String(ce.dueAmount||0)),historyRemark:ce.historyRemark||null,historyCreatedAt:ce.historyCreatedAt,historyUpdatedAt:ce.historyUpdatedAt||null})))}catch(ie){console.error("[HostelCollectionDue] Failed to fetch collections:",ie);const le=ie.message||"Failed to load collection data";A(le),s([]),Fe.error(le)}finally{o(!1)}};N.useEffect(()=>{X(m,C)},[m,C]),N.useEffect(()=>{S(n.filter(H=>{const ee=H.studentName??"",ie=H.studentCurrentRoomNumber??"",le=H.studentRegistrationNumber??"",ce=H.studentPhoneNumber??"",me=H.branchName??"",we=d.toLowerCase();return ee.toLowerCase().includes(we)||ie.toLowerCase().includes(we)||le.toLowerCase().includes(we)||me.toLowerCase().includes(we)||ce.includes(we)}))},[n,d]);const Z=v.length,$=v.reduce((H,ee)=>H+ee.cashPaid+ee.onlinePaid,0),q=v.reduce((H,ee)=>H+ee.dueAmount,0),W=v.reduce((H,ee)=>H+ee.cashPaid,0),Y=v.reduce((H,ee)=>H+ee.onlinePaid,0),K=v.reduce((H,ee)=>H+(ee.studentSecurityMoney||0),0),ae=H=>{V(H),R(H.dueAmount>0?H.dueAmount.toFixed(2):""),J("cash"),k(!0)},be=async()=>{if(!M){Fe.error("No collection selected for payment.");return}if(!O){Fe.error("Payment amount is required");return}const H=parseFloat(O);if(isNaN(H)||H<=0){Fe.error("Invalid payment amount. Must be greater than 0.");return}if(H>M.dueAmount+.001){Fe.error(`Payment amount (₹${H.toFixed(2)}) cannot exceed current due amount (₹${M.dueAmount.toFixed(2)}).`);return}Q(!0);try{await Ue.updateHostelCollectionPayment(String(M.historyId),{payment_amount:H,payment_type:_}),Fe.success("Payment updated successfully"),k(!1),V(null),await X(m,C)}catch(ee){console.error("[HostelCollectionDue] Failed to update payment:",ee),Fe.error(ee.message||"Failed to update payment")}finally{Q(!1)}};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[i.jsx(On,{isCollapsed:t,setIsCollapsed:r}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:i.jsxs(Bn.div,{className:"max-w-full mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx(Bn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:"📊 Hostel Collections & Due"}),i.jsx("p",{className:"text-gray-600 mb-6 text-sm md:text-base",children:"View and manage hostel student payment history and dues."}),i.jsxs(Bn.div,{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:[i.jsx("input",{type:"text",placeholder:"Search by Name, Room, Reg No, Phone...",value:d,onChange:H=>f(H.target.value),className:"md:col-span-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base"}),i.jsx("input",{type:"month",value:m,onChange:H=>y(H.target.value),className:"p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base"}),i.jsxs("select",{value:C,onChange:H=>F(H.target.value),className:"p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base",children:[i.jsx("option",{value:"",children:"All Branches"}),g.map(H=>i.jsx("option",{value:H.id,children:H.name},H.id))]})]}),i.jsxs(Bn.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Filtered Records"}),i.jsx("p",{className:"text-xl font-bold text-gray-800",children:Z})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Collected"}),i.jsxs("p",{className:"text-xl font-bold text-green-600",children:["₹",$.toFixed(2)]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Security Money"}),i.jsxs("p",{className:"text-xl font-bold text-orange-600",children:["₹",K.toFixed(2)]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Due"}),i.jsxs("p",{className:"text-xl font-bold text-red-600",children:["₹",q.toFixed(2)]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Cash Collected"}),i.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["₹",W.toFixed(2)]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Online Collected"}),i.jsxs("p",{className:"text-xl font-bold text-purple-600",children:["₹",Y.toFixed(2)]})]})]}),a&&i.jsx("div",{className:"text-center text-gray-500 py-10",children:"Loading collections..."}),l&&!a&&i.jsxs("div",{className:"text-center text-red-500 py-10",children:["Error: ",l]}),!a&&!l&&i.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[i.jsx("thead",{className:"bg-gray-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Student Name"}),i.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Branch"}),i.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Current Room (M)"}),i.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Security Money"})," ",i.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Reg. No"}),i.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Phone"}),i.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Stay Start"}),i.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Stay End"}),i.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Total Fee"}),i.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Cash Paid"}),i.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Online Paid"}),i.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Due Amount"}),i.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Remark (H)"}),i.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Created (H)"}),i.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:15,className:"px-3 py-4 text-center text-gray-500",children:[" ","No collections found for the selected criteria."]})}):v.map(H=>i.jsxs(Bn.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:H.studentName||"N/A"}),i.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:H.branchName||"N/A"}),i.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:H.studentCurrentRoomNumber||"N/A"}),i.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["₹",(H.studentSecurityMoney||0).toFixed(2)]})," ",i.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:H.studentRegistrationNumber||"N/A"}),i.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:H.studentPhoneNumber||"N/A"}),i.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:H.stayStartDate?new Date(H.stayStartDate).toLocaleDateString():"N/A"}),i.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:H.stayEndDate?new Date(H.stayEndDate).toLocaleDateString():"N/A"}),i.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["₹",H.totalFee.toFixed(2)]}),i.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["₹",H.cashPaid.toFixed(2)]}),i.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["₹",H.onlinePaid.toFixed(2)]}),i.jsxs("td",{className:`px-3 py-4 whitespace-nowrap text-right font-semibold ${H.dueAmount>0?"text-red-600":"text-green-600"}`,children:["₹",H.dueAmount.toFixed(2)]}),i.jsx("td",{className:"px-3 py-4 whitespace-nowrap truncate max-w-xs",title:H.historyRemark||"",children:H.historyRemark||"N/A"}),i.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:H.historyCreatedAt?new Date(H.historyCreatedAt).toLocaleString():"N/A"}),i.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:H.dueAmount>0&&i.jsx("button",{onClick:()=>ae(H),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Pay Due"})})]},H.historyId))})]})}),I&&M&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm",children:i.jsxs(Bn.div,{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full m-4",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},children:[i.jsxs("h3",{className:"text-lg font-semibold mb-1 text-gray-800",children:["Pay Due for ",M.studentName||"N/A"]}),i.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Room: ",M.studentCurrentRoomNumber||"N/A"," | Branch: ",M.branchName||"N/A"]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Current Due: ",i.jsxs("span",{className:"font-bold text-red-600",children:["₹",M.dueAmount.toFixed(2)]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount"}),i.jsx("input",{id:"paymentAmount",type:"number",value:O,onChange:H=>R(H.target.value),placeholder:"Enter payment amount",className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400",step:"0.01",min:"0.01",max:M.dueAmount.toString(),required:!0})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"paymentType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Type"}),i.jsxs("select",{id:"paymentType",value:_,onChange:H=>J(H.target.value),className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400",children:[i.jsx("option",{value:"cash",children:"Cash"}),i.jsx("option",{value:"online",children:"Online"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",children:"Cancel"}),i.jsx("button",{type:"button",onClick:be,disabled:U,className:"px-4 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:bg-purple-300",children:U?"Processing...":"Submit Payment"})]})]})})]})})]})},Xpe=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState([]),[s,a]=N.useState(!0),[o,l]=N.useState(null),[A,d]=N.useState(!1),[f,m]=N.useState(null),[y,g]=N.useState(""),[b,C]=N.useState(""),[F,v]=N.useState(""),[S,I]=N.useState(""),[k,M]=N.useState(""),[V,O]=N.useState(""),[R,_]=N.useState(""),[J,U]=N.useState(0),[Q,X]=N.useState(0);N.useEffect(()=>{(async()=>{try{const W=await Ue.getExpiredHostelStudents();if(!W||!Array.isArray(W.expiredStudents))throw new Error("Invalid data structure received from server");n(W.expiredStudents),l(null)}catch(W){console.error("Failed to fetch expired students:",W),l(W.message||"Failed to fetch expired students"),n([]),Fe.error(W.message||"Failed to fetch expired students")}finally{a(!1)}})()},[]),N.useEffect(()=>{const q=parseFloat(S)||0,W=parseFloat(k)||0,Y=q+W,ae=(parseFloat(F)||0)-Y;U(Y),X(ae>=0?ae:0)},[S,k,F]);const Z=q=>{m(q),g(""),C(""),v(""),I(""),M(""),O(""),_(""),d(!0)},$=async()=>{if(!f||!y||!b||!F){Fe.error("Required fields are missing");return}try{await Ue.renewHostelStudent(f.id,{stay_start_date:y,stay_end_date:b,total_fee:parseFloat(F),cash_paid:parseFloat(S)||0,online_paid:parseFloat(k)||0,room_number:V,remark:R}),Fe.success("Student renewed successfully"),d(!1);const q=await Ue.getExpiredHostelStudents();q&&Array.isArray(q.expiredStudents)?n(q.expiredStudents):(n([]),Fe.error("Invalid data structure received after renewal"))}catch(q){Fe.error(q.message||"Failed to renew student")}};return i.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[i.jsx(On,{isCollapsed:e,setIsCollapsed:t}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:s?i.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):o?i.jsx("div",{className:"text-center text-red-500",children:o}):i.jsxs(Bn.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx(Bn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:"⏰ Expired Hostel Memberships"}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aadhar"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Latest End Date"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-4 py-4 text-center text-gray-500",children:"No expired memberships found"})}):r.map(q=>i.jsxs(Bn.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.name||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.phoneNumber||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.aadharNumber||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.latestStayEndDate?new Date(q.latestStayEndDate).toLocaleDateString():"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:i.jsx("button",{onClick:()=>Z(q),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Renew"})})]},q.id))})]})}),A&&f&&i.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Renew Membership for ",f.name]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),i.jsx("input",{type:"date",value:y,onChange:q=>g(q.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),i.jsx("input",{type:"date",value:b,onChange:q=>C(q.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee"}),i.jsx("input",{type:"number",step:"0.01",value:F,onChange:q=>v(q.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Paid"}),i.jsx("input",{type:"number",step:"0.01",value:S,onChange:q=>I(q.target.value),className:"w-full p-2 border rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Paid"}),i.jsx("input",{type:"number",step:"0.01",value:k,onChange:q=>M(q.target.value),className:"w-full p-2 border rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Paid"}),i.jsx("input",{type:"text",value:`₹${J.toFixed(2)}`,disabled:!0,className:"w-full p-2 border rounded-md bg-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),i.jsx("input",{type:"text",value:`₹${Q.toFixed(2)}`,disabled:!0,className:"w-full p-2 border rounded-md bg-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),i.jsx("input",{type:"text",value:V,onChange:q=>O(q.target.value),className:"w-full p-2 border rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),i.jsx("textarea",{value:R,onChange:q=>_(q.target.value),className:"w-full p-2 border rounded-md",rows:3})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[i.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 border rounded-md text-gray-600 hover:bg-gray-100",children:"Cancel"}),i.jsx("button",{onClick:$,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Renew"})]})]})})]})})]})},Ype=()=>{const[e,t]=N.useState([]),[r,n]=N.useState({name:"",code:""}),[s,a]=N.useState(null),[o,l]=N.useState(!1),{refreshUser:A}=hi();N.useEffect(()=>{(async()=>{try{await A();const g=await Ue.getBranches();t(g||[])}catch(g){console.error("Failed to load branches:",g),Fe.error(g.message||"Could not fetch branches"),t([])}})()},[A]);const d=y=>{const{name:g,value:b}=y.target;n(C=>({...C,[g]:b}))},f=async()=>{try{if(await A(),s){const y=await Ue.updateBranch(s.id,r);t(g=>g.map(b=>b.id===y.id?y:b)),a(null)}else{const y=await Ue.addBranch(r);t(g=>[...g,y]),n({name:"",code:""})}Fe.success("Branch saved successfully")}catch(y){console.error("Save error:",y),Fe.error(y.message||"Failed to save branch")}},m=async y=>{if(window.confirm("Are you sure?"))try{await A(),await Ue.deleteBranch(y),t(g=>g.filter(b=>b.id!==y)),Fe.success("Branch deleted")}catch(g){console.error("Delete error:",g),Fe.error(g.message||"Failed to delete branch")}};return i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsx(On,{isCollapsed:o,setIsCollapsed:l,onBarcodeClick:()=>{}}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 sm:mb-6",children:"Manage Branches"}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[i.jsx("input",{name:"name",value:r.name,onChange:d,placeholder:"Branch Name",className:"w-full sm:w-auto flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"}),i.jsx("input",{name:"code",value:r.code,onChange:d,placeholder:"Branch Code",className:"w-full sm:w-auto flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"}),i.jsxs("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s?"Update":"Add"," Branch"]})]})}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-x-auto",children:i.jsxs("table",{className:"w-full min-w-[560px]",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Name"}),i.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Code"}),i.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Actions"})]})}),i.jsx("tbody",{children:e.map(y=>i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{className:"px-4 sm:px-6 py-3",children:y.name}),i.jsx("td",{className:"px-4 sm:px-6 py-3 text-gray-600",children:y.code||"-"}),i.jsx("td",{className:"px-4 sm:px-6 py-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>a(y),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),i.jsx("button",{onClick:()=>m(y.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})})]},y.id))})]})})]})})]})]})},Jpe=()=>{const[e,t]=N.useState([]),[r,n]=N.useState({name:""}),[s,a]=N.useState(null),[o,l]=N.useState(!1),A=()=>{};N.useEffect(()=>{(async()=>{const b=await Ue.getProducts();t(b)})()},[]);const d=g=>{const{name:b,value:C}=g.target;n(F=>({...F,[b]:C}))},f=async()=>{try{if(s){const g=await Ue.updateProduct(s.id,r);t(b=>b.map(C=>C.id===g.id?g:C)),a(null)}else{const g=await Ue.addProduct(r);t(b=>[...b,g]),n({name:""})}Fe.success("Product saved successfully")}catch{Fe.error("Failed to save product")}},m=g=>{a(g),n({name:g.name})},y=async g=>{window.confirm("Are you sure?")&&(await Ue.deleteProduct(g),t(b=>b.filter(C=>C.id!==g)),Fe.success("Product deleted"))};return i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsx(On,{isCollapsed:o,setIsCollapsed:l,onBarcodeClick:A}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 sm:mb-6",children:"Products"}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[i.jsx("input",{name:"name",value:r.name,onChange:d,placeholder:"Product Name",className:"w-full sm:w-auto flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"}),i.jsxs("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s?"Update":"Add"," Product"]})]})}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-x-auto",children:i.jsxs("table",{className:"w-full min-w-[480px]",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Name"}),i.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Actions"})]})}),i.jsx("tbody",{children:e.map(g=>i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{className:"px-4 sm:px-6 py-3",children:g.name}),i.jsx("td",{className:"px-4 sm:px-6 py-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>m(g),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),i.jsx("button",{onClick:()=>y(g.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})})]},g.id))})]})})]})})]})]})},Zpe=()=>{const e=Tr();try{const o=hi();if(!o||!o.user)throw new Error("Auth context is not available")}catch(o){return console.error("Auth context error:",o),Fe.error("Authentication error. Please log in again."),e("/login"),null}const[t,r]=N.useState({totalStudents:0,branches:[],expiredCount:0,totalCollection:0,totalDue:0}),[n,s]=N.useState(!0),a=async()=>{var o;s(!0);try{const[l,A,d,f]=await Promise.all([Ue.getHostelBranches(),Ue.getHostelStudents(),Ue.getExpiredHostelStudents(),Ue.getHostelCollections()]),m=(A??[]).reduce((v,S)=>{const I=S.branchId;return I&&(v[I]=(v[I]||0)+1),v},{}),y=(Array.isArray(l)?l:[]).map(v=>({...v,studentCount:m[v.id]||0})),g=((o=d==null?void 0:d.expiredStudents)==null?void 0:o.length)??0,b=(f==null?void 0:f.collections)??[],C=b.reduce((v,S)=>v+parseFloat(String(S.cashPaid||0))+parseFloat(String(S.onlinePaid||0)),0),F=b.reduce((v,S)=>v+parseFloat(String(S.dueAmount||0)),0);r({totalStudents:Array.isArray(A)?A.length:0,branches:y,expiredCount:g,totalCollection:C,totalDue:F})}catch(l){Fe.error("Failed to load hostel statistics"),console.error("Error fetching hostel stats:",l)}finally{s(!1)}};return N.useEffect(()=>{a()},[]),i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsx(On,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Hostel Dashboard"}),i.jsx("div",{className:"my-8",children:n?i.jsx("div",{className:"text-center p-4 bg-white rounded-lg shadow",children:"Loading hostel stats..."}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[i.jsx(el,{title:"Total Hostel Students",value:t.totalStudents,icon:i.jsx(tc,{className:"h-6 w-6 text-cyan-500"}),iconBgColor:"bg-cyan-100",arrowIcon:i.jsx(Tn,{className:"h-5 w-5 text-cyan-400"})}),i.jsx(gn,{to:"/hostel/collections",className:"block",children:i.jsx(el,{title:"Total Hostel Collection",value:t.totalCollection,icon:i.jsx(Qw,{className:"h-6 w-6 text-green-500"}),iconBgColor:"bg-green-100",arrowIcon:i.jsx(Tn,{className:"h-5 w-5 text-green-400"})})}),i.jsx(gn,{to:"/hostel/collections",className:"block",children:i.jsx(el,{title:"Total Hostel Due",value:t.totalDue,icon:i.jsx(d0,{className:"h-6 w-6 text-red-500"}),iconBgColor:"bg-red-100",arrowIcon:i.jsx(Tn,{className:"h-5 w-5 text-red-400"})})}),i.jsx(gn,{to:"/hostel/expired",className:"block",children:i.jsx(el,{title:"Expired Students",value:t.expiredCount,icon:i.jsx(Du,{className:"h-6 w-6 text-orange-500"}),iconBgColor:"bg-orange-100",arrowIcon:i.jsx(Tn,{className:"h-5 w-5 text-orange-400"})})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:"Branch Details"}),t.branches.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.branches.map(o=>i.jsxs(gn,{to:`/hostel/branches/${o.id}/students`,className:"block p-4 bg-white rounded-lg shadow-md hover:shadow-lg hover:scale-105 transition-all duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-semibold text-lg text-gray-800 truncate",children:o.name}),i.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:i.jsx(SN,{className:"h-5 w-5 text-indigo-500"})})]}),i.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-600",children:[i.jsx(tc,{className:"h-4 w-4 mr-2 text-gray-400"}),i.jsxs("span",{children:[o.studentCount," Students"]})]})]},o.id))}):i.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center text-gray-500",children:"No hostel branches have been added yet."})]})]})})]})})]})]})},ege=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState([]),[s,a]=N.useState(!0),[o,l]=N.useState(null);return N.useEffect(()=>{(async()=>{a(!0),l(null);try{const d=await Ue.getHostelStudents();if(!Array.isArray(d))throw new Error("Invalid data received from server");const f=new Date;f.setHours(0,0,0,0);const m=d.filter(y=>y.stayEndDate?new Date(y.stayEndDate)>=f:!1).map(y=>({id:y.id,name:y.name,phoneNumber:y.studentPhoneNumber||"N/A",branchName:y.branchName||"N/A",stayEndDate:new Date(y.stayEndDate).toLocaleDateString()}));n(m)}catch(d){console.error("Failed to fetch active students:",d);const f=d.message||"Failed to fetch active students";l(f),Fe.error(f)}finally{a(!1)}})()},[]),i.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[i.jsx(On,{isCollapsed:e,setIsCollapsed:t}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:s?i.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):o?i.jsx("div",{className:"text-center text-red-500",children:o}):i.jsxs(Bn.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx(Bn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:"✅ Active Hostel Students"}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Membership End Date"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"px-4 py-4 text-center text-gray-500",children:"No active students found."})}):r.map(A=>i.jsxs(Bn.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.name}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.phoneNumber}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.branchName}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.stayEndDate})]},A.id))})]})})]})})]})},tge=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,a]=N.useState(!1),o=async()=>{try{n(!0);const A=await Ue.getInactiveStudents();t(A.students)}catch(A){console.error("Failed to fetch inactive students:",A.message),Fe.error("Failed to fetch inactive students")}finally{n(!1)}};N.useEffect(()=>{o()},[]);const l=async A=>{if(window.confirm("Are you sure you want to reactivate this student?"))try{await Ue.updateStudentStatus(A,{isActive:!0}),Fe.success("Student activated successfully"),o()}catch(d){console.error("Failed to activate student:",d.message),Fe.error("Failed to activate student")}};return i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(On,{isCollapsed:s,setIsCollapsed:a}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Inactive Students"}),i.jsx("p",{className:"text-gray-500",children:"List of all manually deactivated students."})]}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(ac,{children:[i.jsx(ic,{children:i.jsxs(Zn,{children:[i.jsx(Jt,{children:"Name"}),i.jsx(Jt,{children:"Registration Number"}),i.jsx(Jt,{children:"Phone"}),i.jsx(Jt,{children:"Branch"}),i.jsx(Jt,{children:"Actions"})]})}),i.jsx(oc,{children:r?i.jsx(Zn,{children:i.jsx(Gt,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):e.length>0?e.map(A=>i.jsxs(Zn,{children:[i.jsx(Gt,{children:A.name}),i.jsx(Gt,{children:A.registrationNumber||"N/A"}),i.jsx(Gt,{children:A.phone}),i.jsx(Gt,{children:A.branchName||"N/A"}),i.jsx(Gt,{children:i.jsxs("button",{onClick:()=>l(A.id),className:"flex items-center gap-2 text-green-600 hover:text-green-800 font-semibold p-2",title:"Reactivate Student",children:[i.jsx(b7,{size:18}),i.jsx("span",{children:"Activate"})]})})]},A.id)):i.jsx(Zn,{children:i.jsx(Gt,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No inactive students found."})})})]})})})]})})]})]})},rge=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[s,a]=N.useState(null),[o,l]=N.useState(!0),[A,d]=N.useState(null),[f,m]=N.useState({lockerNumber:"",branchId:null}),[y,g]=N.useState(!1),b=()=>{};N.useEffect(()=>{(async()=>{try{const V=await Ue.getBranches();n(V)}catch(V){Fe.error("Failed to load branches"),console.error("Failed to fetch branches:",V)}finally{l(!1)}})()},[]),N.useEffect(()=>{(async()=>{if(s&&s.value){l(!0);try{const V=await Ue.getLockers(s.value);t(V.lockers)}catch(V){Fe.error("Failed to load lockers for this branch"),console.error("Failed to fetch lockers:",V)}finally{l(!1)}}else t([])})()},[s]);const C=async()=>{if(!f.lockerNumber){Fe.error("Locker number is required");return}if(!s||!s.value){Fe.error("Please select a branch first");return}try{const M=await Ue.createLocker({lockerNumber:f.lockerNumber,branchId:s.value});t(V=>[M.locker,...V]),m({lockerNumber:"",branchId:null}),Fe.success("Locker created successfully")}catch(M){console.error("Failed to create locker:",M),Fe.error(M.message||"Failed to create locker")}},F=async()=>{if(!A||!f.lockerNumber||!f.branchId){Fe.error("Locker number and branch are required");return}try{const M=await Ue.updateLocker(A.id,{lockerNumber:f.lockerNumber,branchId:f.branchId});if(s&&s.value){const V=await Ue.getLockers(s.value);t(V.lockers)}d(null),m({lockerNumber:"",branchId:null}),Fe.success("Locker updated successfully")}catch(M){console.error("Failed to update locker:",M),Fe.error(M.message||"Failed to update locker")}},v=async M=>{if(window.confirm("Are you sure you want to delete this locker? This action cannot be undone."))try{await Ue.deleteLocker(M),t(e.filter(V=>V.id!==M)),Fe.success("Locker deleted successfully")}catch(V){console.error("Failed to delete locker:",V),Fe.error(V.message||"Failed to delete locker")}},S=r.map(M=>({value:M.id,label:M.name})),I=M=>{d(M),m({lockerNumber:M.lockerNumber,branchId:M.branchId||null})},k=()=>{d(null),m({lockerNumber:"",branchId:null})};return i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsx(On,{isCollapsed:y,setIsCollapsed:g,onBarcodeClick:b}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-4 sm:mb-6",children:"Locker Management"}),i.jsxs("div",{className:"mb-6 max-w-sm",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Branch"}),i.jsx(ai,{options:S,value:s,onChange:M=>a(M),placeholder:"Select a branch to view lockers",isClearable:!0})]}),i.jsxs("div",{className:`mb-6 bg-white rounded-lg border border-gray-200 shadow-sm p-4 ${s?"":"opacity-50"}`,children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:A?`Editing Locker: ${A.lockerNumber}`:"Add New Locker"}),i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[i.jsx("input",{type:"text",value:f.lockerNumber,onChange:M=>m(V=>({...V,lockerNumber:M.target.value})),placeholder:"Enter locker number",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",disabled:!s&&!A}),A&&i.jsx("div",{className:"w-full sm:w-48",children:i.jsx(ai,{options:S,value:S.find(M=>M.value===f.branchId),onChange:M=>m(V=>({...V,branchId:(M==null?void 0:M.value)||null}))})}),A?i.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[i.jsxs("button",{onClick:F,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(y7,{size:16,className:"mr-2"})," Save"]}),i.jsxs("button",{onClick:k,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:[i.jsx(AA,{size:16,className:"mr-2"})," Cancel"]})]}):i.jsxs("button",{onClick:C,disabled:!s,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:[i.jsx(Vw,{size:16,className:"mr-2"})," Add Locker"]})]}),!s&&!A&&i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Please select a branch to add a new locker."})]}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-x-auto",children:i.jsxs("table",{className:"w-full min-w-[640px]",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Locker Number"}),i.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Branch"}),i.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Status"}),i.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Assigned Student"}),i.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Actions"})]})}),i.jsx("tbody",{children:o?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"text-center py-4",children:"Loading..."})}):e.length>0?e.map(M=>i.jsxs("tr",{className:"border-t",children:[i.jsx("td",{className:"px-4 sm:px-6 py-4 font-medium",children:M.lockerNumber}),i.jsx("td",{className:"px-4 sm:px-6 py-4 text-gray-600",children:M.branchName}),i.jsx("td",{className:"px-4 sm:px-6 py-4",children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${M.isAssigned?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:M.isAssigned?"Assigned":"Available"})}),i.jsx("td",{className:"px-4 sm:px-6 py-4 text-gray-600",children:M.studentName||"N/A"}),i.jsx("td",{className:"px-4 sm:px-6 py-4",children:i.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[i.jsx("button",{onClick:()=>I(M),className:"text-blue-600 hover:text-blue-800",title:"Edit Locker",children:i.jsx(IN,{size:16})}),i.jsx("button",{onClick:()=>v(M.id),className:"text-red-600 hover:text-red-800",title:"Delete Locker",children:i.jsx(Oo,{size:16})})]})})]},M.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:s?"No lockers found for this branch.":"Please select a branch to view lockers."})})})]})})]})})]})]})},nge=()=>{var ie;const[e,t]=N.useState([]),[r,n]=N.useState(null),[s,a]=N.useState(!0),[o,l]=N.useState(""),[A,d]=N.useState(new Date().toISOString().split("T")[0]),[f,m]=N.useState(!1),[y,g]=N.useState(!1),[b,C]=N.useState(null),[F,v]=N.useState("daily"),[S,I]=N.useState(!1),[k,M]=N.useState({startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[V,O]=N.useState(new Date().toISOString().slice(0,7)),[R,_]=N.useState("all"),[J,U]=N.useState({page:1,limit:50,total:0}),Q=le=>{l(le),U(ce=>({...ce,page:1}))},X=le=>{O(le),U(ce=>({...ce,page:1}))},Z=le=>{v(le),U(ce=>({...ce,page:1}))},$=le=>{_(le),U(ce=>({...ce,page:1}))},q=()=>{l(""),d(new Date().toISOString().split("T")[0]),O(new Date().toISOString().slice(0,7)),_("all"),I(!1),U(le=>({...le,page:1}))};N.useEffect(()=>{Y(),K(),W()},[F,A,V,R,o,J.page]);const W=async()=>{try{const le=await Ue.getLibraryProfile();C({id:le.library.id,library_code:le.library.libraryCode,name:le.library.libraryName})}catch(le){console.error("Error loading library info:",le)}},Y=async()=>{a(!0);try{const le={page:J.page,limit:J.limit,view:F,search:o.trim()};if(F==="daily")S&&k.startDate&&k.endDate?le.date=k.startDate:le.date=A;else if(F==="monthly"){const[me,we]=V.split("-");le.month=parseInt(we),le.year=parseInt(me)}console.log("Loading attendance with filters:",le);const ce=await Ue.fetchAttendance(le);t(ce.attendance||[]),U(me=>{var we;return{...me,total:((we=ce.pagination)==null?void 0:we.totalRecords)||0}})}catch(le){console.error("Error loading attendance:",le),Wt.error(le.message||"Failed to load attendance records"),t([])}finally{a(!1)}},K=async()=>{try{const[le,ce,me]=await Promise.all([Ue.getDashboardStats(),Ue.getTotalStudentsCount().catch(()=>0),Ue.getActiveStudentsCount().catch(()=>0)]);n({totalCollection:le.totalCollection||0,totalDue:le.totalDue||0,totalExpense:le.totalExpense||0,profitLoss:le.profitLoss||0,totalStudents:Number(ce)||0,activeStudents:Number(me)||0,todayAttendance:e.length,monthlyAttendance:e.length})}catch(le){console.error("Error loading stats:",le),n({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0,totalStudents:0,activeStudents:0,todayAttendance:e.length,monthlyAttendance:e.length})}},ae=()=>{g(!0)},be=le=>{if(!le)return"--:--";try{return new Date(le).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}catch{return"--:--"}},H=le=>{try{return new Date(le).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return le}},ee=()=>{const ce=[["Student Name","Registration Number","Phone","Date","First In","Last Out","Total Scans"].join(","),...e.map(ve=>[ve.studentName,ve.registrationNumber,ve.phone,H(ve.date),be(ve.firstIn),be(ve.lastOut),ve.totalScans].join(","))].join(`
`),me=new Blob([ce],{type:"text/csv"}),we=window.URL.createObjectURL(me),Ie=document.createElement("a");Ie.href=we,Ie.download=`attendance-${F}-${A||V}.csv`,Ie.click(),window.URL.revokeObjectURL(we)};return i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(On,{isCollapsed:f,setIsCollapsed:m,onBarcodeClick:ae}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-auto p-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Attendance Management"}),i.jsx("p",{className:"text-blue-100",children:"Monitor and analyze student attendance patterns"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex bg-white/20 backdrop-blur-sm rounded-lg p-1",children:[i.jsxs("button",{onClick:()=>Z("daily"),className:`px-4 py-2 rounded-md transition-all duration-200 flex items-center space-x-2 ${F==="daily"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[i.jsx(jX,{className:"w-4 h-4"}),i.jsx("span",{children:"Daily"})]}),i.jsxs("button",{onClick:()=>Z("monthly"),className:`px-4 py-2 rounded-md transition-all duration-200 flex items-center space-x-2 ${F==="monthly"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[i.jsx(_6,{className:"w-4 h-4"}),i.jsx("span",{children:"Monthly"})]})]}),i.jsxs("button",{onClick:()=>I(!S),className:`bg-white/20 backdrop-blur-sm hover:bg-white/30 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 ${S?"ring-2 ring-white/50":""}`,children:[i.jsx(p7,{className:"w-4 h-4"}),i.jsx("span",{children:"Filters"})]}),i.jsxs("button",{onClick:ee,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2",children:[i.jsx(Hw,{className:"w-4 h-4"}),i.jsx("span",{children:"Export"})]}),i.jsxs("button",{onClick:Y,disabled:s,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 disabled:opacity-50 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2",children:[i.jsx(P5,{className:`w-4 h-4 ${s?"animate-spin":""}`}),i.jsx("span",{children:"Refresh"})]})]})]}),S&&i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 mb-4 border border-white/20",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Search Students"}),i.jsxs("div",{className:"relative",children:[i.jsx(ec,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-blue-200"}),i.jsx("input",{type:"text",placeholder:"Name, phone, or reg. no.",value:o,onChange:le=>Q(le.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),F==="daily"?i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Date Range"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"date",value:k.startDate,onChange:le=>M(ce=>({...ce,startDate:le.target.value})),className:"flex-1 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"}),i.jsx("input",{type:"date",value:k.endDate,onChange:le=>M(ce=>({...ce,endDate:le.target.value})),className:"flex-1 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Select Month"}),i.jsx("input",{type:"month",value:V,onChange:le=>X(le.target.value),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Filter by Status"}),i.jsxs("select",{value:R,onChange:le=>$(le.target.value),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[i.jsx("option",{value:"all",className:"text-gray-800",children:"All Students"}),i.jsx("option",{value:"present",className:"text-gray-800",children:"Present Only"}),i.jsx("option",{value:"absent",className:"text-gray-800",children:"Absent Only"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-blue-100 opacity-0",children:"Action"}),i.jsxs("button",{onClick:Y,className:"w-full bg-white/30 hover:bg-white/40 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[i.jsx(Oi,{className:"w-4 h-4"}),i.jsx("span",{children:"Apply Filters"})]})]})]}),(o||R!=="all")&&i.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:i.jsxs("button",{onClick:q,className:"text-white/80 hover:text-white text-sm flex items-center space-x-1",children:[i.jsx(AA,{className:"w-4 h-4"}),i.jsx("span",{children:"Clear all filters"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Du,{className:"w-8 h-8 text-green-300 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:e.length}),i.jsx("p",{className:"text-blue-100 text-sm",children:F==="daily"?"Present Today":"Monthly Records"})]})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(So,{className:"w-8 h-8 text-blue-300 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:(r==null?void 0:r.totalStudents)||0}),i.jsx("p",{className:"text-blue-100 text-sm",children:"Total Students"})]})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Xs,{className:"w-8 h-8 text-yellow-300 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:e.length>0?be((ie=e[0])==null?void 0:ie.firstIn):"--:--"}),i.jsx("p",{className:"text-blue-100 text-sm",children:"First Check-in"})]})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(C7,{className:"w-8 h-8 text-purple-300 mr-3"}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-bold",children:[r?Math.round(e.length/r.totalStudents*100):0,"%"]}),i.jsx("p",{className:"text-blue-100 text-sm",children:"Attendance Rate"})]})]})})]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:s?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx(P5,{className:"w-8 h-8 animate-spin text-blue-500"}),i.jsx("span",{className:"ml-2 text-gray-600",children:"Loading attendance records..."})]}):e.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(So,{className:"w-4 h-4 mr-2"}),"Student Details"]})}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ko,{className:"w-4 h-4 mr-2"}),"Date"]})}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Xs,{className:"w-4 h-4 mr-2"}),"First In"]})}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Last Out"]})}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(_6,{className:"w-4 h-4 mr-2"}),"Total Scans"]})}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Status"]})})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:e.map((le,ce)=>{var me,we;return i.jsxs("tr",{className:`hover:bg-blue-50 transition-colors duration-150 ${ce%2===0?"bg-white":"bg-gray-50/50"}`,children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white font-semibold text-sm",children:((we=(me=le.studentName)==null?void 0:me.charAt(0))==null?void 0:we.toUpperCase())||"S"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-sm font-semibold text-gray-900",children:le.studentName}),i.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[i.jsx(cA,{className:"w-3 h-3 mr-1"}),le.phone]}),le.registrationNumber&&i.jsxs("div",{className:"text-xs text-gray-400",children:["Reg: ",le.registrationNumber]})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:H(le.date)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:i.jsx(Xs,{className:"w-4 h-4 text-green-600"})}),i.jsx("div",{className:"text-sm font-medium text-gray-900",children:be(le.firstIn)})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-red-100 p-2 rounded-lg mr-3",children:i.jsx(Xs,{className:"w-4 h-4 text-red-600"})}),i.jsx("div",{className:"text-sm font-medium text-gray-900",children:be(le.lastOut)})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[le.totalScans," scans"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${le.lastOut?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:le.lastOut?"Checked Out":"Checked In"})})]},`${le.studentId}-${le.date}`)})})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(d0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No attendance records found"}),i.jsx("p",{className:"text-gray-500",children:o||R!=="all"?"Try adjusting your filters or search terms.":`No attendance records for ${F==="daily"?"this date":"this month"}.`})]})}),J.total>J.limit&&i.jsxs("div",{className:"flex items-center justify-between bg-white px-6 py-3 rounded-lg border border-gray-200",children:[i.jsx("div",{className:"flex items-center text-sm text-gray-700",children:i.jsxs("span",{children:["Showing ",(J.page-1)*J.limit+1," to ",Math.min(J.page*J.limit,J.total)," of ",J.total," results"]})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>U(le=>({...le,page:Math.max(1,le.page-1)})),disabled:J.page===1,className:"p-2 rounded-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx($u,{className:"w-4 h-4"})}),i.jsxs("span",{className:"px-3 py-1 text-sm font-medium text-gray-700",children:["Page ",J.page," of ",Math.ceil(J.total/J.limit)]}),i.jsx("button",{onClick:()=>U(le=>({...le,page:Math.min(Math.ceil(J.total/J.limit),le.page+1)})),disabled:J.page>=Math.ceil(J.total/J.limit),className:"p-2 rounded-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(Tn,{className:"w-4 h-4"})})]})]})]})})]}),b&&y&&i.jsx(ug,{isOpen:y,onClose:()=>g(!1),libraryCode:b.library_code,libraryName:b.name,libraryId:b.id})]})},sge=()=>{const[e,t]=N.useState(null),[r,n]=N.useState(!1),[s,a]=N.useState(!0),[o,l]=N.useState(null);N.useEffect(()=>{A()},[]);const A=async()=>{a(!0),l(null);try{console.log("Testing QR Code Generation..."),console.log("Step 1: Testing API accessibility...");const f=await Ue.getLibraryProfile();if(console.log("API Response:",f),!f||!f.library)throw new Error("No library data received from API");console.log("Step 2: Checking library data structure...");const m=f.library;if(!m.id||!m.libraryCode||!m.libraryName)throw new Error(`Missing required library fields: ${JSON.stringify(m)}`);console.log("Step 3: Setting library data for QR generation..."),t({id:m.id,library_code:m.libraryCode,name:m.libraryName}),console.log("QR Code test completed successfully!"),Wt.success("QR Code generation test passed!")}catch(f){console.error("QR Code test failed:",f),l(f.message||"Failed to load library information"),Wt.error(`QR Code test failed: ${f.message}`)}finally{a(!1)}},d=()=>{if(!e){Wt.error("Library information not available");return}n(!0)};return i.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-md mx-auto",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx(Qc,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"QR Code Test"}),i.jsx("p",{className:"text-gray-600",children:"Testing QR code generation functionality"})]}),s&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Testing QR code generation..."})]}),o&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(ci,{className:"w-5 h-5 text-red-500 mr-2"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-red-800",children:"Test Failed"}),i.jsx("p",{className:"text-sm text-red-600 mt-1",children:o})]})]}),i.jsx("button",{onClick:A,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry Test"})]}),e&&!s&&!o&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Hl,{className:"w-5 h-5 text-green-500 mr-2"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-green-800",children:"Test Passed"}),i.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Library data loaded successfully"})]})]})}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Library Information:"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"ID:"})," ",e.id]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Code:"})," ",e.library_code]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Name:"})," ",e.name]})]})]}),i.jsxs("button",{onClick:d,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[i.jsx(Qc,{className:"w-4 h-4 mr-2"}),"Generate QR Code"]})]}),e&&r&&i.jsx(ug,{isOpen:r,onClose:()=>n(!1),libraryCode:e.library_code,libraryName:e.name,libraryId:e.id})]})},age=()=>new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},document.body.appendChild(t)}),ige=()=>{Tr();const{user:e}=hi(),[t,r]=N.useState(null),[n,s]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const f=await Pn.get("/api/subscriptions/status");r(f.data.subscription)}catch(f){console.error("Error fetching subscription info:",f)}finally{s(!1)}})()},[]);const a=async(d,f)=>{try{if((await Pn.post("/api/subscriptions/verify-payment",{razorpay_order_id:d.razorpay_order_id,razorpay_payment_id:d.razorpay_payment_id,razorpay_signature:d.razorpay_signature,planId:f.id})).data.success){const y=await Pn.get("/api/subscriptions/status");r(y.data.subscription),alert("Payment successful! Your subscription has been activated.")}else alert("Payment verification failed. Please contact support.")}catch(m){console.error("Error verifying payment:",m),alert("Error verifying payment. Please contact support.")}},o=async d=>{if(!await age()){alert("Failed to load Razorpay. Please check your internet connection.");return}try{const m=await Pn.post("/api/subscriptions/create-order",{planId:d.id,amount:d.amount}),y={key:"rzp_live_R9JUr6fbSLyOOM",amount:m.data.amount,currency:"INR",name:"StudyLib",description:`Subscription for ${d.name}`,order_id:m.data.id,handler:async function(b){await a(b,d)},prefill:{name:(e==null?void 0:e.username)||"",email:"",contact:""},notes:{plan_id:d.id},theme:{color:"#6366f1"}};new window.Razorpay(y).open()}catch(m){console.error("Error creating Razorpay order:",m),alert("Error initiating payment. Please try again.")}},l=d=>{if(!t||t.plan!==d)return!1;const f=t.endDate?new Date(t.endDate):null,m=new Date;return!!t.isActive&&!!f&&f.getTime()>m.getTime()},A=[{id:"free_trial",name:"Free Trial Plan",description:"Kickstart Your Journey – 7 Days Free",price:"₹0",amount:0,features:["Full access to all features","Manage unlimited students","Track attendance","Generate reports"],cta:"Current Plan",isCurrent:l("free_trial"),disabled:!0},{id:"1_month",name:"1-Month Plan",description:"One Month to Build a Routine",price:"₹300",amount:3e4,features:["Unlimited student addition","All library management features","Priority support","No restrictions"],cta:"Start My Focus Journey",isCurrent:l("1_month"),disabled:!1},{id:"3_month",name:"3-Month Plan",description:"Stay Focused for 90 Days",price:"₹850",amount:85e3,features:["Unlimited students","All features included","Discounted rate","Priority support"],cta:"I'm In – Let's Go",isCurrent:l("3_month"),disabled:!1},{id:"6_month",name:"6-Month Plan",description:"Make This Your Growth Phase",price:"₹1600",amount:16e4,features:["Great value package","All premium features","Extended support","Best for growing libraries"],cta:"Fuel My Discipline",isCurrent:l("6_month"),disabled:!1},{id:"12_month",name:"12-Month Plan",description:"All In for the Year",price:"₹3000",amount:3e5,features:["Best ;-) value","All features unlocked","24/7 priority support","Focus for the long term"],cta:"Commit to Success",isCurrent:l("12_month"),disabled:!1},{id:"1_day",name:"1-Day Plan",description:"Full access for 24 hours",price:"₹10",amount:1e3,features:["All features for 1 day","Great for quick needs","Priority support"],cta:"Get 1 Day Access",isCurrent:l("1_day"),disabled:!1}];return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading subscription details..."})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Subscription Plans"}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Choose a plan that fits your library's growth journey"})]}),(e==null?void 0:e.is_trial)&&(t==null?void 0:t.daysLeft)!==null&&(t==null?void 0:t.daysLeft)>0&&i.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-8 text-center",children:i.jsxs("p",{className:"font-bold",children:["🟢 7-Day Free Trial Active – ",t.daysLeft," Days Left"]})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-10 text-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Most people don't finish what they start. Not you."}),i.jsx("p",{className:"text-gray-600",children:"This subscription isn't just a payment — it's your decision to run things smarter. And it starts now."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[A.map(d=>i.jsx("div",{className:`bg-white rounded-xl shadow-lg overflow-hidden border-2 ${d.isCurrent?"border-purple-500":"border-gray-200"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:d.name}),i.jsx("p",{className:"text-gray-600 mb-4",children:d.description}),i.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-4",children:d.price}),i.jsx("ul",{className:"space-y-2 mb-6",children:d.features.map((f,m)=>i.jsxs("li",{className:"flex items-center",children:[i.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-gray-700",children:f})]},m))}),i.jsx("button",{onClick:()=>o(d),disabled:d.disabled||d.isCurrent,className:`w-full py-3 px-4 rounded-lg font-semibold transition-colors ${d.isCurrent?"bg-gray-200 text-gray-700 cursor-default":d.disabled?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600"}`,children:d.isCurrent?"Current Plan":d.cta})]})},d.id)),i.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border-2 border-gray-200",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"9-Month Plan"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"The Transformation Period"}),i.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-4",children:"₹2200"}),i.jsxs("ul",{className:"space-y-2 mb-6",children:[i.jsxs("li",{className:"flex items-center",children:[i.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-gray-700",children:"All premium features"})]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-gray-700",children:"Best value for serious libraries"})]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-gray-700",children:"Extended support period"})]})]}),(()=>{const d=l("9_month");return i.jsx("button",{onClick:()=>o({id:"9_month",name:"9-Month Plan",amount:22e4}),disabled:d,className:`w-full py-3 px-4 rounded-lg font-semibold transition-colors ${d?"bg-gray-200 text-gray-700 cursor-default":"bg-gradient-to-r from-blue-500 to-green-500 text-white hover:from-blue-600 hover:to-green-600"}`,children:d?"Current Plan":"Transform My Library"})})()]})})]}),i.jsxs("div",{className:"mt-10 text-center",children:[i.jsx("p",{className:"text-gray-600 mb-2",children:'"Just ₹10/day to manage your study space professionally."'}),i.jsx("p",{className:"text-gray-600",children:'"Join 300+ libraries building distraction-free environments."'})]})]})})},oge=()=>{const e=Tr(),[t,r]=N.useState({ownerName:"",ownerEmail:"",ownerPhone:"",libraryName:"",password:"",confirmPassword:"",libraryCode:""}),[n,s]=N.useState(!1),[a,o]=N.useState(!1),[l,A]=N.useState(!1),[d,f]=N.useState(null),[m,y]=N.useState(!1),g=F=>{const{name:v,value:S}=F.target;r(I=>({...I,[v]:S})),v==="libraryCode"&&f(null)},b=async()=>{if(!t.libraryCode||t.libraryCode.length<3){f(null);return}y(!0);try{const v=await(await ga(`/owner-auth/check-code/${t.libraryCode}`)).json();f(v.available)}catch(F){console.error("Error checking library code:",F),Wt.error("Error checking library code availability")}finally{y(!1)}},C=async F=>{if(F.preventDefault(),!t.ownerName||!t.ownerEmail||!t.ownerPhone||!t.libraryName||!t.password||!t.confirmPassword){Wt.error("All fields are required");return}if(t.password!==t.confirmPassword){Wt.error("Passwords do not match");return}if(t.password.length<6){Wt.error("Password must be at least 6 characters long");return}if(t.ownerPhone.length!==10||!/^\d+$/.test(t.ownerPhone)){Wt.error("Phone number must be exactly 10 digits");return}if(t.libraryCode&&d===!1){Wt.error("Library code is not available. Please choose a different one.");return}A(!0);try{const v=await ga("/owner-auth/register",{method:"POST",body:JSON.stringify(t)}),S=await v.json();v.ok?(Wt.success("Registration successful! Please login with your credentials."),e("/owner-login")):Wt.error(S.message||"Registration failed")}catch(v){console.error("Registration error:",v),Wt.error("Network error. Please try again.")}finally{A(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-purple-600 to-orange-400 rounded-full flex items-center justify-center mb-4",children:i.jsx(Zl,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Register Your Library"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Create an account to manage your library"})]}),i.jsxs("form",{onSubmit:C,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Name *"}),i.jsxs("div",{className:"relative",children:[i.jsx(So,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",name:"ownerName",value:t.ownerName,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ru,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"email",name:"ownerEmail",value:t.ownerEmail,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),i.jsxs("div",{className:"relative",children:[i.jsx(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"tel",name:"ownerPhone",value:t.ownerPhone,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Name *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",name:"libraryName",value:t.libraryName,onChange:g,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your library name",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code *"}),i.jsxs("div",{className:"relative",children:[i.jsx(m7,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",name:"libraryCode",value:t.libraryCode,onChange:g,onBlur:b,className:`w-full pl-10 pr-20 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${d===!0?"border-green-300":d===!1?"border-red-300":"border-gray-300"}`,placeholder:"Leave empty to auto-generate",maxLength:20}),m&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"})}),!m&&d===!0&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-600 text-sm",children:"✓ Available"}),!m&&d===!1&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-red-600 text-sm",children:"✗ Taken"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students will use this code to log in. If left empty, we'll generate one for you."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:n?"text":"password",name:"password",value:t.password,onChange:g,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter password (min 6 characters)",required:!0}),i.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?i.jsx(A0,{className:"w-5 h-5"}):i.jsx(Oi,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:a?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:g,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm your password",required:!0}),i.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?i.jsx(A0,{className:"w-5 h-5"}):i.jsx(Oi,{className:"w-5 h-5"})})]})]}),i.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:l?"Creating Account...":"Register Library"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",i.jsx(gn,{to:"/owner-login",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Sign in here"})]})}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx(gn,{to:"/student-login",className:"text-sm text-gray-500 hover:text-gray-700",children:"Student Login →"})})]})})},lge=({onBack:e,mode:t})=>{const[r,n]=N.useState("verify"),[s,a]=N.useState(!1),[o,l]=N.useState({email:"",phone:"",libraryCode:""}),[A,d]=N.useState({newPassword:"",confirmPassword:""}),f=async y=>{y.preventDefault(),a(!0);try{let g;t==="owner"?g=await ga("/owner-auth/forgot-password/verify",{method:"POST",body:JSON.stringify({email:o.email,phone:o.phone})}):g=await ga("/auth/forgot-password/verify",{method:"POST",body:JSON.stringify({email:o.email,phone:o.phone,libraryCode:o.libraryCode})});const b=await g.json();g.ok?(Wt.success("Account verified! You can now reset your password."),n("reset")):Wt.error(b.message||"Verification failed")}catch(g){console.error("Verification error:",g),Wt.error("Network error. Please try again.")}finally{a(!1)}},m=async y=>{if(y.preventDefault(),A.newPassword!==A.confirmPassword){Wt.error("Passwords do not match");return}if(A.newPassword.length<6){Wt.error("Password must be at least 6 characters long");return}a(!0);try{let g;t==="owner"?g=await ga("/owner-auth/forgot-password/reset",{method:"POST",body:JSON.stringify(A)}):g=await ga("/auth/forgot-password/reset",{method:"POST",body:JSON.stringify(A)});const b=await g.json();g.ok?(Wt.success("Password reset successfully! You can now log in."),e()):Wt.error(b.message||"Password reset failed")}catch(g){console.error("Password reset error:",g),Wt.error("Network error. Please try again.")}finally{a(!1)}};return i.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-purple-600 to-orange-400 rounded-full flex items-center justify-center mb-4",children:i.jsx(Nu,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r==="verify"?"Forgot Password":"Reset Password"}),i.jsx("p",{className:"text-gray-600 mt-2",children:r==="verify"?`Verify your ${t==="owner"?"owner":"staff"} account`:"Enter your new password"})]}),r==="verify"?i.jsxs("form",{onSubmit:f,className:"space-y-6",children:[t==="user"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",value:o.libraryCode,onChange:y=>l(g=>({...g,libraryCode:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter library code",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ru,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"email",value:o.email,onChange:y=>l(g=>({...g,email:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email address",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),i.jsxs("div",{className:"relative",children:[i.jsx(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"tel",value:o.phone,onChange:y=>l(g=>({...g,phone:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your phone number",required:!0})]})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:s?"Verifying...":"Verify Account"})]}):i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"password",value:A.newPassword,onChange:y=>d(g=>({...g,newPassword:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter new password",required:!0,minLength:6})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"password",value:A.confirmPassword,onChange:y=>d(g=>({...g,confirmPassword:y.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm new password",required:!0,minLength:6})]})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:s?"Resetting Password...":"Reset Password"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("button",{onClick:e,className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-medium",children:[i.jsx(Po,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})},cge=()=>{const e=Tr(),{login:t}=hi(),[r,n]=N.useState("owner"),[s,a]=N.useState(!1),[o,l]=N.useState({phone:"",password:""}),[A,d]=N.useState({username:"",password:"",libraryCode:""}),[f,m]=N.useState(!1),[y,g]=N.useState(!1),[b,C]=N.useState(!1),F=S=>{const{name:I,value:k}=S.target;l(M=>({...M,[I]:k}))},v=async S=>{if(S.preventDefault(),r==="owner"){if(!o.phone||!o.password){Wt.error("Phone number and password are required");return}g(!0);try{const I=await ga("/owner-auth/login",{method:"POST",body:JSON.stringify(o)}),k=await I.json();I.ok?(Wt.success("Login successful!"),t(k.owner),e("/dashboard"),setTimeout(()=>window.location.reload(),500)):Wt.error(k.message||"Login failed")}catch(I){console.error("Login error:",I),Wt.error("Network error. Please try again.")}finally{g(!1)}}else{if(!A.username||!A.password){Wt.error("Username and password are required");return}C(!0);try{const I=await Ue.login({username:A.username,password:A.password,libraryCode:A.libraryCode});I&&(Wt.success("Login successful!"),t({...I,permissions:I.permissions||[]}),e("/dashboard"),setTimeout(()=>window.location.reload(),300))}catch(I){Wt.error((I==null?void 0:I.message)||"Login failed")}finally{C(!1)}}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center p-4",children:s?i.jsx(lge,{mode:r,onBack:()=>a(!1)}):i.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-purple-600 to-orange-400 rounded-full flex items-center justify-center mb-4",children:i.jsx(Zl,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sign In"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Owner or Staff/Admin"})]}),i.jsxs("div",{className:"flex mb-6 p-1 bg-gray-100 rounded-lg",children:[i.jsx("button",{type:"button",onClick:()=>n("owner"),className:`flex-1 py-2 rounded-md text-sm font-medium ${r==="owner"?"bg-white shadow border border-gray-200":"text-gray-600"}`,children:"Owner"}),i.jsx("button",{type:"button",onClick:()=>n("user"),className:`flex-1 py-2 rounded-md text-sm font-medium ${r==="user"?"bg-white shadow border border-gray-200":"text-gray-600"}`,children:"Staff / Admin"})]}),i.jsx("form",{onSubmit:v,className:"space-y-6",children:r==="owner"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ru,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:F,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your phone number",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:f?"text":"password",name:"password",value:o.password,onChange:F,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),i.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?i.jsx(A0,{className:"w-5 h-5"}):i.jsx(Oi,{className:"w-5 h-5"})})]})]}),i.jsx("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:y?"Signing In...":"Sign In as Owner"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",name:"libraryCode",value:A.libraryCode,onChange:S=>d(I=>({...I,libraryCode:S.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter library code",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ru,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",name:"username",value:A.username,onChange:S=>d(I=>({...I,username:S.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter username",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:f?"text":"password",name:"user_password",value:A.password,onChange:S=>d(I=>({...I,password:S.target.value})),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),i.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?i.jsx(A0,{className:"w-5 h-5"}):i.jsx(Oi,{className:"w-5 h-5"})})]})]}),i.jsx("button",{type:"submit",disabled:b,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:b?"Signing In...":"Sign In as Staff/Admin"})]})}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx("button",{onClick:()=>a(!0),className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"Forgot Password?"})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",i.jsx(gn,{to:"/owner-register",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Register your library"})]})}),i.jsx("div",{className:"mt-4 text-center",children:i.jsx(gn,{to:"/student-login",className:"text-sm text-gray-500 hover:text-gray-700",children:"Student Login →"})})]})})},Age=()=>{const e=Tr(),[t,r]=N.useState({libraryCode:"",phone:"",password:""}),[n,s]=N.useState(!1),[a,o]=N.useState(!1),l=d=>{const{name:f,value:m}=d.target;r(y=>({...y,[f]:f==="libraryCode"?m.toUpperCase():m}))},A=async d=>{if(d.preventDefault(),!t.libraryCode||!t.phone||!t.password){Wt.error("All fields are required");return}if(t.phone.length!==10||!/^\d+$/.test(t.phone)){Wt.error("Phone number must be exactly 10 digits");return}o(!0);try{const f=await ga("/student-auth/login",{method:"POST",body:JSON.stringify({libraryCode:t.libraryCode,phone:t.phone,password:t.password})}),m=await f.json();f.ok?(Wt.success(`Welcome, ${m.student.name}!`),e("/student-dashboard")):Wt.error(m.message||"Login failed")}catch(f){console.error("Student login error:",f),Wt.error("Network error. Please try again.")}finally{o(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center mb-4",children:i.jsx(g7,{className:"w-8 h-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Login"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Access your library account"})]}),i.jsxs("form",{onSubmit:A,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code"}),i.jsxs("div",{className:"relative",children:[i.jsx(m7,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"text",name:"libraryCode",value:t.libraryCode,onChange:l,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent uppercase",placeholder:"Enter library code",maxLength:20,required:!0})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ask your library for the library code"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),i.jsxs("div",{className:"relative",children:[i.jsx(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:l,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number",maxLength:10,required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),i.jsx("input",{type:n?"text":"password",name:"password",value:t.password,onChange:l,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),i.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?i.jsx(A0,{className:"w-5 h-5"}):i.jsx(Oi,{className:"w-5 h-5"})})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your password is the same as your phone number"})]}),i.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-medium hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:a?"Signing In...":"Sign In"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("p",{className:"text-gray-600 text-sm",children:"Don't have an account? Contact your library to get registered."})}),i.jsxs("div",{className:"mt-4 text-center space-y-2",children:[i.jsx(gn,{to:"/owner-login",className:"block text-sm text-gray-500 hover:text-gray-700",children:"Library Owner Login →"}),i.jsx(gn,{to:"/",className:"block text-sm text-gray-500 hover:text-gray-700",children:"← Register Library"})]})]})})},Jb=N.forwardRef(({studentId:e,studentName:t,className:r="",variant:n="default",children:s},a)=>{const[o,l]=N.useState(!1),A=N.useRef(null),d=a||A,f=N.useCallback(async()=>{const b=d.current;if(!b)throw new Error("No content to generate PDF from");try{const C=b.cloneNode(!0);C.style.position="absolute",C.style.left="-9999px",C.style.top="0",document.body.appendChild(C);const F=await t3(C,{scale:2,useCORS:!0,logging:!0,backgroundColor:"#ffffff",allowTaint:!0,imageTimeout:15e3,onclone:J=>{const U=Array.from(J.images);return U.length>0?Promise.all(U.map(Q=>Q.complete?Promise.resolve():new Promise(X=>{Q.onload=X,Q.onerror=X}))):Promise.resolve()}});if(document.body.removeChild(C),!F)throw new Error("Failed to capture content");const v=F.toDataURL("image/png");if(!v||v==="data:,")throw new Error("Failed to generate image data from content");const S=new rr("p","mm","a4"),I=S.internal.pageSize.getWidth(),k=S.internal.pageSize.getHeight(),M=I/F.width,V=k/F.height,O=Math.min(M,V,1),R=(I-F.width*O)/2,_=10;try{S.addImage(v,"PNG",R,_,F.width*O,F.height*O,void 0,"FAST")}catch(J){throw console.error("Error adding image to PDF:",J),new Error("Failed to add content to PDF. The content might contain unsupported elements.")}return S}catch(C){throw console.error("Error generating PDF:",C),C}},[d]),m=N.useCallback(async()=>{if(!o){l(!0);try{const b=await f();if(!b)return;const C=`invoice_${t.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;b.save(C),Fe.success("Invoice downloaded as PDF!")}catch(b){console.error("Error generating PDF:",b),Fe.error(b instanceof Error?b.message:"Failed to generate PDF")}finally{l(!1)}}},[f,o,t]),y=bO.useReactToPrint({pageContent:()=>d.current||null,onAfterPrint:()=>{l(!1),Fe.success("Invoice printed successfully!")},onBeforeGetContent:async()=>(l(!0),new Promise(b=>{setTimeout(b,500)})),onBeforePrint:()=>new Promise(b=>{setTimeout(b,500)}),pageStyle:`
      @page { 
        size: A4;
        margin: 10mm;
      }
      @media print {
        body { 
          -webkit-print-color-adjust: exact; 
        }
        .no-print, .print-hide { 
          display: none !important; 
        }
      }
    `,documentTitle:`Invoice_${t}_${new Date().toISOString().split("T")[0]}`,removeAfterPrint:!1,onPrintError:b=>{console.error("Print error:",b),l(!1),Fe.error("Failed to print. Please try again.")}}),g=n==="text"?"text-blue-600 hover:text-blue-800 hover:bg-blue-50 px-2 py-1 rounded":"px-3 py-1.5 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500";return i.jsxs("div",{className:r,children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:m,disabled:o,className:`inline-flex items-center ${g} disabled:opacity-50`,type:"button",children:[i.jsx(Hw,{className:"h-4 w-4 mr-1.5"}),o?"Generating...":n==="text"?"Download":"Download Invoice"]}),i.jsxs("button",{onClick:y,disabled:o,className:`inline-flex items-center ${g} disabled:opacity-50`,type:"button",children:[i.jsx(FN,{className:"h-4 w-4 mr-1.5"}),n==="text"?"Print":"Print Invoice"]})]}),i.jsx("div",{className:"hidden",children:i.jsx("div",{ref:A,className:"p-6 bg-white",children:s})})]})});var kt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(kt||(kt={}));var j8=new Map([[kt.QR_CODE,"QR_CODE"],[kt.AZTEC,"AZTEC"],[kt.CODABAR,"CODABAR"],[kt.CODE_39,"CODE_39"],[kt.CODE_93,"CODE_93"],[kt.CODE_128,"CODE_128"],[kt.DATA_MATRIX,"DATA_MATRIX"],[kt.MAXICODE,"MAXICODE"],[kt.ITF,"ITF"],[kt.EAN_13,"EAN_13"],[kt.EAN_8,"EAN_8"],[kt.PDF_417,"PDF_417"],[kt.RSS_14,"RSS_14"],[kt.RSS_EXPANDED,"RSS_EXPANDED"],[kt.UPC_A,"UPC_A"],[kt.UPC_E,"UPC_E"],[kt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),T8;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(T8||(T8={}));function uge(e){return Object.values(kt).includes(e)}var Zy;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Zy||(Zy={}));var dge=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Zy.SCAN_TYPE_CAMERA,Zy.SCAN_TYPE_FILE],e}(),uU=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!j8.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,j8.get(t))},e}(),L8=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),J4;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(J4||(J4={}));var hge=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:J4.UNKWOWN_ERROR}},e}(),fge=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Ic(e){return typeof e>"u"||e===null}var bf=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),dU=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),o=Object.keys(t),l=0,A=o;l<A.length;l++){var d=A[l];if(a.has(d))return r.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},e}(),Z4={exports:{}};(function(e,t){(function(r,n){n(t)})(Yh,function(r){function n(re){return re==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,c){re.__proto__=c}||function(re,c){for(var u in c)c.hasOwnProperty(u)&&(re[u]=c[u])};function a(re,c){s(re,c);function u(){this.constructor=re}re.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}function o(re,c){var u=Object.setPrototypeOf;u?u(re,c):re.__proto__=c}function l(re,c){c===void 0&&(c=re.constructor);var u=Error.captureStackTrace;u&&u(re,c)}var A=function(re){a(c,re);function c(u){var h=this.constructor,p=re.call(this,u)||this;return Object.defineProperty(p,"name",{value:h.name,enumerable:!1}),o(p,h.prototype),l(p),p}return c}(Error);class d extends A{constructor(c=void 0){super(c),this.message=c}getKind(){return this.constructor.kind}}d.kind="Exception";class f extends d{}f.kind="ArgumentException";class m extends d{}m.kind="IllegalArgumentException";class y{constructor(c){if(this.binarizer=c,c===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(c,u){return this.binarizer.getBlackRow(c,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(c,u,h,p){const x=this.binarizer.getLuminanceSource().crop(c,u,h,p);return new y(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new y(this.binarizer.createBinarizer(c))}rotateCounterClockwise45(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new y(this.binarizer.createBinarizer(c))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class g extends d{static getChecksumInstance(){return new g}}g.kind="ChecksumException";class b{constructor(c){this.source=c}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(c,u,h,p,x){for(;x--;)h[p++]=c[u++]}static currentTimeMillis(){return Date.now()}}class F extends d{}F.kind="IndexOutOfBoundsException";class v extends F{constructor(c=void 0,u=void 0){super(u),this.index=c,this.message=u}}v.kind="ArrayIndexOutOfBoundsException";class S{static fill(c,u){for(let h=0,p=c.length;h<p;h++)c[h]=u}static fillWithin(c,u,h,p){S.rangeCheck(c.length,u,h);for(let x=u;x<h;x++)c[x]=p}static rangeCheck(c,u,h){if(u>h)throw new m("fromIndex("+u+") > toIndex("+h+")");if(u<0)throw new v(u);if(h>c)throw new v(h)}static asList(...c){return c}static create(c,u,h){return Array.from({length:c}).map(x=>Array.from({length:u}).fill(h))}static createInt32Array(c,u,h){return Array.from({length:c}).map(x=>Int32Array.from({length:u}).fill(h))}static equals(c,u){if(!c||!u||!c.length||!u.length||c.length!==u.length)return!1;for(let h=0,p=c.length;h<p;h++)if(c[h]!==u[h])return!1;return!0}static hashCode(c){if(c===null)return 0;let u=1;for(const h of c)u=31*u+h;return u}static fillUint8Array(c,u){for(let h=0;h!==c.length;h++)c[h]=u}static copyOf(c,u){return c.slice(0,u)}static copyOfUint8Array(c,u){if(c.length<=u){const h=new Uint8Array(u);return h.set(c),h}return c.slice(0,u)}static copyOfRange(c,u,h){const p=h-u,x=new Int32Array(p);return C.arraycopy(c,u,x,0,p),x}static binarySearch(c,u,h){h===void 0&&(h=S.numberComparator);let p=0,x=c.length-1;for(;p<=x;){const w=x+p>>1,E=h(u,c[w]);if(E>0)p=w+1;else if(E<0)x=w-1;else return w}return-p-1}static numberComparator(c,u){return c-u}}class I{static numberOfTrailingZeros(c){let u;if(c===0)return 32;let h=31;return u=c<<16,u!==0&&(h-=16,c=u),u=c<<8,u!==0&&(h-=8,c=u),u=c<<4,u!==0&&(h-=4,c=u),u=c<<2,u!==0&&(h-=2,c=u),h-(c<<1>>>31)}static numberOfLeadingZeros(c){if(c===0)return 32;let u=1;return c>>>16||(u+=16,c<<=16),c>>>24||(u+=8,c<<=8),c>>>28||(u+=4,c<<=4),c>>>30||(u+=2,c<<=2),u-=c>>>31,u}static toHexString(c){return c.toString(16)}static toBinaryString(c){return String(parseInt(String(c),2))}static bitCount(c){return c=c-(c>>>1&1431655765),c=(c&858993459)+(c>>>2&858993459),c=c+(c>>>4)&252645135,c=c+(c>>>8),c=c+(c>>>16),c&63}static truncDivision(c,u){return Math.trunc(c/u)}static parseInt(c,u=void 0){return parseInt(c,u)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(c,u){c===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=c,u==null?this.bits=k.makeArray(c):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(c){if(c>this.bits.length*32){const u=k.makeArray(c);C.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(c){return(this.bits[Math.floor(c/32)]&1<<(c&31))!==0}set(c){this.bits[Math.floor(c/32)]|=1<<(c&31)}flip(c){this.bits[Math.floor(c/32)]^=1<<(c&31)}getNextSet(c){const u=this.size;if(c>=u)return u;const h=this.bits;let p=Math.floor(c/32),x=h[p];x&=~((1<<(c&31))-1);const w=h.length;for(;x===0;){if(++p===w)return u;x=h[p]}const E=p*32+I.numberOfTrailingZeros(x);return E>u?u:E}getNextUnset(c){const u=this.size;if(c>=u)return u;const h=this.bits;let p=Math.floor(c/32),x=~h[p];x&=~((1<<(c&31))-1);const w=h.length;for(;x===0;){if(++p===w)return u;x=~h[p]}const E=p*32+I.numberOfTrailingZeros(x);return E>u?u:E}setBulk(c,u){this.bits[Math.floor(c/32)]=u}setRange(c,u){if(u<c||c<0||u>this.size)throw new m;if(u===c)return;u--;const h=Math.floor(c/32),p=Math.floor(u/32),x=this.bits;for(let w=h;w<=p;w++){const E=w>h?0:c&31,P=(2<<(w<p?31:u&31))-(1<<E);x[w]|=P}}clear(){const c=this.bits.length,u=this.bits;for(let h=0;h<c;h++)u[h]=0}isRange(c,u,h){if(u<c||c<0||u>this.size)throw new m;if(u===c)return!0;u--;const p=Math.floor(c/32),x=Math.floor(u/32),w=this.bits;for(let E=p;E<=x;E++){const T=E>p?0:c&31,z=(2<<(E<x?31:u&31))-(1<<T)&4294967295;if((w[E]&z)!==(h?z:0))return!1}return!0}appendBit(c){this.ensureCapacity(this.size+1),c&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(c,u){if(u<0||u>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let h=u;h>0;h--)this.appendBit((c>>h-1&1)===1)}appendBitArray(c){const u=c.size;this.ensureCapacity(this.size+u);for(let h=0;h<u;h++)this.appendBit(c.get(h))}xor(c){if(this.size!==c.size)throw new m("Sizes don't match");const u=this.bits;for(let h=0,p=u.length;h<p;h++)u[h]^=c.bits[h]}toBytes(c,u,h,p){for(let x=0;x<p;x++){let w=0;for(let E=0;E<8;E++)this.get(c)&&(w|=1<<7-E),c++;u[h+x]=w}}getBitArray(){return this.bits}reverse(){const c=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),h=u+1,p=this.bits;for(let x=0;x<h;x++){let w=p[x];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,c[u-x]=w}if(this.size!==h*32){const x=h*32-this.size;let w=c[0]>>>x;for(let E=1;E<h;E++){const T=c[E];w|=T<<32-x,c[E-1]=w,w=T>>>x}c[h-1]=w}this.bits=c}static makeArray(c){return new Int32Array(Math.floor((c+31)/32))}equals(c){if(!(c instanceof k))return!1;const u=c;return this.size===u.size&&S.equals(this.bits,u.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let c="";for(let u=0,h=this.size;u<h;u++)u&7||(c+=" "),c+=this.get(u)?"X":".";return c}clone(){return new k(this.size,this.bits.slice())}}var M;(function(re){re[re.OTHER=0]="OTHER",re[re.PURE_BARCODE=1]="PURE_BARCODE",re[re.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",re[re.TRY_HARDER=3]="TRY_HARDER",re[re.CHARACTER_SET=4]="CHARACTER_SET",re[re.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",re[re.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",re[re.ASSUME_GS1=7]="ASSUME_GS1",re[re.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",re[re.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",re[re.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(M||(M={}));var V=M;class O extends d{static getFormatInstance(){return new O}}O.kind="FormatException";var R;(function(re){re[re.Cp437=0]="Cp437",re[re.ISO8859_1=1]="ISO8859_1",re[re.ISO8859_2=2]="ISO8859_2",re[re.ISO8859_3=3]="ISO8859_3",re[re.ISO8859_4=4]="ISO8859_4",re[re.ISO8859_5=5]="ISO8859_5",re[re.ISO8859_6=6]="ISO8859_6",re[re.ISO8859_7=7]="ISO8859_7",re[re.ISO8859_8=8]="ISO8859_8",re[re.ISO8859_9=9]="ISO8859_9",re[re.ISO8859_10=10]="ISO8859_10",re[re.ISO8859_11=11]="ISO8859_11",re[re.ISO8859_13=12]="ISO8859_13",re[re.ISO8859_14=13]="ISO8859_14",re[re.ISO8859_15=14]="ISO8859_15",re[re.ISO8859_16=15]="ISO8859_16",re[re.SJIS=16]="SJIS",re[re.Cp1250=17]="Cp1250",re[re.Cp1251=18]="Cp1251",re[re.Cp1252=19]="Cp1252",re[re.Cp1256=20]="Cp1256",re[re.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",re[re.UTF8=22]="UTF8",re[re.ASCII=23]="ASCII",re[re.Big5=24]="Big5",re[re.GB18030=25]="GB18030",re[re.EUC_KR=26]="EUC_KR"})(R||(R={}));class _{constructor(c,u,h,...p){this.valueIdentifier=c,this.name=h,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=p,_.VALUE_IDENTIFIER_TO_ECI.set(c,this),_.NAME_TO_ECI.set(h,this);const x=this.values;for(let w=0,E=x.length;w!==E;w++){const T=x[w];_.VALUES_TO_ECI.set(T,this)}for(const w of p)_.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(c){if(c<0||c>=900)throw new O("incorect value");const u=_.VALUES_TO_ECI.get(c);if(u===void 0)throw new O("incorect value");return u}static getCharacterSetECIByName(c){const u=_.NAME_TO_ECI.get(c);if(u===void 0)throw new O("incorect value");return u}equals(c){if(!(c instanceof _))return!1;const u=c;return this.getName()===u.getName()}}_.VALUE_IDENTIFIER_TO_ECI=new Map,_.VALUES_TO_ECI=new Map,_.NAME_TO_ECI=new Map,_.Cp437=new _(R.Cp437,Int32Array.from([0,2]),"Cp437"),_.ISO8859_1=new _(R.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),_.ISO8859_2=new _(R.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),_.ISO8859_3=new _(R.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),_.ISO8859_4=new _(R.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),_.ISO8859_5=new _(R.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),_.ISO8859_6=new _(R.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),_.ISO8859_7=new _(R.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),_.ISO8859_8=new _(R.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),_.ISO8859_9=new _(R.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),_.ISO8859_10=new _(R.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),_.ISO8859_11=new _(R.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),_.ISO8859_13=new _(R.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),_.ISO8859_14=new _(R.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),_.ISO8859_15=new _(R.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),_.ISO8859_16=new _(R.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),_.SJIS=new _(R.SJIS,20,"SJIS","Shift_JIS"),_.Cp1250=new _(R.Cp1250,21,"Cp1250","windows-1250"),_.Cp1251=new _(R.Cp1251,22,"Cp1251","windows-1251"),_.Cp1252=new _(R.Cp1252,23,"Cp1252","windows-1252"),_.Cp1256=new _(R.Cp1256,24,"Cp1256","windows-1256"),_.UnicodeBigUnmarked=new _(R.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),_.UTF8=new _(R.UTF8,26,"UTF8","UTF-8"),_.ASCII=new _(R.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),_.Big5=new _(R.Big5,28,"Big5"),_.GB18030=new _(R.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),_.EUC_KR=new _(R.EUC_KR,30,"EUC_KR","EUC-KR");class J extends d{}J.kind="UnsupportedOperationException";class U{static decode(c,u){const h=this.encodingName(u);return this.customDecoder?this.customDecoder(c,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(c,h):new TextDecoder(h).decode(c)}static shouldDecodeOnFallback(c){return!U.isBrowser()&&c==="ISO-8859-1"}static encode(c,u){const h=this.encodingName(u);return this.customEncoder?this.customEncoder(c,h):typeof TextEncoder>"u"?this.encodeFallback(c):new TextEncoder().encode(c)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(c){return typeof c=="string"?c:c.getName()}static encodingCharacterSet(c){return c instanceof _?c:_.getCharacterSetECIByName(c)}static decodeFallback(c,u){const h=this.encodingCharacterSet(u);if(U.isDecodeFallbackSupported(h)){let p="";for(let x=0,w=c.length;x<w;x++){let E=c[x].toString(16);E.length<2&&(E="0"+E),p+="%"+E}return decodeURIComponent(p)}if(h.equals(_.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(c.buffer));throw new J(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(c){return c.equals(_.UTF8)||c.equals(_.ISO8859_1)||c.equals(_.ASCII)}static encodeFallback(c){const h=btoa(unescape(encodeURIComponent(c))).split(""),p=[];for(let x=0;x<h.length;x++)p.push(h[x].charCodeAt(0));return new Uint8Array(p)}}class Q{static castAsNonUtf8Char(c,u=null){const h=u?u.getName():this.ISO88591;return U.decode(new Uint8Array([c]),h)}static guessEncoding(c,u){if(u!=null&&u.get(V.CHARACTER_SET)!==void 0)return u.get(V.CHARACTER_SET).toString();const h=c.length;let p=!0,x=!0,w=!0,E=0,T=0,P=0,z=0,te=0,Ae=0,ge=0,Be=0,Se=0,ke=0,We=0;const ot=c.length>3&&c[0]===239&&c[1]===187&&c[2]===191;for(let ut=0;ut<h&&(p||x||w);ut++){const lt=c[ut]&255;w&&(E>0?lt&128?E--:w=!1:lt&128&&(lt&64?(E++,lt&32?(E++,lt&16?(E++,lt&8?w=!1:z++):P++):T++):w=!1)),p&&(lt>127&&lt<160?p=!1:lt>159&&(lt<192||lt===215||lt===247)&&We++),x&&(te>0?lt<64||lt===127||lt>252?x=!1:te--:lt===128||lt===160||lt>239?x=!1:lt>160&&lt<224?(Ae++,Be=0,ge++,ge>Se&&(Se=ge)):lt>127?(te++,ge=0,Be++,Be>ke&&(ke=Be)):(ge=0,Be=0))}return w&&E>0&&(w=!1),x&&te>0&&(x=!1),w&&(ot||T+P+z>0)?Q.UTF8:x&&(Q.ASSUME_SHIFT_JIS||Se>=3||ke>=3)?Q.SHIFT_JIS:p&&x?Se===2&&Ae===2||We*10>=h?Q.SHIFT_JIS:Q.ISO88591:p?Q.ISO88591:x?Q.SHIFT_JIS:w?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(c,...u){let h=-1;function p(w,E,T,P,z,te){if(w==="%%")return"%";if(u[++h]===void 0)return;w=P?parseInt(P.substr(1)):void 0;let Ae=z?parseInt(z.substr(1)):void 0,ge;switch(te){case"s":ge=u[h];break;case"c":ge=u[h][0];break;case"f":ge=parseFloat(u[h]).toFixed(w);break;case"p":ge=parseFloat(u[h]).toPrecision(w);break;case"e":ge=parseFloat(u[h]).toExponential(w);break;case"x":ge=parseInt(u[h]).toString(Ae||16);break;case"d":ge=parseFloat(parseInt(u[h],Ae||10).toPrecision(w)).toFixed(0);break}ge=typeof ge=="object"?JSON.stringify(ge):(+ge).toString(Ae);let Be=parseInt(T),Se=T&&T[0]+""=="0"?"0":" ";for(;ge.length<Be;)ge=E!==void 0?ge+Se:Se+ge;return ge}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(x,p)}static getBytes(c,u){return U.encode(c,u)}static getCharCode(c,u=0){return c.charCodeAt(u)}static getCharAt(c){return String.fromCharCode(c)}}Q.SHIFT_JIS=_.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=_.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=_.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class X{constructor(c=""){this.value=c}enableDecoding(c){return this.encoding=c,this}append(c){return typeof c=="string"?this.value+=c.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(c,this.encoding):this.value+=String.fromCharCode(c),this}appendChars(c,u,h){for(let p=u;u<u+h;p++)this.append(c[p]);return this}length(){return this.value.length}charAt(c){return this.value.charAt(c)}deleteCharAt(c){this.value=this.value.substr(0,c)+this.value.substring(c+1)}setCharAt(c,u){this.value=this.value.substr(0,c)+u+this.value.substr(c+1)}substring(c,u){return this.value.substring(c,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(c,u){this.value=this.value.substr(0,c)+u+this.value.substr(c+u.length)}}class Z{constructor(c,u,h,p){if(this.width=c,this.height=u,this.rowSize=h,this.bits=p,u==null&&(u=c),this.height=u,c<1||u<1)throw new m("Both dimensions must be greater than 0");h==null&&(h=Math.floor((c+31)/32)),this.rowSize=h,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(c){const u=c.length,h=c[0].length,p=new Z(h,u);for(let x=0;x<u;x++){const w=c[x];for(let E=0;E<h;E++)w[E]&&p.set(E,x)}return p}static parseFromString(c,u,h){if(c===null)throw new m("stringRepresentation cannot be null");const p=new Array(c.length);let x=0,w=0,E=-1,T=0,P=0;for(;P<c.length;)if(c.charAt(P)===`
`||c.charAt(P)==="\r"){if(x>w){if(E===-1)E=x-w;else if(x-w!==E)throw new m("row lengths do not match");w=x,T++}P++}else if(c.substring(P,P+u.length)===u)P+=u.length,p[x]=!0,x++;else if(c.substring(P,P+h.length)===h)P+=h.length,p[x]=!1,x++;else throw new m("illegal character encountered: "+c.substring(P));if(x>w){if(E===-1)E=x-w;else if(x-w!==E)throw new m("row lengths do not match");T++}const z=new Z(E,T);for(let te=0;te<x;te++)p[te]&&z.set(Math.floor(te%E),Math.floor(te/E));return z}get(c,u){const h=u*this.rowSize+Math.floor(c/32);return(this.bits[h]>>>(c&31)&1)!==0}set(c,u){const h=u*this.rowSize+Math.floor(c/32);this.bits[h]|=1<<(c&31)&4294967295}unset(c,u){const h=u*this.rowSize+Math.floor(c/32);this.bits[h]&=~(1<<(c&31)&4294967295)}flip(c,u){const h=u*this.rowSize+Math.floor(c/32);this.bits[h]^=1<<(c&31)&4294967295}xor(c){if(this.width!==c.getWidth()||this.height!==c.getHeight()||this.rowSize!==c.getRowSize())throw new m("input matrix dimensions do not match");const u=new k(Math.floor(this.width/32)+1),h=this.rowSize,p=this.bits;for(let x=0,w=this.height;x<w;x++){const E=x*h,T=c.getRow(x,u).getBitArray();for(let P=0;P<h;P++)p[E+P]^=T[P]}}clear(){const c=this.bits,u=c.length;for(let h=0;h<u;h++)c[h]=0}setRegion(c,u,h,p){if(u<0||c<0)throw new m("Left and top must be nonnegative");if(p<1||h<1)throw new m("Height and width must be at least 1");const x=c+h,w=u+p;if(w>this.height||x>this.width)throw new m("The region must fit inside the matrix");const E=this.rowSize,T=this.bits;for(let P=u;P<w;P++){const z=P*E;for(let te=c;te<x;te++)T[z+Math.floor(te/32)]|=1<<(te&31)&4294967295}}getRow(c,u){u==null||u.getSize()<this.width?u=new k(this.width):u.clear();const h=this.rowSize,p=this.bits,x=c*h;for(let w=0;w<h;w++)u.setBulk(w*32,p[x+w]);return u}setRow(c,u){C.arraycopy(u.getBitArray(),0,this.bits,c*this.rowSize,this.rowSize)}rotate180(){const c=this.getWidth(),u=this.getHeight();let h=new k(c),p=new k(c);for(let x=0,w=Math.floor((u+1)/2);x<w;x++)h=this.getRow(x,h),p=this.getRow(u-1-x,p),h.reverse(),p.reverse(),this.setRow(x,p),this.setRow(u-1-x,h)}getEnclosingRectangle(){const c=this.width,u=this.height,h=this.rowSize,p=this.bits;let x=c,w=u,E=-1,T=-1;for(let P=0;P<u;P++)for(let z=0;z<h;z++){const te=p[P*h+z];if(te!==0){if(P<w&&(w=P),P>T&&(T=P),z*32<x){let Ae=0;for(;!(te<<31-Ae&4294967295);)Ae++;z*32+Ae<x&&(x=z*32+Ae)}if(z*32+31>E){let Ae=31;for(;!(te>>>Ae);)Ae--;z*32+Ae>E&&(E=z*32+Ae)}}}return E<x||T<w?null:Int32Array.from([x,w,E-x+1,T-w+1])}getTopLeftOnBit(){const c=this.rowSize,u=this.bits;let h=0;for(;h<u.length&&u[h]===0;)h++;if(h===u.length)return null;const p=h/c;let x=h%c*32;const w=u[h];let E=0;for(;!(w<<31-E&4294967295);)E++;return x+=E,Int32Array.from([x,p])}getBottomRightOnBit(){const c=this.rowSize,u=this.bits;let h=u.length-1;for(;h>=0&&u[h]===0;)h--;if(h<0)return null;const p=Math.floor(h/c);let x=Math.floor(h%c)*32;const w=u[h];let E=31;for(;!(w>>>E);)E--;return x+=E,Int32Array.from([x,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(c){if(!(c instanceof Z))return!1;const u=c;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&S.equals(this.bits,u.bits)}hashCode(){let c=this.width;return c=31*c+this.width,c=31*c+this.height,c=31*c+this.rowSize,c=31*c+S.hashCode(this.bits),c}toString(c="X ",u="  ",h=`
`){return this.buildToString(c,u,h)}buildToString(c,u,h){let p=new X;for(let x=0,w=this.height;x<w;x++){for(let E=0,T=this.width;E<T;E++)p.append(this.get(E,x)?c:u);p.append(h)}return p.toString()}clone(){return new Z(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends d{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class q extends b{constructor(c){super(c),this.luminances=q.EMPTY,this.buckets=new Int32Array(q.LUMINANCE_BUCKETS)}getBlackRow(c,u){const h=this.getLuminanceSource(),p=h.getWidth();u==null||u.getSize()<p?u=new k(p):u.clear(),this.initArrays(p);const x=h.getRow(c,this.luminances),w=this.buckets;for(let T=0;T<p;T++)w[(x[T]&255)>>q.LUMINANCE_SHIFT]++;const E=q.estimateBlackPoint(w);if(p<3)for(let T=0;T<p;T++)(x[T]&255)<E&&u.set(T);else{let T=x[0]&255,P=x[1]&255;for(let z=1;z<p-1;z++){const te=x[z+1]&255;(P*4-T-te)/2<E&&u.set(z),T=P,P=te}}return u}getBlackMatrix(){const c=this.getLuminanceSource(),u=c.getWidth(),h=c.getHeight(),p=new Z(u,h);this.initArrays(u);const x=this.buckets;for(let T=1;T<5;T++){const P=Math.floor(h*T/5),z=c.getRow(P,this.luminances),te=Math.floor(u*4/5);for(let Ae=Math.floor(u/5);Ae<te;Ae++){const ge=z[Ae]&255;x[ge>>q.LUMINANCE_SHIFT]++}}const w=q.estimateBlackPoint(x),E=c.getMatrix();for(let T=0;T<h;T++){const P=T*u;for(let z=0;z<u;z++)(E[P+z]&255)<w&&p.set(z,T)}return p}createBinarizer(c){return new q(c)}initArrays(c){this.luminances.length<c&&(this.luminances=new Uint8ClampedArray(c));const u=this.buckets;for(let h=0;h<q.LUMINANCE_BUCKETS;h++)u[h]=0}static estimateBlackPoint(c){const u=c.length;let h=0,p=0,x=0;for(let z=0;z<u;z++)c[z]>x&&(p=z,x=c[z]),c[z]>h&&(h=c[z]);let w=0,E=0;for(let z=0;z<u;z++){const te=z-p,Ae=c[z]*te*te;Ae>E&&(w=z,E=Ae)}if(p>w){const z=p;p=w,w=z}if(w-p<=u/16)throw new $;let T=w-1,P=-1;for(let z=w-1;z>p;z--){const te=z-p,Ae=te*te*(w-z)*(h-c[z]);Ae>P&&(T=z,P=Ae)}return T<<q.LUMINANCE_SHIFT}}q.LUMINANCE_BITS=5,q.LUMINANCE_SHIFT=8-q.LUMINANCE_BITS,q.LUMINANCE_BUCKETS=1<<q.LUMINANCE_BITS,q.EMPTY=Uint8ClampedArray.from([0]);class W extends q{constructor(c){super(c),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const c=this.getLuminanceSource(),u=c.getWidth(),h=c.getHeight();if(u>=W.MINIMUM_DIMENSION&&h>=W.MINIMUM_DIMENSION){const p=c.getMatrix();let x=u>>W.BLOCK_SIZE_POWER;u&W.BLOCK_SIZE_MASK&&x++;let w=h>>W.BLOCK_SIZE_POWER;h&W.BLOCK_SIZE_MASK&&w++;const E=W.calculateBlackPoints(p,x,w,u,h),T=new Z(u,h);W.calculateThresholdForBlock(p,x,w,u,h,E,T),this.matrix=T}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(c){return new W(c)}static calculateThresholdForBlock(c,u,h,p,x,w,E){const T=x-W.BLOCK_SIZE,P=p-W.BLOCK_SIZE;for(let z=0;z<h;z++){let te=z<<W.BLOCK_SIZE_POWER;te>T&&(te=T);const Ae=W.cap(z,2,h-3);for(let ge=0;ge<u;ge++){let Be=ge<<W.BLOCK_SIZE_POWER;Be>P&&(Be=P);const Se=W.cap(ge,2,u-3);let ke=0;for(let ot=-2;ot<=2;ot++){const ut=w[Ae+ot];ke+=ut[Se-2]+ut[Se-1]+ut[Se]+ut[Se+1]+ut[Se+2]}const We=ke/25;W.thresholdBlock(c,Be,te,We,p,E)}}}static cap(c,u,h){return c<u?u:c>h?h:c}static thresholdBlock(c,u,h,p,x,w){for(let E=0,T=h*x+u;E<W.BLOCK_SIZE;E++,T+=x)for(let P=0;P<W.BLOCK_SIZE;P++)(c[T+P]&255)<=p&&w.set(u+P,h+E)}static calculateBlackPoints(c,u,h,p,x){const w=x-W.BLOCK_SIZE,E=p-W.BLOCK_SIZE,T=new Array(h);for(let P=0;P<h;P++){T[P]=new Int32Array(u);let z=P<<W.BLOCK_SIZE_POWER;z>w&&(z=w);for(let te=0;te<u;te++){let Ae=te<<W.BLOCK_SIZE_POWER;Ae>E&&(Ae=E);let ge=0,Be=255,Se=0;for(let We=0,ot=z*p+Ae;We<W.BLOCK_SIZE;We++,ot+=p){for(let ut=0;ut<W.BLOCK_SIZE;ut++){const lt=c[ot+ut]&255;ge+=lt,lt<Be&&(Be=lt),lt>Se&&(Se=lt)}if(Se-Be>W.MIN_DYNAMIC_RANGE)for(We++,ot+=p;We<W.BLOCK_SIZE;We++,ot+=p)for(let ut=0;ut<W.BLOCK_SIZE;ut++)ge+=c[ot+ut]&255}let ke=ge>>W.BLOCK_SIZE_POWER*2;if(Se-Be<=W.MIN_DYNAMIC_RANGE&&(ke=Be/2,P>0&&te>0)){const We=(T[P-1][te]+2*T[P][te-1]+T[P-1][te-1])/4;Be<We&&(ke=We)}T[P][te]=ke}}return T}}W.BLOCK_SIZE_POWER=3,W.BLOCK_SIZE=1<<W.BLOCK_SIZE_POWER,W.BLOCK_SIZE_MASK=W.BLOCK_SIZE-1,W.MINIMUM_DIMENSION=W.BLOCK_SIZE*5,W.MIN_DYNAMIC_RANGE=24;class Y{constructor(c,u){this.width=c,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(c,u,h,p){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const c=new Uint8ClampedArray(this.width);let u=new X;for(let h=0;h<this.height;h++){const p=this.getRow(h,c);for(let x=0;x<this.width;x++){const w=p[x]&255;let E;w<64?E="#":w<128?E="+":w<192?E=".":E=" ",u.append(E)}u.append(`
`)}return u.toString()}}class K extends Y{constructor(c){super(c.getWidth(),c.getHeight()),this.delegate=c}getRow(c,u){const h=this.delegate.getRow(c,u),p=this.getWidth();for(let x=0;x<p;x++)h[x]=255-(h[x]&255);return h}getMatrix(){const c=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(u);for(let p=0;p<u;p++)h[p]=255-(c[p]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(c,u,h,p){return new K(this.delegate.crop(c,u,h,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new K(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new K(this.delegate.rotateCounterClockwise45())}}class ae extends Y{constructor(c){super(c.width,c.height),this.canvas=c,this.tempCanvasElement=null,this.buffer=ae.makeBufferFromCanvasImageData(c)}static makeBufferFromCanvasImageData(c){const u=c.getContext("2d").getImageData(0,0,c.width,c.height);return ae.toGrayscaleBuffer(u.data,c.width,c.height)}static toGrayscaleBuffer(c,u,h){const p=new Uint8ClampedArray(u*h);for(let x=0,w=0,E=c.length;x<E;x+=4,w++){let T;if(c[x+3]===0)T=255;else{const z=c[x],te=c[x+1],Ae=c[x+2];T=306*z+601*te+117*Ae+512>>10}p[w]=T}return p}getRow(c,u){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const h=this.getWidth(),p=c*h;return u===null?u=this.buffer.slice(p,p+h):(u.length<h&&(u=new Uint8ClampedArray(h)),u.set(this.buffer.slice(p,p+h))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(c,u,h,p){return super.crop(c,u,h,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const c=this.canvas.ownerDocument.createElement("canvas");c.width=this.canvas.width,c.height=this.canvas.height,this.tempCanvasElement=c}return this.tempCanvasElement}rotate(c){const u=this.getTempCanvasElement(),h=u.getContext("2d"),p=c*ae.DEGREE_TO_RADIANS,x=this.canvas.width,w=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(p))*x+Math.abs(Math.sin(p))*w),T=Math.ceil(Math.abs(Math.sin(p))*x+Math.abs(Math.cos(p))*w);return u.width=E,u.height=T,h.translate(E/2,T/2),h.rotate(p),h.drawImage(this.canvas,x/-2,w/-2),this.buffer=ae.makeBufferFromCanvasImageData(u),this}invert(){return new K(this)}}ae.DEGREE_TO_RADIANS=Math.PI/180;class be{constructor(c,u,h){this.deviceId=c,this.label=u,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var H=(globalThis||Yh||self||window||void 0)&&(globalThis||Yh||self||window||void 0).__awaiter||function(re,c,u,h){function p(x){return x instanceof u?x:new u(function(w){w(x)})}return new(u||(u=Promise))(function(x,w){function E(z){try{P(h.next(z))}catch(te){w(te)}}function T(z){try{P(h.throw(z))}catch(te){w(te)}}function P(z){z.done?x(z.value):p(z.value).then(E,T)}P((h=h.apply(re,c||[])).next())})};class ee{constructor(c,u=500,h){this.reader=c,this.timeBetweenScansMillis=u,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(c){this._timeBetweenDecodingAttempts=c<0?0:c}set hints(c){this._hints=c||null}get hints(){return this._hints}listVideoInputDevices(){return H(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const c=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const h of c){const p=h.kind==="video"?"videoinput":h.kind;if(p!=="videoinput")continue;const x=h.deviceId||h.id,w=h.label||`Video device ${u.length+1}`,E=h.groupId,T={deviceId:x,label:w,kind:p,groupId:E};u.push(T)}return u})}getVideoInputDevices(){return H(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new be(u.deviceId,u.label))})}findDeviceById(c){return H(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(h=>h.deviceId===c):null})}decodeFromInputVideoDevice(c,u){return H(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(c,u)})}decodeOnceFromVideoDevice(c,u){return H(this,void 0,void 0,function*(){this.reset();let h;c?h={deviceId:{exact:c}}:h={facingMode:"environment"};const p={video:h};return yield this.decodeOnceFromConstraints(p,u)})}decodeOnceFromConstraints(c,u){return H(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeOnceFromStream(h,u)})}decodeOnceFromStream(c,u){return H(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(c,u);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(c,u,h){return H(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(c,u,h)})}decodeFromVideoDevice(c,u,h){return H(this,void 0,void 0,function*(){let p;c?p={deviceId:{exact:c}}:p={facingMode:"environment"};const x={video:p};return yield this.decodeFromConstraints(x,u,h)})}decodeFromConstraints(c,u,h){return H(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeFromStream(p,u,h)})}decodeFromStream(c,u,h){return H(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(c,u);return yield this.decodeContinuously(p,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(c,u){return H(this,void 0,void 0,function*(){const h=this.prepareVideoElement(u);return this.addVideoSource(h,c),this.videoElement=h,this.stream=c,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(c){return new Promise((u,h)=>this.playVideoOnLoad(c,()=>u()))}playVideoOnLoad(c,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(c),c.addEventListener("ended",this.videoEndedListener),c.addEventListener("canplay",this.videoCanPlayListener),c.addEventListener("playing",u),this.tryPlayVideo(c)}isVideoPlaying(c){return c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2}tryPlayVideo(c){return H(this,void 0,void 0,function*(){if(this.isVideoPlaying(c)){console.warn("Trying to play video that is already playing.");return}try{yield c.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(c,u){const h=document.getElementById(c);if(!h)throw new f(`element with id '${c}' not found`);if(h.nodeName.toLowerCase()!==u.toLowerCase())throw new f(`element with id '${c}' must be an ${u} element`);return h}decodeFromImage(c,u){if(!c&&!u)throw new f("either imageElement with a src set or an url must be provided");return u&&!c?this.decodeFromImageUrl(u):this.decodeFromImageElement(c)}decodeFromVideo(c,u){if(!c&&!u)throw new f("Either an element with a src set or an URL must be provided");return u&&!c?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(c)}decodeFromVideoContinuously(c,u,h){if(c===void 0&&u===void 0)throw new f("Either an element with a src set or an URL must be provided");return u&&!c?this.decodeFromVideoUrlContinuously(u,h):this.decodeFromVideoElementContinuously(c,h)}decodeFromImageElement(c){if(!c)throw new f("An image element must be provided.");this.reset();const u=this.prepareImageElement(c);this.imageElement=u;let h;return this.isImageLoaded(u)?h=this.decodeOnce(u,!1,!0):h=this._decodeOnLoadImage(u),h}decodeFromVideoElement(c){const u=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(c,u){const h=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideoContinuously(h,u)}_decodeFromVideoElementSetup(c){if(!c)throw new f("A video element must be provided.");this.reset();const u=this.prepareVideoElement(c);return this.videoElement=u,u}decodeFromImageUrl(c){if(!c)throw new f("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const h=this._decodeOnLoadImage(u);return u.src=c,h}decodeFromVideoUrl(c){if(!c)throw new f("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElement(u);return u.src=c,h}decodeFromVideoUrlContinuously(c,u){if(!c)throw new f("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(h,u);return h.src=c,p}_decodeOnLoadImage(c){return new Promise((u,h)=>{this.imageLoadedListener=()=>this.decodeOnce(c,!1,!0).then(u,h),c.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(c){return H(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(c),yield this.decodeOnce(c)})}_decodeOnLoadVideoContinuously(c,u){return H(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(c),this.decodeContinuously(c,u)})}isImageLoaded(c){return!(!c.complete||c.naturalWidth===0)}prepareImageElement(c){let u;return typeof c>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof c=="string"&&(u=this.getMediaElement(c,"img")),c instanceof HTMLImageElement&&(u=c),u}prepareVideoElement(c){let u;return!c&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof c=="string"&&(u=this.getMediaElement(c,"video")),c instanceof HTMLVideoElement&&(u=c),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(c,u=!0,h=!0){this._stopAsyncDecode=!1;const p=(x,w)=>{if(this._stopAsyncDecode){w(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(c);x(E)}catch(E){const T=u&&E instanceof $,z=(E instanceof g||E instanceof O)&&h;if(T||z)return setTimeout(p,this._timeBetweenDecodingAttempts,x,w);w(E)}};return new Promise((x,w)=>p(x,w))}decodeContinuously(c,u){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(c);u(p,null),setTimeout(h,this.timeBetweenScansMillis)}catch(p){u(null,p);const x=p instanceof g||p instanceof O,w=p instanceof $;(x||w)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(c){const u=this.createBinaryBitmap(c);return this.decodeBitmap(u)}_isHTMLVideoElement(c){return c.videoWidth!==0}drawFrameOnCanvas(c,u,h){u||(u={sx:0,sy:0,sWidth:c.videoWidth,sHeight:c.videoHeight,dx:0,dy:0,dWidth:c.videoWidth,dHeight:c.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(c,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(c,u,h=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:c.naturalWidth,sHeight:c.naturalHeight,dx:0,dy:0,dWidth:c.naturalWidth,dHeight:c.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(c,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(c){this.getCaptureCanvasContext(c),this._isHTMLVideoElement(c)?this.drawFrameOnCanvas(c):this.drawImageOnCanvas(c);const u=this.getCaptureCanvas(c),h=new ae(u),p=new W(h);return new y(p)}getCaptureCanvasContext(c){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(c).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(c){if(!this.captureCanvas){const u=this.createCaptureCanvas(c);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(c){return this.reader.decode(c,this._hints)}createCaptureCanvas(c){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let h,p;return typeof c<"u"&&(c instanceof HTMLVideoElement?(h=c.videoWidth,p=c.videoHeight):c instanceof HTMLImageElement&&(h=c.naturalWidth||c.width,p=c.naturalHeight||c.height)),u.style.width=h+"px",u.style.height=p+"px",u.width=h,u.height=p,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(c=>c.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(c,u){try{c.srcObject=u}catch{c.src=URL.createObjectURL(u)}}cleanVideoSource(c){try{c.srcObject=null}catch{c.src=""}this.videoElement.removeAttribute("src")}}class ie{constructor(c,u,h=u==null?0:8*u.length,p,x,w=C.currentTimeMillis()){this.text=c,this.rawBytes=u,this.numBits=h,this.resultPoints=p,this.format=x,this.timestamp=w,this.text=c,this.rawBytes=u,h==null?this.numBits=u==null?0:8*u.length:this.numBits=h,this.resultPoints=p,this.format=x,this.resultMetadata=null,w==null?this.timestamp=C.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(c,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(c,u)}putAllMetadata(c){c!==null&&(this.resultMetadata===null?this.resultMetadata=c:this.resultMetadata=new Map(c))}addResultPoints(c){const u=this.resultPoints;if(u===null)this.resultPoints=c;else if(c!==null&&c.length>0){const h=new Array(u.length+c.length);C.arraycopy(u,0,h,0,u.length),C.arraycopy(c,0,h,u.length,c.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var le;(function(re){re[re.AZTEC=0]="AZTEC",re[re.CODABAR=1]="CODABAR",re[re.CODE_39=2]="CODE_39",re[re.CODE_93=3]="CODE_93",re[re.CODE_128=4]="CODE_128",re[re.DATA_MATRIX=5]="DATA_MATRIX",re[re.EAN_8=6]="EAN_8",re[re.EAN_13=7]="EAN_13",re[re.ITF=8]="ITF",re[re.MAXICODE=9]="MAXICODE",re[re.PDF_417=10]="PDF_417",re[re.QR_CODE=11]="QR_CODE",re[re.RSS_14=12]="RSS_14",re[re.RSS_EXPANDED=13]="RSS_EXPANDED",re[re.UPC_A=14]="UPC_A",re[re.UPC_E=15]="UPC_E",re[re.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(le||(le={}));var ce=le,me;(function(re){re[re.OTHER=0]="OTHER",re[re.ORIENTATION=1]="ORIENTATION",re[re.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",re[re.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",re[re.ISSUE_NUMBER=4]="ISSUE_NUMBER",re[re.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",re[re.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",re[re.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",re[re.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",re[re.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",re[re.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(me||(me={}));var we=me;class Ie{constructor(c,u,h,p,x=-1,w=-1){this.rawBytes=c,this.text=u,this.byteSegments=h,this.ecLevel=p,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=w,this.numBits=c==null?0:8*c.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(c){this.numBits=c}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(c){this.errorsCorrected=c}getErasures(){return this.erasures}setErasures(c){this.erasures=c}getOther(){return this.other}setOther(c){this.other=c}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ve{exp(c){return this.expTable[c]}log(c){if(c===0)throw new m;return this.logTable[c]}static addOrSubtract(c,u){return c^u}}class Ce{constructor(c,u){if(u.length===0)throw new m;this.field=c;const h=u.length;if(h>1&&u[0]===0){let p=1;for(;p<h&&u[p]===0;)p++;p===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-p),C.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);const u=this.coefficients;let h;if(c===1){h=0;for(let w=0,E=u.length;w!==E;w++){const T=u[w];h=ve.addOrSubtract(h,T)}return h}h=u[0];const p=u.length,x=this.field;for(let w=1;w<p;w++)h=ve.addOrSubtract(x.multiply(c,h),u[w]);return h}addOrSubtract(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return c;if(c.isZero())return this;let u=this.coefficients,h=c.coefficients;if(u.length>h.length){const w=u;u=h,h=w}let p=new Int32Array(h.length);const x=h.length-u.length;C.arraycopy(h,0,p,0,x);for(let w=x;w<h.length;w++)p[w]=ve.addOrSubtract(u[w-x],h[w]);return new Ce(this.field,p)}multiply(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||c.isZero())return this.field.getZero();const u=this.coefficients,h=u.length,p=c.coefficients,x=p.length,w=new Int32Array(h+x-1),E=this.field;for(let T=0;T<h;T++){const P=u[T];for(let z=0;z<x;z++)w[T+z]=ve.addOrSubtract(w[T+z],E.multiply(P,p[z]))}return new Ce(E,w)}multiplyScalar(c){if(c===0)return this.field.getZero();if(c===1)return this;const u=this.coefficients.length,h=this.field,p=new Int32Array(u),x=this.coefficients;for(let w=0;w<u;w++)p[w]=h.multiply(x[w],c);return new Ce(h,p)}multiplyByMonomial(c,u){if(c<0)throw new m;if(u===0)return this.field.getZero();const h=this.coefficients,p=h.length,x=new Int32Array(p+c),w=this.field;for(let E=0;E<p;E++)x[E]=w.multiply(h[E],u);return new Ce(w,x)}divide(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(c.isZero())throw new m("Divide by 0");const u=this.field;let h=u.getZero(),p=this;const x=c.getCoefficient(c.getDegree()),w=u.inverse(x);for(;p.getDegree()>=c.getDegree()&&!p.isZero();){const E=p.getDegree()-c.getDegree(),T=u.multiply(p.getCoefficient(p.getDegree()),w),P=c.multiplyByMonomial(E,T),z=u.buildMonomial(E,T);h=h.addOrSubtract(z),p=p.addOrSubtract(P)}return[h,p]}toString(){let c="";for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);if(h!==0){if(h<0?(c+=" - ",h=-h):c.length>0&&(c+=" + "),u===0||h!==1){const p=this.field.log(h);p===0?c+="1":p===1?c+="a":(c+="a^",c+=p)}u!==0&&(u===1?c+="x":(c+="x^",c+=u))}}return c}}class Pe extends d{}Pe.kind="ArithmeticException";class Me extends ve{constructor(c,u,h){super(),this.primitive=c,this.size=u,this.generatorBase=h;const p=new Int32Array(u);let x=1;for(let E=0;E<u;E++)p[E]=x,x*=2,x>=u&&(x^=c,x&=u-1);this.expTable=p;const w=new Int32Array(u);for(let E=0;E<u-1;E++)w[p[E]]=E;this.logTable=w,this.zero=new Ce(this,Int32Array.from([0])),this.one=new Ce(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,u){if(c<0)throw new m;if(u===0)return this.zero;const h=new Int32Array(c+1);return h[0]=u,new Ce(this,h)}inverse(c){if(c===0)throw new Pe;return this.expTable[this.size-this.logTable[c]-1]}multiply(c,u){return c===0||u===0?0:this.expTable[(this.logTable[c]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(c){return c===this}}Me.AZTEC_DATA_12=new Me(4201,4096,1),Me.AZTEC_DATA_10=new Me(1033,1024,1),Me.AZTEC_DATA_6=new Me(67,64,1),Me.AZTEC_PARAM=new Me(19,16,1),Me.QR_CODE_FIELD_256=new Me(285,256,0),Me.DATA_MATRIX_FIELD_256=new Me(301,256,1),Me.AZTEC_DATA_8=Me.DATA_MATRIX_FIELD_256,Me.MAXICODE_FIELD_64=Me.AZTEC_DATA_6;class Je extends d{}Je.kind="ReedSolomonException";class Re extends d{}Re.kind="IllegalStateException";class ye{constructor(c){this.field=c}decode(c,u){const h=this.field,p=new Ce(h,c),x=new Int32Array(u);let w=!0;for(let ge=0;ge<u;ge++){const Be=p.evaluateAt(h.exp(ge+h.getGeneratorBase()));x[x.length-1-ge]=Be,Be!==0&&(w=!1)}if(w)return;const E=new Ce(h,x),T=this.runEuclideanAlgorithm(h.buildMonomial(u,1),E,u),P=T[0],z=T[1],te=this.findErrorLocations(P),Ae=this.findErrorMagnitudes(z,te);for(let ge=0;ge<te.length;ge++){const Be=c.length-1-h.log(te[ge]);if(Be<0)throw new Je("Bad error location");c[Be]=Me.addOrSubtract(c[Be],Ae[ge])}}runEuclideanAlgorithm(c,u,h){if(c.getDegree()<u.getDegree()){const ge=c;c=u,u=ge}const p=this.field;let x=c,w=u,E=p.getZero(),T=p.getOne();for(;w.getDegree()>=(h/2|0);){let ge=x,Be=E;if(x=w,E=T,x.isZero())throw new Je("r_{i-1} was zero");w=ge;let Se=p.getZero();const ke=x.getCoefficient(x.getDegree()),We=p.inverse(ke);for(;w.getDegree()>=x.getDegree()&&!w.isZero();){const ot=w.getDegree()-x.getDegree(),ut=p.multiply(w.getCoefficient(w.getDegree()),We);Se=Se.addOrSubtract(p.buildMonomial(ot,ut)),w=w.addOrSubtract(x.multiplyByMonomial(ot,ut))}if(T=Se.multiply(E).addOrSubtract(Be),w.getDegree()>=x.getDegree())throw new Re("Division algorithm failed to reduce polynomial?")}const P=T.getCoefficient(0);if(P===0)throw new Je("sigmaTilde(0) was zero");const z=p.inverse(P),te=T.multiplyScalar(z),Ae=w.multiplyScalar(z);return[te,Ae]}findErrorLocations(c){const u=c.getDegree();if(u===1)return Int32Array.from([c.getCoefficient(1)]);const h=new Int32Array(u);let p=0;const x=this.field;for(let w=1;w<x.getSize()&&p<u;w++)c.evaluateAt(w)===0&&(h[p]=x.inverse(w),p++);if(p!==u)throw new Je("Error locator degree does not match number of roots");return h}findErrorMagnitudes(c,u){const h=u.length,p=new Int32Array(h),x=this.field;for(let w=0;w<h;w++){const E=x.inverse(u[w]);let T=1;for(let P=0;P<h;P++)if(w!==P){const z=x.multiply(u[P],E),te=z&1?z&-2:z|1;T=x.multiply(T,te)}p[w]=x.multiply(c.evaluateAt(E),x.inverse(T)),x.getGeneratorBase()!==0&&(p[w]=x.multiply(p[w],E))}return p}}var pt;(function(re){re[re.UPPER=0]="UPPER",re[re.LOWER=1]="LOWER",re[re.MIXED=2]="MIXED",re[re.DIGIT=3]="DIGIT",re[re.PUNCT=4]="PUNCT",re[re.BINARY=5]="BINARY"})(pt||(pt={}));class rt{decode(c){this.ddata=c;let u=c.getBits(),h=this.extractBits(u),p=this.correctBits(h),x=rt.convertBoolArrayToByteArray(p),w=rt.getEncodedData(p),E=new Ie(x,w,null,null);return E.setNumBits(p.length),E}static highLevelDecode(c){return this.getEncodedData(c)}static getEncodedData(c){let u=c.length,h=pt.UPPER,p=pt.UPPER,x="",w=0;for(;w<u;)if(p===pt.BINARY){if(u-w<5)break;let E=rt.readCode(c,w,5);if(w+=5,E===0){if(u-w<11)break;E=rt.readCode(c,w,11)+31,w+=11}for(let T=0;T<E;T++){if(u-w<8){w=u;break}const P=rt.readCode(c,w,8);x+=Q.castAsNonUtf8Char(P),w+=8}p=h}else{let E=p===pt.DIGIT?4:5;if(u-w<E)break;let T=rt.readCode(c,w,E);w+=E;let P=rt.getCharacter(p,T);P.startsWith("CTRL_")?(h=p,p=rt.getTable(P.charAt(5)),P.charAt(6)==="L"&&(h=p)):(x+=P,p=h)}return x}static getTable(c){switch(c){case"L":return pt.LOWER;case"P":return pt.PUNCT;case"M":return pt.MIXED;case"D":return pt.DIGIT;case"B":return pt.BINARY;case"U":default:return pt.UPPER}}static getCharacter(c,u){switch(c){case pt.UPPER:return rt.UPPER_TABLE[u];case pt.LOWER:return rt.LOWER_TABLE[u];case pt.MIXED:return rt.MIXED_TABLE[u];case pt.PUNCT:return rt.PUNCT_TABLE[u];case pt.DIGIT:return rt.DIGIT_TABLE[u];default:throw new Re("Bad table")}}correctBits(c){let u,h;this.ddata.getNbLayers()<=2?(h=6,u=Me.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,u=Me.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,u=Me.AZTEC_DATA_10):(h=12,u=Me.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),x=c.length/h;if(x<p)throw new O;let w=c.length%h,E=new Int32Array(x);for(let Ae=0;Ae<x;Ae++,w+=h)E[Ae]=rt.readCode(c,w,h);try{new ye(u).decode(E,x-p)}catch(Ae){throw new O(Ae)}let T=(1<<h)-1,P=0;for(let Ae=0;Ae<p;Ae++){let ge=E[Ae];if(ge===0||ge===T)throw new O;(ge===1||ge===T-1)&&P++}let z=new Array(p*h-P),te=0;for(let Ae=0;Ae<p;Ae++){let ge=E[Ae];if(ge===1||ge===T-1)z.fill(ge>1,te,te+h-1),te+=h-1;else for(let Be=h-1;Be>=0;--Be)z[te++]=(ge&1<<Be)!==0}return z}extractBits(c){let u=this.ddata.isCompact(),h=this.ddata.getNbLayers(),p=(u?11:14)+h*4,x=new Int32Array(p),w=new Array(this.totalBitsInLayer(h,u));if(u)for(let E=0;E<x.length;E++)x[E]=E;else{let E=p+1+2*I.truncDivision(I.truncDivision(p,2)-1,15),T=p/2,P=I.truncDivision(E,2);for(let z=0;z<T;z++){let te=z+I.truncDivision(z,15);x[T-z-1]=P-te-1,x[T+z]=P+te+1}}for(let E=0,T=0;E<h;E++){let P=(h-E)*4+(u?9:12),z=E*2,te=p-1-z;for(let Ae=0;Ae<P;Ae++){let ge=Ae*2;for(let Be=0;Be<2;Be++)w[T+ge+Be]=c.get(x[z+Be],x[z+Ae]),w[T+2*P+ge+Be]=c.get(x[z+Ae],x[te-Be]),w[T+4*P+ge+Be]=c.get(x[te-Be],x[te-Ae]),w[T+6*P+ge+Be]=c.get(x[te-Ae],x[z+Be])}T+=P*8}return w}static readCode(c,u,h){let p=0;for(let x=u;x<u+h;x++)p<<=1,c[x]&&(p|=1);return p}static readByte(c,u){let h=c.length-u;return h>=8?rt.readCode(c,u,8):rt.readCode(c,u,h)<<8-h}static convertBoolArrayToByteArray(c){let u=new Uint8Array((c.length+7)/8);for(let h=0;h<u.length;h++)u[h]=rt.readByte(c,8*h);return u}totalBitsInLayer(c,u){return((u?88:112)+16*c)*c}}rt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],rt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],rt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],rt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],rt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ke{constructor(){}static round(c){return c===NaN?0:c<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:c>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:c+(c<0?-.5:.5)|0}static distance(c,u,h,p){const x=c-h,w=u-p;return Math.sqrt(x*x+w*w)}static sum(c){let u=0;for(let h=0,p=c.length;h!==p;h++){const x=c[h];u+=x}return u}}class ht{static floatToIntBits(c){return c}}ht.MAX_VALUE=Number.MAX_SAFE_INTEGER;class _e{constructor(c,u){this.x=c,this.y=u}getX(){return this.x}getY(){return this.y}equals(c){if(c instanceof _e){const u=c;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*ht.floatToIntBits(this.x)+ht.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(c){const u=this.distance(c[0],c[1]),h=this.distance(c[1],c[2]),p=this.distance(c[0],c[2]);let x,w,E;if(h>=u&&h>=p?(w=c[0],x=c[1],E=c[2]):p>=h&&p>=u?(w=c[1],x=c[0],E=c[2]):(w=c[2],x=c[0],E=c[1]),this.crossProductZ(x,w,E)<0){const T=x;x=E,E=T}c[0]=x,c[1]=w,c[2]=E}static distance(c,u){return Ke.distance(c.x,c.y,u.x,u.y)}static crossProductZ(c,u,h){const p=u.x,x=u.y;return(h.x-p)*(c.y-x)-(h.y-x)*(c.x-p)}}class ft{constructor(c,u){this.bits=c,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class yt extends ft{constructor(c,u,h,p,x){super(c,u),this.compact=h,this.nbDatablocks=p,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class et{constructor(c,u,h,p){this.image=c,this.height=c.getHeight(),this.width=c.getWidth(),u==null&&(u=et.INIT_SIZE),h==null&&(h=c.getWidth()/2|0),p==null&&(p=c.getHeight()/2|0);const x=u/2|0;if(this.leftInit=h-x,this.rightInit=h+x,this.upInit=p-x,this.downInit=p+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let c=this.leftInit,u=this.rightInit,h=this.upInit,p=this.downInit,x=!1,w=!0,E=!1,T=!1,P=!1,z=!1,te=!1;const Ae=this.width,ge=this.height;for(;w;){w=!1;let Be=!0;for(;(Be||!T)&&u<Ae;)Be=this.containsBlackPoint(h,p,u,!1),Be?(u++,w=!0,T=!0):T||u++;if(u>=Ae){x=!0;break}let Se=!0;for(;(Se||!P)&&p<ge;)Se=this.containsBlackPoint(c,u,p,!0),Se?(p++,w=!0,P=!0):P||p++;if(p>=ge){x=!0;break}let ke=!0;for(;(ke||!z)&&c>=0;)ke=this.containsBlackPoint(h,p,c,!1),ke?(c--,w=!0,z=!0):z||c--;if(c<0){x=!0;break}let We=!0;for(;(We||!te)&&h>=0;)We=this.containsBlackPoint(c,u,h,!0),We?(h--,w=!0,te=!0):te||h--;if(h<0){x=!0;break}w&&(E=!0)}if(!x&&E){const Be=u-c;let Se=null;for(let ut=1;Se===null&&ut<Be;ut++)Se=this.getBlackPointOnSegment(c,p-ut,c+ut,p);if(Se==null)throw new $;let ke=null;for(let ut=1;ke===null&&ut<Be;ut++)ke=this.getBlackPointOnSegment(c,h+ut,c+ut,h);if(ke==null)throw new $;let We=null;for(let ut=1;We===null&&ut<Be;ut++)We=this.getBlackPointOnSegment(u,h+ut,u-ut,h);if(We==null)throw new $;let ot=null;for(let ut=1;ot===null&&ut<Be;ut++)ot=this.getBlackPointOnSegment(u,p-ut,u-ut,p);if(ot==null)throw new $;return this.centerEdges(ot,Se,We,ke)}else throw new $}getBlackPointOnSegment(c,u,h,p){const x=Ke.round(Ke.distance(c,u,h,p)),w=(h-c)/x,E=(p-u)/x,T=this.image;for(let P=0;P<x;P++){const z=Ke.round(c+P*w),te=Ke.round(u+P*E);if(T.get(z,te))return new _e(z,te)}return null}centerEdges(c,u,h,p){const x=c.getX(),w=c.getY(),E=u.getX(),T=u.getY(),P=h.getX(),z=h.getY(),te=p.getX(),Ae=p.getY(),ge=et.CORR;return x<this.width/2?[new _e(te-ge,Ae+ge),new _e(E+ge,T+ge),new _e(P-ge,z-ge),new _e(x+ge,w-ge)]:[new _e(te+ge,Ae+ge),new _e(E+ge,T-ge),new _e(P-ge,z+ge),new _e(x-ge,w-ge)]}containsBlackPoint(c,u,h,p){const x=this.image;if(p){for(let w=c;w<=u;w++)if(x.get(w,h))return!0}else for(let w=c;w<=u;w++)if(x.get(h,w))return!0;return!1}}et.INIT_SIZE=10,et.CORR=1;class Nt{static checkAndNudgePoints(c,u){const h=c.getWidth(),p=c.getHeight();let x=!0;for(let w=0;w<u.length&&x;w+=2){const E=Math.floor(u[w]),T=Math.floor(u[w+1]);if(E<-1||E>h||T<-1||T>p)throw new $;x=!1,E===-1?(u[w]=0,x=!0):E===h&&(u[w]=h-1,x=!0),T===-1?(u[w+1]=0,x=!0):T===p&&(u[w+1]=p-1,x=!0)}x=!0;for(let w=u.length-2;w>=0&&x;w-=2){const E=Math.floor(u[w]),T=Math.floor(u[w+1]);if(E<-1||E>h||T<-1||T>p)throw new $;x=!1,E===-1?(u[w]=0,x=!0):E===h&&(u[w]=h-1,x=!0),T===-1?(u[w+1]=0,x=!0):T===p&&(u[w+1]=p-1,x=!0)}}}class wt{constructor(c,u,h,p,x,w,E,T,P){this.a11=c,this.a21=u,this.a31=h,this.a12=p,this.a22=x,this.a32=w,this.a13=E,this.a23=T,this.a33=P}static quadrilateralToQuadrilateral(c,u,h,p,x,w,E,T,P,z,te,Ae,ge,Be,Se,ke){const We=wt.quadrilateralToSquare(c,u,h,p,x,w,E,T);return wt.squareToQuadrilateral(P,z,te,Ae,ge,Be,Se,ke).times(We)}transformPoints(c){const u=c.length,h=this.a11,p=this.a12,x=this.a13,w=this.a21,E=this.a22,T=this.a23,P=this.a31,z=this.a32,te=this.a33;for(let Ae=0;Ae<u;Ae+=2){const ge=c[Ae],Be=c[Ae+1],Se=x*ge+T*Be+te;c[Ae]=(h*ge+w*Be+P)/Se,c[Ae+1]=(p*ge+E*Be+z)/Se}}transformPointsWithValues(c,u){const h=this.a11,p=this.a12,x=this.a13,w=this.a21,E=this.a22,T=this.a23,P=this.a31,z=this.a32,te=this.a33,Ae=c.length;for(let ge=0;ge<Ae;ge++){const Be=c[ge],Se=u[ge],ke=x*Be+T*Se+te;c[ge]=(h*Be+w*Se+P)/ke,u[ge]=(p*Be+E*Se+z)/ke}}static squareToQuadrilateral(c,u,h,p,x,w,E,T){const P=c-h+x-E,z=u-p+w-T;if(P===0&&z===0)return new wt(h-c,x-h,c,p-u,w-p,u,0,0,1);{const te=h-x,Ae=E-x,ge=p-w,Be=T-w,Se=te*Be-Ae*ge,ke=(P*Be-Ae*z)/Se,We=(te*z-P*ge)/Se;return new wt(h-c+ke*h,E-c+We*E,c,p-u+ke*p,T-u+We*T,u,ke,We,1)}}static quadrilateralToSquare(c,u,h,p,x,w,E,T){return wt.squareToQuadrilateral(c,u,h,p,x,w,E,T).buildAdjoint()}buildAdjoint(){return new wt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(c){return new wt(this.a11*c.a11+this.a21*c.a12+this.a31*c.a13,this.a11*c.a21+this.a21*c.a22+this.a31*c.a23,this.a11*c.a31+this.a21*c.a32+this.a31*c.a33,this.a12*c.a11+this.a22*c.a12+this.a32*c.a13,this.a12*c.a21+this.a22*c.a22+this.a32*c.a23,this.a12*c.a31+this.a22*c.a32+this.a32*c.a33,this.a13*c.a11+this.a23*c.a12+this.a33*c.a13,this.a13*c.a21+this.a23*c.a22+this.a33*c.a23,this.a13*c.a31+this.a23*c.a32+this.a33*c.a33)}}class Ht extends Nt{sampleGrid(c,u,h,p,x,w,E,T,P,z,te,Ae,ge,Be,Se,ke,We,ot,ut){const lt=wt.quadrilateralToQuadrilateral(p,x,w,E,T,P,z,te,Ae,ge,Be,Se,ke,We,ot,ut);return this.sampleGridWithTransform(c,u,h,lt)}sampleGridWithTransform(c,u,h,p){if(u<=0||h<=0)throw new $;const x=new Z(u,h),w=new Float32Array(2*u);for(let E=0;E<h;E++){const T=w.length,P=E+.5;for(let z=0;z<T;z+=2)w[z]=z/2+.5,w[z+1]=P;p.transformPoints(w),Nt.checkAndNudgePoints(c,w);try{for(let z=0;z<T;z+=2)c.get(Math.floor(w[z]),Math.floor(w[z+1]))&&x.set(z/2,E)}catch{throw new $}}return x}}class lr{static setGridSampler(c){lr.gridSampler=c}static getInstance(){return lr.gridSampler}}lr.gridSampler=new Ht;class qe{constructor(c,u){this.x=c,this.y=u}toResultPoint(){return new _e(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class St{constructor(c){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=c}detect(){return this.detectMirror(!1)}detectMirror(c){let u=this.getMatrixCenter(),h=this.getBullsEyeCorners(u);if(c){let w=h[0];h[0]=h[2],h[2]=w}this.extractParameters(h);let p=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),x=this.getMatrixCornerPoints(h);return new yt(p,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(c){if(!this.isValidPoint(c[0])||!this.isValidPoint(c[1])||!this.isValidPoint(c[2])||!this.isValidPoint(c[3]))throw new $;let u=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(c[0],c[1],u),this.sampleLine(c[1],c[2],u),this.sampleLine(c[2],c[3],u),this.sampleLine(c[3],c[0],u)]);this.shift=this.getRotation(h,u);let p=0;for(let w=0;w<4;w++){let E=h[(this.shift+w)%4];this.compact?(p<<=7,p+=E>>1&127):(p<<=10,p+=(E>>2&992)+(E>>1&31))}let x=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(c,u){let h=0;c.forEach((p,x,w)=>{let E=(p>>u-2<<1)+(p&1);h=(h<<3)+E}),h=((h&1)<<11)+(h>>1);for(let p=0;p<4;p++)if(I.bitCount(h^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new $}getCorrectedParameterData(c,u){let h,p;u?(h=7,p=2):(h=10,p=4);let x=h-p,w=new Int32Array(h);for(let T=h-1;T>=0;--T)w[T]=c&15,c>>=4;try{new ye(Me.AZTEC_PARAM).decode(w,x)}catch{throw new $}let E=0;for(let T=0;T<p;T++)E=(E<<4)+w[T];return E}getBullsEyeCorners(c){let u=c,h=c,p=c,x=c,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let te=this.getFirstDifferent(u,w,1,-1),Ae=this.getFirstDifferent(h,w,1,1),ge=this.getFirstDifferent(p,w,-1,1),Be=this.getFirstDifferent(x,w,-1,-1);if(this.nbCenterLayers>2){let Se=this.distancePoint(Be,te)*this.nbCenterLayers/(this.distancePoint(x,u)*(this.nbCenterLayers+2));if(Se<.75||Se>1.25||!this.isWhiteOrBlackRectangle(te,Ae,ge,Be))break}u=te,h=Ae,p=ge,x=Be,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let E=new _e(u.getX()+.5,u.getY()-.5),T=new _e(h.getX()+.5,h.getY()+.5),P=new _e(p.getX()-.5,p.getY()+.5),z=new _e(x.getX()-.5,x.getY()-.5);return this.expandSquare([E,T,P,z],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let c,u,h,p;try{let E=new et(this.image).detect();c=E[0],u=E[1],h=E[2],p=E[3]}catch{let T=this.image.getWidth()/2,P=this.image.getHeight()/2;c=this.getFirstDifferent(new qe(T+7,P-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new qe(T+7,P+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new qe(T-7,P+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new qe(T-7,P-7),!1,-1,-1).toResultPoint()}let x=Ke.round((c.getX()+p.getX()+u.getX()+h.getX())/4),w=Ke.round((c.getY()+p.getY()+u.getY()+h.getY())/4);try{let E=new et(this.image,15,x,w).detect();c=E[0],u=E[1],h=E[2],p=E[3]}catch{c=this.getFirstDifferent(new qe(x+7,w-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new qe(x+7,w+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new qe(x-7,w+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new qe(x-7,w-7),!1,-1,-1).toResultPoint()}return x=Ke.round((c.getX()+p.getX()+u.getX()+h.getX())/4),w=Ke.round((c.getY()+p.getY()+u.getY()+h.getY())/4),new qe(x,w)}getMatrixCornerPoints(c){return this.expandSquare(c,2*this.nbCenterLayers,this.getDimension())}sampleGrid(c,u,h,p,x){let w=lr.getInstance(),E=this.getDimension(),T=E/2-this.nbCenterLayers,P=E/2+this.nbCenterLayers;return w.sampleGrid(c,E,E,T,T,P,T,P,P,T,P,u.getX(),u.getY(),h.getX(),h.getY(),p.getX(),p.getY(),x.getX(),x.getY())}sampleLine(c,u,h){let p=0,x=this.distanceResultPoint(c,u),w=x/h,E=c.getX(),T=c.getY(),P=w*(u.getX()-c.getX())/x,z=w*(u.getY()-c.getY())/x;for(let te=0;te<h;te++)this.image.get(Ke.round(E+te*P),Ke.round(T+te*z))&&(p|=1<<h-te-1);return p}isWhiteOrBlackRectangle(c,u,h,p){let x=3;c=new qe(c.getX()-x,c.getY()+x),u=new qe(u.getX()-x,u.getY()-x),h=new qe(h.getX()+x,h.getY()-x),p=new qe(p.getX()+x,p.getY()+x);let w=this.getColor(p,c);if(w===0)return!1;let E=this.getColor(c,u);return E!==w||(E=this.getColor(u,h),E!==w)?!1:(E=this.getColor(h,p),E===w)}getColor(c,u){let h=this.distancePoint(c,u),p=(u.getX()-c.getX())/h,x=(u.getY()-c.getY())/h,w=0,E=c.getX(),T=c.getY(),P=this.image.get(c.getX(),c.getY()),z=Math.ceil(h);for(let Ae=0;Ae<z;Ae++)E+=p,T+=x,this.image.get(Ke.round(E),Ke.round(T))!==P&&w++;let te=w/h;return te>.1&&te<.9?0:te<=.1===P?1:-1}getFirstDifferent(c,u,h,p){let x=c.getX()+h,w=c.getY()+p;for(;this.isValid(x,w)&&this.image.get(x,w)===u;)x+=h,w+=p;for(x-=h,w-=p;this.isValid(x,w)&&this.image.get(x,w)===u;)x+=h;for(x-=h;this.isValid(x,w)&&this.image.get(x,w)===u;)w+=p;return w-=p,new qe(x,w)}expandSquare(c,u,h){let p=h/(2*u),x=c[0].getX()-c[2].getX(),w=c[0].getY()-c[2].getY(),E=(c[0].getX()+c[2].getX())/2,T=(c[0].getY()+c[2].getY())/2,P=new _e(E+p*x,T+p*w),z=new _e(E-p*x,T-p*w);x=c[1].getX()-c[3].getX(),w=c[1].getY()-c[3].getY(),E=(c[1].getX()+c[3].getX())/2,T=(c[1].getY()+c[3].getY())/2;let te=new _e(E+p*x,T+p*w),Ae=new _e(E-p*x,T-p*w);return[P,te,z,Ae]}isValid(c,u){return c>=0&&c<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(c){let u=Ke.round(c.getX()),h=Ke.round(c.getY());return this.isValid(u,h)}distancePoint(c,u){return Ke.distance(c.getX(),c.getY(),u.getX(),u.getY())}distanceResultPoint(c,u){return Ke.distance(c.getX(),c.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class Ze{decode(c,u=null){let h=null,p=new St(c.getBlackMatrix()),x=null,w=null;try{let z=p.detectMirror(!1);x=z.getPoints(),this.reportFoundResultPoints(u,x),w=new rt().decode(z)}catch(z){h=z}if(w==null)try{let z=p.detectMirror(!0);x=z.getPoints(),this.reportFoundResultPoints(u,x),w=new rt().decode(z)}catch(z){throw h??z}let E=new ie(w.getText(),w.getRawBytes(),w.getNumBits(),x,ce.AZTEC,C.currentTimeMillis()),T=w.getByteSegments();T!=null&&E.putMetadata(we.BYTE_SEGMENTS,T);let P=w.getECLevel();return P!=null&&E.putMetadata(we.ERROR_CORRECTION_LEVEL,P),E}reportFoundResultPoints(c,u){if(c!=null){let h=c.get(V.NEED_RESULT_POINT_CALLBACK);h!=null&&u.forEach((p,x,w)=>{h.foundPossibleResultPoint(p)})}}reset(){}}class br extends ee{constructor(c=500){super(new Ze,c)}}class Ot{decode(c,u){try{return this.doDecode(c,u)}catch{if(u&&u.get(V.TRY_HARDER)===!0&&c.isRotateSupported()){const x=c.rotateCounterClockwise(),w=this.doDecode(x,u),E=w.getResultMetadata();let T=270;E!==null&&E.get(we.ORIENTATION)===!0&&(T=T+E.get(we.ORIENTATION)%360),w.putMetadata(we.ORIENTATION,T);const P=w.getResultPoints();if(P!==null){const z=x.getHeight();for(let te=0;te<P.length;te++)P[te]=new _e(z-P[te].getY()-1,P[te].getX())}return w}else throw new $}}reset(){}doDecode(c,u){const h=c.getWidth(),p=c.getHeight();let x=new k(h);const w=u&&u.get(V.TRY_HARDER)===!0,E=Math.max(1,p>>(w?8:5));let T;w?T=p:T=15;const P=Math.trunc(p/2);for(let z=0;z<T;z++){const te=Math.trunc((z+1)/2),Ae=(z&1)===0,ge=P+E*(Ae?te:-te);if(ge<0||ge>=p)break;try{x=c.getBlackRow(ge,x)}catch{continue}for(let Be=0;Be<2;Be++){if(Be===1&&(x.reverse(),u&&u.get(V.NEED_RESULT_POINT_CALLBACK)===!0)){const Se=new Map;u.forEach((ke,We)=>Se.set(We,ke)),Se.delete(V.NEED_RESULT_POINT_CALLBACK),u=Se}try{const Se=this.decodeRow(ge,x,u);if(Be===1){Se.putMetadata(we.ORIENTATION,180);const ke=Se.getResultPoints();ke!==null&&(ke[0]=new _e(h-ke[0].getX()-1,ke[0].getY()),ke[1]=new _e(h-ke[1].getX()-1,ke[1].getY()))}return Se}catch{}}}throw new $}static recordPattern(c,u,h){const p=h.length;for(let P=0;P<p;P++)h[P]=0;const x=c.getSize();if(u>=x)throw new $;let w=!c.get(u),E=0,T=u;for(;T<x;){if(c.get(T)!==w)h[E]++;else{if(++E===p)break;h[E]=1,w=!w}T++}if(!(E===p||E===p-1&&T===x))throw new $}static recordPatternInReverse(c,u,h){let p=h.length,x=c.get(u);for(;u>0&&p>=0;)c.get(--u)!==x&&(p--,x=!x);if(p>=0)throw new $;Ot.recordPattern(c,u+1,h)}static patternMatchVariance(c,u,h){const p=c.length;let x=0,w=0;for(let P=0;P<p;P++)x+=c[P],w+=u[P];if(x<w)return Number.POSITIVE_INFINITY;const E=x/w;h*=E;let T=0;for(let P=0;P<p;P++){const z=c[P],te=u[P]*E,Ae=z>te?z-te:te-z;if(Ae>h)return Number.POSITIVE_INFINITY;T+=Ae}return T/x}}class dt extends Ot{static findStartPattern(c){const u=c.getSize(),h=c.getNextSet(0);let p=0,x=Int32Array.from([0,0,0,0,0,0]),w=h,E=!1;const T=6;for(let P=h;P<u;P++)if(c.get(P)!==E)x[p]++;else{if(p===T-1){let z=dt.MAX_AVG_VARIANCE,te=-1;for(let Ae=dt.CODE_START_A;Ae<=dt.CODE_START_C;Ae++){const ge=Ot.patternMatchVariance(x,dt.CODE_PATTERNS[Ae],dt.MAX_INDIVIDUAL_VARIANCE);ge<z&&(z=ge,te=Ae)}if(te>=0&&c.isRange(Math.max(0,w-(P-w)/2),w,!1))return Int32Array.from([w,P,te]);w+=x[0]+x[1],x=x.slice(2,x.length-1),x[p-1]=0,x[p]=0,p--}else p++;x[p]=1,E=!E}throw new $}static decodeCode(c,u,h){Ot.recordPattern(c,h,u);let p=dt.MAX_AVG_VARIANCE,x=-1;for(let w=0;w<dt.CODE_PATTERNS.length;w++){const E=dt.CODE_PATTERNS[w],T=this.patternMatchVariance(u,E,dt.MAX_INDIVIDUAL_VARIANCE);T<p&&(p=T,x=w)}if(x>=0)return x;throw new $}decodeRow(c,u,h){const p=h&&h.get(V.ASSUME_GS1)===!0,x=dt.findStartPattern(u),w=x[2];let E=0;const T=new Uint8Array(20);T[E++]=w;let P;switch(w){case dt.CODE_START_A:P=dt.CODE_CODE_A;break;case dt.CODE_START_B:P=dt.CODE_CODE_B;break;case dt.CODE_START_C:P=dt.CODE_CODE_C;break;default:throw new O}let z=!1,te=!1,Ae="",ge=x[0],Be=x[1];const Se=Int32Array.from([0,0,0,0,0,0]);let ke=0,We=0,ot=w,ut=0,lt=!0,wr=!1,ar=!1;for(;!z;){const ho=te;switch(te=!1,ke=We,We=dt.decodeCode(u,Se,Be),T[E++]=We,We!==dt.CODE_STOP&&(lt=!0),We!==dt.CODE_STOP&&(ut++,ot+=ut*We),ge=Be,Be+=Se.reduce((gi,xi)=>gi+xi,0),We){case dt.CODE_START_A:case dt.CODE_START_B:case dt.CODE_START_C:throw new O}switch(P){case dt.CODE_CODE_A:if(We<64)ar===wr?Ae+=String.fromCharCode(32+We):Ae+=String.fromCharCode(32+We+128),ar=!1;else if(We<96)ar===wr?Ae+=String.fromCharCode(We-64):Ae+=String.fromCharCode(We+64),ar=!1;else switch(We!==dt.CODE_STOP&&(lt=!1),We){case dt.CODE_FNC_1:p&&(Ae.length===0?Ae+="]C1":Ae+="");break;case dt.CODE_FNC_2:case dt.CODE_FNC_3:break;case dt.CODE_FNC_4_A:!wr&&ar?(wr=!0,ar=!1):wr&&ar?(wr=!1,ar=!1):ar=!0;break;case dt.CODE_SHIFT:te=!0,P=dt.CODE_CODE_B;break;case dt.CODE_CODE_B:P=dt.CODE_CODE_B;break;case dt.CODE_CODE_C:P=dt.CODE_CODE_C;break;case dt.CODE_STOP:z=!0;break}break;case dt.CODE_CODE_B:if(We<96)ar===wr?Ae+=String.fromCharCode(32+We):Ae+=String.fromCharCode(32+We+128),ar=!1;else switch(We!==dt.CODE_STOP&&(lt=!1),We){case dt.CODE_FNC_1:p&&(Ae.length===0?Ae+="]C1":Ae+="");break;case dt.CODE_FNC_2:case dt.CODE_FNC_3:break;case dt.CODE_FNC_4_B:!wr&&ar?(wr=!0,ar=!1):wr&&ar?(wr=!1,ar=!1):ar=!0;break;case dt.CODE_SHIFT:te=!0,P=dt.CODE_CODE_A;break;case dt.CODE_CODE_A:P=dt.CODE_CODE_A;break;case dt.CODE_CODE_C:P=dt.CODE_CODE_C;break;case dt.CODE_STOP:z=!0;break}break;case dt.CODE_CODE_C:if(We<100)We<10&&(Ae+="0"),Ae+=We;else switch(We!==dt.CODE_STOP&&(lt=!1),We){case dt.CODE_FNC_1:p&&(Ae.length===0?Ae+="]C1":Ae+="");break;case dt.CODE_CODE_A:P=dt.CODE_CODE_A;break;case dt.CODE_CODE_B:P=dt.CODE_CODE_B;break;case dt.CODE_STOP:z=!0;break}break}ho&&(P=P===dt.CODE_CODE_A?dt.CODE_CODE_B:dt.CODE_CODE_A)}const ds=Be-ge;if(Be=u.getNextUnset(Be),!u.isRange(Be,Math.min(u.getSize(),Be+(Be-ge)/2),!1))throw new $;if(ot-=ut*ke,ot%103!==ke)throw new g;const Gs=Ae.length;if(Gs===0)throw new $;Gs>0&&lt&&(P===dt.CODE_CODE_C?Ae=Ae.substring(0,Gs-2):Ae=Ae.substring(0,Gs-1));const ns=(x[1]+x[0])/2,_r=ge+ds/2,Xn=T.length,Es=new Uint8Array(Xn);for(let ho=0;ho<Xn;ho++)Es[ho]=T[ho];const Xa=[new _e(ns,c),new _e(_r,c)];return new ie(Ae,Es,0,Xa,ce.CODE_128,new Date().getTime())}}dt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],dt.MAX_AVG_VARIANCE=.25,dt.MAX_INDIVIDUAL_VARIANCE=.7,dt.CODE_SHIFT=98,dt.CODE_CODE_C=99,dt.CODE_CODE_B=100,dt.CODE_CODE_A=101,dt.CODE_FNC_1=102,dt.CODE_FNC_2=97,dt.CODE_FNC_3=96,dt.CODE_FNC_4_A=101,dt.CODE_FNC_4_B=100,dt.CODE_START_A=103,dt.CODE_START_B=104,dt.CODE_START_C=105,dt.CODE_STOP=106;class Zt extends Ot{constructor(c=!1,u=!1){super(),this.usingCheckDigit=c,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(c,u,h){let p=this.counters;p.fill(0),this.decodeRowResult="";let x=Zt.findAsteriskPattern(u,p),w=u.getNextSet(x[1]),E=u.getSize(),T,P;do{Zt.recordPattern(u,w,p);let Se=Zt.toNarrowWidePattern(p);if(Se<0)throw new $;T=Zt.patternToChar(Se),this.decodeRowResult+=T,P=w;for(let ke of p)w+=ke;w=u.getNextSet(w)}while(T!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let z=0;for(let Se of p)z+=Se;let te=w-P-z;if(w!==E&&te*2<z)throw new $;if(this.usingCheckDigit){let Se=this.decodeRowResult.length-1,ke=0;for(let We=0;We<Se;We++)ke+=Zt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(We));if(this.decodeRowResult.charAt(Se)!==Zt.ALPHABET_STRING.charAt(ke%43))throw new g;this.decodeRowResult=this.decodeRowResult.substring(0,Se)}if(this.decodeRowResult.length===0)throw new $;let Ae;this.extendedMode?Ae=Zt.decodeExtended(this.decodeRowResult):Ae=this.decodeRowResult;let ge=(x[1]+x[0])/2,Be=P+z/2;return new ie(Ae,null,0,[new _e(ge,c),new _e(Be,c)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(c,u){let h=c.getSize(),p=c.getNextSet(0),x=0,w=p,E=!1,T=u.length;for(let P=p;P<h;P++)if(c.get(P)!==E)u[x]++;else{if(x===T-1){if(this.toNarrowWidePattern(u)===Zt.ASTERISK_ENCODING&&c.isRange(Math.max(0,w-Math.floor((P-w)/2)),w,!1))return[w,P];w+=u[0]+u[1],u.copyWithin(0,2,2+x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,E=!E}throw new $}static toNarrowWidePattern(c){let u=c.length,h=0,p;do{let x=2147483647;for(let T of c)T<x&&T>h&&(x=T);h=x,p=0;let w=0,E=0;for(let T=0;T<u;T++){let P=c[T];P>h&&(E|=1<<u-1-T,p++,w+=P)}if(p===3){for(let T=0;T<u&&p>0;T++){let P=c[T];if(P>h&&(p--,P*2>=w))return-1}return E}}while(p>3);return-1}static patternToChar(c){for(let u=0;u<Zt.CHARACTER_ENCODINGS.length;u++)if(Zt.CHARACTER_ENCODINGS[u]===c)return Zt.ALPHABET_STRING.charAt(u);if(c===Zt.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(c){let u=c.length,h="";for(let p=0;p<u;p++){let x=c.charAt(p);if(x==="+"||x==="$"||x==="%"||x==="/"){let w=c.charAt(p+1),E="\0";switch(x){case"+":if(w>="A"&&w<="Z")E=String.fromCharCode(w.charCodeAt(0)+32);else throw new O;break;case"$":if(w>="A"&&w<="Z")E=String.fromCharCode(w.charCodeAt(0)-64);else throw new O;break;case"%":if(w>="A"&&w<="E")E=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")E=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")E=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")E=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")E="\0";else if(w==="V")E="@";else if(w==="W")E="`";else if(w==="X"||w==="Y"||w==="Z")E="";else throw new O;break;case"/":if(w>="A"&&w<="O")E=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")E=":";else throw new O;break}h+=E,p++}else h+=x}return h}}Zt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Zt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Zt.ASTERISK_ENCODING=148;class Ut extends Ot{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(c,u,h){let p=this.decodeStart(u),x=this.decodeEnd(u),w=new X;Ut.decodeMiddle(u,p[1],x[0],w);let E=w.toString(),T=null;h!=null&&(T=h.get(V.ALLOWED_LENGTHS)),T==null&&(T=Ut.DEFAULT_ALLOWED_LENGTHS);let P=E.length,z=!1,te=0;for(let Be of T){if(P===Be){z=!0;break}Be>te&&(te=Be)}if(!z&&P>te&&(z=!0),!z)throw new O;const Ae=[new _e(p[1],c),new _e(x[0],c)];return new ie(E,null,0,Ae,ce.ITF,new Date().getTime())}static decodeMiddle(c,u,h,p){let x=new Int32Array(10),w=new Int32Array(5),E=new Int32Array(5);for(x.fill(0),w.fill(0),E.fill(0);u<h;){Ot.recordPattern(c,u,x);for(let P=0;P<5;P++){let z=2*P;w[P]=x[z],E[P]=x[z+1]}let T=Ut.decodeDigit(w);p.append(T.toString()),T=this.decodeDigit(E),p.append(T.toString()),x.forEach(function(P){u+=P})}}decodeStart(c){let u=Ut.skipWhiteSpace(c),h=Ut.findGuardPattern(c,u,Ut.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(c,h[0]),h}validateQuietZone(c,u){let h=this.narrowLineWidth*10;h=h<u?h:u;for(let p=u-1;h>0&&p>=0&&!c.get(p);p--)h--;if(h!==0)throw new $}static skipWhiteSpace(c){const u=c.getSize(),h=c.getNextSet(0);if(h===u)throw new $;return h}decodeEnd(c){c.reverse();try{let u=Ut.skipWhiteSpace(c),h;try{h=Ut.findGuardPattern(c,u,Ut.END_PATTERN_REVERSED[0])}catch(x){x instanceof $&&(h=Ut.findGuardPattern(c,u,Ut.END_PATTERN_REVERSED[1]))}this.validateQuietZone(c,h[0]);let p=h[0];return h[0]=c.getSize()-h[1],h[1]=c.getSize()-p,h}finally{c.reverse()}}static findGuardPattern(c,u,h){let p=h.length,x=new Int32Array(p),w=c.getSize(),E=!1,T=0,P=u;x.fill(0);for(let z=u;z<w;z++)if(c.get(z)!==E)x[T]++;else{if(T===p-1){if(Ot.patternMatchVariance(x,h,Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE)return[P,z];P+=x[0]+x[1],C.arraycopy(x,2,x,0,T-1),x[T-1]=0,x[T]=0,T--}else T++;x[T]=1,E=!E}throw new $}static decodeDigit(c){let u=Ut.MAX_AVG_VARIANCE,h=-1,p=Ut.PATTERNS.length;for(let x=0;x<p;x++){let w=Ut.PATTERNS[x],E=Ot.patternMatchVariance(c,w,Ut.MAX_INDIVIDUAL_VARIANCE);E<u?(u=E,h=x):E===u&&(h=-1)}if(h>=0)return h%10;throw new $}}Ut.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ut.MAX_AVG_VARIANCE=.38,Ut.MAX_INDIVIDUAL_VARIANCE=.5,Ut.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ut.START_PATTERN=Int32Array.from([1,1,1,1]),Ut.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Or extends Ot{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(c){let u=!1,h,p=0,x=Int32Array.from([0,0,0]);for(;!u;){x=Int32Array.from([0,0,0]),h=Or.findGuardPattern(c,p,!1,this.START_END_PATTERN,x);let w=h[0];p=h[1];let E=w-(p-w);E>=0&&(u=c.isRange(E,w,!1))}return h}static checkChecksum(c){return Or.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let u=c.length;if(u===0)return!1;let h=parseInt(c.charAt(u-1),10);return Or.getStandardUPCEANChecksum(c.substring(0,u-1))===h}static getStandardUPCEANChecksum(c){let u=c.length,h=0;for(let p=u-1;p>=0;p-=2){let x=c.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new O;h+=x}h*=3;for(let p=u-2;p>=0;p-=2){let x=c.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new O;h+=x}return(1e3-h)%10}static decodeEnd(c,u){return Or.findGuardPattern(c,u,!1,Or.START_END_PATTERN,new Int32Array(Or.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(c,u,h,p){return this.findGuardPattern(c,u,h,p,new Int32Array(p.length))}static findGuardPattern(c,u,h,p,x){let w=c.getSize();u=h?c.getNextUnset(u):c.getNextSet(u);let E=0,T=u,P=p.length,z=h;for(let te=u;te<w;te++)if(c.get(te)!==z)x[E]++;else{if(E===P-1){if(Ot.patternMatchVariance(x,p,Or.MAX_INDIVIDUAL_VARIANCE)<Or.MAX_AVG_VARIANCE)return Int32Array.from([T,te]);T+=x[0]+x[1];let Ae=x.slice(2,x.length-1);for(let ge=0;ge<E-1;ge++)x[ge]=Ae[ge];x[E-1]=0,x[E]=0,E--}else E++;x[E]=1,z=!z}throw new $}static decodeDigit(c,u,h,p){this.recordPattern(c,h,u);let x=this.MAX_AVG_VARIANCE,w=-1,E=p.length;for(let T=0;T<E;T++){let P=p[T],z=Ot.patternMatchVariance(u,P,Or.MAX_INDIVIDUAL_VARIANCE);z<x&&(x=z,w=T)}if(w>=0)return w;throw new $}}Or.MAX_AVG_VARIANCE=.48,Or.MAX_INDIVIDUAL_VARIANCE=.7,Or.START_END_PATTERN=Int32Array.from([1,1,1]),Or.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Or.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Or.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Er{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,u,h){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(u,h,p),w=p.toString(),E=Er.parseExtensionString(w),T=[new _e((h[0]+h[1])/2,c),new _e(x,c)],P=new ie(w,null,0,T,ce.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&P.putAllMetadata(E),P}decodeMiddle(c,u,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=c.getSize(),w=u[1],E=0;for(let P=0;P<5&&w<x;P++){let z=Or.decodeDigit(c,p,w,Or.L_AND_G_PATTERNS);h+=String.fromCharCode(48+z%10);for(let te of p)w+=te;z>=10&&(E|=1<<4-P),P!==4&&(w=c.getNextSet(w),w=c.getNextUnset(w))}if(h.length!==5)throw new $;let T=this.determineCheckDigit(E);if(Er.extensionChecksum(h.toString())!==T)throw new $;return w}static extensionChecksum(c){let u=c.length,h=0;for(let p=u-2;p>=0;p-=2)h+=c.charAt(p).charCodeAt(0)-48;h*=3;for(let p=u-1;p>=0;p-=2)h+=c.charAt(p).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(c){for(let u=0;u<10;u++)if(c===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new $}static parseExtensionString(c){if(c.length!==5)return null;let u=Er.parseExtension5String(c);return u==null?null:new Map([[we.SUGGESTED_PRICE,u]])}static parseExtension5String(c){let u;switch(c.charAt(0)){case"0":u="£";break;case"5":u="$";break;case"9":switch(c){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let h=parseInt(c.substring(1)),p=(h/100).toString(),x=h%100,w=x<10?"0"+x:x.toString();return u+p+"."+w}}class fi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,u,h){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(u,h,p),w=p.toString(),E=fi.parseExtensionString(w),T=[new _e((h[0]+h[1])/2,c),new _e(x,c)],P=new ie(w,null,0,T,ce.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&P.putAllMetadata(E),P}decodeMiddle(c,u,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=c.getSize(),w=u[1],E=0;for(let T=0;T<2&&w<x;T++){let P=Or.decodeDigit(c,p,w,Or.L_AND_G_PATTERNS);h+=String.fromCharCode(48+P%10);for(let z of p)w+=z;P>=10&&(E|=1<<1-T),T!==1&&(w=c.getNextSet(w),w=c.getNextUnset(w))}if(h.length!==2)throw new $;if(parseInt(h.toString())%4!==E)throw new $;return w}static parseExtensionString(c){return c.length!==2?null:new Map([[we.ISSUE_NUMBER,parseInt(c)]])}}class hn{static decodeRow(c,u,h){let p=Or.findGuardPattern(u,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Er().decodeRow(c,u,p)}catch{return new fi().decodeRow(c,u,p)}}}hn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ur extends Or{constructor(){super(),this.decodeRowStringBuffer="",ur.L_AND_G_PATTERNS=ur.L_PATTERNS.map(c=>Int32Array.from(c));for(let c=10;c<20;c++){let u=ur.L_PATTERNS[c-10],h=new Int32Array(u.length);for(let p=0;p<u.length;p++)h[p]=u[u.length-p-1];ur.L_AND_G_PATTERNS[c]=h}}decodeRow(c,u,h){let p=ur.findStartGuardPattern(u),x=h==null?null:h.get(V.NEED_RESULT_POINT_CALLBACK);if(x!=null){const lt=new _e((p[0]+p[1])/2,c);x.foundPossibleResultPoint(lt)}let w=this.decodeMiddle(u,p,this.decodeRowStringBuffer),E=w.rowOffset,T=w.resultString;if(x!=null){const lt=new _e(E,c);x.foundPossibleResultPoint(lt)}let P=this.decodeEnd(u,E);if(x!=null){const lt=new _e((P[0]+P[1])/2,c);x.foundPossibleResultPoint(lt)}let z=P[1],te=z+(z-P[0]);if(te>=u.getSize()||!u.isRange(z,te,!1))throw new $;let Ae=T.toString();if(Ae.length<8)throw new O;if(!ur.checkChecksum(Ae))throw new g;let ge=(p[1]+p[0])/2,Be=(P[1]+P[0])/2,Se=this.getBarcodeFormat(),ke=[new _e(ge,c),new _e(Be,c)],We=new ie(Ae,null,0,ke,Se,new Date().getTime()),ot=0;try{let lt=hn.decodeRow(c,u,P[1]);We.putMetadata(we.UPC_EAN_EXTENSION,lt.getText()),We.putAllMetadata(lt.getResultMetadata()),We.addResultPoints(lt.getResultPoints()),ot=lt.getText().length}catch{}let ut=h==null?null:h.get(V.ALLOWED_EAN_EXTENSIONS);if(ut!=null){let lt=!1;for(let wr in ut)if(ot.toString()===wr){lt=!0;break}if(!lt)throw new $}return We}decodeEnd(c,u){return ur.findGuardPattern(c,u,!1,ur.START_END_PATTERN,new Int32Array(ur.START_END_PATTERN.length).fill(0))}static checkChecksum(c){return ur.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let u=c.length;if(u===0)return!1;let h=parseInt(c.charAt(u-1),10);return ur.getStandardUPCEANChecksum(c.substring(0,u-1))===h}static getStandardUPCEANChecksum(c){let u=c.length,h=0;for(let p=u-1;p>=0;p-=2){let x=c.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new O;h+=x}h*=3;for(let p=u-2;p>=0;p-=2){let x=c.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new O;h+=x}return(1e3-h)%10}}class vs extends ur{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,u,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=c.getSize(),w=u[1],E=0;for(let P=0;P<6&&w<x;P++){let z=ur.decodeDigit(c,p,w,ur.L_AND_G_PATTERNS);h+=String.fromCharCode(48+z%10);for(let te of p)w+=te;z>=10&&(E|=1<<5-P)}h=vs.determineFirstDigit(h,E),w=ur.findGuardPattern(c,w,!0,ur.MIDDLE_PATTERN,new Int32Array(ur.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<6&&w<x;P++){let z=ur.decodeDigit(c,p,w,ur.L_PATTERNS);h+=String.fromCharCode(48+z);for(let te of p)w+=te}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(c,u){for(let h=0;h<10;h++)if(u===this.FIRST_DIGIT_ENCODINGS[h])return c=String.fromCharCode(48+h)+c,c;throw new $}}vs.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Qr extends ur{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,u,h){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=c.getSize(),w=u[1];for(let T=0;T<4&&w<x;T++){let P=ur.decodeDigit(c,p,w,ur.L_PATTERNS);h+=String.fromCharCode(48+P);for(let z of p)w+=z}w=ur.findGuardPattern(c,w,!0,ur.MIDDLE_PATTERN,new Int32Array(ur.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<4&&w<x;T++){let P=ur.decodeDigit(c,p,w,ur.L_PATTERNS);h+=String.fromCharCode(48+P);for(let z of p)w+=z}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return ce.EAN_8}}class nr extends ur{constructor(){super(...arguments),this.ean13Reader=new vs}getBarcodeFormat(){return ce.UPC_A}decode(c,u){return this.maybeReturnResult(this.ean13Reader.decode(c))}decodeRow(c,u,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(c,u,h))}decodeMiddle(c,u,h){return this.ean13Reader.decodeMiddle(c,u,h)}maybeReturnResult(c){let u=c.getText();if(u.charAt(0)==="0"){let h=new ie(u.substring(1),null,null,c.getResultPoints(),ce.UPC_A);return c.getResultMetadata()!=null&&h.putAllMetadata(c.getResultMetadata()),h}else throw new $}reset(){this.ean13Reader.reset()}}class gt extends ur{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(c,u,h){const p=this.decodeMiddleCounters.map(P=>P);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const x=c.getSize();let w=u[1],E=0;for(let P=0;P<6&&w<x;P++){const z=gt.decodeDigit(c,p,w,gt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+z%10);for(let te of p)w+=te;z>=10&&(E|=1<<5-P)}let T=gt.determineNumSysAndCheckDigit(h,E);return{rowOffset:w,resultString:T}}decodeEnd(c,u){return gt.findGuardPatternWithoutCounters(c,u,!0,gt.MIDDLE_END_PATTERN)}checkChecksum(c){return ur.checkChecksum(gt.convertUPCEtoUPCA(c))}static determineNumSysAndCheckDigit(c,u){for(let h=0;h<=1;h++)for(let p=0;p<10;p++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][p]){let x=String.fromCharCode(48+h),w=String.fromCharCode(48+p);return x+c+w}throw $.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(c){const u=c.slice(1,7).split("").map(x=>x.charCodeAt(0)),h=new X;h.append(c.charAt(0));let p=u[5];switch(p){case 0:case 1:case 2:h.appendChars(u,0,2),h.append(p),h.append("0000"),h.appendChars(u,2,3);break;case 3:h.appendChars(u,0,3),h.append("00000"),h.appendChars(u,3,2);break;case 4:h.appendChars(u,0,4),h.append("00000"),h.append(u[4]);break;default:h.appendChars(u,0,5),h.append("0000"),h.append(p);break}return c.length>=8&&h.append(c.charAt(7)),h.toString()}}gt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),gt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Cr extends Ot{constructor(c){super();let u=c==null?null:c.get(V.POSSIBLE_FORMATS),h=[];n(u)?(h.push(new vs),h.push(new nr),h.push(new Qr),h.push(new gt)):(u.indexOf(ce.EAN_13)>-1&&h.push(new vs),u.indexOf(ce.UPC_A)>-1&&h.push(new nr),u.indexOf(ce.EAN_8)>-1&&h.push(new Qr),u.indexOf(ce.UPC_E)>-1&&h.push(new gt)),this.readers=h}decodeRow(c,u,h){for(let p of this.readers)try{const x=p.decodeRow(c,u,h),w=x.getBarcodeFormat()===ce.EAN_13&&x.getText().charAt(0)==="0",E=h==null?null:h.get(V.POSSIBLE_FORMATS),T=E==null||E.includes(ce.UPC_A);if(w&&T){const P=x.getRawBytes(),z=new ie(x.getText().substring(1),P,P?P.length:null,x.getResultPoints(),ce.UPC_A);return z.putAllMetadata(x.getResultMetadata()),z}return x}catch{}throw new $}reset(){for(let c of this.readers)c.reset()}}class Qt extends Ot{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(c,u){for(let h=0;h<u.length;h++)if(Ot.patternMatchVariance(c,u[h],Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return h;throw new $}static count(c){return Ke.sum(new Int32Array(c))}static increment(c,u){let h=0,p=u[0];for(let x=1;x<c.length;x++)u[x]>p&&(p=u[x],h=x);c[h]++}static decrement(c,u){let h=0,p=u[0];for(let x=1;x<c.length;x++)u[x]<p&&(p=u[x],h=x);c[h]--}static isFinderPattern(c){let u=c[0]+c[1],h=u+c[2]+c[3],p=u/h;if(p>=Qt.MIN_FINDER_PATTERN_RATIO&&p<=Qt.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let E of c)E>w&&(w=E),E<x&&(x=E);return w<10*x}return!1}}Qt.MAX_AVG_VARIANCE=.2,Qt.MAX_INDIVIDUAL_VARIANCE=.45,Qt.MIN_FINDER_PATTERN_RATIO=9.5/12,Qt.MAX_FINDER_PATTERN_RATIO=12.5/14;class an{constructor(c,u){this.value=c,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(c){if(!(c instanceof an))return!1;const u=c;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class yn{constructor(c,u,h,p,x){this.value=c,this.startEnd=u,this.value=c,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new _e(h,x)),this.resultPoints.push(new _e(p,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(c){if(!(c instanceof yn))return!1;const u=c;return this.value===u.value}hashCode(){return this.value}}class Ft{constructor(){}static getRSSvalue(c,u,h){let p=0;for(let T of c)p+=T;let x=0,w=0,E=c.length;for(let T=0;T<E-1;T++){let P;for(P=1,w|=1<<T;P<c[T];P++,w&=~(1<<T)){let z=Ft.combins(p-P-1,E-T-2);if(h&&w===0&&p-P-(E-T-1)>=E-T-1&&(z-=Ft.combins(p-P-(E-T),E-T-2)),E-T-1>1){let te=0;for(let Ae=p-P-(E-T-2);Ae>u;Ae--)te+=Ft.combins(p-P-Ae-1,E-T-3);z-=te*(E-1-T)}else p-P>u&&z--;x+=z}p-=P}return x}static combins(c,u){let h,p;c-u>u?(p=u,h=c-u):(p=c-u,h=u);let x=1,w=1;for(let E=c;E>h;E--)x*=E,w<=p&&(x/=w,w++);for(;w<=p;)x/=w,w++;return x}}class bs{static buildBitArray(c){let u=c.length*2-1;c[c.length-1].getRightChar()==null&&(u-=1);let h=12*u,p=new k(h),x=0,E=c[0].getRightChar().getValue();for(let T=11;T>=0;--T)E&1<<T&&p.set(x),x++;for(let T=1;T<c.length;++T){let P=c[T],z=P.getLeftChar().getValue();for(let te=11;te>=0;--te)z&1<<te&&p.set(x),x++;if(P.getRightChar()!=null){let te=P.getRightChar().getValue();for(let Ae=11;Ae>=0;--Ae)te&1<<Ae&&p.set(x),x++}}return p}}class tn{constructor(c,u){u?this.decodedInformation=null:(this.finished=c,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class wn{constructor(c){this.newPosition=c}getNewPosition(){return this.newPosition}}class Hr extends wn{constructor(c,u){super(c),this.value=u}getValue(){return this.value}isFNC1(){return this.value===Hr.FNC1}}Hr.FNC1="$";class fn extends wn{constructor(c,u,h){super(c),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Sn extends wn{constructor(c,u,h){if(super(c),u<0||u>10||h<0||h>10)throw new O;this.firstDigit=u,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Sn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Sn.FNC1}isAnyFNC1(){return this.firstDigit===Sn.FNC1||this.secondDigit===Sn.FNC1}}Sn.FNC1=10;class Bt{constructor(){}static parseFieldsInGeneralPurpose(c){if(!c)return null;if(c.length<2)throw new $;let u=c.substring(0,2);for(let x of Bt.TWO_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===Bt.VARIABLE_LENGTH?Bt.processVariableAI(2,x[2],c):Bt.processFixedAI(2,x[1],c);if(c.length<3)throw new $;let h=c.substring(0,3);for(let x of Bt.THREE_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===Bt.VARIABLE_LENGTH?Bt.processVariableAI(3,x[2],c):Bt.processFixedAI(3,x[1],c);for(let x of Bt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===Bt.VARIABLE_LENGTH?Bt.processVariableAI(4,x[2],c):Bt.processFixedAI(4,x[1],c);if(c.length<4)throw new $;let p=c.substring(0,4);for(let x of Bt.FOUR_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===Bt.VARIABLE_LENGTH?Bt.processVariableAI(4,x[2],c):Bt.processFixedAI(4,x[1],c);throw new $}static processFixedAI(c,u,h){if(h.length<c)throw new $;let p=h.substring(0,c);if(h.length<c+u)throw new $;let x=h.substring(c,c+u),w=h.substring(c+u),E="("+p+")"+x,T=Bt.parseFieldsInGeneralPurpose(w);return T==null?E:E+T}static processVariableAI(c,u,h){let p=h.substring(0,c),x;h.length<c+u?x=h.length:x=c+u;let w=h.substring(c,x),E=h.substring(x),T="("+p+")"+w,P=Bt.parseFieldsInGeneralPurpose(E);return P==null?T:T+P}}Bt.VARIABLE_LENGTH=[],Bt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Bt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Bt.VARIABLE_LENGTH,20],["22",Bt.VARIABLE_LENGTH,29],["30",Bt.VARIABLE_LENGTH,8],["37",Bt.VARIABLE_LENGTH,8],["90",Bt.VARIABLE_LENGTH,30],["91",Bt.VARIABLE_LENGTH,30],["92",Bt.VARIABLE_LENGTH,30],["93",Bt.VARIABLE_LENGTH,30],["94",Bt.VARIABLE_LENGTH,30],["95",Bt.VARIABLE_LENGTH,30],["96",Bt.VARIABLE_LENGTH,30],["97",Bt.VARIABLE_LENGTH,3],["98",Bt.VARIABLE_LENGTH,30],["99",Bt.VARIABLE_LENGTH,30]],Bt.THREE_DIGIT_DATA_LENGTH=[["240",Bt.VARIABLE_LENGTH,30],["241",Bt.VARIABLE_LENGTH,30],["242",Bt.VARIABLE_LENGTH,6],["250",Bt.VARIABLE_LENGTH,30],["251",Bt.VARIABLE_LENGTH,30],["253",Bt.VARIABLE_LENGTH,17],["254",Bt.VARIABLE_LENGTH,20],["400",Bt.VARIABLE_LENGTH,30],["401",Bt.VARIABLE_LENGTH,30],["402",17],["403",Bt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Bt.VARIABLE_LENGTH,20],["421",Bt.VARIABLE_LENGTH,15],["422",3],["423",Bt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Bt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Bt.VARIABLE_LENGTH,15],["391",Bt.VARIABLE_LENGTH,18],["392",Bt.VARIABLE_LENGTH,15],["393",Bt.VARIABLE_LENGTH,18],["703",Bt.VARIABLE_LENGTH,30]],Bt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Bt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Bt.VARIABLE_LENGTH,20],["8003",Bt.VARIABLE_LENGTH,30],["8004",Bt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Bt.VARIABLE_LENGTH,30],["8008",Bt.VARIABLE_LENGTH,12],["8018",18],["8020",Bt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Bt.VARIABLE_LENGTH,70],["8200",Bt.VARIABLE_LENGTH,70]];class Ca{constructor(c){this.buffer=new X,this.information=c}decodeAllCodes(c,u){let h=u,p=null;do{let x=this.decodeGeneralPurposeField(h,p),w=Bt.parseFieldsInGeneralPurpose(x.getNewString());if(w!=null&&c.append(w),x.isRemaining()?p=""+x.getRemainingValue():p=null,h===x.getNewPosition())break;h=x.getNewPosition()}while(!0);return c.toString()}isStillNumeric(c){if(c+7>this.information.getSize())return c+4<=this.information.getSize();for(let u=c;u<c+3;++u)if(this.information.get(u))return!0;return this.information.get(c+3)}decodeNumeric(c){if(c+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(c,4);return x===0?new Sn(this.information.getSize(),Sn.FNC1,Sn.FNC1):new Sn(this.information.getSize(),x-1,Sn.FNC1)}let u=this.extractNumericValueFromBitArray(c,7),h=(u-8)/11,p=(u-8)%11;return new Sn(c+7,h,p)}extractNumericValueFromBitArray(c,u){return Ca.extractNumericValueFromBitArray(this.information,c,u)}static extractNumericValueFromBitArray(c,u,h){let p=0;for(let x=0;x<h;++x)c.get(u+x)&&(p|=1<<h-x-1);return p}decodeGeneralPurposeField(c,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(c);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new fn(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new fn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let c,u;do{let h=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),c=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),c=u.isFinished()):(u=this.parseNumericBlock(),c=u.isFinished()),!(h!==this.current.getPosition())&&!c)break}while(!c);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let c=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFirstDigitFNC1()){let u;return c.isSecondDigitFNC1()?u=new fn(this.current.getPosition(),this.buffer.toString()):u=new fn(this.current.getPosition(),this.buffer.toString(),c.getSecondDigit()),new tn(!0,u)}if(this.buffer.append(c.getFirstDigit()),c.isSecondDigitFNC1()){let u=new fn(this.current.getPosition(),this.buffer.toString());return new tn(!0,u)}this.buffer.append(c.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new tn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let c=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let u=new fn(this.current.getPosition(),this.buffer.toString());return new tn(!0,u)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new tn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let c=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let u=new fn(this.current.getPosition(),this.buffer.toString());return new tn(!0,u)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new tn(!1)}isStillIsoIec646(c){if(c+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(c,5);if(u>=5&&u<16)return!0;if(c+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(c,7);if(h>=64&&h<116)return!0;if(c+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(c,8);return p>=232&&p<253}decodeIsoIec646(c){let u=this.extractNumericValueFromBitArray(c,5);if(u===15)return new Hr(c+5,Hr.FNC1);if(u>=5&&u<15)return new Hr(c+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(c,7);if(h>=64&&h<90)return new Hr(c+7,""+(h+1));if(h>=90&&h<116)return new Hr(c+7,""+(h+7));let p=this.extractNumericValueFromBitArray(c,8),x;switch(p){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new O}return new Hr(c+8,x)}isStillAlpha(c){if(c+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(c,5);if(u>=5&&u<16)return!0;if(c+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(c,6);return h>=16&&h<63}decodeAlphanumeric(c){let u=this.extractNumericValueFromBitArray(c,5);if(u===15)return new Hr(c+5,Hr.FNC1);if(u>=5&&u<15)return new Hr(c+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(c,6);if(h>=32&&h<58)return new Hr(c+6,""+(h+33));let p;switch(h){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new Re("Decoding invalid alphanumeric value: "+h)}return new Hr(c+6,p)}isAlphaTo646ToAlphaLatch(c){if(c+1>this.information.getSize())return!1;for(let u=0;u<5&&u+c<this.information.getSize();++u)if(u===2){if(!this.information.get(c+2))return!1}else if(this.information.get(c+u))return!1;return!0}isAlphaOr646ToNumericLatch(c){if(c+3>this.information.getSize())return!1;for(let u=c;u<c+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(c){if(c+1>this.information.getSize())return!1;for(let u=0;u<4&&u+c<this.information.getSize();++u)if(this.information.get(c+u))return!1;return!0}}class za{constructor(c){this.information=c,this.generalDecoder=new Ca(c)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class En extends za{constructor(c){super(c)}encodeCompressedGtin(c,u){c.append("(01)");let h=c.length();c.append("9"),this.encodeCompressedGtinWithoutAI(c,u,h)}encodeCompressedGtinWithoutAI(c,u,h){for(let p=0;p<4;++p){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*p,10);x/100===0&&c.append("0"),x/10===0&&c.append("0"),c.append(x)}En.appendCheckDigit(c,h)}static appendCheckDigit(c,u){let h=0;for(let p=0;p<13;p++){let x=c.charAt(p+u).charCodeAt(0)-48;h+=p&1?x:3*x}h=10-h%10,h===10&&(h=0),c.append(h)}}En.GTIN_SIZE=40;class ea extends En{constructor(c){super(c)}parseInformation(){let c=new X;c.append("(01)");let u=c.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(ea.HEADER_SIZE,4);return c.append(h),this.encodeCompressedGtinWithoutAI(c,ea.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(c,ea.HEADER_SIZE+44)}}ea.HEADER_SIZE=4;class $a extends za{constructor(c){super(c)}parseInformation(){let c=new X;return this.getGeneralDecoder().decodeAllCodes(c,$a.HEADER_SIZE)}}$a.HEADER_SIZE=5;class ca extends En{constructor(c){super(c)}encodeCompressedWeight(c,u,h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(u,h);this.addWeightCode(c,p);let x=this.checkWeight(p),w=1e5;for(let E=0;E<5;++E)x/w===0&&c.append("0"),w/=10;c.append(x)}}class Cs extends ca{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()!=Cs.HEADER_SIZE+ca.GTIN_SIZE+Cs.WEIGHT_SIZE)throw new $;let c=new X;return this.encodeCompressedGtin(c,Cs.HEADER_SIZE),this.encodeCompressedWeight(c,Cs.HEADER_SIZE+ca.GTIN_SIZE,Cs.WEIGHT_SIZE),c.toString()}}Cs.HEADER_SIZE=5,Cs.WEIGHT_SIZE=15;class dc extends Cs{constructor(c){super(c)}addWeightCode(c,u){c.append("(3103)")}checkWeight(c){return c}}class hA extends Cs{constructor(c){super(c)}addWeightCode(c,u){u<1e4?c.append("(3202)"):c.append("(3203)")}checkWeight(c){return c<1e4?c:c-1e4}}class Aa extends En{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<Aa.HEADER_SIZE+En.GTIN_SIZE)throw new $;let c=new X;this.encodeCompressedGtin(c,Aa.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Aa.HEADER_SIZE+En.GTIN_SIZE,Aa.LAST_DIGIT_SIZE);c.append("(392"),c.append(u),c.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(Aa.HEADER_SIZE+En.GTIN_SIZE+Aa.LAST_DIGIT_SIZE,null);return c.append(h.getNewString()),c.toString()}}Aa.HEADER_SIZE=8,Aa.LAST_DIGIT_SIZE=2;class As extends En{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<As.HEADER_SIZE+En.GTIN_SIZE)throw new $;let c=new X;this.encodeCompressedGtin(c,As.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(As.HEADER_SIZE+En.GTIN_SIZE,As.LAST_DIGIT_SIZE);c.append("(393"),c.append(u),c.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(As.HEADER_SIZE+En.GTIN_SIZE+As.LAST_DIGIT_SIZE,As.FIRST_THREE_DIGITS_SIZE);h/100==0&&c.append("0"),h/10==0&&c.append("0"),c.append(h);let p=this.getGeneralDecoder().decodeGeneralPurposeField(As.HEADER_SIZE+En.GTIN_SIZE+As.LAST_DIGIT_SIZE+As.FIRST_THREE_DIGITS_SIZE,null);return c.append(p.getNewString()),c.toString()}}As.HEADER_SIZE=8,As.LAST_DIGIT_SIZE=2,As.FIRST_THREE_DIGITS_SIZE=10;class Xr extends ca{constructor(c,u,h){super(c),this.dateCode=h,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=Xr.HEADER_SIZE+Xr.GTIN_SIZE+Xr.WEIGHT_SIZE+Xr.DATE_SIZE)throw new $;let c=new X;return this.encodeCompressedGtin(c,Xr.HEADER_SIZE),this.encodeCompressedWeight(c,Xr.HEADER_SIZE+Xr.GTIN_SIZE,Xr.WEIGHT_SIZE),this.encodeCompressedDate(c,Xr.HEADER_SIZE+Xr.GTIN_SIZE+Xr.WEIGHT_SIZE),c.toString()}encodeCompressedDate(c,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(u,Xr.DATE_SIZE);if(h==38400)return;c.append("("),c.append(this.dateCode),c.append(")");let p=h%32;h/=32;let x=h%12+1;h/=12;let w=h;w/10==0&&c.append("0"),c.append(w),x/10==0&&c.append("0"),c.append(x),p/10==0&&c.append("0"),c.append(p)}addWeightCode(c,u){c.append("("),c.append(this.firstAIdigits),c.append(u/1e5),c.append(")")}checkWeight(c){return c%1e5}}Xr.HEADER_SIZE=8,Xr.WEIGHT_SIZE=20,Xr.DATE_SIZE=16;function Ju(re){try{if(re.get(1))return new ea(re);if(!re.get(2))return new $a(re);switch(Ca.extractNumericValueFromBitArray(re,1,4)){case 4:return new dc(re);case 5:return new hA(re)}switch(Ca.extractNumericValueFromBitArray(re,1,5)){case 12:return new Aa(re);case 13:return new As(re)}switch(Ca.extractNumericValueFromBitArray(re,1,7)){case 56:return new Xr(re,"310","11");case 57:return new Xr(re,"320","11");case 58:return new Xr(re,"310","13");case 59:return new Xr(re,"320","13");case 60:return new Xr(re,"310","15");case 61:return new Xr(re,"320","15");case 62:return new Xr(re,"310","17");case 63:return new Xr(re,"320","17")}}catch(c){throw console.log(c),new Re("unknown decoder: "+re)}}class io{constructor(c,u,h,p){this.leftchar=c,this.rightchar=u,this.finderpattern=h,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(c,u){return c instanceof io?io.equalsOrNull(c.leftchar,u.leftchar)&&io.equalsOrNull(c.rightchar,u.rightchar)&&io.equalsOrNull(c.finderpattern,u.finderpattern):!1}static equalsOrNull(c,u){return c===null?u===null:io.equals(c,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Zu{constructor(c,u,h){this.pairs=c,this.rowNumber=u,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(c){return this.checkEqualitity(this,c)}toString(){return"{ "+this.pairs+" }"}equals(c,u){return c instanceof Zu?this.checkEqualitity(c,u)&&c.wasReversed===u.wasReversed:!1}checkEqualitity(c,u){if(!c||!u)return;let h;return c.forEach((p,x)=>{u.forEach(w=>{p.getLeftChar().getValue()===w.getLeftChar().getValue()&&p.getRightChar().getValue()===w.getRightChar().getValue()&&p.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(h=!0)})}),h}}class st extends Qt{constructor(c){super(...arguments),this.pairs=new Array(st.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=c===!0}decodeRow(c,u,h){this.pairs.length=0,this.startFromEven=!1;try{return st.constructResult(this.decodeRow2pairs(c,u))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,st.constructResult(this.decodeRow2pairs(c,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(c,u){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,c))}catch(x){if(x instanceof $){if(!this.pairs.length)throw new $;h=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(c,!1),p){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new $}checkRowsBoolean(c){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,c&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return c&&(this.rows=this.rows.reverse()),u}checkRows(c,u){for(let h=u;h<this.rows.length;h++){let p=this.rows[h];this.pairs.length=0;for(let w of c)this.pairs.push(w.getPairs());if(this.pairs.push(p.getPairs()),!st.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(c);x.push(p);try{return this.checkRows(x,h+1)}catch(w){this.verbose&&console.log(w)}}throw new $}static isValidSequence(c){for(let u of st.FINDER_PATTERN_SEQUENCES){if(c.length>u.length)continue;let h=!0;for(let p=0;p<c.length;p++)if(c[p].getFinderPattern().getValue()!=u[p]){h=!1;break}if(h)return!0}return!1}storeRow(c,u){let h=0,p=!1,x=!1;for(;h<this.rows.length;){let w=this.rows[h];if(w.getRowNumber()>c){x=w.isEquivalent(this.pairs);break}p=w.isEquivalent(this.pairs),h++}x||p||st.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new Zu(this.pairs,c,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(c,u){for(let h of u)if(h.getPairs().length!==c.length){for(let p of h.getPairs())for(let x of c)if(io.equals(p,x))break}}static isPartialRow(c,u){for(let h of u){let p=!0;for(let x of c){let w=!1;for(let E of h.getPairs())if(x.equals(E)){w=!0;break}if(!w){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(c){let u=bs.buildBitArray(c),p=Ju(u).parseInformation(),x=c[0].getFinderPattern().getResultPoints(),w=c[c.length-1].getFinderPattern().getResultPoints(),E=[x[0],x[1],w[0],w[1]];return new ie(p,null,null,E,ce.RSS_EXPANDED,null)}checkChecksum(){let c=this.pairs.get(0),u=c.getLeftChar(),h=c.getRightChar();if(h==null)return!1;let p=h.getChecksumPortion(),x=2;for(let E=1;E<this.pairs.size();++E){let T=this.pairs.get(E);p+=T.getLeftChar().getChecksumPortion(),x++;let P=T.getRightChar();P!=null&&(p+=P.getChecksumPortion(),x++)}return p%=211,211*(x-4)+p==u.getValue()}static getNextSecondBar(c,u){let h;return c.get(u)?(h=c.getNextUnset(u),h=c.getNextSet(h)):(h=c.getNextSet(u),h=c.getNextUnset(h)),h}retrieveNextPair(c,u,h){let p=u.length%2==0;this.startFromEven&&(p=!p);let x,w=!0,E=-1;do this.findNextPair(c,u,E),x=this.parseFoundFinderPattern(c,h,p),x==null?E=st.getNextSecondBar(c,this.startEnd[0]):w=!1;while(w);let T=this.decodeDataCharacter(c,x,p,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new $;let P;try{P=this.decodeDataCharacter(c,x,p,!1)}catch(z){P=null,this.verbose&&console.log(z)}return new io(T,P,x,!0)}isEmptyPair(c){return c.length===0}findNextPair(c,u,h){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=c.getSize(),w;h>=0?w=h:this.isEmptyPair(u)?w=0:w=u[u.length-1].getFinderPattern().getStartEnd()[1];let E=u.length%2!=0;this.startFromEven&&(E=!E);let T=!1;for(;w<x&&(T=!c.get(w),!!T);)w++;let P=0,z=w;for(let te=w;te<x;te++)if(c.get(te)!=T)p[P]++;else{if(P==3){if(E&&st.reverseCounters(p),st.isFinderPattern(p)){this.startEnd[0]=z,this.startEnd[1]=te;return}E&&st.reverseCounters(p),z+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,P--}else P++;p[P]=1,T=!T}throw new $}static reverseCounters(c){let u=c.length;for(let h=0;h<u/2;++h){let p=c[h];c[h]=c[u-h-1],c[u-h-1]=p}}parseFoundFinderPattern(c,u,h){let p,x,w;if(h){let P=this.startEnd[0]-1;for(;P>=0&&!c.get(P);)P--;P++,p=this.startEnd[0]-P,x=P,w=this.startEnd[1]}else x=this.startEnd[0],w=c.getNextUnset(this.startEnd[1]+1),p=w-this.startEnd[1];let E=this.getDecodeFinderCounters();C.arraycopy(E,0,E,1,E.length-1),E[0]=p;let T;try{T=this.parseFinderValue(E,st.FINDER_PATTERNS)}catch{return null}return new yn(T,[x,w],x,w,u)}decodeDataCharacter(c,u,h,p){let x=this.getDataCharacterCounters();for(let _r=0;_r<x.length;_r++)x[_r]=0;if(p)st.recordPatternInReverse(c,u.getStartEnd()[0],x);else{st.recordPattern(c,u.getStartEnd()[1],x);for(let _r=0,Xn=x.length-1;_r<Xn;_r++,Xn--){let Es=x[_r];x[_r]=x[Xn],x[Xn]=Es}}let w=17,E=Ke.sum(new Int32Array(x))/w,T=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(E-T)/T>.3)throw new $;let P=this.getOddCounts(),z=this.getEvenCounts(),te=this.getOddRoundingErrors(),Ae=this.getEvenRoundingErrors();for(let _r=0;_r<x.length;_r++){let Xn=1*x[_r]/E,Es=Xn+.5;if(Es<1){if(Xn<.3)throw new $;Es=1}else if(Es>8){if(Xn>8.7)throw new $;Es=8}let Xa=_r/2;_r&1?(z[Xa]=Es,Ae[Xa]=Xn-Es):(P[Xa]=Es,te[Xa]=Xn-Es)}this.adjustOddEvenCounts(w);let ge=4*u.getValue()+(h?0:2)+(p?0:1)-1,Be=0,Se=0;for(let _r=P.length-1;_r>=0;_r--){if(st.isNotA1left(u,h,p)){let Xn=st.WEIGHTS[ge][2*_r];Se+=P[_r]*Xn}Be+=P[_r]}let ke=0;for(let _r=z.length-1;_r>=0;_r--)if(st.isNotA1left(u,h,p)){let Xn=st.WEIGHTS[ge][2*_r+1];ke+=z[_r]*Xn}let We=Se+ke;if(Be&1||Be>13||Be<4)throw new $;let ot=(13-Be)/2,ut=st.SYMBOL_WIDEST[ot],lt=9-ut,wr=Ft.getRSSvalue(P,ut,!0),ar=Ft.getRSSvalue(z,lt,!1),ds=st.EVEN_TOTAL_SUBSET[ot],Gs=st.GSUM[ot],ns=wr*ds+ar+Gs;return new an(ns,We)}static isNotA1left(c,u,h){return!(c.getValue()==0&&u&&h)}adjustOddEvenCounts(c){let u=Ke.sum(new Int32Array(this.getOddCounts())),h=Ke.sum(new Int32Array(this.getEvenCounts())),p=!1,x=!1;u>13?x=!0:u<4&&(p=!0);let w=!1,E=!1;h>13?E=!0:h<4&&(w=!0);let T=u+h-c,P=(u&1)==1,z=(h&1)==0;if(T==1)if(P){if(z)throw new $;x=!0}else{if(!z)throw new $;E=!0}else if(T==-1)if(P){if(z)throw new $;p=!0}else{if(!z)throw new $;w=!0}else if(T==0){if(P){if(!z)throw new $;u<h?(p=!0,E=!0):(x=!0,w=!0)}else if(z)throw new $}else throw new $;if(p){if(x)throw new $;st.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&st.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(E)throw new $;st.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&st.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.SYMBOL_WIDEST=[7,5,4,3,1],st.EVEN_TOTAL_SUBSET=[4,20,52,104,204],st.GSUM=[0,348,1388,2948,3988],st.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],st.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],st.FINDER_PAT_A=0,st.FINDER_PAT_B=1,st.FINDER_PAT_C=2,st.FINDER_PAT_D=3,st.FINDER_PAT_E=4,st.FINDER_PAT_F=5,st.FINDER_PATTERN_SEQUENCES=[[st.FINDER_PAT_A,st.FINDER_PAT_A],[st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B],[st.FINDER_PAT_A,st.FINDER_PAT_C,st.FINDER_PAT_B,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_C],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F]],st.MAX_PAIRS=11;class Fh extends an{constructor(c,u,h){super(c,u),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Fn extends Qt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(c,u,h){const p=this.decodePair(u,!1,c,h);Fn.addOrTally(this.possibleLeftPairs,p),u.reverse();let x=this.decodePair(u,!0,c,h);Fn.addOrTally(this.possibleRightPairs,x),u.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&Fn.checkChecksum(w,E))return Fn.constructResult(w,E)}throw new $}static addOrTally(c,u){if(u==null)return;let h=!1;for(let p of c)if(p.getValue()===u.getValue()){p.incrementCount(),h=!0;break}h||c.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(c,u){let h=4537077*c.getValue()+u.getValue(),p=new String(h).toString(),x=new X;for(let P=13-p.length;P>0;P--)x.append("0");x.append(p);let w=0;for(let P=0;P<13;P++){let z=x.charAt(P).charCodeAt(0)-48;w+=P&1?z:3*z}w=10-w%10,w===10&&(w=0),x.append(w.toString());let E=c.getFinderPattern().getResultPoints(),T=u.getFinderPattern().getResultPoints();return new ie(x.toString(),null,0,[E[0],E[1],T[0],T[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(c,u){let h=(c.getChecksumPortion()+16*u.getChecksumPortion())%79,p=9*c.getFinderPattern().getValue()+u.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,h===p}decodePair(c,u,h,p){try{let x=this.findFinderPattern(c,u),w=this.parseFoundFinderPattern(c,h,u,x),E=p==null?null:p.get(V.NEED_RESULT_POINT_CALLBACK);if(E!=null){let z=(x[0]+x[1])/2;u&&(z=c.getSize()-1-z),E.foundPossibleResultPoint(new _e(z,h))}let T=this.decodeDataCharacter(c,w,!0),P=this.decodeDataCharacter(c,w,!1);return new Fh(1597*T.getValue()+P.getValue(),T.getChecksumPortion()+4*P.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(c,u,h){let p=this.getDataCharacterCounters();for(let ke=0;ke<p.length;ke++)p[ke]=0;if(h)Ot.recordPatternInReverse(c,u.getStartEnd()[0],p);else{Ot.recordPattern(c,u.getStartEnd()[1]+1,p);for(let ke=0,We=p.length-1;ke<We;ke++,We--){let ot=p[ke];p[ke]=p[We],p[We]=ot}}let x=h?16:15,w=Ke.sum(new Int32Array(p))/x,E=this.getOddCounts(),T=this.getEvenCounts(),P=this.getOddRoundingErrors(),z=this.getEvenRoundingErrors();for(let ke=0;ke<p.length;ke++){let We=p[ke]/w,ot=Math.floor(We+.5);ot<1?ot=1:ot>8&&(ot=8);let ut=Math.floor(ke/2);ke&1?(T[ut]=ot,z[ut]=We-ot):(E[ut]=ot,P[ut]=We-ot)}this.adjustOddEvenCounts(h,x);let te=0,Ae=0;for(let ke=E.length-1;ke>=0;ke--)Ae*=9,Ae+=E[ke],te+=E[ke];let ge=0,Be=0;for(let ke=T.length-1;ke>=0;ke--)ge*=9,ge+=T[ke],Be+=T[ke];let Se=Ae+3*ge;if(h){if(te&1||te>12||te<4)throw new $;let ke=(12-te)/2,We=Fn.OUTSIDE_ODD_WIDEST[ke],ot=9-We,ut=Ft.getRSSvalue(E,We,!1),lt=Ft.getRSSvalue(T,ot,!0),wr=Fn.OUTSIDE_EVEN_TOTAL_SUBSET[ke],ar=Fn.OUTSIDE_GSUM[ke];return new an(ut*wr+lt+ar,Se)}else{if(Be&1||Be>10||Be<4)throw new $;let ke=(10-Be)/2,We=Fn.INSIDE_ODD_WIDEST[ke],ot=9-We,ut=Ft.getRSSvalue(E,We,!0),lt=Ft.getRSSvalue(T,ot,!1),wr=Fn.INSIDE_ODD_TOTAL_SUBSET[ke],ar=Fn.INSIDE_GSUM[ke];return new an(lt*wr+ut+ar,Se)}}findFinderPattern(c,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=c.getSize(),x=!1,w=0;for(;w<p&&(x=!c.get(w),u!==x);)w++;let E=0,T=w;for(let P=w;P<p;P++)if(c.get(P)!==x)h[E]++;else{if(E===3){if(Qt.isFinderPattern(h))return[T,P];T+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,E--}else E++;h[E]=1,x=!x}throw new $}parseFoundFinderPattern(c,u,h,p){let x=c.get(p[0]),w=p[0]-1;for(;w>=0&&x!==c.get(w);)w--;w++;const E=p[0]-w,T=this.getDecodeFinderCounters(),P=new Int32Array(T.length);C.arraycopy(T,0,P,1,T.length-1),P[0]=E;const z=this.parseFinderValue(P,Fn.FINDER_PATTERNS);let te=w,Ae=p[1];return h&&(te=c.getSize()-1-te,Ae=c.getSize()-1-Ae),new yn(z,[w,p[1]],te,Ae,u)}adjustOddEvenCounts(c,u){let h=Ke.sum(new Int32Array(this.getOddCounts())),p=Ke.sum(new Int32Array(this.getEvenCounts())),x=!1,w=!1,E=!1,T=!1;c?(h>12?w=!0:h<4&&(x=!0),p>12?T=!0:p<4&&(E=!0)):(h>11?w=!0:h<5&&(x=!0),p>10?T=!0:p<4&&(E=!0));let P=h+p-u,z=(h&1)===(c?1:0),te=(p&1)===1;if(P===1)if(z){if(te)throw new $;w=!0}else{if(!te)throw new $;T=!0}else if(P===-1)if(z){if(te)throw new $;x=!0}else{if(!te)throw new $;E=!0}else if(P===0){if(z){if(!te)throw new $;h<p?(x=!0,T=!0):(w=!0,E=!0)}else if(te)throw new $}else throw new $;if(x){if(w)throw new $;Qt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&Qt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(T)throw new $;Qt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Qt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Fn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Fn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Fn.OUTSIDE_GSUM=[0,161,961,2015,2715],Fn.INSIDE_GSUM=[0,336,1036,1516],Fn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Fn.INSIDE_ODD_WIDEST=[2,4,6,8],Fn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class oo extends Ot{constructor(c,u){super(),this.readers=[],this.verbose=u===!0;const h=c?c.get(V.POSSIBLE_FORMATS):null,p=c&&c.get(V.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(ce.EAN_13)||h.includes(ce.UPC_A)||h.includes(ce.EAN_8)||h.includes(ce.UPC_E))&&this.readers.push(new Cr(c)),h.includes(ce.CODE_39)&&this.readers.push(new Zt(p)),h.includes(ce.CODE_128)&&this.readers.push(new dt),h.includes(ce.ITF)&&this.readers.push(new Ut),h.includes(ce.RSS_14)&&this.readers.push(new Fn),h.includes(ce.RSS_EXPANDED)&&this.readers.push(new st(this.verbose))):(this.readers.push(new Cr(c)),this.readers.push(new Zt),this.readers.push(new Cr(c)),this.readers.push(new dt),this.readers.push(new Ut),this.readers.push(new Fn),this.readers.push(new st(this.verbose)))}decodeRow(c,u,h){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(c,u,h)}catch{}throw new $}reset(){this.readers.forEach(c=>c.reset())}}class R0 extends ee{constructor(c=500,u){super(new oo(u),c,u)}}class Rr{constructor(c,u,h){this.ecCodewords=c,this.ecBlocks=[u],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Dr{constructor(c,u){this.count=c,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pr{constructor(c,u,h,p,x,w){this.versionNumber=c,this.symbolSizeRows=u,this.symbolSizeColumns=h,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=x,this.ecBlocks=w;let E=0;const T=w.getECCodewords(),P=w.getECBlocks();for(let z of P)E+=z.getCount()*(z.getDataCodewords()+T);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(c,u){if(c&1||u&1)throw new O;for(let h of pr.VERSIONS)if(h.symbolSizeRows===c&&h.symbolSizeColumns===u)return h;throw new O}toString(){return""+this.versionNumber}static buildVersions(){return[new pr(1,10,10,8,8,new Rr(5,new Dr(1,3))),new pr(2,12,12,10,10,new Rr(7,new Dr(1,5))),new pr(3,14,14,12,12,new Rr(10,new Dr(1,8))),new pr(4,16,16,14,14,new Rr(12,new Dr(1,12))),new pr(5,18,18,16,16,new Rr(14,new Dr(1,18))),new pr(6,20,20,18,18,new Rr(18,new Dr(1,22))),new pr(7,22,22,20,20,new Rr(20,new Dr(1,30))),new pr(8,24,24,22,22,new Rr(24,new Dr(1,36))),new pr(9,26,26,24,24,new Rr(28,new Dr(1,44))),new pr(10,32,32,14,14,new Rr(36,new Dr(1,62))),new pr(11,36,36,16,16,new Rr(42,new Dr(1,86))),new pr(12,40,40,18,18,new Rr(48,new Dr(1,114))),new pr(13,44,44,20,20,new Rr(56,new Dr(1,144))),new pr(14,48,48,22,22,new Rr(68,new Dr(1,174))),new pr(15,52,52,24,24,new Rr(42,new Dr(2,102))),new pr(16,64,64,14,14,new Rr(56,new Dr(2,140))),new pr(17,72,72,16,16,new Rr(36,new Dr(4,92))),new pr(18,80,80,18,18,new Rr(48,new Dr(4,114))),new pr(19,88,88,20,20,new Rr(56,new Dr(4,144))),new pr(20,96,96,22,22,new Rr(68,new Dr(4,174))),new pr(21,104,104,24,24,new Rr(56,new Dr(6,136))),new pr(22,120,120,18,18,new Rr(68,new Dr(6,175))),new pr(23,132,132,20,20,new Rr(62,new Dr(8,163))),new pr(24,144,144,22,22,new Rr(62,new Dr(8,156),new Dr(2,155))),new pr(25,8,18,6,16,new Rr(7,new Dr(1,5))),new pr(26,8,32,6,14,new Rr(11,new Dr(1,10))),new pr(27,12,26,10,24,new Rr(14,new Dr(1,16))),new pr(28,12,36,10,16,new Rr(18,new Dr(1,22))),new pr(29,16,36,14,16,new Rr(24,new Dr(1,32))),new pr(30,16,48,14,22,new Rr(28,new Dr(1,49)))]}}pr.VERSIONS=pr.buildVersions();class ed{constructor(c){const u=c.getHeight();if(u<8||u>144||u&1)throw new O;this.version=ed.readVersion(c),this.mappingBitMatrix=this.extractDataRegion(c),this.readMappingMatrix=new Z(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(c){const u=c.getHeight(),h=c.getWidth();return pr.getVersionForDimensions(u,h)}readCodewords(){const c=new Int8Array(this.version.getTotalCodewords());let u=0,h=4,p=0;const x=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let E=!1,T=!1,P=!1,z=!1;do if(h===x&&p===0&&!E)c[u++]=this.readCorner1(x,w)&255,h-=2,p+=2,E=!0;else if(h===x-2&&p===0&&w&3&&!T)c[u++]=this.readCorner2(x,w)&255,h-=2,p+=2,T=!0;else if(h===x+4&&p===2&&!(w&7)&&!P)c[u++]=this.readCorner3(x,w)&255,h-=2,p+=2,P=!0;else if(h===x-2&&p===0&&(w&7)===4&&!z)c[u++]=this.readCorner4(x,w)&255,h-=2,p+=2,z=!0;else{do h<x&&p>=0&&!this.readMappingMatrix.get(p,h)&&(c[u++]=this.readUtah(h,p,x,w)&255),h-=2,p+=2;while(h>=0&&p<w);h+=1,p+=3;do h>=0&&p<w&&!this.readMappingMatrix.get(p,h)&&(c[u++]=this.readUtah(h,p,x,w)&255),h+=2,p-=2;while(h<x&&p>=0);h+=3,p+=1}while(h<x||p<w);if(u!==this.version.getTotalCodewords())throw new O;return c}readModule(c,u,h,p){return c<0&&(c+=h,u+=4-(h+4&7)),u<0&&(u+=p,c+=4-(p+4&7)),this.readMappingMatrix.set(u,c),this.mappingBitMatrix.get(u,c)}readUtah(c,u,h,p){let x=0;return this.readModule(c-2,u-2,h,p)&&(x|=1),x<<=1,this.readModule(c-2,u-1,h,p)&&(x|=1),x<<=1,this.readModule(c-1,u-2,h,p)&&(x|=1),x<<=1,this.readModule(c-1,u-1,h,p)&&(x|=1),x<<=1,this.readModule(c-1,u,h,p)&&(x|=1),x<<=1,this.readModule(c,u-2,h,p)&&(x|=1),x<<=1,this.readModule(c,u-1,h,p)&&(x|=1),x<<=1,this.readModule(c,u,h,p)&&(x|=1),x}readCorner1(c,u){let h=0;return this.readModule(c-1,0,c,u)&&(h|=1),h<<=1,this.readModule(c-1,1,c,u)&&(h|=1),h<<=1,this.readModule(c-1,2,c,u)&&(h|=1),h<<=1,this.readModule(0,u-2,c,u)&&(h|=1),h<<=1,this.readModule(0,u-1,c,u)&&(h|=1),h<<=1,this.readModule(1,u-1,c,u)&&(h|=1),h<<=1,this.readModule(2,u-1,c,u)&&(h|=1),h<<=1,this.readModule(3,u-1,c,u)&&(h|=1),h}readCorner2(c,u){let h=0;return this.readModule(c-3,0,c,u)&&(h|=1),h<<=1,this.readModule(c-2,0,c,u)&&(h|=1),h<<=1,this.readModule(c-1,0,c,u)&&(h|=1),h<<=1,this.readModule(0,u-4,c,u)&&(h|=1),h<<=1,this.readModule(0,u-3,c,u)&&(h|=1),h<<=1,this.readModule(0,u-2,c,u)&&(h|=1),h<<=1,this.readModule(0,u-1,c,u)&&(h|=1),h<<=1,this.readModule(1,u-1,c,u)&&(h|=1),h}readCorner3(c,u){let h=0;return this.readModule(c-1,0,c,u)&&(h|=1),h<<=1,this.readModule(c-1,u-1,c,u)&&(h|=1),h<<=1,this.readModule(0,u-3,c,u)&&(h|=1),h<<=1,this.readModule(0,u-2,c,u)&&(h|=1),h<<=1,this.readModule(0,u-1,c,u)&&(h|=1),h<<=1,this.readModule(1,u-3,c,u)&&(h|=1),h<<=1,this.readModule(1,u-2,c,u)&&(h|=1),h<<=1,this.readModule(1,u-1,c,u)&&(h|=1),h}readCorner4(c,u){let h=0;return this.readModule(c-3,0,c,u)&&(h|=1),h<<=1,this.readModule(c-2,0,c,u)&&(h|=1),h<<=1,this.readModule(c-1,0,c,u)&&(h|=1),h<<=1,this.readModule(0,u-2,c,u)&&(h|=1),h<<=1,this.readModule(0,u-1,c,u)&&(h|=1),h<<=1,this.readModule(1,u-1,c,u)&&(h|=1),h<<=1,this.readModule(2,u-1,c,u)&&(h|=1),h<<=1,this.readModule(3,u-1,c,u)&&(h|=1),h}extractDataRegion(c){const u=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(c.getHeight()!==u)throw new m("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),w=u/p|0,E=h/x|0,T=w*p,P=E*x,z=new Z(P,T);for(let te=0;te<w;++te){const Ae=te*p;for(let ge=0;ge<E;++ge){const Be=ge*x;for(let Se=0;Se<p;++Se){const ke=te*(p+2)+1+Se,We=Ae+Se;for(let ot=0;ot<x;++ot){const ut=ge*(x+2)+1+ot;if(c.get(ut,ke)){const lt=Be+ot;z.set(lt,We)}}}}}return z}}class Dn{constructor(c,u){this.numDataCodewords=c,this.codewords=u}static getDataBlocks(c,u){const h=u.getECBlocks();let p=0;const x=h.getECBlocks();for(let Se of x)p+=Se.getCount();const w=new Array(p);let E=0;for(let Se of x)for(let ke=0;ke<Se.getCount();ke++){const We=Se.getDataCodewords(),ot=h.getECCodewords()+We;w[E++]=new Dn(We,new Uint8Array(ot))}const P=w[0].codewords.length-h.getECCodewords(),z=P-1;let te=0;for(let Se=0;Se<z;Se++)for(let ke=0;ke<E;ke++)w[ke].codewords[Se]=c[te++];const Ae=u.getVersionNumber()===24,ge=Ae?8:E;for(let Se=0;Se<ge;Se++)w[Se].codewords[P-1]=c[te++];const Be=w[0].codewords.length;for(let Se=P;Se<Be;Se++)for(let ke=0;ke<E;ke++){const We=Ae?(ke+8)%E:ke,ot=Ae&&We>7?Se-1:Se;w[We].codewords[ot]=c[te++]}if(te!==c.length)throw new m;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class fA{constructor(c){this.bytes=c,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(c){if(c<1||c>32||c>this.available())throw new m(""+c);let u=0,h=this.bitOffset,p=this.byteOffset;const x=this.bytes;if(h>0){const w=8-h,E=c<w?c:w,T=w-E,P=255>>8-E<<T;u=(x[p]&P)>>T,c-=E,h+=E,h===8&&(h=0,p++)}if(c>0){for(;c>=8;)u=u<<8|x[p]&255,p++,c-=8;if(c>0){const w=8-c,E=255>>w<<w;u=u<<c|(x[p]&E)>>w,h+=c}}return this.bitOffset=h,this.byteOffset=p,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Wn;(function(re){re[re.PAD_ENCODE=0]="PAD_ENCODE",re[re.ASCII_ENCODE=1]="ASCII_ENCODE",re[re.C40_ENCODE=2]="C40_ENCODE",re[re.TEXT_ENCODE=3]="TEXT_ENCODE",re[re.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",re[re.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",re[re.BASE256_ENCODE=6]="BASE256_ENCODE"})(Wn||(Wn={}));class Mi{static decode(c){const u=new fA(c),h=new X,p=new X,x=new Array;let w=Wn.ASCII_ENCODE;do if(w===Wn.ASCII_ENCODE)w=this.decodeAsciiSegment(u,h,p);else{switch(w){case Wn.C40_ENCODE:this.decodeC40Segment(u,h);break;case Wn.TEXT_ENCODE:this.decodeTextSegment(u,h);break;case Wn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,h);break;case Wn.EDIFACT_ENCODE:this.decodeEdifactSegment(u,h);break;case Wn.BASE256_ENCODE:this.decodeBase256Segment(u,h,x);break;default:throw new O}w=Wn.ASCII_ENCODE}while(w!==Wn.PAD_ENCODE&&u.available()>0);return p.length()>0&&h.append(p.toString()),new Ie(c,h.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(c,u,h){let p=!1;do{let x=c.readBits(8);if(x===0)throw new O;if(x<=128)return p&&(x+=128),u.append(String.fromCharCode(x-1)),Wn.ASCII_ENCODE;if(x===129)return Wn.PAD_ENCODE;if(x<=229){const w=x-130;w<10&&u.append("0"),u.append(""+w)}else switch(x){case 230:return Wn.C40_ENCODE;case 231:return Wn.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:u.append("[)>05"),h.insert(0,"");break;case 237:u.append("[)>06"),h.insert(0,"");break;case 238:return Wn.ANSIX12_ENCODE;case 239:return Wn.TEXT_ENCODE;case 240:return Wn.EDIFACT_ENCODE;case 241:break;default:if(x!==254||c.available()!==0)throw new O;break}}while(c.available()>0);return Wn.ASCII_ENCODE}static decodeC40Segment(c,u){let h=!1;const p=[];let x=0;do{if(c.available()===8)return;const w=c.readBits(8);if(w===254)return;this.parseTwoBytes(w,c.readBits(8),p);for(let E=0;E<3;E++){const T=p[E];switch(x){case 0:if(T<3)x=T+1;else if(T<this.C40_BASIC_SET_CHARS.length){const P=this.C40_BASIC_SET_CHARS[T];h?(u.append(String.fromCharCode(P.charCodeAt(0)+128)),h=!1):u.append(P)}else throw new O;break;case 1:h?(u.append(String.fromCharCode(T+128)),h=!1):u.append(String.fromCharCode(T)),x=0;break;case 2:if(T<this.C40_SHIFT2_SET_CHARS.length){const P=this.C40_SHIFT2_SET_CHARS[T];h?(u.append(String.fromCharCode(P.charCodeAt(0)+128)),h=!1):u.append(P)}else switch(T){case 27:u.append("");break;case 30:h=!0;break;default:throw new O}x=0;break;case 3:h?(u.append(String.fromCharCode(T+224)),h=!1):u.append(String.fromCharCode(T+96)),x=0;break;default:throw new O}}}while(c.available()>0)}static decodeTextSegment(c,u){let h=!1,p=[],x=0;do{if(c.available()===8)return;const w=c.readBits(8);if(w===254)return;this.parseTwoBytes(w,c.readBits(8),p);for(let E=0;E<3;E++){const T=p[E];switch(x){case 0:if(T<3)x=T+1;else if(T<this.TEXT_BASIC_SET_CHARS.length){const P=this.TEXT_BASIC_SET_CHARS[T];h?(u.append(String.fromCharCode(P.charCodeAt(0)+128)),h=!1):u.append(P)}else throw new O;break;case 1:h?(u.append(String.fromCharCode(T+128)),h=!1):u.append(String.fromCharCode(T)),x=0;break;case 2:if(T<this.TEXT_SHIFT2_SET_CHARS.length){const P=this.TEXT_SHIFT2_SET_CHARS[T];h?(u.append(String.fromCharCode(P.charCodeAt(0)+128)),h=!1):u.append(P)}else switch(T){case 27:u.append("");break;case 30:h=!0;break;default:throw new O}x=0;break;case 3:if(T<this.TEXT_SHIFT3_SET_CHARS.length){const P=this.TEXT_SHIFT3_SET_CHARS[T];h?(u.append(String.fromCharCode(P.charCodeAt(0)+128)),h=!1):u.append(P),x=0}else throw new O;break;default:throw new O}}}while(c.available()>0)}static decodeAnsiX12Segment(c,u){const h=[];do{if(c.available()===8)return;const p=c.readBits(8);if(p===254)return;this.parseTwoBytes(p,c.readBits(8),h);for(let x=0;x<3;x++){const w=h[x];switch(w){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(w<14)u.append(String.fromCharCode(w+44));else if(w<40)u.append(String.fromCharCode(w+51));else throw new O;break}}}while(c.available()>0)}static parseTwoBytes(c,u,h){let p=(c<<8)+u-1,x=Math.floor(p/1600);h[0]=x,p-=x*1600,x=Math.floor(p/40),h[1]=x,h[2]=p-x*40}static decodeEdifactSegment(c,u){do{if(c.available()<=16)return;for(let h=0;h<4;h++){let p=c.readBits(6);if(p===31){const x=8-c.getBitOffset();x!==8&&c.readBits(x);return}p&32||(p|=64),u.append(String.fromCharCode(p))}}while(c.available()>0)}static decodeBase256Segment(c,u,h){let p=1+c.getByteOffset();const x=this.unrandomize255State(c.readBits(8),p++);let w;if(x===0?w=c.available()/8|0:x<250?w=x:w=250*(x-249)+this.unrandomize255State(c.readBits(8),p++),w<0)throw new O;const E=new Uint8Array(w);for(let T=0;T<w;T++){if(c.available()<8)throw new O;E[T]=this.unrandomize255State(c.readBits(8),p++)}h.push(E);try{u.append(U.decode(E,Q.ISO88591))}catch(T){throw new Re("Platform does not support required encoding: "+T.message)}}static unrandomize255State(c,u){const h=149*u%255+1,p=c-h;return p>=0?p:p+256}}Mi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Mi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Mi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Mi.TEXT_SHIFT2_SET_CHARS=Mi.C40_SHIFT2_SET_CHARS,Mi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class td{constructor(){this.rsDecoder=new ye(Me.DATA_MATRIX_FIELD_256)}decode(c){const u=new ed(c),h=u.getVersion(),p=u.readCodewords(),x=Dn.getDataBlocks(p,h);let w=0;for(let P of x)w+=P.getNumDataCodewords();const E=new Uint8Array(w),T=x.length;for(let P=0;P<T;P++){const z=x[P],te=z.getCodewords(),Ae=z.getNumDataCodewords();this.correctErrors(te,Ae);for(let ge=0;ge<Ae;ge++)E[ge*T+P]=te[ge]}return Mi.decode(E)}correctErrors(c,u){const h=new Int32Array(c);try{this.rsDecoder.decode(h,c.length-u)}catch{throw new g}for(let p=0;p<u;p++)c[p]=h[p]}}class _n{constructor(c){this.image=c,this.rectangleDetector=new et(this.image)}detect(){const c=this.rectangleDetector.detect();let u=this.detectSolid1(c);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new $;u=this.shiftToModuleCenter(u);const h=u[0],p=u[1],x=u[2],w=u[3];let E=this.transitionsBetween(h,w)+1,T=this.transitionsBetween(x,w)+1;(E&1)===1&&(E+=1),(T&1)===1&&(T+=1),4*E<7*T&&4*T<7*E&&(E=T=Math.max(E,T));let P=_n.sampleGrid(this.image,h,p,x,w,E,T);return new ft(P,[h,p,x,w])}static shiftPoint(c,u,h){let p=(u.getX()-c.getX())/(h+1),x=(u.getY()-c.getY())/(h+1);return new _e(c.getX()+p,c.getY()+x)}static moveAway(c,u,h){let p=c.getX(),x=c.getY();return p<u?p-=1:p+=1,x<h?x-=1:x+=1,new _e(p,x)}detectSolid1(c){let u=c[0],h=c[1],p=c[3],x=c[2],w=this.transitionsBetween(u,h),E=this.transitionsBetween(h,p),T=this.transitionsBetween(p,x),P=this.transitionsBetween(x,u),z=w,te=[x,u,h,p];return z>E&&(z=E,te[0]=u,te[1]=h,te[2]=p,te[3]=x),z>T&&(z=T,te[0]=h,te[1]=p,te[2]=x,te[3]=u),z>P&&(te[0]=p,te[1]=x,te[2]=u,te[3]=h),te}detectSolid2(c){let u=c[0],h=c[1],p=c[2],x=c[3],w=this.transitionsBetween(u,x),E=_n.shiftPoint(h,p,(w+1)*4),T=_n.shiftPoint(p,h,(w+1)*4),P=this.transitionsBetween(E,u),z=this.transitionsBetween(T,x);return P<z?(c[0]=u,c[1]=h,c[2]=p,c[3]=x):(c[0]=h,c[1]=p,c[2]=x,c[3]=u),c}correctTopRight(c){let u=c[0],h=c[1],p=c[2],x=c[3],w=this.transitionsBetween(u,x),E=this.transitionsBetween(h,x),T=_n.shiftPoint(u,h,(E+1)*4),P=_n.shiftPoint(p,h,(w+1)*4);w=this.transitionsBetween(T,x),E=this.transitionsBetween(P,x);let z=new _e(x.getX()+(p.getX()-h.getX())/(w+1),x.getY()+(p.getY()-h.getY())/(w+1)),te=new _e(x.getX()+(u.getX()-h.getX())/(E+1),x.getY()+(u.getY()-h.getY())/(E+1));if(!this.isValid(z))return this.isValid(te)?te:null;if(!this.isValid(te))return z;let Ae=this.transitionsBetween(T,z)+this.transitionsBetween(P,z),ge=this.transitionsBetween(T,te)+this.transitionsBetween(P,te);return Ae>ge?z:te}shiftToModuleCenter(c){let u=c[0],h=c[1],p=c[2],x=c[3],w=this.transitionsBetween(u,x)+1,E=this.transitionsBetween(p,x)+1,T=_n.shiftPoint(u,h,E*4),P=_n.shiftPoint(p,h,w*4);w=this.transitionsBetween(T,x)+1,E=this.transitionsBetween(P,x)+1,(w&1)===1&&(w+=1),(E&1)===1&&(E+=1);let z=(u.getX()+h.getX()+p.getX()+x.getX())/4,te=(u.getY()+h.getY()+p.getY()+x.getY())/4;u=_n.moveAway(u,z,te),h=_n.moveAway(h,z,te),p=_n.moveAway(p,z,te),x=_n.moveAway(x,z,te);let Ae,ge;return T=_n.shiftPoint(u,h,E*4),T=_n.shiftPoint(T,x,w*4),Ae=_n.shiftPoint(h,u,E*4),Ae=_n.shiftPoint(Ae,p,w*4),P=_n.shiftPoint(p,x,E*4),P=_n.shiftPoint(P,h,w*4),ge=_n.shiftPoint(x,p,E*4),ge=_n.shiftPoint(ge,u,w*4),[T,Ae,P,ge]}isValid(c){return c.getX()>=0&&c.getX()<this.image.getWidth()&&c.getY()>0&&c.getY()<this.image.getHeight()}static sampleGrid(c,u,h,p,x,w,E){return lr.getInstance().sampleGrid(c,w,E,.5,.5,w-.5,.5,w-.5,E-.5,.5,E-.5,u.getX(),u.getY(),x.getX(),x.getY(),p.getX(),p.getY(),h.getX(),h.getY())}transitionsBetween(c,u){let h=Math.trunc(c.getX()),p=Math.trunc(c.getY()),x=Math.trunc(u.getX()),w=Math.trunc(u.getY()),E=Math.abs(w-p)>Math.abs(x-h);if(E){let Se=h;h=p,p=Se,Se=x,x=w,w=Se}let T=Math.abs(x-h),P=Math.abs(w-p),z=-T/2,te=p<w?1:-1,Ae=h<x?1:-1,ge=0,Be=this.image.get(E?p:h,E?h:p);for(let Se=h,ke=p;Se!==x;Se+=Ae){let We=this.image.get(E?ke:Se,E?Se:ke);if(We!==Be&&(ge++,Be=We),z+=P,z>0){if(ke===w)break;ke+=te,z-=T}}return ge}}class Ds{constructor(){this.decoder=new td}decode(c,u=null){let h,p;if(u!=null&&u.has(V.PURE_BARCODE)){const P=Ds.extractPureBits(c.getBlackMatrix());h=this.decoder.decode(P),p=Ds.NO_POINTS}else{const P=new _n(c.getBlackMatrix()).detect();h=this.decoder.decode(P.getBits()),p=P.getPoints()}const x=h.getRawBytes(),w=new ie(h.getText(),x,8*x.length,p,ce.DATA_MATRIX,C.currentTimeMillis()),E=h.getByteSegments();E!=null&&w.putMetadata(we.BYTE_SEGMENTS,E);const T=h.getECLevel();return T!=null&&w.putMetadata(we.ERROR_CORRECTION_LEVEL,T),w}reset(){}static extractPureBits(c){const u=c.getTopLeftOnBit(),h=c.getBottomRightOnBit();if(u==null||h==null)throw new $;const p=this.moduleSize(u,c);let x=u[1];const w=h[1];let E=u[0];const P=(h[0]-E+1)/p,z=(w-x+1)/p;if(P<=0||z<=0)throw new $;const te=p/2;x+=te,E+=te;const Ae=new Z(P,z);for(let ge=0;ge<z;ge++){const Be=x+ge*p;for(let Se=0;Se<P;Se++)c.get(E+Se*p,Be)&&Ae.set(Se,ge)}return Ae}static moduleSize(c,u){const h=u.getWidth();let p=c[0];const x=c[1];for(;p<h&&u.get(p,x);)p++;if(p===h)throw new $;const w=p-c[0];if(w===0)throw new $;return w}}Ds.NO_POINTS=[];class mA extends ee{constructor(c=500){super(new Ds,c)}}var Bs;(function(re){re[re.L=0]="L",re[re.M=1]="M",re[re.Q=2]="Q",re[re.H=3]="H"})(Bs||(Bs={}));class qr{constructor(c,u,h){this.value=c,this.stringValue=u,this.bits=h,qr.FOR_BITS.set(h,this),qr.FOR_VALUE.set(c,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(c){switch(c){case"L":return qr.L;case"M":return qr.M;case"Q":return qr.Q;case"H":return qr.H;default:throw new f(c+"not available")}}toString(){return this.stringValue}equals(c){if(!(c instanceof qr))return!1;const u=c;return this.value===u.value}static forBits(c){if(c<0||c>=qr.FOR_BITS.size)throw new m;return qr.FOR_BITS.get(c)}}qr.FOR_BITS=new Map,qr.FOR_VALUE=new Map,qr.L=new qr(Bs.L,"L",1),qr.M=new qr(Bs.M,"M",0),qr.Q=new qr(Bs.Q,"Q",3),qr.H=new qr(Bs.H,"H",2);class Ns{constructor(c){this.errorCorrectionLevel=qr.forBits(c>>3&3),this.dataMask=c&7}static numBitsDiffering(c,u){return I.bitCount(c^u)}static decodeFormatInformation(c,u){const h=Ns.doDecodeFormatInformation(c,u);return h!==null?h:Ns.doDecodeFormatInformation(c^Ns.FORMAT_INFO_MASK_QR,u^Ns.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(c,u){let h=Number.MAX_SAFE_INTEGER,p=0;for(const x of Ns.FORMAT_INFO_DECODE_LOOKUP){const w=x[0];if(w===c||w===u)return new Ns(x[1]);let E=Ns.numBitsDiffering(c,w);E<h&&(p=x[1],h=E),c!==u&&(E=Ns.numBitsDiffering(u,w),E<h&&(p=x[1],h=E))}return h<=3?new Ns(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(c){if(!(c instanceof Ns))return!1;const u=c;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}Ns.FORMAT_INFO_MASK_QR=21522,Ns.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Qe{constructor(c,...u){this.ecCodewordsPerBlock=c,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let c=0;const u=this.ecBlocks;for(const h of u)c+=h.getCount();return c}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class fe{constructor(c,u){this.count=c,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(c,u,...h){this.versionNumber=c,this.alignmentPatternCenters=u,this.ecBlocks=h;let p=0;const x=h[0].getECCodewordsPerBlock(),w=h[0].getECBlocks();for(const E of w)p+=E.getCount()*(E.getDataCodewords()+x);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(c){return this.ecBlocks[c.getValue()]}static getProvisionalVersionForDimension(c){if(c%4!==1)throw new O;try{return this.getVersionForNumber((c-17)/4)}catch{throw new O}}static getVersionForNumber(c){if(c<1||c>40)throw new m;return _t.VERSIONS[c-1]}static decodeVersionInformation(c){let u=Number.MAX_SAFE_INTEGER,h=0;for(let p=0;p<_t.VERSION_DECODE_INFO.length;p++){const x=_t.VERSION_DECODE_INFO[p];if(x===c)return _t.getVersionForNumber(p+7);const w=Ns.numBitsDiffering(c,x);w<u&&(h=p+7,u=w)}return u<=3?_t.getVersionForNumber(h):null}buildFunctionPattern(){const c=this.getDimensionForVersion(),u=new Z(c);u.setRegion(0,0,9,9),u.setRegion(c-8,0,8,9),u.setRegion(0,c-8,9,8);const h=this.alignmentPatternCenters.length;for(let p=0;p<h;p++){const x=this.alignmentPatternCenters[p]-2;for(let w=0;w<h;w++)p===0&&(w===0||w===h-1)||p===h-1&&w===0||u.setRegion(this.alignmentPatternCenters[w]-2,x,5,5)}return u.setRegion(6,9,1,c-17),u.setRegion(9,6,c-17,1),this.versionNumber>6&&(u.setRegion(c-11,0,3,6),u.setRegion(0,c-11,6,3)),u}toString(){return""+this.versionNumber}}_t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_t.VERSIONS=[new _t(1,new Int32Array(0),new Qe(7,new fe(1,19)),new Qe(10,new fe(1,16)),new Qe(13,new fe(1,13)),new Qe(17,new fe(1,9))),new _t(2,Int32Array.from([6,18]),new Qe(10,new fe(1,34)),new Qe(16,new fe(1,28)),new Qe(22,new fe(1,22)),new Qe(28,new fe(1,16))),new _t(3,Int32Array.from([6,22]),new Qe(15,new fe(1,55)),new Qe(26,new fe(1,44)),new Qe(18,new fe(2,17)),new Qe(22,new fe(2,13))),new _t(4,Int32Array.from([6,26]),new Qe(20,new fe(1,80)),new Qe(18,new fe(2,32)),new Qe(26,new fe(2,24)),new Qe(16,new fe(4,9))),new _t(5,Int32Array.from([6,30]),new Qe(26,new fe(1,108)),new Qe(24,new fe(2,43)),new Qe(18,new fe(2,15),new fe(2,16)),new Qe(22,new fe(2,11),new fe(2,12))),new _t(6,Int32Array.from([6,34]),new Qe(18,new fe(2,68)),new Qe(16,new fe(4,27)),new Qe(24,new fe(4,19)),new Qe(28,new fe(4,15))),new _t(7,Int32Array.from([6,22,38]),new Qe(20,new fe(2,78)),new Qe(18,new fe(4,31)),new Qe(18,new fe(2,14),new fe(4,15)),new Qe(26,new fe(4,13),new fe(1,14))),new _t(8,Int32Array.from([6,24,42]),new Qe(24,new fe(2,97)),new Qe(22,new fe(2,38),new fe(2,39)),new Qe(22,new fe(4,18),new fe(2,19)),new Qe(26,new fe(4,14),new fe(2,15))),new _t(9,Int32Array.from([6,26,46]),new Qe(30,new fe(2,116)),new Qe(22,new fe(3,36),new fe(2,37)),new Qe(20,new fe(4,16),new fe(4,17)),new Qe(24,new fe(4,12),new fe(4,13))),new _t(10,Int32Array.from([6,28,50]),new Qe(18,new fe(2,68),new fe(2,69)),new Qe(26,new fe(4,43),new fe(1,44)),new Qe(24,new fe(6,19),new fe(2,20)),new Qe(28,new fe(6,15),new fe(2,16))),new _t(11,Int32Array.from([6,30,54]),new Qe(20,new fe(4,81)),new Qe(30,new fe(1,50),new fe(4,51)),new Qe(28,new fe(4,22),new fe(4,23)),new Qe(24,new fe(3,12),new fe(8,13))),new _t(12,Int32Array.from([6,32,58]),new Qe(24,new fe(2,92),new fe(2,93)),new Qe(22,new fe(6,36),new fe(2,37)),new Qe(26,new fe(4,20),new fe(6,21)),new Qe(28,new fe(7,14),new fe(4,15))),new _t(13,Int32Array.from([6,34,62]),new Qe(26,new fe(4,107)),new Qe(22,new fe(8,37),new fe(1,38)),new Qe(24,new fe(8,20),new fe(4,21)),new Qe(22,new fe(12,11),new fe(4,12))),new _t(14,Int32Array.from([6,26,46,66]),new Qe(30,new fe(3,115),new fe(1,116)),new Qe(24,new fe(4,40),new fe(5,41)),new Qe(20,new fe(11,16),new fe(5,17)),new Qe(24,new fe(11,12),new fe(5,13))),new _t(15,Int32Array.from([6,26,48,70]),new Qe(22,new fe(5,87),new fe(1,88)),new Qe(24,new fe(5,41),new fe(5,42)),new Qe(30,new fe(5,24),new fe(7,25)),new Qe(24,new fe(11,12),new fe(7,13))),new _t(16,Int32Array.from([6,26,50,74]),new Qe(24,new fe(5,98),new fe(1,99)),new Qe(28,new fe(7,45),new fe(3,46)),new Qe(24,new fe(15,19),new fe(2,20)),new Qe(30,new fe(3,15),new fe(13,16))),new _t(17,Int32Array.from([6,30,54,78]),new Qe(28,new fe(1,107),new fe(5,108)),new Qe(28,new fe(10,46),new fe(1,47)),new Qe(28,new fe(1,22),new fe(15,23)),new Qe(28,new fe(2,14),new fe(17,15))),new _t(18,Int32Array.from([6,30,56,82]),new Qe(30,new fe(5,120),new fe(1,121)),new Qe(26,new fe(9,43),new fe(4,44)),new Qe(28,new fe(17,22),new fe(1,23)),new Qe(28,new fe(2,14),new fe(19,15))),new _t(19,Int32Array.from([6,30,58,86]),new Qe(28,new fe(3,113),new fe(4,114)),new Qe(26,new fe(3,44),new fe(11,45)),new Qe(26,new fe(17,21),new fe(4,22)),new Qe(26,new fe(9,13),new fe(16,14))),new _t(20,Int32Array.from([6,34,62,90]),new Qe(28,new fe(3,107),new fe(5,108)),new Qe(26,new fe(3,41),new fe(13,42)),new Qe(30,new fe(15,24),new fe(5,25)),new Qe(28,new fe(15,15),new fe(10,16))),new _t(21,Int32Array.from([6,28,50,72,94]),new Qe(28,new fe(4,116),new fe(4,117)),new Qe(26,new fe(17,42)),new Qe(28,new fe(17,22),new fe(6,23)),new Qe(30,new fe(19,16),new fe(6,17))),new _t(22,Int32Array.from([6,26,50,74,98]),new Qe(28,new fe(2,111),new fe(7,112)),new Qe(28,new fe(17,46)),new Qe(30,new fe(7,24),new fe(16,25)),new Qe(24,new fe(34,13))),new _t(23,Int32Array.from([6,30,54,78,102]),new Qe(30,new fe(4,121),new fe(5,122)),new Qe(28,new fe(4,47),new fe(14,48)),new Qe(30,new fe(11,24),new fe(14,25)),new Qe(30,new fe(16,15),new fe(14,16))),new _t(24,Int32Array.from([6,28,54,80,106]),new Qe(30,new fe(6,117),new fe(4,118)),new Qe(28,new fe(6,45),new fe(14,46)),new Qe(30,new fe(11,24),new fe(16,25)),new Qe(30,new fe(30,16),new fe(2,17))),new _t(25,Int32Array.from([6,32,58,84,110]),new Qe(26,new fe(8,106),new fe(4,107)),new Qe(28,new fe(8,47),new fe(13,48)),new Qe(30,new fe(7,24),new fe(22,25)),new Qe(30,new fe(22,15),new fe(13,16))),new _t(26,Int32Array.from([6,30,58,86,114]),new Qe(28,new fe(10,114),new fe(2,115)),new Qe(28,new fe(19,46),new fe(4,47)),new Qe(28,new fe(28,22),new fe(6,23)),new Qe(30,new fe(33,16),new fe(4,17))),new _t(27,Int32Array.from([6,34,62,90,118]),new Qe(30,new fe(8,122),new fe(4,123)),new Qe(28,new fe(22,45),new fe(3,46)),new Qe(30,new fe(8,23),new fe(26,24)),new Qe(30,new fe(12,15),new fe(28,16))),new _t(28,Int32Array.from([6,26,50,74,98,122]),new Qe(30,new fe(3,117),new fe(10,118)),new Qe(28,new fe(3,45),new fe(23,46)),new Qe(30,new fe(4,24),new fe(31,25)),new Qe(30,new fe(11,15),new fe(31,16))),new _t(29,Int32Array.from([6,30,54,78,102,126]),new Qe(30,new fe(7,116),new fe(7,117)),new Qe(28,new fe(21,45),new fe(7,46)),new Qe(30,new fe(1,23),new fe(37,24)),new Qe(30,new fe(19,15),new fe(26,16))),new _t(30,Int32Array.from([6,26,52,78,104,130]),new Qe(30,new fe(5,115),new fe(10,116)),new Qe(28,new fe(19,47),new fe(10,48)),new Qe(30,new fe(15,24),new fe(25,25)),new Qe(30,new fe(23,15),new fe(25,16))),new _t(31,Int32Array.from([6,30,56,82,108,134]),new Qe(30,new fe(13,115),new fe(3,116)),new Qe(28,new fe(2,46),new fe(29,47)),new Qe(30,new fe(42,24),new fe(1,25)),new Qe(30,new fe(23,15),new fe(28,16))),new _t(32,Int32Array.from([6,34,60,86,112,138]),new Qe(30,new fe(17,115)),new Qe(28,new fe(10,46),new fe(23,47)),new Qe(30,new fe(10,24),new fe(35,25)),new Qe(30,new fe(19,15),new fe(35,16))),new _t(33,Int32Array.from([6,30,58,86,114,142]),new Qe(30,new fe(17,115),new fe(1,116)),new Qe(28,new fe(14,46),new fe(21,47)),new Qe(30,new fe(29,24),new fe(19,25)),new Qe(30,new fe(11,15),new fe(46,16))),new _t(34,Int32Array.from([6,34,62,90,118,146]),new Qe(30,new fe(13,115),new fe(6,116)),new Qe(28,new fe(14,46),new fe(23,47)),new Qe(30,new fe(44,24),new fe(7,25)),new Qe(30,new fe(59,16),new fe(1,17))),new _t(35,Int32Array.from([6,30,54,78,102,126,150]),new Qe(30,new fe(12,121),new fe(7,122)),new Qe(28,new fe(12,47),new fe(26,48)),new Qe(30,new fe(39,24),new fe(14,25)),new Qe(30,new fe(22,15),new fe(41,16))),new _t(36,Int32Array.from([6,24,50,76,102,128,154]),new Qe(30,new fe(6,121),new fe(14,122)),new Qe(28,new fe(6,47),new fe(34,48)),new Qe(30,new fe(46,24),new fe(10,25)),new Qe(30,new fe(2,15),new fe(64,16))),new _t(37,Int32Array.from([6,28,54,80,106,132,158]),new Qe(30,new fe(17,122),new fe(4,123)),new Qe(28,new fe(29,46),new fe(14,47)),new Qe(30,new fe(49,24),new fe(10,25)),new Qe(30,new fe(24,15),new fe(46,16))),new _t(38,Int32Array.from([6,32,58,84,110,136,162]),new Qe(30,new fe(4,122),new fe(18,123)),new Qe(28,new fe(13,46),new fe(32,47)),new Qe(30,new fe(48,24),new fe(14,25)),new Qe(30,new fe(42,15),new fe(32,16))),new _t(39,Int32Array.from([6,26,54,82,110,138,166]),new Qe(30,new fe(20,117),new fe(4,118)),new Qe(28,new fe(40,47),new fe(7,48)),new Qe(30,new fe(43,24),new fe(22,25)),new Qe(30,new fe(10,15),new fe(67,16))),new _t(40,Int32Array.from([6,30,58,86,114,142,170]),new Qe(30,new fe(19,118),new fe(6,119)),new Qe(28,new fe(18,47),new fe(31,48)),new Qe(30,new fe(34,24),new fe(34,25)),new Qe(30,new fe(20,15),new fe(61,16)))];var es;(function(re){re[re.DATA_MASK_000=0]="DATA_MASK_000",re[re.DATA_MASK_001=1]="DATA_MASK_001",re[re.DATA_MASK_010=2]="DATA_MASK_010",re[re.DATA_MASK_011=3]="DATA_MASK_011",re[re.DATA_MASK_100=4]="DATA_MASK_100",re[re.DATA_MASK_101=5]="DATA_MASK_101",re[re.DATA_MASK_110=6]="DATA_MASK_110",re[re.DATA_MASK_111=7]="DATA_MASK_111"})(es||(es={}));class Ba{constructor(c,u){this.value=c,this.isMasked=u}unmaskBitMatrix(c,u){for(let h=0;h<u;h++)for(let p=0;p<u;p++)this.isMasked(h,p)&&c.flip(p,h)}}Ba.values=new Map([[es.DATA_MASK_000,new Ba(es.DATA_MASK_000,(re,c)=>(re+c&1)===0)],[es.DATA_MASK_001,new Ba(es.DATA_MASK_001,(re,c)=>(re&1)===0)],[es.DATA_MASK_010,new Ba(es.DATA_MASK_010,(re,c)=>c%3===0)],[es.DATA_MASK_011,new Ba(es.DATA_MASK_011,(re,c)=>(re+c)%3===0)],[es.DATA_MASK_100,new Ba(es.DATA_MASK_100,(re,c)=>(Math.floor(re/2)+Math.floor(c/3)&1)===0)],[es.DATA_MASK_101,new Ba(es.DATA_MASK_101,(re,c)=>re*c%6===0)],[es.DATA_MASK_110,new Ba(es.DATA_MASK_110,(re,c)=>re*c%6<3)],[es.DATA_MASK_111,new Ba(es.DATA_MASK_111,(re,c)=>(re+c+re*c%3&1)===0)]]);class rd{constructor(c){const u=c.getHeight();if(u<21||(u&3)!==1)throw new O;this.bitMatrix=c}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let c=0;for(let x=0;x<6;x++)c=this.copyBit(x,8,c);c=this.copyBit(7,8,c),c=this.copyBit(8,8,c),c=this.copyBit(8,7,c);for(let x=5;x>=0;x--)c=this.copyBit(8,x,c);const u=this.bitMatrix.getHeight();let h=0;const p=u-7;for(let x=u-1;x>=p;x--)h=this.copyBit(8,x,h);for(let x=u-8;x<u;x++)h=this.copyBit(x,8,h);if(this.parsedFormatInfo=Ns.decodeFormatInformation(c,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new O}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const c=this.bitMatrix.getHeight(),u=Math.floor((c-17)/4);if(u<=6)return _t.getVersionForNumber(u);let h=0;const p=c-11;for(let w=5;w>=0;w--)for(let E=c-9;E>=p;E--)h=this.copyBit(E,w,h);let x=_t.decodeVersionInformation(h);if(x!==null&&x.getDimensionForVersion()===c)return this.parsedVersion=x,x;h=0;for(let w=5;w>=0;w--)for(let E=c-9;E>=p;E--)h=this.copyBit(w,E,h);if(x=_t.decodeVersionInformation(h),x!==null&&x.getDimensionForVersion()===c)return this.parsedVersion=x,x;throw new O}copyBit(c,u,h){return(this.isMirror?this.bitMatrix.get(u,c):this.bitMatrix.get(c,u))?h<<1|1:h<<1}readCodewords(){const c=this.readFormatInformation(),u=this.readVersion(),h=Ba.values.get(c.getDataMask()),p=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,p);const x=u.buildFunctionPattern();let w=!0;const E=new Uint8Array(u.getTotalCodewords());let T=0,P=0,z=0;for(let te=p-1;te>0;te-=2){te===6&&te--;for(let Ae=0;Ae<p;Ae++){const ge=w?p-1-Ae:Ae;for(let Be=0;Be<2;Be++)x.get(te-Be,ge)||(z++,P<<=1,this.bitMatrix.get(te-Be,ge)&&(P|=1),z===8&&(E[T++]=P,z=0,P=0))}w=!w}if(T!==u.getTotalCodewords())throw new O;return E}remask(){if(this.parsedFormatInfo===null)return;const c=Ba.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,u)}setMirror(c){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=c}mirror(){const c=this.bitMatrix;for(let u=0,h=c.getWidth();u<h;u++)for(let p=u+1,x=c.getHeight();p<x;p++)c.get(u,p)!==c.get(p,u)&&(c.flip(p,u),c.flip(u,p))}}class nd{constructor(c,u){this.numDataCodewords=c,this.codewords=u}static getDataBlocks(c,u,h){if(c.length!==u.getTotalCodewords())throw new m;const p=u.getECBlocksForLevel(h);let x=0;const w=p.getECBlocks();for(const Be of w)x+=Be.getCount();const E=new Array(x);let T=0;for(const Be of w)for(let Se=0;Se<Be.getCount();Se++){const ke=Be.getDataCodewords(),We=p.getECCodewordsPerBlock()+ke;E[T++]=new nd(ke,new Uint8Array(We))}const P=E[0].codewords.length;let z=E.length-1;for(;z>=0&&E[z].codewords.length!==P;)z--;z++;const te=P-p.getECCodewordsPerBlock();let Ae=0;for(let Be=0;Be<te;Be++)for(let Se=0;Se<T;Se++)E[Se].codewords[Be]=c[Ae++];for(let Be=z;Be<T;Be++)E[Be].codewords[te]=c[Ae++];const ge=E[0].codewords.length;for(let Be=te;Be<ge;Be++)for(let Se=0;Se<T;Se++){const ke=Se<z?Be:Be+1;E[Se].codewords[ke]=c[Ae++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Na;(function(re){re[re.TERMINATOR=0]="TERMINATOR",re[re.NUMERIC=1]="NUMERIC",re[re.ALPHANUMERIC=2]="ALPHANUMERIC",re[re.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",re[re.BYTE=4]="BYTE",re[re.ECI=5]="ECI",re[re.KANJI=6]="KANJI",re[re.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",re[re.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",re[re.HANZI=9]="HANZI"})(Na||(Na={}));class Kt{constructor(c,u,h,p){this.value=c,this.stringValue=u,this.characterCountBitsForVersions=h,this.bits=p,Kt.FOR_BITS.set(p,this),Kt.FOR_VALUE.set(c,this)}static forBits(c){const u=Kt.FOR_BITS.get(c);if(u===void 0)throw new m;return u}getCharacterCountBits(c){const u=c.getVersionNumber();let h;return u<=9?h=0:u<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(c){if(!(c instanceof Kt))return!1;const u=c;return this.value===u.value}toString(){return this.stringValue}}Kt.FOR_BITS=new Map,Kt.FOR_VALUE=new Map,Kt.TERMINATOR=new Kt(Na.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Kt.NUMERIC=new Kt(Na.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Kt.ALPHANUMERIC=new Kt(Na.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Kt.STRUCTURED_APPEND=new Kt(Na.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Kt.BYTE=new Kt(Na.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Kt.ECI=new Kt(Na.ECI,"ECI",Int32Array.from([0,0,0]),7),Kt.KANJI=new Kt(Na.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Kt.FNC1_FIRST_POSITION=new Kt(Na.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Kt.FNC1_SECOND_POSITION=new Kt(Na.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Kt.HANZI=new Kt(Na.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Kr{static decode(c,u,h,p){const x=new fA(c);let w=new X;const E=new Array;let T=-1,P=-1;try{let z=null,te=!1,Ae;do{if(x.available()<4)Ae=Kt.TERMINATOR;else{const ge=x.readBits(4);Ae=Kt.forBits(ge)}switch(Ae){case Kt.TERMINATOR:break;case Kt.FNC1_FIRST_POSITION:case Kt.FNC1_SECOND_POSITION:te=!0;break;case Kt.STRUCTURED_APPEND:if(x.available()<16)throw new O;T=x.readBits(8),P=x.readBits(8);break;case Kt.ECI:const ge=Kr.parseECIValue(x);if(z=_.getCharacterSetECIByValue(ge),z===null)throw new O;break;case Kt.HANZI:const Be=x.readBits(4),Se=x.readBits(Ae.getCharacterCountBits(u));Be===Kr.GB2312_SUBSET&&Kr.decodeHanziSegment(x,w,Se);break;default:const ke=x.readBits(Ae.getCharacterCountBits(u));switch(Ae){case Kt.NUMERIC:Kr.decodeNumericSegment(x,w,ke);break;case Kt.ALPHANUMERIC:Kr.decodeAlphanumericSegment(x,w,ke,te);break;case Kt.BYTE:Kr.decodeByteSegment(x,w,ke,z,E,p);break;case Kt.KANJI:Kr.decodeKanjiSegment(x,w,ke);break;default:throw new O}break}}while(Ae!==Kt.TERMINATOR)}catch{throw new O}return new Ie(c,w.toString(),E.length===0?null:E,h===null?null:h.toString(),T,P)}static decodeHanziSegment(c,u,h){if(h*13>c.available())throw new O;const p=new Uint8Array(2*h);let x=0;for(;h>0;){const w=c.readBits(13);let E=w/96<<8&4294967295|w%96;E<959?E+=41377:E+=42657,p[x]=E>>8&255,p[x+1]=E&255,x+=2,h--}try{u.append(U.decode(p,Q.GB2312))}catch(w){throw new O(w)}}static decodeKanjiSegment(c,u,h){if(h*13>c.available())throw new O;const p=new Uint8Array(2*h);let x=0;for(;h>0;){const w=c.readBits(13);let E=w/192<<8&4294967295|w%192;E<7936?E+=33088:E+=49472,p[x]=E>>8,p[x+1]=E,x+=2,h--}try{u.append(U.decode(p,Q.SHIFT_JIS))}catch(w){throw new O(w)}}static decodeByteSegment(c,u,h,p,x,w){if(8*h>c.available())throw new O;const E=new Uint8Array(h);for(let P=0;P<h;P++)E[P]=c.readBits(8);let T;p===null?T=Q.guessEncoding(E,w):T=p.getName();try{u.append(U.decode(E,T))}catch(P){throw new O(P)}x.push(E)}static toAlphaNumericChar(c){if(c>=Kr.ALPHANUMERIC_CHARS.length)throw new O;return Kr.ALPHANUMERIC_CHARS[c]}static decodeAlphanumericSegment(c,u,h,p){const x=u.length();for(;h>1;){if(c.available()<11)throw new O;const w=c.readBits(11);u.append(Kr.toAlphaNumericChar(Math.floor(w/45))),u.append(Kr.toAlphaNumericChar(w%45)),h-=2}if(h===1){if(c.available()<6)throw new O;u.append(Kr.toAlphaNumericChar(c.readBits(6)))}if(p)for(let w=x;w<u.length();w++)u.charAt(w)==="%"&&(w<u.length()-1&&u.charAt(w+1)==="%"?u.deleteCharAt(w+1):u.setCharAt(w,""))}static decodeNumericSegment(c,u,h){for(;h>=3;){if(c.available()<10)throw new O;const p=c.readBits(10);if(p>=1e3)throw new O;u.append(Kr.toAlphaNumericChar(Math.floor(p/100))),u.append(Kr.toAlphaNumericChar(Math.floor(p/10)%10)),u.append(Kr.toAlphaNumericChar(p%10)),h-=3}if(h===2){if(c.available()<7)throw new O;const p=c.readBits(7);if(p>=100)throw new O;u.append(Kr.toAlphaNumericChar(Math.floor(p/10))),u.append(Kr.toAlphaNumericChar(p%10))}else if(h===1){if(c.available()<4)throw new O;const p=c.readBits(4);if(p>=10)throw new O;u.append(Kr.toAlphaNumericChar(p))}}static parseECIValue(c){const u=c.readBits(8);if(!(u&128))return u&127;if((u&192)===128){const h=c.readBits(8);return(u&63)<<8&4294967295|h}if((u&224)===192){const h=c.readBits(16);return(u&31)<<16&4294967295|h}throw new O}}Kr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Kr.GB2312_SUBSET=1;class hc{constructor(c){this.mirrored=c}isMirrored(){return this.mirrored}applyMirroredCorrection(c){if(!this.mirrored||c===null||c.length<3)return;const u=c[0];c[0]=c[2],c[2]=u}}class pA{constructor(){this.rsDecoder=new ye(Me.QR_CODE_FIELD_256)}decodeBooleanArray(c,u){return this.decodeBitMatrix(Z.parseFromBooleanArray(c),u)}decodeBitMatrix(c,u){const h=new rd(c);let p=null;try{return this.decodeBitMatrixParser(h,u)}catch(x){p=x}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const x=this.decodeBitMatrixParser(h,u);return x.setOther(new hc(!0)),x}catch(x){throw p!==null?p:x}}decodeBitMatrixParser(c,u){const h=c.readVersion(),p=c.readFormatInformation().getErrorCorrectionLevel(),x=c.readCodewords(),w=nd.getDataBlocks(x,h,p);let E=0;for(const z of w)E+=z.getNumDataCodewords();const T=new Uint8Array(E);let P=0;for(const z of w){const te=z.getCodewords(),Ae=z.getNumDataCodewords();this.correctErrors(te,Ae);for(let ge=0;ge<Ae;ge++)T[P++]=te[ge]}return Kr.decode(T,h,p,u)}correctErrors(c,u){const h=new Int32Array(c);try{this.rsDecoder.decode(h,c.length-u)}catch{throw new g}for(let p=0;p<u;p++)c[p]=h[p]}}class gA extends _e{constructor(c,u,h){super(c,u),this.estimatedModuleSize=h}aboutEquals(c,u,h){if(Math.abs(u-this.getY())<=c&&Math.abs(h-this.getX())<=c){const p=Math.abs(c-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(c,u,h){const p=(this.getX()+u)/2,x=(this.getY()+c)/2,w=(this.estimatedModuleSize+h)/2;return new gA(p,x,w)}}class Ss{constructor(c,u,h,p,x,w,E){this.image=c,this.startX=u,this.startY=h,this.width=p,this.height=x,this.moduleSize=w,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const c=this.startX,u=this.height,h=this.width,p=c+h,x=this.startY+u/2,w=new Int32Array(3),E=this.image;for(let T=0;T<u;T++){const P=x+(T&1?-Math.floor((T+1)/2):Math.floor((T+1)/2));w[0]=0,w[1]=0,w[2]=0;let z=c;for(;z<p&&!E.get(z,P);)z++;let te=0;for(;z<p;){if(E.get(z,P))if(te===1)w[1]++;else if(te===2){if(this.foundPatternCross(w)){const Ae=this.handlePossibleCenter(w,P,z);if(Ae!==null)return Ae}w[0]=w[2],w[1]=1,w[2]=0,te=1}else w[++te]++;else te===1&&te++,w[te]++;z++}if(this.foundPatternCross(w)){const Ae=this.handlePossibleCenter(w,P,p);if(Ae!==null)return Ae}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(c,u){return u-c[2]-c[1]/2}foundPatternCross(c){const u=this.moduleSize,h=u/2;for(let p=0;p<3;p++)if(Math.abs(u-c[p])>=h)return!1;return!0}crossCheckVertical(c,u,h,p){const x=this.image,w=x.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let T=c;for(;T>=0&&x.get(u,T)&&E[1]<=h;)E[1]++,T--;if(T<0||E[1]>h)return NaN;for(;T>=0&&!x.get(u,T)&&E[0]<=h;)E[0]++,T--;if(E[0]>h)return NaN;for(T=c+1;T<w&&x.get(u,T)&&E[1]<=h;)E[1]++,T++;if(T===w||E[1]>h)return NaN;for(;T<w&&!x.get(u,T)&&E[2]<=h;)E[2]++,T++;if(E[2]>h)return NaN;const P=E[0]+E[1]+E[2];return 5*Math.abs(P-p)>=2*p?NaN:this.foundPatternCross(E)?Ss.centerFromEnd(E,T):NaN}handlePossibleCenter(c,u,h){const p=c[0]+c[1]+c[2],x=Ss.centerFromEnd(c,h),w=this.crossCheckVertical(u,x,2*c[1],p);if(!isNaN(w)){const E=(c[0]+c[1]+c[2])/3;for(const P of this.possibleCenters)if(P.aboutEquals(E,w,x))return P.combineEstimate(w,x,E);const T=new gA(x,w,E);this.possibleCenters.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return null}}class sd extends _e{constructor(c,u,h,p){super(c,u),this.estimatedModuleSize=h,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(c,u,h){if(Math.abs(u-this.getY())<=c&&Math.abs(h-this.getX())<=c){const p=Math.abs(c-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(c,u,h){const p=this.count+1,x=(this.count*this.getX()+u)/p,w=(this.count*this.getY()+c)/p,E=(this.count*this.estimatedModuleSize+h)/p;return new sd(x,w,E,p)}}class Ih{constructor(c){this.bottomLeft=c[0],this.topLeft=c[1],this.topRight=c[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Rt{constructor(c,u){this.image=c,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(c){const u=c!=null&&c.get(V.TRY_HARDER)!==void 0,h=c!=null&&c.get(V.PURE_BARCODE)!==void 0,p=this.image,x=p.getHeight(),w=p.getWidth();let E=Math.floor(3*x/(4*Rt.MAX_MODULES));(E<Rt.MIN_SKIP||u)&&(E=Rt.MIN_SKIP);let T=!1;const P=new Int32Array(5);for(let te=E-1;te<x&&!T;te+=E){P[0]=0,P[1]=0,P[2]=0,P[3]=0,P[4]=0;let Ae=0;for(let ge=0;ge<w;ge++)if(p.get(ge,te))(Ae&1)===1&&Ae++,P[Ae]++;else if(Ae&1)P[Ae]++;else if(Ae===4)if(Rt.foundPatternCross(P)){if(this.handlePossibleCenter(P,te,ge,h)===!0)if(E=2,this.hasSkipped===!0)T=this.haveMultiplyConfirmedCenters();else{const Se=this.findRowSkip();Se>P[2]&&(te+=Se-P[2]-E,ge=w-1)}else{P[0]=P[2],P[1]=P[3],P[2]=P[4],P[3]=1,P[4]=0,Ae=3;continue}Ae=0,P[0]=0,P[1]=0,P[2]=0,P[3]=0,P[4]=0}else P[0]=P[2],P[1]=P[3],P[2]=P[4],P[3]=1,P[4]=0,Ae=3;else P[++Ae]++;Rt.foundPatternCross(P)&&this.handlePossibleCenter(P,te,w,h)===!0&&(E=P[0],this.hasSkipped&&(T=this.haveMultiplyConfirmedCenters()))}const z=this.selectBestPatterns();return _e.orderBestPatterns(z),new Ih(z)}static centerFromEnd(c,u){return u-c[4]-c[3]-c[2]/2}static foundPatternCross(c){let u=0;for(let x=0;x<5;x++){const w=c[x];if(w===0)return!1;u+=w}if(u<7)return!1;const h=u/7,p=h/2;return Math.abs(h-c[0])<p&&Math.abs(h-c[1])<p&&Math.abs(3*h-c[2])<3*p&&Math.abs(h-c[3])<p&&Math.abs(h-c[4])<p}getCrossCheckStateCount(){const c=this.crossCheckStateCount;return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c}crossCheckDiagonal(c,u,h,p){const x=this.getCrossCheckStateCount();let w=0;const E=this.image;for(;c>=w&&u>=w&&E.get(u-w,c-w);)x[2]++,w++;if(c<w||u<w)return!1;for(;c>=w&&u>=w&&!E.get(u-w,c-w)&&x[1]<=h;)x[1]++,w++;if(c<w||u<w||x[1]>h)return!1;for(;c>=w&&u>=w&&E.get(u-w,c-w)&&x[0]<=h;)x[0]++,w++;if(x[0]>h)return!1;const T=E.getHeight(),P=E.getWidth();for(w=1;c+w<T&&u+w<P&&E.get(u+w,c+w);)x[2]++,w++;if(c+w>=T||u+w>=P)return!1;for(;c+w<T&&u+w<P&&!E.get(u+w,c+w)&&x[3]<h;)x[3]++,w++;if(c+w>=T||u+w>=P||x[3]>=h)return!1;for(;c+w<T&&u+w<P&&E.get(u+w,c+w)&&x[4]<h;)x[4]++,w++;if(x[4]>=h)return!1;const z=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(z-p)<2*p&&Rt.foundPatternCross(x)}crossCheckVertical(c,u,h,p){const x=this.image,w=x.getHeight(),E=this.getCrossCheckStateCount();let T=c;for(;T>=0&&x.get(u,T);)E[2]++,T--;if(T<0)return NaN;for(;T>=0&&!x.get(u,T)&&E[1]<=h;)E[1]++,T--;if(T<0||E[1]>h)return NaN;for(;T>=0&&x.get(u,T)&&E[0]<=h;)E[0]++,T--;if(E[0]>h)return NaN;for(T=c+1;T<w&&x.get(u,T);)E[2]++,T++;if(T===w)return NaN;for(;T<w&&!x.get(u,T)&&E[3]<h;)E[3]++,T++;if(T===w||E[3]>=h)return NaN;for(;T<w&&x.get(u,T)&&E[4]<h;)E[4]++,T++;if(E[4]>=h)return NaN;const P=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(P-p)>=2*p?NaN:Rt.foundPatternCross(E)?Rt.centerFromEnd(E,T):NaN}crossCheckHorizontal(c,u,h,p){const x=this.image,w=x.getWidth(),E=this.getCrossCheckStateCount();let T=c;for(;T>=0&&x.get(T,u);)E[2]++,T--;if(T<0)return NaN;for(;T>=0&&!x.get(T,u)&&E[1]<=h;)E[1]++,T--;if(T<0||E[1]>h)return NaN;for(;T>=0&&x.get(T,u)&&E[0]<=h;)E[0]++,T--;if(E[0]>h)return NaN;for(T=c+1;T<w&&x.get(T,u);)E[2]++,T++;if(T===w)return NaN;for(;T<w&&!x.get(T,u)&&E[3]<h;)E[3]++,T++;if(T===w||E[3]>=h)return NaN;for(;T<w&&x.get(T,u)&&E[4]<h;)E[4]++,T++;if(E[4]>=h)return NaN;const P=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(P-p)>=p?NaN:Rt.foundPatternCross(E)?Rt.centerFromEnd(E,T):NaN}handlePossibleCenter(c,u,h,p){const x=c[0]+c[1]+c[2]+c[3]+c[4];let w=Rt.centerFromEnd(c,h),E=this.crossCheckVertical(u,Math.floor(w),c[2],x);if(!isNaN(E)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(E),c[2],x),!isNaN(w)&&(!p||this.crossCheckDiagonal(Math.floor(E),Math.floor(w),c[2],x)))){const T=x/7;let P=!1;const z=this.possibleCenters;for(let te=0,Ae=z.length;te<Ae;te++){const ge=z[te];if(ge.aboutEquals(T,E,w)){z[te]=ge.combineEstimate(E,w,T),P=!0;break}}if(!P){const te=new sd(w,E,T);z.push(te),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(te)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const h of this.possibleCenters)if(h.getCount()>=Rt.CENTER_QUORUM)if(u==null)u=h;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-h.getX())-Math.abs(u.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let c=0,u=0;const h=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=Rt.CENTER_QUORUM&&(c++,u+=w.getEstimatedModuleSize());if(c<3)return!1;const p=u/h;let x=0;for(const w of this.possibleCenters)x+=Math.abs(w.getEstimatedModuleSize()-p);return x<=.05*u}selectBestPatterns(){const c=this.possibleCenters.length;if(c<3)throw new $;const u=this.possibleCenters;let h;if(c>3){let p=0,x=0;for(const T of this.possibleCenters){const P=T.getEstimatedModuleSize();p+=P,x+=P*P}h=p/c;let w=Math.sqrt(x/c-h*h);u.sort((T,P)=>{const z=Math.abs(P.getEstimatedModuleSize()-h),te=Math.abs(T.getEstimatedModuleSize()-h);return z<te?-1:z>te?1:0});const E=Math.max(.2*h,w);for(let T=0;T<u.length&&u.length>3;T++){const P=u[T];Math.abs(P.getEstimatedModuleSize()-h)>E&&(u.splice(T,1),T--)}}if(u.length>3){let p=0;for(const x of u)p+=x.getEstimatedModuleSize();h=p/u.length,u.sort((x,w)=>{if(w.getCount()===x.getCount()){const E=Math.abs(w.getEstimatedModuleSize()-h),T=Math.abs(x.getEstimatedModuleSize()-h);return E<T?1:E>T?-1:0}else return w.getCount()-x.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}Rt.CENTER_QUORUM=2,Rt.MIN_SKIP=3,Rt.MAX_MODULES=57;class fc{constructor(c){this.image=c}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(c){this.resultPointCallback=c==null?null:c.get(V.NEED_RESULT_POINT_CALLBACK);const h=new Rt(this.image,this.resultPointCallback).find(c);return this.processFinderPatternInfo(h)}processFinderPatternInfo(c){const u=c.getTopLeft(),h=c.getTopRight(),p=c.getBottomLeft(),x=this.calculateModuleSize(u,h,p);if(x<1)throw new $("No pattern found in proccess finder.");const w=fc.computeDimension(u,h,p,x),E=_t.getProvisionalVersionForDimension(w),T=E.getDimensionForVersion()-7;let P=null;if(E.getAlignmentPatternCenters().length>0){const ge=h.getX()-u.getX()+p.getX(),Be=h.getY()-u.getY()+p.getY(),Se=1-3/T,ke=Math.floor(u.getX()+Se*(ge-u.getX())),We=Math.floor(u.getY()+Se*(Be-u.getY()));for(let ot=4;ot<=16;ot<<=1)try{P=this.findAlignmentInRegion(x,ke,We,ot);break}catch(ut){if(!(ut instanceof $))throw ut}}const z=fc.createTransform(u,h,p,P,w),te=fc.sampleGrid(this.image,z,w);let Ae;return P===null?Ae=[p,u,h]:Ae=[p,u,h,P],new ft(te,Ae)}static createTransform(c,u,h,p,x){const w=x-3.5;let E,T,P,z;return p!==null?(E=p.getX(),T=p.getY(),P=w-3,z=P):(E=u.getX()-c.getX()+h.getX(),T=u.getY()-c.getY()+h.getY(),P=w,z=w),wt.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,P,z,3.5,w,c.getX(),c.getY(),u.getX(),u.getY(),E,T,h.getX(),h.getY())}static sampleGrid(c,u,h){return lr.getInstance().sampleGridWithTransform(c,h,h,u)}static computeDimension(c,u,h,p){const x=Ke.round(_e.distance(c,u)/p),w=Ke.round(_e.distance(c,h)/p);let E=Math.floor((x+w)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new $("Dimensions could be not found.")}return E}calculateModuleSize(c,u,h){return(this.calculateModuleSizeOneWay(c,u)+this.calculateModuleSizeOneWay(c,h))/2}calculateModuleSizeOneWay(c,u){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(u.getX()),Math.floor(u.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(c.getX()),Math.floor(c.getY()));return isNaN(h)?p/7:isNaN(p)?h/7:(h+p)/14}sizeOfBlackWhiteBlackRunBothWays(c,u,h,p){let x=this.sizeOfBlackWhiteBlackRun(c,u,h,p),w=1,E=c-(h-c);E<0?(w=c/(c-E),E=0):E>=this.image.getWidth()&&(w=(this.image.getWidth()-1-c)/(E-c),E=this.image.getWidth()-1);let T=Math.floor(u-(p-u)*w);return w=1,T<0?(w=u/(u-T),T=0):T>=this.image.getHeight()&&(w=(this.image.getHeight()-1-u)/(T-u),T=this.image.getHeight()-1),E=Math.floor(c+(E-c)*w),x+=this.sizeOfBlackWhiteBlackRun(c,u,E,T),x-1}sizeOfBlackWhiteBlackRun(c,u,h,p){const x=Math.abs(p-u)>Math.abs(h-c);if(x){let ge=c;c=u,u=ge,ge=h,h=p,p=ge}const w=Math.abs(h-c),E=Math.abs(p-u);let T=-w/2;const P=c<h?1:-1,z=u<p?1:-1;let te=0;const Ae=h+P;for(let ge=c,Be=u;ge!==Ae;ge+=P){const Se=x?Be:ge,ke=x?ge:Be;if(te===1===this.image.get(Se,ke)){if(te===2)return Ke.distance(ge,Be,c,u);te++}if(T+=E,T>0){if(Be===p)break;Be+=z,T-=w}}return te===2?Ke.distance(h+P,p,c,u):NaN}findAlignmentInRegion(c,u,h,p){const x=Math.floor(p*c),w=Math.max(0,u-x),E=Math.min(this.image.getWidth()-1,u+x);if(E-w<c*3)throw new $("Alignment top exceeds estimated module size.");const T=Math.max(0,h-x),P=Math.min(this.image.getHeight()-1,h+x);if(P-T<c*3)throw new $("Alignment bottom exceeds estimated module size.");return new Ss(this.image,w,T,E-w,P-T,c,this.resultPointCallback).find()}}class lo{constructor(){this.decoder=new pA}getDecoder(){return this.decoder}decode(c,u){let h,p;if(u!=null&&u.get(V.PURE_BARCODE)!==void 0){const T=lo.extractPureBits(c.getBlackMatrix());h=this.decoder.decodeBitMatrix(T,u),p=lo.NO_POINTS}else{const T=new fc(c.getBlackMatrix()).detect(u);h=this.decoder.decodeBitMatrix(T.getBits(),u),p=T.getPoints()}h.getOther()instanceof hc&&h.getOther().applyMirroredCorrection(p);const x=new ie(h.getText(),h.getRawBytes(),void 0,p,ce.QR_CODE,void 0),w=h.getByteSegments();w!==null&&x.putMetadata(we.BYTE_SEGMENTS,w);const E=h.getECLevel();return E!==null&&x.putMetadata(we.ERROR_CORRECTION_LEVEL,E),h.hasStructuredAppend()&&(x.putMetadata(we.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),x.putMetadata(we.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),x}reset(){}static extractPureBits(c){const u=c.getTopLeftOnBit(),h=c.getBottomRightOnBit();if(u===null||h===null)throw new $;const p=this.moduleSize(u,c);let x=u[1],w=h[1],E=u[0],T=h[0];if(E>=T||x>=w)throw new $;if(w-x!==T-E&&(T=E+(w-x),T>=c.getWidth()))throw new $;const P=Math.round((T-E+1)/p),z=Math.round((w-x+1)/p);if(P<=0||z<=0)throw new $;if(z!==P)throw new $;const te=Math.floor(p/2);x+=te,E+=te;const Ae=E+Math.floor((P-1)*p)-T;if(Ae>0){if(Ae>te)throw new $;E-=Ae}const ge=x+Math.floor((z-1)*p)-w;if(ge>0){if(ge>te)throw new $;x-=ge}const Be=new Z(P,z);for(let Se=0;Se<z;Se++){const ke=x+Math.floor(Se*p);for(let We=0;We<P;We++)c.get(E+Math.floor(We*p),ke)&&Be.set(We,Se)}return Be}static moduleSize(c,u){const h=u.getHeight(),p=u.getWidth();let x=c[0],w=c[1],E=!0,T=0;for(;x<p&&w<h;){if(E!==u.get(x,w)){if(++T===5)break;E=!E}x++,w++}if(x===p||w===h)throw new $;return(x-c[0])/7}}lo.NO_POINTS=new Array;class Mt{PDF417Common(){}static getBitCountSum(c){return Ke.sum(c)}static toIntArray(c){if(c==null||!c.length)return Mt.EMPTY_INT_ARRAY;const u=new Int32Array(c.length);let h=0;for(const p of c)u[h++]=p;return u}static getCodeword(c){const u=S.binarySearch(Mt.SYMBOL_TABLE,c&262143);return u<0?-1:(Mt.CODEWORD_TABLE[u]-1)%Mt.NUMBER_OF_CODEWORDS}}Mt.NUMBER_OF_CODEWORDS=929,Mt.MAX_CODEWORDS_IN_BARCODE=Mt.NUMBER_OF_CODEWORDS-1,Mt.MIN_ROWS_IN_BARCODE=3,Mt.MAX_ROWS_IN_BARCODE=90,Mt.MODULES_IN_CODEWORD=17,Mt.MODULES_IN_STOP_PATTERN=18,Mt.BARS_IN_MODULE=8,Mt.EMPTY_INT_ARRAY=new Int32Array([]),Mt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Mt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class jh{constructor(c,u){this.bits=c,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class dr{static detectMultiple(c,u,h){let p=c.getBlackMatrix(),x=dr.detect(h,p);return x.length||(p=p.clone(),p.rotate180(),x=dr.detect(h,p)),new jh(p,x)}static detect(c,u){const h=new Array;let p=0,x=0,w=!1;for(;p<u.getHeight();){const E=dr.findVertices(u,p,x);if(E[0]==null&&E[3]==null){if(!w)break;w=!1,x=0;for(const T of h)T[1]!=null&&(p=Math.trunc(Math.max(p,T[1].getY()))),T[3]!=null&&(p=Math.max(p,Math.trunc(T[3].getY())));p+=dr.ROW_STEP;continue}if(w=!0,h.push(E),!c)break;E[2]!=null?(x=Math.trunc(E[2].getX()),p=Math.trunc(E[2].getY())):(x=Math.trunc(E[4].getX()),p=Math.trunc(E[4].getY()))}return h}static findVertices(c,u,h){const p=c.getHeight(),x=c.getWidth(),w=new Array(8);return dr.copyToResult(w,dr.findRowsWithPattern(c,p,x,u,h,dr.START_PATTERN),dr.INDEXES_START_PATTERN),w[4]!=null&&(h=Math.trunc(w[4].getX()),u=Math.trunc(w[4].getY())),dr.copyToResult(w,dr.findRowsWithPattern(c,p,x,u,h,dr.STOP_PATTERN),dr.INDEXES_STOP_PATTERN),w}static copyToResult(c,u,h){for(let p=0;p<h.length;p++)c[h[p]]=u[p]}static findRowsWithPattern(c,u,h,p,x,w){const E=new Array(4);let T=!1;const P=new Int32Array(w.length);for(;p<u;p+=dr.ROW_STEP){let te=dr.findGuardPattern(c,x,p,h,!1,w,P);if(te!=null){for(;p>0;){const Ae=dr.findGuardPattern(c,x,--p,h,!1,w,P);if(Ae!=null)te=Ae;else{p++;break}}E[0]=new _e(te[0],p),E[1]=new _e(te[1],p),T=!0;break}}let z=p+1;if(T){let te=0,Ae=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;z<u;z++){const ge=dr.findGuardPattern(c,Ae[0],z,h,!1,w,P);if(ge!=null&&Math.abs(Ae[0]-ge[0])<dr.MAX_PATTERN_DRIFT&&Math.abs(Ae[1]-ge[1])<dr.MAX_PATTERN_DRIFT)Ae=ge,te=0;else{if(te>dr.SKIPPED_ROW_COUNT_MAX)break;te++}}z-=te+1,E[2]=new _e(Ae[0],z),E[3]=new _e(Ae[1],z)}return z-p<dr.BARCODE_MIN_HEIGHT&&S.fill(E,null),E}static findGuardPattern(c,u,h,p,x,w,E){S.fillWithin(E,0,E.length,0);let T=u,P=0;for(;c.get(T,h)&&T>0&&P++<dr.MAX_PIXEL_DRIFT;)T--;let z=T,te=0,Ae=w.length;for(let ge=x;z<p;z++)if(c.get(z,h)!==ge)E[te]++;else{if(te===Ae-1){if(dr.patternMatchVariance(E,w,dr.MAX_INDIVIDUAL_VARIANCE)<dr.MAX_AVG_VARIANCE)return new Int32Array([T,z]);T+=E[0]+E[1],C.arraycopy(E,2,E,0,te-1),E[te-1]=0,E[te]=0,te--}else te++;E[te]=1,ge=!ge}return te===Ae-1&&dr.patternMatchVariance(E,w,dr.MAX_INDIVIDUAL_VARIANCE)<dr.MAX_AVG_VARIANCE?new Int32Array([T,z-1]):null}static patternMatchVariance(c,u,h){let p=c.length,x=0,w=0;for(let P=0;P<p;P++)x+=c[P],w+=u[P];if(x<w)return 1/0;let E=x/w;h*=E;let T=0;for(let P=0;P<p;P++){let z=c[P],te=u[P]*E,Ae=z>te?z-te:te-z;if(Ae>h)return 1/0;T+=Ae}return T/x}}dr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),dr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),dr.MAX_AVG_VARIANCE=.42,dr.MAX_INDIVIDUAL_VARIANCE=.8,dr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),dr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),dr.MAX_PIXEL_DRIFT=3,dr.MAX_PATTERN_DRIFT=5,dr.SKIPPED_ROW_COUNT_MAX=25,dr.ROW_STEP=5,dr.BARCODE_MIN_HEIGHT=10;class zn{constructor(c,u){if(u.length===0)throw new m;this.field=c;let h=u.length;if(h>1&&u[0]===0){let p=1;for(;p<h&&u[p]===0;)p++;p===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-p),C.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);if(c===1){let p=0;for(let x of this.coefficients)p=this.field.add(p,x);return p}let u=this.coefficients[0],h=this.coefficients.length;for(let p=1;p<h;p++)u=this.field.add(this.field.multiply(c,u),this.coefficients[p]);return u}add(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return c;if(c.isZero())return this;let u=this.coefficients,h=c.coefficients;if(u.length>h.length){let w=u;u=h,h=w}let p=new Int32Array(h.length),x=h.length-u.length;C.arraycopy(h,0,p,0,x);for(let w=x;w<h.length;w++)p[w]=this.field.add(u[w-x],h[w]);return new zn(this.field,p)}subtract(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");return c.isZero()?this:this.add(c.negative())}multiply(c){return c instanceof zn?this.multiplyOther(c):this.multiplyScalar(c)}multiplyOther(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||c.isZero())return new zn(this.field,new Int32Array([0]));let u=this.coefficients,h=u.length,p=c.coefficients,x=p.length,w=new Int32Array(h+x-1);for(let E=0;E<h;E++){let T=u[E];for(let P=0;P<x;P++)w[E+P]=this.field.add(w[E+P],this.field.multiply(T,p[P]))}return new zn(this.field,w)}negative(){let c=this.coefficients.length,u=new Int32Array(c);for(let h=0;h<c;h++)u[h]=this.field.subtract(0,this.coefficients[h]);return new zn(this.field,u)}multiplyScalar(c){if(c===0)return new zn(this.field,new Int32Array([0]));if(c===1)return this;let u=this.coefficients.length,h=new Int32Array(u);for(let p=0;p<u;p++)h[p]=this.field.multiply(this.coefficients[p],c);return new zn(this.field,h)}multiplyByMonomial(c,u){if(c<0)throw new m;if(u===0)return new zn(this.field,new Int32Array([0]));let h=this.coefficients.length,p=new Int32Array(h+c);for(let x=0;x<h;x++)p[x]=this.field.multiply(this.coefficients[x],u);return new zn(this.field,p)}toString(){let c=new X;for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);h!==0&&(h<0?(c.append(" - "),h=-h):c.length()>0&&c.append(" + "),(u===0||h!==1)&&c.append(h),u!==0&&(u===1?c.append("x"):(c.append("x^"),c.append(u))))}return c.toString()}}class ad{add(c,u){return(c+u)%this.modulus}subtract(c,u){return(this.modulus+c-u)%this.modulus}exp(c){return this.expTable[c]}log(c){if(c===0)throw new m;return this.logTable[c]}inverse(c){if(c===0)throw new Pe;return this.expTable[this.modulus-this.logTable[c]-1]}multiply(c,u){return c===0||u===0?0:this.expTable[(this.logTable[c]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(c){return c===this}}class id extends ad{constructor(c,u){super(),this.modulus=c,this.expTable=new Int32Array(c),this.logTable=new Int32Array(c);let h=1;for(let p=0;p<c;p++)this.expTable[p]=h,h=h*u%c;for(let p=0;p<c-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new zn(this,new Int32Array([0])),this.one=new zn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,u){if(c<0)throw new m;if(u===0)return this.zero;let h=new Int32Array(c+1);return h[0]=u,new zn(this,h)}}id.PDF417_GF=new id(Mt.NUMBER_OF_CODEWORDS,3);class Th{constructor(){this.field=id.PDF417_GF}decode(c,u,h){let p=new zn(this.field,c),x=new Int32Array(u),w=!1;for(let Be=u;Be>0;Be--){let Se=p.evaluateAt(this.field.exp(Be));x[u-Be]=Se,Se!==0&&(w=!0)}if(!w)return 0;let E=this.field.getOne();if(h!=null)for(const Be of h){let Se=this.field.exp(c.length-1-Be),ke=new zn(this.field,new Int32Array([this.field.subtract(0,Se),1]));E=E.multiply(ke)}let T=new zn(this.field,x),P=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),T,u),z=P[0],te=P[1],Ae=this.findErrorLocations(z),ge=this.findErrorMagnitudes(te,z,Ae);for(let Be=0;Be<Ae.length;Be++){let Se=c.length-1-this.field.log(Ae[Be]);if(Se<0)throw g.getChecksumInstance();c[Se]=this.field.subtract(c[Se],ge[Be])}return Ae.length}runEuclideanAlgorithm(c,u,h){if(c.getDegree()<u.getDegree()){let Ae=c;c=u,u=Ae}let p=c,x=u,w=this.field.getZero(),E=this.field.getOne();for(;x.getDegree()>=Math.round(h/2);){let Ae=p,ge=w;if(p=x,w=E,p.isZero())throw g.getChecksumInstance();x=Ae;let Be=this.field.getZero(),Se=p.getCoefficient(p.getDegree()),ke=this.field.inverse(Se);for(;x.getDegree()>=p.getDegree()&&!x.isZero();){let We=x.getDegree()-p.getDegree(),ot=this.field.multiply(x.getCoefficient(x.getDegree()),ke);Be=Be.add(this.field.buildMonomial(We,ot)),x=x.subtract(p.multiplyByMonomial(We,ot))}E=Be.multiply(w).subtract(ge).negative()}let T=E.getCoefficient(0);if(T===0)throw g.getChecksumInstance();let P=this.field.inverse(T),z=E.multiply(P),te=x.multiply(P);return[z,te]}findErrorLocations(c){let u=c.getDegree(),h=new Int32Array(u),p=0;for(let x=1;x<this.field.getSize()&&p<u;x++)c.evaluateAt(x)===0&&(h[p]=this.field.inverse(x),p++);if(p!==u)throw g.getChecksumInstance();return h}findErrorMagnitudes(c,u,h){let p=u.getDegree(),x=new Int32Array(p);for(let P=1;P<=p;P++)x[p-P]=this.field.multiply(P,u.getCoefficient(P));let w=new zn(this.field,x),E=h.length,T=new Int32Array(E);for(let P=0;P<E;P++){let z=this.field.inverse(h[P]),te=this.field.subtract(0,c.evaluateAt(z)),Ae=this.field.inverse(w.evaluateAt(z));T[P]=this.field.multiply(te,Ae)}return T}}class Do{constructor(c,u,h,p,x){c instanceof Do?this.constructor_2(c):this.constructor_1(c,u,h,p,x)}constructor_1(c,u,h,p,x){const w=u==null||h==null,E=p==null||x==null;if(w&&E)throw new $;w?(u=new _e(0,p.getY()),h=new _e(0,x.getY())):E&&(p=new _e(c.getWidth()-1,u.getY()),x=new _e(c.getWidth()-1,h.getY())),this.image=c,this.topLeft=u,this.bottomLeft=h,this.topRight=p,this.bottomRight=x,this.minX=Math.trunc(Math.min(u.getX(),h.getX())),this.maxX=Math.trunc(Math.max(p.getX(),x.getX())),this.minY=Math.trunc(Math.min(u.getY(),p.getY())),this.maxY=Math.trunc(Math.max(h.getY(),x.getY()))}constructor_2(c){this.image=c.image,this.topLeft=c.getTopLeft(),this.bottomLeft=c.getBottomLeft(),this.topRight=c.getTopRight(),this.bottomRight=c.getBottomRight(),this.minX=c.getMinX(),this.maxX=c.getMaxX(),this.minY=c.getMinY(),this.maxY=c.getMaxY()}static merge(c,u){return c==null?u:u==null?c:new Do(c.image,c.topLeft,c.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(c,u,h){let p=this.topLeft,x=this.bottomLeft,w=this.topRight,E=this.bottomRight;if(c>0){let T=h?this.topLeft:this.topRight,P=Math.trunc(T.getY()-c);P<0&&(P=0);let z=new _e(T.getX(),P);h?p=z:w=z}if(u>0){let T=h?this.bottomLeft:this.bottomRight,P=Math.trunc(T.getY()+u);P>=this.image.getHeight()&&(P=this.image.getHeight()-1);let z=new _e(T.getX(),P);h?x=z:E=z}return new Do(this.image,p,x,w,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class od{constructor(c,u,h,p){this.columnCount=c,this.errorCorrectionLevel=p,this.rowCountUpperPart=u,this.rowCountLowerPart=h,this.rowCount=u+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ui{constructor(){this.buffer=""}static form(c,u){let h=-1;function p(w,E,T,P,z,te){if(w==="%%")return"%";if(u[++h]===void 0)return;w=P?parseInt(P.substr(1)):void 0;let Ae=z?parseInt(z.substr(1)):void 0,ge;switch(te){case"s":ge=u[h];break;case"c":ge=u[h][0];break;case"f":ge=parseFloat(u[h]).toFixed(w);break;case"p":ge=parseFloat(u[h]).toPrecision(w);break;case"e":ge=parseFloat(u[h]).toExponential(w);break;case"x":ge=parseInt(u[h]).toString(Ae||16);break;case"d":ge=parseFloat(parseInt(u[h],Ae||10).toPrecision(w)).toFixed(0);break}ge=typeof ge=="object"?JSON.stringify(ge):(+ge).toString(Ae);let Be=parseInt(T),Se=T&&T[0]+""=="0"?"0":" ";for(;ge.length<Be;)ge=E!==void 0?ge+Se:Se+ge;return ge}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(x,p)}format(c,...u){this.buffer+=Ui.form(c,u)}toString(){return this.buffer}}class mi{constructor(c){this.boundingBox=new Do(c),this.codewords=new Array(c.getMaxY()-c.getMinY()+1)}getCodewordNearby(c){let u=this.getCodeword(c);if(u!=null)return u;for(let h=1;h<mi.MAX_NEARBY_DISTANCE;h++){let p=this.imageRowToCodewordIndex(c)-h;if(p>=0&&(u=this.codewords[p],u!=null)||(p=this.imageRowToCodewordIndex(c)+h,p<this.codewords.length&&(u=this.codewords[p],u!=null)))return u}return null}imageRowToCodewordIndex(c){return c-this.boundingBox.getMinY()}setCodeword(c,u){this.codewords[this.imageRowToCodewordIndex(c)]=u}getCodeword(c){return this.codewords[this.imageRowToCodewordIndex(c)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const c=new Ui;let u=0;for(const h of this.codewords){if(h==null){c.format("%3d:    |   %n",u++);continue}c.format("%3d: %3d|%3d%n",u++,h.getRowNumber(),h.getValue())}return c.toString()}}mi.MAX_NEARBY_DISTANCE=5;class mc{constructor(){this.values=new Map}setValue(c){c=Math.trunc(c);let u=this.values.get(c);u==null&&(u=0),u++,this.values.set(c,u)}getValue(){let c=-1,u=new Array;for(const[h,p]of this.values.entries()){const x={getKey:()=>h,getValue:()=>p};x.getValue()>c?(c=x.getValue(),u=[],u.push(x.getKey())):x.getValue()===c&&u.push(x.getKey())}return Mt.toIntArray(u)}getConfidence(c){return this.values.get(c)}}class xl extends mi{constructor(c,u){super(c),this._isLeft=u}setRowNumbers(){for(let c of this.getCodewords())c!=null&&c.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(c){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,c);let h=this.getBoundingBox(),p=this._isLeft?h.getTopLeft():h.getTopRight(),x=this._isLeft?h.getBottomLeft():h.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(p.getY())),E=this.imageRowToCodewordIndex(Math.trunc(x.getY())),T=-1,P=1,z=0;for(let te=w;te<E;te++){if(u[te]==null)continue;let Ae=u[te],ge=Ae.getRowNumber()-T;if(ge===0)z++;else if(ge===1)P=Math.max(P,z),z=1,T=Ae.getRowNumber();else if(ge<0||Ae.getRowNumber()>=c.getRowCount()||ge>te)u[te]=null;else{let Be;P>2?Be=(P-2)*ge:Be=ge;let Se=Be>=te;for(let ke=1;ke<=Be&&!Se;ke++)Se=u[te-ke]!=null;Se?u[te]=null:(T=Ae.getRowNumber(),z=1)}}}getRowHeights(){let c=this.getBarcodeMetadata();if(c==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);let u=new Int32Array(c.getRowCount());for(let h of this.getCodewords())if(h!=null){let p=h.getRowNumber();if(p>=u.length)continue;u[p]++}return u}adjustIncompleteIndicatorColumnRowNumbers(c){let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),p=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=this.imageRowToCodewordIndex(Math.trunc(p.getY())),E=this.getCodewords(),T=-1;for(let P=x;P<w;P++){if(E[P]==null)continue;let z=E[P];z.setRowNumberAsRowIndicatorColumn();let te=z.getRowNumber()-T;te===0||(te===1?T=z.getRowNumber():z.getRowNumber()>=c.getRowCount()?E[P]=null:T=z.getRowNumber())}}getBarcodeMetadata(){let c=this.getCodewords(),u=new mc,h=new mc,p=new mc,x=new mc;for(let E of c){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let T=E.getValue()%30,P=E.getRowNumber();switch(this._isLeft||(P+=2),P%3){case 0:h.setValue(T*3+1);break;case 1:x.setValue(T/3),p.setValue(T%3);break;case 2:u.setValue(T+1);break}}if(u.getValue().length===0||h.getValue().length===0||p.getValue().length===0||x.getValue().length===0||u.getValue()[0]<1||h.getValue()[0]+p.getValue()[0]<Mt.MIN_ROWS_IN_BARCODE||h.getValue()[0]+p.getValue()[0]>Mt.MAX_ROWS_IN_BARCODE)return null;let w=new od(u.getValue()[0],h.getValue()[0],p.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(c,w),w}removeIncorrectCodewords(c,u){for(let h=0;h<c.length;h++){let p=c[h];if(c[h]==null)continue;let x=p.getValue()%30,w=p.getRowNumber();if(w>u.getRowCount()){c[h]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:x*3+1!==u.getRowCountUpperPart()&&(c[h]=null);break;case 1:(Math.trunc(x/3)!==u.getErrorCorrectionLevel()||x%3!==u.getRowCountLowerPart())&&(c[h]=null);break;case 2:x+1!==u.getColumnCount()&&(c[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class _o{constructor(c,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=c,this.barcodeColumnCount=c.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let c=Mt.MAX_CODEWORDS_IN_BARCODE,u;do u=c,c=this.adjustRowNumbersAndGetCount();while(c>0&&c<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(c){c!=null&&c.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let c=this.adjustRowNumbersByRow();if(c===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let h=this.detectionResultColumns[u].getCodewords();for(let p=0;p<h.length;p++)h[p]!=null&&(h[p].hasValidRowNumber()||this.adjustRowNumbers(u,p,h))}return c}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let c=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<c.length;h++)if(c[h]!=null&&u[h]!=null&&c[h].getRowNumber()===u[h].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let x=this.detectionResultColumns[p].getCodewords()[h];x!=null&&(x.setRowNumber(c[h].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let c=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let p=u[h].getRowNumber(),x=0;for(let w=this.barcodeColumnCount+1;w>0&&x<this.ADJUST_ROW_NUMBER_SKIP;w--){let E=this.detectionResultColumns[w].getCodewords()[h];E!=null&&(x=_o.adjustRowNumberIfValid(p,x,E),E.hasValidRowNumber()||c++)}}return c}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let c=0,u=this.detectionResultColumns[0].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let p=u[h].getRowNumber(),x=0;for(let w=1;w<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;w++){let E=this.detectionResultColumns[w].getCodewords()[h];E!=null&&(x=_o.adjustRowNumberIfValid(p,x,E),E.hasValidRowNumber()||c++)}}return c}static adjustRowNumberIfValid(c,u,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(c)?(h.setRowNumber(c),u=0):++u),u}adjustRowNumbers(c,u,h){if(!this.detectionResultColumns[c-1])return;let p=h[u],x=this.detectionResultColumns[c-1].getCodewords(),w=x;this.detectionResultColumns[c+1]!=null&&(w=this.detectionResultColumns[c+1].getCodewords());let E=new Array(14);E[2]=x[u],E[3]=w[u],u>0&&(E[0]=h[u-1],E[4]=x[u-1],E[5]=w[u-1]),u>1&&(E[8]=h[u-2],E[10]=x[u-2],E[11]=w[u-2]),u<h.length-1&&(E[1]=h[u+1],E[6]=x[u+1],E[7]=w[u+1]),u<h.length-2&&(E[9]=h[u+2],E[12]=x[u+2],E[13]=w[u+2]);for(let T of E)if(_o.adjustRowNumber(p,T))return}static adjustRowNumber(c,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===c.getBucket()?(c.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(c){this.boundingBox=c}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(c,u){this.detectionResultColumns[c]=u}getDetectionResultColumn(c){return this.detectionResultColumns[c]}toString(){let c=this.detectionResultColumns[0];c==null&&(c=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new Ui;for(let h=0;h<c.getCodewords().length;h++){u.format("CW %3d:",h);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){u.format("    |   ");continue}let x=this.detectionResultColumns[p].getCodewords()[h];if(x==null){u.format("    |   ");continue}u.format(" %3d|%3d",x.getRowNumber(),x.getValue())}u.format("%n")}return u.toString()}}class co{constructor(c,u,h,p){this.rowNumber=co.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(c),this.endX=Math.trunc(u),this.bucket=Math.trunc(h),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(c){return c!==co.BARCODE_ROW_UNKNOWN&&this.bucket===c%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(c){this.rowNumber=c}toString(){return this.rowNumber+"|"+this.value}}co.BARCODE_ROW_UNKNOWN=-1;class Vs{static initialize(){for(let c=0;c<Mt.SYMBOL_TABLE.length;c++){let u=Mt.SYMBOL_TABLE[c],h=u&1;for(let p=0;p<Mt.BARS_IN_MODULE;p++){let x=0;for(;(u&1)===h;)x+=1,u>>=1;h=u&1,Vs.RATIOS_TABLE[c]||(Vs.RATIOS_TABLE[c]=new Array(Mt.BARS_IN_MODULE)),Vs.RATIOS_TABLE[c][Mt.BARS_IN_MODULE-p-1]=Math.fround(x/Mt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(c){let u=Vs.getDecodedCodewordValue(Vs.sampleBitCounts(c));return u!==-1?u:Vs.getClosestDecodedValue(c)}static sampleBitCounts(c){let u=Ke.sum(c),h=new Int32Array(Mt.BARS_IN_MODULE),p=0,x=0;for(let w=0;w<Mt.MODULES_IN_CODEWORD;w++){let E=u/(2*Mt.MODULES_IN_CODEWORD)+w*u/Mt.MODULES_IN_CODEWORD;x+c[p]<=E&&(x+=c[p],p++),h[p]++}return h}static getDecodedCodewordValue(c){let u=Vs.getBitValue(c);return Mt.getCodeword(u)===-1?-1:u}static getBitValue(c){let u=0;for(let h=0;h<c.length;h++)for(let p=0;p<c[h];p++)u=u<<1|(h%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(c){let u=Ke.sum(c),h=new Array(Mt.BARS_IN_MODULE);if(u>1)for(let w=0;w<h.length;w++)h[w]=Math.fround(c[w]/u);let p=ht.MAX_VALUE,x=-1;this.bSymbolTableReady||Vs.initialize();for(let w=0;w<Vs.RATIOS_TABLE.length;w++){let E=0,T=Vs.RATIOS_TABLE[w];for(let P=0;P<Mt.BARS_IN_MODULE;P++){let z=Math.fround(T[P]-h[P]);if(E+=Math.fround(z*z),E>=p)break}E<p&&(p=E,x=Mt.SYMBOL_TABLE[w])}return x}}Vs.bSymbolTableReady=!1,Vs.RATIOS_TABLE=new Array(Mt.SYMBOL_TABLE.length).map(re=>new Array(Mt.BARS_IN_MODULE));class ld{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(c){this.segmentIndex=c}getFileId(){return this.fileId}setFileId(c){this.fileId=c}getOptionalData(){return this.optionalData}setOptionalData(c){this.optionalData=c}isLastSegment(){return this.lastSegment}setLastSegment(c){this.lastSegment=c}getSegmentCount(){return this.segmentCount}setSegmentCount(c){this.segmentCount=c}getSender(){return this.sender||null}setSender(c){this.sender=c}getAddressee(){return this.addressee||null}setAddressee(c){this.addressee=c}getFileName(){return this.fileName}setFileName(c){this.fileName=c}getFileSize(){return this.fileSize}setFileSize(c){this.fileSize=c}getChecksum(){return this.checksum}setChecksum(c){this.checksum=c}getTimestamp(){return this.timestamp}setTimestamp(c){this.timestamp=c}}class cd{static parseLong(c,u=void 0){return parseInt(c,u)}}class Ad extends d{}Ad.kind="NullPointerException";class Ao{writeBytes(c){this.writeBytesOffset(c,0,c.length)}writeBytesOffset(c,u,h){if(c==null)throw new Ad;if(u<0||u>c.length||h<0||u+h>c.length||u+h<0)throw new F;if(h===0)return;for(let p=0;p<h;p++)this.write(c[u+p])}flush(){}close(){}}class Mo extends d{}class D0 extends Ao{constructor(c=32){if(super(),this.count=0,c<0)throw new m("Negative initial size: "+c);this.buf=new Uint8Array(c)}ensureCapacity(c){c-this.buf.length>0&&this.grow(c)}grow(c){let h=this.buf.length<<1;if(h-c<0&&(h=c),h<0){if(c<0)throw new Mo;h=I.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,h)}write(c){this.ensureCapacity(this.count+1),this.buf[this.count]=c,this.count+=1}writeBytesOffset(c,u,h){if(u<0||u>c.length||h<0||u+h-c.length>0)throw new F;this.ensureCapacity(this.count+h),C.arraycopy(c,u,this.buf,this.count,h),this.count+=h}writeTo(c){c.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(c){return c?typeof c=="string"?this.toString_string(c):this.toString_number(c):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(c){return new String(this.buf).toString()}toString_number(c){return new String(this.buf).toString()}close(){}}var Fr;(function(re){re[re.ALPHA=0]="ALPHA",re[re.LOWER=1]="LOWER",re[re.MIXED=2]="MIXED",re[re.PUNCT=3]="PUNCT",re[re.ALPHA_SHIFT=4]="ALPHA_SHIFT",re[re.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Fr||(Fr={}));function pi(){if(typeof window<"u")return window.BigInt||null;if(typeof Yh<"u")return Yh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let yl;function Sa(re){if(typeof yl>"u"&&(yl=pi()),yl===null)throw new Error("BigInt is not supported!");return yl(re)}function _0(){let re=[];re[0]=Sa(1);let c=Sa(900);re[1]=c;for(let u=2;u<16;u++)re[u]=re[u-1]*c;return re}class Ge{static decode(c,u){let h=new X(""),p=_.ISO8859_1;h.enableDecoding(p);let x=1,w=c[x++],E=new ld;for(;x<c[0];){switch(w){case Ge.TEXT_COMPACTION_MODE_LATCH:x=Ge.textCompaction(c,x,h);break;case Ge.BYTE_COMPACTION_MODE_LATCH:case Ge.BYTE_COMPACTION_MODE_LATCH_6:x=Ge.byteCompaction(w,c,p,x,h);break;case Ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(c[x++]);break;case Ge.NUMERIC_COMPACTION_MODE_LATCH:x=Ge.numericCompaction(c,x,h);break;case Ge.ECI_CHARSET:_.getCharacterSetECIByValue(c[x++]);break;case Ge.ECI_GENERAL_PURPOSE:x+=2;break;case Ge.ECI_USER_DEFINED:x++;break;case Ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=Ge.decodeMacroBlock(c,x,E);break;case Ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ge.MACRO_PDF417_TERMINATOR:throw new O;default:x--,x=Ge.textCompaction(c,x,h);break}if(x<c.length)w=c[x++];else throw O.getFormatInstance()}if(h.length()===0)throw O.getFormatInstance();let T=new Ie(null,h.toString(),null,u);return T.setOther(E),T}static decodeMacroBlock(c,u,h){if(u+Ge.NUMBER_OF_SEQUENCE_CODEWORDS>c[0])throw O.getFormatInstance();let p=new Int32Array(Ge.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<Ge.NUMBER_OF_SEQUENCE_CODEWORDS;E++,u++)p[E]=c[u];h.setSegmentIndex(I.parseInt(Ge.decodeBase900toBase10(p,Ge.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new X;u=Ge.textCompaction(c,u,x),h.setFileId(x.toString());let w=-1;for(c[u]===Ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=u+1);u<c[0];)switch(c[u]){case Ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,c[u]){case Ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new X;u=Ge.textCompaction(c,u+1,E),h.setFileName(E.toString());break;case Ge.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let T=new X;u=Ge.textCompaction(c,u+1,T),h.setSender(T.toString());break;case Ge.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let P=new X;u=Ge.textCompaction(c,u+1,P),h.setAddressee(P.toString());break;case Ge.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let z=new X;u=Ge.numericCompaction(c,u+1,z),h.setSegmentCount(I.parseInt(z.toString()));break;case Ge.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let te=new X;u=Ge.numericCompaction(c,u+1,te),h.setTimestamp(cd.parseLong(te.toString()));break;case Ge.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Ae=new X;u=Ge.numericCompaction(c,u+1,Ae),h.setChecksum(I.parseInt(Ae.toString()));break;case Ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ge=new X;u=Ge.numericCompaction(c,u+1,ge),h.setFileSize(cd.parseLong(ge.toString()));break;default:throw O.getFormatInstance()}break;case Ge.MACRO_PDF417_TERMINATOR:u++,h.setLastSegment(!0);break;default:throw O.getFormatInstance()}if(w!==-1){let E=u-w;h.isLastSegment()&&E--,h.setOptionalData(S.copyOfRange(c,w,w+E))}return u}static textCompaction(c,u,h){let p=new Int32Array((c[0]-u)*2),x=new Int32Array((c[0]-u)*2),w=0,E=!1;for(;u<c[0]&&!E;){let T=c[u++];if(T<Ge.TEXT_COMPACTION_MODE_LATCH)p[w]=T/30,p[w+1]=T%30,w+=2;else switch(T){case Ge.TEXT_COMPACTION_MODE_LATCH:p[w++]=Ge.TEXT_COMPACTION_MODE_LATCH;break;case Ge.BYTE_COMPACTION_MODE_LATCH:case Ge.BYTE_COMPACTION_MODE_LATCH_6:case Ge.NUMERIC_COMPACTION_MODE_LATCH:case Ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ge.MACRO_PDF417_TERMINATOR:u--,E=!0;break;case Ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[w]=Ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,T=c[u++],x[w]=T,w++;break}}return Ge.decodeTextCompaction(p,x,w,h),u}static decodeTextCompaction(c,u,h,p){let x=Fr.ALPHA,w=Fr.ALPHA,E=0;for(;E<h;){let T=c[E],P="";switch(x){case Fr.ALPHA:if(T<26)P=String.fromCharCode(65+T);else switch(T){case 26:P=" ";break;case Ge.LL:x=Fr.LOWER;break;case Ge.ML:x=Fr.MIXED;break;case Ge.PS:w=x,x=Fr.PUNCT_SHIFT;break;case Ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[E]);break;case Ge.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.LOWER:if(T<26)P=String.fromCharCode(97+T);else switch(T){case 26:P=" ";break;case Ge.AS:w=x,x=Fr.ALPHA_SHIFT;break;case Ge.ML:x=Fr.MIXED;break;case Ge.PS:w=x,x=Fr.PUNCT_SHIFT;break;case Ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[E]);break;case Ge.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.MIXED:if(T<Ge.PL)P=Ge.MIXED_CHARS[T];else switch(T){case Ge.PL:x=Fr.PUNCT;break;case 26:P=" ";break;case Ge.LL:x=Fr.LOWER;break;case Ge.AL:x=Fr.ALPHA;break;case Ge.PS:w=x,x=Fr.PUNCT_SHIFT;break;case Ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[E]);break;case Ge.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.PUNCT:if(T<Ge.PAL)P=Ge.PUNCT_CHARS[T];else switch(T){case Ge.PAL:x=Fr.ALPHA;break;case Ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[E]);break;case Ge.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.ALPHA_SHIFT:if(x=w,T<26)P=String.fromCharCode(65+T);else switch(T){case 26:P=" ";break;case Ge.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.PUNCT_SHIFT:if(x=w,T<Ge.PAL)P=Ge.PUNCT_CHARS[T];else switch(T){case Ge.PAL:x=Fr.ALPHA;break;case Ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[E]);break;case Ge.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break}P!==""&&p.append(P),E++}}static byteCompaction(c,u,h,p,x){let w=new D0,E=0,T=0,P=!1;switch(c){case Ge.BYTE_COMPACTION_MODE_LATCH:let z=new Int32Array(6),te=u[p++];for(;p<u[0]&&!P;)switch(z[E++]=te,T=900*T+te,te=u[p++],te){case Ge.TEXT_COMPACTION_MODE_LATCH:case Ge.BYTE_COMPACTION_MODE_LATCH:case Ge.NUMERIC_COMPACTION_MODE_LATCH:case Ge.BYTE_COMPACTION_MODE_LATCH_6:case Ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ge.MACRO_PDF417_TERMINATOR:p--,P=!0;break;default:if(E%5===0&&E>0){for(let Ae=0;Ae<6;++Ae)w.write(Number(Sa(T)>>Sa(8*(5-Ae))));T=0,E=0}break}p===u[0]&&te<Ge.TEXT_COMPACTION_MODE_LATCH&&(z[E++]=te);for(let Ae=0;Ae<E;Ae++)w.write(z[Ae]);break;case Ge.BYTE_COMPACTION_MODE_LATCH_6:for(;p<u[0]&&!P;){let Ae=u[p++];if(Ae<Ge.TEXT_COMPACTION_MODE_LATCH)E++,T=900*T+Ae;else switch(Ae){case Ge.TEXT_COMPACTION_MODE_LATCH:case Ge.BYTE_COMPACTION_MODE_LATCH:case Ge.NUMERIC_COMPACTION_MODE_LATCH:case Ge.BYTE_COMPACTION_MODE_LATCH_6:case Ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ge.MACRO_PDF417_TERMINATOR:p--,P=!0;break}if(E%5===0&&E>0){for(let ge=0;ge<6;++ge)w.write(Number(Sa(T)>>Sa(8*(5-ge))));T=0,E=0}}break}return x.append(U.decode(w.toByteArray(),h)),p}static numericCompaction(c,u,h){let p=0,x=!1,w=new Int32Array(Ge.MAX_NUMERIC_CODEWORDS);for(;u<c[0]&&!x;){let E=c[u++];if(u===c[0]&&(x=!0),E<Ge.TEXT_COMPACTION_MODE_LATCH)w[p]=E,p++;else switch(E){case Ge.TEXT_COMPACTION_MODE_LATCH:case Ge.BYTE_COMPACTION_MODE_LATCH:case Ge.BYTE_COMPACTION_MODE_LATCH_6:case Ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ge.MACRO_PDF417_TERMINATOR:u--,x=!0;break}(p%Ge.MAX_NUMERIC_CODEWORDS===0||E===Ge.NUMERIC_COMPACTION_MODE_LATCH||x)&&p>0&&(h.append(Ge.decodeBase900toBase10(w,p)),p=0)}return u}static decodeBase900toBase10(c,u){let h=Sa(0);for(let x=0;x<u;x++)h+=Ge.EXP900[u-x-1]*Sa(c[x]);let p=h.toString();if(p.charAt(0)!=="1")throw new O;return p.substring(1)}}Ge.TEXT_COMPACTION_MODE_LATCH=900,Ge.BYTE_COMPACTION_MODE_LATCH=901,Ge.NUMERIC_COMPACTION_MODE_LATCH=902,Ge.BYTE_COMPACTION_MODE_LATCH_6=924,Ge.ECI_USER_DEFINED=925,Ge.ECI_GENERAL_PURPOSE=926,Ge.ECI_CHARSET=927,Ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ge.MACRO_PDF417_TERMINATOR=922,Ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ge.MAX_NUMERIC_CODEWORDS=15,Ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ge.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ge.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ge.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ge.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ge.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ge.PL=25,Ge.LL=27,Ge.AS=27,Ge.ML=28,Ge.AL=28,Ge.PS=29,Ge.PAL=29,Ge.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ge.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ge.EXP900=pi()?_0():[],Ge.NUMBER_OF_SEQUENCE_CODEWORDS=2;class mr{constructor(){}static decode(c,u,h,p,x,w,E){let T=new Do(c,u,h,p,x),P=null,z=null,te;for(let Be=!0;;Be=!1){if(u!=null&&(P=mr.getRowIndicatorColumn(c,T,u,!0,w,E)),p!=null&&(z=mr.getRowIndicatorColumn(c,T,p,!1,w,E)),te=mr.merge(P,z),te==null)throw $.getNotFoundInstance();let Se=te.getBoundingBox();if(Be&&Se!=null&&(Se.getMinY()<T.getMinY()||Se.getMaxY()>T.getMaxY()))T=Se;else break}te.setBoundingBox(T);let Ae=te.getBarcodeColumnCount()+1;te.setDetectionResultColumn(0,P),te.setDetectionResultColumn(Ae,z);let ge=P!=null;for(let Be=1;Be<=Ae;Be++){let Se=ge?Be:Ae-Be;if(te.getDetectionResultColumn(Se)!==void 0)continue;let ke;Se===0||Se===Ae?ke=new xl(T,Se===0):ke=new mi(T),te.setDetectionResultColumn(Se,ke);let We=-1,ot=We;for(let ut=T.getMinY();ut<=T.getMaxY();ut++){if(We=mr.getStartColumn(te,Se,ut,ge),We<0||We>T.getMaxX()){if(ot===-1)continue;We=ot}let lt=mr.detectCodeword(c,T.getMinX(),T.getMaxX(),ge,We,ut,w,E);lt!=null&&(ke.setCodeword(ut,lt),ot=We,w=Math.min(w,lt.getWidth()),E=Math.max(E,lt.getWidth()))}}return mr.createDecoderResult(te)}static merge(c,u){if(c==null&&u==null)return null;let h=mr.getBarcodeMetadata(c,u);if(h==null)return null;let p=Do.merge(mr.adjustBoundingBox(c),mr.adjustBoundingBox(u));return new _o(h,p)}static adjustBoundingBox(c){if(c==null)return null;let u=c.getRowHeights();if(u==null)return null;let h=mr.getMax(u),p=0;for(let E of u)if(p+=h-E,E>0)break;let x=c.getCodewords();for(let E=0;p>0&&x[E]==null;E++)p--;let w=0;for(let E=u.length-1;E>=0&&(w+=h-u[E],!(u[E]>0));E--);for(let E=x.length-1;w>0&&x[E]==null;E--)w--;return c.getBoundingBox().addMissingRows(p,w,c.isLeft())}static getMax(c){let u=-1;for(let h of c)u=Math.max(u,h);return u}static getBarcodeMetadata(c,u){let h;if(c==null||(h=c.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let p;return u==null||(p=u.getBarcodeMetadata())==null?h:h.getColumnCount()!==p.getColumnCount()&&h.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&h.getRowCount()!==p.getRowCount()?null:h}static getRowIndicatorColumn(c,u,h,p,x,w){let E=new xl(u,p);for(let T=0;T<2;T++){let P=T===0?1:-1,z=Math.trunc(Math.trunc(h.getX()));for(let te=Math.trunc(Math.trunc(h.getY()));te<=u.getMaxY()&&te>=u.getMinY();te+=P){let Ae=mr.detectCodeword(c,0,c.getWidth(),p,z,te,x,w);Ae!=null&&(E.setCodeword(te,Ae),p?z=Ae.getStartX():z=Ae.getEndX())}}return E}static adjustCodewordCount(c,u){let h=u[0][1],p=h.getValue(),x=c.getBarcodeColumnCount()*c.getBarcodeRowCount()-mr.getNumberOfECCodeWords(c.getBarcodeECLevel());if(p.length===0){if(x<1||x>Mt.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();h.setValue(x)}else p[0]!==x&&h.setValue(x)}static createDecoderResult(c){let u=mr.createBarcodeMatrix(c);mr.adjustCodewordCount(c,u);let h=new Array,p=new Int32Array(c.getBarcodeRowCount()*c.getBarcodeColumnCount()),x=[],w=new Array;for(let T=0;T<c.getBarcodeRowCount();T++)for(let P=0;P<c.getBarcodeColumnCount();P++){let z=u[T][P+1].getValue(),te=T*c.getBarcodeColumnCount()+P;z.length===0?h.push(te):z.length===1?p[te]=z[0]:(w.push(te),x.push(z))}let E=new Array(x.length);for(let T=0;T<E.length;T++)E[T]=x[T];return mr.createDecoderResultFromAmbiguousValues(c.getBarcodeECLevel(),p,Mt.toIntArray(h),Mt.toIntArray(w),E)}static createDecoderResultFromAmbiguousValues(c,u,h,p,x){let w=new Int32Array(p.length),E=100;for(;E-- >0;){for(let T=0;T<w.length;T++)u[p[T]]=x[T][w[T]];try{return mr.decodeCodewords(u,c,h)}catch(T){if(!(T instanceof g))throw T}if(w.length===0)throw g.getChecksumInstance();for(let T=0;T<w.length;T++)if(w[T]<x[T].length-1){w[T]++;break}else if(w[T]=0,T===w.length-1)throw g.getChecksumInstance()}throw g.getChecksumInstance()}static createBarcodeMatrix(c){let u=Array.from({length:c.getBarcodeRowCount()},()=>new Array(c.getBarcodeColumnCount()+2));for(let p=0;p<u.length;p++)for(let x=0;x<u[p].length;x++)u[p][x]=new mc;let h=0;for(let p of c.getDetectionResultColumns()){if(p!=null){for(let x of p.getCodewords())if(x!=null){let w=x.getRowNumber();if(w>=0){if(w>=u.length)continue;u[w][h].setValue(x.getValue())}}}h++}return u}static isValidBarcodeColumn(c,u){return u>=0&&u<=c.getBarcodeColumnCount()+1}static getStartColumn(c,u,h,p){let x=p?1:-1,w=null;if(mr.isValidBarcodeColumn(c,u-x)&&(w=c.getDetectionResultColumn(u-x).getCodeword(h)),w!=null)return p?w.getEndX():w.getStartX();if(w=c.getDetectionResultColumn(u).getCodewordNearby(h),w!=null)return p?w.getStartX():w.getEndX();if(mr.isValidBarcodeColumn(c,u-x)&&(w=c.getDetectionResultColumn(u-x).getCodewordNearby(h)),w!=null)return p?w.getEndX():w.getStartX();let E=0;for(;mr.isValidBarcodeColumn(c,u-x);){u-=x;for(let T of c.getDetectionResultColumn(u).getCodewords())if(T!=null)return(p?T.getEndX():T.getStartX())+x*E*(T.getEndX()-T.getStartX());E++}return p?c.getBoundingBox().getMinX():c.getBoundingBox().getMaxX()}static detectCodeword(c,u,h,p,x,w,E,T){x=mr.adjustCodewordStartColumn(c,u,h,p,x,w);let P=mr.getModuleBitCount(c,u,h,p,x,w);if(P==null)return null;let z,te=Ke.sum(P);if(p)z=x+te;else{for(let Be=0;Be<P.length/2;Be++){let Se=P[Be];P[Be]=P[P.length-1-Be],P[P.length-1-Be]=Se}z=x,x=z-te}if(!mr.checkCodewordSkew(te,E,T))return null;let Ae=Vs.getDecodedValue(P),ge=Mt.getCodeword(Ae);return ge===-1?null:new co(x,z,mr.getCodewordBucketNumber(Ae),ge)}static getModuleBitCount(c,u,h,p,x,w){let E=x,T=new Int32Array(8),P=0,z=p?1:-1,te=p;for(;(p?E<h:E>=u)&&P<T.length;)c.get(E,w)===te?(T[P]++,E+=z):(P++,te=!te);return P===T.length||E===(p?h:u)&&P===T.length-1?T:null}static getNumberOfECCodeWords(c){return 2<<c}static adjustCodewordStartColumn(c,u,h,p,x,w){let E=x,T=p?-1:1;for(let P=0;P<2;P++){for(;(p?E>=u:E<h)&&p===c.get(E,w);){if(Math.abs(x-E)>mr.CODEWORD_SKEW_SIZE)return x;E+=T}T=-T,p=!p}return E}static checkCodewordSkew(c,u,h){return u-mr.CODEWORD_SKEW_SIZE<=c&&c<=h+mr.CODEWORD_SKEW_SIZE}static decodeCodewords(c,u,h){if(c.length===0)throw O.getFormatInstance();let p=1<<u+1,x=mr.correctErrors(c,h,p);mr.verifyCodewordCount(c,p);let w=Ge.decode(c,""+u);return w.setErrorsCorrected(x),w.setErasures(h.length),w}static correctErrors(c,u,h){if(u!=null&&u.length>h/2+mr.MAX_ERRORS||h<0||h>mr.MAX_EC_CODEWORDS)throw g.getChecksumInstance();return mr.errorCorrection.decode(c,h,u)}static verifyCodewordCount(c,u){if(c.length<4)throw O.getFormatInstance();let h=c[0];if(h>c.length)throw O.getFormatInstance();if(h===0)if(u<c.length)c[0]=c.length-u;else throw O.getFormatInstance()}static getBitCountForCodeword(c){let u=new Int32Array(8),h=0,p=u.length-1;for(;!((c&1)!==h&&(h=c&1,p--,p<0));)u[p]++,c>>=1;return u}static getCodewordBucketNumber(c){return c instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(c):this.getCodewordBucketNumber_number(c)}static getCodewordBucketNumber_number(c){return mr.getCodewordBucketNumber(mr.getBitCountForCodeword(c))}static getCodewordBucketNumber_Int32Array(c){return(c[0]-c[2]+c[4]-c[6]+9)%9}static toString(c){let u=new Ui;for(let h=0;h<c.length;h++){u.format("Row %2d: ",h);for(let p=0;p<c[h].length;p++){let x=c[h][p];x.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}u.format("%n")}return u.toString()}}mr.CODEWORD_SKEW_SIZE=2,mr.MAX_ERRORS=3,mr.MAX_EC_CODEWORDS=512,mr.errorCorrection=new Th;class ts{decode(c,u=null){let h=ts.decode(c,u,!1);if(h==null||h.length===0||h[0]==null)throw $.getNotFoundInstance();return h[0]}decodeMultiple(c,u=null){try{return ts.decode(c,u,!0)}catch(h){throw h instanceof O||h instanceof g?$.getNotFoundInstance():h}}static decode(c,u,h){const p=new Array,x=dr.detectMultiple(c,u,h);for(const w of x.getPoints()){const E=mr.decode(x.getBits(),w[4],w[5],w[6],w[7],ts.getMinCodewordWidth(w),ts.getMaxCodewordWidth(w)),T=new ie(E.getText(),E.getRawBytes(),void 0,w,ce.PDF_417);T.putMetadata(we.ERROR_CORRECTION_LEVEL,E.getECLevel());const P=E.getOther();P!=null&&T.putMetadata(we.PDF417_EXTRA_METADATA,P),p.push(T)}return p.map(w=>w)}static getMaxWidth(c,u){return c==null||u==null?0:Math.trunc(Math.abs(c.getX()-u.getX()))}static getMinWidth(c,u){return c==null||u==null?I.MAX_VALUE:Math.trunc(Math.abs(c.getX()-u.getX()))}static getMaxCodewordWidth(c){return Math.floor(Math.max(Math.max(ts.getMaxWidth(c[0],c[4]),ts.getMaxWidth(c[6],c[2])*Mt.MODULES_IN_CODEWORD/Mt.MODULES_IN_STOP_PATTERN),Math.max(ts.getMaxWidth(c[1],c[5]),ts.getMaxWidth(c[7],c[3])*Mt.MODULES_IN_CODEWORD/Mt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(c){return Math.floor(Math.min(Math.min(ts.getMinWidth(c[0],c[4]),ts.getMinWidth(c[6],c[2])*Mt.MODULES_IN_CODEWORD/Mt.MODULES_IN_STOP_PATTERN),Math.min(ts.getMinWidth(c[1],c[5]),ts.getMinWidth(c[7],c[3])*Mt.MODULES_IN_CODEWORD/Mt.MODULES_IN_STOP_PATTERN)))}reset(){}}class wl extends d{}wl.kind="ReaderException";class ud{constructor(c,u){this.verbose=c===!0,u&&this.setHints(u)}decode(c,u){return u&&this.setHints(u),this.decodeInternal(c)}decodeWithState(c){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(c)}setHints(c){this.hints=c;const u=!n(c)&&c.get(V.TRY_HARDER)===!0,h=n(c)?null:c.get(V.POSSIBLE_FORMATS),p=new Array;if(!n(h)){const x=h.some(w=>w===ce.UPC_A||w===ce.UPC_E||w===ce.EAN_13||w===ce.EAN_8||w===ce.CODABAR||w===ce.CODE_39||w===ce.CODE_93||w===ce.CODE_128||w===ce.ITF||w===ce.RSS_14||w===ce.RSS_EXPANDED);x&&!u&&p.push(new oo(c,this.verbose)),h.includes(ce.QR_CODE)&&p.push(new lo),h.includes(ce.DATA_MATRIX)&&p.push(new Ds),h.includes(ce.AZTEC)&&p.push(new Ze),h.includes(ce.PDF_417)&&p.push(new ts),x&&u&&p.push(new oo(c,this.verbose))}p.length===0&&(u||p.push(new oo(c,this.verbose)),p.push(new lo),p.push(new Ds),p.push(new Ze),p.push(new ts),u&&p.push(new oo(c,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const c of this.readers)c.reset()}decodeInternal(c){if(this.readers===null)throw new wl("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(c,this.hints)}catch(h){if(h instanceof wl)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class xA extends ee{constructor(c=null,u=500){const h=new ud;h.setHints(c),super(h,u)}decodeBitmap(c){return this.reader.decodeWithState(c)}}class dd extends ee{constructor(c=500){super(new ts,c)}}class hd extends ee{constructor(c=500){super(new lo,c)}}var yA;(function(re){re[re.ERROR_CORRECTION=0]="ERROR_CORRECTION",re[re.CHARACTER_SET=1]="CHARACTER_SET",re[re.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",re[re.MIN_SIZE=3]="MIN_SIZE",re[re.MAX_SIZE=4]="MAX_SIZE",re[re.MARGIN=5]="MARGIN",re[re.PDF417_COMPACT=6]="PDF417_COMPACT",re[re.PDF417_COMPACTION=7]="PDF417_COMPACTION",re[re.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",re[re.AZTEC_LAYERS=9]="AZTEC_LAYERS",re[re.QR_VERSION=10]="QR_VERSION"})(yA||(yA={}));var rs=yA;class vl{constructor(c){this.field=c,this.cachedGenerators=[],this.cachedGenerators.push(new Ce(c,Int32Array.from([1])))}buildGenerator(c){const u=this.cachedGenerators;if(c>=u.length){let h=u[u.length-1];const p=this.field;for(let x=u.length;x<=c;x++){const w=h.multiply(new Ce(p,Int32Array.from([1,p.exp(x-1+p.getGeneratorBase())])));u.push(w),h=w}}return u[c]}encode(c,u){if(u===0)throw new m("No error correction bytes");const h=c.length-u;if(h<=0)throw new m("No data bytes provided");const p=this.buildGenerator(u),x=new Int32Array(h);C.arraycopy(c,0,x,0,h);let w=new Ce(this.field,x);w=w.multiplyByMonomial(u,1);const T=w.divide(p)[1].getCoefficients(),P=u-T.length;for(let z=0;z<P;z++)c[h+z]=0;C.arraycopy(T,0,c,h+P,T.length)}}class rn{constructor(){}static applyMaskPenaltyRule1(c){return rn.applyMaskPenaltyRule1Internal(c,!0)+rn.applyMaskPenaltyRule1Internal(c,!1)}static applyMaskPenaltyRule2(c){let u=0;const h=c.getArray(),p=c.getWidth(),x=c.getHeight();for(let w=0;w<x-1;w++){const E=h[w];for(let T=0;T<p-1;T++){const P=E[T];P===E[T+1]&&P===h[w+1][T]&&P===h[w+1][T+1]&&u++}}return rn.N2*u}static applyMaskPenaltyRule3(c){let u=0;const h=c.getArray(),p=c.getWidth(),x=c.getHeight();for(let w=0;w<x;w++)for(let E=0;E<p;E++){const T=h[w];E+6<p&&T[E]===1&&T[E+1]===0&&T[E+2]===1&&T[E+3]===1&&T[E+4]===1&&T[E+5]===0&&T[E+6]===1&&(rn.isWhiteHorizontal(T,E-4,E)||rn.isWhiteHorizontal(T,E+7,E+11))&&u++,w+6<x&&h[w][E]===1&&h[w+1][E]===0&&h[w+2][E]===1&&h[w+3][E]===1&&h[w+4][E]===1&&h[w+5][E]===0&&h[w+6][E]===1&&(rn.isWhiteVertical(h,E,w-4,w)||rn.isWhiteVertical(h,E,w+7,w+11))&&u++}return u*rn.N3}static isWhiteHorizontal(c,u,h){u=Math.max(u,0),h=Math.min(h,c.length);for(let p=u;p<h;p++)if(c[p]===1)return!1;return!0}static isWhiteVertical(c,u,h,p){h=Math.max(h,0),p=Math.min(p,c.length);for(let x=h;x<p;x++)if(c[x][u]===1)return!1;return!0}static applyMaskPenaltyRule4(c){let u=0;const h=c.getArray(),p=c.getWidth(),x=c.getHeight();for(let T=0;T<x;T++){const P=h[T];for(let z=0;z<p;z++)P[z]===1&&u++}const w=c.getHeight()*c.getWidth();return Math.floor(Math.abs(u*2-w)*10/w)*rn.N4}static getDataMaskBit(c,u,h){let p,x;switch(c){case 0:p=h+u&1;break;case 1:p=h&1;break;case 2:p=u%3;break;case 3:p=(h+u)%3;break;case 4:p=Math.floor(h/2)+Math.floor(u/3)&1;break;case 5:x=h*u,p=(x&1)+x%3;break;case 6:x=h*u,p=(x&1)+x%3&1;break;case 7:x=h*u,p=x%3+(h+u&1)&1;break;default:throw new m("Invalid mask pattern: "+c)}return p===0}static applyMaskPenaltyRule1Internal(c,u){let h=0;const p=u?c.getHeight():c.getWidth(),x=u?c.getWidth():c.getHeight(),w=c.getArray();for(let E=0;E<p;E++){let T=0,P=-1;for(let z=0;z<x;z++){const te=u?w[E][z]:w[z][E];te===P?T++:(T>=5&&(h+=rn.N1+(T-5)),T=1,P=te)}T>=5&&(h+=rn.N1+(T-5))}return h}}rn.N1=3,rn.N2=3,rn.N3=40,rn.N4=10;class bl{constructor(c,u){this.width=c,this.height=u;const h=new Array(u);for(let p=0;p!==u;p++)h[p]=new Uint8Array(c);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(c,u){return this.bytes[u][c]}getArray(){return this.bytes}setNumber(c,u,h){this.bytes[u][c]=h}setBoolean(c,u,h){this.bytes[u][c]=h?1:0}clear(c){for(const u of this.bytes)S.fill(u,c)}equals(c){if(!(c instanceof bl))return!1;const u=c;if(this.width!==u.width||this.height!==u.height)return!1;for(let h=0,p=this.height;h<p;++h){const x=this.bytes[h],w=u.bytes[h];for(let E=0,T=this.width;E<T;++E)if(x[E]!==w[E])return!1}return!0}toString(){const c=new X;for(let u=0,h=this.height;u<h;++u){const p=this.bytes[u];for(let x=0,w=this.width;x<w;++x)switch(p[x]){case 0:c.append(" 0");break;case 1:c.append(" 1");break;default:c.append("  ");break}c.append(`
`)}return c.toString()}}class Ea{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const c=new X;return c.append(`<<
`),c.append(" mode: "),c.append(this.mode?this.mode.toString():"null"),c.append(`
 ecLevel: `),c.append(this.ecLevel?this.ecLevel.toString():"null"),c.append(`
 version: `),c.append(this.version?this.version.toString():"null"),c.append(`
 maskPattern: `),c.append(this.maskPattern.toString()),this.matrix?(c.append(`
 matrix:
`),c.append(this.matrix.toString())):c.append(`
 matrix: null
`),c.append(`>>
`),c.toString()}setMode(c){this.mode=c}setECLevel(c){this.ecLevel=c}setVersion(c){this.version=c}setMaskPattern(c){this.maskPattern=c}setMatrix(c){this.matrix=c}static isValidMaskPattern(c){return c>=0&&c<Ea.NUM_MASK_PATTERNS}}Ea.NUM_MASK_PATTERNS=8;class Gr extends d{}Gr.kind="WriterException";class L{constructor(){}static clearMatrix(c){c.clear(255)}static buildMatrix(c,u,h,p,x){L.clearMatrix(x),L.embedBasicPatterns(h,x),L.embedTypeInfo(u,p,x),L.maybeEmbedVersionInfo(h,x),L.embedDataBits(c,p,x)}static embedBasicPatterns(c,u){L.embedPositionDetectionPatternsAndSeparators(u),L.embedDarkDotAtLeftBottomCorner(u),L.maybeEmbedPositionAdjustmentPatterns(c,u),L.embedTimingPatterns(u)}static embedTypeInfo(c,u,h){const p=new k;L.makeTypeInfoBits(c,u,p);for(let x=0,w=p.getSize();x<w;++x){const E=p.get(p.getSize()-1-x),T=L.TYPE_INFO_COORDINATES[x],P=T[0],z=T[1];if(h.setBoolean(P,z,E),x<8){const te=h.getWidth()-x-1;h.setBoolean(te,8,E)}else{const Ae=h.getHeight()-7+(x-8);h.setBoolean(8,Ae,E)}}}static maybeEmbedVersionInfo(c,u){if(c.getVersionNumber()<7)return;const h=new k;L.makeVersionInfoBits(c,h);let p=6*3-1;for(let x=0;x<6;++x)for(let w=0;w<3;++w){const E=h.get(p);p--,u.setBoolean(x,u.getHeight()-11+w,E),u.setBoolean(u.getHeight()-11+w,x,E)}}static embedDataBits(c,u,h){let p=0,x=-1,w=h.getWidth()-1,E=h.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);E>=0&&E<h.getHeight();){for(let T=0;T<2;++T){const P=w-T;if(!L.isEmpty(h.get(P,E)))continue;let z;p<c.getSize()?(z=c.get(p),++p):z=!1,u!==255&&rn.getDataMaskBit(u,P,E)&&(z=!z),h.setBoolean(P,E,z)}E+=x}x=-x,E+=x,w-=2}if(p!==c.getSize())throw new Gr("Not all bits consumed: "+p+"/"+c.getSize())}static findMSBSet(c){return 32-I.numberOfLeadingZeros(c)}static calculateBCHCode(c,u){if(u===0)throw new m("0 polynomial");const h=L.findMSBSet(u);for(c<<=h-1;L.findMSBSet(c)>=h;)c^=u<<L.findMSBSet(c)-h;return c}static makeTypeInfoBits(c,u,h){if(!Ea.isValidMaskPattern(u))throw new Gr("Invalid mask pattern");const p=c.getBits()<<3|u;h.appendBits(p,5);const x=L.calculateBCHCode(p,L.TYPE_INFO_POLY);h.appendBits(x,10);const w=new k;if(w.appendBits(L.TYPE_INFO_MASK_PATTERN,15),h.xor(w),h.getSize()!==15)throw new Gr("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(c,u){u.appendBits(c.getVersionNumber(),6);const h=L.calculateBCHCode(c.getVersionNumber(),L.VERSION_INFO_POLY);if(u.appendBits(h,12),u.getSize()!==18)throw new Gr("should not happen but we got: "+u.getSize())}static isEmpty(c){return c===255}static embedTimingPatterns(c){for(let u=8;u<c.getWidth()-8;++u){const h=(u+1)%2;L.isEmpty(c.get(u,6))&&c.setNumber(u,6,h),L.isEmpty(c.get(6,u))&&c.setNumber(6,u,h)}}static embedDarkDotAtLeftBottomCorner(c){if(c.get(8,c.getHeight()-8)===0)throw new Gr;c.setNumber(8,c.getHeight()-8,1)}static embedHorizontalSeparationPattern(c,u,h){for(let p=0;p<8;++p){if(!L.isEmpty(h.get(c+p,u)))throw new Gr;h.setNumber(c+p,u,0)}}static embedVerticalSeparationPattern(c,u,h){for(let p=0;p<7;++p){if(!L.isEmpty(h.get(c,u+p)))throw new Gr;h.setNumber(c,u+p,0)}}static embedPositionAdjustmentPattern(c,u,h){for(let p=0;p<5;++p){const x=L.POSITION_ADJUSTMENT_PATTERN[p];for(let w=0;w<5;++w)h.setNumber(c+w,u+p,x[w])}}static embedPositionDetectionPattern(c,u,h){for(let p=0;p<7;++p){const x=L.POSITION_DETECTION_PATTERN[p];for(let w=0;w<7;++w)h.setNumber(c+w,u+p,x[w])}}static embedPositionDetectionPatternsAndSeparators(c){const u=L.POSITION_DETECTION_PATTERN[0].length;L.embedPositionDetectionPattern(0,0,c),L.embedPositionDetectionPattern(c.getWidth()-u,0,c),L.embedPositionDetectionPattern(0,c.getWidth()-u,c);const h=8;L.embedHorizontalSeparationPattern(0,h-1,c),L.embedHorizontalSeparationPattern(c.getWidth()-h,h-1,c),L.embedHorizontalSeparationPattern(0,c.getWidth()-h,c);const p=7;L.embedVerticalSeparationPattern(p,0,c),L.embedVerticalSeparationPattern(c.getHeight()-p-1,0,c),L.embedVerticalSeparationPattern(p,c.getHeight()-p,c)}static maybeEmbedPositionAdjustmentPatterns(c,u){if(c.getVersionNumber()<2)return;const h=c.getVersionNumber()-1,p=L.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let x=0,w=p.length;x!==w;x++){const E=p[x];if(E>=0)for(let T=0;T!==w;T++){const P=p[T];P>=0&&L.isEmpty(u.get(P,E))&&L.embedPositionAdjustmentPattern(P-2,E-2,u)}}}}L.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),L.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),L.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),L.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),L.VERSION_INFO_POLY=7973,L.TYPE_INFO_POLY=1335,L.TYPE_INFO_MASK_PATTERN=21522;class se{constructor(c,u){this.dataBytes=c,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class pe{constructor(){}static calculateMaskPenalty(c){return rn.applyMaskPenaltyRule1(c)+rn.applyMaskPenaltyRule2(c)+rn.applyMaskPenaltyRule3(c)+rn.applyMaskPenaltyRule4(c)}static encode(c,u,h=null){let p=pe.DEFAULT_BYTE_MODE_ENCODING;const x=h!==null&&h.get(rs.CHARACTER_SET)!==void 0;x&&(p=h.get(rs.CHARACTER_SET).toString());const w=this.chooseMode(c,p),E=new k;if(w===Kt.BYTE&&(x||pe.DEFAULT_BYTE_MODE_ENCODING!==p)){const ut=_.getCharacterSetECIByName(p);ut!==void 0&&this.appendECI(ut,E)}this.appendModeInfo(w,E);const T=new k;this.appendBytes(c,w,T,p);let P;if(h!==null&&h.get(rs.QR_VERSION)!==void 0){const ut=Number.parseInt(h.get(rs.QR_VERSION).toString(),10);P=_t.getVersionForNumber(ut);const lt=this.calculateBitsNeeded(w,E,T,P);if(!this.willFit(lt,P,u))throw new Gr("Data too big for requested version")}else P=this.recommendVersion(u,w,E,T);const z=new k;z.appendBitArray(E);const te=w===Kt.BYTE?T.getSizeInBytes():c.length;this.appendLengthInfo(te,P,w,z),z.appendBitArray(T);const Ae=P.getECBlocksForLevel(u),ge=P.getTotalCodewords()-Ae.getTotalECCodewords();this.terminateBits(ge,z);const Be=this.interleaveWithECBytes(z,P.getTotalCodewords(),ge,Ae.getNumBlocks()),Se=new Ea;Se.setECLevel(u),Se.setMode(w),Se.setVersion(P);const ke=P.getDimensionForVersion(),We=new bl(ke,ke),ot=this.chooseMaskPattern(Be,u,P,We);return Se.setMaskPattern(ot),L.buildMatrix(Be,u,P,ot,We),Se.setMatrix(We),Se}static recommendVersion(c,u,h,p){const x=this.calculateBitsNeeded(u,h,p,_t.getVersionForNumber(1)),w=this.chooseVersion(x,c),E=this.calculateBitsNeeded(u,h,p,w);return this.chooseVersion(E,c)}static calculateBitsNeeded(c,u,h,p){return u.getSize()+c.getCharacterCountBits(p)+h.getSize()}static getAlphanumericCode(c){return c<pe.ALPHANUMERIC_TABLE.length?pe.ALPHANUMERIC_TABLE[c]:-1}static chooseMode(c,u=null){if(_.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(c))return Kt.KANJI;let h=!1,p=!1;for(let x=0,w=c.length;x<w;++x){const E=c.charAt(x);if(pe.isDigit(E))h=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)p=!0;else return Kt.BYTE}return p?Kt.ALPHANUMERIC:h?Kt.NUMERIC:Kt.BYTE}static isOnlyDoubleByteKanji(c){let u;try{u=U.encode(c,_.SJIS)}catch{return!1}const h=u.length;if(h%2!==0)return!1;for(let p=0;p<h;p+=2){const x=u[p]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(c,u,h,p){let x=Number.MAX_SAFE_INTEGER,w=-1;for(let E=0;E<Ea.NUM_MASK_PATTERNS;E++){L.buildMatrix(c,u,h,E,p);let T=this.calculateMaskPenalty(p);T<x&&(x=T,w=E)}return w}static chooseVersion(c,u){for(let h=1;h<=40;h++){const p=_t.getVersionForNumber(h);if(pe.willFit(c,p,u))return p}throw new Gr("Data too big")}static willFit(c,u,h){const p=u.getTotalCodewords(),w=u.getECBlocksForLevel(h).getTotalECCodewords(),E=p-w,T=(c+7)/8;return E>=T}static terminateBits(c,u){const h=c*8;if(u.getSize()>h)throw new Gr("data bits cannot fit in the QR Code"+u.getSize()+" > "+h);for(let w=0;w<4&&u.getSize()<h;++w)u.appendBit(!1);const p=u.getSize()&7;if(p>0)for(let w=p;w<8;w++)u.appendBit(!1);const x=c-u.getSizeInBytes();for(let w=0;w<x;++w)u.appendBits(w&1?17:236,8);if(u.getSize()!==h)throw new Gr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(c,u,h,p,x,w){if(p>=h)throw new Gr("Block ID too large");const E=c%h,T=h-E,P=Math.floor(c/h),z=P+1,te=Math.floor(u/h),Ae=te+1,ge=P-te,Be=z-Ae;if(ge!==Be)throw new Gr("EC bytes mismatch");if(h!==T+E)throw new Gr("RS blocks mismatch");if(c!==(te+ge)*T+(Ae+Be)*E)throw new Gr("Total bytes mismatch");p<T?(x[0]=te,w[0]=ge):(x[0]=Ae,w[0]=Be)}static interleaveWithECBytes(c,u,h,p){if(c.getSizeInBytes()!==h)throw new Gr("Number of bits and data bytes does not match");let x=0,w=0,E=0;const T=new Array;for(let z=0;z<p;++z){const te=new Int32Array(1),Ae=new Int32Array(1);pe.getNumDataBytesAndNumECBytesForBlockID(u,h,p,z,te,Ae);const ge=te[0],Be=new Uint8Array(ge);c.toBytes(8*x,Be,0,ge);const Se=pe.generateECBytes(Be,Ae[0]);T.push(new se(Be,Se)),w=Math.max(w,ge),E=Math.max(E,Se.length),x+=te[0]}if(h!==x)throw new Gr("Data bytes does not match offset");const P=new k;for(let z=0;z<w;++z)for(const te of T){const Ae=te.getDataBytes();z<Ae.length&&P.appendBits(Ae[z],8)}for(let z=0;z<E;++z)for(const te of T){const Ae=te.getErrorCorrectionBytes();z<Ae.length&&P.appendBits(Ae[z],8)}if(u!==P.getSizeInBytes())throw new Gr("Interleaving error: "+u+" and "+P.getSizeInBytes()+" differ.");return P}static generateECBytes(c,u){const h=c.length,p=new Int32Array(h+u);for(let w=0;w<h;w++)p[w]=c[w]&255;new vl(Me.QR_CODE_FIELD_256).encode(p,u);const x=new Uint8Array(u);for(let w=0;w<u;w++)x[w]=p[h+w];return x}static appendModeInfo(c,u){u.appendBits(c.getBits(),4)}static appendLengthInfo(c,u,h,p){const x=h.getCharacterCountBits(u);if(c>=1<<x)throw new Gr(c+" is bigger than "+((1<<x)-1));p.appendBits(c,x)}static appendBytes(c,u,h,p){switch(u){case Kt.NUMERIC:pe.appendNumericBytes(c,h);break;case Kt.ALPHANUMERIC:pe.appendAlphanumericBytes(c,h);break;case Kt.BYTE:pe.append8BitBytes(c,h,p);break;case Kt.KANJI:pe.appendKanjiBytes(c,h);break;default:throw new Gr("Invalid mode: "+u)}}static getDigit(c){return c.charCodeAt(0)-48}static isDigit(c){const u=pe.getDigit(c);return u>=0&&u<=9}static appendNumericBytes(c,u){const h=c.length;let p=0;for(;p<h;){const x=pe.getDigit(c.charAt(p));if(p+2<h){const w=pe.getDigit(c.charAt(p+1)),E=pe.getDigit(c.charAt(p+2));u.appendBits(x*100+w*10+E,10),p+=3}else if(p+1<h){const w=pe.getDigit(c.charAt(p+1));u.appendBits(x*10+w,7),p+=2}else u.appendBits(x,4),p++}}static appendAlphanumericBytes(c,u){const h=c.length;let p=0;for(;p<h;){const x=pe.getAlphanumericCode(c.charCodeAt(p));if(x===-1)throw new Gr;if(p+1<h){const w=pe.getAlphanumericCode(c.charCodeAt(p+1));if(w===-1)throw new Gr;u.appendBits(x*45+w,11),p+=2}else u.appendBits(x,6),p++}}static append8BitBytes(c,u,h){let p;try{p=U.encode(c,h)}catch(x){throw new Gr(x)}for(let x=0,w=p.length;x!==w;x++){const E=p[x];u.appendBits(E,8)}}static appendKanjiBytes(c,u){let h;try{h=U.encode(c,_.SJIS)}catch(x){throw new Gr(x)}const p=h.length;for(let x=0;x<p;x+=2){const w=h[x]&255,E=h[x+1]&255,T=w<<8&4294967295|E;let P=-1;if(T>=33088&&T<=40956?P=T-33088:T>=57408&&T<=60351&&(P=T-49472),P===-1)throw new Gr("Invalid byte sequence");const z=(P>>8)*192+(P&255);u.appendBits(z,13)}}static appendECI(c,u){u.appendBits(Kt.ECI.getBits(),4),u.appendBits(c.getValue(),8)}}pe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),pe.DEFAULT_BYTE_MODE_ENCODING=_.UTF8.getName();class Ne{write(c,u,h,p=null){if(c.length===0)throw new m("Found empty contents");if(u<0||h<0)throw new m("Requested dimensions are too small: "+u+"x"+h);let x=qr.L,w=Ne.QUIET_ZONE_SIZE;p!==null&&(p.get(rs.ERROR_CORRECTION)!==void 0&&(x=qr.fromString(p.get(rs.ERROR_CORRECTION).toString())),p.get(rs.MARGIN)!==void 0&&(w=Number.parseInt(p.get(rs.MARGIN).toString(),10)));const E=pe.encode(c,x,p);return this.renderResult(E,u,h,w)}writeToDom(c,u,h,p,x=null){typeof c=="string"&&(c=document.querySelector(c));const w=this.write(u,h,p,x);c&&c.appendChild(w)}renderResult(c,u,h,p){const x=c.getMatrix();if(x===null)throw new Re;const w=x.getWidth(),E=x.getHeight(),T=w+p*2,P=E+p*2,z=Math.max(u,T),te=Math.max(h,P),Ae=Math.min(Math.floor(z/T),Math.floor(te/P)),ge=Math.floor((z-w*Ae)/2),Be=Math.floor((te-E*Ae)/2),Se=this.createSVGElement(z,te);for(let ke=0,We=Be;ke<E;ke++,We+=Ae)for(let ot=0,ut=ge;ot<w;ot++,ut+=Ae)if(x.get(ot,ke)===1){const lt=this.createSvgRectElement(ut,We,Ae,Ae);Se.appendChild(lt)}return Se}createSVGElement(c,u){const h=document.createElementNS(Ne.SVG_NS,"svg");return h.setAttributeNS(null,"height",c.toString()),h.setAttributeNS(null,"width",u.toString()),h}createSvgRectElement(c,u,h,p){const x=document.createElementNS(Ne.SVG_NS,"rect");return x.setAttributeNS(null,"x",c.toString()),x.setAttributeNS(null,"y",u.toString()),x.setAttributeNS(null,"height",h.toString()),x.setAttributeNS(null,"width",p.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Ne.QUIET_ZONE_SIZE=4,Ne.SVG_NS="http://www.w3.org/2000/svg";class De{encode(c,u,h,p,x){if(c.length===0)throw new m("Found empty contents");if(u!==ce.QR_CODE)throw new m("Can only encode QR_CODE, but got "+u);if(h<0||p<0)throw new m(`Requested dimensions are too small: ${h}x${p}`);let w=qr.L,E=De.QUIET_ZONE_SIZE;x!==null&&(x.get(rs.ERROR_CORRECTION)!==void 0&&(w=qr.fromString(x.get(rs.ERROR_CORRECTION).toString())),x.get(rs.MARGIN)!==void 0&&(E=Number.parseInt(x.get(rs.MARGIN).toString(),10)));const T=pe.encode(c,w,x);return De.renderResult(T,h,p,E)}static renderResult(c,u,h,p){const x=c.getMatrix();if(x===null)throw new Re;const w=x.getWidth(),E=x.getHeight(),T=w+p*2,P=E+p*2,z=Math.max(u,T),te=Math.max(h,P),Ae=Math.min(Math.floor(z/T),Math.floor(te/P)),ge=Math.floor((z-w*Ae)/2),Be=Math.floor((te-E*Ae)/2),Se=new Z(z,te);for(let ke=0,We=Be;ke<E;ke++,We+=Ae)for(let ot=0,ut=ge;ot<w;ot++,ut+=Ae)x.get(ot,ke)===1&&Se.setRegion(ut,We,Ae,Ae);return Se}}De.QUIET_ZONE_SIZE=4;class Xe{encode(c,u,h,p,x){let w;switch(u){case ce.QR_CODE:w=new De;break;default:throw new m("No encoder available for format "+u)}return w.encode(c,u,h,p,x)}}class it extends Y{constructor(c,u,h,p,x,w,E,T){if(super(w,E),this.yuvData=c,this.dataWidth=u,this.dataHeight=h,this.left=p,this.top=x,p+w>u||x+E>h)throw new m("Crop rectangle does not fit within image data.");T&&this.reverseHorizontal(w,E)}getRow(c,u){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const p=(c+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,p,u,0,h),u}getMatrix(){const c=this.getWidth(),u=this.getHeight();if(c===this.dataWidth&&u===this.dataHeight)return this.yuvData;const h=c*u,p=new Uint8ClampedArray(h);let x=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return C.arraycopy(this.yuvData,x,p,0,h),p;for(let w=0;w<u;w++){const E=w*c;C.arraycopy(this.yuvData,x,p,E,c),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(c,u,h,p){return new it(this.yuvData,this.dataWidth,this.dataHeight,this.left+c,this.top+u,h,p,!1)}renderThumbnail(){const c=this.getWidth()/it.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/it.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(c*u),p=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let w=0;w<u;w++){const E=w*c;for(let T=0;T<c;T++){const P=p[x+T*it.THUMBNAIL_SCALE_FACTOR]&255;h[E+T]=4278190080|P*65793}x+=this.dataWidth*it.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/it.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/it.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(c,u){const h=this.yuvData;for(let p=0,x=this.top*this.dataWidth+this.left;p<u;p++,x+=this.dataWidth){const w=x+c/2;for(let E=x,T=x+c-1;E<w;E++,T--){const P=h[E];h[E]=h[T],h[T]=P}}}invert(){return new K(this)}}it.THUMBNAIL_SCALE_FACTOR=2;class Ct extends Y{constructor(c,u,h,p,x,w,E){if(super(u,h),this.dataWidth=p,this.dataHeight=x,this.left=w,this.top=E,c.BYTES_PER_ELEMENT===4){const T=u*h,P=new Uint8ClampedArray(T);for(let z=0;z<T;z++){const te=c[z],Ae=te>>16&255,ge=te>>7&510,Be=te&255;P[z]=(Ae+ge+Be)/4&255}this.luminances=P}else this.luminances=c;if(p===void 0&&(this.dataWidth=u),x===void 0&&(this.dataHeight=h),w===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+h>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(c,u){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const p=(c+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,p,u,0,h),u}getMatrix(){const c=this.getWidth(),u=this.getHeight();if(c===this.dataWidth&&u===this.dataHeight)return this.luminances;const h=c*u,p=new Uint8ClampedArray(h);let x=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return C.arraycopy(this.luminances,x,p,0,h),p;for(let w=0;w<u;w++){const E=w*c;C.arraycopy(this.luminances,x,p,E,c),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(c,u,h,p){return new Ct(this.luminances,h,p,this.dataWidth,this.dataHeight,this.left+c,this.top+u)}invert(){return new K(this)}}class Vt extends _{static forName(c){return this.getCharacterSetECIByName(c)}}class cr{}cr.ISO_8859_1=_.ISO8859_1;class Ar{isCompact(){return this.compact}setCompact(c){this.compact=c}getSize(){return this.size}setSize(c){this.size=c}getLayers(){return this.layers}setLayers(c){this.layers=c}getCodeWords(){return this.codeWords}setCodeWords(c){this.codeWords=c}getMatrix(){return this.matrix}setMatrix(c){this.matrix=c}}class Ir{static singletonList(c){return[c]}static min(c,u){return c.sort(u)[0]}}class Mn{constructor(c){this.previous=c}getPrevious(){return this.previous}}class on extends Mn{constructor(c,u,h){super(c),this.value=u,this.bitCount=h}appendTo(c,u){c.appendBits(this.value,this.bitCount)}add(c,u){return new on(this,c,u)}addBinaryShift(c,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new on(this,c,u)}toString(){let c=this.value&(1<<this.bitCount)-1;return c|=1<<this.bitCount,"<"+I.toBinaryString(c|1<<this.bitCount).substring(1)+">"}}class $n extends on{constructor(c,u,h){super(c,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=h}appendTo(c,u){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(c.appendBits(31,5),this.binaryShiftByteCount>62?c.appendBits(this.binaryShiftByteCount-31,16):h===0?c.appendBits(Math.min(this.binaryShiftByteCount,31),5):c.appendBits(this.binaryShiftByteCount-31,5)),c.appendBits(u[this.binaryShiftStart+h],8)}addBinaryShift(c,u){return new $n(this,c,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ta(re,c,u){return new $n(re,c,u)}function qn(re,c,u){return new on(re,c,u)}const Qi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],us=0,qa=1,ua=2,wA=3,Fa=4,vA=new on(null,0,0),pc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function fd(re){for(let c of re)S.fill(c,-1);return re[us][Fa]=0,re[qa][Fa]=0,re[qa][us]=28,re[wA][Fa]=0,re[ua][Fa]=0,re[ua][us]=15,re}const gc=fd(S.createInt32Array(6,6));class mn{constructor(c,u,h,p){this.token=c,this.mode=u,this.binaryShiftByteCount=h,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(c,u){let h=this.bitCount,p=this.token;if(c!==this.mode){let w=pc[this.mode][c];p=qn(p,w&65535,w>>16),h+=w>>16}let x=c===ua?4:5;return p=qn(p,u,x),new mn(p,c,0,h+x)}shiftAndAppend(c,u){let h=this.token,p=this.mode===ua?4:5;return h=qn(h,gc[this.mode][c],p),h=qn(h,u,5),new mn(h,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(c){let u=this.token,h=this.mode,p=this.bitCount;if(this.mode===Fa||this.mode===ua){let E=pc[h][us];u=qn(u,E&65535,E>>16),p+=E>>16,h=us}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new mn(u,h,this.binaryShiftByteCount+1,p+x);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(c+1)),w}endBinaryShift(c){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=ta(u,c-this.binaryShiftByteCount,this.binaryShiftByteCount),new mn(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(c){let u=this.bitCount+(pc[this.mode][c.mode]>>16);return this.binaryShiftByteCount<c.binaryShiftByteCount?u+=mn.calculateBinaryShiftCost(c)-mn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>c.binaryShiftByteCount&&c.binaryShiftByteCount>0&&(u+=10),u<=c.bitCount}toBitArray(c){let u=[];for(let p=this.endBinaryShift(c.length).token;p!==null;p=p.getPrevious())u.unshift(p);let h=new k;for(const p of u)p.appendTo(h,c);return h}toString(){return Q.format("%s bits=%d bytes=%d",Qi[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(c){return c.binaryShiftByteCount>62?21:c.binaryShiftByteCount>31?20:c.binaryShiftByteCount>0?10:0}}mn.INITIAL_STATE=new mn(vA,us,0,0);function bA(re){const c=Q.getCharCode(" "),u=Q.getCharCode("."),h=Q.getCharCode(",");re[us][c]=1;const p=Q.getCharCode("Z"),x=Q.getCharCode("A");for(let Ae=x;Ae<=p;Ae++)re[us][Ae]=Ae-x+2;re[qa][c]=1;const w=Q.getCharCode("z"),E=Q.getCharCode("a");for(let Ae=E;Ae<=w;Ae++)re[qa][Ae]=Ae-E+2;re[ua][c]=1;const T=Q.getCharCode("9"),P=Q.getCharCode("0");for(let Ae=P;Ae<=T;Ae++)re[ua][Ae]=Ae-P+2;re[ua][h]=12,re[ua][u]=13;const z=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Ae=0;Ae<z.length;Ae++)re[wA][Q.getCharCode(z[Ae])]=Ae;const te=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Ae=0;Ae<te.length;Ae++)Q.getCharCode(te[Ae])>0&&(re[Fa][Q.getCharCode(te[Ae])]=Ae);return re}const Cl=bA(S.createInt32Array(5,256));class uo{constructor(c){this.text=c}encode(){const c=Q.getCharCode(" "),u=Q.getCharCode(`
`);let h=Ir.singletonList(mn.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let w,E=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case Q.getCharCode("\r"):w=E===u?2:0;break;case Q.getCharCode("."):w=E===c?3:0;break;case Q.getCharCode(","):w=E===c?4:0;break;case Q.getCharCode(":"):w=E===c?5:0;break;default:w=0}w>0?(h=uo.updateStateListForPair(h,x,w),x++):h=this.updateStateListForChar(h,x)}return Ir.min(h,(x,w)=>x.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(c,u){const h=[];for(let p of c)this.updateStateForChar(p,u,h);return uo.simplifyStates(h)}updateStateForChar(c,u,h){let p=this.text[u]&255,x=Cl[c.getMode()][p]>0,w=null;for(let E=0;E<=Fa;E++){let T=Cl[E][p];if(T>0){if(w==null&&(w=c.endBinaryShift(u)),!x||E===c.getMode()||E===ua){const P=w.latchAndAppend(E,T);h.push(P)}if(!x&&gc[c.getMode()][E]>=0){const P=w.shiftAndAppend(E,T);h.push(P)}}}if(c.getBinaryShiftByteCount()>0||Cl[c.getMode()][p]===0){let E=c.addBinaryShiftChar(u);h.push(E)}}static updateStateListForPair(c,u,h){const p=[];for(let x of c)this.updateStateForPair(x,u,h,p);return this.simplifyStates(p)}static updateStateForPair(c,u,h,p){let x=c.endBinaryShift(u);if(p.push(x.latchAndAppend(Fa,h)),c.getMode()!==Fa&&p.push(x.shiftAndAppend(Fa,h)),h===3||h===4){let w=x.latchAndAppend(ua,16-h).latchAndAppend(ua,1);p.push(w)}if(c.getBinaryShiftByteCount()>0){let w=c.addBinaryShiftChar(u).addBinaryShiftChar(u+1);p.push(w)}}static simplifyStates(c){let u=[];for(const h of c){let p=!0;for(const x of u){if(x.isBetterThanOrEqualTo(h)){p=!1;break}h.isBetterThanOrEqualTo(x)&&(u=u.filter(w=>w!==x))}p&&u.push(h)}return u}}class Nr{constructor(){}static encodeBytes(c){return Nr.encode(c,Nr.DEFAULT_EC_PERCENT,Nr.DEFAULT_AZTEC_LAYERS)}static encode(c,u,h){let p=new uo(c).encode(),x=I.truncDivision(p.getSize()*u,100)+11,w=p.getSize()+x,E,T,P,z,te;if(h!==Nr.DEFAULT_AZTEC_LAYERS){if(E=h<0,T=Math.abs(h),T>(E?Nr.MAX_NB_BITS_COMPACT:Nr.MAX_NB_BITS))throw new m(Q.format("Illegal value %s for layers",h));P=Nr.totalBitsInLayer(T,E),z=Nr.WORD_SIZE[T];let lt=P-P%z;if(te=Nr.stuffBits(p,z),te.getSize()+x>lt)throw new m("Data to large for user specified layer");if(E&&te.getSize()>z*64)throw new m("Data to large for user specified layer")}else{z=0,te=null;for(let lt=0;;lt++){if(lt>Nr.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(E=lt<=3,T=E?lt+1:lt,P=Nr.totalBitsInLayer(T,E),w>P)continue;(te==null||z!==Nr.WORD_SIZE[T])&&(z=Nr.WORD_SIZE[T],te=Nr.stuffBits(p,z));let wr=P-P%z;if(!(E&&te.getSize()>z*64)&&te.getSize()+x<=wr)break}}let Ae=Nr.generateCheckWords(te,P,z),ge=te.getSize()/z,Be=Nr.generateModeMessage(E,T,ge),Se=(E?11:14)+T*4,ke=new Int32Array(Se),We;if(E){We=Se;for(let lt=0;lt<ke.length;lt++)ke[lt]=lt}else{We=Se+1+2*I.truncDivision(I.truncDivision(Se,2)-1,15);let lt=I.truncDivision(Se,2),wr=I.truncDivision(We,2);for(let ar=0;ar<lt;ar++){let ds=ar+I.truncDivision(ar,15);ke[lt-ar-1]=wr-ds-1,ke[lt+ar]=wr+ds+1}}let ot=new Z(We);for(let lt=0,wr=0;lt<T;lt++){let ar=(T-lt)*4+(E?9:12);for(let ds=0;ds<ar;ds++){let Gs=ds*2;for(let ns=0;ns<2;ns++)Ae.get(wr+Gs+ns)&&ot.set(ke[lt*2+ns],ke[lt*2+ds]),Ae.get(wr+ar*2+Gs+ns)&&ot.set(ke[lt*2+ds],ke[Se-1-lt*2-ns]),Ae.get(wr+ar*4+Gs+ns)&&ot.set(ke[Se-1-lt*2-ns],ke[Se-1-lt*2-ds]),Ae.get(wr+ar*6+Gs+ns)&&ot.set(ke[Se-1-lt*2-ds],ke[lt*2+ns])}wr+=ar*8}if(Nr.drawModeMessage(ot,E,We,Be),E)Nr.drawBullsEye(ot,I.truncDivision(We,2),5);else{Nr.drawBullsEye(ot,I.truncDivision(We,2),7);for(let lt=0,wr=0;lt<I.truncDivision(Se,2)-1;lt+=15,wr+=16)for(let ar=I.truncDivision(We,2)&1;ar<We;ar+=2)ot.set(I.truncDivision(We,2)-wr,ar),ot.set(I.truncDivision(We,2)+wr,ar),ot.set(ar,I.truncDivision(We,2)-wr),ot.set(ar,I.truncDivision(We,2)+wr)}let ut=new Ar;return ut.setCompact(E),ut.setSize(We),ut.setLayers(T),ut.setCodeWords(ge),ut.setMatrix(ot),ut}static drawBullsEye(c,u,h){for(let p=0;p<h;p+=2)for(let x=u-p;x<=u+p;x++)c.set(x,u-p),c.set(x,u+p),c.set(u-p,x),c.set(u+p,x);c.set(u-h,u-h),c.set(u-h+1,u-h),c.set(u-h,u-h+1),c.set(u+h,u-h),c.set(u+h,u-h+1),c.set(u+h,u+h-1)}static generateModeMessage(c,u,h){let p=new k;return c?(p.appendBits(u-1,2),p.appendBits(h-1,6),p=Nr.generateCheckWords(p,28,4)):(p.appendBits(u-1,5),p.appendBits(h-1,11),p=Nr.generateCheckWords(p,40,4)),p}static drawModeMessage(c,u,h,p){let x=I.truncDivision(h,2);if(u)for(let w=0;w<7;w++){let E=x-3+w;p.get(w)&&c.set(E,x-5),p.get(w+7)&&c.set(x+5,E),p.get(20-w)&&c.set(E,x+5),p.get(27-w)&&c.set(x-5,E)}else for(let w=0;w<10;w++){let E=x-5+w+I.truncDivision(w,5);p.get(w)&&c.set(E,x-7),p.get(w+10)&&c.set(x+7,E),p.get(29-w)&&c.set(E,x+7),p.get(39-w)&&c.set(x-7,E)}}static generateCheckWords(c,u,h){let p=c.getSize()/h,x=new vl(Nr.getGF(h)),w=I.truncDivision(u,h),E=Nr.bitsToWords(c,h,w);x.encode(E,w-p);let T=u%h,P=new k;P.appendBits(0,T);for(const z of Array.from(E))P.appendBits(z,h);return P}static bitsToWords(c,u,h){let p=new Int32Array(h),x,w;for(x=0,w=c.getSize()/u;x<w;x++){let E=0;for(let T=0;T<u;T++)E|=c.get(x*u+T)?1<<u-T-1:0;p[x]=E}return p}static getGF(c){switch(c){case 4:return Me.AZTEC_PARAM;case 6:return Me.AZTEC_DATA_6;case 8:return Me.AZTEC_DATA_8;case 10:return Me.AZTEC_DATA_10;case 12:return Me.AZTEC_DATA_12;default:throw new m("Unsupported word size "+c)}}static stuffBits(c,u){let h=new k,p=c.getSize(),x=(1<<u)-2;for(let w=0;w<p;w+=u){let E=0;for(let T=0;T<u;T++)(w+T>=p||c.get(w+T))&&(E|=1<<u-1-T);(E&x)===x?(h.appendBits(E&x,u),w--):E&x?h.appendBits(E,u):(h.appendBits(E|1,u),w--)}return h}static totalBitsInLayer(c,u){return((u?88:112)+16*c)*c}}Nr.DEFAULT_EC_PERCENT=33,Nr.DEFAULT_AZTEC_LAYERS=0,Nr.MAX_NB_BITS=32,Nr.MAX_NB_BITS_COMPACT=4,Nr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ks{encode(c,u,h,p){return this.encodeWithHints(c,u,h,p,null)}encodeWithHints(c,u,h,p,x){let w=cr.ISO_8859_1,E=Nr.DEFAULT_EC_PERCENT,T=Nr.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(rs.CHARACTER_SET)&&(w=Vt.forName(x.get(rs.CHARACTER_SET).toString())),x.has(rs.ERROR_CORRECTION)&&(E=I.parseInt(x.get(rs.ERROR_CORRECTION).toString())),x.has(rs.AZTEC_LAYERS)&&(T=I.parseInt(x.get(rs.AZTEC_LAYERS).toString()))),Ks.encodeLayers(c,u,h,p,w,E,T)}static encodeLayers(c,u,h,p,x,w,E){if(u!==ce.AZTEC)throw new m("Can only encode AZTEC, but got "+u);let T=Nr.encode(Q.getBytes(c,x),w,E);return Ks.renderResult(T,h,p)}static renderResult(c,u,h){let p=c.getMatrix();if(p==null)throw new Re;let x=p.getWidth(),w=p.getHeight(),E=Math.max(u,x),T=Math.max(h,w),P=Math.min(E/x,T/w),z=(E-x*P)/2,te=(T-w*P)/2,Ae=new Z(E,T);for(let ge=0,Be=te;ge<w;ge++,Be+=P)for(let Se=0,ke=z;Se<x;Se++,ke+=P)p.get(Se,ge)&&Ae.setRegion(ke,Be,P,P);return Ae}}r.AbstractExpandedDecoder=za,r.ArgumentException=f,r.ArithmeticException=Pe,r.AztecCode=Ar,r.AztecCodeReader=Ze,r.AztecCodeWriter=Ks,r.AztecDecoder=rt,r.AztecDetector=St,r.AztecDetectorResult=yt,r.AztecEncoder=Nr,r.AztecHighLevelEncoder=uo,r.AztecPoint=qe,r.BarcodeFormat=ce,r.Binarizer=b,r.BinaryBitmap=y,r.BitArray=k,r.BitMatrix=Z,r.BitSource=fA,r.BrowserAztecCodeReader=br,r.BrowserBarcodeReader=R0,r.BrowserCodeReader=ee,r.BrowserDatamatrixCodeReader=mA,r.BrowserMultiFormatReader=xA,r.BrowserPDF417Reader=dd,r.BrowserQRCodeReader=hd,r.BrowserQRCodeSvgWriter=Ne,r.CharacterSetECI=_,r.ChecksumException=g,r.Code128Reader=dt,r.Code39Reader=Zt,r.DataMatrixDecodedBitStreamParser=Mi,r.DataMatrixReader=Ds,r.DecodeHintType=V,r.DecoderResult=Ie,r.DefaultGridSampler=Ht,r.DetectorResult=ft,r.EAN13Reader=vs,r.EncodeHintType=rs,r.Exception=d,r.FormatException=O,r.GenericGF=Me,r.GenericGFPoly=Ce,r.GlobalHistogramBinarizer=q,r.GridSampler=Nt,r.GridSamplerInstance=lr,r.HTMLCanvasElementLuminanceSource=ae,r.HybridBinarizer=W,r.ITFReader=Ut,r.IllegalArgumentException=m,r.IllegalStateException=Re,r.InvertedLuminanceSource=K,r.LuminanceSource=Y,r.MathUtils=Ke,r.MultiFormatOneDReader=oo,r.MultiFormatReader=ud,r.MultiFormatWriter=Xe,r.NotFoundException=$,r.OneDReader=Ot,r.PDF417DecodedBitStreamParser=Ge,r.PDF417DecoderErrorCorrection=Th,r.PDF417Reader=ts,r.PDF417ResultMetadata=ld,r.PerspectiveTransform=wt,r.PlanarYUVLuminanceSource=it,r.QRCodeByteMatrix=bl,r.QRCodeDataMask=Ba,r.QRCodeDecodedBitStreamParser=Kr,r.QRCodeDecoderErrorCorrectionLevel=qr,r.QRCodeDecoderFormatInformation=Ns,r.QRCodeEncoder=pe,r.QRCodeEncoderQRCode=Ea,r.QRCodeMaskUtil=rn,r.QRCodeMatrixUtil=L,r.QRCodeMode=Kt,r.QRCodeReader=lo,r.QRCodeVersion=_t,r.QRCodeWriter=De,r.RGBLuminanceSource=Ct,r.RSS14Reader=Fn,r.RSSExpandedReader=st,r.ReaderException=wl,r.ReedSolomonDecoder=ye,r.ReedSolomonEncoder=vl,r.ReedSolomonException=Je,r.Result=ie,r.ResultMetadataType=we,r.ResultPoint=_e,r.StringUtils=Q,r.UnsupportedOperationException=J,r.VideoInputDevice=be,r.WhiteRectangleDetector=et,r.WriterException=Gr,r.ZXingArrays=S,r.ZXingCharset=Vt,r.ZXingInteger=I,r.ZXingStandardCharsets=cr,r.ZXingStringBuilder=X,r.ZXingStringEncoding=U,r.ZXingSystem=C,r.createAbstractExpandedDecoder=Ju,Object.defineProperty(r,"__esModule",{value:!0})})})(Z4,Z4.exports);var Hn=Z4.exports;const mge=Jp(Hn),pge=AT({__proto__:null,default:mge},[Hn]);var k8=function(){function e(t,r,n){if(this.formatMap=new Map([[kt.QR_CODE,Hn.BarcodeFormat.QR_CODE],[kt.AZTEC,Hn.BarcodeFormat.AZTEC],[kt.CODABAR,Hn.BarcodeFormat.CODABAR],[kt.CODE_39,Hn.BarcodeFormat.CODE_39],[kt.CODE_93,Hn.BarcodeFormat.CODE_93],[kt.CODE_128,Hn.BarcodeFormat.CODE_128],[kt.DATA_MATRIX,Hn.BarcodeFormat.DATA_MATRIX],[kt.MAXICODE,Hn.BarcodeFormat.MAXICODE],[kt.ITF,Hn.BarcodeFormat.ITF],[kt.EAN_13,Hn.BarcodeFormat.EAN_13],[kt.EAN_8,Hn.BarcodeFormat.EAN_8],[kt.PDF_417,Hn.BarcodeFormat.PDF_417],[kt.RSS_14,Hn.BarcodeFormat.RSS_14],[kt.RSS_EXPANDED,Hn.BarcodeFormat.RSS_EXPANDED],[kt.UPC_A,Hn.BarcodeFormat.UPC_A],[kt.UPC_E,Hn.BarcodeFormat.UPC_E],[kt.UPC_EAN_EXTENSION,Hn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!pge)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var s=this.createZXingFormats(t),a=new Map;a.set(Hn.DecodeHintType.POSSIBLE_FORMATS,s),a.set(Hn.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,s){try{n(r.decode(t))}catch(a){s(a)}})},e.prototype.decode=function(t){var r=new Hn.MultiFormatReader(this.verbose,this.hints),n=new Hn.HTMLCanvasElementLuminanceSource(t),s=new Hn.BinaryBitmap(new Hn.HybridBinarizer(n)),a=r.decode(s);return{text:a.text,format:uU.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,s){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,s=t;n<s.length;n++){var a=s[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),gge=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function A(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):s(f.value).then(l,A)}d((n=n.apply(e,t||[])).next())})},xge=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return A([d,f])}}function A(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],s=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},P8=function(){function e(t,r,n){if(this.formatMap=new Map([[kt.QR_CODE,"qr_code"],[kt.AZTEC,"aztec"],[kt.CODABAR,"codabar"],[kt.CODE_39,"code_39"],[kt.CODE_93,"code_93"],[kt.CODE_128,"code_128"],[kt.DATA_MATRIX,"data_matrix"],[kt.ITF,"itf"],[kt.EAN_13,"ean_13"],[kt.EAN_8,"ean_8"],[kt.PDF_417,"pdf417"],[kt.UPC_A,"upc_a"],[kt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return gge(this,void 0,void 0,function(){var r,n;return xge(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=s.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:uU.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,s=0,a=t;s<a.length;s++){var o=a[s],l=o.boundingBox.width*o.boundingBox.height;l>n&&(n=l,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,s=t;n<s.length;n++){var a=s[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,s){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),O8=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function A(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):s(f.value).then(l,A)}d((n=n.apply(e,t||[])).next())})},R8=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return A([d,f])}}function A(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],s=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},yge=function(){function e(t,r,n,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&P8.isSupported()?(this.primaryDecoder=new P8(t,n,s),this.secondaryDecoder=new k8(t,n,s)):this.primaryDecoder=new k8(t,n,s)}return e.prototype.decodeAsync=function(t){return O8(this,void 0,void 0,function(){var r;return R8(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return O8(this,void 0,void 0,function(){var r,n;return R8(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(n=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var s=n[r];t+=s}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),tS=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ew=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function A(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):s(f.value).then(l,A)}d((n=n.apply(e,t||[])).next())})},tw=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return A([d,f])}}function A(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],s=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},hU=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),wge=function(e){tS(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var s={advanced:[n]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(hU),vge=function(e){tS(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(wge),bge=function(e){tS(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(hU),Cge=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new vge(this.track)},e.prototype.torchFeature=function(){return new bge(this.track)},e}(),Bge=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,s),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,s){return ew(this,void 0,void 0,function(){var a,o;return tw(this,function(l){switch(l.label){case 0:return a=new e(t,r,s),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:l.sent(),l.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ew(this,void 0,void 0,function(){return tw(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var s=t.mediaStream.getVideoTracks(),a=s.length,o=0;t.mediaStream.getVideoTracks().forEach(function(l){t.mediaStream.removeTrack(l),l.stop(),++o,o>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Cge(this.getFirstTrackOrFail())},e}(),Nge=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return ew(this,void 0,void 0,function(){return tw(this,function(s){return[2,Bge.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return ew(this,void 0,void 0,function(){var r,n;return tw(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=s.sent(),[2,new e(n)]}})})},e}(),D8=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function A(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):s(f.value).then(l,A)}d((n=n.apply(e,t||[])).next())})},_8=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return A([d,f])}}function A(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],s=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Sge=function(){function e(){}return e.failIfNotSupported=function(){return D8(this,void 0,void 0,function(){return _8(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return D8(this,void 0,void 0,function(){return _8(this,function(r){return[2,Nge.create(t)]})})},e}(),Ege=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function A(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):s(f.value).then(l,A)}d((n=n.apply(e,t||[])).next())})},Fge=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(f){return A([d,f])}}function A(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,s&&(a=d[0]&2?s.return:d[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,d[1])).done)return a;switch(s=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(f){d=[6,f],s=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Ige=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=bf.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=bf.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Ege(this,void 0,void 0,function(){var t,r,n,s,a,o,l;return Fge(this,function(A){switch(A.label){case 0:return t=function(d){for(var f=d.getVideoTracks(),m=0,y=f;m<y.length;m++){var g=y[m];g.enabled=!1,g.stop(),d.removeTrack(g)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=A.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=A.sent(),s=[],a=0,o=n;a<o.length;a++)l=o[a],l.kind==="videoinput"&&s.push({id:l.deviceId,label:l.label});return t(r),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var o=[],l=0,A=a;l<A.length;l++){var d=A[l];d.kind==="video"&&o.push({id:d.id,label:d.label})}t(o)},s=MediaStreamTrack;s.getSources(n)})},e}(),ps;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ps||(ps={}));var jge=function(){function e(){this.state=ps.NOT_STARTED,this.onGoingTransactionNewState=ps.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ps.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ps.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ps.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ps.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ps.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case ps.UNKNOWN:throw"Transition from unknown is not allowed";case ps.NOT_STARTED:this.failIfNewStateIs(t,[ps.PAUSED]);break;case ps.SCANNING:break;case ps.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,s=r;n<s.length;n++){var a=s[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Tge=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ps.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ps.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ps.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ps.PAUSED},e}(),Lge=function(){function e(){}return e.create=function(){return new Tge(new jge)},e}(),kge=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wi=function(e){kge(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(dge),Pge=function(){function e(t,r){this.logger=r,this.fps=Wi.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Wi.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?dU.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ic(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Oge=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new fge(this.verbose),this.qrcode=new yge(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Lge.create()}return e.prototype.start=function(t,r,n,s){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;s?o=s:o=this.verbose?this.logger.log:function(){};var l=Pge.create(r,this.logger);this.clearElement();var A=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?A=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=A,f=document.getElementById(this.elementId);f.clientWidth?f.clientWidth:Wi.DEFAULT_WIDTH,f.style.position="relative",this.shouldScan=!0,this.element=f;var m=this,y=this.stateManagerProxy.startTransition(ps.SCANNING);return new Promise(function(g,b){var C=d?l.videoConstraints:m.createVideoConstraints(t);if(!C){y.cancel(),b("videoConstraints should be defined");return}var F={};(!d||l.aspectRatio)&&(F.aspectRatio=l.aspectRatio);var v={onRenderSurfaceReady:function(S,I){m.setupUi(S,I,l),m.isScanning=!0,m.foreverScan(l,n,o)}};Sge.failIfNotSupported().then(function(S){S.create(C).then(function(I){return I.render(a.element,F,v).then(function(k){m.renderedCamera=k,y.execute(),g(null)}).catch(function(k){y.cancel(),b(k)})}).catch(function(I){y.cancel(),b(bf.errorGettingUserMedia(I))})}).catch(function(S){y.cancel(),b(bf.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ps.PAUSED),this.showPausedState(),(Ic(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(ps.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ps.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(Wi.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),n(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),r.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ic(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var l=o.width,A=o.height,d=document.getElementById(n.elementId),f=d.clientWidth?d.clientWidth:Wi.DEFAULT_WIDTH,m=Math.max(d.clientHeight?d.clientHeight:A,Wi.FILE_SCAN_MIN_HEIGHT),y=n.computeCanvasDrawConfig(l,A,f,m);if(r){var g=n.createCanvasElement(f,m,"qr-canvas-visible");g.style.display="inline-block",d.appendChild(g);var b=g.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=f,b.canvas.height=m,b.drawImage(o,0,0,l,A,y.x,y.y,y.width,y.height)}var C=Wi.FILE_SCAN_HIDDEN_CANVAS_PADDING,F=Math.max(o.width,y.width),v=Math.max(o.height,y.height),S=F+2*C,I=v+2*C,k=n.createCanvasElement(S,I);d.appendChild(k);var M=k.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=S,M.canvas.height=I,M.drawImage(o,0,0,l,A,C,C,F,v);try{n.qrcode.decodeRobustlyAsync(k).then(function(V){s(L8.createFromQrcodeResult(V))}).catch(a)}catch(V){a("QR code parse error, error = ".concat(V))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Ige.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!dU.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[kt.QR_CODE,kt.AZTEC,kt.CODABAR,kt.CODE_39,kt.CODE_93,kt.CODE_128,kt.DATA_MATRIX,kt.MAXICODE,kt.ITF,kt.EAN_13,kt.EAN_8,kt.PDF_417,kt.RSS_14,kt.RSS_EXPANDED,kt.UPC_A,kt.UPC_E,kt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],s=0,a=t.formatsToSupport;s<a.length;s++){var o=a[s];uge(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Ic(t))return!0;if(!Ic(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Ic(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Ic(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var s=this,a=n.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(t,r,a),l=function(d){if(d<Wi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Wi.MIN_QR_BOX_SIZE,"px.")},A=function(d){return d>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=t),d};l(o.width),l(o.height),o.width=A(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var s=Ic(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,r,s);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&a.height<=r,l={x:0,y:0,width:t,height:r},A=o?this.getShadedRegionBounds(t,r,a):l,d=this.createCanvasElement(A.width,A.height),f={willReadFrequently:!0},m=d.getContext("2d",f);m.canvas.width=A.width,m.canvas.height=A.height,this.element.append(d),o&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=A,this.context=m,this.canvasElement=d},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=bf.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,L8.createFromQrcodeResult(s)),n.possiblyUpdateShaders(!0),!0}).catch(function(s){n.possiblyUpdateShaders(!1);var a=bf.codeParseError(s);return r(a,hge.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,l=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var A=this.qrRegion.width*o,d=this.qrRegion.height*l,f=this.qrRegion.x*o,m=this.qrRegion.y*l;this.context.drawImage(a,f,m,A,d,0,0,this.qrRegion.width,this.qrRegion.height);var y=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,r,n)},s.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(g){!g&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(r,n).finally(function(){y()})):y()}).catch(function(g){s.logger.logError("Error happend while scanning context",g),y()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",s={user:!0,environment:!0},a="exact",o=function(b){if(b in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(b,"'")},l=Object.keys(t);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var A=Object.keys(t)[0];if(A!==r&&A!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(A===r){var d=t.facingMode;if(typeof d=="string"){if(o(d))return{facingMode:d}}else if(typeof d=="object")if(a in d){if(o(d["".concat(a)]))return{facingMode:{exact:d["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var f=typeof d;throw"Invalid type of 'facingMode' = ".concat(f)}}else{var m=t.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(a in m)return{deviceId:{exact:m["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var y=typeof m;throw"Invalid type of 'deviceId' = ".concat(y)}}}var g=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(g)},e.prototype.computeCanvasDrawConfig=function(t,r,n,s){if(t<=n&&r<=s){var a=(n-t)/2,o=(s-r)/2;return{x:a,y:o,width:t,height:r}}else{var l=t,A=r;return t>n&&(r=n/t*r,t=n),r>s&&(t=s/r*t,r=s),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(A)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Wi.BORDER_SHADER_MATCH_COLOR:Wi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var s=t,a=r,o=document.createElement("canvas");return o.style.width="".concat(s,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=Ic(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,s){if(!(r-s.width<1||n-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(r-s.width)/2,l=(n-s.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Wi.SHADED_REGION_ELEMENT_ID),r-s.width<11||n-s.height<11)this.hasBorderShaders=!1;else{var A=5,d=40;this.insertShaderBorders(a,d,A,-A,null,0,!0),this.insertShaderBorders(a,d,A,-A,null,0,!1),this.insertShaderBorders(a,d,A,null,-A,0,!0),this.insertShaderBorders(a,d,A,null,-A,0,!1),this.insertShaderBorders(a,A,d+A,-A,null,-A,!0),this.insertShaderBorders(a,A,d+A,null,-A,-A,!0),this.insertShaderBorders(a,A,d+A,-A,null,-A,!1),this.insertShaderBorders(a,A,d+A,null,-A,-A,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,s,a,o,l){var A=document.createElement("div");A.style.position="absolute",A.style.backgroundColor=Wi.BORDER_SHADER_DEFAULT_COLOR,A.style.width="".concat(r,"px"),A.style.height="".concat(n,"px"),s!==null&&(A.style.top="".concat(s,"px")),a!==null&&(A.style.bottom="".concat(a,"px")),l?A.style.left="".concat(o,"px"):A.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(A),t.appendChild(A)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),M8;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(M8||(M8={}));const Rge=({onScanSuccess:e,onClose:t,isOpen:r})=>{const n=N.useRef(null),[s,a]=N.useState(!1),[o,l]=N.useState(null),[A,d]=N.useState(null),[f,m]=N.useState([]),[y,g]=N.useState(!1),[b,C]=N.useState("environment"),F=N.useRef("qr-reader-"+Math.random().toString(36).substring(2)),v=N.useRef(!1),S=typeof window.cordova<"u",I=async()=>{var U,Q;if(!S)return!0;try{const X=(Q=(U=window.cordova)==null?void 0:U.plugins)==null?void 0:Q.permissions;if(!X)return!0;const Z=X.CAMERA||"android.permission.CAMERA";return await new Promise($=>{typeof X.hasPermission=="function"?X.hasPermission(Z,q=>{q&&q.hasPermission?$(!0):X.requestPermission(Z,W=>$(!!(W&&W.hasPermission)),()=>$(!1))},()=>{X.requestPermission(Z,q=>$(!!(q&&q.hasPermission)),()=>$(!1))}):typeof X.checkPermission=="function"?X.checkPermission(Z,q=>{q&&q.hasPermission?$(!0):X.requestPermission(Z,W=>$(!!(W&&W.hasPermission)),()=>$(!1))},()=>{X.requestPermission(Z,q=>$(!!(q&&q.hasPermission)),()=>$(!1))}):$(!0)})}catch(X){return console.warn("requestCameraPermission failed, allowing fallback:",X),!0}},k=async()=>{if(!await I()){l("Camera permission is required to scan QR codes. Please allow it when prompted or enable it in Settings.");return}try{window.cordova.plugins.barcodeScanner.scan(Q=>{Q.cancelled||e(Q.text),t()},Q=>{console.error("Cordova scan failed:",Q),l("Scanning failed: "+((Q==null?void 0:Q.message)||Q))},{showTorchButton:!0,prompt:"Place a QR code inside the scan area",orientation:"portrait"})}catch(Q){console.error("startCordovaScanner error:",Q),l("Failed to start native scanner.")}},M=async()=>{try{const Q=(await navigator.mediaDevices.enumerateDevices()).filter(X=>X.kind==="videoinput");return m(Q),Q}catch(U){return console.error("Error getting cameras:",U),l("Could not access camera devices."),[]}},V=async(U,Q)=>{try{if(v.current)return;if(v.current=!0,l(null),a(!0),!await I()){a(!1),v.current=!1,l("Camera permission denied. Please grant camera access in app settings.");return}if(n.current){try{await n.current.stop()}catch{}try{await n.current.clear()}catch{}n.current=null}const Z=document.getElementById(F.current);Z&&(Z.innerHTML="");let $=0;for(;!document.getElementById(F.current)&&$<5;)await new Promise(requestAnimationFrame),$++;const q=new Oge(F.current);n.current=q;const W={fps:10,qrbox:{width:250,height:250},aspectRatio:1};await q.start(Q?{facingMode:Q}:U||{facingMode:b},W,Y=>{console.log("Barcode scanned:",Y),e(Y)},Y=>{const K=typeof Y=="string"?Y:Y&&Y.message?Y.message:"";K&&!K.includes("No QR code found")&&console.warn("QR Code scan error:",Y)}),g(!0),a(!1),v.current=!1}catch(X){console.error("Scanner error:",X),l(X.message||"Failed to start camera"),a(!1),g(!1),v.current=!1}},O=async()=>{try{if(n.current){try{await n.current.stop()}catch{}try{await n.current.clear()}catch{}n.current=null}g(!1)}catch(U){console.error("Error stopping scanner:",U)}},R=async()=>{v.current||(y?await O():await V(A||void 0))},_=async()=>{if(!f.length||v.current)return;const Q=(f.findIndex(Z=>Z.deviceId===A)+1)%f.length,X=f[Q].deviceId;d(X),await V(X)},J=async()=>{if(v.current)return;const U=b==="environment"?"user":"environment";C(U),d(null),await V(void 0,U)};return N.useEffect(()=>(r&&(S?(async()=>{if(!await I()){l("Camera permission is required to scan QR codes.");return}k()})():(async()=>{if(!await I()){l("Camera permission is required to scan QR codes.");return}const Q=await M();Q.length>0?(d(Q[0].deviceId),await V(Q[0].deviceId)):l("No cameras found on this device.")})()),()=>{S||O()}),[r]),!r||S?null:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[i.jsx(TX,{className:"w-5 h-5 mr-2 text-blue-600"}),"Scan Library Barcode"]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(AA,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[o?i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 flex-1 flex flex-col items-center justify-center",children:[i.jsx(ci,{className:"w-12 h-12 text-red-500 mb-3"}),i.jsx("p",{className:"text-red-700 text-center mb-4",children:o}),i.jsxs("button",{onClick:()=>{l(null),V(A||void 0)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[i.jsx(Q6,{className:"w-4 h-4 mr-2"}),"Try Again"]})]}):i.jsxs("div",{className:"relative flex-1 bg-black rounded-lg overflow-hidden",children:[i.jsx("div",{id:F.current,className:"w-full h-full",style:{minHeight:"300px"}}),s&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:i.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-500 mr-2"}),i.jsx("span",{children:"Initializing camera..."})]})})]}),i.jsxs("div",{className:"mt-4 text-center",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Position the library's barcode within the scanning area"}),i.jsxs("div",{className:"flex justify-center space-x-4",children:[i.jsx("button",{onClick:R,className:"p-3 bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors",title:y?"Turn off camera":"Turn on camera",children:y?i.jsx($X,{className:"w-6 h-6"}):i.jsx(qX,{className:"w-6 h-6"})}),i.jsx("button",{onClick:J,className:"p-3 bg-indigo-100 text-indigo-700 rounded-full hover:bg-indigo-200 transition-colors",title:`Flip to ${b==="environment"?"front":"back"} camera`,children:i.jsx(P5,{className:"w-6 h-6"})}),f.length>1&&i.jsx("button",{onClick:_,className:"p-3 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",title:"Switch camera",children:i.jsx(Q6,{className:"w-6 h-6"})})]})]})]}),i.jsx("div",{className:"p-4 border-t bg-gray-50",children:i.jsx("button",{onClick:t,className:"w-full px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close Scanner"})})]})})},Dge=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0);N.useEffect(()=>{(async()=>{try{n(!0);const o=await Ue.getAnnouncements();t(o)}catch(o){console.error("Error fetching announcements:",o),Fe.error("Failed to load announcements")}finally{n(!1)}})()},[]);const s=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[i.jsx(u0,{className:"h-6 w-6 text-blue-600"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Announcements"})]}),e.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(u0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No announcements"}),i.jsx("p",{className:"text-gray-500",children:"No announcements available at the moment."})]}):i.jsx("div",{className:"space-y-4",children:e.map(a=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"mb-3",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.title})}),i.jsx("div",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:a.content}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(So,{className:"h-4 w-4"}),i.jsxs("span",{children:["By ",a.created_by_name]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(ko,{className:"h-4 w-4"}),i.jsx("span",{children:s(a.created_at)})]}),i.jsx("div",{className:"flex items-center space-x-1",children:a.is_global?i.jsxs(i.Fragment,{children:[i.jsx(NN,{className:"h-4 w-4"}),i.jsx("span",{children:"Global"})]}):i.jsxs(i.Fragment,{children:[i.jsx(I0,{className:"h-4 w-4"}),i.jsx("span",{children:"Branch Specific"})]})}),(a.start_date||a.end_date)&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(ci,{className:"h-4 w-4"}),i.jsxs("span",{children:[a.start_date&&`From ${s(a.start_date)}`,a.start_date&&a.end_date&&" ",a.end_date&&`Until ${s(a.end_date)}`]})]})]})]},a.id))})]})},_ge=e=>{switch(e){case"Approved":return"bg-green-100 text-green-800";case"Not Approved":return"bg-red-100 text-red-800";case"Done":return"bg-blue-100 text-blue-800";case"Not Done":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},fU=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[s,a]=N.useState(null),o=Tr();return N.useEffect(()=>{(async()=>{try{n(!0);const d=(await Ue.getQueries()).sort((f,m)=>m.upvotes-f.upvotes);t(d)}catch(A){a("Failed to load queries"),console.error("Error fetching queries:",A)}finally{n(!1)}})()},[]),r?i.jsx("div",{className:"p-6 text-center",children:"Loading..."}):s?i.jsx("div",{className:"p-6 text-center text-red-500",children:s}):i.jsx("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Public Queries"}),i.jsx("button",{onClick:()=>o("/queries/new"),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-indigo-700 transition-colors",children:"Ask a Question"})]}),i.jsx("div",{className:"space-y-4",children:e.map(l=>i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer hover:shadow-md transition-shadow border border-gray-200",onClick:()=>o(`/queries/${l.id}`),children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:l.title}),i.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${_ge(l.status)}`,children:l.status})]}),i.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Posted by ",i.jsx("span",{className:"font-medium text-gray-700",children:l.studentName})," on ",new Date(l.createdAt).toLocaleDateString()]}),i.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:l.description}),i.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 pt-3 border-t border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(TN,{className:"w-4 h-4 text-green-500"}),l.upvotes]}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(jN,{className:"w-4 h-4 text-red-500"}),l.downvotes]})]}),i.jsx("span",{className:"text-xs text-gray-400",children:new Date(l.updatedAt).toLocaleDateString()!==new Date(l.createdAt).toLocaleDateString()?`Updated on ${new Date(l.updatedAt).toLocaleDateString()}`:""})]})]},l.id))})]})})},Mge=()=>{const e=Tr(),[t,r]=N.useState(null),[n,s]=N.useState(!0),[a,o]=N.useState(!1),[l,A]=N.useState([]),[d,f]=N.useState([]),[m,y]=N.useState([]),[g,b]=N.useState([]),[C,F]=N.useState("overview"),[v,S]=N.useState("monthly"),[I,k]=N.useState(new Date),[M,V]=N.useState(!1),[O,R]=N.useState(null);N.useState(!1);const _=async()=>{try{const K=await Ue.getAttendanceStatus();R(K)}catch(K){console.error("Error fetching attendance status:",K),Wt.error("Failed to load attendance status")}},J=N.useCallback(async()=>{if(t){V(!0);try{const K={view:v};v==="monthly"?(K.month=I.getMonth()+1,K.year=I.getFullYear()):K.date=I.toISOString().split("T")[0],console.log("Fetching attendance with params:",K);const ae=await Ue.getStudentAttendanceHistory(K);A(ae.attendance||[])}catch(K){Wt.error("Failed to fetch attendance records."),console.error("Error fetching attendance data:",K)}finally{V(!1)}}},[t,v,I]);N.useEffect(()=>{(async()=>{try{s(!0);const[ae,be,H]=await Promise.all([Ue.getStudentProfile(),Ue.getStudentMembershipHistory(),Ue.getStudentTransactions()]);ae&&ae.student&&r(ae.student),be&&(be.membershipHistory&&f(be.membershipHistory),be.monthlySummary&&y(be.monthlySummary)),H&&H.transactions&&b(H.transactions),await _()}catch(ae){Wt.error("Failed to load student data."),console.error("Error fetching student data:",ae)}finally{s(!1)}})()},[]),N.useEffect(()=>{C==="attendance"&&t&&J()},[C,t,J]);const U=async K=>{o(!1);try{const ae=await Ue.markAttendanceWithQR(K);ae&&ae.message&&(Wt.success(ae.message),await J())}catch(ae){Wt.error("Failed to mark attendance."),console.error("Error marking attendance with QR:",ae)}},Q=async()=>{try{await ga("/student-auth/logout",{method:"POST"}),e("/student-login")}catch(K){console.error("Logout error:",K),e("/student-login")}},X=K=>{switch(K.toLowerCase()){case"active":case"paid":return"text-green-600 bg-green-100";case"expired":return"text-red-600 bg-red-100";case"inactive":return"text-gray-600 bg-gray-100";default:return"text-yellow-600 bg-yellow-100"}},Z=K=>{switch(K.toLowerCase()){case"active":return i.jsx(Hl,{className:"w-4 h-4"});case"expired":return i.jsx(zd,{className:"w-4 h-4"});default:return i.jsx(ci,{className:"w-4 h-4"})}},$=K=>{const ae=typeof K=="string"?parseFloat(K):K;return ae==null||isNaN(ae)?"₹0.00":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(ae)},q=K=>{if(!K)return"N/A";const ae=new Date(K);return isNaN(ae.getTime())?"Invalid Date":ae.toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})},W=K=>{const ae=new Date(K),be=new Date,H=ae.getTime()-be.getTime(),ee=Math.ceil(H/(1e3*60*60*24));return ee<=30&&ee>0},Y=K=>new Date(K)<new Date;return n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600 text-center",children:"Loading your dashboard..."})]})}):t?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 py-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:i.jsx(So,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Dashboard"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome back, ",t.name,"!"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 overflow-x-auto whitespace-nowrap w-full sm:w-auto",children:[i.jsx(Jb,{studentId:t.id,studentName:t.name,className:"mr-2 shrink-0",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Student Details"}),i.jsxs("p",{className:"text-gray-600",children:["Generated on: ",new Date().toLocaleDateString()]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Personal Information"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Name:"})," ",t.name]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Email:"})," ",t.email]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Phone:"})," ",t.phone]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Registration #:"})," ",t.registrationNumber]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Membership Status"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Status:"}),i.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${t.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Start Date:"})," ",new Date(t.membershipStart).toLocaleDateString()]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"End Date:"})," ",new Date(t.membershipEnd).toLocaleDateString()]})]})]})]}),l.length>0&&i.jsxs("div",{className:"mt-8",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Attendance"}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First In"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Out"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.slice(0,5).map(K=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(K.date).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.firstIn?new Date(K.firstIn).toLocaleTimeString():"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.lastOut?new Date(K.lastOut).toLocaleTimeString():"N/A"})]},K.id))})]})})]}),i.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:i.jsx("p",{children:"This is an auto-generated report. For any discrepancies, please contact support."})})]})}),i.jsxs("button",{onClick:Q,className:"shrink-0 flex items-center space-x-2 bg-red-100 text-red-700 px-3 py-2 sm:px-4 rounded-lg hover:bg-red-200 transition-colors text-sm",children:[i.jsx(x7,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.membershipEnd&&i.jsxs("div",{className:`mb-6 p-4 rounded-lg border ${Y(t.membershipEnd)?"bg-red-50 border-red-200 text-red-800":W(t.membershipEnd)?"bg-yellow-50 border-yellow-200 text-yellow-800":"bg-green-50 border-green-200 text-green-800"}`,children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[Y(t.membershipEnd)?i.jsx(zd,{className:"w-5 h-5"}):W(t.membershipEnd)?i.jsx(ci,{className:"w-5 h-5"}):i.jsx(Hl,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:Y(t.membershipEnd)?"Membership Expired":W(t.membershipEnd)?"Membership Expiring Soon":"Membership Active"})]}),i.jsx("p",{className:"mt-1 text-sm",children:Y(t.membershipEnd)?`Your membership expired on ${q(t.membershipEnd)}. Please renew to continue library services.`:W(t.membershipEnd)?`Your membership expires on ${q(t.membershipEnd)}. Please renew soon.`:`Your membership is active until ${q(t.membershipEnd)}.`})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[i.jsx(Qc,{className:"w-5 h-5"}),i.jsx("span",{children:"Scan QR Code"})]}),i.jsxs("button",{onClick:()=>F("attendance"),className:"flex items-center space-x-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[i.jsx(Xs,{className:"w-5 h-5"}),i.jsx("span",{children:"View Attendance"})]}),i.jsxs("button",{onClick:()=>F("membership"),className:"flex items-center space-x-2 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors shadow-sm",children:[i.jsx(nm,{className:"w-5 h-5"}),i.jsx("span",{children:"Membership History"})]})]})]})}),i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto whitespace-nowrap px-1",children:[{id:"overview",label:"Overview",icon:So},{id:"attendance",label:"Attendance",icon:Xs},{id:"membership",label:"Membership History",icon:nm},{id:"announcements",label:"Announcements",icon:u0},{id:"queries",label:"Public Queries",icon:PX}].map(({id:K,label:ae,icon:be})=>i.jsxs("button",{onClick:()=>F(K),className:`shrink-0 flex items-center gap-2 py-3 px-2 sm:px-1 border-b-2 font-medium text-sm ${C===K?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(be,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:ae})]},K))})})}),C==="overview"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[i.jsx(So,{className:"w-5 h-5"}),i.jsx("span",{children:"Profile Information"})]})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(So,{className:"w-5 h-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),i.jsx("p",{className:"font-medium text-gray-900",children:t.name})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(cA,{className:"w-5 h-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Phone Number"}),i.jsx("p",{className:"font-medium text-gray-900",children:t.phone})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Ru,{className:"w-5 h-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),i.jsx("p",{className:"font-medium text-gray-900",children:t.email})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(DX,{className:"w-5 h-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Registration Number"}),i.jsx("p",{className:"font-medium text-gray-900",children:t.registrationNumber})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(I0,{className:"w-5 h-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),i.jsx("p",{className:"font-medium text-gray-900",children:t.address})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[Z(t.status),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${X(t.status)}`,children:t.status})]})]})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[i.jsx(ko,{className:"w-5 h-5"}),i.jsx("span",{children:"Current Membership"})]})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Membership Start Date"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:q(t.membershipStart)})]})}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Membership End Date"}),i.jsx("p",{className:`text-2xl font-bold ${Y(t.membershipEnd)?"text-red-600":W(t.membershipEnd)?"text-yellow-600":"text-green-600"}`,children:q(t.membershipEnd)})]})})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(k5,{className:"w-5 h-5"}),i.jsx("span",{children:"Invoices"})]}),i.jsx(Jb,{studentId:t.id,studentName:t.name,className:"text-sm",variant:"text"})]})}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:'View and download your membership invoices. Click the "Download Invoice" button above to get the latest invoice.'}),d.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Invoices"}),i.jsx("ul",{className:"divide-y divide-gray-200",children:d.slice(0,3).map((K,ae)=>i.jsxs("li",{className:"py-3 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[q(K.membershipStart)," - ",q(K.membershipEnd)]}),i.jsxs("p",{className:"text-xs text-gray-500",children:[$(K.amountPaid)," paid • ",q(K.changed_at)]})]}),i.jsx(Jb,{studentId:t.id,studentName:t.name,className:"text-xs",variant:"text"})]},ae))}),d.length>3&&i.jsx("button",{onClick:()=>F("membership"),className:"mt-2 text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"View all invoices"})]})]})})]})]}),C==="attendance"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[i.jsx(Xs,{className:"w-5 h-5"}),i.jsx("span",{children:"Today's Status"})]})}),i.jsx("div",{className:"p-6",children:O?i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`w-3 h-3 rounded-full animate-pulse ${O.currentStatus==="checked_in"?"bg-green-500":"bg-gray-400"}`}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-semibold text-gray-900",children:O.currentStatus==="checked_in"?"Currently Checked In":"Currently Checked Out"}),i.jsx("p",{className:"text-sm text-gray-500",children:O.hasMarkedToday?`First check-in today at ${O.firstIn?new Date(O.firstIn).toLocaleTimeString("en-IN"):"N/A"}`:"No attendance recorded yet today."})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Next Action"}),i.jsxs("p",{className:"text-lg font-semibold text-blue-600 capitalize",children:["Scan to Check ",O.nextAction]})]})]}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{children:"Loading today's status..."})})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[i.jsx(nm,{className:"w-5 h-5"}),i.jsx("span",{children:"Attendance History"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center bg-gray-200 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>S("daily"),className:`px-3 py-1 text-sm font-medium rounded-md ${v==="daily"?"bg-white text-gray-800 shadow-sm":"bg-transparent text-gray-600"}`,children:"Daily"}),i.jsx("button",{onClick:()=>S("monthly"),className:`px-3 py-1 text-sm font-medium rounded-md ${v==="monthly"?"bg-white text-gray-800 shadow-sm":"bg-transparent text-gray-600"}`,children:"Monthly"})]}),v==="daily"&&i.jsx("input",{type:"date",value:I.toISOString().split("T")[0],onChange:K=>k(new Date(K.target.value)),className:"p-1.5 border border-gray-300 rounded-lg text-sm"}),v==="monthly"&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>k(K=>new Date(K.getFullYear(),K.getMonth()-1,1)),className:"p-2 rounded-l-lg bg-gray-200 hover:bg-gray-300",children:i.jsx($u,{className:"w-4 h-4"})}),i.jsx("input",{type:"month",value:`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}`,onChange:K=>k(new Date(K.target.value)),className:"p-1.5 border-t border-b border-gray-300 text-sm w-36 text-center"}),i.jsx("button",{onClick:()=>k(K=>new Date(K.getFullYear(),K.getMonth()+1,1)),className:"p-2 rounded-r-lg bg-gray-200 hover:bg-gray-300",children:i.jsx(Tn,{className:"w-4 h-4"})})]})]})]}),i.jsx("div",{className:"overflow-x-auto",children:M?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First Check-in"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Check-out"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Hours"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.length>0?l.map(K=>{const ae=K.firstIn?new Date(K.firstIn):null,be=K.lastOut?new Date(K.lastOut):null;let H="—",ee="Absent",ie="bg-red-100 text-red-800";if(ae)if(be){const le=be.getTime()-ae.getTime();if(le>=0){const ce=Math.floor(le/36e5),me=Math.floor(le%36e5/6e4);H=`${ce}h ${me}m`,ee="Completed",ie="bg-green-100 text-green-800"}else H="Error",ee="Error"}else H="Ongoing",ee="Present",ie="bg-yellow-100 text-yellow-800";return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q(K.date)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ie}`,children:ee})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ae?ae.toLocaleTimeString("en-IN"):"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:be?be.toLocaleTimeString("en-IN"):"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:H})]},K.id)}):i.jsx("tr",{children:i.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:[i.jsx(Xs,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"No attendance records found for this period."})]})})})]})})]})]}),C==="membership"&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[i.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 border-b",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[i.jsx(nm,{className:"w-5 h-5"}),i.jsx("span",{children:"Membership History"})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Complete payment and membership details"})]}),i.jsx("div",{className:"p-4 sm:p-6",children:d.length>0?i.jsx("div",{className:"space-y-6",children:d.map(K=>i.jsxs("div",{className:"border rounded-xl p-4 sm:p-6 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4",children:[i.jsx("div",{className:"mb-2 sm:mb-0",children:i.jsxs("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:[q(K.membershipStart)," - ",q(K.membershipEnd)]})}),i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${X(K.status)} self-start`,children:K.status})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(M6,{className:"w-4 h-4 text-blue-600"}),i.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Fee"})]}),i.jsx("p",{className:"text-xl font-bold text-blue-900",children:$(K.totalFee)})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(Hl,{className:"w-4 h-4 text-green-600"}),i.jsx("p",{className:"text-sm font-medium text-green-800",children:"Total Paid"})]}),i.jsx("p",{className:"text-xl font-bold text-green-900",children:$(K.amountPaid)})]}),i.jsxs("div",{className:`rounded-lg p-4 ${K.dueAmount>0?"bg-red-50":"bg-green-50"}`,children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(ci,{className:`w-4 h-4 ${K.dueAmount>0?"text-red-600":"text-green-600"}`}),i.jsx("p",{className:`text-sm font-medium ${K.dueAmount>0?"text-red-800":"text-green-800"}`,children:"Due Amount"})]}),i.jsx("p",{className:`text-xl font-bold ${K.dueAmount>0?"text-red-900":"text-green-900"}`,children:$(K.dueAmount)})]}),i.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(wx,{className:"w-4 h-4 text-purple-600"}),i.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Payment Status"})]}),i.jsx("p",{className:`text-sm font-semibold ${K.dueAmount>0?"text-red-600":"text-green-600"}`,children:K.dueAmount>0?"Pending":"Completed"})]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center space-x-2",children:[i.jsx(M6,{className:"w-4 h-4"}),i.jsx("span",{children:"Payment Breakdown"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Cash Payment"})]}),i.jsx("span",{className:"text-sm font-semibold text-gray-900",children:$(K.cash||0)})]}),i.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Online Payment"})]}),i.jsx("span",{className:"text-sm font-semibold text-gray-900",children:$(K.online||0)})]})]})]}),(K.remark||K.shift_id||K.seat_id)&&i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center space-x-2",children:[i.jsx(k5,{className:"w-4 h-4"}),i.jsx("span",{children:"Additional Details"})]}),i.jsxs("div",{className:"space-y-2",children:[K.shift_id&&i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 w-20",children:"Shift ID:"}),i.jsx("span",{className:"text-sm text-gray-900",children:K.shift_id})]}),K.seat_id&&i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 w-20",children:"Seat ID:"}),i.jsx("span",{className:"text-sm text-gray-900",children:K.seat_id})]}),K.remark&&i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start",children:[i.jsx("span",{className:"text-sm font-medium text-gray-500 w-20 flex-shrink-0",children:"Remark:"}),i.jsx("span",{className:"text-sm text-gray-900 mt-1 sm:mt-0",children:K.remark})]})]})]})]},K.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(nm,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{className:"text-gray-500",children:"No membership history found"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your membership records will appear here"})]})})]}),C==="transactions"&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[i.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[i.jsx(wx,{className:"w-5 h-5"}),i.jsx("span",{children:"Transaction History"})]})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.length>0?g.map(K=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q(K.date)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K.type.toLowerCase()==="payment"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:K.type})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:$(K.amount)})]},K.id)):i.jsx("tr",{children:i.jsxs("td",{colSpan:3,className:"px-6 py-12 text-center text-gray-500",children:[i.jsx(wx,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"No transactions found"})]})})})]})})]}),C==="announcements"&&i.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:i.jsx("div",{className:"p-6",children:i.jsx(Dge,{branchId:t==null?void 0:t.branchId})})}),C==="queries"&&i.jsx(fU,{})]}),a&&i.jsx(Rge,{isOpen:a,onScanSuccess:U,onClose:()=>o(!1)})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[i.jsx(zd,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Could not load profile"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page or contact support."}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})})},Uge=()=>{const e=Tr();return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-4xl w-full",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsxs("div",{className:"flex items-center justify-center mb-4",children:[i.jsx(FX,{className:"h-12 w-12 text-blue-600 mr-3"}),i.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Library Management System"})]}),i.jsx("p",{className:"text-xl text-gray-600",children:"Multi-tenant library management with attendance tracking"})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8 max-w-2xl mx-auto",children:[i.jsxs(Cn,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-blue-300",children:[i.jsxs(ya,{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-3",children:i.jsx(tc,{className:"h-12 w-12 text-blue-600"})}),i.jsx(wa,{className:"text-xl text-blue-700",children:"Library Owner / Staff"}),i.jsx(nc,{children:"Manage your library, students, attendance records, and staff operations"})]}),i.jsxs(ys,{className:"space-y-3",children:[i.jsx(Xt,{onClick:()=>e("/owner-login"),className:"w-full bg-blue-600 hover:bg-blue-700",children:"Owner Login"}),i.jsx(Xt,{onClick:()=>e("/owner-register"),variant:"outline",className:"w-full border-blue-600 text-blue-600 hover:bg-blue-50",children:"Register New Library"})]})]}),i.jsxs(Cn,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-green-300",children:[i.jsxs(ya,{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-3",children:i.jsx(g7,{className:"h-12 w-12 text-green-600"})}),i.jsx(wa,{className:"text-xl text-green-700",children:"Student"}),i.jsx(nc,{children:"View your profile and mark attendance"})]}),i.jsxs(ys,{className:"space-y-3",children:[i.jsx(Xt,{onClick:()=>e("/student-login"),className:"w-full bg-green-600 hover:bg-green-700",children:"Student Login"}),i.jsx("div",{className:"text-sm text-gray-500 text-center",children:"Use your library code and phone number"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4 text-center",children:"System Features"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-600",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-semibold text-blue-700",children:"For Library Owners & Staff:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"Register and manage your library"}),i.jsx("li",{children:"Add and manage students"}),i.jsx("li",{children:"Track student attendance"}),i.jsx("li",{children:"View detailed reports and statistics"}),i.jsx("li",{children:"Staff operations and locker management"}),i.jsx("li",{children:"Complete data isolation per library"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-semibold text-green-700",children:"For Students:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"Login with library code and phone"}),i.jsx("li",{children:"View personal profile and details"}),i.jsx("li",{children:"Mark daily attendance"}),i.jsx("li",{children:"View attendance history"}),i.jsx("li",{children:"Secure access to own data only"})]})]})]})]}),i.jsx("div",{className:"text-center mt-8 text-gray-500 text-sm",children:i.jsx("p",{children:"Multi-tenant library management system with secure data isolation"})})]})})},Qge=()=>{const e=Tr();hi();const[t,r]=N.useState(null),[n,s]=N.useState(!0);N.useEffect(()=>{a()},[]);const a=async()=>{try{r({id:1,library_code:"MSL001",name:"MAA SARASWATI LIBRARY"})}catch(l){console.error("Error loading library data:",l),Fe.error("Failed to load library information")}finally{s(!1)}},o=()=>{e("/")};return n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading barcode..."})]})}):t?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsx("div",{className:"flex items-center",children:i.jsxs("button",{onClick:o,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[i.jsx(Po,{className:"w-5 h-5 mr-2"}),"Back to Dashboard"]})}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Qc,{className:"w-6 h-6 text-purple-600 mr-2"}),i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Library Barcode"})]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-orange-400 px-6 py-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),i.jsxs("p",{className:"text-purple-100 mt-1",children:["Library Code: ",t.library_code]})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Student Attendance Barcode"}),i.jsx("p",{className:"text-gray-600",children:"Students can scan this barcode to mark their attendance automatically"})]}),i.jsx(ug,{libraryCode:t.library_code,libraryName:t.name,libraryId:t.id,isOpen:!0,onClose:()=>{}}),i.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Use This Barcode"}),i.jsxs("div",{className:"space-y-3 text-blue-800",children:[i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"1"}),i.jsx("p",{children:"Display this barcode prominently at your library entrance"})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"2"}),i.jsx("p",{children:"Students can scan it using their phone camera or the scanner in their student account"})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"3"}),i.jsx("p",{children:"Attendance will be marked automatically with in/out toggle functionality"})]}),i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"4"}),i.jsx("p",{children:"Only students registered with your library can mark attendance using this barcode"})]})]})]}),i.jsx("div",{className:"mt-6 bg-amber-50 border border-amber-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Qc,{className:"h-5 w-5 text-amber-400"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Security Notice"}),i.jsx("div",{className:"mt-2 text-sm text-amber-700",children:i.jsx("p",{children:"This barcode is unique to your library and contains your library code. Students from other libraries cannot use this barcode to mark attendance. Each scan is verified against the student's registered library."})})]})]})})]})]})})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Qc,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load library information"}),i.jsx("button",{onClick:o,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Go Back"})]})})},Hge=()=>i.jsx("div",{className:"flex justify-center items-center w-full h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}),Vge=({isAdmin:e,onAdd:t})=>i.jsxs("div",{className:"text-center bg-white rounded-xl shadow-sm border border-gray-200 p-12 mt-6",children:[i.jsx(u0,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Announcements Yet"}),i.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:e?"It's a bit quiet in here. Click 'New Announcement' to share updates with everyone.":"There are currently no announcements to display. Please check back later."}),e&&t&&i.jsxs("button",{onClick:t,className:"mt-6 flex items-center mx-auto space-x-2 bg-indigo-600 text-white px-5 py-2.5 rounded-lg hover:bg-indigo-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[i.jsx(Vw,{className:"h-5 w-5"}),i.jsx("span",{children:"Create First Announcement"})]})]}),U8=({isAdmin:e=!1,branchId:t,onEdit:r,onAdd:n})=>{const[s,a]=N.useState([]),[o,l]=N.useState(!0),[A,d]=N.useState(null),f=async()=>{try{l(!0);const g=t&&!e?{branch_id:t}:{},C=(await Ue.getAnnouncements(g)).map(F=>({id:F.id,title:F.title,content:F.content,branchId:F.branchId??F.branch_id??null,branchName:F.branchName??F.branch_name??null,isGlobal:F.isGlobal??F.is_global??!1,startDate:F.startDate??F.start_date??null,endDate:F.endDate??F.end_date??null,createdBy:F.createdBy??F.created_by??0,createdByName:F.createdByName??F.created_by_name??"",createdAt:F.createdAt??F.created_at??new Date().toISOString(),updatedAt:F.updatedAt??F.updated_at??new Date().toISOString(),isActive:F.isActive??F.is_active??!0}));a(C.sort((F,v)=>new Date(v.createdAt).getTime()-new Date(F.createdAt).getTime()))}catch(g){console.error("Error fetching announcements:",g),Fe.error("Failed to load announcements. Please try again.")}finally{l(!1)}},m=async g=>{d(g);try{await Ue.deleteAnnouncement(g),Fe.success("Announcement deleted successfully"),a(b=>b.filter(C=>C.id!==g))}catch(b){console.error("Error deleting announcement:",b),Fe.error("Failed to delete announcement.")}finally{d(null)}};N.useEffect(()=>{f()},[t]);const y=g=>g?new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):null;return o?i.jsx(Hge,{}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:e?"Manage Announcements":"Latest Updates"}),i.jsx("p",{className:"mt-1 text-md text-gray-500",children:"View, create, and manage all company-wide and branch-specific announcements."})]}),e&&n&&i.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[i.jsx(Vw,{className:"h-5 w-5"}),i.jsx("span",{className:"hidden sm:block",children:"New Announcement"})]})]}),s.length===0?i.jsx(Vge,{isAdmin:e,onAdd:n}):i.jsx("div",{className:"space-y-4",children:s.map(g=>i.jsxs("div",{className:`bg-white border rounded-xl shadow-sm transition-all duration-300 hover:shadow-lg hover:-translate-y-1 overflow-hidden ${g.isActive?"border-gray-200":"opacity-60 bg-gray-50"}`,children:[i.jsxs("div",{className:"p-5 border-b border-gray-200 flex justify-between items-start gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800",children:g.title}),!g.isActive&&i.jsx("span",{className:"text-xs font-medium bg-gray-200 text-gray-700 px-2 py-0.5 rounded-full mt-2 inline-block",children:"Inactive"})]}),e&&i.jsxs("div",{className:"flex space-x-1 flex-shrink-0",children:[i.jsx("button",{onClick:()=>r&&r(g),className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-md transition-colors",title:"Edit announcement",children:i.jsx(IN,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>m(g.id),disabled:A===g.id,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-md transition-colors disabled:opacity-50",title:"Delete announcement",children:A===g.id?i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-red-600"}):i.jsx(Oo,{className:"h-5 w-5"})})]})]}),i.jsx("div",{className:"p-5 text-gray-600 text-base leading-relaxed whitespace-pre-wrap",children:g.content}),i.jsxs("div",{className:"px-5 py-4 bg-gray-50/70 border-t border-gray-200 flex flex-wrap items-center gap-x-6 gap-y-3 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center space-x-2",title:"Author",children:[i.jsx(So,{className:"h-4 w-4"}),i.jsx("span",{children:g.createdByName})]}),i.jsxs("div",{className:"flex items-center space-x-2",title:`Published on ${y(g.createdAt)}`,children:[i.jsx(ko,{className:"h-4 w-4"}),i.jsx("span",{children:y(g.createdAt)})]}),i.jsxs("div",{className:"flex items-center space-x-2",title:g.isGlobal?"Global Announcement":`Branch: ${g.branchName||"Unknown"}`,children:[g.isGlobal?i.jsx(NN,{className:"h-4 w-4 text-blue-500"}):i.jsx(I0,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{children:g.isGlobal?"Global":g.branchName?`Branch: ${g.branchName}`:"Branch Specific"})]}),(g.startDate||g.endDate)&&i.jsxs("div",{className:"flex items-center space-x-2",title:"Active Dates",children:[i.jsx(Xs,{className:"h-4 w-4 text-orange-500"}),i.jsxs("span",{children:[y(g.startDate)," - ",y(g.endDate)||"Ongoing"]})]})]})]},g.id))})]})};var Kge=Object.defineProperty,Gge=(e,t,r)=>t in e?Kge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zb=(e,t,r)=>(Gge(e,typeof t!="symbol"?t+"":t,r),r);let Wge=class{constructor(){Zb(this,"current",this.detect()),Zb(this,"handoffState","pending"),Zb(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Xl=new Wge;function S2(e){var t,r;return Xl.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function E2(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function dA(){let e=[],t={addEventListener(r,n,s,a){return r.addEventListener(n,s,a),t.add(()=>r.removeEventListener(n,s,a))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return E2(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let a=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:a})})},group(r){let n=dA();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function rS(){let[e]=N.useState(dA);return N.useEffect(()=>()=>e.dispose(),[e]),e}let Ga=(e,t)=>{Xl.isServer?N.useEffect(e,t):N.useLayoutEffect(e,t)};function Eh(e){let t=N.useRef(e);return Ga(()=>{t.current=e},[e]),t}let Nn=function(e){let t=Eh(e);return Ye.useCallback((...r)=>t.current(...r),[t])},zge=N.createContext(void 0);function $ge(){return N.useContext(zge)}function eB(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function nA(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nA),n}var rw=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(rw||{}),fu=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(fu||{});function Ro(){let e=Xge();return N.useCallback(t=>qge({mergeRefs:e,...t}),[e])}function qge({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:a=!0,name:o,mergeRefs:l}){l=l??Yge;let A=mU(t,e);if(a)return Z1(A,r,n,o,l);let d=s??0;if(d&2){let{static:f=!1,...m}=A;if(f)return Z1(m,r,n,o,l)}if(d&1){let{unmount:f=!0,...m}=A;return nA(f?0:1,{0(){return null},1(){return Z1({...m,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return Z1(A,r,n,o,l)}function Z1(e,t={},r,n,s){let{as:a=r,children:o,refName:l="ref",...A}=eC(e,["unmount","static"]),d=e.ref!==void 0?{[l]:e.ref}:{},f=typeof o=="function"?o(t):o;"className"in A&&A.className&&typeof A.className=="function"&&(A.className=A.className(t)),A["aria-labelledby"]&&A["aria-labelledby"]===A.id&&(A["aria-labelledby"]=void 0);let m={};if(t){let y=!1,g=[];for(let[b,C]of Object.entries(t))typeof C=="boolean"&&(y=!0),C===!0&&g.push(b.replace(/([A-Z])/g,F=>`-${F.toLowerCase()}`));if(y){m["data-headlessui-state"]=g.join(" ");for(let b of g)m[`data-${b}`]=""}}if(a===N.Fragment&&(Object.keys(Cd(A)).length>0||Object.keys(Cd(m)).length>0))if(!N.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Cd(A)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Cd(A)).concat(Object.keys(Cd(m))).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`))}else{let y=f.props,g=y==null?void 0:y.className,b=typeof g=="function"?(...v)=>eB(g(...v),A.className):eB(g,A.className),C=b?{className:b}:{},F=mU(f.props,Cd(eC(A,["ref"])));for(let v in m)v in F&&delete m[v];return N.cloneElement(f,Object.assign({},F,m,d,{ref:s(Jge(f),d.ref)},C))}return N.createElement(a,Object.assign({},eC(A,["ref"]),a!==N.Fragment&&d,a!==N.Fragment&&m),f)}function Xge(){let e=N.useRef([]),t=N.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function Yge(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function mU(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[s=>{var a;return(a=s==null?void 0:s.preventDefault)==null?void 0:a.call(s)}]);for(let n in r)Object.assign(t,{[n](s,...a){let o=r[n];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...a)}}});return t}function _i(e){var t;return Object.assign(N.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Cd(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function eC(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function Jge(e){return Ye.version.split(".")[0]>="19"?e.props.ref:e.ref}let Zge="span";var nw=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(nw||{});function e1e(e,t){var r;let{features:n=1,...s}=e,a={ref:t,"aria-hidden":(n&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Ro()({ourProps:a,theirProps:s,slot:{},defaultTag:Zge,name:"Hidden"})}let tB=_i(e1e);function pU(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Iu(e){return pU(e)&&"tagName"in e}function yh(e){return Iu(e)&&"accessKey"in e}function mu(e){return Iu(e)&&"tabIndex"in e}function t1e(e){return Iu(e)&&"style"in e}function r1e(e){return yh(e)&&e.nodeName==="IFRAME"}function n1e(e){return yh(e)&&e.nodeName==="INPUT"}let gU=Symbol();function s1e(e,t=!0){return Object.assign(e,{[gU]:t})}function uc(...e){let t=N.useRef(e);N.useEffect(()=>{t.current=e},[e]);let r=Nn(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||(n==null?void 0:n[gU]))?void 0:r}let nS=N.createContext(null);nS.displayName="DescriptionContext";function xU(){let e=N.useContext(nS);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,xU),t}return e}function a1e(){let[e,t]=N.useState([]);return[e.length>0?e.join(" "):void 0,N.useMemo(()=>function(r){let n=Nn(a=>(t(o=>[...o,a]),()=>t(o=>{let l=o.slice(),A=l.indexOf(a);return A!==-1&&l.splice(A,1),l}))),s=N.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Ye.createElement(nS.Provider,{value:s},r.children)},[t])]}let i1e="p";function o1e(e,t){let r=N.useId(),n=$ge(),{id:s=`headlessui-description-${r}`,...a}=e,o=xU(),l=uc(t);Ga(()=>o.register(s),[s,o.register]);let A=n||!1,d=N.useMemo(()=>({...o.slot,disabled:A}),[o.slot,A]),f={ref:l,...o.props,id:s};return Ro()({ourProps:f,theirProps:a,slot:d,defaultTag:i1e,name:o.name||"Description"})}let l1e=_i(o1e),c1e=Object.assign(l1e,{});var yU=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(yU||{});let A1e=N.createContext(()=>{});function u1e({value:e,children:t}){return Ye.createElement(A1e.Provider,{value:e},t)}let wU=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var d1e=Object.defineProperty,h1e=(e,t,r)=>t in e?d1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f1e=(e,t,r)=>(h1e(e,t+"",r),r),vU=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},xo=(e,t,r)=>(vU(e,t,"read from private field"),r?r.call(e):t.get(e)),tC=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Q8=(e,t,r,n)=>(vU(e,t,"write to private field"),t.set(e,r),r),Il,Lm,km;let m1e=class{constructor(t){tC(this,Il,{}),tC(this,Lm,new wU(()=>new Set)),tC(this,km,new Set),f1e(this,"disposables",dA()),Q8(this,Il,t),Xl.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return xo(this,Il)}subscribe(t,r){if(Xl.isServer)return()=>{};let n={selector:t,callback:r,current:t(xo(this,Il))};return xo(this,km).add(n),this.disposables.add(()=>{xo(this,km).delete(n)})}on(t,r){return Xl.isServer?()=>{}:(xo(this,Lm).get(t).add(r),this.disposables.add(()=>{xo(this,Lm).get(t).delete(r)}))}send(t){let r=this.reduce(xo(this,Il),t);if(r!==xo(this,Il)){Q8(this,Il,r);for(let n of xo(this,km)){let s=n.selector(xo(this,Il));bU(n.current,s)||(n.current=s,n.callback(s))}for(let n of xo(this,Lm).get(t.type))n(xo(this,Il),t)}}};Il=new WeakMap,Lm=new WeakMap,km=new WeakMap;function bU(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:rC(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:rC(e.entries(),t.entries()):H8(e)&&H8(t)?rC(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function rC(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function H8(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var p1e=Object.defineProperty,g1e=(e,t,r)=>t in e?p1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,V8=(e,t,r)=>(g1e(e,typeof t!="symbol"?t+"":t,r),r),x1e=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(x1e||{});let y1e={0(e,t){let r=t.id,n=e.stack,s=e.stack.indexOf(r);if(s!==-1){let a=e.stack.slice();return a.splice(s,1),a.push(r),n=a,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let s=e.stack.slice();return s.splice(n,1),{...e,stack:s}}},w1e=class CU extends m1e{constructor(){super(...arguments),V8(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),V8(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new CU({stack:[]})}reduce(t,r){return nA(r.type,y1e,t,r)}};const BU=new wU(()=>w1e.new());var NU={exports:{}},SU={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg=N;function v1e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var b1e=typeof Object.is=="function"?Object.is:v1e,C1e=Cg.useSyncExternalStore,B1e=Cg.useRef,N1e=Cg.useEffect,S1e=Cg.useMemo,E1e=Cg.useDebugValue;SU.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var a=B1e(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=S1e(function(){function A(g){if(!d){if(d=!0,f=g,g=n(g),s!==void 0&&o.hasValue){var b=o.value;if(s(b,g))return m=b}return m=g}if(b=m,b1e(f,g))return b;var C=n(g);return s!==void 0&&s(b,C)?(f=g,b):(f=g,m=C)}var d=!1,f,m,y=r===void 0?null:r;return[function(){return A(t())},y===null?void 0:function(){return A(y())}]},[t,r,n,s]);var l=C1e(e,a[0],a[1]);return N1e(function(){o.hasValue=!0,o.value=l},[l]),E1e(l),l};NU.exports=SU;var F1e=NU.exports;function EU(e,t,r=bU){return F1e.useSyncExternalStoreWithSelector(Nn(n=>e.subscribe(I1e,n)),Nn(()=>e.state),Nn(()=>e.state),Nn(t),r)}function I1e(e){return e}function Bg(e,t){let r=N.useId(),n=BU.get(t),[s,a]=EU(n,N.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return Ga(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?a?s:!0:!1}let rB=new Map,sp=new Map;function K8(e){var t;let r=(t=sp.get(e))!=null?t:0;return sp.set(e,r+1),r!==0?()=>G8(e):(rB.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>G8(e))}function G8(e){var t;let r=(t=sp.get(e))!=null?t:1;if(r===1?sp.delete(e):sp.set(e,r-1),r!==1)return;let n=rB.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,rB.delete(e))}function j1e(e,{allowed:t,disallowed:r}={}){let n=Bg(e,"inert-others");Ga(()=>{var s,a;if(!n)return;let o=dA();for(let A of(s=r==null?void 0:r())!=null?s:[])A&&o.add(K8(A));let l=(a=t==null?void 0:t())!=null?a:[];for(let A of l){if(!A)continue;let d=S2(A);if(!d)continue;let f=A.parentElement;for(;f&&f!==d.body;){for(let m of f.children)l.some(y=>m.contains(y))||o.add(K8(m));f=f.parentElement}}return o.dispose},[n,t,r])}function T1e(e,t,r){let n=Eh(s=>{let a=s.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&r()});N.useEffect(()=>{if(!e)return;let s=t===null?null:yh(t)?t:t.current;if(!s)return;let a=dA();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(s));o.observe(s),a.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(s));o.observe(s),a.add(()=>o.disconnect())}return()=>a.dispose()},[t,n,e])}let sw=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),L1e=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Pc=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Pc||{}),nB=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(nB||{}),k1e=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(k1e||{});function P1e(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(sw)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function O1e(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(L1e)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var FU=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(FU||{});function R1e(e,t=0){var r;return e===((r=S2(e))==null?void 0:r.body)?!1:nA(t,{0(){return e.matches(sw)},1(){let n=e;for(;n!==null;){if(n.matches(sw))return!0;n=n.parentElement}return!1}})}var D1e=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(D1e||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Kc(e){e==null||e.focus({preventScroll:!0})}let _1e=["textarea","input"].join(",");function M1e(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,_1e))!=null?r:!1}function U1e(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),a=t(n);if(s===null||a===null)return 0;let o=s.compareDocumentPosition(a);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ap(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?U1e(e):e:t&64?O1e(e):P1e(e);s.length>0&&o.length>1&&(o=o.filter(g=>!s.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===g:b===g))),n=n??a.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),A=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},f=0,m=o.length,y;do{if(f>=m||f+m<=0)return 0;let g=A+f;if(t&16)g=(g+m)%m;else{if(g<0)return 3;if(g>=m)return 1}y=o[g],y==null||y.focus(d),f+=l}while(y!==a.activeElement);return t&6&&M1e(y)&&y.select(),2}function IU(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Q1e(){return/Android/gi.test(window.navigator.userAgent)}function W8(){return IU()||Q1e()}function ex(e,t,r,n){let s=Eh(r);N.useEffect(()=>{if(!e)return;function a(o){s.current(o)}return document.addEventListener(t,a,n),()=>document.removeEventListener(t,a,n)},[e,t,n])}function jU(e,t,r,n){let s=Eh(r);N.useEffect(()=>{if(!e)return;function a(o){s.current(o)}return window.addEventListener(t,a,n),()=>window.removeEventListener(t,a,n)},[e,t,n])}const z8=30;function H1e(e,t,r){let n=Eh(r),s=N.useCallback(function(l,A){if(l.defaultPrevented)return;let d=A(l);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=function m(y){return typeof y=="function"?m(y()):Array.isArray(y)||y instanceof Set?y:[y]}(t);for(let m of f)if(m!==null&&(m.contains(d)||l.composed&&l.composedPath().includes(m)))return;return!R1e(d,FU.Loose)&&d.tabIndex!==-1&&l.preventDefault(),n.current(l,d)},[n,t]),a=N.useRef(null);ex(e,"pointerdown",l=>{var A,d;W8()||(a.current=((d=(A=l.composedPath)==null?void 0:A.call(l))==null?void 0:d[0])||l.target)},!0),ex(e,"pointerup",l=>{if(W8()||!a.current)return;let A=a.current;return a.current=null,s(l,()=>A)},!0);let o=N.useRef({x:0,y:0});ex(e,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),ex(e,"touchend",l=>{let A={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(A.x-o.current.x)>=z8||Math.abs(A.y-o.current.y)>=z8))return s(l,()=>mu(l.target)?l.target:null)},!0),jU(e,"blur",l=>s(l,()=>r1e(window.document.activeElement)?window.document.activeElement:null),!0)}function F2(...e){return N.useMemo(()=>S2(...e),[...e])}function TU(e,t,r,n){let s=Eh(r);N.useEffect(()=>{e=e??window;function a(o){s.current(o)}return e.addEventListener(t,a,n),()=>e.removeEventListener(t,a,n)},[e,t,n])}function V1e(e){return N.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function K1e(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...a){let o=t[s].call(r,...a);o&&(r=o,n.forEach(l=>l()))}}}function G1e(){let e;return{before({doc:t}){var r;let n=t.documentElement,s=(r=t.defaultView)!=null?r:window;e=Math.max(0,s.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,s=Math.max(0,n.clientWidth-n.offsetWidth),a=Math.max(0,e-s);r.style(n,"paddingRight",`${a}px`)}}}function W1e(){return IU()?{before({doc:e,d:t,meta:r}){function n(s){return r.containers.flatMap(a=>a()).some(a=>a.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=dA();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let a=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(mu(l.target))try{let A=l.target.closest("a");if(!A)return;let{hash:d}=new URL(A.href),f=e.querySelector(d);mu(f)&&!n(f)&&(o=f)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(mu(l.target)&&t1e(l.target))if(n(l.target)){let A=l.target;for(;A.parentElement&&n(A.parentElement);)A=A.parentElement;t.style(A,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(mu(l.target)){if(n1e(l.target))return;if(n(l.target)){let A=l.target;for(;A.parentElement&&A.dataset.headlessuiPortal!==""&&!(A.scrollHeight>A.clientHeight||A.scrollWidth>A.clientWidth);)A=A.parentElement;A.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let A=(l=window.scrollY)!=null?l:window.pageYOffset;a!==A&&window.scrollTo(0,a),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function z1e(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function $1e(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Od=K1e(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:dA(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:$1e(r)},s=[W1e(),G1e(),z1e()];s.forEach(({before:a})=>a==null?void 0:a(n)),s.forEach(({after:a})=>a==null?void 0:a(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Od.subscribe(()=>{let e=Od.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&Od.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Od.dispatch("TEARDOWN",r)}});function q1e(e,t,r=()=>({containers:[]})){let n=V1e(Od),s=t?n.get(t):void 0,a=s?s.count>0:!1;return Ga(()=>{if(!(!t||!e))return Od.dispatch("PUSH",t,r),()=>Od.dispatch("POP",t,r)},[e,t]),a}function X1e(e,t,r=()=>[document.body]){let n=Bg(e,"scroll-lock");q1e(n,t,s=>{var a;return{containers:[...(a=s.containers)!=null?a:[],r]}})}function Y1e(e=0){let[t,r]=N.useState(e),n=N.useCallback(A=>r(A),[t]),s=N.useCallback(A=>r(d=>d|A),[t]),a=N.useCallback(A=>(t&A)===A,[t]),o=N.useCallback(A=>r(d=>d&~A),[r]),l=N.useCallback(A=>r(d=>d^A),[r]);return{flags:t,setFlag:n,addFlag:s,hasFlag:a,removeFlag:o,toggleFlag:l}}var J1e={},$8,q8;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&(($8=process==null?void 0:J1e)==null?void 0:$8.NODE_ENV)==="test"&&typeof((q8=Element==null?void 0:Element.prototype)==null?void 0:q8.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Z1e=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Z1e||{});function exe(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function txe(e,t,r,n){let[s,a]=N.useState(r),{hasFlag:o,addFlag:l,removeFlag:A}=Y1e(e&&s?3:0),d=N.useRef(!1),f=N.useRef(!1),m=rS();return Ga(()=>{var y;if(e){if(r&&a(!0),!t){r&&l(3);return}return(y=n==null?void 0:n.start)==null||y.call(n,r),rxe(t,{inFlight:d,prepare(){f.current?f.current=!1:f.current=d.current,d.current=!0,!f.current&&(r?(l(3),A(4)):(l(4),A(2)))},run(){f.current?r?(A(3),l(4)):(A(4),l(3)):r?A(1):l(1)},done(){var g;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(d.current=!1,A(7),r||a(!1),(g=n==null?void 0:n.end)==null||g.call(n,r))}})}},[e,r,t,m]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function rxe(e,{prepare:t,run:r,done:n,inFlight:s}){let a=dA();return sxe(e,{prepare:t,inFlight:s}),a.nextFrame(()=>{r(),a.requestAnimationFrame(()=>{a.add(nxe(e,n))})}),a.dispose}function nxe(e,t){var r,n;let s=dA();if(!e)return s.dispose;let a=!1;s.add(()=>{a=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(l=>l instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{a||t()}),s.dispose)}function sxe(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function sS(e,t){let r=N.useRef([]),n=Nn(e);N.useEffect(()=>{let s=[...r.current];for(let[a,o]of t.entries())if(r.current[a]!==o){let l=n(t,s);return r.current=t,l}},[n,...t])}let I2=N.createContext(null);I2.displayName="OpenClosedContext";var nl=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(nl||{});function j2(){return N.useContext(I2)}function axe({value:e,children:t}){return Ye.createElement(I2.Provider,{value:e},t)}function ixe({children:e}){return Ye.createElement(I2.Provider,{value:null},e)}function oxe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let XA=[];oxe(()=>{function e(t){if(!mu(t.target)||t.target===document.body||XA[0]===t.target)return;let r=t.target;r=r.closest(sw),XA.unshift(r??t.target),XA=XA.filter(n=>n!=null&&n.isConnected),XA.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function LU(e){let t=Nn(e),r=N.useRef(!1);N.useEffect(()=>(r.current=!1,()=>{r.current=!0,E2(()=>{r.current&&t()})}),[t])}function lxe(){let e=typeof document>"u";return"useSyncExternalStore"in Zf?(t=>t.useSyncExternalStore)(Zf)(()=>()=>{},()=>!1,()=>!e):!1}function Ng(){let e=lxe(),[t,r]=N.useState(Xl.isHandoffComplete);return t&&Xl.isHandoffComplete===!1&&r(!1),N.useEffect(()=>{t!==!0&&r(!0)},[t]),N.useEffect(()=>Xl.handoff(),[]),e?!1:t}let kU=N.createContext(!1);function cxe(){return N.useContext(kU)}function X8(e){return Ye.createElement(kU.Provider,{value:e.force},e.children)}function Axe(e){let t=cxe(),r=N.useContext(OU),[n,s]=N.useState(()=>{var a;if(!t&&r!==null)return(a=r.current)!=null?a:null;if(Xl.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return N.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),N.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),n}let PU=N.Fragment,uxe=_i(function(e,t){let{ownerDocument:r=null,...n}=e,s=N.useRef(null),a=uc(s1e(g=>{s.current=g}),t),o=F2(s),l=r??o,A=Axe(l),[d]=N.useState(()=>{var g;return Xl.isServer?null:(g=l==null?void 0:l.createElement("div"))!=null?g:null}),f=N.useContext(sB),m=Ng();Ga(()=>{!A||!d||A.contains(d)||(d.setAttribute("data-headlessui-portal",""),A.appendChild(d))},[A,d]),Ga(()=>{if(d&&f)return f.register(d)},[f,d]),LU(()=>{var g;!A||!d||(pU(d)&&A.contains(d)&&A.removeChild(d),A.childNodes.length<=0&&((g=A.parentElement)==null||g.removeChild(A)))});let y=Ro();return m?!A||!d?null:Wu.createPortal(y({ourProps:{ref:a},theirProps:n,slot:{},defaultTag:PU,name:"Portal"}),d):null});function dxe(e,t){let r=uc(t),{enabled:n=!0,ownerDocument:s,...a}=e,o=Ro();return n?Ye.createElement(uxe,{...a,ownerDocument:s,ref:r}):o({ourProps:{ref:r},theirProps:a,slot:{},defaultTag:PU,name:"Portal"})}let hxe=N.Fragment,OU=N.createContext(null);function fxe(e,t){let{target:r,...n}=e,s={ref:uc(t)},a=Ro();return Ye.createElement(OU.Provider,{value:r},a({ourProps:s,theirProps:n,defaultTag:hxe,name:"Popover.Group"}))}let sB=N.createContext(null);function mxe(){let e=N.useContext(sB),t=N.useRef([]),r=Nn(a=>(t.current.push(a),e&&e.register(a),()=>n(a))),n=Nn(a=>{let o=t.current.indexOf(a);o!==-1&&t.current.splice(o,1),e&&e.unregister(a)}),s=N.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,N.useMemo(()=>function({children:a}){return Ye.createElement(sB.Provider,{value:s},a)},[s])]}let pxe=_i(dxe),RU=_i(fxe),gxe=Object.assign(pxe,{Group:RU});function xxe(e,t=typeof document<"u"?document.defaultView:null,r){let n=Bg(e,"escape");TU(t,"keydown",s=>{n&&(s.defaultPrevented||s.key===yU.Escape&&r(s))})}function yxe(){var e;let[t]=N.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=N.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Ga(()=>{if(!t)return;function s(a){n(a.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),r}function wxe({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=F2(r),s=Nn(()=>{var a,o;let l=[];for(let A of e)A!==null&&(Iu(A)?l.push(A):"current"in A&&Iu(A.current)&&l.push(A.current));if(t!=null&&t.current)for(let A of t.current)l.push(A);for(let A of(a=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?a:[])A!==document.body&&A!==document.head&&Iu(A)&&A.id!=="headlessui-portal-root"&&(r&&(A.contains(r)||A.contains((o=r==null?void 0:r.getRootNode())==null?void 0:o.host))||l.some(d=>A.contains(d))||l.push(A));return l});return{resolveContainers:s,contains:Nn(a=>s().some(o=>o.contains(a)))}}let DU=N.createContext(null);function Y8({children:e,node:t}){let[r,n]=N.useState(null),s=_U(t??r);return Ye.createElement(DU.Provider,{value:s},e,s===null&&Ye.createElement(tB,{features:nw.Hidden,ref:a=>{var o,l;if(a){for(let A of(l=(o=S2(a))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(A!==document.body&&A!==document.head&&Iu(A)&&A!=null&&A.contains(a)){n(A);break}}}}))}function _U(e=null){var t;return(t=N.useContext(DU))!=null?t:e}function aS(){let e=N.useRef(!1);return Ga(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Pm=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Pm||{});function vxe(){let e=N.useRef(0);return jU(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function MU(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Iu(r.current)&&t.add(r.current);return t}let bxe="div";var Sd=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Sd||{});function Cxe(e,t){let r=N.useRef(null),n=uc(r,t),{initialFocus:s,initialFocusFallback:a,containers:o,features:l=15,...A}=e;Ng()||(l=0);let d=F2(r);Exe(l,{ownerDocument:d});let f=Fxe(l,{ownerDocument:d,container:r,initialFocus:s,initialFocusFallback:a});Ixe(l,{ownerDocument:d,container:r,containers:o,previousActiveElement:f});let m=vxe(),y=Nn(S=>{if(!yh(r.current))return;let I=r.current;(k=>k())(()=>{nA(m.current,{[Pm.Forwards]:()=>{ap(I,Pc.First,{skipElements:[S.relatedTarget,a]})},[Pm.Backwards]:()=>{ap(I,Pc.Last,{skipElements:[S.relatedTarget,a]})}})})}),g=Bg(!!(l&2),"focus-trap#tab-lock"),b=rS(),C=N.useRef(!1),F={ref:n,onKeyDown(S){S.key=="Tab"&&(C.current=!0,b.requestAnimationFrame(()=>{C.current=!1}))},onBlur(S){if(!(l&4))return;let I=MU(o);yh(r.current)&&I.add(r.current);let k=S.relatedTarget;mu(k)&&k.dataset.headlessuiFocusGuard!=="true"&&(UU(I,k)||(C.current?ap(r.current,nA(m.current,{[Pm.Forwards]:()=>Pc.Next,[Pm.Backwards]:()=>Pc.Previous})|Pc.WrapAround,{relativeTo:S.target}):mu(S.target)&&Kc(S.target)))}},v=Ro();return Ye.createElement(Ye.Fragment,null,g&&Ye.createElement(tB,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:nw.Focusable}),v({ourProps:F,theirProps:A,defaultTag:bxe,name:"FocusTrap"}),g&&Ye.createElement(tB,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:nw.Focusable}))}let Bxe=_i(Cxe),Nxe=Object.assign(Bxe,{features:Sd});function Sxe(e=!0){let t=N.useRef(XA.slice());return sS(([r],[n])=>{n===!0&&r===!1&&E2(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=XA.slice())},[e,XA,t]),Nn(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Exe(e,{ownerDocument:t}){let r=!!(e&8),n=Sxe(r);sS(()=>{r||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Kc(n())},[r]),LU(()=>{r&&Kc(n())})}function Fxe(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:s}){let a=N.useRef(null),o=Bg(!!(e&1),"focus-trap#initial-focus"),l=aS();return sS(()=>{if(e===0)return;if(!o){s!=null&&s.current&&Kc(s.current);return}let A=r.current;A&&E2(()=>{if(!l.current)return;let d=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===d){a.current=d;return}}else if(A.contains(d)){a.current=d;return}if(n!=null&&n.current)Kc(n.current);else{if(e&16){if(ap(A,Pc.First|Pc.AutoFocus)!==nB.Error)return}else if(ap(A,Pc.First)!==nB.Error)return;if(s!=null&&s.current&&(Kc(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=t==null?void 0:t.activeElement})},[s,o,e]),a}function Ixe(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:s}){let a=aS(),o=!!(e&4);TU(t==null?void 0:t.defaultView,"focus",l=>{if(!o||!a.current)return;let A=MU(n);yh(r.current)&&A.add(r.current);let d=s.current;if(!d)return;let f=l.target;yh(f)?UU(A,f)?(s.current=f,Kc(f)):(l.preventDefault(),l.stopPropagation(),Kc(d)):Kc(s.current)},!0)}function UU(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function QU(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:VU)!==N.Fragment||Ye.Children.count(e.children)===1}let T2=N.createContext(null);T2.displayName="TransitionContext";var jxe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(jxe||{});function Txe(){let e=N.useContext(T2);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Lxe(){let e=N.useContext(L2);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let L2=N.createContext(null);L2.displayName="NestingContext";function k2(e){return"children"in e?k2(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function HU(e,t){let r=Eh(e),n=N.useRef([]),s=aS(),a=rS(),o=Nn((g,b=fu.Hidden)=>{let C=n.current.findIndex(({el:F})=>F===g);C!==-1&&(nA(b,{[fu.Unmount](){n.current.splice(C,1)},[fu.Hidden](){n.current[C].state="hidden"}}),a.microTask(()=>{var F;!k2(n)&&s.current&&((F=r.current)==null||F.call(r))}))}),l=Nn(g=>{let b=n.current.find(({el:C})=>C===g);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:g,state:"visible"}),()=>o(g,fu.Unmount)}),A=N.useRef([]),d=N.useRef(Promise.resolve()),f=N.useRef({enter:[],leave:[]}),m=Nn((g,b,C)=>{A.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([F])=>F!==g)),t==null||t.chains.current[b].push([g,new Promise(F=>{A.current.push(F)})]),t==null||t.chains.current[b].push([g,new Promise(F=>{Promise.all(f.current[b].map(([v,S])=>S)).then(()=>F())})]),b==="enter"?d.current=d.current.then(()=>t==null?void 0:t.wait.current).then(()=>C(b)):C(b)}),y=Nn((g,b,C)=>{Promise.all(f.current[b].splice(0).map(([F,v])=>v)).then(()=>{var F;(F=A.current.shift())==null||F()}).then(()=>C(b))});return N.useMemo(()=>({children:n,register:l,unregister:o,onStart:m,onStop:y,wait:d,chains:f}),[l,o,n,m,y,f,d])}let VU=N.Fragment,KU=rw.RenderStrategy;function kxe(e,t){var r,n;let{transition:s=!0,beforeEnter:a,afterEnter:o,beforeLeave:l,afterLeave:A,enter:d,enterFrom:f,enterTo:m,entered:y,leave:g,leaveFrom:b,leaveTo:C,...F}=e,[v,S]=N.useState(null),I=N.useRef(null),k=QU(e),M=uc(...k?[I,t,S]:t===null?[]:[t]),V=(r=F.unmount)==null||r?fu.Unmount:fu.Hidden,{show:O,appear:R,initial:_}=Txe(),[J,U]=N.useState(O?"visible":"hidden"),Q=Lxe(),{register:X,unregister:Z}=Q;Ga(()=>X(I),[X,I]),Ga(()=>{if(V===fu.Hidden&&I.current){if(O&&J!=="visible"){U("visible");return}return nA(J,{hidden:()=>Z(I),visible:()=>X(I)})}},[J,I,X,Z,O,V]);let $=Ng();Ga(()=>{if(k&&$&&J==="visible"&&I.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[I,J,$,k]);let q=_&&!R,W=R&&O&&_,Y=N.useRef(!1),K=HU(()=>{Y.current||(U("hidden"),Z(I))},Q),ae=Nn(me=>{Y.current=!0;let we=me?"enter":"leave";K.onStart(I,we,Ie=>{Ie==="enter"?a==null||a():Ie==="leave"&&(l==null||l())})}),be=Nn(me=>{let we=me?"enter":"leave";Y.current=!1,K.onStop(I,we,Ie=>{Ie==="enter"?o==null||o():Ie==="leave"&&(A==null||A())}),we==="leave"&&!k2(K)&&(U("hidden"),Z(I))});N.useEffect(()=>{k&&s||(ae(O),be(O))},[O,k,s]);let H=!(!s||!k||!$||q),[,ee]=txe(H,v,O,{start:ae,end:be}),ie=Cd({ref:M,className:((n=eB(F.className,W&&d,W&&f,ee.enter&&d,ee.enter&&ee.closed&&f,ee.enter&&!ee.closed&&m,ee.leave&&g,ee.leave&&!ee.closed&&b,ee.leave&&ee.closed&&C,!ee.transition&&O&&y))==null?void 0:n.trim())||void 0,...exe(ee)}),le=0;J==="visible"&&(le|=nl.Open),J==="hidden"&&(le|=nl.Closed),O&&J==="hidden"&&(le|=nl.Opening),!O&&J==="visible"&&(le|=nl.Closing);let ce=Ro();return Ye.createElement(L2.Provider,{value:K},Ye.createElement(axe,{value:le},ce({ourProps:ie,theirProps:F,defaultTag:VU,features:KU,visible:J==="visible",name:"Transition.Child"})))}function Pxe(e,t){let{show:r,appear:n=!1,unmount:s=!0,...a}=e,o=N.useRef(null),l=QU(e),A=uc(...l?[o,t]:t===null?[]:[t]);Ng();let d=j2();if(r===void 0&&d!==null&&(r=(d&nl.Open)===nl.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,m]=N.useState(r?"visible":"hidden"),y=HU(()=>{r||m("hidden")}),[g,b]=N.useState(!0),C=N.useRef([r]);Ga(()=>{g!==!1&&C.current[C.current.length-1]!==r&&(C.current.push(r),b(!1))},[C,r]);let F=N.useMemo(()=>({show:r,appear:n,initial:g}),[r,n,g]);Ga(()=>{r?m("visible"):!k2(y)&&o.current!==null&&m("hidden")},[r,y]);let v={unmount:s},S=Nn(()=>{var M;g&&b(!1),(M=e.beforeEnter)==null||M.call(e)}),I=Nn(()=>{var M;g&&b(!1),(M=e.beforeLeave)==null||M.call(e)}),k=Ro();return Ye.createElement(L2.Provider,{value:y},Ye.createElement(T2.Provider,{value:F},k({ourProps:{...v,as:N.Fragment,children:Ye.createElement(GU,{ref:A,...v,...a,beforeEnter:S,beforeLeave:I})},theirProps:{},defaultTag:N.Fragment,features:KU,visible:f==="visible",name:"Transition"})))}function Oxe(e,t){let r=N.useContext(T2)!==null,n=j2()!==null;return Ye.createElement(Ye.Fragment,null,!r&&n?Ye.createElement(aB,{ref:t,...e}):Ye.createElement(GU,{ref:t,...e}))}let aB=_i(Pxe),GU=_i(kxe),iS=_i(Oxe),Ux=Object.assign(aB,{Child:iS,Root:aB});var Rxe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Rxe||{}),Dxe=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Dxe||{});let _xe={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},oS=N.createContext(null);oS.displayName="DialogContext";function P2(e){let t=N.useContext(oS);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,P2),r}return t}function Mxe(e,t){return nA(t.type,_xe,e,t)}let J8=_i(function(e,t){let r=N.useId(),{id:n=`headlessui-dialog-${r}`,open:s,onClose:a,initialFocus:o,role:l="dialog",autoFocus:A=!0,__demoMode:d=!1,unmount:f=!1,...m}=e,y=N.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(y.current||(y.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=j2();s===void 0&&g!==null&&(s=(g&nl.Open)===nl.Open);let b=N.useRef(null),C=uc(b,t),F=F2(b),v=s?0:1,[S,I]=N.useReducer(Mxe,{titleId:null,descriptionId:null,panelRef:N.createRef()}),k=Nn(()=>a(!1)),M=Nn(ee=>I({type:0,id:ee})),V=Ng()?v===0:!1,[O,R]=mxe(),_={get current(){var ee;return(ee=S.panelRef.current)!=null?ee:b.current}},J=_U(),{resolveContainers:U}=wxe({mainTreeNode:J,portals:O,defaultContainers:[_]}),Q=g!==null?(g&nl.Closing)===nl.Closing:!1;j1e(d||Q?!1:V,{allowed:Nn(()=>{var ee,ie;return[(ie=(ee=b.current)==null?void 0:ee.closest("[data-headlessui-portal]"))!=null?ie:null]}),disallowed:Nn(()=>{var ee;return[(ee=J==null?void 0:J.closest("body > *:not(#headlessui-portal-root)"))!=null?ee:null]})});let X=BU.get(null);Ga(()=>{if(V)return X.actions.push(n),()=>X.actions.pop(n)},[X,n,V]);let Z=EU(X,N.useCallback(ee=>X.selectors.isTop(ee,n),[X,n]));H1e(Z,U,ee=>{ee.preventDefault(),k()}),xxe(Z,F==null?void 0:F.defaultView,ee=>{ee.preventDefault(),ee.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),k()}),X1e(d||Q?!1:V,F,U),T1e(V,b,k);let[$,q]=a1e(),W=N.useMemo(()=>[{dialogState:v,close:k,setTitleId:M,unmount:f},S],[v,S,k,M,f]),Y=N.useMemo(()=>({open:v===0}),[v]),K={ref:C,id:n,role:l,tabIndex:-1,"aria-modal":d?void 0:v===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":$,unmount:f},ae=!yxe(),be=Sd.None;V&&!d&&(be|=Sd.RestoreFocus,be|=Sd.TabLock,A&&(be|=Sd.AutoFocus),ae&&(be|=Sd.InitialFocus));let H=Ro();return Ye.createElement(ixe,null,Ye.createElement(X8,{force:!0},Ye.createElement(gxe,null,Ye.createElement(oS.Provider,{value:W},Ye.createElement(RU,{target:b},Ye.createElement(X8,{force:!1},Ye.createElement(q,{slot:Y},Ye.createElement(R,null,Ye.createElement(Nxe,{initialFocus:o,initialFocusFallback:b,containers:U,features:be},Ye.createElement(u1e,{value:k},H({ourProps:K,theirProps:m,slot:Y,defaultTag:Uxe,features:Qxe,visible:v===0,name:"Dialog"})))))))))))}),Uxe="div",Qxe=rw.RenderStrategy|rw.Static;function Hxe(e,t){let{transition:r=!1,open:n,...s}=e,a=j2(),o=e.hasOwnProperty("open")||a!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!s.static?Ye.createElement(Y8,null,Ye.createElement(Ux,{show:n,transition:r,unmount:s.unmount},Ye.createElement(J8,{ref:t,...s}))):Ye.createElement(Y8,null,Ye.createElement(J8,{ref:t,open:n,...s}))}let Vxe="div";function Kxe(e,t){let r=N.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:s=!1,...a}=e,[{dialogState:o,unmount:l},A]=P2("Dialog.Panel"),d=uc(t,A.panelRef),f=N.useMemo(()=>({open:o===0}),[o]),m=Nn(F=>{F.stopPropagation()}),y={ref:d,id:n,onClick:m},g=s?iS:N.Fragment,b=s?{unmount:l}:{},C=Ro();return Ye.createElement(g,{...b},C({ourProps:y,theirProps:a,slot:f,defaultTag:Vxe,name:"Dialog.Panel"}))}let Gxe="div";function Wxe(e,t){let{transition:r=!1,...n}=e,[{dialogState:s,unmount:a}]=P2("Dialog.Backdrop"),o=N.useMemo(()=>({open:s===0}),[s]),l={ref:t,"aria-hidden":!0},A=r?iS:N.Fragment,d=r?{unmount:a}:{},f=Ro();return Ye.createElement(A,{...d},f({ourProps:l,theirProps:n,slot:o,defaultTag:Gxe,name:"Dialog.Backdrop"}))}let zxe="h2";function $xe(e,t){let r=N.useId(),{id:n=`headlessui-dialog-title-${r}`,...s}=e,[{dialogState:a,setTitleId:o}]=P2("Dialog.Title"),l=uc(t);N.useEffect(()=>(o(n),()=>o(null)),[n,o]);let A=N.useMemo(()=>({open:a===0}),[a]),d={ref:l,id:n};return Ro()({ourProps:d,theirProps:s,slot:A,defaultTag:zxe,name:"Dialog.Title"})}let qxe=_i(Hxe),Xxe=_i(Kxe);_i(Wxe);let Yxe=_i($xe),nC=Object.assign(qxe,{Panel:Xxe,Title:Yxe,Description:c1e});const Jxe=({enabled:e,setEnabled:t})=>i.jsx("button",{type:"button",onClick:()=>t(!e),className:`${e?"bg-indigo-600":"bg-gray-200"} relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2`,children:i.jsx("span",{className:`${e?"translate-x-5":"translate-x-0"} inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out`})}),Z8=({announcement:e,onClose:t,onSuccess:r})=>{const[n,s]=N.useState({title:"",content:"",branchId:null,isGlobal:!0,startDate:null,endDate:null,isActive:!0}),[a,o]=N.useState([]),[l,A]=N.useState(!1),[d,f]=N.useState({});N.useEffect(()=>{(async()=>{try{const C=await Ue.getBranches();o(C)}catch{Fe.error("Failed to load branches")}})()},[]),N.useEffect(()=>{e&&s({...e,startDate:e.startDate?e.startDate.split("T")[0]:e.startDate===null?null:"",endDate:e.endDate?e.endDate.split("T")[0]:e.endDate===null?null:""})},[e]);const m=()=>{const b={};return n.title.trim()||(b.title="Title cannot be empty."),n.content.trim()||(b.content="Content is required."),!n.isGlobal&&!n.branchId&&(b.branchId="Please select a branch for a non-global announcement."),n.startDate&&n.endDate&&new Date(n.startDate)>new Date(n.endDate)&&(b.endDate="End date cannot be before the start date."),f(b),Object.keys(b).length===0},y=async b=>{var C,F;if(b.preventDefault(),!m()){Fe.warning("Please fix the errors before submitting.");return}A(!0);try{const v={...n,branchId:n.isGlobal?null:n.branchId};e!=null&&e.id?(await Ue.updateAnnouncement(e.id,v),Fe.success("Announcement updated successfully!")):(await Ue.createAnnouncement(v),Fe.success("Announcement created successfully!")),r()}catch(v){Fe.error(((F=(C=v.response)==null?void 0:C.data)==null?void 0:F.message)||"Failed to save announcement.")}finally{A(!1)}},g=(b,C)=>{s(F=>({...F,[b]:C})),d[b]&&f(F=>{const v={...F};return delete v[b],v})};return i.jsx(Ux.Root,{show:!0,as:N.Fragment,children:i.jsxs(nC,{as:"div",className:"relative z-50",onClose:t,children:[i.jsx(Ux.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 transition-opacity"})}),i.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:i.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:i.jsx(Ux.Child,{as:N.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:i.jsx(nC.Panel,{className:"relative transform overflow-hidden rounded-xl bg-white text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-2xl",children:i.jsxs("form",{onSubmit:y,children:[i.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[i.jsx(nC.Title,{as:"h3",className:"text-xl font-semibold text-gray-900",children:e?"Edit Announcement":"Create New Announcement"}),i.jsx("button",{type:"button",onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx(AA,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),i.jsx("input",{type:"text",value:n.title,onChange:b=>g("title",b.target.value),className:`w-full form-input ${d.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., System Maintenance Alert"}),d.title&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.title})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),i.jsx("textarea",{value:n.content,onChange:b=>g("content",b.target.value),rows:5,className:`w-full form-input ${d.content?"border-red-500":"border-gray-300"}`,placeholder:"Provide details about the announcement..."}),d.content&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.content})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibility"}),i.jsxs("div",{className:"flex rounded-lg p-1 bg-gray-100",children:[i.jsxs("button",{type:"button",onClick:()=>g("isGlobal",!0),className:`w-1/2 py-2 text-sm rounded-md flex items-center justify-center gap-2 transition-colors ${n.isGlobal?"bg-white text-indigo-700 shadow-sm":"text-gray-600 hover:bg-gray-200"}`,children:[i.jsx(NN,{className:"h-4 w-4"})," Global"]}),i.jsxs("button",{type:"button",onClick:()=>g("isGlobal",!1),className:`w-1/2 py-2 text-sm rounded-md flex items-center justify-center gap-2 transition-colors ${n.isGlobal?"text-gray-600 hover:bg-gray-200":"bg-white text-indigo-700 shadow-sm"}`,children:[i.jsx(I0,{className:"h-4 w-4"})," Branch Specific"]})]})]}),!n.isGlobal&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),i.jsxs("select",{value:n.branchId||"",onChange:b=>g("branchId",b.target.value?parseInt(b.target.value):null),className:`w-full form-select ${d.branchId?"border-red-500":"border-gray-300"}`,children:[i.jsx("option",{value:"",children:"Select a branch..."}),a.map(b=>i.jsx("option",{value:b.id,children:b.name},b.id))]}),d.branchId&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.branchId})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date (Optional)"}),i.jsx("input",{type:"date",value:n.startDate||"",onChange:b=>g("startDate",b.target.value||null),className:"w-full form-input"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date (Optional)"}),i.jsx("input",{type:"date",value:n.endDate||"",onChange:b=>g("endDate",b.target.value||null),className:`w-full form-input ${d.endDate?"border-red-500":"border-gray-300"}`}),d.endDate&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.endDate})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-700",children:"Set as Active"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Inactive announcements will be hidden from view."})]}),i.jsx(Jxe,{enabled:n.isActive,setEnabled:b=>g("isActive",b)})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 p-5 bg-gray-50 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),i.jsxs("button",{type:"submit",disabled:l,className:"flex items-center space-x-2 px-5 py-2.5 text-sm font-medium bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors",children:[i.jsx(y7,{className:"h-4 w-4"}),i.jsx("span",{children:l?"Saving...":e?"Save Changes":"Create Announcement"})]})]})]})})})})})]})})},sC=768;function Zxe(){const[e,t]=N.useState(void 0);return N.useEffect(()=>{const r=window.matchMedia(`(max-width: ${sC-1}px)`),n=()=>{t(window.innerWidth<sC)};return r.addEventListener("change",n),t(window.innerWidth<sC),()=>r.removeEventListener("change",n)},[]),!!e}const eye=({children:e,withBottomNav:t})=>i.jsx("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"env(safe-area-inset-top)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)",paddingBottom:`calc(env(safe-area-inset-bottom) + ${t?"60px":"0px"})`},children:e}),tye=[{to:"/dashboard",label:"Home",icon:SN},{to:"/students",label:"Students",icon:tc},{to:"/attendance",label:"Attend",icon:ko},{to:"/announcements",label:"News",icon:u0},{to:"/settings",label:"Settings",icon:w7}],rye=()=>i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white/95 backdrop-blur border-t border-gray-200",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:i.jsx("ul",{className:"grid grid-cols-5",children:tye.map(({to:e,label:t,icon:r})=>i.jsx("li",{children:i.jsxs(hW,{to:e,className:({isActive:n})=>`flex flex-col items-center justify-center py-2.5 text-xs ${n?"text-indigo-600":"text-gray-600"}`,children:[i.jsx(r,{size:20}),i.jsx("span",{className:"mt-1.5 leading-none",children:t})]})},e))})}),nye=()=>{const e=Zxe(),[t,r]=N.useState(!1),[n,s]=N.useState(),[a,o]=N.useState(0),[l,A]=N.useState(!1),d=()=>{s(void 0),r(!0)},f=g=>{s(g),r(!0)},m=()=>{r(!1),s(void 0)},y=()=>{m(),o(g=>g+1)};return e?i.jsxs(eye,{withBottomNav:!0,children:[i.jsxs("header",{className:"sticky top-0 z-30 bg-white/90 backdrop-blur border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[i.jsx("h1",{className:"text-base font-semibold",children:"Announcements"}),i.jsx("button",{onClick:d,className:"px-3 py-1.5 text-sm rounded-md bg-indigo-600 text-white active:scale-[0.98]",children:"New"})]}),i.jsx("main",{className:"p-4 pb-24",children:i.jsx(U8,{isAdmin:!0,onEdit:f,onAdd:d},a)}),i.jsx(rye,{}),t&&i.jsx(Z8,{announcement:n,onClose:m,onSuccess:y})]}):i.jsxs("div",{className:"flex h-screen bg-gray-50/50",children:[i.jsx(On,{isCollapsed:l,setIsCollapsed:A}),i.jsxs("div",{className:"flex flex-col flex-1",children:[i.jsx(Zs,{}),i.jsx("main",{className:"flex-1 p-6 lg:p-8 overflow-y-auto",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsx(U8,{isAdmin:!0,onEdit:f,onAdd:d},a)})})]}),t&&i.jsx(Z8,{announcement:n,onClose:m,onSuccess:y})]})},sye=e=>{switch(e){case"Approved":return"bg-green-100 text-green-800";case"Not Approved":return"bg-red-100 text-red-800";case"Done":return"bg-blue-100 text-blue-800";case"Not Done":return"bg-orange-100 text-orange-800";case"Posted":default:return"bg-yellow-100 text-yellow-800"}},aye=()=>{const[e,t]=N.useState([]),[r,n]=N.useState("newest"),[s,a]=N.useState("All"),[o,l]=N.useState(!0),[A,d]=N.useState(null),f=Tr(),[m,y]=N.useState(!1),g=()=>{},b=async()=>{try{l(!0),d(null);const S=await Ue.getAllQueriesForAdmin();t(S)}catch(S){console.error("Error fetching queries:",S),d(S.message||"Failed to load queries.")}finally{l(!1)}};N.useEffect(()=>{b()},[]);const C=async(S,I)=>{if(!["Approved","Not Approved","Done","Not Done","Posted"].includes(I)){console.error("Invalid status update:",I),d("Invalid status selected.");return}try{await Ue.updateQueryStatus(S,I),await b()}catch(M){console.error("Error updating query status:",M),d(M.message||"Failed to update status.")}},F=S=>{f(`/queries/${S}`)},v=N.useMemo(()=>e.filter(I=>s==="All"||I.status===s).sort((I,k)=>{switch(r){case"upvotes":return(k.upvotes||0)-(I.upvotes||0);case"status":return I.status.localeCompare(k.status);case"newest":default:return new Date(k.createdAt).getTime()-new Date(I.createdAt).getTime()}}),[e,r,s]);return o?i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsx(On,{isCollapsed:m,setIsCollapsed:y,onBarcodeClick:g}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsx("div",{className:"text-center p-8 bg-white rounded-lg shadow-sm border",children:"Loading queries..."})})})]})]}):i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsx(On,{isCollapsed:m,setIsCollapsed:y,onBarcodeClick:g}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Zs,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-4 sm:mb-6",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Manage Public Queries"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"View, filter, and update the status of all student queries."})]}),i.jsx("div",{className:"mb-4 bg-white p-3 sm:p-4 rounded-lg shadow-sm border border-gray-200",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3 sm:gap-6",children:[i.jsxs("div",{className:"w-full sm:w-auto",children:[i.jsx("label",{htmlFor:"filter",className:"text-sm font-medium text-gray-700",children:"Filter by status"}),i.jsxs("select",{id:"filter",value:s,onChange:S=>a(S.target.value),className:"mt-1 w-full sm:w-56 text-sm rounded-md border-gray-300 shadow-sm",children:[i.jsx("option",{value:"All",children:"All"}),i.jsx("option",{value:"Posted",children:"Posted"}),i.jsx("option",{value:"Approved",children:"Approved"}),i.jsx("option",{value:"Not Approved",children:"Not Approved"}),i.jsx("option",{value:"Done",children:"Done"}),i.jsx("option",{value:"Not Done",children:"Not Done"})]})]}),i.jsxs("div",{className:"w-full sm:w-auto",children:[i.jsx("label",{htmlFor:"sort",className:"text-sm font-medium text-gray-700",children:"Sort by"}),i.jsxs("select",{id:"sort",value:r,onChange:S=>n(S.target.value),className:"mt-1 w-full sm:w-56 text-sm rounded-md border-gray-300 shadow-sm",children:[i.jsx("option",{value:"newest",children:"Newest"}),i.jsx("option",{value:"upvotes",children:"Most Upvoted"}),i.jsx("option",{value:"status",children:"Status"})]})]})]})}),A&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:A}),i.jsx("div",{className:"space-y-3 sm:space-y-4",children:v.map(S=>i.jsxs("div",{className:"p-4 sm:p-5 border rounded-lg shadow-sm bg-white transition-all hover:shadow-md",children:[i.jsxs("div",{className:"flex justify-between items-start gap-3",children:[i.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>F(S.id),children:[i.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 hover:text-indigo-600",children:S.title}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Posted by ",i.jsx("span",{className:"font-medium",children:S.studentName})," on ",new Date(S.createdAt).toLocaleDateString()]})]}),i.jsx("span",{className:`text-[10px] sm:text-xs font-medium mr-1 sm:mr-2 px-2 py-0.5 sm:px-2.5 sm:py-1 rounded-full ${sye(S.status)}`,children:S.status})]}),i.jsxs("p",{className:"text-gray-600 mt-2 mb-3 sm:mb-4 text-sm",children:[S.description.substring(0,150),S.description.length>150&&"..."]}),i.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm border-t pt-2 sm:pt-3",children:[i.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 text-gray-600",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(TN,{className:"w-4 h-4 mr-1 text-green-500"})," ",S.upvotes||0]}),i.jsxs("span",{className:"flex items-center",children:[i.jsx(jN,{className:"w-4 h-4 mr-1 text-red-500"})," ",S.downvotes||0]})]}),i.jsx("div",{className:"relative inline-block text-left",children:i.jsxs("select",{onChange:I=>C(S.id,I.target.value),value:S.status,className:"text-xs sm:text-sm border-gray-300 rounded-md shadow-sm bg-white hover:border-gray-400 focus:ring-0 focus:border-gray-400",onClick:I=>I.stopPropagation(),children:[i.jsx("option",{children:"Posted"}),i.jsx("option",{children:"Approved"}),i.jsx("option",{children:"Not Approved"}),i.jsx("option",{children:"Done"}),i.jsx("option",{children:"Not Done"})]})})]})]},S.id))}),v.length===0&&!o&&i.jsx("div",{className:"text-center p-8 bg-white rounded-lg shadow-sm border",children:i.jsx("p",{className:"text-gray-600",children:"No queries match the current filter."})})]})})]})]})},iye=()=>{var k,M,V;const{id:e}=lA(),t=Tr(),{user:r}=hi(),[n,s]=N.useState(null),[a,o]=N.useState(!0),[l,A]=N.useState(null),[d,f]=N.useState(""),[m,y]=N.useState(null),g=async()=>{try{o(!0);const O=await Ue.getQueryById(Number(e)),R=O.comments||[],_={};R.forEach(U=>{_[U.id]={...U,replies:[]}});const J=[];R.forEach(U=>{U.parentCommentId&&_[U.parentCommentId]?_[U.parentCommentId].replies.push(_[U.id]):J.push(_[U.id])}),s({...O,comments:J})}catch(O){A("Failed to load query"),console.error("Error fetching query:",O)}finally{o(!1)}};N.useEffect(()=>{g()},[e]);const b=async O=>{if(n)try{await Ue.voteOnQuery(n.id,O),await g()}catch(R){console.error("Error voting:",R)}},C=async O=>{if(n)try{await Ue.updateQueryStatus(n.id,O),await g()}catch(R){console.error("Error updating status:",R)}},F=async O=>{if(O.preventDefault(),!(!d.trim()||!n))try{const R={comment_text:d,parent_comment_id:m};await Ue.postComment(n.id,R),f(""),y(null),await g()}catch(R){console.error("Error posting comment:",R)}},v=(O,R=0)=>O.map(_=>i.jsxs("div",{className:`flex space-x-4 mt-4 ${R>0?"pl-6":""}`,children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-600",children:_.commenterName.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-grow",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-semibold text-sm text-gray-800",children:_.commenterName}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(_.createdAt).toLocaleString()})]}),i.jsx("p",{className:"text-gray-700 mt-1 text-sm",children:_.commentText})]}),i.jsx("button",{onClick:()=>y(_.id),className:"text-xs text-indigo-600 hover:underline mt-1 pl-1",children:"Reply"}),m===_.id&&i.jsxs("form",{onSubmit:F,className:"mt-2",children:[i.jsx("textarea",{value:d,onChange:J=>f(J.target.value),className:"w-full p-2 border rounded-md text-sm",placeholder:"Write your reply...",rows:2}),i.jsxs("div",{className:"mt-2 space-x-2",children:[i.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-3 py-1 rounded text-sm shadow-sm",children:"Post"}),i.jsx("button",{type:"button",onClick:()=>y(null),className:"text-gray-600 text-sm",children:"Cancel"})]})]}),_.replies&&v(_.replies,R+1)]})]},_.id));if(a)return i.jsx("div",{className:"p-6 text-center",children:"Loading..."});if(l)return i.jsx("div",{className:"p-6 text-center text-red-500",children:l});if(!n)return i.jsx("div",{className:"p-6 text-center",children:"Query not found"});const S={Posted:"bg-yellow-100 text-yellow-800",Approved:"bg-green-100 text-green-800","Not Approved":"bg-red-100 text-red-800",Done:"bg-blue-100 text-blue-800","Not Done":"bg-orange-100 text-orange-800"},I=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner";return i.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:[i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("button",{onClick:()=>t(-1),className:"mb-4 text-indigo-600 hover:underline flex items-center gap-2 text-sm",children:[i.jsx(Po,{className:"w-4 h-4"}),"Back to Queries"]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-200",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:n.title}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${S[n.status]}`,children:n.status})]}),i.jsxs("div",{className:"text-sm text-gray-500 mb-4 border-b pb-4",children:["Posted by ",i.jsx("span",{className:"font-medium text-gray-700",children:n.studentName})," on ",new Date(n.createdAt).toLocaleDateString()]}),i.jsx("p",{className:"text-gray-700 mb-5",children:n.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("button",{onClick:()=>b("up"),className:`flex items-center space-x-1.5 text-gray-600 hover:text-green-600 ${n.userVote==="upvote"?"text-green-600 font-semibold":""}`,children:[i.jsx(TN,{className:"w-5 h-5"}),i.jsx("span",{children:n.upvotes})]}),i.jsxs("button",{onClick:()=>b("down"),className:`flex items-center space-x-1.5 text-gray-600 hover:text-red-600 ${n.userVote==="downvote"?"text-red-600 font-semibold":""}`,children:[i.jsx(jN,{className:"w-5 h-5"}),i.jsx("span",{children:n.downvotes})]})]}),I&&i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("select",{onChange:O=>C(O.target.value),value:n.status,className:"text-xs border-gray-300 rounded-md shadow-sm",children:[i.jsx("option",{children:"Posted"}),i.jsx("option",{children:"Approved"}),i.jsx("option",{children:"Not Approved"}),i.jsx("option",{children:"Done"}),i.jsx("option",{children:"Not Done"})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[i.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[i.jsx(EN,{className:"w-5 h-5 text-gray-500"}),"Discussion (",((k=n.comments)==null?void 0:k.length)||0,")"]}),i.jsxs("form",{onSubmit:F,className:"mb-6 flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex-shrink-0"}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("textarea",{value:d,onChange:O=>f(O.target.value),className:"w-full p-2 border rounded-md mb-2 text-sm",placeholder:m?"Write your reply...":"Add to the discussion...",rows:m?2:3}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-1.5 rounded-md text-sm shadow-sm hover:bg-indigo-700 flex items-center gap-2",children:[i.jsx(HX,{className:"w-4 h-4"}),"Post"]}),m&&i.jsx("button",{type:"button",onClick:()=>{y(null),f("")},className:"text-gray-600 text-sm",children:"Cancel Reply"})]})]})]}),i.jsx("div",{children:n.comments&&n.comments.length>0?v(n.comments):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No comments yet. Be the first to say something!"})})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[((M=n.comments)==null?void 0:M.length)||0," ",((V=n.comments)==null?void 0:V.length)===1?"Comment":"Comments"]}),i.jsxs("form",{onSubmit:F,className:"mb-6",children:[i.jsx("textarea",{value:d,onChange:O=>f(O.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add a comment...",rows:3}),i.jsx("div",{className:"mt-2 flex justify-end",children:i.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",disabled:!d.trim(),children:"Post Comment"})})]}),i.jsx("div",{className:"space-y-4",children:n.comments&&n.comments.length>0?v(n.comments):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No comments yet. Be the first to comment!"})})]})]})},oye=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(""),[s,a]=N.useState(!1),o=Tr(),l=async A=>{if(A.preventDefault(),!e.trim()||!r.trim()){Fe.error("Title and description cannot be empty.");return}a(!0);try{const d=await Ue.postQuery({title:e,description:r});Fe.success("Query submitted successfully!"),o(`/queries/${d.id}`)}catch(d){console.error("Failed to post query:",d),Fe.error("Failed to submit query. Please try again.")}finally{a(!1)}};return i.jsx("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:i.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-md",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6",children:"Ask a New Question"}),i.jsxs("form",{onSubmit:l,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),i.jsx("input",{type:"text",id:"title",value:e,onChange:A=>t(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter a concise title for your query",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{id:"description",value:r,onChange:A=>n(A.target.value),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Provide a detailed description of your question or suggestion",required:!0})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",disabled:s,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg shadow-sm hover:bg-indigo-700 transition-colors disabled:bg-indigo-300 disabled:cursor-not-allowed",children:s?"Submitting...":"Submit Query"})})]})]})})};function lye(e,t=[]){let r=[];function n(a,o){const l=N.createContext(o),A=r.length;r=[...r,o];function d(m){const{scope:y,children:g,...b}=m,C=(y==null?void 0:y[e][A])||l,F=N.useMemo(()=>b,Object.values(b));return i.jsx(C.Provider,{value:F,children:g})}function f(m,y){const g=(y==null?void 0:y[e][A])||l,b=N.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,f]}const s=()=>{const a=r.map(o=>N.createContext(o));return function(l){const A=(l==null?void 0:l[e])||a;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,cye(s,...t)]}function cye(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:A,scopeName:d})=>{const m=A(a)[`__scope${d}`];return{...l,...m}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var aC="rovingFocusGroup.onEntryFocus",Aye={bubbles:!1,cancelable:!0},O2="RovingFocusGroup",[iB,WU,uye]=WD(O2),[dye,zU]=lye(O2,[uye]),[hye,fye]=dye(O2),$U=N.forwardRef((e,t)=>i.jsx(iB.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(iB.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(mye,{...e,ref:t})})}));$U.displayName=O2;var mye=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:A,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=e,y=N.useRef(null),g=Gn(t,y),b=w3(a),[C=null,F]=fh({prop:o,defaultProp:l,onChange:A}),[v,S]=N.useState(!1),I=Yl(d),k=WU(r),M=N.useRef(!1),[V,O]=N.useState(0);return N.useEffect(()=>{const R=y.current;if(R)return R.addEventListener(aC,I),()=>R.removeEventListener(aC,I)},[I]),i.jsx(hye,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:C,onItemFocus:N.useCallback(R=>F(R),[F]),onItemShiftTab:N.useCallback(()=>S(!0),[]),onFocusableItemAdd:N.useCallback(()=>O(R=>R+1),[]),onFocusableItemRemove:N.useCallback(()=>O(R=>R-1),[]),children:i.jsx(Ur.div,{tabIndex:v||V===0?-1:0,"data-orientation":n,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:yr(e.onMouseDown,()=>{M.current=!0}),onFocus:yr(e.onFocus,R=>{const _=!M.current;if(R.target===R.currentTarget&&_&&!v){const J=new CustomEvent(aC,Aye);if(R.currentTarget.dispatchEvent(J),!J.defaultPrevented){const U=k().filter(q=>q.focusable),Q=U.find(q=>q.active),X=U.find(q=>q.id===C),$=[Q,X,...U].filter(Boolean).map(q=>q.ref.current);YU($,f)}}M.current=!1}),onBlur:yr(e.onBlur,()=>S(!1))})})}),qU="RovingFocusGroupItem",XU=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=e,l=Uc(),A=a||l,d=fye(qU,r),f=d.currentTabStopId===A,m=WU(r),{onFocusableItemAdd:y,onFocusableItemRemove:g}=d;return N.useEffect(()=>{if(n)return y(),()=>g()},[n,y,g]),i.jsx(iB.ItemSlot,{scope:r,id:A,focusable:n,active:s,children:i.jsx(Ur.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:yr(e.onMouseDown,b=>{n?d.onItemFocus(A):b.preventDefault()}),onFocus:yr(e.onFocus,()=>d.onItemFocus(A)),onKeyDown:yr(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const C=xye(b,d.orientation,d.dir);if(C!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let v=m().filter(S=>S.focusable).map(S=>S.ref.current);if(C==="last")v.reverse();else if(C==="prev"||C==="next"){C==="prev"&&v.reverse();const S=v.indexOf(b.currentTarget);v=d.loop?yye(v,S+1):v.slice(S+1)}setTimeout(()=>YU(v))}})})})});XU.displayName=qU;var pye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gye(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xye(e,t,r){const n=gye(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return pye[n]}function YU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function yye(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var wye=$U,vye=XU,lS="Tabs",[bye,zye]=ag(lS,[zU]),JU=zU(),[Cye,cS]=bye(lS),ZU=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:A="automatic",...d}=e,f=w3(l),[m,y]=fh({prop:n,onChange:s,defaultProp:a});return i.jsx(Cye,{scope:r,baseId:Uc(),value:m,onValueChange:y,orientation:o,dir:f,activationMode:A,children:i.jsx(Ur.div,{dir:f,"data-orientation":o,...d,ref:t})})});ZU.displayName=lS;var eQ="TabsList",tQ=N.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=cS(eQ,r),o=JU(r);return i.jsx(wye,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(Ur.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});tQ.displayName=eQ;var rQ="TabsTrigger",nQ=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=cS(rQ,r),l=JU(r),A=iQ(o.baseId,n),d=oQ(o.baseId,n),f=n===o.value;return i.jsx(vye,{asChild:!0,...l,focusable:!s,active:f,children:i.jsx(Ur.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:A,...a,ref:t,onMouseDown:yr(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:yr(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:yr(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!s&&m&&o.onValueChange(n)})})})});nQ.displayName=rQ;var sQ="TabsContent",aQ=N.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=cS(sQ,r),A=iQ(l.baseId,n),d=oQ(l.baseId,n),f=n===l.value,m=N.useRef(f);return N.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),i.jsx(Nh,{present:s||f,children:({present:y})=>i.jsx(Ur.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":A,hidden:!y,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:y&&a})})});aQ.displayName=sQ;function iQ(e,t){return`${e}-trigger-${t}`}function oQ(e,t){return`${e}-content-${t}`}var Bye=ZU,lQ=tQ,cQ=nQ,AQ=aQ;const Nye=Bye,uQ=N.forwardRef(({className:e,...t},r)=>i.jsx(lQ,{ref:r,className:hr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));uQ.displayName=lQ.displayName;const Om=N.forwardRef(({className:e,...t},r)=>i.jsx(cQ,{ref:r,className:hr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Om.displayName=cQ.displayName;const Rm=N.forwardRef(({className:e,...t},r)=>i.jsx(AQ,{ref:r,className:hr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Rm.displayName=AQ.displayName;const Sye=()=>{const[e,t]=N.useState([]),[r,n]=N.useState({pending:0,accepted:0,rejected:0,total:0}),[s,a]=N.useState({currentPage:1,totalPages:1,totalCount:0,limit:20}),[o,l]=N.useState(!0),[A,d]=N.useState(null),[f,m]=N.useState("all"),[y,g]=N.useState(1),[b,C]=N.useState(null),[F,v]=N.useState(!1),[S,I]=N.useState(!1),[k,M]=N.useState(""),V=Tr();N.useEffect(()=>{O(),R()},[f,y]);const O=async()=>{try{l(!0);const $=await ga(`/admission-requests?status=${f}&page=${y}&limit=20`);if(!$.ok)throw new Error("Failed to fetch admission requests");const q=await $.json();t(q.requests),a(q.pagination)}catch($){console.error("Error fetching requests:",$),Fe.error("Failed to load admission requests")}finally{l(!1)}},R=async()=>{try{const $=await ga("/admission-requests/stats/summary");if($.ok){const q=await $.json();n(q)}}catch($){console.error("Error fetching stats:",$)}},_=async $=>{try{d($);const q=await ga(`/admission-requests/${$}/accept`,{method:"POST"});if(!q.ok){let W="Failed to accept request";try{W=(await q.json()).message||W}catch{}throw new Error(W)}Fe.success("Registration request accepted successfully!"),F&&v(!1),O(),R()}catch(q){console.error("Error accepting request:",q),Fe.error(q instanceof Error?q.message:"Failed to accept request")}finally{d(null)}},J=async()=>{if(b)try{d(b.id);const $=await ga(`/admission-requests/${b.id}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:k})});if(!$.ok){let q="Failed to reject request";try{q=(await $.json()).message||q}catch{}throw new Error(q)}Fe.success("Registration request rejected"),I(!1),M(""),C(null),F&&v(!1),O(),R()}catch($){console.error("Error rejecting request:",$),Fe.error($ instanceof Error?$.message:"Failed to reject request")}finally{d(null)}},U=$=>{switch($){case"pending":return i.jsx(Xs,{className:"h-4 w-4"});case"accepted":return i.jsx(Hl,{className:"h-4 w-4"});case"rejected":return i.jsx(zd,{className:"h-4 w-4"});default:return i.jsx(ci,{className:"h-4 w-4"})}},Q=$=>{switch($){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-300 dark:border-yellow-700";case"accepted":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/40 dark:text-green-300 dark:border-green-700";case"rejected":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/40 dark:text-red-300 dark:border-red-700";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700"}},X=$=>new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Z=$=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format($);return i.jsx(QP,{children:i.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-2",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admission Requests"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage student registration requests"})]}),i.jsxs(Xt,{variant:"outline",onClick:()=>V(-1),children:[i.jsx(Po,{className:"h-4 w-4 mr-2"}),"Go Back"]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(Cn,{className:"transition-all hover:shadow-md hover:-translate-y-1",children:i.jsx(ys,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Requests"}),i.jsx("p",{className:"text-2xl font-bold",children:r.total})]}),i.jsx(tc,{className:"h-8 w-8 text-blue-600"})]})})}),i.jsx(Cn,{className:"transition-all hover:shadow-md hover:-translate-y-1",children:i.jsx(ys,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.pending})]}),i.jsx(Xs,{className:"h-8 w-8 text-yellow-600"})]})})}),i.jsx(Cn,{className:"transition-all hover:shadow-md hover:-translate-y-1",children:i.jsx(ys,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Accepted"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.accepted})]}),i.jsx(Hl,{className:"h-8 w-8 text-green-600"})]})})}),i.jsx(Cn,{className:"transition-all hover:shadow-md hover:-translate-y-1",children:i.jsx(ys,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Rejected"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:r.rejected})]}),i.jsx(zd,{className:"h-8 w-8 text-red-600"})]})})})]}),i.jsx(Cn,{children:i.jsx(ys,{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx(p7,{className:"h-4 w-4"}),i.jsx(Lt,{children:"Filter by Status:"})]}),i.jsxs(Gl,{value:f,onValueChange:m,children:[i.jsx(il,{className:"w-full sm:w-48",children:i.jsx(Wl,{})}),i.jsxs(ol,{children:[i.jsx(Rs,{value:"all",children:"All Requests"}),i.jsx(Rs,{value:"pending",children:"Pending"}),i.jsx(Rs,{value:"accepted",children:"Accepted"}),i.jsx(Rs,{value:"rejected",children:"Rejected"})]})]})]})})}),i.jsxs(Cn,{children:[i.jsxs(ya,{children:[i.jsx(wa,{children:"Registration Requests"}),i.jsxs(nc,{children:[s.totalCount," total requests • Page ",s.currentPage," of ",s.totalPages]})]}),i.jsx(ys,{children:o?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(Js,{className:"h-8 w-8 animate-spin"})}):e.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(tc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No requests found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:f==="all"?"No admission requests have been submitted yet.":`No ${f} requests found.`})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(ac,{children:[i.jsx(ic,{children:i.jsxs(Zn,{children:[i.jsx(Jt,{children:"Student"}),i.jsx(Jt,{className:"hidden md:table-cell",children:"Contact"}),i.jsx(Jt,{className:"hidden lg:table-cell",children:"Branch"}),i.jsx(Jt,{children:"Status"}),i.jsx(Jt,{className:"hidden xl:table-cell",children:"Submitted"}),i.jsx(Jt,{className:"text-right",children:"Actions"})]})}),i.jsx(oc,{children:e.map($=>i.jsxs(Zn,{children:[i.jsx(Gt,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:$.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:["ID: #",$.id]})]})}),i.jsx(Gt,{className:"hidden md:table-cell",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[i.jsx(cA,{className:"h-3 w-3"}),$.phone]}),$.email&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400",children:[i.jsx(Ru,{className:"h-3 w-3"}),$.email]})]})}),i.jsx(Gt,{className:"hidden lg:table-cell",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Zl,{className:"h-3 w-3"}),$.branch_name||"Not specified"]})}),i.jsx(Gt,{children:i.jsxs(rh,{className:`${Q($.status)} flex items-center gap-1 w-fit`,children:[U($.status),i.jsx("span",{className:"capitalize",children:$.status})]})}),i.jsx(Gt,{className:"hidden xl:table-cell",children:i.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[i.jsx(ko,{className:"h-3 w-3"}),X($.created_at)]})}),i.jsx(Gt,{children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsxs(Tv,{children:[i.jsx(Lv,{asChild:!0,children:i.jsx(Xt,{size:"sm",variant:"outline",onClick:()=>{C($),v(!0)},children:i.jsx(Oi,{className:"h-4 w-4"})})}),i.jsx(px,{children:"View Details"})]}),$.status==="pending"?i.jsxs(i.Fragment,{children:[i.jsxs(Tv,{children:[i.jsx(Lv,{asChild:!0,children:i.jsx(Xt,{size:"sm",variant:"default",onClick:()=>_($.id),disabled:A===$.id,children:A===$.id?i.jsx(Js,{className:"h-4 w-4 animate-spin"}):i.jsx(Du,{className:"h-4 w-4"})})}),i.jsx(px,{children:"Accept Request"})]}),i.jsxs(Tv,{children:[i.jsx(Lv,{asChild:!0,children:i.jsx(Xt,{size:"sm",variant:"destructive",onClick:()=>{C($),I(!0)},disabled:A===$.id,children:i.jsx(Rv,{className:"h-4 w-4"})})}),i.jsx(px,{children:"Reject Request"})]})]}):null]})})]},$.id))})]})}),s.totalPages>1&&i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-4 px-2",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(s.currentPage-1)*s.limit+1," to ",Math.min(s.currentPage*s.limit,s.totalCount)," of ",s.totalCount," requests"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xt,{variant:"outline",size:"sm",onClick:()=>g(Math.max(1,y-1)),disabled:y===1,children:"Previous"}),i.jsxs("span",{className:"text-sm font-medium",children:["Page ",s.currentPage," of ",s.totalPages]}),i.jsx(Xt,{variant:"outline",size:"sm",onClick:()=>g(Math.min(s.totalPages,y+1)),disabled:y===s.totalPages,children:"Next"})]})]})]})})]}),i.jsx(Mf,{open:F,onOpenChange:v,children:i.jsxs(Yd,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[i.jsxs(Jd,{children:[i.jsx(eh,{children:"Registration Request Details"}),i.jsxs(th,{children:["Request ID: #",b==null?void 0:b.id," • Submitted: ",b&&X(b.created_at)]})]}),b&&i.jsxs("div",{className:"space-y-6 flex-grow overflow-y-auto -mx-6 px-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:"Status:"}),i.jsxs(rh,{className:`${Q(b.status)} flex items-center gap-1`,children:[U(b.status),i.jsx("span",{className:"capitalize",children:b.status})]})]}),i.jsxs(Nye,{defaultValue:"personal",className:"w-full",children:[i.jsxs(uQ,{className:"grid w-full grid-cols-2 sm:grid-cols-4",children:[i.jsx(Om,{value:"personal",children:"Personal"}),i.jsx(Om,{value:"membership",children:"Membership"}),i.jsx(Om,{value:"payment",children:"Payment"}),i.jsx(Om,{value:"status",children:"Status"})]}),i.jsxs("div",{className:"pt-4",children:[i.jsxs(Rm,{value:"personal",className:"space-y-4 m-0",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Lt,{children:"Full Name"}),i.jsx("p",{className:"text-sm font-medium",children:b.name})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Father's Name"}),i.jsx("p",{className:"text-sm",children:b.father_name||"Not provided"})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Phone"}),i.jsx("p",{className:"text-sm",children:b.phone})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Email"}),i.jsx("p",{className:"text-sm",children:b.email||"Not provided"})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Aadhar Number"}),i.jsx("p",{className:"text-sm",children:b.aadhar_number||"Not provided"})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Registration Number"}),i.jsx("p",{className:"text-sm",children:b.registration_number||"Not provided"})]})]}),b.address&&i.jsxs("div",{className:"md:col-span-2",children:[i.jsx(Lt,{children:"Address"}),i.jsx("p",{className:"text-sm",children:b.address})]})]}),i.jsx(Rm,{value:"membership",className:"space-y-4 m-0",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Lt,{children:"Branch"}),i.jsx("p",{className:"text-sm",children:b.branch_name||"Not specified"})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Seat"}),i.jsx("p",{className:"text-sm",children:b.seat_number||"No preference"})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Locker"}),i.jsx("p",{className:"text-sm",children:b.locker_number||"Not requested"})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Membership Start"}),i.jsx("p",{className:"text-sm",children:b.membership_start?X(b.membership_start):"Not specified"})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Membership End"}),i.jsx("p",{className:"text-sm",children:b.membership_end?X(b.membership_end):"Not specified"})]})]})}),i.jsx(Rm,{value:"payment",className:"space-y-4 m-0",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(Lt,{children:"Total Fee"}),i.jsx("p",{className:"text-sm font-medium",children:Z(b.total_fee)})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Cash Payment"}),i.jsx("p",{className:"text-sm",children:Z(b.cash)})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Online Payment"}),i.jsx("p",{className:"text-sm",children:Z(b.online)})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Security Money"}),i.jsx("p",{className:"text-sm",children:Z(b.security_money)})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Discount"}),i.jsx("p",{className:"text-sm",children:Z(b.discount)})]}),i.jsxs("div",{children:[i.jsx(Lt,{children:"Due Amount"}),i.jsx("p",{className:"text-sm font-medium text-red-600",children:Z(b.due_amount)})]})]})}),i.jsx(Rm,{value:"status",className:"space-y-4 m-0",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Lt,{children:"Current Status"}),i.jsx("div",{className:"flex items-center gap-2 mt-1",children:i.jsxs(rh,{className:`${Q(b.status)} flex items-center gap-1`,children:[U(b.status),i.jsx("span",{className:"capitalize",children:b.status})]})})]}),b.processed_at&&i.jsxs("div",{children:[i.jsx(Lt,{children:"Processed At"}),i.jsx("p",{className:"text-sm",children:X(b.processed_at)})]}),b.processed_by_username&&i.jsxs("div",{children:[i.jsx(Lt,{children:"Processed By"}),i.jsx("p",{className:"text-sm",children:b.processed_by_username})]}),b.rejection_reason&&i.jsxs("div",{children:[i.jsx(Lt,{children:"Rejection Reason"}),i.jsx("p",{className:"text-sm text-red-600",children:b.rejection_reason})]}),b.remark&&i.jsxs("div",{children:[i.jsx(Lt,{children:"Student's Notes"}),i.jsx("p",{className:"text-sm",children:b.remark})]})]})})]})]})]}),i.jsx(Zd,{className:"pt-4 mt-auto",children:i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2 w-full",children:[i.jsx(Xt,{variant:"outline",onClick:()=>v(!1),children:"Close"}),(b==null?void 0:b.status)==="pending"&&i.jsxs(i.Fragment,{children:[i.jsxs(Xt,{variant:"destructive",onClick:()=>{v(!1),I(!0)},disabled:A===(b==null?void 0:b.id),children:[i.jsx(Rv,{className:"mr-2 h-4 w-4"}),"Reject Request"]}),i.jsxs(Xt,{onClick:()=>b&&_(b.id),disabled:A===(b==null?void 0:b.id),children:[A===(b==null?void 0:b.id)?i.jsx(Js,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Du,{className:"mr-2 h-4 w-4"}),"Accept Request"]})]})]})})]})}),i.jsx(Mf,{open:S,onOpenChange:I,children:i.jsxs(Yd,{children:[i.jsxs(Jd,{children:[i.jsx(eh,{children:"Reject Registration Request"}),i.jsx(th,{children:"Are you sure you want to reject this registration request? This action cannot be undone."})]}),i.jsx("div",{className:"space-y-4 py-2",children:i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"rejectionReason",children:"Reason for Rejection (Optional)"}),i.jsx(p0,{id:"rejectionReason",placeholder:"Provide a reason for rejection...",value:k,onChange:$=>M($.target.value),rows:3,className:"mt-2"})]})}),i.jsx(Zd,{children:i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2 w-full",children:[i.jsx(Xt,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),i.jsxs(Xt,{variant:"destructive",onClick:J,disabled:A===(b==null?void 0:b.id),children:[A===(b==null?void 0:b.id)?i.jsx(Js,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Rv,{className:"mr-2 h-4 w-4"}),"Reject Request"]})]})})]})})]})})},Eye=()=>{const{libraryCode:e}=lA(),t=Tr(),[r,n]=N.useState(null),[s,a]=N.useState(!0),[o,l]=N.useState(!1),[A,d]=N.useState(null),[f,m]=N.useState(!1),[y,g]=N.useState(null),[b,C]=N.useState({name:"",email:"",phone:"",address:"",father_name:"",aadhar_number:"",registration_number:"",branch_id:"",membership_start:"",membership_end:"",total_fee:"0",amount_paid:"0",cash:"0",online:"0",security_money:"0",discount:"0",shift_ids:[],seat_id:"",locker_id:"",remark:""});N.useEffect(()=>{e&&F()},[e]);const F=async()=>{try{a(!0);const I=await fetch(`${Ip}/public-registration/library/${e}`);if(!I.ok)throw I.status===404?new Error("Library not found. Please check the registration link."):new Error("Failed to load library information");const k=await I.json();n(k)}catch(I){d(I instanceof Error?I.message:"Failed to load library information")}finally{a(!1)}},v=(I,k)=>{C(M=>({...M,[I]:k}))},S=async I=>{if(I.preventDefault(),!b.name||!b.phone||!b.branch_id){Fe.error("Please fill in all required fields (Name, Phone, Branch)");return}try{l(!0),d(null);const k=await fetch(`${Ip}/public-registration/library/${e}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...b,shift_ids:b.shift_ids.map(V=>parseInt(V)),branch_id:parseInt(b.branch_id),seat_id:b.seat_id&&b.seat_id!=="none"?parseInt(b.seat_id):null,locker_id:b.locker_id&&b.locker_id!=="none"?parseInt(b.locker_id):null})}),M=await k.json();if(!k.ok)throw new Error(M.message||"Registration failed");m(!0),g(M.requestId),Fe.success("Registration request submitted successfully!")}catch(k){const M=k instanceof Error?k.message:"Registration failed";d(M),Fe.error(M)}finally{l(!1)}};return s?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Js,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading registration form..."})]})}):A&&!r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:i.jsxs(Cn,{className:"w-full max-w-md",children:[i.jsx(ya,{children:i.jsxs(wa,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(ci,{className:"h-5 w-5"}),"Error"]})}),i.jsxs(ys,{children:[i.jsx("p",{className:"text-gray-600 mb-4",children:A}),i.jsx(Xt,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:"Go Home"})]})]})}):f?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:i.jsxs(Cn,{className:"w-full max-w-md",children:[i.jsx(ya,{children:i.jsxs(wa,{className:"flex items-center gap-2 text-green-600",children:[i.jsx(Hl,{className:"h-5 w-5"}),"Registration Submitted!"]})}),i.jsxs(ys,{className:"space-y-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-600 mb-2",children:"Your registration request has been submitted successfully."}),i.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Request ID: ",i.jsxs("span",{className:"font-mono font-medium",children:["#",y]})]})]}),i.jsxs(Dc,{children:[i.jsx(ci,{className:"h-4 w-4"}),i.jsx(_c,{children:"Your request is now pending review by the library administration. You will be contacted once your request is processed."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Xt,{onClick:()=>t(`/registration-status/${e}/${b.phone}`),className:"w-full",children:"Check Status"}),i.jsx(Xt,{onClick:()=>window.location.reload(),variant:"outline",className:"w-full",children:"Submit Another Request"})]})]})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx(Cn,{className:"mb-6",children:i.jsxs(ya,{children:[i.jsxs(wa,{className:"flex items-center gap-2",children:[i.jsx(Zl,{className:"h-6 w-6"}),r==null?void 0:r.library.name]}),i.jsxs(nc,{children:["Student Registration Form • Library Code: ",r==null?void 0:r.library.code]})]})}),i.jsxs(Cn,{children:[i.jsxs(ya,{children:[i.jsx(wa,{children:"Student Registration"}),i.jsx(nc,{children:"Please fill out all required information. Your request will be reviewed by the library administration."})]}),i.jsx(ys,{children:i.jsxs("form",{onSubmit:S,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[i.jsx(So,{className:"h-5 w-5"}),"Personal Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"name",children:"Full Name *"}),i.jsx(Pr,{id:"name",value:b.name,onChange:I=>v("name",I.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"father_name",children:"Father's Name"}),i.jsx(Pr,{id:"father_name",value:b.father_name,onChange:I=>v("father_name",I.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"phone",children:"Phone Number *"}),i.jsxs("div",{className:"relative",children:[i.jsx(cA,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Pr,{id:"phone",type:"tel",className:"pl-10",value:b.phone,onChange:I=>v("phone",I.target.value),required:!0})]})]}),i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"email",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ru,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Pr,{id:"email",type:"email",className:"pl-10",value:b.email,onChange:I=>v("email",I.target.value)})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"aadhar_number",children:"Aadhar Number"}),i.jsx(Pr,{id:"aadhar_number",value:b.aadhar_number,onChange:I=>v("aadhar_number",I.target.value)})]}),i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"registration_number",children:"Registration Number"}),i.jsx(Pr,{id:"registration_number",value:b.registration_number,onChange:I=>v("registration_number",I.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"address",children:"Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(I0,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(p0,{id:"address",className:"pl-10",value:b.address,onChange:I=>v("address",I.target.value),rows:3})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[i.jsx(Zl,{className:"h-5 w-5"}),"Library Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"branch_id",children:"Branch *"}),i.jsxs(Gl,{value:b.branch_id,onValueChange:I=>v("branch_id",I),children:[i.jsx(il,{children:i.jsx(Wl,{placeholder:"Select a branch"})}),i.jsx(ol,{children:r==null?void 0:r.branches.map(I=>i.jsx(Rs,{value:I.id.toString(),children:I.name},I.id))})]})]}),i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"seat_id",children:"Preferred Seat (Optional)"}),i.jsxs(Gl,{value:b.seat_id,onValueChange:I=>v("seat_id",I),children:[i.jsx(il,{children:i.jsx(Wl,{placeholder:"Select a seat"})}),i.jsxs(ol,{children:[i.jsx(Rs,{value:"none",children:"No preference"}),r==null?void 0:r.seats.map(I=>i.jsxs(Rs,{value:I.id.toString(),children:["Seat ",I.seat_number]},I.id))]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"locker_id",children:"Preferred Locker (Optional)"}),i.jsxs(Gl,{value:b.locker_id,onValueChange:I=>v("locker_id",I),children:[i.jsx(il,{children:i.jsx(Wl,{placeholder:"Select a locker"})}),i.jsxs(ol,{children:[i.jsx(Rs,{value:"none",children:"No locker needed"}),r==null?void 0:r.lockers.map(I=>i.jsxs(Rs,{value:I.id.toString(),children:["Locker ",I.locker_number]},I.id))]})]})]})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[i.jsx(ko,{className:"h-5 w-5"}),"Membership Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"membership_start",children:"Membership Start Date"}),i.jsx(Pr,{id:"membership_start",type:"date",value:b.membership_start,onChange:I=>v("membership_start",I.target.value)})]}),i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"membership_end",children:"Membership End Date"}),i.jsx(Pr,{id:"membership_end",type:"date",value:b.membership_end,onChange:I=>v("membership_end",I.target.value)})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[i.jsx(Qw,{className:"h-5 w-5"}),"Payment Information (Optional)"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"total_fee",children:"Total Fee"}),i.jsx(Pr,{id:"total_fee",type:"number",min:"0",step:"0.01",value:b.total_fee,onChange:I=>v("total_fee",I.target.value)})]}),i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"cash",children:"Cash Payment"}),i.jsx(Pr,{id:"cash",type:"number",min:"0",step:"0.01",value:b.cash,onChange:I=>v("cash",I.target.value)})]}),i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"online",children:"Online Payment"}),i.jsx(Pr,{id:"online",type:"number",min:"0",step:"0.01",value:b.online,onChange:I=>v("online",I.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"security_money",children:"Security Money"}),i.jsx(Pr,{id:"security_money",type:"number",min:"0",step:"0.01",value:b.security_money,onChange:I=>v("security_money",I.target.value)})]}),i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"discount",children:"Discount"}),i.jsx(Pr,{id:"discount",type:"number",min:"0",step:"0.01",value:b.discount,onChange:I=>v("discount",I.target.value)})]})]})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"remark",children:"Additional Notes"}),i.jsx(p0,{id:"remark",value:b.remark,onChange:I=>v("remark",I.target.value),rows:3,placeholder:"Any additional information you'd like to share..."})]})}),A&&i.jsxs(Dc,{variant:"destructive",children:[i.jsx(ci,{className:"h-4 w-4"}),i.jsx(_c,{children:A})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(Xt,{type:"submit",disabled:o,className:"flex-1",children:o?i.jsxs(i.Fragment,{children:[i.jsx(Js,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Registration Request"}),i.jsx(Xt,{type:"button",variant:"outline",onClick:()=>t("/"),disabled:o,children:"Cancel"})]})]})})]})]})})},Fye=()=>{const{libraryCode:e,phone:t}=lA(),r=Tr(),[n,s]=N.useState(e||""),[a,o]=N.useState(t||""),[l,A]=N.useState(null),[d,f]=N.useState(!1),[m,y]=N.useState(null),[g,b]=N.useState(!1);N.useEffect(()=>{e&&t&&C()},[e,t]);const C=async()=>{if(!n||!a){Fe.error("Please enter both library code and phone number");return}try{f(!0),y(null),b(!0);const I=await fetch(`${Ip}/public-registration/library/${n}/status/${a}`);if(!I.ok){if(I.status===404){const M=await I.json();throw new Error(M.message||"No registration request found")}throw new Error("Failed to check registration status")}const k=await I.json();A(k)}catch(I){const k=I instanceof Error?I.message:"Failed to check registration status";y(k),A(null)}finally{f(!1)}},F=I=>{switch(I){case"pending":return i.jsx(Xs,{className:"h-4 w-4"});case"accepted":return i.jsx(Hl,{className:"h-4 w-4"});case"rejected":return i.jsx(zd,{className:"h-4 w-4"});default:return i.jsx(ci,{className:"h-4 w-4"})}},v=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"accepted":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return i.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsx(Cn,{className:"mb-6",children:i.jsxs(ya,{children:[i.jsxs(wa,{className:"flex items-center gap-2",children:[i.jsx(ec,{className:"h-6 w-6"}),"Check Registration Status"]}),i.jsx(nc,{children:"Enter your library code and phone number to check your registration request status"})]})}),i.jsx(Cn,{className:"mb-6",children:i.jsx(ys,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"libraryCode",children:"Library Code"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Pr,{id:"libraryCode",placeholder:"e.g., LIB001",className:"pl-10",value:n,onChange:I=>s(I.target.value.toUpperCase())})]})]}),i.jsxs("div",{children:[i.jsx(Lt,{htmlFor:"phone",children:"Phone Number"}),i.jsxs("div",{className:"relative",children:[i.jsx(cA,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(Pr,{id:"phone",type:"tel",placeholder:"Your phone number",className:"pl-10",value:a,onChange:I=>o(I.target.value)})]})]})]}),i.jsx(Xt,{onClick:C,disabled:d,className:"w-full",children:d?i.jsxs(i.Fragment,{children:[i.jsx(Js,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ec,{className:"mr-2 h-4 w-4"}),"Check Status"]})})]})})}),m&&g&&i.jsxs(Dc,{variant:"destructive",className:"mb-6",children:[i.jsx(ci,{className:"h-4 w-4"}),i.jsx(_c,{children:m})]}),l&&i.jsxs(Cn,{children:[i.jsxs(ya,{children:[i.jsxs(wa,{className:"flex items-center gap-2",children:[i.jsx(Zl,{className:"h-5 w-5"}),l.library.name]}),i.jsxs(nc,{children:["Library Code: ",l.library.code]})]}),i.jsxs(ys,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(So,{className:"h-5 w-5 text-gray-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:l.request.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Request ID: #",l.request.id]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Status:"}),i.jsxs(rh,{className:`${v(l.request.status)} flex items-center gap-1`,children:[F(l.request.status),l.request.status.charAt(0).toUpperCase()+l.request.status.slice(1)]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[i.jsx("span",{className:"text-sm font-medium",children:"Submitted"}),i.jsx("span",{className:"text-sm text-gray-600",children:S(l.request.submittedAt)})]}),l.request.lastUpdated!==l.request.submittedAt&&i.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[i.jsx("span",{className:"text-sm font-medium",children:"Last Updated"}),i.jsx("span",{className:"text-sm text-gray-600",children:S(l.request.lastUpdated)})]}),l.request.processedAt&&i.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[i.jsx("span",{className:"text-sm font-medium",children:"Processed"}),i.jsx("span",{className:"text-sm text-gray-600",children:S(l.request.processedAt)})]})]}),l.request.status==="pending"&&i.jsxs(Dc,{children:[i.jsx(Xs,{className:"h-4 w-4"}),i.jsx(_c,{children:"Your registration request is currently being reviewed by the library administration. You will be contacted once a decision is made."})]}),l.request.status==="accepted"&&i.jsxs(Dc,{className:"border-green-200 bg-green-50",children:[i.jsx(Hl,{className:"h-4 w-4 text-green-600"}),i.jsx(_c,{className:"text-green-800",children:"Congratulations! Your registration request has been accepted. You should have received contact information from the library administration."})]}),l.request.status==="rejected"&&i.jsxs(Dc,{variant:"destructive",children:[i.jsx(zd,{className:"h-4 w-4"}),i.jsxs(_c,{children:["Your registration request has been rejected.",l.request.rejectionReason&&i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx("strong",{children:"Reason:"})," ",l.request.rejectionReason]})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx(Xt,{onClick:()=>r(`/register/${l.library.code}`),variant:"outline",className:"flex-1",children:"New Registration"}),i.jsx(Xt,{onClick:()=>window.location.reload(),variant:"outline",className:"flex-1",children:"Refresh Status"})]})]})]}),g&&!l&&!m&&!d&&i.jsx(Cn,{children:i.jsxs(ys,{className:"pt-6 text-center",children:[i.jsx(ci,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Registration Found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"No registration request was found for the provided library code and phone number."}),i.jsx(Xt,{onClick:()=>r("/"),variant:"outline",children:"Go Home"})]})})]})})},Iye=new JK;function Sr({children:e}){const{isLoading:t,isAuthenticated:r}=hi();return t?i.jsx("div",{children:"Loading..."}):r?e:i.jsx(Xk,{to:"/owner-login"})}function jye(){return i.jsxs(rW,{children:[i.jsx(er,{path:"/owner-register",element:i.jsx(oge,{})}),i.jsx(er,{path:"/owner-login",element:i.jsx(cge,{})}),i.jsx(er,{path:"/student-login",element:i.jsx(Age,{})}),i.jsx(er,{path:"/student-dashboard",element:i.jsx(Mge,{})}),i.jsx(er,{path:"/",element:i.jsx(Uge,{})}),i.jsx(er,{path:"/dashboard",element:i.jsx(Sr,{children:i.jsx(jte,{})})}),i.jsx(er,{path:"/barcode",element:i.jsx(Sr,{children:i.jsx(Qge,{})})}),i.jsx(er,{path:"/hostel-dashboard",element:i.jsx(Sr,{children:i.jsx(Zpe,{})})}),i.jsx(er,{path:"/hostel/active-students",element:i.jsx(Sr,{children:i.jsx(ege,{})})}),i.jsx(er,{path:"/students",element:i.jsx(Sr,{children:i.jsx(lle,{})})}),i.jsx(er,{path:"/students/add",element:i.jsx(Sr,{children:i.jsx(xO,{})})}),i.jsx(er,{path:"/students/:id",element:i.jsx(Sr,{children:i.jsx(rde,{})})}),i.jsx(er,{path:"/students/:id/edit",element:i.jsx(Sr,{children:i.jsx(qde,{})})}),i.jsx(er,{path:"/attendance",element:i.jsx(Sr,{children:i.jsx(nge,{})})}),i.jsx(er,{path:"/qr-test",element:i.jsx(Sr,{children:i.jsx(sge,{})})}),i.jsx(er,{path:"/active-students",element:i.jsx(Sr,{children:i.jsx(Pte,{})})}),i.jsx(er,{path:"/expired-memberships",element:i.jsx(Sr,{children:i.jsx(tde,{})})}),i.jsx(er,{path:"/expiring-memberships",element:i.jsx(Sr,{children:i.jsx(WI,{})})}),i.jsx(er,{path:"/inactive-students",element:i.jsx(Sr,{children:i.jsx(tge,{})})}),i.jsx(er,{path:"/expiring-memberships",element:i.jsx(Sr,{children:i.jsx(WI,{})})}),i.jsx(er,{path:"/schedule",element:i.jsx(Sr,{children:i.jsx(Mde,{})})}),i.jsx(er,{path:"/shifts",element:i.jsx(Sr,{children:i.jsx(Jde,{})})}),i.jsx(er,{path:"/shifts/:id/students",element:i.jsx(Sr,{children:i.jsx(Zde,{})})}),i.jsx(er,{path:"/seats",element:i.jsx(Sr,{children:i.jsx(Xde,{})})}),i.jsx(er,{path:"/settings",element:i.jsx(Sr,{children:i.jsx(zde,{})})}),i.jsx(er,{path:"/users/new",element:i.jsx(pj,{children:i.jsx($de,{})})}),i.jsx(er,{path:"/hostel",element:i.jsx(Sr,{children:i.jsx(rhe,{})})}),i.jsx(er,{path:"/hostel/branches/:branchId/students",element:i.jsx(Sr,{children:i.jsx(she,{})})}),i.jsx(er,{path:"/hostel/students/:id",element:i.jsx(Sr,{children:i.jsx(ihe,{})})}),i.jsx(er,{path:"/hostel/students/:id/edit",element:i.jsx(Sr,{children:i.jsx(ohe,{})})}),i.jsx(er,{path:"/hostel/collections",element:i.jsx(Sr,{children:i.jsx(qpe,{})})}),i.jsx(er,{path:"/hostel/expired",element:i.jsx(Sr,{children:i.jsx(Xpe,{})})}),i.jsx(er,{path:"/transactions",element:i.jsx(Sr,{children:i.jsx(Gpe,{})})}),i.jsx(er,{path:"/collections",element:i.jsx(Sr,{children:i.jsx(Wpe,{})})}),i.jsx(er,{path:"/expenses",element:i.jsx(Sr,{children:i.jsx(zpe,{})})}),i.jsx(er,{path:"/profit-loss",element:i.jsx(Sr,{children:i.jsx($pe,{})})}),i.jsx(er,{path:"/branches",element:i.jsx(Sr,{children:i.jsx(Ype,{})})}),i.jsx(er,{path:"/products",element:i.jsx(Sr,{children:i.jsx(Jpe,{})})}),i.jsx(er,{path:"/announcements",element:i.jsx(Sr,{children:i.jsx(nye,{})})}),i.jsx(er,{path:"/admission-requests",element:i.jsx(Sr,{children:i.jsx(Sye,{})})}),i.jsx(er,{path:"/register/:libraryCode",element:i.jsx(Eye,{})}),i.jsx(er,{path:"/registration-status/:libraryCode?/:phone?",element:i.jsx(Fye,{})}),i.jsx(er,{path:"/public-queries",element:i.jsx(Sr,{children:i.jsx(fU,{})})}),i.jsx(er,{path:"/admin/queries",element:i.jsx(pj,{children:i.jsx(aye,{})})}),i.jsx(er,{path:"/queries/new",element:i.jsx(Sr,{children:i.jsx(oye,{})})}),i.jsx(er,{path:"/queries/:id",element:i.jsx(Sr,{children:i.jsx(iye,{})})}),i.jsx(er,{path:"/lockers",element:i.jsx(Sr,{children:i.jsx(rge,{})})}),i.jsx(er,{path:"/subscription",element:i.jsx(Sr,{children:i.jsx(ige,{})})}),i.jsx(er,{path:"*",element:i.jsx(Tte,{})})]})}function Tye(){return i.jsx(nG,{client:Iye,children:i.jsx(QP,{children:i.jsx(wX,{children:i.jsxs(AW,{children:[i.jsx(jye,{}),i.jsx(WV,{}),i.jsx(RK,{position:"top-right"})]})})})})}Bk(document.getElementById("root")).render(i.jsx(Tye,{}));export{vm as _,Yh as c,Jp as g};
