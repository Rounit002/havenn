var iW=Object.defineProperty;var nj=e=>{throw TypeError(e)};var oW=(e,t,r)=>t in e?iW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Bn=(e,t,r)=>oW(e,typeof t!="symbol"?t+"":t,r),Nb=(e,t,r)=>t.has(e)||nj("Cannot "+r);var Fe=(e,t,r)=>(Nb(e,t,"read from private field"),r?r.call(e):t.get(e)),cr=(e,t,r)=>t.has(e)?nj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),kt=(e,t,r,n)=>(Nb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Rr=(e,t,r)=>(Nb(e,t,"access private method"),r);var J1=(e,t,r,n)=>({set _(s){kt(e,t,s,r)},get _(){return Fe(e,t,n)}});function DL(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var OL={exports:{}},I2={},RL={exports:{}},Vr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1=Symbol.for("react.element"),lW=Symbol.for("react.portal"),cW=Symbol.for("react.fragment"),AW=Symbol.for("react.strict_mode"),uW=Symbol.for("react.profiler"),dW=Symbol.for("react.provider"),hW=Symbol.for("react.context"),fW=Symbol.for("react.forward_ref"),mW=Symbol.for("react.suspense"),pW=Symbol.for("react.memo"),gW=Symbol.for("react.lazy"),sj=Symbol.iterator;function xW(e){return e===null||typeof e!="object"?null:(e=sj&&e[sj]||e["@@iterator"],typeof e=="function"?e:null)}var ML={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UL=Object.assign,QL={};function lm(e,t,r){this.props=e,this.context=t,this.refs=QL,this.updater=r||ML}lm.prototype.isReactComponent={};lm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function HL(){}HL.prototype=lm.prototype;function oB(e,t,r){this.props=e,this.context=t,this.refs=QL,this.updater=r||ML}var lB=oB.prototype=new HL;lB.constructor=oB;UL(lB,lm.prototype);lB.isPureReactComponent=!0;var aj=Array.isArray,VL=Object.prototype.hasOwnProperty,cB={current:null},KL={key:!0,ref:!0,__self:!0,__source:!0};function WL(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)VL.call(t,n)&&!KL.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var A=Array(l),u=0;u<l;u++)A[u]=arguments[u+2];s.children=A}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:s1,type:e,key:i,ref:o,props:s,_owner:cB.current}}function wW(e,t){return{$$typeof:s1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function AB(e){return typeof e=="object"&&e!==null&&e.$$typeof===s1}function yW(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ij=/\/+/g;function Bb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yW(""+e.key):t.toString(36)}function pw(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s1:case lW:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Bb(o,0):n,aj(s)?(r="",e!=null&&(r=e.replace(ij,"$&/")+"/"),pw(s,t,r,"",function(u){return u})):s!=null&&(AB(s)&&(s=wW(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ij,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",aj(e))for(var l=0;l<e.length;l++){i=e[l];var A=n+Bb(i,l);o+=pw(i,t,r,A,s)}else if(A=xW(e),typeof A=="function")for(e=A.call(e),l=0;!(i=e.next()).done;)i=i.value,A=n+Bb(i,l++),o+=pw(i,t,r,A,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ex(e,t,r){if(e==null)return e;var n=[],s=0;return pw(e,n,"","",function(i){return t.call(r,i,s++)}),n}function vW(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fi={current:null},gw={transition:null},bW={ReactCurrentDispatcher:Fi,ReactCurrentBatchConfig:gw,ReactCurrentOwner:cB};function GL(){throw Error("act(...) is not supported in production builds of React.")}Vr.Children={map:ex,forEach:function(e,t,r){ex(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ex(e,function(){t++}),t},toArray:function(e){return ex(e,function(t){return t})||[]},only:function(e){if(!AB(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vr.Component=lm;Vr.Fragment=cW;Vr.Profiler=uW;Vr.PureComponent=oB;Vr.StrictMode=AW;Vr.Suspense=mW;Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bW;Vr.act=GL;Vr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=UL({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=cB.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(A in t)VL.call(t,A)&&!KL.hasOwnProperty(A)&&(n[A]=t[A]===void 0&&l!==void 0?l[A]:t[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){l=Array(A);for(var u=0;u<A;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:s1,type:e.type,key:s,ref:i,props:n,_owner:o}};Vr.createContext=function(e){return e={$$typeof:hW,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dW,_context:e},e.Consumer=e};Vr.createElement=WL;Vr.createFactory=function(e){var t=WL.bind(null,e);return t.type=e,t};Vr.createRef=function(){return{current:null}};Vr.forwardRef=function(e){return{$$typeof:fW,render:e}};Vr.isValidElement=AB;Vr.lazy=function(e){return{$$typeof:gW,_payload:{_status:-1,_result:e},_init:vW}};Vr.memo=function(e,t){return{$$typeof:pW,type:e,compare:t===void 0?null:t}};Vr.startTransition=function(e){var t=gw.transition;gw.transition={};try{e()}finally{gw.transition=t}};Vr.unstable_act=GL;Vr.useCallback=function(e,t){return Fi.current.useCallback(e,t)};Vr.useContext=function(e){return Fi.current.useContext(e)};Vr.useDebugValue=function(){};Vr.useDeferredValue=function(e){return Fi.current.useDeferredValue(e)};Vr.useEffect=function(e,t){return Fi.current.useEffect(e,t)};Vr.useId=function(){return Fi.current.useId()};Vr.useImperativeHandle=function(e,t,r){return Fi.current.useImperativeHandle(e,t,r)};Vr.useInsertionEffect=function(e,t){return Fi.current.useInsertionEffect(e,t)};Vr.useLayoutEffect=function(e,t){return Fi.current.useLayoutEffect(e,t)};Vr.useMemo=function(e,t){return Fi.current.useMemo(e,t)};Vr.useReducer=function(e,t,r){return Fi.current.useReducer(e,t,r)};Vr.useRef=function(e){return Fi.current.useRef(e)};Vr.useState=function(e){return Fi.current.useState(e)};Vr.useSyncExternalStore=function(e,t,r){return Fi.current.useSyncExternalStore(e,t,r)};Vr.useTransition=function(){return Fi.current.useTransition()};Vr.version="18.3.1";RL.exports=Vr;var C=RL.exports;const Ze=n1(C),U0=DL({__proto__:null,default:Ze},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CW=C,NW=Symbol.for("react.element"),BW=Symbol.for("react.fragment"),SW=Object.prototype.hasOwnProperty,EW=CW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jW={key:!0,ref:!0,__self:!0,__source:!0};function zL(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)SW.call(t,n)&&!jW.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:NW,type:e,key:i,ref:o,props:s,_owner:EW.current}}I2.Fragment=BW;I2.jsx=zL;I2.jsxs=zL;OL.exports=I2;var a=OL.exports,$L={exports:{}},_o={},qL={exports:{}},XL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,K){var le=X.length;X.push(K);e:for(;0<le;){var ne=le-1>>>1,U=X[ne];if(0<s(U,K))X[ne]=K,X[le]=U,le=ne;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var K=X[0],le=X.pop();if(le!==K){X[0]=le;e:for(var ne=0,U=X.length,Y=U>>>1;ne<Y;){var se=2*(ne+1)-1,ce=X[se],Ae=se+1,ge=X[Ae];if(0>s(ce,le))Ae<U&&0>s(ge,ce)?(X[ne]=ge,X[Ae]=le,ne=Ae):(X[ne]=ce,X[se]=le,ne=se);else if(Ae<U&&0>s(ge,le))X[ne]=ge,X[Ae]=le,ne=Ae;else break e}}return K}function s(X,K){var le=X.sortIndex-K.sortIndex;return le!==0?le:X.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var A=[],u=[],h=1,m=null,w=3,p=!1,b=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(X){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=X)n(u),K.sortIndex=K.expirationTime,t(A,K);else break;K=r(u)}}function _(X){if(N=!1,I(X),!b)if(r(A)!==null)b=!0,q(O);else{var K=r(u);K!==null&&W(_,K.startTime-X)}}function O(X,K){b=!1,N&&(N=!1,y(L),L=-1),p=!0;var le=w;try{for(I(K),m=r(A);m!==null&&(!(m.expirationTime>K)||X&&!M());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,w=m.priorityLevel;var U=ne(m.expirationTime<=K);K=e.unstable_now(),typeof U=="function"?m.callback=U:m===r(A)&&n(A),I(K)}else n(A);m=r(A)}if(m!==null)var Y=!0;else{var se=r(u);se!==null&&W(_,se.startTime-K),Y=!1}return Y}finally{m=null,w=le,p=!1}}var H=!1,D=null,L=-1,T=5,G=-1;function M(){return!(e.unstable_now()-G<T)}function V(){if(D!==null){var X=e.unstable_now();G=X;var K=!0;try{K=D(!0,X)}finally{K?J():(H=!1,D=null)}}else H=!1}var J;if(typeof B=="function")J=function(){B(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=V,J=function(){ee.postMessage(null)}}else J=function(){j(V,0)};function q(X){D=X,H||(H=!0,J())}function W(X,K){L=j(function(){X(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,q(O))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(A)},e.unstable_next=function(X){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var le=w;w=K;try{return X()}finally{w=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,K){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var le=w;w=X;try{return K()}finally{w=le}},e.unstable_scheduleCallback=function(X,K,le){var ne=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ne+le:ne):le=ne,X){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=le+U,X={id:h++,callback:K,priorityLevel:X,startTime:le,expirationTime:U,sortIndex:-1},le>ne?(X.sortIndex=le,t(u,X),r(A)===null&&X===r(u)&&(N?(y(L),L=-1):N=!0,W(_,le-ne))):(X.sortIndex=U,t(A,X),b||p||(b=!0,q(O))),X},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(X){var K=w;return function(){var le=w;w=K;try{return X.apply(this,arguments)}finally{w=le}}}})(XL);qL.exports=XL;var IW=qL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FW=C,jo=IW;function mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YL=new Set,eg={};function cf(e,t){Q0(e,t),Q0(e+"Capture",t)}function Q0(e,t){for(eg[e]=t,e=0;e<t.length;e++)YL.add(t[e])}var TA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qC=Object.prototype.hasOwnProperty,kW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oj={},lj={};function _W(e){return qC.call(lj,e)?!0:qC.call(oj,e)?!1:kW.test(e)?lj[e]=!0:(oj[e]=!0,!1)}function TW(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LW(e,t,r,n){if(t===null||typeof t>"u"||TW(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ki(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ra={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ra[e]=new ki(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ra[t]=new ki(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ra[e]=new ki(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ra[e]=new ki(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ra[e]=new ki(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ra[e]=new ki(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ra[e]=new ki(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ra[e]=new ki(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ra[e]=new ki(e,5,!1,e.toLowerCase(),null,!1,!1)});var uB=/[\-:]([a-z])/g;function dB(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uB,dB);Ra[t]=new ki(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uB,dB);Ra[t]=new ki(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uB,dB);Ra[t]=new ki(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ra[e]=new ki(e,1,!1,e.toLowerCase(),null,!1,!1)});Ra.xlinkHref=new ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ra[e]=new ki(e,1,!1,e.toLowerCase(),null,!0,!0)});function hB(e,t,r,n){var s=Ra.hasOwnProperty(t)?Ra[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LW(t,r,s,n)&&(r=null),n||s===null?_W(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var GA=FW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tx=Symbol.for("react.element"),Hf=Symbol.for("react.portal"),Vf=Symbol.for("react.fragment"),fB=Symbol.for("react.strict_mode"),XC=Symbol.for("react.profiler"),ZL=Symbol.for("react.provider"),JL=Symbol.for("react.context"),mB=Symbol.for("react.forward_ref"),YC=Symbol.for("react.suspense"),ZC=Symbol.for("react.suspense_list"),pB=Symbol.for("react.memo"),_u=Symbol.for("react.lazy"),e7=Symbol.for("react.offscreen"),cj=Symbol.iterator;function Lm(e){return e===null||typeof e!="object"?null:(e=cj&&e[cj]||e["@@iterator"],typeof e=="function"?e:null)}var ms=Object.assign,Sb;function ap(e){if(Sb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Sb=t&&t[1]||""}return`
`+Sb+e}var Eb=!1;function jb(e,t){if(!e||Eb)return"";Eb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var A=`
`+s[o].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=o&&0<=l);break}}}finally{Eb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ap(e):""}function PW(e){switch(e.tag){case 5:return ap(e.type);case 16:return ap("Lazy");case 13:return ap("Suspense");case 19:return ap("SuspenseList");case 0:case 2:case 15:return e=jb(e.type,!1),e;case 11:return e=jb(e.type.render,!1),e;case 1:return e=jb(e.type,!0),e;default:return""}}function JC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vf:return"Fragment";case Hf:return"Portal";case XC:return"Profiler";case fB:return"StrictMode";case YC:return"Suspense";case ZC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JL:return(e.displayName||"Context")+".Consumer";case ZL:return(e._context.displayName||"Context")+".Provider";case mB:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pB:return t=e.displayName||null,t!==null?t:JC(e.type)||"Memo";case _u:t=e._payload,e=e._init;try{return JC(e(t))}catch{}}return null}function DW(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return JC(t);case 8:return t===fB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function t7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OW(e){var t=t7(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rx(e){e._valueTracker||(e._valueTracker=OW(e))}function r7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=t7(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ay(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function e4(e,t){var r=t.checked;return ms({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Aj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function n7(e,t){t=t.checked,t!=null&&hB(e,"checked",t,!1)}function t4(e,t){n7(e,t);var r=Nd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?r4(e,t.type,r):t.hasOwnProperty("defaultValue")&&r4(e,t.type,Nd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function r4(e,t,r){(t!=="number"||ay(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ip=Array.isArray;function c0(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nd(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function n4(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(mt(91));return ms({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(mt(92));if(ip(r)){if(1<r.length)throw Error(mt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nd(r)}}function s7(e,t){var r=Nd(t.value),n=Nd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function hj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function s4(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nx,i7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nx=nx||document.createElement("div"),nx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function tg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RW=["Webkit","ms","Moz","O"];Object.keys(jp).forEach(function(e){RW.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jp[t]=jp[e]})});function o7(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jp.hasOwnProperty(e)&&jp[e]?(""+t).trim():t+"px"}function l7(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=o7(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var MW=ms({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a4(e,t){if(t){if(MW[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(mt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(mt(62))}}function i4(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o4=null;function gB(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var l4=null,A0=null,u0=null;function fj(e){if(e=o1(e)){if(typeof l4!="function")throw Error(mt(280));var t=e.stateNode;t&&(t=L2(t),l4(e.stateNode,e.type,t))}}function c7(e){A0?u0?u0.push(e):u0=[e]:A0=e}function A7(){if(A0){var e=A0,t=u0;if(u0=A0=null,fj(e),t)for(e=0;e<t.length;e++)fj(t[e])}}function u7(e,t){return e(t)}function d7(){}var Ib=!1;function h7(e,t,r){if(Ib)return e(t,r);Ib=!0;try{return u7(e,t,r)}finally{Ib=!1,(A0!==null||u0!==null)&&(d7(),A7())}}function rg(e,t){var r=e.stateNode;if(r===null)return null;var n=L2(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(mt(231,t,typeof r));return r}var c4=!1;if(TA)try{var Pm={};Object.defineProperty(Pm,"passive",{get:function(){c4=!0}}),window.addEventListener("test",Pm,Pm),window.removeEventListener("test",Pm,Pm)}catch{c4=!1}function UW(e,t,r,n,s,i,o,l,A){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Ip=!1,iy=null,oy=!1,A4=null,QW={onError:function(e){Ip=!0,iy=e}};function HW(e,t,r,n,s,i,o,l,A){Ip=!1,iy=null,UW.apply(QW,arguments)}function VW(e,t,r,n,s,i,o,l,A){if(HW.apply(this,arguments),Ip){if(Ip){var u=iy;Ip=!1,iy=null}else throw Error(mt(198));oy||(oy=!0,A4=u)}}function Af(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mj(e){if(Af(e)!==e)throw Error(mt(188))}function KW(e){var t=e.alternate;if(!t){if(t=Af(e),t===null)throw Error(mt(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return mj(s),e;if(i===n)return mj(s),t;i=i.sibling}throw Error(mt(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(mt(189))}}if(r.alternate!==n)throw Error(mt(190))}if(r.tag!==3)throw Error(mt(188));return r.stateNode.current===r?e:t}function m7(e){return e=KW(e),e!==null?p7(e):null}function p7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=p7(e);if(t!==null)return t;e=e.sibling}return null}var g7=jo.unstable_scheduleCallback,pj=jo.unstable_cancelCallback,WW=jo.unstable_shouldYield,GW=jo.unstable_requestPaint,Os=jo.unstable_now,zW=jo.unstable_getCurrentPriorityLevel,xB=jo.unstable_ImmediatePriority,x7=jo.unstable_UserBlockingPriority,ly=jo.unstable_NormalPriority,$W=jo.unstable_LowPriority,w7=jo.unstable_IdlePriority,F2=null,Nc=null;function qW(e){if(Nc&&typeof Nc.onCommitFiberRoot=="function")try{Nc.onCommitFiberRoot(F2,e,void 0,(e.current.flags&128)===128)}catch{}}var Pl=Math.clz32?Math.clz32:ZW,XW=Math.log,YW=Math.LN2;function ZW(e){return e>>>=0,e===0?32:31-(XW(e)/YW|0)|0}var sx=64,ax=4194304;function op(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=op(l):(i&=o,i!==0&&(n=op(i)))}else o=r&~s,o!==0?n=op(o):i!==0&&(n=op(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pl(t),s=1<<r,n|=e[r],t&=~s;return n}function JW(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Pl(i),l=1<<o,A=s[o];A===-1?(!(l&r)||l&n)&&(s[o]=JW(l,t)):A<=t&&(e.expiredLanes|=l),i&=~l}}function u4(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function y7(){var e=sx;return sx<<=1,!(sx&4194240)&&(sx=64),e}function Fb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function a1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pl(t),e[t]=r}function tG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Pl(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function wB(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pl(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var En=0;function v7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var b7,yB,C7,N7,B7,d4=!1,ix=[],od=null,ld=null,cd=null,ng=new Map,sg=new Map,Pu=[],rG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gj(e,t){switch(e){case"focusin":case"focusout":od=null;break;case"dragenter":case"dragleave":ld=null;break;case"mouseover":case"mouseout":cd=null;break;case"pointerover":case"pointerout":ng.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sg.delete(t.pointerId)}}function Dm(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=o1(t),t!==null&&yB(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function nG(e,t,r,n,s){switch(t){case"focusin":return od=Dm(od,e,t,r,n,s),!0;case"dragenter":return ld=Dm(ld,e,t,r,n,s),!0;case"mouseover":return cd=Dm(cd,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ng.set(i,Dm(ng.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,sg.set(i,Dm(sg.get(i)||null,e,t,r,n,s)),!0}return!1}function S7(e){var t=ch(e.target);if(t!==null){var r=Af(t);if(r!==null){if(t=r.tag,t===13){if(t=f7(r),t!==null){e.blockedOn=t,B7(e.priority,function(){C7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=h4(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);o4=n,r.target.dispatchEvent(n),o4=null}else return t=o1(r),t!==null&&yB(t),e.blockedOn=r,!1;t.shift()}return!0}function xj(e,t,r){xw(e)&&r.delete(t)}function sG(){d4=!1,od!==null&&xw(od)&&(od=null),ld!==null&&xw(ld)&&(ld=null),cd!==null&&xw(cd)&&(cd=null),ng.forEach(xj),sg.forEach(xj)}function Om(e,t){e.blockedOn===t&&(e.blockedOn=null,d4||(d4=!0,jo.unstable_scheduleCallback(jo.unstable_NormalPriority,sG)))}function ag(e){function t(s){return Om(s,e)}if(0<ix.length){Om(ix[0],e);for(var r=1;r<ix.length;r++){var n=ix[r];n.blockedOn===e&&(n.blockedOn=null)}}for(od!==null&&Om(od,e),ld!==null&&Om(ld,e),cd!==null&&Om(cd,e),ng.forEach(t),sg.forEach(t),r=0;r<Pu.length;r++)n=Pu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Pu.length&&(r=Pu[0],r.blockedOn===null);)S7(r),r.blockedOn===null&&Pu.shift()}var d0=GA.ReactCurrentBatchConfig,Ay=!0;function aG(e,t,r,n){var s=En,i=d0.transition;d0.transition=null;try{En=1,vB(e,t,r,n)}finally{En=s,d0.transition=i}}function iG(e,t,r,n){var s=En,i=d0.transition;d0.transition=null;try{En=4,vB(e,t,r,n)}finally{En=s,d0.transition=i}}function vB(e,t,r,n){if(Ay){var s=h4(e,t,r,n);if(s===null)Ub(e,t,n,uy,r),gj(e,n);else if(nG(s,e,t,r,n))n.stopPropagation();else if(gj(e,n),t&4&&-1<rG.indexOf(e)){for(;s!==null;){var i=o1(s);if(i!==null&&b7(i),i=h4(e,t,r,n),i===null&&Ub(e,t,n,uy,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ub(e,t,n,null,r)}}var uy=null;function h4(e,t,r,n){if(uy=null,e=gB(n),e=ch(e),e!==null)if(t=Af(e),t===null)e=null;else if(r=t.tag,r===13){if(e=f7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uy=e,null}function E7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zW()){case xB:return 1;case x7:return 4;case ly:case $W:return 16;case w7:return 536870912;default:return 16}default:return 16}}var Xu=null,bB=null,ww=null;function j7(){if(ww)return ww;var e,t=bB,r=t.length,n,s="value"in Xu?Xu.value:Xu.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return ww=s.slice(e,1<n?1-n:void 0)}function yw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ox(){return!0}function wj(){return!1}function To(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ox:wj,this.isPropagationStopped=wj,this}return ms(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ox)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ox)},persist:function(){},isPersistent:ox}),t}var cm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CB=To(cm),i1=ms({},cm,{view:0,detail:0}),oG=To(i1),kb,_b,Rm,k2=ms({},i1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NB,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rm&&(Rm&&e.type==="mousemove"?(kb=e.screenX-Rm.screenX,_b=e.screenY-Rm.screenY):_b=kb=0,Rm=e),kb)},movementY:function(e){return"movementY"in e?e.movementY:_b}}),yj=To(k2),lG=ms({},k2,{dataTransfer:0}),cG=To(lG),AG=ms({},i1,{relatedTarget:0}),Tb=To(AG),uG=ms({},cm,{animationName:0,elapsedTime:0,pseudoElement:0}),dG=To(uG),hG=ms({},cm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fG=To(hG),mG=ms({},cm,{data:0}),vj=To(mG),pG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xG[e])?!!t[e]:!1}function NB(){return wG}var yG=ms({},i1,{key:function(e){if(e.key){var t=pG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gG[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NB,charCode:function(e){return e.type==="keypress"?yw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vG=To(yG),bG=ms({},k2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bj=To(bG),CG=ms({},i1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NB}),NG=To(CG),BG=ms({},cm,{propertyName:0,elapsedTime:0,pseudoElement:0}),SG=To(BG),EG=ms({},k2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jG=To(EG),IG=[9,13,27,32],BB=TA&&"CompositionEvent"in window,Fp=null;TA&&"documentMode"in document&&(Fp=document.documentMode);var FG=TA&&"TextEvent"in window&&!Fp,I7=TA&&(!BB||Fp&&8<Fp&&11>=Fp),Cj=" ",Nj=!1;function F7(e,t){switch(e){case"keyup":return IG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kf=!1;function kG(e,t){switch(e){case"compositionend":return k7(t);case"keypress":return t.which!==32?null:(Nj=!0,Cj);case"textInput":return e=t.data,e===Cj&&Nj?null:e;default:return null}}function _G(e,t){if(Kf)return e==="compositionend"||!BB&&F7(e,t)?(e=j7(),ww=bB=Xu=null,Kf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return I7&&t.locale!=="ko"?null:t.data;default:return null}}var TG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TG[e.type]:t==="textarea"}function _7(e,t,r,n){c7(n),t=dy(t,"onChange"),0<t.length&&(r=new CB("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kp=null,ig=null;function LG(e){V7(e,0)}function _2(e){var t=zf(e);if(r7(t))return e}function PG(e,t){if(e==="change")return t}var T7=!1;if(TA){var Lb;if(TA){var Pb="oninput"in document;if(!Pb){var Sj=document.createElement("div");Sj.setAttribute("oninput","return;"),Pb=typeof Sj.oninput=="function"}Lb=Pb}else Lb=!1;T7=Lb&&(!document.documentMode||9<document.documentMode)}function Ej(){kp&&(kp.detachEvent("onpropertychange",L7),ig=kp=null)}function L7(e){if(e.propertyName==="value"&&_2(ig)){var t=[];_7(t,ig,e,gB(e)),h7(LG,t)}}function DG(e,t,r){e==="focusin"?(Ej(),kp=t,ig=r,kp.attachEvent("onpropertychange",L7)):e==="focusout"&&Ej()}function OG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _2(ig)}function RG(e,t){if(e==="click")return _2(t)}function MG(e,t){if(e==="input"||e==="change")return _2(t)}function UG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hl=typeof Object.is=="function"?Object.is:UG;function og(e,t){if(Hl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!qC.call(t,s)||!Hl(e[s],t[s]))return!1}return!0}function jj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ij(e,t){var r=jj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=jj(r)}}function P7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function D7(){for(var e=window,t=ay();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ay(e.document)}return t}function SB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QG(e){var t=D7(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&P7(r.ownerDocument.documentElement,r)){if(n!==null&&SB(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Ij(r,i);var o=Ij(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HG=TA&&"documentMode"in document&&11>=document.documentMode,Wf=null,f4=null,_p=null,m4=!1;function Fj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;m4||Wf==null||Wf!==ay(n)||(n=Wf,"selectionStart"in n&&SB(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_p&&og(_p,n)||(_p=n,n=dy(f4,"onSelect"),0<n.length&&(t=new CB("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wf)))}function lx(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gf={animationend:lx("Animation","AnimationEnd"),animationiteration:lx("Animation","AnimationIteration"),animationstart:lx("Animation","AnimationStart"),transitionend:lx("Transition","TransitionEnd")},Db={},O7={};TA&&(O7=document.createElement("div").style,"AnimationEvent"in window||(delete Gf.animationend.animation,delete Gf.animationiteration.animation,delete Gf.animationstart.animation),"TransitionEvent"in window||delete Gf.transitionend.transition);function T2(e){if(Db[e])return Db[e];if(!Gf[e])return e;var t=Gf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in O7)return Db[e]=t[r];return e}var R7=T2("animationend"),M7=T2("animationiteration"),U7=T2("animationstart"),Q7=T2("transitionend"),H7=new Map,kj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pd(e,t){H7.set(e,t),cf(t,[e])}for(var Ob=0;Ob<kj.length;Ob++){var Rb=kj[Ob],VG=Rb.toLowerCase(),KG=Rb[0].toUpperCase()+Rb.slice(1);Pd(VG,"on"+KG)}Pd(R7,"onAnimationEnd");Pd(M7,"onAnimationIteration");Pd(U7,"onAnimationStart");Pd("dblclick","onDoubleClick");Pd("focusin","onFocus");Pd("focusout","onBlur");Pd(Q7,"onTransitionEnd");Q0("onMouseEnter",["mouseout","mouseover"]);Q0("onMouseLeave",["mouseout","mouseover"]);Q0("onPointerEnter",["pointerout","pointerover"]);Q0("onPointerLeave",["pointerout","pointerover"]);cf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cf("onBeforeInput",["compositionend","keypress","textInput","paste"]);cf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WG=new Set("cancel close invalid load scroll toggle".split(" ").concat(lp));function _j(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,VW(n,t,void 0,e),e.currentTarget=null}function V7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],A=l.instance,u=l.currentTarget;if(l=l.listener,A!==i&&s.isPropagationStopped())break e;_j(s,l,u),i=A}else for(o=0;o<n.length;o++){if(l=n[o],A=l.instance,u=l.currentTarget,l=l.listener,A!==i&&s.isPropagationStopped())break e;_j(s,l,u),i=A}}}if(oy)throw e=A4,oy=!1,A4=null,e}function Xn(e,t){var r=t[y4];r===void 0&&(r=t[y4]=new Set);var n=e+"__bubble";r.has(n)||(K7(t,e,2,!1),r.add(n))}function Mb(e,t,r){var n=0;t&&(n|=4),K7(r,e,n,t)}var cx="_reactListening"+Math.random().toString(36).slice(2);function lg(e){if(!e[cx]){e[cx]=!0,YL.forEach(function(r){r!=="selectionchange"&&(WG.has(r)||Mb(r,!1,e),Mb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cx]||(t[cx]=!0,Mb("selectionchange",!1,t))}}function K7(e,t,r,n){switch(E7(t)){case 1:var s=aG;break;case 4:s=iG;break;default:s=vB}r=s.bind(null,t,r,e),s=void 0,!c4||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ub(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var A=o.tag;if((A===3||A===4)&&(A=o.stateNode.containerInfo,A===s||A.nodeType===8&&A.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ch(l),o===null)return;if(A=o.tag,A===5||A===6){n=i=o;continue e}l=l.parentNode}}n=n.return}h7(function(){var u=i,h=gB(r),m=[];e:{var w=H7.get(e);if(w!==void 0){var p=CB,b=e;switch(e){case"keypress":if(yw(r)===0)break e;case"keydown":case"keyup":p=vG;break;case"focusin":b="focus",p=Tb;break;case"focusout":b="blur",p=Tb;break;case"beforeblur":case"afterblur":p=Tb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=NG;break;case R7:case M7:case U7:p=dG;break;case Q7:p=SG;break;case"scroll":p=oG;break;case"wheel":p=jG;break;case"copy":case"cut":case"paste":p=fG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bj}var N=(t&4)!==0,j=!N&&e==="scroll",y=N?w!==null?w+"Capture":null:w;N=[];for(var B=u,I;B!==null;){I=B;var _=I.stateNode;if(I.tag===5&&_!==null&&(I=_,y!==null&&(_=rg(B,y),_!=null&&N.push(cg(B,_,I)))),j)break;B=B.return}0<N.length&&(w=new p(w,b,null,r,h),m.push({event:w,listeners:N}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",w&&r!==o4&&(b=r.relatedTarget||r.fromElement)&&(ch(b)||b[LA]))break e;if((p||w)&&(w=h.window===h?h:(w=h.ownerDocument)?w.defaultView||w.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?ch(b):null,b!==null&&(j=Af(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(N=yj,_="onMouseLeave",y="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(N=bj,_="onPointerLeave",y="onPointerEnter",B="pointer"),j=p==null?w:zf(p),I=b==null?w:zf(b),w=new N(_,B+"leave",p,r,h),w.target=j,w.relatedTarget=I,_=null,ch(h)===u&&(N=new N(y,B+"enter",b,r,h),N.target=I,N.relatedTarget=j,_=N),j=_,p&&b)t:{for(N=p,y=b,B=0,I=N;I;I=vf(I))B++;for(I=0,_=y;_;_=vf(_))I++;for(;0<B-I;)N=vf(N),B--;for(;0<I-B;)y=vf(y),I--;for(;B--;){if(N===y||y!==null&&N===y.alternate)break t;N=vf(N),y=vf(y)}N=null}else N=null;p!==null&&Tj(m,w,p,N,!1),b!==null&&j!==null&&Tj(m,j,b,N,!0)}}e:{if(w=u?zf(u):window,p=w.nodeName&&w.nodeName.toLowerCase(),p==="select"||p==="input"&&w.type==="file")var O=PG;else if(Bj(w))if(T7)O=MG;else{O=OG;var H=DG}else(p=w.nodeName)&&p.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(O=RG);if(O&&(O=O(e,u))){_7(m,O,r,h);break e}H&&H(e,w,u),e==="focusout"&&(H=w._wrapperState)&&H.controlled&&w.type==="number"&&r4(w,"number",w.value)}switch(H=u?zf(u):window,e){case"focusin":(Bj(H)||H.contentEditable==="true")&&(Wf=H,f4=u,_p=null);break;case"focusout":_p=f4=Wf=null;break;case"mousedown":m4=!0;break;case"contextmenu":case"mouseup":case"dragend":m4=!1,Fj(m,r,h);break;case"selectionchange":if(HG)break;case"keydown":case"keyup":Fj(m,r,h)}var D;if(BB)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Kf?F7(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(I7&&r.locale!=="ko"&&(Kf||L!=="onCompositionStart"?L==="onCompositionEnd"&&Kf&&(D=j7()):(Xu=h,bB="value"in Xu?Xu.value:Xu.textContent,Kf=!0)),H=dy(u,L),0<H.length&&(L=new vj(L,e,null,r,h),m.push({event:L,listeners:H}),D?L.data=D:(D=k7(r),D!==null&&(L.data=D)))),(D=FG?kG(e,r):_G(e,r))&&(u=dy(u,"onBeforeInput"),0<u.length&&(h=new vj("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:u}),h.data=D))}V7(m,t)})}function cg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function dy(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rg(e,r),i!=null&&n.unshift(cg(e,i,s)),i=rg(e,t),i!=null&&n.push(cg(e,i,s))),e=e.return}return n}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tj(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,A=l.alternate,u=l.stateNode;if(A!==null&&A===n)break;l.tag===5&&u!==null&&(l=u,s?(A=rg(r,i),A!=null&&o.unshift(cg(r,A,l))):s||(A=rg(r,i),A!=null&&o.push(cg(r,A,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var GG=/\r\n?/g,zG=/\u0000|\uFFFD/g;function Lj(e){return(typeof e=="string"?e:""+e).replace(GG,`
`).replace(zG,"")}function Ax(e,t,r){if(t=Lj(t),Lj(e)!==t&&r)throw Error(mt(425))}function hy(){}var p4=null,g4=null;function x4(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var w4=typeof setTimeout=="function"?setTimeout:void 0,$G=typeof clearTimeout=="function"?clearTimeout:void 0,Pj=typeof Promise=="function"?Promise:void 0,qG=typeof queueMicrotask=="function"?queueMicrotask:typeof Pj<"u"?function(e){return Pj.resolve(null).then(e).catch(XG)}:w4;function XG(e){setTimeout(function(){throw e})}function Qb(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ag(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ag(t)}function Ad(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Am=Math.random().toString(36).slice(2),wc="__reactFiber$"+Am,Ag="__reactProps$"+Am,LA="__reactContainer$"+Am,y4="__reactEvents$"+Am,YG="__reactListeners$"+Am,ZG="__reactHandles$"+Am;function ch(e){var t=e[wc];if(t)return t;for(var r=e.parentNode;r;){if(t=r[LA]||r[wc]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Dj(e);e!==null;){if(r=e[wc])return r;e=Dj(e)}return t}e=r,r=e.parentNode}return null}function o1(e){return e=e[wc]||e[LA],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(mt(33))}function L2(e){return e[Ag]||null}var v4=[],$f=-1;function Dd(e){return{current:e}}function es(e){0>$f||(e.current=v4[$f],v4[$f]=null,$f--)}function Kn(e,t){$f++,v4[$f]=e.current,e.current=t}var Bd={},oi=Dd(Bd),qi=Dd(!1),Hh=Bd;function H0(e,t){var r=e.type.contextTypes;if(!r)return Bd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xi(e){return e=e.childContextTypes,e!=null}function fy(){es(qi),es(oi)}function Oj(e,t,r){if(oi.current!==Bd)throw Error(mt(168));Kn(oi,t),Kn(qi,r)}function W7(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(mt(108,DW(e)||"Unknown",s));return ms({},r,n)}function my(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bd,Hh=oi.current,Kn(oi,e),Kn(qi,qi.current),!0}function Rj(e,t,r){var n=e.stateNode;if(!n)throw Error(mt(169));r?(e=W7(e,t,Hh),n.__reactInternalMemoizedMergedChildContext=e,es(qi),es(oi),Kn(oi,e)):es(qi),Kn(qi,r)}var gA=null,P2=!1,Hb=!1;function G7(e){gA===null?gA=[e]:gA.push(e)}function JG(e){P2=!0,G7(e)}function Od(){if(!Hb&&gA!==null){Hb=!0;var e=0,t=En;try{var r=gA;for(En=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gA=null,P2=!1}catch(s){throw gA!==null&&(gA=gA.slice(e+1)),g7(xB,Od),s}finally{En=t,Hb=!1}}return null}var qf=[],Xf=0,py=null,gy=0,Zo=[],Jo=0,Vh=null,CA=1,NA="";function eh(e,t){qf[Xf++]=gy,qf[Xf++]=py,py=e,gy=t}function z7(e,t,r){Zo[Jo++]=CA,Zo[Jo++]=NA,Zo[Jo++]=Vh,Vh=e;var n=CA;e=NA;var s=32-Pl(n)-1;n&=~(1<<s),r+=1;var i=32-Pl(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,CA=1<<32-Pl(t)+s|r<<s|n,NA=i+e}else CA=1<<i|r<<s|n,NA=e}function EB(e){e.return!==null&&(eh(e,1),z7(e,1,0))}function jB(e){for(;e===py;)py=qf[--Xf],qf[Xf]=null,gy=qf[--Xf],qf[Xf]=null;for(;e===Vh;)Vh=Zo[--Jo],Zo[Jo]=null,NA=Zo[--Jo],Zo[Jo]=null,CA=Zo[--Jo],Zo[Jo]=null}var Bo=null,bo=null,ls=!1,_l=null;function $7(e,t){var r=rl(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bo=e,bo=Ad(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bo=e,bo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vh!==null?{id:CA,overflow:NA}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rl(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Bo=e,bo=null,!0):!1;default:return!1}}function b4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function C4(e){if(ls){var t=bo;if(t){var r=t;if(!Mj(e,t)){if(b4(e))throw Error(mt(418));t=Ad(r.nextSibling);var n=Bo;t&&Mj(e,t)?$7(n,r):(e.flags=e.flags&-4097|2,ls=!1,Bo=e)}}else{if(b4(e))throw Error(mt(418));e.flags=e.flags&-4097|2,ls=!1,Bo=e}}}function Uj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bo=e}function ux(e){if(e!==Bo)return!1;if(!ls)return Uj(e),ls=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!x4(e.type,e.memoizedProps)),t&&(t=bo)){if(b4(e))throw q7(),Error(mt(418));for(;t;)$7(e,t),t=Ad(t.nextSibling)}if(Uj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(mt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){bo=Ad(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}bo=null}}else bo=Bo?Ad(e.stateNode.nextSibling):null;return!0}function q7(){for(var e=bo;e;)e=Ad(e.nextSibling)}function V0(){bo=Bo=null,ls=!1}function IB(e){_l===null?_l=[e]:_l.push(e)}var ez=GA.ReactCurrentBatchConfig;function Mm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(mt(309));var n=r.stateNode}if(!n)throw Error(mt(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(mt(284));if(!r._owner)throw Error(mt(290,e))}return e}function dx(e,t){throw e=Object.prototype.toString.call(t),Error(mt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qj(e){var t=e._init;return t(e._payload)}function X7(e){function t(y,B){if(e){var I=y.deletions;I===null?(y.deletions=[B],y.flags|=16):I.push(B)}}function r(y,B){if(!e)return null;for(;B!==null;)t(y,B),B=B.sibling;return null}function n(y,B){for(y=new Map;B!==null;)B.key!==null?y.set(B.key,B):y.set(B.index,B),B=B.sibling;return y}function s(y,B){return y=fd(y,B),y.index=0,y.sibling=null,y}function i(y,B,I){return y.index=I,e?(I=y.alternate,I!==null?(I=I.index,I<B?(y.flags|=2,B):I):(y.flags|=2,B)):(y.flags|=1048576,B)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,B,I,_){return B===null||B.tag!==6?(B=qb(I,y.mode,_),B.return=y,B):(B=s(B,I),B.return=y,B)}function A(y,B,I,_){var O=I.type;return O===Vf?h(y,B,I.props.children,_,I.key):B!==null&&(B.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===_u&&Qj(O)===B.type)?(_=s(B,I.props),_.ref=Mm(y,B,I),_.return=y,_):(_=Ew(I.type,I.key,I.props,null,y.mode,_),_.ref=Mm(y,B,I),_.return=y,_)}function u(y,B,I,_){return B===null||B.tag!==4||B.stateNode.containerInfo!==I.containerInfo||B.stateNode.implementation!==I.implementation?(B=Xb(I,y.mode,_),B.return=y,B):(B=s(B,I.children||[]),B.return=y,B)}function h(y,B,I,_,O){return B===null||B.tag!==7?(B=Fh(I,y.mode,_,O),B.return=y,B):(B=s(B,I),B.return=y,B)}function m(y,B,I){if(typeof B=="string"&&B!==""||typeof B=="number")return B=qb(""+B,y.mode,I),B.return=y,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case tx:return I=Ew(B.type,B.key,B.props,null,y.mode,I),I.ref=Mm(y,null,B),I.return=y,I;case Hf:return B=Xb(B,y.mode,I),B.return=y,B;case _u:var _=B._init;return m(y,_(B._payload),I)}if(ip(B)||Lm(B))return B=Fh(B,y.mode,I,null),B.return=y,B;dx(y,B)}return null}function w(y,B,I,_){var O=B!==null?B.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return O!==null?null:l(y,B,""+I,_);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case tx:return I.key===O?A(y,B,I,_):null;case Hf:return I.key===O?u(y,B,I,_):null;case _u:return O=I._init,w(y,B,O(I._payload),_)}if(ip(I)||Lm(I))return O!==null?null:h(y,B,I,_,null);dx(y,I)}return null}function p(y,B,I,_,O){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(I)||null,l(B,y,""+_,O);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tx:return y=y.get(_.key===null?I:_.key)||null,A(B,y,_,O);case Hf:return y=y.get(_.key===null?I:_.key)||null,u(B,y,_,O);case _u:var H=_._init;return p(y,B,I,H(_._payload),O)}if(ip(_)||Lm(_))return y=y.get(I)||null,h(B,y,_,O,null);dx(B,_)}return null}function b(y,B,I,_){for(var O=null,H=null,D=B,L=B=0,T=null;D!==null&&L<I.length;L++){D.index>L?(T=D,D=null):T=D.sibling;var G=w(y,D,I[L],_);if(G===null){D===null&&(D=T);break}e&&D&&G.alternate===null&&t(y,D),B=i(G,B,L),H===null?O=G:H.sibling=G,H=G,D=T}if(L===I.length)return r(y,D),ls&&eh(y,L),O;if(D===null){for(;L<I.length;L++)D=m(y,I[L],_),D!==null&&(B=i(D,B,L),H===null?O=D:H.sibling=D,H=D);return ls&&eh(y,L),O}for(D=n(y,D);L<I.length;L++)T=p(D,y,L,I[L],_),T!==null&&(e&&T.alternate!==null&&D.delete(T.key===null?L:T.key),B=i(T,B,L),H===null?O=T:H.sibling=T,H=T);return e&&D.forEach(function(M){return t(y,M)}),ls&&eh(y,L),O}function N(y,B,I,_){var O=Lm(I);if(typeof O!="function")throw Error(mt(150));if(I=O.call(I),I==null)throw Error(mt(151));for(var H=O=null,D=B,L=B=0,T=null,G=I.next();D!==null&&!G.done;L++,G=I.next()){D.index>L?(T=D,D=null):T=D.sibling;var M=w(y,D,G.value,_);if(M===null){D===null&&(D=T);break}e&&D&&M.alternate===null&&t(y,D),B=i(M,B,L),H===null?O=M:H.sibling=M,H=M,D=T}if(G.done)return r(y,D),ls&&eh(y,L),O;if(D===null){for(;!G.done;L++,G=I.next())G=m(y,G.value,_),G!==null&&(B=i(G,B,L),H===null?O=G:H.sibling=G,H=G);return ls&&eh(y,L),O}for(D=n(y,D);!G.done;L++,G=I.next())G=p(D,y,L,G.value,_),G!==null&&(e&&G.alternate!==null&&D.delete(G.key===null?L:G.key),B=i(G,B,L),H===null?O=G:H.sibling=G,H=G);return e&&D.forEach(function(V){return t(y,V)}),ls&&eh(y,L),O}function j(y,B,I,_){if(typeof I=="object"&&I!==null&&I.type===Vf&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case tx:e:{for(var O=I.key,H=B;H!==null;){if(H.key===O){if(O=I.type,O===Vf){if(H.tag===7){r(y,H.sibling),B=s(H,I.props.children),B.return=y,y=B;break e}}else if(H.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===_u&&Qj(O)===H.type){r(y,H.sibling),B=s(H,I.props),B.ref=Mm(y,H,I),B.return=y,y=B;break e}r(y,H);break}else t(y,H);H=H.sibling}I.type===Vf?(B=Fh(I.props.children,y.mode,_,I.key),B.return=y,y=B):(_=Ew(I.type,I.key,I.props,null,y.mode,_),_.ref=Mm(y,B,I),_.return=y,y=_)}return o(y);case Hf:e:{for(H=I.key;B!==null;){if(B.key===H)if(B.tag===4&&B.stateNode.containerInfo===I.containerInfo&&B.stateNode.implementation===I.implementation){r(y,B.sibling),B=s(B,I.children||[]),B.return=y,y=B;break e}else{r(y,B);break}else t(y,B);B=B.sibling}B=Xb(I,y.mode,_),B.return=y,y=B}return o(y);case _u:return H=I._init,j(y,B,H(I._payload),_)}if(ip(I))return b(y,B,I,_);if(Lm(I))return N(y,B,I,_);dx(y,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,B!==null&&B.tag===6?(r(y,B.sibling),B=s(B,I),B.return=y,y=B):(r(y,B),B=qb(I,y.mode,_),B.return=y,y=B),o(y)):r(y,B)}return j}var K0=X7(!0),Y7=X7(!1),xy=Dd(null),wy=null,Yf=null,FB=null;function kB(){FB=Yf=wy=null}function _B(e){var t=xy.current;es(xy),e._currentValue=t}function N4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function h0(e,t){wy=e,FB=Yf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ki=!0),e.firstContext=null)}function ol(e){var t=e._currentValue;if(FB!==e)if(e={context:e,memoizedValue:t,next:null},Yf===null){if(wy===null)throw Error(mt(308));Yf=e,wy.dependencies={lanes:0,firstContext:e}}else Yf=Yf.next=e;return t}var Ah=null;function TB(e){Ah===null?Ah=[e]:Ah.push(e)}function Z7(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,TB(t)):(r.next=s.next,s.next=r),t.interleaved=r,PA(e,n)}function PA(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tu=!1;function LB(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function EA(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ud(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,an&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,PA(e,r)}return s=n.interleaved,s===null?(t.next=t,TB(n)):(t.next=s.next,s.next=t),n.interleaved=t,PA(e,r)}function vw(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wB(e,r)}}function Hj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yy(e,t,r,n){var s=e.updateQueue;Tu=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var A=l,u=A.next;A.next=null,o===null?i=u:o.next=u,o=A;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=A))}if(i!==null){var m=s.baseState;o=0,h=u=A=null,l=i;do{var w=l.lane,p=l.eventTime;if((n&w)===w){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,N=l;switch(w=t,p=r,N.tag){case 1:if(b=N.payload,typeof b=="function"){m=b.call(p,m,w);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,w=typeof b=="function"?b.call(p,m,w):b,w==null)break e;m=ms({},m,w);break e;case 2:Tu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,w=s.effects,w===null?s.effects=[l]:w.push(l))}else p={eventTime:p,lane:w,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,A=m):h=h.next=p,o|=w;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;w=l,l=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(!0);if(h===null&&(A=m),s.baseState=A,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Wh|=o,e.lanes=o,e.memoizedState=m}}function Vj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(mt(191,s));s.call(n)}}}var l1={},Bc=Dd(l1),ug=Dd(l1),dg=Dd(l1);function uh(e){if(e===l1)throw Error(mt(174));return e}function PB(e,t){switch(Kn(dg,t),Kn(ug,e),Kn(Bc,l1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:s4(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=s4(t,e)}es(Bc),Kn(Bc,t)}function W0(){es(Bc),es(ug),es(dg)}function eP(e){uh(dg.current);var t=uh(Bc.current),r=s4(t,e.type);t!==r&&(Kn(ug,e),Kn(Bc,r))}function DB(e){ug.current===e&&(es(Bc),es(ug))}var As=Dd(0);function vy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vb=[];function OB(){for(var e=0;e<Vb.length;e++)Vb[e]._workInProgressVersionPrimary=null;Vb.length=0}var bw=GA.ReactCurrentDispatcher,Kb=GA.ReactCurrentBatchConfig,Kh=0,ds=null,ra=null,da=null,by=!1,Tp=!1,hg=0,tz=0;function Wa(){throw Error(mt(321))}function RB(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Hl(e[r],t[r]))return!1;return!0}function MB(e,t,r,n,s,i){if(Kh=i,ds=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bw.current=e===null||e.memoizedState===null?az:iz,e=r(n,s),Tp){i=0;do{if(Tp=!1,hg=0,25<=i)throw Error(mt(301));i+=1,da=ra=null,t.updateQueue=null,bw.current=oz,e=r(n,s)}while(Tp)}if(bw.current=Cy,t=ra!==null&&ra.next!==null,Kh=0,da=ra=ds=null,by=!1,t)throw Error(mt(300));return e}function UB(){var e=hg!==0;return hg=0,e}function hc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return da===null?ds.memoizedState=da=e:da=da.next=e,da}function ll(){if(ra===null){var e=ds.alternate;e=e!==null?e.memoizedState:null}else e=ra.next;var t=da===null?ds.memoizedState:da.next;if(t!==null)da=t,ra=e;else{if(e===null)throw Error(mt(310));ra=e,e={memoizedState:ra.memoizedState,baseState:ra.baseState,baseQueue:ra.baseQueue,queue:ra.queue,next:null},da===null?ds.memoizedState=da=e:da=da.next=e}return da}function fg(e,t){return typeof t=="function"?t(e):t}function Wb(e){var t=ll(),r=t.queue;if(r===null)throw Error(mt(311));r.lastRenderedReducer=e;var n=ra,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,A=null,u=i;do{var h=u.lane;if((Kh&h)===h)A!==null&&(A=A.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};A===null?(l=A=m,o=n):A=A.next=m,ds.lanes|=h,Wh|=h}u=u.next}while(u!==null&&u!==i);A===null?o=n:A.next=l,Hl(n,t.memoizedState)||(Ki=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=A,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ds.lanes|=i,Wh|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gb(e){var t=ll(),r=t.queue;if(r===null)throw Error(mt(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Hl(i,t.memoizedState)||(Ki=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function tP(){}function rP(e,t){var r=ds,n=ll(),s=t(),i=!Hl(n.memoizedState,s);if(i&&(n.memoizedState=s,Ki=!0),n=n.queue,QB(aP.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||da!==null&&da.memoizedState.tag&1){if(r.flags|=2048,mg(9,sP.bind(null,r,n,s,t),void 0,null),fa===null)throw Error(mt(349));Kh&30||nP(r,t,s)}return s}function nP(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ds.updateQueue,t===null?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function sP(e,t,r,n){t.value=r,t.getSnapshot=n,iP(t)&&oP(e)}function aP(e,t,r){return r(function(){iP(t)&&oP(e)})}function iP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hl(e,r)}catch{return!0}}function oP(e){var t=PA(e,1);t!==null&&Dl(t,e,1,-1)}function Kj(e){var t=hc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:e},t.queue=e,e=e.dispatch=sz.bind(null,ds,e),[t.memoizedState,e]}function mg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ds.updateQueue,t===null?(t={lastEffect:null,stores:null},ds.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function lP(){return ll().memoizedState}function Cw(e,t,r,n){var s=hc();ds.flags|=e,s.memoizedState=mg(1|t,r,void 0,n===void 0?null:n)}function D2(e,t,r,n){var s=ll();n=n===void 0?null:n;var i=void 0;if(ra!==null){var o=ra.memoizedState;if(i=o.destroy,n!==null&&RB(n,o.deps)){s.memoizedState=mg(t,r,i,n);return}}ds.flags|=e,s.memoizedState=mg(1|t,r,i,n)}function Wj(e,t){return Cw(8390656,8,e,t)}function QB(e,t){return D2(2048,8,e,t)}function cP(e,t){return D2(4,2,e,t)}function AP(e,t){return D2(4,4,e,t)}function uP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dP(e,t,r){return r=r!=null?r.concat([e]):null,D2(4,4,uP.bind(null,t,e),r)}function HB(){}function hP(e,t){var r=ll();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&RB(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fP(e,t){var r=ll();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&RB(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function mP(e,t,r){return Kh&21?(Hl(r,t)||(r=y7(),ds.lanes|=r,Wh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ki=!0),e.memoizedState=r)}function rz(e,t){var r=En;En=r!==0&&4>r?r:4,e(!0);var n=Kb.transition;Kb.transition={};try{e(!1),t()}finally{En=r,Kb.transition=n}}function pP(){return ll().memoizedState}function nz(e,t,r){var n=hd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gP(e))xP(t,r);else if(r=Z7(e,t,r,n),r!==null){var s=Si();Dl(r,e,n,s),wP(r,t,n)}}function sz(e,t,r){var n=hd(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gP(e))xP(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Hl(l,o)){var A=t.interleaved;A===null?(s.next=s,TB(t)):(s.next=A.next,A.next=s),t.interleaved=s;return}}catch{}finally{}r=Z7(e,t,s,n),r!==null&&(s=Si(),Dl(r,e,n,s),wP(r,t,n))}}function gP(e){var t=e.alternate;return e===ds||t!==null&&t===ds}function xP(e,t){Tp=by=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function wP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wB(e,r)}}var Cy={readContext:ol,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useInsertionEffect:Wa,useLayoutEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useDeferredValue:Wa,useTransition:Wa,useMutableSource:Wa,useSyncExternalStore:Wa,useId:Wa,unstable_isNewReconciler:!1},az={readContext:ol,useCallback:function(e,t){return hc().memoizedState=[e,t===void 0?null:t],e},useContext:ol,useEffect:Wj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cw(4194308,4,uP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cw(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cw(4,2,e,t)},useMemo:function(e,t){var r=hc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=hc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nz.bind(null,ds,e),[n.memoizedState,e]},useRef:function(e){var t=hc();return e={current:e},t.memoizedState=e},useState:Kj,useDebugValue:HB,useDeferredValue:function(e){return hc().memoizedState=e},useTransition:function(){var e=Kj(!1),t=e[0];return e=rz.bind(null,e[1]),hc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ds,s=hc();if(ls){if(r===void 0)throw Error(mt(407));r=r()}else{if(r=t(),fa===null)throw Error(mt(349));Kh&30||nP(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Wj(aP.bind(null,n,i,e),[e]),n.flags|=2048,mg(9,sP.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=hc(),t=fa.identifierPrefix;if(ls){var r=NA,n=CA;r=(n&~(1<<32-Pl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=hg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tz++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iz={readContext:ol,useCallback:hP,useContext:ol,useEffect:QB,useImperativeHandle:dP,useInsertionEffect:cP,useLayoutEffect:AP,useMemo:fP,useReducer:Wb,useRef:lP,useState:function(){return Wb(fg)},useDebugValue:HB,useDeferredValue:function(e){var t=ll();return mP(t,ra.memoizedState,e)},useTransition:function(){var e=Wb(fg)[0],t=ll().memoizedState;return[e,t]},useMutableSource:tP,useSyncExternalStore:rP,useId:pP,unstable_isNewReconciler:!1},oz={readContext:ol,useCallback:hP,useContext:ol,useEffect:QB,useImperativeHandle:dP,useInsertionEffect:cP,useLayoutEffect:AP,useMemo:fP,useReducer:Gb,useRef:lP,useState:function(){return Gb(fg)},useDebugValue:HB,useDeferredValue:function(e){var t=ll();return ra===null?t.memoizedState=e:mP(t,ra.memoizedState,e)},useTransition:function(){var e=Gb(fg)[0],t=ll().memoizedState;return[e,t]},useMutableSource:tP,useSyncExternalStore:rP,useId:pP,unstable_isNewReconciler:!1};function jl(e,t){if(e&&e.defaultProps){t=ms({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function B4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ms({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var O2={isMounted:function(e){return(e=e._reactInternals)?Af(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Si(),s=hd(e),i=EA(n,s);i.payload=t,r!=null&&(i.callback=r),t=ud(e,i,s),t!==null&&(Dl(t,e,s,n),vw(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Si(),s=hd(e),i=EA(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ud(e,i,s),t!==null&&(Dl(t,e,s,n),vw(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Si(),n=hd(e),s=EA(r,n);s.tag=2,t!=null&&(s.callback=t),t=ud(e,s,n),t!==null&&(Dl(t,e,n,r),vw(t,e,n))}};function Gj(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!og(r,n)||!og(s,i):!0}function yP(e,t,r){var n=!1,s=Bd,i=t.contextType;return typeof i=="object"&&i!==null?i=ol(i):(s=Xi(t)?Hh:oi.current,n=t.contextTypes,i=(n=n!=null)?H0(e,s):Bd),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=O2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function zj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&O2.enqueueReplaceState(t,t.state,null)}function S4(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},LB(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ol(i):(i=Xi(t)?Hh:oi.current,s.context=H0(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(B4(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&O2.enqueueReplaceState(s,s.state,null),yy(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function G0(e,t){try{var r="",n=t;do r+=PW(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function zb(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function E4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lz=typeof WeakMap=="function"?WeakMap:Map;function vP(e,t,r){r=EA(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){By||(By=!0,O4=n),E4(e,t)},r}function bP(e,t,r){r=EA(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){E4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){E4(e,t),typeof n!="function"&&(dd===null?dd=new Set([this]):dd.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $j(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lz;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=bz.bind(null,e,t,r),t.then(e,e))}function qj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xj(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=EA(-1,1),t.tag=2,ud(r,t,1))),r.lanes|=1),e)}var cz=GA.ReactCurrentOwner,Ki=!1;function wi(e,t,r,n){t.child=e===null?Y7(t,null,r,n):K0(t,e.child,r,n)}function Yj(e,t,r,n,s){r=r.render;var i=t.ref;return h0(t,s),n=MB(e,t,r,n,i,s),r=UB(),e!==null&&!Ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,DA(e,t,s)):(ls&&r&&EB(t),t.flags|=1,wi(e,t,n,s),t.child)}function Zj(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!XB(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,CP(e,t,i,n,s)):(e=Ew(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:og,r(o,n)&&e.ref===t.ref)return DA(e,t,s)}return t.flags|=1,e=fd(i,n),e.ref=t.ref,e.return=t,t.child=e}function CP(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(og(i,n)&&e.ref===t.ref)if(Ki=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ki=!0);else return t.lanes=e.lanes,DA(e,t,s)}return j4(e,t,r,n,s)}function NP(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kn(Jf,yo),yo|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kn(Jf,yo),yo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Kn(Jf,yo),yo|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Kn(Jf,yo),yo|=n;return wi(e,t,s,r),t.child}function BP(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function j4(e,t,r,n,s){var i=Xi(r)?Hh:oi.current;return i=H0(t,i),h0(t,s),r=MB(e,t,r,n,i,s),n=UB(),e!==null&&!Ki?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,DA(e,t,s)):(ls&&n&&EB(t),t.flags|=1,wi(e,t,r,s),t.child)}function Jj(e,t,r,n,s){if(Xi(r)){var i=!0;my(t)}else i=!1;if(h0(t,s),t.stateNode===null)Nw(e,t),yP(t,r,n),S4(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var A=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ol(u):(u=Xi(r)?Hh:oi.current,u=H0(t,u));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||A!==u)&&zj(t,o,n,u),Tu=!1;var w=t.memoizedState;o.state=w,yy(t,n,o,s),A=t.memoizedState,l!==n||w!==A||qi.current||Tu?(typeof h=="function"&&(B4(t,r,h,n),A=t.memoizedState),(l=Tu||Gj(t,r,l,n,w,A,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=A),o.props=n,o.state=A,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,J7(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:jl(t.type,l),o.props=u,m=t.pendingProps,w=o.context,A=r.contextType,typeof A=="object"&&A!==null?A=ol(A):(A=Xi(r)?Hh:oi.current,A=H0(t,A));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||w!==A)&&zj(t,o,n,A),Tu=!1,w=t.memoizedState,o.state=w,yy(t,n,o,s);var b=t.memoizedState;l!==m||w!==b||qi.current||Tu?(typeof p=="function"&&(B4(t,r,p,n),b=t.memoizedState),(u=Tu||Gj(t,r,u,n,w,b,A)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,A),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,A)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=A,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),n=!1)}return I4(e,t,r,n,i,s)}function I4(e,t,r,n,s,i){BP(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Rj(t,r,!1),DA(e,t,i);n=t.stateNode,cz.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=K0(t,e.child,null,i),t.child=K0(t,null,l,i)):wi(e,t,l,i),t.memoizedState=n.state,s&&Rj(t,r,!0),t.child}function SP(e){var t=e.stateNode;t.pendingContext?Oj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Oj(e,t.context,!1),PB(e,t.containerInfo)}function e8(e,t,r,n,s){return V0(),IB(s),t.flags|=256,wi(e,t,r,n),t.child}var F4={dehydrated:null,treeContext:null,retryLane:0};function k4(e){return{baseLanes:e,cachePool:null,transitions:null}}function EP(e,t,r){var n=t.pendingProps,s=As.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Kn(As,s&1),e===null)return C4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=U2(o,n,0,null),e=Fh(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=k4(r),t.memoizedState=F4,e):VB(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Az(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var A={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=A,t.deletions=null):(n=fd(s,A),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=fd(l,i):(i=Fh(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?k4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=F4,n}return i=e.child,e=i.sibling,n=fd(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function VB(e,t){return t=U2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hx(e,t,r,n){return n!==null&&IB(n),K0(t,e.child,null,r),e=VB(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Az(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=zb(Error(mt(422))),hx(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=U2({mode:"visible",children:n.children},s,0,null),i=Fh(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&K0(t,e.child,null,o),t.child.memoizedState=k4(o),t.memoizedState=F4,i);if(!(t.mode&1))return hx(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(mt(419)),n=zb(i,n,void 0),hx(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ki||l){if(n=fa,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,PA(e,s),Dl(n,e,s,-1))}return qB(),n=zb(Error(mt(421))),hx(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Cz.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,bo=Ad(s.nextSibling),Bo=t,ls=!0,_l=null,e!==null&&(Zo[Jo++]=CA,Zo[Jo++]=NA,Zo[Jo++]=Vh,CA=e.id,NA=e.overflow,Vh=t),t=VB(t,n.children),t.flags|=4096,t)}function t8(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),N4(e.return,t,r)}function $b(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function jP(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(wi(e,t,n.children,r),n=As.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&t8(e,r,t);else if(e.tag===19)t8(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Kn(As,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&vy(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$b(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vy(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$b(t,!0,r,null,i);break;case"together":$b(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nw(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function DA(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(mt(153));if(t.child!==null){for(e=t.child,r=fd(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fd(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uz(e,t,r){switch(t.tag){case 3:SP(t),V0();break;case 5:eP(t);break;case 1:Xi(t.type)&&my(t);break;case 4:PB(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Kn(xy,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Kn(As,As.current&1),t.flags|=128,null):r&t.child.childLanes?EP(e,t,r):(Kn(As,As.current&1),e=DA(e,t,r),e!==null?e.sibling:null);Kn(As,As.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jP(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Kn(As,As.current),n)break;return null;case 22:case 23:return t.lanes=0,NP(e,t,r)}return DA(e,t,r)}var IP,_4,FP,kP;IP=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_4=function(){};FP=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,uh(Bc.current);var i=null;switch(r){case"input":s=e4(e,s),n=e4(e,n),i=[];break;case"select":s=ms({},s,{value:void 0}),n=ms({},n,{value:void 0}),i=[];break;case"textarea":s=n4(e,s),n=n4(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hy)}a4(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(eg.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var A=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&A!==l&&(A!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||A&&A.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in A)A.hasOwnProperty(o)&&l[o]!==A[o]&&(r||(r={}),r[o]=A[o])}else r||(i||(i=[]),i.push(u,r)),r=A;else u==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,l=l?l.__html:void 0,A!=null&&l!==A&&(i=i||[]).push(u,A)):u==="children"?typeof A!="string"&&typeof A!="number"||(i=i||[]).push(u,""+A):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(eg.hasOwnProperty(u)?(A!=null&&u==="onScroll"&&Xn("scroll",e),i||l===A||(i=[])):(i=i||[]).push(u,A))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};kP=function(e,t,r,n){r!==n&&(t.flags|=4)};function Um(e,t){if(!ls)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ga(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dz(e,t,r){var n=t.pendingProps;switch(jB(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:return Xi(t.type)&&fy(),Ga(t),null;case 3:return n=t.stateNode,W0(),es(qi),es(oi),OB(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ux(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_l!==null&&(U4(_l),_l=null))),_4(e,t),Ga(t),null;case 5:DB(t);var s=uh(dg.current);if(r=t.type,e!==null&&t.stateNode!=null)FP(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(mt(166));return Ga(t),null}if(e=uh(Bc.current),ux(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wc]=t,n[Ag]=i,e=(t.mode&1)!==0,r){case"dialog":Xn("cancel",n),Xn("close",n);break;case"iframe":case"object":case"embed":Xn("load",n);break;case"video":case"audio":for(s=0;s<lp.length;s++)Xn(lp[s],n);break;case"source":Xn("error",n);break;case"img":case"image":case"link":Xn("error",n),Xn("load",n);break;case"details":Xn("toggle",n);break;case"input":Aj(n,i),Xn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Xn("invalid",n);break;case"textarea":dj(n,i),Xn("invalid",n)}a4(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ax(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ax(n.textContent,l,e),s=["children",""+l]):eg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xn("scroll",n)}switch(r){case"input":rx(n),uj(n,i,!0);break;case"textarea":rx(n),hj(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=hy)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a7(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[wc]=t,e[Ag]=n,IP(e,t,!1,!1),t.stateNode=e;e:{switch(o=i4(r,n),r){case"dialog":Xn("cancel",e),Xn("close",e),s=n;break;case"iframe":case"object":case"embed":Xn("load",e),s=n;break;case"video":case"audio":for(s=0;s<lp.length;s++)Xn(lp[s],e);s=n;break;case"source":Xn("error",e),s=n;break;case"img":case"image":case"link":Xn("error",e),Xn("load",e),s=n;break;case"details":Xn("toggle",e),s=n;break;case"input":Aj(e,n),s=e4(e,n),Xn("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ms({},n,{value:void 0}),Xn("invalid",e);break;case"textarea":dj(e,n),s=n4(e,n),Xn("invalid",e);break;default:s=n}a4(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var A=l[i];i==="style"?l7(e,A):i==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&i7(e,A)):i==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&tg(e,A):typeof A=="number"&&tg(e,""+A):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(eg.hasOwnProperty(i)?A!=null&&i==="onScroll"&&Xn("scroll",e):A!=null&&hB(e,i,A,o))}switch(r){case"input":rx(e),uj(e,n,!1);break;case"textarea":rx(e),hj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nd(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?c0(e,!!n.multiple,i,!1):n.defaultValue!=null&&c0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=hy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&t.stateNode!=null)kP(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(mt(166));if(r=uh(dg.current),uh(Bc.current),ux(t)){if(n=t.stateNode,r=t.memoizedProps,n[wc]=t,(i=n.nodeValue!==r)&&(e=Bo,e!==null))switch(e.tag){case 3:Ax(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ax(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wc]=t,t.stateNode=n}return Ga(t),null;case 13:if(es(As),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ls&&bo!==null&&t.mode&1&&!(t.flags&128))q7(),V0(),t.flags|=98560,i=!1;else if(i=ux(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(mt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(mt(317));i[wc]=t}else V0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ga(t),i=!1}else _l!==null&&(U4(_l),_l=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||As.current&1?aa===0&&(aa=3):qB())),t.updateQueue!==null&&(t.flags|=4),Ga(t),null);case 4:return W0(),_4(e,t),e===null&&lg(t.stateNode.containerInfo),Ga(t),null;case 10:return _B(t.type._context),Ga(t),null;case 17:return Xi(t.type)&&fy(),Ga(t),null;case 19:if(es(As),i=t.memoizedState,i===null)return Ga(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Um(i,!1);else{if(aa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vy(e),o!==null){for(t.flags|=128,Um(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Kn(As,As.current&1|2),t.child}e=e.sibling}i.tail!==null&&Os()>z0&&(t.flags|=128,n=!0,Um(i,!1),t.lanes=4194304)}else{if(!n)if(e=vy(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Um(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ls)return Ga(t),null}else 2*Os()-i.renderingStartTime>z0&&r!==1073741824&&(t.flags|=128,n=!0,Um(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Os(),t.sibling=null,r=As.current,Kn(As,n?r&1|2:r&1),t):(Ga(t),null);case 22:case 23:return $B(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yo&1073741824&&(Ga(t),t.subtreeFlags&6&&(t.flags|=8192)):Ga(t),null;case 24:return null;case 25:return null}throw Error(mt(156,t.tag))}function hz(e,t){switch(jB(t),t.tag){case 1:return Xi(t.type)&&fy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return W0(),es(qi),es(oi),OB(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return DB(t),null;case 13:if(es(As),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(mt(340));V0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return es(As),null;case 4:return W0(),null;case 10:return _B(t.type._context),null;case 22:case 23:return $B(),null;case 24:return null;default:return null}}var fx=!1,ni=!1,fz=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Zf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ss(e,t,n)}else r.current=null}function T4(e,t,r){try{r()}catch(n){Ss(e,t,n)}}var r8=!1;function mz(e,t){if(p4=Ay,e=D7(),SB(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,A=-1,u=0,h=0,m=e,w=null;t:for(;;){for(var p;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==i||n!==0&&m.nodeType!==3||(A=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)w=m,m=p;for(;;){if(m===e)break t;if(w===r&&++u===s&&(l=o),w===i&&++h===n&&(A=o),(p=m.nextSibling)!==null)break;m=w,w=m.parentNode}m=p}r=l===-1||A===-1?null:{start:l,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(g4={focusedElem:e,selectionRange:r},Ay=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,j=b.memoizedState,y=t.stateNode,B=y.getSnapshotBeforeUpdate(t.elementType===t.type?N:jl(t.type,N),j);y.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(_){Ss(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return b=r8,r8=!1,b}function Lp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&T4(t,r,i)}s=s.next}while(s!==n)}}function R2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function L4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _P(e){var t=e.alternate;t!==null&&(e.alternate=null,_P(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wc],delete t[Ag],delete t[y4],delete t[YG],delete t[ZG])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TP(e){return e.tag===5||e.tag===3||e.tag===4}function n8(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function P4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hy));else if(n!==4&&(e=e.child,e!==null))for(P4(e,t,r),e=e.sibling;e!==null;)P4(e,t,r),e=e.sibling}function D4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(D4(e,t,r),e=e.sibling;e!==null;)D4(e,t,r),e=e.sibling}var ja=null,kl=!1;function xu(e,t,r){for(r=r.child;r!==null;)LP(e,t,r),r=r.sibling}function LP(e,t,r){if(Nc&&typeof Nc.onCommitFiberUnmount=="function")try{Nc.onCommitFiberUnmount(F2,r)}catch{}switch(r.tag){case 5:ni||Zf(r,t);case 6:var n=ja,s=kl;ja=null,xu(e,t,r),ja=n,kl=s,ja!==null&&(kl?(e=ja,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ja.removeChild(r.stateNode));break;case 18:ja!==null&&(kl?(e=ja,r=r.stateNode,e.nodeType===8?Qb(e.parentNode,r):e.nodeType===1&&Qb(e,r),ag(e)):Qb(ja,r.stateNode));break;case 4:n=ja,s=kl,ja=r.stateNode.containerInfo,kl=!0,xu(e,t,r),ja=n,kl=s;break;case 0:case 11:case 14:case 15:if(!ni&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&T4(r,t,o),s=s.next}while(s!==n)}xu(e,t,r);break;case 1:if(!ni&&(Zf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ss(r,t,l)}xu(e,t,r);break;case 21:xu(e,t,r);break;case 22:r.mode&1?(ni=(n=ni)||r.memoizedState!==null,xu(e,t,r),ni=n):xu(e,t,r);break;default:xu(e,t,r)}}function s8(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fz),t.forEach(function(n){var s=Nz.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function bl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ja=l.stateNode,kl=!1;break e;case 3:ja=l.stateNode.containerInfo,kl=!0;break e;case 4:ja=l.stateNode.containerInfo,kl=!0;break e}l=l.return}if(ja===null)throw Error(mt(160));LP(i,o,s),ja=null,kl=!1;var A=s.alternate;A!==null&&(A.return=null),s.return=null}catch(u){Ss(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PP(t,e),t=t.sibling}function PP(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bl(t,e),oc(e),n&4){try{Lp(3,e,e.return),R2(3,e)}catch(N){Ss(e,e.return,N)}try{Lp(5,e,e.return)}catch(N){Ss(e,e.return,N)}}break;case 1:bl(t,e),oc(e),n&512&&r!==null&&Zf(r,r.return);break;case 5:if(bl(t,e),oc(e),n&512&&r!==null&&Zf(r,r.return),e.flags&32){var s=e.stateNode;try{tg(s,"")}catch(N){Ss(e,e.return,N)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&n7(s,i),i4(l,o);var u=i4(l,i);for(o=0;o<A.length;o+=2){var h=A[o],m=A[o+1];h==="style"?l7(s,m):h==="dangerouslySetInnerHTML"?i7(s,m):h==="children"?tg(s,m):hB(s,h,m,u)}switch(l){case"input":t4(s,i);break;case"textarea":s7(s,i);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?c0(s,!!i.multiple,p,!1):w!==!!i.multiple&&(i.defaultValue!=null?c0(s,!!i.multiple,i.defaultValue,!0):c0(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ag]=i}catch(N){Ss(e,e.return,N)}}break;case 6:if(bl(t,e),oc(e),n&4){if(e.stateNode===null)throw Error(mt(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(N){Ss(e,e.return,N)}}break;case 3:if(bl(t,e),oc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ag(t.containerInfo)}catch(N){Ss(e,e.return,N)}break;case 4:bl(t,e),oc(e);break;case 13:bl(t,e),oc(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(GB=Os())),n&4&&s8(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(ni=(u=ni)||h,bl(t,e),ni=u):bl(t,e),oc(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Mt=e,h=e.child;h!==null;){for(m=Mt=h;Mt!==null;){switch(w=Mt,p=w.child,w.tag){case 0:case 11:case 14:case 15:Lp(4,w,w.return);break;case 1:Zf(w,w.return);var b=w.stateNode;if(typeof b.componentWillUnmount=="function"){n=w,r=w.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(N){Ss(n,r,N)}}break;case 5:Zf(w,w.return);break;case 22:if(w.memoizedState!==null){i8(m);continue}}p!==null?(p.return=w,Mt=p):i8(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,A=m.memoizedProps.style,o=A!=null&&A.hasOwnProperty("display")?A.display:null,l.style.display=o7("display",o))}catch(N){Ss(e,e.return,N)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(N){Ss(e,e.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:bl(t,e),oc(e),n&4&&s8(e);break;case 21:break;default:bl(t,e),oc(e)}}function oc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(TP(r)){var n=r;break e}r=r.return}throw Error(mt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(tg(s,""),n.flags&=-33);var i=n8(e);D4(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=n8(e);P4(e,l,o);break;default:throw Error(mt(161))}}catch(A){Ss(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pz(e,t,r){Mt=e,DP(e)}function DP(e,t,r){for(var n=(e.mode&1)!==0;Mt!==null;){var s=Mt,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||fx;if(!o){var l=s.alternate,A=l!==null&&l.memoizedState!==null||ni;l=fx;var u=ni;if(fx=o,(ni=A)&&!u)for(Mt=s;Mt!==null;)o=Mt,A=o.child,o.tag===22&&o.memoizedState!==null?o8(s):A!==null?(A.return=o,Mt=A):o8(s);for(;i!==null;)Mt=i,DP(i),i=i.sibling;Mt=s,fx=l,ni=u}a8(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Mt=i):a8(e)}}function a8(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ni||R2(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ni)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:jl(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Vj(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vj(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&ag(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}ni||t.flags&512&&L4(t)}catch(w){Ss(t,t.return,w)}}if(t===e){Mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function i8(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function o8(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{R2(4,t)}catch(A){Ss(t,r,A)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(A){Ss(t,s,A)}}var i=t.return;try{L4(t)}catch(A){Ss(t,i,A)}break;case 5:var o=t.return;try{L4(t)}catch(A){Ss(t,o,A)}}}catch(A){Ss(t,t.return,A)}if(t===e){Mt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Mt=l;break}Mt=t.return}}var gz=Math.ceil,Ny=GA.ReactCurrentDispatcher,KB=GA.ReactCurrentOwner,al=GA.ReactCurrentBatchConfig,an=0,fa=null,$s=null,Oa=0,yo=0,Jf=Dd(0),aa=0,pg=null,Wh=0,M2=0,WB=0,Pp=null,Vi=null,GB=0,z0=1/0,pA=null,By=!1,O4=null,dd=null,mx=!1,Yu=null,Sy=0,Dp=0,R4=null,Bw=-1,Sw=0;function Si(){return an&6?Os():Bw!==-1?Bw:Bw=Os()}function hd(e){return e.mode&1?an&2&&Oa!==0?Oa&-Oa:ez.transition!==null?(Sw===0&&(Sw=y7()),Sw):(e=En,e!==0||(e=window.event,e=e===void 0?16:E7(e.type)),e):1}function Dl(e,t,r,n){if(50<Dp)throw Dp=0,R4=null,Error(mt(185));a1(e,r,n),(!(an&2)||e!==fa)&&(e===fa&&(!(an&2)&&(M2|=r),aa===4&&Du(e,Oa)),Yi(e,n),r===1&&an===0&&!(t.mode&1)&&(z0=Os()+500,P2&&Od()))}function Yi(e,t){var r=e.callbackNode;eG(e,t);var n=cy(e,e===fa?Oa:0);if(n===0)r!==null&&pj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pj(r),t===1)e.tag===0?JG(l8.bind(null,e)):G7(l8.bind(null,e)),qG(function(){!(an&6)&&Od()}),r=null;else{switch(v7(n)){case 1:r=xB;break;case 4:r=x7;break;case 16:r=ly;break;case 536870912:r=w7;break;default:r=ly}r=KP(r,OP.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function OP(e,t){if(Bw=-1,Sw=0,an&6)throw Error(mt(327));var r=e.callbackNode;if(f0()&&e.callbackNode!==r)return null;var n=cy(e,e===fa?Oa:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ey(e,n);else{t=n;var s=an;an|=2;var i=MP();(fa!==e||Oa!==t)&&(pA=null,z0=Os()+500,Ih(e,t));do try{yz();break}catch(l){RP(e,l)}while(!0);kB(),Ny.current=i,an=s,$s!==null?t=0:(fa=null,Oa=0,t=aa)}if(t!==0){if(t===2&&(s=u4(e),s!==0&&(n=s,t=M4(e,s))),t===1)throw r=pg,Ih(e,0),Du(e,n),Yi(e,Os()),r;if(t===6)Du(e,n);else{if(s=e.current.alternate,!(n&30)&&!xz(s)&&(t=Ey(e,n),t===2&&(i=u4(e),i!==0&&(n=i,t=M4(e,i))),t===1))throw r=pg,Ih(e,0),Du(e,n),Yi(e,Os()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(mt(345));case 2:th(e,Vi,pA);break;case 3:if(Du(e,n),(n&130023424)===n&&(t=GB+500-Os(),10<t)){if(cy(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Si(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=w4(th.bind(null,e,Vi,pA),t);break}th(e,Vi,pA);break;case 4:if(Du(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Pl(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Os()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gz(n/1960))-n,10<n){e.timeoutHandle=w4(th.bind(null,e,Vi,pA),n);break}th(e,Vi,pA);break;case 5:th(e,Vi,pA);break;default:throw Error(mt(329))}}}return Yi(e,Os()),e.callbackNode===r?OP.bind(null,e):null}function M4(e,t){var r=Pp;return e.current.memoizedState.isDehydrated&&(Ih(e,t).flags|=256),e=Ey(e,t),e!==2&&(t=Vi,Vi=r,t!==null&&U4(t)),e}function U4(e){Vi===null?Vi=e:Vi.push.apply(Vi,e)}function xz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Hl(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Du(e,t){for(t&=~WB,t&=~M2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pl(t),n=1<<r;e[r]=-1,t&=~n}}function l8(e){if(an&6)throw Error(mt(327));f0();var t=cy(e,0);if(!(t&1))return Yi(e,Os()),null;var r=Ey(e,t);if(e.tag!==0&&r===2){var n=u4(e);n!==0&&(t=n,r=M4(e,n))}if(r===1)throw r=pg,Ih(e,0),Du(e,t),Yi(e,Os()),r;if(r===6)throw Error(mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,th(e,Vi,pA),Yi(e,Os()),null}function zB(e,t){var r=an;an|=1;try{return e(t)}finally{an=r,an===0&&(z0=Os()+500,P2&&Od())}}function Gh(e){Yu!==null&&Yu.tag===0&&!(an&6)&&f0();var t=an;an|=1;var r=al.transition,n=En;try{if(al.transition=null,En=1,e)return e()}finally{En=n,al.transition=r,an=t,!(an&6)&&Od()}}function $B(){yo=Jf.current,es(Jf)}function Ih(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$G(r)),$s!==null)for(r=$s.return;r!==null;){var n=r;switch(jB(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fy();break;case 3:W0(),es(qi),es(oi),OB();break;case 5:DB(n);break;case 4:W0();break;case 13:es(As);break;case 19:es(As);break;case 10:_B(n.type._context);break;case 22:case 23:$B()}r=r.return}if(fa=e,$s=e=fd(e.current,null),Oa=yo=t,aa=0,pg=null,WB=M2=Wh=0,Vi=Pp=null,Ah!==null){for(t=0;t<Ah.length;t++)if(r=Ah[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ah=null}return e}function RP(e,t){do{var r=$s;try{if(kB(),bw.current=Cy,by){for(var n=ds.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}by=!1}if(Kh=0,da=ra=ds=null,Tp=!1,hg=0,KB.current=null,r===null||r.return===null){aa=1,pg=t,$s=null;break}e:{var i=e,o=r.return,l=r,A=t;if(t=Oa,l.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var u=A,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var w=h.alternate;w?(h.updateQueue=w.updateQueue,h.memoizedState=w.memoizedState,h.lanes=w.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=qj(o);if(p!==null){p.flags&=-257,Xj(p,o,l,i,t),p.mode&1&&$j(i,u,t),t=p,A=u;var b=t.updateQueue;if(b===null){var N=new Set;N.add(A),t.updateQueue=N}else b.add(A);break e}else{if(!(t&1)){$j(i,u,t),qB();break e}A=Error(mt(426))}}else if(ls&&l.mode&1){var j=qj(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Xj(j,o,l,i,t),IB(G0(A,l));break e}}i=A=G0(A,l),aa!==4&&(aa=2),Pp===null?Pp=[i]:Pp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=vP(i,A,t);Hj(i,y);break e;case 1:l=A;var B=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof B.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(dd===null||!dd.has(I)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=bP(i,l,t);Hj(i,_);break e}}i=i.return}while(i!==null)}QP(r)}catch(O){t=O,$s===r&&r!==null&&($s=r=r.return);continue}break}while(!0)}function MP(){var e=Ny.current;return Ny.current=Cy,e===null?Cy:e}function qB(){(aa===0||aa===3||aa===2)&&(aa=4),fa===null||!(Wh&268435455)&&!(M2&268435455)||Du(fa,Oa)}function Ey(e,t){var r=an;an|=2;var n=MP();(fa!==e||Oa!==t)&&(pA=null,Ih(e,t));do try{wz();break}catch(s){RP(e,s)}while(!0);if(kB(),an=r,Ny.current=n,$s!==null)throw Error(mt(261));return fa=null,Oa=0,aa}function wz(){for(;$s!==null;)UP($s)}function yz(){for(;$s!==null&&!WW();)UP($s)}function UP(e){var t=VP(e.alternate,e,yo);e.memoizedProps=e.pendingProps,t===null?QP(e):$s=t,KB.current=null}function QP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=hz(r,t),r!==null){r.flags&=32767,$s=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{aa=6,$s=null;return}}else if(r=dz(r,t,yo),r!==null){$s=r;return}if(t=t.sibling,t!==null){$s=t;return}$s=t=e}while(t!==null);aa===0&&(aa=5)}function th(e,t,r){var n=En,s=al.transition;try{al.transition=null,En=1,vz(e,t,r,n)}finally{al.transition=s,En=n}return null}function vz(e,t,r,n){do f0();while(Yu!==null);if(an&6)throw Error(mt(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(mt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(tG(e,i),e===fa&&($s=fa=null,Oa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mx||(mx=!0,KP(ly,function(){return f0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=al.transition,al.transition=null;var o=En;En=1;var l=an;an|=4,KB.current=null,mz(e,r),PP(r,e),QG(g4),Ay=!!p4,g4=p4=null,e.current=r,pz(r),GW(),an=l,En=o,al.transition=i}else e.current=r;if(mx&&(mx=!1,Yu=e,Sy=s),i=e.pendingLanes,i===0&&(dd=null),qW(r.stateNode),Yi(e,Os()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(By)throw By=!1,e=O4,O4=null,e;return Sy&1&&e.tag!==0&&f0(),i=e.pendingLanes,i&1?e===R4?Dp++:(Dp=0,R4=e):Dp=0,Od(),null}function f0(){if(Yu!==null){var e=v7(Sy),t=al.transition,r=En;try{if(al.transition=null,En=16>e?16:e,Yu===null)var n=!1;else{if(e=Yu,Yu=null,Sy=0,an&6)throw Error(mt(331));var s=an;for(an|=4,Mt=e.current;Mt!==null;){var i=Mt,o=i.child;if(Mt.flags&16){var l=i.deletions;if(l!==null){for(var A=0;A<l.length;A++){var u=l[A];for(Mt=u;Mt!==null;){var h=Mt;switch(h.tag){case 0:case 11:case 15:Lp(8,h,i)}var m=h.child;if(m!==null)m.return=h,Mt=m;else for(;Mt!==null;){h=Mt;var w=h.sibling,p=h.return;if(_P(h),h===u){Mt=null;break}if(w!==null){w.return=p,Mt=w;break}Mt=p}}}var b=i.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var j=N.sibling;N.sibling=null,N=j}while(N!==null)}}Mt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Mt=o;else e:for(;Mt!==null;){if(i=Mt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lp(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Mt=y;break e}Mt=i.return}}var B=e.current;for(Mt=B;Mt!==null;){o=Mt;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Mt=I;else e:for(o=B;Mt!==null;){if(l=Mt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:R2(9,l)}}catch(O){Ss(l,l.return,O)}if(l===o){Mt=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Mt=_;break e}Mt=l.return}}if(an=s,Od(),Nc&&typeof Nc.onPostCommitFiberRoot=="function")try{Nc.onPostCommitFiberRoot(F2,e)}catch{}n=!0}return n}finally{En=r,al.transition=t}}return!1}function c8(e,t,r){t=G0(r,t),t=vP(e,t,1),e=ud(e,t,1),t=Si(),e!==null&&(a1(e,1,t),Yi(e,t))}function Ss(e,t,r){if(e.tag===3)c8(e,e,r);else for(;t!==null;){if(t.tag===3){c8(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dd===null||!dd.has(n))){e=G0(r,e),e=bP(t,e,1),t=ud(t,e,1),e=Si(),t!==null&&(a1(t,1,e),Yi(t,e));break}}t=t.return}}function bz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Si(),e.pingedLanes|=e.suspendedLanes&r,fa===e&&(Oa&r)===r&&(aa===4||aa===3&&(Oa&130023424)===Oa&&500>Os()-GB?Ih(e,0):WB|=r),Yi(e,t)}function HP(e,t){t===0&&(e.mode&1?(t=ax,ax<<=1,!(ax&130023424)&&(ax=4194304)):t=1);var r=Si();e=PA(e,t),e!==null&&(a1(e,t,r),Yi(e,r))}function Cz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),HP(e,r)}function Nz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(mt(314))}n!==null&&n.delete(t),HP(e,r)}var VP;VP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qi.current)Ki=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ki=!1,uz(e,t,r);Ki=!!(e.flags&131072)}else Ki=!1,ls&&t.flags&1048576&&z7(t,gy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Nw(e,t),e=t.pendingProps;var s=H0(t,oi.current);h0(t,r),s=MB(null,t,n,e,s,r);var i=UB();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xi(n)?(i=!0,my(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,LB(t),s.updater=O2,t.stateNode=s,s._reactInternals=t,S4(t,n,e,r),t=I4(null,t,n,!0,i,r)):(t.tag=0,ls&&i&&EB(t),wi(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Nw(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Sz(n),e=jl(n,e),s){case 0:t=j4(null,t,n,e,r);break e;case 1:t=Jj(null,t,n,e,r);break e;case 11:t=Yj(null,t,n,e,r);break e;case 14:t=Zj(null,t,n,jl(n.type,e),r);break e}throw Error(mt(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jl(n,s),j4(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jl(n,s),Jj(e,t,n,s,r);case 3:e:{if(SP(t),e===null)throw Error(mt(387));n=t.pendingProps,i=t.memoizedState,s=i.element,J7(e,t),yy(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=G0(Error(mt(423)),t),t=e8(e,t,n,r,s);break e}else if(n!==s){s=G0(Error(mt(424)),t),t=e8(e,t,n,r,s);break e}else for(bo=Ad(t.stateNode.containerInfo.firstChild),Bo=t,ls=!0,_l=null,r=Y7(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(V0(),n===s){t=DA(e,t,r);break e}wi(e,t,n,r)}t=t.child}return t;case 5:return eP(t),e===null&&C4(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,x4(n,s)?o=null:i!==null&&x4(n,i)&&(t.flags|=32),BP(e,t),wi(e,t,o,r),t.child;case 6:return e===null&&C4(t),null;case 13:return EP(e,t,r);case 4:return PB(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=K0(t,null,n,r):wi(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jl(n,s),Yj(e,t,n,s,r);case 7:return wi(e,t,t.pendingProps,r),t.child;case 8:return wi(e,t,t.pendingProps.children,r),t.child;case 12:return wi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Kn(xy,n._currentValue),n._currentValue=o,i!==null)if(Hl(i.value,o)){if(i.children===s.children&&!qi.current){t=DA(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var A=l.firstContext;A!==null;){if(A.context===n){if(i.tag===1){A=EA(-1,r&-r),A.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?A.next=A:(A.next=h.next,h.next=A),u.pending=A}}i.lanes|=r,A=i.alternate,A!==null&&(A.lanes|=r),N4(i.return,r,t),l.lanes|=r;break}A=A.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(mt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),N4(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}wi(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,h0(t,r),s=ol(s),n=n(s),t.flags|=1,wi(e,t,n,r),t.child;case 14:return n=t.type,s=jl(n,t.pendingProps),s=jl(n.type,s),Zj(e,t,n,s,r);case 15:return CP(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:jl(n,s),Nw(e,t),t.tag=1,Xi(n)?(e=!0,my(t)):e=!1,h0(t,r),yP(t,n,s),S4(t,n,s,r),I4(null,t,n,!0,e,r);case 19:return jP(e,t,r);case 22:return NP(e,t,r)}throw Error(mt(156,t.tag))};function KP(e,t){return g7(e,t)}function Bz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rl(e,t,r,n){return new Bz(e,t,r,n)}function XB(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sz(e){if(typeof e=="function")return XB(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mB)return 11;if(e===pB)return 14}return 2}function fd(e,t){var r=e.alternate;return r===null?(r=rl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ew(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")XB(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vf:return Fh(r.children,s,i,t);case fB:o=8,s|=8;break;case XC:return e=rl(12,r,t,s|2),e.elementType=XC,e.lanes=i,e;case YC:return e=rl(13,r,t,s),e.elementType=YC,e.lanes=i,e;case ZC:return e=rl(19,r,t,s),e.elementType=ZC,e.lanes=i,e;case e7:return U2(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZL:o=10;break e;case JL:o=9;break e;case mB:o=11;break e;case pB:o=14;break e;case _u:o=16,n=null;break e}throw Error(mt(130,e==null?e:typeof e,""))}return t=rl(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Fh(e,t,r,n){return e=rl(7,e,n,t),e.lanes=r,e}function U2(e,t,r,n){return e=rl(22,e,n,t),e.elementType=e7,e.lanes=r,e.stateNode={isHidden:!1},e}function qb(e,t,r){return e=rl(6,e,null,t),e.lanes=r,e}function Xb(e,t,r){return t=rl(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ez(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fb(0),this.expirationTimes=Fb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fb(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function YB(e,t,r,n,s,i,o,l,A){return e=new Ez(e,t,r,l,A),t===1?(t=1,i===!0&&(t|=8)):t=0,i=rl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},LB(i),e}function jz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function WP(e){if(!e)return Bd;e=e._reactInternals;e:{if(Af(e)!==e||e.tag!==1)throw Error(mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(mt(171))}if(e.tag===1){var r=e.type;if(Xi(r))return W7(e,r,t)}return t}function GP(e,t,r,n,s,i,o,l,A){return e=YB(r,n,!0,e,s,i,o,l,A),e.context=WP(null),r=e.current,n=Si(),s=hd(r),i=EA(n,s),i.callback=t??null,ud(r,i,s),e.current.lanes=s,a1(e,s,n),Yi(e,n),e}function Q2(e,t,r,n){var s=t.current,i=Si(),o=hd(s);return r=WP(r),t.context===null?t.context=r:t.pendingContext=r,t=EA(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ud(s,t,o),e!==null&&(Dl(e,s,o,i),vw(e,s,o)),o}function jy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function A8(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ZB(e,t){A8(e,t),(e=e.alternate)&&A8(e,t)}function Iz(){return null}var zP=typeof reportError=="function"?reportError:function(e){console.error(e)};function JB(e){this._internalRoot=e}H2.prototype.render=JB.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(mt(409));Q2(e,t,null,null)};H2.prototype.unmount=JB.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gh(function(){Q2(null,e,null,null)}),t[LA]=null}};function H2(e){this._internalRoot=e}H2.prototype.unstable_scheduleHydration=function(e){if(e){var t=N7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pu.length&&t!==0&&t<Pu[r].priority;r++);Pu.splice(r,0,e),r===0&&S7(e)}};function eS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function V2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function u8(){}function Fz(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=jy(o);i.call(u)}}var o=GP(t,n,e,0,null,!1,!1,"",u8);return e._reactRootContainer=o,e[LA]=o.current,lg(e.nodeType===8?e.parentNode:e),Gh(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=jy(A);l.call(u)}}var A=YB(e,0,!1,null,null,!1,!1,"",u8);return e._reactRootContainer=A,e[LA]=A.current,lg(e.nodeType===8?e.parentNode:e),Gh(function(){Q2(t,A,r,n)}),A}function K2(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var A=jy(o);l.call(A)}}Q2(t,o,e,s)}else o=Fz(r,t,e,s,n);return jy(o)}b7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=op(t.pendingLanes);r!==0&&(wB(t,r|1),Yi(t,Os()),!(an&6)&&(z0=Os()+500,Od()))}break;case 13:Gh(function(){var n=PA(e,1);if(n!==null){var s=Si();Dl(n,e,1,s)}}),ZB(e,1)}};yB=function(e){if(e.tag===13){var t=PA(e,134217728);if(t!==null){var r=Si();Dl(t,e,134217728,r)}ZB(e,134217728)}};C7=function(e){if(e.tag===13){var t=hd(e),r=PA(e,t);if(r!==null){var n=Si();Dl(r,e,t,n)}ZB(e,t)}};N7=function(){return En};B7=function(e,t){var r=En;try{return En=e,t()}finally{En=r}};l4=function(e,t,r){switch(t){case"input":if(t4(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=L2(n);if(!s)throw Error(mt(90));r7(n),t4(n,s)}}}break;case"textarea":s7(e,r);break;case"select":t=r.value,t!=null&&c0(e,!!r.multiple,t,!1)}};u7=zB;d7=Gh;var kz={usingClientEntryPoint:!1,Events:[o1,zf,L2,c7,A7,zB]},Qm={findFiberByHostInstance:ch,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_z={bundleType:Qm.bundleType,version:Qm.version,rendererPackageName:Qm.rendererPackageName,rendererConfig:Qm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:GA.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=m7(e),e===null?null:e.stateNode},findFiberByHostInstance:Qm.findFiberByHostInstance||Iz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var px=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!px.isDisabled&&px.supportsFiber)try{F2=px.inject(_z),Nc=px}catch{}}_o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kz;_o.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eS(t))throw Error(mt(200));return jz(e,t,null,r)};_o.createRoot=function(e,t){if(!eS(e))throw Error(mt(299));var r=!1,n="",s=zP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=YB(e,1,!1,null,null,r,!1,n,s),e[LA]=t.current,lg(e.nodeType===8?e.parentNode:e),new JB(t)};_o.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(mt(188)):(e=Object.keys(e).join(","),Error(mt(268,e)));return e=m7(t),e=e===null?null:e.stateNode,e};_o.flushSync=function(e){return Gh(e)};_o.hydrate=function(e,t,r){if(!V2(t))throw Error(mt(200));return K2(null,e,t,!0,r)};_o.hydrateRoot=function(e,t,r){if(!eS(e))throw Error(mt(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=zP;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=GP(t,null,e,1,r??null,s,!1,i,o),e[LA]=t.current,lg(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new H2(t)};_o.render=function(e,t,r){if(!V2(t))throw Error(mt(200));return K2(null,e,t,!1,r)};_o.unmountComponentAtNode=function(e){if(!V2(e))throw Error(mt(40));return e._reactRootContainer?(Gh(function(){K2(null,null,e,!1,function(){e._reactRootContainer=null,e[LA]=null})}),!0):!1};_o.unstable_batchedUpdates=zB;_o.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!V2(r))throw Error(mt(200));if(e==null||e._reactInternals===void 0)throw Error(mt(38));return K2(e,t,r,!1,n)};_o.version="18.3.1-next-f1338f8080-20240426";function $P(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($P)}catch(e){console.error(e)}}$P(),$L.exports=_o;var Rd=$L.exports;const qP=n1(Rd);var XP,d8=Rd;XP=d8.createRoot,d8.hydrateRoot;var Tz=e=>{switch(e){case"success":return Dz;case"info":return Rz;case"warning":return Oz;case"error":return Mz;default:return null}},Lz=Array(12).fill(0),Pz=({visible:e,className:t})=>Ze.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ze.createElement("div",{className:"sonner-spinner"},Lz.map((r,n)=>Ze.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Dz=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Oz=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Rz=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Mz=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Uz=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ze.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ze.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Qz=()=>{let[e,t]=Ze.useState(document.hidden);return Ze.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Q4=1,Hz=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Q4++,o=this.toasts.find(A=>A.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(A=>A.id===i?(this.publish({...A,...t,id:i,title:n}),{...A,...t,id:i,dismissible:l,title:n}):A):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=t instanceof Promise?t:t(),i=n!==void 0,o,l=s.then(async u=>{if(o=["resolve",u],Ze.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(Kz(u)&&!u.ok){i=!1;let h=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,m=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:h,description:m})}else if(r.success!==void 0){i=!1;let h=typeof r.success=="function"?await r.success(u):r.success,m=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:h,description:m})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;let h=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:h,description:m})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),A=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:A}:Object.assign(n,{unwrap:A})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||Q4++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Qi=new Hz,Vz=(e,t)=>{let r=(t==null?void 0:t.id)||Q4++;return Qi.addToast({title:e,...t,id:r}),r},Kz=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Wz=Vz,Gz=()=>Qi.toasts,zz=()=>Qi.getActiveToasts(),Ee=Object.assign(Wz,{success:Qi.success,info:Qi.info,warning:Qi.warning,error:Qi.error,custom:Qi.custom,message:Qi.message,promise:Qi.promise,dismiss:Qi.dismiss,loading:Qi.loading},{getHistory:Gz,getToasts:zz});function $z(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}$z(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gx(e){return e.label!==void 0}var qz=3,Xz="32px",Yz="16px",h8=4e3,Zz=356,Jz=14,e$=20,t$=200;function Cl(...e){return e.filter(Boolean).join(" ")}function r$(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var n$=e=>{var t,r,n,s,i,o,l,A,u,h,m;let{invert:w,toast:p,unstyled:b,interacting:N,setHeights:j,visibleToasts:y,heights:B,index:I,toasts:_,expanded:O,removeToast:H,defaultRichColors:D,closeButton:L,style:T,cancelButtonStyle:G,actionButtonStyle:M,className:V="",descriptionClassName:J="",duration:Z,position:ee,gap:q,loadingIcon:W,expandByDefault:X,classNames:K,icons:le,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:U}=e,[Y,se]=Ze.useState(null),[ce,Ae]=Ze.useState(null),[ge,fe]=Ze.useState(!1),[je,ke]=Ze.useState(!1),[Te,De]=Ze.useState(!1),[Qe,Ne]=Ze.useState(!1),[pe,Pe]=Ze.useState(!1),[rt,qe]=Ze.useState(0),[Me,wt]=Ze.useState(0),We=Ze.useRef(p.duration||Z||h8),Wt=Ze.useRef(null),Nt=Ze.useRef(null),at=I===0,pt=I+1<=y,dt=p.type,xt=p.dismissible!==!1,It=p.className||"",gt=p.descriptionClassName||"",Ot=Ze.useMemo(()=>B.findIndex(Ct=>Ct.toastId===p.id)||0,[B,p.id]),vt=Ze.useMemo(()=>{var Ct;return(Ct=p.closeButton)!=null?Ct:L},[p.closeButton,L]),Hr=Ze.useMemo(()=>p.duration||Z||h8,[p.duration,Z]),Gt=Ze.useRef(0),Ge=Ze.useRef(0),jt=Ze.useRef(0),Ht=Ze.useRef(null),[bt,vr]=ee.split("-"),ze=Ze.useMemo(()=>B.reduce((Ct,tr,nr)=>nr>=Ot?Ct:Ct+tr.height,0),[B,Ot]),Yt=Qz(),it=p.invert||w,Bt=dt==="loading";Ge.current=Ze.useMemo(()=>Ot*q+ze,[Ot,ze]),Ze.useEffect(()=>{We.current=Hr},[Hr]),Ze.useEffect(()=>{fe(!0)},[]),Ze.useEffect(()=>{let Ct=Nt.current;if(Ct){let tr=Ct.getBoundingClientRect().height;return wt(tr),j(nr=>[{toastId:p.id,height:tr,position:p.position},...nr]),()=>j(nr=>nr.filter(ln=>ln.toastId!==p.id))}},[j,p.id]),Ze.useLayoutEffect(()=>{if(!ge)return;let Ct=Nt.current,tr=Ct.style.height;Ct.style.height="auto";let nr=Ct.getBoundingClientRect().height;Ct.style.height=tr,wt(nr),j(ln=>ln.find(Ft=>Ft.toastId===p.id)?ln.map(Ft=>Ft.toastId===p.id?{...Ft,height:nr}:Ft):[{toastId:p.id,height:nr,position:p.position},...ln])},[ge,p.title,p.description,j,p.id]);let Ut=Ze.useCallback(()=>{ke(!0),qe(Ge.current),j(Ct=>Ct.filter(tr=>tr.toastId!==p.id)),setTimeout(()=>{H(p)},t$)},[p,H,j,Ge]);Ze.useEffect(()=>{if(p.promise&&dt==="loading"||p.duration===1/0||p.type==="loading")return;let Ct;return O||N||U&&Yt?(()=>{if(jt.current<Gt.current){let tr=new Date().getTime()-Gt.current;We.current=We.current-tr}jt.current=new Date().getTime()})():We.current!==1/0&&(Gt.current=new Date().getTime(),Ct=setTimeout(()=>{var tr;(tr=p.onAutoClose)==null||tr.call(p,p),Ut()},We.current)),()=>clearTimeout(Ct)},[O,N,p,dt,U,Yt,Ut]),Ze.useEffect(()=>{p.delete&&Ut()},[Ut,p.delete]);function Ir(){var Ct,tr,nr;return le!=null&&le.loading?Ze.createElement("div",{className:Cl(K==null?void 0:K.loader,(Ct=p==null?void 0:p.classNames)==null?void 0:Ct.loader,"sonner-loader"),"data-visible":dt==="loading"},le.loading):W?Ze.createElement("div",{className:Cl(K==null?void 0:K.loader,(tr=p==null?void 0:p.classNames)==null?void 0:tr.loader,"sonner-loader"),"data-visible":dt==="loading"},W):Ze.createElement(Pz,{className:Cl(K==null?void 0:K.loader,(nr=p==null?void 0:p.classNames)==null?void 0:nr.loader),visible:dt==="loading"})}return Ze.createElement("li",{tabIndex:0,ref:Nt,className:Cl(V,It,K==null?void 0:K.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,K==null?void 0:K.default,K==null?void 0:K[dt],(r=p==null?void 0:p.classNames)==null?void 0:r[dt]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:D,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":ge,"data-promise":!!p.promise,"data-swiped":pe,"data-removed":je,"data-visible":pt,"data-y-position":bt,"data-x-position":vr,"data-index":I,"data-front":at,"data-swiping":Te,"data-dismissible":xt,"data-type":dt,"data-invert":it,"data-swipe-out":Qe,"data-swipe-direction":ce,"data-expanded":!!(O||X&&ge),style:{"--index":I,"--toasts-before":I,"--z-index":_.length-I,"--offset":`${je?rt:Ge.current}px`,"--initial-height":X?"auto":`${Me}px`,...T,...p.style},onDragEnd:()=>{De(!1),se(null),Ht.current=null},onPointerDown:Ct=>{Bt||!xt||(Wt.current=new Date,qe(Ge.current),Ct.target.setPointerCapture(Ct.pointerId),Ct.target.tagName!=="BUTTON"&&(De(!0),Ht.current={x:Ct.clientX,y:Ct.clientY}))},onPointerUp:()=>{var Ct,tr,nr,ln;if(Qe||!xt)return;Ht.current=null;let Ft=Number(((Ct=Nt.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),cn=Number(((tr=Nt.current)==null?void 0:tr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ps=new Date().getTime()-((nr=Wt.current)==null?void 0:nr.getTime()),zr=Y==="x"?Ft:cn,In=Math.abs(zr)/ps;if(Math.abs(zr)>=e$||In>.11){qe(Ge.current),(ln=p.onDismiss)==null||ln.call(p,p),Ae(Y==="x"?Ft>0?"right":"left":cn>0?"down":"up"),Ut(),Ne(!0),Pe(!1);return}De(!1),se(null)},onPointerMove:Ct=>{var tr,nr,ln,Ft;if(!Ht.current||!xt||((tr=window.getSelection())==null?void 0:tr.toString().length)>0)return;let cn=Ct.clientY-Ht.current.y,ps=Ct.clientX-Ht.current.x,zr=(nr=e.swipeDirections)!=null?nr:r$(ee);!Y&&(Math.abs(ps)>1||Math.abs(cn)>1)&&se(Math.abs(ps)>Math.abs(cn)?"x":"y");let In={x:0,y:0};Y==="y"?(zr.includes("top")||zr.includes("bottom"))&&(zr.includes("top")&&cn<0||zr.includes("bottom")&&cn>0)&&(In.y=cn):Y==="x"&&(zr.includes("left")||zr.includes("right"))&&(zr.includes("left")&&ps<0||zr.includes("right")&&ps>0)&&(In.x=ps),(Math.abs(In.x)>0||Math.abs(In.y)>0)&&Pe(!0),(ln=Nt.current)==null||ln.style.setProperty("--swipe-amount-x",`${In.x}px`),(Ft=Nt.current)==null||Ft.style.setProperty("--swipe-amount-y",`${In.y}px`)}},vt&&!p.jsx?Ze.createElement("button",{"aria-label":ne,"data-disabled":Bt,"data-close-button":!0,onClick:Bt||!xt?()=>{}:()=>{var Ct;Ut(),(Ct=p.onDismiss)==null||Ct.call(p,p)},className:Cl(K==null?void 0:K.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=le==null?void 0:le.close)!=null?i:Uz):null,p.jsx||C.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Ze.createElement(Ze.Fragment,null,dt||p.icon||p.promise?Ze.createElement("div",{"data-icon":"",className:Cl(K==null?void 0:K.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Ir():null,p.type!=="loading"?p.icon||(le==null?void 0:le[dt])||Tz(dt):null):null,Ze.createElement("div",{"data-content":"",className:Cl(K==null?void 0:K.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},Ze.createElement("div",{"data-title":"",className:Cl(K==null?void 0:K.title,(A=p==null?void 0:p.classNames)==null?void 0:A.title)},typeof p.title=="function"?p.title():p.title),p.description?Ze.createElement("div",{"data-description":"",className:Cl(J,gt,K==null?void 0:K.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),C.isValidElement(p.cancel)?p.cancel:p.cancel&&gx(p.cancel)?Ze.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||G,onClick:Ct=>{var tr,nr;gx(p.cancel)&&xt&&((nr=(tr=p.cancel).onClick)==null||nr.call(tr,Ct),Ut())},className:Cl(K==null?void 0:K.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,C.isValidElement(p.action)?p.action:p.action&&gx(p.action)?Ze.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||M,onClick:Ct=>{var tr,nr;gx(p.action)&&((nr=(tr=p.action).onClick)==null||nr.call(tr,Ct),!Ct.defaultPrevented&&Ut())},className:Cl(K==null?void 0:K.actionButton,(m=p==null?void 0:p.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function f8(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function s$(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?Yz:Xz;function A(u){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?A(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):A(l)}),r}var a$=C.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:A,mobileOffset:u,theme:h="light",richColors:m,duration:w,style:p,visibleToasts:b=qz,toastOptions:N,dir:j=f8(),gap:y=Jz,loadingIcon:B,icons:I,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:O}=e,[H,D]=Ze.useState([]),L=Ze.useMemo(()=>Array.from(new Set([n].concat(H.filter(U=>U.position).map(U=>U.position)))),[H,n]),[T,G]=Ze.useState([]),[M,V]=Ze.useState(!1),[J,Z]=Ze.useState(!1),[ee,q]=Ze.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=Ze.useRef(null),X=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=Ze.useRef(null),le=Ze.useRef(!1),ne=Ze.useCallback(U=>{D(Y=>{var se;return(se=Y.find(ce=>ce.id===U.id))!=null&&se.delete||Qi.dismiss(U.id),Y.filter(({id:ce})=>ce!==U.id)})},[]);return Ze.useEffect(()=>Qi.subscribe(U=>{if(U.dismiss){D(Y=>Y.map(se=>se.id===U.id?{...se,delete:!0}:se));return}setTimeout(()=>{qP.flushSync(()=>{D(Y=>{let se=Y.findIndex(ce=>ce.id===U.id);return se!==-1?[...Y.slice(0,se),{...Y[se],...U},...Y.slice(se+1)]:[U,...Y]})})})}),[]),Ze.useEffect(()=>{if(h!=="system"){q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:Y})=>{q(Y?"dark":"light")})}catch{U.addListener(({matches:se})=>{try{q(se?"dark":"light")}catch(ce){console.error(ce)}})}},[h]),Ze.useEffect(()=>{H.length<=1&&V(!1)},[H]),Ze.useEffect(()=>{let U=Y=>{var se,ce;s.every(Ae=>Y[Ae]||Y.code===Ae)&&(V(!0),(se=W.current)==null||se.focus()),Y.code==="Escape"&&(document.activeElement===W.current||(ce=W.current)!=null&&ce.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[s]),Ze.useEffect(()=>{if(W.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,le.current=!1)}},[W.current]),Ze.createElement("section",{ref:t,"aria-label":`${_} ${X}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((U,Y)=>{var se;let[ce,Ae]=U.split("-");return H.length?Ze.createElement("ol",{key:U,dir:j==="auto"?f8():j,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":ce,"data-lifted":M&&H.length>1&&!i,"data-x-position":Ae,style:{"--front-toast-height":`${((se=T[0])==null?void 0:se.height)||0}px`,"--width":`${Zz}px`,"--gap":`${y}px`,...p,...s$(A,u)},onBlur:ge=>{le.current&&!ge.currentTarget.contains(ge.relatedTarget)&&(le.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||le.current||(le.current=!0,K.current=ge.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{J||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ge=>{ge.target instanceof HTMLElement&&ge.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},H.filter(ge=>!ge.position&&Y===0||ge.position===U).map((ge,fe)=>{var je,ke;return Ze.createElement(n$,{key:ge.id,icons:I,index:fe,toast:ge,defaultRichColors:m,duration:(je=N==null?void 0:N.duration)!=null?je:w,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:r,visibleToasts:b,closeButton:(ke=N==null?void 0:N.closeButton)!=null?ke:o,interacting:J,position:U,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,removeToast:ne,toasts:H.filter(Te=>Te.position==ge.position),heights:T.filter(Te=>Te.position==ge.position),setHeights:G,expandByDefault:i,gap:y,loadingIcon:B,expanded:M,pauseWhenPageIsHidden:O,swipeDirections:e.swipeDirections})})):null}))});let i$={data:""},o$=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||i$,l$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,c$=/\/\*[^]*?\*\/|  +/g,m8=/\n+/g,Ou=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Ou(o,i):i+"{"+Ou(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Ou(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,A=>/&/.test(A)?A.replace(/&/g,l):l?l+" "+A:A)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ou.p?Ou.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},oA={},YP=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+YP(e[r]);return t}return e},A$=(e,t,r,n,s)=>{let i=YP(e),o=oA[i]||(oA[i]=(A=>{let u=0,h=11;for(;u<A.length;)h=101*h+A.charCodeAt(u++)>>>0;return"go"+h})(i));if(!oA[o]){let A=i!==e?e:(u=>{let h,m,w=[{}];for(;h=l$.exec(u.replace(c$,""));)h[4]?w.shift():h[3]?(m=h[3].replace(m8," ").trim(),w.unshift(w[0][m]=w[0][m]||{})):w[0][h[1]]=h[2].replace(m8," ").trim();return w[0]})(e);oA[o]=Ou(s?{["@keyframes "+o]:A}:A,r?"":"."+o)}let l=r&&oA.g?oA.g:null;return r&&(oA.g=oA[o]),((A,u,h,m)=>{m?u.data=u.data.replace(m,A):u.data.indexOf(A)===-1&&(u.data=h?A+u.data:u.data+A)})(oA[o],t,n,l),o},u$=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let l=o(r),A=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=A?"."+A:l&&typeof l=="object"?l.props?"":Ou(l,""):l===!1?"":l}return n+s+(o??"")},"");function W2(e){let t=this||{},r=e.call?e(t.p):e;return A$(r.unshift?r.raw?u$(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,o$(t.target),t.g,t.o,t.k)}let ZP,H4,V4;W2.bind({g:1});let OA=W2.bind({k:1});function d$(e,t,r,n){Ou.p=t,ZP=e,H4=r,V4=n}function Md(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let l=Object.assign({},i),A=l.className||s.className;r.p=Object.assign({theme:H4&&H4()},l),r.o=/ *go\d+/.test(A),l.className=W2.apply(r,n)+(A?" "+A:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),V4&&u[0]&&V4(l),ZP(u,l)}return s}}var h$=e=>typeof e=="function",Iy=(e,t)=>h$(e)?e(t):e,f$=(()=>{let e=0;return()=>(++e).toString()})(),JP=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),m$=20,eD=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,m$)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return eD(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},jw=[],dh={toasts:[],pausedAt:void 0},uf=e=>{dh=eD(dh,e),jw.forEach(t=>{t(dh)})},p$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},g$=(e={})=>{let[t,r]=C.useState(dh),n=C.useRef(dh);C.useEffect(()=>(n.current!==dh&&r(dh),jw.push(r),()=>{let i=jw.indexOf(r);i>-1&&jw.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,l,A;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||p$[i.type],style:{...e.style,...(A=e[i.type])==null?void 0:A.style,...i.style}}});return{...t,toasts:s}},x$=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||f$()}),c1=e=>(t,r)=>{let n=x$(t,e,r);return uf({type:2,toast:n}),n.id},ar=(e,t)=>c1("blank")(e,t);ar.error=c1("error");ar.success=c1("success");ar.loading=c1("loading");ar.custom=c1("custom");ar.dismiss=e=>{uf({type:3,toastId:e})};ar.remove=e=>uf({type:4,toastId:e});ar.promise=(e,t,r)=>{let n=ar.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Iy(t.success,s):void 0;return i?ar.success(i,{id:n,...r,...r==null?void 0:r.success}):ar.dismiss(n),s}).catch(s=>{let i=t.error?Iy(t.error,s):void 0;i?ar.error(i,{id:n,...r,...r==null?void 0:r.error}):ar.dismiss(n)}),e};var w$=(e,t)=>{uf({type:1,toast:{id:e,height:t}})},y$=()=>{uf({type:5,time:Date.now()})},Op=new Map,v$=1e3,b$=(e,t=v$)=>{if(Op.has(e))return;let r=setTimeout(()=>{Op.delete(e),uf({type:4,toastId:e})},t);Op.set(e,r)},C$=e=>{let{toasts:t,pausedAt:r}=g$(e);C.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let A=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(A<0){l.visible&&ar.dismiss(l.id);return}return setTimeout(()=>ar.dismiss(l.id),A)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=C.useCallback(()=>{r&&uf({type:6,time:Date.now()})},[r]),s=C.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:A=8,defaultPosition:u}=o||{},h=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),m=h.findIndex(p=>p.id===i.id),w=h.filter((p,b)=>b<m&&p.visible).length;return h.filter(p=>p.visible).slice(...l?[w+1]:[0,w]).reduce((p,b)=>p+(b.height||0)+A,0)},[t]);return C.useEffect(()=>{t.forEach(i=>{if(i.dismissed)b$(i.id,i.removeDelay);else{let o=Op.get(i.id);o&&(clearTimeout(o),Op.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:w$,startPause:y$,endPause:n,calculateOffset:s}}},N$=OA`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,B$=OA`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,S$=OA`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,E$=Md("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${B$} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${S$} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,j$=OA`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,I$=Md("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${j$} 1s linear infinite;
`,F$=OA`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,k$=OA`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_$=Md("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${F$} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${k$} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,T$=Md("div")`
  position: absolute;
`,L$=Md("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,P$=OA`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,D$=Md("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${P$} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,O$=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?C.createElement(D$,null,t):t:r==="blank"?null:C.createElement(L$,null,C.createElement(I$,{...n}),r!=="loading"&&C.createElement(T$,null,r==="error"?C.createElement(E$,{...n}):C.createElement(_$,{...n})))},R$=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,M$=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,U$="0%{opacity:0;} 100%{opacity:1;}",Q$="0%{opacity:1;} 100%{opacity:0;}",H$=Md("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,V$=Md("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,K$=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=JP()?[U$,Q$]:[R$(r),M$(r)];return{animation:t?`${OA(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${OA(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},W$=C.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?K$(e.position||t||"top-center",e.visible):{opacity:0},i=C.createElement(O$,{toast:e}),o=C.createElement(V$,{...e.ariaProps},Iy(e.message,e));return C.createElement(H$,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):C.createElement(C.Fragment,null,i,o))});d$(C.createElement);var G$=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=C.useCallback(o=>{if(o){let l=()=>{let A=o.getBoundingClientRect().height;n(e,A)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return C.createElement("div",{ref:i,className:t,style:r},s)},z$=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:JP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},$$=W2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xx=16,q$=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:A}=C$(r);return C.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:xx,left:xx,right:xx,bottom:xx,pointerEvents:"none",...i},className:o,onMouseEnter:A.startPause,onMouseLeave:A.endPause},l.map(u=>{let h=u.position||t,m=A.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),w=z$(h,m);return C.createElement(G$,{id:u.id,key:u.id,onHeightUpdate:A.updateHeight,className:u.visible?$$:"",style:w},u.type==="custom"?Iy(u.message,u):s?s(u):C.createElement(W$,{toast:u,position:h}))}))},um=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zh=typeof window>"u"||"Deno"in globalThis;function yi(){}function X$(e,t){return typeof e=="function"?e(t):e}function K4(e){return typeof e=="number"&&e>=0&&e!==1/0}function tD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function m0(e,t){return typeof e=="function"?e(t):e}function Tl(e,t){return typeof e=="function"?e(t):e}function p8(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==tS(o,t.options))return!1}else if(!gg(t.queryKey,o))return!1}if(r!=="all"){const A=t.isActive();if(r==="active"&&!A||r==="inactive"&&A)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function g8(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if($h(t.options.mutationKey)!==$h(i))return!1}else if(!gg(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function tS(e,t){return((t==null?void 0:t.queryKeyHashFn)||$h)(e)}function $h(e){return JSON.stringify(e,(t,r)=>W4(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function gg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>gg(e[r],t[r])):!1}function rD(e,t){if(e===t)return e;const r=x8(e)&&x8(t);if(r||W4(e)&&W4(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let A=0;for(let u=0;u<o;u++){const h=r?u:i[u];(!r&&n.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(l[h]=void 0,A++):(l[h]=rD(e[h],t[h]),l[h]===e[h]&&e[h]!==void 0&&A++)}return s===o&&A===s?e:l}return t}function Fy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function x8(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function W4(e){if(!w8(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!w8(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function w8(e){return Object.prototype.toString.call(e)==="[object Object]"}function Y$(e){return new Promise(t=>{setTimeout(t,e)})}function G4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?rD(e,t):t}function Z$(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function J$(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var rS=Symbol();function nD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function sD(e,t){return typeof e=="function"?e(...t):!!e}var vh,Uu,E0,SL,eq=(SL=class extends um{constructor(){super();cr(this,vh);cr(this,Uu);cr(this,E0);kt(this,E0,t=>{if(!zh&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Fe(this,Uu)||this.setEventListener(Fe(this,E0))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,Uu))==null||t.call(this),kt(this,Uu,void 0))}setEventListener(t){var r;kt(this,E0,t),(r=Fe(this,Uu))==null||r.call(this),kt(this,Uu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Fe(this,vh)!==t&&(kt(this,vh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Fe(this,vh)=="boolean"?Fe(this,vh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vh=new WeakMap,Uu=new WeakMap,E0=new WeakMap,SL),nS=new eq,j0,Qu,I0,EL,tq=(EL=class extends um{constructor(){super();cr(this,j0,!0);cr(this,Qu);cr(this,I0);kt(this,I0,t=>{if(!zh&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Fe(this,Qu)||this.setEventListener(Fe(this,I0))}onUnsubscribe(){var t;this.hasListeners()||((t=Fe(this,Qu))==null||t.call(this),kt(this,Qu,void 0))}setEventListener(t){var r;kt(this,I0,t),(r=Fe(this,Qu))==null||r.call(this),kt(this,Qu,t(this.setOnline.bind(this)))}setOnline(t){Fe(this,j0)!==t&&(kt(this,j0,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Fe(this,j0)}},j0=new WeakMap,Qu=new WeakMap,I0=new WeakMap,EL),ky=new tq;function z4(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function rq(e){return Math.min(1e3*2**e,3e4)}function aD(e){return(e??"online")==="online"?ky.isOnline():!0}var iD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Yb(e){return e instanceof iD}function oD(e){let t=!1,r=0,n=!1,s;const i=z4(),o=N=>{var j;n||(w(new iD(N)),(j=e.abort)==null||j.call(e))},l=()=>{t=!0},A=()=>{t=!1},u=()=>nS.isFocused()&&(e.networkMode==="always"||ky.isOnline())&&e.canRun(),h=()=>aD(e.networkMode)&&e.canRun(),m=N=>{var j;n||(n=!0,(j=e.onSuccess)==null||j.call(e,N),s==null||s(),i.resolve(N))},w=N=>{var j;n||(n=!0,(j=e.onError)==null||j.call(e,N),s==null||s(),i.reject(N))},p=()=>new Promise(N=>{var j;s=y=>{(n||u())&&N(y)},(j=e.onPause)==null||j.call(e)}).then(()=>{var N;s=void 0,n||(N=e.onContinue)==null||N.call(e)}),b=()=>{if(n)return;let N;const j=r===0?e.initialPromise:void 0;try{N=j??e.fn()}catch(y){N=Promise.reject(y)}Promise.resolve(N).then(m).catch(y=>{var H;if(n)return;const B=e.retry??(zh?0:3),I=e.retryDelay??rq,_=typeof I=="function"?I(r,y):I,O=B===!0||typeof B=="number"&&r<B||typeof B=="function"&&B(r,y);if(t||!O){w(y);return}r++,(H=e.onFail)==null||H.call(e,r,y),Y$(_).then(()=>u()?void 0:p()).then(()=>{t?w(y):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:A,canStart:h,start:()=>(h()?b():p().then(b),i)}}var nq=e=>setTimeout(e,0);function sq(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=nq;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(A=>{r(A)})})})};return{batch:l=>{let A;t++;try{A=l()}finally{t--,t||o()}return A},batchCalls:l=>(...A)=>{i(()=>{l(...A)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var na=sq(),bh,jL,lD=(jL=class{constructor(){cr(this,bh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),K4(this.gcTime)&&kt(this,bh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zh?1/0:5*60*1e3))}clearGcTimeout(){Fe(this,bh)&&(clearTimeout(Fe(this,bh)),kt(this,bh,void 0))}},bh=new WeakMap,jL),F0,k0,Yo,Ch,Za,Jg,Nh,Il,fA,IL,aq=(IL=class extends lD{constructor(t){super();cr(this,Il);cr(this,F0);cr(this,k0);cr(this,Yo);cr(this,Ch);cr(this,Za);cr(this,Jg);cr(this,Nh);kt(this,Nh,!1),kt(this,Jg,t.defaultOptions),this.setOptions(t.options),this.observers=[],kt(this,Ch,t.client),kt(this,Yo,Fe(this,Ch).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,kt(this,F0,iq(this.options)),this.state=t.state??Fe(this,F0),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Fe(this,Za))==null?void 0:t.promise}setOptions(t){this.options={...Fe(this,Jg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Fe(this,Yo).remove(this)}setData(t,r){const n=G4(this.state.data,t,this.options);return Rr(this,Il,fA).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Rr(this,Il,fA).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Fe(this,Za))==null?void 0:n.promise;return(s=Fe(this,Za))==null||s.cancel(t),r?r.then(yi).catch(yi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Fe(this,F0))}isActive(){return this.observers.some(t=>Tl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!tD(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Fe(this,Za))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Fe(this,Za))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Fe(this,Yo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Fe(this,Za)&&(Fe(this,Nh)?Fe(this,Za).cancel({revert:!0}):Fe(this,Za).cancelRetry()),this.scheduleGc()),Fe(this,Yo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rr(this,Il,fA).call(this,{type:"invalidate"})}fetch(t,r){var A,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Fe(this,Za))return Fe(this,Za).continueRetry(),Fe(this,Za).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(w=>w.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(kt(this,Nh,!0),n.signal)})},i=()=>{const m=nD(this.options,r),w={client:Fe(this,Ch),queryKey:this.queryKey,meta:this.meta};return s(w),kt(this,Nh,!1),this.options.persister?this.options.persister(m,w,this):m(w)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Fe(this,Ch),state:this.state,fetchFn:i};s(o),(A=this.options.behavior)==null||A.onFetch(o,this),kt(this,k0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Rr(this,Il,fA).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta});const l=m=>{var w,p,b,N;Yb(m)&&m.silent||Rr(this,Il,fA).call(this,{type:"error",error:m}),Yb(m)||((p=(w=Fe(this,Yo).config).onError)==null||p.call(w,m,this),(N=(b=Fe(this,Yo).config).onSettled)==null||N.call(b,this.state.data,m,this)),this.scheduleGc()};return kt(this,Za,oD({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var w,p,b,N;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(j){l(j);return}(p=(w=Fe(this,Yo).config).onSuccess)==null||p.call(w,m,this),(N=(b=Fe(this,Yo).config).onSettled)==null||N.call(b,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,w)=>{Rr(this,Il,fA).call(this,{type:"failed",failureCount:m,error:w})},onPause:()=>{Rr(this,Il,fA).call(this,{type:"pause"})},onContinue:()=>{Rr(this,Il,fA).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Fe(this,Za).start()}},F0=new WeakMap,k0=new WeakMap,Yo=new WeakMap,Ch=new WeakMap,Za=new WeakMap,Jg=new WeakMap,Nh=new WeakMap,Il=new WeakSet,fA=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...cD(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Yb(s)&&s.revert&&Fe(this,k0)?{...Fe(this,k0),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),na.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Fe(this,Yo).notify({query:this,type:"updated",action:t})})},IL);function cD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function iq(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var fc,FL,oq=(FL=class extends um{constructor(t={}){super();cr(this,fc);this.config=t,kt(this,fc,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??tS(s,r);let o=this.get(i);return o||(o=new aq({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Fe(this,fc).has(t.queryHash)||(Fe(this,fc).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Fe(this,fc).get(t.queryHash);r&&(t.destroy(),r===t&&Fe(this,fc).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){na.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Fe(this,fc).get(t)}getAll(){return[...Fe(this,fc).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>p8(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>p8(t,n)):r}notify(t){na.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){na.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){na.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},fc=new WeakMap,FL),mc,mi,Bh,pc,Su,kL,lq=(kL=class extends lD{constructor(t){super();cr(this,pc);cr(this,mc);cr(this,mi);cr(this,Bh);this.mutationId=t.mutationId,kt(this,mi,t.mutationCache),kt(this,mc,[]),this.state=t.state||AD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Fe(this,mc).includes(t)||(Fe(this,mc).push(t),this.clearGcTimeout(),Fe(this,mi).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){kt(this,mc,Fe(this,mc).filter(r=>r!==t)),this.scheduleGc(),Fe(this,mi).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Fe(this,mc).length||(this.state.status==="pending"?this.scheduleGc():Fe(this,mi).remove(this))}continue(){var t;return((t=Fe(this,Bh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,A,u,h,m,w,p,b,N,j,y,B,I,_,O,H,D,L;const r=()=>{Rr(this,pc,Su).call(this,{type:"continue"})};kt(this,Bh,oD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,G)=>{Rr(this,pc,Su).call(this,{type:"failed",failureCount:T,error:G})},onPause:()=>{Rr(this,pc,Su).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Fe(this,mi).canRun(this)}));const n=this.state.status==="pending",s=!Fe(this,Bh).canStart();try{if(n)r();else{Rr(this,pc,Su).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=Fe(this,mi).config).onMutate)==null?void 0:o.call(i,t,this));const G=await((A=(l=this.options).onMutate)==null?void 0:A.call(l,t));G!==this.state.context&&Rr(this,pc,Su).call(this,{type:"pending",context:G,variables:t,isPaused:s})}const T=await Fe(this,Bh).start();return await((h=(u=Fe(this,mi).config).onSuccess)==null?void 0:h.call(u,T,t,this.state.context,this)),await((w=(m=this.options).onSuccess)==null?void 0:w.call(m,T,t,this.state.context)),await((b=(p=Fe(this,mi).config).onSettled)==null?void 0:b.call(p,T,null,this.state.variables,this.state.context,this)),await((j=(N=this.options).onSettled)==null?void 0:j.call(N,T,null,t,this.state.context)),Rr(this,pc,Su).call(this,{type:"success",data:T}),T}catch(T){try{throw await((B=(y=Fe(this,mi).config).onError)==null?void 0:B.call(y,T,t,this.state.context,this)),await((_=(I=this.options).onError)==null?void 0:_.call(I,T,t,this.state.context)),await((H=(O=Fe(this,mi).config).onSettled)==null?void 0:H.call(O,void 0,T,this.state.variables,this.state.context,this)),await((L=(D=this.options).onSettled)==null?void 0:L.call(D,void 0,T,t,this.state.context)),T}finally{Rr(this,pc,Su).call(this,{type:"error",error:T})}}finally{Fe(this,mi).runNext(this)}}},mc=new WeakMap,mi=new WeakMap,Bh=new WeakMap,pc=new WeakSet,Su=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),na.batch(()=>{Fe(this,mc).forEach(n=>{n.onMutationUpdate(t)}),Fe(this,mi).notify({mutation:this,type:"updated",action:t})})},kL);function AD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yA,Fl,e1,_L,cq=(_L=class extends um{constructor(t={}){super();cr(this,yA);cr(this,Fl);cr(this,e1);this.config=t,kt(this,yA,new Set),kt(this,Fl,new Map),kt(this,e1,0)}build(t,r,n){const s=new lq({mutationCache:this,mutationId:++J1(this,e1)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){Fe(this,yA).add(t);const r=wx(t);if(typeof r=="string"){const n=Fe(this,Fl).get(r);n?n.push(t):Fe(this,Fl).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Fe(this,yA).delete(t)){const r=wx(t);if(typeof r=="string"){const n=Fe(this,Fl).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&Fe(this,Fl).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=wx(t);if(typeof r=="string"){const n=Fe(this,Fl).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=wx(t);if(typeof r=="string"){const s=(n=Fe(this,Fl).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){na.batch(()=>{Fe(this,yA).forEach(t=>{this.notify({type:"removed",mutation:t})}),Fe(this,yA).clear(),Fe(this,Fl).clear()})}getAll(){return Array.from(Fe(this,yA))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>g8(r,n))}findAll(t={}){return this.getAll().filter(r=>g8(t,r))}notify(t){na.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return na.batch(()=>Promise.all(t.map(r=>r.continue().catch(yi))))}},yA=new WeakMap,Fl=new WeakMap,e1=new WeakMap,_L);function wx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function y8(e){return{onFetch:(t,r)=>{var h,m,w,p,b;const n=t.options,s=(w=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:w.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},A=0;const u=async()=>{let N=!1;const j=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},y=nD(t.options,t.fetchOptions),B=async(I,_,O)=>{if(N)return Promise.reject();if(_==null&&I.pages.length)return Promise.resolve(I);const H={client:t.client,queryKey:t.queryKey,pageParam:_,direction:O?"backward":"forward",meta:t.options.meta};j(H);const D=await y(H),{maxPages:L}=t.options,T=O?J$:Z$;return{pages:T(I.pages,D,L),pageParams:T(I.pageParams,_,L)}};if(s&&i.length){const I=s==="backward",_=I?Aq:v8,O={pages:i,pageParams:o},H=_(n,O);l=await B(O,H,I)}else{const I=e??i.length;do{const _=A===0?o[0]??n.initialPageParam:v8(n,l);if(A>0&&_==null)break;l=await B(l,_),A++}while(A<I)}return l};t.options.persister?t.fetchFn=()=>{var N,j;return(j=(N=t.options).persister)==null?void 0:j.call(N,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function v8(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Aq(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var bs,Hu,Vu,_0,T0,Ku,L0,P0,TL,uq=(TL=class{constructor(e={}){cr(this,bs);cr(this,Hu);cr(this,Vu);cr(this,_0);cr(this,T0);cr(this,Ku);cr(this,L0);cr(this,P0);kt(this,bs,e.queryCache||new oq),kt(this,Hu,e.mutationCache||new cq),kt(this,Vu,e.defaultOptions||{}),kt(this,_0,new Map),kt(this,T0,new Map),kt(this,Ku,0)}mount(){J1(this,Ku)._++,Fe(this,Ku)===1&&(kt(this,L0,nS.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,bs).onFocus())})),kt(this,P0,ky.subscribe(async e=>{e&&(await this.resumePausedMutations(),Fe(this,bs).onOnline())})))}unmount(){var e,t;J1(this,Ku)._--,Fe(this,Ku)===0&&((e=Fe(this,L0))==null||e.call(this),kt(this,L0,void 0),(t=Fe(this,P0))==null||t.call(this),kt(this,P0,void 0))}isFetching(e){return Fe(this,bs).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Fe(this,Hu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Fe(this,bs).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Fe(this,bs).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(m0(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Fe(this,bs).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Fe(this,bs).get(n.queryHash),i=s==null?void 0:s.state.data,o=X$(t,i);if(o!==void 0)return Fe(this,bs).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return na.batch(()=>Fe(this,bs).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Fe(this,bs).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Fe(this,bs);na.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Fe(this,bs);return na.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=na.batch(()=>Fe(this,bs).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(yi).catch(yi)}invalidateQueries(e,t={}){return na.batch(()=>(Fe(this,bs).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=na.batch(()=>Fe(this,bs).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(yi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(yi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Fe(this,bs).build(this,t);return r.isStaleByTime(m0(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(yi).catch(yi)}fetchInfiniteQuery(e){return e.behavior=y8(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(yi).catch(yi)}ensureInfiniteQueryData(e){return e.behavior=y8(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ky.isOnline()?Fe(this,Hu).resumePausedMutations():Promise.resolve()}getQueryCache(){return Fe(this,bs)}getMutationCache(){return Fe(this,Hu)}getDefaultOptions(){return Fe(this,Vu)}setDefaultOptions(e){kt(this,Vu,e)}setQueryDefaults(e,t){Fe(this,_0).set($h(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Fe(this,_0).values()],r={};return t.forEach(n=>{gg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Fe(this,T0).set($h(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Fe(this,T0).values()],r={};return t.forEach(n=>{gg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Fe(this,Vu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=tS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===rS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Fe(this,Vu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Fe(this,bs).clear(),Fe(this,Hu).clear()}},bs=new WeakMap,Hu=new WeakMap,Vu=new WeakMap,_0=new WeakMap,T0=new WeakMap,Ku=new WeakMap,L0=new WeakMap,P0=new WeakMap,TL),Mi,Yr,t1,pi,Sh,D0,Wu,Gu,r1,O0,R0,Eh,jh,zu,M0,xn,cp,$4,q4,X4,Y4,Z4,J4,eN,uD,LL,dq=(LL=class extends um{constructor(t,r){super();cr(this,xn);cr(this,Mi);cr(this,Yr);cr(this,t1);cr(this,pi);cr(this,Sh);cr(this,D0);cr(this,Wu);cr(this,Gu);cr(this,r1);cr(this,O0);cr(this,R0);cr(this,Eh);cr(this,jh);cr(this,zu);cr(this,M0,new Set);this.options=r,kt(this,Mi,t),kt(this,Gu,null),kt(this,Wu,z4()),this.options.experimental_prefetchInRender||Fe(this,Wu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Fe(this,Yr).addObserver(this),b8(Fe(this,Yr),this.options)?Rr(this,xn,cp).call(this):this.updateResult(),Rr(this,xn,Y4).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tN(Fe(this,Yr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tN(Fe(this,Yr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Rr(this,xn,Z4).call(this),Rr(this,xn,J4).call(this),Fe(this,Yr).removeObserver(this)}setOptions(t){const r=this.options,n=Fe(this,Yr);if(this.options=Fe(this,Mi).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Tl(this.options.enabled,Fe(this,Yr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Rr(this,xn,eN).call(this),Fe(this,Yr).setOptions(this.options),r._defaulted&&!Fy(this.options,r)&&Fe(this,Mi).getQueryCache().notify({type:"observerOptionsUpdated",query:Fe(this,Yr),observer:this});const s=this.hasListeners();s&&C8(Fe(this,Yr),n,this.options,r)&&Rr(this,xn,cp).call(this),this.updateResult(),s&&(Fe(this,Yr)!==n||Tl(this.options.enabled,Fe(this,Yr))!==Tl(r.enabled,Fe(this,Yr))||m0(this.options.staleTime,Fe(this,Yr))!==m0(r.staleTime,Fe(this,Yr)))&&Rr(this,xn,$4).call(this);const i=Rr(this,xn,q4).call(this);s&&(Fe(this,Yr)!==n||Tl(this.options.enabled,Fe(this,Yr))!==Tl(r.enabled,Fe(this,Yr))||i!==Fe(this,zu))&&Rr(this,xn,X4).call(this,i)}getOptimisticResult(t){const r=Fe(this,Mi).getQueryCache().build(Fe(this,Mi),t),n=this.createResult(r,t);return fq(this,n)&&(kt(this,pi,n),kt(this,D0,this.options),kt(this,Sh,Fe(this,Yr).state)),n}getCurrentResult(){return Fe(this,pi)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){Fe(this,M0).add(t)}getCurrentQuery(){return Fe(this,Yr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Fe(this,Mi).defaultQueryOptions(t),n=Fe(this,Mi).getQueryCache().build(Fe(this,Mi),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Rr(this,xn,cp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Fe(this,pi)))}createResult(t,r){var T;const n=Fe(this,Yr),s=this.options,i=Fe(this,pi),o=Fe(this,Sh),l=Fe(this,D0),u=t!==n?t.state:Fe(this,t1),{state:h}=t;let m={...h},w=!1,p;if(r._optimisticResults){const G=this.hasListeners(),M=!G&&b8(t,r),V=G&&C8(t,n,r,s);(M||V)&&(m={...m,...cD(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:b,errorUpdatedAt:N,status:j}=m;p=m.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&j==="pending"){let G;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(G=i.data,y=!0):G=typeof r.placeholderData=="function"?r.placeholderData((T=Fe(this,R0))==null?void 0:T.state.data,Fe(this,R0)):r.placeholderData,G!==void 0&&(j="success",p=G4(i==null?void 0:i.data,G,r),w=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===Fe(this,r1))p=Fe(this,O0);else try{kt(this,r1,r.select),p=r.select(p),p=G4(i==null?void 0:i.data,p,r),kt(this,O0,p),kt(this,Gu,null)}catch(G){kt(this,Gu,G)}Fe(this,Gu)&&(b=Fe(this,Gu),p=Fe(this,O0),N=Date.now(),j="error");const B=m.fetchStatus==="fetching",I=j==="pending",_=j==="error",O=I&&B,H=p!==void 0,L={status:j,fetchStatus:m.fetchStatus,isPending:I,isSuccess:j==="success",isError:_,isInitialLoading:O,isLoading:O,data:p,dataUpdatedAt:m.dataUpdatedAt,error:b,errorUpdatedAt:N,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:B,isRefetching:B&&!I,isLoadingError:_&&!H,isPaused:m.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:_&&H,isStale:sS(t,r),refetch:this.refetch,promise:Fe(this,Wu)};if(this.options.experimental_prefetchInRender){const G=J=>{L.status==="error"?J.reject(L.error):L.data!==void 0&&J.resolve(L.data)},M=()=>{const J=kt(this,Wu,L.promise=z4());G(J)},V=Fe(this,Wu);switch(V.status){case"pending":t.queryHash===n.queryHash&&G(V);break;case"fulfilled":(L.status==="error"||L.data!==V.value)&&M();break;case"rejected":(L.status!=="error"||L.error!==V.reason)&&M();break}}return L}updateResult(){const t=Fe(this,pi),r=this.createResult(Fe(this,Yr),this.options);if(kt(this,Sh,Fe(this,Yr).state),kt(this,D0,this.options),Fe(this,Sh).data!==void 0&&kt(this,R0,Fe(this,Yr)),Fy(r,t))return;kt(this,pi,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!Fe(this,M0).size)return!0;const o=new Set(i??Fe(this,M0));return this.options.throwOnError&&o.add("error"),Object.keys(Fe(this,pi)).some(l=>{const A=l;return Fe(this,pi)[A]!==t[A]&&o.has(A)})};Rr(this,xn,uD).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Rr(this,xn,Y4).call(this)}},Mi=new WeakMap,Yr=new WeakMap,t1=new WeakMap,pi=new WeakMap,Sh=new WeakMap,D0=new WeakMap,Wu=new WeakMap,Gu=new WeakMap,r1=new WeakMap,O0=new WeakMap,R0=new WeakMap,Eh=new WeakMap,jh=new WeakMap,zu=new WeakMap,M0=new WeakMap,xn=new WeakSet,cp=function(t){Rr(this,xn,eN).call(this);let r=Fe(this,Yr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(yi)),r},$4=function(){Rr(this,xn,Z4).call(this);const t=m0(this.options.staleTime,Fe(this,Yr));if(zh||Fe(this,pi).isStale||!K4(t))return;const n=tD(Fe(this,pi).dataUpdatedAt,t)+1;kt(this,Eh,setTimeout(()=>{Fe(this,pi).isStale||this.updateResult()},n))},q4=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Fe(this,Yr)):this.options.refetchInterval)??!1},X4=function(t){Rr(this,xn,J4).call(this),kt(this,zu,t),!(zh||Tl(this.options.enabled,Fe(this,Yr))===!1||!K4(Fe(this,zu))||Fe(this,zu)===0)&&kt(this,jh,setInterval(()=>{(this.options.refetchIntervalInBackground||nS.isFocused())&&Rr(this,xn,cp).call(this)},Fe(this,zu)))},Y4=function(){Rr(this,xn,$4).call(this),Rr(this,xn,X4).call(this,Rr(this,xn,q4).call(this))},Z4=function(){Fe(this,Eh)&&(clearTimeout(Fe(this,Eh)),kt(this,Eh,void 0))},J4=function(){Fe(this,jh)&&(clearInterval(Fe(this,jh)),kt(this,jh,void 0))},eN=function(){const t=Fe(this,Mi).getQueryCache().build(Fe(this,Mi),this.options);if(t===Fe(this,Yr))return;const r=Fe(this,Yr);kt(this,Yr,t),kt(this,t1,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},uD=function(t){na.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Fe(this,pi))}),Fe(this,Mi).getQueryCache().notify({query:Fe(this,Yr),type:"observerResultsUpdated"})})},LL);function hq(e,t){return Tl(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function b8(e,t){return hq(e,t)||e.state.data!==void 0&&tN(e,t,t.refetchOnMount)}function tN(e,t,r){if(Tl(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&sS(e,t)}return!1}function C8(e,t,r,n){return(e!==t||Tl(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&sS(e,r)}function sS(e,t){return Tl(t.enabled,e)!==!1&&e.isStaleByTime(m0(t.staleTime,e))}function fq(e,t){return!Fy(e.getCurrentResult(),t)}var $u,qu,Ui,vA,_A,Iw,rN,PL,mq=(PL=class extends um{constructor(r,n){super();cr(this,_A);cr(this,$u);cr(this,qu);cr(this,Ui);cr(this,vA);kt(this,$u,r),this.setOptions(n),this.bindMethods(),Rr(this,_A,Iw).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=Fe(this,$u).defaultMutationOptions(r),Fy(this.options,n)||Fe(this,$u).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Fe(this,Ui),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&$h(n.mutationKey)!==$h(this.options.mutationKey)?this.reset():((s=Fe(this,Ui))==null?void 0:s.state.status)==="pending"&&Fe(this,Ui).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Fe(this,Ui))==null||r.removeObserver(this)}onMutationUpdate(r){Rr(this,_A,Iw).call(this),Rr(this,_A,rN).call(this,r)}getCurrentResult(){return Fe(this,qu)}reset(){var r;(r=Fe(this,Ui))==null||r.removeObserver(this),kt(this,Ui,void 0),Rr(this,_A,Iw).call(this),Rr(this,_A,rN).call(this)}mutate(r,n){var s;return kt(this,vA,n),(s=Fe(this,Ui))==null||s.removeObserver(this),kt(this,Ui,Fe(this,$u).getMutationCache().build(Fe(this,$u),this.options)),Fe(this,Ui).addObserver(this),Fe(this,Ui).execute(r)}},$u=new WeakMap,qu=new WeakMap,Ui=new WeakMap,vA=new WeakMap,_A=new WeakSet,Iw=function(){var n;const r=((n=Fe(this,Ui))==null?void 0:n.state)??AD();kt(this,qu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},rN=function(r){na.batch(()=>{var n,s,i,o,l,A,u,h;if(Fe(this,vA)&&this.hasListeners()){const m=Fe(this,qu).variables,w=Fe(this,qu).context;(r==null?void 0:r.type)==="success"?((s=(n=Fe(this,vA)).onSuccess)==null||s.call(n,r.data,m,w),(o=(i=Fe(this,vA)).onSettled)==null||o.call(i,r.data,null,m,w)):(r==null?void 0:r.type)==="error"&&((A=(l=Fe(this,vA)).onError)==null||A.call(l,r.error,m,w),(h=(u=Fe(this,vA)).onSettled)==null||h.call(u,void 0,r.error,m,w))}this.listeners.forEach(m=>{m(Fe(this,qu))})})},PL),dD=C.createContext(void 0),zA=e=>{const t=C.useContext(dD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pq=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(dD.Provider,{value:e,children:t})),hD=C.createContext(!1),gq=()=>C.useContext(hD);hD.Provider;function xq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wq=C.createContext(xq()),yq=()=>C.useContext(wq),vq=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},bq=e=>{C.useEffect(()=>{e.clearReset()},[e])},Cq=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||sD(r,[e.error,n])),Nq=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Bq=(e,t)=>e.isLoading&&e.isFetching&&!t,Sq=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,N8=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Eq(e,t,r){var m,w,p,b,N;const n=zA(),s=gq(),i=yq(),o=n.defaultQueryOptions(e);(w=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||w.call(m,o),o._optimisticResults=s?"isRestoring":"optimistic",Nq(o),vq(o,i),bq(i);const l=!n.getQueryCache().get(o.queryHash),[A]=C.useState(()=>new t(n,o)),u=A.getOptimisticResult(o),h=!s&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(j=>{const y=h?A.subscribe(na.batchCalls(j)):yi;return A.updateResult(),y},[A,h]),()=>A.getCurrentResult(),()=>A.getCurrentResult()),C.useEffect(()=>{A.setOptions(o)},[o,A]),Sq(o,u))throw N8(o,A,i);if(Cq({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||b.call(p,o,u),o.experimental_prefetchInRender&&!zh&&Bq(u,s)){const j=l?N8(o,A,i):(N=n.getQueryCache().get(o.queryHash))==null?void 0:N.promise;j==null||j.catch(yi).finally(()=>{A.updateResult()})}return o.notifyOnChangeProps?u:A.trackResult(u)}function Vl(e,t){return Eq(e,dq)}function Ci(e,t){const r=zA(),[n]=C.useState(()=>new mq(r,e));C.useEffect(()=>{n.setOptions(e)},[n,e]);const s=C.useSyncExternalStore(C.useCallback(o=>n.subscribe(na.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=C.useCallback((o,l)=>{n.mutate(o,l).catch(yi)},[n]);if(s.error&&sD(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(this,arguments)}var Zu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zu||(Zu={}));const B8="popstate";function jq(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:A=""}=df(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),nN("",{pathname:o,search:l,hash:A},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let A=s.location.href,u=A.indexOf("#");l=u===-1?A:A.slice(0,u)}return l+"#"+(typeof i=="string"?i:_y(i))}function n(s,i){aS(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Fq(t,r,n,e)}function hs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Iq(){return Math.random().toString(36).substr(2,8)}function S8(e,t){return{usr:e.state,key:e.key,idx:t}}function nN(e,t,r,n){return r===void 0&&(r=null),xg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?df(t):t,{state:r,key:t&&t.key||n||Iq()})}function _y(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function df(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Fq(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Zu.Pop,A=null,u=h();u==null&&(u=0,o.replaceState(xg({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=Zu.Pop;let j=h(),y=j==null?null:j-u;u=j,A&&A({action:l,location:N.location,delta:y})}function w(j,y){l=Zu.Push;let B=nN(N.location,j,y);r&&r(B,j),u=h()+1;let I=S8(B,u),_=N.createHref(B);try{o.pushState(I,"",_)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(_)}i&&A&&A({action:l,location:N.location,delta:1})}function p(j,y){l=Zu.Replace;let B=nN(N.location,j,y);r&&r(B,j),u=h();let I=S8(B,u),_=N.createHref(B);o.replaceState(I,"",_),i&&A&&A({action:l,location:N.location,delta:0})}function b(j){let y=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof j=="string"?j:_y(j);return B=B.replace(/ $/,"%20"),hs(y,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,y)}let N={get action(){return l},get location(){return e(s,o)},listen(j){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener(B8,m),A=j,()=>{s.removeEventListener(B8,m),A=null}},createHref(j){return t(s,j)},createURL:b,encodeLocation(j){let y=b(j);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:w,replace:p,go(j){return o.go(j)}};return N}var E8;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(E8||(E8={}));function kq(e,t,r){return r===void 0&&(r="/"),_q(e,t,r,!1)}function _q(e,t,r,n){let s=typeof t=="string"?df(t):t,i=$0(s.pathname||"/",r);if(i==null)return null;let o=fD(e);Tq(o);let l=null;for(let A=0;l==null&&A<o.length;++A){let u=Kq(i);l=Hq(o[A],u,n)}return l}function fD(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let A={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};A.relativePath.startsWith("/")&&(hs(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let u=md([n,A.relativePath]),h=r.concat(A);i.children&&i.children.length>0&&(hs(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fD(i.children,t,h,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Uq(u,i.index),routesMeta:h})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let A of mD(i.path))s(i,o,A)}),t}function mD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=mD(n.join("/")),l=[];return l.push(...o.map(A=>A===""?i:[i,A].join("/"))),s&&l.push(...o),l.map(A=>e.startsWith("/")&&A===""?"/":A)}function Tq(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Qq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Lq=/^:[\w-]+$/,Pq=3,Dq=2,Oq=1,Rq=10,Mq=-2,j8=e=>e==="*";function Uq(e,t){let r=e.split("/"),n=r.length;return r.some(j8)&&(n+=Mq),t&&(n+=Dq),r.filter(s=>!j8(s)).reduce((s,i)=>s+(Lq.test(i)?Pq:i===""?Oq:Rq),n)}function Qq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Hq(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let A=n[l],u=l===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Ty({path:A.relativePath,caseSensitive:A.caseSensitive,end:u},h),w=A.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=Ty({path:A.relativePath,caseSensitive:A.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:md([i,m.pathname]),pathnameBase:$q(md([i,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(i=md([i,m.pathnameBase]))}return o}function Ty(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Vq(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,h,m)=>{let{paramName:w,isOptional:p}=h;if(w==="*"){let N=l[m]||"";o=i.slice(0,i.length-N.length).replace(/(.)\/+$/,"$1")}const b=l[m];return p&&!b?u[w]=void 0:u[w]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Vq(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),aS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,A)=>(n.push({paramName:l,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Kq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return aS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Wq(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?df(e):e;return{pathname:r?r.startsWith("/")?r:Gq(r,t):t,search:qq(n),hash:Xq(s)}}function Gq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Zb(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function iS(e,t){let r=zq(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oS(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=df(e):(s=xg({},e),hs(!s.pathname||!s.pathname.includes("?"),Zb("?","pathname","search",s)),hs(!s.pathname||!s.pathname.includes("#"),Zb("#","pathname","hash",s)),hs(!s.search||!s.search.includes("#"),Zb("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),m-=1;s.pathname=w.join("/")}l=m>=0?t[m]:"/"}let A=Wq(s,l),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(u||h)&&(A.pathname+="/"),A}const md=e=>e.join("/").replace(/\/\/+/g,"/"),$q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Yq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const pD=["post","put","patch","delete"];new Set(pD);const Zq=["get",...pD];new Set(Zq);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}const G2=C.createContext(null),gD=C.createContext(null),$A=C.createContext(null),z2=C.createContext(null),qA=C.createContext({outlet:null,matches:[],isDataRoute:!1}),xD=C.createContext(null);function Jq(e,t){let{relative:r}=t===void 0?{}:t;dm()||hs(!1);let{basename:n,navigator:s}=C.useContext($A),{hash:i,pathname:o,search:l}=$2(e,{relative:r}),A=o;return n!=="/"&&(A=o==="/"?n:md([n,o])),s.createHref({pathname:A,search:l,hash:i})}function dm(){return C.useContext(z2)!=null}function ul(){return dm()||hs(!1),C.useContext(z2).location}function wD(e){C.useContext($A).static||C.useLayoutEffect(e)}function Ur(){let{isDataRoute:e}=C.useContext(qA);return e?dX():eX()}function eX(){dm()||hs(!1);let e=C.useContext(G2),{basename:t,future:r,navigator:n}=C.useContext($A),{matches:s}=C.useContext(qA),{pathname:i}=ul(),o=JSON.stringify(iS(s,r.v7_relativeSplatPath)),l=C.useRef(!1);return wD(()=>{l.current=!0}),C.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=oS(u,JSON.parse(o),i,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:md([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,o,i,e])}function XA(){let{matches:e}=C.useContext(qA),t=e[e.length-1];return t?t.params:{}}function $2(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=C.useContext($A),{matches:s}=C.useContext(qA),{pathname:i}=ul(),o=JSON.stringify(iS(s,n.v7_relativeSplatPath));return C.useMemo(()=>oS(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function tX(e,t){return rX(e,t)}function rX(e,t,r,n){dm()||hs(!1);let{navigator:s}=C.useContext($A),{matches:i}=C.useContext(qA),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let A=o?o.pathnameBase:"/";o&&o.route;let u=ul(),h;if(t){var m;let j=typeof t=="string"?df(t):t;A==="/"||(m=j.pathname)!=null&&m.startsWith(A)||hs(!1),h=j}else h=u;let w=h.pathname||"/",p=w;if(A!=="/"){let j=A.replace(/^\//,"").split("/");p="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=kq(e,{pathname:p}),N=oX(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:md([A,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?A:md([A,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return t&&N?C.createElement(z2.Provider,{value:{location:wg({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Zu.Pop}},N):N}function nX(){let e=uX(),t=Yq(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:s},r):null,null)}const sX=C.createElement(nX,null);class aX extends C.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?C.createElement(qA.Provider,{value:this.props.routeContext},C.createElement(xD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iX(e){let{routeContext:t,match:r,children:n}=e,s=C.useContext(G2);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(qA.Provider,{value:t},n)}function oX(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||hs(!1),o=o.slice(0,Math.min(o.length,h+1))}let A=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:w,errors:p}=r,b=m.route.loader&&w[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||b){A=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,m,w)=>{let p,b=!1,N=null,j=null;r&&(p=l&&m.route.id?l[m.route.id]:void 0,N=m.route.errorElement||sX,A&&(u<0&&w===0?(b=!0,j=null):u===w&&(b=!0,j=m.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,w+1)),B=()=>{let I;return p?I=N:b?I=j:m.route.Component?I=C.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=h,C.createElement(iX,{match:m,routeContext:{outlet:h,matches:y,isDataRoute:r!=null},children:I})};return r&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?C.createElement(aX,{location:r.location,revalidation:r.revalidation,component:N,error:p,children:B(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):B()},null)}var yD=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yD||{}),Ly=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ly||{});function lX(e){let t=C.useContext(G2);return t||hs(!1),t}function cX(e){let t=C.useContext(gD);return t||hs(!1),t}function AX(e){let t=C.useContext(qA);return t||hs(!1),t}function vD(e){let t=AX(),r=t.matches[t.matches.length-1];return r.route.id||hs(!1),r.route.id}function uX(){var e;let t=C.useContext(xD),r=cX(Ly.UseRouteError),n=vD(Ly.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function dX(){let{router:e}=lX(yD.UseNavigateStable),t=vD(Ly.UseNavigateStable),r=C.useRef(!1);return wD(()=>{r.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,wg({fromRouteId:t},i)))},[e,t])}function hX(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bD(e){let{to:t,replace:r,state:n,relative:s}=e;dm()||hs(!1);let{future:i,static:o}=C.useContext($A),{matches:l}=C.useContext(qA),{pathname:A}=ul(),u=Ur(),h=oS(t,iS(l,i.v7_relativeSplatPath),A,s==="path"),m=JSON.stringify(h);return C.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function dr(e){hs(!1)}function fX(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Zu.Pop,navigator:i,static:o=!1,future:l}=e;dm()&&hs(!1);let A=t.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:A,navigator:i,static:o,future:wg({v7_relativeSplatPath:!1},l)}),[A,l,i,o]);typeof n=="string"&&(n=df(n));let{pathname:h="/",search:m="",hash:w="",state:p=null,key:b="default"}=n,N=C.useMemo(()=>{let j=$0(h,A);return j==null?null:{location:{pathname:j,search:m,hash:w,state:p,key:b},navigationType:s}},[A,h,m,w,p,b,s]);return N==null?null:C.createElement($A.Provider,{value:u},C.createElement(z2.Provider,{children:r,value:N}))}function mX(e){let{children:t,location:r}=e;return tX(sN(t),r)}new Promise(()=>{});function sN(e,t){t===void 0&&(t=[]);let r=[];return C.Children.forEach(e,(n,s)=>{if(!C.isValidElement(n))return;let i=[...t,s];if(n.type===C.Fragment){r.push.apply(r,sN(n.props.children,i));return}n.type!==dr&&hs(!1),!n.props.index||!n.props.children||hs(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=sN(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(this,arguments)}function CD(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function pX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gX(e,t){return e.button===0&&(!t||t==="_self")&&!pX(e)}function aN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function xX(e,t){let r=aN(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const wX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yX=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],vX="6";try{window.__reactRouterVersion=vX}catch{}const bX=C.createContext({isTransitioning:!1}),CX="startTransition",I8=U0[CX];function NX(e){let{basename:t,children:r,future:n,window:s}=e,i=C.useRef();i.current==null&&(i.current=jq({window:s,v5Compat:!0}));let o=i.current,[l,A]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},h=C.useCallback(m=>{u&&I8?I8(()=>A(m)):A(m)},[A,u]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.useEffect(()=>hX(n),[n]),C.createElement(fX,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const BX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=C.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:A,to:u,preventScrollReset:h,viewTransition:m}=t,w=CD(t,wX),{basename:p}=C.useContext($A),b,N=!1;if(typeof u=="string"&&SX.test(u)&&(b=u,BX))try{let I=new URL(window.location.href),_=u.startsWith("//")?new URL(I.protocol+u):new URL(u),O=$0(_.pathname,p);_.origin===I.origin&&O!=null?u=O+_.search+_.hash:N=!0}catch{}let j=Jq(u,{relative:s}),y=IX(u,{replace:o,state:l,target:A,preventScrollReset:h,relative:s,viewTransition:m});function B(I){n&&n(I),I.defaultPrevented||y(I)}return C.createElement("a",Py({},w,{href:b||j,onClick:N||i?n:B,ref:r,target:A}))}),EX=C.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:A,viewTransition:u,children:h}=t,m=CD(t,yX),w=$2(A,{relative:m.relative}),p=ul(),b=C.useContext(gD),{navigator:N,basename:j}=C.useContext($A),y=b!=null&&FX(w)&&u===!0,B=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,I=p.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(I=I.toLowerCase(),_=_?_.toLowerCase():null,B=B.toLowerCase()),_&&j&&(_=$0(_,j)||_);const O=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let H=I===B||!o&&I.startsWith(B)&&I.charAt(O)==="/",D=_!=null&&(_===B||!o&&_.startsWith(B)&&_.charAt(B.length)==="/"),L={isActive:H,isPending:D,isTransitioning:y},T=H?n:void 0,G;typeof i=="function"?G=i(L):G=[i,H?"active":null,D?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(L):l;return C.createElement(Tt,Py({},m,{"aria-current":T,className:G,ref:r,style:M,to:A,viewTransition:u}),typeof h=="function"?h(L):h)});var iN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iN||(iN={}));var F8;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(F8||(F8={}));function jX(e){let t=C.useContext(G2);return t||hs(!1),t}function IX(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,A=Ur(),u=ul(),h=$2(e,{relative:o});return C.useCallback(m=>{if(gX(m,r)){m.preventDefault();let w=n!==void 0?n:_y(u)===_y(h);A(e,{replace:w,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,A,h,n,s,r,e,i,o,l])}function lS(e){let t=C.useRef(aN(e)),r=C.useRef(!1),n=ul(),s=C.useMemo(()=>xX(n.search,r.current?null:t.current),[n.search]),i=Ur(),o=C.useCallback((l,A)=>{const u=aN(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,A)},[i,s]);return[s,o]}function FX(e,t){t===void 0&&(t={});let r=C.useContext(bX);r==null&&hs(!1);let{basename:n}=jX(iN.useViewTransitionState),s=$2(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=$0(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=$0(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ty(s.pathname,o)!=null||Ty(s.pathname,i)!=null}function _r(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function kX(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ND(...e){return t=>e.forEach(r=>kX(r,t))}function ts(...e){return C.useCallback(ND(...e),e)}function _X(e,t){const r=C.createContext(t),n=i=>{const{children:o,...l}=i,A=C.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:A,children:o})};n.displayName=e+"Provider";function s(i){const o=C.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function A1(e,t=[]){let r=[];function n(i,o){const l=C.createContext(o),A=r.length;r=[...r,o];const u=m=>{var y;const{scope:w,children:p,...b}=m,N=((y=w==null?void 0:w[e])==null?void 0:y[A])||l,j=C.useMemo(()=>b,Object.values(b));return a.jsx(N.Provider,{value:j,children:p})};u.displayName=i+"Provider";function h(m,w){var N;const p=((N=w==null?void 0:w[e])==null?void 0:N[A])||l,b=C.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=r.map(o=>C.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,TX(s,...t)]}function TX(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:A,scopeName:u})=>{const m=A(i)[`__scope${u}`];return{...l,...m}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var qh=C.forwardRef((e,t)=>{const{children:r,...n}=e,s=C.Children.toArray(r),i=s.find(LX);if(i){const o=i.props.children,l=s.map(A=>A===i?C.Children.count(o)>1?C.Children.only(null):C.isValidElement(o)?o.props.children:null:A);return a.jsx(oN,{...n,ref:t,children:C.isValidElement(o)?C.cloneElement(o,void 0,l):null})}return a.jsx(oN,{...n,ref:t,children:r})});qh.displayName="Slot";var oN=C.forwardRef((e,t)=>{const{children:r,...n}=e;if(C.isValidElement(r)){const s=DX(r);return C.cloneElement(r,{...PX(n,r.props),ref:t?ND(t,s):s})}return C.Children.count(r)>1?C.Children.only(null):null});oN.displayName="SlotClone";var BD=({children:e})=>a.jsx(a.Fragment,{children:e});function LX(e){return C.isValidElement(e)&&e.type===BD}function PX(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{i(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function DX(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var OX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Jr=OX.reduce((e,t)=>{const r=C.forwardRef((n,s)=>{const{asChild:i,...o}=n,l=i?qh:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function RX(e,t){e&&Rd.flushSync(()=>e.dispatchEvent(t))}function Dc(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function MX(e,t=globalThis==null?void 0:globalThis.document){const r=Dc(e);C.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var UX="DismissableLayer",lN="dismissableLayer.update",QX="dismissableLayer.pointerDownOutside",HX="dismissableLayer.focusOutside",k8,SD=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),q2=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...A}=e,u=C.useContext(SD),[h,m]=C.useState(null),w=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=C.useState({}),b=ts(t,D=>m(D)),N=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=N.indexOf(j),B=h?N.indexOf(h):-1,I=u.layersWithOutsidePointerEventsDisabled.size>0,_=B>=y,O=WX(D=>{const L=D.target,T=[...u.branches].some(G=>G.contains(L));!_||T||(s==null||s(D),o==null||o(D),D.defaultPrevented||l==null||l())},w),H=GX(D=>{const L=D.target;[...u.branches].some(G=>G.contains(L))||(i==null||i(D),o==null||o(D),D.defaultPrevented||l==null||l())},w);return MX(D=>{B===u.layers.size-1&&(n==null||n(D),!D.defaultPrevented&&l&&(D.preventDefault(),l()))},w),C.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(k8=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),_8(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=k8)}},[h,w,r,u]),C.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),_8())},[h,u]),C.useEffect(()=>{const D=()=>p({});return document.addEventListener(lN,D),()=>document.removeEventListener(lN,D)},[]),a.jsx(Jr.div,{...A,ref:b,style:{pointerEvents:I?_?"auto":"none":void 0,...e.style},onFocusCapture:_r(e.onFocusCapture,H.onFocusCapture),onBlurCapture:_r(e.onBlurCapture,H.onBlurCapture),onPointerDownCapture:_r(e.onPointerDownCapture,O.onPointerDownCapture)})});q2.displayName=UX;var VX="DismissableLayerBranch",KX=C.forwardRef((e,t)=>{const r=C.useContext(SD),n=C.useRef(null),s=ts(t,n);return C.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Jr.div,{...e,ref:s})});KX.displayName=VX;function WX(e,t=globalThis==null?void 0:globalThis.document){const r=Dc(e),n=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let A=function(){ED(QX,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=A,t.addEventListener("click",s.current,{once:!0})):A()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function GX(e,t=globalThis==null?void 0:globalThis.document){const r=Dc(e),n=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!n.current&&ED(HX,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _8(){const e=new CustomEvent(lN);document.dispatchEvent(e)}function ED(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?RX(s,i):s.dispatchEvent(i)}var Ii=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},zX=U0.useId||(()=>{}),$X=0;function jA(e){const[t,r]=C.useState(zX());return Ii(()=>{r(n=>n??String($X++))},[e]),t?`radix-${t}`:""}const qX=["top","right","bottom","left"],Sd=Math.min,vo=Math.max,Dy=Math.round,yx=Math.floor,Ed=e=>({x:e,y:e}),XX={left:"right",right:"left",bottom:"top",top:"bottom"},YX={start:"end",end:"start"};function cN(e,t,r){return vo(e,Sd(t,r))}function RA(e,t){return typeof e=="function"?e(t):e}function MA(e){return e.split("-")[0]}function hm(e){return e.split("-")[1]}function cS(e){return e==="x"?"y":"x"}function AS(e){return e==="y"?"height":"width"}function jd(e){return["top","bottom"].includes(MA(e))?"y":"x"}function uS(e){return cS(jd(e))}function ZX(e,t,r){r===void 0&&(r=!1);const n=hm(e),s=uS(e),i=AS(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Oy(o)),[o,Oy(o)]}function JX(e){const t=Oy(e);return[AN(e),t,AN(t)]}function AN(e){return e.replace(/start|end/g,t=>YX[t])}function eY(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:o;default:return[]}}function tY(e,t,r,n){const s=hm(e);let i=eY(MA(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(AN)))),i}function Oy(e){return e.replace(/left|right|bottom|top/g,t=>XX[t])}function rY(e){return{top:0,right:0,bottom:0,left:0,...e}}function jD(e){return typeof e!="number"?rY(e):{top:e,right:e,bottom:e,left:e}}function Ry(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function T8(e,t,r){let{reference:n,floating:s}=e;const i=jd(t),o=uS(t),l=AS(o),A=MA(t),u=i==="y",h=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,w=n[l]/2-s[l]/2;let p;switch(A){case"top":p={x:h,y:n.y-s.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:m};break;case"left":p={x:n.x-s.width,y:m};break;default:p={x:n.x,y:n.y}}switch(hm(t)){case"start":p[o]-=w*(r&&u?-1:1);break;case"end":p[o]+=w*(r&&u?-1:1);break}return p}const nY=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),A=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:m}=T8(u,n,A),w=n,p={},b=0;for(let N=0;N<l.length;N++){const{name:j,fn:y}=l[N],{x:B,y:I,data:_,reset:O}=await y({x:h,y:m,initialPlacement:n,placement:w,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});h=B??h,m=I??m,p={...p,[j]:{...p[j],..._}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(w=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):O.rects),{x:h,y:m}=T8(u,w,A)),N=-1)}return{x:h,y:m,placement:w,strategy:s,middlewareData:p}};async function yg(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:A}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:w=!1,padding:p=0}=RA(t,e),b=jD(p),j=l[w?m==="floating"?"reference":"floating":m],y=Ry(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(j)))==null||r?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:A})),B=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,I=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(I))?await(i.getScale==null?void 0:i.getScale(I))||{x:1,y:1}:{x:1,y:1},O=Ry(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:B,offsetParent:I,strategy:A}):B);return{top:(y.top-O.top+b.top)/_.y,bottom:(O.bottom-y.bottom+b.bottom)/_.y,left:(y.left-O.left+b.left)/_.x,right:(O.right-y.right+b.right)/_.x}}const sY=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:A}=t,{element:u,padding:h=0}=RA(e,t)||{};if(u==null)return{};const m=jD(h),w={x:r,y:n},p=uS(s),b=AS(p),N=await o.getDimensions(u),j=p==="y",y=j?"top":"left",B=j?"bottom":"right",I=j?"clientHeight":"clientWidth",_=i.reference[b]+i.reference[p]-w[p]-i.floating[b],O=w[p]-i.reference[p],H=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let D=H?H[I]:0;(!D||!await(o.isElement==null?void 0:o.isElement(H)))&&(D=l.floating[I]||i.floating[b]);const L=_/2-O/2,T=D/2-N[b]/2-1,G=Sd(m[y],T),M=Sd(m[B],T),V=G,J=D-N[b]-M,Z=D/2-N[b]/2+L,ee=cN(V,Z,J),q=!A.arrow&&hm(s)!=null&&Z!==ee&&i.reference[b]/2-(Z<V?G:M)-N[b]/2<0,W=q?Z<V?Z-V:Z-J:0;return{[p]:w[p]+W,data:{[p]:ee,centerOffset:Z-ee-W,...q&&{alignmentOffset:W}},reset:q}}}),aY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:A,elements:u}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:w,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:N=!0,...j}=RA(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=MA(s),B=jd(l),I=MA(l)===l,_=await(A.isRTL==null?void 0:A.isRTL(u.floating)),O=w||(I||!N?[Oy(l)]:JX(l)),H=b!=="none";!w&&H&&O.push(...tY(l,N,b,_));const D=[l,...O],L=await yg(t,j),T=[];let G=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&T.push(L[y]),m){const Z=ZX(s,o,_);T.push(L[Z[0]],L[Z[1]])}if(G=[...G,{placement:s,overflows:T}],!T.every(Z=>Z<=0)){var M,V;const Z=(((M=i.flip)==null?void 0:M.index)||0)+1,ee=D[Z];if(ee)return{data:{index:Z,overflows:G},reset:{placement:ee}};let q=(V=G.filter(W=>W.overflows[0]<=0).sort((W,X)=>W.overflows[1]-X.overflows[1])[0])==null?void 0:V.placement;if(!q)switch(p){case"bestFit":{var J;const W=(J=G.filter(X=>{if(H){const K=jd(X.placement);return K===B||K==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(K=>K>0).reduce((K,le)=>K+le,0)]).sort((X,K)=>X[1]-K[1])[0])==null?void 0:J[0];W&&(q=W);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function L8(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function P8(e){return qX.some(t=>e[t]>=0)}const iY=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=RA(e,t);switch(n){case"referenceHidden":{const i=await yg(t,{...s,elementContext:"reference"}),o=L8(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:P8(o)}}}case"escaped":{const i=await yg(t,{...s,altBoundary:!0}),o=L8(i,r.floating);return{data:{escapedOffsets:o,escaped:P8(o)}}}default:return{}}}}};async function oY(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=MA(r),l=hm(r),A=jd(r)==="y",u=["left","top"].includes(o)?-1:1,h=i&&A?-1:1,m=RA(t,e);let{mainAxis:w,crossAxis:p,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),A?{x:p*h,y:w*u}:{x:w*u,y:p*h}}const lY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,A=await oY(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+A.x,y:i+A.y,data:{...A,placement:o}}}}},cY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x:y,y:B}=j;return{x:y,y:B}}},...A}=RA(e,t),u={x:r,y:n},h=await yg(t,A),m=jd(MA(s)),w=cS(m);let p=u[w],b=u[m];if(i){const j=w==="y"?"top":"left",y=w==="y"?"bottom":"right",B=p+h[j],I=p-h[y];p=cN(B,p,I)}if(o){const j=m==="y"?"top":"left",y=m==="y"?"bottom":"right",B=b+h[j],I=b-h[y];b=cN(B,b,I)}const N=l.fn({...t,[w]:p,[m]:b});return{...N,data:{x:N.x-r,y:N.y-n,enabled:{[w]:i,[m]:o}}}}}},AY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:A=!0,crossAxis:u=!0}=RA(e,t),h={x:r,y:n},m=jd(s),w=cS(m);let p=h[w],b=h[m];const N=RA(l,t),j=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(A){const I=w==="y"?"height":"width",_=i.reference[w]-i.floating[I]+j.mainAxis,O=i.reference[w]+i.reference[I]-j.mainAxis;p<_?p=_:p>O&&(p=O)}if(u){var y,B;const I=w==="y"?"width":"height",_=["top","left"].includes(MA(s)),O=i.reference[m]-i.floating[I]+(_&&((y=o.offset)==null?void 0:y[m])||0)+(_?0:j.crossAxis),H=i.reference[m]+i.reference[I]+(_?0:((B=o.offset)==null?void 0:B[m])||0)-(_?j.crossAxis:0);b<O?b=O:b>H&&(b=H)}return{[w]:p,[m]:b}}}},uY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:A=()=>{},...u}=RA(e,t),h=await yg(t,u),m=MA(s),w=hm(s),p=jd(s)==="y",{width:b,height:N}=i.floating;let j,y;m==="top"||m==="bottom"?(j=m,y=w===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=m,j=w==="end"?"top":"bottom");const B=N-h.top-h.bottom,I=b-h.left-h.right,_=Sd(N-h[j],B),O=Sd(b-h[y],I),H=!t.middlewareData.shift;let D=_,L=O;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(L=I),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(D=B),H&&!w){const G=vo(h.left,0),M=vo(h.right,0),V=vo(h.top,0),J=vo(h.bottom,0);p?L=b-2*(G!==0||M!==0?G+M:vo(h.left,h.right)):D=N-2*(V!==0||J!==0?V+J:vo(h.top,h.bottom))}await A({...t,availableWidth:L,availableHeight:D});const T=await o.getDimensions(l.floating);return b!==T.width||N!==T.height?{reset:{rects:!0}}:{}}}};function X2(){return typeof window<"u"}function fm(e){return ID(e)?(e.nodeName||"").toLowerCase():"#document"}function So(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Uc(e){var t;return(t=(ID(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ID(e){return X2()?e instanceof Node||e instanceof So(e).Node:!1}function Kl(e){return X2()?e instanceof Element||e instanceof So(e).Element:!1}function Oc(e){return X2()?e instanceof HTMLElement||e instanceof So(e).HTMLElement:!1}function D8(e){return!X2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof So(e).ShadowRoot}function u1(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Wl(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function dY(e){return["table","td","th"].includes(fm(e))}function Y2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function dS(e){const t=hS(),r=Kl(e)?Wl(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function hY(e){let t=Id(e);for(;Oc(t)&&!q0(t);){if(dS(t))return t;if(Y2(t))return null;t=Id(t)}return null}function hS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function q0(e){return["html","body","#document"].includes(fm(e))}function Wl(e){return So(e).getComputedStyle(e)}function Z2(e){return Kl(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Id(e){if(fm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||D8(e)&&e.host||Uc(e);return D8(t)?t.host:t}function FD(e){const t=Id(e);return q0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Oc(t)&&u1(t)?t:FD(t)}function vg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=FD(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=So(s);if(i){const l=uN(o);return t.concat(o,o.visualViewport||[],u1(s)?s:[],l&&r?vg(l):[])}return t.concat(s,vg(s,[],r))}function uN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kD(e){const t=Wl(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Oc(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Dy(r)!==i||Dy(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function fS(e){return Kl(e)?e:e.contextElement}function p0(e){const t=fS(e);if(!Oc(t))return Ed(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=kD(t);let o=(i?Dy(r.width):r.width)/n,l=(i?Dy(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fY=Ed(0);function _D(e){const t=So(e);return!hS()||!t.visualViewport?fY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mY(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==So(e)?!1:t}function Xh(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=fS(e);let o=Ed(1);t&&(n?Kl(n)&&(o=p0(n)):o=p0(e));const l=mY(i,r,n)?_D(i):Ed(0);let A=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(i){const w=So(i),p=n&&Kl(n)?So(n):n;let b=w,N=uN(b);for(;N&&n&&p!==b;){const j=p0(N),y=N.getBoundingClientRect(),B=Wl(N),I=y.left+(N.clientLeft+parseFloat(B.paddingLeft))*j.x,_=y.top+(N.clientTop+parseFloat(B.paddingTop))*j.y;A*=j.x,u*=j.y,h*=j.x,m*=j.y,A+=I,u+=_,b=So(N),N=uN(b)}}return Ry({width:h,height:m,x:A,y:u})}function pY(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=Uc(n),l=t?Y2(t.floating):!1;if(n===o||l&&i)return r;let A={scrollLeft:0,scrollTop:0},u=Ed(1);const h=Ed(0),m=Oc(n);if((m||!m&&!i)&&((fm(n)!=="body"||u1(o))&&(A=Z2(n)),Oc(n))){const w=Xh(n);u=p0(n),h.x=w.x+n.clientLeft,h.y=w.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-A.scrollLeft*u.x+h.x,y:r.y*u.y-A.scrollTop*u.y+h.y}}function gY(e){return Array.from(e.getClientRects())}function dN(e,t){const r=Z2(e).scrollLeft;return t?t.left+r:Xh(Uc(e)).left+r}function xY(e){const t=Uc(e),r=Z2(e),n=e.ownerDocument.body,s=vo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=vo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+dN(e);const l=-r.scrollTop;return Wl(n).direction==="rtl"&&(o+=vo(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}function wY(e,t){const r=So(e),n=Uc(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,A=0;if(s){i=s.width,o=s.height;const u=hS();(!u||u&&t==="fixed")&&(l=s.offsetLeft,A=s.offsetTop)}return{width:i,height:o,x:l,y:A}}function yY(e,t){const r=Xh(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Oc(e)?p0(e):Ed(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,A=s*i.x,u=n*i.y;return{width:o,height:l,x:A,y:u}}function O8(e,t,r){let n;if(t==="viewport")n=wY(e,r);else if(t==="document")n=xY(Uc(e));else if(Kl(t))n=yY(t,r);else{const s=_D(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Ry(n)}function TD(e,t){const r=Id(e);return r===t||!Kl(r)||q0(r)?!1:Wl(r).position==="fixed"||TD(r,t)}function vY(e,t){const r=t.get(e);if(r)return r;let n=vg(e,[],!1).filter(l=>Kl(l)&&fm(l)!=="body"),s=null;const i=Wl(e).position==="fixed";let o=i?Id(e):e;for(;Kl(o)&&!q0(o);){const l=Wl(o),A=dS(o);!A&&l.position==="fixed"&&(s=null),(i?!A&&!s:!A&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||u1(o)&&!A&&TD(e,o))?n=n.filter(h=>h!==o):s=l,o=Id(o)}return t.set(e,n),n}function bY(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Y2(t)?[]:vY(t,this._c):[].concat(r),n],l=o[0],A=o.reduce((u,h)=>{const m=O8(t,h,s);return u.top=vo(m.top,u.top),u.right=Sd(m.right,u.right),u.bottom=Sd(m.bottom,u.bottom),u.left=vo(m.left,u.left),u},O8(t,l,s));return{width:A.right-A.left,height:A.bottom-A.top,x:A.left,y:A.top}}function CY(e){const{width:t,height:r}=kD(e);return{width:t,height:r}}function NY(e,t,r){const n=Oc(t),s=Uc(t),i=r==="fixed",o=Xh(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const A=Ed(0);if(n||!n&&!i)if((fm(t)!=="body"||u1(s))&&(l=Z2(t)),n){const p=Xh(t,!0,i,t);A.x=p.x+t.clientLeft,A.y=p.y+t.clientTop}else s&&(A.x=dN(s));let u=0,h=0;if(s&&!n&&!i){const p=s.getBoundingClientRect();h=p.top+l.scrollTop,u=p.left+l.scrollLeft-dN(s,p)}const m=o.left+l.scrollLeft-A.x-u,w=o.top+l.scrollTop-A.y-h;return{x:m,y:w,width:o.width,height:o.height}}function Jb(e){return Wl(e).position==="static"}function R8(e,t){if(!Oc(e)||Wl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Uc(e)===r&&(r=r.ownerDocument.body),r}function LD(e,t){const r=So(e);if(Y2(e))return r;if(!Oc(e)){let s=Id(e);for(;s&&!q0(s);){if(Kl(s)&&!Jb(s))return s;s=Id(s)}return r}let n=R8(e,t);for(;n&&dY(n)&&Jb(n);)n=R8(n,t);return n&&q0(n)&&Jb(n)&&!dS(n)?r:n||hY(e)||r}const BY=async function(e){const t=this.getOffsetParent||LD,r=this.getDimensions,n=await r(e.floating);return{reference:NY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function SY(e){return Wl(e).direction==="rtl"}const EY={convertOffsetParentRelativeRectToViewportRelativeRect:pY,getDocumentElement:Uc,getClippingRect:bY,getOffsetParent:LD,getElementRects:BY,getClientRects:gY,getDimensions:CY,getScale:p0,isElement:Kl,isRTL:SY};function jY(e,t){let r=null,n;const s=Uc(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,A){l===void 0&&(l=!1),A===void 0&&(A=1),i();const{left:u,top:h,width:m,height:w}=e.getBoundingClientRect();if(l||t(),!m||!w)return;const p=yx(h),b=yx(s.clientWidth-(u+m)),N=yx(s.clientHeight-(h+w)),j=yx(u),B={rootMargin:-p+"px "+-b+"px "+-N+"px "+-j+"px",threshold:vo(0,Sd(1,A))||1};let I=!0;function _(O){const H=O[0].intersectionRatio;if(H!==A){if(!I)return o();H?o(!1,H):n=setTimeout(()=>{o(!1,1e-7)},1e3)}I=!1}try{r=new IntersectionObserver(_,{...B,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,B)}r.observe(e)}return o(!0),i}function PD(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:A=!1}=n,u=fS(e),h=s||i?[...u?vg(u):[],...vg(t)]:[];h.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const m=u&&l?jY(u,r):null;let w=-1,p=null;o&&(p=new ResizeObserver(y=>{let[B]=y;B&&B.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var I;(I=p)==null||I.observe(t)})),r()}),u&&!A&&p.observe(u),p.observe(t));let b,N=A?Xh(e):null;A&&j();function j(){const y=Xh(e);N&&(y.x!==N.x||y.y!==N.y||y.width!==N.width||y.height!==N.height)&&r(),N=y,b=requestAnimationFrame(j)}return r(),()=>{var y;h.forEach(B=>{s&&B.removeEventListener("scroll",r),i&&B.removeEventListener("resize",r)}),m==null||m(),(y=p)==null||y.disconnect(),p=null,A&&cancelAnimationFrame(b)}}const IY=lY,FY=cY,kY=aY,_Y=uY,TY=iY,M8=sY,LY=AY,PY=(e,t,r)=>{const n=new Map,s={platform:EY,...r},i={...s.platform,_c:n};return nY(e,t,{...s,platform:i})};var Fw=typeof document<"u"?C.useLayoutEffect:C.useEffect;function My(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!My(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!My(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function DD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function U8(e,t){const r=DD(e);return Math.round(t*r)/r}function e5(e){const t=C.useRef(e);return Fw(()=>{t.current=e}),t}function DY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:A,open:u}=e,[h,m]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,p]=C.useState(n);My(w,n)||p(n);const[b,N]=C.useState(null),[j,y]=C.useState(null),B=C.useCallback(X=>{X!==H.current&&(H.current=X,N(X))},[]),I=C.useCallback(X=>{X!==D.current&&(D.current=X,y(X))},[]),_=i||b,O=o||j,H=C.useRef(null),D=C.useRef(null),L=C.useRef(h),T=A!=null,G=e5(A),M=e5(s),V=e5(u),J=C.useCallback(()=>{if(!H.current||!D.current)return;const X={placement:t,strategy:r,middleware:w};M.current&&(X.platform=M.current),PY(H.current,D.current,X).then(K=>{const le={...K,isPositioned:V.current!==!1};Z.current&&!My(L.current,le)&&(L.current=le,Rd.flushSync(()=>{m(le)}))})},[w,t,r,M,V]);Fw(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,m(X=>({...X,isPositioned:!1})))},[u]);const Z=C.useRef(!1);Fw(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Fw(()=>{if(_&&(H.current=_),O&&(D.current=O),_&&O){if(G.current)return G.current(_,O,J);J()}},[_,O,J,G,T]);const ee=C.useMemo(()=>({reference:H,floating:D,setReference:B,setFloating:I}),[B,I]),q=C.useMemo(()=>({reference:_,floating:O}),[_,O]),W=C.useMemo(()=>{const X={position:r,left:0,top:0};if(!q.floating)return X;const K=U8(q.floating,h.x),le=U8(q.floating,h.y);return l?{...X,transform:"translate("+K+"px, "+le+"px)",...DD(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:K,top:le}},[r,l,q.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:J,refs:ee,elements:q,floatingStyles:W}),[h,J,ee,q,W])}const OY=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?M8({element:n.current,padding:s}).fn(r):{}:n?M8({element:n,padding:s}).fn(r):{}}}},RY=(e,t)=>({...IY(e),options:[e,t]}),MY=(e,t)=>({...FY(e),options:[e,t]}),UY=(e,t)=>({...LY(e),options:[e,t]}),QY=(e,t)=>({...kY(e),options:[e,t]}),HY=(e,t)=>({..._Y(e),options:[e,t]}),VY=(e,t)=>({...TY(e),options:[e,t]}),KY=(e,t)=>({...OY(e),options:[e,t]});var WY="Arrow",OD=C.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Jr.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});OD.displayName=WY;var GY=OD;function zY(e,t=[]){let r=[];function n(i,o){const l=C.createContext(o),A=r.length;r=[...r,o];function u(m){const{scope:w,children:p,...b}=m,N=(w==null?void 0:w[e][A])||l,j=C.useMemo(()=>b,Object.values(b));return a.jsx(N.Provider,{value:j,children:p})}function h(m,w){const p=(w==null?void 0:w[e][A])||l,b=C.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>C.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,$Y(s,...t)]}function $Y(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:A,scopeName:u})=>{const m=A(i)[`__scope${u}`];return{...l,...m}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function RD(e){const[t,r]=C.useState(void 0);return Ii(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const A=i.borderBoxSize,u=Array.isArray(A)?A[0]:A;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var mS="Popper",[MD,J2]=zY(mS),[qY,UD]=MD(mS),QD=e=>{const{__scopePopper:t,children:r}=e,[n,s]=C.useState(null);return a.jsx(qY,{scope:t,anchor:n,onAnchorChange:s,children:r})};QD.displayName=mS;var HD="PopperAnchor",VD=C.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=UD(HD,r),o=C.useRef(null),l=ts(t,o);return C.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:a.jsx(Jr.div,{...s,ref:l})});VD.displayName=HD;var pS="PopperContent",[XY,YY]=MD(pS),KD=C.forwardRef((e,t)=>{var ge,fe,je,ke,Te,De;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:A=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:w=!1,updatePositionStrategy:p="optimized",onPlaced:b,...N}=e,j=UD(pS,r),[y,B]=C.useState(null),I=ts(t,Qe=>B(Qe)),[_,O]=C.useState(null),H=RD(_),D=(H==null?void 0:H.width)??0,L=(H==null?void 0:H.height)??0,T=n+(i!=="center"?"-"+i:""),G=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(u)?u:[u],V=M.length>0,J={padding:G,boundary:M.filter(JY),altBoundary:V},{refs:Z,floatingStyles:ee,placement:q,isPositioned:W,middlewareData:X}=DY({strategy:"fixed",placement:T,whileElementsMounted:(...Qe)=>PD(...Qe,{animationFrame:p==="always"}),elements:{reference:j.anchor},middleware:[RY({mainAxis:s+L,alignmentAxis:o}),A&&MY({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?UY():void 0,...J}),A&&QY({...J}),HY({...J,apply:({elements:Qe,rects:Ne,availableWidth:pe,availableHeight:Pe})=>{const{width:rt,height:qe}=Ne.reference,Me=Qe.floating.style;Me.setProperty("--radix-popper-available-width",`${pe}px`),Me.setProperty("--radix-popper-available-height",`${Pe}px`),Me.setProperty("--radix-popper-anchor-width",`${rt}px`),Me.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),_&&KY({element:_,padding:l}),eZ({arrowWidth:D,arrowHeight:L}),w&&VY({strategy:"referenceHidden",...J})]}),[K,le]=zD(q),ne=Dc(b);Ii(()=>{W&&(ne==null||ne())},[W,ne]);const U=(ge=X.arrow)==null?void 0:ge.x,Y=(fe=X.arrow)==null?void 0:fe.y,se=((je=X.arrow)==null?void 0:je.centerOffset)!==0,[ce,Ae]=C.useState();return Ii(()=>{y&&Ae(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:W?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(ke=X.transformOrigin)==null?void 0:ke.x,(Te=X.transformOrigin)==null?void 0:Te.y].join(" "),...((De=X.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(XY,{scope:r,placedSide:K,onArrowChange:O,arrowX:U,arrowY:Y,shouldHideArrow:se,children:a.jsx(Jr.div,{"data-side":K,"data-align":le,...N,ref:I,style:{...N.style,animation:W?void 0:"none"}})})})});KD.displayName=pS;var WD="PopperArrow",ZY={top:"bottom",right:"left",bottom:"top",left:"right"},GD=C.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=YY(WD,n),o=ZY[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(GY,{...s,ref:r,style:{...s.style,display:"block"}})})});GD.displayName=WD;function JY(e){return e!==null}var eZ=e=>({name:"transformOrigin",options:e,fn(t){var j,y,B;const{placement:r,rects:n,middlewareData:s}=t,o=((j=s.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:e.arrowWidth,A=o?0:e.arrowHeight,[u,h]=zD(r),m={start:"0%",center:"50%",end:"100%"}[h],w=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,p=(((B=s.arrow)==null?void 0:B.y)??0)+A/2;let b="",N="";return u==="bottom"?(b=o?m:`${w}px`,N=`${-A}px`):u==="top"?(b=o?m:`${w}px`,N=`${n.floating.height+A}px`):u==="right"?(b=`${-A}px`,N=o?m:`${p}px`):u==="left"&&(b=`${n.floating.width+A}px`,N=o?m:`${p}px`),{data:{x:b,y:N}}}});function zD(e){const[t,r="center"]=e.split("-");return[t,r]}var $D=QD,qD=VD,XD=KD,YD=GD,tZ="Portal",gS=C.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=C.useState(!1);Ii(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?qP.createPortal(a.jsx(Jr.div,{...n,ref:t}),o):null});gS.displayName=tZ;function rZ(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var hf=e=>{const{present:t,children:r}=e,n=nZ(t),s=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),i=ts(n.ref,sZ(s));return typeof r=="function"||n.isPresent?C.cloneElement(s,{ref:i}):null};hf.displayName="Presence";function nZ(e){const[t,r]=C.useState(),n=C.useRef({}),s=C.useRef(e),i=C.useRef("none"),o=e?"mounted":"unmounted",[l,A]=rZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=vx(n.current);i.current=l==="mounted"?u:"none"},[l]),Ii(()=>{const u=n.current,h=s.current;if(h!==e){const w=i.current,p=vx(u);e?A("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?A("UNMOUNT"):A(h&&w!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,A]),Ii(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,m=p=>{const N=vx(n.current).includes(p.animationName);if(p.target===t&&N&&(A("ANIMATION_END"),!s.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},w=p=>{p.target===t&&(i.current=vx(n.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else A("ANIMATION_END")},[t,A]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function vx(e){return(e==null?void 0:e.animationName)||"none"}function sZ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Yh({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=aZ({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Dc(r),A=C.useCallback(u=>{if(i){const m=typeof u=="function"?u(e):u;m!==e&&l(m)}else s(u)},[i,e,s,l]);return[o,A]}function aZ({defaultProp:e,onChange:t}){const r=C.useState(e),[n]=r,s=C.useRef(n),i=Dc(t);return C.useEffect(()=>{s.current!==n&&(i(n),s.current=n)},[n,s,i]),r}var iZ="VisuallyHidden",xS=C.forwardRef((e,t)=>a.jsx(Jr.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));xS.displayName=iZ;var oZ=xS,[ev,H4e]=A1("Tooltip",[J2]),tv=J2(),ZD="TooltipProvider",lZ=700,hN="tooltip.open",[cZ,wS]=ev(ZD),JD=e=>{const{__scopeTooltip:t,delayDuration:r=lZ,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:i}=e,[o,l]=C.useState(!0),A=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),a.jsx(cZ,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:A,onPointerInTransitChange:C.useCallback(h=>{A.current=h},[]),disableHoverableContent:s,children:i})};JD.displayName=ZD;var rv="Tooltip",[AZ,nv]=ev(rv),eO=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,A=wS(rv,e.__scopeTooltip),u=tv(t),[h,m]=C.useState(null),w=jA(),p=C.useRef(0),b=o??A.disableHoverableContent,N=l??A.delayDuration,j=C.useRef(!1),[y=!1,B]=Yh({prop:n,defaultProp:s,onChange:D=>{D?(A.onOpen(),document.dispatchEvent(new CustomEvent(hN))):A.onClose(),i==null||i(D)}}),I=C.useMemo(()=>y?j.current?"delayed-open":"instant-open":"closed",[y]),_=C.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j.current=!1,B(!0)},[B]),O=C.useCallback(()=>{window.clearTimeout(p.current),p.current=0,B(!1)},[B]),H=C.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{j.current=!0,B(!0),p.current=0},N)},[N,B]);return C.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx($D,{...u,children:a.jsx(AZ,{scope:t,contentId:w,open:y,stateAttribute:I,trigger:h,onTriggerChange:m,onTriggerEnter:C.useCallback(()=>{A.isOpenDelayed?H():_()},[A.isOpenDelayed,H,_]),onTriggerLeave:C.useCallback(()=>{b?O():(window.clearTimeout(p.current),p.current=0)},[O,b]),onOpen:_,onClose:O,disableHoverableContent:b,children:r})})};eO.displayName=rv;var fN="TooltipTrigger",tO=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=nv(fN,r),i=wS(fN,r),o=tv(r),l=C.useRef(null),A=ts(t,l,s.onTriggerChange),u=C.useRef(!1),h=C.useRef(!1),m=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(qD,{asChild:!0,...o,children:a.jsx(Jr.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:A,onPointerMove:_r(e.onPointerMove,w=>{w.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:_r(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:_r(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:_r(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:_r(e.onBlur,s.onClose),onClick:_r(e.onClick,s.onClose)})})});tO.displayName=fN;var uZ="TooltipPortal",[V4e,dZ]=ev(uZ,{forceMount:void 0}),X0="TooltipContent",rO=C.forwardRef((e,t)=>{const r=dZ(X0,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...i}=e,o=nv(X0,e.__scopeTooltip);return a.jsx(hf,{present:n||o.open,children:o.disableHoverableContent?a.jsx(nO,{side:s,...i,ref:t}):a.jsx(hZ,{side:s,...i,ref:t})})}),hZ=C.forwardRef((e,t)=>{const r=nv(X0,e.__scopeTooltip),n=wS(X0,e.__scopeTooltip),s=C.useRef(null),i=ts(t,s),[o,l]=C.useState(null),{trigger:A,onClose:u}=r,h=s.current,{onPointerInTransitChange:m}=n,w=C.useCallback(()=>{l(null),m(!1)},[m]),p=C.useCallback((b,N)=>{const j=b.currentTarget,y={x:b.clientX,y:b.clientY},B=gZ(y,j.getBoundingClientRect()),I=xZ(y,B),_=wZ(N.getBoundingClientRect()),O=vZ([...I,..._]);l(O),m(!0)},[m]);return C.useEffect(()=>()=>w(),[w]),C.useEffect(()=>{if(A&&h){const b=j=>p(j,h),N=j=>p(j,A);return A.addEventListener("pointerleave",b),h.addEventListener("pointerleave",N),()=>{A.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",N)}}},[A,h,p,w]),C.useEffect(()=>{if(o){const b=N=>{const j=N.target,y={x:N.clientX,y:N.clientY},B=(A==null?void 0:A.contains(j))||(h==null?void 0:h.contains(j)),I=!yZ(y,o);B?w():I&&(w(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[A,h,o,u,w]),a.jsx(nO,{...e,ref:i})}),[fZ,mZ]=ev(rv,{isInside:!1}),nO=C.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,A=nv(X0,r),u=tv(r),{onClose:h}=A;return C.useEffect(()=>(document.addEventListener(hN,h),()=>document.removeEventListener(hN,h)),[h]),C.useEffect(()=>{if(A.trigger){const m=w=>{const p=w.target;p!=null&&p.contains(A.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[A.trigger,h]),a.jsx(q2,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:a.jsxs(XD,{"data-state":A.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(BD,{children:n}),a.jsx(fZ,{scope:r,isInside:!0,children:a.jsx(oZ,{id:A.contentId,role:"tooltip",children:s||n})})]})})});rO.displayName=X0;var sO="TooltipArrow",pZ=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=tv(r);return mZ(sO,r).isInside?null:a.jsx(YD,{...s,...n,ref:t})});pZ.displayName=sO;function gZ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function xZ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function wZ(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function yZ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,A=t[i].y,u=t[o].x,h=t[o].y;A>n!=h>n&&r<(u-l)*(n-A)/(h-A)+l&&(s=!s)}return s}function vZ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),bZ(t)}function bZ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var CZ=JD,NZ=eO,BZ=tO,aO=rO;function iO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=iO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function oO(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=iO(e))&&(n&&(n+=" "),n+=t);return n}const yS="-",SZ=e=>{const t=jZ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(yS);return l[0]===""&&l.length!==1&&l.shift(),lO(l,t)||EZ(o)},getConflictingClassGroupIds:(o,l)=>{const A=r[o]||[];return l&&n[o]?[...A,...n[o]]:A}}},lO=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?lO(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(yS);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Q8=/^\[(.+)\]$/,EZ=e=>{if(Q8.test(e)){const t=Q8.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},jZ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return FZ(Object.entries(e.classGroups),r).forEach(([i,o])=>{mN(o,n,i,t)}),n},mN=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:H8(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(IZ(s)){mN(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{mN(o,H8(t,i),r,n)})})},H8=(e,t)=>{let r=e;return t.split(yS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},IZ=e=>e.isThemeGetter,FZ=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,kZ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},cO="!",_Z=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const A=[];let u=0,h=0,m;for(let j=0;j<l.length;j++){let y=l[j];if(u===0){if(y===s&&(n||l.slice(j,j+i)===t)){A.push(l.slice(h,j)),h=j+i;continue}if(y==="/"){m=j;continue}}y==="["?u++:y==="]"&&u--}const w=A.length===0?l:l.substring(h),p=w.startsWith(cO),b=p?w.substring(1):w,N=m&&m>h?m-h:void 0;return{modifiers:A,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:N}};return r?l=>r({className:l,parseClassName:o}):o},TZ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},LZ=e=>({cache:kZ(e.cacheSize),parseClassName:_Z(e),...SZ(e)}),PZ=/\s+/,DZ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(PZ);let l="";for(let A=o.length-1;A>=0;A-=1){const u=o[A],{modifiers:h,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:p}=r(u);let b=!!p,N=n(b?w.substring(0,p):w);if(!N){if(!b){l=u+(l.length>0?" "+l:l);continue}if(N=n(w),!N){l=u+(l.length>0?" "+l:l);continue}b=!1}const j=TZ(h).join(":"),y=m?j+cO:j,B=y+N;if(i.includes(B))continue;i.push(B);const I=s(N,b);for(let _=0;_<I.length;++_){const O=I[_];i.push(y+O)}l=u+(l.length>0?" "+l:l)}return l};function OZ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=AO(t))&&(n&&(n+=" "),n+=r);return n}const AO=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=AO(e[n]))&&(r&&(r+=" "),r+=t);return r};function RZ(e,...t){let r,n,s,i=o;function o(A){const u=t.reduce((h,m)=>m(h),e());return r=LZ(u),n=r.cache.get,s=r.cache.set,i=l,l(A)}function l(A){const u=n(A);if(u)return u;const h=DZ(A,r);return s(A,h),h}return function(){return i(OZ.apply(null,arguments))}}const qn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},uO=/^\[(?:([a-z-]+):)?(.+)\]$/i,MZ=/^\d+\/\d+$/,UZ=new Set(["px","full","screen"]),QZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lA=e=>g0(e)||UZ.has(e)||MZ.test(e),wu=e=>mm(e,"length",JZ),g0=e=>!!e&&!Number.isNaN(Number(e)),t5=e=>mm(e,"number",g0),Hm=e=>!!e&&Number.isInteger(Number(e)),GZ=e=>e.endsWith("%")&&g0(e.slice(0,-1)),Pr=e=>uO.test(e),yu=e=>QZ.test(e),zZ=new Set(["length","size","percentage"]),$Z=e=>mm(e,zZ,dO),qZ=e=>mm(e,"position",dO),XZ=new Set(["image","url"]),YZ=e=>mm(e,XZ,tJ),ZZ=e=>mm(e,"",eJ),Vm=()=>!0,mm=(e,t,r)=>{const n=uO.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},JZ=e=>HZ.test(e)&&!VZ.test(e),dO=()=>!1,eJ=e=>KZ.test(e),tJ=e=>WZ.test(e),rJ=()=>{const e=qn("colors"),t=qn("spacing"),r=qn("blur"),n=qn("brightness"),s=qn("borderColor"),i=qn("borderRadius"),o=qn("borderSpacing"),l=qn("borderWidth"),A=qn("contrast"),u=qn("grayscale"),h=qn("hueRotate"),m=qn("invert"),w=qn("gap"),p=qn("gradientColorStops"),b=qn("gradientColorStopPositions"),N=qn("inset"),j=qn("margin"),y=qn("opacity"),B=qn("padding"),I=qn("saturate"),_=qn("scale"),O=qn("sepia"),H=qn("skew"),D=qn("space"),L=qn("translate"),T=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Pr,t],V=()=>[Pr,t],J=()=>["",lA,wu],Z=()=>["auto",g0,Pr],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Pr],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[g0,Pr];return{cacheSize:500,separator:":",theme:{colors:[Vm],spacing:[lA,wu],blur:["none","",yu,Pr],brightness:ne(),borderColor:[e],borderRadius:["none","","full",yu,Pr],borderSpacing:V(),borderWidth:J(),contrast:ne(),grayscale:K(),hueRotate:ne(),invert:K(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[GZ,wu],inset:M(),margin:M(),opacity:ne(),padding:V(),saturate:ne(),scale:ne(),sepia:K(),skew:ne(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Pr]}],container:["container"],columns:[{columns:[yu]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),Pr]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hm,Pr]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pr]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Hm,Pr]}],"grid-cols":[{"grid-cols":[Vm]}],"col-start-end":[{col:["auto",{span:["full",Hm,Pr]},Pr]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[Vm]}],"row-start-end":[{row:["auto",{span:[Hm,Pr]},Pr]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pr]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[B]}],px:[{px:[B]}],py:[{py:[B]}],ps:[{ps:[B]}],pe:[{pe:[B]}],pt:[{pt:[B]}],pr:[{pr:[B]}],pb:[{pb:[B]}],pl:[{pl:[B]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pr,t]}],"min-w":[{"min-w":[Pr,t,"min","max","fit"]}],"max-w":[{"max-w":[Pr,t,"none","full","min","max","fit","prose",{screen:[yu]},yu]}],h:[{h:[Pr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",yu,wu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",t5]}],"font-family":[{font:[Vm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pr]}],"line-clamp":[{"line-clamp":["none",g0,t5]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lA,Pr]}],"list-image":[{"list-image":["none",Pr]}],"list-style-type":[{list:["none","disc","decimal",Pr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lA,wu]}],"underline-offset":[{"underline-offset":["auto",lA,Pr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),qZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$Z]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YZ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[lA,Pr]}],"outline-w":[{outline:[lA,wu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[lA,wu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",yu,ZZ]}],"shadow-color":[{shadow:[Vm]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[A]}],"drop-shadow":[{"drop-shadow":["","none",yu,Pr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[I]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[A]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pr]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Pr]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Hm,Pr]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[lA,wu,t5]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nJ=RZ(rJ);function Nr(...e){return nJ(oO(e))}const hO=CZ,r5=NZ,n5=BZ,kw=C.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(aO,{ref:n,sideOffset:t,className:Nr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));kw.displayName=aO.displayName;function fO(e,t){return function(){return e.apply(t,arguments)}}const{toString:sJ}=Object.prototype,{getPrototypeOf:vS}=Object,{iterator:sv,toStringTag:mO}=Symbol,av=(e=>t=>{const r=sJ.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ql=e=>(e=e.toLowerCase(),t=>av(t)===e),iv=e=>t=>typeof t===e,{isArray:pm}=Array,bg=iv("undefined");function aJ(e){return e!==null&&!bg(e)&&e.constructor!==null&&!bg(e.constructor)&&Zi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const pO=ql("ArrayBuffer");function iJ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&pO(e.buffer),t}const oJ=iv("string"),Zi=iv("function"),gO=iv("number"),ov=e=>e!==null&&typeof e=="object",lJ=e=>e===!0||e===!1,_w=e=>{if(av(e)!=="object")return!1;const t=vS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(mO in e)&&!(sv in e)},cJ=ql("Date"),AJ=ql("File"),uJ=ql("Blob"),dJ=ql("FileList"),hJ=e=>ov(e)&&Zi(e.pipe),fJ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Zi(e.append)&&((t=av(e))==="formdata"||t==="object"&&Zi(e.toString)&&e.toString()==="[object FormData]"))},mJ=ql("URLSearchParams"),[pJ,gJ,xJ,wJ]=["ReadableStream","Request","Response","Headers"].map(ql),yJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function d1(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),pm(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function xO(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const hh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wO=e=>!bg(e)&&e!==hh;function pN(){const{caseless:e}=wO(this)&&this||{},t={},r=(n,s)=>{const i=e&&xO(t,s)||s;_w(t[i])&&_w(n)?t[i]=pN(t[i],n):_w(n)?t[i]=pN({},n):pm(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&d1(arguments[n],r);return t}const vJ=(e,t,r,{allOwnKeys:n}={})=>(d1(t,(s,i)=>{r&&Zi(s)?e[i]=fO(s,r):e[i]=s},{allOwnKeys:n}),e),bJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),CJ=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},NJ=(e,t,r,n)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&vS(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},BJ=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},SJ=e=>{if(!e)return null;if(pm(e))return e;let t=e.length;if(!gO(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},EJ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vS(Uint8Array)),jJ=(e,t)=>{const n=(e&&e[sv]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},IJ=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},FJ=ql("HTMLFormElement"),kJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),V8=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),_J=ql("RegExp"),yO=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};d1(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},TJ=e=>{yO(e,(t,r)=>{if(Zi(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Zi(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},LJ=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return pm(e)?n(e):n(String(e).split(t)),r},PJ=()=>{},DJ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function OJ(e){return!!(e&&Zi(e.append)&&e[mO]==="FormData"&&e[sv])}const RJ=e=>{const t=new Array(10),r=(n,s)=>{if(ov(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const i=pm(n)?[]:{};return d1(n,(o,l)=>{const A=r(o,s+1);!bg(A)&&(i[l]=A)}),t[s]=void 0,i}}return n};return r(e,0)},MJ=ql("AsyncFunction"),UJ=e=>e&&(ov(e)||Zi(e))&&Zi(e.then)&&Zi(e.catch),vO=((e,t)=>e?setImmediate:t?((r,n)=>(hh.addEventListener("message",({source:s,data:i})=>{s===hh&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),hh.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Zi(hh.postMessage)),QJ=typeof queueMicrotask<"u"?queueMicrotask.bind(hh):typeof process<"u"&&process.nextTick||vO,HJ=e=>e!=null&&Zi(e[sv]),Ye={isArray:pm,isArrayBuffer:pO,isBuffer:aJ,isFormData:fJ,isArrayBufferView:iJ,isString:oJ,isNumber:gO,isBoolean:lJ,isObject:ov,isPlainObject:_w,isReadableStream:pJ,isRequest:gJ,isResponse:xJ,isHeaders:wJ,isUndefined:bg,isDate:cJ,isFile:AJ,isBlob:uJ,isRegExp:_J,isFunction:Zi,isStream:hJ,isURLSearchParams:mJ,isTypedArray:EJ,isFileList:dJ,forEach:d1,merge:pN,extend:vJ,trim:yJ,stripBOM:bJ,inherits:CJ,toFlatObject:NJ,kindOf:av,kindOfTest:ql,endsWith:BJ,toArray:SJ,forEachEntry:jJ,matchAll:IJ,isHTMLForm:FJ,hasOwnProperty:V8,hasOwnProp:V8,reduceDescriptors:yO,freezeMethods:TJ,toObjectSet:LJ,toCamelCase:kJ,noop:PJ,toFiniteNumber:DJ,findKey:xO,global:hh,isContextDefined:wO,isSpecCompliantForm:OJ,toJSONObject:RJ,isAsyncFn:MJ,isThenable:UJ,setImmediate:vO,asap:QJ,isIterable:HJ};function kr(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ye.inherits(kr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const bO=kr.prototype,CO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{CO[e]={value:e}});Object.defineProperties(kr,CO);Object.defineProperty(bO,"isAxiosError",{value:!0});kr.from=(e,t,r,n,s,i)=>{const o=Object.create(bO);return Ye.toFlatObject(e,o,function(A){return A!==Error.prototype},l=>l!=="isAxiosError"),kr.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const VJ=null;function gN(e){return Ye.isPlainObject(e)||Ye.isArray(e)}function NO(e){return Ye.endsWith(e,"[]")?e.slice(0,-2):e}function K8(e,t,r){return e?e.concat(t).map(function(s,i){return s=NO(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function KJ(e){return Ye.isArray(e)&&!e.some(gN)}const WJ=Ye.toFlatObject(Ye,{},null,function(t){return/^is[A-Z]/.test(t)});function lv(e,t,r){if(!Ye.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ye.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,j){return!Ye.isUndefined(j[N])});const n=r.metaTokens,s=r.visitor||h,i=r.dots,o=r.indexes,A=(r.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(t);if(!Ye.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(Ye.isDate(b))return b.toISOString();if(!A&&Ye.isBlob(b))throw new kr("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(b)||Ye.isTypedArray(b)?A&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,N,j){let y=b;if(b&&!j&&typeof b=="object"){if(Ye.endsWith(N,"{}"))N=n?N:N.slice(0,-2),b=JSON.stringify(b);else if(Ye.isArray(b)&&KJ(b)||(Ye.isFileList(b)||Ye.endsWith(N,"[]"))&&(y=Ye.toArray(b)))return N=NO(N),y.forEach(function(I,_){!(Ye.isUndefined(I)||I===null)&&t.append(o===!0?K8([N],_,i):o===null?N:N+"[]",u(I))}),!1}return gN(b)?!0:(t.append(K8(j,N,i),u(b)),!1)}const m=[],w=Object.assign(WJ,{defaultVisitor:h,convertValue:u,isVisitable:gN});function p(b,N){if(!Ye.isUndefined(b)){if(m.indexOf(b)!==-1)throw Error("Circular reference detected in "+N.join("."));m.push(b),Ye.forEach(b,function(y,B){(!(Ye.isUndefined(y)||y===null)&&s.call(t,y,Ye.isString(B)?B.trim():B,N,w))===!0&&p(y,N?N.concat(B):[B])}),m.pop()}}if(!Ye.isObject(e))throw new TypeError("data must be an object");return p(e),t}function W8(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function bS(e,t){this._pairs=[],e&&lv(e,this,t)}const BO=bS.prototype;BO.append=function(t,r){this._pairs.push([t,r])};BO.toString=function(t){const r=t?function(n){return t.call(this,n,W8)}:W8;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function GJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function SO(e,t,r){if(!t)return e;const n=r&&r.encode||GJ;Ye.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=Ye.isURLSearchParams(t)?t.toString():new bS(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class G8{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ye.forEach(this.handlers,function(n){n!==null&&t(n)})}}const EO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zJ=typeof URLSearchParams<"u"?URLSearchParams:bS,$J=typeof FormData<"u"?FormData:null,qJ=typeof Blob<"u"?Blob:null,XJ={isBrowser:!0,classes:{URLSearchParams:zJ,FormData:$J,Blob:qJ},protocols:["http","https","file","blob","url","data"]},CS=typeof window<"u"&&typeof document<"u",xN=typeof navigator=="object"&&navigator||void 0,YJ=CS&&(!xN||["ReactNative","NativeScript","NS"].indexOf(xN.product)<0),ZJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JJ=CS&&window.location.href||"http://localhost",eee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:CS,hasStandardBrowserEnv:YJ,hasStandardBrowserWebWorkerEnv:ZJ,navigator:xN,origin:JJ},Symbol.toStringTag,{value:"Module"})),si={...eee,...XJ};function tee(e,t){return lv(e,new si.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return si.isNode&&Ye.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function ree(e){return Ye.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nee(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function jO(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),A=i>=r.length;return o=!o&&Ye.isArray(s)?s.length:o,A?(Ye.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!Ye.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&Ye.isArray(s[o])&&(s[o]=nee(s[o])),!l)}if(Ye.isFormData(e)&&Ye.isFunction(e.entries)){const r={};return Ye.forEachEntry(e,(n,s)=>{t(ree(n),s,r,0)}),r}return null}function see(e,t,r){if(Ye.isString(e))try{return(t||JSON.parse)(e),Ye.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const h1={transitional:EO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Ye.isObject(t);if(i&&Ye.isHTMLForm(t)&&(t=new FormData(t)),Ye.isFormData(t))return s?JSON.stringify(jO(t)):t;if(Ye.isArrayBuffer(t)||Ye.isBuffer(t)||Ye.isStream(t)||Ye.isFile(t)||Ye.isBlob(t)||Ye.isReadableStream(t))return t;if(Ye.isArrayBufferView(t))return t.buffer;if(Ye.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tee(t,this.formSerializer).toString();if((l=Ye.isFileList(t))||n.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return lv(l?{"files[]":t}:t,A&&new A,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),see(t)):t}],transformResponse:[function(t){const r=this.transitional||h1.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Ye.isResponse(t)||Ye.isReadableStream(t))return t;if(t&&Ye.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?kr.from(l,kr.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:si.classes.FormData,Blob:si.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],e=>{h1.headers[e]={}});const aee=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iee=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&aee[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},z8=Symbol("internals");function Km(e){return e&&String(e).trim().toLowerCase()}function Tw(e){return e===!1||e==null?e:Ye.isArray(e)?e.map(Tw):String(e)}function oee(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const lee=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function s5(e,t,r,n,s){if(Ye.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!Ye.isString(t)){if(Ye.isString(n))return t.indexOf(n)!==-1;if(Ye.isRegExp(n))return n.test(t)}}function cee(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Aee(e,t){const r=Ye.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}class Ji{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,A,u){const h=Km(A);if(!h)throw new Error("header name must be a non-empty string");const m=Ye.findKey(s,h);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||A]=Tw(l))}const o=(l,A)=>Ye.forEach(l,(u,h)=>i(u,h,A));if(Ye.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Ye.isString(t)&&(t=t.trim())&&!lee(t))o(iee(t),r);else if(Ye.isObject(t)&&Ye.isIterable(t)){let l={},A,u;for(const h of t){if(!Ye.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(A=l[u])?Ye.isArray(A)?[...A,h[1]]:[A,h[1]]:h[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Km(t),t){const n=Ye.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return oee(s);if(Ye.isFunction(r))return r.call(this,s,n);if(Ye.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Km(t),t){const n=Ye.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||s5(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Km(o),o){const l=Ye.findKey(n,o);l&&(!r||s5(n,n[l],l,r))&&(delete n[l],s=!0)}}return Ye.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||s5(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return Ye.forEach(this,(s,i)=>{const o=Ye.findKey(n,i);if(o){r[o]=Tw(s),delete r[i];return}const l=t?cee(i):String(i).trim();l!==i&&delete r[i],r[l]=Tw(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ye.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&Ye.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[z8]=this[z8]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Km(o);n[l]||(Aee(s,o),n[l]=!0)}return Ye.isArray(t)?t.forEach(i):i(t),this}}Ji.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(Ji.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Ye.freezeMethods(Ji);function a5(e,t){const r=this||h1,n=t||r,s=Ji.from(n.headers);let i=n.data;return Ye.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function IO(e){return!!(e&&e.__CANCEL__)}function gm(e,t,r){kr.call(this,e??"canceled",kr.ERR_CANCELED,t,r),this.name="CanceledError"}Ye.inherits(gm,kr,{__CANCEL__:!0});function FO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new kr("Request failed with status code "+r.status,[kr.ERR_BAD_REQUEST,kr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uee(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function dee(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(A){const u=Date.now(),h=n[i];o||(o=u),r[s]=A,n[s]=u;let m=i,w=0;for(;m!==s;)w+=r[m++],m=m%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const p=h&&u-h;return p?Math.round(w*1e3/p):void 0}}function hee(e,t){let r=0,n=1e3/t,s,i;const o=(u,h=Date.now())=>{r=h,s=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const h=Date.now(),m=h-r;m>=n?o(u,h):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},n-m)))},()=>s&&o(s)]}const Uy=(e,t,r=3)=>{let n=0;const s=dee(50,250);return hee(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,A=o-n,u=s(A),h=o<=l;n=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:A,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},r)},$8=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},q8=e=>(...t)=>Ye.asap(()=>e(...t)),fee=si.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,si.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(si.origin),si.navigator&&/(msie|trident)/i.test(si.navigator.userAgent)):()=>!0,mee=si.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const o=[e+"="+encodeURIComponent(t)];Ye.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Ye.isString(n)&&o.push("path="+n),Ye.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pee(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gee(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function kO(e,t,r){let n=!pee(t);return e&&(n||r==!1)?gee(e,t):t}const X8=e=>e instanceof Ji?{...e}:e;function Zh(e,t){t=t||{};const r={};function n(u,h,m,w){return Ye.isPlainObject(u)&&Ye.isPlainObject(h)?Ye.merge.call({caseless:w},u,h):Ye.isPlainObject(h)?Ye.merge({},h):Ye.isArray(h)?h.slice():h}function s(u,h,m,w){if(Ye.isUndefined(h)){if(!Ye.isUndefined(u))return n(void 0,u,m,w)}else return n(u,h,m,w)}function i(u,h){if(!Ye.isUndefined(h))return n(void 0,h)}function o(u,h){if(Ye.isUndefined(h)){if(!Ye.isUndefined(u))return n(void 0,u)}else return n(void 0,h)}function l(u,h,m){if(m in t)return n(u,h);if(m in e)return n(void 0,u)}const A={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,m)=>s(X8(u),X8(h),m,!0)};return Ye.forEach(Object.keys(Object.assign({},e,t)),function(h){const m=A[h]||s,w=m(e[h],t[h],h);Ye.isUndefined(w)&&m!==l||(r[h]=w)}),r}const _O=e=>{const t=Zh({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;t.headers=o=Ji.from(o),t.url=SO(kO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let A;if(Ye.isFormData(r)){if(si.hasStandardBrowserEnv||si.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((A=o.getContentType())!==!1){const[u,...h]=A?A.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(si.hasStandardBrowserEnv&&(n&&Ye.isFunction(n)&&(n=n(t)),n||n!==!1&&fee(t.url))){const u=s&&i&&mee.read(i);u&&o.set(s,u)}return t},xee=typeof XMLHttpRequest<"u",wee=xee&&function(e){return new Promise(function(r,n){const s=_O(e);let i=s.data;const o=Ji.from(s.headers).normalize();let{responseType:l,onUploadProgress:A,onDownloadProgress:u}=s,h,m,w,p,b;function N(){p&&p(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function y(){if(!j)return;const I=Ji.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),O={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:I,config:e,request:j};FO(function(D){r(D),N()},function(D){n(D),N()},O),j=null}"onloadend"in j?j.onloadend=y:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(y)},j.onabort=function(){j&&(n(new kr("Request aborted",kr.ECONNABORTED,e,j)),j=null)},j.onerror=function(){n(new kr("Network Error",kr.ERR_NETWORK,e,j)),j=null},j.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const O=s.transitional||EO;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),n(new kr(_,O.clarifyTimeoutError?kr.ETIMEDOUT:kr.ECONNABORTED,e,j)),j=null},i===void 0&&o.setContentType(null),"setRequestHeader"in j&&Ye.forEach(o.toJSON(),function(_,O){j.setRequestHeader(O,_)}),Ye.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),l&&l!=="json"&&(j.responseType=s.responseType),u&&([w,b]=Uy(u,!0),j.addEventListener("progress",w)),A&&j.upload&&([m,p]=Uy(A),j.upload.addEventListener("progress",m),j.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(h=I=>{j&&(n(!I||I.type?new gm(null,e,j):I),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const B=uee(s.url);if(B&&si.protocols.indexOf(B)===-1){n(new kr("Unsupported protocol "+B+":",kr.ERR_BAD_REQUEST,e));return}j.send(i||null)})},yee=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const h=u instanceof Error?u:this.reason;n.abort(h instanceof kr?h:new gm(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,i(new kr(`timeout ${t} of ms exceeded`,kr.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:A}=n;return A.unsubscribe=()=>Ye.asap(l),A}},vee=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},bee=async function*(e,t){for await(const r of Cee(e))yield*vee(r,t)},Cee=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Y8=(e,t,r,n)=>{const s=bee(e,t);let i=0,o,l=A=>{o||(o=!0,n&&n(A))};return new ReadableStream({async pull(A){try{const{done:u,value:h}=await s.next();if(u){l(),A.close();return}let m=h.byteLength;if(r){let w=i+=m;r(w)}A.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(A){return l(A),s.return()}},{highWaterMark:2})},cv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TO=cv&&typeof ReadableStream=="function",Nee=cv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),LO=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Bee=TO&&LO(()=>{let e=!1;const t=new Request(si.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Z8=64*1024,wN=TO&&LO(()=>Ye.isReadableStream(new Response("").body)),Qy={stream:wN&&(e=>e.body)};cv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Qy[t]&&(Qy[t]=Ye.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new kr(`Response type '${t}' is not supported`,kr.ERR_NOT_SUPPORT,n)})})})(new Response);const See=async e=>{if(e==null)return 0;if(Ye.isBlob(e))return e.size;if(Ye.isSpecCompliantForm(e))return(await new Request(si.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(e)||Ye.isArrayBuffer(e))return e.byteLength;if(Ye.isURLSearchParams(e)&&(e=e+""),Ye.isString(e))return(await Nee(e)).byteLength},Eee=async(e,t)=>{const r=Ye.toFiniteNumber(e.getContentLength());return r??See(t)},jee=cv&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:A,responseType:u,headers:h,withCredentials:m="same-origin",fetchOptions:w}=_O(e);u=u?(u+"").toLowerCase():"text";let p=yee([s,i&&i.toAbortSignal()],o),b;const N=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let j;try{if(A&&Bee&&r!=="get"&&r!=="head"&&(j=await Eee(h,n))!==0){let O=new Request(t,{method:"POST",body:n,duplex:"half"}),H;if(Ye.isFormData(n)&&(H=O.headers.get("content-type"))&&h.setContentType(H),O.body){const[D,L]=$8(j,Uy(q8(A)));n=Y8(O.body,Z8,D,L)}}Ye.isString(m)||(m=m?"include":"omit");const y="credentials"in Request.prototype;b=new Request(t,{...w,signal:p,method:r.toUpperCase(),headers:h.normalize().toJSON(),body:n,duplex:"half",credentials:y?m:void 0});let B=await fetch(b);const I=wN&&(u==="stream"||u==="response");if(wN&&(l||I&&N)){const O={};["status","statusText","headers"].forEach(T=>{O[T]=B[T]});const H=Ye.toFiniteNumber(B.headers.get("content-length")),[D,L]=l&&$8(H,Uy(q8(l),!0))||[];B=new Response(Y8(B.body,Z8,D,()=>{L&&L(),N&&N()}),O)}u=u||"text";let _=await Qy[Ye.findKey(Qy,u)||"text"](B,e);return!I&&N&&N(),await new Promise((O,H)=>{FO(O,H,{data:_,headers:Ji.from(B.headers),status:B.status,statusText:B.statusText,config:e,request:b})})}catch(y){throw N&&N(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new kr("Network Error",kr.ERR_NETWORK,e,b),{cause:y.cause||y}):kr.from(y,y&&y.code,e,b)}}),yN={http:VJ,xhr:wee,fetch:jee};Ye.forEach(yN,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const J8=e=>`- ${e}`,Iee=e=>Ye.isFunction(e)||e===null||e===!1,PO={getAdapter:e=>{e=Ye.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!Iee(r)&&(n=yN[(o=String(r)).toLowerCase()],n===void 0))throw new kr(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+i]=n}if(!n){const i=Object.entries(s).map(([l,A])=>`adapter ${l} `+(A===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(J8).join(`
`):" "+J8(i[0]):"as no adapter specified";throw new kr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:yN};function i5(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gm(null,e)}function eI(e){return i5(e),e.headers=Ji.from(e.headers),e.data=a5.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),PO.getAdapter(e.adapter||h1.adapter)(e).then(function(n){return i5(e),n.data=a5.call(e,e.transformResponse,n),n.headers=Ji.from(n.headers),n},function(n){return IO(n)||(i5(e),n&&n.response&&(n.response.data=a5.call(e,e.transformResponse,n.response),n.response.headers=Ji.from(n.response.headers))),Promise.reject(n)})}const DO="1.9.0",Av={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Av[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const tI={};Av.transitional=function(t,r,n){function s(i,o){return"[Axios v"+DO+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new kr(s(o," has been removed"+(r?" in "+r:"")),kr.ERR_DEPRECATED);return r&&!tI[o]&&(tI[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};Av.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Fee(e,t,r){if(typeof e!="object")throw new kr("options must be an object",kr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const l=e[i],A=l===void 0||o(l,i,e);if(A!==!0)throw new kr("option "+i+" must be "+A,kr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new kr("Unknown option "+i,kr.ERR_BAD_OPTION)}}const Lw={assertOptions:Fee,validators:Av},lc=Lw.validators;class kh{constructor(t){this.defaults=t||{},this.interceptors={request:new G8,response:new G8}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Zh(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Lw.assertOptions(n,{silentJSONParsing:lc.transitional(lc.boolean),forcedJSONParsing:lc.transitional(lc.boolean),clarifyTimeoutError:lc.transitional(lc.boolean)},!1),s!=null&&(Ye.isFunction(s)?r.paramsSerializer={serialize:s}:Lw.assertOptions(s,{encode:lc.function,serialize:lc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Lw.assertOptions(r,{baseUrl:lc.spelling("baseURL"),withXsrfToken:lc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Ye.merge(i.common,i[r.method]);i&&Ye.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),r.headers=Ji.concat(o,i);const l=[];let A=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(A=A&&N.synchronous,l.unshift(N.fulfilled,N.rejected))});const u=[];this.interceptors.response.forEach(function(N){u.push(N.fulfilled,N.rejected)});let h,m=0,w;if(!A){const b=[eI.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,u),w=b.length,h=Promise.resolve(r);m<w;)h=h.then(b[m++],b[m++]);return h}w=l.length;let p=r;for(m=0;m<w;){const b=l[m++],N=l[m++];try{p=b(p)}catch(j){N.call(this,j);break}}try{h=eI.call(this,p)}catch(b){return Promise.reject(b)}for(m=0,w=u.length;m<w;)h=h.then(u[m++],u[m++]);return h}getUri(t){t=Zh(this.defaults,t);const r=kO(t.baseURL,t.url,t.allowAbsoluteUrls);return SO(r,t.params,t.paramsSerializer)}}Ye.forEach(["delete","get","head","options"],function(t){kh.prototype[t]=function(r,n){return this.request(Zh(n||{},{method:t,url:r,data:(n||{}).data}))}});Ye.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Zh(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}kh.prototype[t]=r(),kh.prototype[t+"Form"]=r(!0)});class NS{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new gm(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new NS(function(s){t=s}),cancel:t}}}function kee(e){return function(r){return e.apply(null,r)}}function _ee(e){return Ye.isObject(e)&&e.isAxiosError===!0}const vN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vN).forEach(([e,t])=>{vN[t]=e});function OO(e){const t=new kh(e),r=fO(kh.prototype.request,t);return Ye.extend(r,kh.prototype,t,{allOwnKeys:!0}),Ye.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return OO(Zh(e,s))},r}const Wn=OO(h1);Wn.Axios=kh;Wn.CanceledError=gm;Wn.CancelToken=NS;Wn.isCancel=IO;Wn.VERSION=DO;Wn.toFormData=lv;Wn.AxiosError=kr;Wn.Cancel=Wn.CanceledError;Wn.all=function(t){return Promise.all(t)};Wn.spread=kee;Wn.isAxiosError=_ee;Wn.mergeConfig=Zh;Wn.AxiosHeaders=Ji;Wn.formToJSON=e=>jO(Ye.isHTMLForm(e)?new FormData(e):e);Wn.getAdapter=PO.getAdapter;Wn.HttpStatusCode=vN;Wn.default=Wn;const Tee=()=>{const e=typeof window<"u"&&window.location.hostname==="localhost";return typeof navigator<"u"&&(navigator.userAgent.includes("Cordova")||navigator.userAgent.includes("Capacitor")||typeof window<"u"&&window.location.protocol==="file:")?"https://havenn.onrender.com/api":e?"/api":"https://havenn.onrender.com/api"},Cg=Tee(),Ta=(e,t={})=>fetch(`${Cg}${e}`,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}}),BS=Cg;console.log(" API_URL configured as:",BS);console.log(" Window location:",typeof window<"u"?window.location.href:"N/A");console.log(" User agent:",typeof navigator<"u"?navigator.userAgent:"N/A");console.log(" Is mobile app:",typeof navigator<"u"&&(navigator.userAgent.includes("Cordova")||navigator.userAgent.includes("Capacitor")||typeof window<"u"&&window.location.protocol==="file:"));const lt=Wn.create({baseURL:BS,withCredentials:!0});let rI=0;lt.interceptors.request.use(e=>(console.log(" API Request Details:",{url:e.url,baseURL:e.baseURL,fullURL:e.baseURL+e.url,method:e.method,headers:e.headers}),e));const Ng=e=>{if(Array.isArray(e))return e.map(t=>Ng(t));if(e&&typeof e=="object"&&e!==null){const t={};for(const[r,n]of Object.entries(e)){const s=r.replace(/_([a-z])/g,(i,o)=>o.toUpperCase());t[s]=Ng(n)}return t}return e},Bg=e=>{if(Array.isArray(e))return e.map(t=>Bg(t));if(e&&typeof e=="object"&&e!==null){const t={};for(const[r,n]of Object.entries(e)){const s=r.replace(/([A-Z])/g,"_$1").toLowerCase();t[s]=Bg(n)}return t}return e};lt.interceptors.request.use(e=>{const t=localStorage.getItem("user");return t&&(e.headers["X-User-Info"]=t),e});lt.interceptors.request.use(e=>(console.log("API Request:",{url:e.url,method:e.method,data:e.data,headers:e.headers}),e));lt.interceptors.request.use(e=>{if(e.data&&typeof e.data=="object"&&!(e.data instanceof FormData)){let t={...e.data};t.hasOwnProperty("branch_id")&&t.hasOwnProperty("branchId")&&(console.warn('[API.TS INTERCEPTOR] Conflict: Found both "branch_id" (value:',t.branch_id,') and "branchId" (value:',t.branchId,'). Removing "branchId" to prioritize the snake_case "branch_id".'),delete t.branchId),e.data=Bg(t)}return e});lt.interceptors.response.use(e=>(e.data&&typeof e.data=="object"&&(e.data=Ng(e.data)),e),e=>{var n,s,i,o,l,A,u;if(((n=e.response)==null?void 0:n.status)===401)console.warn("401 Unauthorized - Authentication required:",(i=(s=e.response)==null?void 0:s.data)==null?void 0:i.message);else if(((o=e.response)==null?void 0:o.status)===403&&((A=(l=e.response)==null?void 0:l.data)!=null&&A.subscriptionExpired)){console.warn("403 Forbidden - Subscription inactive/expired");const h=Date.now();h-rI>5e3&&(Ee.error("Subscription inactive or trial expired. Viewing is allowed, but actions are disabled. Please renew on the Subscription page."),rI=h)}else e.response||(console.error("Network error - please check your connection:",e.message),console.error("Connection failed - this may be a network connectivity issue"));const t=((u=e.response)==null?void 0:u.data)||{message:e.message};console.error("API Error (Axios Interceptor - Response Error):",JSON.stringify(t,null,2));const r=t.message||"An unexpected error occurred while processing your request";return Promise.reject(new Error(r))});const Re={login:async({username:e,password:t,libraryCode:r})=>{var n;try{const s=await lt.post("/auth/login",{username:e,password:t,libraryCode:r}),{message:i,user:o}=s.data;if(i==="Login successful"&&o)return console.log("Login successful, user:",o),localStorage.setItem("user",JSON.stringify(o)),o;throw new Error(i||"Login failed: Invalid response from server")}catch(s){throw console.error("Login error details:",((n=s.response)==null?void 0:n.data)||s.message),s instanceof Error?s:new Error("Login failed due to server error")}},logout:async()=>{var e;try{const t=await lt.get("/auth/logout");return console.log("Logout response:",t.data),localStorage.removeItem("user"),t.data}catch(t){throw console.error("Logout error:",((e=t.response)==null?void 0:e.data)||t.message),t}},checkAuthStatus:async()=>{var e,t;try{const r=await lt.get("/auth/status");return console.log("Auth status check:",r.data),r.data}catch(r){if(console.error("Auth status check failed:",((e=r.response)==null?void 0:e.data)||r.message),((t=r.response)==null?void 0:t.status)===401)return{isAuthenticated:!1,user:null};throw r}},getBranches:async()=>{var e,t,r;try{return(await lt.get("/branches")).data.branches}catch(n){throw console.error("[api.ts getBranches] Error:",n.message,JSON.stringify((e=n.response)==null?void 0:e.data,null,2)),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch branches")}},addBranch:async e=>(await lt.post("/branches",e)).data,updateBranch:async(e,t)=>(await lt.put(`/branches/${e}`,t)).data,deleteBranch:async e=>(await lt.delete(`/branches/${e}`)).data,getProducts:async()=>(await lt.get("/products")).data.products,addProduct:async e=>(await lt.post("/products",e)).data,updateProduct:async(e,t)=>(await lt.put(`/products/${e}`,t)).data,deleteProduct:async e=>(await lt.delete(`/products/${e}`)).data,getHostelBranches:async()=>{var e;try{return(await lt.get("/hostel/branches")).data.branches}catch(t){throw console.error("Error fetching hostel branches:",((e=t.response)==null?void 0:e.data)||t.message),t}},addHostelBranch:async e=>{try{return(await lt.post("/hostel/branches",e)).data.branch}catch(t){throw t}},updateHostelBranch:async(e,t)=>{try{return(await lt.put(`/hostel/branches/${e}`,t)).data.branch}catch(r){throw r}},deleteHostelBranch:async e=>{try{return(await lt.delete(`/hostel/branches/${e}`)).data}catch(t){throw t}},getHostelStudents:async e=>{try{const t={};return e&&(t.branchId=e),(await lt.get("/hostel/students",{params:t})).data.students}catch(t){throw t}},getHostelStudent:async e=>{try{return(await lt.get(`/hostel/students/${e}`)).data}catch(t){throw t}},addHostelStudent:async e=>{var t;try{return(await lt.post("/hostel/students",e)).data}catch(r){throw console.error("Error in api.ts addHostelStudent:",r.message,JSON.stringify((t=r.response)==null?void 0:t.data,null,2)),r}},updateHostelStudent:async(e,t)=>{try{return(await lt.put(`/hostel/students/${e}`,t)).data}catch(r){throw r}},deleteHostelStudent:async e=>{try{return(await lt.delete(`/hostel/students/${e}`)).data}catch(t){throw t}},uploadImage:async e=>{try{return(await lt.post("/upload-image",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw t}},getExpiredHostelStudents:async()=>{try{return(await lt.get("/hostel/students/meta/expired")).data}catch(e){throw e}},renewHostelStudent:async(e,t)=>{try{return(await lt.post(`/hostel/students/${e}/renew`,t)).data}catch(r){throw r}},getHostelCollections:async e=>{var t;try{const r={};return e!=null&&e.month&&(r.month=e.month),e!=null&&e.branchId&&(r.branchId=e.branchId),(await lt.get("/hostel/collections",{params:r})).data}catch(r){throw console.error("[api.ts getHostelCollections] Error:",r.message,JSON.stringify((t=r.response)==null?void 0:t.data,null,2)),r}},updateHostelCollectionPayment:async(e,t)=>{try{return(await lt.put(`/hostel/collections/${e}`,t)).data}catch(r){throw r}},getQueries:async()=>{var e,t,r;try{return(await lt.get("/queries")).data}catch(n){throw console.error("[api.ts getQueries] Error:",n.message,JSON.stringify((e=n.response)==null?void 0:e.data,null,2)),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch queries")}},getAllQueriesForAdmin:async()=>{var e,t;try{return(await lt.get("/queries/admin")).data}catch(r){throw console.error("Error fetching admin queries:",r),new Error(((t=(e=r.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to fetch admin queries")}},getQueryById:async e=>{var t,r,n;try{return(await lt.get(`/queries/${e}`)).data}catch(s){throw console.error("[api.ts getQueryById] Error:",s.message,JSON.stringify((t=s.response)==null?void 0:t.data,null,2)),new Error(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to fetch query details")}},postQuery:async e=>{var t,r,n;try{return(await lt.post("/queries",e)).data}catch(s){throw console.error("[api.ts postQuery] Error:",s.message,JSON.stringify((t=s.response)==null?void 0:t.data,null,2)),new Error(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||"Failed to post query")}},voteOnQuery:async(e,t)=>{var r,n,s;try{return(await lt.post(`/queries/${e}/vote`,{vote_type:t})).data}catch(i){throw console.error("[api.ts voteOnQuery] Error:",i.message,JSON.stringify((r=i.response)==null?void 0:r.data,null,2)),new Error(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to vote on query")}},updateQueryStatus:async(e,t)=>{var r,n,s;try{return(await lt.put(`/queries/${e}/status`,{status:t})).data}catch(i){throw console.error("[api.ts updateQueryStatus] Error:",i.message,JSON.stringify((r=i.response)==null?void 0:r.data,null,2)),new Error(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to update query status")}},postComment:async(e,t)=>{var r,n,s;try{return(await lt.post(`/queries/${e}/comments`,t)).data}catch(i){throw console.error("[api.ts postComment] Error:",i.message,JSON.stringify((r=i.response)==null?void 0:r.data,null,2)),new Error(((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||"Failed to post comment")}},getInactiveStudents:async()=>(await lt.get("/students/inactive")).data,updateStudentStatus:async(e,t)=>(await lt.put(`/students/${e}/status`,t)).data,getStudents:async(e,t,r)=>{const n={fromDate:e,toDate:t};return r&&(n.branchId=r),(await lt.get("/students",{params:n})).data},getStudent:async e=>(await lt.get(`/students/${e}`)).data,getActiveStudents:async e=>{const t={};return e&&(t.branchId=e),(await lt.get("/students/active",{params:t})).data},getExpiredMemberships:async e=>{const t={};return e&&(t.branchId=e),(await lt.get("/students/expired",{params:t})).data},getExpiringSoon:async(e,t)=>{const r={};return e&&(r.branchId=e),t&&(r.days=t),(await lt.get("/students/expiring-soon",{params:r})).data},getExpiringByRange:async(e,t,r)=>{const n={};return e&&(n.branchId=e),t!==void 0&&(n.fromDays=t),r!==void 0&&(n.toDays=r),(await lt.get("/students/expiring-by-range",{params:n})).data},getExpiringCounts:async e=>{const t={};return e&&(t.branchId=e),(await lt.get("/students/expiring-counts",{params:t})).data},getTotalStudentsCount:async e=>(await Re.getStudents(void 0,void 0,e)).students.length,getActiveStudentsCount:async e=>(await Re.getActiveStudents(e)).students.length,getExpiredMembershipsCount:async e=>(await Re.getExpiredMemberships(e)).students.length,addStudent:async e=>{var t,r;try{const n={...e,cash:e.cash??0,online:e.online??0,securityMoney:e.securityMoney??0,remark:e.remark??null,profileImageUrl:e.profileImageUrl??null,aadhaarFrontUrl:e.aadhaarFrontUrl??null,aadhaarBackUrl:e.aadhaarBackUrl??null};console.log("[api.ts addStudent] Sending student data:",JSON.stringify(n,null,2));const s=await lt.post("/students",n);return console.log("[api.ts addStudent] Response received:",JSON.stringify(s.data,null,2)),s.data}catch(n){throw console.error("[api.ts addStudent] Error:",{message:n.message,response:(t=n.response)==null?void 0:t.data,status:(r=n.response)==null?void 0:r.status}),n}},updateStudent:async(e,t)=>(await lt.put(`/students/${e}`,t)).data,deleteStudent:async e=>(await lt.delete(`/students/${e}`)).data,renewStudent:async(e,t)=>(await lt.post(`/students/${e}/renew`,t)).data,getDashboardStats:async e=>(await lt.get("/students/stats/dashboard",{params:e})).data,getSchedules:async(e=null)=>{const t={};e!=null?(t.branch_id=e,console.log("Fetching schedules for branch ID:",e)):console.log("Fetching schedules for all branches");try{const r=await lt.get("/schedules/with-students",{params:t});console.log("API Response:",r);let n=[];return Array.isArray(r.data)?(console.log("Received array response with",r.data.length,"schedules"),n=r.data):r.data&&Array.isArray(r.data.schedules)?(console.log("Received object response with",r.data.schedules.length,"schedules"),n=r.data.schedules):console.warn("Unexpected API response format, defaulting to empty array:",r.data),{schedules:n}}catch(r){throw console.error("Error in getSchedules:",r),r}},getSchedule:async e=>(await lt.get(`/schedules/${e}`)).data,getSchedulesWithStudents:async()=>{var e;try{return(await lt.get("/schedules/with-students")).data}catch(t){throw console.error("Error fetching schedules with students:",((e=t.response)==null?void 0:e.data)||t.message),t}},addSchedule:async e=>(await lt.post("/schedules",e)).data,updateSchedule:async(e,t)=>(await lt.put(`/schedules/${e}`,t)).data,deleteSchedule:async e=>(await lt.delete(`/schedules/${e}`)).data,getUserProfile:async()=>{var e;try{return(await lt.get("/users/profile")).data}catch(t){throw console.error("Error fetching user profile:",((e=t.response)==null?void 0:e.data)||t.message),t}},updateUserProfile:async e=>{var t;try{return(await lt.put("/users/profile",e)).data}catch(r){throw console.error("Error updating user profile:",((t=r.response)==null?void 0:t.data)||r.message),r}},addUser:async e=>{var t;try{return(await lt.post("/users",e)).data}catch(r){throw console.error("Error adding user:",((t=r.response)==null?void 0:t.data)||r.message),r}},getAllUsers:async()=>{var e;try{return(await lt.get("/users")).data}catch(t){throw console.error("Error fetching users:",((e=t.response)==null?void 0:e.data)||t.message),t}},deleteUser:async e=>{var t;try{return(await lt.delete(`/users/${e}`)).data}catch(r){throw console.error("Error deleting user:",((t=r.response)==null?void 0:t.data)||r.message),r}},changeUserPassword:async e=>{var t;try{return(await lt.put("/users/profile",e)).data}catch(r){throw console.error("Error changing password:",((t=r.response)==null?void 0:t.data)||r.message),r}},getStudentsByShift:async(e,t)=>(await lt.get(`/students/shift/${e}`,{params:t})).data,getSeats:async e=>(await lt.get("/seats",{params:e})).data,addSeats:async e=>(await lt.post("/seats",e)).data,deleteSeat:async e=>(await lt.delete(`/seats/${e}`)).data,getSeatAssignments:async e=>{var t;try{return(await lt.get(`/seats/${e}/assignments`)).data}catch(r){throw console.error("Error fetching seat assignments:",((t=r.response)==null?void 0:t.data)||r.message),r}},getAvailableShifts:async e=>{var t,r;try{return(await lt.get(`/seats/${e}/all-shifts-status`)).data}catch(n){throw console.error(`Error fetching shifts status for seat ${e}:`,n.message),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch shifts status")}},getSettings:async()=>{var e;try{return(await lt.get("/settings")).data}catch(t){throw console.error("Error fetching settings:",((e=t.response)==null?void 0:e.data)||t.message),t}},updateSettings:async e=>{var t;try{return(await lt.put("/settings",e)).data}catch(r){throw console.error("Error updating settings:",((t=r.response)==null?void 0:t.data)||r.message),r}},getTransactions:async()=>{var e;try{return(await lt.get("/transactions")).data}catch(t){throw console.error("Error fetching transactions:",((e=t.response)==null?void 0:e.data)||t.message),t}},addTransaction:async e=>{var t;try{return(await lt.post("/transactions",e)).data}catch(r){throw console.error("Error adding transaction:",((t=r.response)==null?void 0:t.data)||r.message),r}},updateTransaction:async(e,t)=>{var r;try{return(await lt.put(`/transactions/${e}`,t)).data}catch(n){throw console.error("Error updating transaction:",((r=n.response)==null?void 0:r.data)||n.message),n}},deleteTransaction:async e=>{var t;try{return(await lt.delete(`/transactions/${e}`)).data}catch(r){throw console.error("Error deleting transaction:",((t=r.response)==null?void 0:t.data)||r.message),r}},getCollections:async(e={})=>(await lt.get("/collections",{params:e})).data,getCollectionStats:async(e={})=>(await lt.get("/collections/stats",{params:e})).data,updateCollectionPayment:async(e,t)=>{const{amount:r,method:n}=t;return(await lt.put(`/collections/${e}`,{paymentAmount:r,paymentMethod:n})).data},getExpenses:async e=>{const t={};return e&&(t.branchId=e),(await lt.get("/expenses",{params:t})).data},addExpense:async e=>(await lt.post("/expenses",e)).data,updateExpense:async(e,t)=>(await lt.put(`/expenses/${e}`,t)).data,deleteExpense:async e=>(await lt.delete(`/expenses/${e}`)).data,getProfitLoss:async e=>(await lt.get("/reports/profit-loss",{params:e})).data,getMonthlyCollections:async e=>(await lt.get("/reports/monthly-collections",{params:{month:e}})).data,getLockers:async e=>{const t={};return e&&(t.branchId=e),(await lt.get("/lockers",{params:t})).data},addLockers:async e=>(await lt.post("/lockers",{lockerNumbers:e})).data,createLocker:async e=>(await lt.post("/lockers",e)).data,updateLocker:async(e,t)=>(await lt.put(`/lockers/${e}`,t)).data,deleteLocker:async e=>(await lt.delete(`/lockers/${e}`)).data,assignLocker:async(e,t)=>(await lt.put(`/lockers/${e}/assign`,t)).data,fetchAttendance:async(e={})=>{var t,r;try{const n={...e,includeMembership:!0},s=await lt.get("/owner-dashboard/attendance",{params:n}),i=s.data.attendance.map(o=>({...o,membershipStatus:o.membershipStatus||"inactive",membershipEndDate:o.membershipEndDate||null,hasDueAmount:o.hasDueAmount||!1,dueAmount:o.dueAmount||0}));return{...s.data,attendance:i}}catch(n){throw console.error("[api.ts fetchAttendance] Error:",n.message),new Error(((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch attendance")}},getLibraryProfile:async()=>(await lt.get("/owner-dashboard/profile")).data,getStudentProfile:async()=>(await lt.get("/student-auth/profile")).data,markAttendanceWithQR:async e=>{try{const t=typeof e=="string"?JSON.parse(e):e,r=Wn.create(),n={qrData:t,notes:"Scanned via mobile app"};return console.log("Sending QR attendance data:",n),(await r.post(`${BS}/student-auth/attendance/qr`,n,{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")?`Bearer ${localStorage.getItem("token")}`:""},withCredentials:!0})).data}catch(t){throw console.error("Error in markAttendanceWithQR:",t),t.response&&console.error("Server responded with:",t.response.data),new Error("Failed to mark attendance. Please try again.")}},getStudentAttendanceHistory:async(e={})=>(await lt.get("/student-auth/attendance",{params:e})).data,getAnnouncements:async e=>(await lt.get("/announcements",{params:e})).data,getStudentMembershipHistory:async()=>(await lt.get("/student-auth/membership-history")).data,getStudentTransactions:()=>lt.get("/student-auth/transactions").then(e=>e.data),getAttendanceStatus:()=>lt.get("/student-auth/attendance/status").then(e=>e.data),toggleAttendance:e=>lt.post("/student-auth/attendance/toggle",{notes:e}).then(t=>t.data),createAnnouncement:e=>lt.post("/announcements",Bg(e)).then(t=>t.data),updateAnnouncement:(e,t)=>lt.put(`/announcements/${e}`,Bg(t)).then(r=>r.data),deleteAnnouncement:e=>lt.delete(`/announcements/${e}`).then(t=>t.data),getOwnerProfile:async()=>{const e=await lt.get("/settings/owner/profile");return Ng(e.data)},updateOwnerProfile:async e=>{const t=await lt.put("/settings/owner/profile",e);return Ng(t.data)},changeOwnerPassword:async e=>(await lt.put("/settings/owner/password",e)).data,updateUserPermissions:async(e,t)=>{var r;try{return(await lt.put(`/users/${e}/permissions`,{permissions:t})).data}catch(n){throw console.error("Error updating user permissions:",((r=n.response)==null?void 0:r.data)||n.message),n}}},RO=C.createContext({isAuthenticated:!1,user:null,login:()=>{},logout:async()=>{},refreshUser:async()=>{},isLoading:!1}),Lee=({children:e})=>{const[t,r]=C.useState(null),[n,s]=C.useState(!0),i=async()=>{var A,u,h;try{const w=(A=(await Wn.get("/api/auth/refresh",{withCredentials:!0})).data)==null?void 0:A.user;w?(w.permissions=w.permissions||[],r(w),console.log("[AuthContext] Session refreshed:",w)):console.warn("[AuthContext] No user data in refresh response")}catch(m){console.error("[AuthContext] Failed to refresh session:",m),(((u=m.response)==null?void 0:u.status)===401||((h=m.response)==null?void 0:h.status)===403)&&(console.log("[AuthContext] Authentication failed, logging out"),r(null))}};C.useEffect(()=>{const A=async h=>{h&&s(!0);try{const m=await Ta("/owner-auth/status");if(m.ok){const b=await m.json();if(b.isAuthenticated&&b.owner){let N={};try{const y=await Ta("/subscriptions/status");if(y.ok){const B=await y.json();N={is_trial:B.subscription.isTrial,subscription_end_date:B.subscription.endDate,subscription_plan:B.subscription.plan,is_subscription_active:B.subscription.isActive}}}catch(y){console.warn("[AuthContext] Failed to fetch subscription info:",y)}const j={id:b.owner.id.toString(),username:b.owner.ownerName,role:"admin",permissions:["view_dashboard","manage_students","manage_memberships","view_reports","manage_seats","manage_shifts","manage_hostel","manage_transactions","manage_expenses","manage_products","manage_lockers_or_staff","manage_branches","manage_users"],libraryId:b.owner.id,libraryCode:b.owner.libraryCode,isOwner:!0,...N};r(j);return}}const w=await Re.checkAuthStatus();if(w&&w.isAuthenticated&&w.user){const b={...w.user,permissions:w.user.permissions||[]};r(b);return}const p=await Ta("/student-auth/status");if(p.ok){const b=await p.json();if(b.isAuthenticated&&b.student){const N={id:b.student.id.toString(),username:b.student.name,role:"student",permissions:[],libraryId:b.student.library_id};r(N);return}}r(null)}catch(m){console.error("Error during auth check:",m),r(null)}finally{h&&s(!1)}};A(!0);const u=setInterval(()=>A(!1),3e4);return()=>clearInterval(u)},[]);const o=A=>{A.permissions=A.permissions||[],r(A),s(!1)},l=async()=>{s(!0);try{t&&t.isOwner?await Ta("/owner-auth/logout",{method:"POST"}):await Re.logout(),r(null),window.location.href="/#/"}catch(A){console.error("Logout failed:",A)}finally{s(!1)}};return a.jsx(RO.Provider,{value:{isAuthenticated:!!t,user:t,login:o,logout:l,refreshUser:i,isLoading:n},children:e})},ga=()=>C.useContext(RO);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MO=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oee=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},A)=>C.createElement("svg",{ref:A,...Dee,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:MO("lucide",s),...l},[...o.map(([u,h])=>C.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(e,t)=>{const r=C.forwardRef(({className:n,...s},i)=>C.createElement(Oee,{ref:i,iconNode:t,className:MO(`lucide-${Pee(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=ft("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=ft("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=ft("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=ft("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=ft("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ft("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=ft("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=ft("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ft("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=ft("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=ft("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=ft("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ft("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=ft("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ft("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=ft("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=ft("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=ft("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=ft("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=ft("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=ft("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=ft("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=ft("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=ft("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=ft("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ft("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=ft("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=ft("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ft("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=ft("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=ft("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=ft("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=ft("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=ft("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=ft("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=ft("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ft("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=ft("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ft("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=ft("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=ft("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=ft("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=ft("PanelTop",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ft("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=ft("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ft("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=ft("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=ft("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=ft("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=ft("Rows3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=ft("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=ft("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ft("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=ft("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=ft("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=ft("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=ft("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=ft("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=ft("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=ft("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=ft("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=ft("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=ft("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=ft("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=ft("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=ft("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ft("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=ft("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=ft("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=ft("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=ft("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=ft("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=ft("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=ft("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),IN=""+new URL("logo-B0DErw8i.jpg",import.meta.url).href,Fs=()=>{const{user:e,logout:t}=ga(),r=Ur(),s=(()=>{if(e!=null&&e.subscription_end_date){const A=new Date(e.subscription_end_date),u=new Date,h=A.getTime()-u.getTime(),m=Math.ceil(h/(1e3*3600*24));return m>0?m:0}return null})(),o=e!=null&&e.subscription_plan?{free_trial:"Free Trial","1_month":"Monthly Plan","3_month":"Quarterly Plan","6_month":"Half-Yearly Plan","9_month":"Nine-Month Plan","12_month":"Annual Plan"}[e.subscription_plan]||e.subscription_plan:"No Plan",l=()=>{t(),r("/login")};return a.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-slate-50 via-white to-indigo-50",children:[(e==null?void 0:e.is_trial)&&s!==null&&s>0&&a.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 text-center text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(rte,{className:"h-4 w-4"}),a.jsxs("span",{children:[o," Active - ",s," Days Left"]})]})}),(e==null?void 0:e.is_subscription_active)&&!(e!=null&&e.is_trial)&&a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white px-4 py-2 text-center text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(Mee,{className:"h-4 w-4"}),a.jsxs("span",{children:[o," Active"]})]})}),!(e!=null&&e.is_subscription_active)&&!(e!=null&&e.is_trial)&&(e==null?void 0:e.role)==="admin"&&a.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 text-center text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(nI,{className:"h-4 w-4"}),a.jsx("span",{children:"No Active Subscription -"}),a.jsx("a",{href:"/subscription-plans",className:"underline font-semibold hover:text-yellow-200 transition-colors",children:"Subscribe Now"})]})}),a.jsxs("div",{className:"flex items-center justify-between py-3 px-6 bg-white border-b border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-2 rounded-xl shadow-lg",children:a.jsx("img",{src:IN,alt:"HAVENN Logo",className:"h-6 w-6 rounded object-cover"})}),a.jsxs("div",{className:"hidden md:block",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"HAVENN"}),a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Library Management"})]})]}),a.jsx("div",{className:"flex-1 max-w-md mx-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 bg-gray-50 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{className:"p-2 rounded-lg hover:bg-gray-100 transition-colors relative",children:[a.jsx(nI,{className:"h-5 w-5 text-gray-600"}),a.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-red-500 rounded-full"})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-2 hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center text-white font-bold text-sm",children:e&&e.username?e.username.charAt(0).toUpperCase():"U"}),a.jsxs("div",{className:"hidden md:block",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:(e==null?void 0:e.username)||"User"}),a.jsxs("button",{onClick:l,className:"flex items-center text-xs text-gray-500 hover:text-gray-700 font-medium transition-colors",children:[a.jsx(FS,{className:"h-3 w-3 mr-1"}),"Sign out"]})]})]})]})]})]})};var OS={};OS.match=ute;OS.parse=GO;var ite=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,ote=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,lte=/^(?:(min|max)-)?(.+)/,cte=/(em|rem|px|cm|mm|in|pt|pc)?$/,Ate=/(dpi|dpcm|dppx)?$/;function ute(e,t){return GO(e).some(function(r){var n=r.inverse,s=r.type==="all"||t.type===r.type;if(s&&n||!(s||n))return!1;var i=r.expressions.every(function(o){var l=o.feature,A=o.modifier,u=o.value,h=t[l];if(!h)return!1;switch(l){case"orientation":case"scan":return h.toLowerCase()===u.toLowerCase();case"width":case"height":case"device-width":case"device-height":u=dI(u),h=dI(h);break;case"resolution":u=uI(u),h=uI(h);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":u=AI(u),h=AI(h);break;case"grid":case"color":case"color-index":case"monochrome":u=parseInt(u,10)||1,h=parseInt(h,10)||0;break}switch(A){case"min":return h>=u;case"max":return h<=u;default:return h===u}});return i&&!n||!i&&n})}function GO(e){return e.split(",").map(function(t){t=t.trim();var r=t.match(ite),n=r[1],s=r[2],i=r[3]||"",o={};return o.inverse=!!n&&n.toLowerCase()==="not",o.type=s?s.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],o.expressions=i.map(function(l){var A=l.match(ote),u=A[1].toLowerCase().match(lte);return{modifier:u[1],feature:u[2],value:A[2]}}),o})}function AI(e){var t=Number(e),r;return t||(r=e.match(/^(\d+)\s*\/\s*(\d+)$/),t=r[1]/r[2]),t}function uI(e){var t=parseFloat(e),r=String(e).match(Ate)[1];switch(r){case"dpcm":return t/2.54;case"dppx":return t*96;default:return t}}function dI(e){var t=parseFloat(e),r=String(e).match(cte)[1];switch(r){case"em":return t*16;case"rem":return t*16;case"cm":return t*96/2.54;case"mm":return t*96/2.54/10;case"in":return t*96;case"pt":return t*72;case"pc":return t*72/12;default:return t}}var dte=OS.match,hI=typeof window<"u"?window.matchMedia:null;function hte(e,t,r){var n=this,s;hI&&!r&&(s=hI.call(window,e)),s?(this.matches=s.matches,this.media=s.media,s.addListener(l)):(this.matches=dte(e,t),this.media=e),this.addListener=i,this.removeListener=o,this.dispose=A;function i(u){s&&s.addListener(u)}function o(u){s&&s.removeListener(u)}function l(u){n.matches=u.matches,n.media=u.media}function A(){s&&s.removeListener(l)}}function fte(e,t,r){return new hte(e,t,r)}var mte=fte;const pte=n1(mte);var gte=/[A-Z]/g,xte=/^ms-/,o5={};function wte(e){return"-"+e.toLowerCase()}function zO(e){if(o5.hasOwnProperty(e))return o5[e];var t=e.replace(gte,wte);return o5[e]=xte.test(t)?"-"+t:t}function yte(e,t){if(e===t)return!0;if(!e||!t)return!1;const r=Object.keys(e),n=Object.keys(t),s=r.length;if(n.length!==s)return!1;for(let i=0;i<s;i++){const o=r[i];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}var $O={exports:{}},vte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bte=vte,Cte=bte;function qO(){}function XO(){}XO.resetWarningCache=qO;var Nte=function(){function e(n,s,i,o,l,A){if(A!==Cte){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:XO,resetWarningCache:qO};return r.PropTypes=r,r};$O.exports=Nte();var Bte=$O.exports;const mn=n1(Bte),xi=mn.oneOfType([mn.string,mn.number]),RS={all:mn.bool,grid:mn.bool,aural:mn.bool,braille:mn.bool,handheld:mn.bool,print:mn.bool,projection:mn.bool,screen:mn.bool,tty:mn.bool,tv:mn.bool,embossed:mn.bool},YO={orientation:mn.oneOf(["portrait","landscape"]),scan:mn.oneOf(["progressive","interlace"]),aspectRatio:mn.string,deviceAspectRatio:mn.string,height:xi,deviceHeight:xi,width:xi,deviceWidth:xi,color:mn.bool,colorIndex:mn.bool,monochrome:mn.bool,resolution:xi,type:Object.keys(RS)},{type:K4e,...Ste}=YO,ZO={minAspectRatio:mn.string,maxAspectRatio:mn.string,minDeviceAspectRatio:mn.string,maxDeviceAspectRatio:mn.string,minHeight:xi,maxHeight:xi,minDeviceHeight:xi,maxDeviceHeight:xi,minWidth:xi,maxWidth:xi,minDeviceWidth:xi,maxDeviceWidth:xi,minColor:mn.number,maxColor:mn.number,minColorIndex:mn.number,maxColorIndex:mn.number,minMonochrome:mn.number,maxMonochrome:mn.number,minResolution:xi,maxResolution:xi,...Ste},Ete={...RS,...ZO};var jte={all:Ete,types:RS,matchers:YO,features:ZO};const Ite=e=>`not ${e}`,Fte=(e,t)=>{const r=zO(e);return typeof t=="number"&&(t=`${t}px`),t===!0?r:t===!1?Ite(r):`(${r}: ${t})`},kte=e=>e.join(" and "),_te=e=>{const t=[];return Object.keys(jte.all).forEach(r=>{const n=e[r];n!=null&&t.push(Fte(r,n))}),kte(t)},Tte=C.createContext(void 0),Lte=e=>e.query||_te(e),fI=e=>e?Object.keys(e).reduce((r,n)=>(r[zO(n)]=e[n],r),{}):void 0,JO=()=>{const e=C.useRef(!1);return C.useEffect(()=>{e.current=!0},[]),e.current},Pte=e=>{const t=C.useContext(Tte),r=()=>fI(e)||fI(t),[n,s]=C.useState(r);return C.useEffect(()=>{const i=r();yte(n,i)||s(i)},[e,t]),n},Dte=e=>{const t=()=>Lte(e),[r,n]=C.useState(t);return C.useEffect(()=>{const s=t();r!==s&&n(s)},[e]),r},Ote=(e,t)=>{const r=()=>pte(e,t||{},!!t),[n,s]=C.useState(r),i=JO();return C.useEffect(()=>{if(i){const o=r();return s(o),()=>{o&&o.dispose()}}},[e,t]),n},Rte=e=>{const[t,r]=C.useState(e.matches);return C.useEffect(()=>{const n=s=>{r(s.matches)};return e.addListener(n),r(e.matches),()=>{e.removeListener(n)}},[e]),t},Mte=(e,t,r)=>{const n=Pte(t),s=Dte(e);if(!s)throw new Error("Invalid or missing MediaQuery!");const i=Ote(s,n),o=Rte(i),l=JO();return C.useEffect(()=>{l&&r&&r(o)},[o]),C.useEffect(()=>()=>{i&&i.dispose()},[]),o},Ute=(e,t)=>!e||!e.permissions?!1:e.role==="admin"?!0:t==="manage_lockers_or_staff"?e.role==="admin"||e.role==="staff":e.permissions.includes(t),wn=({isCollapsed:e,setIsCollapsed:t,onBarcodeClick:r})=>{const{user:n}=ga(),s=ul(),i=Ur(),[o,l]=C.useState(!1),[A,u]=C.useState(!1),[h,m]=C.useState(!1),w=Mte({query:"(max-width: 767px)"}),p=e,b=y=>y==="/"?s.pathname==="/":s.pathname.startsWith(y),N=[{path:"/dashboard",icon:jS,label:"Dashboard",permission:null,iconBg:"bg-gradient-to-r from-indigo-100 to-indigo-200",iconBgHover:"group-hover:from-indigo-200 group-hover:to-indigo-300",iconActive:"from-indigo-300 to-indigo-400",iconColor:"text-indigo-600",iconColorHover:"group-hover:text-indigo-700",iconColorActive:"text-indigo-800"},{path:"/students",icon:KO,label:"Library Students",hasDropdown:!0,permission:"manage_library_students",iconBg:"bg-gradient-to-r from-violet-100 to-violet-200",iconBgHover:"group-hover:from-violet-200 group-hover:to-violet-300",iconActive:"from-violet-300 to-violet-400",iconColor:"text-violet-600",iconColorHover:"group-hover:text-violet-700",iconColorActive:"text-violet-800"},{path:"/attendance",icon:ci,label:"Attendance",permission:"manage_library_students",iconBg:"bg-gradient-to-r from-cyan-100 to-cyan-200",iconBgHover:"group-hover:from-cyan-200 group-hover:to-cyan-300",iconActive:"from-cyan-300 to-cyan-400",iconColor:"text-cyan-600",iconColorHover:"group-hover:text-cyan-700",iconColorActive:"text-cyan-800"},{path:"#",icon:IA,label:"Barcode Scanner",permission:"manage_library_students",onClick:r,iconBg:"bg-gradient-to-r from-emerald-100 to-emerald-200",iconBgHover:"group-hover:from-emerald-200 group-hover:to-emerald-300",iconActive:"from-emerald-300 to-emerald-400",iconColor:"text-emerald-600",iconColorHover:"group-hover:text-emerald-700",iconColorActive:"text-emerald-800"},{path:"/announcements",icon:Jh,label:"Announcements",permission:"manage_library_students",iconBg:"bg-gradient-to-r from-amber-100 to-amber-200",iconBgHover:"group-hover:from-amber-200 group-hover:to-amber-300",iconActive:"from-amber-300 to-amber-400",iconColor:"text-amber-600",iconColorHover:"group-hover:text-amber-700",iconColorActive:"text-amber-800"},{path:"/admission-requests",icon:nte,label:"Admission Requests",permission:"manage_library_students",iconBg:"bg-gradient-to-r from-blue-100 to-blue-200",iconBgHover:"group-hover:from-blue-200 group-hover:to-blue-300",iconActive:"from-blue-300 to-blue-400",iconColor:"text-blue-600",iconColorHover:"group-hover:text-blue-700",iconColorActive:"text-blue-800"},{path:"/admin/queries",icon:Jee,label:"Admin Queries",permission:"admin_only",iconBg:"bg-gradient-to-r from-rose-100 to-rose-200",iconBgHover:"group-hover:from-rose-200 group-hover:to-rose-300",iconActive:"from-rose-300 to-rose-400",iconColor:"text-rose-600",iconColorHover:"group-hover:text-rose-700",iconColorActive:"text-rose-800"},{path:"/schedule",icon:qs,label:"Schedule",permission:"manage_schedules",iconBg:"bg-gradient-to-r from-sky-100 to-sky-200",iconBgHover:"group-hover:from-sky-200 group-hover:to-sky-300",iconActive:"from-sky-300 to-sky-400",iconColor:"text-sky-600",iconColorHover:"group-hover:text-sky-700",iconColorActive:"text-sky-800"},{path:"/shifts",icon:Zn,label:"Shifts",permission:"manage_schedules",iconBg:"bg-gradient-to-r from-teal-100 to-teal-200",iconBgHover:"group-hover:from-teal-200 group-hover:to-teal-300",iconActive:"from-teal-300 to-teal-400",iconColor:"text-teal-600",iconColorHover:"group-hover:text-teal-700",iconColorActive:"text-teal-800"},{path:"/seats",icon:UA,label:"Seats",permission:"manage_seats",iconBg:"bg-gradient-to-r from-purple-100 to-purple-200",iconBgHover:"group-hover:from-purple-200 group-hover:to-purple-300",iconActive:"from-purple-300 to-purple-400",iconColor:"text-purple-600",iconColorHover:"group-hover:text-purple-700",iconColorActive:"text-purple-800"},{path:"/branches",icon:Rl,label:"Manage Branches",permission:"manage_branches",iconBg:"bg-gradient-to-r from-fuchsia-100 to-fuchsia-200",iconBgHover:"group-hover:from-fuchsia-200 group-hover:to-fuchsia-300",iconActive:"from-fuchsia-300 to-fuchsia-400",iconColor:"text-fuchsia-600",iconColorHover:"group-hover:text-fuchsia-700",iconColorActive:"text-fuchsia-800"},{path:"/products",icon:qee,label:"Products",permission:"manage_products",iconBg:"bg-gradient-to-r from-pink-100 to-pink-200",iconBgHover:"group-hover:from-pink-200 group-hover:to-pink-300",iconActive:"from-pink-300 to-pink-400",iconColor:"text-pink-600",iconColorHover:"group-hover:text-pink-700",iconColorActive:"text-pink-800"},{path:"/transactions",icon:Eg,label:"Transactions",permission:"view_transactions",iconBg:"bg-gradient-to-r from-green-100 to-green-200",iconBgHover:"group-hover:from-green-200 group-hover:to-green-300",iconActive:"from-green-300 to-green-400",iconColor:"text-green-600",iconColorHover:"group-hover:text-green-700",iconColorActive:"text-green-800"},{path:"/collections",icon:Pw,label:"Collection & Due",permission:"view_collections",iconBg:"bg-gradient-to-r from-emerald-100 to-emerald-200",iconBgHover:"group-hover:from-emerald-200 group-hover:to-emerald-300",iconActive:"from-emerald-300 to-emerald-400",iconColor:"text-emerald-600",iconColorHover:"group-hover:text-emerald-700",iconColorActive:"text-emerald-800"},{path:"/expenses",icon:ete,label:"Expenses",permission:"manage_expenses",iconBg:"bg-gradient-to-r from-orange-100 to-orange-200",iconBgHover:"group-hover:from-orange-200 group-hover:to-orange-300",iconActive:"from-orange-300 to-orange-400",iconColor:"text-orange-600",iconColorHover:"group-hover:text-orange-700",iconColorActive:"text-orange-800"},{path:"/profit-loss",icon:Kee,label:"Profit & Loss",permission:"view_reports",iconBg:"bg-gradient-to-r from-indigo-100 to-indigo-200",iconBgHover:"group-hover:from-indigo-200 group-hover:to-indigo-300",iconActive:"from-indigo-300 to-indigo-400",iconColor:"text-indigo-600",iconColorHover:"group-hover:text-indigo-700",iconColorActive:"text-indigo-800"},{path:"/lockers",icon:Ree,label:"Lockers",permission:"manage_lockers_or_staff",iconBg:"bg-gradient-to-r from-slate-100 to-slate-200",iconBgHover:"group-hover:from-slate-200 group-hover:to-slate-300",iconActive:"from-slate-300 to-slate-400",iconColor:"text-slate-600",iconColorHover:"group-hover:text-slate-700",iconColorActive:"text-slate-800"},{path:"/settings",icon:TS,label:"Settings",permission:"admin_only",iconBg:"bg-gradient-to-r from-gray-100 to-gray-200",iconBgHover:"group-hover:from-gray-200 group-hover:to-gray-300",iconActive:"from-gray-300 to-gray-400",iconColor:"text-gray-600",iconColorHover:"group-hover:text-gray-700",iconColorActive:"text-gray-800"},{path:"/subscription",icon:QO,label:"Subscription",permission:"admin_only",iconBg:"bg-gradient-to-r from-violet-100 to-violet-200",iconBgHover:"group-hover:from-violet-200 group-hover:to-violet-300",iconActive:"from-violet-300 to-violet-400",iconColor:"text-violet-600",iconColorHover:"group-hover:text-violet-700",iconColorActive:"text-violet-800"}],j=()=>{i("/"),w&&m(!1)};return a.jsxs(a.Fragment,{children:[w&&a.jsx("button",{className:"fixed top-4 left-4 z-50 md:hidden p-2 rounded-md bg-white shadow-md",onClick:()=>m(!0),children:a.jsx($ee,{size:24})}),w&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>m(!1)}),a.jsxs("div",{className:`h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 border-r-2 border-purple-200 flex flex-col min-h-0 transition-all duration-300 shadow-2xl ${w?h?"fixed top-0 left-0 z-50 w-64":"hidden":p?"w-16":"w-64"}`,children:[a.jsxs("div",{className:"p-4 flex items-center justify-between bg-white border-b border-gray-200",children:[!p&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-2 rounded-xl shadow-lg",children:a.jsx("img",{src:IN,alt:"HAVENN Logo",className:"h-6 w-6 rounded object-cover"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-gray-800",children:"HAVENN"}),a.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Library Management"})]})]}),p&&a.jsx("div",{className:"flex justify-center w-full",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-2 rounded-xl shadow-lg",children:a.jsx("img",{src:IN,alt:"HAVENN Logo",className:"h-5 w-5 rounded object-cover"})})}),w?a.jsx("button",{onClick:()=>m(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(Xl,{size:18,className:"text-gray-600"})}):!p&&a.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(gr,{size:18,className:"text-gray-600"})})]}),!w&&a.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:a.jsxs("button",{onClick:()=>t(!e),className:"w-full flex items-center justify-center p-2 rounded-lg hover:bg-gray-100 transition-colors text-gray-600",title:p?"Expand Sidebar":"Collapse Sidebar",children:[a.jsx(gr,{size:18,className:`transition-transform ${p?"rotate-180":""}`}),!p&&a.jsx("span",{className:"ml-2 text-sm font-medium",children:"Collapse"})]})}),a.jsx("nav",{className:"flex-1 px-2 py-4 overflow-y-auto",children:a.jsx("ul",{className:"space-y-1",children:N.map(y=>{let B=!1;return y.permission===null?B=!0:y.permission==="admin_only"?B=(n==null?void 0:n.role)==="admin":B=Ute(n,y.permission),B?a.jsxs("li",{children:[y.onClick?a.jsxs("button",{onClick:()=>{console.log("Barcode button clicked!",y.label),y.onClick?(console.log("Calling onClick handler"),y.onClick()):console.log("No onClick handler found"),w&&m(!1)},className:`group flex items-center w-full text-left py-3 px-4 rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg ${p?"justify-center":""} ${b(y.path)?"bg-gradient-to-r from-indigo-200 to-indigo-300 text-indigo-800 shadow-xl":"text-gray-700 hover:bg-gradient-to-r hover:from-gray-100 hover:to-gray-200"}`,children:[a.jsx("span",{className:`${p?"":"mr-4"}`,children:a.jsx("span",{className:`inline-flex items-center justify-center p-2 rounded-xl shadow-md transition-all duration-300 ${b(y.path)?`bg-gradient-to-r ${y.iconActive} ${y.iconColorActive}`:`${y.iconBg} ${y.iconBgHover} ${y.iconColor} ${y.iconColorHover}`}`,children:(()=>{const I=y.icon;return a.jsx(I,{size:20,className:"transition-all duration-300"})})()})}),!p&&a.jsx("span",{className:"font-bold text-sm tracking-wide",children:y.label})]}):a.jsxs(Tt,{to:y.path,onClick:I=>{y.hasDropdown&&!p?(I.preventDefault(),y.label==="Library Students"?l(!o):y.label==="Hostel Students"&&u(!A)):w&&m(!1)},className:`group flex items-center py-3 px-4 rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg ${p?"justify-center":""} ${b(y.path)?"bg-gradient-to-r from-indigo-200 to-indigo-300 text-indigo-800 shadow-xl":"text-gray-700 hover:bg-gradient-to-r hover:from-gray-100 hover:to-gray-200"}`,children:[a.jsx("span",{className:`${p?"":"mr-4"}`,children:a.jsx("span",{className:`inline-flex items-center justify-center p-2 rounded-xl shadow-md transition-all duration-300 ${b(y.path)?`bg-gradient-to-r ${y.iconActive} ${y.iconColorActive}`:`${y.iconBg} ${y.iconBgHover} ${y.iconColor} ${y.iconColorHover}`}`,children:(()=>{const I=y.icon;return a.jsx(I,{size:20,className:"transition-all duration-300"})})()})}),!p&&a.jsxs("div",{className:"flex justify-between items-center w-full",children:[a.jsx("span",{className:"font-bold text-sm tracking-wide",children:y.label}),y.hasDropdown&&a.jsx(gr,{size:16,className:`transition-transform ${y.label==="Library Students"&&o||y.label==="Hostel Students"&&A?"rotate-90":""}`})]})]}),!p&&y.hasDropdown&&o&&y.label==="Library Students"&&a.jsxs("div",{className:"ml-8 mt-1 space-y-1 animate-fade-in",children:[a.jsx(Tt,{to:"/students/add",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/students/add")?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-slate-100"}`,onClick:()=>w&&m(!1),children:"Add Student"}),a.jsx(Tt,{to:"/students",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/students")&&s.pathname.split("/").length===2?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-slate-100"}`,onClick:()=>w&&m(!1),children:"View All"}),a.jsxs(Tt,{to:"/active-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/active-students")?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-slate-100"}`,onClick:()=>w&&m(!1),children:[a.jsx(ji,{size:14,className:"mr-1.5"}),"Active Students"]}),a.jsxs(Tt,{to:"/expired-memberships",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/expired-memberships")?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-slate-100"}`,onClick:()=>w&&m(!1),children:[a.jsx(ta,{size:14,className:"mr-1.5"}),"Expired Members"]}),a.jsxs(Tt,{to:"/inactive-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/inactive-students")?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-slate-100"}`,onClick:()=>w&&m(!1),children:[a.jsx(EN,{size:14,className:"mr-1.5"}),"Inactive Students"]})]}),!p&&y.hasDropdown&&A&&y.label==="Hostel Students"&&a.jsxs("div",{className:"ml-8 mt-1 space-y-1 animate-fade-in",children:[a.jsx(Tt,{to:"/hostel-dashboard",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel-dashboard")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>w&&m(!1),children:"Hostel Dashboard"}),a.jsxs(Tt,{to:"/hostel/active-students",className:`flex items-center py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/active-students")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>w&&m(!1),children:[a.jsx(ji,{size:14,className:"mr-1.5"}),"Active Students"]}),a.jsx(Tt,{to:"/hostel/collections",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/collections")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>w&&m(!1),children:"Collection & Due"}),a.jsx(Tt,{to:"/hostel/expired",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel/expired")?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>w&&m(!1),children:"Expired Memberships"}),a.jsx(Tt,{to:"/hostel",className:`block py-2 px-3 rounded-md text-sm font-medium ${b("/hostel")&&s.pathname.split("/").length===2?"bg-purple-50 text-purple-600":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>w&&m(!1),children:"Student Management"})]})]},y.path):null})})}),a.jsx("div",{className:"p-2",children:a.jsx("button",{className:`flex items-center w-full px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors ${p?"justify-center":""}`,onClick:j,children:a.jsxs("div",{className:`flex items-center gap-3 ${p?"justify-center":""}`,children:[a.jsx(FS,{size:20,className:"text-gray-500"}),!p&&a.jsx("span",{className:"font-medium",children:"Logout"})]})})})]})]})},Hn=({title:e,value:t,icon:r,iconBgColor:n,textColor:s="text-gray-900",arrowIcon:i,containerClassName:o,titleClassName:l,valueClassName:A})=>a.jsxs("div",{className:`${o||"bg-white rounded-xl p-5 flex flex-col shadow-sm border border-gray-100 relative overflow-hidden"}`,children:[a.jsx("div",{className:`${n} p-2 rounded-lg inline-block`,children:r}),a.jsx("h3",{className:`text-sm mt-3 ${l||"text-gray-500"}`,children:e}),a.jsx("p",{className:`text-4xl font-semibold mt-1 ${A||s}`,children:t}),i&&a.jsx("div",{className:"absolute bottom-4 right-4",children:i})]}),Qte=e=>e||"N/A",Hte=({limit:e,selectedBranchId:t})=>{const[r,n]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(""),[A,u]=C.useState(1),[h,m]=C.useState(5),w=Ur();C.useEffect(()=>{(async()=>{i(!0);try{const O=await Re.getStudents(void 0,void 0,t??void 0);if(!O||!Array.isArray(O.students))throw new Error("Invalid students data");n(O.students)}catch(O){O.response&&O.response.status===401?(Ee.error("Session expired. Please log in again."),w("/login")):(console.error("Failed to fetch students:",O.message),Ee.error("Failed to fetch students")),n([])}finally{i(!1)}})()},[w,t]);const p=async _=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Re.deleteStudent(_),n(r.filter(O=>O.id!==_)),Ee.success("Student deleted successfully")}catch(O){console.error("Failed to delete student:",O.message),Ee.error("Failed to delete student")}},b=_=>{w(`/students/${_}`)},N=r.filter(_=>_.name.toLowerCase().includes(o.toLowerCase())||_.phone.toLowerCase().includes(o.toLowerCase())||_.registrationNumber&&_.registrationNumber.toLowerCase().includes(o.toLowerCase())||_.seatNumber&&_.seatNumber.toLowerCase().includes(o.toLowerCase())),j=e??A*h,y=e?0:j-h,B=N.slice(y,j),I=e?1:Math.ceil(N.length/h);return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col md:flex-row items-start md:items-center justify-between space-y-2 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Students List"}),!e&&a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:o,onChange:_=>l(_.target.value)})]})]}),s?a.jsx("div",{className:"flex justify-center p-8",children:"Loading students..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-left",children:[a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Registration Number"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Seat"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Membership End"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:B.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:_.name}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:_.registrationNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:_.seatNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:_.phone}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${_.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:Qte(_.membershipEnd)}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>b(_.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:a.jsx(ma,{size:16})}),a.jsx("button",{onClick:()=>p(_.id),className:"text-red-600 hover:text-red-800 p-2",children:a.jsx(pa,{size:16})})]})]},_.id))})]})}),N.length===0&&a.jsx("div",{className:"py-8 text-center text-gray-500",children:"No students found matching your search."})]}),!e&&N.length>0&&a.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:justify-between md:space-y-0 border-t border-gray-200 px-6 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:h,onChange:_=>{m(Number(_.target.value)),u(1)},className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:5,children:"5"}),a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>u(_=>Math.max(_-1,1)),disabled:A===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(Ud,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",A," of ",I]}),a.jsx("button",{onClick:()=>u(_=>Math.min(_+1,I)),disabled:A===I,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(gr,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",y+1," to ",Math.min(j,N.length)," of"," ",N.length," students"]})]}),e&&N.length>e&&a.jsx("div",{className:"flex justify-center border-t border-gray-100 p-4",children:a.jsxs("button",{onClick:()=>w("/students"),className:"text-purple-600 hover:text-purple-800 text-sm font-medium flex items-center p-2",children:["View all students ",a.jsx(gr,{size:16,className:"ml-1"})]})})]})};function tn(e){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(e)}function Vte(e,t){if(tn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eR(e){var t=Vte(e,"string");return tn(t)=="symbol"?t:t+""}function Ap(e,t,r){return(t=eR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(n){Ap(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kte(e){if(Array.isArray(e))return e}function Wte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],A=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;A=!1}else for(;!(A=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);A=!0);}catch(h){u=!0,s=h}finally{try{if(!A&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function FN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tR(e,t){if(e){if(typeof e=="string")return FN(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?FN(e,t):void 0}}function Gte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ml(e,t){return Kte(e)||Wte(e,t)||tR(e,t)||Gte()}function zte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YA(e,t){if(e==null)return{};var r,n,s=zte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var $te=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function qte(e){var t=e.defaultInputValue,r=t===void 0?"":t,n=e.defaultMenuIsOpen,s=n===void 0?!1:n,i=e.defaultValue,o=i===void 0?null:i,l=e.inputValue,A=e.menuIsOpen,u=e.onChange,h=e.onInputChange,m=e.onMenuClose,w=e.onMenuOpen,p=e.value,b=YA(e,$te),N=C.useState(l!==void 0?l:r),j=Ml(N,2),y=j[0],B=j[1],I=C.useState(A!==void 0?A:s),_=Ml(I,2),O=_[0],H=_[1],D=C.useState(p!==void 0?p:o),L=Ml(D,2),T=L[0],G=L[1],M=C.useCallback(function(X,K){typeof u=="function"&&u(X,K),G(X)},[u]),V=C.useCallback(function(X,K){var le;typeof h=="function"&&(le=h(X,K)),B(le!==void 0?le:X)},[h]),J=C.useCallback(function(){typeof w=="function"&&w(),H(!0)},[w]),Z=C.useCallback(function(){typeof m=="function"&&m(),H(!1)},[m]),ee=l!==void 0?l:y,q=A!==void 0?A:O,W=p!==void 0?p:T;return Ar(Ar({},b),{},{inputValue:ee,menuIsOpen:q,onChange:M,onInputChange:V,onMenuClose:Z,onMenuOpen:J,value:W})}function mr(){return mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mr.apply(null,arguments)}function Xte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eR(n.key),n)}}function Yte(e,t,r){return t&&pI(e.prototype,t),r&&pI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},kN(e,t)}function Zte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function Wy(e){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wy(e)}function rR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rR=function(){return!!e})()}function Jte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ere(e,t){if(t&&(tn(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jte(e)}function tre(e){var t=rR();return function(){var r,n=Wy(e);if(t){var s=Wy(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return ere(this,r)}}function rre(e){if(Array.isArray(e))return FN(e)}function nre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MS(e){return rre(e)||nre(e)||tR(e)||sre()}var are=!1;function ire(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function ore(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var lre=function(){function e(r){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!are:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ore(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=ire(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Ya="-ms-",Gy="-moz-",hn="-webkit-",nR="comm",US="rule",QS="decl",cre="@import",sR="@keyframes",Are="@layer",ure=Math.abs,hv=String.fromCharCode,dre=Object.assign;function hre(e,t){return _a(e,0)^45?(((t<<2^_a(e,0))<<2^_a(e,1))<<2^_a(e,2))<<2^_a(e,3):0}function aR(e){return e.trim()}function fre(e,t){return(e=t.exec(e))?e[0]:e}function fn(e,t,r){return e.replace(t,r)}function _N(e,t){return e.indexOf(t)}function _a(e,t){return e.charCodeAt(t)|0}function Ig(e,t,r){return e.slice(t,r)}function gc(e){return e.length}function HS(e){return e.length}function Cx(e,t){return t.push(e),e}function mre(e,t){return e.map(t).join("")}var fv=1,J0=1,iR=0,to=0,Gs=0,xm="";function mv(e,t,r,n,s,i,o){return{value:e,root:t,parent:r,type:n,props:s,children:i,line:fv,column:J0,length:o,return:""}}function Gm(e,t){return dre(mv("",null,null,"",null,null,0),e,{length:-e.length},t)}function pre(){return Gs}function gre(){return Gs=to>0?_a(xm,--to):0,J0--,Gs===10&&(J0=1,fv--),Gs}function Eo(){return Gs=to<iR?_a(xm,to++):0,J0++,Gs===10&&(J0=1,fv++),Gs}function Ec(){return _a(xm,to)}function Dw(){return to}function m1(e,t){return Ig(xm,e,t)}function Fg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oR(e){return fv=J0=1,iR=gc(xm=e),to=0,[]}function lR(e){return xm="",e}function Ow(e){return aR(m1(to-1,TN(e===91?e+2:e===40?e+1:e)))}function xre(e){for(;(Gs=Ec())&&Gs<33;)Eo();return Fg(e)>2||Fg(Gs)>3?"":" "}function wre(e,t){for(;--t&&Eo()&&!(Gs<48||Gs>102||Gs>57&&Gs<65||Gs>70&&Gs<97););return m1(e,Dw()+(t<6&&Ec()==32&&Eo()==32))}function TN(e){for(;Eo();)switch(Gs){case e:return to;case 34:case 39:e!==34&&e!==39&&TN(Gs);break;case 40:e===41&&TN(e);break;case 92:Eo();break}return to}function yre(e,t){for(;Eo()&&e+Gs!==57;)if(e+Gs===84&&Ec()===47)break;return"/*"+m1(t,to-1)+"*"+hv(e===47?e:Eo())}function vre(e){for(;!Fg(Ec());)Eo();return m1(e,to)}function bre(e){return lR(Rw("",null,null,null,[""],e=oR(e),0,[0],e))}function Rw(e,t,r,n,s,i,o,l,A){for(var u=0,h=0,m=o,w=0,p=0,b=0,N=1,j=1,y=1,B=0,I="",_=s,O=i,H=n,D=I;j;)switch(b=B,B=Eo()){case 40:if(b!=108&&_a(D,m-1)==58){_N(D+=fn(Ow(B),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:D+=Ow(B);break;case 9:case 10:case 13:case 32:D+=xre(b);break;case 92:D+=wre(Dw()-1,7);continue;case 47:switch(Ec()){case 42:case 47:Cx(Cre(yre(Eo(),Dw()),t,r),A);break;default:D+="/"}break;case 123*N:l[u++]=gc(D)*y;case 125*N:case 59:case 0:switch(B){case 0:case 125:j=0;case 59+h:y==-1&&(D=fn(D,/\f/g,"")),p>0&&gc(D)-m&&Cx(p>32?xI(D+";",n,r,m-1):xI(fn(D," ","")+";",n,r,m-2),A);break;case 59:D+=";";default:if(Cx(H=gI(D,t,r,u,h,s,l,I,_=[],O=[],m),i),B===123)if(h===0)Rw(D,t,H,H,_,i,m,l,O);else switch(w===99&&_a(D,3)===110?100:w){case 100:case 108:case 109:case 115:Rw(e,H,H,n&&Cx(gI(e,H,H,0,0,s,l,I,s,_=[],m),O),s,O,m,l,n?_:O);break;default:Rw(D,H,H,H,[""],O,0,l,O)}}u=h=p=0,N=y=1,I=D="",m=o;break;case 58:m=1+gc(D),p=b;default:if(N<1){if(B==123)--N;else if(B==125&&N++==0&&gre()==125)continue}switch(D+=hv(B),B*N){case 38:y=h>0?1:(D+="\f",-1);break;case 44:l[u++]=(gc(D)-1)*y,y=1;break;case 64:Ec()===45&&(D+=Ow(Eo())),w=Ec(),h=m=gc(I=D+=vre(Dw())),B++;break;case 45:b===45&&gc(D)==2&&(N=0)}}return i}function gI(e,t,r,n,s,i,o,l,A,u,h){for(var m=s-1,w=s===0?i:[""],p=HS(w),b=0,N=0,j=0;b<n;++b)for(var y=0,B=Ig(e,m+1,m=ure(N=o[b])),I=e;y<p;++y)(I=aR(N>0?w[y]+" "+B:fn(B,/&\f/g,w[y])))&&(A[j++]=I);return mv(e,t,r,s===0?US:l,A,u,h)}function Cre(e,t,r){return mv(e,t,r,nR,hv(pre()),Ig(e,2,-2),0)}function xI(e,t,r,n){return mv(e,t,r,QS,Ig(e,0,n),Ig(e,n+1,-1),n)}function x0(e,t){for(var r="",n=HS(e),s=0;s<n;s++)r+=t(e[s],s,e,t)||"";return r}function Nre(e,t,r,n){switch(e.type){case Are:if(e.children.length)break;case cre:case QS:return e.return=e.return||e.value;case nR:return"";case sR:return e.return=e.value+"{"+x0(e.children,n)+"}";case US:e.value=e.props.join(",")}return gc(r=x0(e.children,n))?e.return=e.value+"{"+r+"}":""}function Bre(e){var t=HS(e);return function(r,n,s,i){for(var o="",l=0;l<t;l++)o+=e[l](r,n,s,i)||"";return o}}function Sre(e){return function(t){t.root||(t=t.return)&&e(t)}}function Ere(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var jre=function(t,r,n){for(var s=0,i=0;s=i,i=Ec(),s===38&&i===12&&(r[n]=1),!Fg(i);)Eo();return m1(t,to)},Ire=function(t,r){var n=-1,s=44;do switch(Fg(s)){case 0:s===38&&Ec()===12&&(r[n]=1),t[n]+=jre(to-1,r,n);break;case 2:t[n]+=Ow(s);break;case 4:if(s===44){t[++n]=Ec()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=hv(s)}while(s=Eo());return t},Fre=function(t,r){return lR(Ire(oR(t),r))},wI=new WeakMap,kre=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,s=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!wI.get(n))&&!s){wI.set(t,!0);for(var i=[],o=Fre(r,i),l=n.props,A=0,u=0;A<o.length;A++)for(var h=0;h<l.length;h++,u++)t.props[u]=i[A]?o[A].replace(/&\f/g,l[h]):l[h]+" "+o[A]}}},_re=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function cR(e,t){switch(hre(e,t)){case 5103:return hn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return hn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return hn+e+Gy+e+Ya+e+e;case 6828:case 4268:return hn+e+Ya+e+e;case 6165:return hn+e+Ya+"flex-"+e+e;case 5187:return hn+e+fn(e,/(\w+).+(:[^]+)/,hn+"box-$1$2"+Ya+"flex-$1$2")+e;case 5443:return hn+e+Ya+"flex-item-"+fn(e,/flex-|-self/,"")+e;case 4675:return hn+e+Ya+"flex-line-pack"+fn(e,/align-content|flex-|-self/,"")+e;case 5548:return hn+e+Ya+fn(e,"shrink","negative")+e;case 5292:return hn+e+Ya+fn(e,"basis","preferred-size")+e;case 6060:return hn+"box-"+fn(e,"-grow","")+hn+e+Ya+fn(e,"grow","positive")+e;case 4554:return hn+fn(e,/([^-])(transform)/g,"$1"+hn+"$2")+e;case 6187:return fn(fn(fn(e,/(zoom-|grab)/,hn+"$1"),/(image-set)/,hn+"$1"),e,"")+e;case 5495:case 3959:return fn(e,/(image-set\([^]*)/,hn+"$1$`$1");case 4968:return fn(fn(e,/(.+:)(flex-)?(.*)/,hn+"box-pack:$3"+Ya+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+hn+e+e;case 4095:case 3583:case 4068:case 2532:return fn(e,/(.+)-inline(.+)/,hn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gc(e)-1-t>6)switch(_a(e,t+1)){case 109:if(_a(e,t+4)!==45)break;case 102:return fn(e,/(.+:)(.+)-([^]+)/,"$1"+hn+"$2-$3$1"+Gy+(_a(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~_N(e,"stretch")?cR(fn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(_a(e,t+1)!==115)break;case 6444:switch(_a(e,gc(e)-3-(~_N(e,"!important")&&10))){case 107:return fn(e,":",":"+hn)+e;case 101:return fn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+hn+(_a(e,14)===45?"inline-":"")+"box$3$1"+hn+"$2$3$1"+Ya+"$2box$3")+e}break;case 5936:switch(_a(e,t+11)){case 114:return hn+e+Ya+fn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return hn+e+Ya+fn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return hn+e+Ya+fn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return hn+e+Ya+e+e}return e}var Tre=function(t,r,n,s){if(t.length>-1&&!t.return)switch(t.type){case QS:t.return=cR(t.value,t.length);break;case sR:return x0([Gm(t,{value:fn(t.value,"@","@"+hn)})],s);case US:if(t.length)return mre(t.props,function(i){switch(fre(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return x0([Gm(t,{props:[fn(i,/:(read-\w+)/,":"+Gy+"$1")]})],s);case"::placeholder":return x0([Gm(t,{props:[fn(i,/:(plac\w+)/,":"+hn+"input-$1")]}),Gm(t,{props:[fn(i,/:(plac\w+)/,":"+Gy+"$1")]}),Gm(t,{props:[fn(i,/:(plac\w+)/,Ya+"input-$1")]})],s)}return""})}},Lre=[Tre],Pre=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(N){var j=N.getAttribute("data-emotion");j.indexOf(" ")!==-1&&(document.head.appendChild(N),N.setAttribute("data-s",""))})}var s=t.stylisPlugins||Lre,i={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(N){for(var j=N.getAttribute("data-emotion").split(" "),y=1;y<j.length;y++)i[j[y]]=!0;l.push(N)});var A,u=[kre,_re];{var h,m=[Nre,Sre(function(N){h.insert(N)})],w=Bre(u.concat(s,m)),p=function(j){return x0(bre(j),w)};A=function(j,y,B,I){h=B,p(j?j+"{"+y.styles+"}":y.styles),I&&(b.inserted[y.name]=!0)}}var b={key:r,sheet:new lre({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:A};return b.sheet.hydrate(l),b},AR={exports:{}},jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=typeof Symbol=="function"&&Symbol.for,VS=xa?Symbol.for("react.element"):60103,KS=xa?Symbol.for("react.portal"):60106,pv=xa?Symbol.for("react.fragment"):60107,gv=xa?Symbol.for("react.strict_mode"):60108,xv=xa?Symbol.for("react.profiler"):60114,wv=xa?Symbol.for("react.provider"):60109,yv=xa?Symbol.for("react.context"):60110,WS=xa?Symbol.for("react.async_mode"):60111,vv=xa?Symbol.for("react.concurrent_mode"):60111,bv=xa?Symbol.for("react.forward_ref"):60112,Cv=xa?Symbol.for("react.suspense"):60113,Dre=xa?Symbol.for("react.suspense_list"):60120,Nv=xa?Symbol.for("react.memo"):60115,Bv=xa?Symbol.for("react.lazy"):60116,Ore=xa?Symbol.for("react.block"):60121,Rre=xa?Symbol.for("react.fundamental"):60117,Mre=xa?Symbol.for("react.responder"):60118,Ure=xa?Symbol.for("react.scope"):60119;function Lo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case VS:switch(e=e.type,e){case WS:case vv:case pv:case xv:case gv:case Cv:return e;default:switch(e=e&&e.$$typeof,e){case yv:case bv:case Bv:case Nv:case wv:return e;default:return t}}case KS:return t}}}function uR(e){return Lo(e)===vv}jn.AsyncMode=WS;jn.ConcurrentMode=vv;jn.ContextConsumer=yv;jn.ContextProvider=wv;jn.Element=VS;jn.ForwardRef=bv;jn.Fragment=pv;jn.Lazy=Bv;jn.Memo=Nv;jn.Portal=KS;jn.Profiler=xv;jn.StrictMode=gv;jn.Suspense=Cv;jn.isAsyncMode=function(e){return uR(e)||Lo(e)===WS};jn.isConcurrentMode=uR;jn.isContextConsumer=function(e){return Lo(e)===yv};jn.isContextProvider=function(e){return Lo(e)===wv};jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===VS};jn.isForwardRef=function(e){return Lo(e)===bv};jn.isFragment=function(e){return Lo(e)===pv};jn.isLazy=function(e){return Lo(e)===Bv};jn.isMemo=function(e){return Lo(e)===Nv};jn.isPortal=function(e){return Lo(e)===KS};jn.isProfiler=function(e){return Lo(e)===xv};jn.isStrictMode=function(e){return Lo(e)===gv};jn.isSuspense=function(e){return Lo(e)===Cv};jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===pv||e===vv||e===xv||e===gv||e===Cv||e===Dre||typeof e=="object"&&e!==null&&(e.$$typeof===Bv||e.$$typeof===Nv||e.$$typeof===wv||e.$$typeof===yv||e.$$typeof===bv||e.$$typeof===Rre||e.$$typeof===Mre||e.$$typeof===Ure||e.$$typeof===Ore)};jn.typeOf=Lo;AR.exports=jn;var Qre=AR.exports,dR=Qre,Hre={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Vre={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hR={};hR[dR.ForwardRef]=Hre;hR[dR.Memo]=Vre;var Kre=!0;function Wre(e,t,r){var n="";return r.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):s&&(n+=s+" ")}),n}var fR=function(t,r,n){var s=t.key+"-"+r.name;(n===!1||Kre===!1)&&t.registered[s]===void 0&&(t.registered[s]=r.styles)},Gre=function(t,r,n){fR(t,r,n);var s=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+s:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function zre(e){for(var t=0,r,n=0,s=e.length;s>=4;++n,s-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var $re={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qre=!1,Xre=/[A-Z]|^ms/g,Yre=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mR=function(t){return t.charCodeAt(1)===45},yI=function(t){return t!=null&&typeof t!="boolean"},l5=Ere(function(e){return mR(e)?e:e.replace(Xre,"-$&").toLowerCase()}),vI=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Yre,function(n,s,i){return xc={name:s,styles:i,next:xc},s})}return $re[t]!==1&&!mR(t)&&typeof r=="number"&&r!==0?r+"px":r},Zre="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function kg(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return xc={name:s.name,styles:s.styles,next:xc},s.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)xc={name:o.name,styles:o.styles,next:xc},o=o.next;var l=i.styles+";";return l}return Jre(e,t,r)}case"function":{if(e!==void 0){var A=xc,u=r(e);return xc=A,kg(e,t,u)}break}}var h=r;return h}function Jre(e,t,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=kg(e,t,r[s])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;yI(l)&&(n+=l5(i)+":"+vI(i,l)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&qre)throw new Error(Zre);if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var A=0;A<o.length;A++)yI(o[A])&&(n+=l5(i)+":"+vI(i,o[A])+";");else{var u=kg(e,t,o);switch(i){case"animation":case"animationName":{n+=l5(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}}return n}var bI=/label:\s*([^\s;{]+)\s*(;|$)/g,xc;function pR(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,s="";xc=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,s+=kg(r,t,i);else{var o=i;s+=o[0]}for(var l=1;l<e.length;l++)if(s+=kg(r,t,e[l]),n){var A=i;s+=A[l]}bI.lastIndex=0;for(var u="",h;(h=bI.exec(s))!==null;)u+="-"+h[1];var m=zre(s)+u;return{name:m,styles:s,next:xc}}var ene=function(t){return t()},tne=U0.useInsertionEffect?U0.useInsertionEffect:!1,rne=tne||ene,nne=!1,gR=C.createContext(typeof HTMLElement<"u"?Pre({key:"css"}):null);gR.Provider;var sne=function(t){return C.forwardRef(function(r,n){var s=C.useContext(gR);return t(r,s,n)})},ane=C.createContext({}),GS={}.hasOwnProperty,LN="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ine=function(t,r){var n={};for(var s in r)GS.call(r,s)&&(n[s]=r[s]);return n[LN]=t,n},one=function(t){var r=t.cache,n=t.serialized,s=t.isStringTag;return fR(r,n,s),rne(function(){return Gre(r,n,s)}),null},lne=sne(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var s=e[LN],i=[n],o="";typeof e.className=="string"?o=Wre(t.registered,i,e.className):e.className!=null&&(o=e.className+" ");var l=pR(i,void 0,C.useContext(ane));o+=t.key+"-"+l.name;var A={};for(var u in e)GS.call(e,u)&&u!=="css"&&u!==LN&&!nne&&(A[u]=e[u]);return A.className=o,r&&(A.ref=r),C.createElement(C.Fragment,null,C.createElement(one,{cache:t,serialized:l,isStringTag:typeof s=="string"}),C.createElement(s,A))}),cne=lne,or=function(t,r){var n=arguments;if(r==null||!GS.call(r,"css"))return C.createElement.apply(void 0,n);var s=n.length,i=new Array(s);i[0]=cne,i[1]=ine(t,r);for(var o=2;o<s;o++)i[o]=n[o];return C.createElement.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(or||(or={}));function zS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return pR(t)}function Ane(){var e=zS.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function une(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var PN=C.useLayoutEffect,dne=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],zy=function(){};function hne(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function fne(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var i=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&i.push("".concat(hne(e,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var CI=function(t){return Cne(t)?t.filter(Boolean):tn(t)==="object"&&t!==null?[t]:[]},xR=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=YA(t,dne);return Ar({},r)},Is=function(t,r,n){var s=t.cx,i=t.getStyles,o=t.getClassNames,l=t.className;return{css:i(r,t),className:s(n??{},o(r,t),l)}};function Sv(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function mne(e){return Sv(e)?window.innerHeight:e.clientHeight}function wR(e){return Sv(e)?window.pageYOffset:e.scrollTop}function $y(e,t){if(Sv(e)){window.scrollTo(0,t);return}e.scrollTop=t}function pne(e){var t=getComputedStyle(e),r=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var s=e;s=s.parentElement;)if(t=getComputedStyle(s),!(r&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return s;return document.documentElement}function gne(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function Nx(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:zy,s=wR(e),i=t-s,o=10,l=0;function A(){l+=o;var u=gne(l,s,i,r);$y(e,u),l<r?window.requestAnimationFrame(A):n(e)}A()}function NI(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=t.offsetHeight/3;n.bottom+s>r.bottom?$y(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):n.top-s<r.top&&$y(e,Math.max(t.offsetTop-s,0))}function xne(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function BI(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function wne(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var yR=!1,yne={get passive(){return yR=!0}},Bx=typeof window<"u"?window:{};Bx.addEventListener&&Bx.removeEventListener&&(Bx.addEventListener("p",zy,yne),Bx.removeEventListener("p",zy,!1));var vne=yR;function bne(e){return e!=null}function Cne(e){return Array.isArray(e)}function Sx(e,t,r){return e?t:r}var Nne=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var i=Object.entries(t).filter(function(o){var l=Ml(o,1),A=l[0];return!n.includes(A)});return i.reduce(function(o,l){var A=Ml(l,2),u=A[0],h=A[1];return o[u]=h,o},{})},Bne=["children","innerProps"],Sne=["children","innerProps"];function Ene(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,s=e.placement,i=e.shouldScroll,o=e.isFixedPosition,l=e.controlHeight,A=pne(r),u={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return u;var h=A.getBoundingClientRect(),m=h.height,w=r.getBoundingClientRect(),p=w.bottom,b=w.height,N=w.top,j=r.offsetParent.getBoundingClientRect(),y=j.top,B=o?window.innerHeight:mne(A),I=wR(A),_=parseInt(getComputedStyle(r).marginBottom,10),O=parseInt(getComputedStyle(r).marginTop,10),H=y-O,D=B-N,L=H+I,T=m-I-N,G=p-B+I+_,M=I+N-O,V=160;switch(s){case"auto":case"bottom":if(D>=b)return{placement:"bottom",maxHeight:t};if(T>=b&&!o)return i&&Nx(A,G,V),{placement:"bottom",maxHeight:t};if(!o&&T>=n||o&&D>=n){i&&Nx(A,G,V);var J=o?D-_:T-_;return{placement:"bottom",maxHeight:J}}if(s==="auto"||o){var Z=t,ee=o?H:L;return ee>=n&&(Z=Math.min(ee-_-l,t)),{placement:"top",maxHeight:Z}}if(s==="bottom")return i&&$y(A,G),{placement:"bottom",maxHeight:t};break;case"top":if(H>=b)return{placement:"top",maxHeight:t};if(L>=b&&!o)return i&&Nx(A,M,V),{placement:"top",maxHeight:t};if(!o&&L>=n||o&&H>=n){var q=t;return(!o&&L>=n||o&&H>=n)&&(q=o?H-O:L-O),i&&Nx(A,M,V),{placement:"top",maxHeight:q}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function jne(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var vR=function(t){return t==="auto"?"bottom":t},Ine=function(t,r){var n,s=t.placement,i=t.theme,o=i.borderRadius,l=i.spacing,A=i.colors;return Ar((n={label:"menu"},Ap(n,jne(s),"100%"),Ap(n,"position","absolute"),Ap(n,"width","100%"),Ap(n,"zIndex",1),n),r?{}:{backgroundColor:A.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},bR=C.createContext(null),Fne=function(t){var r=t.children,n=t.minMenuHeight,s=t.maxMenuHeight,i=t.menuPlacement,o=t.menuPosition,l=t.menuShouldScrollIntoView,A=t.theme,u=C.useContext(bR)||{},h=u.setPortalPlacement,m=C.useRef(null),w=C.useState(s),p=Ml(w,2),b=p[0],N=p[1],j=C.useState(null),y=Ml(j,2),B=y[0],I=y[1],_=A.spacing.controlHeight;return PN(function(){var O=m.current;if(O){var H=o==="fixed",D=l&&!H,L=Ene({maxHeight:s,menuEl:O,minHeight:n,placement:i,shouldScroll:D,isFixedPosition:H,controlHeight:_});N(L.maxHeight),I(L.placement),h==null||h(L.placement)}},[s,i,o,l,n,h,_]),r({ref:m,placerProps:Ar(Ar({},t),{},{placement:B||vR(i),maxHeight:b})})},kne=function(t){var r=t.children,n=t.innerRef,s=t.innerProps;return or("div",mr({},Is(t,"menu",{menu:!0}),{ref:n},s),r)},_ne=kne,Tne=function(t,r){var n=t.maxHeight,s=t.theme.spacing.baseUnit;return Ar({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},Lne=function(t){var r=t.children,n=t.innerProps,s=t.innerRef,i=t.isMulti;return or("div",mr({},Is(t,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},n),r)},CR=function(t,r){var n=t.theme,s=n.spacing.baseUnit,i=n.colors;return Ar({textAlign:"center"},r?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},Pne=CR,Dne=CR,One=function(t){var r=t.children,n=r===void 0?"No options":r,s=t.innerProps,i=YA(t,Bne);return or("div",mr({},Is(Ar(Ar({},i),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},Rne=function(t){var r=t.children,n=r===void 0?"Loading...":r,s=t.innerProps,i=YA(t,Sne);return or("div",mr({},Is(Ar(Ar({},i),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},Mne=function(t){var r=t.rect,n=t.offset,s=t.position;return{left:r.left,position:s,top:n,width:r.width,zIndex:1}},Une=function(t){var r=t.appendTo,n=t.children,s=t.controlElement,i=t.innerProps,o=t.menuPlacement,l=t.menuPosition,A=C.useRef(null),u=C.useRef(null),h=C.useState(vR(o)),m=Ml(h,2),w=m[0],p=m[1],b=C.useMemo(function(){return{setPortalPlacement:p}},[]),N=C.useState(null),j=Ml(N,2),y=j[0],B=j[1],I=C.useCallback(function(){if(s){var D=xne(s),L=l==="fixed"?0:window.pageYOffset,T=D[w]+L;(T!==(y==null?void 0:y.offset)||D.left!==(y==null?void 0:y.rect.left)||D.width!==(y==null?void 0:y.rect.width))&&B({offset:T,rect:D})}},[s,l,w,y==null?void 0:y.offset,y==null?void 0:y.rect.left,y==null?void 0:y.rect.width]);PN(function(){I()},[I]);var _=C.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&A.current&&(u.current=PD(s,A.current,I,{elementResize:"ResizeObserver"in window}))},[s,I]);PN(function(){_()},[_]);var O=C.useCallback(function(D){A.current=D,_()},[_]);if(!r&&l!=="fixed"||!y)return null;var H=or("div",mr({ref:O},Is(Ar(Ar({},t),{},{offset:y.offset,position:l,rect:y.rect}),"menuPortal",{"menu-portal":!0}),i),n);return or(bR.Provider,{value:b},r?Rd.createPortal(H,r):H)},Qne=function(t){var r=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Hne=function(t){var r=t.children,n=t.innerProps,s=t.isDisabled,i=t.isRtl;return or("div",mr({},Is(t,"container",{"--is-disabled":s,"--is-rtl":i}),n),r)},Vne=function(t,r){var n=t.theme.spacing,s=t.isMulti,i=t.hasValue,o=t.selectProps.controlShouldRenderValue;return Ar({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Kne=function(t){var r=t.children,n=t.innerProps,s=t.isMulti,i=t.hasValue;return or("div",mr({},Is(t,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),n),r)},Wne=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Gne=function(t){var r=t.children,n=t.innerProps;return or("div",mr({},Is(t,"indicatorsContainer",{indicators:!0}),n),r)},SI,zne=["size"],$ne=["innerProps","isRtl","size"],qne={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},NR=function(t){var r=t.size,n=YA(t,zne);return or("svg",mr({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:qne},n))},$S=function(t){return or(NR,mr({size:20},t),or("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},BR=function(t){return or(NR,mr({size:20},t),or("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},SR=function(t,r){var n=t.isFocused,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return Ar({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:i*2,":hover":{color:n?o.neutral80:o.neutral40}})},Xne=SR,Yne=function(t){var r=t.children,n=t.innerProps;return or("div",mr({},Is(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||or(BR,null))},Zne=SR,Jne=function(t){var r=t.children,n=t.innerProps;return or("div",mr({},Is(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||or($S,null))},ese=function(t,r){var n=t.isDisabled,s=t.theme,i=s.spacing.baseUnit,o=s.colors;return Ar({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},tse=function(t){var r=t.innerProps;return or("span",mr({},r,Is(t,"indicatorSeparator",{"indicator-separator":!0})))},rse=Ane(SI||(SI=une([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),nse=function(t,r){var n=t.isFocused,s=t.size,i=t.theme,o=i.colors,l=i.spacing.baseUnit;return Ar({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},c5=function(t){var r=t.delay,n=t.offset;return or("span",{css:zS({animation:"".concat(rse," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},sse=function(t){var r=t.innerProps,n=t.isRtl,s=t.size,i=s===void 0?4:s,o=YA(t,$ne);return or("div",mr({},Is(Ar(Ar({},o),{},{innerProps:r,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),or(c5,{delay:0,offset:n}),or(c5,{delay:160,offset:!0}),or(c5,{delay:320,offset:!n}))},ase=function(t,r){var n=t.isDisabled,s=t.isFocused,i=t.theme,o=i.colors,l=i.borderRadius,A=i.spacing;return Ar({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:A.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},ise=function(t){var r=t.children,n=t.isDisabled,s=t.isFocused,i=t.innerRef,o=t.innerProps,l=t.menuIsOpen;return or("div",mr({ref:i},Is(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},ose=ise,lse=["data"],cse=function(t,r){var n=t.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},Ase=function(t){var r=t.children,n=t.cx,s=t.getStyles,i=t.getClassNames,o=t.Heading,l=t.headingProps,A=t.innerProps,u=t.label,h=t.theme,m=t.selectProps;return or("div",mr({},Is(t,"group",{group:!0}),A),or(o,mr({},l,{selectProps:m,theme:h,getStyles:s,getClassNames:i,cx:n}),u),or("div",null,r))},use=function(t,r){var n=t.theme,s=n.colors,i=n.spacing;return Ar({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},dse=function(t){var r=xR(t);r.data;var n=YA(r,lse);return or("div",mr({},Is(t,"groupHeading",{"group-heading":!0}),n))},hse=Ase,fse=["innerRef","isDisabled","isHidden","inputClassName"],mse=function(t,r){var n=t.isDisabled,s=t.value,i=t.theme,o=i.spacing,l=i.colors;return Ar(Ar({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},pse),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},ER={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},pse={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ar({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ER)},gse=function(t){return Ar({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},ER)},xse=function(t){var r=t.cx,n=t.value,s=xR(t),i=s.innerRef,o=s.isDisabled,l=s.isHidden,A=s.inputClassName,u=YA(s,fse);return or("div",mr({},Is(t,"input",{"input-container":!0}),{"data-value":n||""}),or("input",mr({className:r({input:!0},A),ref:i,style:gse(l),disabled:o},u)))},wse=xse,yse=function(t,r){var n=t.theme,s=n.spacing,i=n.borderRadius,o=n.colors;return Ar({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},vse=function(t,r){var n=t.theme,s=n.borderRadius,i=n.colors,o=t.cropWithEllipsis;return Ar({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},bse=function(t,r){var n=t.theme,s=n.spacing,i=n.borderRadius,o=n.colors,l=t.isFocused;return Ar({alignItems:"center",display:"flex"},r?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},jR=function(t){var r=t.children,n=t.innerProps;return or("div",n,r)},Cse=jR,Nse=jR;function Bse(e){var t=e.children,r=e.innerProps;return or("div",mr({role:"button"},r),t||or($S,{size:14}))}var Sse=function(t){var r=t.children,n=t.components,s=t.data,i=t.innerProps,o=t.isDisabled,l=t.removeProps,A=t.selectProps,u=n.Container,h=n.Label,m=n.Remove;return or(u,{data:s,innerProps:Ar(Ar({},Is(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:A},or(h,{data:s,innerProps:Ar({},Is(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:A},r),or(m,{data:s,innerProps:Ar(Ar({},Is(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:A}))},Ese=Sse,jse=function(t,r){var n=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.theme,l=o.spacing,A=o.colors;return Ar({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:i?A.primary:s?A.primary25:"transparent",color:n?A.neutral20:i?A.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?A.primary:A.primary50}})},Ise=function(t){var r=t.children,n=t.isDisabled,s=t.isFocused,i=t.isSelected,o=t.innerRef,l=t.innerProps;return or("div",mr({},Is(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":n},l),r)},Fse=Ise,kse=function(t,r){var n=t.theme,s=n.spacing,i=n.colors;return Ar({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},_se=function(t){var r=t.children,n=t.innerProps;return or("div",mr({},Is(t,"placeholder",{placeholder:!0}),n),r)},Tse=_se,Lse=function(t,r){var n=t.isDisabled,s=t.theme,i=s.spacing,o=s.colors;return Ar({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Pse=function(t){var r=t.children,n=t.isDisabled,s=t.innerProps;return or("div",mr({},Is(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),r)},Dse=Pse,Ose={ClearIndicator:Jne,Control:ose,DropdownIndicator:Yne,DownChevron:BR,CrossIcon:$S,Group:hse,GroupHeading:dse,IndicatorsContainer:Gne,IndicatorSeparator:tse,Input:wse,LoadingIndicator:sse,Menu:_ne,MenuList:Lne,MenuPortal:Une,LoadingMessage:Rne,NoOptionsMessage:One,MultiValue:Ese,MultiValueContainer:Cse,MultiValueLabel:Nse,MultiValueRemove:Bse,Option:Fse,Placeholder:Tse,SelectContainer:Hne,SingleValue:Dse,ValueContainer:Kne},Rse=function(t){return Ar(Ar({},Ose),t.components)},EI=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Mse(e,t){return!!(e===t||EI(e)&&EI(t))}function Use(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Mse(e[r],t[r]))return!1;return!0}function Qse(e,t){t===void 0&&(t=Use);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var o=e.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var Hse={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Vse=function(t){return or("span",mr({css:Hse},t))},jI=Vse,Kse={guidance:function(t){var r=t.isSearchable,n=t.isMulti,s=t.tabSelectsValue,i=t.context,o=t.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,n=t.label,s=n===void 0?"":n,i=t.labels,o=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(t){var r=t.context,n=t.focused,s=t.options,i=t.label,o=i===void 0?"":i,l=t.selectValue,A=t.isDisabled,u=t.isSelected,h=t.isAppleDevice,m=function(N,j){return N&&N.length?"".concat(N.indexOf(j)+1," of ").concat(N.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(m(l,n),".");if(r==="menu"&&h){var w=A?" disabled":"",p="".concat(u?" selected":"").concat(w);return"".concat(o).concat(p,", ").concat(m(s,n),".")}return""},onFilter:function(t){var r=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Wse=function(t){var r=t.ariaSelection,n=t.focusedOption,s=t.focusedValue,i=t.focusableOptions,o=t.isFocused,l=t.selectValue,A=t.selectProps,u=t.id,h=t.isAppleDevice,m=A.ariaLiveMessages,w=A.getOptionLabel,p=A.inputValue,b=A.isMulti,N=A.isOptionDisabled,j=A.isSearchable,y=A.menuIsOpen,B=A.options,I=A.screenReaderStatus,_=A.tabSelectsValue,O=A.isLoading,H=A["aria-label"],D=A["aria-live"],L=C.useMemo(function(){return Ar(Ar({},Kse),m||{})},[m]),T=C.useMemo(function(){var ee="";if(r&&L.onChange){var q=r.option,W=r.options,X=r.removedValue,K=r.removedValues,le=r.value,ne=function(fe){return Array.isArray(fe)?null:fe},U=X||q||ne(le),Y=U?w(U):"",se=W||K||void 0,ce=se?se.map(w):[],Ae=Ar({isDisabled:U&&N(U,l),label:Y,labels:ce},r);ee=L.onChange(Ae)}return ee},[r,L,N,l,w]),G=C.useMemo(function(){var ee="",q=n||s,W=!!(n&&l&&l.includes(n));if(q&&L.onFocus){var X={focused:q,label:w(q),isDisabled:N(q,l),isSelected:W,options:i,context:q===n?"menu":"value",selectValue:l,isAppleDevice:h};ee=L.onFocus(X)}return ee},[n,s,w,N,L,i,l,h]),M=C.useMemo(function(){var ee="";if(y&&B.length&&!O&&L.onFilter){var q=I({count:i.length});ee=L.onFilter({inputValue:p,resultsMessage:q})}return ee},[i,p,y,L,B,I,O]),V=(r==null?void 0:r.action)==="initial-input-focus",J=C.useMemo(function(){var ee="";if(L.guidance){var q=s?"value":y?"menu":"input";ee=L.guidance({"aria-label":H,context:q,isDisabled:n&&N(n,l),isMulti:b,isSearchable:j,tabSelectsValue:_,isInitialFocus:V})}return ee},[H,n,s,b,N,j,y,L,l,_,V]),Z=or(C.Fragment,null,or("span",{id:"aria-selection"},T),or("span",{id:"aria-focused"},G),or("span",{id:"aria-results"},M),or("span",{id:"aria-guidance"},J));return or(C.Fragment,null,or(jI,{id:u},V&&Z),or(jI,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!V&&Z))},Gse=Wse,DN=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],zse=new RegExp("["+DN.map(function(e){return e.letters}).join("")+"]","g"),IR={};for(var A5=0;A5<DN.length;A5++)for(var u5=DN[A5],d5=0;d5<u5.letters.length;d5++)IR[u5.letters[d5]]=u5.base;var FR=function(t){return t.replace(zse,function(r){return IR[r]})},$se=Qse(FR),II=function(t){return t.replace(/^\s+|\s+$/g,"")},qse=function(t){return"".concat(t.label," ").concat(t.value)},Xse=function(t){return function(r,n){if(r.data.__isNew__)return!0;var s=Ar({ignoreCase:!0,ignoreAccents:!0,stringify:qse,trim:!0,matchFrom:"any"},t),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,A=s.trim,u=s.matchFrom,h=A?II(n):n,m=A?II(l(r)):l(r);return i&&(h=h.toLowerCase(),m=m.toLowerCase()),o&&(h=$se(h),m=FR(m)),u==="start"?m.substr(0,h.length)===h:m.indexOf(h)>-1}},Yse=["innerRef"];function Zse(e){var t=e.innerRef,r=YA(e,Yse),n=Nne(r,"onExited","in","enter","exit","appear");return or("input",mr({ref:t},n,{css:zS({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Jse=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function eae(e){var t=e.isEnabled,r=e.onBottomArrive,n=e.onBottomLeave,s=e.onTopArrive,i=e.onTopLeave,o=C.useRef(!1),l=C.useRef(!1),A=C.useRef(0),u=C.useRef(null),h=C.useCallback(function(j,y){if(u.current!==null){var B=u.current,I=B.scrollTop,_=B.scrollHeight,O=B.clientHeight,H=u.current,D=y>0,L=_-O-I,T=!1;L>y&&o.current&&(n&&n(j),o.current=!1),D&&l.current&&(i&&i(j),l.current=!1),D&&y>L?(r&&!o.current&&r(j),H.scrollTop=_,T=!0,o.current=!0):!D&&-y>I&&(s&&!l.current&&s(j),H.scrollTop=0,T=!0,l.current=!0),T&&Jse(j)}},[r,n,s,i]),m=C.useCallback(function(j){h(j,j.deltaY)},[h]),w=C.useCallback(function(j){A.current=j.changedTouches[0].clientY},[]),p=C.useCallback(function(j){var y=A.current-j.changedTouches[0].clientY;h(j,y)},[h]),b=C.useCallback(function(j){if(j){var y=vne?{passive:!1}:!1;j.addEventListener("wheel",m,y),j.addEventListener("touchstart",w,y),j.addEventListener("touchmove",p,y)}},[p,w,m]),N=C.useCallback(function(j){j&&(j.removeEventListener("wheel",m,!1),j.removeEventListener("touchstart",w,!1),j.removeEventListener("touchmove",p,!1))},[p,w,m]);return C.useEffect(function(){if(t){var j=u.current;return b(j),function(){N(j)}}},[t,b,N]),function(j){u.current=j}}var FI=["boxSizing","height","overflow","paddingRight","position"],kI={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function _I(e){e.cancelable&&e.preventDefault()}function TI(e){e.stopPropagation()}function LI(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function PI(){return"ontouchstart"in window||navigator.maxTouchPoints}var DI=!!(typeof window<"u"&&window.document&&window.document.createElement),zm=0,bf={capture:!1,passive:!1};function tae(e){var t=e.isEnabled,r=e.accountForScrollbars,n=r===void 0?!0:r,s=C.useRef({}),i=C.useRef(null),o=C.useCallback(function(A){if(DI){var u=document.body,h=u&&u.style;if(n&&FI.forEach(function(b){var N=h&&h[b];s.current[b]=N}),n&&zm<1){var m=parseInt(s.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,p=window.innerWidth-w+m||0;Object.keys(kI).forEach(function(b){var N=kI[b];h&&(h[b]=N)}),h&&(h.paddingRight="".concat(p,"px"))}u&&PI()&&(u.addEventListener("touchmove",_I,bf),A&&(A.addEventListener("touchstart",LI,bf),A.addEventListener("touchmove",TI,bf))),zm+=1}},[n]),l=C.useCallback(function(A){if(DI){var u=document.body,h=u&&u.style;zm=Math.max(zm-1,0),n&&zm<1&&FI.forEach(function(m){var w=s.current[m];h&&(h[m]=w)}),u&&PI()&&(u.removeEventListener("touchmove",_I,bf),A&&(A.removeEventListener("touchstart",LI,bf),A.removeEventListener("touchmove",TI,bf)))}},[n]);return C.useEffect(function(){if(t){var A=i.current;return o(A),function(){l(A)}}},[t,o,l]),function(A){i.current=A}}var rae=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},nae={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function sae(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,s=n===void 0?!0:n,i=e.onBottomArrive,o=e.onBottomLeave,l=e.onTopArrive,A=e.onTopLeave,u=eae({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:A}),h=tae({isEnabled:r}),m=function(p){u(p),h(p)};return or(C.Fragment,null,r&&or("div",{onClick:rae,css:nae}),t(m))}var aae={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},iae=function(t){var r=t.name,n=t.onFocus;return or("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:aae,value:"",onChange:function(){}})},oae=iae;function qS(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function lae(){return qS(/^iPhone/i)}function kR(){return qS(/^Mac/i)}function cae(){return qS(/^iPad/i)||kR()&&navigator.maxTouchPoints>1}function Aae(){return lae()||cae()}function uae(){return kR()||Aae()}var dae=function(t){return t.label},hae=function(t){return t.label},fae=function(t){return t.value},mae=function(t){return!!t.isDisabled},pae={clearIndicator:Zne,container:Qne,control:ase,dropdownIndicator:Xne,group:cse,groupHeading:use,indicatorsContainer:Wne,indicatorSeparator:ese,input:mse,loadingIndicator:nse,loadingMessage:Dne,menu:Ine,menuList:Tne,menuPortal:Mne,multiValue:yse,multiValueLabel:vse,multiValueRemove:bse,noOptionsMessage:Pne,option:jse,placeholder:kse,singleValue:Lse,valueContainer:Vne},gae={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},xae=4,_R=4,wae=38,yae=_R*2,vae={baseUnit:_R,controlHeight:wae,menuGutter:yae},h5={borderRadius:xae,colors:gae,spacing:vae},bae={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:BI(),captureMenuScroll:!BI(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Xse(),formatGroupLabel:dae,getOptionLabel:hae,getOptionValue:fae,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:mae,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!wne(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function OI(e,t,r,n){var s=PR(e,t,r),i=DR(e,t,r),o=LR(e,t),l=qy(e,t);return{type:"option",data:t,isDisabled:s,isSelected:i,label:o,value:l,index:n}}function Mw(e,t){return e.options.map(function(r,n){if("options"in r){var s=r.options.map(function(o,l){return OI(e,o,t,l)}).filter(function(o){return MI(e,o)});return s.length>0?{type:"group",data:r,options:s,index:n}:void 0}var i=OI(e,r,t,n);return MI(e,i)?i:void 0}).filter(bne)}function TR(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,MS(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function RI(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,MS(n.options.map(function(s){return{data:s.data,id:"".concat(t,"-").concat(n.index,"-").concat(s.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function Cae(e,t){return TR(Mw(e,t))}function MI(e,t){var r=e.inputValue,n=r===void 0?"":r,s=t.data,i=t.isSelected,o=t.label,l=t.value;return(!RR(e)||!i)&&OR(e,{label:o,value:l,data:s},n)}function Nae(e,t){var r=e.focusedValue,n=e.selectValue,s=n.indexOf(r);if(s>-1){var i=t.indexOf(r);if(i>-1)return r;if(s<t.length)return t[s]}return null}function Bae(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var f5=function(t,r){var n,s=(n=t.find(function(i){return i.data===r}))===null||n===void 0?void 0:n.id;return s||null},LR=function(t,r){return t.getOptionLabel(r)},qy=function(t,r){return t.getOptionValue(r)};function PR(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function DR(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=qy(e,t);return r.some(function(s){return qy(e,s)===n})}function OR(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var RR=function(t){var r=t.hideSelectedOptions,n=t.isMulti;return r===void 0?n:r},Sae=1,MR=function(e){Zte(r,e);var t=tre(r);function r(n){var s;if(Xte(this,r),s=t.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=uae(),s.controlRef=null,s.getControlRef=function(A){s.controlRef=A},s.focusedOptionRef=null,s.getFocusedOptionRef=function(A){s.focusedOptionRef=A},s.menuListRef=null,s.getMenuListRef=function(A){s.menuListRef=A},s.inputRef=null,s.getInputRef=function(A){s.inputRef=A},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(A,u){var h=s.props,m=h.onChange,w=h.name;u.name=w,s.ariaOnChange(A,u),m(A,u)},s.setValue=function(A,u,h){var m=s.props,w=m.closeMenuOnSelect,p=m.isMulti,b=m.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:b}),w&&(s.setState({inputIsHiddenAfterUpdate:!p}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(A,{action:u,option:h})},s.selectOption=function(A){var u=s.props,h=u.blurInputOnSelect,m=u.isMulti,w=u.name,p=s.state.selectValue,b=m&&s.isOptionSelected(A,p),N=s.isOptionDisabled(A,p);if(b){var j=s.getOptionValue(A);s.setValue(p.filter(function(y){return s.getOptionValue(y)!==j}),"deselect-option",A)}else if(!N)m?s.setValue([].concat(MS(p),[A]),"select-option",A):s.setValue(A,"select-option");else{s.ariaOnChange(A,{action:"select-option",option:A,name:w});return}h&&s.blurInput()},s.removeValue=function(A){var u=s.props.isMulti,h=s.state.selectValue,m=s.getOptionValue(A),w=h.filter(function(b){return s.getOptionValue(b)!==m}),p=Sx(u,w,w[0]||null);s.onChange(p,{action:"remove-value",removedValue:A}),s.focusInput()},s.clearValue=function(){var A=s.state.selectValue;s.onChange(Sx(s.props.isMulti,[],null),{action:"clear",removedValues:A})},s.popValue=function(){var A=s.props.isMulti,u=s.state.selectValue,h=u[u.length-1],m=u.slice(0,u.length-1),w=Sx(A,m,m[0]||null);h&&s.onChange(w,{action:"pop-value",removedValue:h})},s.getFocusedOptionId=function(A){return f5(s.state.focusableOptionsWithIds,A)},s.getFocusableOptionsWithIds=function(){return RI(Mw(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var A=arguments.length,u=new Array(A),h=0;h<A;h++)u[h]=arguments[h];return fne.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(A){return LR(s.props,A)},s.getOptionValue=function(A){return qy(s.props,A)},s.getStyles=function(A,u){var h=s.props.unstyled,m=pae[A](u,h);m.boxSizing="border-box";var w=s.props.styles[A];return w?w(m,u):m},s.getClassNames=function(A,u){var h,m;return(h=(m=s.props.classNames)[A])===null||h===void 0?void 0:h.call(m,u)},s.getElementId=function(A){return"".concat(s.state.instancePrefix,"-").concat(A)},s.getComponents=function(){return Rse(s.props)},s.buildCategorizedOptions=function(){return Mw(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return TR(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(A,u){s.setState({ariaSelection:Ar({value:A},u)})},s.onMenuMouseDown=function(A){A.button===0&&(A.stopPropagation(),A.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(A){s.blockOptionHover=!1},s.onControlMouseDown=function(A){if(!A.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?A.target.tagName!=="INPUT"&&A.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),A.target.tagName!=="INPUT"&&A.target.tagName!=="TEXTAREA"&&A.preventDefault()}},s.onDropdownIndicatorMouseDown=function(A){if(!(A&&A.type==="mousedown"&&A.button!==0)&&!s.props.isDisabled){var u=s.props,h=u.isMulti,m=u.menuIsOpen;s.focusInput(),m?(s.setState({inputIsHiddenAfterUpdate:!h}),s.onMenuClose()):s.openMenu("first"),A.preventDefault()}},s.onClearIndicatorMouseDown=function(A){A&&A.type==="mousedown"&&A.button!==0||(s.clearValue(),A.preventDefault(),s.openAfterFocus=!1,A.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(A){typeof s.props.closeMenuOnScroll=="boolean"?A.target instanceof HTMLElement&&Sv(A.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(A)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(A){var u=A.touches,h=u&&u.item(0);h&&(s.initialTouchX=h.clientX,s.initialTouchY=h.clientY,s.userIsDragging=!1)},s.onTouchMove=function(A){var u=A.touches,h=u&&u.item(0);if(h){var m=Math.abs(h.clientX-s.initialTouchX),w=Math.abs(h.clientY-s.initialTouchY),p=5;s.userIsDragging=m>p||w>p}},s.onTouchEnd=function(A){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(A.target)&&s.menuListRef&&!s.menuListRef.contains(A.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(A){s.userIsDragging||s.onControlMouseDown(A)},s.onClearIndicatorTouchEnd=function(A){s.userIsDragging||s.onClearIndicatorMouseDown(A)},s.onDropdownIndicatorTouchEnd=function(A){s.userIsDragging||s.onDropdownIndicatorMouseDown(A)},s.handleInputChange=function(A){var u=s.props.inputValue,h=A.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(h,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(A){s.props.onFocus&&s.props.onFocus(A),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(A){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(A),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(A){if(!(s.blockOptionHover||s.state.focusedOption===A)){var u=s.getFocusableOptions(),h=u.indexOf(A);s.setState({focusedOption:A,focusedOptionId:h>-1?s.getFocusedOptionId(A):null})}},s.shouldHideSelectedOptions=function(){return RR(s.props)},s.onValueInputFocus=function(A){A.preventDefault(),A.stopPropagation(),s.focus()},s.onKeyDown=function(A){var u=s.props,h=u.isMulti,m=u.backspaceRemovesValue,w=u.escapeClearsValue,p=u.inputValue,b=u.isClearable,N=u.isDisabled,j=u.menuIsOpen,y=u.onKeyDown,B=u.tabSelectsValue,I=u.openMenuOnFocus,_=s.state,O=_.focusedOption,H=_.focusedValue,D=_.selectValue;if(!N&&!(typeof y=="function"&&(y(A),A.defaultPrevented))){switch(s.blockOptionHover=!0,A.key){case"ArrowLeft":if(!h||p)return;s.focusValue("previous");break;case"ArrowRight":if(!h||p)return;s.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(H)s.removeValue(H);else{if(!m)return;h?s.popValue():b&&s.clearValue()}break;case"Tab":if(s.isComposing||A.shiftKey||!j||!B||!O||I&&s.isOptionSelected(O,D))return;s.selectOption(O);break;case"Enter":if(A.keyCode===229)break;if(j){if(!O||s.isComposing)return;s.selectOption(O);break}return;case"Escape":j?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:p}),s.onMenuClose()):b&&w&&s.clearValue();break;case" ":if(p)return;if(!j){s.openMenu("first");break}if(!O)return;s.selectOption(O);break;case"ArrowUp":j?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":j?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!j)return;s.focusOption("pageup");break;case"PageDown":if(!j)return;s.focusOption("pagedown");break;case"Home":if(!j)return;s.focusOption("first");break;case"End":if(!j)return;s.focusOption("last");break;default:return}A.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++Sae),s.state.selectValue=CI(n.value),n.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=f5(i,o[l])}return s}return Yte(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&NI(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,A=this.state.isFocused;(A&&!o&&s.isDisabled||A&&l&&!s.menuIsOpen)&&this.focusInput(),A&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!A&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(NI(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,A=o.isFocused,u=this.buildFocusableOptions(),h=s==="first"?0:u.length-1;if(!this.props.isMulti){var m=u.indexOf(l[0]);m>-1&&(h=m)}this.scrollToFocusedOptionOnUpdate=!(A&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[h],focusedOptionId:this.getFocusedOptionId(u[h])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var A=o.indexOf(l);l||(A=-1);var u=o.length-1,h=-1;if(o.length){switch(s){case"previous":A===0?h=0:A===-1?h=u:h=A-1;break;case"next":A>-1&&A<u&&(h=A+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var A=0,u=l.indexOf(o);o||(u=-1),s==="up"?A=u>0?u-1:l.length-1:s==="down"?A=(u+1)%l.length:s==="pageup"?(A=u-i,A<0&&(A=0)):s==="pagedown"?(A=u+i,A>l.length-1&&(A=l.length-1)):s==="last"&&(A=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[A],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[A])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(h5):Ar(Ar({},h5),this.props.theme):h5}},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,A=this.getValue,u=this.selectOption,h=this.setValue,m=this.props,w=m.isMulti,p=m.isRtl,b=m.options,N=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:A,hasValue:N,isMulti:w,isRtl:p,options:b,selectOption:u,selectProps:m,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return PR(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return DR(this.props,s,i)}},{key:"filterOption",value:function(s,i){return OR(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,A=s.inputValue,u=s.tabIndex,h=s.form,m=s.menuIsOpen,w=s.required,p=this.getComponents(),b=p.Input,N=this.state,j=N.inputIsHidden,y=N.ariaSelection,B=this.commonProps,I=l||this.getElementId("input"),_=Ar(Ar(Ar({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":w,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(y==null?void 0:y.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?C.createElement(b,mr({},B,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:I,innerRef:this.getInputRef,isDisabled:i,isHidden:j,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:h,type:"text",value:A},_)):C.createElement(Zse,mr({id:I,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:zy,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:h,value:""},_))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,A=i.MultiValueLabel,u=i.MultiValueRemove,h=i.SingleValue,m=i.Placeholder,w=this.commonProps,p=this.props,b=p.controlShouldRenderValue,N=p.isDisabled,j=p.isMulti,y=p.inputValue,B=p.placeholder,I=this.state,_=I.selectValue,O=I.focusedValue,H=I.isFocused;if(!this.hasValue()||!b)return y?null:C.createElement(m,mr({},w,{key:"placeholder",isDisabled:N,isFocused:H,innerProps:{id:this.getElementId("placeholder")}}),B);if(j)return _.map(function(L,T){var G=L===O,M="".concat(s.getOptionLabel(L),"-").concat(s.getOptionValue(L));return C.createElement(o,mr({},w,{components:{Container:l,Label:A,Remove:u},isFocused:G,isDisabled:N,key:M,index:T,removeProps:{onClick:function(){return s.removeValue(L)},onTouchEnd:function(){return s.removeValue(L)},onMouseDown:function(J){J.preventDefault()}},data:L}),s.formatOptionLabel(L,"value"))});if(y)return null;var D=_[0];return C.createElement(h,mr({},w,{data:D,isDisabled:N}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,A=l.isDisabled,u=l.isLoading,h=this.state.isFocused;if(!this.isClearable()||!i||A||!this.hasValue()||u)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(i,mr({},o,{innerProps:m,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,A=l.isDisabled,u=l.isLoading,h=this.state.isFocused;if(!i||!u)return null;var m={"aria-hidden":"true"};return C.createElement(i,mr({},o,{innerProps:m,isDisabled:A,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,A=this.props.isDisabled,u=this.state.isFocused;return C.createElement(o,mr({},l,{isDisabled:A,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,A=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return C.createElement(i,mr({},o,{innerProps:u,isDisabled:l,isFocused:A}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,A=i.Menu,u=i.MenuList,h=i.MenuPortal,m=i.LoadingMessage,w=i.NoOptionsMessage,p=i.Option,b=this.commonProps,N=this.state.focusedOption,j=this.props,y=j.captureMenuScroll,B=j.inputValue,I=j.isLoading,_=j.loadingMessage,O=j.minMenuHeight,H=j.maxMenuHeight,D=j.menuIsOpen,L=j.menuPlacement,T=j.menuPosition,G=j.menuPortalTarget,M=j.menuShouldBlockScroll,V=j.menuShouldScrollIntoView,J=j.noOptionsMessage,Z=j.onMenuScrollToTop,ee=j.onMenuScrollToBottom;if(!D)return null;var q=function(Y,se){var ce=Y.type,Ae=Y.data,ge=Y.isDisabled,fe=Y.isSelected,je=Y.label,ke=Y.value,Te=N===Ae,De=ge?void 0:function(){return s.onOptionHover(Ae)},Qe=ge?void 0:function(){return s.selectOption(Ae)},Ne="".concat(s.getElementId("option"),"-").concat(se),pe={id:Ne,onClick:Qe,onMouseMove:De,onMouseOver:De,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:fe};return C.createElement(p,mr({},b,{innerProps:pe,data:Ae,isDisabled:ge,isSelected:fe,key:Ne,label:je,type:ce,value:ke,isFocused:Te,innerRef:Te?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(Y.data,"menu"))},W;if(this.hasOptions())W=this.getCategorizedOptions().map(function(U){if(U.type==="group"){var Y=U.data,se=U.options,ce=U.index,Ae="".concat(s.getElementId("group"),"-").concat(ce),ge="".concat(Ae,"-heading");return C.createElement(o,mr({},b,{key:Ae,data:Y,options:se,Heading:l,headingProps:{id:ge,data:U.data},label:s.formatGroupLabel(U.data)}),U.options.map(function(fe){return q(fe,"".concat(ce,"-").concat(fe.index))}))}else if(U.type==="option")return q(U,"".concat(U.index))});else if(I){var X=_({inputValue:B});if(X===null)return null;W=C.createElement(m,b,X)}else{var K=J({inputValue:B});if(K===null)return null;W=C.createElement(w,b,K)}var le={minMenuHeight:O,maxMenuHeight:H,menuPlacement:L,menuPosition:T,menuShouldScrollIntoView:V},ne=C.createElement(Fne,mr({},b,le),function(U){var Y=U.ref,se=U.placerProps,ce=se.placement,Ae=se.maxHeight;return C.createElement(A,mr({},b,le,{innerRef:Y,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:I,placement:ce}),C.createElement(sae,{captureEnabled:y,onTopArrive:Z,onBottomArrive:ee,lockEnabled:M},function(ge){return C.createElement(u,mr({},b,{innerRef:function(je){s.getMenuListRef(je),ge(je)},innerProps:{role:"listbox","aria-multiselectable":b.isMulti,id:s.getElementId("listbox")},isLoading:I,maxHeight:Ae,focusedOption:N}),W)}))});return G||T==="fixed"?C.createElement(h,mr({},b,{appendTo:G,controlElement:this.controlRef,menuPlacement:L,menuPosition:T}),ne):ne}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,A=i.isMulti,u=i.name,h=i.required,m=this.state.selectValue;if(h&&!this.hasValue()&&!l)return C.createElement(oae,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(A)if(o){var w=m.map(function(N){return s.getOptionValue(N)}).join(o);return C.createElement("input",{name:u,type:"hidden",value:w})}else{var p=m.length>0?m.map(function(N,j){return C.createElement("input",{key:"i-".concat(j),name:u,type:"hidden",value:s.getOptionValue(N)})}):C.createElement("input",{name:u,type:"hidden",value:""});return C.createElement("div",null,p)}else{var b=m[0]?this.getOptionValue(m[0]):"";return C.createElement("input",{name:u,type:"hidden",value:b})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,A=i.focusedValue,u=i.isFocused,h=i.selectValue,m=this.getFocusableOptions();return C.createElement(Gse,mr({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:A,isFocused:u,selectValue:h,focusableOptions:m,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,A=s.ValueContainer,u=this.props,h=u.className,m=u.id,w=u.isDisabled,p=u.menuIsOpen,b=this.state.isFocused,N=this.commonProps=this.getCommonProps();return C.createElement(l,mr({},N,{className:h,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:w,isFocused:b}),this.renderLiveRegion(),C.createElement(i,mr({},N,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:w,isFocused:b,menuIsOpen:p}),C.createElement(A,mr({},N,{isDisabled:w}),this.renderPlaceholderOrValue(),this.renderInput()),C.createElement(o,mr({},N,{isDisabled:w}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,A=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,h=i.isFocused,m=i.prevWasFocused,w=i.instancePrefix,p=s.options,b=s.value,N=s.menuIsOpen,j=s.inputValue,y=s.isMulti,B=CI(b),I={};if(o&&(b!==o.value||p!==o.options||N!==o.menuIsOpen||j!==o.inputValue)){var _=N?Cae(s,B):[],O=N?RI(Mw(s,B),"".concat(w,"-option")):[],H=l?Nae(i,B):null,D=Bae(i,_),L=f5(O,D);I={selectValue:B,focusedOption:D,focusedOptionId:L,focusableOptionsWithIds:O,focusedValue:H,clearFocusValueOnUpdate:!1}}var T=A!=null&&s!==o?{inputIsHidden:A,inputIsHiddenAfterUpdate:void 0}:{},G=u,M=h&&m;return h&&!M&&(G={value:Sx(y,B,B[0]||null),options:B,action:"initial-input-focus"},M=!m),(u==null?void 0:u.action)==="initial-input-focus"&&(G=null),Ar(Ar(Ar({},I),T),{},{prevProps:s,ariaSelection:G,prevWasFocused:M})}}]),r}(C.Component);MR.defaultProps=bae;var Eae=C.forwardRef(function(e,t){var r=qte(e);return C.createElement(MR,mr({ref:t},r))}),bi=Eae;const UR=()=>{const e=Ur(),[t,r]=C.useState({name:"",registrationNumber:"",fatherName:"",aadharNumber:"",email:"",phone:"",address:"",branchId:null,membershipStart:"",membershipEnd:"",seatId:null,shiftIds:[],lockerId:null,totalFee:"",cash:"",online:"",securityMoney:"",remark:"",image:null,imageUrl:null,aadhaarFront:null,aadhaarFrontUrl:null,aadhaarBack:null,aadhaarBackUrl:null,discount:"0"}),[n,s]=C.useState([]),[i,o]=C.useState([]),[l,A]=C.useState([]),[u,h]=C.useState([]),[m,w]=C.useState([]),[p,b]=C.useState(!1),[N,j]=C.useState(!1),[y,B]=C.useState(!1),[I,_]=C.useState(null);C.useEffect(()=>{(async()=>{try{const U=await Re.getBranches();s(U),_(null)}catch(U){console.error("Failed to fetch branches:",U),_("You do not have permission to view branches. Contact an admin."),Ee.error("Failed to load branches. Check your permissions.")}})()},[]),C.useEffect(()=>{(async()=>{if(t.branchId!==null){b(!0),B(!0);try{const U=Re.getSeats({branchId:t.branchId}),Y=Re.getLockers(t.branchId),[se,ce]=await Promise.all([U,Y]);o(se.seats),w(ce.lockers),_(null)}catch(U){console.error("Failed to fetch branch data:",U),_("Failed to load seats and lockers for this branch. Check permissions."),Ee.error("Failed to load seats and lockers.")}finally{b(!1),B(!1)}}else o([]),w([])})()},[t.branchId]),C.useEffect(()=>{(async()=>{if(t.branchId){j(!0);try{const Y=(await Re.getSchedules(t.branchId)).schedules.map(se=>({...se,fee:se.fee??0}));A(Y),_(null)}catch(U){console.error("Failed to fetch shifts for branch:",U),_("Failed to load shifts for the selected branch."),Ee.error("Failed to load shifts."),A([])}finally{j(!1)}}else A([])})()},[t.branchId]),C.useEffect(()=>{(async()=>{if(t.branchId&&u.length>0){b(!0);try{const se=((await Re.getSeats({branchId:t.branchId})).seats||[]).filter(ce=>u.every(Ae=>{const ge=(ce.shifts||[]).find(fe=>fe.shiftId===Ae);return ge?!ge.isAssigned:!0}));o(se)}catch(U){console.error("Failed to fetch seats for shifts:",U),o([])}finally{b(!1)}}else if(t.branchId&&u.length===0){b(!0);try{const U=await Re.getSeats({branchId:t.branchId});o(U.seats||[])}catch(U){console.error("Failed to fetch seats:",U),o([])}finally{b(!1)}}})()},[t.branchId,u]);const O=ne=>{const{name:U,value:Y}=ne.target;r(se=>({...se,[U]:Y}))},H=(ne,U)=>{const Y=U?U.value:null;ne==="branchId"?(r(se=>({...se,branchId:Y,seatId:null,shiftIds:[],lockerId:null,totalFee:""})),h([])):r(ne==="seatId"?se=>({...se,seatId:Y}):se=>({...se,[ne]:Y}))},D=ne=>{const U=ne?ne.map(Y=>Y.value):[];h(U),r(Y=>({...Y,shiftIds:U})),r(Y=>({...Y,seatId:null}))},L=ne=>{const U=ne.target.files?ne.target.files[0]:null;if(U){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(U.type)){Ee.error("Only JPEG, JPG, PNG, and GIF images are allowed");return}if(U.size>200*1024){Ee.error("Image size exceeds 200KB limit");return}r(Y=>({...Y,image:U}))}},T=ne=>{const U=ne.target.files?ne.target.files[0]:null;if(U){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(U.type)){Ee.error("Only JPEG, JPG, PNG, and GIF images are allowed for Aadhaar front");return}if(U.size>200*1024){Ee.error("Aadhaar front image size exceeds 200KB limit");return}r(Y=>({...Y,aadhaarFront:U}))}},G=ne=>{const U=ne.target.files?ne.target.files[0]:null;if(U){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(U.type)){Ee.error("Only JPEG, JPG, PNG, and GIF images are allowed for Aadhaar back");return}if(U.size>200*1024){Ee.error("Aadhaar back image size exceeds 200KB limit");return}r(Y=>({...Y,aadhaarBack:U}))}},M=n.map(ne=>({value:ne.id,label:ne.name})),V=[{value:null,label:"None",isDisabled:!1},...i.map(ne=>({value:ne.id,label:ne.seatNumber,isDisabled:!1}))],J=[{value:null,label:"None",isDisabled:!1},...m.filter(ne=>!ne.isAssigned).map(ne=>({value:ne.id,label:ne.lockerNumber,isDisabled:!1}))],Z=l.map(ne=>({value:ne.id,label:`${ne.title} [Rs.${ne.fee}] ${ne.description?`[${ne.description}]`:""}`.trim(),isDisabled:!1}));C.useEffect(()=>{if(t.shiftIds&&t.shiftIds.length>0){const ne=l.filter(U=>t.shiftIds.includes(U.id)).reduce((U,Y)=>U+(Y.fee??0),0);r(U=>({...U,totalFee:ne.toString()}))}else t.totalFee&&t.totalFee!==""||r(ne=>({...ne,totalFee:""}))},[t.shiftIds,l]);const ee=async()=>{var ne;if(!t.name||!t.phone||t.branchId===null||!t.membershipStart||!t.membershipEnd||t.shiftIds.length===0){Ee.error("Please fill in all required fields (Name, Phone, Branch, Membership Start, Membership End, Shifts)");return}try{let U=t.imageUrl||"";if(t.image){const Ae=new FormData;Ae.append("image",t.image),U=(await Re.uploadImage(Ae)).imageUrl||""}let Y=t.aadhaarFrontUrl||"";if(t.aadhaarFront){const Ae=new FormData;Ae.append("image",t.aadhaarFront),Y=(await Re.uploadImage(Ae)).imageUrl||""}let se=t.aadhaarBackUrl||"";if(t.aadhaarBack){const Ae=new FormData;Ae.append("image",t.aadhaarBack),se=(await Re.uploadImage(Ae)).imageUrl||""}const ce={name:t.name,registrationNumber:t.registrationNumber||void 0,fatherName:t.fatherName||void 0,aadharNumber:t.aadharNumber||void 0,email:t.email||void 0,phone:t.phone,address:((ne=t.address)==null?void 0:ne.trim())||void 0,branchId:t.branchId,membershipStart:t.membershipStart,membershipEnd:t.membershipEnd,totalFee:t.totalFee?parseFloat(t.totalFee):0,amountPaid:(parseFloat(t.cash)||0)+(parseFloat(t.online)||0),cash:parseFloat(t.cash)||0,online:parseFloat(t.online)||0,securityMoney:parseFloat(t.securityMoney)||0,discount:parseFloat(t.discount)||0,remark:t.remark||void 0,profileImageUrl:U||void 0,aadhaarFrontUrl:Y||void 0,aadhaarBackUrl:se||void 0,seatId:t.seatId!==null?t.seatId:void 0,shiftIds:t.shiftIds,lockerId:t.lockerId!==null?t.lockerId:void 0};await Re.addStudent(ce),Ee.success("Student added successfully"),e("/students")}catch(U){console.error("Failed to add student:",U),Ee.error(U.message||"Failed to add student")}},q=parseFloat(t.cash)||0,W=parseFloat(t.online)||0,X=q+W,le=(parseFloat(t.totalFee)||0)-(parseFloat(t.discount)||0)-X;return a.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add New Student"}),I&&a.jsx("div",{className:"text-red-500 mb-4",children:I}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number *"}),a.jsx("input",{type:"text",id:"registrationNumber",name:"registrationNumber",value:t.registrationNumber||"",onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fatherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),a.jsx("input",{type:"text",id:"fatherName",name:"fatherName",value:t.fatherName||"",onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadharNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),a.jsx("input",{type:"text",id:"aadharNumber",name:"aadharNumber",value:t.aadharNumber||"",onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:t.email||"",onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),a.jsx("input",{type:"text",id:"phone",name:"phone",value:t.phone,onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),a.jsx("input",{type:"text",id:"address",name:"address",value:t.address||"",onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch *"}),a.jsx(bi,{options:M,value:M.find(ne=>ne.value===t.branchId)||null,onChange:ne=>H("branchId",ne),placeholder:"Select a branch",className:"w-full",isDisabled:n.length===0,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipStart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership Start *"}),a.jsx("input",{type:"date",id:"membershipStart",name:"membershipStart",value:t.membershipStart,onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipEnd",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership End *"}),a.jsx("input",{type:"date",id:"membershipEnd",name:"membershipEnd",value:t.membershipEnd,onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"shiftId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Shifts *"}),a.jsx(bi,{isMulti:!0,options:Z,value:Z.filter(ne=>u.includes(ne.value)),onChange:ne=>D(ne),isLoading:N,placeholder:N?"Loading shifts...":t.branchId?l.length===0?"No shifts found for this branch":"Select shifts":"Select a branch first",className:"w-full",isDisabled:!t.branchId||N})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"seatId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Seat *"}),a.jsx(bi,{options:V,value:V.find(ne=>ne.value===t.seatId)||null,onChange:ne=>H("seatId",ne),isLoading:p,placeholder:t.branchId?u.length===0?"Select shifts first":i.length===0?"No available seats for selected shifts":"Select a seat":"Select a branch first",className:"w-full",isDisabled:!t.branchId||u.length===0||i.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lockerId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Locker"}),a.jsx(bi,{options:J,value:J.find(ne=>ne.value===t.lockerId)||null,onChange:ne=>H("lockerId",ne),isLoading:y,placeholder:t.branchId?"Select an available locker":"Select a branch first",className:"w-full",isDisabled:!t.branchId||m.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"totalFee",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee *"}),a.jsx("input",{type:"number",id:"totalFee",name:"totalFee",value:t.totalFee,onChange:O,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount"}),a.jsx("input",{type:"number",id:"discount",name:"discount",value:t.discount,onChange:O,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cash",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Payment"}),a.jsx("input",{type:"number",id:"cash",name:"cash",value:t.cash,onChange:O,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"online",className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Payment"}),a.jsx("input",{type:"number",id:"online",name:"online",value:t.online,onChange:O,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"securityMoney",className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money"}),a.jsx("input",{type:"number",id:"securityMoney",name:"securityMoney",value:t.securityMoney,onChange:O,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount Paid"}),a.jsx("input",{type:"number",id:"amountPaid",name:"amountPaid",value:X.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dueAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),a.jsx("input",{type:"number",id:"dueAmount",name:"dueAmount",value:le.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"remark",className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{id:"remark",name:"remark",value:t.remark||"",onChange:O,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image (max 200KB)"}),a.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:L,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarFront",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Front Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarFront",name:"aadhaarFront",accept:"image/*",onChange:T,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarBack",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Back Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarBack",name:"aadhaarBack",accept:"image/*",onChange:G,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),a.jsx("button",{onClick:ee,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-200",disabled:!!I,children:"Add Student"})]})]})},jae=e=>e||"N/A",Iae=({limit:e,selectedBranchId:t})=>{const[r,n]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(1),[A,u]=C.useState(5),h=Ur();C.useEffect(()=>{(async()=>{i(!0);try{const I=await Re.getExpiringSoon(t??void 0);if(!I||!Array.isArray(I.students))throw new Error("Invalid data received for expiring students");n(I.students)}catch(I){I.response&&I.response.status===401?(Ee.error("Session expired. Please log in again."),h("/login")):(console.error("Failed to fetch expiring memberships:",I.message),Ee.error("Failed to fetch expiring memberships")),n([])}finally{i(!1)}})()},[h,t]);const m=B=>{if(!B){Ee.error("No phone number available for this student.");return}let I=B.replace(/\D/g,"");I.length===10&&(I=`91${I}`);const _=`https://wa.me/${I}`;window.open(_,"_blank","noopener,noreferrer")},w=async B=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Re.deleteStudent(B),n(r.filter(I=>I.id!==B)),Ee.success("Student deleted successfully")}catch(I){console.error("Failed to delete student:",I.message),Ee.error("Failed to delete student")}},p=B=>{h(`/students/${B}`)};if(s)return a.jsx("div",{className:"flex justify-center p-4",children:"Loading expiring memberships..."});const b=e??o*A,N=e?0:b-A,j=r.slice(N,b),y=e?1:Math.ceil(r.length/A);return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-orange-100 p-2 rounded-lg",children:a.jsx(Ei,{size:20,className:"text-orange-500"})}),a.jsx("h3",{className:"ml-3 text-lg font-medium",children:"Expiring Memberships"})]})}),j.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-left",children:[a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Seat"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium hidden md:table-cell",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Expiry Date"}),a.jsx("th",{className:"px-6 py-3 text-gray-500 font-medium",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:j.map(B=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:B.name}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:B.seatNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:B.phone}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${B.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-orange-100 text-orange-800",children:jae(B.membershipEnd)})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("button",{onClick:()=>p(B.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",title:"View student details",children:a.jsx(ma,{size:16})}),a.jsx("button",{onClick:()=>w(B.id),className:"mr-2 text-red-600 hover:text-red-800 p-2",title:"Delete student",children:a.jsx(pa,{size:16})}),a.jsx("button",{onClick:()=>m(B.phone),className:"text-green-600 hover:text-green-800 p-2",title:`Send WhatsApp message to ${B.name}`,children:a.jsx(kS,{size:16})})]})]},B.id))})]})}):a.jsx("div",{className:"p-8 text-center text-gray-500",children:"No memberships expiring soon."}),!e&&r.length>0&&a.jsxs("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:justify-between md:space-y-0 border-t border-gray-200 px-6 py-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:A,onChange:B=>{u(Number(B.target.value)),l(1)},className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:5,children:"5"}),a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>l(B=>Math.max(B-1,1)),disabled:o===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(Ud,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",o," of ",y]}),a.jsx("button",{onClick:()=>l(B=>Math.min(B+1,y)),disabled:o===y,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(gr,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",N+1," to ",Math.min(b,r.length)," of"," ",r.length," students"]})]}),e&&r.length>e&&a.jsx("div",{className:"flex justify-center border-t border-gray-100 p-4",children:a.jsxs("button",{onClick:()=>h("/expiring-memberships"),className:"text-purple-600 hover:text-purple-800 text-sm font-medium flex items-center p-2",children:["View all expiring memberships ",a.jsx(gr,{size:16,className:"ml-1"})]})})]})},p1=function(e,t){let s=e;const i=up[t];let o=null,l=0,A=null;const u=[],h={},m=function(D,L){l=s*4+17,o=function(T){const G=new Array(T);for(let M=0;M<T;M+=1){G[M]=new Array(T);for(let V=0;V<T;V+=1)G[M][V]=null}return G}(l),w(0,0),w(l-7,0),w(0,l-7),N(),b(),y(D,L),s>=7&&j(D),A==null&&(A=_(s,i,u)),B(A,L)},w=function(D,L){for(let T=-1;T<=7;T+=1)if(!(D+T<=-1||l<=D+T))for(let G=-1;G<=7;G+=1)L+G<=-1||l<=L+G||(0<=T&&T<=6&&(G==0||G==6)||0<=G&&G<=6&&(T==0||T==6)||2<=T&&T<=4&&2<=G&&G<=4?o[D+T][L+G]=!0:o[D+T][L+G]=!1)},p=function(){let D=0,L=0;for(let T=0;T<8;T+=1){m(!0,T);const G=bu.getLostPoint(h);(T==0||D>G)&&(D=G,L=T)}return L},b=function(){for(let D=8;D<l-8;D+=1)o[D][6]==null&&(o[D][6]=D%2==0);for(let D=8;D<l-8;D+=1)o[6][D]==null&&(o[6][D]=D%2==0)},N=function(){const D=bu.getPatternPosition(s);for(let L=0;L<D.length;L+=1)for(let T=0;T<D.length;T+=1){const G=D[L],M=D[T];if(o[G][M]==null)for(let V=-2;V<=2;V+=1)for(let J=-2;J<=2;J+=1)V==-2||V==2||J==-2||J==2||V==0&&J==0?o[G+V][M+J]=!0:o[G+V][M+J]=!1}},j=function(D){const L=bu.getBCHTypeNumber(s);for(let T=0;T<18;T+=1){const G=!D&&(L>>T&1)==1;o[Math.floor(T/3)][T%3+l-8-3]=G}for(let T=0;T<18;T+=1){const G=!D&&(L>>T&1)==1;o[T%3+l-8-3][Math.floor(T/3)]=G}},y=function(D,L){const T=i<<3|L,G=bu.getBCHTypeInfo(T);for(let M=0;M<15;M+=1){const V=!D&&(G>>M&1)==1;M<6?o[M][8]=V:M<8?o[M+1][8]=V:o[l-15+M][8]=V}for(let M=0;M<15;M+=1){const V=!D&&(G>>M&1)==1;M<8?o[8][l-M-1]=V:M<9?o[8][15-M-1+1]=V:o[8][15-M-1]=V}o[l-8][8]=!D},B=function(D,L){let T=-1,G=l-1,M=7,V=0;const J=bu.getMaskFunction(L);for(let Z=l-1;Z>0;Z-=2)for(Z==6&&(Z-=1);;){for(let ee=0;ee<2;ee+=1)if(o[G][Z-ee]==null){let q=!1;V<D.length&&(q=(D[V]>>>M&1)==1),J(G,Z-ee)&&(q=!q),o[G][Z-ee]=q,M-=1,M==-1&&(V+=1,M=7)}if(G+=T,G<0||l<=G){G-=T,T=-T;break}}},I=function(D,L){let T=0,G=0,M=0;const V=new Array(L.length),J=new Array(L.length);for(let W=0;W<L.length;W+=1){const X=L[W].dataCount,K=L[W].totalCount-X;G=Math.max(G,X),M=Math.max(M,K),V[W]=new Array(X);for(let Y=0;Y<V[W].length;Y+=1)V[W][Y]=255&D.getBuffer()[Y+T];T+=X;const le=bu.getErrorCorrectPolynomial(K),U=_g(V[W],le.getLength()-1).mod(le);J[W]=new Array(le.getLength()-1);for(let Y=0;Y<J[W].length;Y+=1){const se=Y+U.getLength()-J[W].length;J[W][Y]=se>=0?U.getAt(se):0}}let Z=0;for(let W=0;W<L.length;W+=1)Z+=L[W].totalCount;const ee=new Array(Z);let q=0;for(let W=0;W<G;W+=1)for(let X=0;X<L.length;X+=1)W<V[X].length&&(ee[q]=V[X][W],q+=1);for(let W=0;W<M;W+=1)for(let X=0;X<L.length;X+=1)W<J[X].length&&(ee[q]=J[X][W],q+=1);return ee},_=function(D,L,T){const G=UI.getRSBlocks(D,L),M=QI();for(let J=0;J<T.length;J+=1){const Z=T[J];M.put(Z.getMode(),4),M.put(Z.getLength(),bu.getLengthInBits(Z.getMode(),D)),Z.write(M)}let V=0;for(let J=0;J<G.length;J+=1)V+=G[J].dataCount;if(M.getLengthInBits()>V*8)throw"code length overflow. ("+M.getLengthInBits()+">"+V*8+")";for(M.getLengthInBits()+4<=V*8&&M.put(0,4);M.getLengthInBits()%8!=0;)M.putBit(!1);for(;!(M.getLengthInBits()>=V*8||(M.put(236,8),M.getLengthInBits()>=V*8));)M.put(17,8);return I(M,G)};h.addData=function(D,L){L=L||"Byte";let T=null;switch(L){case"Numeric":T=Fae(D);break;case"Alphanumeric":T=kae(D);break;case"Byte":T=_ae(D);break;case"Kanji":T=Tae(D);break;default:throw"mode:"+L}u.push(T),A=null},h.isDark=function(D,L){if(D<0||l<=D||L<0||l<=L)throw D+","+L;return o[D][L]},h.getModuleCount=function(){return l},h.make=function(){if(s<1){let D=1;for(;D<40;D++){const L=UI.getRSBlocks(D,i),T=QI();for(let M=0;M<u.length;M++){const V=u[M];T.put(V.getMode(),4),T.put(V.getLength(),bu.getLengthInBits(V.getMode(),D)),V.write(T)}let G=0;for(let M=0;M<L.length;M++)G+=L[M].dataCount;if(T.getLengthInBits()<=G*8)break}s=D}m(!1,p())},h.createTableTag=function(D,L){D=D||2,L=typeof L>"u"?D*4:L;let T="";T+='<table style="',T+=" border-width: 0px; border-style: none;",T+=" border-collapse: collapse;",T+=" padding: 0px; margin: "+L+"px;",T+='">',T+="<tbody>";for(let G=0;G<h.getModuleCount();G+=1){T+="<tr>";for(let M=0;M<h.getModuleCount();M+=1)T+='<td style="',T+=" border-width: 0px; border-style: none;",T+=" border-collapse: collapse;",T+=" padding: 0px; margin: 0px;",T+=" width: "+D+"px;",T+=" height: "+D+"px;",T+=" background-color: ",T+=h.isDark(G,M)?"#000000":"#ffffff",T+=";",T+='"/>';T+="</tr>"}return T+="</tbody>",T+="</table>",T},h.createSvgTag=function(D,L,T,G){let M={};typeof arguments[0]=="object"&&(M=arguments[0],D=M.cellSize,L=M.margin,T=M.alt,G=M.title),D=D||2,L=typeof L>"u"?D*4:L,T=typeof T=="string"?{text:T}:T||{},T.text=T.text||null,T.id=T.text?T.id||"qrcode-description":null,G=typeof G=="string"?{text:G}:G||{},G.text=G.text||null,G.id=G.text?G.id||"qrcode-title":null;const V=h.getModuleCount()*D+L*2;let J,Z,ee,q,W="",X;for(X="l"+D+",0 0,"+D+" -"+D+",0 0,-"+D+"z ",W+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',W+=M.scalable?"":' width="'+V+'px" height="'+V+'px"',W+=' viewBox="0 0 '+V+" "+V+'" ',W+=' preserveAspectRatio="xMinYMin meet"',W+=G.text||T.text?' role="img" aria-labelledby="'+O([G.id,T.id].join(" ").trim())+'"':"",W+=">",W+=G.text?'<title id="'+O(G.id)+'">'+O(G.text)+"</title>":"",W+=T.text?'<description id="'+O(T.id)+'">'+O(T.text)+"</description>":"",W+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',W+='<path d="',ee=0;ee<h.getModuleCount();ee+=1)for(q=ee*D+L,J=0;J<h.getModuleCount();J+=1)h.isDark(ee,J)&&(Z=J*D+L,W+="M"+Z+","+q+X);return W+='" stroke="transparent" fill="black"/>',W+="</svg>",W},h.createDataURL=function(D,L){D=D||2,L=typeof L>"u"?D*4:L;const T=h.getModuleCount()*D+L*2,G=L,M=T-L;return Oae(T,T,function(V,J){if(G<=V&&V<M&&G<=J&&J<M){const Z=Math.floor((V-G)/D),ee=Math.floor((J-G)/D);return h.isDark(ee,Z)?0:1}else return 1})},h.createImgTag=function(D,L,T){D=D||2,L=typeof L>"u"?D*4:L;const G=h.getModuleCount()*D+L*2;let M="";return M+="<img",M+=' src="',M+=h.createDataURL(D,L),M+='"',M+=' width="',M+=G,M+='"',M+=' height="',M+=G,M+='"',T&&(M+=' alt="',M+=O(T),M+='"'),M+="/>",M};const O=function(D){let L="";for(let T=0;T<D.length;T+=1){const G=D.charAt(T);switch(G){case"<":L+="&lt;";break;case">":L+="&gt;";break;case"&":L+="&amp;";break;case'"':L+="&quot;";break;default:L+=G;break}}return L},H=function(D){D=typeof D>"u"?1*2:D;const T=h.getModuleCount()*1+D*2,G=D,M=T-D;let V,J,Z,ee,q;const W={"":""," ":""," ":"","  ":" "},X={"":""," ":""," ":" ","  ":" "};let K="";for(V=0;V<T;V+=2){for(Z=Math.floor((V-G)/1),ee=Math.floor((V+1-G)/1),J=0;J<T;J+=1)q="",G<=J&&J<M&&G<=V&&V<M&&h.isDark(Z,Math.floor((J-G)/1))&&(q=" "),G<=J&&J<M&&G<=V+1&&V+1<M&&h.isDark(ee,Math.floor((J-G)/1))?q+=" ":q+="",K+=D<1&&V+1>=M?X[q]:W[q];K+=`
`}return T%2&&D>0?K.substring(0,K.length-T-1)+Array(T+1).join(""):K.substring(0,K.length-1)};return h.createASCII=function(D,L){if(D=D||1,D<2)return H(L);D-=1,L=typeof L>"u"?D*2:L;const T=h.getModuleCount()*D+L*2,G=L,M=T-L;let V,J,Z,ee;const q=Array(D+1).join(""),W=Array(D+1).join("  ");let X="",K="";for(V=0;V<T;V+=1){for(Z=Math.floor((V-G)/D),K="",J=0;J<T;J+=1)ee=1,G<=J&&J<M&&G<=V&&V<M&&h.isDark(Z,Math.floor((J-G)/D))&&(ee=0),K+=ee?q:W;for(Z=0;Z<D;Z+=1)X+=K+`
`}return X.substring(0,X.length-1)},h.renderTo2dContext=function(D,L){L=L||2;const T=h.getModuleCount();for(let G=0;G<T;G++)for(let M=0;M<T;M++)D.fillStyle=h.isDark(G,M)?"black":"white",D.fillRect(G*L,M*L,L,L)},h};p1.stringToBytes=function(e){const t=[];for(let r=0;r<e.length;r+=1){const n=e.charCodeAt(r);t.push(n&255)}return t};p1.createStringToBytes=function(e,t){const r=function(){const s=Pae(e),i=function(){const A=s.read();if(A==-1)throw"eof";return A};let o=0;const l={};for(;;){const A=s.read();if(A==-1)break;const u=i(),h=i(),m=i(),w=String.fromCharCode(A<<8|u),p=h<<8|m;l[w]=p,o+=1}if(o!=t)throw o+" != "+t;return l}(),n=63;return function(s){const i=[];for(let o=0;o<s.length;o+=1){const l=s.charCodeAt(o);if(l<128)i.push(l);else{const A=r[s.charAt(o)];typeof A=="number"?(A&255)==A?i.push(A):(i.push(A>>>8),i.push(A&255)):i.push(n)}}return i}};const Ja={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},up={L:1,M:0,Q:3,H:2},vu={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},bu=function(){const e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],t=1335,r=7973,n=21522,s={},i=function(o){let l=0;for(;o!=0;)l+=1,o>>>=1;return l};return s.getBCHTypeInfo=function(o){let l=o<<10;for(;i(l)-i(t)>=0;)l^=t<<i(l)-i(t);return(o<<10|l)^n},s.getBCHTypeNumber=function(o){let l=o<<12;for(;i(l)-i(r)>=0;)l^=r<<i(l)-i(r);return o<<12|l},s.getPatternPosition=function(o){return e[o-1]},s.getMaskFunction=function(o){switch(o){case vu.PATTERN000:return function(l,A){return(l+A)%2==0};case vu.PATTERN001:return function(l,A){return l%2==0};case vu.PATTERN010:return function(l,A){return A%3==0};case vu.PATTERN011:return function(l,A){return(l+A)%3==0};case vu.PATTERN100:return function(l,A){return(Math.floor(l/2)+Math.floor(A/3))%2==0};case vu.PATTERN101:return function(l,A){return l*A%2+l*A%3==0};case vu.PATTERN110:return function(l,A){return(l*A%2+l*A%3)%2==0};case vu.PATTERN111:return function(l,A){return(l*A%3+(l+A)%2)%2==0};default:throw"bad maskPattern:"+o}},s.getErrorCorrectPolynomial=function(o){let l=_g([1],0);for(let A=0;A<o;A+=1)l=l.multiply(_g([1,Eu.gexp(A)],0));return l},s.getLengthInBits=function(o,l){if(1<=l&&l<10)switch(o){case Ja.MODE_NUMBER:return 10;case Ja.MODE_ALPHA_NUM:return 9;case Ja.MODE_8BIT_BYTE:return 8;case Ja.MODE_KANJI:return 8;default:throw"mode:"+o}else if(l<27)switch(o){case Ja.MODE_NUMBER:return 12;case Ja.MODE_ALPHA_NUM:return 11;case Ja.MODE_8BIT_BYTE:return 16;case Ja.MODE_KANJI:return 10;default:throw"mode:"+o}else if(l<41)switch(o){case Ja.MODE_NUMBER:return 14;case Ja.MODE_ALPHA_NUM:return 13;case Ja.MODE_8BIT_BYTE:return 16;case Ja.MODE_KANJI:return 12;default:throw"mode:"+o}else throw"type:"+l},s.getLostPoint=function(o){const l=o.getModuleCount();let A=0;for(let m=0;m<l;m+=1)for(let w=0;w<l;w+=1){let p=0;const b=o.isDark(m,w);for(let N=-1;N<=1;N+=1)if(!(m+N<0||l<=m+N))for(let j=-1;j<=1;j+=1)w+j<0||l<=w+j||N==0&&j==0||b==o.isDark(m+N,w+j)&&(p+=1);p>5&&(A+=3+p-5)}for(let m=0;m<l-1;m+=1)for(let w=0;w<l-1;w+=1){let p=0;o.isDark(m,w)&&(p+=1),o.isDark(m+1,w)&&(p+=1),o.isDark(m,w+1)&&(p+=1),o.isDark(m+1,w+1)&&(p+=1),(p==0||p==4)&&(A+=3)}for(let m=0;m<l;m+=1)for(let w=0;w<l-6;w+=1)o.isDark(m,w)&&!o.isDark(m,w+1)&&o.isDark(m,w+2)&&o.isDark(m,w+3)&&o.isDark(m,w+4)&&!o.isDark(m,w+5)&&o.isDark(m,w+6)&&(A+=40);for(let m=0;m<l;m+=1)for(let w=0;w<l-6;w+=1)o.isDark(w,m)&&!o.isDark(w+1,m)&&o.isDark(w+2,m)&&o.isDark(w+3,m)&&o.isDark(w+4,m)&&!o.isDark(w+5,m)&&o.isDark(w+6,m)&&(A+=40);let u=0;for(let m=0;m<l;m+=1)for(let w=0;w<l;w+=1)o.isDark(w,m)&&(u+=1);const h=Math.abs(100*u/l/l-50)/5;return A+=h*10,A},s}(),Eu=function(){const e=new Array(256),t=new Array(256);for(let n=0;n<8;n+=1)e[n]=1<<n;for(let n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(let n=0;n<255;n+=1)t[e[n]]=n;const r={};return r.glog=function(n){if(n<1)throw"glog("+n+")";return t[n]},r.gexp=function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return e[n]},r}(),_g=function(e,t){if(typeof e.length>"u")throw e.length+"/"+t;const r=function(){let s=0;for(;s<e.length&&e[s]==0;)s+=1;const i=new Array(e.length-s+t);for(let o=0;o<e.length-s;o+=1)i[o]=e[o+s];return i}(),n={};return n.getAt=function(s){return r[s]},n.getLength=function(){return r.length},n.multiply=function(s){const i=new Array(n.getLength()+s.getLength()-1);for(let o=0;o<n.getLength();o+=1)for(let l=0;l<s.getLength();l+=1)i[o+l]^=Eu.gexp(Eu.glog(n.getAt(o))+Eu.glog(s.getAt(l)));return _g(i,0)},n.mod=function(s){if(n.getLength()-s.getLength()<0)return n;const i=Eu.glog(n.getAt(0))-Eu.glog(s.getAt(0)),o=new Array(n.getLength());for(let l=0;l<n.getLength();l+=1)o[l]=n.getAt(l);for(let l=0;l<s.getLength();l+=1)o[l]^=Eu.gexp(Eu.glog(s.getAt(l))+i);return _g(o,0).mod(s)},n},UI=function(){const e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(s,i){const o={};return o.totalCount=s,o.dataCount=i,o},r={},n=function(s,i){switch(i){case up.L:return e[(s-1)*4+0];case up.M:return e[(s-1)*4+1];case up.Q:return e[(s-1)*4+2];case up.H:return e[(s-1)*4+3];default:return}};return r.getRSBlocks=function(s,i){const o=n(s,i);if(typeof o>"u")throw"bad rs block @ typeNumber:"+s+"/errorCorrectionLevel:"+i;const l=o.length/3,A=[];for(let u=0;u<l;u+=1){const h=o[u*3+0],m=o[u*3+1],w=o[u*3+2];for(let p=0;p<h;p+=1)A.push(t(m,w))}return A},r}(),QI=function(){const e=[];let t=0;const r={};return r.getBuffer=function(){return e},r.getAt=function(n){const s=Math.floor(n/8);return(e[s]>>>7-n%8&1)==1},r.put=function(n,s){for(let i=0;i<s;i+=1)r.putBit((n>>>s-i-1&1)==1)},r.getLengthInBits=function(){return t},r.putBit=function(n){const s=Math.floor(t/8);e.length<=s&&e.push(0),n&&(e[s]|=128>>>t%8),t+=1},r},Fae=function(e){const t=Ja.MODE_NUMBER,r=e,n={};n.getMode=function(){return t},n.getLength=function(o){return r.length},n.write=function(o){const l=r;let A=0;for(;A+2<l.length;)o.put(s(l.substring(A,A+3)),10),A+=3;A<l.length&&(l.length-A==1?o.put(s(l.substring(A,A+1)),4):l.length-A==2&&o.put(s(l.substring(A,A+2)),7))};const s=function(o){let l=0;for(let A=0;A<o.length;A+=1)l=l*10+i(o.charAt(A));return l},i=function(o){if("0"<=o&&o<="9")return o.charCodeAt(0)-48;throw"illegal char :"+o};return n},kae=function(e){const t=Ja.MODE_ALPHA_NUM,r=e,n={};n.getMode=function(){return t},n.getLength=function(i){return r.length},n.write=function(i){const o=r;let l=0;for(;l+1<o.length;)i.put(s(o.charAt(l))*45+s(o.charAt(l+1)),11),l+=2;l<o.length&&i.put(s(o.charAt(l)),6)};const s=function(i){if("0"<=i&&i<="9")return i.charCodeAt(0)-48;if("A"<=i&&i<="Z")return i.charCodeAt(0)-65+10;switch(i){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+i}};return n},_ae=function(e){const t=Ja.MODE_8BIT_BYTE,r=p1.stringToBytes(e),n={};return n.getMode=function(){return t},n.getLength=function(s){return r.length},n.write=function(s){for(let i=0;i<r.length;i+=1)s.put(r[i],8)},n},Tae=function(e){const t=Ja.MODE_KANJI,r=p1.stringToBytes;(function(i,o){const l=r(i);if(l.length!=2||(l[0]<<8|l[1])!=o)throw"sjis not supported."})("",38726);const n=r(e),s={};return s.getMode=function(){return t},s.getLength=function(i){return~~(n.length/2)},s.write=function(i){const o=n;let l=0;for(;l+1<o.length;){let A=(255&o[l])<<8|255&o[l+1];if(33088<=A&&A<=40956)A-=33088;else if(57408<=A&&A<=60351)A-=49472;else throw"illegal char at "+(l+1)+"/"+A;A=(A>>>8&255)*192+(A&255),i.put(A,13),l+=2}if(l<o.length)throw"illegal char at "+(l+1)},s},QR=function(){const e=[],t={};return t.writeByte=function(r){e.push(r&255)},t.writeShort=function(r){t.writeByte(r),t.writeByte(r>>>8)},t.writeBytes=function(r,n,s){n=n||0,s=s||r.length;for(let i=0;i<s;i+=1)t.writeByte(r[i+n])},t.writeString=function(r){for(let n=0;n<r.length;n+=1)t.writeByte(r.charCodeAt(n))},t.toByteArray=function(){return e},t.toString=function(){let r="";r+="[";for(let n=0;n<e.length;n+=1)n>0&&(r+=","),r+=e[n];return r+="]",r},t},Lae=function(){let e=0,t=0,r=0,n="";const s={},i=function(l){n+=String.fromCharCode(o(l&63))},o=function(l){if(l<0)throw"n:"+l;if(l<26)return 65+l;if(l<52)return 97+(l-26);if(l<62)return 48+(l-52);if(l==62)return 43;if(l==63)return 47;throw"n:"+l};return s.writeByte=function(l){for(e=e<<8|l&255,t+=8,r+=1;t>=6;)i(e>>>t-6),t-=6},s.flush=function(){if(t>0&&(i(e<<6-t),e=0,t=0),r%3!=0){const l=3-r%3;for(let A=0;A<l;A+=1)n+="="}},s.toString=function(){return n},s},Pae=function(e){const t=e;let r=0,n=0,s=0;const i={};i.read=function(){for(;s<8;){if(r>=t.length){if(s==0)return-1;throw"unexpected end of file./"+s}const A=t.charAt(r);if(r+=1,A=="=")return s=0,-1;if(A.match(/^\s$/))continue;n=n<<6|o(A.charCodeAt(0)),s+=6}const l=n>>>s-8&255;return s-=8,l};const o=function(l){if(65<=l&&l<=90)return l-65;if(97<=l&&l<=122)return l-97+26;if(48<=l&&l<=57)return l-48+52;if(l==43)return 62;if(l==47)return 63;throw"c:"+l};return i},Dae=function(e,t){const r=e,n=t,s=new Array(e*t),i={};i.setPixel=function(u,h,m){s[h*r+u]=m},i.write=function(u){u.writeString("GIF87a"),u.writeShort(r),u.writeShort(n),u.writeByte(128),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(255),u.writeByte(255),u.writeByte(255),u.writeString(","),u.writeShort(0),u.writeShort(0),u.writeShort(r),u.writeShort(n),u.writeByte(0);const h=2,m=l(h);u.writeByte(h);let w=0;for(;m.length-w>255;)u.writeByte(255),u.writeBytes(m,w,255),w+=255;u.writeByte(m.length-w),u.writeBytes(m,w,m.length-w),u.writeByte(0),u.writeString(";")};const o=function(u){const h=u;let m=0,w=0;const p={};return p.write=function(b,N){if(b>>>N)throw"length over";for(;m+N>=8;)h.writeByte(255&(b<<m|w)),N-=8-m,b>>>=8-m,w=0,m=0;w=b<<m|w,m=m+N},p.flush=function(){m>0&&h.writeByte(w)},p},l=function(u){const h=1<<u,m=(1<<u)+1;let w=u+1;const p=A();for(let B=0;B<h;B+=1)p.add(String.fromCharCode(B));p.add(String.fromCharCode(h)),p.add(String.fromCharCode(m));const b=QR(),N=o(b);N.write(h,w);let j=0,y=String.fromCharCode(s[j]);for(j+=1;j<s.length;){const B=String.fromCharCode(s[j]);j+=1,p.contains(y+B)?y=y+B:(N.write(p.indexOf(y),w),p.size()<4095&&(p.size()==1<<w&&(w+=1),p.add(y+B)),y=B)}return N.write(p.indexOf(y),w),N.write(m,w),N.flush(),b.toByteArray()},A=function(){const u={};let h=0;const m={};return m.add=function(w){if(m.contains(w))throw"dup key:"+w;u[w]=h,h+=1},m.size=function(){return h},m.indexOf=function(w){return u[w]},m.contains=function(w){return typeof u[w]<"u"},m};return i},Oae=function(e,t,r){const n=Dae(e,t);for(let l=0;l<t;l+=1)for(let A=0;A<e;A+=1)n.setPixel(A,l,r(A,l));const s=QR();n.write(s);const i=Lae(),o=s.toByteArray();for(let l=0;l<o.length;l+=1)i.writeByte(o[l]);return i.flush(),"data:image/gif;base64,"+i},g1=({libraryCode:e,libraryName:t,libraryId:r,isOpen:n,onClose:s})=>{const i=C.useRef(null),[o,l]=C.useState(""),[A,u]=C.useState("");C.useEffect(()=>{n&&e&&r&&h()},[n,e,r]);const h=()=>{const N=JSON.stringify({libraryId:r,libraryCode:e,libraryName:t,type:"attendance"});l(N);try{const j=p1(0,"M");j.addData(N),j.make();const y=j.createSvgTag(4,0);u(y),m(j)}catch(j){console.error("Error generating QR code:",j),ar.error("Failed to generate barcode")}},m=b=>{const N=i.current;if(!N)return;const j=N.getContext("2d");if(!j)return;const y=b.getModuleCount(),B=8,I=32,_=y*B+I*2;N.width=_,N.height=_+60,j.fillStyle="#ffffff",j.fillRect(0,0,N.width,N.height),j.fillStyle="#000000";for(let O=0;O<y;O++)for(let H=0;H<y;H++)b.isDark(O,H)&&j.fillRect(H*B+I,O*B+I,B,B);j.fillStyle="#000000",j.font="bold 16px Arial",j.textAlign="center",j.fillText(t,N.width/2,_+25),j.font="12px Arial",j.fillText(`Code: ${e}`,N.width/2,_+45)},w=()=>{const b=i.current;if(!b)return;const N=document.createElement("a");N.download=`${e}_barcode.png`,N.href=b.toDataURL(),N.click(),ar.success("Barcode downloaded successfully!")},p=()=>{navigator.clipboard.writeText(o).then(()=>{ar.success("Barcode data copied to clipboard!")}).catch(()=>{ar.error("Failed to copy barcode data")})};return n?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(IA,{className:"w-5 h-5 mr-2 text-blue-600"}),"Library Barcode"]}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Xl,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:t}),a.jsx("p",{className:"text-sm text-gray-600",children:"Students can scan this QR code to check in/out for attendance"})]}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"p-4 bg-white border-2 border-gray-200 rounded-lg shadow-sm",children:A?a.jsx("div",{dangerouslySetInnerHTML:{__html:A}}):a.jsx("canvas",{ref:i,className:"border border-gray-300",style:{maxWidth:"200px",maxHeight:"200px"}})})}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Library Code:"}),a.jsx("p",{className:"text-gray-900 font-mono",children:e})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Library ID:"}),a.jsx("p",{className:"text-gray-900 font-mono",children:r})]})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Barcode Data:"}),a.jsx("p",{className:"text-xs text-gray-600 font-mono bg-white p-2 rounded border break-all",children:o})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:w,className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Y0,{className:"w-4 h-4 mr-2"}),"Download"]}),a.jsxs("button",{onClick:p,className:"flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[a.jsx(bN,{className:"w-4 h-4 mr-2"}),"Copy Data"]})]}),a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[a.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Instructions:"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Print this QR code and display it prominently in your library"}),a.jsx("li",{children:" Students can scan this code to check in when arriving"}),a.jsx("li",{children:" Students can scan again to check out when leaving"}),a.jsx("li",{children:" Each library has a unique QR code for security"}),a.jsx("li",{children:" Students can only mark attendance using their registered library's QR code"})]})]})]}),a.jsx("canvas",{ref:i,style:{display:"none"}})]})}):null},HR=({libraryCode:e,libraryName:t})=>{const[r,n]=C.useState(!1),s=typeof window<"u"?`${window.location.protocol}//${window.location.host}`:"https://yourdomain.com",i=`${s}/#/register/${e}`,o=`${s}/#/registration-status/${e}`,l=async(h,m)=>{try{await navigator.clipboard.writeText(h),n(!0),Ee.success(`${m} copied to clipboard!`),setTimeout(()=>n(!1),2e3)}catch(w){console.error("Failed to copy text: ",w),Ee.error("Failed to copy to clipboard")}},A=h=>{window.open(h,"_blank","noopener,noreferrer")},u=async()=>{if(navigator.share)try{await navigator.share({title:`Register for ${t}`,text:`Join ${t} - Register now!`,url:i})}catch(h){console.error("Error sharing:",h),l(i,"Registration link")}else l(i,"Registration link")};return a.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(SN,{className:"w-5 h-5 mr-2 text-purple-600"}),"Public Registration Link"]}),a.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Library Code: ",e]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student Registration URL"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-800 font-mono break-all",children:i}),a.jsx("button",{onClick:()=>l(i,"Registration link"),className:"flex items-center px-3 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",title:"Copy registration link",children:r?a.jsx(Sg,{className:"w-4 h-4"}):a.jsx(bN,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>A(i),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Open registration page",children:a.jsx(oI,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Status Check URL"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-800 font-mono break-all",children:o}),a.jsx("button",{onClick:()=>l(o,"Status check link"),className:"flex items-center px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",title:"Copy status check link",children:r?a.jsx(Sg,{className:"w-4 h-4"}):a.jsx(bN,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>A(o),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",title:"Open status check page",children:a.jsx(oI,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"How to use:"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsxs("li",{children:[" Share the ",a.jsx("strong",{children:"Registration URL"})," with prospective students"]}),a.jsxs("li",{children:[" Students can check their application status using the ",a.jsx("strong",{children:"Status Check URL"})]}),a.jsxs("li",{children:[" Review and manage applications in the ",a.jsx("strong",{children:"Admission Requests"})," section"]}),a.jsx("li",{children:" Approved students will automatically get accounts and membership"})]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:u,className:"flex-1 flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:[a.jsx(SN,{className:"w-4 h-4 mr-2"}),"Share Registration Link"]})})]})]})},Tg=({variant:e="full",className:t="",clickable:r=!0})=>{const n=Ur();let s=null;try{const l=ga();s=(l==null?void 0:l.user)||null}catch{console.warn("Auth context not available in FestivalBanner"),s=null}const o=r?{onClick:()=>{r&&(s?(n("/subscription"),Ee.success(" Check out our festival offers!")):(Ee.error("Please log in first to view subscription offers"),n("/owner-login")))},style:{cursor:"pointer"},className:`${t} ${r?"hover:scale-105 transition-transform duration-300":""}`}:{className:t};return e==="minimal"?a.jsx("div",{...o,className:`bg-gradient-to-r from-orange-500 to-red-500 text-white py-2 px-4 rounded-lg text-center shadow-lg ${o.className}`,children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"font-bold text-sm md:text-base",children:"Durga Puja Festival Offer - Up to 35% OFF!"}),a.jsx("span",{className:"text-lg",children:""}),r&&a.jsx("span",{className:"text-xs opacity-75",children:" Click here!"})]})}):e==="compact"?a.jsxs("div",{...o,className:`bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-xl shadow-xl p-4 md:p-6 text-center relative overflow-hidden ${o.className}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 opacity-20 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-center mb-2",children:[a.jsx("span",{className:"text-2xl md:text-3xl mr-2 animate-bounce",children:""}),a.jsx("h3",{className:"text-lg md:text-xl font-black text-white tracking-wide drop-shadow-lg",children:"Durga Puja Festival Offer"}),a.jsx("span",{className:"text-2xl md:text-3xl ml-2 animate-bounce",children:""})]}),a.jsx("p",{className:"text-sm md:text-base text-white font-bold drop-shadow-md",children:"Celebrate with up to 35% OFF on all plans!"}),a.jsx("div",{className:"mt-3 inline-flex items-center bg-gradient-to-r from-yellow-400 to-orange-400 text-orange-900 rounded-full px-4 py-1 font-black text-xs md:text-sm shadow-lg",children:a.jsx("span",{children:" Festival Special Pricing "})}),r&&a.jsx("div",{className:"mt-2",children:a.jsx("span",{className:"text-xs text-yellow-200 font-bold animate-pulse",children:" Click to view offers!"})})]}),a.jsx("div",{className:"absolute top-2 left-2 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-lg",children:""})}),a.jsx("div",{className:"absolute top-2 right-2 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-xl",children:""})}),a.jsx("div",{className:"absolute bottom-2 left-2 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-lg",children:""})}),a.jsx("div",{className:"absolute bottom-2 right-2 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-lg",children:""})})]}):a.jsxs("div",{...o,className:`bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-3xl shadow-2xl p-8 md:p-10 text-center relative overflow-hidden transform hover:scale-105 transition-all duration-300 ${o.className}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 opacity-20 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-center mb-6",children:[a.jsx("span",{className:"text-4xl md:text-5xl mr-4 animate-bounce",children:""}),a.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white tracking-wide drop-shadow-lg",children:"Durga Puja Festival Offer"}),a.jsx("span",{className:"text-4xl md:text-5xl ml-4 animate-bounce",children:""})]}),a.jsx("p",{className:"text-xl md:text-3xl text-white font-bold mb-4 drop-shadow-md",children:"Celebrate with up to 35% OFF on all plans!"}),a.jsx("p",{className:"text-lg md:text-xl text-orange-100 font-medium",children:"Limited time offer - Transform your library management this festive season"}),a.jsx("div",{className:"mt-6 inline-flex items-center bg-gradient-to-r from-yellow-400 to-orange-400 text-orange-900 rounded-full px-6 md:px-8 py-2 md:py-3 font-black text-base md:text-lg shadow-xl transform hover:scale-110 transition-all duration-300",children:a.jsx("span",{children:" Festival Special Pricing "})}),r&&a.jsx("div",{className:"mt-4",children:a.jsx("span",{className:"text-sm text-yellow-200 font-bold animate-pulse",children:" Click anywhere to explore our offers!"})})]}),a.jsx("div",{className:"absolute top-4 left-4 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("div",{className:"absolute top-8 right-8 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-3xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 left-8 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("div",{className:"absolute bottom-8 right-4 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:""})})]})},Rae=()=>{const e=Ur();let t=null;try{const Ne=ga();if(!Ne)throw new Error("Auth context is not available");t=Ne.user}catch(Ne){return console.error("Auth context error:",Ne),Ee.error("Authentication error. Please log in again."),e("/login"),null}const[r,n]=C.useState(0),[s,i]=C.useState({totalStudents:0,activeStudents:0,expiredMemberships:0}),[o,l]=C.useState({expiring1to2Days:0,expiring3to5Days:0,expiring5to7Days:0}),[A,u]=C.useState({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}),[h,m]=C.useState(!1),[w,p]=C.useState([]),[b,N]=C.useState(null),[j,y]=C.useState({totalStudents:0,branches:[],expiredCount:0,totalCollection:0,totalDue:0}),[B,I]=C.useState(!0),[_,O]=C.useState([]),[H,D]=C.useState(!1),[L,T]=C.useState("daily"),[G,M]=C.useState(new Date().toISOString().split("T")[0]),[V,J]=C.useState(""),[Z,ee]=C.useState(!1),[q,W]=C.useState(null),[X,K]=C.useState({totalPresent:0,totalCheckedIn:0,totalCheckedOut:0}),[le,ne]=C.useState({page:1,limit:10,totalRecords:0,totalPages:1}),[U,Y]=C.useState(!1),[se,ce]=C.useState(()=>{const Ne=typeof window<"u"?localStorage.getItem("dashboardView"):null;return Ne==="standard"||Ne==="compact"||Ne==="detailed"?Ne:"standard"});C.useEffect(()=>{(async()=>{if(t)try{const pe=await Re.getLibraryProfile();pe&&pe.library&&W({id:pe.library.id,library_code:pe.library.libraryCode,name:pe.library.libraryName})}catch(pe){console.error("Failed to load library info:",pe),Ee.error("Could not load library information.")}})()},[t]),C.useEffect(()=>{try{typeof window<"u"&&localStorage.setItem("dashboardView",se)}catch{}},[se]);const Ae=()=>{ee(!0)},ge=async()=>{try{const Ne=await Re.getBranches();if(!Ne||!Array.isArray(Ne))throw new Error("Invalid branches data");p(Ne)}catch(Ne){Ee.error("Failed to load branches"),console.error("Error fetching branches:",Ne),p([])}},fe=async()=>{var Ne;try{const[pe,Pe,rt,qe]=await Promise.all([Re.getTotalStudentsCount(b??void 0).catch(()=>0),Re.getActiveStudentsCount(b??void 0).catch(()=>0),Re.getExpiredMembershipsCount(b??void 0).catch(()=>0),Re.getExpiringCounts(b??void 0).catch(()=>({expiring1to2Days:0,expiring3to5Days:0,expiring5to7Days:0}))]);i({totalStudents:Number(pe)||0,activeStudents:Number(Pe)||0,expiredMemberships:Number(rt)||0}),l({expiring1to2Days:Number(qe.expiring1to2Days)||0,expiring3to5Days:Number(qe.expiring3to5Days)||0,expiring5to7Days:Number(qe.expiring5to7Days)||0});const Me=await Re.getDashboardStats(b?{branchId:b}:void 0).catch(()=>({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}));u({totalCollection:Number(Me.totalCollection)||0,totalDue:Number(Me.totalDue)||0,totalExpense:Number(Me.totalExpense)||0,profitLoss:Number(Me.profitLoss)||0})}catch(pe){((Ne=pe.response)==null?void 0:Ne.status)===401?(Ee.error("Session expired. Please log in again."),e("/login")):(Ee.error("Failed to load dashboard stats"),console.error("Error fetching stats:",pe),i({totalStudents:0,activeStudents:0,expiredMemberships:0}),l({expiring1to2Days:0,expiring3to5Days:0,expiring5to7Days:0}),u({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0}))}},je=async()=>{var Ne;I(!0);try{const[pe,Pe,rt,qe]=await Promise.all([Re.getHostelBranches(),Re.getHostelStudents(),Re.getExpiredHostelStudents(),Re.getHostelCollections()]),Me=(Pe??[]).reduce((pt,dt)=>{const xt=dt.branchId;return xt&&(pt[xt]=(pt[xt]||0)+1),pt},{}),wt=(Array.isArray(pe)?pe:[]).map(pt=>({...pt,studentCount:Me[pt.id]||0})),We=((Ne=rt==null?void 0:rt.expiredStudents)==null?void 0:Ne.length)??0,Wt=(qe==null?void 0:qe.collections)??[],Nt=Wt.reduce((pt,dt)=>{const xt=parseFloat(String(dt.cashPaid||0)),It=parseFloat(String(dt.onlinePaid||0));return pt+xt+It},0),at=Wt.reduce((pt,dt)=>{const xt=parseFloat(String(dt.dueAmount||0));return pt+xt},0);y({totalStudents:Array.isArray(Pe)?Pe.length:0,branches:wt,expiredCount:We,totalCollection:Nt,totalDue:at})}catch(pe){Ee.error("Failed to load hostel statistics"),console.error("Error fetching hostel stats:",pe)}finally{I(!1)}};C.useEffect(()=>{t&&(ge(),fe(),je(),De())},[t,b]),C.useEffect(()=>{t&&De()},[L,G,V]);const ke=t&&(t.role==="admin"||t.role==="staff"),Te=()=>{n(Ne=>Ne+1)},De=async(Ne=1)=>{if(t){D(!0);try{const pe=await Re.fetchAttendance({date:G,search:V,page:Ne,limit:le.limit,view:L});O(pe.attendance),ne(pe.pagination);const Pe=pe.attendance.filter(qe=>qe.firstIn&&!qe.lastOut).length,rt=pe.attendance.filter(qe=>qe.lastOut).length;K({totalPresent:pe.pagination.totalRecords,totalCheckedIn:Pe,totalCheckedOut:rt})}catch(pe){console.error("Failed to load attendance:",pe),Ee.error("Could not load attendance records.")}finally{D(!1)}}},Qe=Ne=>Ne?new Date(Ne).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}):"Not recorded";return t?a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50",children:[a.jsx(wn,{isCollapsed:U,setIsCollapsed:Y,onBarcodeClick:Ae}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsx(Tg,{variant:"compact",clickable:!0})}),a.jsx("div",{className:"bg-gradient-to-r from-indigo-50 via-white to-violet-50 border border-slate-200 rounded-2xl p-4 sm:p-5 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent",children:" Library Dashboard"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600 hidden sm:inline",children:"View:"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>ce("standard"),className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${se==="standard"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Standard View",children:[a.jsx(VO,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Standard"})]}),a.jsxs("button",{onClick:()=>ce("compact"),className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${se==="compact"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Compact View",children:[a.jsx(UA,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Compact"})]}),a.jsxs("button",{onClick:()=>ce("detailed"),className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${se==="detailed"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Detailed View",children:[a.jsx(Fd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Detailed"})]})]})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"branch-select",className:"text-sm font-medium text-gray-700 mr-2",children:"Filter by Branch:"}),a.jsxs("select",{id:"branch-select",value:b??"all",onChange:Ne=>N(Ne.target.value==="all"?null:parseInt(Ne.target.value,10)),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",children:[a.jsx("option",{value:"all",children:"All Branches"}),w.map(Ne=>a.jsx("option",{value:Ne.id.toString(),children:Ne.name},Ne.id))]})]}),se==="compact"&&a.jsxs("div",{className:"grid items-stretch gap-3 sm:gap-4 mb-8 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 2xl:grid-cols-8",children:[a.jsx(Tt,{to:"/students",className:"block h-full",children:a.jsx(Hn,{title:"Total Students",value:s.totalStudents,icon:a.jsx(ci,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-purple-400 to-fuchsia-500 relative overflow-hidden transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/active-students",className:"block h-full",children:a.jsx(Hn,{title:"Active Students",value:s.activeStudents,icon:a.jsx(ji,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-sky-400 to-blue-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expired-memberships",className:"block h-full",children:a.jsx(Hn,{title:"Total Expired Memberships",value:s.expiredMemberships,icon:a.jsx(ta,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-amber-400 to-orange-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expiring-memberships?range=1-2",className:"block h-full",children:a.jsx(Hn,{title:"Expiring in 1-2 Days",value:o.expiring1to2Days,icon:a.jsx(ta,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-rose-400 to-red-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expiring-memberships?range=3-5",className:"block h-full",children:a.jsx(Hn,{title:"Expiring in 3-5 Days",value:o.expiring3to5Days,icon:a.jsx(ta,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-yellow-400 to-amber-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expiring-memberships?range=5-7",className:"block h-full",children:a.jsx(Hn,{title:"Expiring in 5-7 Days",value:o.expiring5to7Days,icon:a.jsx(ta,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-orange-400 to-pink-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/attendance",className:"block h-full",children:a.jsx(Hn,{title:"Total Check-ins (Today)",value:X.totalCheckedIn,icon:a.jsx(Zn,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-emerald-400 to-teal-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/attendance",className:"block h-full",children:a.jsx(Hn,{title:"Total Check-outs (Today)",value:X.totalCheckedOut,icon:a.jsx(Zn,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-red-400 to-rose-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/collections",className:"block h-full",children:a.jsx(Hn,{title:"Total Collection (This Month)",value:A.totalCollection,icon:a.jsx(Eg,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-green-400 to-lime-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/collections?showOnlyDue=true",className:"block h-full",children:a.jsx(Hn,{title:"Total Due (This Month)",value:A.totalDue,icon:a.jsx(ta,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-red-400 to-orange-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expenses",className:"block h-full",children:a.jsx(Hn,{title:"Total Expense (This Month)",value:A.totalExpense,icon:a.jsx(bx,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br from-yellow-500 to-amber-500 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/profit-loss",className:"block h-full",children:a.jsx(Hn,{title:A.profitLoss>=0?"Profit (This Month)":"Loss (This Month)",value:Math.abs(A.profitLoss),icon:A.profitLoss>=0?a.jsx(jN,{className:"h-6 w-6 text-white"}):a.jsx(bx,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:`h-full min-h-[120px] rounded-lg p-4 text-white shadow-md border-0 bg-gradient-to-br transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg] ${A.profitLoss>=0?"from-teal-400 to-emerald-500":"from-red-400 to-rose-500"}`,titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/students/add",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-violet-400 to-pink-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(KO,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Add Student"}),a.jsx("div",{className:"text-xs text-white/80",children:"Create a new student record"})]})}),a.jsx(Tt,{to:"/attendance",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-sky-400 to-cyan-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(qs,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Manage Attendance"}),a.jsx("div",{className:"text-xs text-white/80",children:"View and manage attendance"})]})}),a.jsx(Tt,{to:"/public-registration",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-emerald-400 to-lime-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(SN,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Public Registration Link"}),a.jsx("div",{className:"text-xs text-white/80",children:"Share/manage the public link"})]})}),a.jsx(Tt,{to:q?`/registration-status/${q.library_code}`:"/registration-status",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-amber-400 to-orange-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(cl,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Check Registration Status"}),a.jsx("div",{className:"text-xs text-white/80",children:"Lookup public application status"})]})}),a.jsx(Tt,{to:"/announcements",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-indigo-400 to-violet-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(Jh,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Announcements"}),a.jsx("div",{className:"text-xs text-white/80",children:"View and post updates"})]})}),a.jsx(Tt,{to:"/inactive-students",className:"block h-full",children:a.jsxs("div",{className:"h-full min-h-[120px] bg-gradient-to-br from-rose-400 to-red-500 text-white rounded-lg shadow-md border-0 p-3 sm:p-4 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"p-2 rounded-full bg-white/20",children:a.jsx(e0,{className:"h-5 w-5 text-white"})}),a.jsx(gr,{className:"h-5 w-5 text-white/70"})]}),a.jsx("div",{className:"mt-3 text-sm font-semibold",children:"Inactive Students"}),a.jsx("div",{className:"text-xs text-white/80",children:"Review inactive accounts"})]})})]}),se!=="compact"&&a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:`font-semibold mb-4 ${se==="detailed"?"text-2xl":"text-xl"}`,children:"Library Statistics"}),a.jsxs("div",{className:`grid gap-4 sm:gap-6 mb-6 ${se==="detailed"?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 md:grid-cols-3"}`,children:[a.jsx(Tt,{to:"/students",className:"block",children:a.jsx(Hn,{title:"Total Students",value:s.totalStudents,icon:a.jsx(ci,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-purple-400 to-fuchsia-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/active-students",className:"block",children:a.jsx(Hn,{title:"Active Students",value:s.activeStudents,icon:a.jsx(ji,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-sky-400 to-blue-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expired-memberships",className:"block",children:a.jsx(Hn,{title:"Expired Memberships",value:s.expiredMemberships,icon:a.jsx(ta,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-amber-400 to-orange-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})})]}),a.jsx("h2",{className:`font-semibold mb-4 ${se==="detailed"?"text-2xl":"text-xl"}`,children:"Expiring Memberships"}),a.jsxs("div",{className:`grid gap-4 sm:gap-6 mb-6 ${se==="detailed"?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 md:grid-cols-3"}`,children:[a.jsx(Tt,{to:"/expiring-memberships?range=1-2",className:"block",children:a.jsx(Hn,{title:"Expiring in 1-2 Days",value:o.expiring1to2Days,icon:a.jsx(ta,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-rose-400 to-red-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expiring-memberships?range=3-5",className:"block",children:a.jsx(Hn,{title:"Expiring in 3-5 Days",value:o.expiring3to5Days,icon:a.jsx(ta,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-yellow-400 to-amber-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expiring-memberships?range=5-7",className:"block",children:a.jsx(Hn,{title:"Expiring in 5-7 Days",value:o.expiring5to7Days,icon:a.jsx(ta,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-orange-400 to-pink-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})})]}),a.jsx("h2",{className:`font-semibold mb-4 ${se==="detailed"?"text-2xl":"text-xl"}`,children:"Financial Overview (This Month)"}),a.jsxs("div",{className:`grid gap-4 sm:gap-6 mb-6 ${se==="detailed"?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4"}`,children:[a.jsx(Tt,{to:"/collections",className:"block",children:a.jsx(Hn,{title:"Total Collection",value:A.totalCollection,icon:a.jsx(Eg,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-green-400 to-lime-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/collections?showOnlyDue=true",className:"block",children:a.jsx(Hn,{title:"Total Due",value:A.totalDue,icon:a.jsx(ta,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-red-400 to-orange-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/expenses",className:"block",children:a.jsx(Hn,{title:"Total Expense",value:A.totalExpense,icon:a.jsx(bx,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:"rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br from-amber-400 to-yellow-500",titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})}),a.jsx(Tt,{to:"/profit-loss",className:"block",children:a.jsx(Hn,{title:A.profitLoss>=0?"Profit":"Loss",value:Math.abs(A.profitLoss),icon:A.profitLoss>=0?a.jsx(jN,{className:"h-6 w-6 text-white"}):a.jsx(bx,{className:"h-6 w-6 text-white"}),iconBgColor:"bg-white/20",containerClassName:`rounded-lg p-5 text-white shadow-md border-0 bg-gradient-to-br ${A.profitLoss>=0?"from-teal-400 to-emerald-500":"from-red-400 to-rose-500"}`,titleClassName:"text-white/80",valueClassName:"text-white",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-white/70"})})})]})]}),se!=="compact"&&q&&a.jsx("div",{id:"registration-link-card",children:a.jsx(HR,{libraryCode:q.library_code,libraryName:q.name})}),se!=="compact"&&ke&&q&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Attendance Management"}),a.jsx("p",{className:"text-blue-100",children:"Monitor and manage student attendance"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 w-full sm:w-auto",children:[a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 w-full sm:w-auto",children:[a.jsx(qs,{className:"w-5 h-5 mb-1"}),a.jsx("input",{type:"date",value:G,onChange:Ne=>M(Ne.target.value),className:"bg-transparent text-white placeholder-blue-200 border-0 focus:ring-0 p-0 text-sm font-medium w-full"})]}),a.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 flex items-center w-full sm:w-auto",children:[a.jsx(cl,{className:"w-4 h-4 mr-2 text-white"}),a.jsx("input",{type:"text",placeholder:"Search students...",value:V,onChange:Ne=>J(Ne.target.value),className:"bg-transparent text-white placeholder-blue-200 border-0 focus:ring-0 p-0 text-sm font-medium w-full sm:w-48"})]}),a.jsxs("button",{onClick:()=>ee(!0),className:"bg-green-500/20 backdrop-blur-sm hover:bg-green-500/30 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 w-full sm:w-auto",children:[a.jsx(IA,{className:"w-4 h-4"}),a.jsx("span",{children:"Generate QR"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Total Present"}),a.jsx("p",{className:"text-2xl font-bold",children:X.totalPresent})]}),a.jsx(ji,{className:"w-8 h-8 text-blue-200"})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Checked In"}),a.jsx("p",{className:"text-2xl font-bold",children:X.totalCheckedIn})]}),a.jsx(Zn,{className:"w-8 h-8 text-green-200"})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-blue-100 text-sm",children:"Checked Out"}),a.jsx("p",{className:"text-2xl font-bold",children:X.totalCheckedOut})]}),a.jsx(Zn,{className:"w-8 h-8 text-red-200"})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Attendance Records"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>T("daily"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${L==="daily"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Daily"}),a.jsx("button",{onClick:()=>T("monthly"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${L==="monthly"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:"Monthly"})]})]})}),H?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading attendance..."})]}):_.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration Number"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check In"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check Out"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(Ne=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ne.studentName}),a.jsx("div",{className:"text-sm text-gray-500",children:Ne.phone})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Ne.registrationNumber}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Qe(Ne.firstIn||"")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Qe(Ne.lastOut||"")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ne.lastOut?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:Ne.lastOut?"Checked Out":"Checked In"})})]},Ne.studentId))})]})}),le.totalRecords>0&&a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6",children:[a.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[a.jsx("button",{onClick:()=>De(le.page-1),disabled:le.page<=1,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),a.jsx("button",{onClick:()=>De(le.page+1),disabled:le.page>=le.totalPages,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:(le.page-1)*le.limit+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(le.page*le.limit,le.totalRecords)})," of"," ",a.jsx("span",{className:"font-medium",children:le.totalRecords})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[a.jsxs("button",{onClick:()=>De(le.page-1),disabled:le.page<=1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(gr,{className:"h-5 w-5 rotate-180","aria-hidden":"true"})]}),a.jsxs("button",{onClick:()=>De(le.page+1),disabled:le.page>=le.totalPages,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(gr,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]}):a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(qs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Attendance Records"}),a.jsx("p",{className:"text-gray-500",children:"No students have marked attendance for the selected date."})]})]})]}),se!=="compact"&&ke&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Manage Library Students"}),h?a.jsx("button",{onClick:()=>{m(!1),Te()},className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition duration-200",children:"Cancel"}):a.jsx("button",{onClick:()=>m(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 transition duration-200",children:"Add Student"})]}),h&&a.jsx(UR,{}),a.jsx(Hte,{selectedBranchId:b},r.toString())]}),se!=="compact"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Expiring Soon (Library)"}),a.jsx(Iae,{selectedBranchId:b})]})]})})]}),q&&a.jsx(g1,{isOpen:Z,libraryCode:q.library_code,libraryName:q.name,libraryId:q.id,onClose:()=>ee(!1)})]}):null},Mae=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 to-orange-50 p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold text-purple-600 mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-700 mb-6",children:"Oops! Page not found"}),a.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"The page you are looking for might have been removed or is temporarily unavailable."}),a.jsx(Tt,{to:"/",className:"inline-flex items-center px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Return to Dashboard"})]})}),ZA=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Nr("w-full caption-bottom text-sm",e),...t})}));ZA.displayName="Table";const JA=C.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:Nr("[&_tr]:border-b",e),...t}));JA.displayName="TableHeader";const eu=C.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:Nr("[&_tr:last-child]:border-0",e),...t}));eu.displayName="TableBody";const Uae=C.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:Nr("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Uae.displayName="TableFooter";const js=C.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:Nr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));js.displayName="TableRow";const hr=C.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:Nr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));hr.displayName="TableHead";const sr=C.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:Nr("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));sr.displayName="TableCell";const VR=C.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:Nr("mt-4 text-sm text-muted-foreground",e),...t}));VR.displayName="TableCaption";const HI=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",Qae=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(""),[o,l]=C.useState(1),[A,u]=C.useState(10),[h,m]=C.useState(!1),[w,p]=C.useState("card"),[b,N]=C.useState(""),[j,y]=C.useState("asc"),B=Ur(),I=ul();C.useEffect(()=>{(async()=>{try{const ee=await Re.getActiveStudents();if(!ee||!Array.isArray(ee.students))throw new Error("Invalid data received for active students");t(ee.students),n(!1)}catch(ee){console.error("Failed to fetch active students:",ee.message),n(!1)}})()},[]),C.useEffect(()=>{l(1)},[s]);const _=Z=>{b===Z?y(j==="asc"?"desc":"asc"):(N(Z),y("asc"))},O=Ze.useMemo(()=>b?[...e].sort((Z,ee)=>{var X,K,le,ne,U,Y,se,ce,Ae,ge,fe,je,ke,Te;let q,W;switch(b){case"name":q=((X=Z.name)==null?void 0:X.toLowerCase())||"",W=((K=ee.name)==null?void 0:K.toLowerCase())||"";break;case"registrationNumber":q=((le=Z.registrationNumber)==null?void 0:le.toLowerCase())||"",W=((ne=ee.registrationNumber)==null?void 0:ne.toLowerCase())||"";break;case"phone":q=Z.phone||"",W=ee.phone||"";break;case"status":q=((U=Z.status)==null?void 0:U.toLowerCase())||"",W=((Y=ee.status)==null?void 0:Y.toLowerCase())||"";break;case"seat":q=((se=Z.seatNumber)==null?void 0:se.toLowerCase())||((ge=(Ae=(ce=Z.assignments)==null?void 0:ce[0])==null?void 0:Ae.seatNumber)==null?void 0:ge.toLowerCase())||"",W=((fe=ee.seatNumber)==null?void 0:fe.toLowerCase())||((Te=(ke=(je=ee.assignments)==null?void 0:je[0])==null?void 0:ke.seatNumber)==null?void 0:Te.toLowerCase())||"";break;case"membershipEnd":q=new Date(Z.membershipEnd||0).getTime(),W=new Date(ee.membershipEnd||0).getTime();break;default:return 0}return q<W?j==="asc"?-1:1:q>W?j==="asc"?1:-1:0}):e,[e,b,j]),H=Z=>b!==Z?null:j==="asc"?a.jsx(uv,{size:16}):a.jsx(f1,{size:16}),D=O.filter(Z=>Z.name.toLowerCase().includes(s.toLowerCase())||Z.phone.toLowerCase().includes(s.toLowerCase())||Z.registrationNumber&&Z.registrationNumber.toLowerCase().includes(s.toLowerCase())),L=o*A,T=L-A,G=D.slice(T,L),M=Math.ceil(D.length/A),V=async Z=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Re.deleteStudent(Z),t(e.filter(ee=>ee.id!==Z)),Ee.success("Student deleted successfully")}catch(ee){console.error("Failed to delete student:",ee.message),Ee.error("Failed to delete student")}},J=Z=>{B(`/students/${Z}`)};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(wn,{isCollapsed:h,setIsCollapsed:m,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"border-b bg-white/80 backdrop-blur-md",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex gap-3 overflow-x-auto py-3",children:[a.jsxs(Tt,{to:"/students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-indigo-50 via-sky-50 to-indigo-100 text-indigo-700 ring-1 ring-indigo-200/50 ${I.pathname.startsWith("/students")&&!I.pathname.startsWith("/students/")?"ring-2 ring-indigo-300":""}`,children:[a.jsx(ci,{className:"h-4 w-4"}),"All Students"]}),a.jsxs(Tt,{to:"/active-students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-emerald-50 via-teal-50 to-emerald-100 text-emerald-700 ring-1 ring-emerald-200/50 ${I.pathname.startsWith("/active-students")?"ring-2 ring-emerald-300":""}`,children:[a.jsx(ji,{className:"h-4 w-4"}),"Active Students"]}),a.jsxs(Tt,{to:"/expired-memberships",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-rose-50 via-pink-50 to-rose-100 text-rose-700 ring-1 ring-rose-200/50 ${I.pathname.startsWith("/expired-memberships")?"ring-2 ring-rose-300":""}`,children:[a.jsx(ta,{className:"h-4 w-4"}),"Expired Memberships"]}),a.jsxs(Tt,{to:"/expiring-memberships?range=1-2",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-amber-50 via-orange-50 to-amber-100 text-amber-700 ring-1 ring-amber-200/50 ${I.pathname.startsWith("/expiring-memberships")?"ring-2 ring-amber-300":""}`,children:[a.jsx(Zn,{className:"h-4 w-4"}),"Expiring 12 Days"]})]})})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Active Students"}),a.jsx("p",{className:"text-gray-500",children:"Manage all your active students"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("h3",{className:"text-lg font-medium flex-1",children:"Active Students"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>p("list"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${w==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"List View",children:[a.jsx(Fd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"List"})]}),a.jsxs("button",{onClick:()=>p("card"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${w==="card"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Card View",children:[a.jsx(UA,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Cards"})]})]})]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:s,onChange:Z=>i(Z.target.value)})]})]}),w==="list"?r?a.jsx("div",{className:"flex justify-center p-8",children:"Loading active students..."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ZA,{children:[a.jsx(JA,{children:a.jsxs(js,{children:[a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("name"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Name"}),H("name")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("registrationNumber"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Registration Number"}),H("registrationNumber")]})}),a.jsx(hr,{className:"hidden md:table-cell cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("phone"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Phone"}),H("phone")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("status"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Status"}),H("status")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("seat"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Seat"}),H("seat")]})}),a.jsx(hr,{className:"hidden md:table-cell cursor-pointer hover:bg-gray-50 select-none",onClick:()=>_("membershipEnd"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Membership End"}),H("membershipEnd")]})}),a.jsx(hr,{children:"Actions"})]})}),a.jsx(eu,{children:G.length>0?G.map(Z=>{var ee,q;return a.jsxs(js,{children:[a.jsx(sr,{children:Z.name}),a.jsx(sr,{children:Z.registrationNumber||"N/A"}),a.jsx(sr,{className:"hidden md:table-cell",children:Z.phone}),a.jsx(sr,{children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Z.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Z.status==="active"?"Active":"Expired"})}),a.jsx(sr,{children:Z.seatNumber||((q=(ee=Z.assignments)==null?void 0:ee[0])==null?void 0:q.seatNumber)||"N/A"}),a.jsx(sr,{className:"hidden md:table-cell",children:HI(Z.membershipEnd)}),a.jsxs(sr,{children:[a.jsx("button",{onClick:()=>J(Z.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:a.jsx(ma,{size:16})}),a.jsx("button",{onClick:()=>V(Z.id),className:"text-red-600 hover:text-red-800 p-2",children:a.jsx(pa,{size:16})})]})]},Z.id)}):a.jsx(js,{children:a.jsx(sr,{colSpan:7,className:"text-center py-8 text-gray-500",children:D.length===0?"No active students found matching your search.":"No active students on this page."})})})]})}):a.jsx("div",{className:"p-4",children:r?a.jsx("div",{className:"text-center text-gray-500 py-8",children:"Loading active students..."}):G.length>0?a.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-stretch",children:G.map(Z=>{var ee,q;return a.jsxs("div",{className:"rounded-xl border shadow-md p-4 flex flex-col h-full bg-gradient-to-br from-emerald-50 via-teal-50 to-emerald-100 border-emerald-200 ring-1 ring-white/60 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:Z.name}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(qs,{className:"h-3.5 w-3.5 text-indigo-400"})," Reg: ",Z.registrationNumber||"N/A"]})]}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Active"})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(li,{className:"h-3.5 w-3.5 text-slate-400"})," Phone"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:Z.phone})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(SS,{className:"h-3.5 w-3.5 text-slate-400"})," Seat"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:Z.seatNumber||((q=(ee=Z.assignments)==null?void 0:ee[0])==null?void 0:q.seatNumber)||"N/A"})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60 col-span-2",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(qs,{className:"h-3.5 w-3.5 text-slate-400"})," Membership End"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:HI(Z.membershipEnd)})]})]}),a.jsx("div",{className:"mt-4 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>J(Z.id),className:"text-blue-600 hover:text-blue-800 p-2 rounded hover:bg-blue-50",title:"View Details",children:a.jsx(ma,{size:16})}),a.jsx("button",{onClick:()=>V(Z.id),className:"text-red-600 hover:text-red-800 p-2 rounded hover:bg-red-50",title:"Delete",children:a.jsx(pa,{size:16})})]})})]},Z.id)})}):a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No active students found."})}),!r&&D.length>0&&a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border-t border-gray-200 px-6 py-3 space-y-2 md:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:A,onChange:Z=>{u(Number(Z.target.value)),l(1)},className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"students per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>l(Z=>Math.max(Z-1,1)),disabled:o===1,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(Ud,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",o," of ",M]}),a.jsx("button",{onClick:()=>l(Z=>Math.min(Z+1,M)),disabled:o===M,className:"p-2 rounded border border-gray-200 hover:bg-gray-50 disabled:opacity-50",children:a.jsx(gr,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",T+1," to ",Math.min(L,D.length)," of ",D.length," students"]})]})]})]})})]})]})};var KR={exports:{}};(function(e,t){(function(r,n){e.exports=n(C)})(typeof self<"u"?self:Of,function(r){return function(){var n={155:function(y){y.exports=r}},s={};function i(y){var B=s[y];if(B!==void 0)return B.exports;var I=s[y]={exports:{}};return n[y](I,I.exports,i),I.exports}i.d=function(y,B){for(var I in B)i.o(B,I)&&!i.o(y,I)&&Object.defineProperty(y,I,{enumerable:!0,get:B[I]})},i.o=function(y,B){return Object.prototype.hasOwnProperty.call(y,B)},i.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var o={};i.r(o),i.d(o,{useReactToPrint:function(){return j}});var l=i(155);function A({level:y="error",messages:B,suppressErrors:I=!1}){I||(y==="error"?console.error(B):y==="warning"?console.warn(B):console.debug(B))}function u(y,B){if(B||!y){const I=document.getElementById("printWindow");I&&document.body.removeChild(I)}}function h(y){return y instanceof Error?y:new Error("Unknown Error")}function m(y,B){const{documentTitle:I,onAfterPrint:_,onPrintError:O,preserveAfterPrint:H,print:D,suppressErrors:L}=B;setTimeout(()=>{var T,G;if(y.contentWindow){let M=function(){_==null||_(),u(H)};if(y.contentWindow.focus(),D)D(y).then(M).catch(V=>{O?O("print",h(V)):A({messages:["An error was thrown by the specified `print` function"],suppressErrors:L})});else{if(y.contentWindow.print){const V=(G=(T=y.contentDocument)===null||T===void 0?void 0:T.title)!==null&&G!==void 0?G:"",J=y.ownerDocument.title;I&&(y.ownerDocument.title=I,y.contentDocument&&(y.contentDocument.title=I)),y.contentWindow.print(),I&&(y.ownerDocument.title=J,y.contentDocument&&(y.contentDocument.title=V))}else A({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:L});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(V=>{var J,Z;return((Z=(J=navigator.userAgent)!==null&&J!==void 0?J:navigator.vendor)!==null&&Z!==void 0?Z:"opera"in window&&window.opera).match(V)})?setTimeout(M,500):M()}}else A({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:L})},500)}function w(y){const B=[],I=document.createTreeWalker(y,NodeFilter.SHOW_ELEMENT,null);let _=I.nextNode();for(;_;)B.push(_),_=I.nextNode();return B}function p(y,B,I){const _=w(y),O=w(B);if(_.length===O.length)for(let H=0;H<_.length;H++){const D=_[H],L=O[H],T=D.shadowRoot;if(T!==null){const G=L.attachShadow({mode:T.mode});G.innerHTML=T.innerHTML,p(T,G,I)}}else A({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",y,B],suppressErrors:I})}const b=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function N(y,B,I,_){var O,H,D,L,T;const{contentNode:G,clonedContentNode:M,clonedImgNodes:V,clonedVideoNodes:J,numResourcesToLoad:Z,originalCanvasNodes:ee}=I,{bodyClass:q,fonts:W,ignoreGlobalStyles:X,pageStyle:K,nonce:le,suppressErrors:ne,copyShadowRoots:U}=_;y.onload=null;const Y=(O=y.contentDocument)!==null&&O!==void 0?O:(H=y.contentWindow)===null||H===void 0?void 0:H.document;if(Y){const se=Y.body.appendChild(M);U&&p(G,se,!!ne),W&&(!((D=y.contentDocument)===null||D===void 0)&&D.fonts&&(!((L=y.contentWindow)===null||L===void 0)&&L.FontFace)?W.forEach(Te=>{const De=new FontFace(Te.family,Te.source,{weight:Te.weight,style:Te.style});y.contentDocument.fonts.add(De),De.loaded.then(()=>{B(De)}).catch(Qe=>{B(De,["Failed loading the font:",De,"Load error:",h(Qe)])})}):(W.forEach(Te=>{B(Te)}),A({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:ne})));const ce=K??b,Ae=Y.createElement("style");le&&(Ae.setAttribute("nonce",le),Y.head.setAttribute("nonce",le)),Ae.appendChild(Y.createTextNode(ce)),Y.head.appendChild(Ae),q&&Y.body.classList.add(...q.split(" "));const ge=Y.querySelectorAll("canvas");for(let Te=0;Te<ee.length;++Te){const De=ee[Te],Qe=ge[Te];if(Qe===void 0){A({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",De],suppressErrors:ne});continue}const Ne=Qe.getContext("2d");Ne&&Ne.drawImage(De,0,0)}for(let Te=0;Te<V.length;Te++){const De=V[Te],Qe=De.getAttribute("src");if(Qe){const Ne=new Image;Ne.onload=()=>{B(De)},Ne.onerror=(pe,Pe,rt,qe,Me)=>{B(De,["Error loading <img>",De,"Error",Me])},Ne.src=Qe}else B(De,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',De])}for(let Te=0;Te<J.length;Te++){const De=J[Te];De.preload="auto";const Qe=De.getAttribute("poster");if(Qe){const Ne=new Image;Ne.onload=()=>{B(De)},Ne.onerror=(pe,Pe,rt,qe,Me)=>{B(De,["Error loading video poster",Qe,"for video",De,"Error:",Me])},Ne.src=Qe}else De.readyState>=2?B(De):De.src?(De.onloadeddata=()=>{B(De)},De.onerror=(Ne,pe,Pe,rt,qe)=>{B(De,["Error loading video",De,"Error",qe])},De.onstalled=()=>{B(De,["Loading video stalled, skipping",De])}):B(De,["Error loading video, `src` is empty",De])}const fe="select",je=G.querySelectorAll(fe),ke=Y.querySelectorAll(fe);for(let Te=0;Te<je.length;Te++)ke[Te].value=je[Te].value;if(!X){const Te=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let De=0,Qe=Te.length;De<Qe;++De){const Ne=Te[De];if(Ne.tagName.toLowerCase()==="style"){const pe=Y.createElement(Ne.tagName),Pe=Ne.sheet;if(Pe){let rt="";try{const qe=Pe.cssRules.length;for(let Me=0;Me<qe;++Me)typeof Pe.cssRules[Me].cssText=="string"&&(rt+=`${Pe.cssRules[Me].cssText}\r
`)}catch(qe){A({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ne,`Original error: ${h(qe).message}`],level:"warning"})}pe.setAttribute("id",`react-to-print-${De}`),le&&pe.setAttribute("nonce",le),pe.appendChild(Y.createTextNode(rt)),Y.head.appendChild(pe)}}else if(Ne.getAttribute("href"))if(Ne.hasAttribute("disabled"))A({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ne],level:"warning"}),B(Ne);else{const pe=Y.createElement(Ne.tagName);for(let Pe=0,rt=Ne.attributes.length;Pe<rt;++Pe){const qe=Ne.attributes[Pe];qe&&pe.setAttribute(qe.nodeName,(T=qe.nodeValue)!==null&&T!==void 0?T:"")}pe.onload=()=>{B(pe)},pe.onerror=(Pe,rt,qe,Me,wt)=>{B(pe,["Failed to load",pe,"Error:",wt])},le&&pe.setAttribute("nonce",le),Y.head.appendChild(pe)}else A({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ne],level:"warning"}),B(Ne)}}}Z===0&&m(y,_)}function j({bodyClass:y,contentRef:B,copyShadowRoots:I,documentTitle:_,fonts:O,ignoreGlobalStyles:H,nonce:D,onAfterPrint:L,onBeforePrint:T,onPrintError:G,pageStyle:M,preserveAfterPrint:V,print:J,suppressErrors:Z}){return(0,l.useCallback)(ee=>{function q(){const W={bodyClass:y,contentRef:B,copyShadowRoots:I,documentTitle:_,fonts:O,ignoreGlobalStyles:H,nonce:D,onAfterPrint:L,onBeforePrint:T,onPrintError:G,pageStyle:M,preserveAfterPrint:V,print:J,suppressErrors:Z},X=function(){const ne=document.createElement("iframe");return ne.width=`${document.documentElement.clientWidth}px`,ne.height=`${document.documentElement.clientHeight}px`,ne.style.position="absolute",ne.style.top=`-${document.documentElement.clientHeight+100}px`,ne.style.left=`-${document.documentElement.clientWidth+100}px`,ne.id="printWindow",ne.srcdoc="<!DOCTYPE html>",ne}(),K=function(ne,U){const{contentRef:Y,fonts:se,ignoreGlobalStyles:ce,suppressErrors:Ae}=U,ge=function({contentRef:Qe,optionalContent:Ne,suppressErrors:pe}){return Ne&&typeof Ne=="function"?(Qe&&A({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Ne()):Qe?Qe.current:void A({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:pe})}({contentRef:Y,optionalContent:ne,suppressErrors:Ae});if(!ge)return;const fe=ge.cloneNode(!0),je=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ke=fe.querySelectorAll("img"),Te=fe.querySelectorAll("video"),De=se?se.length:0;return{contentNode:ge,clonedContentNode:fe,clonedImgNodes:ke,clonedVideoNodes:Te,numResourcesToLoad:(ce?0:je.length)+ke.length+Te.length+De,originalCanvasNodes:ge.querySelectorAll("canvas")}}(ee,W);if(!K)return void A({messages:["There is nothing to print"],suppressErrors:Z});const le=function(ne,U,Y){const{suppressErrors:se}=ne,ce=[],Ae=[];return function(ge,fe){ce.includes(ge)?A({level:"debug",messages:["Tried to mark a resource that has already been handled",ge],suppressErrors:se}):(fe?(A({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...fe],suppressErrors:se}),Ae.push(ge)):ce.push(ge),ce.length+Ae.length===U&&m(Y,ne))}}(W,K.numResourcesToLoad,X);(function(ne,U,Y,se){ne.onload=()=>{N(ne,U,Y,se)},document.body.appendChild(ne)})(X,le,K,W)}u(V,!0),T?T().then(()=>{q()}).catch(W=>{G==null||G("onBeforePrint",h(W))}):q()},[y,B,I,_,O,H,D,L,T,G,M,V,J,Z])}return o}()})})(KR);var WR=KR.exports;const Hae="modulepreload",Vae=function(e,t){return new URL(e,t).href},VI={},m5=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),A=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Vae(u,n),u in VI)return;VI[u]=!0;const h=u.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(!!n)for(let b=o.length-1;b>=0;b--){const N=o[b];if(N.href===u&&(!h||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${m}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":Hae,h||(p.as="script"),p.crossOrigin="",p.href=u,A&&p.setAttribute("nonce",A),document.head.appendChild(p),h)return new Promise((b,N)=>{p.addEventListener("load",b),p.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};var zl=Uint8Array,Co=Uint16Array,XS=Int32Array,YS=new zl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ZS=new zl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),KI=new zl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GR=function(e,t){for(var r=new Co(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new XS(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},zR=GR(YS,2),Kae=zR.b,ON=zR.r;Kae[28]=258,ON[258]=28;var Wae=GR(ZS,0),WI=Wae.r,RN=new Co(32768);for(var Jn=0;Jn<32768;++Jn){var Cu=(Jn&43690)>>1|(Jn&21845)<<1;Cu=(Cu&52428)>>2|(Cu&13107)<<2,Cu=(Cu&61680)>>4|(Cu&3855)<<4,RN[Jn]=((Cu&65280)>>8|(Cu&255)<<8)>>1}var Rp=function(e,t,r){for(var n=e.length,s=0,i=new Co(t);s<n;++s)e[s]&&++i[e[s]-1];var o=new Co(t);for(s=1;s<t;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new Co(1<<t);var A=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],h=t-e[s],m=o[e[s]-1]++<<h,w=m|(1<<h)-1;m<=w;++m)l[RN[m]>>A]=u}else for(l=new Co(n),s=0;s<n;++s)e[s]&&(l[s]=RN[o[e[s]-1]++]>>15-e[s]);return l},tf=new zl(288);for(var Jn=0;Jn<144;++Jn)tf[Jn]=8;for(var Jn=144;Jn<256;++Jn)tf[Jn]=9;for(var Jn=256;Jn<280;++Jn)tf[Jn]=7;for(var Jn=280;Jn<288;++Jn)tf[Jn]=8;var Xy=new zl(32);for(var Jn=0;Jn<32;++Jn)Xy[Jn]=5;var Gae=Rp(tf,9,0),zae=Rp(Xy,5,0),$R=function(e){return(e+7)/8|0},$ae=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new zl(e.subarray(t,r))},cA=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},$m=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},p5=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:XR,l:0};if(s==1){var o=new zl(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(O,H){return O.f-H.f}),r.push({s:-1,f:25001});var l=r[0],A=r[1],u=0,h=1,m=2;for(r[0]={s:-1,f:l.f+A.f,l,r:A};h!=s-1;)l=r[r[u].f<r[m].f?u++:m++],A=r[u!=h&&r[u].f<r[m].f?u++:m++],r[h++]={s:-1,f:l.f+A.f,l,r:A};for(var w=i[0].s,n=1;n<s;++n)i[n].s>w&&(w=i[n].s);var p=new Co(w+1),b=MN(r[h-1],p,0);if(b>t){var n=0,N=0,j=b-t,y=1<<j;for(i.sort(function(H,D){return p[D.s]-p[H.s]||H.f-D.f});n<s;++n){var B=i[n].s;if(p[B]>t)N+=y-(1<<b-p[B]),p[B]=t;else break}for(N>>=j;N>0;){var I=i[n].s;p[I]<t?N-=1<<t-p[I]++-1:++n}for(;n>=0&&N;--n){var _=i[n].s;p[_]==t&&(--p[_],++N)}b=t}return{t:new zl(p),l:b}},MN=function(e,t,r){return e.s==-1?Math.max(MN(e.l,t,r+1),MN(e.r,t,r+1)):t[e.s]=r},GI=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Co(++t),n=0,s=e[0],i=1,o=function(A){r[n++]=A},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},qm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},qR=function(e,t,r){var n=r.length,s=$R(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},zI=function(e,t,r,n,s,i,o,l,A,u,h){cA(t,h++,r),++s[256];for(var m=p5(s,15),w=m.t,p=m.l,b=p5(i,15),N=b.t,j=b.l,y=GI(w),B=y.c,I=y.n,_=GI(N),O=_.c,H=_.n,D=new Co(19),L=0;L<B.length;++L)++D[B[L]&31];for(var L=0;L<O.length;++L)++D[O[L]&31];for(var T=p5(D,7),G=T.t,M=T.l,V=19;V>4&&!G[KI[V-1]];--V);var J=u+5<<3,Z=qm(s,tf)+qm(i,Xy)+o,ee=qm(s,w)+qm(i,N)+o+14+3*V+qm(D,G)+2*D[16]+3*D[17]+7*D[18];if(A>=0&&J<=Z&&J<=ee)return qR(t,h,e.subarray(A,A+u));var q,W,X,K;if(cA(t,h,1+(ee<Z)),h+=2,ee<Z){q=Rp(w,p,0),W=w,X=Rp(N,j,0),K=N;var le=Rp(G,M,0);cA(t,h,I-257),cA(t,h+5,H-1),cA(t,h+10,V-4),h+=14;for(var L=0;L<V;++L)cA(t,h+3*L,G[KI[L]]);h+=3*V;for(var ne=[B,O],U=0;U<2;++U)for(var Y=ne[U],L=0;L<Y.length;++L){var se=Y[L]&31;cA(t,h,le[se]),h+=G[se],se>15&&(cA(t,h,Y[L]>>5&127),h+=Y[L]>>12)}}else q=Gae,W=tf,X=zae,K=Xy;for(var L=0;L<l;++L){var ce=n[L];if(ce>255){var se=ce>>18&31;$m(t,h,q[se+257]),h+=W[se+257],se>7&&(cA(t,h,ce>>23&31),h+=YS[se]);var Ae=ce&31;$m(t,h,X[Ae]),h+=K[Ae],Ae>3&&($m(t,h,ce>>5&8191),h+=ZS[Ae])}else $m(t,h,q[ce]),h+=W[ce]}return $m(t,h,q[256]),h+W[256]},qae=new XS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),XR=new zl(0),Xae=function(e,t,r,n,s,i){var o=i.z||e.length,l=new zl(n+o+5*(1+Math.ceil(o/7e3))+s),A=l.subarray(n,l.length-s),u=i.l,h=(i.r||0)&7;if(t){h&&(A[0]=i.r>>3);for(var m=qae[t-1],w=m>>13,p=m&8191,b=(1<<r)-1,N=i.p||new Co(32768),j=i.h||new Co(b+1),y=Math.ceil(r/3),B=2*y,I=function(Ne){return(e[Ne]^e[Ne+1]<<y^e[Ne+2]<<B)&b},_=new XS(25e3),O=new Co(288),H=new Co(32),D=0,L=0,T=i.i||0,G=0,M=i.w||0,V=0;T+2<o;++T){var J=I(T),Z=T&32767,ee=j[J];if(N[Z]=ee,j[J]=Z,M<=T){var q=o-T;if((D>7e3||G>24576)&&(q>423||!u)){h=zI(e,A,0,_,O,H,L,G,V,T-V,h),G=D=L=0,V=T;for(var W=0;W<286;++W)O[W]=0;for(var W=0;W<30;++W)H[W]=0}var X=2,K=0,le=p,ne=Z-ee&32767;if(q>2&&J==I(T-ne))for(var U=Math.min(w,q)-1,Y=Math.min(32767,T),se=Math.min(258,q);ne<=Y&&--le&&Z!=ee;){if(e[T+X]==e[T+X-ne]){for(var ce=0;ce<se&&e[T+ce]==e[T+ce-ne];++ce);if(ce>X){if(X=ce,K=ne,ce>U)break;for(var Ae=Math.min(ne,ce-2),ge=0,W=0;W<Ae;++W){var fe=T-ne+W&32767,je=N[fe],ke=fe-je&32767;ke>ge&&(ge=ke,ee=fe)}}}Z=ee,ee=N[Z],ne+=Z-ee&32767}if(K){_[G++]=268435456|ON[X]<<18|WI[K];var Te=ON[X]&31,De=WI[K]&31;L+=YS[Te]+ZS[De],++O[257+Te],++H[De],M=T+X,++D}else _[G++]=e[T],++O[e[T]]}}for(T=Math.max(T,M);T<o;++T)_[G++]=e[T],++O[e[T]];h=zI(e,A,u,_,O,H,L,G,V,T-V,h),u||(i.r=h&7|A[h/8|0]<<3,h-=7,i.h=j,i.p=N,i.i=T,i.w=M)}else{for(var T=i.w||0;T<o+u;T+=65535){var Qe=T+65535;Qe>=o&&(A[h/8|0]=u,Qe=o),h=qR(A,h+1,e.subarray(T,Qe))}i.i=o}return $ae(l,0,n+$R(h)+s)},YR=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Yae=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new zl(i.length+e.length);o.set(i),o.set(e,i.length),e=o,s.w=i.length}return Xae(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},ZR=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Zae=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=YR();s.p(t.dictionary),ZR(e,2,s.d())}};function UN(e,t){t||(t={});var r=YR();r.p(e);var n=Yae(e,t,t.dictionary?6:2,4);return Zae(n,t),ZR(n,n.length-4,r.d()),n}var Jae=typeof TextDecoder<"u"&&new TextDecoder,eie=0;try{Jae.decode(XR,{stream:!0}),eie=1}catch{}function $I(e,t="utf8"){return new TextDecoder(t).decode(e)}const tie=new TextEncoder;function rie(e){return tie.encode(e)}const nie=1024*8,sie=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),g5={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class JS{constructor(t=nie,r={}){Bn(this,"buffer");Bn(this,"byteLength");Bn(this,"byteOffset");Bn(this,"length");Bn(this,"offset");Bn(this,"lastWrittenByte");Bn(this,"littleEndian");Bn(this,"_data");Bn(this,"_mark");Bn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let o=s;(ArrayBuffer.isView(t)||t instanceof JS)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=g5[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===sie&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const A=new g5[r](l.buffer);return this.offset+=n,A.reverse(),A}const o=new g5[r](i);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return $I(this.readBytes(t))}decodeText(t=1,r="utf8"){return $I(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(rie(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const aie=4,qI=0,XI=1,iie=2;function wm(e){let t=e.length;for(;--t>=0;)e[t]=0}const oie=0,JR=1,lie=2,cie=3,Aie=258,eE=29,x1=256,Lg=x1+1+eE,w0=30,tE=19,eM=2*Lg+1,fh=15,x5=16,uie=7,rE=256,tM=16,rM=17,nM=18,QN=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Uw=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),die=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),sM=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hie=512,xA=new Array((Lg+2)*2);wm(xA);const Mp=new Array(w0*2);wm(Mp);const Pg=new Array(hie);wm(Pg);const Dg=new Array(Aie-cie+1);wm(Dg);const nE=new Array(eE);wm(nE);const Yy=new Array(w0);wm(Yy);function w5(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let aM,iM,oM;function y5(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const lM=e=>e<256?Pg[e]:Pg[256+(e>>>7)],Og=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Gi=(e,t,r)=>{e.bi_valid>x5-r?(e.bi_buf|=t<<e.bi_valid&65535,Og(e,e.bi_buf),e.bi_buf=t>>x5-e.bi_valid,e.bi_valid+=r-x5):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},yc=(e,t,r)=>{Gi(e,r[t*2],r[t*2+1])},cM=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},fie=e=>{e.bi_valid===16?(Og(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},mie=(e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,A=t.stat_desc.max_length;let u,h,m,w,p,b,N=0;for(w=0;w<=fh;w++)e.bl_count[w]=0;for(r[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<eM;u++)h=e.heap[u],w=r[r[h*2+1]*2+1]+1,w>A&&(w=A,N++),r[h*2+1]=w,!(h>n)&&(e.bl_count[w]++,p=0,h>=l&&(p=o[h-l]),b=r[h*2],e.opt_len+=b*(w+p),i&&(e.static_len+=b*(s[h*2+1]+p)));if(N!==0){do{for(w=A-1;e.bl_count[w]===0;)w--;e.bl_count[w]--,e.bl_count[w+1]+=2,e.bl_count[A]--,N-=2}while(N>0);for(w=A;w!==0;w--)for(h=e.bl_count[w];h!==0;)m=e.heap[--u],!(m>n)&&(r[m*2+1]!==w&&(e.opt_len+=(w-r[m*2+1])*r[m*2],r[m*2+1]=w),h--)}},AM=(e,t,r)=>{const n=new Array(fh+1);let s=0,i,o;for(i=1;i<=fh;i++)s=s+r[i-1]<<1,n[i]=s;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=cM(n[l]++,l))}},pie=()=>{let e,t,r,n,s;const i=new Array(fh+1);for(r=0,n=0;n<eE-1;n++)for(nE[n]=r,e=0;e<1<<QN[n];e++)Dg[r++]=n;for(Dg[r-1]=n,s=0,n=0;n<16;n++)for(Yy[n]=s,e=0;e<1<<Uw[n];e++)Pg[s++]=n;for(s>>=7;n<w0;n++)for(Yy[n]=s<<7,e=0;e<1<<Uw[n]-7;e++)Pg[256+s++]=n;for(t=0;t<=fh;t++)i[t]=0;for(e=0;e<=143;)xA[e*2+1]=8,e++,i[8]++;for(;e<=255;)xA[e*2+1]=9,e++,i[9]++;for(;e<=279;)xA[e*2+1]=7,e++,i[7]++;for(;e<=287;)xA[e*2+1]=8,e++,i[8]++;for(AM(xA,Lg+1,i),e=0;e<w0;e++)Mp[e*2+1]=5,Mp[e*2]=cM(e,5);aM=new w5(xA,QN,x1+1,Lg,fh),iM=new w5(Mp,Uw,0,w0,fh),oM=new w5(new Array(0),die,0,tE,uie)},uM=e=>{let t;for(t=0;t<Lg;t++)e.dyn_ltree[t*2]=0;for(t=0;t<w0;t++)e.dyn_dtree[t*2]=0;for(t=0;t<tE;t++)e.bl_tree[t*2]=0;e.dyn_ltree[rE*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},dM=e=>{e.bi_valid>8?Og(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},YI=(e,t,r,n)=>{const s=t*2,i=r*2;return e[s]<e[i]||e[s]===e[i]&&n[t]<=n[r]},v5=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&YI(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!YI(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},ZI=(e,t,r)=>{let n,s,i=0,o,l;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,s=e.pending_buf[e.sym_buf+i++],n===0?yc(e,s,t):(o=Dg[s],yc(e,o+x1+1,t),l=QN[o],l!==0&&(s-=nE[o],Gi(e,s,l)),n--,o=lM(n),yc(e,o,r),l=Uw[o],l!==0&&(n-=Yy[o],Gi(e,n,l)));while(i<e.sym_next);yc(e,rE,t)},HN=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,l,A=-1,u;for(e.heap_len=0,e.heap_max=eM,o=0;o<i;o++)r[o*2]!==0?(e.heap[++e.heap_len]=A=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=A<2?++A:0,r[u*2]=1,e.depth[u]=0,e.opt_len--,s&&(e.static_len-=n[u*2+1]);for(t.max_code=A,o=e.heap_len>>1;o>=1;o--)v5(e,r,o);u=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],v5(e,r,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,r[u*2]=r[o*2]+r[l*2],e.depth[u]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,r[o*2+1]=r[l*2+1]=u,e.heap[1]=u++,v5(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],mie(e,t),AM(r,A,e.bl_count)},JI=(e,t,r)=>{let n,s=-1,i,o=t[0*2+1],l=0,A=7,u=4;for(o===0&&(A=138,u=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=o,o=t[(n+1)*2+1],!(++l<A&&i===o)&&(l<u?e.bl_tree[i*2]+=l:i!==0?(i!==s&&e.bl_tree[i*2]++,e.bl_tree[tM*2]++):l<=10?e.bl_tree[rM*2]++:e.bl_tree[nM*2]++,l=0,s=i,o===0?(A=138,u=3):i===o?(A=6,u=3):(A=7,u=4))},eF=(e,t,r)=>{let n,s=-1,i,o=t[0*2+1],l=0,A=7,u=4;for(o===0&&(A=138,u=3),n=0;n<=r;n++)if(i=o,o=t[(n+1)*2+1],!(++l<A&&i===o)){if(l<u)do yc(e,i,e.bl_tree);while(--l!==0);else i!==0?(i!==s&&(yc(e,i,e.bl_tree),l--),yc(e,tM,e.bl_tree),Gi(e,l-3,2)):l<=10?(yc(e,rM,e.bl_tree),Gi(e,l-3,3)):(yc(e,nM,e.bl_tree),Gi(e,l-11,7));l=0,s=i,o===0?(A=138,u=3):i===o?(A=6,u=3):(A=7,u=4)}},gie=e=>{let t;for(JI(e,e.dyn_ltree,e.l_desc.max_code),JI(e,e.dyn_dtree,e.d_desc.max_code),HN(e,e.bl_desc),t=tE-1;t>=3&&e.bl_tree[sM[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},xie=(e,t,r,n)=>{let s;for(Gi(e,t-257,5),Gi(e,r-1,5),Gi(e,n-4,4),s=0;s<n;s++)Gi(e,e.bl_tree[sM[s]*2+1],3);eF(e,e.dyn_ltree,t-1),eF(e,e.dyn_dtree,r-1)},wie=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return qI;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return XI;for(r=32;r<x1;r++)if(e.dyn_ltree[r*2]!==0)return XI;return qI};let tF=!1;const yie=e=>{tF||(pie(),tF=!0),e.l_desc=new y5(e.dyn_ltree,aM),e.d_desc=new y5(e.dyn_dtree,iM),e.bl_desc=new y5(e.bl_tree,oM),e.bi_buf=0,e.bi_valid=0,uM(e)},hM=(e,t,r,n)=>{Gi(e,(oie<<1)+(n?1:0),3),dM(e),Og(e,r),Og(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},vie=e=>{Gi(e,JR<<1,3),yc(e,rE,xA),fie(e)},bie=(e,t,r,n)=>{let s,i,o=0;e.level>0?(e.strm.data_type===iie&&(e.strm.data_type=wie(e)),HN(e,e.l_desc),HN(e,e.d_desc),o=gie(e),s=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=s&&(s=i)):s=i=r+5,r+4<=s&&t!==-1?hM(e,t,r,n):e.strategy===aie||i===s?(Gi(e,(JR<<1)+(n?1:0),3),ZI(e,xA,Mp)):(Gi(e,(lie<<1)+(n?1:0),3),xie(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),ZI(e,e.dyn_ltree,e.dyn_dtree)),uM(e),n&&dM(e)},Cie=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Dg[r]+x1+1)*2]++,e.dyn_dtree[lM(t)*2]++),e.sym_next===e.sym_end);var Nie=yie,Bie=hM,Sie=bie,Eie=Cie,jie=vie,Iie={_tr_init:Nie,_tr_stored_block:Bie,_tr_flush_block:Sie,_tr_tally:Eie,_tr_align:jie};const Fie=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+t[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Rg=Fie;const kie=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},_ie=new Uint32Array(kie()),Tie=(e,t,r,n)=>{const s=_ie,i=n+r;e^=-1;for(let o=n;o<i;o++)e=e>>>8^s[(e^t[o])&255];return e^-1};var ua=Tie,em={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},w1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Lie,_tr_stored_block:VN,_tr_flush_block:Pie,_tr_tally:gd,_tr_align:Die}=Iie,{Z_NO_FLUSH:xd,Z_PARTIAL_FLUSH:Oie,Z_FULL_FLUSH:Rie,Z_FINISH:tl,Z_BLOCK:rF,Z_OK:Ia,Z_STREAM_END:nF,Z_STREAM_ERROR:jc,Z_DATA_ERROR:Mie,Z_BUF_ERROR:b5,Z_DEFAULT_COMPRESSION:Uie,Z_FILTERED:Qie,Z_HUFFMAN_ONLY:Ex,Z_RLE:Hie,Z_FIXED:Vie,Z_DEFAULT_STRATEGY:Kie,Z_UNKNOWN:Wie,Z_DEFLATED:Ev}=w1,Gie=9,zie=15,$ie=8,qie=29,Xie=256,KN=Xie+1+qie,Yie=30,Zie=19,Jie=2*KN+1,eoe=15,Zr=3,Ju=258,Ic=Ju+Zr+1,toe=32,tm=42,sE=57,WN=69,GN=73,zN=91,$N=103,mh=113,dp=666,Ni=1,ym=2,rf=3,vm=4,roe=3,ph=(e,t)=>(e.msg=em[t],t),sF=e=>e*2-(e>4?9:0),Ru=e=>{let t=e.length;for(;--t>=0;)e[t]=0},noe=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=s?r-s:0;while(--t);t=s,n=t;do r=e.prev[--n],e.prev[n]=r>=s?r-s:0;while(--t)};let soe=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,wd=soe;const wo=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},No=(e,t)=>{Pie(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,wo(e.strm)},dn=(e,t)=>{e.pending_buf[e.pending++]=t},Xm=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},qN=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),e.state.wrap===1?e.adler=Rg(e.adler,t,s,r):e.state.wrap===2&&(e.adler=ua(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},fM=(e,t)=>{let r=e.max_chain_length,n=e.strstart,s,i,o=e.prev_length,l=e.nice_match;const A=e.strstart>e.w_size-Ic?e.strstart-(e.w_size-Ic):0,u=e.window,h=e.w_mask,m=e.prev,w=e.strstart+Ju;let p=u[n+o-1],b=u[n+o];e.prev_length>=e.good_match&&(r>>=2),l>e.lookahead&&(l=e.lookahead);do if(s=t,!(u[s+o]!==b||u[s+o-1]!==p||u[s]!==u[n]||u[++s]!==u[n+1])){n+=2,s++;do;while(u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&u[++n]===u[++s]&&n<w);if(i=Ju-(w-n),n=w-Ju,i>o){if(e.match_start=t,o=i,i>=l)break;p=u[n+o-1],b=u[n+o]}}while((t=m[t&h])>A&&--r!==0);return o<=e.lookahead?o:e.lookahead},rm=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ic)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),noe(e),n+=t),e.strm.avail_in===0)break;if(r=qN(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Zr)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=wd(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=wd(e,e.ins_h,e.window[s+Zr-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Zr)););}while(e.lookahead<Ic&&e.strm.avail_in!==0)},mM=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,s,i,o=0,l=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,s=e.strstart-e.block_start,n>s+e.strm.avail_in&&(n=s+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==tl||t===xd||n!==s+e.strm.avail_in)))break;o=t===tl&&n===s+e.strm.avail_in?1:0,VN(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,wo(e.strm),s&&(s>n&&(s=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,n-=s),n&&(qN(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?vm:t!==xd&&t!==tl&&e.strm.avail_in===0&&e.strstart===e.block_start?ym:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(qN(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,s=e.strstart-e.block_start,(s>=r||(s||t===tl)&&t!==xd&&e.strm.avail_in===0&&s<=i)&&(n=s>i?i:s,o=t===tl&&e.strm.avail_in===0&&n===s?1:0,VN(e,e.block_start,n,o),e.block_start+=n,wo(e.strm)),o?rf:Ni)},C5=(e,t)=>{let r,n;for(;;){if(e.lookahead<Ic){if(rm(e),e.lookahead<Ic&&t===xd)return Ni;if(e.lookahead===0)break}if(r=0,e.lookahead>=Zr&&(e.ins_h=wd(e,e.ins_h,e.window[e.strstart+Zr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Ic&&(e.match_length=fM(e,r)),e.match_length>=Zr)if(n=gd(e,e.strstart-e.match_start,e.match_length-Zr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Zr){e.match_length--;do e.strstart++,e.ins_h=wd(e,e.ins_h,e.window[e.strstart+Zr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=wd(e,e.ins_h,e.window[e.strstart+1]);else n=gd(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(No(e,!1),e.strm.avail_out===0))return Ni}return e.insert=e.strstart<Zr-1?e.strstart:Zr-1,t===tl?(No(e,!0),e.strm.avail_out===0?rf:vm):e.sym_next&&(No(e,!1),e.strm.avail_out===0)?Ni:ym},Cf=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<Ic){if(rm(e),e.lookahead<Ic&&t===xd)return Ni;if(e.lookahead===0)break}if(r=0,e.lookahead>=Zr&&(e.ins_h=wd(e,e.ins_h,e.window[e.strstart+Zr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Zr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Ic&&(e.match_length=fM(e,r),e.match_length<=5&&(e.strategy===Qie||e.match_length===Zr&&e.strstart-e.match_start>4096)&&(e.match_length=Zr-1)),e.prev_length>=Zr&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-Zr,n=gd(e,e.strstart-1-e.prev_match,e.prev_length-Zr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=wd(e,e.ins_h,e.window[e.strstart+Zr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Zr-1,e.strstart++,n&&(No(e,!1),e.strm.avail_out===0))return Ni}else if(e.match_available){if(n=gd(e,0,e.window[e.strstart-1]),n&&No(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Ni}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=gd(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Zr-1?e.strstart:Zr-1,t===tl?(No(e,!0),e.strm.avail_out===0?rf:vm):e.sym_next&&(No(e,!1),e.strm.avail_out===0)?Ni:ym},aoe=(e,t)=>{let r,n,s,i;const o=e.window;for(;;){if(e.lookahead<=Ju){if(rm(e),e.lookahead<=Ju&&t===xd)return Ni;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Zr&&e.strstart>0&&(s=e.strstart-1,n=o[s],n===o[++s]&&n===o[++s]&&n===o[++s])){i=e.strstart+Ju;do;while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<i);e.match_length=Ju-(i-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Zr?(r=gd(e,1,e.match_length-Zr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=gd(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(No(e,!1),e.strm.avail_out===0))return Ni}return e.insert=0,t===tl?(No(e,!0),e.strm.avail_out===0?rf:vm):e.sym_next&&(No(e,!1),e.strm.avail_out===0)?Ni:ym},ioe=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(rm(e),e.lookahead===0)){if(t===xd)return Ni;break}if(e.match_length=0,r=gd(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(No(e,!1),e.strm.avail_out===0))return Ni}return e.insert=0,t===tl?(No(e,!0),e.strm.avail_out===0?rf:vm):e.sym_next&&(No(e,!1),e.strm.avail_out===0)?Ni:ym};function cc(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const hp=[new cc(0,0,0,0,mM),new cc(4,4,8,4,C5),new cc(4,5,16,8,C5),new cc(4,6,32,32,C5),new cc(4,4,16,16,Cf),new cc(8,16,32,32,Cf),new cc(8,16,128,128,Cf),new cc(8,32,128,256,Cf),new cc(32,128,258,1024,Cf),new cc(32,258,258,4096,Cf)],ooe=e=>{e.window_size=2*e.w_size,Ru(e.head),e.max_lazy_match=hp[e.level].max_lazy,e.good_match=hp[e.level].good_length,e.nice_match=hp[e.level].nice_length,e.max_chain_length=hp[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Zr-1,e.match_available=0,e.ins_h=0};function loe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ev,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Jie*2),this.dyn_dtree=new Uint16Array((2*Yie+1)*2),this.bl_tree=new Uint16Array((2*Zie+1)*2),Ru(this.dyn_ltree),Ru(this.dyn_dtree),Ru(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(eoe+1),this.heap=new Uint16Array(2*KN+1),Ru(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*KN+1),Ru(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const y1=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==tm&&t.status!==sE&&t.status!==WN&&t.status!==GN&&t.status!==zN&&t.status!==$N&&t.status!==mh&&t.status!==dp?1:0},pM=e=>{if(y1(e))return ph(e,jc);e.total_in=e.total_out=0,e.data_type=Wie;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?sE:t.wrap?tm:mh,e.adler=t.wrap===2?0:1,t.last_flush=-2,Lie(t),Ia},gM=e=>{const t=pM(e);return t===Ia&&ooe(e.state),t},coe=(e,t)=>y1(e)||e.state.wrap!==2?jc:(e.state.gzhead=t,Ia),xM=(e,t,r,n,s,i)=>{if(!e)return jc;let o=1;if(t===Uie&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>Gie||r!==Ev||n<8||n>15||t<0||t>9||i<0||i>Vie||n===8&&o!==1)return ph(e,jc);n===8&&(n=9);const l=new loe;return e.state=l,l.strm=e,l.status=tm,l.wrap=o,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Zr-1)/Zr),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=i,l.method=r,gM(e)},Aoe=(e,t)=>xM(e,t,Ev,zie,$ie,Kie),uoe=(e,t)=>{if(y1(e)||t>rF||t<0)return e?ph(e,jc):jc;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===dp&&t!==tl)return ph(e,e.avail_out===0?b5:jc);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(wo(e),e.avail_out===0)return r.last_flush=-1,Ia}else if(e.avail_in===0&&sF(t)<=sF(n)&&t!==tl)return ph(e,b5);if(r.status===dp&&e.avail_in!==0)return ph(e,b5);if(r.status===tm&&r.wrap===0&&(r.status=mh),r.status===tm){let s=Ev+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=Ex||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,s|=i<<6,r.strstart!==0&&(s|=toe),s+=31-s%31,Xm(r,s),r.strstart!==0&&(Xm(r,e.adler>>>16),Xm(r,e.adler&65535)),e.adler=1,r.status=mh,wo(e),r.pending!==0)return r.last_flush=-1,Ia}if(r.status===sE){if(e.adler=0,dn(r,31),dn(r,139),dn(r,8),r.gzhead)dn(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),dn(r,r.gzhead.time&255),dn(r,r.gzhead.time>>8&255),dn(r,r.gzhead.time>>16&255),dn(r,r.gzhead.time>>24&255),dn(r,r.level===9?2:r.strategy>=Ex||r.level<2?4:0),dn(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(dn(r,r.gzhead.extra.length&255),dn(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ua(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=WN;else if(dn(r,0),dn(r,0),dn(r,0),dn(r,0),dn(r,0),dn(r,r.level===9?2:r.strategy>=Ex||r.level<2?4:0),dn(r,roe),r.status=mh,wo(e),r.pending!==0)return r.last_flush=-1,Ia}if(r.status===WN){if(r.gzhead.extra){let s=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let l=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+l),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>s&&(e.adler=ua(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex+=l,wo(e),r.pending!==0)return r.last_flush=-1,Ia;s=0,i-=l}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>s&&(e.adler=ua(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=GN}if(r.status===GN){if(r.gzhead.name){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=ua(e.adler,r.pending_buf,r.pending-s,s)),wo(e),r.pending!==0)return r.last_flush=-1,Ia;s=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,dn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=ua(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex=0}r.status=zN}if(r.status===zN){if(r.gzhead.comment){let s=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>s&&(e.adler=ua(e.adler,r.pending_buf,r.pending-s,s)),wo(e),r.pending!==0)return r.last_flush=-1,Ia;s=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,dn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>s&&(e.adler=ua(e.adler,r.pending_buf,r.pending-s,s))}r.status=$N}if(r.status===$N){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(wo(e),r.pending!==0))return r.last_flush=-1,Ia;dn(r,e.adler&255),dn(r,e.adler>>8&255),e.adler=0}if(r.status=mh,wo(e),r.pending!==0)return r.last_flush=-1,Ia}if(e.avail_in!==0||r.lookahead!==0||t!==xd&&r.status!==dp){let s=r.level===0?mM(r,t):r.strategy===Ex?ioe(r,t):r.strategy===Hie?aoe(r,t):hp[r.level].func(r,t);if((s===rf||s===vm)&&(r.status=dp),s===Ni||s===rf)return e.avail_out===0&&(r.last_flush=-1),Ia;if(s===ym&&(t===Oie?Die(r):t!==rF&&(VN(r,0,0,!1),t===Rie&&(Ru(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),wo(e),e.avail_out===0))return r.last_flush=-1,Ia}return t!==tl?Ia:r.wrap<=0?nF:(r.wrap===2?(dn(r,e.adler&255),dn(r,e.adler>>8&255),dn(r,e.adler>>16&255),dn(r,e.adler>>24&255),dn(r,e.total_in&255),dn(r,e.total_in>>8&255),dn(r,e.total_in>>16&255),dn(r,e.total_in>>24&255)):(Xm(r,e.adler>>>16),Xm(r,e.adler&65535)),wo(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ia:nF)},doe=e=>{if(y1(e))return jc;const t=e.state.status;return e.state=null,t===mh?ph(e,Mie):Ia},hoe=(e,t)=>{let r=t.length;if(y1(e))return jc;const n=e.state,s=n.wrap;if(s===2||s===1&&n.status!==tm||n.lookahead)return jc;if(s===1&&(e.adler=Rg(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){s===0&&(Ru(n.head),n.strstart=0,n.block_start=0,n.insert=0);let A=new Uint8Array(n.w_size);A.set(t.subarray(r-n.w_size,r),0),t=A,r=n.w_size}const i=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,rm(n);n.lookahead>=Zr;){let A=n.strstart,u=n.lookahead-(Zr-1);do n.ins_h=wd(n,n.ins_h,n.window[A+Zr-1]),n.prev[A&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=A,A++;while(--u);n.strstart=A,n.lookahead=Zr-1,rm(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Zr-1,n.match_available=0,e.next_in=o,e.input=l,e.avail_in=i,n.wrap=s,Ia};var foe=Aoe,moe=xM,poe=gM,goe=pM,xoe=coe,woe=uoe,yoe=doe,voe=hoe,boe="pako deflate (from Nodeca project)",Up={deflateInit:foe,deflateInit2:moe,deflateReset:poe,deflateResetKeep:goe,deflateSetHeader:xoe,deflate:woe,deflateEnd:yoe,deflateSetDictionary:voe,deflateInfo:boe};const Coe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Noe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Coe(r,n)&&(e[n]=r[n])}}return e},Boe=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let o=e[n];r.set(o,s),s+=o.length}return r},jv={assign:Noe,flattenChunks:Boe};let wM=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{wM=!1}const Mg=new Uint8Array(256);for(let e=0;e<256;e++)Mg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Mg[254]=Mg[254]=1;var Soe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,o=e.length,l=0;for(s=0;s<o;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),i=0,s=0;i<l;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const Eoe=(e,t)=>{if(t<65534&&e.subarray&&wM)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var joe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let o=e[n++];if(o<128){i[s++]=o;continue}let l=Mg[o];if(l>4){i[s++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return Eoe(i,s)},Ioe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Mg[e[r]]>t?r:t},Ug={string2buf:Soe,buf2string:joe,utf8border:Ioe};function Foe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var yM=Foe;const vM=Object.prototype.toString,{Z_NO_FLUSH:koe,Z_SYNC_FLUSH:_oe,Z_FULL_FLUSH:Toe,Z_FINISH:Loe,Z_OK:Zy,Z_STREAM_END:Poe,Z_DEFAULT_COMPRESSION:Doe,Z_DEFAULT_STRATEGY:Ooe,Z_DEFLATED:Roe}=w1;function aE(e){this.options=jv.assign({level:Doe,method:Roe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ooe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yM,this.strm.avail_out=0;let r=Up.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Zy)throw new Error(em[r]);if(t.header&&Up.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Ug.string2buf(t.dictionary):vM.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Up.deflateSetDictionary(this.strm,n),r!==Zy)throw new Error(em[r]);this._dict_set=!0}}aE.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?Loe:koe,typeof e=="string"?r.input=Ug.string2buf(e):vM.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===_oe||i===Toe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(s=Up.deflate(r,i),s===Poe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=Up.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Zy;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};aE.prototype.onData=function(e){this.chunks.push(e)};aE.prototype.onEnd=function(e){e===Zy&&(this.result=jv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const jx=16209,Moe=16191;var Uoe=function(t,r){let n,s,i,o,l,A,u,h,m,w,p,b,N,j,y,B,I,_,O,H,D,L,T,G;const M=t.state;n=t.next_in,T=t.input,s=n+(t.avail_in-5),i=t.next_out,G=t.output,o=i-(r-t.avail_out),l=i+(t.avail_out-257),A=M.dmax,u=M.wsize,h=M.whave,m=M.wnext,w=M.window,p=M.hold,b=M.bits,N=M.lencode,j=M.distcode,y=(1<<M.lenbits)-1,B=(1<<M.distbits)-1;e:do{b<15&&(p+=T[n++]<<b,b+=8,p+=T[n++]<<b,b+=8),I=N[p&y];t:for(;;){if(_=I>>>24,p>>>=_,b-=_,_=I>>>16&255,_===0)G[i++]=I&65535;else if(_&16){O=I&65535,_&=15,_&&(b<_&&(p+=T[n++]<<b,b+=8),O+=p&(1<<_)-1,p>>>=_,b-=_),b<15&&(p+=T[n++]<<b,b+=8,p+=T[n++]<<b,b+=8),I=j[p&B];r:for(;;){if(_=I>>>24,p>>>=_,b-=_,_=I>>>16&255,_&16){if(H=I&65535,_&=15,b<_&&(p+=T[n++]<<b,b+=8,b<_&&(p+=T[n++]<<b,b+=8)),H+=p&(1<<_)-1,H>A){t.msg="invalid distance too far back",M.mode=jx;break e}if(p>>>=_,b-=_,_=i-o,H>_){if(_=H-_,_>h&&M.sane){t.msg="invalid distance too far back",M.mode=jx;break e}if(D=0,L=w,m===0){if(D+=u-_,_<O){O-=_;do G[i++]=w[D++];while(--_);D=i-H,L=G}}else if(m<_){if(D+=u+m-_,_-=m,_<O){O-=_;do G[i++]=w[D++];while(--_);if(D=0,m<O){_=m,O-=_;do G[i++]=w[D++];while(--_);D=i-H,L=G}}}else if(D+=m-_,_<O){O-=_;do G[i++]=w[D++];while(--_);D=i-H,L=G}for(;O>2;)G[i++]=L[D++],G[i++]=L[D++],G[i++]=L[D++],O-=3;O&&(G[i++]=L[D++],O>1&&(G[i++]=L[D++]))}else{D=i-H;do G[i++]=G[D++],G[i++]=G[D++],G[i++]=G[D++],O-=3;while(O>2);O&&(G[i++]=G[D++],O>1&&(G[i++]=G[D++]))}}else if(_&64){t.msg="invalid distance code",M.mode=jx;break e}else{I=j[(I&65535)+(p&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){M.mode=Moe;break e}else{t.msg="invalid literal/length code",M.mode=jx;break e}else{I=N[(I&65535)+(p&(1<<_)-1)];continue t}break}}while(n<s&&i<l);O=b>>3,n-=O,b-=O<<3,p&=(1<<b)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<l?257+(l-i):257-(i-l),M.hold=p,M.bits=b};const Nf=15,aF=852,iF=592,oF=0,N5=1,lF=2,Qoe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Hoe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Voe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Koe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Woe=(e,t,r,n,s,i,o,l)=>{const A=l.bits;let u=0,h=0,m=0,w=0,p=0,b=0,N=0,j=0,y=0,B=0,I,_,O,H,D,L=null,T;const G=new Uint16Array(Nf+1),M=new Uint16Array(Nf+1);let V=null,J,Z,ee;for(u=0;u<=Nf;u++)G[u]=0;for(h=0;h<n;h++)G[t[r+h]]++;for(p=A,w=Nf;w>=1&&G[w]===0;w--);if(p>w&&(p=w),w===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<w&&G[m]===0;m++);for(p<m&&(p=m),j=1,u=1;u<=Nf;u++)if(j<<=1,j-=G[u],j<0)return-1;if(j>0&&(e===oF||w!==1))return-1;for(M[1]=0,u=1;u<Nf;u++)M[u+1]=M[u]+G[u];for(h=0;h<n;h++)t[r+h]!==0&&(o[M[t[r+h]]++]=h);if(e===oF?(L=V=o,T=20):e===N5?(L=Qoe,V=Hoe,T=257):(L=Voe,V=Koe,T=0),B=0,h=0,u=m,D=i,b=p,N=0,O=-1,y=1<<p,H=y-1,e===N5&&y>aF||e===lF&&y>iF)return 1;for(;;){J=u-N,o[h]+1<T?(Z=0,ee=o[h]):o[h]>=T?(Z=V[o[h]-T],ee=L[o[h]-T]):(Z=96,ee=0),I=1<<u-N,_=1<<b,m=_;do _-=I,s[D+(B>>N)+_]=J<<24|Z<<16|ee|0;while(_!==0);for(I=1<<u-1;B&I;)I>>=1;if(I!==0?(B&=I-1,B+=I):B=0,h++,--G[u]===0){if(u===w)break;u=t[r+o[h]]}if(u>p&&(B&H)!==O){for(N===0&&(N=p),D+=m,b=u-N,j=1<<b;b+N<w&&(j-=G[b+N],!(j<=0));)b++,j<<=1;if(y+=1<<b,e===N5&&y>aF||e===lF&&y>iF)return 1;O=B&H,s[O]=p<<24|b<<16|D-i|0}}return B!==0&&(s[D+B]=u-N<<24|64<<16|0),l.bits=p,0};var Qp=Woe;const Goe=0,bM=1,CM=2,{Z_FINISH:cF,Z_BLOCK:zoe,Z_TREES:Ix,Z_OK:nf,Z_STREAM_END:$oe,Z_NEED_DICT:qoe,Z_STREAM_ERROR:Al,Z_DATA_ERROR:NM,Z_MEM_ERROR:BM,Z_BUF_ERROR:Xoe,Z_DEFLATED:AF}=w1,Iv=16180,uF=16181,dF=16182,hF=16183,fF=16184,mF=16185,pF=16186,gF=16187,xF=16188,wF=16189,Jy=16190,AA=16191,B5=16192,yF=16193,S5=16194,vF=16195,bF=16196,CF=16197,NF=16198,Fx=16199,kx=16200,BF=16201,SF=16202,EF=16203,jF=16204,IF=16205,E5=16206,FF=16207,kF=16208,is=16209,SM=16210,EM=16211,Yoe=852,Zoe=592,Joe=15,ele=Joe,_F=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function tle(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ff=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Iv||t.mode>EM?1:0},jM=e=>{if(ff(e))return Al;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Iv,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Yoe),t.distcode=t.distdyn=new Int32Array(Zoe),t.sane=1,t.back=-1,nf},IM=e=>{if(ff(e))return Al;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,jM(e)},FM=(e,t)=>{let r;if(ff(e))return Al;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Al:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,IM(e))},kM=(e,t)=>{if(!e)return Al;const r=new tle;e.state=r,r.strm=e,r.window=null,r.mode=Iv;const n=FM(e,t);return n!==nf&&(e.state=null),n},rle=e=>kM(e,ele);let TF=!0,j5,I5;const nle=e=>{if(TF){j5=new Int32Array(512),I5=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Qp(bM,e.lens,0,288,j5,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Qp(CM,e.lens,0,32,I5,0,e.work,{bits:5}),TF=!1}e.lencode=j5,e.lenbits=9,e.distcode=I5,e.distbits=5},_M=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},sle=(e,t)=>{let r,n,s,i,o,l,A,u,h,m,w,p,b,N,j=0,y,B,I,_,O,H,D,L;const T=new Uint8Array(4);let G,M;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ff(e)||!e.output||!e.input&&e.avail_in!==0)return Al;r=e.state,r.mode===AA&&(r.mode=B5),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,h=r.bits,m=l,w=A,L=nf;e:for(;;)switch(r.mode){case Iv:if(r.wrap===0){r.mode=B5;break}for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=u&255,T[1]=u>>>8&255,r.check=ua(r.check,T,2,0),u=0,h=0,r.mode=uF;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=is;break}if((u&15)!==AF){e.msg="unknown compression method",r.mode=is;break}if(u>>>=4,h-=4,D=(u&15)+8,r.wbits===0&&(r.wbits=D),D>15||D>r.wbits){e.msg="invalid window size",r.mode=is;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?wF:AA,u=0,h=0;break;case uF:for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==AF){e.msg="unknown compression method",r.mode=is;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=is;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=ua(r.check,T,2,0)),u=0,h=0,r.mode=dF;case dF:for(;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,r.check=ua(r.check,T,4,0)),u=0,h=0,r.mode=hF;case hF:for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=ua(r.check,T,2,0)),u=0,h=0,r.mode=fF;case fF:if(r.flags&1024){for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,r.check=ua(r.check,T,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=mF;case mF:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(D=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),D)),r.flags&512&&r.wrap&4&&(r.check=ua(r.check,n,p,i)),l-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=pF;case pF:if(r.flags&2048){if(l===0)break e;p=0;do D=n[i+p++],r.head&&D&&r.length<65536&&(r.head.name+=String.fromCharCode(D));while(D&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=ua(r.check,n,p,i)),l-=p,i+=p,D)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=gF;case gF:if(r.flags&4096){if(l===0)break e;p=0;do D=n[i+p++],r.head&&D&&r.length<65536&&(r.head.comment+=String.fromCharCode(D));while(D&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=ua(r.check,n,p,i)),l-=p,i+=p,D)break e}else r.head&&(r.head.comment=null);r.mode=xF;case xF:if(r.flags&512){for(;h<16;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=is;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=AA;break;case wF:for(;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}e.adler=r.check=_F(u),u=0,h=0,r.mode=Jy;case Jy:if(r.havedict===0)return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,qoe;e.adler=r.check=1,r.mode=AA;case AA:if(t===zoe||t===Ix)break e;case B5:if(r.last){u>>>=h&7,h-=h&7,r.mode=E5;break}for(;h<3;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=yF;break;case 1:if(nle(r),r.mode=Fx,t===Ix){u>>>=2,h-=2;break e}break;case 2:r.mode=bF;break;case 3:e.msg="invalid block type",r.mode=is}u>>>=2,h-=2;break;case yF:for(u>>>=h&7,h-=h&7;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=is;break}if(r.length=u&65535,u=0,h=0,r.mode=S5,t===Ix)break e;case S5:r.mode=vF;case vF:if(p=r.length,p){if(p>l&&(p=l),p>A&&(p=A),p===0)break e;s.set(n.subarray(i,i+p),o),l-=p,i+=p,A-=p,o+=p,r.length-=p;break}r.mode=AA;break;case bF:for(;h<14;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=is;break}r.have=0,r.mode=CF;case CF:for(;r.have<r.ncode;){for(;h<3;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.lens[V[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[V[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},L=Qp(Goe,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,L){e.msg="invalid code lengths set",r.mode=is;break}r.have=0,r.mode=NF;case NF:for(;r.have<r.nlen+r.ndist;){for(;j=r.lencode[u&(1<<r.lenbits)-1],y=j>>>24,B=j>>>16&255,I=j&65535,!(y<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(I<16)u>>>=y,h-=y,r.lens[r.have++]=I;else{if(I===16){for(M=y+2;h<M;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(u>>>=y,h-=y,r.have===0){e.msg="invalid bit length repeat",r.mode=is;break}D=r.lens[r.have-1],p=3+(u&3),u>>>=2,h-=2}else if(I===17){for(M=y+3;h<M;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=y,h-=y,D=0,p=3+(u&7),u>>>=3,h-=3}else{for(M=y+7;h<M;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=y,h-=y,D=0,p=11+(u&127),u>>>=7,h-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=is;break}for(;p--;)r.lens[r.have++]=D}}if(r.mode===is)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=is;break}if(r.lenbits=9,G={bits:r.lenbits},L=Qp(bM,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,L){e.msg="invalid literal/lengths set",r.mode=is;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},L=Qp(CM,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,L){e.msg="invalid distances set",r.mode=is;break}if(r.mode=Fx,t===Ix)break e;case Fx:r.mode=kx;case kx:if(l>=6&&A>=258){e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,Uoe(e,w),o=e.next_out,s=e.output,A=e.avail_out,i=e.next_in,n=e.input,l=e.avail_in,u=r.hold,h=r.bits,r.mode===AA&&(r.back=-1);break}for(r.back=0;j=r.lencode[u&(1<<r.lenbits)-1],y=j>>>24,B=j>>>16&255,I=j&65535,!(y<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(B&&!(B&240)){for(_=y,O=B,H=I;j=r.lencode[H+((u&(1<<_+O)-1)>>_)],y=j>>>24,B=j>>>16&255,I=j&65535,!(_+y<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=_,h-=_,r.back+=_}if(u>>>=y,h-=y,r.back+=y,r.length=I,B===0){r.mode=IF;break}if(B&32){r.back=-1,r.mode=AA;break}if(B&64){e.msg="invalid literal/length code",r.mode=is;break}r.extra=B&15,r.mode=BF;case BF:if(r.extra){for(M=r.extra;h<M;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=SF;case SF:for(;j=r.distcode[u&(1<<r.distbits)-1],y=j>>>24,B=j>>>16&255,I=j&65535,!(y<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(!(B&240)){for(_=y,O=B,H=I;j=r.distcode[H+((u&(1<<_+O)-1)>>_)],y=j>>>24,B=j>>>16&255,I=j&65535,!(_+y<=h);){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}u>>>=_,h-=_,r.back+=_}if(u>>>=y,h-=y,r.back+=y,B&64){e.msg="invalid distance code",r.mode=is;break}r.offset=I,r.extra=B&15,r.mode=EF;case EF:if(r.extra){for(M=r.extra;h<M;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=is;break}r.mode=jF;case jF:if(A===0)break e;if(p=w-A,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=is;break}p>r.wnext?(p-=r.wnext,b=r.wsize-p):b=r.wnext-p,p>r.length&&(p=r.length),N=r.window}else N=s,b=o-r.offset,p=r.length;p>A&&(p=A),A-=p,r.length-=p;do s[o++]=N[b++];while(--p);r.length===0&&(r.mode=kx);break;case IF:if(A===0)break e;s[o++]=r.length,A--,r.mode=kx;break;case E5:if(r.wrap){for(;h<32;){if(l===0)break e;l--,u|=n[i++]<<h,h+=8}if(w-=A,e.total_out+=w,r.total+=w,r.wrap&4&&w&&(e.adler=r.check=r.flags?ua(r.check,s,w,o-w):Rg(r.check,s,w,o-w)),w=A,r.wrap&4&&(r.flags?u:_F(u))!==r.check){e.msg="incorrect data check",r.mode=is;break}u=0,h=0}r.mode=FF;case FF:if(r.wrap&&r.flags){for(;h<32;){if(l===0)break e;l--,u+=n[i++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=is;break}u=0,h=0}r.mode=kF;case kF:L=$oe;break e;case is:L=NM;break e;case SM:return BM;case EM:default:return Al}return e.next_out=o,e.avail_out=A,e.next_in=i,e.avail_in=l,r.hold=u,r.bits=h,(r.wsize||w!==e.avail_out&&r.mode<is&&(r.mode<E5||t!==cF))&&_M(e,e.output,e.next_out,w-e.avail_out),m-=e.avail_in,w-=e.avail_out,e.total_in+=m,e.total_out+=w,r.total+=w,r.wrap&4&&w&&(e.adler=r.check=r.flags?ua(r.check,s,w,e.next_out-w):Rg(r.check,s,w,e.next_out-w)),e.data_type=r.bits+(r.last?64:0)+(r.mode===AA?128:0)+(r.mode===Fx||r.mode===S5?256:0),(m===0&&w===0||t===cF)&&L===nf&&(L=Xoe),L},ale=e=>{if(ff(e))return Al;let t=e.state;return t.window&&(t.window=null),e.state=null,nf},ile=(e,t)=>{if(ff(e))return Al;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,nf):Al},ole=(e,t)=>{const r=t.length;let n,s,i;return ff(e)||(n=e.state,n.wrap!==0&&n.mode!==Jy)?Al:n.mode===Jy&&(s=1,s=Rg(s,t,r,0),s!==n.check)?NM:(i=_M(e,t,r,r),i?(n.mode=SM,BM):(n.havedict=1,nf))};var lle=IM,cle=FM,Ale=jM,ule=rle,dle=kM,hle=sle,fle=ale,mle=ile,ple=ole,gle="pako inflate (from Nodeca project)",wA={inflateReset:lle,inflateReset2:cle,inflateResetKeep:Ale,inflateInit:ule,inflateInit2:dle,inflate:hle,inflateEnd:fle,inflateGetHeader:mle,inflateSetDictionary:ple,inflateInfo:gle};function xle(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wle=xle;const TM=Object.prototype.toString,{Z_NO_FLUSH:yle,Z_FINISH:vle,Z_OK:Qg,Z_STREAM_END:F5,Z_NEED_DICT:k5,Z_STREAM_ERROR:ble,Z_DATA_ERROR:LF,Z_MEM_ERROR:Cle}=w1;function v1(e){this.options=jv.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yM,this.strm.avail_out=0;let r=wA.inflateInit2(this.strm,t.windowBits);if(r!==Qg)throw new Error(em[r]);if(this.header=new wle,wA.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ug.string2buf(t.dictionary):TM.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=wA.inflateSetDictionary(this.strm,t.dictionary),r!==Qg)))throw new Error(em[r])}v1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?vle:yle,TM.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=wA.inflate(r,o),i===k5&&s&&(i=wA.inflateSetDictionary(r,s),i===Qg?i=wA.inflate(r,o):i===LF&&(i=k5));r.avail_in>0&&i===F5&&r.state.wrap>0&&e[r.next_in]!==0;)wA.inflateReset(r),i=wA.inflate(r,o);switch(i){case ble:case LF:case k5:case Cle:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===F5))if(this.options.to==="string"){let A=Ug.utf8border(r.output,r.next_out),u=r.next_out-A,h=Ug.buf2string(r.output,A);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(A,A+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Qg&&l===0)){if(i===F5)return i=wA.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};v1.prototype.onData=function(e){this.chunks.push(e)};v1.prototype.onEnd=function(e){e===Qg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function iE(e,t){const r=new v1(t);if(r.push(e),r.err)throw r.msg||em[r.err];return r.result}function Nle(e,t){return t=t||{},t.raw=!0,iE(e,t)}var Ble=v1,Sle=iE,Ele=Nle,jle=iE,Ile=w1,Fle={Inflate:Ble,inflate:Sle,inflateRaw:Ele,ungzip:jle,constants:Ile};const{Inflate:kle,inflate:_le,inflateRaw:W4e,ungzip:G4e}=Fle;var PF=kle,Tle=_le;const LM=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;LM[e]=t}const DF=4294967295;function Lle(e,t,r){let n=e;for(let s=0;s<r;s++)n=LM[(n^t[s])&255]^n>>>8;return n}function Ple(e,t){return(Lle(DF,e,t)^DF)>>>0}function OF(e,t,r){const n=e.readUint32(),s=Ple(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function PM(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function DM(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function OM(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function RM(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function MM(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+Dle(t[i-s],r[i],r[i-s])&255}}function Dle(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),o=Math.abs(n-r);return s<=i&&s<=o?e:i<=o?t:r}function Ole(e,t,r,n,s,i){switch(e){case 0:PM(t,r,s);break;case 1:DM(t,r,s,i);break;case 2:OM(t,r,n,s);break;case 3:RM(t,r,n,s,i);break;case 4:MM(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Rle=new Uint16Array([255]),Mle=new Uint8Array(Rle.buffer),Ule=Mle[0]===255;function Qle(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,A=new Uint8Array(n*r*l);let u=0;for(let h=0;h<7;h++){const m=o[h],w=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((n-m.y)/m.yStep);if(w<=0||p<=0)continue;const b=w*l,N=new Uint8Array(b);for(let j=0;j<p;j++){const y=t[u++],B=t.subarray(u,u+b);u+=b;const I=new Uint8Array(b);Ole(y,B,I,N,b,l),N.set(I);for(let _=0;_<w;_++){const O=m.x+_*m.xStep,H=m.y+j*m.yStep;if(!(O>=r||H>=n))for(let D=0;D<l;D++)A[(H*r+O)*l+D]=I[_*l+D]}}}if(i===16){const h=new Uint16Array(A.buffer);if(Ule)for(let m=0;m<h.length;m++)h[m]=Hle(h[m]);return h}else return A}function Hle(e){return(e&255)<<8|e>>8&255}const Vle=new Uint16Array([255]),Kle=new Uint8Array(Vle.buffer),Wle=Kle[0]===255,Gle=new Uint8Array(0);function RF(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),A=new Uint8Array(n*l);let u=Gle,h=0,m,w;for(let p=0;p<n;p++){switch(m=t.subarray(h+1,h+1+l),w=A.subarray(p*l,(p+1)*l),t[h]){case 0:PM(m,w,l);break;case 1:DM(m,w,l,o);break;case 2:OM(m,w,u,l);break;case 3:RM(m,w,u,l,o);break;case 4:MM(m,w,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[h]}`)}u=w,h+=l+1}if(i===16){const p=new Uint16Array(A.buffer);if(Wle)for(let b=0;b<p.length;b++)p[b]=zle(p[b]);return p}else return A}function zle(e){return(e&255)<<8|e>>8&255}const Qw=Uint8Array.of(137,80,78,71,13,10,26,10);function MF(e){if(!$le(e.readBytes(Qw.length)))throw new Error("wrong PNG signature")}function $le(e){if(e.length<Qw.length)return!1;for(let t=0;t<Qw.length;t++)if(e[t]!==Qw[t])return!1;return!0}const qle="tEXt",Xle=0,UM=new TextDecoder("latin1");function Yle(e){if(Jle(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Zle=/^[\u0000-\u00FF]*$/;function Jle(e){if(!Zle.test(e))throw new Error("invalid latin1 text")}function ece(e,t,r){const n=QM(t);e[n]=tce(t,r-n.length-1)}function QM(e){for(e.mark();e.readByte()!==Xle;);const t=e.offset;e.reset();const r=UM.decode(e.readBytes(t-e.offset-1));return e.skip(1),Yle(r),r}function tce(e,t){return UM.decode(e.readBytes(t))}const po={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},_5={UNKNOWN:-1,DEFLATE:0},UF={UNKNOWN:-1,ADAPTIVE:0},T5={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_x={NONE:0,BACKGROUND:1,PREVIOUS:2},L5={SOURCE:0,OVER:1};class rce extends JS{constructor(r,n={}){super(r);Bn(this,"_checkCrc");Bn(this,"_inflator");Bn(this,"_png");Bn(this,"_apng");Bn(this,"_end");Bn(this,"_hasPalette");Bn(this,"_palette");Bn(this,"_hasTransparency");Bn(this,"_transparency");Bn(this,"_compressionMethod");Bn(this,"_filterMethod");Bn(this,"_interlaceMethod");Bn(this,"_colorType");Bn(this,"_isAnimated");Bn(this,"_numberOfFrames");Bn(this,"_numberOfPlays");Bn(this,"_frames");Bn(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new PF,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=_5.UNKNOWN,this._filterMethod=UF.UNKNOWN,this._interlaceMethod=T5.UNKNOWN,this._colorType=po.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(MF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(MF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case qle:ece(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?OF(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?OF(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=nce(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case po.GREYSCALE:s=1;break;case po.TRUECOLOUR:s=3;break;case po.INDEXED_COLOUR:s=1;break;case po.GREYSCALE_ALPHA:s=2;break;case po.TRUECOLOUR_ALPHA:s=4;break;case po.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==_5.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case po.GREYSCALE:case po.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case po.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case po.UNKNOWN:case po.GREYSCALE_ALPHA:case po.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=QM(this),s=this.readUint8();if(s!==_5.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Tle(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=RF({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case _x.NONE:break;case _x.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let A=0;A<this._png.channels;A++)s.data[l+A]=0}break;case _x.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(o,l)=>{const A=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:A,frameIndex:u}};switch(n.blendOp){case L5.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:A,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++)r.data[A+h]=n.data[u+h]}break;case L5.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:A,frameIndex:u}=i(o,l);for(let h=0;h<this._png.channels;h++){const m=n.data[u+this._png.channels-1]/s,w=h%(this._png.channels-1)===0?1:n.data[u+h],p=Math.floor(m*w+(1-m)*r.data[A+h]);r.data[A+h]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==UF.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===T5.NO_INTERLACE)this._png.data=RF({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===T5.ADAM7)this._png.data=Qle({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_x.NONE,blendOp:L5.SOURCE,data:r}),this._inflator=new PF,this._writingDataChunks=!1}}function nce(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var QF;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(QF||(QF={}));function sce(e,t){return new rce(e,t).decode()}var yr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function P5(){yr.console&&typeof yr.console.log=="function"&&yr.console.log.apply(yr.console,arguments)}var Rn={log:P5,warn:function(e){yr.console&&(typeof yr.console.warn=="function"?yr.console.warn.apply(yr.console,arguments):P5.call(null,arguments))},error:function(e){yr.console&&(typeof yr.console.error=="function"?yr.console.error.apply(yr.console,arguments):P5(e))}};function D5(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){rh(n.response,t,r)},n.onerror=function(){Rn.error("could not download file")},n.send()}function HF(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Tx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var rh=yr.saveAs||((typeof window>"u"?"undefined":tn(window))!=="object"||window!==yr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=yr.URL||yr.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?HF(s.href)?D5(e,t,r):Tx(s,s.target="_blank"):Tx(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Tx(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(HF(e))D5(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Tx(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:tn(i)!=="object"&&(Rn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return D5(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(yr.HTMLElement)||yr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":tn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},l.readAsDataURL(e)}else{var A=yr.URL||yr.webkitURL,u=A.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){A.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function HM(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),A=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),u.length==1&&(u="0"+u),"#"+l+A+u}}var Hw=yr.atob.bind(yr),VF=yr.btoa.bind(yr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function O5(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=za(r,n,s,i,t[0],7,-680876936),i=za(i,r,n,s,t[1],12,-389564586),s=za(s,i,r,n,t[2],17,606105819),n=za(n,s,i,r,t[3],22,-1044525330),r=za(r,n,s,i,t[4],7,-176418897),i=za(i,r,n,s,t[5],12,1200080426),s=za(s,i,r,n,t[6],17,-1473231341),n=za(n,s,i,r,t[7],22,-45705983),r=za(r,n,s,i,t[8],7,1770035416),i=za(i,r,n,s,t[9],12,-1958414417),s=za(s,i,r,n,t[10],17,-42063),n=za(n,s,i,r,t[11],22,-1990404162),r=za(r,n,s,i,t[12],7,1804603682),i=za(i,r,n,s,t[13],12,-40341101),s=za(s,i,r,n,t[14],17,-1502002290),r=$a(r,n=za(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=$a(i,r,n,s,t[6],9,-1069501632),s=$a(s,i,r,n,t[11],14,643717713),n=$a(n,s,i,r,t[0],20,-373897302),r=$a(r,n,s,i,t[5],5,-701558691),i=$a(i,r,n,s,t[10],9,38016083),s=$a(s,i,r,n,t[15],14,-660478335),n=$a(n,s,i,r,t[4],20,-405537848),r=$a(r,n,s,i,t[9],5,568446438),i=$a(i,r,n,s,t[14],9,-1019803690),s=$a(s,i,r,n,t[3],14,-187363961),n=$a(n,s,i,r,t[8],20,1163531501),r=$a(r,n,s,i,t[13],5,-1444681467),i=$a(i,r,n,s,t[2],9,-51403784),s=$a(s,i,r,n,t[7],14,1735328473),r=qa(r,n=$a(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=qa(i,r,n,s,t[8],11,-2022574463),s=qa(s,i,r,n,t[11],16,1839030562),n=qa(n,s,i,r,t[14],23,-35309556),r=qa(r,n,s,i,t[1],4,-1530992060),i=qa(i,r,n,s,t[4],11,1272893353),s=qa(s,i,r,n,t[7],16,-155497632),n=qa(n,s,i,r,t[10],23,-1094730640),r=qa(r,n,s,i,t[13],4,681279174),i=qa(i,r,n,s,t[0],11,-358537222),s=qa(s,i,r,n,t[3],16,-722521979),n=qa(n,s,i,r,t[6],23,76029189),r=qa(r,n,s,i,t[9],4,-640364487),i=qa(i,r,n,s,t[12],11,-421815835),s=qa(s,i,r,n,t[15],16,530742520),r=Xa(r,n=qa(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Xa(i,r,n,s,t[7],10,1126891415),s=Xa(s,i,r,n,t[14],15,-1416354905),n=Xa(n,s,i,r,t[5],21,-57434055),r=Xa(r,n,s,i,t[12],6,1700485571),i=Xa(i,r,n,s,t[3],10,-1894986606),s=Xa(s,i,r,n,t[10],15,-1051523),n=Xa(n,s,i,r,t[1],21,-2054922799),r=Xa(r,n,s,i,t[8],6,1873313359),i=Xa(i,r,n,s,t[15],10,-30611744),s=Xa(s,i,r,n,t[6],15,-1560198380),n=Xa(n,s,i,r,t[13],21,1309151649),r=Xa(r,n,s,i,t[4],6,-145523070),i=Xa(i,r,n,s,t[11],10,-1120210379),s=Xa(s,i,r,n,t[2],15,718787259),n=Xa(n,s,i,r,t[9],21,-343485551),e[0]=ed(r,e[0]),e[1]=ed(n,e[1]),e[2]=ed(s,e[2]),e[3]=ed(i,e[3])}function Fv(e,t,r,n,s,i){return t=ed(ed(t,e),ed(n,i)),ed(t<<s|t>>>32-s,r)}function za(e,t,r,n,s,i,o){return Fv(t&r|~t&n,e,t,s,i,o)}function $a(e,t,r,n,s,i,o){return Fv(t&n|r&~n,e,t,s,i,o)}function qa(e,t,r,n,s,i,o){return Fv(t^r^n,e,t,s,i,o)}function Xa(e,t,r,n,s,i,o){return Fv(r^(t|~n),e,t,s,i,o)}function VM(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)O5(n,ace(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(O5(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,O5(n,s),n}function ace(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var KF="0123456789abcdef".split("");function ice(e){for(var t="",r=0;r<4;r++)t+=KF[e>>8*r+4&15]+KF[e>>8*r&15];return t}function oce(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function XN(e){return VM(e).map(oce).join("")}var lce=function(e){for(var t=0;t<e.length;t++)e[t]=ice(e[t]);return e.join("")}(VM("hello"))!="5d41402abc4b2a76b9719d911017c592";function ed(e,t){if(lce){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function YN(e,t){var r,n,s,i;if(e!==r){for(var o=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),l=[],A=0;A<256;A++)l[A]=A;var u=0;for(A=0;A<256;A++){var h=l[A];u=(u+h+o.charCodeAt(A))%256,l[A]=l[u],l[u]=h}r=e,n=l}else l=n;var m=t.length,w=0,p=0,b="";for(A=0;A<m;A++)p=(p+(h=l[w=(w+1)%256]))%256,l[w]=l[p],l[p]=h,o=l[(l[w]+l[p])%256],b+=String.fromCharCode(t.charCodeAt(A)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var WF={print:4,modify:8,copy:16,"annot-forms":32};function Rf(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(WF.perm!==void 0)throw new Error("Invalid permission: "+l);s+=WF[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=XN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=YN(this.encryptionKey,this.padding)}function Mf(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function GF(e){if(tn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,n)}catch(l){yr.console&&Rn.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function e2(e){if(!(this instanceof e2))return new e2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function KM(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ih(e,t,r,n,s){if(!(this instanceof ih))return new ih(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,KM.call(this,n,s)}function t0(e,t,r,n,s){if(!(this instanceof t0))return new t0(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,KM.call(this,n,s)}function Zt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,A=16,u="S",h=null;tn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(A=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,w={},p={internal:{},__private__:{}};p.__private__.PubSub=GF;var b="1.3",N=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(R){b=R};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return j};var y=p.__private__.getPageFormat=function(R){return j[R]};s=s||"a4";var B="compat",I="advanced",_=B;function O(){this.saveGraphicsState(),pe(new Ft(Ot,0,0,-Ot,0,Fr()*Ot).toString()+" cm"),this.setFontSize(this.getFontSize()/Ot),u="n",_=I}function H(){this.restoreGraphicsState(),u="S",_=B}var D=p.__private__.combineFontStyleAndFontWeight=function(R,ae){if(R=="bold"&&ae=="normal"||R=="bold"&&ae==400||R=="normal"&&ae=="italic"||R=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(R=ae==400||ae==="normal"?R==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||R!=="normal"?(ae==700?"bold":ae)+""+R:"bold"),R};p.advancedAPI=function(R){var ae=_===B;return ae&&O.call(this),typeof R!="function"||(R(this),ae&&H.call(this)),this},p.compatAPI=function(R){var ae=_===I;return ae&&H.call(this),typeof R!="function"||(R(this),ae&&O.call(this)),this},p.isAdvancedAPI=function(){return _===I};var L,T=function(R){if(_!==I)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=p.roundToPrecision=p.__private__.roundToPrecision=function(R,ae){var ve=t||ae;if(isNaN(R)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(ve).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof A=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return G(R,A)}:A==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return G(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return G(R,16)};var M=p.f2=p.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return G(R,2)},V=p.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return G(R,3)},J=p.scale=p.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return _===B?R*Ot:_===I?R:void 0},Z=function(R){return J(function(ae){return _===B?Fr()-ae:_===I?ae:void 0}(R))};p.__private__.setPrecision=p.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var ee,q="00000000000000000000000000000000",W=p.__private__.getFileId=function(){return q},X=p.__private__.setFileId=function(R){return q=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(kn=new Rf(h.userPermissions,h.userPassword,h.ownerPassword,q)),q};p.setFileId=function(R){return X(R),this},p.getFileId=function(){return W()};var K=p.__private__.convertDateToPDFDate=function(R){var ae=R.getTimezoneOffset(),ve=ae<0?"+":"-",de=Math.floor(Math.abs(ae/60)),Ie=Math.abs(ae%60),Xe=[ve,se(de),"'",se(Ie),"'"].join("");return["D:",R.getFullYear(),se(R.getMonth()+1),se(R.getDate()),se(R.getHours()),se(R.getMinutes()),se(R.getSeconds()),Xe].join("")},le=p.__private__.convertPDFDateToDate=function(R){var ae=parseInt(R.substr(2,4),10),ve=parseInt(R.substr(6,2),10)-1,de=parseInt(R.substr(8,2),10),Ie=parseInt(R.substr(10,2),10),Xe=parseInt(R.substr(12,2),10),st=parseInt(R.substr(14,2),10);return new Date(ae,ve,de,Ie,Xe,st,0)},ne=p.__private__.setCreationDate=function(R){var ae;if(R===void 0&&(R=new Date),R instanceof Date)ae=K(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=R}return ee=ae},U=p.__private__.getCreationDate=function(R){var ae=ee;return R==="jsDate"&&(ae=le(ee)),ae};p.setCreationDate=function(R){return ne(R),this},p.getCreationDate=function(R){return U(R)};var Y,se=p.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},ce=p.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},Ae=0,ge=[],fe=[],je=0,ke=[],Te=[],De=!1,Qe=fe;p.__private__.setCustomOutputDestination=function(R){De=!0,Qe=R};var Ne=function(R){De||(Qe=R)};p.__private__.resetCustomOutputDestination=function(){De=!1,Qe=fe};var pe=p.__private__.out=function(R){return R=R.toString(),je+=R.length+1,Qe.push(R),Qe},Pe=p.__private__.write=function(R){return pe(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},rt=p.__private__.getArrayBuffer=function(R){for(var ae=R.length,ve=new ArrayBuffer(ae),de=new Uint8Array(ve);ae--;)de[ae]=R.charCodeAt(ae);return ve},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return qe};var Me=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(R){return Me=_===I?R/Ot:R,this};var wt,We=p.__private__.getFontSize=p.getFontSize=function(){return _===B?Me:Me*Ot},Wt=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(R){return Wt=R,this},p.__private__.getR2L=p.getR2L=function(){return Wt};var Nt,at=p.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))wt=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');wt=R}else wt=parseInt(R,10)};p.__private__.getZoomMode=function(){return wt};var pt,dt=p.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Nt=R};p.__private__.getPageMode=function(){return Nt};var xt=p.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');pt=R};p.__private__.getLayoutMode=function(){return pt},p.__private__.setDisplayMode=p.setDisplayMode=function(R,ae,ve){return at(R),xt(ae),dt(ve),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(R){if(Object.keys(It).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[R]},p.__private__.getDocumentProperties=function(){return It},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(R){for(var ae in It)It.hasOwnProperty(ae)&&R[ae]&&(It[ae]=R[ae]);return this},p.__private__.setDocumentProperty=function(R,ae){if(Object.keys(It).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[R]=ae};var gt,Ot,vt,Hr,Gt,Ge={},jt={},Ht=[],bt={},vr={},ze={},Yt={},it=null,Bt=0,Ut=[],Ir=new GF(p),Ct=e.hotfixes||[],tr={},nr={},ln=[],Ft=function R(ae,ve,de,Ie,Xe,st){if(!(this instanceof R))return new R(ae,ve,de,Ie,Xe,st);isNaN(ae)&&(ae=1),isNaN(ve)&&(ve=0),isNaN(de)&&(de=0),isNaN(Ie)&&(Ie=1),isNaN(Xe)&&(Xe=0),isNaN(st)&&(st=0),this._matrix=[ae,ve,de,Ie,Xe,st]};Object.defineProperty(Ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ft.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(R)},Ft.prototype.multiply=function(R){var ae=R.sx*this.sx+R.shy*this.shx,ve=R.sx*this.shy+R.shy*this.sy,de=R.shx*this.sx+R.sy*this.shx,Ie=R.shx*this.shy+R.sy*this.sy,Xe=R.tx*this.sx+R.ty*this.shx+this.tx,st=R.tx*this.shy+R.ty*this.sy+this.ty;return new Ft(ae,ve,de,Ie,Xe,st)},Ft.prototype.decompose=function(){var R=this.sx,ae=this.shy,ve=this.shx,de=this.sy,Ie=this.tx,Xe=this.ty,st=Math.sqrt(R*R+ae*ae),Rt=(R/=st)*ve+(ae/=st)*de;ve-=R*Rt,de-=ae*Rt;var zt=Math.sqrt(ve*ve+de*de);return Rt/=zt,R*(de/=zt)<ae*(ve/=zt)&&(R=-R,ae=-ae,Rt=-Rt,st=-st),{scale:new Ft(st,0,0,zt,0,0),translate:new Ft(1,0,0,1,Ie,Xe),rotate:new Ft(R,ae,-ae,R,0,0),skew:new Ft(1,0,Rt,1,0,0)}},Ft.prototype.toString=function(R){return this.join(" ")},Ft.prototype.inversed=function(){var R=this.sx,ae=this.shy,ve=this.shx,de=this.sy,Ie=this.tx,Xe=this.ty,st=1/(R*de-ae*ve),Rt=de*st,zt=-ae*st,pr=-ve*st,Br=R*st;return new Ft(Rt,zt,pr,Br,-Rt*Ie-pr*Xe,-zt*Ie-Br*Xe)},Ft.prototype.applyToPoint=function(R){var ae=R.x*this.sx+R.y*this.shx+this.tx,ve=R.x*this.shy+R.y*this.sy+this.ty;return new xs(ae,ve)},Ft.prototype.applyToRectangle=function(R){var ae=this.applyToPoint(R),ve=this.applyToPoint(new xs(R.x+R.w,R.y+R.h));return new iu(ae.x,ae.y,ve.x-ae.x,ve.y-ae.y)},Ft.prototype.clone=function(){var R=this.sx,ae=this.shy,ve=this.shx,de=this.sy,Ie=this.tx,Xe=this.ty;return new Ft(R,ae,ve,de,Ie,Xe)},p.Matrix=Ft;var cn=p.matrixMult=function(R,ae){return ae.multiply(R)},ps=new Ft(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ps;var zr=function(R,ae){if(!vr[R]){var ve=(ae instanceof ih?"Sh":"P")+(Object.keys(bt).length+1).toString(10);ae.id=ve,vr[R]=ve,bt[ve]=ae,Ir.publish("addPattern",ae)}};p.ShadingPattern=ih,p.TilingPattern=t0,p.addShadingPattern=function(R,ae){return T("addShadingPattern()"),zr(R,ae),this},p.beginTilingPattern=function(R){T("beginTilingPattern()"),ou(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},p.endTilingPattern=function(R,ae){T("endTilingPattern()"),ae.stream=Te[Y].join(`
`),zr(R,ae),Ir.publish("endTilingPattern",ae),ln.pop().restore()};var In,Dr=p.__private__.newObject=function(){var R=yn();return rn(R,!0),R},yn=p.__private__.newObjectDeferred=function(){return Ae++,ge[Ae]=function(){return je},Ae},rn=function(R,ae){return ae=typeof ae=="boolean"&&ae,ge[R]=je,ae&&pe(R+" 0 obj"),R},St=p.__private__.newAdditionalObject=function(){var R={objId:yn(),content:""};return ke.push(R),R},Ai=yn(),ui=yn(),zn=p.__private__.decodeColorString=function(R){var ae=R.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length!==5||ae[4]!=="k"&&ae[4]!=="K"||(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var ve=parseFloat(ae[0]);ae=[ve,ve,ve,"r"]}for(var de="#",Ie=0;Ie<3;Ie++)de+=("0"+Math.floor(255*parseFloat(ae[Ie])).toString(16)).slice(-2);return de},ia=p.__private__.encodeColorString=function(R){var ae;typeof R=="string"&&(R={ch1:R});var ve=R.ch1,de=R.ch2,Ie=R.ch3,Xe=R.ch4,st=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var Rt=new HM(ve);if(Rt.ok)ve=Rt.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var zt=parseInt(ve.substr(1),16);ve=zt>>16&255,de=zt>>8&255,Ie=255&zt}if(de===void 0||Xe===void 0&&ve===de&&de===Ie)ae=typeof ve=="string"?ve+" "+st[0]:R.precision===2?M(ve/255)+" "+st[0]:V(ve/255)+" "+st[0];else if(Xe===void 0||tn(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return["1.","1.","1.",st[1]].join(" ");ae=typeof ve=="string"?[ve,de,Ie,st[1]].join(" "):R.precision===2?[M(ve/255),M(de/255),M(Ie/255),st[1]].join(" "):[V(ve/255),V(de/255),V(Ie/255),st[1]].join(" ")}else ae=typeof ve=="string"?[ve,de,Ie,Xe,st[2]].join(" "):R.precision===2?[M(ve),M(de),M(Ie),M(Xe),st[2]].join(" "):[V(ve),V(de),V(Ie),V(Xe),st[2]].join(" ");return ae},Ma=p.__private__.getFilters=function(){return o},wa=p.__private__.putStream=function(R){var ae=(R=R||{}).data||"",ve=R.filters||Ma(),de=R.alreadyAppliedFilters||[],Ie=R.addLength1||!1,Xe=ae.length,st=R.objectId,Rt=function(as){return as};if(h!==null&&st===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Rt=kn.encryptor(st,0));var zt={};ve===!0&&(ve=["FlateEncode"]);var pr=R.additionalKeyValues||[],Br=(zt=Zt.API.processDataByFilters!==void 0?Zt.API.processDataByFilters(ae,ve):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(de)?de.join(" "):de.toString());if(zt.data.length!==0&&(pr.push({key:"Length",value:zt.data.length}),Ie===!0&&pr.push({key:"Length1",value:Xe})),Br.length!=0)if(Br.split("/").length-1==1)pr.push({key:"Filter",value:Br});else{pr.push({key:"Filter",value:"["+Br+"]"});for(var qr=0;qr<pr.length;qr+=1)if(pr[qr].key==="DecodeParms"){for(var Er=[],ss=0;ss<zt.reverseChain.split("/").length-1;ss+=1)Er.push("null");Er.push(pr[qr].value),pr[qr].value="["+Er.join(" ")+"]"}}pe("<<");for(var ur=0;ur<pr.length;ur++)pe("/"+pr[ur].key+" "+pr[ur].value);pe(">>"),zt.data.length!==0&&(pe("stream"),pe(Rt(zt.data)),pe("endstream"))},oa=p.__private__.putPage=function(R){var ae=R.number,ve=R.data,de=R.objId,Ie=R.contentsObjId;rn(de,!0),pe("<</Type /Page"),pe("/Parent "+R.rootDictionaryObjId+" 0 R"),pe("/Resources "+R.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(L(R.mediaBox.bottomLeftX))+" "+parseFloat(L(R.mediaBox.bottomLeftY))+" "+L(R.mediaBox.topRightX)+" "+L(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&pe("/CropBox ["+L(R.cropBox.bottomLeftX)+" "+L(R.cropBox.bottomLeftY)+" "+L(R.cropBox.topRightX)+" "+L(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&pe("/BleedBox ["+L(R.bleedBox.bottomLeftX)+" "+L(R.bleedBox.bottomLeftY)+" "+L(R.bleedBox.topRightX)+" "+L(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&pe("/TrimBox ["+L(R.trimBox.bottomLeftX)+" "+L(R.trimBox.bottomLeftY)+" "+L(R.trimBox.topRightX)+" "+L(R.trimBox.topRightY)+"]"),R.artBox!==null&&pe("/ArtBox ["+L(R.artBox.bottomLeftX)+" "+L(R.artBox.bottomLeftY)+" "+L(R.artBox.topRightX)+" "+L(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&pe("/UserUnit "+R.userUnit),Ir.publish("putPage",{objId:de,pageContext:Ut[ae],pageNumber:ae,page:ve}),pe("/Contents "+Ie+" 0 R"),pe(">>"),pe("endobj");var Xe=ve.join(`
`);return _===I&&(Xe+=`
Q`),rn(Ie,!0),wa({data:Xe,filters:Ma(),objectId:Ie}),pe("endobj"),de},Po=p.__private__.putPages=function(){var R,ae,ve=[];for(R=1;R<=Bt;R++)Ut[R].objId=yn(),Ut[R].contentsObjId=yn();for(R=1;R<=Bt;R++)ve.push(oa({number:R,data:Te[R],objId:Ut[R].objId,contentsObjId:Ut[R].contentsObjId,mediaBox:Ut[R].mediaBox,cropBox:Ut[R].cropBox,bleedBox:Ut[R].bleedBox,trimBox:Ut[R].trimBox,artBox:Ut[R].artBox,userUnit:Ut[R].userUnit,rootDictionaryObjId:Ai,resourceDictionaryObjId:ui}));rn(Ai,!0),pe("<</Type /Pages");var de="/Kids [";for(ae=0;ae<Bt;ae++)de+=ve[ae]+" 0 R ";pe(de+"]"),pe("/Count "+Bt),pe(">>"),pe("endobj"),Ir.publish("postPutPages")},Wc=function(R){Ir.publish("putFont",{font:R,out:pe,newObject:Dr,putStream:wa}),R.isAlreadyPutted!==!0&&(R.objectNumber=Dr(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+Mf(R.postScriptName)),pe("/Subtype /Type1"),typeof R.encoding=="string"&&pe("/Encoding /"+R.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},ya=function(R){R.objectNumber=Dr();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[L(R.x),L(R.y),L(R.x+R.width),L(R.y+R.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var ve=R.pages[1].join(`
`);wa({data:ve,additionalKeyValues:ae,objectId:R.objectNumber}),pe("endobj")},gs=function(R,ae){ae||(ae=21);var ve=Dr(),de=function(st,Rt){var zt,pr=[],Br=1/(Rt-1);for(zt=0;zt<1;zt+=Br)pr.push(zt);if(pr.push(1),st[0].offset!=0){var qr={offset:0,color:st[0].color};st.unshift(qr)}if(st[st.length-1].offset!=1){var Er={offset:1,color:st[st.length-1].color};st.push(Er)}for(var ss="",ur=0,as=0;as<pr.length;as++){for(zt=pr[as];zt>st[ur+1].offset;)ur++;var _n=st[ur].offset,br=(zt-_n)/(st[ur+1].offset-_n),$t=st[ur].color,nc=st[ur+1].color;ss+=ce(Math.round((1-br)*$t[0]+br*nc[0]).toString(16))+ce(Math.round((1-br)*$t[1]+br*nc[1]).toString(16))+ce(Math.round((1-br)*$t[2]+br*nc[2]).toString(16))}return ss.trim()}(R.colors,ae),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+ae+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),wa({data:de,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),pe("endobj"),R.objectNumber=Dr(),pe("<< /ShadingType "+R.type),pe("/ColorSpace /DeviceRGB");var Xe="/Coords ["+L(parseFloat(R.coords[0]))+" "+L(parseFloat(R.coords[1]))+" ";R.type===2?Xe+=L(parseFloat(R.coords[2]))+" "+L(parseFloat(R.coords[3])):Xe+=L(parseFloat(R.coords[2]))+" "+L(parseFloat(R.coords[3]))+" "+L(parseFloat(R.coords[4]))+" "+L(parseFloat(R.coords[5])),pe(Xe+="]"),R.matrix&&pe("/Matrix ["+R.matrix.toString()+"]"),pe("/Function "+ve+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},un=function(R,ae){var ve=yn(),de=Dr();ae.push({resourcesOid:ve,objectOid:de}),R.objectNumber=de;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+R.boundingBox.map(L).join(" ")+"]"}),Ie.push({key:"XStep",value:L(R.xStep)}),Ie.push({key:"YStep",value:L(R.yStep)}),Ie.push({key:"Resources",value:ve+" 0 R"}),R.matrix&&Ie.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),wa({data:R.stream,additionalKeyValues:Ie,objectId:R.objectNumber}),pe("endobj")},gf=function(R){for(var ae in R.objectNumber=Dr(),pe("<<"),R)switch(ae){case"opacity":pe("/ca "+M(R[ae]));break;case"stroke-opacity":pe("/CA "+M(R[ae]))}pe(">>"),pe("endobj")},_i=function(R){rn(R.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ae in pe("/Font <<"),Ge)Ge.hasOwnProperty(ae)&&(m===!1||m===!0&&w.hasOwnProperty(ae))&&pe("/"+ae+" "+Ge[ae].objectNumber+" 0 R");pe(">>")}(),function(){if(Object.keys(bt).length>0){for(var ae in pe("/Shading <<"),bt)bt.hasOwnProperty(ae)&&bt[ae]instanceof ih&&bt[ae].objectNumber>=0&&pe("/"+ae+" "+bt[ae].objectNumber+" 0 R");Ir.publish("putShadingPatternDict"),pe(">>")}}(),function(ae){if(Object.keys(bt).length>0){for(var ve in pe("/Pattern <<"),bt)bt.hasOwnProperty(ve)&&bt[ve]instanceof p.TilingPattern&&bt[ve].objectNumber>=0&&bt[ve].objectNumber<ae&&pe("/"+ve+" "+bt[ve].objectNumber+" 0 R");Ir.publish("putTilingPatternDict"),pe(">>")}}(R.objectOid),function(){if(Object.keys(ze).length>0){var ae;for(ae in pe("/ExtGState <<"),ze)ze.hasOwnProperty(ae)&&ze[ae].objectNumber>=0&&pe("/"+ae+" "+ze[ae].objectNumber+" 0 R");Ir.publish("putGStateDict"),pe(">>")}}(),function(){for(var ae in pe("/XObject <<"),tr)tr.hasOwnProperty(ae)&&tr[ae].objectNumber>=0&&pe("/"+ae+" "+tr[ae].objectNumber+" 0 R");Ir.publish("putXobjectDict"),pe(">>")}(),pe(">>"),pe("endobj")},ru=function(R){jt[R.fontName]=jt[R.fontName]||{},jt[R.fontName][R.fontStyle]=R.id},nt=function(R,ae,ve,de,Ie){var Xe={id:"F"+(Object.keys(Ge).length+1).toString(10),postScriptName:R,fontName:ae,fontStyle:ve,encoding:de,isStandardFont:Ie||!1,metadata:{}};return Ir.publish("addFont",{font:Xe,instance:this}),Ge[Xe.id]=Xe,ru(Xe),Xe.id},Ti=p.__private__.pdfEscape=p.pdfEscape=function(R,ae){return function(ve,de){var Ie,Xe,st,Rt,zt,pr,Br,qr,Er;if(st=(de=de||{}).sourceEncoding||"Unicode",zt=de.outputEncoding,(de.autoencode||zt)&&Ge[gt].metadata&&Ge[gt].metadata[st]&&Ge[gt].metadata[st].encoding&&(Rt=Ge[gt].metadata[st].encoding,!zt&&Ge[gt].encoding&&(zt=Ge[gt].encoding),!zt&&Rt.codePages&&(zt=Rt.codePages[0]),typeof zt=="string"&&(zt=Rt[zt]),zt)){for(Br=!1,pr=[],Ie=0,Xe=ve.length;Ie<Xe;Ie++)(qr=zt[ve.charCodeAt(Ie)])?pr.push(String.fromCharCode(qr)):pr.push(ve[Ie]),pr[Ie].charCodeAt(0)>>8&&(Br=!0);ve=pr.join("")}for(Ie=ve.length;Br===void 0&&Ie!==0;)ve.charCodeAt(Ie-1)>>8&&(Br=!0),Ie--;if(!Br)return ve;for(pr=de.noBOM?[]:[254,255],Ie=0,Xe=ve.length;Ie<Xe;Ie++){if((Er=(qr=ve.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+ve+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pr.push(Er),pr.push(qr-(Er<<8))}return String.fromCharCode.apply(void 0,pr)}(R,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fn=p.__private__.beginPage=function(R){Te[++Bt]=[],Ut[Bt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},$r(Bt),Ne(Te[Y])},fl=function(R,ae){var ve,de,Ie;switch(r=ae||r,typeof R=="string"&&(ve=y(R.toLowerCase()),Array.isArray(ve)&&(de=ve[0],Ie=ve[1])),Array.isArray(R)&&(de=R[0]*Ot,Ie=R[1]*Ot),isNaN(de)&&(de=s[0],Ie=s[1]),(de>14400||Ie>14400)&&(Rn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),de=Math.min(14400,de),Ie=Math.min(14400,Ie)),s=[de,Ie],r.substr(0,1)){case"l":Ie>de&&(s=[Ie,de]);break;case"p":de>Ie&&(s=[Ie,de])}Fn(s),qc(Gd),pe(Xc),au!==0&&pe(au+" J"),gl!==0&&pe(gl+" j"),Ir.publish("addPage",{pageNumber:Bt})},Kd=function(R){R>0&&R<=Bt&&(Te.splice(R,1),Ut.splice(R,1),Bt--,Y>Bt&&(Y=Bt),this.setPage(Y))},$r=function(R){R>0&&R<=Bt&&(Y=R)},Kr=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Te.length-1},Or=function(R,ae,ve){var de,Ie=void 0;return ve=ve||{},R=R!==void 0?R:Ge[gt].fontName,ae=ae!==void 0?ae:Ge[gt].fontStyle,de=R.toLowerCase(),jt[de]!==void 0&&jt[de][ae]!==void 0?Ie=jt[de][ae]:jt[R]!==void 0&&jt[R][ae]!==void 0?Ie=jt[R][ae]:ve.disableWarning===!1&&Rn.warn("Unable to look up font label for font '"+R+"', '"+ae+"'. Refer to getFontList() for available fonts."),Ie||ve.noFallback||(Ie=jt.times[ae])==null&&(Ie=jt.times.normal),Ie},tc=p.__private__.putInfo=function(){var R=Dr(),ae=function(de){return de};for(var ve in h!==null&&(ae=kn.encryptor(R,0)),pe("<<"),pe("/Producer ("+Ti(ae("jsPDF "+Zt.version))+")"),It)It.hasOwnProperty(ve)&&It[ve]&&pe("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+Ti(ae(It[ve]))+")");pe("/CreationDate ("+Ti(ae(ee))+")"),pe(">>"),pe("endobj")},Wd=p.__private__.putCatalog=function(R){var ae=(R=R||{}).rootDictionaryObjId||Ai;switch(Dr(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+ae+" 0 R"),wt||(wt="fullwidth"),wt){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+wt;ve.substr(ve.length-1)==="%"&&(wt=parseInt(wt)/100),typeof wt=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+M(wt)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Nt&&pe("/PageMode /"+Nt),Ir.publish("putCatalog"),pe(">>"),pe("endobj")},rs=p.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(Ae+1)),pe("/Root "+Ae+" 0 R"),pe("/Info "+(Ae-1)+" 0 R"),h!==null&&pe("/Encrypt "+kn.oid+" 0 R"),pe("/ID [ <"+q+"> <"+q+"> ]"),pe(">>")},ns=p.__private__.putHeader=function(){pe("%PDF-"+b),pe("%")},so=p.__private__.putXRef=function(){var R="0000000000";pe("xref"),pe("0 "+(Ae+1)),pe("0000000000 65535 f ");for(var ae=1;ae<=Ae;ae++)typeof ge[ae]=="function"?pe((R+ge[ae]()).slice(-10)+" 00000 n "):ge[ae]!==void 0?pe((R+ge[ae]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},ml=p.__private__.buildDocument=function(){var R;Ae=0,je=0,fe=[],ge=[],ke=[],Ai=yn(),ui=yn(),Ne(fe),Ir.publish("buildDocument"),ns(),Po(),function(){Ir.publish("putAdditionalObjects");for(var ve=0;ve<ke.length;ve++){var de=ke[ve];rn(de.objId,!0),pe(de.content),pe("endobj")}Ir.publish("postPutAdditionalObjects")}(),R=[],function(){for(var ve in Ge)Ge.hasOwnProperty(ve)&&(m===!1||m===!0&&w.hasOwnProperty(ve))&&Wc(Ge[ve])}(),function(){var ve;for(ve in ze)ze.hasOwnProperty(ve)&&gf(ze[ve])}(),function(){for(var ve in tr)tr.hasOwnProperty(ve)&&ya(tr[ve])}(),function(ve){var de;for(de in bt)bt.hasOwnProperty(de)&&(bt[de]instanceof ih?gs(bt[de]):bt[de]instanceof t0&&un(bt[de],ve))}(R),Ir.publish("putResources"),R.forEach(_i),_i({resourcesOid:ui,objectOid:Number.MAX_SAFE_INTEGER}),Ir.publish("postPutResources"),h!==null&&(kn.oid=Dr(),pe("<<"),pe("/Filter /Standard"),pe("/V "+kn.v),pe("/R "+kn.r),pe("/U <"+kn.toHexString(kn.U)+">"),pe("/O <"+kn.toHexString(kn.O)+">"),pe("/P "+kn.P),pe(">>"),pe("endobj")),tc(),Wd();var ae=je;return so(),rs(),pe("startxref"),pe(""+ae),pe("%%EOF"),Ne(Te[Y]),fe.join(`
`)},vn=p.__private__.getBlob=function(R){return new Blob([rt(R)],{type:"application/pdf"})},Vs=p.output=p.__private__.output=(In=function(R,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",R){case void 0:return ml();case"save":p.save(ae.filename);break;case"arraybuffer":return rt(ml());case"blob":return vn(ml());case"bloburi":case"bloburl":if(yr.URL!==void 0&&typeof yr.URL.createObjectURL=="function")return yr.URL&&yr.URL.createObjectURL(vn(ml()))||void 0;Rn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",de=ml();try{ve=VF(de)}catch{ve=VF(unescape(encodeURIComponent(de)))}return"data:application/pdf;filename="+ae.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yr)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Ie=ae.pdfObjectUrl,Xe="");var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",Rt=yr.open();return Rt!==null&&Rt.document.write(st),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yr)==="[object Window]"){var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',pr=yr.open();if(pr!==null){pr.document.write(zt);var Br=this;pr.document.documentElement.querySelector("#pdfViewer").onload=function(){pr.document.title=ae.filename,pr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Br.output("bloburl"))}}return pr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var qr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',Er=yr.open();if(Er!==null&&(Er.document.write(qr),Er.document.title=ae.filename),Er||typeof safari>"u")return Er;break;case"datauri":case"dataurl":return yr.document.location.href=this.output("datauristring",ae);default:return null}},In.foo=function(){try{return In.apply(this,arguments)}catch(ve){var R=ve.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var ae="Error in function "+R.split(`
`)[0].split("<")[0]+": "+ve.message;if(!yr.console)throw new Error(ae);yr.console.error(ae,ve),yr.alert&&alert(ae)}},In.foo.bar=In,In.foo),Gc=function(R){return Array.isArray(Ct)===!0&&Ct.indexOf(R)>-1};switch(n){case"pt":Ot=1;break;case"mm":Ot=72/25.4;break;case"cm":Ot=72/2.54;break;case"in":Ot=72;break;case"px":Ot=Gc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ot=12;break;case"ex":Ot=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ot=n}var kn=null;ne(),X();var An=p.__private__.getPageInfo=p.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[R].objId,pageNumber:R,pageContext:Ut[R]}},Ks=p.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in Ut)if(Ut[ae].objId===R)break;return An(ae)},He=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ut[Y].objId,pageNumber:Y,pageContext:Ut[Y]}};p.addPage=function(){return fl.apply(this,arguments),this},p.setPage=function(){return $r.apply(this,arguments),Ne.call(this,Te[Y]),this},p.insertPage=function(R){return this.addPage(),this.movePage(Y,R),this},p.movePage=function(R,ae){var ve,de;if(R>ae){ve=Te[R],de=Ut[R];for(var Ie=R;Ie>ae;Ie--)Te[Ie]=Te[Ie-1],Ut[Ie]=Ut[Ie-1];Te[ae]=ve,Ut[ae]=de,this.setPage(ae)}else if(R<ae){ve=Te[R],de=Ut[R];for(var Xe=R;Xe<ae;Xe++)Te[Xe]=Te[Xe+1],Ut[Xe]=Ut[Xe+1];Te[ae]=ve,Ut[ae]=de,this.setPage(ae)}return this},p.deletePage=function(){return Kd.apply(this,arguments),this},p.__private__.text=p.text=function(R,ae,ve,de,Ie){var Xe,st,Rt,zt,pr,Br,qr,Er,ss,ur=(de=de||{}).scope||this;if(typeof R=="number"&&typeof ae=="number"&&(typeof ve=="string"||Array.isArray(ve))){var as=ve;ve=ae,ae=R,R=as}if(arguments[3]instanceof Ft==0?(Rt=arguments[4],zt=arguments[5],tn(qr=arguments[3])==="object"&&qr!==null||(typeof Rt=="string"&&(zt=Rt,Rt=null),typeof qr=="string"&&(zt=qr,qr=null),typeof qr=="number"&&(Rt=qr,qr=null),de={flags:qr,angle:Rt,align:zt})):(T("The transform parameter of text() with a Matrix value"),ss=Ie),isNaN(ae)||isNaN(ve)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return ur;var _n,br="",$t=typeof de.lineHeightFactor=="number"?de.lineHeightFactor:pl,nc=ur.internal.scaleFactor;function bn(oe){return oe=oe.split("	").join(Array(de.TabLen||9).join(" ")),Ti(oe,qr)}function Uo(oe){for(var we,Be=oe.concat(),Se=[],Oe=Be.length;Oe--;)typeof(we=Be.shift())=="string"?Se.push(we):Array.isArray(oe)&&(we.length===1||we[1]===void 0&&we[2]===void 0)?Se.push(we[0]):Se.push([we[0],we[1],we[2]]);return Se}function Li(oe,we){var Be;if(typeof oe=="string")Be=we(oe)[0];else if(Array.isArray(oe)){for(var Se,Oe,$e=oe.concat(),ct=[],ht=$e.length;ht--;)typeof(Se=$e.shift())=="string"?ct.push(we(Se)[0]):Array.isArray(Se)&&typeof Se[0]=="string"&&(Oe=we(Se[0],Se[1],Se[2]),ct.push([Oe[0],Oe[1],Oe[2]]));Be=ct}return Be}var lo=!1,Qa=!0;if(typeof R=="string")lo=!0;else if(Array.isArray(R)){var sc=R.concat();st=[];for(var xl,ws=sc.length;ws--;)(typeof(xl=sc.shift())!="string"||Array.isArray(xl)&&typeof xl[0]!="string")&&(Qa=!1);lo=Qa}if(lo===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var Qo=Me/ur.internal.scaleFactor,Ho=Qo*($t-1);switch(de.baseline){case"bottom":ve-=Ho;break;case"top":ve+=Qo-Ho;break;case"hanging":ve+=Qo-2*Ho;break;case"middle":ve+=Qo/2-Ho}if((Br=de.maxWidth||0)>0&&(typeof R=="string"?R=ur.splitTextToSize(R,Br):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(oe,we){return oe.concat(ur.splitTextToSize(we,Br))},[]))),Xe={text:R,x:ae,y:ve,options:de,mutex:{pdfEscape:Ti,activeFontKey:gt,fonts:Ge,activeFontSize:Me}},Ir.publish("preProcessText",Xe),R=Xe.text,Rt=(de=Xe.options).angle,ss instanceof Ft==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,de.rotationDirection===0&&(Rt=-Rt),_===I&&(Rt=-Rt);var lu=Math.cos(Rt),Vo=Math.sin(Rt);ss=new Ft(lu,Vo,-Vo,lu,0,0)}else Rt&&Rt instanceof Ft&&(ss=Rt);_!==I||ss||(ss=ps),(pr=de.charSpace||Mo)!==void 0&&(br+=L(J(pr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Er=de.horizontalScale)!==void 0&&(br+=L(100*Er)+` Tz
`),de.lang;var Xs=-1,xf=de.renderingMode!==void 0?de.renderingMode:de.stroke,Ko=ur.internal.getCurrentPageInfo().pageContext;switch(xf){case 0:case!1:case"fill":Xs=0;break;case 1:case!0:case"stroke":Xs=1;break;case 2:case"fillThenStroke":Xs=2;break;case 3:case"invisible":Xs=3;break;case 4:case"fillAndAddForClipping":Xs=4;break;case 5:case"strokeAndAddPathForClipping":Xs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xs=6;break;case 7:case"addToPathForClipping":Xs=7}var wf=Ko.usedRenderingMode!==void 0?Ko.usedRenderingMode:-1;Xs!==-1?br+=Xs+` Tr
`:wf!==-1&&(br+=`0 Tr
`),Xs!==-1&&(Ko.usedRenderingMode=Xs),zt=de.align||"left";var Tn,ba=Me*$t,la=ur.internal.pageSize.getWidth(),cu=Ge[gt];pr=de.charSpace||Mo,Br=de.maxWidth||0,qr=Object.assign({autoencode:!0,noBOM:!0},de.flags);var Ys=[],Au=function(oe){return ur.getStringUnitWidth(oe,{font:cu,charSpace:pr,fontSize:Me,doKerning:!1})*Me/nc};if(Object.prototype.toString.call(R)==="[object Array]"){var ca;st=Uo(R),zt!=="left"&&(Tn=st.map(Au));var Ha,ac=0;if(zt==="right"){ae-=Tn[0],R=[],ws=st.length;for(var ks=0;ks<ws;ks++)ks===0?(Ha=fr(ae),ca=Dn(ve)):(Ha=J(ac-Tn[ks]),ca=-ba),R.push([st[ks],Ha,ca]),ac=Tn[ks]}else if(zt==="center"){ae-=Tn[0]/2,R=[],ws=st.length;for(var ic=0;ic<ws;ic++)ic===0?(Ha=fr(ae),ca=Dn(ve)):(Ha=J((ac-Tn[ic])/2),ca=-ba),R.push([st[ic],Ha,ca]),ac=Tn[ic]}else if(zt==="left"){R=[],ws=st.length;for(var tA=0;tA<ws;tA++)R.push(st[tA])}else if(zt==="justify"&&cu.encoding==="Identity-H"){R=[],ws=st.length,Br=Br!==0?Br:la;for(var Pi=0,ir=0;ir<ws;ir++)if(ca=ir===0?Dn(ve):-ba,Ha=ir===0?fr(ae):Pi,ir<ws-1){var uu=J((Br-Tn[ir])/(st[ir].split(" ").length-1)),te=st[ir].split(" ");R.push([te[0]+" ",Ha,ca]),Pi=0;for(var c=1;c<te.length;c++){var d=(Au(te[c-1]+" "+te[c])-Au(te[c]))*nc+uu;c==te.length-1?R.push([te[c],d,0]):R.push([te[c]+" ",d,0]),Pi-=d}}else R.push([st[ir],Ha,ca]);R.push(["",Pi,0])}else{if(zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],ws=st.length,Br=Br!==0?Br:la,ir=0;ir<ws;ir++)ca=ir===0?Dn(ve):-ba,Ha=ir===0?fr(ae):0,ir<ws-1?Ys.push(L(J((Br-Tn[ir])/(st[ir].split(" ").length-1)))):Ys.push(0),R.push([st[ir],Ha,ca])}}(typeof de.R2L=="boolean"?de.R2L:Wt)===!0&&(R=Li(R,function(oe,we,Be){return[oe.split("").reverse().join(""),we,Be]})),Xe={text:R,x:ae,y:ve,options:de,mutex:{pdfEscape:Ti,activeFontKey:gt,fonts:Ge,activeFontSize:Me}},Ir.publish("postProcessText",Xe),R=Xe.text,_n=Xe.mutex.isHex||!1;var f=Ge[gt].encoding;f!=="WinAnsiEncoding"&&f!=="StandardEncoding"||(R=Li(R,function(oe,we,Be){return[bn(oe),we,Be]})),st=Uo(R),R=[];for(var g,x,v,E=Array.isArray(st[0])?1:0,k="",P=function(oe,we,Be){var Se="";return Be instanceof Ft?(Be=typeof de.angle=="number"?cn(Be,new Ft(1,0,0,1,oe,we)):cn(new Ft(1,0,0,1,oe,we),Be),_===I&&(Be=cn(new Ft(1,0,0,-1,0,0),Be)),Se=Be.join(" ")+` Tm
`):Se=L(oe)+" "+L(we)+` Td
`,Se},z=0;z<st.length;z++){switch(k="",E){case 1:v=(_n?"<":"(")+st[z][0]+(_n?">":")"),g=parseFloat(st[z][1]),x=parseFloat(st[z][2]);break;case 0:v=(_n?"<":"(")+st[z]+(_n?">":")"),g=fr(ae),x=Dn(ve)}Ys!==void 0&&Ys[z]!==void 0&&(k=Ys[z]+` Tw
`),z===0?R.push(k+P(g,x,ss)+v):E===0?R.push(k+v):E===1&&R.push(k+P(g,x,ss)+v)}R=E===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var re=`BT
/`;return re+=gt+" "+Me+` Tf
`,re+=L(Me*$t)+` TL
`,re+=Yc+`
`,re+=br,re+=R,pe(re+="ET"),w[gt]=!0,ur};var ye=p.__private__.clip=p.clip=function(R){return pe(R==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return ye("evenodd")},p.__private__.discardPath=p.discardPath=function(){return pe("n"),this};var Lt=p.__private__.isValidStyle=function(R){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(ae=!0),ae};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(R){return Lt(R)&&(u=R),this};var cs=p.__private__.getStyle=p.getStyle=function(R){var ae=u;switch(R){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=R}return ae},va=p.close=function(){return pe("h"),this};p.stroke=function(){return pe("S"),this},p.fill=function(R){return rc("f",R),this},p.fillEvenOdd=function(R){return rc("f*",R),this},p.fillStroke=function(R){return rc("B",R),this},p.fillStrokeEvenOdd=function(R){return rc("B*",R),this};var rc=function(R,ae){tn(ae)==="object"?rr(ae,R):pe(R)},zc=function(R){R===null||_===I&&R===void 0||(R=cs(R),pe(R))};function Ua(R,ae,ve,de,Ie){var Xe=new t0(ae||this.boundingBox,ve||this.xStep,de||this.yStep,this.gState,Ie||this.matrix);Xe.stream=this.stream;var st=R+"$$"+this.cloneIndex+++"$$";return zr(st,Xe),Xe}var rr=function(R,ae){var ve=vr[R.key],de=bt[ve];if(de instanceof ih)pe("q"),pe(Pn(ae)),de.gState&&p.setGState(de.gState),pe(R.matrix.toString()+" cm"),pe("/"+ve+" sh"),pe("Q");else if(de instanceof t0){var Ie=new Ft(1,0,0,-1,0,Fr());R.matrix&&(Ie=Ie.multiply(R.matrix||ps),ve=Ua.call(de,R.key,R.boundingBox,R.xStep,R.yStep,Ie).id),pe("q"),pe("/Pattern cs"),pe("/"+ve+" scn"),de.gState&&p.setGState(de.gState),pe(ae),pe("Q")}},Pn=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},nu=p.moveTo=function(R,ae){return pe(L(J(R))+" "+L(Z(ae))+" m"),this},$c=p.lineTo=function(R,ae){return pe(L(J(R))+" "+L(Z(ae))+" l"),this},Do=p.curveTo=function(R,ae,ve,de,Ie,Xe){return pe([L(J(R)),L(Z(ae)),L(J(ve)),L(Z(de)),L(J(Ie)),L(Z(Xe)),"c"].join(" ")),this};p.__private__.line=p.line=function(R,ae,ve,de,Ie){if(isNaN(R)||isNaN(ae)||isNaN(ve)||isNaN(de)||!Lt(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return _===B?this.lines([[ve-R,de-ae]],R,ae,[1,1],Ie||"S"):this.lines([[ve-R,de-ae]],R,ae,[1,1]).stroke()},p.__private__.lines=p.lines=function(R,ae,ve,de,Ie,Xe){var st,Rt,zt,pr,Br,qr,Er,ss,ur,as,_n,br;if(typeof R=="number"&&(br=ve,ve=ae,ae=R,R=br),de=de||[1,1],Xe=Xe||!1,isNaN(ae)||isNaN(ve)||!Array.isArray(R)||!Array.isArray(de)||!Lt(Ie)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nu(ae,ve),st=de[0],Rt=de[1],pr=R.length,as=ae,_n=ve,zt=0;zt<pr;zt++)(Br=R[zt]).length===2?(as=Br[0]*st+as,_n=Br[1]*Rt+_n,$c(as,_n)):(qr=Br[0]*st+as,Er=Br[1]*Rt+_n,ss=Br[2]*st+as,ur=Br[3]*Rt+_n,as=Br[4]*st+as,_n=Br[5]*Rt+_n,Do(qr,Er,ss,ur,as,_n));return Xe&&va(),zc(Ie),this},p.path=function(R){for(var ae=0;ae<R.length;ae++){var ve=R[ae],de=ve.c;switch(ve.op){case"m":nu(de[0],de[1]);break;case"l":$c(de[0],de[1]);break;case"c":Do.apply(this,de);break;case"h":va()}}return this},p.__private__.rect=p.rect=function(R,ae,ve,de,Ie){if(isNaN(R)||isNaN(ae)||isNaN(ve)||isNaN(de)||!Lt(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return _===B&&(de=-de),pe([L(J(R)),L(Z(ae)),L(J(ve)),L(J(de)),"re"].join(" ")),zc(Ie),this},p.__private__.triangle=p.triangle=function(R,ae,ve,de,Ie,Xe,st){if(isNaN(R)||isNaN(ae)||isNaN(ve)||isNaN(de)||isNaN(Ie)||isNaN(Xe)||!Lt(st))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-R,de-ae],[Ie-ve,Xe-de],[R-Ie,ae-Xe]],R,ae,[1,1],st,!0),this},p.__private__.roundedRect=p.roundedRect=function(R,ae,ve,de,Ie,Xe,st){if(isNaN(R)||isNaN(ae)||isNaN(ve)||isNaN(de)||isNaN(Ie)||isNaN(Xe)||!Lt(st))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*ve),Xe=Math.min(Xe,.5*de),this.lines([[ve-2*Ie,0],[Ie*Rt,0,Ie,Xe-Xe*Rt,Ie,Xe],[0,de-2*Xe],[0,Xe*Rt,-Ie*Rt,Xe,-Ie,Xe],[2*Ie-ve,0],[-Ie*Rt,0,-Ie,-Xe*Rt,-Ie,-Xe],[0,2*Xe-de],[0,-Xe*Rt,Ie*Rt,-Xe,Ie,-Xe]],R+Ie,ae,[1,1],st,!0),this},p.__private__.ellipse=p.ellipse=function(R,ae,ve,de,Ie){if(isNaN(R)||isNaN(ae)||isNaN(ve)||isNaN(de)||!Lt(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*ve,st=4/3*(Math.SQRT2-1)*de;return nu(R+ve,ae),Do(R+ve,ae-st,R+Xe,ae-de,R,ae-de),Do(R-Xe,ae-de,R-ve,ae-st,R-ve,ae),Do(R-ve,ae+st,R-Xe,ae+de,R,ae+de),Do(R+Xe,ae+de,R+ve,ae+st,R+ve,ae),zc(Ie),this},p.__private__.circle=p.circle=function(R,ae,ve,de){if(isNaN(R)||isNaN(ae)||isNaN(ve)||!Lt(de))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,ae,ve,ve,de)},p.setFont=function(R,ae,ve){return ve&&(ae=D(ae,ve)),gt=Or(R,ae,{disableWarning:!1}),this};var su=p.__private__.getFont=p.getFont=function(){return Ge[Or.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var R,ae,ve={};for(R in jt)if(jt.hasOwnProperty(R))for(ae in ve[R]=[],jt[R])jt[R].hasOwnProperty(ae)&&ve[R].push(ae);return ve},p.addFont=function(R,ae,ve,de,Ie){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(ve=D(ve,de)),nt.call(this,R,ae,ve,Ie=Ie||"Identity-H")};var pl,Gd=e.lineWidth||.200025,Vt=p.__private__.getLineWidth=p.getLineWidth=function(){return Gd},qc=p.__private__.setLineWidth=p.setLineWidth=function(R){return Gd=R,pe(L(J(R))+" w"),this};p.__private__.setLineDash=Zt.API.setLineDash=Zt.API.setLineDashPattern=function(R,ae){if(R=R||[],ae=ae||0,isNaN(ae)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(ve){return L(J(ve))}).join(" "),ae=L(J(ae)),pe("["+R+"] "+ae+" d"),this};var Oo=p.__private__.getLineHeight=p.getLineHeight=function(){return Me*pl};p.__private__.getLineHeight=p.getLineHeight=function(){return Me*pl};var lr=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(pl=R),this},Em=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return pl};lr(e.lineHeight);var fr=p.__private__.getHorizontalCoordinate=function(R){return J(R)},Dn=p.__private__.getVerticalCoordinate=function(R){return _===I?R:Ut[Y].mediaBox.topRightY-Ut[Y].mediaBox.bottomLeftY-J(R)},jm=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(R){return L(fr(R))},zd=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(R){return L(Dn(R))},Xc=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return zn(Xc)},p.__private__.setStrokeColor=p.setDrawColor=function(R,ae,ve,de){return Xc=ia({ch1:R,ch2:ae,ch3:ve,ch4:de,pdfColorType:"draw",precision:2}),pe(Xc),this};var ao=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return zn(ao)},p.__private__.setFillColor=p.setFillColor=function(R,ae,ve,de){return ao=ia({ch1:R,ch2:ae,ch3:ve,ch4:de,pdfColorType:"fill",precision:2}),pe(ao),this};var Yc=e.textColor||"0 g",Ro=p.__private__.getTextColor=p.getTextColor=function(){return zn(Yc)};p.__private__.setTextColor=p.setTextColor=function(R,ae,ve,de){return Yc=ia({ch1:R,ch2:ae,ch3:ve,ch4:de,pdfColorType:"text",precision:3}),this};var Mo=e.charSpace,Zc=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Mo||0)};p.__private__.setCharSpace=p.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Mo=R,this};var au=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(R){var ae=p.CapJoinStyles[R];if(ae===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return au=ae,pe(ae+" J"),this};var gl=0;p.__private__.setLineJoin=p.setLineJoin=function(R){var ae=p.CapJoinStyles[R];if(ae===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gl=ae,pe(ae+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(L(J(R))+" M"),this},p.GState=e2,p.setGState=function(R){(R=typeof R=="string"?ze[Yt[R]]:io(null,R)).equals(it)||(pe("/"+R.id+" gs"),it=R)};var io=function(R,ae){if(!R||!Yt[R]){var ve=!1;for(var de in ze)if(ze.hasOwnProperty(de)&&ze[de].equals(ae)){ve=!0;break}if(ve)ae=ze[de];else{var Ie="GS"+(Object.keys(ze).length+1).toString(10);ze[Ie]=ae,ae.id=Ie}return R&&(Yt[R]=ae.id),Ir.publish("addGState",ae),ae}};p.addGState=function(R,ae){return io(R,ae),this},p.saveGraphicsState=function(){return pe("q"),Ht.push({key:gt,size:Me,color:Yc}),this},p.restoreGraphicsState=function(){pe("Q");var R=Ht.pop();return gt=R.key,Me=R.size,Yc=R.color,it=null,this},p.setCurrentTransformationMatrix=function(R){return pe(R.toString()+" cm"),this},p.comment=function(R){return pe("#"+R),this};var xs=function(R,ae){var ve=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(Xe){isNaN(Xe)||(ve=parseFloat(Xe))}});var de=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return de},set:function(Xe){isNaN(Xe)||(de=parseFloat(Xe))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(Xe){Ie=Xe.toString()}}),this},iu=function(R,ae,ve,de){xs.call(this,R,ae),this.type="rect";var Ie=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(st){isNaN(st)||(Ie=parseFloat(st))}});var Xe=de||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(st){isNaN(st)||(Xe=parseFloat(st))}}),this},Jc=function(){this.page=Bt,this.currentPage=Y,this.pages=Te.slice(0),this.pagesContext=Ut.slice(0),this.x=vt,this.y=Hr,this.matrix=Gt,this.width=$d(Y),this.height=Fr(Y),this.outputDestination=Qe,this.id="",this.objectNumber=-1};Jc.prototype.restore=function(){Bt=this.page,Y=this.currentPage,Ut=this.pagesContext,Te=this.pages,vt=this.x,Hr=this.y,Gt=this.matrix,qd(Y,this.width),oo(Y,this.height),Qe=this.outputDestination};var ou=function(R,ae,ve,de,Ie){ln.push(new Jc),Bt=Y=0,Te=[],vt=R,Hr=ae,Gt=Ie,Fn([ve,de])};for(var eA in p.beginFormObject=function(R,ae,ve,de,Ie){return ou(R,ae,ve,de,Ie),this},p.endFormObject=function(R){return function(ae){if(nr[ae])ln.pop().restore();else{var ve=new Jc,de="Xo"+(Object.keys(tr).length+1).toString(10);ve.id=de,nr[ae]=de,tr[de]=ve,Ir.publish("addFormObject",ve),ln.pop().restore()}}(R),this},p.doFormObject=function(R,ae){var ve=tr[nr[R]];return pe("q"),pe(ae.toString()+" cm"),pe("/"+ve.id+" Do"),pe("Q"),this},p.getFormObject=function(R){var ae=tr[nr[R]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},p.save=function(R,ae){return R=R||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(rh(vn(ml()),R),typeof rh.unload=="function"&&yr.setTimeout&&setTimeout(rh.unload,911),this):new Promise(function(ve,de){try{var Ie=rh(vn(ml()),R);typeof rh.unload=="function"&&yr.setTimeout&&setTimeout(rh.unload,911),ve(Ie)}catch(Xe){de(Xe.message)}})},Zt.API)Zt.API.hasOwnProperty(eA)&&(eA==="events"&&Zt.API.events.length?function(R,ae){var ve,de,Ie;for(Ie=ae.length-1;Ie!==-1;Ie--)ve=ae[Ie][0],de=ae[Ie][1],R.subscribe.apply(R,[ve].concat(typeof de=="function"?[de]:de))}(Ir,Zt.API.events):p[eA]=Zt.API[eA]);var $d=p.getPageWidth=function(R){return(Ut[R=R||Y].mediaBox.topRightX-Ut[R].mediaBox.bottomLeftX)/Ot},qd=p.setPageWidth=function(R,ae){Ut[R].mediaBox.topRightX=ae*Ot+Ut[R].mediaBox.bottomLeftX},Fr=p.getPageHeight=function(R){return(Ut[R=R||Y].mediaBox.topRightY-Ut[R].mediaBox.bottomLeftY)/Ot},oo=p.setPageHeight=function(R,ae){Ut[R].mediaBox.topRightY=ae*Ot+Ut[R].mediaBox.bottomLeftY};return p.internal={pdfEscape:Ti,getStyle:cs,getFont:su,getFontSize:We,getCharSpace:Zc,getTextColor:Ro,getLineHeight:Oo,getLineHeightFactor:Em,getLineWidth:Vt,write:Pe,getHorizontalCoordinate:fr,getVerticalCoordinate:Dn,getCoordinateString:jm,getVerticalCoordinateString:zd,collections:{},newObject:Dr,newAdditionalObject:St,newObjectDeferred:yn,newObjectDeferredBegin:rn,getFilters:Ma,putStream:wa,events:Ir,scaleFactor:Ot,pageSize:{getWidth:function(){return $d(Y)},setWidth:function(R){qd(Y,R)},getHeight:function(){return Fr(Y)},setHeight:function(R){oo(Y,R)}},encryptionOptions:h,encryption:kn,getEncryptor:function(R){return h!==null?kn.encryptor(R,0):function(ae){return ae}},output:Vs,getNumberOfPages:Kr,pages:Te,out:pe,f2:M,f3:V,getPageInfo:An,getPageInfoByObjId:Ks,getCurrentPageInfo:He,getPDFVersion:N,Point:xs,Rectangle:iu,Matrix:Ft,hasHotfix:Gc},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return $d(Y)},set:function(R){qd(Y,R)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Fr(Y)},set:function(R){oo(Y,R)},enumerable:!0,configurable:!0}),(function(R){for(var ae=0,ve=qe.length;ae<ve;ae++){var de=nt.call(this,R[ae][0],R[ae][1],R[ae][2],qe[ae][3],!0);m===!1&&(w[de]=!0);var Ie=R[ae][0].split("-");ru({id:de,fontName:Ie[0],fontStyle:Ie[1]||""})}Ir.publish("addFonts",{fonts:Ge,dictionary:jt})}).call(p,qe),gt="F1",fl(s,r),Ir.publish("initialized"),p}Rf.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Rf.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rf.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Rf.prototype.processOwnerPassword=function(e,t){return YN(XN(t).substr(0,5),e)},Rf.prototype.encryptor=function(e,t){var r=XN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return YN(r,n)}},e2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||tn(e)!==tn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Zt.API={events:[]},Zt.version="3.0.2";var Cs=Zt.API,oE=1,mf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bf=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sr=function(e){return e.toFixed(2)},Nu=function(e){return e.toFixed(5)};Cs.__acroform__={};var ro=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},zF=function(e){return e*oE},uc=function(e){var t=new GM,r=Kt.internal.getHeight(e)||0,n=Kt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Sr(n)),Number(Sr(r))],t},cce=Cs.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Ace=Cs.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},uce=Cs.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Rs=Cs.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return uce(e,t-1)},Ms=Cs.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cce(e,t-1)},Us=Cs.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ace(e,t-1)},dce=Cs.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],o=e[2],l=e[3],A={};return A.lowerLeft_X=r(s)||0,A.lowerLeft_Y=n(i+l)||0,A.upperRight_X=r(s+o)||0,A.upperRight_Y=n(i)||0,[Number(Sr(A.lowerLeft_X)),Number(Sr(A.lowerLeft_Y)),Number(Sr(A.upperRight_X)),Number(Sr(A.upperRight_Y))]},hce=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=ZN(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Sr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=uc(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},ZN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(M){return M.split(`
`)}):s.map(function(M){return[M]});var i=r,o=Kt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Kt.internal.getWidth(e)||0;l=l<0?-l:l;var A=function(M,V,J){if(M+1<s.length){var Z=V+" "+s[M+1][0];return Lx(Z,e,J).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,h,m=Lx("3",e,i).height,w=e.multiline?o-i:(o-m)/2,p=w+=2,b=0,N=0,j=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Lx(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var y="",B=0,I=0;I<s.length;I++)if(s.hasOwnProperty(I)){var _=!1;if(s[I].length!==1&&j!==s[I].length-1){if((m+2)*(B+2)+2>o)continue e;y+=s[I][j],_=!0,N=I,I--}else{y=(y+=s[I][j]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var O=parseInt(I),H=A(O,y,i),D=I>=s.length-1;if(H&&!D){y+=" ",j=0;continue}if(H||D){if(D)N=O;else if(e.multiline&&(m+2)*(B+2)+2>o)continue e}else{if(!e.multiline||(m+2)*(B+2)+2>o)continue e;N=O}}for(var L="",T=b;T<=N;T++){var G=s[T];if(e.multiline){if(T===N){L+=G[j]+" ",j=(j+1)%G.length;continue}if(T===b){L+=G[G.length-1]+" ";continue}}L+=G[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,h=Lx(L,e,i).width,e.textAlign){case"right":u=l-h-2;break;case"center":u=(l-h)/2;break;default:u=2}t+=Sr(u)+" "+Sr(p)+` Td
`,t+="("+mf(L)+`) Tj
`,t+=-Sr(u)+` 0 Td
`,p=-(i+2),h=0,b=_?N:N+1,B++,y=""}break}return n.text=t,n.fontSize=i,n},Lx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},fce={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mce=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},pce=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Yl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(fce)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");oE=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new zM,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&mce(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],A=[],u=l.Rect;if(l.Rect&&(l.Rect=dce(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Kt.createDefaultAppearanceStream(l),tn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(A=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=hce(l);A.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var m="";for(var w in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(w)){var p=l.appearanceStreamContent[w];if(m+="/"+w+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var b=p[o];typeof b=="function"&&(b=b.call(s,l)),m+="/"+o+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(s,l)),m+="/"+o+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);m+=">>"}A.push({key:"AP",value:`<<
`+m+">>"})}s.internal.putStream({additionalKeyValues:A,objectId:l.objId}),s.internal.out("endobj")}i&&function(N,j){for(var y in N)if(N.hasOwnProperty(y)){var B=y,I=N[y];j.internal.newObjectDeferredBegin(I.objId,!0),tn(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete N[B]}}(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},WM=Cs.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),tn(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+mf(n(e[i].toString()))+")"):s+=e[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},R5=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+mf(n(e))+")"},bc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bc.prototype.toString=function(){return this.objId+" 0 R"},bc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},bc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:WM(s,this.objId,this.scope)}):s instanceof bc?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var GM=function(){bc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ro(GM,bc);var zM=function(){bc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+mf(r(e))+")"}},set:function(r){e=r}})};ro(zM,bc);var Yl=function e(){bc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Rs(t,3)},set:function(y){y?this.F=Ms(t,3):this.F=Us(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof t2)return;i="FieldObject"+e.FieldNum++}var y=function(B){return B};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+mf(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var A=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return A},set:function(y){A=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/oE:u},set:function(y){u=y}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(y){h=y}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof t2||this instanceof _h))return R5(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=y}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof ha==0?R5(w,this.objId,this.scope):w},set:function(y){y=y.toString(),w=this instanceof ha==0?y.substr(0,1)==="("?Bf(y.substr(1,y.length-2)):Bf(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ha==1?Bf(w.substr(1,w.length-1)):w},set:function(y){y=y.toString(),w=this instanceof ha==1?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ha==0?R5(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof ha==0?y.substr(0,1)==="("?Bf(y.substr(1,y.length-2)):Bf(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ha==1?Bf(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof ha==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(y){y=!!y,N=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(y){b=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,1)},set:function(y){y?this.Ff=Ms(this.Ff,1):this.Ff=Us(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,2)},set:function(y){y?this.Ff=Ms(this.Ff,2):this.Ff=Us(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,3)},set:function(y){y?this.Ff=Ms(this.Ff,3):this.Ff=Us(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');j=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(j){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};ro(Yl,bc);var y0=function(){Yl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return WM(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,o,l){l||(l=1);for(var A,u=[];A=o.exec(i);)u.push(A[l]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,18)},set:function(r){r?this.Ff=Ms(this.Ff,18):this.Ff=Us(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ms(this.Ff,19):this.Ff=Us(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,20)},set:function(r){r?(this.Ff=Ms(this.Ff,20),t.sort()):this.Ff=Us(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,22)},set:function(r){r?this.Ff=Ms(this.Ff,22):this.Ff=Us(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,23)},set:function(r){r?this.Ff=Ms(this.Ff,23):this.Ff=Us(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,27)},set:function(r){r?this.Ff=Ms(this.Ff,27):this.Ff=Us(this.Ff,27)}}),this.hasAppearanceStream=!1};ro(y0,Yl);var v0=function(){y0.call(this),this.fontName="helvetica",this.combo=!1};ro(v0,y0);var b0=function(){v0.call(this),this.combo=!0};ro(b0,v0);var Vw=function(){b0.call(this),this.edit=!0};ro(Vw,b0);var ha=function(){Yl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,15)},set:function(r){r?this.Ff=Ms(this.Ff,15):this.Ff=Us(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,16)},set:function(r){r?this.Ff=Ms(this.Ff,16):this.Ff=Us(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,17)},set:function(r){r?this.Ff=Ms(this.Ff,17):this.Ff=Us(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,26)},set:function(r){r?this.Ff=Ms(this.Ff,26):this.Ff=Us(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+mf(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){tn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ro(ha,Yl);var Kw=function(){ha.call(this),this.pushButton=!0};ro(Kw,ha);var C0=function(){ha.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ro(C0,ha);var t2=function(){var e,t;Yl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+mf(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){tn(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ro(t2,Yl),C0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},C0.prototype.createOption=function(e){var t=new t2;return t.Parent=this,t.optionName=e,this.Kids.push(t),gce.call(this.scope,t),t};var Ww=function(){ha.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Kt.CheckBox.createAppearanceStream()};ro(Ww,ha);var _h=function(){Yl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,13)},set:function(t){t?this.Ff=Ms(this.Ff,13):this.Ff=Us(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,21)},set:function(t){t?this.Ff=Ms(this.Ff,21):this.Ff=Us(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,23)},set:function(t){t?this.Ff=Ms(this.Ff,23):this.Ff=Us(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,24)},set:function(t){t?this.Ff=Ms(this.Ff,24):this.Ff=Us(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,25)},set:function(t){t?this.Ff=Ms(this.Ff,25):this.Ff=Us(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,26)},set:function(t){t?this.Ff=Ms(this.Ff,26):this.Ff=Us(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ro(_h,Yl);var Gw=function(){_h.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Rs(this.Ff,14)},set:function(e){e?this.Ff=Ms(this.Ff,14):this.Ff=Us(this.Ff,14)}}),this.password=!0};ro(Gw,_h);var Kt={CheckBox:{createAppearanceStream:function(){return{N:{On:Kt.CheckBox.YesNormal},D:{On:Kt.CheckBox.YesPushDown,Off:Kt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=ZN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Sr(Kt.internal.getWidth(e))+" "+Sr(Kt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Sr(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=uc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Kt.internal.getHeight(e),o=Kt.internal.getWidth(e),l=ZN(e,e.caption);return s.push("1 g"),s.push("0 0 "+Sr(o)+" "+Sr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Sr(o-1)+" "+Sr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Sr(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Sr(Kt.internal.getWidth(e))+" "+Sr(Kt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Kt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Kt.RadioButton.Circle.YesNormal,t.D[e]=Kt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=uc(e);t.scope=e.scope;var r=[],n=Kt.internal.getWidth(e)<=Kt.internal.getHeight(e)?Kt.internal.getWidth(e)/4:Kt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Kt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Nu(Kt.internal.getWidth(e)/2)+" "+Nu(Kt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=[],n=Kt.internal.getWidth(e)<=Kt.internal.getHeight(e)?Kt.internal.getWidth(e)/4:Kt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Kt.internal.Bezier_C).toFixed(5)),o=Number((n*Kt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Nu(Kt.internal.getWidth(e)/2)+" "+Nu(Kt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Nu(Kt.internal.getWidth(e)/2)+" "+Nu(Kt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=[],n=Kt.internal.getWidth(e)<=Kt.internal.getHeight(e)?Kt.internal.getWidth(e)/4:Kt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Kt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Nu(Kt.internal.getWidth(e)/2)+" "+Nu(Kt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Kt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Kt.RadioButton.Cross.YesNormal,t.D[e]=Kt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=uc(e);t.scope=e.scope;var r=[],n=Kt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Sr(Kt.internal.getWidth(e)-2)+" "+Sr(Kt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Sr(n.x1.x)+" "+Sr(n.x1.y)+" m"),r.push(Sr(n.x2.x)+" "+Sr(n.x2.y)+" l"),r.push(Sr(n.x4.x)+" "+Sr(n.x4.y)+" m"),r.push(Sr(n.x3.x)+" "+Sr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=Kt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Sr(Kt.internal.getWidth(e))+" "+Sr(Kt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Sr(Kt.internal.getWidth(e)-2)+" "+Sr(Kt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Sr(r.x1.x)+" "+Sr(r.x1.y)+" m"),n.push(Sr(r.x2.x)+" "+Sr(r.x2.y)+" l"),n.push(Sr(r.x4.x)+" "+Sr(r.x4.y)+" m"),n.push(Sr(r.x3.x)+" "+Sr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=uc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Sr(Kt.internal.getWidth(e))+" "+Sr(Kt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Kt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Kt.internal.getWidth(e),r=Kt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Kt.internal.getWidth=function(e){var t=0;return tn(e)==="object"&&(t=zF(e.Rect[2])),t},Kt.internal.getHeight=function(e){var t=0;return tn(e)==="object"&&(t=zF(e.Rect[3])),t};var gce=Cs.addField=function(e){if(pce(this,e),!(e instanceof Yl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Cs.AcroFormChoiceField=y0,Cs.AcroFormListBox=v0,Cs.AcroFormComboBox=b0,Cs.AcroFormEditBox=Vw,Cs.AcroFormButton=ha,Cs.AcroFormPushButton=Kw,Cs.AcroFormRadioButton=C0,Cs.AcroFormCheckBox=Ww,Cs.AcroFormTextField=_h,Cs.AcroFormPasswordField=Gw,Cs.AcroFormAppearance=Kt,Cs.AcroForm={ChoiceField:y0,ListBox:v0,ComboBox:b0,EditBox:Vw,Button:ha,PushButton:Kw,RadioButton:C0,CheckBox:Ww,TextField:_h,PasswordField:Gw,Appearance:Kt},Zt.AcroForm={ChoiceField:y0,ListBox:v0,ComboBox:b0,EditBox:Vw,Button:ha,PushButton:Kw,RadioButton:C0,CheckBox:Ww,TextField:_h,PasswordField:Gw,Appearance:Kt};function $M(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(M,V){var J,Z,ee,q,W,X=r;if((V=V||r)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(H(M))for(W in n)for(ee=n[W],J=0;J<ee.length;J+=1){for(q=!0,Z=0;Z<ee[J].length;Z+=1)if(ee[J][Z]!==void 0&&ee[J][Z]!==M[Z]){q=!1;break}if(q===!0){X=W;break}}else for(W in n)for(ee=n[W],J=0;J<ee.length;J+=1){for(q=!0,Z=0;Z<ee[J].length;Z+=1)if(ee[J][Z]!==void 0&&ee[J][Z]!==M.charCodeAt(Z)){q=!1;break}if(q===!0){X=W;break}}return X===r&&V!==r&&(X=V),X},i=function M(V){for(var J=this.internal.write,Z=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:V.width}),q.push({key:"Height",value:V.height}),V.colorSpace===y.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===y.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)){for(var W="",X=0,K=V.transparency.length;X<K;X++)W+=V.transparency[X]+" "+V.transparency[X]+" ";q.push({key:"Mask",value:"["+W+"]"})}V.sMask!==void 0&&q.push({key:"SMask",value:V.objectId+1+" 0 R"});var le=V.filter!==void 0?["/"+V.filter]:void 0;if(Z({data:V.data,additionalKeyValues:q,alreadyAppliedFilters:le,objectId:V.objectId}),J("endobj"),"sMask"in V&&V.sMask!==void 0){var ne=(V.predictor!=null?"/Predictor "+V.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+V.width,U={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:V.bitsPerComponent,decodeParameters:ne,data:V.sMask};"filter"in V&&(U.filter=V.filter),M.call(this,U)}if(V.colorSpace===y.INDEXED){var Y=this.internal.newObject();Z({data:L(new Uint8Array(V.palette)),objectId:Y}),J("endobj")}},o=function(){var M=this.internal.collections[t+"images"];for(var V in M)i.call(this,M[V])},l=function(){var M,V=this.internal.collections[t+"images"],J=this.internal.write;for(var Z in V)J("/I"+(M=V[Z]).index,M.objectId,"0","R")},A=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var M=this.internal.collections[t+"images"];return A.call(this),M},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},m=function(M){return typeof e["process"+M.toUpperCase()]=="function"},w=function(M){return tn(M)==="object"&&M.nodeType===1},p=function(M,V){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var J=""+M.getAttribute("src");if(J.indexOf("data:image/")===0)return Hw(unescape(J).split("base64,").pop());var Z=e.loadFile(J,!0);if(Z!==void 0)return Z}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var ee;switch(V){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return Hw(M.toDataURL(ee,1).split("base64,").pop())}},b=function(M){var V=this.internal.collections[t+"images"];if(V){for(var J in V)if(M===V[J].alias)return V[J]}},N=function(M,V,J){return M||V||(M=-96,V=-96),M<0&&(M=-1*J.width*72/M/this.internal.scaleFactor),V<0&&(V=-1*J.height*72/V/this.internal.scaleFactor),M===0&&(M=V*J.width/J.height),V===0&&(V=M*J.height/J.width),[M,V]},j=function(M,V,J,Z,ee,q){var W=N.call(this,J,Z,ee),X=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,le=u.call(this);if(J=W[0],Z=W[1],le[ee.index]=ee,q){q*=Math.PI/180;var ne=Math.cos(q),U=Math.sin(q),Y=function(ce){return ce.toFixed(4)},se=[Y(ne),Y(U),Y(-1*U),Y(ne),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,X(M),K(V+Z),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([X(J),"0","0",X(Z),"0","0","cm"].join(" "))):this.internal.write([X(J),"0","0",X(Z),X(M),K(V+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=e.__addimage__.sHashCode=function(M){var V,J,Z=0;if(typeof M=="string")for(J=M.length,V=0;V<J;V++)Z=(Z<<5)-Z+M.charCodeAt(V),Z|=0;else if(H(M))for(J=M.byteLength/2,V=0;V<J;V++)Z=(Z<<5)-Z+M[V],Z|=0;return Z},_=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var V=!0;return M.length===0&&(V=!1),M.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(V=!1),V},O=e.__addimage__.extractImageFromDataUrl=function(M){if(M==null||!(M=M.trim()).startsWith("data:"))return null;var V=M.indexOf(",");return V<0?null:M.substring(0,V).trim().endsWith("base64")?M.substring(V+1):null};e.__addimage__.isArrayBuffer=function(M){return M instanceof ArrayBuffer};var H=e.__addimage__.isArrayBufferView=function(M){return M instanceof Int8Array||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array},D=e.__addimage__.binaryStringToUint8Array=function(M){for(var V=M.length,J=new Uint8Array(V),Z=0;Z<V;Z++)J[Z]=M.charCodeAt(Z);return J},L=e.__addimage__.arrayBufferToBinaryString=function(M){for(var V="",J=H(M)?M:new Uint8Array(M),Z=0;Z<J.length;Z+=8192)V+=String.fromCharCode.apply(null,J.subarray(Z,Z+8192));return V};e.addImage=function(){var M,V,J,Z,ee,q,W,X,K;if(typeof arguments[1]=="number"?(V=r,J=arguments[1],Z=arguments[2],ee=arguments[3],q=arguments[4],W=arguments[5],X=arguments[6],K=arguments[7]):(V=arguments[1],J=arguments[2],Z=arguments[3],ee=arguments[4],q=arguments[5],W=arguments[6],X=arguments[7],K=arguments[8]),tn(M=arguments[0])==="object"&&!w(M)&&"imageData"in M){var le=M;M=le.imageData,V=le.format||V||r,J=le.x||J||0,Z=le.y||Z||0,ee=le.w||le.width||ee,q=le.h||le.height||q,W=le.alias||W,X=le.compression||X,K=le.rotation||le.angle||K}var ne=this.internal.getFilters();if(X===void 0&&ne.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(J)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");A.call(this);var U=T.call(this,M,V,W,X);return j.call(this,J,Z,ee,q,U,K),this};var T=function(M,V,J,Z){var ee,q,W;if(typeof M=="string"&&s(M)===r){M=unescape(M);var X=G(M,!1);(X!==""||(X=e.loadFile(M,!0))!==void 0)&&(M=X)}if(w(M)&&(M=p(M,V)),V=s(M,V),!m(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((W=J)==null||W.length===0)&&(J=function(K){return typeof K=="string"||H(K)?I(K):H(K.data)?I(K.data):null}(M)),(ee=b.call(this,J))||(M instanceof Uint8Array||V==="RGBA"||(q=M,M=D(M)),ee=this["process"+V.toUpperCase()](M,h.call(this),J,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in e.image_compression?K:B.NONE}(Z),q)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},G=e.__addimage__.convertBase64ToBinaryString=function(M,V){V=typeof V!="boolean"||V;var J,Z="";if(typeof M=="string"){var ee;J=(ee=O(M))!==null&&ee!==void 0?ee:M;try{Z=Hw(J)}catch(q){if(V)throw _(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};e.getImageProperties=function(M){var V,J,Z="";if(w(M)&&(M=p(M)),typeof M=="string"&&s(M)===r&&((Z=G(M,!1))===""&&(Z=e.loadFile(M)||""),M=Z),J=s(M),!m(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(M instanceof Uint8Array||(M=D(M)),!(V=this["process"+J.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=J,V}})(Zt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Zt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,A=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,m=0;m<u.length&&!h;m++)switch((n=u[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var w=0;w<u.length;w++){n=u[w];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(N.objId),B=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+A.objId+" 0 R",i+=" /T ("+p(y(B))+") >>",N.content=i;var I=N.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+I,n.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(N.objId,"0 R",j.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var H=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+H+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,o){var l=this.internal.getCurrentPageInfo(),A=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:A(r),y:u(n),w:A(r+s),h:u(n+i)},options:o,type:"link"})},e.textWithLink=function(r,n,s,i){var o,l,A=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var h=this.splitTextToSize(r,l).length;o=Math.ceil(u*h)}else l=A,o=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=A/2),i.align==="right"&&(n-=A),this.link(n,s-u,l,o,i),A},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Zt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},l=e.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length<=2},A=e.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&s.indexOf(N.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&i(N)&&t[N.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(N){var j=0,y=r,B="",I=0;for(j=0;j<N.length;j+=1)y[N.charCodeAt(j)]!==void 0?(I++,typeof(y=y[N.charCodeAt(j)])=="number"&&(B+=String.fromCharCode(y),y=r,I=0),j===N.length-1&&(y=r,B+=N.charAt(j-(I-1)),j-=I-1,I=0)):(y=r,B+=N.charAt(j-I),j-=I,I=0);return B};e.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var w=e.__arabicParser__.getCorrectForm=function(N,j,y){return o(N)?i(N)===!1?-1:!u(N)||!o(j)&&!o(y)||!o(y)&&l(j)||l(N)&&!o(j)||l(N)&&A(j)||l(N)&&l(j)?0:h(N)&&o(j)&&!l(j)&&o(y)&&u(y)?3:l(N)||!o(y)?1:2:-1},p=function(N){var j=0,y=0,B=0,I="",_="",O="",H=(N=N||"").split("\\s+"),D=[];for(j=0;j<H.length;j+=1){for(D.push(""),y=0;y<H[j].length;y+=1)I=H[j][y],_=H[j][y-1],O=H[j][y+1],o(I)?(B=w(I,_,O),D[j]+=B!==-1?String.fromCharCode(t[I.charCodeAt(0)][B]):I):D[j]+=I;D[j]=m(D[j])}return D.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var N,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(j)){var B=0;for(y=[],B=0;B<j.length;B+=1)Array.isArray(j[B])?y.push([p(j[B][0]),j[B][1],j[B][2]]):y.push([p(j[B])]);N=y}else N=p(j);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};e.events.push(["preProcessText",b])}(Zt.API),Zt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Zt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var A=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return A},set:function(N){A=N}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(N){u=N}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(N){b=N}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(A){return n.call(this),this.internal.__cell__.headerFunction=typeof A=="function"?A:void 0,this},e.getTextDimensions=function(A,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),w=u.scaleFactor||this.internal.scaleFactor,p=0,b=0,N=0,j=this;if(!Array.isArray(A)&&typeof A!="string"){if(typeof A!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");A=String(A)}var y=u.maxWidth;y>0?typeof A=="string"?A=this.splitTextToSize(A,y):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(I,_){return I.concat(j.splitTextToSize(_,y))},[])):A=Array.isArray(A)?A:[A];for(var B=0;B<A.length;B++)p<(N=this.getStringUnitWidth(A[B],{font:m})*h)&&(p=N);return p!==0&&(b=A.length),{w:p/=w,h:Math.max((b*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/w,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var A=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(A.left,A.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var A;A=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,w=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===A.lineNumber?(A.x=(u.x||0)+(u.width||0),A.y=u.y||0):u.y+u.height+A.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),A.y=m.top,p&&w&&(this.printHeaderRow(A.lineNumber,!0),A.y+=w[0].height)):A.y=u.y+u.height||A.y),A.text[0]!==void 0&&(this.rect(A.x,A.y,A.width,A.height,r===!0?"FD":void 0),A.align==="right"?this.text(A.text,A.x+A.width-h,A.y+h,{align:"right",baseline:"top"}):A.align==="center"?this.text(A.text,A.x+A.width/2,A.y+h,{align:"center",baseline:"top",maxWidth:A.width-h-h}):this.text(A.text,A.x+h,A.y+h,{align:"left",baseline:"top",maxWidth:A.width-h-h})),this.internal.__cell__.lastCell=A,this};e.table=function(A,u,h,m,w){if(n.call(this),!h)throw new Error("No data for PDF table.");var p,b,N,j,y=[],B=[],I=[],_={},O={},H=[],D=[],L=(w=w||{}).autoSize||!1,T=w.printHeaders!==!1,G=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,M=w.margins||Object.assign({width:this.getPageWidth()},t),V=typeof w.padding=="number"?w.padding:3,J=w.headerBackgroundColor||"#c8c8c8",Z=w.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=Z,this.setFontSize(G),m==null)B=y=Object.keys(h[0]),I=y.map(function(){return"left"});else if(Array.isArray(m)&&tn(m[0])==="object")for(y=m.map(function(le){return le.name}),B=m.map(function(le){return le.prompt||le.name||""}),I=m.map(function(le){return le.align||"left"}),p=0;p<m.length;p+=1)O[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(B=y=m,I=y.map(function(){return"left"}));if(L||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<y.length;p+=1){for(_[j=y[p]]=h.map(function(le){return le[j]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(B[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=_[j],this.setFont(void 0,"normal"),N=0;N<b.length;N+=1)H.push(this.getTextDimensions(b[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[j]=Math.max.apply(null,H)+V+V,H=[]}if(T){var ee={};for(p=0;p<y.length;p+=1)ee[y[p]]={},ee[y[p]].text=B[p],ee[y[p]].align=I[p];var q=l.call(this,ee,O);D=y.map(function(le){return new i(A,u,O[le],q,ee[le].text,void 0,ee[le].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var W=m.reduce(function(le,ne){return le[ne.name]=ne.align,le},{});for(p=0;p<h.length;p+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:p,data:h[p]},this);var X=l.call(this,h[p],O);for(N=0;N<y.length;N+=1){var K=h[p][y[N]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:p,col:N,data:K},this),o.call(this,new i(A,u,O[y[N]],X,K,p+2,W[y[N]]))}}return this.internal.__cell__.table_x=A,this.internal.__cell__.table_y=u,this};var l=function(A,u){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(A).map(function(p){var b=A[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/w+h+h},this).reduce(function(p,b){return Math.max(p,b)},0)};e.setTableHeaderRow=function(A){n.call(this),this.internal.__cell__.tableHeaderRow=A},e.printHeaderRow=function(A,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,w.push(h)),h.lineNumber=A;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(b)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),r=!1}}(Zt.API);var qM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},XM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],JN=$M(XM),YM=[100,200,300,400,500,600,700,800,900],xce=$M(YM);function M5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return qM[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),s=function(i){return typeof JN[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function $F(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var wce={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},qF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function XF(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function YF(e){return e.trimLeft()}function yce(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function vce(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Px,ZF,JF,Sf,Dx,ek,tk,rk,U5=["times"];function nk(e,t,r,n){var s=4,i=ak;switch(n){case Zt.API.image_compression.FAST:s=1,i=sk;break;case Zt.API.image_compression.MEDIUM:s=6,i=ik;break;case Zt.API.image_compression.SLOW:s=9,i=ok}e=function(l,A,u,h){for(var m,w=l.length/A,p=new Uint8Array(l.length+w),b=[bce,sk,ak,ik,ok],N=0;N<w;N+=1){var j=N*A,y=l.subarray(j,j+A);if(h)p.set(h(y,u,m),j+N);else{for(var B=b.length,I=[],_=0;_<B;_+=1)I[_]=b[_](y,u,m);var O=Nce(I.concat());p.set(I[O],j+N)}m=y}return p}(e,t,r,i);var o=UN(e,{level:s});return Zt.API.__addimage__.arrayBufferToBinaryString(o)}function bce(e){var t=Array.apply([],e);return t.unshift(0),t}function sk(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function ak(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;s[i+1]=e[i]-o+256&255}return s}function ik(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var o=e[i-t]||0,l=r&&r[i]||0;s[i+1]=e[i]+256-(o+l>>>1)&255}return s}function ok(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var o=Cce(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-o+256&255}return s}function Cce(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function Nce(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function Q5(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),o=(1<<r)-1;return ZM(e,s)>>i&o}function lk(e,t,r,n){var s=r*n,i=Math.floor(s/8),o=16-(s-8*i+n),l=(1<<n)-1,A=(t&l)<<o;(function(u,h,m){if(h+1<u.byteLength)u.setUint16(h,m,!1);else{var w=m>>8&255;u.setUint8(h,w)}})(e,i,ZM(e,i)&~(l<<o)&65535|A)}function ZM(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Bce(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,o=1<<1+(7&s);e[t++],e[t++];var l=null,A=null;i&&(l=t,A=o,t+=3*o);var u=!0,h=[],m=0,w=null,p=0,b=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=e[t++];m=e[t++]|e[t++]<<8,w=e[t++],1&N||(w=null),p=N>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var j=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,I=e[t++]|e[t++]<<8,_=e[t++],O=_>>6&1,H=1<<1+(7&_),D=l,L=A,T=!1;_>>7&&(T=!0,D=t,L=H,t+=3*H);var G=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}h.push({x:j,y,width:B,height:I,has_local_palette:T,palette_offset:D,palette_size:L,data_offset:G,data_length:t-G,transparent_index:w,interlaced:!!O,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return b},this.frameInfo=function(V){if(V<0||V>=h.length)throw new Error("Frame index out of range.");return h[V]},this.decodeAndBlitFrameBGRA=function(V,J){var Z=this.frameInfo(V),ee=Z.width*Z.height,q=new Uint8Array(ee);ck(e,Z.data_offset,q,ee);var W=Z.palette_offset,X=Z.transparent_index;X===null&&(X=256);var K=Z.width,le=r-K,ne=K,U=4*(Z.y*r+Z.x),Y=4*((Z.y+Z.height)*r+Z.x),se=U,ce=4*le;Z.interlaced===!0&&(ce+=4*r*7);for(var Ae=8,ge=0,fe=q.length;ge<fe;++ge){var je=q[ge];if(ne===0&&(ne=K,(se+=ce)>=Y&&(ce=4*le+4*r*(Ae-1),se=U+(K+le)*(Ae<<1),Ae>>=1)),je===X)se+=4;else{var ke=e[W+3*je],Te=e[W+3*je+1],De=e[W+3*je+2];J[se++]=De,J[se++]=Te,J[se++]=ke,J[se++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(V,J){var Z=this.frameInfo(V),ee=Z.width*Z.height,q=new Uint8Array(ee);ck(e,Z.data_offset,q,ee);var W=Z.palette_offset,X=Z.transparent_index;X===null&&(X=256);var K=Z.width,le=r-K,ne=K,U=4*(Z.y*r+Z.x),Y=4*((Z.y+Z.height)*r+Z.x),se=U,ce=4*le;Z.interlaced===!0&&(ce+=4*r*7);for(var Ae=8,ge=0,fe=q.length;ge<fe;++ge){var je=q[ge];if(ne===0&&(ne=K,(se+=ce)>=Y&&(ce=4*le+4*r*(Ae-1),se=U+(K+le)*(Ae<<1),Ae>>=1)),je===X)se+=4;else{var ke=e[W+3*je],Te=e[W+3*je+1],De=e[W+3*je+2];J[se++]=ke,J[se++]=Te,J[se++]=De,J[se++]=255}--ne}}}function ck(e,t,r,n){for(var s=e[t++],i=1<<s,o=i+1,l=o+1,A=s+1,u=(1<<A)-1,h=0,m=0,w=0,p=e[t++],b=new Int32Array(4096),N=null;;){for(;h<16&&p!==0;)m|=e[t++]<<h,h+=8,p===1?p=e[t++]:--p;if(h<A)break;var j=m&u;if(m>>=A,h-=A,j!==i){if(j===o)break;for(var y=j<l?j:N,B=0,I=y;I>i;)I=b[I]>>8,++B;var _=I;if(w+B+(y!==j?1:0)>n)return void Rn.log("Warning, gif stream longer than expected.");r[w++]=_;var O=w+=B;for(y!==j&&(r[w++]=_),I=y;B--;)I=b[I],r[--O]=255&I,I>>=8;N!==null&&l<4096&&(b[l++]=N<<8|_,l>=u+1&&A<12&&(++A,u=u<<1|1)),N=j}else l=o+1,u=(1<<(A=s+1))-1,N=null}return w!==n&&Rn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H5(e){var t,r,n,s,i,o=Math.floor,l=new Array(64),A=new Array(64),u=new Array(64),h=new Array(64),m=new Array(65535),w=new Array(65535),p=new Array(64),b=new Array(64),N=[],j=0,y=7,B=new Array(64),I=new Array(64),_=new Array(64),O=new Array(256),H=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(U,Y){for(var se=0,ce=0,Ae=new Array,ge=1;ge<=16;ge++){for(var fe=1;fe<=U[ge];fe++)Ae[Y[ce]]=[],Ae[Y[ce]][0]=se,Ae[Y[ce]][1]=ge,ce++,se++;se*=2}return Ae}function W(U){for(var Y=U[0],se=U[1]-1;se>=0;)Y&1<<se&&(j|=1<<y),se--,--y<0&&(j==255?(X(255),X(0)):X(j),y=7,j=0)}function X(U){N.push(U)}function K(U){X(U>>8&255),X(255&U)}function le(U,Y,se,ce,Ae){for(var ge,fe=Ae[0],je=Ae[240],ke=function(Me,wt){var We,Wt,Nt,at,pt,dt,xt,It,gt,Ot,vt=0;for(gt=0;gt<8;++gt){We=Me[vt],Wt=Me[vt+1],Nt=Me[vt+2],at=Me[vt+3],pt=Me[vt+4],dt=Me[vt+5],xt=Me[vt+6];var Hr=We+(It=Me[vt+7]),Gt=We-It,Ge=Wt+xt,jt=Wt-xt,Ht=Nt+dt,bt=Nt-dt,vr=at+pt,ze=at-pt,Yt=Hr+vr,it=Hr-vr,Bt=Ge+Ht,Ut=Ge-Ht;Me[vt]=Yt+Bt,Me[vt+4]=Yt-Bt;var Ir=.707106781*(Ut+it);Me[vt+2]=it+Ir,Me[vt+6]=it-Ir;var Ct=.382683433*((Yt=ze+bt)-(Ut=jt+Gt)),tr=.5411961*Yt+Ct,nr=1.306562965*Ut+Ct,ln=.707106781*(Bt=bt+jt),Ft=Gt+ln,cn=Gt-ln;Me[vt+5]=cn+tr,Me[vt+3]=cn-tr,Me[vt+1]=Ft+nr,Me[vt+7]=Ft-nr,vt+=8}for(vt=0,gt=0;gt<8;++gt){We=Me[vt],Wt=Me[vt+8],Nt=Me[vt+16],at=Me[vt+24],pt=Me[vt+32],dt=Me[vt+40],xt=Me[vt+48];var ps=We+(It=Me[vt+56]),zr=We-It,In=Wt+xt,Dr=Wt-xt,yn=Nt+dt,rn=Nt-dt,St=at+pt,Ai=at-pt,ui=ps+St,zn=ps-St,ia=In+yn,Ma=In-yn;Me[vt]=ui+ia,Me[vt+32]=ui-ia;var wa=.707106781*(Ma+zn);Me[vt+16]=zn+wa,Me[vt+48]=zn-wa;var oa=.382683433*((ui=Ai+rn)-(Ma=Dr+zr)),Po=.5411961*ui+oa,Wc=1.306562965*Ma+oa,ya=.707106781*(ia=rn+Dr),gs=zr+ya,un=zr-ya;Me[vt+40]=un+Po,Me[vt+24]=un-Po,Me[vt+8]=gs+Wc,Me[vt+56]=gs-Wc,vt++}for(gt=0;gt<64;++gt)Ot=Me[gt]*wt[gt],p[gt]=Ot>0?Ot+.5|0:Ot-.5|0;return p}(U,Y),Te=0;Te<64;++Te)b[D[Te]]=ke[Te];var De=b[0]-se;se=b[0],De==0?W(ce[0]):(W(ce[w[ge=32767+De]]),W(m[ge]));for(var Qe=63;Qe>0&&b[Qe]==0;)Qe--;if(Qe==0)return W(fe),se;for(var Ne,pe=1;pe<=Qe;){for(var Pe=pe;b[pe]==0&&pe<=Qe;)++pe;var rt=pe-Pe;if(rt>=16){Ne=rt>>4;for(var qe=1;qe<=Ne;++qe)W(je);rt&=15}ge=32767+b[pe],W(Ae[(rt<<4)+w[ge]]),W(m[ge]),pe++}return Qe!=63&&W(fe),se}function ne(U){U=Math.min(Math.max(U,1),100),i!=U&&(function(Y){for(var se=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var Ae=o((se[ce]*Y+50)/100);Ae=Math.min(Math.max(Ae,1),255),l[D[ce]]=Ae}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var je=o((ge[fe]*Y+50)/100);je=Math.min(Math.max(je,1),255),A[D[fe]]=je}for(var ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,De=0;De<8;De++)for(var Qe=0;Qe<8;Qe++)u[Te]=1/(l[D[Te]]*ke[De]*ke[Qe]*8),h[Te]=1/(A[D[Te]]*ke[De]*ke[Qe]*8),Te++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),i=U)}this.encode=function(U,Y){Y&&ne(Y),N=new Array,j=0,y=7,K(65496),K(65504),K(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),K(1),K(1),X(0),X(0),function(){K(65499),K(132),X(0);for(var Wt=0;Wt<64;Wt++)X(l[Wt]);X(1);for(var Nt=0;Nt<64;Nt++)X(A[Nt])}(),function(Wt,Nt){K(65472),K(17),X(8),K(Nt),K(Wt),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(U.width,U.height),function(){K(65476),K(418),X(0);for(var Wt=0;Wt<16;Wt++)X(L[Wt+1]);for(var Nt=0;Nt<=11;Nt++)X(T[Nt]);X(16);for(var at=0;at<16;at++)X(G[at+1]);for(var pt=0;pt<=161;pt++)X(M[pt]);X(1);for(var dt=0;dt<16;dt++)X(V[dt+1]);for(var xt=0;xt<=11;xt++)X(J[xt]);X(17);for(var It=0;It<16;It++)X(Z[It+1]);for(var gt=0;gt<=161;gt++)X(ee[gt])}(),K(65498),K(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var se=0,ce=0,Ae=0;j=0,y=7,this.encode.displayName="_encode_";for(var ge,fe,je,ke,Te,De,Qe,Ne,pe,Pe=U.data,rt=U.width,qe=U.height,Me=4*rt,wt=0;wt<qe;){for(ge=0;ge<Me;){for(Te=Me*wt+ge,Qe=-1,Ne=0,pe=0;pe<64;pe++)De=Te+(Ne=pe>>3)*Me+(Qe=4*(7&pe)),wt+Ne>=qe&&(De-=Me*(wt+1+Ne-qe)),ge+Qe>=Me&&(De-=ge+Qe-Me+4),fe=Pe[De++],je=Pe[De++],ke=Pe[De++],B[pe]=(H[fe]+H[je+256|0]+H[ke+512|0]>>16)-128,I[pe]=(H[fe+768|0]+H[je+1024|0]+H[ke+1280|0]>>16)-128,_[pe]=(H[fe+1280|0]+H[je+1536|0]+H[ke+1792|0]>>16)-128;se=le(B,u,se,t,n),ce=le(I,h,ce,r,s),Ae=le(_,h,Ae,r,s),ge+=32}wt+=8}if(y>=0){var We=[];We[1]=y+1,We[0]=(1<<y+1)-1,W(We)}return K(65497),new Uint8Array(N)},e=e||50,function(){for(var U=String.fromCharCode,Y=0;Y<256;Y++)O[Y]=U(Y)}(),t=q(L,T),r=q(V,J),n=q(G,M),s=q(Z,ee),function(){for(var U=1,Y=2,se=1;se<=15;se++){for(var ce=U;ce<Y;ce++)w[32767+ce]=se,m[32767+ce]=[],m[32767+ce][1]=se,m[32767+ce][0]=ce;for(var Ae=-(Y-1);Ae<=-U;Ae++)w[32767+Ae]=se,m[32767+Ae]=[],m[32767+Ae][1]=se,m[32767+Ae][0]=Y-1+Ae;U<<=1,Y<<=1}}(),function(){for(var U=0;U<256;U++)H[U]=19595*U,H[U+256|0]=38470*U,H[U+512|0]=7471*U+32768,H[U+768|0]=-11059*U,H[U+1024|0]=-21709*U,H[U+1280|0]=32768*U+8421375,H[U+1536|0]=-27439*U,H[U+1792|0]=-5329*U}(),ne(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Nl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ak(e){function t(T){if(!T)throw Error("assert :P")}function r(T,G,M){for(var V=0;4>V;V++)if(T[G+V]!=M.charCodeAt(V))return!0;return!1}function n(T,G,M,V,J){for(var Z=0;Z<J;Z++)T[G+Z]=M[V+Z]}function s(T,G,M,V){for(var J=0;J<V;J++)T[G+J]=M}function i(T){return new Int32Array(T)}function o(T,G){for(var M=[],V=0;V<T;V++)M.push(new G);return M}function l(T,G){var M=[];return function V(J,Z,ee){for(var q=ee[Z],W=0;W<q&&(J.push(ee.length>Z+1?[]:new G),!(ee.length<Z+1));W++)V(J[W],Z+1,ee)}(M,0,T),M}var A=function(){var T=this;function G(S,F){for(var Q=1<<F-1>>>0;S&Q;)Q>>>=1;return Q?(S&Q-1)+Q:S}function M(S,F,Q,$,ie){t(!($%Q));do S[F+($-=Q)]=ie;while(0<$)}function V(S,F,Q,$,ie){if(t(2328>=ie),512>=ie)var ue=i(512);else if((ue=i(ie))==null)return 0;return function(he,me,xe,be,_e,Ke){var Ce,Le,Ue=me,Je=1<<xe,Ve=i(16),et=i(16);for(t(_e!=0),t(be!=null),t(he!=null),t(0<xe),Le=0;Le<_e;++Le){if(15<be[Le])return 0;++Ve[be[Le]]}if(Ve[0]==_e)return 0;for(et[1]=0,Ce=1;15>Ce;++Ce){if(Ve[Ce]>1<<Ce)return 0;et[Ce+1]=et[Ce]+Ve[Ce]}for(Le=0;Le<_e;++Le)Ce=be[Le],0<be[Le]&&(Ke[et[Ce]++]=Le);if(et[15]==1)return(be=new J).g=0,be.value=Ke[0],M(he,Ue,1,Je,be),Je;var tt,ut=-1,ot=Je-1,er=0,Qt=1,Tr=1,qt=1<<xe;for(Le=0,Ce=1,_e=2;Ce<=xe;++Ce,_e<<=1){if(Qt+=Tr<<=1,0>(Tr-=Ve[Ce]))return 0;for(;0<Ve[Ce];--Ve[Ce])(be=new J).g=Ce,be.value=Ke[Le++],M(he,Ue+er,_e,qt,be),er=G(er,Ce)}for(Ce=xe+1,_e=2;15>=Ce;++Ce,_e<<=1){if(Qt+=Tr<<=1,0>(Tr-=Ve[Ce]))return 0;for(;0<Ve[Ce];--Ve[Ce]){if(be=new J,(er&ot)!=ut){for(Ue+=qt,tt=1<<(ut=Ce)-xe;15>ut&&!(0>=(tt-=Ve[ut]));)++ut,tt<<=1;Je+=qt=1<<(tt=ut-xe),he[me+(ut=er&ot)].g=tt+xe,he[me+ut].value=Ue-me-ut}be.g=Ce-xe,be.value=Ke[Le++],M(he,Ue+(er>>xe),_e,qt,be),er=G(er,Ce)}}return Qt!=2*et[15]-1?0:Je}(S,F,Q,$,ie,ue)}function J(){this.value=this.g=0}function Z(){this.value=this.g=0}function ee(){this.G=o(5,J),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ks,Z)}function q(S,F,Q,$){t(S!=null),t(F!=null),t(2147483648>$),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=F,S.pa=Q,S.Jd=F,S.Yc=Q+$,S.Zc=4<=$?Q+$-4+1:Q,fe(S)}function W(S,F){for(var Q=0;0<F--;)Q|=ke(S,128)<<F;return Q}function X(S,F){var Q=W(S,F);return je(S)?-Q:Q}function K(S,F,Q,$){var ie,ue=0;for(t(S!=null),t(F!=null),t(4294967288>$),S.Sb=$,S.Ra=0,S.u=0,S.h=0,4<$&&($=4),ie=0;ie<$;++ie)ue+=F[Q+ie]<<8*ie;S.Ra=ue,S.bb=$,S.oa=F,S.pa=Q}function le(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Pi-8>>>0,++S.bb,S.u-=8;ce(S)&&(S.h=1,S.u=0)}function ne(S,F){if(t(0<=F),!S.h&&F<=tA){var Q=se(S)&ic[F];return S.u+=F,le(S),Q}return S.h=1,S.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function se(S){return S.Ra>>>(S.u&Pi-1)>>>0}function ce(S){return t(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Pi}function Ae(S,F){S.u=F,S.h=ce(S)}function ge(S){S.u>=ir&&(t(S.u>=ir),le(S))}function fe(S){t(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(t(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function je(S){return W(S,1)}function ke(S,F){var Q=S.Ca;0>S.b&&fe(S);var $=S.b,ie=Q*F>>>8,ue=(S.I>>>$>ie)+0;for(ue?(Q-=ie,S.I-=ie+1<<$>>>0):Q=ie+1,$=Q,ie=0;256<=$;)ie+=8,$>>=8;return $=7^ie+uu[$],S.b-=$,S.Ca=(Q<<$)-1,ue}function Te(S,F,Q){S[F+0]=Q>>24&255,S[F+1]=Q>>16&255,S[F+2]=Q>>8&255,S[F+3]=255&Q}function De(S,F){return S[F+0]|S[F+1]<<8}function Qe(S,F){return De(S,F)|S[F+2]<<16}function Ne(S,F){return De(S,F)|De(S,F+2)<<16}function pe(S,F){var Q=1<<F;return t(S!=null),t(0<F),S.X=i(Q),S.X==null?0:(S.Mb=32-F,S.Xa=F,1)}function Pe(S,F){t(S!=null),t(F!=null),t(S.Xa==F.Xa),n(F.X,0,S.X,0,1<<F.Xa)}function rt(){this.X=[],this.Xa=this.Mb=0}function qe(S,F,Q,$){t(Q!=null),t($!=null);var ie=Q[0],ue=$[0];return ie==0&&(ie=(S*ue+F/2)/F),ue==0&&(ue=(F*ie+S/2)/S),0>=ie||0>=ue?0:(Q[0]=ie,$[0]=ue,1)}function Me(S,F){return S+(1<<F)-1>>>F}function wt(S,F){return((4278255360&S)+(4278255360&F)>>>0&4278255360)+((16711935&S)+(16711935&F)>>>0&16711935)>>>0}function We(S,F){T[F]=function(Q,$,ie,ue,he,me,xe){var be;for(be=0;be<he;++be){var _e=T[S](me[xe+be-1],ie,ue+be);me[xe+be]=wt(Q[$+be],_e)}}}function Wt(){this.ud=this.hd=this.jd=0}function Nt(S,F){return((4278124286&(S^F))>>>1)+(S&F)>>>0}function at(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function pt(S,F){return at(S+(S-F+.5>>1))}function dt(S,F,Q){return Math.abs(F-Q)-Math.abs(S-Q)}function xt(S,F,Q,$,ie,ue,he){for($=ue[he-1],Q=0;Q<ie;++Q)ue[he+Q]=$=wt(S[F+Q],$)}function It(S,F,Q,$,ie){var ue;for(ue=0;ue<Q;++ue){var he=S[F+ue],me=he>>8&255,xe=16711935&(xe=(xe=16711935&he)+((me<<16)+me));$[ie+ue]=(4278255360&he)+xe>>>0}}function gt(S,F){F.jd=255&S,F.hd=S>>8&255,F.ud=S>>16&255}function Ot(S,F,Q,$,ie,ue){var he;for(he=0;he<$;++he){var me=F[Q+he],xe=me>>>8,be=me,_e=255&(_e=(_e=me>>>16)+((S.jd<<24>>24)*(xe<<24>>24)>>>5));be=255&(be=(be+=(S.hd<<24>>24)*(xe<<24>>24)>>>5)+((S.ud<<24>>24)*(_e<<24>>24)>>>5)),ie[ue+he]=(4278255360&me)+(_e<<16)+be}}function vt(S,F,Q,$,ie){T[F]=function(ue,he,me,xe,be,_e,Ke,Ce,Le){for(xe=Ke;xe<Ce;++xe)for(Ke=0;Ke<Le;++Ke)be[_e++]=ie(me[$(ue[he++])])},T[S]=function(ue,he,me,xe,be,_e,Ke){var Ce=8>>ue.b,Le=ue.Ea,Ue=ue.K[0],Je=ue.w;if(8>Ce)for(ue=(1<<ue.b)-1,Je=(1<<Ce)-1;he<me;++he){var Ve,et=0;for(Ve=0;Ve<Le;++Ve)Ve&ue||(et=$(xe[be++])),_e[Ke++]=ie(Ue[et&Je]),et>>=Ce}else T["VP8LMapColor"+Q](xe,be,Ue,Je,_e,Ke,he,me,Le)}}function Hr(S,F,Q,$,ie){for(Q=F+Q;F<Q;){var ue=S[F++];$[ie++]=ue>>16&255,$[ie++]=ue>>8&255,$[ie++]=255&ue}}function Gt(S,F,Q,$,ie){for(Q=F+Q;F<Q;){var ue=S[F++];$[ie++]=ue>>16&255,$[ie++]=ue>>8&255,$[ie++]=255&ue,$[ie++]=ue>>24&255}}function Ge(S,F,Q,$,ie){for(Q=F+Q;F<Q;){var ue=(he=S[F++])>>16&240|he>>12&15,he=240&he|he>>28&15;$[ie++]=ue,$[ie++]=he}}function jt(S,F,Q,$,ie){for(Q=F+Q;F<Q;){var ue=(he=S[F++])>>16&248|he>>13&7,he=he>>5&224|he>>3&31;$[ie++]=ue,$[ie++]=he}}function Ht(S,F,Q,$,ie){for(Q=F+Q;F<Q;){var ue=S[F++];$[ie++]=255&ue,$[ie++]=ue>>8&255,$[ie++]=ue>>16&255}}function bt(S,F,Q,$,ie,ue){if(ue==0)for(Q=F+Q;F<Q;)Te($,((ue=S[F++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),ie+=32;else n($,ie,S,F,Q)}function vr(S,F){T[F][0]=T[S+"0"],T[F][1]=T[S+"1"],T[F][2]=T[S+"2"],T[F][3]=T[S+"3"],T[F][4]=T[S+"4"],T[F][5]=T[S+"5"],T[F][6]=T[S+"6"],T[F][7]=T[S+"7"],T[F][8]=T[S+"8"],T[F][9]=T[S+"9"],T[F][10]=T[S+"10"],T[F][11]=T[S+"11"],T[F][12]=T[S+"12"],T[F][13]=T[S+"13"],T[F][14]=T[S+"0"],T[F][15]=T[S+"0"]}function ze(S){return S==Ab||S==ub||S==H1||S==db}function Yt(){this.eb=[],this.size=this.A=this.fb=0}function it(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yt,this.f.kb=new it,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ir(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ct(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function tr(S,F){var Q=S.T,$=F.ba.f.RGBA,ie=$.eb,ue=$.fb+S.ka*$.A,he=Go[F.ba.S],me=S.y,xe=S.O,be=S.f,_e=S.N,Ke=S.ea,Ce=S.W,Le=F.cc,Ue=F.dc,Je=F.Mc,Ve=F.Nc,et=S.ka,tt=S.ka+S.T,ut=S.U,ot=ut+1>>1;for(et==0?he(me,xe,null,null,be,_e,Ke,Ce,be,_e,Ke,Ce,ie,ue,null,null,ut):(he(F.ec,F.fc,me,xe,Le,Ue,Je,Ve,be,_e,Ke,Ce,ie,ue-$.A,ie,ue,ut),++Q);et+2<tt;et+=2)Le=be,Ue=_e,Je=Ke,Ve=Ce,_e+=S.Rc,Ce+=S.Rc,ue+=2*$.A,he(me,(xe+=2*S.fa)-S.fa,me,xe,Le,Ue,Je,Ve,be,_e,Ke,Ce,ie,ue-$.A,ie,ue,ut);return xe+=S.fa,S.j+tt<S.o?(n(F.ec,F.fc,me,xe,ut),n(F.cc,F.dc,be,_e,ot),n(F.Mc,F.Nc,Ke,Ce,ot),Q--):1&tt||he(me,xe,null,null,be,_e,Ke,Ce,be,_e,Ke,Ce,ie,ue+$.A,null,null,ut),Q}function nr(S,F,Q){var $=S.F,ie=[S.J];if($!=null){var ue=S.U,he=F.ba.S,me=he==Q1||he==H1;F=F.ba.f.RGBA;var xe=[0],be=S.ka;xe[0]=S.T,S.Kb&&(be==0?--xe[0]:(--be,ie[0]-=S.width),S.j+S.ka+S.T==S.o&&(xe[0]=S.o-S.j-be));var _e=F.eb;be=F.fb+be*F.A,S=S6($,ie[0],S.width,ue,xe,_e,be+(me?0:3),F.A),t(Q==xe),S&&ze(he)&&Xd(_e,be,me,ue,xe,F.A)}return 0}function ln(S){var F=S.ma,Q=F.ba.S,$=11>Q,ie=Q==M1||Q==U1||Q==Q1||Q==cb||Q==12||ze(Q);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!ca(F.Oa,S,ie?11:12))return 0;if(ie&&ze(Q)&&Qa(),S.da)alert("todo:use_scaling");else{if($){if(F.Ib=Ct,S.Kb){if(Q=S.U+1>>1,F.memory=i(S.U+2*Q),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+S.U,F.Mc=F.cc,F.Nc=F.dc+Q,F.Ib=tr,Qa()}}else alert("todo:EmitYUV");ie&&(F.Jb=nr,$&&Li())}if($&&!V6){for(S=0;256>S;++S)QK[S]=89858*(S-128)+K1>>V1,KK[S]=-22014*(S-128)+K1,VK[S]=-45773*(S-128),HK[S]=113618*(S-128)+K1>>V1;for(S=Fm;S<mb;++S)F=76283*(S-16)+K1>>V1,WK[S-Fm]=Tn(F,255),GK[S-Fm]=Tn(F+8>>4,15);V6=1}return 1}function Ft(S){var F=S.ma,Q=S.U,$=S.T;return t(!(1&S.ka)),0>=Q||0>=$?0:(Q=F.Ib(S,F),F.Jb!=null&&F.Jb(S,F,Q),F.Dc+=Q,1)}function cn(S){S.ma.memory=null}function ps(S,F,Q,$){return ne(S,8)!=47?0:(F[0]=ne(S,14)+1,Q[0]=ne(S,14)+1,$[0]=ne(S,1),ne(S,3)!=0?0:!S.h)}function zr(S,F){if(4>S)return S+1;var Q=S-2>>1;return(2+(1&S)<<Q)+ne(F,Q)+1}function In(S,F){return 120<F?F-120:1<=(Q=((Q=EK[F-1])>>4)*S+(8-(15&Q)))?Q:1;var Q}function Dr(S,F,Q){var $=se(Q),ie=S[F+=255&$].g-8;return 0<ie&&(Ae(Q,Q.u+8),$=se(Q),F+=S[F].value,F+=$&(1<<ie)-1),Ae(Q,Q.u+S[F].g),S[F].value}function yn(S,F,Q){return Q.g+=S.g,Q.value+=S.value<<F>>>0,t(8>=Q.g),S.g}function rn(S,F,Q){var $=S.xc;return t((F=$==0?0:S.vc[S.md*(Q>>$)+(F>>$)])<S.Wb),S.Ya[F]}function St(S,F,Q,$){var ie=S.ab,ue=S.c*F,he=S.C;F=he+F;var me=Q,xe=$;for($=S.Ta,Q=S.Ua;0<ie--;){var be=S.gc[ie],_e=he,Ke=F,Ce=me,Le=xe,Ue=(xe=$,me=Q,be.Ea);switch(t(_e<Ke),t(Ke<=be.nc),be.hc){case 2:d(Ce,Le,(Ke-_e)*Ue,xe,me);break;case 0:var Je=_e,Ve=Ke,et=xe,tt=me,ut=(qt=be).Ea;Je==0&&(te(Ce,Le,null,null,1,et,tt),xt(Ce,Le+1,0,0,ut-1,et,tt+1),Le+=ut,tt+=ut,++Je);for(var ot=1<<qt.b,er=ot-1,Qt=Me(ut,qt.b),Tr=qt.K,qt=qt.w+(Je>>qt.b)*Qt;Je<Ve;){var Xr=Tr,Zs=qt,Lr=1;for(c(Ce,Le,et,tt-ut,1,et,tt);Lr<ut;){var Xt=(Lr&~er)+ot;Xt>ut&&(Xt=ut),(0,E[Xr[Zs++]>>8&15])(Ce,Le+ +Lr,et,tt+Lr-ut,Xt-Lr,et,tt+Lr),Lr=Xt}Le+=ut,tt+=ut,++Je&er||(qt+=Qt)}Ke!=be.nc&&n(xe,me-Ue,xe,me+(Ke-_e-1)*Ue,Ue);break;case 1:for(Ue=Ce,Ve=Le,ut=(Ce=be.Ea)-(tt=Ce&~(et=(Le=1<<be.b)-1)),Je=Me(Ce,be.b),ot=be.K,be=be.w+(_e>>be.b)*Je;_e<Ke;){for(er=ot,Qt=be,Tr=new Wt,qt=Ve+tt,Xr=Ve+Ce;Ve<qt;)gt(er[Qt++],Tr),k(Tr,Ue,Ve,Le,xe,me),Ve+=Le,me+=Le;Ve<Xr&&(gt(er[Qt++],Tr),k(Tr,Ue,Ve,ut,xe,me),Ve+=ut,me+=ut),++_e&et||(be+=Je)}break;case 3:if(Ce==xe&&Le==me&&0<be.b){for(Ve=xe,Ce=Ue=me+(Ke-_e)*Ue-(tt=(Ke-_e)*Me(be.Ea,be.b)),Le=xe,et=me,Je=[],tt=(ut=tt)-1;0<=tt;--tt)Je[tt]=Le[et+tt];for(tt=ut-1;0<=tt;--tt)Ve[Ce+tt]=Je[tt];f(be,_e,Ke,xe,Ue,xe,me)}else f(be,_e,Ke,Ce,Le,xe,me)}me=$,xe=Q}xe!=Q&&n($,Q,me,xe,ue)}function Ai(S,F){var Q=S.V,$=S.Ba+S.c*S.C,ie=F-S.C;if(t(F<=S.l.o),t(16>=ie),0<ie){var ue=S.l,he=S.Ta,me=S.Ua,xe=ue.width;if(St(S,ie,Q,$),ie=me=[me],t((Q=S.C)<($=F)),t(ue.v<ue.va),$>ue.o&&($=ue.o),Q<ue.j){var be=ue.j-Q;Q=ue.j,ie[0]+=be*xe}if(Q>=$?Q=0:(ie[0]+=4*ue.v,ue.ka=Q-ue.j,ue.U=ue.va-ue.v,ue.T=$-Q,Q=1),Q){if(me=me[0],11>(Q=S.ca).S){var _e=Q.f.RGBA,Ke=($=Q.S,ie=ue.U,ue=ue.T,be=_e.eb,_e.A),Ce=ue;for(_e=_e.fb+S.Ma*_e.A;0<Ce--;){var Le=he,Ue=me,Je=ie,Ve=be,et=_e;switch($){case R1:P(Le,Ue,Je,Ve,et);break;case M1:z(Le,Ue,Je,Ve,et);break;case Ab:z(Le,Ue,Je,Ve,et),Xd(Ve,et,0,Je,1,0);break;case T6:we(Le,Ue,Je,Ve,et);break;case U1:bt(Le,Ue,Je,Ve,et,1);break;case ub:bt(Le,Ue,Je,Ve,et,1),Xd(Ve,et,0,Je,1,0);break;case Q1:bt(Le,Ue,Je,Ve,et,0);break;case H1:bt(Le,Ue,Je,Ve,et,0),Xd(Ve,et,1,Je,1,0);break;case cb:re(Le,Ue,Je,Ve,et);break;case db:re(Le,Ue,Je,Ve,et),B6(Ve,et,Je,1,0);break;case L6:oe(Le,Ue,Je,Ve,et);break;default:t(0)}me+=xe,_e+=Ke}S.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");t(S.Ma<=Q.height)}}S.C=F,t(S.C<=S.i)}function ui(S){var F;if(0<S.ua)return 0;for(F=0;F<S.Wb;++F){var Q=S.Ya[F].G,$=S.Ya[F].H;if(0<Q[1][$[1]+0].g||0<Q[2][$[2]+0].g||0<Q[3][$[3]+0].g)return 0}return 1}function zn(S,F,Q,$,ie,ue){if(S.Z!=0){var he=S.qd,me=S.rd;for(t(hu[S.Z]!=null);F<Q;++F)hu[S.Z](he,me,$,ie,$,ie,ue),he=$,me=ie,ie+=ue;S.qd=he,S.rd=me}}function ia(S,F){var Q=S.l.ma,$=Q.Z==0||Q.Z==1?S.l.j:S.C;if($=S.C<$?$:S.C,t(F<=S.l.o),F>$){var ie=S.l.width,ue=Q.ca,he=Q.tb+ie*$,me=S.V,xe=S.Ba+S.c*$,be=S.gc;t(S.ab==1),t(be[0].hc==3),x(be[0],$,F,me,xe,ue,he),zn(Q,$,F,ue,he,ie)}S.C=S.Ma=F}function Ma(S,F,Q,$,ie,ue,he){var me=S.$/$,xe=S.$%$,be=S.m,_e=S.s,Ke=Q+S.$,Ce=Ke;ie=Q+$*ie;var Le=Q+$*ue,Ue=280+_e.ua,Je=S.Pb?me:16777216,Ve=0<_e.ua?_e.Wa:null,et=_e.wc,tt=Ke<Le?rn(_e,xe,me):null;t(S.C<ue),t(Le<=ie);var ut=!1;e:for(;;){for(;ut||Ke<Le;){var ot=0;if(me>=Je){var er=Ke-Q;t((Je=S).Pb),Je.wd=Je.m,Je.xd=er,0<Je.s.ua&&Pe(Je.s.Wa,Je.s.vb),Je=me+IK}if(xe&et||(tt=rn(_e,xe,me)),t(tt!=null),tt.Qb&&(F[Ke]=tt.qb,ut=!0),!ut)if(ge(be),tt.jc){ot=be,er=F;var Qt=Ke,Tr=tt.pd[se(ot)&ks-1];t(tt.jc),256>Tr.g?(Ae(ot,ot.u+Tr.g),er[Qt]=Tr.value,ot=0):(Ae(ot,ot.u+Tr.g-256),t(256<=Tr.value),ot=Tr.value),ot==0&&(ut=!0)}else ot=Dr(tt.G[0],tt.H[0],be);if(be.h)break;if(ut||256>ot){if(!ut)if(tt.nd)F[Ke]=(tt.qb|ot<<8)>>>0;else{if(ge(be),ut=Dr(tt.G[1],tt.H[1],be),ge(be),er=Dr(tt.G[2],tt.H[2],be),Qt=Dr(tt.G[3],tt.H[3],be),be.h)break;F[Ke]=(Qt<<24|ut<<16|ot<<8|er)>>>0}if(ut=!1,++Ke,++xe>=$&&(xe=0,++me,he!=null&&me<=ue&&!(me%16)&&he(S,me),Ve!=null))for(;Ce<Ke;)ot=F[Ce++],Ve.X[(506832829*ot&4294967295)>>>Ve.Mb]=ot}else if(280>ot){if(ot=zr(ot-256,be),er=Dr(tt.G[4],tt.H[4],be),ge(be),er=In($,er=zr(er,be)),be.h)break;if(Ke-Q<er||ie-Ke<ot)break e;for(Qt=0;Qt<ot;++Qt)F[Ke+Qt]=F[Ke+Qt-er];for(Ke+=ot,xe+=ot;xe>=$;)xe-=$,++me,he!=null&&me<=ue&&!(me%16)&&he(S,me);if(t(Ke<=ie),xe&et&&(tt=rn(_e,xe,me)),Ve!=null)for(;Ce<Ke;)ot=F[Ce++],Ve.X[(506832829*ot&4294967295)>>>Ve.Mb]=ot}else{if(!(ot<Ue))break e;for(ut=ot-280,t(Ve!=null);Ce<Ke;)ot=F[Ce++],Ve.X[(506832829*ot&4294967295)>>>Ve.Mb]=ot;ot=Ke,t(!(ut>>>(er=Ve).Xa)),F[ot]=er.X[ut],ut=!0}ut||t(be.h==ce(be))}if(S.Pb&&be.h&&Ke<ie)t(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Pe(S.s.vb,S.s.Wa);else{if(be.h)break e;he!=null&&he(S,me>ue?ue:me),S.a=0,S.$=Ke-Q}return 1}return S.a=3,0}function wa(S){t(S!=null),S.vc=null,S.yc=null,S.Ya=null;var F=S.Wa;F!=null&&(F.X=null),S.vb=null,t(S!=null)}function oa(){var S=new Er;return S==null?null:(S.a=0,S.xb=O6,vr("Predictor","VP8LPredictors"),vr("Predictor","VP8LPredictors_C"),vr("PredictorAdd","VP8LPredictorsAdd"),vr("PredictorAdd","VP8LPredictorsAdd_C"),d=It,k=Ot,P=Hr,z=Gt,re=Ge,oe=jt,we=Ht,T.VP8LMapColor32b=g,T.VP8LMapColor8b=v,S)}function Po(S,F,Q,$,ie){var ue=1,he=[S],me=[F],xe=$.m,be=$.s,_e=null,Ke=0;e:for(;;){if(Q)for(;ue&&ne(xe,1);){var Ce=he,Le=me,Ue=$,Je=1,Ve=Ue.m,et=Ue.gc[Ue.ab],tt=ne(Ve,2);if(Ue.Oc&1<<tt)ue=0;else{switch(Ue.Oc|=1<<tt,et.hc=tt,et.Ea=Ce[0],et.nc=Le[0],et.K=[null],++Ue.ab,t(4>=Ue.ab),tt){case 0:case 1:et.b=ne(Ve,3)+2,Je=Po(Me(et.Ea,et.b),Me(et.nc,et.b),0,Ue,et.K),et.K=et.K[0];break;case 3:var ut,ot=ne(Ve,8)+1,er=16<ot?0:4<ot?1:2<ot?2:3;if(Ce[0]=Me(et.Ea,er),et.b=er,ut=Je=Po(ot,1,0,Ue,et.K)){var Qt,Tr=ot,qt=et,Xr=1<<(8>>qt.b),Zs=i(Xr);if(Zs==null)ut=0;else{var Lr=qt.K[0],Xt=qt.w;for(Zs[0]=qt.K[0][0],Qt=1;Qt<1*Tr;++Qt)Zs[Qt]=wt(Lr[Xt+Qt],Zs[Qt-1]);for(;Qt<4*Xr;++Qt)Zs[Qt]=0;qt.K[0]=null,qt.K[0]=Zs,ut=1}}Je=ut;break;case 2:break;default:t(0)}ue=Je}}if(he=he[0],me=me[0],ue&&ne(xe,1)&&!(ue=1<=(Ke=ne(xe,4))&&11>=Ke)){$.a=3;break e}var yt;if(yt=ue)t:{var _s,jr,en,$n=$,Ba=he,di=me,ys=Ke,Ka=Q,hi=$n.m,Js=$n.s,nn=[null],Cn=1,vs=0,Nn=jK[ys];r:for(;;){if(Ka&&ne(hi,1)){var Sa=ne(hi,3)+2,yl=Me(Ba,Sa),Ts=Me(di,Sa),Oi=yl*Ts;if(!Po(yl,Ts,0,$n,nn))break r;for(nn=nn[0],Js.xc=Sa,_s=0;_s<Oi;++_s){var On=nn[_s]>>8&65535;nn[_s]=On,On>=Cn&&(Cn=On+1)}}if(hi.h)break r;for(jr=0;5>jr;++jr){var ea=P6[jr];!jr&&0<ys&&(ea+=1<<ys),vs<ea&&(vs=ea)}var Ao=o(Cn*Nn,J),fi=Cn,uo=o(fi,ee);if(uo==null)var ho=null;else t(65536>=fi),ho=uo;var Ri=i(vs);if(ho==null||Ri==null||Ao==null){$n.a=1;break r}var fo=Ao;for(_s=en=0;_s<Cn;++_s){var Qn=ho[_s],mo=Qn.G,vl=Qn.H,Yd=0,aA=1,Ea=0;for(jr=0;5>jr;++jr){ea=P6[jr],mo[jr]=fo,vl[jr]=en,!jr&&0<ys&&(ea+=1<<ys);s:{var G1,pb=ea,z1=$n,km=Ri,qK=fo,XK=en,gb=0,fu=z1.m,YK=ne(fu,1);if(s(km,0,0,pb),YK){var ZK=ne(fu,1)+1,JK=ne(fu,1),G6=ne(fu,JK==0?1:8);km[G6]=1,ZK==2&&(km[G6=ne(fu,8)]=1);var $1=1}else{var z6=i(19),$6=ne(fu,4)+4;if(19<$6){z1.a=3;var q1=0;break s}for(G1=0;G1<$6;++G1)z6[SK[G1]]=ne(fu,3);var xb=void 0,_m=void 0,q6=z1,eW=z6,X1=pb,X6=km,wb=0,mu=q6.m,Y6=8,Z6=o(128,J);n:for(;V(Z6,0,7,eW,19);){if(ne(mu,1)){var tW=2+2*ne(mu,3);if((xb=2+ne(mu,tW))>X1)break n}else xb=X1;for(_m=0;_m<X1&&xb--;){ge(mu);var J6=Z6[0+(127&se(mu))];Ae(mu,mu.u+J6.g);var yf=J6.value;if(16>yf)X6[_m++]=yf,yf!=0&&(Y6=yf);else{var rW=yf==16,ej=yf-16,nW=NK[ej],tj=ne(mu,CK[ej])+nW;if(_m+tj>X1)break n;for(var sW=rW?Y6:0;0<tj--;)X6[_m++]=sW}}wb=1;break n}wb||(q6.a=3),$1=wb}($1=$1&&!fu.h)&&(gb=V(qK,XK,8,km,pb)),$1&&gb!=0?q1=gb:(z1.a=3,q1=0)}if(q1==0)break r;if(aA&&BK[jr]==1&&(aA=fo[en].g==0),Yd+=fo[en].g,en+=q1,3>=jr){var Tm,yb=Ri[0];for(Tm=1;Tm<ea;++Tm)Ri[Tm]>yb&&(yb=Ri[Tm]);Ea+=yb}}if(Qn.nd=aA,Qn.Qb=0,aA&&(Qn.qb=(mo[3][vl[3]+0].value<<24|mo[1][vl[1]+0].value<<16|mo[2][vl[2]+0].value)>>>0,Yd==0&&256>mo[0][vl[0]+0].value&&(Qn.Qb=1,Qn.qb+=mo[0][vl[0]+0].value<<8)),Qn.jc=!Qn.Qb&&6>Ea,Qn.jc){var Y1,iA=Qn;for(Y1=0;Y1<ks;++Y1){var pu=Y1,gu=iA.pd[pu],Z1=iA.G[0][iA.H[0]+pu];256<=Z1.value?(gu.g=Z1.g+256,gu.value=Z1.value):(gu.g=0,gu.value=0,pu>>=yn(Z1,8,gu),pu>>=yn(iA.G[1][iA.H[1]+pu],16,gu),pu>>=yn(iA.G[2][iA.H[2]+pu],0,gu),yn(iA.G[3][iA.H[3]+pu],24,gu))}}}Js.vc=nn,Js.Wb=Cn,Js.Ya=ho,Js.yc=Ao,yt=1;break t}yt=0}if(!(ue=yt)){$.a=3;break e}if(0<Ke){if(be.ua=1<<Ke,!pe(be.Wa,Ke)){$.a=1,ue=0;break e}}else be.ua=0;var vb=$,rj=he,aW=me,bb=vb.s,Cb=bb.xc;if(vb.c=rj,vb.i=aW,bb.md=Me(rj,Cb),bb.wc=Cb==0?-1:(1<<Cb)-1,Q){$.xb=DK;break e}if((_e=i(he*me))==null){$.a=1,ue=0;break e}ue=(ue=Ma($,_e,0,he,me,me,null))&&!xe.h;break e}return ue?(ie!=null?ie[0]=_e:(t(_e==null),t(Q)),$.$=0,Q||wa(be)):wa(be),ue}function Wc(S,F){var Q=S.c*S.i,$=Q+F+16*F;return t(S.c<=F),S.V=i($),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+Q+F,1)}function ya(S,F){var Q=S.C,$=F-Q,ie=S.V,ue=S.Ba+S.c*Q;for(t(F<=S.l.o);0<$;){var he=16<$?16:$,me=S.l.ma,xe=S.l.width,be=xe*he,_e=me.ca,Ke=me.tb+xe*Q,Ce=S.Ta,Le=S.Ua;St(S,he,ie,ue),E6(Ce,Le,_e,Ke,be),zn(me,Q,Q+he,_e,Ke,xe),$-=he,ie+=he*S.c,Q+=he}t(Q==F),S.C=S.Ma=F}function gs(){this.ub=this.yd=this.td=this.Rb=0}function un(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gf(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function _i(){this.Yb=function(){var S=[];return function F(Q,$,ie){for(var ue=ie[$],he=0;he<ue&&(Q.push(ie.length>$+1?[]:0),!(ie.length<$+1));he++)F(Q[he],$+1,ie)}(S,0,[3,11]),S}()}function ru(){this.jb=i(3),this.Wc=l([4,8],_i),this.Xc=l([4,17],_i)}function nt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ti(){this.ld=this.La=this.dd=this.tc=0}function Fn(){this.Na=this.la=0}function fl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kd(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $r(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ti),this.Y=0,this.ya=Array(new Kd),this.aa=0,this.l=new tc}function Kr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Or(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new gs,this.Kc=new un,this.ed=new nt,this.Qa=new gf,this.Ic=this.$c=this.Aa=0,this.D=new $r,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,U),this.ia=0,this.pb=o(4,fl),this.Pa=new ru,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Kr),this.Hd=0,this.rb=Array(new Fn),this.sb=0,this.wa=Array(new Ti),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kd),this.L=this.aa=0,this.gd=l([4,2],Ti),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function tc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wd(){var S=new Or;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,Im||(Im=ml)),S}function rs(S,F,Q){return S.a==0&&(S.a=F,S.sc=Q,S.cb=0),0}function ns(S,F,Q){return 3<=Q&&S[F+0]==157&&S[F+1]==1&&S[F+2]==42}function so(S,F){if(S==null)return 0;if(S.a=0,S.sc="OK",F==null)return rs(S,2,"null VP8Io passed to VP8GetHeaders()");var Q=F.data,$=F.w,ie=F.ha;if(4>ie)return rs(S,7,"Truncated header.");var ue=Q[$+0]|Q[$+1]<<8|Q[$+2]<<16,he=S.Od;if(he.Rb=!(1&ue),he.td=ue>>1&7,he.yd=ue>>4&1,he.ub=ue>>5,3<he.td)return rs(S,3,"Incorrect keyframe parameters.");if(!he.yd)return rs(S,4,"Frame not displayable.");$+=3,ie-=3;var me=S.Kc;if(he.Rb){if(7>ie)return rs(S,7,"cannot parse picture header");if(!ns(Q,$,ie))return rs(S,3,"Bad code word");me.c=16383&(Q[$+4]<<8|Q[$+3]),me.Td=Q[$+4]>>6,me.i=16383&(Q[$+6]<<8|Q[$+5]),me.Ud=Q[$+6]>>6,$+=7,ie-=7,S.za=me.c+15>>4,S.Ub=me.i+15>>4,F.width=me.c,F.height=me.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,s((ue=S.Pa).jb,0,255,ue.jb.length),t((ue=S.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,s(ue.Zb,0,0,ue.Zb.length),s(ue.Lb,0,0,ue.Lb)}if(he.ub>ie)return rs(S,7,"bad partition length");q(ue=S.m,Q,$,he.ub),$+=he.ub,ie-=he.ub,he.Rb&&(me.Ld=je(ue),me.Kd=je(ue)),me=S.Qa;var xe,be=S.Pa;if(t(ue!=null),t(me!=null),me.Cb=je(ue),me.Cb){if(me.Bb=je(ue),je(ue)){for(me.Fb=je(ue),xe=0;4>xe;++xe)me.Zb[xe]=je(ue)?X(ue,7):0;for(xe=0;4>xe;++xe)me.Lb[xe]=je(ue)?X(ue,6):0}if(me.Bb)for(xe=0;3>xe;++xe)be.jb[xe]=je(ue)?W(ue,8):255}else me.Bb=0;if(ue.Ka)return rs(S,3,"cannot parse segment header");if((me=S.ed).zd=je(ue),me.Tb=W(ue,6),me.wb=W(ue,3),me.Pc=je(ue),me.Pc&&je(ue)){for(be=0;4>be;++be)je(ue)&&(me.vd[be]=X(ue,6));for(be=0;4>be;++be)je(ue)&&(me.od[be]=X(ue,6))}if(S.L=me.Tb==0?0:me.zd?1:2,ue.Ka)return rs(S,3,"cannot parse filter header");var _e=ie;if(ie=xe=$,$=xe+_e,me=_e,S.Xb=(1<<W(S.m,2))-1,_e<3*(be=S.Xb))Q=7;else{for(xe+=3*be,me-=3*be,_e=0;_e<be;++_e){var Ke=Q[ie+0]|Q[ie+1]<<8|Q[ie+2]<<16;Ke>me&&(Ke=me),q(S.Jc[+_e],Q,xe,Ke),xe+=Ke,me-=Ke,ie+=3}q(S.Jc[+be],Q,xe,me),Q=xe<$?0:5}if(Q!=0)return rs(S,Q,"cannot parse partitions");for(Q=W(xe=S.m,7),ie=je(xe)?X(xe,4):0,$=je(xe)?X(xe,4):0,me=je(xe)?X(xe,4):0,be=je(xe)?X(xe,4):0,xe=je(xe)?X(xe,4):0,_e=S.Qa,Ke=0;4>Ke;++Ke){if(_e.Cb){var Ce=_e.Zb[Ke];_e.Fb||(Ce+=Q)}else{if(0<Ke){S.pb[Ke]=S.pb[0];continue}Ce=Q}var Le=S.pb[Ke];Le.Sc[0]=hb[Tn(Ce+ie,127)],Le.Sc[1]=fb[Tn(Ce+0,127)],Le.Eb[0]=2*hb[Tn(Ce+$,127)],Le.Eb[1]=101581*fb[Tn(Ce+me,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=hb[Tn(Ce+be,117)],Le.Qc[1]=fb[Tn(Ce+xe,127)],Le.lc=Ce+xe}if(!he.Rb)return rs(S,4,"Not a key frame.");for(je(ue),he=S.Pa,Q=0;4>Q;++Q){for(ie=0;8>ie;++ie)for($=0;3>$;++$)for(me=0;11>me;++me)be=ke(ue,LK[Q][ie][$][me])?W(ue,8):_K[Q][ie][$][me],he.Wc[Q][ie].Yb[$][me]=be;for(ie=0;17>ie;++ie)he.Xc[Q][ie]=he.Wc[Q][PK[ie]]}return S.kc=je(ue),S.kc&&(S.Bd=W(ue,8)),S.cb=1}function ml(S,F,Q,$,ie,ue,he){var me=F[ie].Yb[Q];for(Q=0;16>ie;++ie){if(!ke(S,me[Q+0]))return ie;for(;!ke(S,me[Q+1]);)if(me=F[++ie].Yb[0],Q=0,ie==16)return 16;var xe=F[ie+1].Yb;if(ke(S,me[Q+2])){var be=S,_e=0;if(ke(be,(Ce=me)[(Ke=Q)+3]))if(ke(be,Ce[Ke+6])){for(me=0,Ke=2*(_e=ke(be,Ce[Ke+8]))+(Ce=ke(be,Ce[Ke+9+_e])),_e=0,Ce=FK[Ke];Ce[me];++me)_e+=_e+ke(be,Ce[me]);_e+=3+(8<<Ke)}else ke(be,Ce[Ke+7])?(_e=7+2*ke(be,165),_e+=ke(be,145)):_e=5+ke(be,159);else _e=ke(be,Ce[Ke+4])?3+ke(be,Ce[Ke+5]):2;me=xe[2]}else _e=1,me=xe[1];xe=he+kK[ie],0>(be=S).b&&fe(be);var Ke,Ce=be.b,Le=(Ke=be.Ca>>1)-(be.I>>Ce)>>31;--be.b,be.Ca+=Le,be.Ca|=1,be.I-=(Ke+1&Le)<<Ce,ue[xe]=((_e^Le)-Le)*$[(0<ie)+0]}return 16}function vn(S){var F=S.rb[S.sb-1];F.la=0,F.Na=0,s(S.zc,0,0,S.zc.length),S.ja=0}function Vs(S,F,Q,$,ie){ie=S[F+Q+32*$]+(ie>>3),S[F+Q+32*$]=-256&ie?0>ie?0:255:ie}function Gc(S,F,Q,$,ie,ue){Vs(S,F,0,Q,$+ie),Vs(S,F,1,Q,$+ue),Vs(S,F,2,Q,$-ue),Vs(S,F,3,Q,$-ie)}function kn(S){return(20091*S>>16)+S}function An(S,F,Q,$){var ie,ue=0,he=i(16);for(ie=0;4>ie;++ie){var me=S[F+0]+S[F+8],xe=S[F+0]-S[F+8],be=(35468*S[F+4]>>16)-kn(S[F+12]),_e=kn(S[F+4])+(35468*S[F+12]>>16);he[ue+0]=me+_e,he[ue+1]=xe+be,he[ue+2]=xe-be,he[ue+3]=me-_e,ue+=4,F++}for(ie=ue=0;4>ie;++ie)me=(S=he[ue+0]+4)+he[ue+8],xe=S-he[ue+8],be=(35468*he[ue+4]>>16)-kn(he[ue+12]),Vs(Q,$,0,0,me+(_e=kn(he[ue+4])+(35468*he[ue+12]>>16))),Vs(Q,$,1,0,xe+be),Vs(Q,$,2,0,xe-be),Vs(Q,$,3,0,me-_e),ue++,$+=32}function Ks(S,F,Q,$){var ie=S[F+0]+4,ue=35468*S[F+4]>>16,he=kn(S[F+4]),me=35468*S[F+1]>>16;Gc(Q,$,0,ie+he,S=kn(S[F+1]),me),Gc(Q,$,1,ie+ue,S,me),Gc(Q,$,2,ie-ue,S,me),Gc(Q,$,3,ie-he,S,me)}function He(S,F,Q,$,ie){An(S,F,Q,$),ie&&An(S,F+16,Q,$+4)}function ye(S,F,Q,$){Se(S,F+0,Q,$,1),Se(S,F+32,Q,$+128,1)}function Lt(S,F,Q,$){var ie;for(S=S[F+0]+4,ie=0;4>ie;++ie)for(F=0;4>F;++F)Vs(Q,$,F,ie,S)}function cs(S,F,Q,$){S[F+0]&&ct(S,F+0,Q,$),S[F+16]&&ct(S,F+16,Q,$+4),S[F+32]&&ct(S,F+32,Q,$+128),S[F+48]&&ct(S,F+48,Q,$+128+4)}function va(S,F,Q,$){var ie,ue=i(16);for(ie=0;4>ie;++ie){var he=S[F+0+ie]+S[F+12+ie],me=S[F+4+ie]+S[F+8+ie],xe=S[F+4+ie]-S[F+8+ie],be=S[F+0+ie]-S[F+12+ie];ue[0+ie]=he+me,ue[8+ie]=he-me,ue[4+ie]=be+xe,ue[12+ie]=be-xe}for(ie=0;4>ie;++ie)he=(S=ue[0+4*ie]+3)+ue[3+4*ie],me=ue[1+4*ie]+ue[2+4*ie],xe=ue[1+4*ie]-ue[2+4*ie],be=S-ue[3+4*ie],Q[$+0]=he+me>>3,Q[$+16]=be+xe>>3,Q[$+32]=he-me>>3,Q[$+48]=be-xe>>3,$+=64}function rc(S,F,Q){var $,ie=F-32,ue=co,he=255-S[ie-1];for($=0;$<Q;++$){var me,xe=ue,be=he+S[F-1];for(me=0;me<Q;++me)S[F+me]=xe[be+S[ie+me]];F+=32}}function zc(S,F){rc(S,F,4)}function Ua(S,F){rc(S,F,8)}function rr(S,F){rc(S,F,16)}function Pn(S,F){var Q;for(Q=0;16>Q;++Q)n(S,F+32*Q,S,F-32,16)}function nu(S,F){var Q;for(Q=16;0<Q;--Q)s(S,F,S[F-1],16),F+=32}function $c(S,F,Q){var $;for($=0;16>$;++$)s(F,Q+32*$,S,16)}function Do(S,F){var Q,$=16;for(Q=0;16>Q;++Q)$+=S[F-1+32*Q]+S[F+Q-32];$c($>>5,S,F)}function su(S,F){var Q,$=8;for(Q=0;16>Q;++Q)$+=S[F-1+32*Q];$c($>>4,S,F)}function pl(S,F){var Q,$=8;for(Q=0;16>Q;++Q)$+=S[F+Q-32];$c($>>4,S,F)}function Gd(S,F){$c(128,S,F)}function Vt(S,F,Q){return S+2*F+Q+2>>2}function qc(S,F){var Q,$=F-32;for($=new Uint8Array([Vt(S[$-1],S[$+0],S[$+1]),Vt(S[$+0],S[$+1],S[$+2]),Vt(S[$+1],S[$+2],S[$+3]),Vt(S[$+2],S[$+3],S[$+4])]),Q=0;4>Q;++Q)n(S,F+32*Q,$,0,$.length)}function Oo(S,F){var Q=S[F-1],$=S[F-1+32],ie=S[F-1+64],ue=S[F-1+96];Te(S,F+0,16843009*Vt(S[F-1-32],Q,$)),Te(S,F+32,16843009*Vt(Q,$,ie)),Te(S,F+64,16843009*Vt($,ie,ue)),Te(S,F+96,16843009*Vt(ie,ue,ue))}function lr(S,F){var Q,$=4;for(Q=0;4>Q;++Q)$+=S[F+Q-32]+S[F-1+32*Q];for($>>=3,Q=0;4>Q;++Q)s(S,F+32*Q,$,4)}function Em(S,F){var Q=S[F-1+0],$=S[F-1+32],ie=S[F-1+64],ue=S[F-1-32],he=S[F+0-32],me=S[F+1-32],xe=S[F+2-32],be=S[F+3-32];S[F+0+96]=Vt($,ie,S[F-1+96]),S[F+1+96]=S[F+0+64]=Vt(Q,$,ie),S[F+2+96]=S[F+1+64]=S[F+0+32]=Vt(ue,Q,$),S[F+3+96]=S[F+2+64]=S[F+1+32]=S[F+0+0]=Vt(he,ue,Q),S[F+3+64]=S[F+2+32]=S[F+1+0]=Vt(me,he,ue),S[F+3+32]=S[F+2+0]=Vt(xe,me,he),S[F+3+0]=Vt(be,xe,me)}function fr(S,F){var Q=S[F+1-32],$=S[F+2-32],ie=S[F+3-32],ue=S[F+4-32],he=S[F+5-32],me=S[F+6-32],xe=S[F+7-32];S[F+0+0]=Vt(S[F+0-32],Q,$),S[F+1+0]=S[F+0+32]=Vt(Q,$,ie),S[F+2+0]=S[F+1+32]=S[F+0+64]=Vt($,ie,ue),S[F+3+0]=S[F+2+32]=S[F+1+64]=S[F+0+96]=Vt(ie,ue,he),S[F+3+32]=S[F+2+64]=S[F+1+96]=Vt(ue,he,me),S[F+3+64]=S[F+2+96]=Vt(he,me,xe),S[F+3+96]=Vt(me,xe,xe)}function Dn(S,F){var Q=S[F-1+0],$=S[F-1+32],ie=S[F-1+64],ue=S[F-1-32],he=S[F+0-32],me=S[F+1-32],xe=S[F+2-32],be=S[F+3-32];S[F+0+0]=S[F+1+64]=ue+he+1>>1,S[F+1+0]=S[F+2+64]=he+me+1>>1,S[F+2+0]=S[F+3+64]=me+xe+1>>1,S[F+3+0]=xe+be+1>>1,S[F+0+96]=Vt(ie,$,Q),S[F+0+64]=Vt($,Q,ue),S[F+0+32]=S[F+1+96]=Vt(Q,ue,he),S[F+1+32]=S[F+2+96]=Vt(ue,he,me),S[F+2+32]=S[F+3+96]=Vt(he,me,xe),S[F+3+32]=Vt(me,xe,be)}function jm(S,F){var Q=S[F+0-32],$=S[F+1-32],ie=S[F+2-32],ue=S[F+3-32],he=S[F+4-32],me=S[F+5-32],xe=S[F+6-32],be=S[F+7-32];S[F+0+0]=Q+$+1>>1,S[F+1+0]=S[F+0+64]=$+ie+1>>1,S[F+2+0]=S[F+1+64]=ie+ue+1>>1,S[F+3+0]=S[F+2+64]=ue+he+1>>1,S[F+0+32]=Vt(Q,$,ie),S[F+1+32]=S[F+0+96]=Vt($,ie,ue),S[F+2+32]=S[F+1+96]=Vt(ie,ue,he),S[F+3+32]=S[F+2+96]=Vt(ue,he,me),S[F+3+64]=Vt(he,me,xe),S[F+3+96]=Vt(me,xe,be)}function zd(S,F){var Q=S[F-1+0],$=S[F-1+32],ie=S[F-1+64],ue=S[F-1+96];S[F+0+0]=Q+$+1>>1,S[F+2+0]=S[F+0+32]=$+ie+1>>1,S[F+2+32]=S[F+0+64]=ie+ue+1>>1,S[F+1+0]=Vt(Q,$,ie),S[F+3+0]=S[F+1+32]=Vt($,ie,ue),S[F+3+32]=S[F+1+64]=Vt(ie,ue,ue),S[F+3+64]=S[F+2+64]=S[F+0+96]=S[F+1+96]=S[F+2+96]=S[F+3+96]=ue}function Xc(S,F){var Q=S[F-1+0],$=S[F-1+32],ie=S[F-1+64],ue=S[F-1+96],he=S[F-1-32],me=S[F+0-32],xe=S[F+1-32],be=S[F+2-32];S[F+0+0]=S[F+2+32]=Q+he+1>>1,S[F+0+32]=S[F+2+64]=$+Q+1>>1,S[F+0+64]=S[F+2+96]=ie+$+1>>1,S[F+0+96]=ue+ie+1>>1,S[F+3+0]=Vt(me,xe,be),S[F+2+0]=Vt(he,me,xe),S[F+1+0]=S[F+3+32]=Vt(Q,he,me),S[F+1+32]=S[F+3+64]=Vt($,Q,he),S[F+1+64]=S[F+3+96]=Vt(ie,$,Q),S[F+1+96]=Vt(ue,ie,$)}function ao(S,F){var Q;for(Q=0;8>Q;++Q)n(S,F+32*Q,S,F-32,8)}function Yc(S,F){var Q;for(Q=0;8>Q;++Q)s(S,F,S[F-1],8),F+=32}function Ro(S,F,Q){var $;for($=0;8>$;++$)s(F,Q+32*$,S,8)}function Mo(S,F){var Q,$=8;for(Q=0;8>Q;++Q)$+=S[F+Q-32]+S[F-1+32*Q];Ro($>>4,S,F)}function Zc(S,F){var Q,$=4;for(Q=0;8>Q;++Q)$+=S[F+Q-32];Ro($>>3,S,F)}function au(S,F){var Q,$=4;for(Q=0;8>Q;++Q)$+=S[F-1+32*Q];Ro($>>3,S,F)}function gl(S,F){Ro(128,S,F)}function io(S,F,Q){var $=S[F-Q],ie=S[F+0],ue=3*(ie-$)+lb[1020+S[F-2*Q]-S[F+Q]],he=O1[112+(ue+4>>3)];S[F-Q]=co[255+$+O1[112+(ue+3>>3)]],S[F+0]=co[255+ie-he]}function xs(S,F,Q,$){var ie=S[F+0],ue=S[F+Q];return Wo[255+S[F-2*Q]-S[F-Q]]>$||Wo[255+ue-ie]>$}function iu(S,F,Q,$){return 4*Wo[255+S[F-Q]-S[F+0]]+Wo[255+S[F-2*Q]-S[F+Q]]<=$}function Jc(S,F,Q,$,ie){var ue=S[F-3*Q],he=S[F-2*Q],me=S[F-Q],xe=S[F+0],be=S[F+Q],_e=S[F+2*Q],Ke=S[F+3*Q];return 4*Wo[255+me-xe]+Wo[255+he-be]>$?0:Wo[255+S[F-4*Q]-ue]<=ie&&Wo[255+ue-he]<=ie&&Wo[255+he-me]<=ie&&Wo[255+Ke-_e]<=ie&&Wo[255+_e-be]<=ie&&Wo[255+be-xe]<=ie}function ou(S,F,Q,$){var ie=2*$+1;for($=0;16>$;++$)iu(S,F+$,Q,ie)&&io(S,F+$,Q)}function eA(S,F,Q,$){var ie=2*$+1;for($=0;16>$;++$)iu(S,F+$*Q,1,ie)&&io(S,F+$*Q,1)}function $d(S,F,Q,$){var ie;for(ie=3;0<ie;--ie)ou(S,F+=4*Q,Q,$)}function qd(S,F,Q,$){var ie;for(ie=3;0<ie;--ie)eA(S,F+=4,Q,$)}function Fr(S,F,Q,$,ie,ue,he,me){for(ue=2*ue+1;0<ie--;){if(Jc(S,F,Q,ue,he))if(xs(S,F,Q,me))io(S,F,Q);else{var xe=S,be=F,_e=Q,Ke=xe[be-2*_e],Ce=xe[be-_e],Le=xe[be+0],Ue=xe[be+_e],Je=xe[be+2*_e],Ve=27*(tt=lb[1020+3*(Le-Ce)+lb[1020+Ke-Ue]])+63>>7,et=18*tt+63>>7,tt=9*tt+63>>7;xe[be-3*_e]=co[255+xe[be-3*_e]+tt],xe[be-2*_e]=co[255+Ke+et],xe[be-_e]=co[255+Ce+Ve],xe[be+0]=co[255+Le-Ve],xe[be+_e]=co[255+Ue-et],xe[be+2*_e]=co[255+Je-tt]}F+=$}}function oo(S,F,Q,$,ie,ue,he,me){for(ue=2*ue+1;0<ie--;){if(Jc(S,F,Q,ue,he))if(xs(S,F,Q,me))io(S,F,Q);else{var xe=S,be=F,_e=Q,Ke=xe[be-_e],Ce=xe[be+0],Le=xe[be+_e],Ue=O1[112+(4+(Je=3*(Ce-Ke))>>3)],Je=O1[112+(Je+3>>3)],Ve=Ue+1>>1;xe[be-2*_e]=co[255+xe[be-2*_e]+Ve],xe[be-_e]=co[255+Ke+Je],xe[be+0]=co[255+Ce-Ue],xe[be+_e]=co[255+Le-Ve]}F+=$}}function R(S,F,Q,$,ie,ue){Fr(S,F,Q,1,16,$,ie,ue)}function ae(S,F,Q,$,ie,ue){Fr(S,F,1,Q,16,$,ie,ue)}function ve(S,F,Q,$,ie,ue){var he;for(he=3;0<he;--he)oo(S,F+=4*Q,Q,1,16,$,ie,ue)}function de(S,F,Q,$,ie,ue){var he;for(he=3;0<he;--he)oo(S,F+=4,1,Q,16,$,ie,ue)}function Ie(S,F,Q,$,ie,ue,he,me){Fr(S,F,ie,1,8,ue,he,me),Fr(Q,$,ie,1,8,ue,he,me)}function Xe(S,F,Q,$,ie,ue,he,me){Fr(S,F,1,ie,8,ue,he,me),Fr(Q,$,1,ie,8,ue,he,me)}function st(S,F,Q,$,ie,ue,he,me){oo(S,F+4*ie,ie,1,8,ue,he,me),oo(Q,$+4*ie,ie,1,8,ue,he,me)}function Rt(S,F,Q,$,ie,ue,he,me){oo(S,F+4,1,ie,8,ue,he,me),oo(Q,$+4,1,ie,8,ue,he,me)}function zt(){this.ba=new Bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ir,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Br(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function qr(){this.ua=0,this.Wa=new rt,this.vb=new rt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new J}function Er(){this.xb=this.a=0,this.l=new tc,this.ca=new Bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new qr,this.ab=0,this.gc=o(4,Br),this.Oc=0}function ss(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ur(S,F,Q,$,ie,ue,he){for(S=S==null?0:S[F+0],F=0;F<he;++F)ie[ue+F]=S+Q[$+F]&255,S=ie[ue+F]}function as(S,F,Q,$,ie,ue,he){var me;if(S==null)ur(null,null,Q,$,ie,ue,he);else for(me=0;me<he;++me)ie[ue+me]=S[F+me]+Q[$+me]&255}function _n(S,F,Q,$,ie,ue,he){if(S==null)ur(null,null,Q,$,ie,ue,he);else{var me,xe=S[F+0],be=xe,_e=xe;for(me=0;me<he;++me)be=_e+(xe=S[F+me])-be,_e=Q[$+me]+(-256&be?0>be?0:255:be)&255,be=xe,ie[ue+me]=_e}}function br(S,F,Q,$){var ie=F.width,ue=F.o;if(t(S!=null&&F!=null),0>Q||0>=$||Q+$>ue)return null;if(!S.Cc){if(S.ga==null){var he;if(S.ga=new ss,(he=S.ga==null)||(he=F.width*F.o,t(S.Gb.length==0),S.Gb=i(he),S.Uc=0,S.Gb==null?he=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,he=1),he=!he),!he){he=S.ga;var me=S.Fa,xe=S.P,be=S.qc,_e=S.mb,Ke=S.nb,Ce=xe+1,Le=be-1,Ue=he.l;if(t(me!=null&&_e!=null&&F!=null),hu[0]=null,hu[1]=ur,hu[2]=as,hu[3]=_n,he.ca=_e,he.tb=Ke,he.c=F.width,he.i=F.height,t(0<he.c&&0<he.i),1>=be)F=0;else if(he.$a=3&me[xe+0],he.Z=me[xe+0]>>2&3,he.Lc=me[xe+0]>>4&3,xe=me[xe+0]>>6&3,0>he.$a||1<he.$a||4<=he.Z||1<he.Lc||xe)F=0;else if(Ue.put=Ft,Ue.ac=ln,Ue.bc=cn,Ue.ma=he,Ue.width=F.width,Ue.height=F.height,Ue.Da=F.Da,Ue.v=F.v,Ue.va=F.va,Ue.j=F.j,Ue.o=F.o,he.$a)e:{t(he.$a==1),F=oa();t:for(;;){if(F==null){F=0;break e}if(t(he!=null),he.mc=F,F.c=he.c,F.i=he.i,F.l=he.l,F.l.ma=he,F.l.width=he.c,F.l.height=he.i,F.a=0,K(F.m,me,Ce,Le),!Po(he.c,he.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&ui(F.s)?(he.ic=1,me=F.c*F.i,F.Ta=null,F.Ua=0,F.V=i(me),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(he.ic=0,F=Wc(F,he.c)),!F))break t;F=1;break e}he.mc=null,F=0}else F=Le>=he.c*he.i;he=!F}if(he)return null;S.ga.Lc!=1?S.Ga=0:$=ue-Q}t(S.ga!=null),t(Q+$<=ue);e:{if(F=(me=S.ga).c,ue=me.l.o,me.$a==0){if(Ce=S.rc,Le=S.Vc,Ue=S.Fa,xe=S.P+1+Q*F,be=S.mb,_e=S.nb+Q*F,t(xe<=S.P+S.qc),me.Z!=0)for(t(hu[me.Z]!=null),he=0;he<$;++he)hu[me.Z](Ce,Le,Ue,xe,be,_e,F),Ce=be,Le=_e,_e+=F,xe+=F;else for(he=0;he<$;++he)n(be,_e,Ue,xe,F),Ce=be,Le=_e,_e+=F,xe+=F;S.rc=Ce,S.Vc=Le}else{if(t(me.mc!=null),F=Q+$,t((he=me.mc)!=null),t(F<=he.i),he.C>=F)F=1;else if(me.ic||Li(),me.ic){me=he.V,Ce=he.Ba,Le=he.c;var Je=he.i,Ve=(Ue=1,xe=he.$/Le,be=he.$%Le,_e=he.m,Ke=he.s,he.$),et=Le*Je,tt=Le*F,ut=Ke.wc,ot=Ve<tt?rn(Ke,be,xe):null;t(Ve<=et),t(F<=Je),t(ui(Ke));t:for(;;){for(;!_e.h&&Ve<tt;){if(be&ut||(ot=rn(Ke,be,xe)),t(ot!=null),ge(_e),256>(Je=Dr(ot.G[0],ot.H[0],_e)))me[Ce+Ve]=Je,++Ve,++be>=Le&&(be=0,++xe<=F&&!(xe%16)&&ia(he,xe));else{if(!(280>Je)){Ue=0;break t}Je=zr(Je-256,_e);var er,Qt=Dr(ot.G[4],ot.H[4],_e);if(ge(_e),!(Ve>=(Qt=In(Le,Qt=zr(Qt,_e)))&&et-Ve>=Je)){Ue=0;break t}for(er=0;er<Je;++er)me[Ce+Ve+er]=me[Ce+Ve+er-Qt];for(Ve+=Je,be+=Je;be>=Le;)be-=Le,++xe<=F&&!(xe%16)&&ia(he,xe);Ve<tt&&be&ut&&(ot=rn(Ke,be,xe))}t(_e.h==ce(_e))}ia(he,xe>F?F:xe);break t}!Ue||_e.h&&Ve<et?(Ue=0,he.a=_e.h?5:3):he.$=Ve,F=Ue}else F=Ma(he,he.V,he.Ba,he.c,he.i,F,ya);if(!F){$=0;break e}}Q+$>=ue&&(S.Cc=1),$=1}if(!$)return null;if(S.Cc&&(($=S.ga)!=null&&($.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+Q*ie}function $t(S,F,Q,$,ie,ue){for(;0<ie--;){var he,me=S,xe=F+(Q?1:0),be=S,_e=F+(Q?0:3);for(he=0;he<$;++he){var Ke=be[_e+4*he];Ke!=255&&(Ke*=32897,me[xe+4*he+0]=me[xe+4*he+0]*Ke>>23,me[xe+4*he+1]=me[xe+4*he+1]*Ke>>23,me[xe+4*he+2]=me[xe+4*he+2]*Ke>>23)}F+=ue}}function nc(S,F,Q,$,ie){for(;0<$--;){var ue;for(ue=0;ue<Q;++ue){var he=S[F+2*ue+0],me=15&(be=S[F+2*ue+1]),xe=4369*me,be=(240&be|be>>4)*xe>>16;S[F+2*ue+0]=(240&he|he>>4)*xe>>16&240|(15&he|he<<4)*xe>>16>>4&15,S[F+2*ue+1]=240&be|me}F+=ie}}function bn(S,F,Q,$,ie,ue,he,me){var xe,be,_e=255;for(be=0;be<ie;++be){for(xe=0;xe<$;++xe){var Ke=S[F+xe];ue[he+4*xe]=Ke,_e&=Ke}F+=Q,he+=me}return _e!=255}function Uo(S,F,Q,$,ie){var ue;for(ue=0;ue<ie;++ue)Q[$+ue]=S[F+ue]>>8}function Li(){Xd=$t,B6=nc,S6=bn,E6=Uo}function lo(S,F,Q){T[S]=function($,ie,ue,he,me,xe,be,_e,Ke,Ce,Le,Ue,Je,Ve,et,tt,ut){var ot,er=ut-1>>1,Qt=me[xe+0]|be[_e+0]<<16,Tr=Ke[Ce+0]|Le[Ue+0]<<16;t($!=null);var qt=3*Qt+Tr+131074>>2;for(F($[ie+0],255&qt,qt>>16,Je,Ve),ue!=null&&(qt=3*Tr+Qt+131074>>2,F(ue[he+0],255&qt,qt>>16,et,tt)),ot=1;ot<=er;++ot){var Xr=me[xe+ot]|be[_e+ot]<<16,Zs=Ke[Ce+ot]|Le[Ue+ot]<<16,Lr=Qt+Xr+Tr+Zs+524296,Xt=Lr+2*(Xr+Tr)>>3;qt=Xt+Qt>>1,Qt=(Lr=Lr+2*(Qt+Zs)>>3)+Xr>>1,F($[ie+2*ot-1],255&qt,qt>>16,Je,Ve+(2*ot-1)*Q),F($[ie+2*ot-0],255&Qt,Qt>>16,Je,Ve+(2*ot-0)*Q),ue!=null&&(qt=Lr+Tr>>1,Qt=Xt+Zs>>1,F(ue[he+2*ot-1],255&qt,qt>>16,et,tt+(2*ot-1)*Q),F(ue[he+2*ot+0],255&Qt,Qt>>16,et,tt+(2*ot+0)*Q)),Qt=Xr,Tr=Zs}1&ut||(qt=3*Qt+Tr+131074>>2,F($[ie+ut-1],255&qt,qt>>16,Je,Ve+(ut-1)*Q),ue!=null&&(qt=3*Tr+Qt+131074>>2,F(ue[he+ut-1],255&qt,qt>>16,et,tt+(ut-1)*Q)))}}function Qa(){Go[R1]=OK,Go[M1]=R6,Go[T6]=RK,Go[U1]=M6,Go[Q1]=U6,Go[cb]=Q6,Go[L6]=MK,Go[Ab]=R6,Go[ub]=M6,Go[H1]=U6,Go[db]=Q6}function sc(S){return S&~UK?0>S?0:255:S>>H6}function xl(S,F){return sc((19077*S>>8)+(26149*F>>8)-14234)}function ws(S,F,Q){return sc((19077*S>>8)-(6419*F>>8)-(13320*Q>>8)+8708)}function Qo(S,F){return sc((19077*S>>8)+(33050*F>>8)-17685)}function Ho(S,F,Q,$,ie){$[ie+0]=xl(S,Q),$[ie+1]=ws(S,F,Q),$[ie+2]=Qo(S,F)}function lu(S,F,Q,$,ie){$[ie+0]=Qo(S,F),$[ie+1]=ws(S,F,Q),$[ie+2]=xl(S,Q)}function Vo(S,F,Q,$,ie){var ue=ws(S,F,Q);F=ue<<3&224|Qo(S,F)>>3,$[ie+0]=248&xl(S,Q)|ue>>5,$[ie+1]=F}function Xs(S,F,Q,$,ie){var ue=240&Qo(S,F)|15;$[ie+0]=240&xl(S,Q)|ws(S,F,Q)>>4,$[ie+1]=ue}function xf(S,F,Q,$,ie){$[ie+0]=255,Ho(S,F,Q,$,ie+1)}function Ko(S,F,Q,$,ie){lu(S,F,Q,$,ie),$[ie+3]=255}function wf(S,F,Q,$,ie){Ho(S,F,Q,$,ie),$[ie+3]=255}function Tn(S,F){return 0>S?0:S>F?F:S}function ba(S,F,Q){T[S]=function($,ie,ue,he,me,xe,be,_e,Ke){for(var Ce=_e+(-2&Ke)*Q;_e!=Ce;)F($[ie+0],ue[he+0],me[xe+0],be,_e),F($[ie+1],ue[he+0],me[xe+0],be,_e+Q),ie+=2,++he,++xe,_e+=2*Q;1&Ke&&F($[ie+0],ue[he+0],me[xe+0],be,_e)}}function la(S,F,Q){return Q==0?S==0?F==0?6:5:F==0?4:0:Q}function cu(S,F,Q,$,ie){switch(S>>>30){case 3:Se(F,Q,$,ie,0);break;case 2:Oe(F,Q,$,ie);break;case 1:ct(F,Q,$,ie)}}function Ys(S,F){var Q,$,ie=F.M,ue=F.Nb,he=S.oc,me=S.pc+40,xe=S.oc,be=S.pc+584,_e=S.oc,Ke=S.pc+600;for(Q=0;16>Q;++Q)he[me+32*Q-1]=129;for(Q=0;8>Q;++Q)xe[be+32*Q-1]=129,_e[Ke+32*Q-1]=129;for(0<ie?he[me-1-32]=xe[be-1-32]=_e[Ke-1-32]=129:(s(he,me-32-1,127,21),s(xe,be-32-1,127,9),s(_e,Ke-32-1,127,9)),$=0;$<S.za;++$){var Ce=F.ya[F.aa+$];if(0<$){for(Q=-1;16>Q;++Q)n(he,me+32*Q-4,he,me+32*Q+12,4);for(Q=-1;8>Q;++Q)n(xe,be+32*Q-4,xe,be+32*Q+4,4),n(_e,Ke+32*Q-4,_e,Ke+32*Q+4,4)}var Le=S.Gd,Ue=S.Hd+$,Je=Ce.ad,Ve=Ce.Hc;if(0<ie&&(n(he,me-32,Le[Ue].y,0,16),n(xe,be-32,Le[Ue].f,0,8),n(_e,Ke-32,Le[Ue].ea,0,8)),Ce.Za){var et=he,tt=me-32+16;for(0<ie&&($>=S.za-1?s(et,tt,Le[Ue].y[15],4):n(et,tt,Le[Ue+1].y,0,4)),Q=0;4>Q;Q++)et[tt+128+Q]=et[tt+256+Q]=et[tt+384+Q]=et[tt+0+Q];for(Q=0;16>Q;++Q,Ve<<=2)et=he,tt=me+K6[Q],wl[Ce.Ob[Q]](et,tt),cu(Ve,Je,16*+Q,et,tt)}else if(et=la($,ie,Ce.Ob[0]),du[et](he,me),Ve!=0)for(Q=0;16>Q;++Q,Ve<<=2)cu(Ve,Je,16*+Q,he,me+K6[Q]);for(Q=Ce.Gc,et=la($,ie,Ce.Dd),sA[et](xe,be),sA[et](_e,Ke),Ve=Je,et=xe,tt=be,255&(Ce=0|Q)&&(170&Ce?$e(Ve,256,et,tt):ht(Ve,256,et,tt)),Ce=_e,Ve=Ke,255&(Q>>=8)&&(170&Q?$e(Je,320,Ce,Ve):ht(Je,320,Ce,Ve)),ie<S.Ub-1&&(n(Le[Ue].y,0,he,me+480,16),n(Le[Ue].f,0,xe,be+224,8),n(Le[Ue].ea,0,_e,Ke+224,8)),Q=8*ue*S.B,Le=S.sa,Ue=S.ta+16*$+16*ue*S.R,Je=S.qa,Ce=S.ra+8*$+Q,Ve=S.Ha,et=S.Ia+8*$+Q,Q=0;16>Q;++Q)n(Le,Ue+Q*S.R,he,me+32*Q,16);for(Q=0;8>Q;++Q)n(Je,Ce+Q*S.B,xe,be+32*Q,8),n(Ve,et+Q*S.B,_e,Ke+32*Q,8)}}function Au(S,F,Q,$,ie,ue,he,me,xe){var be=[0],_e=[0],Ke=0,Ce=xe!=null?xe.kd:0,Le=xe??new pr;if(S==null||12>Q)return 7;Le.data=S,Le.w=F,Le.ha=Q,F=[F],Q=[Q],Le.gb=[Le.gb];e:{var Ue=F,Je=Q,Ve=Le.gb;if(t(S!=null),t(Je!=null),t(Ve!=null),Ve[0]=0,12<=Je[0]&&!r(S,Ue[0],"RIFF")){if(r(S,Ue[0]+8,"WEBP")){Ve=3;break e}var et=Ne(S,Ue[0]+4);if(12>et||4294967286<et){Ve=3;break e}if(Ce&&et>Je[0]-8){Ve=7;break e}Ve[0]=et,Ue[0]+=12,Je[0]-=12}Ve=0}if(Ve!=0)return Ve;for(et=0<Le.gb[0],Q=Q[0];;){e:{var tt=S;Je=F,Ve=Q;var ut=be,ot=_e,er=Ue=[0];if((qt=Ke=[Ke])[0]=0,8>Ve[0])Ve=7;else{if(!r(tt,Je[0],"VP8X")){if(Ne(tt,Je[0]+4)!=10){Ve=3;break e}if(18>Ve[0]){Ve=7;break e}var Qt=Ne(tt,Je[0]+8),Tr=1+Qe(tt,Je[0]+12);if(2147483648<=Tr*(tt=1+Qe(tt,Je[0]+15))){Ve=3;break e}er!=null&&(er[0]=Qt),ut!=null&&(ut[0]=Tr),ot!=null&&(ot[0]=tt),Je[0]+=18,Ve[0]-=18,qt[0]=1}Ve=0}}if(Ke=Ke[0],Ue=Ue[0],Ve!=0)return Ve;if(Je=!!(2&Ue),!et&&Ke)return 3;if(ue!=null&&(ue[0]=!!(16&Ue)),he!=null&&(he[0]=Je),me!=null&&(me[0]=0),he=be[0],Ue=_e[0],Ke&&Je&&xe==null){Ve=0;break}if(4>Q){Ve=7;break}if(et&&Ke||!et&&!Ke&&!r(S,F[0],"ALPH")){Q=[Q],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Qt=S,Ve=F,et=Q;var qt=Le.gb;ut=Le.na,ot=Le.P,er=Le.Sa,Tr=22,t(Qt!=null),t(et!=null),tt=Ve[0];var Xr=et[0];for(t(ut!=null),t(er!=null),ut[0]=null,ot[0]=null,er[0]=0;;){if(Ve[0]=tt,et[0]=Xr,8>Xr){Ve=7;break e}var Zs=Ne(Qt,tt+4);if(4294967286<Zs){Ve=3;break e}var Lr=8+Zs+1&-2;if(Tr+=Lr,0<qt&&Tr>qt){Ve=3;break e}if(!r(Qt,tt,"VP8 ")||!r(Qt,tt,"VP8L")){Ve=0;break e}if(Xr[0]<Lr){Ve=7;break e}r(Qt,tt,"ALPH")||(ut[0]=Qt,ot[0]=tt+8,er[0]=Zs),tt+=Lr,Xr-=Lr}}if(Q=Q[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Ve!=0)break}Q=[Q],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(qt=S,Ve=F,et=Q,ut=Le.gb[0],ot=Le.Ja,er=Le.xa,Qt=Ve[0],tt=!r(qt,Qt,"VP8 "),Tr=!r(qt,Qt,"VP8L"),t(qt!=null),t(et!=null),t(ot!=null),t(er!=null),8>et[0])Ve=7;else{if(tt||Tr){if(qt=Ne(qt,Qt+4),12<=ut&&qt>ut-12){Ve=3;break e}if(Ce&&qt>et[0]-8){Ve=7;break e}ot[0]=qt,Ve[0]+=8,et[0]-=8,er[0]=Tr}else er[0]=5<=et[0]&&qt[Qt+0]==47&&!(qt[Qt+4]>>5),ot[0]=et[0];Ve=0}if(Q=Q[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],F=F[0],Ve!=0)break;if(4294967286<Le.Ja)return 3;if(me==null||Je||(me[0]=Le.xa?2:1),he=[he],Ue=[Ue],Le.xa){if(5>Q){Ve=7;break}me=he,Ce=Ue,Je=ue,S==null||5>Q?S=0:5<=Q&&S[F+0]==47&&!(S[F+4]>>5)?(et=[0],qt=[0],ut=[0],K(ot=new Y,S,F,Q),ps(ot,et,qt,ut)?(me!=null&&(me[0]=et[0]),Ce!=null&&(Ce[0]=qt[0]),Je!=null&&(Je[0]=ut[0]),S=1):S=0):S=0}else{if(10>Q){Ve=7;break}me=Ue,S==null||10>Q||!ns(S,F+3,Q-3)?S=0:(Ce=S[F+0]|S[F+1]<<8|S[F+2]<<16,Je=16383&(S[F+7]<<8|S[F+6]),S=16383&(S[F+9]<<8|S[F+8]),1&Ce||3<(Ce>>1&7)||!(Ce>>4&1)||Ce>>5>=Le.Ja||!Je||!S?S=0:(he&&(he[0]=Je),me&&(me[0]=S),S=1))}if(!S||(he=he[0],Ue=Ue[0],Ke&&(be[0]!=he||_e[0]!=Ue)))return 3;xe!=null&&(xe[0]=Le,xe.offset=F-xe.w,t(4294967286>F-xe.w),t(xe.offset==xe.ha-Q));break}return Ve==0||Ve==7&&Ke&&xe==null?(ue!=null&&(ue[0]|=Le.na!=null&&0<Le.na.length),$!=null&&($[0]=he),ie!=null&&(ie[0]=Ue),0):Ve}function ca(S,F,Q){var $=F.width,ie=F.height,ue=0,he=0,me=$,xe=ie;if(F.Da=S!=null&&0<S.Da,F.Da&&(me=S.cd,xe=S.bd,ue=S.v,he=S.j,11>Q||(ue&=-2,he&=-2),0>ue||0>he||0>=me||0>=xe||ue+me>$||he+xe>ie))return 0;if(F.v=ue,F.j=he,F.va=ue+me,F.o=he+xe,F.U=me,F.T=xe,F.da=S!=null&&0<S.da,F.da){if(!qe(me,xe,Q=[S.ib],ue=[S.hb]))return 0;F.ib=Q[0],F.hb=ue[0]}return F.ob=S!=null&&S.ob,F.Kb=S==null||!S.Sd,F.da&&(F.ob=F.ib<3*$/4&&F.hb<3*ie/4,F.Kb=0),1}function Ha(S){if(S==null)return 2;if(11>S.S){var F=S.f.RGBA;F.fb+=(S.height-1)*F.A,F.A=-F.A}else F=S.f.kb,S=S.height,F.O+=(S-1)*F.fa,F.fa=-F.fa,F.N+=(S-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(S-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(S-1)*F.lb,F.lb=-F.lb);return 0}function ac(S,F,Q,$){if($==null||0>=S||0>=F)return 2;if(Q!=null){if(Q.Da){var ie=Q.cd,ue=Q.bd,he=-2&Q.v,me=-2&Q.j;if(0>he||0>me||0>=ie||0>=ue||he+ie>S||me+ue>F)return 2;S=ie,F=ue}if(Q.da){if(!qe(S,F,ie=[Q.ib],ue=[Q.hb]))return 2;S=ie[0],F=ue[0]}}$.width=S,$.height=F;e:{var xe=$.width,be=$.height;if(S=$.S,0>=xe||0>=be||!(S>=R1&&13>S))S=2;else{if(0>=$.Rd&&$.sd==null){he=ue=ie=F=0;var _e=(me=xe*W6[S])*be;if(11>S||(ue=(be+1)/2*(F=(xe+1)/2),S==12&&(he=(ie=xe)*be)),(be=i(_e+2*ue+he))==null){S=1;break e}$.sd=be,11>S?((xe=$.f.RGBA).eb=be,xe.fb=0,xe.A=me,xe.size=_e):((xe=$.f.kb).y=be,xe.O=0,xe.fa=me,xe.Fd=_e,xe.f=be,xe.N=0+_e,xe.Ab=F,xe.Cd=ue,xe.ea=be,xe.W=0+_e+ue,xe.Db=F,xe.Ed=ue,S==12&&(xe.F=be,xe.J=0+_e+2*ue),xe.Tc=he,xe.lb=ie)}if(F=1,ie=$.S,ue=$.width,he=$.height,ie>=R1&&13>ie)if(11>ie)S=$.f.RGBA,F&=(me=Math.abs(S.A))*(he-1)+ue<=S.size,F&=me>=ue*W6[ie],F&=S.eb!=null;else{S=$.f.kb,me=(ue+1)/2,_e=(he+1)/2,xe=Math.abs(S.fa),be=Math.abs(S.Ab);var Ke=Math.abs(S.Db),Ce=Math.abs(S.lb),Le=Ce*(he-1)+ue;F&=xe*(he-1)+ue<=S.Fd,F&=be*(_e-1)+me<=S.Cd,F=(F&=Ke*(_e-1)+me<=S.Ed)&xe>=ue&be>=me&Ke>=me,F&=S.y!=null,F&=S.f!=null,F&=S.ea!=null,ie==12&&(F&=Ce>=ue,F&=Le<=S.Tc,F&=S.F!=null)}else F=0;S=F?0:2}}return S!=0||Q!=null&&Q.fd&&(S=Ha($)),S}var ks=64,ic=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],tA=24,Pi=32,ir=8,uu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(S){return S},T.Predictor2=function(S,F,Q){return F[Q+0]},T.Predictor3=function(S,F,Q){return F[Q+1]},T.Predictor4=function(S,F,Q){return F[Q-1]},T.Predictor5=function(S,F,Q){return Nt(Nt(S,F[Q+1]),F[Q+0])},T.Predictor6=function(S,F,Q){return Nt(S,F[Q-1])},T.Predictor7=function(S,F,Q){return Nt(S,F[Q+0])},T.Predictor8=function(S,F,Q){return Nt(F[Q-1],F[Q+0])},T.Predictor9=function(S,F,Q){return Nt(F[Q+0],F[Q+1])},T.Predictor10=function(S,F,Q){return Nt(Nt(S,F[Q-1]),Nt(F[Q+0],F[Q+1]))},T.Predictor11=function(S,F,Q){var $=F[Q+0];return 0>=dt($>>24&255,S>>24&255,(F=F[Q-1])>>24&255)+dt($>>16&255,S>>16&255,F>>16&255)+dt($>>8&255,S>>8&255,F>>8&255)+dt(255&$,255&S,255&F)?$:S},T.Predictor12=function(S,F,Q){var $=F[Q+0];return(at((S>>24&255)+($>>24&255)-((F=F[Q-1])>>24&255))<<24|at((S>>16&255)+($>>16&255)-(F>>16&255))<<16|at((S>>8&255)+($>>8&255)-(F>>8&255))<<8|at((255&S)+(255&$)-(255&F)))>>>0},T.Predictor13=function(S,F,Q){var $=F[Q-1];return(pt((S=Nt(S,F[Q+0]))>>24&255,$>>24&255)<<24|pt(S>>16&255,$>>16&255)<<16|pt(S>>8&255,$>>8&255)<<8|pt(255&S,255&$))>>>0};var te=T.PredictorAdd0;T.PredictorAdd1=xt,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var c=T.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var d,f=T.ColorIndexInverseTransform,g=T.MapARGB,x=T.VP8LColorIndexInverseTransformAlpha,v=T.MapAlpha,E=T.VP8LPredictorsAdd=[];E.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var k,P,z,re,oe,we,Be,Se,Oe,$e,ct,ht,At,Qr,Cr,Ca,Di,Na,pn,Ws,Va,rA,nA,D1,Xd,B6,S6,E6,j6=i(511),I6=i(2041),F6=i(225),k6=i(767),_6=0,lb=I6,O1=F6,co=k6,Wo=j6,R1=0,M1=1,T6=2,U1=3,Q1=4,cb=5,L6=6,Ab=7,ub=8,H1=9,db=10,CK=[2,3,7],NK=[3,3,11],P6=[280,256,256,256,40],BK=[0,1,1,1,0],SK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],EK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],IK=8,hb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Im=null,FK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],kK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],D6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_K=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],TK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],LK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],PK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],du=[],wl=[],sA=[],DK=1,O6=2,hu=[],Go=[];lo("UpsampleRgbLinePair",Ho,3),lo("UpsampleBgrLinePair",lu,3),lo("UpsampleRgbaLinePair",wf,4),lo("UpsampleBgraLinePair",Ko,4),lo("UpsampleArgbLinePair",xf,4),lo("UpsampleRgba4444LinePair",Xs,2),lo("UpsampleRgb565LinePair",Vo,2);var OK=T.UpsampleRgbLinePair,RK=T.UpsampleBgrLinePair,R6=T.UpsampleRgbaLinePair,M6=T.UpsampleBgraLinePair,U6=T.UpsampleArgbLinePair,Q6=T.UpsampleRgba4444LinePair,MK=T.UpsampleRgb565LinePair,V1=16,K1=1<<V1-1,Fm=-227,mb=482,H6=6,UK=(256<<H6)-1,V6=0,QK=i(256),HK=i(256),VK=i(256),KK=i(256),WK=i(mb-Fm),GK=i(mb-Fm);ba("YuvToRgbRow",Ho,3),ba("YuvToBgrRow",lu,3),ba("YuvToRgbaRow",wf,4),ba("YuvToBgraRow",Ko,4),ba("YuvToArgbRow",xf,4),ba("YuvToRgba4444Row",Xs,2),ba("YuvToRgb565Row",Vo,2);var K6=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],W1=[0,2,8],zK=[8,7,6,4,4,2,2,2,1,1,1,1],$K=1;this.WebPDecodeRGBA=function(S,F,Q,$,ie){var ue=M1,he=new zt,me=new Bt;he.ba=me,me.S=ue,me.width=[me.width],me.height=[me.height];var xe=me.width,be=me.height,_e=new Ut;if(_e==null||S==null)var Ke=2;else t(_e!=null),Ke=Au(S,F,Q,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Ke!=0?xe=0:(xe!=null&&(xe[0]=_e.width[0]),be!=null&&(be[0]=_e.height[0]),xe=1),xe){me.width=me.width[0],me.height=me.height[0],$!=null&&($[0]=me.width),ie!=null&&(ie[0]=me.height);e:{if($=new tc,(ie=new pr).data=S,ie.w=F,ie.ha=Q,ie.kd=1,F=[0],t(ie!=null),((S=Au(ie.data,ie.w,ie.ha,null,null,null,F,null,ie))==0||S==7)&&F[0]&&(S=4),(F=S)==0){if(t(he!=null),$.data=ie.data,$.w=ie.w+ie.offset,$.ha=ie.ha-ie.offset,$.put=Ft,$.ac=ln,$.bc=cn,$.ma=he,ie.xa){if((S=oa())==null){he=1;break e}if(function(Ce,Le){var Ue=[0],Je=[0],Ve=[0];t:for(;;){if(Ce==null)return 0;if(Le==null)return Ce.a=2,0;if(Ce.l=Le,Ce.a=0,K(Ce.m,Le.data,Le.w,Le.ha),!ps(Ce.m,Ue,Je,Ve)){Ce.a=3;break t}if(Ce.xb=O6,Le.width=Ue[0],Le.height=Je[0],!Po(Ue[0],Je[0],1,Ce,null))break t;return 1}return t(Ce.a!=0),0}(S,$)){if($=(F=ac($.width,$.height,he.Oa,he.ba))==0){t:{$=S;r:for(;;){if($==null){$=0;break t}if(t($.s.yc!=null),t($.s.Ya!=null),t(0<$.s.Wb),t((Q=$.l)!=null),t((ie=Q.ma)!=null),$.xb!=0){if($.ca=ie.ba,$.tb=ie.tb,t($.ca!=null),!ca(ie.Oa,Q,U1)){$.a=2;break r}if(!Wc($,Q.width)||Q.da)break r;if((Q.da||ze($.ca.S))&&Li(),11>$.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),$.ca.f.kb.F!=null&&Li()),$.Pb&&0<$.s.ua&&$.s.vb.X==null&&!pe($.s.vb,$.s.Wa.Xa)){$.a=1;break r}$.xb=0}if(!Ma($,$.V,$.Ba,$.c,$.i,Q.o,Ai))break r;ie.Dc=$.Ma,$=1;break t}t($.a!=0),$=0}$=!$}$&&(F=S.a)}else F=S.a}else{if((S=new Wd)==null){he=1;break e}if(S.Fa=ie.na,S.P=ie.P,S.qc=ie.Sa,so(S,$)){if((F=ac($.width,$.height,he.Oa,he.ba))==0){if(S.Aa=0,Q=he.Oa,t((ie=S)!=null),Q!=null){if(0<(xe=0>(xe=Q.Md)?0:100<xe?255:255*xe/100)){for(be=_e=0;4>be;++be)12>(Ke=ie.pb[be]).lc&&(Ke.ia=xe*zK[0>Ke.lc?0:Ke.lc]>>3),_e|=Ke.ia;_e&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=Q.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}(function(Ce,Le){if(Ce==null)return 0;if(Le==null)return rs(Ce,2,"NULL VP8Io parameter in VP8Decode().");if(!Ce.cb&&!so(Ce,Le))return 0;if(t(Ce.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(Ce.L=0);var Ue=W1[Ce.L];if(Ce.L==2?(Ce.yb=0,Ce.zb=0):(Ce.yb=Le.v-Ue>>4,Ce.zb=Le.j-Ue>>4,0>Ce.yb&&(Ce.yb=0),0>Ce.zb&&(Ce.zb=0)),Ce.Va=Le.o+15+Ue>>4,Ce.Hb=Le.va+15+Ue>>4,Ce.Hb>Ce.za&&(Ce.Hb=Ce.za),Ce.Va>Ce.Ub&&(Ce.Va=Ce.Ub),0<Ce.L){var Je=Ce.ed;for(Ue=0;4>Ue;++Ue){var Ve;if(Ce.Qa.Cb){var et=Ce.Qa.Lb[Ue];Ce.Qa.Fb||(et+=Je.Tb)}else et=Je.Tb;for(Ve=0;1>=Ve;++Ve){var tt=Ce.gd[Ue][Ve],ut=et;if(Je.Pc&&(ut+=Je.vd[0],Ve&&(ut+=Je.od[0])),0<(ut=0>ut?0:63<ut?63:ut)){var ot=ut;0<Je.wb&&(ot=4<Je.wb?ot>>2:ot>>1)>9-Je.wb&&(ot=9-Je.wb),1>ot&&(ot=1),tt.dd=ot,tt.tc=2*ut+ot,tt.ld=40<=ut?2:15<=ut?1:0}else tt.tc=0;tt.La=Ve}}}Ue=0}else rs(Ce,6,"Frame setup failed"),Ue=Ce.a;if(Ue=Ue==0){if(Ue){Ce.$c=0,0<Ce.Aa||(Ce.Ic=$K);t:{Ue=Ce.Ic,Je=4*(ot=Ce.za);var er=32*ot,Qt=ot+1,Tr=0<Ce.L?ot*(0<Ce.Aa?2:1):0,qt=(Ce.Aa==2?2:1)*ot;if((tt=Je+832+(Ve=3*(16*Ue+W1[Ce.L])/2*er)+(et=Ce.Fa!=null&&0<Ce.Fa.length?Ce.Kc.c*Ce.Kc.i:0))!=tt)Ue=0;else{if(tt>Ce.Vb){if(Ce.Vb=0,Ce.Ec=i(tt),Ce.Fc=0,Ce.Ec==null){Ue=rs(Ce,1,"no memory during frame initialization.");break t}Ce.Vb=tt}tt=Ce.Ec,ut=Ce.Fc,Ce.Ac=tt,Ce.Bc=ut,ut+=Je,Ce.Gd=o(er,Kr),Ce.Hd=0,Ce.rb=o(Qt+1,Fn),Ce.sb=1,Ce.wa=Tr?o(Tr,Ti):null,Ce.Y=0,Ce.D.Nb=0,Ce.D.wa=Ce.wa,Ce.D.Y=Ce.Y,0<Ce.Aa&&(Ce.D.Y+=ot),t(!0),Ce.oc=tt,Ce.pc=ut,ut+=832,Ce.ya=o(qt,Kd),Ce.aa=0,Ce.D.ya=Ce.ya,Ce.D.aa=Ce.aa,Ce.Aa==2&&(Ce.D.aa+=ot),Ce.R=16*ot,Ce.B=8*ot,ot=(er=W1[Ce.L])*Ce.R,er=er/2*Ce.B,Ce.sa=tt,Ce.ta=ut+ot,Ce.qa=Ce.sa,Ce.ra=Ce.ta+16*Ue*Ce.R+er,Ce.Ha=Ce.qa,Ce.Ia=Ce.ra+8*Ue*Ce.B+er,Ce.$c=0,ut+=Ve,Ce.mb=et?tt:null,Ce.nb=et?ut:null,t(ut+et<=Ce.Fc+Ce.Vb),vn(Ce),s(Ce.Ac,Ce.Bc,0,Je),Ue=1}}if(Ue){if(Le.ka=0,Le.y=Ce.sa,Le.O=Ce.ta,Le.f=Ce.qa,Le.N=Ce.ra,Le.ea=Ce.Ha,Le.Vd=Ce.Ia,Le.fa=Ce.R,Le.Rc=Ce.B,Le.F=null,Le.J=0,!_6){for(Ue=-255;255>=Ue;++Ue)j6[255+Ue]=0>Ue?-Ue:Ue;for(Ue=-1020;1020>=Ue;++Ue)I6[1020+Ue]=-128>Ue?-128:127<Ue?127:Ue;for(Ue=-112;112>=Ue;++Ue)F6[112+Ue]=-16>Ue?-16:15<Ue?15:Ue;for(Ue=-255;510>=Ue;++Ue)k6[255+Ue]=0>Ue?0:255<Ue?255:Ue;_6=1}Be=va,Se=He,$e=ye,ct=Lt,ht=cs,Oe=Ks,At=R,Qr=ae,Cr=Ie,Ca=Xe,Di=ve,Na=de,pn=st,Ws=Rt,Va=ou,rA=eA,nA=$d,D1=qd,wl[0]=lr,wl[1]=zc,wl[2]=qc,wl[3]=Oo,wl[4]=Em,wl[5]=Dn,wl[6]=fr,wl[7]=jm,wl[8]=Xc,wl[9]=zd,du[0]=Do,du[1]=rr,du[2]=Pn,du[3]=nu,du[4]=su,du[5]=pl,du[6]=Gd,sA[0]=Mo,sA[1]=Ua,sA[2]=ao,sA[3]=Yc,sA[4]=au,sA[5]=Zc,sA[6]=gl,Ue=1}else Ue=0}Ue&&(Ue=function(Xr,Zs){for(Xr.M=0;Xr.M<Xr.Va;++Xr.M){var Lr,Xt=Xr.Jc[Xr.M&Xr.Xb],yt=Xr.m,_s=Xr;for(Lr=0;Lr<_s.za;++Lr){var jr=yt,en=_s,$n=en.Ac,Ba=en.Bc+4*Lr,di=en.zc,ys=en.ya[en.aa+Lr];if(en.Qa.Bb?ys.$b=ke(jr,en.Pa.jb[0])?2+ke(jr,en.Pa.jb[2]):ke(jr,en.Pa.jb[1]):ys.$b=0,en.kc&&(ys.Ad=ke(jr,en.Bd)),ys.Za=!ke(jr,145)+0,ys.Za){var Ka=ys.Ob,hi=0;for(en=0;4>en;++en){var Js,nn=di[0+en];for(Js=0;4>Js;++Js){nn=TK[$n[Ba+Js]][nn];for(var Cn=D6[ke(jr,nn[0])];0<Cn;)Cn=D6[2*Cn+ke(jr,nn[Cn])];nn=-Cn,$n[Ba+Js]=nn}n(Ka,hi,$n,Ba,4),hi+=4,di[0+en]=nn}}else nn=ke(jr,156)?ke(jr,128)?1:3:ke(jr,163)?2:0,ys.Ob[0]=nn,s($n,Ba,nn,4),s(di,0,nn,4);ys.Dd=ke(jr,142)?ke(jr,114)?ke(jr,183)?1:3:2:0}if(_s.m.Ka)return rs(Xr,7,"Premature end-of-partition0 encountered.");for(;Xr.ja<Xr.za;++Xr.ja){if(_s=Xt,jr=(yt=Xr).rb[yt.sb-1],$n=yt.rb[yt.sb+yt.ja],Lr=yt.ya[yt.aa+yt.ja],Ba=yt.kc?Lr.Ad:0)jr.la=$n.la=0,Lr.Za||(jr.Na=$n.Na=0),Lr.Hc=0,Lr.Gc=0,Lr.ia=0;else{var vs,Nn;if(jr=$n,$n=_s,Ba=yt.Pa.Xc,di=yt.ya[yt.aa+yt.ja],ys=yt.pb[di.$b],en=di.ad,Ka=0,hi=yt.rb[yt.sb-1],nn=Js=0,s(en,Ka,0,384),di.Za)var Sa=0,yl=Ba[3];else{Cn=i(16);var Ts=jr.Na+hi.Na;if(Ts=Im($n,Ba[1],Ts,ys.Eb,0,Cn,0),jr.Na=hi.Na=(0<Ts)+0,1<Ts)Be(Cn,0,en,Ka);else{var Oi=Cn[0]+3>>3;for(Cn=0;256>Cn;Cn+=16)en[Ka+Cn]=Oi}Sa=1,yl=Ba[0]}var On=15&jr.la,ea=15&hi.la;for(Cn=0;4>Cn;++Cn){var Ao=1&ea;for(Oi=Nn=0;4>Oi;++Oi)On=On>>1|(Ao=(Ts=Im($n,yl,Ts=Ao+(1&On),ys.Sc,Sa,en,Ka))>Sa)<<7,Nn=Nn<<2|(3<Ts?3:1<Ts?2:en[Ka+0]!=0),Ka+=16;On>>=4,ea=ea>>1|Ao<<7,Js=(Js<<8|Nn)>>>0}for(yl=On,Sa=ea>>4,vs=0;4>vs;vs+=2){for(Nn=0,On=jr.la>>4+vs,ea=hi.la>>4+vs,Cn=0;2>Cn;++Cn){for(Ao=1&ea,Oi=0;2>Oi;++Oi)Ts=Ao+(1&On),On=On>>1|(Ao=0<(Ts=Im($n,Ba[2],Ts,ys.Qc,0,en,Ka)))<<3,Nn=Nn<<2|(3<Ts?3:1<Ts?2:en[Ka+0]!=0),Ka+=16;On>>=2,ea=ea>>1|Ao<<5}nn|=Nn<<4*vs,yl|=On<<4<<vs,Sa|=(240&ea)<<vs}jr.la=yl,hi.la=Sa,di.Hc=Js,di.Gc=nn,di.ia=43690&nn?0:ys.ia,Ba=!(Js|nn)}if(0<yt.L&&(yt.wa[yt.Y+yt.ja]=yt.gd[Lr.$b][Lr.Za],yt.wa[yt.Y+yt.ja].La|=!Ba),_s.Ka)return rs(Xr,7,"Premature end-of-file encountered.")}if(vn(Xr),yt=Zs,_s=1,Lr=(Xt=Xr).D,jr=0<Xt.L&&Xt.M>=Xt.zb&&Xt.M<=Xt.Va,Xt.Aa==0)t:{if(Lr.M=Xt.M,Lr.uc=jr,Ys(Xt,Lr),_s=1,Lr=(Nn=Xt.D).Nb,jr=(nn=W1[Xt.L])*Xt.R,$n=nn/2*Xt.B,Cn=16*Lr*Xt.R,Oi=8*Lr*Xt.B,Ba=Xt.sa,di=Xt.ta-jr+Cn,ys=Xt.qa,en=Xt.ra-$n+Oi,Ka=Xt.Ha,hi=Xt.Ia-$n+Oi,ea=(On=Nn.M)==0,Js=On>=Xt.Va-1,Xt.Aa==2&&Ys(Xt,Nn),Nn.uc)for(Ao=(Ts=Xt).D.M,t(Ts.D.uc),Nn=Ts.yb;Nn<Ts.Hb;++Nn){Sa=Nn,yl=Ao;var fi=(uo=(Ea=Ts).D).Nb;vs=Ea.R;var uo=uo.wa[uo.Y+Sa],ho=Ea.sa,Ri=Ea.ta+16*fi*vs+16*Sa,fo=uo.dd,Qn=uo.tc;if(Qn!=0)if(t(3<=Qn),Ea.L==1)0<Sa&&rA(ho,Ri,vs,Qn+4),uo.La&&D1(ho,Ri,vs,Qn),0<yl&&Va(ho,Ri,vs,Qn+4),uo.La&&nA(ho,Ri,vs,Qn);else{var mo=Ea.B,vl=Ea.qa,Yd=Ea.ra+8*fi*mo+8*Sa,aA=Ea.Ha,Ea=Ea.Ia+8*fi*mo+8*Sa;fi=uo.ld,0<Sa&&(Qr(ho,Ri,vs,Qn+4,fo,fi),Ca(vl,Yd,aA,Ea,mo,Qn+4,fo,fi)),uo.La&&(Na(ho,Ri,vs,Qn,fo,fi),Ws(vl,Yd,aA,Ea,mo,Qn,fo,fi)),0<yl&&(At(ho,Ri,vs,Qn+4,fo,fi),Cr(vl,Yd,aA,Ea,mo,Qn+4,fo,fi)),uo.La&&(Di(ho,Ri,vs,Qn,fo,fi),pn(vl,Yd,aA,Ea,mo,Qn,fo,fi))}}if(Xt.ia&&alert("todo:DitherRow"),yt.put!=null){if(Nn=16*On,On=16*(On+1),ea?(yt.y=Xt.sa,yt.O=Xt.ta+Cn,yt.f=Xt.qa,yt.N=Xt.ra+Oi,yt.ea=Xt.Ha,yt.W=Xt.Ia+Oi):(Nn-=nn,yt.y=Ba,yt.O=di,yt.f=ys,yt.N=en,yt.ea=Ka,yt.W=hi),Js||(On-=nn),On>yt.o&&(On=yt.o),yt.F=null,yt.J=null,Xt.Fa!=null&&0<Xt.Fa.length&&Nn<On&&(yt.J=br(Xt,yt,Nn,On-Nn),yt.F=Xt.mb,yt.F==null&&yt.F.length==0)){_s=rs(Xt,3,"Could not decode alpha data.");break t}Nn<yt.j&&(nn=yt.j-Nn,Nn=yt.j,t(!(1&nn)),yt.O+=Xt.R*nn,yt.N+=Xt.B*(nn>>1),yt.W+=Xt.B*(nn>>1),yt.F!=null&&(yt.J+=yt.width*nn)),Nn<On&&(yt.O+=yt.v,yt.N+=yt.v>>1,yt.W+=yt.v>>1,yt.F!=null&&(yt.J+=yt.v),yt.ka=Nn-yt.j,yt.U=yt.va-yt.v,yt.T=On-Nn,_s=yt.put(yt))}Lr+1!=Xt.Ic||Js||(n(Xt.sa,Xt.ta-jr,Ba,di+16*Xt.R,jr),n(Xt.qa,Xt.ra-$n,ys,en+8*Xt.B,$n),n(Xt.Ha,Xt.Ia-$n,Ka,hi+8*Xt.B,$n))}if(!_s)return rs(Xr,6,"Output aborted.")}return 1}(Ce,Le)),Le.bc!=null&&Le.bc(Le),Ue&=1}return Ue?(Ce.cb=0,Ue):0})(S,$)||(F=S.a)}}else F=S.a}F==0&&he.Oa!=null&&he.Oa.fd&&(F=Ha(he.ba))}he=F}ue=he!=0?null:11>ue?me.f.RGBA.eb:me.f.kb.y}else ue=null;return ue};var W6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,G){for(var M="",V=0;V<4;V++)M+=String.fromCharCode(T[G++]);return M}function h(T,G){return T[G+0]|T[G+1]<<8}function m(T,G){return(T[G+0]|T[G+1]<<8|T[G+2]<<16)>>>0}function w(T,G){return(T[G+0]|T[G+1]<<8|T[G+2]<<16|T[G+3]<<24)>>>0}new A;var p=[0],b=[0],N=[],j=new A,y=e,B=function(T,G){var M={},V=0,J=!1,Z=0,ee=0;if(M.frames=[],!function(U,Y){for(var se=0;se<4;se++)if(U[Y+se]!="RIFF".charCodeAt(se))return!0;return!1}(T,G)){for(w(T,G+=4),G+=8;G<T.length;){var q=u(T,G),W=w(T,G+=4);G+=4;var X=W+(1&W);switch(q){case"VP8 ":case"VP8L":M.frames[V]===void 0&&(M.frames[V]={}),(ne=M.frames[V]).src_off=J?ee:G-8,ne.src_size=Z+W+8,V++,J&&(J=!1,Z=0,ee=0);break;case"VP8X":(ne=M.header={}).feature_flags=T[G];var K=G+4;ne.canvas_width=1+m(T,K),K+=3,ne.canvas_height=1+m(T,K),K+=3;break;case"ALPH":J=!0,Z=X+8,ee=G-8;break;case"ANIM":(ne=M.header).bgcolor=w(T,G),K=G+4,ne.loop_count=h(T,K),K+=2;break;case"ANMF":var le,ne;(ne=M.frames[V]={}).offset_x=2*m(T,G),G+=3,ne.offset_y=2*m(T,G),G+=3,ne.width=1+m(T,G),G+=3,ne.height=1+m(T,G),G+=3,ne.duration=m(T,G),G+=3,le=T[G++],ne.dispose=1&le,ne.blend=le>>1&1}q!="ANMF"&&(G+=X)}return M}}(y,0);B.response=y,B.rgbaoutput=!0,B.dataurl=!1;var I=B.header?B.header:null,_=B.frames?B.frames:null;if(I){I.loop_counter=I.loop_count,p=[I.canvas_height],b=[I.canvas_width];for(var O=0;O<_.length&&_[O].blend!=0;O++);}var H=_[0],D=j.WebPDecodeRGBA(y,H.src_off,H.src_size,b,p);H.rgba=D,H.imgwidth=b[0],H.imgheight=p[0];for(var L=0;L<b[0]*p[0]*4;L++)N[L]=D[L];return this.width=b,this.height=p,this.data=N,this}(function(e){var t,r,n,s,i,o,l,A,u,h=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new A,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,A=this.internal.Matrix,u=new h}]);var m=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=U;Object.defineProperty(this,"pdf",{get:function(){return Y}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(Ne){se=!!Ne}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(Ne){ce=!!Ne}});var Ae=0;Object.defineProperty(this,"posX",{get:function(){return Ae},set:function(Ne){isNaN(Ne)||(Ae=Ne)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Ne){isNaN(Ne)||(ge=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ne){var pe;typeof Ne=="number"?pe=[Ne,Ne,Ne,Ne]:((pe=new Array(4))[0]=Ne[0],pe[1]=Ne.length>=2?Ne[1]:pe[0],pe[2]=Ne.length>=3?Ne[2]:pe[0],pe[3]=Ne.length>=4?Ne[3]:pe[1]),u.margin=pe}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(Ne){fe=Ne}});var je=0;Object.defineProperty(this,"lastBreak",{get:function(){return je},set:function(Ne){je=Ne}});var ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ke},set:function(Ne){ke=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ne){Ne instanceof h&&(u=Ne)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ne){u.path=Ne}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(Ne){Te=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var pe;pe=w(Ne),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var pe=w(Ne);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var De=null,Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(Ne){De=null,Qe=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var pe;if(this.ctx.font=Ne,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var Pe=pe[1];pe[2];var rt=pe[3],qe=pe[4];pe[5];var Me=pe[6],wt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(wt==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:wt==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var We=function(Ot){var vt,Hr,Gt=[],Ge=Ot.trim();if(Ge==="")return U5;if(Ge in qF)return[qF[Ge]];for(;Ge!=="";){switch(Hr=null,vt=(Ge=YF(Ge)).charAt(0)){case'"':case"'":Hr=yce(Ge.substring(1),vt);break;default:Hr=vce(Ge)}if(Hr===null||(Gt.push(Hr[0]),(Ge=YF(Hr[1]))!==""&&Ge.charAt(0)!==","))return U5;Ge=Ge.replace(/^,/,"")}return Gt}(Me);if(this.fontFaces){var Wt=function(Ot,vt){if(De===null){var Hr=function(Gt){var Ge=[];return Object.keys(Gt).forEach(function(jt){Gt[jt].forEach(function(Ht){var bt=null;switch(Ht){case"bold":bt={family:jt,weight:"bold"};break;case"italic":bt={family:jt,style:"italic"};break;case"bolditalic":bt={family:jt,weight:"bold",style:"italic"};break;case"":case"normal":bt={family:jt}}bt!==null&&(bt.ref={name:jt,style:Ht},Ge.push(bt))})}),Ge}(Ot.getFontList());De=function(Gt){for(var Ge={},jt=0;jt<Gt.length;++jt){var Ht=M5(Gt[jt]),bt=Ht.family,vr=Ht.stretch,ze=Ht.style,Yt=Ht.weight;Ge[bt]=Ge[bt]||{},Ge[bt][vr]=Ge[bt][vr]||{},Ge[bt][vr][ze]=Ge[bt][vr][ze]||{},Ge[bt][vr][ze][Yt]=Ht}return Ge}(Hr.concat(vt))}return De}(this.pdf,this.fontFaces),Nt=We.map(function(Ot){return{family:Ot,stretch:"normal",weight:rt,style:Pe}}),at=function(Ot,vt,Hr){for(var Gt=(Hr=Hr||{}).defaultFontFamily||"times",Ge=Object.assign({},wce,Hr.genericFontFamilies||{}),jt=null,Ht=null,bt=0;bt<vt.length;++bt)if(Ge[(jt=M5(vt[bt])).family]&&(jt.family=Ge[jt.family]),Ot.hasOwnProperty(jt.family)){Ht=Ot[jt.family];break}if(!(Ht=Ht||Ot[Gt]))throw new Error("Could not find a font-family for the rule '"+XF(jt)+"' and default family '"+Gt+"'.");if(Ht=function(vr,ze){if(ze[vr])return ze[vr];var Yt=JN[vr],it=Yt<=JN.normal?-1:1,Bt=$F(ze,XM,Yt,it);if(!Bt)throw new Error("Could not find a matching font-stretch value for "+vr);return Bt}(jt.stretch,Ht),Ht=function(vr,ze){if(ze[vr])return ze[vr];for(var Yt=qM[vr],it=0;it<Yt.length;++it)if(ze[Yt[it]])return ze[Yt[it]];throw new Error("Could not find a matching font-style for "+vr)}(jt.style,Ht),!(Ht=function(vr,ze){if(ze[vr])return ze[vr];if(vr===400&&ze[500])return ze[500];if(vr===500&&ze[400])return ze[400];var Yt=xce[vr],it=$F(ze,YM,Yt,vr<400?-1:1);if(!it)throw new Error("Could not find a matching font-weight for value "+vr);return it}(jt.weight,Ht)))throw new Error("Failed to resolve a font for the rule '"+XF(jt)+"'.");return Ht}(Wt,Nt);this.pdf.setFont(at.ref.name,at.ref.style)}else{var pt="";(rt==="bold"||parseInt(rt,10)>=700||Pe==="bold")&&(pt="bold"),Pe==="italic"&&(pt+="italic"),pt.length===0&&(pt="normal");for(var dt="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},It=0;It<We.length;It++){if(this.pdf.internal.getFont(We[It],pt,{noFallback:!0,disableWarning:!0})!==void 0){dt=We[It];break}if(pt==="bolditalic"&&this.pdf.internal.getFont(We[It],"bold",{noFallback:!0,disableWarning:!0})!==void 0)dt=We[It],pt="bold";else if(this.pdf.internal.getFont(We[It],"normal",{noFallback:!0,disableWarning:!0})!==void 0){dt=We[It],pt="normal";break}}if(dt===""){for(var gt=0;gt<We.length;gt++)if(xt[We[gt]]){dt=xt[We[gt]];break}}dt=dt===""?"Times":dt,this.pdf.setFont(dt,pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};m.prototype.setLineDash=function(U){this.lineDash=U},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){_.call(this,"fill",!1)},m.prototype.stroke=function(){_.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(U,Y){if(isNaN(U)||isNaN(Y))throw Rn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var se=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"mt",x:se.x,y:se.y}),this.ctx.lastPoint=new o(U,Y)},m.prototype.closePath=function(){var U=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&tn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){U=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},m.prototype.lineTo=function(U,Y){if(isNaN(U)||isNaN(Y))throw Rn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var se=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"lt",x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},m.prototype.quadraticCurveTo=function(U,Y,se,ce){if(isNaN(se)||isNaN(ce)||isNaN(U)||isNaN(Y))throw Rn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(se,ce)),ge=this.ctx.transform.applyToPoint(new o(U,Y));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},m.prototype.bezierCurveTo=function(U,Y,se,ce,Ae,ge){if(isNaN(Ae)||isNaN(ge)||isNaN(U)||isNaN(Y)||isNaN(se)||isNaN(ce))throw Rn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new o(Ae,ge)),je=this.ctx.transform.applyToPoint(new o(U,Y)),ke=this.ctx.transform.applyToPoint(new o(se,ce));this.path.push({type:"bct",x1:je.x,y1:je.y,x2:ke.x,y2:ke.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},m.prototype.arc=function(U,Y,se,ce,Ae,ge){if(isNaN(U)||isNaN(Y)||isNaN(se)||isNaN(ce)||isNaN(Ae))throw Rn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new o(U,Y));U=fe.x,Y=fe.y;var je=this.ctx.transform.applyToPoint(new o(0,se)),ke=this.ctx.transform.applyToPoint(new o(0,0));se=Math.sqrt(Math.pow(je.x-ke.x,2)+Math.pow(je.y-ke.y,2))}Math.abs(Ae-ce)>=2*Math.PI&&(ce=0,Ae=2*Math.PI),this.path.push({type:"arc",x:U,y:Y,radius:se,startAngle:ce,endAngle:Ae,counterclockwise:ge})},m.prototype.arcTo=function(U,Y,se,ce,Ae){throw new Error("arcTo not implemented.")},m.prototype.rect=function(U,Y,se,ce){if(isNaN(U)||isNaN(Y)||isNaN(se)||isNaN(ce))throw Rn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,Y),this.lineTo(U+se,Y),this.lineTo(U+se,Y+ce),this.lineTo(U,Y+ce),this.lineTo(U,Y),this.lineTo(U+se,Y),this.lineTo(U,Y)},m.prototype.fillRect=function(U,Y,se,ce){if(isNaN(U)||isNaN(Y)||isNaN(se)||isNaN(ce))throw Rn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Ae={};this.lineCap!=="butt"&&(Ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,Y,se,ce),this.fill(),Ae.hasOwnProperty("lineCap")&&(this.lineCap=Ae.lineCap),Ae.hasOwnProperty("lineJoin")&&(this.lineJoin=Ae.lineJoin)}},m.prototype.strokeRect=function(U,Y,se,ce){if(isNaN(U)||isNaN(Y)||isNaN(se)||isNaN(ce))throw Rn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(U,Y,se,ce),this.stroke())},m.prototype.clearRect=function(U,Y,se,ce){if(isNaN(U)||isNaN(Y)||isNaN(se)||isNaN(ce))throw Rn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,Y,se,ce))},m.prototype.save=function(U){U=typeof U!="boolean"||U;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},m.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,se=0;se<this.pdf.internal.getNumberOfPages();se++)this.pdf.setPage(se+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(U){var Y,se,ce,Ae;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))Y=0,se=0,ce=0,Ae=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(ge!==null)Y=parseInt(ge[1]),se=parseInt(ge[2]),ce=parseInt(ge[3]),Ae=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)Y=parseInt(ge[1]),se=parseInt(ge[2]),ce=parseInt(ge[3]),Ae=parseFloat(ge[4]);else{if(Ae=1,typeof U=="string"&&U.charAt(0)!=="#"){var fe=new HM(U);U=fe.ok?fe.toHex():"#000000"}U.length===4?(Y=U.substring(1,2),Y+=Y,se=U.substring(2,3),se+=se,ce=U.substring(3,4),ce+=ce):(Y=U.substring(1,3),se=U.substring(3,5),ce=U.substring(5,7)),Y=parseInt(Y,16),se=parseInt(se,16),ce=parseInt(ce,16)}}return{r:Y,g:se,b:ce,a:Ae,style:U}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(U,Y,se,ce){if(isNaN(Y)||isNaN(se)||typeof U!="string")throw Rn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!p.call(this)){var Ae=X(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;V.call(this,{text:U,x:Y,y:se,scale:ge,angle:Ae,align:this.textAlign,maxWidth:ce})}},m.prototype.strokeText=function(U,Y,se,ce){if(isNaN(Y)||isNaN(se)||typeof U!="string")throw Rn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ce=isNaN(ce)?void 0:ce;var Ae=X(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;V.call(this,{text:U,x:Y,y:se,scale:ge,renderingMode:"stroke",angle:Ae,align:this.textAlign,maxWidth:ce})}},m.prototype.measureText=function(U){if(typeof U!="string")throw Rn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,se=this.pdf.internal.scaleFactor,ce=Y.internal.getFontSize(),Ae=Y.getStringUnitWidth(U)*ce/Y.internal.scaleFactor;return new function(ge){var fe=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:Ae*=Math.round(96*se/72*1e4)/1e4})},m.prototype.scale=function(U,Y){if(isNaN(U)||isNaN(Y))throw Rn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var se=new A(U,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(se)},m.prototype.rotate=function(U){if(isNaN(U))throw Rn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new A(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},m.prototype.translate=function(U,Y){if(isNaN(U)||isNaN(Y))throw Rn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var se=new A(1,0,0,1,U,Y);this.ctx.transform=this.ctx.transform.multiply(se)},m.prototype.transform=function(U,Y,se,ce,Ae,ge){if(isNaN(U)||isNaN(Y)||isNaN(se)||isNaN(ce)||isNaN(Ae)||isNaN(ge))throw Rn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new A(U,Y,se,ce,Ae,ge);this.ctx.transform=this.ctx.transform.multiply(fe)},m.prototype.setTransform=function(U,Y,se,ce,Ae,ge){U=isNaN(U)?1:U,Y=isNaN(Y)?0:Y,se=isNaN(se)?0:se,ce=isNaN(ce)?1:ce,Ae=isNaN(Ae)?0:Ae,ge=isNaN(ge)?0:ge,this.ctx.transform=new A(U,Y,se,ce,Ae,ge)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(U,Y,se,ce,Ae,ge,fe,je,ke){var Te=this.pdf.getImageProperties(U),De=1,Qe=1,Ne=1,pe=1;ce!==void 0&&je!==void 0&&(Ne=je/ce,pe=ke/Ae,De=Te.width/ce*je/ce,Qe=Te.height/Ae*ke/Ae),ge===void 0&&(ge=Y,fe=se,Y=0,se=0),ce!==void 0&&je===void 0&&(je=ce,ke=Ae),ce===void 0&&je===void 0&&(je=Te.width,ke=Te.height);for(var Pe,rt=this.ctx.transform.decompose(),qe=X(rt.rotate.shx),Me=new A,wt=(Me=(Me=(Me=Me.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new l(ge-Y*Ne,fe-se*pe,ce*De,Ae*Qe)),We=j.call(this,wt),Wt=[],Nt=0;Nt<We.length;Nt+=1)Wt.indexOf(We[Nt])===-1&&Wt.push(We[Nt]);if(I(Wt),this.autoPaging)for(var at=Wt[0],pt=Wt[Wt.length-1],dt=at;dt<pt+1;dt++){this.pdf.setPage(dt);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=dt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=dt===1?0:gt+(dt-2)*Ot;if(this.ctx.clip_path.length!==0){var Hr=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Pe,this.posX+this.margin[3],-vt+It+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Hr}var Gt=JSON.parse(JSON.stringify(wt));Gt=B([Gt],this.posX+this.margin[3],-vt+It+this.ctx.prevPageLastElemOffset)[0];var Ge=(dt>at||dt<pt)&&N.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Ot,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,qe),Ge&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,qe)};var j=function(U,Y,se){var ce=[];Y=Y||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ae=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ce.push(Math.floor((U.y+Ae)/se)+1);break;case"arc":ce.push(Math.floor((U.y+Ae-U.radius)/se)+1),ce.push(Math.floor((U.y+Ae+U.radius)/se)+1);break;case"qct":var ge=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ce.push(Math.floor((ge.y+Ae)/se)+1),ce.push(Math.floor((ge.y+ge.h+Ae)/se)+1);break;case"bct":var fe=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ce.push(Math.floor((fe.y+Ae)/se)+1),ce.push(Math.floor((fe.y+fe.h+Ae)/se)+1);break;case"rect":ce.push(Math.floor((U.y+Ae)/se)+1),ce.push(Math.floor((U.y+U.h+Ae)/se)+1)}for(var je=0;je<ce.length;je+=1)for(;this.pdf.internal.getNumberOfPages()<ce[je];)y.call(this);return ce},y=function(){var U=this.fillStyle,Y=this.strokeStyle,se=this.font,ce=this.lineCap,Ae=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=Y,this.font=se,this.lineCap=ce,this.lineWidth=Ae,this.lineJoin=ge},B=function(U,Y,se){for(var ce=0;ce<U.length;ce++)switch(U[ce].type){case"bct":U[ce].x2+=Y,U[ce].y2+=se;case"qct":U[ce].x1+=Y,U[ce].y1+=se;default:U[ce].x+=Y,U[ce].y+=se}return U},I=function(U){return U.sort(function(Y,se){return Y-se})},_=function(U,Y){for(var se,ce,Ae=this.fillStyle,ge=this.strokeStyle,fe=this.lineCap,je=this.lineWidth,ke=Math.abs(je*this.ctx.transform.scaleX),Te=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),Ne=[],pe=0;pe<Qe.length;pe++)if(Qe[pe].x!==void 0)for(var Pe=j.call(this,Qe[pe]),rt=0;rt<Pe.length;rt+=1)Ne.indexOf(Pe[rt])===-1&&Ne.push(Pe[rt]);for(var qe=0;qe<Ne.length;qe++)for(;this.pdf.internal.getNumberOfPages()<Ne[qe];)y.call(this);if(I(Ne),this.autoPaging)for(var Me=Ne[0],wt=Ne[Ne.length-1],We=Me;We<wt+1;We++){this.pdf.setPage(We),this.fillStyle=Ae,this.strokeStyle=ge,this.lineCap=fe,this.lineWidth=ke,this.lineJoin=Te;var Wt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=We===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=We===1?0:at+(We-2)*pt;if(this.ctx.clip_path.length!==0){var xt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(se,this.posX+this.margin[3],-dt+Nt+this.ctx.prevPageLastElemOffset),O.call(this,U,!0),this.path=xt}if(ce=JSON.parse(JSON.stringify(De)),this.path=B(ce,this.posX+this.margin[3],-dt+Nt+this.ctx.prevPageLastElemOffset),Y===!1||We===0){var It=(We>Me||We<wt)&&N.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,pt,null).clip().discardPath()),O.call(this,U,Y),It&&this.pdf.restoreGraphicsState()}this.lineWidth=je}else this.lineWidth=ke,O.call(this,U,Y),this.lineWidth=je;this.path=De},O=function(U,Y){if((U!=="stroke"||Y||!b.call(this))&&(U==="stroke"||Y||!p.call(this))){for(var se,ce,Ae=[],ge=this.path,fe=0;fe<ge.length;fe++){var je=ge[fe];switch(je.type){case"begin":Ae.push({begin:!0});break;case"close":Ae.push({close:!0});break;case"mt":Ae.push({start:je,deltas:[],abs:[]});break;case"lt":var ke=Ae.length;if(ge[fe-1]&&!isNaN(ge[fe-1].x)&&(se=[je.x-ge[fe-1].x,je.y-ge[fe-1].y],ke>0)){for(;ke>=0;ke--)if(Ae[ke-1].close!==!0&&Ae[ke-1].begin!==!0){Ae[ke-1].deltas.push(se),Ae[ke-1].abs.push(je);break}}break;case"bct":se=[je.x1-ge[fe-1].x,je.y1-ge[fe-1].y,je.x2-ge[fe-1].x,je.y2-ge[fe-1].y,je.x-ge[fe-1].x,je.y-ge[fe-1].y],Ae[Ae.length-1].deltas.push(se);break;case"qct":var Te=ge[fe-1].x+2/3*(je.x1-ge[fe-1].x),De=ge[fe-1].y+2/3*(je.y1-ge[fe-1].y),Qe=je.x+2/3*(je.x1-je.x),Ne=je.y+2/3*(je.y1-je.y),pe=je.x,Pe=je.y;se=[Te-ge[fe-1].x,De-ge[fe-1].y,Qe-ge[fe-1].x,Ne-ge[fe-1].y,pe-ge[fe-1].x,Pe-ge[fe-1].y],Ae[Ae.length-1].deltas.push(se);break;case"arc":Ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ae[Ae.length-1].abs)&&Ae[Ae.length-1].abs.push(je)}}ce=Y?null:U==="stroke"?"stroke":"fill";for(var rt=!1,qe=0;qe<Ae.length;qe++)if(Ae[qe].arc)for(var Me=Ae[qe].abs,wt=0;wt<Me.length;wt++){var We=Me[wt];We.type==="arc"?L.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,Y,!rt):J.call(this,We.x,We.y),rt=!0}else if(Ae[qe].close===!0)this.pdf.internal.out("h"),rt=!1;else if(Ae[qe].begin!==!0){var Wt=Ae[qe].start.x,Nt=Ae[qe].start.y;Z.call(this,Ae[qe].deltas,Wt,Nt),rt=!0}ce&&T.call(this,ce),Y&&G.call(this)}},H=function(U){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-se;case"top":return U+Y-se;case"hanging":return U+Y-2*se;case"middle":return U+Y/2-se;default:return U}},D=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(Y,se){this.colorStops.push([Y,se])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(U,Y,se,ce,Ae,ge,fe,je,ke){for(var Te=q.call(this,se,ce,Ae,ge),De=0;De<Te.length;De++){var Qe=Te[De];De===0&&(ke?M.call(this,Qe.x1+U,Qe.y1+Y):J.call(this,Qe.x1+U,Qe.y1+Y)),ee.call(this,U,Y,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}je?G.call(this):T.call(this,fe)},T=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(U,Y){this.pdf.internal.out(r(U)+" "+n(Y)+" m")},V=function(U){var Y;switch(U.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var se=this.pdf.getTextDimensions(U.text),ce=H.call(this,U.y),Ae=D.call(this,ce)-se.h,ge=this.ctx.transform.applyToPoint(new o(U.x,ce)),fe=this.ctx.transform.decompose(),je=new A;je=(je=(je=je.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var ke,Te,De,Qe=this.ctx.transform.applyToRectangle(new l(U.x,ce,se.w,se.h)),Ne=je.applyToRectangle(new l(U.x,Ae,se.w,se.h)),pe=j.call(this,Ne),Pe=[],rt=0;rt<pe.length;rt+=1)Pe.indexOf(pe[rt])===-1&&Pe.push(pe[rt]);if(I(Pe),this.autoPaging)for(var qe=Pe[0],Me=Pe[Pe.length-1],wt=qe;wt<Me+1;wt++){this.pdf.setPage(wt);var We=wt===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[2],at=Nt-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],dt=pt-this.margin[3],xt=wt===1?0:Wt+(wt-2)*at;if(this.ctx.clip_path.length!==0){var It=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(ke,this.posX+this.margin[3],-1*xt+We),O.call(this,"fill",!0),this.path=It}var gt=B([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-xt+We+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*U.scale),De=this.lineWidth,this.lineWidth=De*U.scale);var Ot=this.autoPaging!=="text";if(Ot||gt.y+gt.h<=Nt){if(Ot||gt.y>=We&&gt.x<=pt){var vt=Ot?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||pt-gt.x)[0],Hr=B([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-xt+We+this.ctx.prevPageLastElemOffset)[0],Gt=Ot&&(wt>qe||wt<Me)&&N.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,at,null).clip().discardPath()),this.pdf.text(vt,Hr.x,Hr.y,{angle:U.angle,align:Y,renderingMode:U.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else gt.y<Nt&&(this.ctx.prevPageLastElemOffset+=Nt-gt.y);U.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=De)}else U.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*U.scale),De=this.lineWidth,this.lineWidth=De*U.scale),this.pdf.text(U.text,ge.x+this.posX,ge.y+this.posY,{angle:U.angle,align:Y,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=De)},J=function(U,Y,se,ce){se=se||0,ce=ce||0,this.pdf.internal.out(r(U+se)+" "+n(Y+ce)+" l")},Z=function(U,Y,se){return this.pdf.lines(U,Y,se,null,null)},ee=function(U,Y,se,ce,Ae,ge,fe,je){this.pdf.internal.out([t(s(se+U)),t(i(ce+Y)),t(s(Ae+U)),t(i(ge+Y)),t(s(fe+U)),t(i(je+Y)),"c"].join(" "))},q=function(U,Y,se,ce){for(var Ae=2*Math.PI,ge=Math.PI/2;Y>se;)Y-=Ae;var fe=Math.abs(se-Y);fe<Ae&&ce&&(fe=Ae-fe);for(var je=[],ke=ce?-1:1,Te=Y;fe>1e-5;){var De=Te+ke*Math.min(fe,ge);je.push(W.call(this,U,Te,De)),fe-=Math.abs(De-Te),Te=De}return je},W=function(U,Y,se){var ce=(se-Y)/2,Ae=U*Math.cos(ce),ge=U*Math.sin(ce),fe=Ae,je=-ge,ke=fe*fe+je*je,Te=ke+fe*Ae+je*ge,De=4/3*(Math.sqrt(2*ke*Te)-Te)/(fe*ge-je*Ae),Qe=fe-De*je,Ne=je+De*fe,pe=Qe,Pe=-Ne,rt=ce+Y,qe=Math.cos(rt),Me=Math.sin(rt);return{x1:U*Math.cos(Y),y1:U*Math.sin(Y),x2:Qe*qe-Ne*Me,y2:Qe*Me+Ne*qe,x3:pe*qe-Pe*Me,y3:pe*Me+Pe*qe,x4:U*Math.cos(se),y4:U*Math.sin(se)}},X=function(U){return 180*U/Math.PI},K=function(U,Y,se,ce,Ae,ge){var fe=U+.5*(se-U),je=Y+.5*(ce-Y),ke=Ae+.5*(se-Ae),Te=ge+.5*(ce-ge),De=Math.min(U,Ae,fe,ke),Qe=Math.max(U,Ae,fe,ke),Ne=Math.min(Y,ge,je,Te),pe=Math.max(Y,ge,je,Te);return new l(De,Ne,Qe-De,pe-Ne)},le=function(U,Y,se,ce,Ae,ge,fe,je){var ke,Te,De,Qe,Ne,pe,Pe,rt,qe,Me,wt,We,Wt,Nt,at=se-U,pt=ce-Y,dt=Ae-se,xt=ge-ce,It=fe-Ae,gt=je-ge;for(Te=0;Te<41;Te++)qe=(Pe=(De=U+(ke=Te/40)*at)+ke*((Ne=se+ke*dt)-De))+ke*(Ne+ke*(Ae+ke*It-Ne)-Pe),Me=(rt=(Qe=Y+ke*pt)+ke*((pe=ce+ke*xt)-Qe))+ke*(pe+ke*(ge+ke*gt-pe)-rt),Te==0?(wt=qe,We=Me,Wt=qe,Nt=Me):(wt=Math.min(wt,qe),We=Math.min(We,Me),Wt=Math.max(Wt,qe),Nt=Math.max(Nt,Me));return new l(Math.round(wt),Math.round(We),Math.round(Wt-wt),Math.round(Nt-We))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,Y,se=(U=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:Y}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(Zt.API),function(e){var t=function(o){var l,A,u,h,m,w,p,b,N,j;for(A=[],u=0,h=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;h>u;u+=4)(m=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(w=(m=((m=((m=((m=(m-(j=m%85))/85)-(N=m%85))/85)-(b=m%85))/85)-(p=m%85))/85)%85,A.push(w+33,p+33,b+33,N+33,j+33)):A.push(122);return function(y,B){for(var I=B;I>0;I--)y.pop()}(A,l.length),String.fromCharCode.apply(String,A)+"~>"},r=function(o){var l,A,u,h,m,w=String,p="length",b=255,N="charCodeAt",j="slice",y="replace";for(o[j](-2),o=o[j](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],h=0,m=(o+=l="uuuuu"[j](o[p]%5||5))[p];m>h;h+=5)A=52200625*(o[N](h)-33)+614125*(o[N](h+1)-33)+7225*(o[N](h+2)-33)+85*(o[N](h+3)-33)+(o[N](h+4)-33),u.push(b&A>>24,b&A>>16,b&A>>8,b&A);return function(B,I){for(var _=I;_>0;_--)B.pop()}(u,l[p]),w.fromCharCode.apply(w,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var A="",u=0;u<o.length;u+=2)A+=String.fromCharCode("0x"+(o[u]+o[u+1]));return A},i=function(o){for(var l=new Uint8Array(o.length),A=o.length;A--;)l[A]=o.charCodeAt(A);return(l=UN(l)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};e.processDataByFilters=function(o,l){var A=0,u=o||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),A=0;A<l.length;A+=1)switch(l[A]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=s(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[A]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(Zt.API),function(e){e.loadFile=function(t,r,n){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(A,u,h){var m=new XMLHttpRequest,w=0,p=function(b){var N=b.length,j=[],y=String.fromCharCode;for(w=0;w<N;w+=1)j.push(y(255&b.charCodeAt(w)));return j.join("")};if(m.open("GET",A,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?h(p(this.responseText)):h(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(s,i,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Zt.API),function(e){function t(){return(yr.html2canvas?Promise.resolve(yr.html2canvas):m5(()=>Promise.resolve().then(()=>u0e),void 0,import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(yr.DOMPurify?Promise.resolve(yr.DOMPurify):m5(()=>import("./purify.es-BFmuJLeH.js"),[],import.meta.url)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var A=tn(l);return A==="undefined"?"undefined":A==="string"||l instanceof String?"string":A==="number"||l instanceof Number?"number":A==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":A==="object"?"object":"unknown"},s=function(l,A){var u=document.createElement(l);for(var h in A.className&&(u.className=A.className),A.innerHTML&&A.dompurify&&(u.innerHTML=A.dompurify.sanitize(A.innerHTML)),A.style)u.style[h]=A.style[h];return u},i=function l(A,u){for(var h=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),m=A.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,u));return A.nodeType===1&&(A.nodeName==="CANVAS"?(h.width=A.width,h.height=A.height,h.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(h.value=A.value),h.addEventListener("load",function(){h.scrollTop=A.scrollTop,h.scrollLeft=A.scrollLeft},!0)),h},o=function l(A){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),u);return(h=h.setProgress(1,l,1,[l])).set(A)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,A){return l.__proto__=A||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,A){return this.then(function(){switch(A=A||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),A){case"string":return this.then(r).then(function(u){return this.set({src:s("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},A=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);A.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(A),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(A){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,A(this.prop.container,u)}).then(function(A){(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(A){var u=this.opt.jsPDF,h=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var p=0;p<h.length;++p){var b=h[p],N=b.src.find(function(j){return j.format==="truetype"});N&&u.addFont(N.url,b.ref.name,b.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,u.context2d.save(!0),A(this.prop.container,w)}).then(function(A){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(A),this.prop.canvas=A,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,A,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,A):this.outputPdf(l,A)},o.prototype.outputPdf=function(l,A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,A)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var A=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(A)})},o.prototype.get=function(l,A){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return A?A(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function A(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(l=l||Zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:A(l.inner.width,l.k),height:A(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,A,u,h){return l!=null&&(this.progress.val=l),A!=null&&(this.progress.state=A),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,A,u,h){return this.setProgress(l?this.progress.val+l:null,A||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(l,A){var u=this;return this.thenCore(l,A,function(h,m){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(w){return u.updateProgress(null,h),w}).then(h,m).then(function(w){return u.updateProgress(1),w})})},o.prototype.thenCore=function(l,A,u){u=u||Promise.prototype.then;var h=this;l&&(l=l.bind(h)),A&&(A=A.bind(h));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),w=u.call(m,l,A);return o.convert(w,h.__proto__)},o.prototype.thenExternal=function(l,A){return Promise.prototype.then.call(this,l,A)},o.prototype.thenList=function(l){var A=this;return l.forEach(function(u){A=A.thenCore(u)}),A},o.prototype.catch=function(l){l&&(l=l.bind(this));var A=Promise.prototype.catch.call(this,l);return o.convert(A,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Zt.getPageSize=function(l,A,u){if(tn(l)==="object"){var h=l;l=h.orientation,A=h.unit||A,u=h.format||u}A=A||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var m,w=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(A){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+A}var b,N=0,j=0;if(p.hasOwnProperty(w))N=p[w][1]/m,j=p[w][0]/m;else try{N=u[1],j=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",j>N&&(b=j,j=N,N=b);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",N>j&&(b=j,j=N,N=b)}return{width:j,height:N,unit:A,k:m,orientation:l}},e.html=function(l,A){(A=A||{}).callback=A.callback||function(){},A.html2canvas=A.html2canvas||{},A.html2canvas.canvas=A.html2canvas.canvas||this.canvas,A.jsPDF=A.jsPDF||this,A.fontFaces=A.fontFaces?A.fontFaces.map(M5):null;var u=new o(A);return A.worker?u:u.from(l).doCallback()}}(Zt.API),Zt.API.addJS=function(e){return JF=e,this.internal.events.subscribe("postPutResources",function(){Px=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Px+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ZF=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+JF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Px!==void 0&&ZF!==void 0&&this.internal.out("/Names <</JavaScript "+Px+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=n.exec(o);if(l!=null){var A=l[1];r.internal.newObjectDeferredBegin(A,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(i=0;i<u;i++){var m=r.internal.newObject();h.push(m);var w=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var A=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+A.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Zt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,o,l){var A,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,A=function(m){for(var w,p=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,N={width:0,height:0,numcomponents:1},j=4;j<b;j+=2){if(j+=p,t.indexOf(m.charCodeAt(j+1))!==-1){w=256*m.charCodeAt(j+5)+m.charCodeAt(j+6),N={width:256*m.charCodeAt(j+7)+m.charCodeAt(j+8),height:w,numcomponents:m.charCodeAt(j+9)};break}p=256*m.charCodeAt(j+2)+m.charCodeAt(j+3)}return N}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),A.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:r,width:A.width,height:A.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:s}}return h}}(Zt.API),Zt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=sce(e,{checkCrc:!0}),o=i.width,l=i.height,A=i.channels,u=i.palette,h=i.depth;s=u&&A===1?function(D){for(var L=D.width,T=D.height,G=D.data,M=D.palette,V=D.depth,J=!1,Z=[],ee=[],q=void 0,W=!1,X=0,K=0;K<M.length;K++){var le=Ml(M[K],4),ne=le[0],U=le[1],Y=le[2],se=le[3];Z.push(ne,U,Y),se!=null&&(se===0?(X++,ee.length<1&&ee.push(K)):se<255&&(W=!0))}if(W||X>1){J=!0,ee=void 0;var ce=L*T;q=new Uint8Array(ce);for(var Ae=new DataView(G.buffer),ge=0;ge<ce;ge++){var fe=Q5(Ae,ge,V),je=Ml(M[fe],4)[3];q[ge]=je}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:G,alphaBytes:q,needSMask:J,palette:Z,mask:ee}}(i):A===2||A===4?function(D){for(var L=D.data,T=D.width,G=D.height,M=D.channels,V=D.depth,J=M===2?"DeviceGray":"DeviceRGB",Z=M-1,ee=T*G,q=Z,W=ee*q,X=1*ee,K=Math.ceil(W*V/8),le=Math.ceil(X*V/8),ne=new Uint8Array(K),U=new Uint8Array(le),Y=new DataView(L.buffer),se=new DataView(ne.buffer),ce=new DataView(U.buffer),Ae=!1,ge=0;ge<ee;ge++){for(var fe=ge*M,je=0;je<q;je++)lk(se,Q5(Y,fe+je,V),ge*q+je,V);var ke=Q5(Y,fe+q,V);ke<(1<<V)-1&&(Ae=!0),lk(ce,ke,1*ge,V)}return{colorSpace:J,colorsPerPixel:Z,colorBytes:ne,alphaBytes:U,needSMask:Ae}}(i):function(D){var L=D.data,T=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:T,colorsPerPixel:T==="DeviceGray"?1:3,colorBytes:L instanceof Uint8Array?L:new Uint8Array(L.buffer),needSMask:!1}}(i);var m,w,p,b=s,N=b.colorSpace,j=b.colorsPerPixel,y=b.colorBytes,B=b.alphaBytes,I=b.needSMask,_=b.palette,O=b.mask,H=null;return n!==Zt.API.image_compression.NONE&&typeof UN=="function"?(H=function(D){var L;switch(D){case Zt.API.image_compression.FAST:L=11;break;case Zt.API.image_compression.MEDIUM:L=13;break;case Zt.API.image_compression.SLOW:L=14;break;default:L=12}return L}(n),m=this.decode.FLATE_DECODE,w="/Predictor ".concat(H," "),e=nk(y,o*j,j,n),I&&(p=nk(B,o,1,n))):(m=void 0,w="",e=y,I&&(p=B)),w+="/Colors ".concat(j," /BitsPerComponent ").concat(h," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:m,decodeParameters:w,transparency:O,palette:_,sMask:p,predictor:H,width:o,height:l,bitsPerComponent:h,colorSpace:N}}},function(e){e.processGIF89A=function(t,r,n,s){var i=new Bce(t),o=i.width,l=i.height,A=[];i.decodeAndBlitFrameRGBA(0,A);var u={data:A,width:o,height:l},h=new H5(100).encode(u,100);return e.processJPEG.call(this,h,r,n,s)},e.processGIF87A=e.processGIF89A}(Zt.API),Nl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Nl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Rn.log("bit decode error:"+r)}},Nl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var A=this.palette[i>>7-l&1];this.data[o+4*l]=A.blue,this.data[o+4*l+1]=A.green,this.data[o+4*l+2]=A.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Nl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=i>>4,A=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*s+1>=this.width)break;u=this.palette[A],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Nl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Nl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,A=(i>>10&t)/t*255|0,u=i>>15?255:0,h=n*this.width*4+4*s;this.data[h]=A,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=u}this.pos+=e}},Nl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,A=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,h=s*this.width*4+4*i;this.data[h]=u,this.data[h+1]=A,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},Nl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Nl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},Nl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new Nl(t,!1),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},u=new H5(100).encode(A,100);return e.processJPEG.call(this,u,r,n,s)}}(Zt.API),Ak.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new Ak(t),o=i.width,l=i.height,A={data:i.getData(),width:o,height:l},u=new H5(100).encode(A,100);return e.processJPEG.call(this,u,r,n,s)}}(Zt.API),Zt.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,A=0,u=0;u<s;u+=4){var h=n[u],m=n[u+1],w=n[u+2],p=n[u+3];i[l++]=h,i[l++]=m,i[l++]=w,o[A++]=p}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Zt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Sf=Zt.API,Dx=Sf.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,A=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,h=u.fof?u.fof:1,m=t.doKerning!==!1,w=0,p=e.length,b=0,N=l[0]||A,j=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?j.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(w=m&&tn(u[n])==="object"&&!isNaN(parseInt(u[n][b],10))?u[n][b]/h:0,j.push((l[n]||N)/A+w)),b=n;return j},ek=Sf.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Sf.processArabic&&(e=Sf.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:Dx.apply(this,arguments).reduce(function(i,o){return i+o},0)},tk=function(e,t,r,n){for(var s=[],i=0,o=e.length,l=0;i!==o&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var A=i;for(l=0;i!==o;)l+t[i]>n&&(s.push(e.slice(A,i)),l=0,A=i),l+=t[i],i++;return A!==i&&s.push(e.slice(A,i)),s},rk=function(e,t,r){r||(r={});var n,s,i,o,l,A,u,h=[],m=[h],w=r.textIndent||0,p=0,b=0,N=e.split(" "),j=Dx.apply(this,[" ",r])[0];if(A=r.lineIndent===-1?N[0].length+2:r.lineIndent||0){var y=Array(A).join(" "),B=[];N.map(function(_){(_=_.split(/\s*\n/)).length>1?B=B.concat(_.map(function(O,H){return(H&&O.length?`
`:"")+O})):B.push(_[0])}),N=B,A=ek.apply(this,[y,r])}for(i=0,o=N.length;i<o;i++){var I=0;if(n=N[i],A&&n[0]==`
`&&(n=n.substr(1),I=1),w+p+(b=(s=Dx.apply(this,[n,r])).reduce(function(_,O){return _+O},0))>t||I){if(b>t){for(l=tk.apply(this,[n,s,t-(w+p),t]),h.push(l.shift()),h=[l.pop()];l.length;)m.push([l.shift()]);b=s.slice(n.length-(h[0]?h[0].length:0)).reduce(function(_,O){return _+O},0)}else h=[n];m.push(h),w=b+A,p=j}else h.push(n),w+=p+b,p=j}return u=A?function(_,O){return(O?y:"")+_.join(" ")}:function(_){return _.join(" ")},m.map(u)},Sf.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle),w="Unicode";return m.metadata[w]?{widths:m.metadata[w].widths||{0:1},kerning:m.metadata[w].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,A,u=[];for(l=0,A=n.length;l<A;l++)u=u.concat(rk.apply(this,[n[l],o,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var o=function(w){return"0x"+parseInt(w,10).toString(16)},l=e.__fontmetrics__.compress=function(w){var p,b,N,j,y=["{"];for(var B in w){if(p=w[B],isNaN(parseInt(B,10))?b="'"+B+"'":(B=parseInt(B,10),b=(b=o(B).slice(2)).slice(0,-1)+s[b.slice(-1)]),typeof p=="number")p<0?(N=o(p).slice(3),j="-"):(N=o(p).slice(2),j=""),N=j+N.slice(0,-1)+s[N.slice(-1)];else{if(tn(p)!=="object")throw new Error("Don't know what to do with value type "+tn(p)+".");N=l(p)}y.push(b+N)}return y.push("}"),y.join("")},A=e.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,b,N,j,y={},B=1,I=y,_=[],O="",H="",D=w.length-1,L=1;L<D;L+=1)(j=w[L])=="'"?p?(N=p.join(""),p=void 0):p=[]:p?p.push(j):j=="{"?(_.push([I,N]),I={},N=void 0):j=="}"?((b=_.pop())[0][b[1]]=I,N=void 0,I=b[0]):j=="-"?B=-1:N===void 0?n.hasOwnProperty(j)?(O+=n[j],N=parseInt(O,16)*B,B=1,O=""):O+=j:n.hasOwnProperty(j)?(H+=n[j],I[N]=parseInt(H,16)*B,B=1,N=void 0,H=""):H+=j;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:A("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":A("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":A("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:A("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":A("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:A("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":A("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":A("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":A("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":A("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(w){var p=w.font,b=m.Unicode[p.postScriptName];b&&(p.metadata.Unicode={},p.metadata.Unicode.widths=b.widths,p.metadata.Unicode.kerning=b.kerning);var N=h.Unicode[p.postScriptName];N&&(p.metadata.Unicode.encoding=N,p.encoding=N.codePages[0])}])}(Zt.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Hw(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(Zt),Zt.API.addSvgAsImage=function(e,t,r,n,s,i,o,l){if(isNaN(t)||isNaN(r))throw Rn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Rn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=n,A.height=s;var u=A.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,A.width,A.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(yr.canvg?Promise.resolve(yr.canvg):m5(()=>import("./index.es-3jWy_CRY.js"),[],import.meta.url)).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(u,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(h)}).then(function(){m.addImage(A.toDataURL("image/jpeg",1),t,r,n,s,o,l)})},Zt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Zt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),A=[],u=0,h=0,m=0;function w(b,N){var j,y=!1;for(j=0;j<b.length;j+=1)b[j]===N&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(tn(e)==="object"){for(s in e)if(i=e[s],w(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&w(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")A.push(String(i[u]-1));else if(i[u].length>1){for(h=0;h<i[u].length;h+=1)typeof i[u][h]!="number"&&(n=!1);n===!0&&A.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+A.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,N=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?N.push("/"+b+" /"+r[b].value):N.push("/"+b+" "+r[b].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),A=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+s.length+A.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+A),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Zt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var l,A=o.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],m=0,w=i.length;m<w;++m){if(l=o.metadata.characterToGlyph(i.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(m),A.indexOf(l)==-1&&(A.push(l),A.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(u[4-l.length],l)}return h.join("")},n=function(i){var o,l,A,u,h,m,w;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,A=[],m=0,w=(l=Object.keys(i).sort(function(p,b){return p-b})).length;m<w;m++)o=l[m],A.length>=100&&(h+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar`,A=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),A.push("<"+o+"><"+u+">"));return A.length&&(h+=`
`+A.length+` beginbfchar
`+A.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,w=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",b=0;b<w.length;b++)p+=String.fromCharCode(w[b]);var N=u();h({data:p,addLength1:!0,objectId:N}),A("endobj");var j=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:j}),A("endobj");var y=u();A("<<"),A("/Type /FontDescriptor"),A("/FontName /"+Mf(l.fontName)),A("/FontFile2 "+N+" 0 R"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/Flags "+l.metadata.flags),A("/StemV "+l.metadata.stemV),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A(">>"),A("endobj");var B=u();A("<<"),A("/Type /Font"),A("/BaseFont /"+Mf(l.fontName)),A("/FontDescriptor "+y+" 0 R"),A("/W "+e.API.PDFObject.convert(m)),A("/CIDToGIDMap /Identity"),A("/DW 1000"),A("/Subtype /CIDFontType2"),A("/CIDSystemInfo"),A("<<"),A("/Supplement 0"),A("/Registry (Adobe)"),A("/Ordering ("+l.encoding+")"),A(">>"),A(">>"),A("endobj"),l.objectNumber=u(),A("<<"),A("/Type /Font"),A("/Subtype /Type0"),A("/ToUnicode "+j+" 0 R"),A("/BaseFont /"+Mf(l.fontName)),A("/Encoding /"+l.encoding),A("/DescendantFonts ["+B+" 0 R]"),A(">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var l=o.font,A=o.out,u=o.newObject,h=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,w="",p=0;p<m.length;p++)w+=String.fromCharCode(m[p]);var b=u();h({data:w,addLength1:!0,objectId:b}),A("endobj");var N=u();h({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),A("endobj");var j=u();A("<<"),A("/Descent "+l.metadata.decender),A("/CapHeight "+l.metadata.capHeight),A("/StemV "+l.metadata.stemV),A("/Type /FontDescriptor"),A("/FontFile2 "+b+" 0 R"),A("/Flags 96"),A("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),A("/FontName /"+Mf(l.fontName)),A("/ItalicAngle "+l.metadata.italicAngle),A("/Ascent "+l.metadata.ascender),A(">>"),A("endobj"),l.objectNumber=u();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));A("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Mf(l.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),A("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",A=i.x,u=i.y,h=i.options||{},m=i.mutex||{},w=m.pdfEscape,p=m.activeFontKey,b=m.fonts,N=p,j="",y=0,B="",I=b[N].encoding;if(b[N].encoding!=="Identity-H")return{text:l,x:A,y:u,options:h,mutex:m};for(B=l,N=p,Array.isArray(l)&&(B=l[0]),y=0;y<B.length;y+=1)b[N].metadata.hasOwnProperty("cmap")&&(o=b[N].metadata.cmap.unicode.codeMap[B[y].charCodeAt(0)]),o||B[y].charCodeAt(0)<256&&b[N].metadata.hasOwnProperty("Unicode")?j+=B[y]:j+="";var _="";return parseInt(N.slice(1))<14||I==="WinAnsiEncoding"?_=w(j,N).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(_=r(j,b[N])),m.isHex=!0,{text:_,x:A,y:u,options:h,mutex:m}};t.events.push(["postProcessText",function(i){var o=i.text||"",l=[],A={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([s(Object.assign({},A,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(s(Object.assign({},A,{text:o[u]})).text);i.text=l}else i.text=s(Object.assign({},A,{text:o})).text}])}(Zt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Zt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,o,l,A,u,h,m=t,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,I=0;this.__bidiEngine__={};var _=function(M){var V=M.charCodeAt(),J=V>>8,Z=N[J];return Z!==void 0?m[256*Z+(255&V)]:J===252||J===253?"AL":y.test(J)?"L":J===8?"R":"N"},O=function(M){for(var V,J=0;J<M.length;J++){if((V=_(M.charAt(J)))==="L")return!1;if(V==="R")return!0}return!1},H=function(M,V,J,Z){var ee,q,W,X,K=V[Z];switch(K){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(K="AN");break;case"AL":B=!0,K="R";break;case"WS":case"BN":K="N";break;case"CS":Z<1||Z+1>=V.length||(ee=J[Z-1])!=="EN"&&ee!=="AN"||(q=V[Z+1])!=="EN"&&q!=="AN"?K="N":B&&(q="AN"),K=q===ee?q:"N";break;case"ES":K=(ee=Z>0?J[Z-1]:"B")==="EN"&&Z+1<V.length&&V[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&J[Z-1]==="EN"){K="EN";break}if(B){K="N";break}for(W=Z+1,X=V.length;W<X&&V[W]==="ET";)W++;K=W<X&&V[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(X=V.length,W=Z+1;W<X&&V[W]==="NSM";)W++;if(W<X){var le=M[Z],ne=le>=1425&&le<=2303||le===64286;if(ee=V[W],ne&&(ee==="R"||ee==="AL")){K="R";break}}}K=Z<1||(ee=V[Z-1])==="B"?"N":J[Z-1];break;case"B":B=!1,s=!0,K=I;break;case"S":i=!0,K="N"}return K},D=function(M,V,J){var Z=M.split("");return J&&L(Z,J,{hiLevel:I}),Z.reverse(),V&&V.reverse(),Z.join("")},L=function(M,V,J){var Z,ee,q,W,X,K=-1,le=M.length,ne=0,U=[],Y=I?p:w,se=[];for(B=!1,s=!1,i=!1,ee=0;ee<le;ee++)se[ee]=_(M[ee]);for(q=0;q<le;q++){if(X=ne,U[q]=H(M,se,U,q),Z=240&(ne=Y[X][b[U[q]]]),ne&=15,V[q]=W=Y[ne][5],Z>0)if(Z===16){for(ee=K;ee<q;ee++)V[ee]=1;K=-1}else K=-1;if(Y[ne][6])K===-1&&(K=q);else if(K>-1){for(ee=K;ee<q;ee++)V[ee]=W;K=-1}se[q]==="B"&&(V[q]=0),J.hiLevel|=W}i&&function(ce,Ae,ge){for(var fe=0;fe<ge;fe++)if(ce[fe]==="S"){Ae[fe]=I;for(var je=fe-1;je>=0&&ce[je]==="WS";je--)Ae[je]=I}}(se,V,le)},T=function(M,V,J,Z,ee){if(!(ee.hiLevel<M)){if(M===1&&I===1&&!s)return V.reverse(),void(J&&J.reverse());for(var q,W,X,K,le=V.length,ne=0;ne<le;){if(Z[ne]>=M){for(X=ne+1;X<le&&Z[X]>=M;)X++;for(K=ne,W=X-1;K<W;K++,W--)q=V[K],V[K]=V[W],V[W]=q,J&&(q=J[K],J[K]=J[W],J[W]=q);ne=X}ne++}}},G=function(M,V,J){var Z=M.split(""),ee={hiLevel:I};return J||(J=[]),L(Z,J,ee),function(q,W,X){if(X.hiLevel!==0&&h)for(var K,le=0;le<q.length;le++)W[le]===1&&(K=j.indexOf(q[le]))>=0&&(q[le]=j[K+1])}(Z,J,ee),T(2,Z,V,J,ee),T(1,Z,V,J,ee),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(M,V,J){if(function(ee,q){if(q)for(var W=0;W<ee.length;W++)q[W]=W;l===void 0&&(l=O(ee)),u===void 0&&(u=O(ee))}(M,V),o||!A||u)if(o&&A&&l^u)I=l?1:0,M=D(M,V,J);else if(!o&&A&&u)I=l?1:0,M=G(M,V,J),M=D(M,V);else if(!o||l||A||u){if(o&&!A&&l^u)M=D(M,V),l?(I=0,M=G(M,V,J)):(I=1,M=G(M,V,J),M=D(M,V));else if(o&&l&&!A&&u)I=1,M=G(M,V,J),M=D(M,V);else if(!o&&!A&&l^u){var Z=h;l?(I=1,M=G(M,V,J),I=0,h=!1,M=G(M,V,J),h=Z):(I=0,M=G(M,V,J),M=D(M,V),I=1,h=!1,M=G(M,V,J),h=Z,M=D(M,V))}}else I=0,M=G(M,V,J);else I=l?1:0,M=G(M,V,J);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,A=M.isOutputVisual,l=M.isInputRtl,u=M.isOutputRtl,h=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Zt),Zt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new kd(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Uce(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Sce(this.contents),this.head=new jce(this),this.name=new Tce(this),this.cmap=new JM(this),this.toUnicode={},this.hhea=new Ice(this),this.maxp=new Lce(this),this.hmtx=new Pce(this),this.post=new kce(this),this.os2=new Fce(this),this.loca=new Mce(this),this.glyf=new Dce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,A,u;for(u=[],o=0,l=(A=this.bbox).length;o<l;o++)t=A[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,o,l;for(o=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Zl,kd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,o,l,A;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),A=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^A)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*l+A},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Sce=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,o,l,A,u,h,m,w,p,b,N;for(N in p=Object.keys(r).length,A=Math.log(2),m=16*Math.floor(Math.log(p)/A),o=Math.floor(m/A),h=16*p-m,(s=new kd).writeInt(this.scalarType),s.writeShort(p),s.writeShort(m),s.writeShort(o),s.writeShort(h),i=16*p,u=s.pos+i,l=null,b=[],r)for(w=r[N],s.writeString(N),s.writeInt(e(w)),s.writeInt(u),s.writeInt(w.length),b=b.concat(w),N==="head"&&(l=u),u+=w.length;u%4;)b.push(0),u++;return s.write(b),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,o;for(r=eU.call(r);r.length%4;)r.push(0);for(i=new kd(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),Ece={}.hasOwnProperty,Qc=function(e,t){for(var r in t)Ece.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Zl=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var jce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Zl),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new kd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),uk=function(){function e(t,r){var n,s,i,o,l,A,u,h,m,w,p,b,N,j,y,B,I;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(A=0;A<256;++A)this.codeMap[A]=t.readByte();break;case 4:for(p=t.readUInt16(),w=p/2,t.pos+=6,i=function(){var _,O;for(O=[],A=_=0;0<=w?_<w:_>w;A=0<=w?++_:--_)O.push(t.readUInt16());return O}(),t.pos+=2,N=function(){var _,O;for(O=[],A=_=0;0<=w?_<w:_>w;A=0<=w?++_:--_)O.push(t.readUInt16());return O}(),u=function(){var _,O;for(O=[],A=_=0;0<=w?_<w:_>w;A=0<=w?++_:--_)O.push(t.readUInt16());return O}(),h=function(){var _,O;for(O=[],A=_=0;0<=w?_<w:_>w;A=0<=w?++_:--_)O.push(t.readUInt16());return O}(),s=(this.length-t.pos+this.offset)/2,l=function(){var _,O;for(O=[],A=_=0;0<=s?_<s:_>s;A=0<=s?++_:--_)O.push(t.readUInt16());return O}(),A=y=0,I=i.length;y<I;A=++y)for(j=i[A],n=B=b=N[A];b<=j?B<=j:B>=j;n=b<=j?++B:--B)h[A]===0?o=n+u[A]:(o=l[h[A]/2+(n-b)-(w-A)]||0)!==0&&(o+=u[A]),this.codeMap[n]=65535&o}t.pos=m}return e.encode=function(t,r){var n,s,i,o,l,A,u,h,m,w,p,b,N,j,y,B,I,_,O,H,D,L,T,G,M,V,J,Z,ee,q,W,X,K,le,ne,U,Y,se,ce,Ae,ge,fe,je,ke,Te,De;switch(Z=new kd,o=Object.keys(t).sort(function(Qe,Ne){return Qe-Ne}),r){case"macroman":for(N=0,j=function(){var Qe=[];for(b=0;b<256;++b)Qe.push(0);return Qe}(),B={0:0},i={},ee=0,K=o.length;ee<K;ee++)B[je=t[s=o[ee]]]==null&&(B[je]=++N),i[s]={old:t[s],new:B[t[s]]},j[s]=B[t[s]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(j),{charMap:i,subtable:Z.data,maxGlyphID:N+1};case"unicode":for(V=[],m=[],I=0,B={},n={},y=u=null,q=0,le=o.length;q<le;q++)B[O=t[s=o[q]]]==null&&(B[O]=++I),n[s]={old:O,new:B[O]},l=B[O]-s,y!=null&&l===u||(y&&m.push(y),V.push(s),u=l),y=s;for(y&&m.push(y),m.push(65535),V.push(65535),G=2*(T=V.length),L=2*Math.pow(Math.log(T)/Math.LN2,2),w=Math.log(L/2)/Math.LN2,D=2*T-L,A=[],H=[],p=[],b=W=0,ne=V.length;W<ne;b=++W){if(M=V[b],h=m[b],M===65535){A.push(0),H.push(0);break}if(M-(J=n[M].new)>=32768)for(A.push(0),H.push(2*(p.length+T-b)),s=X=M;M<=h?X<=h:X>=h;s=M<=h?++X:--X)p.push(n[s].new);else A.push(J-M),H.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*T+2*p.length),Z.writeUInt16(0),Z.writeUInt16(G),Z.writeUInt16(L),Z.writeUInt16(w),Z.writeUInt16(D),ge=0,U=m.length;ge<U;ge++)s=m[ge],Z.writeUInt16(s);for(Z.writeUInt16(0),fe=0,Y=V.length;fe<Y;fe++)s=V[fe],Z.writeUInt16(s);for(ke=0,se=A.length;ke<se;ke++)l=A[ke],Z.writeUInt16(l);for(Te=0,ce=H.length;Te<ce;Te++)_=H[Te],Z.writeUInt16(_);for(De=0,Ae=p.length;De<Ae;De++)N=p[De],Z.writeUInt16(N);return{charMap:n,subtable:Z.data,maxGlyphID:I+1}}},e}(),JM=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Zl),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new uk(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=uk.encode(t,r),(s=new kd).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e}(),Ice=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Zl),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Fce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Zl),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),kce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Zl),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,A;for(A=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)A.push(t.readUInt32());return A}).call(this)}},e}(),_ce=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Tce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Zl),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,o,l,A,u,h,m,w;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(A={},i=h=0,m=n.length;h<m;i=++h)s=n[i],t.pos=s.offset,u=t.readString(s.length),o=new _ce(u,s),A[w=s.nameID]==null&&(A[w]=[]),A[s.nameID].push(o);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e}(),Lce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Zl),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Pce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Zl),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,o,l,A;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(t.readInt16());return h}(),this.widths=(function(){var u,h,m,w;for(w=[],u=0,h=(m=this.metrics).length;u<h;u++)i=m[u],w.push(i.advance);return w}).call(this),n=this.widths[this.widths.length-1],A=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)A.push(this.widths.push(n));return A},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),eU=[].slice,Dce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Zl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,o,l,A,u,h,m;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new kd(r.read(s))).readShort(),u=l.readShort(),m=l.readShort(),A=l.readShort(),h=l.readShort(),this.cache[t]=o===-1?new Rce(l,u,m,A,h):new Oce(l,o,u,m,A,h),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,o,l,A;for(o=[],i=[],l=0,A=r.length;l<A;l++)s=t[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),Oce=function(){function e(t,r,n,s,i,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Rce=function(){function e(t,r,n,s,i){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new kd(eU.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Mce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Qc(e,Zl),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<n.length;++o)if(n[o]=s,i<r.length&&r[i]==o){++i,n[o]=s;var l=this.offsets[o],A=this.offsets[o+1]-l;A>0&&(s+=A)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},e}(),Uce=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,o,l,A;for(s={},o=0,l=t.length;o<l;o++)s[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in A=this.glyphsFor(r))n=A[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,o,l,A,u,h,m,w,p,b,N,j,y;for(s in n=JM.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},y=n.charMap)p[(A=y[s]).old]=A.new;for(b in w=n.maxGlyphID,o)b in p||(p[b]=w++);return h=function(B){var I,_;for(I in _={},B)_[B[I]]=I;return _}(p),m=Object.keys(h).sort(function(B,I){return B-I}),N=function(){var B,I,_;for(_=[],B=0,I=m.length;B<I;B++)l=m[B],_.push(h[l]);return _}(),i=this.font.glyf.encode(o,N,p),u=this.font.loca.encode(i.offsets,N),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},e}();Zt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+function(){var l,A,u;for(u=[],l=0,A=r.length;l<A;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var e3=function(e,t){return e3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},e3(e,t)};function Jl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e3(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var t3=function(){return t3=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},t3.apply(this,arguments)};function gi(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,[])).next())})}function ei(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ox(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||t)}var QA=function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),kv=function(e,t){return QA.fromClientRect(e,t.getBoundingClientRect())},Qce=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new QA(0,0,n,s)},_v=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},Ds=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},dk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hce=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rx=0;Rx<dk.length;Rx++)Hce[dk.charCodeAt(Rx)]=Rx;var hk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Mx=0;Mx<hk.length;Mx++)fp[hk.charCodeAt(Mx)]=Mx;var Vce=function(e){var t=e.length*.75,r=e.length,n,s=0,i,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),h=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=fp[e.charCodeAt(n)],o=fp[e.charCodeAt(n+1)],l=fp[e.charCodeAt(n+2)],A=fp[e.charCodeAt(n+3)],h[s++]=i<<2|o>>4,h[s++]=(o&15)<<4|l>>2,h[s++]=(l&3)<<6|A&63;return u},Kce=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Wce=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Th=5,lE=11,V5=2,Gce=lE-Th,tU=65536>>Th,zce=1<<Th,K5=zce-1,$ce=1024>>Th,qce=tU+$ce,Xce=qce,Yce=32,Zce=Xce+Yce,Jce=65536>>lE,eAe=1<<Gce,tAe=eAe-1,fk=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},rAe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},nAe=function(e,t){var r=Vce(e),n=Array.isArray(r)?Wce(r):new Uint32Array(r),s=Array.isArray(r)?Kce(r):new Uint16Array(r),i=24,o=fk(s,i/2,n[4]/2),l=n[5]===2?fk(s,(i+n[4])/2):rAe(n,Math.ceil((i+n[4])/4));return new sAe(n[0],n[1],n[2],n[3],o,l)},sAe=function(){function e(t,r,n,s,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Th],r=(r<<V5)+(t&K5),this.data[r];if(t<=65535)return r=this.index[tU+(t-55296>>Th)],r=(r<<V5)+(t&K5),this.data[r];if(t<this.highStart)return r=Zce-Jce+(t>>lE),r=this.index[r],r+=t>>Th&tAe,r=this.index[r],r=(r<<V5)+(t&K5),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),mk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",aAe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ux=0;Ux<mk.length;Ux++)aAe[mk.charCodeAt(Ux)]=Ux;var iAe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",pk=50,oAe=1,rU=2,nU=3,lAe=4,cAe=5,gk=7,sU=8,xk=9,td=10,r3=11,wk=12,n3=13,AAe=14,mp=15,s3=16,Qx=17,Ym=18,uAe=19,yk=20,a3=21,Zm=22,W5=23,Ef=24,go=25,pp=26,gp=27,jf=28,dAe=29,oh=30,hAe=31,Hx=32,Vx=33,i3=34,o3=35,l3=36,Hg=37,c3=38,zw=39,$w=40,G5=41,aU=42,fAe=43,mAe=[9001,65288],iU="!",Wr="",Kx="",A3=nAe(iAe),uA=[oh,l3],u3=[oAe,rU,nU,cAe],oU=[td,sU],vk=[gp,pp],pAe=u3.concat(oU),bk=[c3,zw,$w,i3,o3],gAe=[mp,n3],xAe=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(i,o){var l=A3.get(i);if(l>pk?(s.push(!0),l-=pk):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(s3);if(l===lAe||l===r3){if(o===0)return n.push(o),r.push(oh);var A=r[o-1];return pAe.indexOf(A)===-1?(n.push(n[o-1]),r.push(A)):(n.push(o),r.push(oh))}if(n.push(o),l===hAe)return r.push(t==="strict"?a3:Hg);if(l===aU||l===dAe)return r.push(oh);if(l===fAe)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Hg):r.push(oh);r.push(l)}),[n,r,s]},z5=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===t)return!0;if(o!==td)break}if(s===td)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var A=r;A<=n.length;){A++;var o=n[A];if(o===t)return!0;if(o!==td)break}if(l!==td)break}return!1},Ck=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===td)r--;else return n}return 0},wAe=function(e,t,r,n,s){if(r[n]===0)return Wr;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return Wr;var o=i-1,l=i+1,A=t[i],u=o>=0?t[o]:0,h=t[l];if(A===rU&&h===nU)return Wr;if(u3.indexOf(A)!==-1)return iU;if(u3.indexOf(h)!==-1||oU.indexOf(h)!==-1)return Wr;if(Ck(i,t)===sU)return Kx;if(A3.get(e[i])===r3||(A===Hx||A===Vx)&&A3.get(e[l])===r3||A===gk||h===gk||A===xk||[td,n3,mp].indexOf(A)===-1&&h===xk||[Qx,Ym,uAe,Ef,jf].indexOf(h)!==-1||Ck(i,t)===Zm||z5(W5,Zm,i,t)||z5([Qx,Ym],a3,i,t)||z5(wk,wk,i,t))return Wr;if(A===td)return Kx;if(A===W5||h===W5)return Wr;if(h===s3||A===s3)return Kx;if([n3,mp,a3].indexOf(h)!==-1||A===AAe||u===l3&&gAe.indexOf(A)!==-1||A===jf&&h===l3||h===yk||uA.indexOf(h)!==-1&&A===go||uA.indexOf(A)!==-1&&h===go||A===gp&&[Hg,Hx,Vx].indexOf(h)!==-1||[Hg,Hx,Vx].indexOf(A)!==-1&&h===pp||uA.indexOf(A)!==-1&&vk.indexOf(h)!==-1||vk.indexOf(A)!==-1&&uA.indexOf(h)!==-1||[gp,pp].indexOf(A)!==-1&&(h===go||[Zm,mp].indexOf(h)!==-1&&t[l+1]===go)||[Zm,mp].indexOf(A)!==-1&&h===go||A===go&&[go,jf,Ef].indexOf(h)!==-1)return Wr;if([go,jf,Ef,Qx,Ym].indexOf(h)!==-1)for(var m=i;m>=0;){var w=t[m];if(w===go)return Wr;if([jf,Ef].indexOf(w)!==-1)m--;else break}if([gp,pp].indexOf(h)!==-1)for(var m=[Qx,Ym].indexOf(A)!==-1?o:i;m>=0;){var w=t[m];if(w===go)return Wr;if([jf,Ef].indexOf(w)!==-1)m--;else break}if(c3===A&&[c3,zw,i3,o3].indexOf(h)!==-1||[zw,i3].indexOf(A)!==-1&&[zw,$w].indexOf(h)!==-1||[$w,o3].indexOf(A)!==-1&&h===$w||bk.indexOf(A)!==-1&&[yk,pp].indexOf(h)!==-1||bk.indexOf(h)!==-1&&A===gp||uA.indexOf(A)!==-1&&uA.indexOf(h)!==-1||A===Ef&&uA.indexOf(h)!==-1||uA.concat(go).indexOf(A)!==-1&&h===Zm&&mAe.indexOf(e[l])===-1||uA.concat(go).indexOf(h)!==-1&&A===Ym)return Wr;if(A===G5&&h===G5){for(var p=r[i],b=1;p>0&&(p--,t[p]===G5);)b++;if(b%2!==0)return Wr}return A===Hx&&h===Vx?Wr:Kx},yAe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=xAe(e,t.lineBreak),n=r[0],s=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(l){return[go,oh,aU].indexOf(l)!==-1?Hg:l}));var o=t.wordBreak==="keep-all"?i.map(function(l,A){return l&&e[A]>=19968&&e[A]<=40959}):void 0;return[n,s,o]},vAe=function(){function e(t,r,n,s){this.codePoints=t,this.required=r===iU,this.start=n,this.end=s}return e.prototype.slice=function(){return Ds.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),bAe=function(e,t){var r=_v(e),n=yAe(r,t),s=n[0],i=n[1],o=n[2],l=r.length,A=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var h=Wr;u<l&&(h=wAe(r,i,s,++u,o))===Wr;);if(h!==Wr||u===l){var m=new vAe(r,h,A,u);return A=u,{value:m,done:!1}}return{done:!0,value:null}}}},CAe=1,NAe=2,b1=4,Nk=8,r2=10,Bk=47,Hp=92,BAe=9,SAe=32,Wx=34,Jm=61,EAe=35,jAe=36,IAe=37,Gx=39,zx=40,ep=41,FAe=95,Hi=45,kAe=33,_Ae=60,TAe=62,LAe=64,PAe=91,DAe=93,OAe=61,RAe=123,$x=63,MAe=125,Sk=124,UAe=126,QAe=128,Ek=65533,$5=42,gh=43,HAe=44,VAe=58,KAe=59,Vg=46,WAe=0,GAe=8,zAe=11,$Ae=14,qAe=31,XAe=127,Ac=-1,lU=48,cU=97,AU=101,YAe=102,ZAe=117,JAe=122,uU=65,dU=69,hU=70,eue=85,tue=90,ri=function(e){return e>=lU&&e<=57},rue=function(e){return e>=55296&&e<=57343},If=function(e){return ri(e)||e>=uU&&e<=hU||e>=cU&&e<=YAe},nue=function(e){return e>=cU&&e<=JAe},sue=function(e){return e>=uU&&e<=tue},aue=function(e){return nue(e)||sue(e)},iue=function(e){return e>=QAe},qx=function(e){return e===r2||e===BAe||e===SAe},n2=function(e){return aue(e)||iue(e)||e===FAe},jk=function(e){return n2(e)||ri(e)||e===Hi},oue=function(e){return e>=WAe&&e<=GAe||e===zAe||e>=$Ae&&e<=qAe||e===XAe},Lu=function(e,t){return e!==Hp?!1:t!==r2},Xx=function(e,t,r){return e===Hi?n2(t)||Lu(t,r):n2(e)?!0:!!(e===Hp&&Lu(e,t))},q5=function(e,t,r){return e===gh||e===Hi?ri(t)?!0:t===Vg&&ri(r):ri(e===Vg?t:e)},lue=function(e){var t=0,r=1;(e[t]===gh||e[t]===Hi)&&(e[t]===Hi&&(r=-1),t++);for(var n=[];ri(e[t]);)n.push(e[t++]);var s=n.length?parseInt(Ds.apply(void 0,n),10):0;e[t]===Vg&&t++;for(var i=[];ri(e[t]);)i.push(e[t++]);var o=i.length,l=o?parseInt(Ds.apply(void 0,i),10):0;(e[t]===dU||e[t]===AU)&&t++;var A=1;(e[t]===gh||e[t]===Hi)&&(e[t]===Hi&&(A=-1),t++);for(var u=[];ri(e[t]);)u.push(e[t++]);var h=u.length?parseInt(Ds.apply(void 0,u),10):0;return r*(s+l*Math.pow(10,-o))*Math.pow(10,A*h)},cue={type:2},Aue={type:3},uue={type:4},due={type:13},hue={type:8},fue={type:21},mue={type:9},pue={type:10},gue={type:11},xue={type:12},wue={type:14},Yx={type:23},yue={type:1},vue={type:25},bue={type:24},Cue={type:26},Nue={type:27},Bue={type:28},Sue={type:29},Eue={type:31},d3={type:32},fU=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(_v(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==d3;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Wx:return this.consumeStringToken(Wx);case EAe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(jk(r)||Lu(n,s)){var i=Xx(r,n,s)?NAe:CAe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case jAe:if(this.peekCodePoint(0)===Jm)return this.consumeCodePoint(),due;break;case Gx:return this.consumeStringToken(Gx);case zx:return cue;case ep:return Aue;case $5:if(this.peekCodePoint(0)===Jm)return this.consumeCodePoint(),wue;break;case gh:if(q5(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case HAe:return uue;case Hi:var l=t,A=this.peekCodePoint(0),u=this.peekCodePoint(1);if(q5(l,A,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Xx(l,A,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(A===Hi&&u===TAe)return this.consumeCodePoint(),this.consumeCodePoint(),bue;break;case Vg:if(q5(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Bk:if(this.peekCodePoint(0)===$5)for(this.consumeCodePoint();;){var h=this.consumeCodePoint();if(h===$5&&(h=this.consumeCodePoint(),h===Bk))return this.consumeToken();if(h===Ac)return this.consumeToken()}break;case VAe:return Cue;case KAe:return Nue;case _Ae:if(this.peekCodePoint(0)===kAe&&this.peekCodePoint(1)===Hi&&this.peekCodePoint(2)===Hi)return this.consumeCodePoint(),this.consumeCodePoint(),vue;break;case LAe:var m=this.peekCodePoint(0),w=this.peekCodePoint(1),p=this.peekCodePoint(2);if(Xx(m,w,p)){var o=this.consumeName();return{type:7,value:o}}break;case PAe:return Bue;case Hp:if(Lu(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case DAe:return Sue;case OAe:if(this.peekCodePoint(0)===Jm)return this.consumeCodePoint(),hue;break;case RAe:return gue;case MAe:return xue;case ZAe:case eue:var b=this.peekCodePoint(0),N=this.peekCodePoint(1);return b===gh&&(If(N)||N===$x)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Sk:if(this.peekCodePoint(0)===Jm)return this.consumeCodePoint(),mue;if(this.peekCodePoint(0)===Sk)return this.consumeCodePoint(),fue;break;case UAe:if(this.peekCodePoint(0)===Jm)return this.consumeCodePoint(),pue;break;case Ac:return d3}return qx(t)?(this.consumeWhiteSpace(),Eue):ri(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):n2(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ds(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();If(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===$x&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Ds.apply(void 0,t.map(function(A){return A===$x?lU:A})),16),i=parseInt(Ds.apply(void 0,t.map(function(A){return A===$x?hU:A})),16);return{type:30,start:s,end:i}}var o=parseInt(Ds.apply(void 0,t),16);if(this.peekCodePoint(0)===Hi&&If(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];If(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(Ds.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===zx?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===zx?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ac)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Gx||r===Wx){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ac||this.peekCodePoint(0)===ep)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Yx)}for(;;){var s=this.consumeCodePoint();if(s===Ac||s===ep)return{type:22,value:Ds.apply(void 0,t)};if(qx(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ac||this.peekCodePoint(0)===ep?(this.consumeCodePoint(),{type:22,value:Ds.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Yx);if(s===Wx||s===Gx||s===zx||oue(s))return this.consumeBadUrlRemnants(),Yx;if(s===Hp)if(Lu(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Yx;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;qx(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===ep||t===Ac)return;Lu(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=Ds.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===Ac||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===r2)return this._value.splice(0,n),yue;if(s===Hp){var i=this._value[n+1];i!==Ac&&i!==void 0&&(i===r2?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Lu(s,i)&&(r+=this.consumeStringSlice(n),r+=Ds(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=b1,n=this.peekCodePoint(0);for((n===gh||n===Hi)&&t.push(this.consumeCodePoint());ri(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Vg&&ri(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Nk;ri(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===dU||n===AU)&&((s===gh||s===Hi)&&ri(i)||ri(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Nk;ri(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[lue(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Xx(s,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return s===IAe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(If(t)){for(var r=Ds(t);If(this.peekCodePoint(0))&&r.length<6;)r+=Ds(this.consumeCodePoint());qx(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||rue(n)||n>1114111?Ek:n}return t===Ac?Ek:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(jk(r))t+=Ds(r);else if(Lu(r,this.peekCodePoint(0)))t+=Ds(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),mU=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new fU;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||Iue(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?d3:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),C1=function(e){return e.type===15},bm=function(e){return e.type===17},Ln=function(e){return e.type===20},jue=function(e){return e.type===0},h3=function(e,t){return Ln(e)&&e.value===t},pU=function(e){return e.type!==31},nm=function(e){return e.type!==31&&e.type!==4},Hc=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},Iue=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},_d=function(e){return e.type===17||e.type===15},zs=function(e){return e.type===16||_d(e)},gU=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},La={type:17,number:0,flags:b1},cE={type:16,number:50,flags:b1},rd={type:16,number:100,flags:b1},xp=function(e,t,r){var n=e[0],s=e[1];return[Vn(n,t),Vn(typeof s<"u"?s:n,r)]},Vn=function(e,t){if(e.type===16)return e.number/100*t;if(C1(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},xU="deg",wU="grad",yU="rad",vU="turn",Tv={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case xU:return Math.PI*t.number/180;case wU:return Math.PI/200*t.number;case yU:return t.number;case vU:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},bU=function(e){return e.type===15&&(e.unit===xU||e.unit===wU||e.unit===yU||e.unit===vU)},CU=function(e){var t=e.filter(Ln).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[La,La];case"to top":case"bottom":return nl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[La,rd];case"to right":case"left":return nl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[rd,rd];case"to bottom":case"top":return nl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[rd,La];case"to left":case"right":return nl(270)}return 0},nl=function(e){return Math.PI*e/180},yd={name:"color",parse:function(e,t){if(t.type===18){var r=Fue[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3);return nd(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return nd(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6);return nd(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return nd(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var l=FA[t.value.toUpperCase()];if(typeof l<"u")return l}return FA.TRANSPARENT}},vd=function(e){return(255&e)===0},Aa=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},nd=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},Ik=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},Fk=function(e,t){var r=t.filter(nm);if(r.length===3){var n=r.map(Ik),s=n[0],i=n[1],o=n[2];return nd(s,i,o,1)}if(r.length===4){var l=r.map(Ik),s=l[0],i=l[1],o=l[2],A=l[3];return nd(s,i,o,A)}return 0};function X5(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var kk=function(e,t){var r=t.filter(nm),n=r[0],s=r[1],i=r[2],o=r[3],l=(n.type===17?nl(n.number):Tv.parse(e,n))/(Math.PI*2),A=zs(s)?s.number/100:0,u=zs(i)?i.number/100:0,h=typeof o<"u"&&zs(o)?Vn(o,1):1;if(A===0)return nd(u*255,u*255,u*255,1);var m=u<=.5?u*(A+1):u+A-u*A,w=u*2-m,p=X5(w,m,l+1/3),b=X5(w,m,l),N=X5(w,m,l-1/3);return nd(p*255,b*255,N*255,h)},Fue={hsl:kk,hsla:kk,rgb:Fk,rgba:Fk},Vp=function(e,t){return yd.parse(e,mU.create(t).parseComponentValue())},FA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},kue={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Ln(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_ue={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Lv=function(e,t){var r=yd.parse(e,t[0]),n=t[1];return n&&zs(n)?{color:r,stop:n}:{color:r,stop:null}},_k=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=La),n.stop===null&&(n.stop=rd);for(var s=[],i=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var A=Vn(l,t);A>i?s.push(A):s.push(i),i=A}else s.push(null)}for(var u=null,o=0;o<s.length;o++){var h=s[o];if(h===null)u===null&&(u=o);else if(u!==null){for(var m=o-u,w=s[u-1],p=(h-w)/(m+1),b=1;b<=m;b++)s[u+b-1]=p*b;u=null}}return e.map(function(N,j){var y=N.color;return{color:y,stop:Math.max(Math.min(1,s[j]/t),0)}})},Tue=function(e,t,r){var n=t/2,s=r/2,i=Vn(e[0],t)-n,o=s-Vn(e[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},Lue=function(e,t,r){var n=typeof e=="number"?e:Tue(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),i=t/2,o=r/2,l=s/2,A=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[s,i-u,i+u,o-A,o+A]},Bl=function(e,t){return Math.sqrt(e*e+t*t)},Tk=function(e,t,r,n,s){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,l){var A=l[0],u=l[1],h=Bl(r-A,n-u);return(s?h<o.optimumDistance:h>o.optimumDistance)?{optimumCorner:l,optimumDistance:h}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},Pue=function(e,t,r,n,s){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)i=o=Math.min(Bl(t,r),Bl(t,r-s),Bl(t-n,r),Bl(t-n,r-s));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),A=Tk(n,s,t,r,!0),u=A[0],h=A[1];i=Bl(u-t,(h-r)/l),o=l*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)i=o=Math.max(Bl(t,r),Bl(t,r-s),Bl(t-n,r),Bl(t-n,r-s));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),m=Tk(n,s,t,r,!1),u=m[0],h=m[1];i=Bl(u-t,(h-r)/l),o=l*i}break}return Array.isArray(e.size)&&(i=Vn(e.size[0],n),o=e.size.length===2?Vn(e.size[1],s):i),[i,o]},Due=function(e,t){var r=nl(180),n=[];return Hc(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){r=CU(s);return}else if(bU(o)){r=Tv.parse(e,o);return}}var l=Lv(e,s);n.push(l)}),{angle:r,stops:n,type:1}},Zx=function(e,t){var r=nl(180),n=[];return Hc(t).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=CU(s);return}else if(bU(o)){r=(Tv.parse(e,o)+nl(270))%nl(360);return}}var l=Lv(e,s);n.push(l)}),{angle:r,stops:n,type:1}},Oue=function(e,t){var r=nl(180),n=[],s=1,i=0,o=3,l=[];return Hc(t).forEach(function(A,u){var h=A[0];if(u===0){if(Ln(h)&&h.value==="linear"){s=1;return}else if(Ln(h)&&h.value==="radial"){s=2;return}}if(h.type===18){if(h.name==="from"){var m=yd.parse(e,h.values[0]);n.push({stop:La,color:m})}else if(h.name==="to"){var m=yd.parse(e,h.values[0]);n.push({stop:rd,color:m})}else if(h.name==="color-stop"){var w=h.values.filter(nm);if(w.length===2){var m=yd.parse(e,w[1]),p=w[0];bm(p)&&n.push({stop:{type:16,number:p.number*100,flags:p.flags},color:m})}}}}),s===1?{angle:(r+nl(180))%nl(360),stops:n,type:s}:{size:o,shape:i,stops:n,position:l,type:s}},NU="closest-side",BU="farthest-side",SU="closest-corner",EU="farthest-corner",jU="circle",IU="ellipse",FU="cover",kU="contain",Rue=function(e,t){var r=0,n=3,s=[],i=[];return Hc(t).forEach(function(o,l){var A=!0;if(l===0){var u=!1;A=o.reduce(function(m,w){if(u)if(Ln(w))switch(w.value){case"center":return i.push(cE),m;case"top":case"left":return i.push(La),m;case"right":case"bottom":return i.push(rd),m}else(zs(w)||_d(w))&&i.push(w);else if(Ln(w))switch(w.value){case jU:return r=0,!1;case IU:return r=1,!1;case"at":return u=!0,!1;case NU:return n=0,!1;case FU:case BU:return n=1,!1;case kU:case SU:return n=2,!1;case EU:return n=3,!1}else if(_d(w)||zs(w))return Array.isArray(n)||(n=[]),n.push(w),!1;return m},A)}if(A){var h=Lv(e,o);s.push(h)}}),{size:n,shape:r,stops:s,position:i,type:2}},Jx=function(e,t){var r=0,n=3,s=[],i=[];return Hc(t).forEach(function(o,l){var A=!0;if(l===0?A=o.reduce(function(h,m){if(Ln(m))switch(m.value){case"center":return i.push(cE),!1;case"top":case"left":return i.push(La),!1;case"right":case"bottom":return i.push(rd),!1}else if(zs(m)||_d(m))return i.push(m),!1;return h},A):l===1&&(A=o.reduce(function(h,m){if(Ln(m))switch(m.value){case jU:return r=0,!1;case IU:return r=1,!1;case kU:case NU:return n=0,!1;case BU:return n=1,!1;case SU:return n=2,!1;case FU:case EU:return n=3,!1}else if(_d(m)||zs(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return h},A)),A){var u=Lv(e,o);s.push(u)}}),{size:n,shape:r,stops:s,position:i,type:2}},Mue=function(e){return e.type===1},Uue=function(e){return e.type===2},AE={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=_U[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Que(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!_U[e.name])}var _U={"linear-gradient":Due,"-moz-linear-gradient":Zx,"-ms-linear-gradient":Zx,"-o-linear-gradient":Zx,"-webkit-linear-gradient":Zx,"radial-gradient":Rue,"-moz-radial-gradient":Jx,"-ms-radial-gradient":Jx,"-o-radial-gradient":Jx,"-webkit-radial-gradient":Jx,"-webkit-gradient":Oue},Hue={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return nm(n)&&Que(n)}).map(function(n){return AE.parse(e,n)})}},Vue={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Ln(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Kue={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Hc(t).map(function(r){return r.filter(zs)}).map(gU)}},Wue={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Hc(t).map(function(r){return r.filter(Ln).map(function(n){return n.value}).join(" ")}).map(Gue)}},Gue=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},N0;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(N0||(N0={}));var zue={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Hc(t).map(function(r){return r.filter($ue)})}},$ue=function(e){return Ln(e)||zs(e)},Pv=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},que=Pv("top"),Xue=Pv("right"),Yue=Pv("bottom"),Zue=Pv("left"),Dv=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return gU(r.filter(zs))}}},Jue=Dv("top-left"),ede=Dv("top-right"),tde=Dv("bottom-right"),rde=Dv("bottom-left"),Ov=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},nde=Ov("top"),sde=Ov("right"),ade=Ov("bottom"),ide=Ov("left"),Rv=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return C1(r)?r.number:0}}},ode=Rv("top"),lde=Rv("right"),cde=Rv("bottom"),Ade=Rv("left"),ude={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dde={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},hde={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).reduce(function(r,n){return r|fde(n.value)},0)}},fde=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},mde={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},pde={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},s2;(function(e){e.NORMAL="normal",e.STRICT="strict"})(s2||(s2={}));var gde={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return s2.STRICT;case"normal":default:return s2.NORMAL}}},xde={name:"line-height",initialValue:"normal",prefix:!1,type:4},Lk=function(e,t){return Ln(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:zs(e)?Vn(e,t):t},wde={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:AE.parse(e,t)}},yde={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},f3={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Mv=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},vde=Mv("top"),bde=Mv("right"),Cde=Mv("bottom"),Nde=Mv("left"),Bde={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Sde={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Uv=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ede=Uv("top"),jde=Uv("right"),Ide=Uv("bottom"),Fde=Uv("left"),kde={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},_de={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Tde={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&h3(t[0],"none")?[]:Hc(t).map(function(r){for(var n={color:FA.TRANSPARENT,offsetX:La,offsetY:La,blur:La},s=0,i=0;i<r.length;i++){var o=r[i];_d(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:n.blur=o,s++):n.color=yd.parse(e,o)}return n})}},Lde={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Pde={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=Rde[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Dde=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},Ode=function(e){var t=e.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,s,i,o,l]:null},Rde={matrix:Dde,matrix3d:Ode},Pk={type:16,number:50,flags:b1},Mde=[Pk,Pk],Ude={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(zs);return r.length!==2?Mde:[r[0],r[1]]}},Qde={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Kp;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Kp||(Kp={}));var Hde={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Kp.BREAK_ALL;case"keep-all":return Kp.KEEP_ALL;case"normal":default:return Kp.NORMAL}}},Vde={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(bm(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},TU={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Kde={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return bm(t)?t.number:1}},Wde={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Gde={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},zde={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},$de={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},qde={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(bm(t))return t.number;if(Ln(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Xde={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Ln).map(function(r){return r.value})}},Yde={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},sa=function(e,t){return(e&t)!==0},Zde={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},Jde={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(pU),i=0;i<s.length;i++){var o=s[i],l=s[i+1];if(o.type===20){var A=l&&bm(l)?l.number:1;n.push({counter:o.value,increment:A})}}return n}},ehe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(pU),s=0;s<n.length;s++){var i=n[s],o=n[s+1];if(Ln(i)&&i.value!=="none"){var l=o&&bm(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},the={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(C1).map(function(r){return TU.parse(e,r)})}},rhe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(jue);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,l=s[i+1].value;n.push({open:o,close:l})}return n}},Dk=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},nhe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&h3(t[0],"none")?[]:Hc(t).map(function(r){for(var n={color:255,offsetX:La,offsetY:La,blur:La,spread:La,inset:!1},s=0,i=0;i<r.length;i++){var o=r[i];h3(o,"inset")?n.inset=!0:_d(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:s===2?n.blur=o:n.spread=o,s++):n.color=yd.parse(e,o)}return n})}},she={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Ln).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},ahe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ihe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return C1(t)?t.number:0}},ohe=function(){function e(t,r){var n,s;this.animationDuration=_t(t,the,r.animationDuration),this.backgroundClip=_t(t,kue,r.backgroundClip),this.backgroundColor=_t(t,_ue,r.backgroundColor),this.backgroundImage=_t(t,Hue,r.backgroundImage),this.backgroundOrigin=_t(t,Vue,r.backgroundOrigin),this.backgroundPosition=_t(t,Kue,r.backgroundPosition),this.backgroundRepeat=_t(t,Wue,r.backgroundRepeat),this.backgroundSize=_t(t,zue,r.backgroundSize),this.borderTopColor=_t(t,que,r.borderTopColor),this.borderRightColor=_t(t,Xue,r.borderRightColor),this.borderBottomColor=_t(t,Yue,r.borderBottomColor),this.borderLeftColor=_t(t,Zue,r.borderLeftColor),this.borderTopLeftRadius=_t(t,Jue,r.borderTopLeftRadius),this.borderTopRightRadius=_t(t,ede,r.borderTopRightRadius),this.borderBottomRightRadius=_t(t,tde,r.borderBottomRightRadius),this.borderBottomLeftRadius=_t(t,rde,r.borderBottomLeftRadius),this.borderTopStyle=_t(t,nde,r.borderTopStyle),this.borderRightStyle=_t(t,sde,r.borderRightStyle),this.borderBottomStyle=_t(t,ade,r.borderBottomStyle),this.borderLeftStyle=_t(t,ide,r.borderLeftStyle),this.borderTopWidth=_t(t,ode,r.borderTopWidth),this.borderRightWidth=_t(t,lde,r.borderRightWidth),this.borderBottomWidth=_t(t,cde,r.borderBottomWidth),this.borderLeftWidth=_t(t,Ade,r.borderLeftWidth),this.boxShadow=_t(t,nhe,r.boxShadow),this.color=_t(t,ude,r.color),this.direction=_t(t,dde,r.direction),this.display=_t(t,hde,r.display),this.float=_t(t,mde,r.cssFloat),this.fontFamily=_t(t,zde,r.fontFamily),this.fontSize=_t(t,$de,r.fontSize),this.fontStyle=_t(t,Yde,r.fontStyle),this.fontVariant=_t(t,Xde,r.fontVariant),this.fontWeight=_t(t,qde,r.fontWeight),this.letterSpacing=_t(t,pde,r.letterSpacing),this.lineBreak=_t(t,gde,r.lineBreak),this.lineHeight=_t(t,xde,r.lineHeight),this.listStyleImage=_t(t,wde,r.listStyleImage),this.listStylePosition=_t(t,yde,r.listStylePosition),this.listStyleType=_t(t,f3,r.listStyleType),this.marginTop=_t(t,vde,r.marginTop),this.marginRight=_t(t,bde,r.marginRight),this.marginBottom=_t(t,Cde,r.marginBottom),this.marginLeft=_t(t,Nde,r.marginLeft),this.opacity=_t(t,Kde,r.opacity);var i=_t(t,Bde,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=_t(t,Sde,r.overflowWrap),this.paddingTop=_t(t,Ede,r.paddingTop),this.paddingRight=_t(t,jde,r.paddingRight),this.paddingBottom=_t(t,Ide,r.paddingBottom),this.paddingLeft=_t(t,Fde,r.paddingLeft),this.paintOrder=_t(t,she,r.paintOrder),this.position=_t(t,_de,r.position),this.textAlign=_t(t,kde,r.textAlign),this.textDecorationColor=_t(t,Wde,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=_t(t,Gde,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=_t(t,Tde,r.textShadow),this.textTransform=_t(t,Lde,r.textTransform),this.transform=_t(t,Pde,r.transform),this.transformOrigin=_t(t,Ude,r.transformOrigin),this.visibility=_t(t,Qde,r.visibility),this.webkitTextStrokeColor=_t(t,ahe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=_t(t,ihe,r.webkitTextStrokeWidth),this.wordBreak=_t(t,Hde,r.wordBreak),this.zIndex=_t(t,Vde,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return vd(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return sa(this.display,4)||sa(this.display,33554432)||sa(this.display,268435456)||sa(this.display,536870912)||sa(this.display,67108864)||sa(this.display,134217728)},e}(),lhe=function(){function e(t,r){this.content=_t(t,Zde,r.content),this.quotes=_t(t,rhe,r.quotes)}return e}(),Ok=function(){function e(t,r){this.counterIncrement=_t(t,Jde,r.counterIncrement),this.counterReset=_t(t,ehe,r.counterReset)}return e}(),_t=function(e,t,r){var n=new fU,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var i=new mU(n.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,Ln(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Tv.parse(e,i.parseComponentValue());case"color":return yd.parse(e,i.parseComponentValue());case"image":return AE.parse(e,i.parseComponentValue());case"length":var l=i.parseComponentValue();return _d(l)?l:La;case"length-percentage":var A=i.parseComponentValue();return zs(A)?A:La;case"time":return TU.parse(e,i.parseComponentValue())}break}},che="data-html2canvas-debug",Ahe=function(e){var t=e.getAttribute(che);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},m3=function(e,t){var r=Ahe(e);return r===1||t===r},Vc=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,m3(r,3))debugger;this.styles=new ohe(t,window.getComputedStyle(r,null)),x3(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=kv(this.context,r),m3(r,4)&&(this.flags|=16)}return e}(),uhe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Rk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ew=0;ew<Rk.length;ew++)wp[Rk.charCodeAt(ew)]=ew;var dhe=function(e){var t=e.length*.75,r=e.length,n,s=0,i,o,l,A;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),h=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=wp[e.charCodeAt(n)],o=wp[e.charCodeAt(n+1)],l=wp[e.charCodeAt(n+2)],A=wp[e.charCodeAt(n+3)],h[s++]=i<<2|o>>4,h[s++]=(o&15)<<4|l>>2,h[s++]=(l&3)<<6|A&63;return u},hhe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},fhe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Lh=5,uE=11,Y5=2,mhe=uE-Lh,LU=65536>>Lh,phe=1<<Lh,Z5=phe-1,ghe=1024>>Lh,xhe=LU+ghe,whe=xhe,yhe=32,vhe=whe+yhe,bhe=65536>>uE,Che=1<<mhe,Nhe=Che-1,Mk=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},Bhe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},She=function(e,t){var r=dhe(e),n=Array.isArray(r)?fhe(r):new Uint32Array(r),s=Array.isArray(r)?hhe(r):new Uint16Array(r),i=24,o=Mk(s,i/2,n[4]/2),l=n[5]===2?Mk(s,(i+n[4])/2):Bhe(n,Math.ceil((i+n[4])/4));return new Ehe(n[0],n[1],n[2],n[3],o,l)},Ehe=function(){function e(t,r,n,s,i,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Lh],r=(r<<Y5)+(t&Z5),this.data[r];if(t<=65535)return r=this.index[LU+(t-55296>>Lh)],r=(r<<Y5)+(t&Z5),this.data[r];if(t<this.highStart)return r=vhe-bhe+(t>>uE),r=this.index[r],r+=t>>Lh&Nhe,r=this.index[r],r=(r<<Y5)+(t&Z5),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Uk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jhe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tw=0;tw<Uk.length;tw++)jhe[Uk.charCodeAt(tw)]=tw;var Ihe=1,J5=2,eC=3,Qk=4,Hk=5,Fhe=7,Vk=8,tC=9,rC=10,Kk=11,Wk=12,Gk=13,zk=14,nC=15,khe=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},_he=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var o=e[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},The=She(uhe),Xo="",sC="",Lhe=function(e){return The.get(e)},Phe=function(e,t,r){var n=r-2,s=t[n],i=t[r-1],o=t[r];if(i===J5&&o===eC)return Xo;if(i===J5||i===eC||i===Qk||o===J5||o===eC||o===Qk)return sC;if(i===Vk&&[Vk,tC,Kk,Wk].indexOf(o)!==-1||(i===Kk||i===tC)&&(o===tC||o===rC)||(i===Wk||i===rC)&&o===rC||o===Gk||o===Hk||o===Fhe||i===Ihe)return Xo;if(i===Gk&&o===zk){for(;s===Hk;)s=t[--n];if(s===zk)return Xo}if(i===nC&&o===nC){for(var l=0;s===nC;)l++,s=t[--n];if(l%2===0)return Xo}return sC},Dhe=function(e){var t=khe(e),r=t.length,n=0,s=0,i=t.map(Lhe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Xo;n<r&&(o=Phe(t,i,++n))===Xo;);if(o!==Xo||n===r){var l=_he.apply(null,t.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},Ohe=function(e){for(var t=Dhe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},Rhe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(e.body.removeChild(n),i===t)return!0}}return!1},Mhe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=_v(n.data).map(function(A){return Ds(A)}),i=0,o={},l=s.every(function(A,u){r.setStart(n,i),r.setEnd(n,i+A.length);var h=r.getBoundingClientRect();i+=A.length;var m=h.x>o.x||h.y>o.y;return o=h,u===0?!0:m});return e.body.removeChild(t),l},Uhe=function(){return typeof new Image().crossOrigin<"u"},Qhe=function(){return typeof new XMLHttpRequest().responseType=="string"},Hhe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},$k=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},Vhe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=t.toDataURL();s.src=i;var o=p3(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),qk(o).then(function(l){n.drawImage(l,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=r+"px",$k(A)?qk(p3(r,r,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),$k(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},p3=function(e,t,r,n,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},qk=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},ka={get SUPPORT_RANGE_BOUNDS(){var e=Rhe(document);return Object.defineProperty(ka,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ka.SUPPORT_RANGE_BOUNDS&&Mhe(document);return Object.defineProperty(ka,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=Hhe(document);return Object.defineProperty(ka,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?Vhe(document):Promise.resolve(!1);return Object.defineProperty(ka,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=Uhe();return Object.defineProperty(ka,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Qhe();return Object.defineProperty(ka,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ka,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ka,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Wp=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),Khe=function(e,t,r,n){var s=zhe(t,r),i=[],o=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(ka.SUPPORT_RANGE_BOUNDS){var A=Xk(n,o,l.length).getClientRects();if(A.length>1){var u=dE(l),h=0;u.forEach(function(w){i.push(new Wp(w,QA.fromDOMRectList(e,Xk(n,h+o,w.length).getClientRects()))),h+=w.length})}else i.push(new Wp(l,QA.fromDOMRectList(e,A)))}else{var m=n.splitText(l.length);i.push(new Wp(l,Whe(e,n))),n=m}else ka.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},Whe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var i=kv(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return QA.EMPTY},Xk=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},dE=function(e){if(ka.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return Ohe(e)},Ghe=function(e,t){if(ka.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return qhe(e,t)},zhe=function(e,t){return t.letterSpacing!==0?dE(e):Ghe(e,t)},$he=[32,160,4961,65792,65793,4153,4241],qhe=function(e,t){for(var r=bAe(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,i=function(){if(s.value){var o=s.value.slice(),l=_v(o),A="";l.forEach(function(u){$he.indexOf(u)===-1?A+=Ds(u):(A.length&&n.push(A),n.push(Ds(u)),A="")}),A.length&&n.push(A)}};!(s=r.next()).done;)i();return n},Xhe=function(){function e(t,r,n){this.text=Yhe(r.data,n.textTransform),this.textBounds=Khe(t,this.text,n,r)}return e}(),Yhe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Zhe,Jhe);case 2:return e.toUpperCase();default:return e}},Zhe=/(^|\s|:|-|\(|\))([a-z])/g,Jhe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},PU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t}(Vc),DU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t}(Vc),OU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this,i=new XMLSerializer,o=kv(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(Vc),RU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Vc),g3=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t}(Vc),efe=[{type:15,flags:0,unit:"px",number:3}],tfe=[{type:16,flags:0,number:50}],rfe=function(e){return e.width>e.height?new QA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new QA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},nfe=function(e){var t=e.type===sfe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},a2="checkbox",i2="radio",sfe="password",Yk=707406591,hE=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=nfe(n),(s.type===a2||s.type===i2)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=rfe(s.bounds)),s.type){case a2:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=efe;break;case i2:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=tfe;break}return s}return t}(Vc),MU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return t}(Vc),UU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(Vc),QU=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=VU(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Vp(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):FA.TRANSPARENT,o=n.contentWindow.document.body?Vp(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):FA.TRANSPARENT;s.backgroundColor=vd(i)?vd(o)?s.styles.backgroundColor:o:i}}catch{}return s}return t}(Vc),afe=["OL","UL","MENU"],qw=function(e,t,r,n){for(var s=t.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,KU(s)&&s.data.trim().length>0)r.textNodes.push(new Xhe(e,s,r.styles));else if(r0(s))if($U(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return qw(e,l,r,n)});else{var o=HU(e,s);o.styles.isVisible()&&(ife(s,o,n)?o.flags|=4:ofe(o.styles)&&(o.flags|=2),afe.indexOf(s.tagName)!==-1&&(o.flags|=8),r.elements.push(o),s.slot,s.shadowRoot?qw(e,s.shadowRoot,o,n):!o2(s)&&!WU(s)&&!l2(s)&&qw(e,s,o,n))}},HU=function(e,t){return w3(t)?new PU(e,t):GU(t)?new DU(e,t):WU(t)?new OU(e,t):lfe(t)?new RU(e,t):cfe(t)?new g3(e,t):Afe(t)?new hE(e,t):l2(t)?new MU(e,t):o2(t)?new UU(e,t):zU(t)?new QU(e,t):new Vc(e,t)},VU=function(e,t){var r=HU(e,t);return r.flags|=4,qw(e,t,r,r),r},ife=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||fE(e)&&r.styles.isTransparent()},ofe=function(e){return e.isPositioned()||e.isFloating()},KU=function(e){return e.nodeType===Node.TEXT_NODE},r0=function(e){return e.nodeType===Node.ELEMENT_NODE},x3=function(e){return r0(e)&&typeof e.style<"u"&&!Xw(e)},Xw=function(e){return typeof e.className=="object"},lfe=function(e){return e.tagName==="LI"},cfe=function(e){return e.tagName==="OL"},Afe=function(e){return e.tagName==="INPUT"},ufe=function(e){return e.tagName==="HTML"},WU=function(e){return e.tagName==="svg"},fE=function(e){return e.tagName==="BODY"},GU=function(e){return e.tagName==="CANVAS"},Zk=function(e){return e.tagName==="VIDEO"},w3=function(e){return e.tagName==="IMG"},zU=function(e){return e.tagName==="IFRAME"},Jk=function(e){return e.tagName==="STYLE"},dfe=function(e){return e.tagName==="SCRIPT"},o2=function(e){return e.tagName==="TEXTAREA"},l2=function(e){return e.tagName==="SELECT"},$U=function(e){return e.tagName==="SLOT"},e_=function(e){return e.tagName.indexOf("-")>0},hfe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,i=!0;n!==null&&n.forEach(function(l){var A=r.counters[l.counter];A&&l.increment!==0&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=l.increment)});var o=[];return i&&s.forEach(function(l){var A=r.counters[l.counter];o.push(l.counter),A||(A=r.counters[l.counter]=[]),A.push(l.reset)}),o},e}(),t_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},r_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},ffe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},mfe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ff=function(e,t,r,n,s,i){return e<t||e>r?Kg(e,s,i.length>0):n.integers.reduce(function(o,l,A){for(;e>=l;)e-=l,o+=n.values[A];return o},"")+i},qU=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},Ls=function(e,t,r,n,s){var i=r-t+1;return(e<0?"-":"")+(qU(Math.abs(e),i,n,function(o){return Ds(Math.floor(o%i)+t)})+s)},Zd=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return qU(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},Uf=1,ju=2,Iu=4,yp=8,dA=function(e,t,r,n,s,i){if(e<-9999||e>9999)return Kg(e,4,s.length>0);var o=Math.abs(e),l=s;if(o===0)return t[0]+l;for(var A=0;o>0&&A<=4;A++){var u=o%10;u===0&&sa(i,Uf)&&l!==""?l=t[u]+l:u>1||u===1&&A===0||u===1&&A===1&&sa(i,ju)||u===1&&A===1&&sa(i,Iu)&&e>100||u===1&&A>1&&sa(i,yp)?l=t[u]+(A>0?r[A-1]:"")+l:u===1&&A>0&&(l=r[A-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},n_="",s_="",a_="",aC="",Kg=function(e,t,r){var n=r?". ":"",s=r?"":"",i=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Ls(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return Zd(e,"",s);case 6:return Ff(e,1,3999,t_,3,n).toLowerCase();case 7:return Ff(e,1,3999,t_,3,n);case 8:return Ls(e,945,969,!1,n);case 9:return Ls(e,97,122,!1,n);case 10:return Ls(e,65,90,!1,n);case 11:return Ls(e,1632,1641,!0,n);case 12:case 49:return Ff(e,1,9999,r_,3,n);case 35:return Ff(e,1,9999,r_,3,n).toLowerCase();case 13:return Ls(e,2534,2543,!0,n);case 14:case 30:return Ls(e,6112,6121,!0,n);case 15:return Zd(e,"",s);case 16:return Zd(e,"",s);case 17:case 48:return dA(e,"",n_,"",s,ju|Iu|yp);case 47:return dA(e,"",s_,"",s,Uf|ju|Iu|yp);case 42:return dA(e,"",n_,"",s,ju|Iu|yp);case 41:return dA(e,"",s_,"",s,Uf|ju|Iu|yp);case 26:return dA(e,"","",a_,s,0);case 25:return dA(e,"","",a_,s,Uf|ju|Iu);case 31:return dA(e,"","",aC,i,Uf|ju|Iu);case 33:return dA(e,"","",aC,i,0);case 32:return dA(e,"","",aC,i,Uf|ju|Iu);case 18:return Ls(e,2406,2415,!0,n);case 20:return Ff(e,1,19999,mfe,3,n);case 21:return Ls(e,2790,2799,!0,n);case 22:return Ls(e,2662,2671,!0,n);case 22:return Ff(e,1,10999,ffe,3,n);case 23:return Zd(e,"");case 24:return Zd(e,"");case 27:return Ls(e,3302,3311,!0,n);case 28:return Zd(e,"",s);case 29:return Zd(e,"",s);case 34:return Ls(e,3792,3801,!0,n);case 37:return Ls(e,6160,6169,!0,n);case 38:return Ls(e,4160,4169,!0,n);case 39:return Ls(e,2918,2927,!0,n);case 40:return Ls(e,1776,1785,!0,n);case 43:return Ls(e,3046,3055,!0,n);case 44:return Ls(e,3174,3183,!0,n);case 45:return Ls(e,3664,3673,!0,n);case 46:return Ls(e,3872,3881,!0,n);case 3:default:return Ls(e,48,57,!0,n)}},XU="data-html2canvas-ignore",i_=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new hfe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=pfe(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=s.contentWindow,A=l.document,u=wfe(s).then(function(){return gi(n,void 0,void 0,function(){var h,m;return ei(this,function(w){switch(w.label){case 0:return this.scrolledElements.forEach(Cfe),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),h=this.options.onclone,m=this.clonedReferenceElement,typeof m>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:w.sent(),w.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,xfe(A)]:[3,4];case 3:w.sent(),w.label=4;case 4:return typeof h=="function"?[2,Promise.resolve().then(function(){return h(A,m)}).then(function(){return s})]:[2,s]}})})});return A.open(),A.write(vfe(document.doctype)+"<html></html>"),bfe(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),u},e.prototype.createElementClone=function(t){if(m3(t,2))debugger;if(GU(t))return this.createCanvasClone(t);if(Zk(t))return this.createVideoClone(t);if(Jk(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return w3(r)&&(w3(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),e_(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return iC(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var i=t.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var A=l.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!r0(r)||!dfe(r)&&!r.hasAttribute(XU)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!r0(r)||!Jk(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(r0(i)&&$U(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},e.prototype.cloneNode=function(t,r){if(KU(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&r0(t)&&(x3(t)||Xw(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var i=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&x3(s)&&(this.clonedReferenceElement=s),fE(s)&&Sfe(s);var A=this.counters.parse(new Ok(this.context,i)),u=this.resolvePseudoContent(t,s,o,Gp.BEFORE);e_(t)&&(r=!0),Zk(t)||this.cloneChildNodes(t,s,r),u&&s.insertBefore(u,s.firstChild);var h=this.resolvePseudoContent(t,s,l,Gp.AFTER);return h&&s.appendChild(h),this.counters.pop(A),(i&&(this.options.copyStyles||Xw(t))&&!zU(t)||r)&&iC(i,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(o2(t)||l2(t))&&(o2(s)||l2(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Ok(this.context,n));var A=new lhe(this.context,n),u=l.createElement("html2canvaspseudoelement");iC(n,u),A.content.forEach(function(m){if(m.type===0)u.appendChild(l.createTextNode(m.value));else if(m.type===22){var w=l.createElement("img");w.src=m.value,w.style.opacity="1",u.appendChild(w)}else if(m.type===18){if(m.name==="attr"){var p=m.values.filter(Ln);p.length&&u.appendChild(l.createTextNode(t.getAttribute(p[0].value)||""))}else if(m.name==="counter"){var b=m.values.filter(nm),N=b[0],j=b[1];if(N&&Ln(N)){var y=i.counters.getCounterValue(N.value),B=j&&Ln(j)?f3.parse(i.context,j.value):3;u.appendChild(l.createTextNode(Kg(y,B,!1)))}}else if(m.name==="counters"){var I=m.values.filter(nm),N=I[0],_=I[1],j=I[2];if(N&&Ln(N)){var O=i.counters.getCounterValues(N.value),H=j&&Ln(j)?f3.parse(i.context,j.value):3,D=_&&_.type===0?_.value:"",L=O.map(function(M){return Kg(M,H,!1)}).join(D);u.appendChild(l.createTextNode(L))}}}else if(m.type===20)switch(m.value){case"open-quote":u.appendChild(l.createTextNode(Dk(A.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(Dk(A.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(m.value))}}),u.className=y3+" "+v3;var h=s===Gp.BEFORE?" "+y3:" "+v3;return Xw(r)?r.className.baseValue+=h:r.className+=h,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Gp;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Gp||(Gp={}));var pfe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(XU,"true"),e.body.appendChild(r),r},gfe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},xfe=function(e){return Promise.all([].slice.call(e.images,0).map(gfe))},wfe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},yfe=["all","d","content"],iC=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);yfe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},vfe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},bfe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},Cfe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},Nfe=":before",Bfe=":after",y3="___html2canvas___pseudoelement_before",v3="___html2canvas___pseudoelement_after",o_=`{
    content: "" !important;
    display: none !important;
}`,Sfe=function(e){Efe(e,"."+y3+Nfe+o_+`
         .`+v3+Bfe+o_)},Efe=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},YU=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),jfe=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(lC(t)||_fe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return gi(this,void 0,void 0,function(){var r,n,s,i,o=this;return ei(this,function(l){switch(l.label){case 0:return r=YU.isSameOrigin(t),n=!oC(t)&&this._options.useCORS===!0&&ka.SUPPORT_CORS_IMAGES&&!r,s=!oC(t)&&!r&&!lC(t)&&typeof this._options.proxy=="string"&&ka.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!oC(t)&&!lC(t)&&!s&&!n?[2]:(i=t,s?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(A,u){var h=new Image;h.onload=function(){return A(h)},h.onerror=u,(Tfe(i)||n)&&(h.crossOrigin="anonymous"),h.src=i,h.complete===!0&&setTimeout(function(){return A(h)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(i,o){var l=ka.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(l==="text")i(A.response);else{var m=new FileReader;m.addEventListener("load",function(){return i(m.result)},!1),m.addEventListener("error",function(w){return o(w)},!1),m.readAsDataURL(A.response)}else o("Failed to proxy resource "+s+" with status code "+A.status)},A.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=l),r._options.imageTimeout){var h=r._options.imageTimeout;A.timeout=h,A.ontimeout=function(){return o("Timed out ("+h+"ms) proxying "+s)}}A.send()})},e}(),Ife=/^data:image\/svg\+xml/i,Ffe=/^data:image\/.*;base64,/i,kfe=/^data:image\/.*/i,_fe=function(e){return ka.SUPPORT_SVG_DRAWING||!Lfe(e)},oC=function(e){return kfe.test(e)},Tfe=function(e){return Ffe.test(e)},lC=function(e){return e.substr(0,4)==="blob"},Lfe=function(e){return e.substr(-3).toLowerCase()==="svg"||Ife.test(e)},Et=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),kf=function(e,t,r){return new Et(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},rw=function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=kf(this.start,this.startControl,t),s=kf(this.startControl,this.endControl,t),i=kf(this.endControl,this.end,t),o=kf(n,s,t),l=kf(s,i,t),A=kf(o,l,t);return r?new e(this.start,n,o,A):new e(A,l,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),el=function(e){return e.type===1},Pfe=function(){function e(t){var r=t.styles,n=t.bounds,s=xp(r.borderTopLeftRadius,n.width,n.height),i=s[0],o=s[1],l=xp(r.borderTopRightRadius,n.width,n.height),A=l[0],u=l[1],h=xp(r.borderBottomRightRadius,n.width,n.height),m=h[0],w=h[1],p=xp(r.borderBottomLeftRadius,n.width,n.height),b=p[0],N=p[1],j=[];j.push((i+A)/n.width),j.push((b+m)/n.width),j.push((o+N)/n.height),j.push((u+w)/n.height);var y=Math.max.apply(Math,j);y>1&&(i/=y,o/=y,A/=y,u/=y,m/=y,w/=y,b/=y,N/=y);var B=n.width-A,I=n.height-w,_=n.width-m,O=n.height-N,H=r.borderTopWidth,D=r.borderRightWidth,L=r.borderBottomWidth,T=r.borderLeftWidth,G=Vn(r.paddingTop,t.bounds.width),M=Vn(r.paddingRight,t.bounds.width),V=Vn(r.paddingBottom,t.bounds.width),J=Vn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?os(n.left+T/3,n.top+H/3,i-T/3,o-H/3,gn.TOP_LEFT):new Et(n.left+T/3,n.top+H/3),this.topRightBorderDoubleOuterBox=i>0||o>0?os(n.left+B,n.top+H/3,A-D/3,u-H/3,gn.TOP_RIGHT):new Et(n.left+n.width-D/3,n.top+H/3),this.bottomRightBorderDoubleOuterBox=m>0||w>0?os(n.left+_,n.top+I,m-D/3,w-L/3,gn.BOTTOM_RIGHT):new Et(n.left+n.width-D/3,n.top+n.height-L/3),this.bottomLeftBorderDoubleOuterBox=b>0||N>0?os(n.left+T/3,n.top+O,b-T/3,N-L/3,gn.BOTTOM_LEFT):new Et(n.left+T/3,n.top+n.height-L/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?os(n.left+T*2/3,n.top+H*2/3,i-T*2/3,o-H*2/3,gn.TOP_LEFT):new Et(n.left+T*2/3,n.top+H*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?os(n.left+B,n.top+H*2/3,A-D*2/3,u-H*2/3,gn.TOP_RIGHT):new Et(n.left+n.width-D*2/3,n.top+H*2/3),this.bottomRightBorderDoubleInnerBox=m>0||w>0?os(n.left+_,n.top+I,m-D*2/3,w-L*2/3,gn.BOTTOM_RIGHT):new Et(n.left+n.width-D*2/3,n.top+n.height-L*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||N>0?os(n.left+T*2/3,n.top+O,b-T*2/3,N-L*2/3,gn.BOTTOM_LEFT):new Et(n.left+T*2/3,n.top+n.height-L*2/3),this.topLeftBorderStroke=i>0||o>0?os(n.left+T/2,n.top+H/2,i-T/2,o-H/2,gn.TOP_LEFT):new Et(n.left+T/2,n.top+H/2),this.topRightBorderStroke=i>0||o>0?os(n.left+B,n.top+H/2,A-D/2,u-H/2,gn.TOP_RIGHT):new Et(n.left+n.width-D/2,n.top+H/2),this.bottomRightBorderStroke=m>0||w>0?os(n.left+_,n.top+I,m-D/2,w-L/2,gn.BOTTOM_RIGHT):new Et(n.left+n.width-D/2,n.top+n.height-L/2),this.bottomLeftBorderStroke=b>0||N>0?os(n.left+T/2,n.top+O,b-T/2,N-L/2,gn.BOTTOM_LEFT):new Et(n.left+T/2,n.top+n.height-L/2),this.topLeftBorderBox=i>0||o>0?os(n.left,n.top,i,o,gn.TOP_LEFT):new Et(n.left,n.top),this.topRightBorderBox=A>0||u>0?os(n.left+B,n.top,A,u,gn.TOP_RIGHT):new Et(n.left+n.width,n.top),this.bottomRightBorderBox=m>0||w>0?os(n.left+_,n.top+I,m,w,gn.BOTTOM_RIGHT):new Et(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=b>0||N>0?os(n.left,n.top+O,b,N,gn.BOTTOM_LEFT):new Et(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?os(n.left+T,n.top+H,Math.max(0,i-T),Math.max(0,o-H),gn.TOP_LEFT):new Et(n.left+T,n.top+H),this.topRightPaddingBox=A>0||u>0?os(n.left+Math.min(B,n.width-D),n.top+H,B>n.width+D?0:Math.max(0,A-D),Math.max(0,u-H),gn.TOP_RIGHT):new Et(n.left+n.width-D,n.top+H),this.bottomRightPaddingBox=m>0||w>0?os(n.left+Math.min(_,n.width-T),n.top+Math.min(I,n.height-L),Math.max(0,m-D),Math.max(0,w-L),gn.BOTTOM_RIGHT):new Et(n.left+n.width-D,n.top+n.height-L),this.bottomLeftPaddingBox=b>0||N>0?os(n.left+T,n.top+Math.min(O,n.height-L),Math.max(0,b-T),Math.max(0,N-L),gn.BOTTOM_LEFT):new Et(n.left+T,n.top+n.height-L),this.topLeftContentBox=i>0||o>0?os(n.left+T+J,n.top+H+G,Math.max(0,i-(T+J)),Math.max(0,o-(H+G)),gn.TOP_LEFT):new Et(n.left+T+J,n.top+H+G),this.topRightContentBox=A>0||u>0?os(n.left+Math.min(B,n.width+T+J),n.top+H+G,B>n.width+T+J?0:A-T+J,u-(H+G),gn.TOP_RIGHT):new Et(n.left+n.width-(D+M),n.top+H+G),this.bottomRightContentBox=m>0||w>0?os(n.left+Math.min(_,n.width-(T+J)),n.top+Math.min(I,n.height+H+G),Math.max(0,m-(D+M)),w-(L+V),gn.BOTTOM_RIGHT):new Et(n.left+n.width-(D+M),n.top+n.height-(L+V)),this.bottomLeftContentBox=b>0||N>0?os(n.left+T+J,n.top+O,Math.max(0,b-(T+J)),N-(L+V),gn.BOTTOM_LEFT):new Et(n.left+T+J,n.top+n.height-(L+V))}return e}(),gn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(gn||(gn={}));var os=function(e,t,r,n,s){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,A=e+r,u=t+n;switch(s){case gn.TOP_LEFT:return new rw(new Et(e,u),new Et(e,u-l),new Et(A-o,t),new Et(A,t));case gn.TOP_RIGHT:return new rw(new Et(e,t),new Et(e+o,t),new Et(A,u-l),new Et(A,u));case gn.BOTTOM_RIGHT:return new rw(new Et(A,t),new Et(A,t+l),new Et(e+o,u),new Et(e,u));case gn.BOTTOM_LEFT:default:return new rw(new Et(A,u),new Et(A-o,u),new Et(e,t+l),new Et(e,t))}},c2=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Dfe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},A2=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Ofe=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),nw=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),Rfe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),Mfe=function(e){return e.type===0},ZU=function(e){return e.type===1},Ufe=function(e){return e.type===2},l_=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},Qfe=function(e,t,r,n,s){return e.map(function(i,o){switch(o){case 0:return i.add(t,r);case 1:return i.add(t+n,r);case 2:return i.add(t+n,r+s);case 3:return i.add(t,r+s)}return i})},JU=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),e9=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new Pfe(this.container),this.container.styles.opacity<1&&this.effects.push(new Rfe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Ofe(n,s,i))}if(this.container.styles.overflowX!==0){var o=c2(this.curves),l=A2(this.curves);l_(o,l)?this.effects.push(new nw(o,6)):(this.effects.push(new nw(o,2)),this.effects.push(new nw(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(A){return!ZU(A)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=c2(n.curves),l=A2(n.curves);l_(o,l)||s.unshift(new nw(l,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(A){return sa(A.target,t)})},e}(),b3=function(e,t,r,n){e.container.elements.forEach(function(s){var i=sa(s.flags,4),o=sa(s.flags,2),l=new e9(s,e);sa(s.styles.display,2048)&&n.push(l);var A=sa(s.flags,8)?[]:n;if(i||o){var u=i||s.styles.isPositioned()?r:t,h=new JU(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var m=s.styles.zIndex.order;if(m<0){var w=0;u.negativeZIndex.some(function(b,N){return m>b.element.container.styles.zIndex.order?(w=N,!1):w>0}),u.negativeZIndex.splice(w,0,h)}else if(m>0){var p=0;u.positiveZIndex.some(function(b,N){return m>=b.element.container.styles.zIndex.order?(p=N+1,!1):p>0}),u.positiveZIndex.splice(p,0,h)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(h)}else s.styles.isFloating()?u.nonPositionedFloats.push(h):u.nonPositionedInlineLevel.push(h);b3(l,h,i?h:r,A)}else s.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),b3(l,t,r,A);sa(s.flags,8)&&t9(s,A)})},t9=function(e,t){for(var r=e instanceof g3?e.start:1,n=e instanceof g3?e.reversed:!1,s=0;s<t.length;s++){var i=t[s];i.container instanceof RU&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Kg(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},Hfe=function(e){var t=new e9(e,null),r=new JU(t),n=[];return b3(t,r,r,n),t9(t.container,n),r},c_=function(e,t){switch(t){case 0:return sl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return sl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return sl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return sl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Vfe=function(e,t){switch(t){case 0:return sl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return sl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return sl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return sl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Kfe=function(e,t){switch(t){case 0:return sl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return sl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return sl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return sl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wfe=function(e,t){switch(t){case 0:return sw(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return sw(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return sw(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return sw(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},sw=function(e,t){var r=[];return el(e)?r.push(e.subdivide(.5,!1)):r.push(e),el(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},sl=function(e,t,r,n){var s=[];return el(e)?s.push(e.subdivide(.5,!1)):s.push(e),el(r)?s.push(r.subdivide(.5,!0)):s.push(r),el(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),el(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},r9=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},u2=function(e){var t=e.styles,r=e.bounds,n=Vn(t.paddingLeft,r.width),s=Vn(t.paddingRight,r.width),i=Vn(t.paddingTop,r.width),o=Vn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+i+o))},Gfe=function(e,t){return e===0?t.bounds:e===2?u2(t):r9(t)},zfe=function(e,t){return e===0?t.bounds:e===2?u2(t):r9(t)},cC=function(e,t,r){var n=Gfe(Qf(e.styles.backgroundOrigin,t),e),s=zfe(Qf(e.styles.backgroundClip,t),e),i=$fe(Qf(e.styles.backgroundSize,t),r,n),o=i[0],l=i[1],A=xp(Qf(e.styles.backgroundPosition,t),n.width-o,n.height-l),u=qfe(Qf(e.styles.backgroundRepeat,t),A,i,n,s),h=Math.round(n.left+A[0]),m=Math.round(n.top+A[1]);return[u,h,m,o,l]},_f=function(e){return Ln(e)&&e.value===N0.AUTO},aw=function(e){return typeof e=="number"},$fe=function(e,t,r){var n=t[0],s=t[1],i=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(zs(o)&&l&&zs(l))return[Vn(o,r.width),Vn(l,r.height)];var A=aw(i);if(Ln(o)&&(o.value===N0.CONTAIN||o.value===N0.COVER)){if(aw(i)){var u=r.width/r.height;return u<i!=(o.value===N0.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var h=aw(n),m=aw(s),w=h||m;if(_f(o)&&(!l||_f(l))){if(h&&m)return[n,s];if(!A&&!w)return[r.width,r.height];if(w&&A){var p=h?n:s*i,b=m?s:n/i;return[p,b]}var N=h?n:r.width,j=m?s:r.height;return[N,j]}if(A){var y=0,B=0;return zs(o)?y=Vn(o,r.width):zs(l)&&(B=Vn(l,r.height)),_f(o)?y=B*i:(!l||_f(l))&&(B=y/i),[y,B]}var I=null,_=null;if(zs(o)?I=Vn(o,r.width):l&&zs(l)&&(_=Vn(l,r.height)),I!==null&&(!l||_f(l))&&(_=h&&m?I/n*s:r.height),_!==null&&_f(o)&&(I=h&&m?_/s*n:r.width),I!==null&&_!==null)return[I,_];throw new Error("Unable to calculate background-size for element")},Qf=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},qfe=function(e,t,r,n,s){var i=t[0],o=t[1],l=r[0],A=r[1];switch(e){case 2:return[new Et(Math.round(n.left),Math.round(n.top+o)),new Et(Math.round(n.left+n.width),Math.round(n.top+o)),new Et(Math.round(n.left+n.width),Math.round(A+n.top+o)),new Et(Math.round(n.left),Math.round(A+n.top+o))];case 3:return[new Et(Math.round(n.left+i),Math.round(n.top)),new Et(Math.round(n.left+i+l),Math.round(n.top)),new Et(Math.round(n.left+i+l),Math.round(n.height+n.top)),new Et(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Et(Math.round(n.left+i),Math.round(n.top+o)),new Et(Math.round(n.left+i+l),Math.round(n.top+o)),new Et(Math.round(n.left+i+l),Math.round(n.top+o+A)),new Et(Math.round(n.left+i),Math.round(n.top+o+A))];default:return[new Et(Math.round(s.left),Math.round(s.top)),new Et(Math.round(s.left+s.width),Math.round(s.top)),new Et(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Et(Math.round(s.left),Math.round(s.height+s.top))]}},Xfe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",A_="Hidden Text",Yfe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),s.src=Xfe,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(A_)),n.appendChild(i),n.appendChild(s);var l=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(A_)),n.style.lineHeight="normal",s.style.verticalAlign="super";var A=s.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:A}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),n9=function(){function e(t,r){this.context=t,this.options=r}return e}(),Zfe=1e4,Jfe=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new Yfe(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),Ufe(r)&&(this.ctx.globalAlpha=r.opacity),Mfe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),ZU(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return gi(this,void 0,void 0,function(){var n;return ei(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return gi(this,void 0,void 0,function(){return ei(this,function(n){switch(n.label){case 0:if(sa(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var o=dE(r.text);o.reduce(function(l,A){return i.ctx.fillText(A,l,r.bounds.top+s),l+i.ctx.measureText(A).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=s0e(r.fontFamily).join(", "),i=C1(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},t.prototype.renderTextNode=function(r,n){return gi(this,void 0,void 0,function(){var s,i,o,l,A,u,h,m,w=this;return ei(this,function(p){return s=this.createFontStyle(n),i=s[0],o=s[1],l=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(o,l),u=A.baseline,h=A.middle,m=n.paintOrder,r.textBounds.forEach(function(b){m.forEach(function(N){switch(N){case 0:w.ctx.fillStyle=Aa(n.color),w.renderTextWithLetterSpacing(b,n.letterSpacing,u);var j=n.textShadow;j.length&&b.text.trim().length&&(j.slice(0).reverse().forEach(function(y){w.ctx.shadowColor=Aa(y.color),w.ctx.shadowOffsetX=y.offsetX.number*w.options.scale,w.ctx.shadowOffsetY=y.offsetY.number*w.options.scale,w.ctx.shadowBlur=y.blur.number,w.renderTextWithLetterSpacing(b,n.letterSpacing,u)}),w.ctx.shadowColor="",w.ctx.shadowOffsetX=0,w.ctx.shadowOffsetY=0,w.ctx.shadowBlur=0),n.textDecorationLine.length&&(w.ctx.fillStyle=Aa(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:w.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+u),b.bounds.width,1);break;case 2:w.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:w.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+h),b.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&b.text.trim().length&&(w.ctx.strokeStyle=Aa(n.webkitTextStrokeColor),w.ctx.lineWidth=n.webkitTextStrokeWidth,w.ctx.lineJoin=window.chrome?"miter":"round",w.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+u)),w.ctx.strokeStyle="",w.ctx.lineWidth=0,w.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=u2(r),o=A2(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return gi(this,void 0,void 0,function(){var n,s,i,o,l,A,B,B,u,h,m,w,_,p,b,O,N,j,y,B,I,_,O;return ei(this,function(H){switch(H.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,o=0,l=n.textNodes,H.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,i)]):[3,4];case 2:H.sent(),H.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof PU))return[3,8];H.label=5;case 5:return H.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return B=H.sent(),this.renderReplacedElement(n,s,B),[3,8];case 7:return H.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof DU&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof OU))return[3,12];H.label=9;case 9:return H.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return B=H.sent(),this.renderReplacedElement(n,s,B),[3,12];case 11:return H.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof QU&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:h=H.sent(),n.width&&n.height&&this.ctx.drawImage(h,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),H.label=14;case 14:if(n instanceof hE&&(m=Math.min(n.bounds.width,n.bounds.height),n.type===a2?n.checked&&(this.ctx.save(),this.path([new Et(n.bounds.left+m*.39363,n.bounds.top+m*.79),new Et(n.bounds.left+m*.16,n.bounds.top+m*.5549),new Et(n.bounds.left+m*.27347,n.bounds.top+m*.44071),new Et(n.bounds.left+m*.39694,n.bounds.top+m*.5649),new Et(n.bounds.left+m*.72983,n.bounds.top+m*.23),new Et(n.bounds.left+m*.84,n.bounds.top+m*.34085),new Et(n.bounds.left+m*.39363,n.bounds.top+m*.79)]),this.ctx.fillStyle=Aa(Yk),this.ctx.fill(),this.ctx.restore()):n.type===i2&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+m/2,n.bounds.top+m/2,m/4,0,Math.PI*2,!0),this.ctx.fillStyle=Aa(Yk),this.ctx.fill(),this.ctx.restore())),e0e(n)&&n.value.length){switch(w=this.createFontStyle(i),_=w[0],p=w[1],b=this.fontMetrics.getMetrics(_,p).baseline,this.ctx.font=_,this.ctx.fillStyle=Aa(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=r0e(n.styles.textAlign),O=u2(n),N=0,n.styles.textAlign){case 1:N+=O.width/2;break;case 2:N+=O.width;break}j=O.add(N,0,0,-O.height/2+1),this.ctx.save(),this.path([new Et(O.left,O.top),new Et(O.left+O.width,O.top),new Et(O.left+O.width,O.top+O.height),new Et(O.left,O.top+O.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Wp(n.value,j),i.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!sa(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];B=void 0,I=y.url,H.label=15;case 15:return H.trys.push([15,17,,18]),[4,this.context.cache.match(I)];case 16:return B=H.sent(),this.ctx.drawImage(B,n.bounds.left-(B.width+10),n.bounds.top),[3,18];case 17:return H.sent(),this.context.logger.error("Error loading list-style-image "+I),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(i)[0],this.ctx.font=_,this.ctx.fillStyle=Aa(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",O=new QA(n.bounds.left,n.bounds.top+Vn(n.styles.paddingTop,n.bounds.width),n.bounds.width,Lk(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Wp(r.listValue,O),i.letterSpacing,Lk(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),H.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return gi(this,void 0,void 0,function(){var n,s,y,i,o,y,l,A,y,u,h,y,m,w,y,p,b,y,N,j,y;return ei(this,function(B){switch(B.label){case 0:if(sa(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:B.sent(),n=0,s=r.negativeZIndex,B.label=2;case 2:return n<s.length?(y=s[n],[4,this.renderStack(y)]):[3,5];case 3:B.sent(),B.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:B.sent(),i=0,o=r.nonInlineLevel,B.label=7;case 7:return i<o.length?(y=o[i],[4,this.renderNode(y)]):[3,10];case 8:B.sent(),B.label=9;case 9:return i++,[3,7];case 10:l=0,A=r.nonPositionedFloats,B.label=11;case 11:return l<A.length?(y=A[l],[4,this.renderStack(y)]):[3,14];case 12:B.sent(),B.label=13;case 13:return l++,[3,11];case 14:u=0,h=r.nonPositionedInlineLevel,B.label=15;case 15:return u<h.length?(y=h[u],[4,this.renderStack(y)]):[3,18];case 16:B.sent(),B.label=17;case 17:return u++,[3,15];case 18:m=0,w=r.inlineLevel,B.label=19;case 19:return m<w.length?(y=w[m],[4,this.renderNode(y)]):[3,22];case 20:B.sent(),B.label=21;case 21:return m++,[3,19];case 22:p=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return p<b.length?(y=b[p],[4,this.renderStack(y)]):[3,26];case 24:B.sent(),B.label=25;case 25:return p++,[3,23];case 26:N=0,j=r.positiveZIndex,B.label=27;case 27:return N<j.length?(y=j[N],[4,this.renderStack(y)]):[3,30];case 28:B.sent(),B.label=29;case 29:return N++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var o=el(s)?s.start:s;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),el(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},t.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var A=l.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,s),l},t.prototype.renderBackgroundImage=function(r){return gi(this,void 0,void 0,function(){var n,s,i,o,l,A;return ei(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,s=function(h){var m,w,p,G,q,W,J,Z,L,b,G,q,W,J,Z,N,j,y,B,I,_,O,H,D,L,T,G,M,V,J,Z,ee,q,W,X,K,le,ne,U,Y,se,ce;return ei(this,function(Ae){switch(Ae.label){case 0:if(h.type!==0)return[3,5];m=void 0,w=h.url,Ae.label=1;case 1:return Ae.trys.push([1,3,,4]),[4,i.context.cache.match(w)];case 2:return m=Ae.sent(),[3,4];case 3:return Ae.sent(),i.context.logger.error("Error loading background-image "+w),[3,4];case 4:return m&&(p=cC(r,n,[m.width,m.height,m.width/m.height]),G=p[0],q=p[1],W=p[2],J=p[3],Z=p[4],L=i.ctx.createPattern(i.resizeImage(m,J,Z),"repeat"),i.renderRepeat(G,L,q,W)),[3,6];case 5:Mue(h)?(b=cC(r,n,[null,null,null]),G=b[0],q=b[1],W=b[2],J=b[3],Z=b[4],N=Lue(h.angle,J,Z),j=N[0],y=N[1],B=N[2],I=N[3],_=N[4],O=document.createElement("canvas"),O.width=J,O.height=Z,H=O.getContext("2d"),D=H.createLinearGradient(y,I,B,_),_k(h.stops,j).forEach(function(ge){return D.addColorStop(ge.stop,Aa(ge.color))}),H.fillStyle=D,H.fillRect(0,0,J,Z),J>0&&Z>0&&(L=i.ctx.createPattern(O,"repeat"),i.renderRepeat(G,L,q,W))):Uue(h)&&(T=cC(r,n,[null,null,null]),G=T[0],M=T[1],V=T[2],J=T[3],Z=T[4],ee=h.position.length===0?[cE]:h.position,q=Vn(ee[0],J),W=Vn(ee[ee.length-1],Z),X=Pue(h,q,W,J,Z),K=X[0],le=X[1],K>0&&le>0&&(ne=i.ctx.createRadialGradient(M+q,V+W,0,M+q,V+W,K),_k(h.stops,K*2).forEach(function(ge){return ne.addColorStop(ge.stop,Aa(ge.color))}),i.path(G),i.ctx.fillStyle=ne,K!==le?(U=r.bounds.left+.5*r.bounds.width,Y=r.bounds.top+.5*r.bounds.height,se=le/K,ce=1/se,i.ctx.save(),i.ctx.translate(U,Y),i.ctx.transform(1,0,0,se,0,0),i.ctx.translate(-U,-Y),i.ctx.fillRect(M,ce*(V-Y)+Y,J,Z*ce),i.ctx.restore()):i.ctx.fill())),Ae.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(A=l[o],[5,s(A)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return gi(this,void 0,void 0,function(){return ei(this,function(i){return this.path(c_(s,n)),this.ctx.fillStyle=Aa(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,i){return gi(this,void 0,void 0,function(){var o,l;return ei(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return A.sent(),[2];case 2:return o=Vfe(i,s),this.path(o),this.ctx.fillStyle=Aa(r),this.ctx.fill(),l=Kfe(i,s),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return gi(this,void 0,void 0,function(){var n,s,i,o,l,A,u,h,m=this;return ei(this,function(w){switch(w.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!vd(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=t0e(Qf(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),vd(n.backgroundColor)||(this.ctx.fillStyle=Aa(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:w.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(p){m.ctx.save();var b=c2(r.curves),N=p.inset?0:Zfe,j=Qfe(b,-N+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(m.path(b),m.ctx.clip(),m.mask(j)):(m.mask(b),m.ctx.clip(),m.path(j)),m.ctx.shadowOffsetX=p.offsetX.number+N,m.ctx.shadowOffsetY=p.offsetY.number,m.ctx.shadowColor=Aa(p.color),m.ctx.shadowBlur=p.blur.number,m.ctx.fillStyle=p.inset?Aa(p.color):"rgba(0,0,0,1)",m.ctx.fill(),m.ctx.restore()}),w.label=2;case 2:l=0,A=0,u=i,w.label=3;case 3:return A<u.length?(h=u[A],h.style!==0&&!vd(h.color)&&h.width>0?h.style!==2?[3,5]:[4,this.renderDashedDottedBorder(h.color,h.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return w.sent(),[3,11];case 5:return h.style!==3?[3,7]:[4,this.renderDashedDottedBorder(h.color,h.width,l,r.curves,3)];case 6:return w.sent(),[3,11];case 7:return h.style!==4?[3,9]:[4,this.renderDoubleBorder(h.color,h.width,l,r.curves)];case 8:return w.sent(),[3,11];case 9:return[4,this.renderSolidBorder(h.color,l,r.curves)];case 10:w.sent(),w.label=11;case 11:l++,w.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,i,o){return gi(this,void 0,void 0,function(){var l,A,u,h,m,w,p,b,N,j,y,B,I,_,O,H,O,H;return ei(this,function(D){return this.ctx.save(),l=Wfe(i,s),A=c_(i,s),o===2&&(this.path(A),this.ctx.clip()),el(A[0])?(u=A[0].start.x,h=A[0].start.y):(u=A[0].x,h=A[0].y),el(A[1])?(m=A[1].end.x,w=A[1].end.y):(m=A[1].x,w=A[1].y),s===0||s===2?p=Math.abs(u-m):p=Math.abs(h-w),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(A.slice(0,2)),b=n<3?n*3:n*2,N=n<3?n*2:n,o===3&&(b=n,N=n),j=!0,p<=b*2?j=!1:p<=b*2+N?(y=p/(2*b+N),b*=y,N*=y):(B=Math.floor((p+N)/(b+N)),I=(p-B*b)/(B-1),_=(p-(B+1)*b)/B,N=_<=0||Math.abs(N-I)<Math.abs(N-_)?I:_),j&&(o===3?this.ctx.setLineDash([0,b+N]):this.ctx.setLineDash([b,N])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Aa(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(el(A[0])&&(O=A[3],H=A[0],this.ctx.beginPath(),this.formatPath([new Et(O.end.x,O.end.y),new Et(H.start.x,H.start.y)]),this.ctx.stroke()),el(A[1])&&(O=A[1],H=A[2],this.ctx.beginPath(),this.formatPath([new Et(O.end.x,O.end.y),new Et(H.start.x,H.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return gi(this,void 0,void 0,function(){var n;return ei(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Aa(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Hfe(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(n9),e0e=function(e){return e instanceof UU||e instanceof MU?!0:e instanceof hE&&e.type!==i2&&e.type!==a2},t0e=function(e,t){switch(e){case 0:return c2(t);case 2:return Dfe(t);case 1:default:return A2(t)}},r0e=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},n0e=["-apple-system","system-ui"],s0e=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return n0e.indexOf(t)===-1}):e},a0e=function(e){Jl(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return gi(this,void 0,void 0,function(){var n,s;return ei(this,function(i){switch(i.label){case 0:return n=p3(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,i0e(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Aa(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(n9),i0e=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},o0e=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Ox([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Ox([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Ox([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Ox([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),l0e=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new o0e({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new jfe(this,t)}return e.instanceCount=1,e}(),Qv=function(e,t){return t===void 0&&(t={}),c0e(e,t)};typeof window<"u"&&YU.setContext(window);var c0e=function(e,t){return gi(void 0,void 0,void 0,function(){var r,n,s,i,o,l,A,u,h,m,w,p,b,N,j,y,B,I,_,O,D,H,D,L,T,G,M,V,J,Z,ee,q,W,X,K,le,ne,U,Y,se;return ei(this,function(ce){switch(ce.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(L=t.allowTaint)!==null&&L!==void 0?L:!1,imageTimeout:(T=t.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:t.proxy,useCORS:(G=t.useCORS)!==null&&G!==void 0?G:!1},i=t3({logging:(M=t.logging)!==null&&M!==void 0?M:!0,cache:t.cache},s),o={windowWidth:(V=t.windowWidth)!==null&&V!==void 0?V:n.innerWidth,windowHeight:(J=t.windowHeight)!==null&&J!==void 0?J:n.innerHeight,scrollX:(Z=t.scrollX)!==null&&Z!==void 0?Z:n.pageXOffset,scrollY:(ee=t.scrollY)!==null&&ee!==void 0?ee:n.pageYOffset},l=new QA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),A=new l0e(i,l),u=(q=t.foreignObjectRendering)!==null&&q!==void 0?q:!1,h={allowTaint:(W=t.allowTaint)!==null&&W!==void 0?W:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},A.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),m=new i_(A,e,h),w=m.clonedReferenceElement,w?[4,m.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=ce.sent(),b=fE(w)||ufe(w)?Qce(w.ownerDocument):kv(A,w),N=b.width,j=b.height,y=b.left,B=b.top,I=A0e(A,w,t.backgroundColor),_={canvas:t.canvas,backgroundColor:I,scale:(K=(X=t.scale)!==null&&X!==void 0?X:n.devicePixelRatio)!==null&&K!==void 0?K:1,x:((le=t.x)!==null&&le!==void 0?le:0)+y,y:((ne=t.y)!==null&&ne!==void 0?ne:0)+B,width:(U=t.width)!==null&&U!==void 0?U:Math.ceil(N),height:(Y=t.height)!==null&&Y!==void 0?Y:Math.ceil(j)},u?(A.logger.debug("Document cloned, using foreign object rendering"),D=new a0e(A,_),[4,D.render(w)]):[3,3];case 2:return O=ce.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+y+","+B+" with size "+N+"x"+j+" using computed rendering"),A.logger.debug("Starting DOM parsing"),H=VU(A,w),I===H.styles.backgroundColor&&(H.styles.backgroundColor=FA.TRANSPARENT),A.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),D=new Jfe(A,_),[4,D.render(H)];case 4:O=ce.sent(),ce.label=5;case 5:return(!((se=t.removeContainer)!==null&&se!==void 0)||se)&&(i_.destroy(p)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,O]}})})},A0e=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?Vp(e,getComputedStyle(n.documentElement).backgroundColor):FA.TRANSPARENT,i=n.body?Vp(e,getComputedStyle(n.body).backgroundColor):FA.TRANSPARENT,o=typeof r=="string"?Vp(e,r):r===null?FA.TRANSPARENT:4294967295;return t===n.documentElement?vd(s)?vd(i)?o:i:s:o};const u0e=Object.freeze(Object.defineProperty({__proto__:null,default:Qv},Symbol.toStringTag,{value:"Module"})),u_=e=>new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),AC=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),d0e=({isOpen:e,onClose:t,studentId:r})=>{const[n,s]=C.useState(null),[i,o]=C.useState(!0),[l,A]=C.useState(null),u=C.useRef(null),h=C.useCallback(async()=>{if(r){o(!0),A(null);try{const N=await Re.getStudent(r),j={...N,name:N.name||"",email:N.email||"",phone:N.phone||"",address:N.address||"",membershipStart:N.membershipStart||new Date().toISOString(),membershipEnd:N.membershipEnd||new Date().toISOString(),status:N.status||"active",totalFee:N.totalFee??0,amountPaid:N.amountPaid??0,dueAmount:N.dueAmount??0,cash:N.cash??0,online:N.online??0,securityMoney:N.securityMoney??0,branchId:N.branchId??0,remark:N.remark||null,createdAt:N.createdAt||new Date().toISOString(),discount:0};N.discount!==void 0&&(j.discount=Number(N.discount)||0),s(j)}catch(N){console.error("Error fetching student data:",N),A("Failed to load student data"),Ee.error("Failed to load student data")}finally{o(!1)}}},[r]);C.useEffect(()=>{e&&r&&h()},[e,r,h]);const m=WR.useReactToPrint({content:()=>u.current,onAfterPrint:()=>Ee.success("Invoice printed successfully!"),pageStyle:`
      @page { 
        size: A4;
        margin: 10mm;
      }
      @media print {
        body { 
          -webkit-print-color-adjust: exact; 
        }
        .no-print { 
          display: none !important; 
        }
      }
    `,documentTitle:`Invoice_${(n==null?void 0:n.name)||"Student"}_${new Date().toISOString().split("T")[0]}`,removeAfterPrint:!1}),w=C.useCallback(async()=>{if(!u.current)return null;const N=u.current,y=(await Qv(N,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),B=new Zt("p","mm","a4"),I=B.getImageProperties(y),_=B.internal.pageSize.getWidth(),O=I.height*_/I.width;return B.addImage(y,"PNG",0,0,_,O),B},[]),p=C.useCallback(async()=>{if(n)try{const N=await w();if(!N)return;const j=`invoice_${n.name.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;N.save(j),Ee.success("Invoice downloaded as PDF!")}catch(N){console.error("Error generating PDF:",N),Ee.error("Failed to generate PDF")}},[n,w]),b=C.useCallback(async()=>{if(n)try{const N=await w();if(!N)return;const j=N.output("blob"),y=URL.createObjectURL(j),B=document.createElement("a");B.href=y,B.download=`invoice_${n.name.replace(/\s+/g,"_")}.pdf`,document.body.appendChild(B),B.click(),document.body.removeChild(B),setTimeout(()=>URL.revokeObjectURL(y),100);const I=`Here's the invoice for ${n.name}`,_=`https://wa.me/?text=${encodeURIComponent(I)}`;window.open(_,"_blank"),Ee.success("Downloaded PDF. Please attach it to WhatsApp.")}catch(N){console.error("Error sharing via WhatsApp:",N),Ee.error("Failed to share via WhatsApp")}},[n,w]);return e?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75"}),a.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 px-4 py-3 sm:px-6 flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-white",children:n?`Invoice - ${n.name}`:"Invoice"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:m,className:"p-1 rounded-full text-white hover:bg-blue-700",children:a.jsx(_S,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-1 rounded-full text-white hover:bg-blue-700",children:a.jsx(Xl,{className:"h-5 w-5"})})]})]}),a.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6",children:i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Ei,{className:"mx-auto h-12 w-12 text-red-500"}),a.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Error loading invoice"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l}),a.jsx("button",{onClick:h,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:"Retry"})]}):n?a.jsxs("div",{ref:u,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Bill To:"}),a.jsx("p",{className:"text-gray-900",children:n.name}),n.fatherName&&a.jsxs("p",{className:"text-gray-600",children:["S/O ",n.fatherName]}),n.registrationNumber&&a.jsxs("p",{className:"text-gray-600",children:["Reg: ",n.registrationNumber]}),n.phone&&a.jsxs("p",{className:"text-gray-600 flex items-center",children:[a.jsx(li,{className:"h-4 w-4 mr-1"})," ",n.phone]}),n.email&&a.jsxs("p",{className:"text-gray-600 flex items-center",children:[a.jsx(Gl,{className:"h-4 w-4 mr-1"})," ",n.email]})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Membership Period"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Start Date"}),a.jsx("p",{className:"text-sm font-medium",children:u_(n.membershipStart)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"End Date"}),a.jsx("p",{className:"text-sm font-medium",children:u_(n.membershipEnd)})]})]})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Payment Summary"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total Fee:"}),a.jsx("span",{className:"font-medium",children:AC(n.totalFee)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Amount Paid:"}),a.jsx("span",{className:"text-green-600",children:AC(n.amountPaid)})]}),a.jsxs("div",{className:"flex justify-between border-t border-gray-200 pt-2",children:[a.jsx("span",{className:"font-medium",children:"Balance Due:"}),a.jsx("span",{className:"font-medium",children:AC(n.dueAmount)})]})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsxs("button",{onClick:p,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(Y0,{className:"h-4 w-4 mr-2"}),"Download"]}),a.jsxs("button",{onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700",children:[a.jsx(Zee,{className:"h-4 w-4 mr-2"}),"Share via WhatsApp"]})]})]}):null})]})]})}):null},h0e=Ze.memo(d0e),d_=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",f0e=()=>{var pe;const[e,t]=C.useState(null),[r,n]=C.useState([]),[s,i]=C.useState([]),[o,l]=C.useState(void 0),[A,u]=C.useState(!0),[h,m]=C.useState(""),[w,p]=C.useState(1),[b,N]=C.useState(10),[j,y]=C.useState(""),[B,I]=C.useState("");C.useState("desc");const[_,O]=C.useState("card"),[H,D]=C.useState(!1),[L,T]=C.useState("createdAt"),[G,M]=C.useState("desc"),[V,J]=C.useState(!1),[Z,ee]=C.useState(!1),[q,W]=C.useState(null),X=Ur(),K=ul(),le=Pe=>{W(Pe),ee(!0)},ne=()=>{J(!0)},U=async()=>{try{const Pe=await Re.getLibraryProfile();t({id:Pe.library.id,library_code:Pe.library.libraryCode,name:Pe.library.libraryName})}catch(Pe){console.error("Error fetching library data:",Pe),Ee.error("Failed to load library information")}};C.useEffect(()=>{U()},[]);const Y=async()=>{try{u(!0);const rt=(await Re.getStudents(j||void 0,B||void 0,o)).students.map(qe=>{const We=new Date(qe.membershipEnd)<new Date;return{...qe,status:We?"expired":"active",createdAt:qe.createdAt||"N/A",isActive:qe.isActive}});n(rt)}catch(Pe){console.error("Failed to fetch students:",Pe.message),Ee.error("Failed to fetch students")}finally{u(!1)}};C.useEffect(()=>{(async()=>{try{const rt=await Re.getBranches();i(rt||[])}catch(rt){console.error("Failed to fetch branches:",rt.message),Ee.error("Failed to fetch branches"),i([])}})(),Y(),U()},[o,j,B]),C.useEffect(()=>{p(1)},[h,o,j,B]);const se=Pe=>{L===Pe?M(G==="asc"?"desc":"asc"):(T(Pe),M("asc"))},ce=Pe=>L!==Pe?null:G==="asc"?a.jsx(uv,{size:16}):a.jsx(f1,{size:16}),Ae=async(Pe,rt)=>{const qe=!rt,Me=qe?"activate":"deactivate";if(window.confirm(`Are you sure you want to ${Me} this student?${qe?"":`
This will unassign their seat.`}`))try{await Re.updateStudentStatus(Pe,{isActive:qe}),Ee.success(`Student ${Me}d successfully`),Y()}catch{Ee.error(`Failed to ${Me} student`)}},fe=Ze.useMemo(()=>[...r].sort((Pe,rt)=>{var wt,We,Wt,Nt,at,pt,dt,xt,It,gt,Ot,vt,Hr,Gt;let qe,Me;switch(L){case"name":qe=((wt=Pe.name)==null?void 0:wt.toLowerCase())||"",Me=((We=rt.name)==null?void 0:We.toLowerCase())||"";break;case"registrationNumber":qe=((Wt=Pe.registrationNumber)==null?void 0:Wt.toLowerCase())||"",Me=((Nt=rt.registrationNumber)==null?void 0:Nt.toLowerCase())||"";break;case"phone":qe=Pe.phone||"",Me=rt.phone||"";break;case"status":qe=((at=Pe.status)==null?void 0:at.toLowerCase())||"",Me=((pt=rt.status)==null?void 0:pt.toLowerCase())||"";break;case"seat":qe=((dt=Pe.seatNumber)==null?void 0:dt.toLowerCase())||((gt=(It=(xt=Pe.assignments)==null?void 0:xt[0])==null?void 0:It.seatNumber)==null?void 0:gt.toLowerCase())||"",Me=((Ot=rt.seatNumber)==null?void 0:Ot.toLowerCase())||((Gt=(Hr=(vt=rt.assignments)==null?void 0:vt[0])==null?void 0:Hr.seatNumber)==null?void 0:Gt.toLowerCase())||"";break;case"createdAt":default:const Ge=new Date(Pe.createdAt),jt=new Date(rt.createdAt);qe=isNaN(Ge.getTime())?0:Ge.getTime(),Me=isNaN(jt.getTime())?0:jt.getTime();break}return qe<Me?G==="asc"?-1:1:qe>Me?G==="asc"?1:-1:0}),[r,L,G]).filter(Pe=>Pe.name.toLowerCase().includes(h.toLowerCase())||Pe.phone.toLowerCase().includes(h.toLowerCase())||Pe.registrationNumber&&Pe.registrationNumber.toLowerCase().includes(h.toLowerCase())),je=w*b,ke=je-b,Te=fe.slice(ke,je),De=Math.ceil(fe.length/b),Qe=async Pe=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Re.deleteStudent(Pe),n(r.filter(rt=>rt.id!==Pe)),Ee.success("Student deleted successfully")}catch(rt){console.error("Failed to delete student:",rt.message),Ee.error("Failed to delete student")}},Ne=Pe=>{X(`/students/${Pe}`)};return o&&((pe=s.find(Pe=>Pe.id===o))==null||pe.name),a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(wn,{isCollapsed:H,setIsCollapsed:D,onBarcodeClick:ne}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"border-b bg-white/80 backdrop-blur-md",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex gap-3 overflow-x-auto py-3",children:[a.jsxs(Tt,{to:"/students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-indigo-50 via-sky-50 to-indigo-100 text-indigo-700 ring-1 ring-indigo-200/50 ${K.pathname.startsWith("/students")&&!K.pathname.startsWith("/students/")?"ring-2 ring-indigo-300":""}`,children:[a.jsx(ci,{className:"h-4 w-4"}),"All Students"]}),a.jsxs(Tt,{to:"/active-students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-emerald-50 via-teal-50 to-emerald-100 text-emerald-700 ring-1 ring-emerald-200/50 ${K.pathname.startsWith("/active-students")?"ring-2 ring-emerald-300":""}`,children:[a.jsx(ji,{className:"h-4 w-4"}),"Active Students"]}),a.jsxs(Tt,{to:"/expired-memberships",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-rose-50 via-pink-50 to-rose-100 text-rose-700 ring-1 ring-rose-200/50 ${K.pathname.startsWith("/expired-memberships")?"ring-2 ring-rose-300":""}`,children:[a.jsx(ta,{className:"h-4 w-4"}),"Expired Memberships"]}),a.jsxs(Tt,{to:"/expiring-memberships?range=1-2",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-amber-50 via-orange-50 to-amber-100 text-amber-700 ring-1 ring-amber-200/50 ${K.pathname.startsWith("/expiring-memberships")?"ring-2 ring-amber-300":""}`,children:[a.jsx(Zn,{className:"h-4 w-4"}),"Expiring 12 Days"]})]})})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"All Students"}),a.jsx("p",{className:"text-gray-500",children:"Manage all your students"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("h3",{className:"text-lg font-medium flex-1",children:"Students"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>O("list"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${_==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"List View",children:[a.jsx(Fd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"List"})]}),a.jsxs("button",{onClick:()=>O("card"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${_==="card"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Card View",children:[a.jsx(UA,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Cards"})]})]})]}),a.jsxs("div",{className:"relative w-full md:w-64",children:[a.jsx(cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-10 pr-4 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:h,onChange:Pe=>m(Pe.target.value)})]})]}),a.jsxs("div",{className:"p-4 flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"Branch:"}),a.jsxs("select",{value:o??"",onChange:Pe=>l(Pe.target.value?Number(Pe.target.value):void 0),className:"p-2 border rounded text-sm",children:[a.jsx("option",{value:"",children:"All Branches"}),s.map(Pe=>a.jsx("option",{value:Pe.id,children:Pe.name},Pe.id))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"From:"}),a.jsx("input",{type:"date",value:j,onChange:Pe=>y(Pe.target.value),className:"p-2 border rounded"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("label",{className:"text-sm text-gray-500",children:"To:"}),a.jsx("input",{type:"date",value:B,onChange:Pe=>I(Pe.target.value),className:"p-2 border rounded"})]})]}),_==="list"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ZA,{children:[a.jsx(JA,{children:a.jsxs(js,{children:[a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>se("name"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Name"}),ce("name")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>se("registrationNumber"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Registration"}),ce("registrationNumber")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>se("phone"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Phone"}),ce("phone")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>se("status"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Status"}),ce("status")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>se("seat"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Seat"}),ce("seat")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>se("createdAt"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Added On"}),ce("createdAt")]})}),a.jsx(hr,{children:"Invoice"}),a.jsx(hr,{children:"Action"}),a.jsx(hr,{children:"Actions"})]})}),a.jsx(eu,{children:A?a.jsx(js,{children:a.jsx(sr,{colSpan:9,className:"text-center py-8",children:"Loading..."})}):Te.length>0?Te.map(Pe=>{var rt,qe;return a.jsxs(js,{className:`${Pe.isActive?"":"bg-gray-100 text-gray-400"}`,children:[a.jsx(sr,{children:Pe.name}),a.jsx(sr,{children:Pe.registrationNumber||"N/A"}),a.jsx(sr,{children:Pe.phone}),a.jsx(sr,{children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Pe.isActive?Pe.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Pe.isActive?Pe.status==="active"?"Active":"Expired":"Inactive"})}),a.jsx(sr,{children:Pe.seatNumber||((qe=(rt=Pe.assignments)==null?void 0:rt[0])==null?void 0:qe.seatNumber)||"N/A"}),a.jsx(sr,{children:d_(Pe.createdAt)}),a.jsx(sr,{children:a.jsxs("button",{onClick:()=>le(Pe.id),className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 p-2 rounded transition-colors",title:"View Invoice",children:[a.jsx(Hy,{size:16}),a.jsx("span",{className:"text-xs font-medium",children:"Invoice"})]})}),a.jsx(sr,{children:a.jsxs("button",{onClick:()=>Ae(Pe.id,Pe.isActive),className:`flex items-center gap-1 text-xs p-1 rounded font-semibold ${Pe.isActive?"text-yellow-600 hover:bg-yellow-100":"text-green-600 hover:bg-green-100"}`,title:Pe.isActive?"Deactivate Student":"Activate Student",children:[Pe.isActive?a.jsx(EN,{size:16}):a.jsx(Ky,{size:16}),Pe.isActive?"Deactivate":"Activate"]})}),a.jsxs(sr,{children:[a.jsx("button",{onClick:()=>Ne(Pe.id),className:"mr-2 text-blue-600 hover:text-blue-800 p-2",children:a.jsx(ma,{size:16})}),a.jsx("button",{onClick:()=>Qe(Pe.id),className:"text-red-600 hover:text-red-800 p-2",children:a.jsx(pa,{size:16})})]})]},Pe.id)}):a.jsx(js,{children:a.jsx(sr,{colSpan:9,className:"text-center py-8",children:"No students found."})})})]})}):a.jsx("div",{className:"p-4",children:A?a.jsx("div",{className:"text-center text-gray-500 py-8",children:"Loading..."}):Te.length>0?a.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-stretch",children:Te.map(Pe=>{var rt,qe;return a.jsxs("div",{className:`rounded-xl border shadow-md p-4 flex flex-col h-full bg-gradient-to-br ${Pe.isActive?Pe.status==="active"?"from-emerald-50 via-teal-50 to-emerald-100 border-emerald-200":"from-rose-50 via-pink-50 to-rose-100 border-rose-200":"from-amber-50 via-orange-50 to-amber-100 border-amber-200"} ring-1 ring-white/60 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]`,children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:Pe.name}),a.jsxs("p",{className:"mt-0.5 text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(IS,{className:"h-3.5 w-3.5 text-indigo-400"})," Reg: ",Pe.registrationNumber||"N/A"]})]}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${Pe.isActive?Pe.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[Pe.isActive?Pe.status==="active"?a.jsx(aI,{className:"h-3.5 w-3.5"}):a.jsx(pd,{className:"h-3.5 w-3.5"}):a.jsx(ta,{className:"h-3.5 w-3.5"}),Pe.isActive?Pe.status==="active"?"Active":"Expired":"Inactive"]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(li,{className:"h-3.5 w-3.5 text-slate-400"})," Phone"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:Pe.phone})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(SS,{className:"h-3.5 w-3.5 text-slate-400"})," Seat"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:Pe.seatNumber||((qe=(rt=Pe.assignments)==null?void 0:rt[0])==null?void 0:qe.seatNumber)||"N/A"})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(qs,{className:"h-3.5 w-3.5 text-slate-400"})," Added"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:d_(Pe.createdAt)})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(aI,{className:"h-3.5 w-3.5 text-slate-400"})," Status"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800 capitalize",children:Pe.isActive?Pe.status:"inactive"})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Ne(Pe.id),className:"text-blue-600 hover:text-blue-800 p-2 rounded hover:bg-blue-50",title:"View Details",children:a.jsx(ma,{size:16})}),a.jsx("button",{onClick:()=>le(Pe.id),className:"text-indigo-600 hover:text-indigo-800 p-2 rounded hover:bg-indigo-50",title:"Invoice",children:a.jsx(Hy,{size:16})}),a.jsx("button",{onClick:()=>Qe(Pe.id),className:"text-red-600 hover:text-red-800 p-2 rounded hover:bg-red-50",title:"Delete",children:a.jsx(pa,{size:16})})]}),a.jsxs("button",{onClick:()=>Ae(Pe.id,Pe.isActive),className:`flex items-center gap-1 text-xs px-2 py-1 rounded font-semibold ${Pe.isActive?"text-yellow-700 bg-yellow-50 hover:bg-yellow-100":"text-green-700 bg-green-50 hover:bg-green-100"}`,title:Pe.isActive?"Deactivate Student":"Activate Student",children:[Pe.isActive?a.jsx(EN,{size:16}):a.jsx(Ky,{size:16}),Pe.isActive?"Deactivate":"Activate"]})]})]},Pe.id)})}):a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No students found."})}),!A&&fe.length>0&&a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border-t p-4 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:b,onChange:Pe=>N(Number(Pe.target.value)),className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:25,children:"25"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"per page"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>p(Pe=>Math.max(Pe-1,1)),disabled:w===1,className:"p-2 rounded border disabled:opacity-50",children:a.jsx(Ud,{size:16})}),a.jsxs("span",{className:"text-sm",children:["Page ",w," of ",De]}),a.jsx("button",{onClick:()=>p(Pe=>Math.min(Pe+1,De)),disabled:w===De,className:"p-2 rounded border disabled:opacity-50",children:a.jsx(gr,{size:16})})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",ke+1,"-",Math.min(je,fe.length)," of ",fe.length]})]})]})]})})]}),e&&a.jsx(g1,{isOpen:V,onClose:()=>J(!1),libraryCode:e.library_code,libraryName:e.name,libraryId:e.id}),q&&a.jsx(h0e,{isOpen:Z,onClose:()=>{ee(!1),W(null)},studentId:q})]})},h_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,f_=oO,Hv=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return f_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const h=r==null?void 0:r[u],m=i==null?void 0:i[u];if(h===null)return null;const w=h_(h)||h_(m);return s[u][w]}),l=r&&Object.entries(r).reduce((u,h)=>{let[m,w]=h;return w===void 0||(u[m]=w),u},{}),A=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:m,className:w,...p}=h;return Object.entries(p).every(b=>{let[N,j]=b;return Array.isArray(j)?j.includes({...i,...l}[N]):{...i,...l}[N]===j})?[...u,m,w]:u},[]);return f_(e,o,A,r==null?void 0:r.class,r==null?void 0:r.className)},C3=Hv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Jt=C.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?qh:"button";return a.jsx(o,{className:Nr(C3({variant:t,size:r,className:e})),ref:i,...s})});Jt.displayName="Button";const m_=()=>{const[e]=lS(),[t,r]=C.useState([]),[n,s]=C.useState(!0),[i,o]=C.useState("all"),[l,A]=C.useState(!1);C.useEffect(()=>{const w=e.get("range")||"all";o(w)},[e]),C.useEffect(()=>{(async()=>{s(!0);try{let p;switch(i){case"1-2":p=await Re.getExpiringByRange(void 0,0,2);break;case"3-5":p=await Re.getExpiringByRange(void 0,2,5);break;case"5-7":p=await Re.getExpiringByRange(void 0,5,7);break;default:p=await Re.getExpiringSoon();break}r(p.students)}catch(p){Ee.error(p.message||"Failed to fetch expiring memberships.")}finally{s(!1)}})()},[i]);const u=w=>{if(!w){Ee.error("No phone number available for this student.");return}let p=w.replace(/\D/g,"");p.length===10&&(p=`91${p}`);const b=`https://wa.me/${p}`;window.open(b,"_blank","noopener,noreferrer")},h=w=>new Date(w).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),m=()=>{switch(i){case"1-2":return"Memberships Expiring in 1-2 Days";case"3-5":return"Memberships Expiring in 3-5 Days";case"5-7":return"Memberships Expiring in 5-7 Days";default:return"All Expiring Memberships"}};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(wn,{isCollapsed:l,setIsCollapsed:A,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:m()}),a.jsx("p",{className:"text-gray-500",children:"View memberships expiring in the selected time range."}),a.jsx("div",{className:"mt-3 rounded-xl p-4 text-white bg-gradient-to-br from-amber-500 to-orange-600 ring-1 ring-white/10",children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("div",{className:"text-sm sm:text-base font-medium text-white/90",children:"Reach out proactively to reduce expiries"}),a.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-md",children:"Reminder"})]})})]}),a.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ES,{className:"h-5 w-5 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter by:"})]}),a.jsxs("select",{value:i,onChange:w=>o(w.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-purple-600",children:[a.jsx("option",{value:"all",children:"All Expiring Soon"}),a.jsx("option",{value:"1-2",children:"1-2 Days"}),a.jsx("option",{value:"3-5",children:"3-5 Days"}),a.jsx("option",{value:"5-7",children:"5-7 Days"})]})]}),a.jsx("div",{className:"rounded-lg border bg-white shadow-sm",children:n?a.jsx("p",{className:"p-4 text-center text-gray-500",children:"Loading..."}):t.length===0?a.jsx("p",{className:"p-4 text-center text-gray-500",children:"No memberships are expiring soon."}):a.jsxs(ZA,{children:[a.jsx(JA,{children:a.jsxs(js,{children:[a.jsx(hr,{children:"Name"}),a.jsx(hr,{children:"Phone"}),a.jsx(hr,{children:"Expiry Date"}),a.jsx(hr,{children:"Days Until Expiry"}),a.jsx(hr,{className:"text-right",children:"Contact"})]})}),a.jsx(eu,{children:t.map(w=>{const p=Math.ceil((new Date(w.membershipEnd).getTime()-new Date().getTime())/864e5);return a.jsxs(js,{children:[a.jsx(sr,{className:"font-medium",children:w.name}),a.jsx(sr,{children:w.phone}),a.jsx(sr,{children:h(w.membershipEnd)}),a.jsx(sr,{children:a.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p<=2?"bg-red-100 text-red-800":p<=5?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800"}`,children:[p," day",p!==1?"s":""]})}),a.jsx(sr,{className:"text-right",children:a.jsx(Jt,{variant:"ghost",size:"icon",onClick:()=>u(w.phone),title:`Send WhatsApp message to ${w.name}`,children:a.jsx(kS,{className:"h-5 w-5 text-green-600"})})})]},w.id)})})]})})]})})]})]})};var uC="focusScope.autoFocusOnMount",dC="focusScope.autoFocusOnUnmount",p_={bubbles:!1,cancelable:!0},m0e="FocusScope",mE=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,A]=C.useState(null),u=Dc(s),h=Dc(i),m=C.useRef(null),w=ts(t,N=>A(N)),p=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let N=function(I){if(p.paused||!l)return;const _=I.target;l.contains(_)?m.current=_:Fu(m.current,{select:!0})},j=function(I){if(p.paused||!l)return;const _=I.relatedTarget;_!==null&&(l.contains(_)||Fu(m.current,{select:!0}))},y=function(I){if(document.activeElement===document.body)for(const O of I)O.removedNodes.length>0&&Fu(l)};document.addEventListener("focusin",N),document.addEventListener("focusout",j);const B=new MutationObserver(y);return l&&B.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",j),B.disconnect()}}},[n,l,p.paused]),C.useEffect(()=>{if(l){x_.add(p);const N=document.activeElement;if(!l.contains(N)){const y=new CustomEvent(uC,p_);l.addEventListener(uC,u),l.dispatchEvent(y),y.defaultPrevented||(p0e(v0e(s9(l)),{select:!0}),document.activeElement===N&&Fu(l))}return()=>{l.removeEventListener(uC,u),setTimeout(()=>{const y=new CustomEvent(dC,p_);l.addEventListener(dC,h),l.dispatchEvent(y),y.defaultPrevented||Fu(N??document.body,{select:!0}),l.removeEventListener(dC,h),x_.remove(p)},0)}}},[l,u,h,p]);const b=C.useCallback(N=>{if(!r&&!n||p.paused)return;const j=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,y=document.activeElement;if(j&&y){const B=N.currentTarget,[I,_]=g0e(B);I&&_?!N.shiftKey&&y===_?(N.preventDefault(),r&&Fu(I,{select:!0})):N.shiftKey&&y===I&&(N.preventDefault(),r&&Fu(_,{select:!0})):y===B&&N.preventDefault()}},[r,n,p.paused]);return a.jsx(Jr.div,{tabIndex:-1,...o,ref:w,onKeyDown:b})});mE.displayName=m0e;function p0e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fu(n,{select:t}),document.activeElement!==r)return}function g0e(e){const t=s9(e),r=g_(t,e),n=g_(t.reverse(),e);return[r,n]}function s9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function g_(e,t){for(const r of e)if(!x0e(r,{upTo:t}))return r}function x0e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w0e(e){return e instanceof HTMLInputElement&&"select"in e}function Fu(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&w0e(e)&&t&&e.select()}}var x_=y0e();function y0e(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=w_(e,t),e.unshift(t)},remove(t){var r;e=w_(e,t),(r=e[0])==null||r.resume()}}}function w_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function v0e(e){return e.filter(t=>t.tagName!=="A")}var hC=0;function a9(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??y_()),document.body.insertAdjacentElement("beforeend",e[1]??y_()),hC++,()=>{hC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hC--}},[])}function y_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vc=function(){return vc=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},vc.apply(this,arguments)};function i9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function b0e(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Yw="right-scroll-bar-position",Zw="width-before-scroll-bar",C0e="with-scroll-bars-hidden",N0e="--removed-body-scroll-bar-size";function fC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function B0e(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var S0e=typeof window<"u"?C.useLayoutEffect:C.useEffect,v_=new WeakMap;function E0e(e,t){var r=B0e(null,function(n){return e.forEach(function(s){return fC(s,n)})});return S0e(function(){var n=v_.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||fC(l,null)}),i.forEach(function(l){s.has(l)||fC(l,o)})}v_.set(r,e)},[e]),r}function j0e(e){return e}function I0e(e,t){t===void 0&&(t=j0e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var A=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(A)};u(),r={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),r}}}};return s}function F0e(e){e===void 0&&(e={});var t=I0e(null);return t.options=vc({async:!0,ssr:!1},e),t}var o9=function(e){var t=e.sideCar,r=i9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,vc({},r))};o9.isSideCarExport=!0;function k0e(e,t){return e.useMedium(t),o9}var l9=F0e(),mC=function(){},Vv=C.forwardRef(function(e,t){var r=C.useRef(null),n=C.useState({onScrollCapture:mC,onWheelCapture:mC,onTouchMoveCapture:mC}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,A=e.className,u=e.removeScrollBar,h=e.enabled,m=e.shards,w=e.sideCar,p=e.noIsolation,b=e.inert,N=e.allowPinchZoom,j=e.as,y=j===void 0?"div":j,B=e.gapMode,I=i9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=w,O=E0e([r,t]),H=vc(vc({},I),s);return C.createElement(C.Fragment,null,h&&C.createElement(_,{sideCar:l9,removeScrollBar:u,shards:m,noIsolation:p,inert:b,setCallbacks:i,allowPinchZoom:!!N,lockRef:r,gapMode:B}),o?C.cloneElement(C.Children.only(l),vc(vc({},H),{ref:O})):C.createElement(y,vc({},H,{className:A,ref:O}),l))});Vv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vv.classNames={fullWidth:Zw,zeroRight:Yw};var _0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function T0e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_0e();return t&&e.setAttribute("nonce",t),e}function L0e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function P0e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var D0e=function(){var e=0,t=null;return{add:function(r){e==0&&(t=T0e())&&(L0e(t,r),P0e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},O0e=function(){var e=D0e();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},c9=function(){var e=O0e(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},R0e={left:0,top:0,right:0,gap:0},pC=function(e){return parseInt(e||"",10)||0},M0e=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[pC(r),pC(n),pC(s)]},U0e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return R0e;var t=M0e(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Q0e=c9(),B0="data-scroll-locked",H0e=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(C0e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(B0,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yw,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Zw,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Yw," .").concat(Yw,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Zw," .").concat(Zw,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(B0,`] {
    `).concat(N0e,": ").concat(l,`px;
  }
`)},b_=function(){var e=parseInt(document.body.getAttribute(B0)||"0",10);return isFinite(e)?e:0},V0e=function(){C.useEffect(function(){return document.body.setAttribute(B0,(b_()+1).toString()),function(){var e=b_()-1;e<=0?document.body.removeAttribute(B0):document.body.setAttribute(B0,e.toString())}},[])},K0e=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;V0e();var i=C.useMemo(function(){return U0e(s)},[s]);return C.createElement(Q0e,{styles:H0e(i,!t,s,r?"":"!important")})},N3=!1;if(typeof window<"u")try{var iw=Object.defineProperty({},"passive",{get:function(){return N3=!0,!0}});window.addEventListener("test",iw,iw),window.removeEventListener("test",iw,iw)}catch{N3=!1}var Tf=N3?{passive:!1}:!1,W0e=function(e){return e.tagName==="TEXTAREA"},A9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!W0e(e)&&r[t]==="visible")},G0e=function(e){return A9(e,"overflowY")},z0e=function(e){return A9(e,"overflowX")},C_=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=u9(e,n);if(s){var i=d9(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$0e=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},q0e=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},u9=function(e,t){return e==="v"?G0e(t):z0e(t)},d9=function(e,t){return e==="v"?$0e(t):q0e(t)},X0e=function(e,t){return e==="h"&&t==="rtl"?-1:1},Y0e=function(e,t,r,n,s){var i=X0e(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,A=t.contains(l),u=!1,h=o>0,m=0,w=0;do{var p=d9(e,l),b=p[0],N=p[1],j=p[2],y=N-j-i*b;(b||y)&&u9(e,l)&&(m+=y,w+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!A&&l!==document.body||A&&(t.contains(l)||t===l));return(h&&(Math.abs(m)<1||!s)||!h&&(Math.abs(w)<1||!s))&&(u=!0),u},ow=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},N_=function(e){return[e.deltaX,e.deltaY]},B_=function(e){return e&&"current"in e?e.current:e},Z0e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},J0e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eme=0,Lf=[];function tme(e){var t=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),s=C.useState(eme++)[0],i=C.useState(c9)[0],o=C.useRef(e);C.useEffect(function(){o.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var N=b0e([e.lockRef.current],(e.shards||[]).map(B_),!0).filter(Boolean);return N.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),N.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=C.useCallback(function(N,j){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!o.current.allowPinchZoom;var y=ow(N),B=r.current,I="deltaX"in N?N.deltaX:B[0]-y[0],_="deltaY"in N?N.deltaY:B[1]-y[1],O,H=N.target,D=Math.abs(I)>Math.abs(_)?"h":"v";if("touches"in N&&D==="h"&&H.type==="range")return!1;var L=C_(D,H);if(!L)return!0;if(L?O=D:(O=D==="v"?"h":"v",L=C_(D,H)),!L)return!1;if(!n.current&&"changedTouches"in N&&(I||_)&&(n.current=O),!O)return!0;var T=n.current||O;return Y0e(T,j,N,T==="h"?I:_,!0)},[]),A=C.useCallback(function(N){var j=N;if(!(!Lf.length||Lf[Lf.length-1]!==i)){var y="deltaY"in j?N_(j):ow(j),B=t.current.filter(function(O){return O.name===j.type&&(O.target===j.target||j.target===O.shadowParent)&&Z0e(O.delta,y)})[0];if(B&&B.should){j.cancelable&&j.preventDefault();return}if(!B){var I=(o.current.shards||[]).map(B_).filter(Boolean).filter(function(O){return O.contains(j.target)}),_=I.length>0?l(j,I[0]):!o.current.noIsolation;_&&j.cancelable&&j.preventDefault()}}},[]),u=C.useCallback(function(N,j,y,B){var I={name:N,delta:j,target:y,should:B,shadowParent:rme(y)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(_){return _!==I})},1)},[]),h=C.useCallback(function(N){r.current=ow(N),n.current=void 0},[]),m=C.useCallback(function(N){u(N.type,N_(N),N.target,l(N,e.lockRef.current))},[]),w=C.useCallback(function(N){u(N.type,ow(N),N.target,l(N,e.lockRef.current))},[]);C.useEffect(function(){return Lf.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:w}),document.addEventListener("wheel",A,Tf),document.addEventListener("touchmove",A,Tf),document.addEventListener("touchstart",h,Tf),function(){Lf=Lf.filter(function(N){return N!==i}),document.removeEventListener("wheel",A,Tf),document.removeEventListener("touchmove",A,Tf),document.removeEventListener("touchstart",h,Tf)}},[]);var p=e.removeScrollBar,b=e.inert;return C.createElement(C.Fragment,null,b?C.createElement(i,{styles:J0e(s)}):null,p?C.createElement(K0e,{gapMode:e.gapMode}):null)}function rme(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nme=k0e(l9,tme);var pE=C.forwardRef(function(e,t){return C.createElement(Vv,vc({},e,{ref:t,sideCar:nme}))});pE.classNames=Vv.classNames;var sme=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pf=new WeakMap,lw=new WeakMap,cw={},gC=0,h9=function(e){return e&&(e.host||h9(e.parentNode))},ame=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=h9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ime=function(e,t,r,n){var s=ame(t,Array.isArray(e)?e:[e]);cw[r]||(cw[r]=new WeakMap);var i=cw[r],o=[],l=new Set,A=new Set(s),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};s.forEach(u);var h=function(m){!m||A.has(m)||Array.prototype.forEach.call(m.children,function(w){if(l.has(w))h(w);else try{var p=w.getAttribute(n),b=p!==null&&p!=="false",N=(Pf.get(w)||0)+1,j=(i.get(w)||0)+1;Pf.set(w,N),i.set(w,j),o.push(w),N===1&&b&&lw.set(w,!0),j===1&&w.setAttribute(r,"true"),b||w.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",w,y)}})};return h(t),l.clear(),gC++,function(){o.forEach(function(m){var w=Pf.get(m)-1,p=i.get(m)-1;Pf.set(m,w),i.set(m,p),w||(lw.has(m)||m.removeAttribute(n),lw.delete(m)),p||m.removeAttribute(r)}),gC--,gC||(Pf=new WeakMap,Pf=new WeakMap,lw=new WeakMap,cw={})}},f9=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=sme(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),ime(n,s,r,"aria-hidden")):function(){return null}},gE="Dialog",[m9,z4e]=A1(gE),[ome,ec]=m9(gE),p9=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=C.useRef(null),A=C.useRef(null),[u=!1,h]=Yh({prop:n,defaultProp:s,onChange:i});return a.jsx(ome,{scope:t,triggerRef:l,contentRef:A,contentId:jA(),titleId:jA(),descriptionId:jA(),open:u,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(m=>!m),[h]),modal:o,children:r})};p9.displayName=gE;var g9="DialogTrigger",lme=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ec(g9,r),i=ts(t,s.triggerRef);return a.jsx(Jr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":yE(s.open),...n,ref:i,onClick:_r(e.onClick,s.onOpenToggle)})});lme.displayName=g9;var xE="DialogPortal",[cme,x9]=m9(xE,{forceMount:void 0}),w9=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=ec(xE,t);return a.jsx(cme,{scope:t,forceMount:r,children:C.Children.map(n,o=>a.jsx(hf,{present:r||i.open,children:a.jsx(gS,{asChild:!0,container:s,children:o})}))})};w9.displayName=xE;var d2="DialogOverlay",y9=C.forwardRef((e,t)=>{const r=x9(d2,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=ec(d2,e.__scopeDialog);return i.modal?a.jsx(hf,{present:n||i.open,children:a.jsx(Ame,{...s,ref:t})}):null});y9.displayName=d2;var Ame=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ec(d2,r);return a.jsx(pE,{as:qh,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Jr.div,{"data-state":yE(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),sf="DialogContent",v9=C.forwardRef((e,t)=>{const r=x9(sf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=ec(sf,e.__scopeDialog);return a.jsx(hf,{present:n||i.open,children:i.modal?a.jsx(ume,{...s,ref:t}):a.jsx(dme,{...s,ref:t})})});v9.displayName=sf;var ume=C.forwardRef((e,t)=>{const r=ec(sf,e.__scopeDialog),n=C.useRef(null),s=ts(t,r.contentRef,n);return C.useEffect(()=>{const i=n.current;if(i)return f9(i)},[]),a.jsx(b9,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_r(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_r(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:_r(e.onFocusOutside,i=>i.preventDefault())})}),dme=C.forwardRef((e,t)=>{const r=ec(sf,e.__scopeDialog),n=C.useRef(!1),s=C.useRef(!1);return a.jsx(b9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var A,u;(A=e.onInteractOutside)==null||A.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),b9=C.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=ec(sf,r),A=C.useRef(null),u=ts(t,A);return a9(),a.jsxs(a.Fragment,{children:[a.jsx(mE,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(q2,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":yE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(hme,{titleId:l.titleId}),a.jsx(mme,{contentRef:A,descriptionId:l.descriptionId})]})]})}),wE="DialogTitle",C9=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ec(wE,r);return a.jsx(Jr.h2,{id:s.titleId,...n,ref:t})});C9.displayName=wE;var N9="DialogDescription",B9=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ec(N9,r);return a.jsx(Jr.p,{id:s.descriptionId,...n,ref:t})});B9.displayName=N9;var S9="DialogClose",E9=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ec(S9,r);return a.jsx(Jr.button,{type:"button",...n,ref:t,onClick:_r(e.onClick,()=>s.onOpenChange(!1))})});E9.displayName=S9;function yE(e){return e?"open":"closed"}var j9="DialogTitleWarning",[$4e,I9]=_X(j9,{contentName:sf,titleName:wE,docsSlug:"dialog"}),hme=({titleId:e})=>{const t=I9(j9),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},fme="DialogDescriptionWarning",mme=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${I9(fme).contentName}}.`;return C.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},pme=p9,gme=w9,F9=y9,k9=v9,_9=C9,T9=B9,L9=E9;const S0=pme,xme=gme,xC=L9,P9=C.forwardRef(({className:e,...t},r)=>a.jsx(F9,{ref:r,className:Nr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));P9.displayName=F9.displayName;const Ph=C.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(xme,{children:[a.jsx(P9,{}),a.jsxs(k9,{ref:n,className:Nr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(L9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Xl,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ph.displayName=k9.displayName;const Dh=({className:e,...t})=>a.jsx("div",{className:Nr("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Dh.displayName="DialogHeader";const Oh=({className:e,...t})=>a.jsx("div",{className:Nr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Oh.displayName="DialogFooter";const Rh=C.forwardRef(({className:e,...t},r)=>a.jsx(_9,{ref:r,className:Nr("text-lg font-semibold leading-none tracking-tight",e),...t}));Rh.displayName=_9.displayName;const Mh=C.forwardRef(({className:e,...t},r)=>a.jsx(T9,{ref:r,className:Nr("text-sm text-muted-foreground",e),...t}));Mh.displayName=T9.displayName;function on(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Fo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function vi(e,t){const r=on(e);return isNaN(t)?Fo(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ko(e,t){const r=on(e);if(isNaN(t))return Fo(e,NaN);if(!t)return r;const n=r.getDate(),s=Fo(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return n>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const vE=6048e5,wme=864e5;let yme={};function N1(){return yme}function Rc(e,t){var l,A,u,h;const r=N1(),n=(t==null?void 0:t.weekStartsOn)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=on(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function af(e){return Rc(e,{weekStartsOn:1})}function D9(e){const t=on(e),r=t.getFullYear(),n=Fo(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=af(n),i=Fo(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=af(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function sm(e){const t=on(e);return t.setHours(0,0,0,0),t}function h2(e){const t=on(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Cc(e,t){const r=sm(e),n=sm(t),s=+r-h2(r),i=+n-h2(n);return Math.round((s-i)/wme)}function vme(e){const t=D9(e),r=Fo(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),af(r)}function B3(e,t){const r=t*7;return vi(e,r)}function bme(e,t){return ko(e,t*12)}function Cme(e){let t;return e.forEach(function(r){const n=on(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Nme(e){let t;return e.forEach(r=>{const n=on(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function zi(e,t){const r=sm(e),n=sm(t);return+r==+n}function bE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Bme(e){if(!bE(e)&&typeof e!="number")return!1;const t=on(e);return!isNaN(Number(t))}function Wg(e,t){const r=on(e),n=on(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Sme(e,t,r){const n=Rc(e,r),s=Rc(t,r),i=+n-h2(n),o=+s-h2(s);return Math.round((i-o)/vE)}function CE(e){const t=on(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function eo(e){const t=on(e);return t.setDate(1),t.setHours(0,0,0,0),t}function O9(e){const t=on(e),r=Fo(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function NE(e,t){var l,A,u,h;const r=N1(),n=(t==null?void 0:t.weekStartsOn)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=on(e),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function R9(e){return NE(e,{weekStartsOn:1})}const Eme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jme=(e,t,r)=>{let n;const s=Eme[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function wC(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ime={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_me={date:wC({formats:Ime,defaultWidth:"full"}),time:wC({formats:Fme,defaultWidth:"full"}),dateTime:wC({formats:kme,defaultWidth:"full"})},Tme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lme=(e,t,r,n)=>Tme[e];function tp(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Pme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dme={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ome={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ume={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qme=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Hme={ordinalNumber:Qme,era:tp({values:Pme,defaultWidth:"wide"}),quarter:tp({values:Dme,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tp({values:Ome,defaultWidth:"wide"}),day:tp({values:Rme,defaultWidth:"wide"}),dayPeriod:tp({values:Mme,defaultWidth:"wide",formattingValues:Ume,defaultFormattingWidth:"wide"})};function rp(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],A=Array.isArray(l)?Kme(l,m=>m.test(o)):Vme(l,m=>m.test(o));let u;u=e.valueCallback?e.valueCallback(A):A,u=r.valueCallback?r.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function Vme(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Kme(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Wme(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Gme=/^(\d+)(th|st|nd|rd)?/i,zme=/\d+/i,$me={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qme={any:[/^b/i,/^(a|c)/i]},Xme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yme={any:[/1/i,/2/i,/3/i,/4/i]},Zme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},epe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},npe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},spe={ordinalNumber:Wme({matchPattern:Gme,parsePattern:zme,valueCallback:e=>parseInt(e,10)}),era:rp({matchPatterns:$me,defaultMatchWidth:"wide",parsePatterns:qme,defaultParseWidth:"any"}),quarter:rp({matchPatterns:Xme,defaultMatchWidth:"wide",parsePatterns:Yme,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rp({matchPatterns:Zme,defaultMatchWidth:"wide",parsePatterns:Jme,defaultParseWidth:"any"}),day:rp({matchPatterns:epe,defaultMatchWidth:"wide",parsePatterns:tpe,defaultParseWidth:"any"}),dayPeriod:rp({matchPatterns:rpe,defaultMatchWidth:"any",parsePatterns:npe,defaultParseWidth:"any"})},M9={code:"en-US",formatDistance:jme,formatLong:_me,formatRelative:Lme,localize:Hme,match:spe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ape(e){const t=on(e);return Cc(t,O9(t))+1}function U9(e){const t=on(e),r=+af(t)-+vme(t);return Math.round(r/vE)+1}function Q9(e,t){var h,m,w,p;const r=on(e),n=r.getFullYear(),s=N1(),i=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(w=s.locale)==null?void 0:w.options)==null?void 0:p.firstWeekContainsDate)??1,o=Fo(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Rc(o,t),A=Fo(e,0);A.setFullYear(n,0,i),A.setHours(0,0,0,0);const u=Rc(A,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function ipe(e,t){var l,A,u,h;const r=N1(),n=(t==null?void 0:t.firstWeekContainsDate)??((A=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:A.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=Q9(e,t),i=Fo(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Rc(i,t)}function H9(e,t){const r=on(e),n=+Rc(r,t)-+ipe(r,t);return Math.round(n/vE)+1}function Sn(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Bu={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Sn(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Sn(r+1,2)},d(e,t){return Sn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Sn(e.getHours()%12||12,t.length)},H(e,t){return Sn(e.getHours(),t.length)},m(e,t){return Sn(e.getMinutes(),t.length)},s(e,t){return Sn(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Sn(s,t.length)}},Df={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},S_={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Bu.y(e,t)},Y:function(e,t,r,n){const s=Q9(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Sn(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Sn(i,t.length)},R:function(e,t){const r=D9(e);return Sn(r,t.length)},u:function(e,t){const r=e.getFullYear();return Sn(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Sn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Sn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Bu.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Sn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=H9(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Sn(s,t.length)},I:function(e,t,r){const n=U9(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Sn(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Bu.d(e,t)},D:function(e,t,r){const n=ape(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Sn(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Sn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Sn(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Sn(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Df.noon:n===0?s=Df.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Df.evening:n>=12?s=Df.afternoon:n>=4?s=Df.morning:s=Df.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Bu.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Bu.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Sn(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Sn(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Bu.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Bu.s(e,t)},S:function(e,t){return Bu.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return j_(n);case"XXXX":case"XX":return nh(n);case"XXXXX":case"XXX":default:return nh(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return j_(n);case"xxxx":case"xx":return nh(n);case"xxxxx":case"xxx":default:return nh(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+E_(n,":");case"OOOO":default:return"GMT"+nh(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+E_(n,":");case"zzzz":default:return"GMT"+nh(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Sn(n,t.length)},T:function(e,t,r){const n=e.getTime();return Sn(n,t.length)}};function E_(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Sn(i,2)}function j_(e,t){return e%60===0?(e>0?"-":"+")+Sn(Math.abs(e)/60,2):nh(e,t)}function nh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Sn(Math.trunc(n/60),2),i=Sn(n%60,2);return r+s+t+i}const I_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},V9=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ope=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return I_(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",I_(n,t)).replace("{{time}}",V9(s,t))},lpe={p:V9,P:ope},cpe=/^D+$/,Ape=/^Y+$/,upe=["D","DD","YY","YYYY"];function dpe(e){return cpe.test(e)}function hpe(e){return Ape.test(e)}function fpe(e,t,r){const n=mpe(e,t,r);if(console.warn(n),upe.includes(e))throw new RangeError(n)}function mpe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ppe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xpe=/^'([^]*?)'?$/,wpe=/''/g,ype=/[a-zA-Z]/;function HA(e,t,r){var h,m,w,p,b,N,j,y;const n=N1(),s=(r==null?void 0:r.locale)??n.locale??M9,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(w=n.locale)==null?void 0:w.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((N=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??n.weekStartsOn??((y=(j=n.locale)==null?void 0:j.options)==null?void 0:y.weekStartsOn)??0,l=on(e);if(!Bme(l))throw new RangeError("Invalid time value");let A=t.match(gpe).map(B=>{const I=B[0];if(I==="p"||I==="P"){const _=lpe[I];return _(B,s.formatLong)}return B}).join("").match(ppe).map(B=>{if(B==="''")return{isToken:!1,value:"'"};const I=B[0];if(I==="'")return{isToken:!1,value:vpe(B)};if(S_[I])return{isToken:!0,value:B};if(I.match(ype))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:B}});s.localize.preprocessor&&(A=s.localize.preprocessor(l,A));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return A.map(B=>{if(!B.isToken)return B.value;const I=B.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&hpe(I)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&dpe(I))&&fpe(I,t,String(e));const _=S_[I[0]];return _(l,I,s.localize,u)}).join("")}function vpe(e){const t=e.match(xpe);return t?t[1].replace(wpe,"'"):e}function bpe(e){const t=on(e),r=t.getFullYear(),n=t.getMonth(),s=Fo(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Cpe(e){return Math.trunc(+on(e)/1e3)}function Npe(e){const t=on(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Bpe(e,t){return Sme(Npe(e),eo(e),t)+1}function S3(e,t){const r=on(e),n=on(t);return r.getTime()>n.getTime()}function K9(e,t){const r=on(e),n=on(t);return+r<+n}function BE(e,t){const r=on(e),n=on(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Spe(e,t){const r=on(e),n=on(t);return r.getFullYear()===n.getFullYear()}function yC(e,t){return vi(e,-t)}function vC(e,t){const r=on(e),n=r.getFullYear(),s=r.getDate(),i=Fo(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=bpe(i);return r.setMonth(t,Math.min(s,o)),r}function F_(e,t){const r=on(e);return isNaN(+r)?Fo(e,NaN):(r.setFullYear(t),r)}var wr=function(){return wr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},wr.apply(this,arguments)};function Epe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function W9(e,t,r){for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function B1(e){return e.mode==="multiple"}function S1(e){return e.mode==="range"}function Kv(e){return e.mode==="single"}var jpe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Ipe(e,t){return HA(e,"LLLL y",t)}function Fpe(e,t){return HA(e,"d",t)}function kpe(e,t){return HA(e,"LLLL",t)}function _pe(e){return"".concat(e)}function Tpe(e,t){return HA(e,"cccccc",t)}function Lpe(e,t){return HA(e,"yyyy",t)}var Ppe=Object.freeze({__proto__:null,formatCaption:Ipe,formatDay:Fpe,formatMonthCaption:kpe,formatWeekNumber:_pe,formatWeekdayName:Tpe,formatYearCaption:Lpe}),Dpe=function(e,t,r){return HA(e,"do MMMM (EEEE)",r)},Ope=function(){return"Month: "},Rpe=function(){return"Go to next month"},Mpe=function(){return"Go to previous month"},Upe=function(e,t){return HA(e,"cccc",t)},Qpe=function(e){return"Week n. ".concat(e)},Hpe=function(){return"Year: "},Vpe=Object.freeze({__proto__:null,labelDay:Dpe,labelMonthDropdown:Ope,labelNext:Rpe,labelPrevious:Mpe,labelWeekNumber:Qpe,labelWeekday:Upe,labelYearDropdown:Hpe});function Kpe(){var e="buttons",t=jpe,r=M9,n={},s={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Ppe,labels:Vpe,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Wpe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=eo(n):t&&(i=new Date(t,0,1)),s?o=CE(s):r&&(o=new Date(r,11,31)),{fromDate:i?sm(i):void 0,toDate:o?sm(o):void 0}}var G9=C.createContext(void 0);function Gpe(e){var t,r=e.initialProps,n=Kpe(),s=Wpe(r),i=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var A;(Kv(r)||B1(r)||S1(r))&&(A=r.onSelect);var u=wr(wr(wr({},n),r),{captionLayout:l,classNames:wr(wr({},n.classNames),r.classNames),components:wr({},r.components),formatters:wr(wr({},n.formatters),r.formatters),fromDate:i,labels:wr(wr({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:wr(wr({},n.modifiers),r.modifiers),modifiersClassNames:wr(wr({},n.modifiersClassNames),r.modifiersClassNames),onSelect:A,styles:wr(wr({},n.styles),r.styles),toDate:o});return a.jsx(G9.Provider,{value:u,children:e.children})}function Gn(){var e=C.useContext(G9);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function z9(e){var t=Gn(),r=t.locale,n=t.classNames,s=t.styles,i=t.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function zpe(e){return a.jsx("svg",wr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $9(e){var t,r,n=e.onChange,s=e.value,i=e.children,o=e.caption,l=e.className,A=e.style,u=Gn(),h=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:zpe;return a.jsxs("div",{className:l,style:A,children:[a.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:i}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(h,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function $pe(e){var t,r=Gn(),n=r.fromDate,s=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,A=r.classNames,u=r.components,h=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var m=[];if(Spe(n,s))for(var w=eo(n),p=n.getMonth();p<=s.getMonth();p++)m.push(vC(w,p));else for(var w=eo(new Date),p=0;p<=11;p++)m.push(vC(w,p));var b=function(j){var y=Number(j.target.value),B=vC(eo(e.displayMonth),y);e.onChange(B)},N=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:$9;return a.jsx(N,{name:"months","aria-label":h(),className:A.dropdown_month,style:i.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:m.map(function(j){return a.jsx("option",{value:j.getMonth(),children:l(j,{locale:o})},j.getMonth())})})}function qpe(e){var t,r=e.displayMonth,n=Gn(),s=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,A=n.classNames,u=n.components,h=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,w=[];if(!s)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),b=i.getFullYear(),N=p;N<=b;N++)w.push(F_(O9(new Date),N));var j=function(B){var I=F_(eo(r),Number(B.target.value));e.onChange(I)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:$9;return a.jsx(y,{name:"years","aria-label":m(),className:A.dropdown_year,style:l.dropdown_year,onChange:j,value:r.getFullYear(),caption:h(r,{locale:o}),children:w.map(function(B){return a.jsx("option",{value:B.getFullYear(),children:h(B,{locale:o})},B.getFullYear())})})}function Xpe(e,t){var r=C.useState(e),n=r[0],s=r[1],i=t===void 0?n:t;return[i,s]}function Ype(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,A=l===void 0?1:l;if(i&&Wg(i,s)<0){var u=-1*(A-1);s=ko(i,u)}return o&&Wg(s,o)<0&&(s=o),eo(s)}function Zpe(){var e=Gn(),t=Ype(e),r=Xpe(t,e.month),n=r[0],s=r[1],i=function(o){var l;if(!e.disableNavigation){var A=eo(o);s(A),(l=e.onMonthChange)===null||l===void 0||l.call(e,A)}};return[n,i]}function Jpe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=eo(e),i=eo(ko(s,n)),o=Wg(i,s),l=[],A=0;A<o;A++){var u=ko(s,A);l.push(u)}return r&&(l=l.reverse()),l}function ege(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=eo(e);if(!r)return ko(l,o);var A=Wg(r,e);if(!(A<i))return ko(l,o)}}function tge(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=n?i:1,l=eo(e);if(!r)return ko(l,-o);var A=Wg(l,r);if(!(A<=0))return ko(l,-o)}}var q9=C.createContext(void 0);function rge(e){var t=Gn(),r=Zpe(),n=r[0],s=r[1],i=Jpe(n,t),o=ege(n,t),l=tge(n,t),A=function(m){return i.some(function(w){return BE(m,w)})},u=function(m,w){A(m)||(w&&K9(m,w)?s(ko(m,1+t.numberOfMonths*-1)):s(m))},h={currentMonth:n,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:A};return a.jsx(q9.Provider,{value:h,children:e.children})}function E1(){var e=C.useContext(q9);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function k_(e){var t,r=Gn(),n=r.classNames,s=r.styles,i=r.components,o=E1().goToMonth,l=function(h){o(ko(h,e.displayIndex?-e.displayIndex:0))},A=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:z9,u=a.jsx(A,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:u}),a.jsx($pe,{onChange:l,displayMonth:e.displayMonth}),a.jsx(qpe,{onChange:l,displayMonth:e.displayMonth})]})}function nge(e){return a.jsx("svg",wr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function sge(e){return a.jsx("svg",wr({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var f2=C.forwardRef(function(e,t){var r=Gn(),n=r.classNames,s=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=wr(wr({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),a.jsx("button",wr({},e,{ref:t,type:"button",className:o,style:l}))});function age(e){var t,r,n=Gn(),s=n.dir,i=n.locale,o=n.classNames,l=n.styles,A=n.labels,u=A.labelPrevious,h=A.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var w=u(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),b=h(e.nextMonth,{locale:i}),N=[o.nav_button,o.nav_button_next].join(" "),j=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:sge,y=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:nge;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&a.jsx(f2,{name:"previous-month","aria-label":w,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(j,{className:o.nav_icon,style:l.nav_icon}):a.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&a.jsx(f2,{name:"next-month","aria-label":b,className:N,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(y,{className:o.nav_icon,style:l.nav_icon}):a.jsx(j,{className:o.nav_icon,style:l.nav_icon})})]})}function __(e){var t=Gn().numberOfMonths,r=E1(),n=r.previousMonth,s=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(b){return BE(e.displayMonth,b)}),A=l===0,u=l===o.length-1,h=t>1&&(A||!u),m=t>1&&(u||!A),w=function(){n&&i(n)},p=function(){s&&i(s)};return a.jsx(age,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:s,previousMonth:n,onPreviousClick:w,onNextClick:p})}function ige(e){var t,r=Gn(),n=r.classNames,s=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,A=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:z9,u;return s?u=a.jsx(A,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=a.jsx(k_,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(k_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(__,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(A,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(__,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:n.caption,style:i.caption,children:u})}function oge(e){var t=Gn(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function lge(e,t,r){for(var n=r?af(new Date):Rc(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=vi(n,i);s.push(o)}return s}function cge(){var e=Gn(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,A=e.labels.labelWeekday,u=lge(s,i,o);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(h,m){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":A(h,{locale:s}),children:l(h,{locale:s})},m)})]})}function Age(){var e,t=Gn(),r=t.classNames,n=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:cge;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(i,{})})}function uge(e){var t=Gn(),r=t.locale,n=t.formatters.formatDay;return a.jsx(a.Fragment,{children:n(e.date,{locale:r})})}var SE=C.createContext(void 0);function dge(e){if(!B1(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(SE.Provider,{value:t,children:e.children})}return a.jsx(hge,{initialProps:e.initialProps,children:e.children})}function hge(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,i=t.max,o=function(u,h,m){var w,p;(w=t.onDayClick)===null||w===void 0||w.call(t,u,h,m);var b=!!(h.selected&&s&&(n==null?void 0:n.length)===s);if(!b){var N=!!(!h.selected&&i&&(n==null?void 0:n.length)===i);if(!N){var j=n?W9([],n):[];if(h.selected){var y=j.findIndex(function(B){return zi(u,B)});j.splice(y,1)}else j.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,j,u,h,m)}}},l={disabled:[]};n&&l.disabled.push(function(u){var h=i&&n.length>i-1,m=n.some(function(w){return zi(w,u)});return!!(h&&!m)});var A={selected:n,onDayClick:o,modifiers:l};return a.jsx(SE.Provider,{value:A,children:r})}function EE(){var e=C.useContext(SE);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function fge(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?zi(s,e)&&zi(n,e)?void 0:zi(s,e)?{from:s,to:void 0}:zi(n,e)?void 0:S3(n,e)?{from:e,to:s}:{from:n,to:e}:s?S3(e,s)?{from:s,to:e}:{from:e,to:s}:n?K9(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var jE=C.createContext(void 0);function mge(e){if(!S1(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(jE.Provider,{value:t,children:e.children})}return a.jsx(pge,{initialProps:e.initialProps,children:e.children})}function pge(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},i=s.from,o=s.to,l=t.min,A=t.max,u=function(p,b,N){var j,y;(j=t.onDayClick)===null||j===void 0||j.call(t,p,b,N);var B=fge(p,n);(y=t.onSelect)===null||y===void 0||y.call(t,B,p,b,N)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(h.range_start=[i],o?(h.range_end=[o],zi(i,o)||(h.range_middle=[{after:i,before:o}])):h.range_end=[i]):o&&(h.range_start=[o],h.range_end=[o]),l&&(i&&!o&&h.disabled.push({after:yC(i,l-1),before:vi(i,l-1)}),i&&o&&h.disabled.push({after:i,before:vi(i,l-1)}),!i&&o&&h.disabled.push({after:yC(o,l-1),before:vi(o,l-1)})),A){if(i&&!o&&(h.disabled.push({before:vi(i,-A+1)}),h.disabled.push({after:vi(i,A-1)})),i&&o){var m=Cc(o,i)+1,w=A-m;h.disabled.push({before:yC(i,w)}),h.disabled.push({after:vi(o,w)})}!i&&o&&(h.disabled.push({before:vi(o,-A+1)}),h.disabled.push({after:vi(o,A-1)}))}return a.jsx(jE.Provider,{value:{selected:n,onDayClick:u,modifiers:h},children:r})}function IE(){var e=C.useContext(jE);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Jw(e){return Array.isArray(e)?W9([],e):e!==void 0?[e]:[]}function gge(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=Jw(s)}),t}var $l;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})($l||($l={}));var xge=$l.Selected,hA=$l.Disabled,wge=$l.Hidden,yge=$l.Today,bC=$l.RangeEnd,CC=$l.RangeMiddle,NC=$l.RangeStart,vge=$l.Outside;function bge(e,t,r){var n,s=(n={},n[xge]=Jw(e.selected),n[hA]=Jw(e.disabled),n[wge]=Jw(e.hidden),n[yge]=[e.today],n[bC]=[],n[CC]=[],n[NC]=[],n[vge]=[],n);return e.fromDate&&s[hA].push({before:e.fromDate}),e.toDate&&s[hA].push({after:e.toDate}),B1(e)?s[hA]=s[hA].concat(t.modifiers[hA]):S1(e)&&(s[hA]=s[hA].concat(r.modifiers[hA]),s[NC]=r.modifiers[NC],s[CC]=r.modifiers[CC],s[bC]=r.modifiers[bC]),s}var X9=C.createContext(void 0);function Cge(e){var t=Gn(),r=EE(),n=IE(),s=bge(t,r,n),i=gge(t.modifiers),o=wr(wr({},s),i);return a.jsx(X9.Provider,{value:o,children:e.children})}function Y9(){var e=C.useContext(X9);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Nge(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Bge(e){return!!(e&&typeof e=="object"&&"from"in e)}function Sge(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ege(e){return!!(e&&typeof e=="object"&&"before"in e)}function jge(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Ige(e,t){var r,n=t.from,s=t.to;if(n&&s){var i=Cc(s,n)<0;i&&(r=[s,n],n=r[0],s=r[1]);var o=Cc(e,n)>=0&&Cc(s,e)>=0;return o}return s?zi(s,e):n?zi(n,e):!1}function Fge(e){return bE(e)}function kge(e){return Array.isArray(e)&&e.every(bE)}function _ge(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Fge(r))return zi(e,r);if(kge(r))return r.includes(e);if(Bge(r))return Ige(e,r);if(jge(r))return r.dayOfWeek.includes(e.getDay());if(Nge(r)){var n=Cc(r.before,e),s=Cc(r.after,e),i=n>0,o=s<0,l=S3(r.before,r.after);return l?o&&i:i||o}return Sge(r)?Cc(e,r.after)>0:Ege(r)?Cc(r.before,e)>0:typeof r=="function"?r(e):!1})}function FE(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return _ge(e,l)&&i.push(o),i},[]),s={};return n.forEach(function(i){return s[i]=!0}),r&&!BE(e,r)&&(s.outside=!0),s}function Tge(e,t){for(var r=eo(e[0]),n=CE(e[e.length-1]),s,i,o=r;o<=n;){var l=FE(o,t),A=!l.disabled&&!l.hidden;if(!A){o=vi(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=vi(o,1)}return i||s}var Lge=365;function Z9(e,t){var r=t.moveBy,n=t.direction,s=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,A=s.weekStartsOn,u=s.fromDate,h=s.toDate,m=s.locale,w={day:vi,week:B3,month:ko,year:bme,startOfWeek:function(j){return s.ISOWeek?af(j):Rc(j,{locale:m,weekStartsOn:A})},endOfWeek:function(j){return s.ISOWeek?R9(j):NE(j,{locale:m,weekStartsOn:A})}},p=w[r](e,n==="after"?1:-1);n==="before"&&u?p=Cme([u,p]):n==="after"&&h&&(p=Nme([h,p]));var b=!0;if(i){var N=FE(p,i);b=!N.disabled&&!N.hidden}return b?p:l.count>Lge?l.lastFocused:Z9(p,{moveBy:r,direction:n,context:s,modifiers:i,retry:wr(wr({},l),{count:l.count+1})})}var J9=C.createContext(void 0);function Pge(e){var t=E1(),r=Y9(),n=C.useState(),s=n[0],i=n[1],o=C.useState(),l=o[0],A=o[1],u=Tge(t.displayMonths,r),h=s??(l&&t.isDateDisplayed(l))?l:u,m=function(){A(s),i(void 0)},w=function(j){i(j)},p=Gn(),b=function(j,y){if(s){var B=Z9(s,{moveBy:j,direction:y,context:p,modifiers:r});zi(s,B)||(t.goToDate(B,s),w(B))}},N={focusedDay:s,focusTarget:h,blur:m,focus:w,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return a.jsx(J9.Provider,{value:N,children:e.children})}function kE(){var e=C.useContext(J9);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Dge(e,t){var r=Y9(),n=FE(e,r,t);return n}var _E=C.createContext(void 0);function Oge(e){if(!Kv(e.initialProps)){var t={selected:void 0};return a.jsx(_E.Provider,{value:t,children:e.children})}return a.jsx(Rge,{initialProps:e.initialProps,children:e.children})}function Rge(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var A,u,h;if((A=t.onDayClick)===null||A===void 0||A.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(h=t.onSelect)===null||h===void 0||h.call(t,i,i,o,l)},s={selected:t.selected,onDayClick:n};return a.jsx(_E.Provider,{value:s,children:r})}function eQ(){var e=C.useContext(_E);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Mge(e,t){var r=Gn(),n=eQ(),s=EE(),i=IE(),o=kE(),l=o.focusDayAfter,A=o.focusDayBefore,u=o.focusWeekAfter,h=o.focusWeekBefore,m=o.blur,w=o.focus,p=o.focusMonthBefore,b=o.focusMonthAfter,N=o.focusYearBefore,j=o.focusYearAfter,y=o.focusStartOfWeek,B=o.focusEndOfWeek,I=function(W){var X,K,le,ne;Kv(r)?(X=n.onDayClick)===null||X===void 0||X.call(n,e,t,W):B1(r)?(K=s.onDayClick)===null||K===void 0||K.call(s,e,t,W):S1(r)?(le=i.onDayClick)===null||le===void 0||le.call(i,e,t,W):(ne=r.onDayClick)===null||ne===void 0||ne.call(r,e,t,W)},_=function(W){var X;w(e),(X=r.onDayFocus)===null||X===void 0||X.call(r,e,t,W)},O=function(W){var X;m(),(X=r.onDayBlur)===null||X===void 0||X.call(r,e,t,W)},H=function(W){var X;(X=r.onDayMouseEnter)===null||X===void 0||X.call(r,e,t,W)},D=function(W){var X;(X=r.onDayMouseLeave)===null||X===void 0||X.call(r,e,t,W)},L=function(W){var X;(X=r.onDayPointerEnter)===null||X===void 0||X.call(r,e,t,W)},T=function(W){var X;(X=r.onDayPointerLeave)===null||X===void 0||X.call(r,e,t,W)},G=function(W){var X;(X=r.onDayTouchCancel)===null||X===void 0||X.call(r,e,t,W)},M=function(W){var X;(X=r.onDayTouchEnd)===null||X===void 0||X.call(r,e,t,W)},V=function(W){var X;(X=r.onDayTouchMove)===null||X===void 0||X.call(r,e,t,W)},J=function(W){var X;(X=r.onDayTouchStart)===null||X===void 0||X.call(r,e,t,W)},Z=function(W){var X;(X=r.onDayKeyUp)===null||X===void 0||X.call(r,e,t,W)},ee=function(W){var X;switch(W.key){case"ArrowLeft":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?l():A();break;case"ArrowRight":W.preventDefault(),W.stopPropagation(),r.dir==="rtl"?A():l();break;case"ArrowDown":W.preventDefault(),W.stopPropagation(),u();break;case"ArrowUp":W.preventDefault(),W.stopPropagation(),h();break;case"PageUp":W.preventDefault(),W.stopPropagation(),W.shiftKey?N():p();break;case"PageDown":W.preventDefault(),W.stopPropagation(),W.shiftKey?j():b();break;case"Home":W.preventDefault(),W.stopPropagation(),y();break;case"End":W.preventDefault(),W.stopPropagation(),B();break}(X=r.onDayKeyDown)===null||X===void 0||X.call(r,e,t,W)},q={onClick:I,onFocus:_,onBlur:O,onKeyDown:ee,onKeyUp:Z,onMouseEnter:H,onMouseLeave:D,onPointerEnter:L,onPointerLeave:T,onTouchCancel:G,onTouchEnd:M,onTouchMove:V,onTouchStart:J};return q}function Uge(){var e=Gn(),t=eQ(),r=EE(),n=IE(),s=Kv(e)?t.selected:B1(e)?r.selected:S1(e)?n.selected:void 0;return s}function Qge(e){return Object.values($l).includes(e)}function Hge(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(Qge(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Vge(e,t){var r=wr({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=wr(wr({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function Kge(e,t,r){var n,s,i,o=Gn(),l=kE(),A=Dge(e,t),u=Mge(e,A),h=Uge(),m=!!(o.onDayClick||o.mode!=="default");C.useEffect(function(){var H;A.outside||l.focusedDay&&m&&zi(l.focusedDay,e)&&((H=r.current)===null||H===void 0||H.focus())},[l.focusedDay,e,r,m,A.outside]);var w=Hge(o,A).join(" "),p=Vge(o,A),b=!!(A.outside&&!o.showOutsideDays||A.hidden),N=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:uge,j=a.jsx(N,{date:e,displayMonth:t,activeModifiers:A}),y={style:p,className:w,children:j,role:"gridcell"},B=l.focusTarget&&zi(l.focusTarget,e)&&!A.outside,I=l.focusedDay&&zi(l.focusedDay,e),_=wr(wr(wr({},y),(n={disabled:A.disabled,role:"gridcell"},n["aria-selected"]=A.selected,n.tabIndex=I||B?0:-1,n)),u),O={isButton:m,isHidden:b,activeModifiers:A,selectedDays:h,buttonProps:_,divProps:y};return O}function Wge(e){var t=C.useRef(null),r=Kge(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(f2,wr({name:"day",ref:t},r.buttonProps)):a.jsx("div",wr({},r.divProps))}function Gge(e){var t=e.number,r=e.dates,n=Gn(),s=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,A=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,h=u(Number(t),{locale:l});if(!s)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:h});var m=A(Number(t),{locale:l}),w=function(p){s(t,r,p)};return a.jsx(f2,{name:"week-number","aria-label":m,className:o.weeknumber,style:i.weeknumber,onClick:w,children:h})}function zge(e){var t,r,n=Gn(),s=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,A=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Wge,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Gge,h;return o&&(h=a.jsx("td",{className:i.cell,style:s.cell,children:a.jsx(u,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:i.row,style:s.row,children:[h,e.dates.map(function(m){return a.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:a.jsx(A,{displayMonth:e.displayMonth,date:m})},Cpe(m))})]})}function T_(e,t,r){for(var n=r!=null&&r.ISOWeek?R9(t):NE(t,r),s=r!=null&&r.ISOWeek?af(e):Rc(e,r),i=Cc(n,s),o=[],l=0;l<=i;l++)o.push(vi(s,l));var A=o.reduce(function(u,h){var m=r!=null&&r.ISOWeek?U9(h):H9(h,r),w=u.find(function(p){return p.weekNumber===m});return w?(w.dates.push(h),u):(u.push({weekNumber:m,dates:[h]}),u)},[]);return A}function $ge(e,t){var r=T_(eo(e),CE(e),t);if(t!=null&&t.useFixedWeeks){var n=Bpe(e,t);if(n<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],o=B3(i,6-n),l=T_(B3(i,1),o,t);r.push.apply(r,l)}}return r}function qge(e){var t,r,n,s=Gn(),i=s.locale,o=s.classNames,l=s.styles,A=s.hideHead,u=s.fixedWeeks,h=s.components,m=s.weekStartsOn,w=s.firstWeekContainsDate,p=s.ISOWeek,b=$ge(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:m,firstWeekContainsDate:w}),N=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:Age,j=(r=h==null?void 0:h.Row)!==null&&r!==void 0?r:zge,y=(n=h==null?void 0:h.Footer)!==null&&n!==void 0?n:oge;return a.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!A&&a.jsx(N,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:b.map(function(B){return a.jsx(j,{displayMonth:e.displayMonth,dates:B.dates,weekNumber:B.weekNumber},B.weekNumber)})}),a.jsx(y,{displayMonth:e.displayMonth})]})}function Xge(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Yge=Xge()?C.useLayoutEffect:C.useEffect,BC=!1,Zge=0;function L_(){return"react-day-picker-".concat(++Zge)}function Jge(e){var t,r=e??(BC?L_():null),n=C.useState(r),s=n[0],i=n[1];return Yge(function(){s===null&&i(L_())},[]),C.useEffect(function(){BC===!1&&(BC=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function e1e(e){var t,r,n=Gn(),s=n.dir,i=n.classNames,o=n.styles,l=n.components,A=E1().displayMonths,u=Jge(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),h=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[i.month],w=o.month,p=e.displayIndex===0,b=e.displayIndex===A.length-1,N=!p&&!b;s==="rtl"&&(t=[p,b],b=t[0],p=t[1]),p&&(m.push(i.caption_start),w=wr(wr({},w),o.caption_start)),b&&(m.push(i.caption_end),w=wr(wr({},w),o.caption_end)),N&&(m.push(i.caption_between),w=wr(wr({},w),o.caption_between));var j=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:ige;return a.jsxs("div",{className:m.join(" "),style:w,children:[a.jsx(j,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(qge,{id:h,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function t1e(e){var t=Gn(),r=t.classNames,n=t.styles;return a.jsx("div",{className:r.months,style:n.months,children:e.children})}function r1e(e){var t,r,n=e.initialProps,s=Gn(),i=kE(),o=E1(),l=C.useState(!1),A=l[0],u=l[1];C.useEffect(function(){s.initialFocus&&i.focusTarget&&(A||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,A,i.focus,i.focusTarget,i]);var h=[s.classNames.root,s.className];s.numberOfMonths>1&&h.push(s.classNames.multiple_months),s.showWeekNumber&&h.push(s.classNames.with_weeknumber);var m=wr(wr({},s.styles.root),s.style),w=Object.keys(n).filter(function(b){return b.startsWith("data-")}).reduce(function(b,N){var j;return wr(wr({},b),(j={},j[N]=n[N],j))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:t1e;return a.jsx("div",wr({className:h.join(" "),style:m,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},w,{children:a.jsx(p,{children:o.displayMonths.map(function(b,N){return a.jsx(e1e,{displayIndex:N,displayMonth:b},N)})})}))}function n1e(e){var t=e.children,r=Epe(e,["children"]);return a.jsx(Gpe,{initialProps:r,children:a.jsx(rge,{children:a.jsx(Oge,{initialProps:r,children:a.jsx(dge,{initialProps:r,children:a.jsx(mge,{initialProps:r,children:a.jsx(Cge,{children:a.jsx(Pge,{children:t})})})})})})})}function s1e(e){return a.jsx(n1e,wr({},e,{children:a.jsx(r1e,{initialProps:e})}))}function m2({className:e,classNames:t,showOutsideDays:r=!0,...n}){return a.jsx(s1e,{showOutsideDays:r,className:Nr("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Nr(C3({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Nr(C3({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(Ud,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(gr,{className:"h-4 w-4"})},...n})}m2.displayName="Calendar";const P_=e=>e&&"permissions"in e&&Array.isArray(e.permissions),D_=e=>e?new Date(e).toISOString().split("T")[0]:"N/A",a1e=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(""),[o,l]=C.useState("card"),[A,u]=C.useState(!1),[h,m]=C.useState(null),[w,p]=C.useState(""),[b,N]=C.useState("asc"),[j,y]=C.useState(null),[B,I]=C.useState([]),[_,O]=C.useState(""),[H,D]=C.useState(""),[L,T]=C.useState(""),[G,M]=C.useState(""),[V,J]=C.useState(""),[Z,ee]=C.useState(""),[q,W]=C.useState(""),[X,K]=C.useState(new Date),[le,ne]=C.useState(ko(new Date,1)),[U,Y]=C.useState([]),[se,ce]=C.useState(!1),[Ae,ge]=C.useState([]),[fe,je]=C.useState([]),[ke,Te]=C.useState(null),[De,Qe]=C.useState(null),[Ne,pe]=C.useState(null),[Pe,rt]=C.useState(""),[qe,Me]=C.useState(""),[wt,We]=C.useState(""),[Wt,Nt]=C.useState(""),[at,pt]=C.useState(""),dt=Ur(),{user:xt}=ga(),It=ul(),gt=ze=>{w===ze?N(b==="asc"?"desc":"asc"):(p(ze),N("asc"))},Ot=Ze.useMemo(()=>w?[...e].sort((ze,Yt)=>{var Ut,Ir,Ct,tr,nr,ln,Ft,cn,ps,zr,In,Dr,yn,rn;let it,Bt;switch(w){case"name":it=((Ut=ze.name)==null?void 0:Ut.toLowerCase())||"",Bt=((Ir=Yt.name)==null?void 0:Ir.toLowerCase())||"";break;case"registrationNumber":it=((Ct=ze.registrationNumber)==null?void 0:Ct.toLowerCase())||"",Bt=((tr=Yt.registrationNumber)==null?void 0:tr.toLowerCase())||"";break;case"email":it=((nr=ze.email)==null?void 0:nr.toLowerCase())||"",Bt=((ln=Yt.email)==null?void 0:ln.toLowerCase())||"";break;case"phone":it=ze.phone||"",Bt=Yt.phone||"";break;case"membershipEnd":it=new Date(ze.membershipEnd||0).getTime(),Bt=new Date(Yt.membershipEnd||0).getTime();break;case"seat":it=((Ft=ze.seatNumber)==null?void 0:Ft.toLowerCase())||((zr=(ps=(cn=ze.assignments)==null?void 0:cn[0])==null?void 0:ps.seatNumber)==null?void 0:zr.toLowerCase())||"",Bt=((In=Yt.seatNumber)==null?void 0:In.toLowerCase())||((rn=(yn=(Dr=Yt.assignments)==null?void 0:Dr[0])==null?void 0:yn.seatNumber)==null?void 0:rn.toLowerCase())||"";break;default:return 0}return it<Bt?b==="asc"?-1:1:it>Bt?b==="asc"?1:-1:0}):e,[e,w,b]),vt=ze=>w!==ze?null:b==="asc"?a.jsx(uv,{size:16}):a.jsx(f1,{size:16});C.useEffect(()=>{(async()=>{try{const it=(await Re.getBranches()||[]).map(Bt=>({value:Bt.id,label:Bt.name}));je(it),I([{value:null,label:"All Branches"},...it])}catch(Yt){console.error("Error fetching branches:",Yt),Ee.error(Yt.message||"Failed to fetch branches.")}})()},[]),C.useEffect(()=>{(async()=>{n(!0);try{const ze=await Re.getExpiredMemberships(j==null?void 0:j.value);t(ze.students)}catch(ze){console.error("Error fetching expired memberships:",ze),Ee.error(ze.message||"Failed to fetch expired memberships.")}finally{n(!1)}})()},[j]),C.useEffect(()=>{Ne!=null&&Ne.value?(async()=>{ce(!0);try{const Yt=await Re.getSchedules(Ne.value);Y(Yt.schedules.map(it=>({value:it.id,label:it.title})))}catch(Yt){console.error("Error fetching shifts for branch:",Yt),Ee.error("Failed to fetch shifts."),Y([])}finally{ce(!1)}})():Y([])},[Ne]),C.useEffect(()=>{ke!=null&&ke.value&&(Ne!=null&&Ne.value)&&h?(async()=>{var Yt;try{const Bt=(await Re.getSeats({branchId:Ne.value,shiftId:ke.value})).seats||[],Ut=Bt.filter(Ct=>{const tr=(Ct.shifts||[]).find(nr=>nr.shiftId===ke.value);return tr?!tr.isAssigned:!0}),Ir=(Yt=h.assignments)==null?void 0:Yt[0];if(Ir&&!Ut.some(Ct=>Ct.id===Ir.seatId)){const Ct=Bt.find(tr=>tr.id===Ir.seatId);Ct&&Ut.push(Ct)}ge([{value:null,label:"None"},...Ut.map(Ct=>({value:Ct.id,label:Ct.seatNumber}))]),De&&!Ut.some(Ct=>Ct.id===De.value)&&Qe(null)}catch(it){console.error("Error fetching seats:",it),Ee.error("Failed to fetch seats."),ge([])}})():ge([])},[ke,Ne,h]);const Hr=async ze=>{var Yt;try{n(!0);const it=await Re.getStudent(ze.id);m(it),K(new Date),ne(ko(new Date,1)),O(it.name||""),D(it.registrationNumber||""),T(it.fatherName||""),M(it.aadharNumber||""),ee(it.email||""),W(it.phone||""),J(it.address||""),pe(it.branchId?{value:it.branchId,label:it.branchName}:null);const Bt=(Yt=it.assignments)==null?void 0:Yt[0];Te(Bt?{value:Bt.shiftId,label:Bt.shiftTitle}:null),setTimeout(()=>{Qe(Bt?{value:Bt.seatId,label:Bt.seatNumber}:null)},200),rt(it.totalFee?it.totalFee.toString():"0"),Me(it.cash?it.cash.toString():"0"),We(it.online?it.online.toString():"0"),Nt(it.securityMoney?it.securityMoney.toString():"0"),pt(it.remark||""),u(!0)}catch(it){console.error("Failed to fetch student details for renewal:",it),Ee.error("Failed to load student details for renewal.")}finally{n(!1)}},Gt=ze=>{const it=`https://wa.me/${ze.replace(/\D/g,"")}`;window.open(it,"_blank")},Ge=async()=>{var ze,Yt,it;if(!h||!X||!le||!_.trim()||!q.trim()||!V.trim()||!(ke!=null&&ke.value)||!Pe||!(Ne!=null&&Ne.value)){Ee.error("Please ensure Name, Phone, Address, Branch, Shift, and Fee are filled correctly.");return}try{await Re.renewStudent(h.id,{name:_,registrationNumber:H,fatherName:L,aadharNumber:G,address:V,membershipStart:HA(X,"yyyy-MM-dd"),membershipEnd:HA(le,"yyyy-MM-dd"),email:Z,phone:q,branchId:Ne.value,shiftIds:[ke.value],seatId:De?De.value:void 0,totalFee:parseFloat(Pe),cash:parseFloat(qe)||0,online:parseFloat(wt)||0,securityMoney:parseFloat(Wt)||0,remark:at.trim()||void 0}),Ee.success(`Membership renewed for ${h.name}`),u(!1);const Bt=await Re.getExpiredMemberships(j==null?void 0:j.value);t(Bt.students)}catch(Bt){console.error("Renew error:",((ze=Bt.response)==null?void 0:ze.data)||Bt.message),Ee.error(((it=(Yt=Bt.response)==null?void 0:Yt.data)==null?void 0:it.message)||"Failed to renew membership")}},jt=parseFloat(qe)||0,Ht=parseFloat(wt)||0,bt=jt+Ht,vr=(parseFloat(Pe)||0)-bt;return xt?a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(wn,{isCollapsed:!1,setIsCollapsed:()=>{},onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[a.jsx(Fs,{}),a.jsx("div",{className:"border-b bg-white/80 backdrop-blur-md",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:a.jsxs("div",{className:"flex gap-3 overflow-x-auto py-3",children:[a.jsxs(Tt,{to:"/students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm ring-1 ring-transparent transition-colors ${It.pathname.startsWith("/students")&&!It.pathname.startsWith("/students/")?"bg-indigo-100 text-indigo-700":"text-slate-700 hover:bg-slate-100 hover:ring-slate-200"}`,children:[a.jsx(ci,{className:"h-4 w-4"}),"All Students"]}),a.jsxs(Tt,{to:"/active-students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm ring-1 ring-transparent transition-colors ${It.pathname.startsWith("/active-students")?"bg-emerald-100 text-emerald-700":"text-slate-700 hover:bg-slate-100 hover:ring-slate-200"}`,children:[a.jsx(ji,{className:"h-4 w-4"}),"Active Students"]}),a.jsxs(Tt,{to:"/expired-memberships",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm ring-1 ring-transparent transition-colors ${It.pathname.startsWith("/expired-memberships")?"bg-rose-100 text-rose-700":"text-slate-700 hover:bg-slate-100 hover:ring-slate-200"}`,children:[a.jsx(ta,{className:"h-4 w-4"}),"Expired Memberships"]}),a.jsxs(Tt,{to:"/expiring-memberships?range=1-2",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm ring-1 ring-transparent transition-colors ${It.pathname.startsWith("/expiring-memberships")?"bg-amber-100 text-amber-700":"text-slate-700 hover:bg-slate-100 hover:ring-slate-200"}`,children:[a.jsx(Zn,{className:"h-4 w-4"}),"Expiring 12 Days"]})]})})}),a.jsxs("div",{className:"flex-1 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 gap-3 flex-wrap",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Expired Memberships"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>l("list"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${o==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"List View",children:[a.jsx(Fd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"List"})]}),a.jsxs("button",{onClick:()=>l("card"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${o==="card"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Card View",children:[a.jsx(UA,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Cards"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(cl,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{className:"pl-10 pr-4 py-2 border rounded",placeholder:"Search by name, phone, or Reg. No.",value:s,onChange:ze=>i(ze.target.value)})]}),a.jsx("div",{className:"w-64",children:a.jsx(bi,{options:B,value:j,onChange:y,placeholder:"Filter by Branch",isClearable:!0})})]}),r?a.jsx("p",{children:"Loading..."}):o==="list"?a.jsxs(ZA,{children:[a.jsx(JA,{children:a.jsxs(js,{children:[a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>gt("name"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Name"}),vt("name")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>gt("registrationNumber"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Registration Number"}),vt("registrationNumber")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>gt("email"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Email"}),vt("email")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>gt("phone"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Phone"}),vt("phone")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>gt("seat"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Seat"}),vt("seat")]})}),a.jsx(hr,{className:"cursor-pointer hover:bg-gray-50 select-none",onClick:()=>gt("membershipEnd"),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:"Expiry"}),vt("membershipEnd")]})}),a.jsx(hr,{children:"Actions"})]})}),a.jsx(eu,{children:Ot.filter(ze=>ze.name.toLowerCase().includes(s.toLowerCase())||ze.phone&&ze.phone.includes(s)||ze.registrationNumber&&ze.registrationNumber.toLowerCase().includes(s.toLowerCase())).map(ze=>{var Yt,it;return a.jsxs(js,{children:[a.jsx(sr,{children:ze.name}),a.jsx(sr,{children:ze.registrationNumber||"N/A"}),a.jsx(sr,{children:ze.email}),a.jsx(sr,{children:ze.phone}),a.jsx(sr,{children:ze.seatNumber||((it=(Yt=ze.assignments)==null?void 0:Yt[0])==null?void 0:it.seatNumber)||"N/A"}),a.jsx(sr,{children:D_(ze.membershipEnd)}),a.jsxs(sr,{className:"space-x-2",children:[a.jsx(Jt,{onClick:()=>dt(`/students/${ze.id}`),variant:"outline",children:a.jsx(ma,{size:16})}),((xt==null?void 0:xt.role)==="admin"||(xt==null?void 0:xt.role)==="staff")&&a.jsxs(Jt,{onClick:()=>Hr(ze),children:[a.jsx(gr,{size:16})," Renew"]}),((xt==null?void 0:xt.role)==="admin"||P_(xt)&&xt.permissions.includes("manage_students"))&&a.jsx(Jt,{variant:"destructive",onClick:async()=>{if(window.confirm("Are you sure you want to delete this student? This action cannot be undone."))try{await Re.deleteStudent(ze.id),t(e.filter(Bt=>Bt.id!==ze.id)),Ee.success("Student deleted successfully.")}catch(Bt){Ee.error(Bt.message||"Failed to delete student.")}},children:a.jsx(pa,{size:16})}),a.jsx(Jt,{variant:"outline",onClick:()=>Gt(ze.phone),title:"Send WhatsApp Message",children:a.jsx(lI,{size:16})})]})]},ze.id)})})]}):a.jsx("div",{className:"p-2 sm:p-4",children:e.filter(ze=>ze.name.toLowerCase().includes(s.toLowerCase())||ze.phone&&ze.phone.includes(s)||ze.registrationNumber&&ze.registrationNumber.toLowerCase().includes(s.toLowerCase())).length>0?a.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-stretch",children:e.filter(ze=>ze.name.toLowerCase().includes(s.toLowerCase())||ze.phone&&ze.phone.includes(s)||ze.registrationNumber&&ze.registrationNumber.toLowerCase().includes(s.toLowerCase())).map(ze=>{var Yt,it;return a.jsxs("div",{className:"rounded-xl border shadow-sm p-4 flex flex-col h-full bg-gradient-to-br from-rose-50 to-rose-100 border-rose-200",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:ze.name}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[a.jsx(qs,{className:"h-3.5 w-3.5 text-indigo-400"})," Reg: ",ze.registrationNumber||"N/A"]})]}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800",children:"Expired"})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(li,{className:"h-3.5 w-3.5 text-slate-400"})," Phone"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:ze.phone})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(SS,{className:"h-3.5 w-3.5 text-slate-400"})," Seat"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:ze.seatNumber||((it=(Yt=ze.assignments)==null?void 0:Yt[0])==null?void 0:it.seatNumber)||"N/A"})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60 col-span-2",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(qs,{className:"h-3.5 w-3.5 text-slate-400"})," Expiry"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:D_(ze.membershipEnd)})]})]}),a.jsx("div",{className:"mt-4 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{onClick:()=>dt(`/students/${ze.id}`),variant:"outline",title:"View Details",children:a.jsx(ma,{size:16})}),((xt==null?void 0:xt.role)==="admin"||(xt==null?void 0:xt.role)==="staff")&&a.jsx(Jt,{onClick:()=>Hr(ze),title:"Renew",children:"Renew"}),((xt==null?void 0:xt.role)==="admin"||P_(xt)&&xt.permissions.includes("manage_students"))&&a.jsx(Jt,{variant:"destructive",onClick:async()=>{if(window.confirm("Are you sure you want to delete this student? This action cannot be undone."))try{await Re.deleteStudent(ze.id),t(e.filter(Bt=>Bt.id!==ze.id)),Ee.success("Student deleted successfully.")}catch(Bt){Ee.error(Bt.message||"Failed to delete student.")}},children:a.jsx(pa,{size:16})}),a.jsx(Jt,{variant:"outline",onClick:()=>Gt(ze.phone),title:"Send WhatsApp Message",children:a.jsx(lI,{size:16})})]})})]},ze.id)})}):a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No expired students found."})})]}),a.jsx(S0,{open:A,onOpenChange:u,children:a.jsxs(Ph,{className:"max-h-[90vh] overflow-y-auto",children:[a.jsxs(Dh,{children:[a.jsx(Rh,{children:"Renew Membership"}),a.jsxs(Mh,{children:["Renew for ",h==null?void 0:h.name]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Branch"}),a.jsx(bi,{options:fe,value:Ne,onChange:ze=>{pe(ze),Te(null),Qe(null),rt("")},placeholder:"Select a branch"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Name"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:_,onChange:ze=>O(ze.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Registration Number"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:H,onChange:ze=>D(ze.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Father's Name"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:L,onChange:ze=>T(ze.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Aadhar Number"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"text",value:G,onChange:ze=>M(ze.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Address"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 mt-1",value:V,onChange:ze=>J(ze.target.value),rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Start Date"}),a.jsx(m2,{mode:"single",selected:X,onSelect:K,className:"rounded-md border"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"End Date"}),a.jsx(m2,{mode:"single",selected:le,onSelect:ne,className:"rounded-md border"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Email"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"email",value:Z,onChange:ze=>ee(ze.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Phone"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"tel",value:q,onChange:ze=>W(ze.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Branch"}),a.jsx(bi,{options:fe,value:Ne,onChange:pe,placeholder:"Select Branch"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Shift"}),a.jsx(bi,{options:U,value:ke,onChange:Te,placeholder:"Select Shift"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Seat"}),a.jsx(bi,{options:Ae,value:De,onChange:Qe,placeholder:"Select Seat",isDisabled:!ke})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Total Fee"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:Pe,onChange:ze=>rt(ze.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Cash Payment"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:qe,onChange:ze=>Me(ze.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Online Payment"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:wt,onChange:ze=>We(ze.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Security Money"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1",type:"number",value:Wt,onChange:ze=>Nt(ze.target.value),min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Amount Paid"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1 bg-gray-100",type:"number",value:bt.toFixed(2),readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Due Amount"}),a.jsx("input",{className:"w-full border rounded px-3 py-2 mt-1 bg-gray-100",type:"number",value:vr.toFixed(2),readOnly:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium",children:"Remark"}),a.jsx("textarea",{className:"w-full border rounded px-3 py-2 mt-1",value:at,onChange:ze=>pt(ze.target.value),rows:3})]})]}),a.jsxs(Oh,{children:[a.jsx(Jt,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),a.jsx(Jt,{onClick:Ge,children:"Renew Membership"})]})]})})]})]}):(dt("/login"),null)},O_=""+new URL("invoiceimage-CC0K_7ae.jpg",import.meta.url).href,SC=e=>{if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"N/A":t.toISOString().split("T")[0]},i1e=()=>{const{id:e}=XA(),t=Ur(),[r,n]=C.useState(null),[s,i]=C.useState(!0),[o,l]=C.useState(null),A=C.useRef(null);C.useEffect(()=>{(async()=>{try{const b=parseInt(e,10);if(isNaN(b))throw new Error("Invalid student ID");const N=await Re.getStudent(b);if(!N)throw new Error("Student data not found");console.log("Fetched student data:",N);const B=new Date(N.membershipEnd)<new Date;n({...N,status:B?"expired":N.status,totalFee:N.totalFee,amountPaid:N.amountPaid,dueAmount:N.dueAmount,cash:N.cash,online:N.online,securityMoney:N.securityMoney??0,discount:N.discount??0}),l(null)}catch(b){console.error("Failed to fetch student:",b);const N=b.message==="Server error"?"Failed to load student details due to a server error. Please try again later.":b.message;l(N),Ee.error(N),n(null)}finally{i(!1)}})()},[e]);const u=async()=>{if(window.confirm("Are you sure you want to delete this student?"))try{const p=parseInt(e,10);if(isNaN(p))throw new Error("Invalid student ID");await Re.deleteStudent(p),Ee.success("Student deleted successfully"),t("/students")}catch(p){console.error("Failed to delete student:",p.message);const b=p.message==="Student not found"?"Student not found. It may have already been deleted.":"Failed to delete student: "+p.message;Ee.error(b)}},h=()=>{window.print()};if(s)return a.jsx("div",{children:"Loading student details..."});if(o)return a.jsx("div",{children:o});if(!r)return a.jsx("div",{children:"Student not found"});const m=r.assignments&&r.assignments.length>0?r.assignments.map(p=>p.shiftTitle).filter(Boolean).join(", "):void 0,w=r.assignments&&r.assignments.length>0?Array.from(new Set(r.assignments.map(p=>p.seatNumber).filter(Boolean))).join(", "):void 0;return a.jsxs(a.Fragment,{children:[a.jsx("style",{children:`
          @media print {
            body {
              margin: 0;
              padding: 0;
              -webkit-print-color-adjust: exact;
            }
            .no-print {
              display: none !important;
            }
            .print-logo {
              width: 15%;
              max-width: 15%;
              display: block;
              margin: 0 auto 20px auto;
            }
            .print-title {
              text-align: center;
              color: #f97316;
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 20px;
            }
            .print-container {
              padding: 20px;
            }
          }
        `}),a.jsx("div",{className:"flex h-screen bg-gray-50",children:a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto print-container",ref:A,children:[a.jsx("h1",{className:"print-title hidden print:block",children:"Student Details"}),a.jsxs("button",{onClick:()=>t(-1),className:"mb-4 flex items-center text-purple-600 hover:text-purple-800 no-print",children:[a.jsx(dl,{size:20,className:"mr-2"}),"Back"]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[a.jsx("div",{className:"flex justify-center mb-6 no-print",children:a.jsx("img",{src:O_,alt:"SDM Library Logo",className:"max-w-[250px]"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6 no-print",children:"Student Details"}),r.profileImageUrl&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-2",children:"Profile Image"}),a.jsx("img",{src:r.profileImageUrl,alt:"Profile",className:"w-32 h-32 object-cover rounded-full"})]}),r.aadhaarFrontUrl&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-2",children:"Aadhaar Front Image"}),a.jsx("img",{src:r.aadhaarFrontUrl,alt:"Aadhaar Front",className:"w-32 h-32 object-cover rounded"})]}),r.aadhaarBackUrl&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-medium mb-2",children:"Aadhaar Back Image"}),a.jsx("img",{src:r.aadhaarBackUrl,alt:"Aadhaar Back",className:"w-32 h-32 object-cover rounded"})]}),a.jsx("img",{src:O_,alt:"SDM Library Logo",className:"print-logo hidden print:block"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Name"}),a.jsx("p",{className:"text-gray-600",children:r.name||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Registration Number"}),a.jsx("p",{className:"text-gray-600",children:r.registrationNumber||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Father's Name"}),a.jsx("p",{className:"text-gray-600",children:r.fatherName||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Aadhar Number"}),a.jsx("p",{className:"text-gray-600",children:r.aadharNumber||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Email"}),a.jsx("p",{className:"text-gray-600",children:r.email||"Unknown"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Phone"}),a.jsx("p",{className:"text-gray-600",children:r.phone||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Address"}),a.jsx("p",{className:"text-gray-600",children:r.address||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Branch"}),a.jsx("p",{className:"text-gray-600",children:r.branchName||"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Status"}),a.jsx("p",{className:`inline-block px-2 py-1 rounded-full text-xs ${r.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r.status==="active"?"Active":"Expired"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Membership Start"}),a.jsx("p",{className:"text-gray-600",children:SC(r.membershipStart)})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Membership End"}),a.jsx("p",{className:"text-gray-600",children:SC(r.membershipEnd)})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Assigned Shift(s)"}),a.jsx("p",{className:"text-gray-600",children:m||"No shift assigned"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Seat Number(s)"}),a.jsx("p",{className:"text-gray-600",children:w||"None"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Locker Number"}),a.jsx("p",{className:"text-gray-600",children:r.lockerNumber||"None"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Total Fee"}),a.jsx("p",{className:"text-gray-600",children:r.totalFee!==void 0&&r.totalFee!==null?`Rs. ${r.totalFee.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Amount Paid"}),a.jsx("p",{className:"text-gray-600",children:r.amountPaid!==void 0&&r.amountPaid!==null?`Rs. ${r.amountPaid.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Due Amount"}),a.jsx("p",{className:"text-gray-600",children:r.dueAmount!==void 0&&r.dueAmount!==null?`Rs. ${r.dueAmount.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Cash Payment"}),a.jsx("p",{className:"text-gray-600",children:r.cash!==void 0&&r.cash!==null?`Rs. ${r.cash.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Online Payment"}),a.jsx("p",{className:"text-gray-600",children:r.online!==void 0&&r.online!==null?`Rs. ${r.online.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Security Money"}),a.jsx("p",{className:"text-gray-600",children:r.securityMoney!==void 0&&r.securityMoney!==null?`Rs. ${r.securityMoney.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Discount"})," ",a.jsx("p",{className:"text-gray-600",children:r.discount!==void 0&&r.discount!==null?`Rs. ${r.discount.toFixed(2)}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium",children:"Created At"}),a.jsx("p",{className:"text-gray-600",children:SC(r.createdAt)})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("h2",{className:"text-lg font-medium",children:"Remark"}),a.jsx("p",{className:"text-gray-600",children:r.remark||"N/A"})]})]}),a.jsxs("div",{className:"mt-6 flex space-x-4 no-print",children:[a.jsxs("button",{onClick:()=>t(`/students/${r.id}/edit`),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[a.jsx(LS,{size:16,className:"mr-2"}),"Edit"]}),a.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[a.jsx(pa,{size:16,className:"mr-2"}),"Delete"]}),a.jsxs("button",{onClick:h,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[a.jsx(_S,{size:16,className:"mr-2"}),"Print"]})]})]})]})})})})]})};var o1e="Label",tQ=C.forwardRef((e,t)=>a.jsx(Jr.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));tQ.displayName=o1e;var rQ=tQ;const l1e=Hv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pt=C.forwardRef(({className:e,...t},r)=>a.jsx(rQ,{ref:r,className:Nr(l1e(),e),...t}));Pt.displayName=rQ.displayName;function R_(e,[t,r]){return Math.min(r,Math.max(t,e))}function c1e(e,t=[]){let r=[];function n(i,o){const l=C.createContext(o),A=r.length;r=[...r,o];function u(m){const{scope:w,children:p,...b}=m,N=(w==null?void 0:w[e][A])||l,j=C.useMemo(()=>b,Object.values(b));return a.jsx(N.Provider,{value:j,children:p})}function h(m,w){const p=(w==null?void 0:w[e][A])||l,b=C.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>C.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,A1e(s,...t)]}function A1e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:A,scopeName:u})=>{const m=A(i)[`__scope${u}`];return{...l,...m}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function nQ(e){const t=e+"CollectionProvider",[r,n]=c1e(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:b,children:N}=p,j=Ze.useRef(null),y=Ze.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:y,collectionRef:j,children:N})};o.displayName=t;const l=e+"CollectionSlot",A=Ze.forwardRef((p,b)=>{const{scope:N,children:j}=p,y=i(l,N),B=ts(b,y.collectionRef);return a.jsx(qh,{ref:B,children:j})});A.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=Ze.forwardRef((p,b)=>{const{scope:N,children:j,...y}=p,B=Ze.useRef(null),I=ts(b,B),_=i(u,N);return Ze.useEffect(()=>(_.itemMap.set(B,{ref:B,...y}),()=>void _.itemMap.delete(B))),a.jsx(qh,{[h]:"",ref:I,children:j})});m.displayName=u;function w(p){const b=i(e+"CollectionConsumer",p);return Ze.useCallback(()=>{const j=b.collectionRef.current;if(!j)return[];const y=Array.from(j.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((_,O)=>y.indexOf(_.ref.current)-y.indexOf(O.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:A,ItemSlot:m},w,n]}var u1e=C.createContext(void 0);function TE(e){const t=C.useContext(u1e);return e||t||"ltr"}function sQ(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var d1e=[" ","Enter","ArrowUp","ArrowDown"],h1e=[" ","Enter"],j1="Select",[Wv,Gv,f1e]=nQ(j1),[Cm,q4e]=A1(j1,[f1e,J2]),zv=J2(),[m1e,Qd]=Cm(j1),[p1e,g1e]=Cm(j1),aQ=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:A,dir:u,name:h,autoComplete:m,disabled:w,required:p,form:b}=e,N=zv(t),[j,y]=C.useState(null),[B,I]=C.useState(null),[_,O]=C.useState(!1),H=TE(u),[D=!1,L]=Yh({prop:n,defaultProp:s,onChange:i}),[T,G]=Yh({prop:o,defaultProp:l,onChange:A}),M=C.useRef(null),V=j?b||!!j.closest("form"):!0,[J,Z]=C.useState(new Set),ee=Array.from(J).map(q=>q.props.value).join(";");return a.jsx($D,{...N,children:a.jsxs(m1e,{required:p,scope:t,trigger:j,onTriggerChange:y,valueNode:B,onValueNodeChange:I,valueNodeHasChildren:_,onValueNodeHasChildrenChange:O,contentId:jA(),value:T,onValueChange:G,open:D,onOpenChange:L,dir:H,triggerPointerDownPosRef:M,disabled:w,children:[a.jsx(Wv.Provider,{scope:t,children:a.jsx(p1e,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(q=>{Z(W=>new Set(W).add(q))},[]),onNativeOptionRemove:C.useCallback(q=>{Z(W=>{const X=new Set(W);return X.delete(q),X})},[]),children:r})}),V?a.jsxs(FQ,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:m,value:T,onChange:q=>G(q.target.value),disabled:w,form:b,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(J)]},ee):null]})})};aQ.displayName=j1;var iQ="SelectTrigger",oQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=zv(r),o=Qd(iQ,r),l=o.disabled||n,A=ts(t,o.onTriggerChange),u=Gv(r),h=C.useRef("touch"),[m,w,p]=kQ(N=>{const j=u().filter(I=>!I.disabled),y=j.find(I=>I.value===o.value),B=_Q(j,N,y);B!==void 0&&o.onValueChange(B.value)}),b=N=>{l||(o.onOpenChange(!0),p()),N&&(o.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return a.jsx(qD,{asChild:!0,...i,children:a.jsx(Jr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":IQ(o.value)?"":void 0,...s,ref:A,onClick:_r(s.onClick,N=>{N.currentTarget.focus(),h.current!=="mouse"&&b(N)}),onPointerDown:_r(s.onPointerDown,N=>{h.current=N.pointerType;const j=N.target;j.hasPointerCapture(N.pointerId)&&j.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(b(N),N.preventDefault())}),onKeyDown:_r(s.onKeyDown,N=>{const j=m.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&w(N.key),!(j&&N.key===" ")&&d1e.includes(N.key)&&(b(),N.preventDefault())})})})});oQ.displayName=iQ;var lQ="SelectValue",cQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,A=Qd(lQ,r),{onValueNodeHasChildrenChange:u}=A,h=i!==void 0,m=ts(t,A.onValueNodeChange);return Ii(()=>{u(h)},[u,h]),a.jsx(Jr.span,{...l,ref:m,style:{pointerEvents:"none"},children:IQ(A.value)?a.jsx(a.Fragment,{children:o}):i})});cQ.displayName=lQ;var x1e="SelectIcon",AQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Jr.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});AQ.displayName=x1e;var w1e="SelectPortal",uQ=e=>a.jsx(gS,{asChild:!0,...e});uQ.displayName=w1e;var of="SelectContent",dQ=C.forwardRef((e,t)=>{const r=Qd(of,e.__scopeSelect),[n,s]=C.useState();if(Ii(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Rd.createPortal(a.jsx(hQ,{scope:e.__scopeSelect,children:a.jsx(Wv.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(fQ,{...e,ref:t})});dQ.displayName=of;var Sl=10,[hQ,Hd]=Cm(of),y1e="SelectContentImpl",fQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:A,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:w,collisionPadding:p,sticky:b,hideWhenDetached:N,avoidCollisions:j,...y}=e,B=Qd(of,r),[I,_]=C.useState(null),[O,H]=C.useState(null),D=ts(t,ge=>_(ge)),[L,T]=C.useState(null),[G,M]=C.useState(null),V=Gv(r),[J,Z]=C.useState(!1),ee=C.useRef(!1);C.useEffect(()=>{if(I)return f9(I)},[I]),a9();const q=C.useCallback(ge=>{const[fe,...je]=V().map(De=>De.ref.current),[ke]=je.slice(-1),Te=document.activeElement;for(const De of ge)if(De===Te||(De==null||De.scrollIntoView({block:"nearest"}),De===fe&&O&&(O.scrollTop=0),De===ke&&O&&(O.scrollTop=O.scrollHeight),De==null||De.focus(),document.activeElement!==Te))return},[V,O]),W=C.useCallback(()=>q([L,I]),[q,L,I]);C.useEffect(()=>{J&&W()},[J,W]);const{onOpenChange:X,triggerPointerDownPosRef:K}=B;C.useEffect(()=>{if(I){let ge={x:0,y:0};const fe=ke=>{var Te,De;ge={x:Math.abs(Math.round(ke.pageX)-(((Te=K.current)==null?void 0:Te.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((De=K.current)==null?void 0:De.y)??0))}},je=ke=>{ge.x<=10&&ge.y<=10?ke.preventDefault():I.contains(ke.target)||X(!1),document.removeEventListener("pointermove",fe),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",je,{capture:!0})}}},[I,X,K]),C.useEffect(()=>{const ge=()=>X(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[X]);const[le,ne]=kQ(ge=>{const fe=V().filter(Te=>!Te.disabled),je=fe.find(Te=>Te.ref.current===document.activeElement),ke=_Q(fe,ge,je);ke&&setTimeout(()=>ke.ref.current.focus())}),U=C.useCallback((ge,fe,je)=>{const ke=!ee.current&&!je;(B.value!==void 0&&B.value===fe||ke)&&(T(ge),ke&&(ee.current=!0))},[B.value]),Y=C.useCallback(()=>I==null?void 0:I.focus(),[I]),se=C.useCallback((ge,fe,je)=>{const ke=!ee.current&&!je;(B.value!==void 0&&B.value===fe||ke)&&M(ge)},[B.value]),ce=n==="popper"?E3:mQ,Ae=ce===E3?{side:l,sideOffset:A,align:u,alignOffset:h,arrowPadding:m,collisionBoundary:w,collisionPadding:p,sticky:b,hideWhenDetached:N,avoidCollisions:j}:{};return a.jsx(hQ,{scope:r,content:I,viewport:O,onViewportChange:H,itemRefCallback:U,selectedItem:L,onItemLeave:Y,itemTextRefCallback:se,focusSelectedItem:W,selectedItemText:G,position:n,isPositioned:J,searchRef:le,children:a.jsx(pE,{as:qh,allowPinchZoom:!0,children:a.jsx(mE,{asChild:!0,trapped:B.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:_r(s,ge=>{var fe;(fe=B.trigger)==null||fe.focus({preventScroll:!0}),ge.preventDefault()}),children:a.jsx(q2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>B.onOpenChange(!1),children:a.jsx(ce,{role:"listbox",id:B.contentId,"data-state":B.open?"open":"closed",dir:B.dir,onContextMenu:ge=>ge.preventDefault(),...y,...Ae,onPlaced:()=>Z(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:_r(y.onKeyDown,ge=>{const fe=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!fe&&ge.key.length===1&&ne(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let ke=V().filter(Te=>!Te.disabled).map(Te=>Te.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const Te=ge.target,De=ke.indexOf(Te);ke=ke.slice(De+1)}setTimeout(()=>q(ke)),ge.preventDefault()}})})})})})})});fQ.displayName=y1e;var v1e="SelectItemAlignedPosition",mQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Qd(of,r),o=Hd(of,r),[l,A]=C.useState(null),[u,h]=C.useState(null),m=ts(t,D=>h(D)),w=Gv(r),p=C.useRef(!1),b=C.useRef(!0),{viewport:N,selectedItem:j,selectedItemText:y,focusSelectedItem:B}=o,I=C.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&N&&j&&y){const D=i.trigger.getBoundingClientRect(),L=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),G=y.getBoundingClientRect();if(i.dir!=="rtl"){const Te=G.left-L.left,De=T.left-Te,Qe=D.left-De,Ne=D.width+Qe,pe=Math.max(Ne,L.width),Pe=window.innerWidth-Sl,rt=R_(De,[Sl,Math.max(Sl,Pe-pe)]);l.style.minWidth=Ne+"px",l.style.left=rt+"px"}else{const Te=L.right-G.right,De=window.innerWidth-T.right-Te,Qe=window.innerWidth-D.right-De,Ne=D.width+Qe,pe=Math.max(Ne,L.width),Pe=window.innerWidth-Sl,rt=R_(De,[Sl,Math.max(Sl,Pe-pe)]);l.style.minWidth=Ne+"px",l.style.right=rt+"px"}const M=w(),V=window.innerHeight-Sl*2,J=N.scrollHeight,Z=window.getComputedStyle(u),ee=parseInt(Z.borderTopWidth,10),q=parseInt(Z.paddingTop,10),W=parseInt(Z.borderBottomWidth,10),X=parseInt(Z.paddingBottom,10),K=ee+q+J+X+W,le=Math.min(j.offsetHeight*5,K),ne=window.getComputedStyle(N),U=parseInt(ne.paddingTop,10),Y=parseInt(ne.paddingBottom,10),se=D.top+D.height/2-Sl,ce=V-se,Ae=j.offsetHeight/2,ge=j.offsetTop+Ae,fe=ee+q+ge,je=K-fe;if(fe<=se){const Te=M.length>0&&j===M[M.length-1].ref.current;l.style.bottom="0px";const De=u.clientHeight-N.offsetTop-N.offsetHeight,Qe=Math.max(ce,Ae+(Te?Y:0)+De+W),Ne=fe+Qe;l.style.height=Ne+"px"}else{const Te=M.length>0&&j===M[0].ref.current;l.style.top="0px";const Qe=Math.max(se,ee+N.offsetTop+(Te?U:0)+Ae)+je;l.style.height=Qe+"px",N.scrollTop=fe-se+N.offsetTop}l.style.margin=`${Sl}px 0`,l.style.minHeight=le+"px",l.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[w,i.trigger,i.valueNode,l,u,N,j,y,i.dir,n]);Ii(()=>I(),[I]);const[_,O]=C.useState();Ii(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const H=C.useCallback(D=>{D&&b.current===!0&&(I(),B==null||B(),b.current=!1)},[I,B]);return a.jsx(C1e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:H,children:a.jsx("div",{ref:A,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Jr.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});mQ.displayName=v1e;var b1e="SelectPopperPosition",E3=C.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Sl,...i}=e,o=zv(r);return a.jsx(XD,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});E3.displayName=b1e;var[C1e,LE]=Cm(of,{}),j3="SelectViewport",pQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Hd(j3,r),o=LE(j3,r),l=ts(t,i.onViewportChange),A=C.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Wv.Slot,{scope:r,children:a.jsx(Jr.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:_r(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:w}=o;if(w!=null&&w.current&&m){const p=Math.abs(A.current-h.scrollTop);if(p>0){const b=window.innerHeight-Sl*2,N=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),y=Math.max(N,j);if(y<b){const B=y+p,I=Math.min(b,B),_=B-I;m.style.height=I+"px",m.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,m.style.justifyContent="flex-end")}}}A.current=h.scrollTop})})})]})});pQ.displayName=j3;var gQ="SelectGroup",[N1e,B1e]=Cm(gQ),S1e=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=jA();return a.jsx(N1e,{scope:r,id:s,children:a.jsx(Jr.div,{role:"group","aria-labelledby":s,...n,ref:t})})});S1e.displayName=gQ;var xQ="SelectLabel",wQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=B1e(xQ,r);return a.jsx(Jr.div,{id:s.id,...n,ref:t})});wQ.displayName=xQ;var p2="SelectItem",[E1e,yQ]=Cm(p2),vQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=Qd(p2,r),A=Hd(p2,r),u=l.value===n,[h,m]=C.useState(i??""),[w,p]=C.useState(!1),b=ts(t,B=>{var I;return(I=A.itemRefCallback)==null?void 0:I.call(A,B,n,s)}),N=jA(),j=C.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(E1e,{scope:r,value:n,disabled:s,textId:N,isSelected:u,onItemTextChange:C.useCallback(B=>{m(I=>I||((B==null?void 0:B.textContent)??"").trim())},[]),children:a.jsx(Wv.ItemSlot,{scope:r,value:n,disabled:s,textValue:h,children:a.jsx(Jr.div,{role:"option","aria-labelledby":N,"data-highlighted":w?"":void 0,"aria-selected":u&&w,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:b,onFocus:_r(o.onFocus,()=>p(!0)),onBlur:_r(o.onBlur,()=>p(!1)),onClick:_r(o.onClick,()=>{j.current!=="mouse"&&y()}),onPointerUp:_r(o.onPointerUp,()=>{j.current==="mouse"&&y()}),onPointerDown:_r(o.onPointerDown,B=>{j.current=B.pointerType}),onPointerMove:_r(o.onPointerMove,B=>{var I;j.current=B.pointerType,s?(I=A.onItemLeave)==null||I.call(A):j.current==="mouse"&&B.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_r(o.onPointerLeave,B=>{var I;B.currentTarget===document.activeElement&&((I=A.onItemLeave)==null||I.call(A))}),onKeyDown:_r(o.onKeyDown,B=>{var _;((_=A.searchRef)==null?void 0:_.current)!==""&&B.key===" "||(h1e.includes(B.key)&&y(),B.key===" "&&B.preventDefault())})})})})});vQ.displayName=p2;var vp="SelectItemText",bQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=Qd(vp,r),l=Hd(vp,r),A=yQ(vp,r),u=g1e(vp,r),[h,m]=C.useState(null),w=ts(t,y=>m(y),A.onItemTextChange,y=>{var B;return(B=l.itemTextRefCallback)==null?void 0:B.call(l,y,A.value,A.disabled)}),p=h==null?void 0:h.textContent,b=C.useMemo(()=>a.jsx("option",{value:A.value,disabled:A.disabled,children:p},A.value),[A.disabled,A.value,p]),{onNativeOptionAdd:N,onNativeOptionRemove:j}=u;return Ii(()=>(N(b),()=>j(b)),[N,j,b]),a.jsxs(a.Fragment,{children:[a.jsx(Jr.span,{id:A.textId,...i,ref:w}),A.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rd.createPortal(i.children,o.valueNode):null]})});bQ.displayName=vp;var CQ="SelectItemIndicator",NQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return yQ(CQ,r).isSelected?a.jsx(Jr.span,{"aria-hidden":!0,...n,ref:t}):null});NQ.displayName=CQ;var I3="SelectScrollUpButton",BQ=C.forwardRef((e,t)=>{const r=Hd(I3,e.__scopeSelect),n=LE(I3,e.__scopeSelect),[s,i]=C.useState(!1),o=ts(t,n.onScrollButtonChange);return Ii(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=A.scrollTop>0;i(u)};const A=r.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(EQ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=r;l&&A&&(l.scrollTop=l.scrollTop-A.offsetHeight)}}):null});BQ.displayName=I3;var F3="SelectScrollDownButton",SQ=C.forwardRef((e,t)=>{const r=Hd(F3,e.__scopeSelect),n=LE(F3,e.__scopeSelect),[s,i]=C.useState(!1),o=ts(t,n.onScrollButtonChange);return Ii(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=A.scrollHeight-A.clientHeight,h=Math.ceil(A.scrollTop)<u;i(h)};const A=r.viewport;return l(),A.addEventListener("scroll",l),()=>A.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(EQ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:A}=r;l&&A&&(l.scrollTop=l.scrollTop+A.offsetHeight)}}):null});SQ.displayName=F3;var EQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Hd("SelectScrollButton",r),o=C.useRef(null),l=Gv(r),A=C.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return C.useEffect(()=>()=>A(),[A]),Ii(()=>{var h;const u=l().find(m=>m.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(Jr.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:_r(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:_r(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:_r(s.onPointerLeave,()=>{A()})})}),j1e="SelectSeparator",jQ=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Jr.div,{"aria-hidden":!0,...n,ref:t})});jQ.displayName=j1e;var k3="SelectArrow",I1e=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=zv(r),i=Qd(k3,r),o=Hd(k3,r);return i.open&&o.position==="popper"?a.jsx(YD,{...s,...n,ref:t}):null});I1e.displayName=k3;function IQ(e){return e===""||e===void 0}var FQ=C.forwardRef((e,t)=>{const{value:r,...n}=e,s=C.useRef(null),i=ts(t,s),o=sQ(r);return C.useEffect(()=>{const l=s.current,A=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(A,"value").set;if(o!==r&&h){const m=new Event("change",{bubbles:!0});h.call(l,r),l.dispatchEvent(m)}},[o,r]),a.jsx(xS,{asChild:!0,children:a.jsx("select",{...n,ref:i,defaultValue:r})})});FQ.displayName="BubbleSelect";function kQ(e){const t=Dc(e),r=C.useRef(""),n=C.useRef(0),s=C.useCallback(o=>{const l=r.current+o;t(l),function A(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>A(""),1e3))}(l)},[t]),i=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function _Q(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=F1e(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const A=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return A!==r?A:void 0}function F1e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var k1e=aQ,TQ=oQ,_1e=cQ,T1e=AQ,L1e=uQ,LQ=dQ,P1e=pQ,PQ=wQ,DQ=vQ,D1e=bQ,O1e=NQ,OQ=BQ,RQ=SQ,MQ=jQ;const Fc=k1e,kc=_1e,Ul=C.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(TQ,{ref:n,className:Nr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(T1e,{asChild:!0,children:a.jsx(f1,{className:"h-4 w-4 opacity-50"})})]}));Ul.displayName=TQ.displayName;const UQ=C.forwardRef(({className:e,...t},r)=>a.jsx(OQ,{ref:r,className:Nr("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(uv,{className:"h-4 w-4"})}));UQ.displayName=OQ.displayName;const QQ=C.forwardRef(({className:e,...t},r)=>a.jsx(RQ,{ref:r,className:Nr("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(f1,{className:"h-4 w-4"})}));QQ.displayName=RQ.displayName;const Ql=C.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(L1e,{children:a.jsxs(LQ,{ref:s,className:Nr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(UQ,{}),a.jsx(P1e,{className:Nr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(QQ,{})]})}));Ql.displayName=LQ.displayName;const R1e=C.forwardRef(({className:e,...t},r)=>a.jsx(PQ,{ref:r,className:Nr("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));R1e.displayName=PQ.displayName;const Hs=C.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(DQ,{ref:n,className:Nr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(O1e,{children:a.jsx(Sg,{className:"h-4 w-4"})})}),a.jsx(D1e,{children:t})]}));Hs.displayName=DQ.displayName;const M1e=C.forwardRef(({className:e,...t},r)=>a.jsx(MQ,{ref:r,className:Nr("-mx-1 my-1 h-px bg-muted",e),...t}));M1e.displayName=MQ.displayName;const Gr=C.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Nr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Gr.displayName="Input";const am=C.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Nr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));am.displayName="Textarea";const Mn=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Nr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Mn.displayName="Card";const Pa=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Nr("flex flex-col space-y-1.5 p-6",e),...t}));Pa.displayName="CardHeader";const Da=C.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Nr("text-2xl font-semibold leading-none tracking-tight",e),...t}));Da.displayName="CardTitle";const Mc=C.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Nr("text-sm text-muted-foreground",e),...t}));Mc.displayName="CardDescription";const Es=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Nr("p-6 pt-0",e),...t}));Es.displayName="CardContent";const U1e=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Nr("flex items-center p-6 pt-0",e),...t}));U1e.displayName="CardFooter";class Q1e extends Ze.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){var t;return this.state.hasError?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:a.jsxs(Mn,{className:"p-6 shadow-lg border-gray-200 dark:border-gray-700",children:[a.jsx(Pa,{children:a.jsx(Da,{className:"text-xl font-bold text-red-600",children:"Something Went Wrong"})}),a.jsxs(Es,{children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:((t=this.state.error)==null?void 0:t.toString())||"An unknown error occurred while loading the schedule. Please try refreshing the page or contact support if the issue persists."}),a.jsx(Jt,{onClick:()=>window.location.reload(),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Refresh Page"})]})]})}):this.props.children}}const M_=e=>{if(!e)return null;const t=new Date(e+"T00:00:00");return isNaN(t.getTime())?null:t},H1e=e=>{if(!e||!e.includes(":"))return"N/A";const[t,r]=e.split(":").map(Number);if(isNaN(t)||isNaN(r))return"Invalid time";const n=new Date;return n.setHours(t,r,0),new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(n)},EC=e=>{const t=typeof e=="string"?new Date(e+"T00:00:00"):e;return isNaN(t.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)},V1e=()=>{var Z,ee;const[e,t]=C.useState(void 0),[r,n]=C.useState([]),[s,i]=C.useState([]),[o,l]=C.useState(!1),[A,u]=C.useState(!1),[h,m]=C.useState(null),w=()=>{Ee.info("Barcode scanning functionality is not yet implemented.")},[p,b]=C.useState(!1),[N,j]=C.useState(!1),[y,B]=C.useState(null),[I,_]=C.useState(null),O={title:"",date:new Date,time:"",description:"",fee:0,branchId:h||void 0},[H,D]=C.useState(O),L=C.useCallback(async()=>{try{const q=await Re.getBranches(),W=Array.isArray(q)?q:[];i(W),W.length>0&&D(X=>({...X,branchId:h||W[0].id}))}catch(q){console.error("Error fetching branches:",q),Ee.error("Failed to load branches")}},[h]),T=C.useCallback(async()=>{l(!0);try{console.log("Fetching schedules for branch ID:",h);const q=await Re.getSchedules(h||null);console.log("Raw API Response:",q);let W=[];Array.isArray(q)?(console.log("Response is an array, using directly"),W=q):q&&Array.isArray(q.schedules)?(console.log("Response has schedules array"),W=q.schedules):(console.warn("Unexpected response format, defaulting to empty array",q),W=[]),console.log("Processed schedules:",W),console.log("Raw schedules data:",W);const X=W.filter(K=>K&&typeof K=="object").map(K=>{var ne;const le=K.branch_name||K.branch_id&&((ne=s.find(U=>U.id===K.branch_id))==null?void 0:ne.name)||"";return{id:K.id,title:K.title||"Untitled Event",description:K.description||"",time:K.time||"",eventDate:K.eventDate||K.event_date||"",fee:typeof K.fee=="number"?K.fee:parseFloat(K.fee)||0,branchId:K.branch_id,branchName:le}});console.log("Setting events:",X),n(X)}catch(q){console.error("Error caught in fetchEvents:",q),Ee.error(q.message||"Failed to load events"),n([])}finally{l(!1)}},[h]);C.useEffect(()=>{T(),L()},[T,L]);const G=async()=>{if(!H.title.trim()||!H.time||!H.branchId){Ee.error("Please fill in all required fields: Event Title, Time, and Branch.");return}const W=(H.date instanceof Date&&!isNaN(H.date.getTime())?H.date:new Date).toISOString().split("T")[0],X={title:H.title.trim(),description:H.description.trim()||null,time:H.time,eventDate:W,fee:H.fee,branch_id:H.branchId};console.log("Sending add event data:",X),l(!0);try{await Re.addSchedule(X),await T(),b(!1),D(O),Ee.success("Event added successfully!")}catch(K){console.error("Error in handleAddEventSubmit:",K),Ee.error(K.message||"Failed to add event.")}finally{l(!1)}},M=async()=>{var K;if(!y)return;if(!y.title.trim()||!y.time||!y.branchId){Ee.error("Please fill in all required fields: Event Title, Time, and Branch.");return}const q=M_(y.eventDate),W=q?q.toISOString().split("T")[0]:new Date().toISOString().split("T")[0],X={title:y.title.trim(),description:((K=y.description)==null?void 0:K.trim())||null,time:y.time,eventDate:W,fee:y.fee,branch_id:y.branchId};console.log("Sending update event data:",X),l(!0);try{await Re.updateSchedule(y.id,X),await T(),j(!1),B(null),Ee.success("Event updated successfully!")}catch(le){console.error("Error in handleUpdateEventSubmit:",le),Ee.error(le.message||"Failed to update event.")}finally{l(!1)}},V=async()=>{if(I){l(!0);try{await Re.deleteSchedule(I.id),n(q=>q.filter(W=>W.id!==I.id)),Ee.success("Event removed from schedule.")}catch(q){Ee.error(q.message||"Failed to delete event.")}finally{l(!1),_(null)}}},J=e?r.filter(q=>{const W=M_(q.eventDate);return W?W.getFullYear()===e.getFullYear()&&W.getMonth()===e.getMonth()&&W.getDate()===e.getDate():!1}):r;return a.jsx(Q1e,{children:a.jsxs("div",{className:"flex min-h-screen bg-gray-100 dark:bg-gray-900",children:[a.jsx(wn,{isCollapsed:A,setIsCollapsed:u,onBarcodeClick:w}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 dark:text-gray-100",children:"Schedules & Events"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-1",children:"Manage your daily activities and classes."})]}),a.jsxs("div",{className:"w-full sm:w-64",children:[a.jsx(Pt,{htmlFor:"branchFilter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by Branch"}),a.jsxs(Fc,{value:(h==null?void 0:h.toString())||"all",onValueChange:q=>{const W=q==="all"?null:parseInt(q);console.log("Selected branch ID changed:",W),m(W)},children:[a.jsx(Ul,{className:"w-[200px]",children:a.jsx(kc,{placeholder:"Select a branch"})}),a.jsxs(Ql,{children:[a.jsx(Hs,{value:"all",children:"All Branches"}),s.map(q=>a.jsx(Hs,{value:q.id.toString(),children:q.name},q.id))]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[a.jsx("div",{className:"lg:col-span-1 space-y-8",children:a.jsxs(Mn,{className:"shadow-lg border-gray-200 dark:border-gray-700",children:[a.jsx(Pa,{className:"bg-gradient-to-br from-indigo-500 to-violet-600 text-white rounded-t-lg",children:a.jsxs(Da,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Calendar"}),a.jsx(qs,{className:"h-5 w-5 text-white"})]})}),a.jsxs(Es,{children:[a.jsx(m2,{mode:"single",selected:e,onSelect:t,className:"p-0"}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs(Jt,{onClick:()=>{D({...O,date:e||new Date}),b(!0)},disabled:o,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:[a.jsx(ef,{size:18,className:"mr-2"})," Add New Event"]}),e&&a.jsxs(Jt,{variant:"ghost",className:"w-full text-red-500 hover:text-red-600",onClick:()=>t(void 0),disabled:o,children:[a.jsx(Xl,{size:16,className:"mr-2"})," Clear Selection"]})]})]})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(Mn,{className:"shadow-lg border-gray-200 dark:border-gray-700",children:[a.jsx(Pa,{className:"bg-gradient-to-br from-sky-500 to-cyan-600 text-white rounded-t-lg",children:a.jsx(Da,{children:e?`Events for ${EC(e)}`:"All Upcoming Events"})}),a.jsx(Es,{children:o?a.jsx("div",{className:"py-12 flex justify-center items-center",children:a.jsx(Qs,{className:"h-8 w-8 animate-spin text-indigo-600"})}):a.jsxs(ZA,{children:[a.jsx(VR,{children:J.length===0?"No events to display.":"A list of your scheduled events."}),a.jsx(JA,{children:a.jsxs(js,{children:[a.jsx(hr,{className:"w-[150px]",children:"Event"}),a.jsx(hr,{children:"Branch"}),a.jsx(hr,{children:"Time"}),a.jsx(hr,{children:"Fee"}),a.jsx(hr,{className:"hidden md:table-cell",children:"Description"}),a.jsx(hr,{className:"text-right",children:"Actions"})]})}),a.jsx(eu,{children:J.map(q=>a.jsxs(js,{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[a.jsx(sr,{className:"font-medium",children:q.title}),a.jsx(sr,{children:q.branchName||""}),a.jsx(sr,{children:H1e(q.time)}),a.jsxs(sr,{children:["",q.fee.toFixed(2)]}),a.jsx(sr,{className:"hidden md:table-cell max-w-xs truncate",children:q.description||""}),a.jsxs(sr,{className:"text-right space-x-1",children:[a.jsx(Jt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-500 hover:text-blue-700",onClick:()=>{B(q),j(!0)},children:a.jsx(Xee,{size:16})}),a.jsx(Jt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-700",onClick:()=>_(q),children:a.jsx(pa,{size:16})})]})]},q.id))})]})})]})})]})]})})]}),a.jsx(S0,{open:p,onOpenChange:b,children:a.jsxs(Ph,{className:"sm:max-w-[480px] dark:bg-gray-800",children:[a.jsxs(Dh,{children:[a.jsx(Rh,{children:"Add New Event"}),a.jsx(Mh,{children:"Fill in the details for your new schedule event."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"eventTitle",children:"Event Title *"}),a.jsx(Gr,{id:"eventTitle",placeholder:"Enter event title",value:H.title,onChange:q=>D({...H,title:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"eventBranch",children:"Branch *"}),a.jsxs(Fc,{value:((Z=H.branchId)==null?void 0:Z.toString())||"",onValueChange:q=>D({...H,branchId:parseInt(q)}),children:[a.jsx(Ul,{children:a.jsx(kc,{placeholder:"Select a branch"})}),a.jsx(Ql,{children:s.map(q=>a.jsx(Hs,{value:q.id.toString(),children:q.name},q.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"eventTime",children:"Time *"}),a.jsx(Gr,{id:"eventTime",type:"time",value:H.time,onChange:q=>D({...H,time:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"eventFee",children:"Fee"}),a.jsx(Gr,{id:"eventFee",type:"number",placeholder:"0.00",value:H.fee,onChange:q=>D({...H,fee:parseFloat(q.target.value)||0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"eventDescription",children:"Description (optional)"}),a.jsx(am,{id:"eventDescription",placeholder:"Enter event description",value:H.description||"",onChange:q=>D({...H,description:q.target.value})})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Pt,{children:"Date"}),a.jsx("div",{children:EC(H.date)})]})]}),a.jsxs(Oh,{children:[a.jsx(xC,{asChild:!0,children:a.jsx(Jt,{variant:"outline",children:"Cancel"})}),a.jsxs(Jt,{onClick:G,disabled:o,children:[o&&a.jsx(Qs,{className:"h-4 w-4 animate-spin mr-2"})," Add Event"]})]})]})}),a.jsx(S0,{open:N,onOpenChange:j,children:a.jsxs(Ph,{className:"sm:max-w-[480px] dark:bg-gray-800",children:[a.jsxs(Dh,{children:[a.jsx(Rh,{children:"Edit Event"}),a.jsx(Mh,{children:"Update the details for this schedule event."})]}),y&&a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"editEventTitle",children:"Event Title *"}),a.jsx(Gr,{id:"editEventTitle",placeholder:"Enter event title",value:y.title,onChange:q=>B({...y,title:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"editEventBranch",children:"Branch *"}),a.jsxs(Fc,{value:((ee=y.branchId)==null?void 0:ee.toString())||"",onValueChange:q=>B({...y,branchId:parseInt(q)}),children:[a.jsx(Ul,{children:a.jsx(kc,{placeholder:"Select a branch"})}),a.jsx(Ql,{children:s.map(q=>a.jsx(Hs,{value:q.id.toString(),children:q.name},q.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"editEventTime",children:"Time *"}),a.jsx(Gr,{id:"editEventTime",type:"time",value:y.time,onChange:q=>B({...y,time:q.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"editEventFee",children:"Fee"}),a.jsx(Gr,{id:"editEventFee",type:"number",placeholder:"0.00",value:y.fee,onChange:q=>B({...y,fee:parseFloat(q.target.value)||0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"editEventDescription",children:"Description (optional)"}),a.jsx(am,{id:"editEventDescription",placeholder:"Enter event description",value:y.description||"",onChange:q=>B({...y,description:q.target.value})})]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Pt,{children:"Date"}),a.jsx("div",{children:EC(y.eventDate)})]})]}),a.jsxs(Oh,{children:[a.jsx(xC,{asChild:!0,children:a.jsx(Jt,{variant:"outline",children:"Cancel"})}),a.jsxs(Jt,{onClick:M,disabled:o,children:[o&&a.jsx(Qs,{className:"h-4 w-4 animate-spin mr-2"})," Save Changes"]})]})]})}),a.jsx(S0,{open:!!I,onOpenChange:()=>_(null),children:a.jsxs(Ph,{className:"sm:max-w-md dark:bg-gray-800",children:[a.jsxs(Dh,{children:[a.jsx(Rh,{children:"Are you absolutely sure?"}),a.jsxs(Mh,{children:["This action cannot be undone. This will permanently delete the event",a.jsxs("span",{className:"font-bold",children:[' "',I==null?void 0:I.title,'"']}),"."]})]}),a.jsxs(Oh,{className:"sm:justify-end",children:[a.jsx(xC,{asChild:!0,children:a.jsx(Jt,{type:"button",variant:"secondary",children:"Cancel"})}),a.jsxs(Jt,{type:"button",variant:"destructive",onClick:V,disabled:o,children:[o&&a.jsx(Qs,{className:"h-4 w-4 animate-spin mr-2"})," Delete"]})]})]})})]})})};var PE="Checkbox",[K1e,X4e]=A1(PE),[W1e,G1e]=K1e(PE),HQ=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:A="on",onCheckedChange:u,form:h,...m}=e,[w,p]=C.useState(null),b=ts(t,_=>p(_)),N=C.useRef(!1),j=w?h||!!w.closest("form"):!0,[y=!1,B]=Yh({prop:s,defaultProp:i,onChange:u}),I=C.useRef(y);return C.useEffect(()=>{const _=w==null?void 0:w.form;if(_){const O=()=>B(I.current);return _.addEventListener("reset",O),()=>_.removeEventListener("reset",O)}},[w,B]),a.jsxs(W1e,{scope:r,state:y,disabled:l,children:[a.jsx(Jr.button,{type:"button",role:"checkbox","aria-checked":bd(y)?"mixed":y,"aria-required":o,"data-state":WQ(y),"data-disabled":l?"":void 0,disabled:l,value:A,...m,ref:b,onKeyDown:_r(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:_r(e.onClick,_=>{B(O=>bd(O)?!0:!O),j&&(N.current=_.isPropagationStopped(),N.current||_.stopPropagation())})}),j&&a.jsx(z1e,{control:w,bubbles:!N.current,name:n,value:A,checked:y,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:bd(i)?!1:i})]})});HQ.displayName=PE;var VQ="CheckboxIndicator",KQ=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=G1e(VQ,r);return a.jsx(hf,{present:n||bd(i.state)||i.state===!0,children:a.jsx(Jr.span,{"data-state":WQ(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});KQ.displayName=VQ;var z1e=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...i}=e,o=C.useRef(null),l=sQ(r),A=RD(t);C.useEffect(()=>{const h=o.current,m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&p){const b=new Event("click",{bubbles:n});h.indeterminate=bd(r),p.call(h,bd(r)?!1:r),h.dispatchEvent(b)}},[l,r,n]);const u=C.useRef(bd(r)?!1:r);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bd(e){return e==="indeterminate"}function WQ(e){return bd(e)?"indeterminate":e?"checked":"unchecked"}var GQ=HQ,$1e=KQ;const _3=C.forwardRef(({className:e,...t},r)=>a.jsx(GQ,{ref:r,className:Nr("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx($1e,{className:Nr("flex items-center justify-center text-current"),children:a.jsx(Sg,{className:"h-4 w-4"})})}));_3.displayName=GQ.displayName;const q1e=Hv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function sd({className:e,variant:t,...r}){return a.jsx("div",{className:Nr(q1e({variant:t}),e),...r})}const U_=[{id:"manage_library_students",label:"Manage Library Students",category:"Library"},{id:"manage_schedules",label:"Manage Schedules & Shifts",category:"Library"},{id:"manage_seats",label:"Manage Seats",category:"Library"},{id:"view_collections",label:"View Library Collections",category:"Library"},{id:"manage_hostel_students",label:"Manage Hostel Students",category:"Hostel"},{id:"manage_hostel_branches",label:"Manage Hostel Branches",category:"Hostel"},{id:"view_hostel_collections",label:"View Hostel Collections",category:"Hostel"},{id:"manage_branches",label:"Manage Main Branches",category:"General"},{id:"manage_products",label:"Manage Products",category:"General"},{id:"manage_expenses",label:"Manage Expenses",category:"General"},{id:"view_transactions",label:"View Transactions",category:"General"},{id:"view_reports",label:"View Profit & Loss",category:"General"}],X1e=()=>{const e=zA(),[t,r]=C.useState(!1),[n,s]=C.useState({username:"",password:"",role:"staff",full_name:"",email:"",permissions:[],branch_access:[]}),{data:i=[],isLoading:o}=Vl({queryKey:["allUsers"],queryFn:Re.getAllUsers}),{data:l=[],isLoading:A}=Vl({queryKey:["branches"],queryFn:Re.getBranches}),u=Ci({mutationFn:y=>Re.addUser(y),onSuccess:()=>{Ee.success("Staff member created successfully!"),s({username:"",password:"",role:"staff",full_name:"",email:"",permissions:[],branch_access:[]}),e.invalidateQueries({queryKey:["allUsers"]})},onError:y=>Ee.error(y.message||"Failed to create staff member")}),h=Ci({mutationFn:y=>Re.deleteUser(y),onSuccess:()=>{Ee.success("Staff member deleted successfully!"),e.invalidateQueries({queryKey:["allUsers"]})},onError:y=>Ee.error(y.message||"Failed to delete staff member")}),m=U_.reduce((y,B)=>(y[B.category]||(y[B.category]=[]),y[B.category].push(B),y),{}),w=(y,B)=>{s(I=>({...I,permissions:B?[...I.permissions,y]:I.permissions.filter(_=>_!==y)}))},p=(y,B)=>{s(I=>({...I,branch_access:B?[...I.branch_access,y]:I.branch_access.filter(_=>_!==y)}))},b=y=>{if(y.preventDefault(),!n.username||!n.password){Ee.error("Username and password are required");return}if(!n.full_name){Ee.error("Full name is required");return}if(n.permissions.length===0){Ee.error("Please select at least one permission");return}if(n.branch_access.length===0){Ee.error("Please select at least one branch for access");return}u.mutate(n)},N=(y,B)=>{window.confirm(`Are you sure you want to delete staff member "${B}"?`)&&h.mutate(y)},j=(Array.isArray(i)?i:[]).filter(y=>y.role==="staff").map(y=>({...y,permissions:Array.isArray(y.permissions)?y.permissions:[],branch_details:Array.isArray(y.branch_details)?y.branch_details:Array.isArray(y.branchDetails)?y.branchDetails:[]}));return o||A?a.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Mn,{children:[a.jsxs(Pa,{children:[a.jsxs(Da,{className:"flex items-center gap-2",children:[a.jsx(ci,{className:"w-5 h-5"}),"Create New Staff Member"]}),a.jsx(Mc,{children:"Create a new staff account with customizable permissions and branch access"})]}),a.jsx(Es,{children:a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"username",children:"Username *"}),a.jsx(Gr,{id:"username",value:n.username,onChange:y=>s(B=>({...B,username:y.target.value})),placeholder:"Enter username",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"full_name",children:"Full Name *"}),a.jsx(Gr,{id:"full_name",value:n.full_name,onChange:y=>s(B=>({...B,full_name:y.target.value})),placeholder:"Enter full name",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"email",children:"Email"}),a.jsx(Gr,{id:"email",type:"email",value:n.email,onChange:y=>s(B=>({...B,email:y.target.value})),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"password",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{id:"password",type:t?"text":"password",value:n.password,onChange:y=>s(B=>({...B,password:y.target.value})),placeholder:"Enter password",required:!0}),a.jsx(Jt,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2",onClick:()=>r(!t),children:t?a.jsx(Z0,{className:"w-4 h-4"}):a.jsx(ma,{className:"w-4 h-4"})})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vy,{className:"w-5 h-5"}),a.jsx(Pt,{className:"text-base font-semibold",children:"Feature Permissions *"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(m).map(([y,B])=>a.jsxs(Mn,{className:"p-4",children:[a.jsx("h4",{className:"font-medium mb-3 text-sm text-gray-700",children:y}),a.jsx("div",{className:"space-y-2",children:B.map(I=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_3,{id:I.id,checked:n.permissions.includes(I.id),onCheckedChange:_=>w(I.id,_)}),a.jsx(Pt,{htmlFor:I.id,className:"text-sm font-normal cursor-pointer",children:I.label})]},I.id))})]},y))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qee,{className:"w-5 h-5"}),a.jsx(Pt,{className:"text-base font-semibold",children:"Branch Access *"})]}),a.jsxs(Mn,{className:"p-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(y=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_3,{id:`branch-${y.id}`,checked:n.branch_access.includes(y.id),onCheckedChange:B=>p(y.id,B)}),a.jsxs(Pt,{htmlFor:`branch-${y.id}`,className:"text-sm font-normal cursor-pointer",children:[y.name," ",y.code&&`(${y.code})`]})]},y.id))}),l.length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No branches available. Please create branches first."})]})]}),a.jsx(Jt,{type:"submit",className:"w-full md:w-auto",disabled:u.isPending,children:u.isPending?"Creating...":"Create Staff Member"})]})})]}),a.jsxs(Mn,{children:[a.jsxs(Pa,{children:[a.jsx(Da,{children:"Existing Staff Members"}),a.jsx(Mc,{children:"Manage existing staff accounts and their permissions"})]}),a.jsx(Es,{children:j.length===0?a.jsx("p",{className:"text-center text-gray-500 py-8",children:"No staff members found."}):a.jsx("div",{className:"space-y-4",children:j.map(y=>a.jsx(Mn,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wi,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:y.full_name||y.fullName||y.username}),a.jsx(sd,{variant:"secondary",children:y.role})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["@",y.username]}),y.email&&a.jsx("p",{className:"text-sm text-gray-600",children:y.email}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",children:"Permissions: "}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.isArray(y.permissions)&&y.permissions.map(B=>{const I=U_.find(_=>_.id===B);return I?a.jsx(sd,{variant:"outline",className:"text-xs",children:I.label},B):null})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",children:"Branch Access: "}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(Array.isArray(y.branch_details)?y.branch_details:Array.isArray(y.branchDetails)?y.branchDetails:[]).map(B=>a.jsx(sd,{variant:"outline",className:"text-xs",children:B.name},B.id))})]})]})]}),a.jsx(Jt,{variant:"destructive",size:"sm",onClick:()=>N(y.id,y.username),disabled:h.isPending,children:a.jsx(pa,{className:"w-4 h-4"})})]})},y.id))})})]})]})},Y1e=()=>{const e=zA(),{user:t}=ga(),{data:r,isLoading:n,error:s}=Vl({queryKey:["userProfile"],queryFn:()=>t!=null&&t.isOwner?Re.getOwnerProfile():Re.getUserProfile(),enabled:!!t}),{data:i,isLoading:o,error:l}=Vl({queryKey:["settings"],queryFn:Re.getSettings,enabled:(t==null?void 0:t.role)==="admin"}),[A,u]=C.useState({fullName:"",email:"",libraryName:"",ownerPhone:"",oldPassword:"",newPassword:"",confirmPassword:""}),[h,m]=C.useState({brevoTemplateId:"",daysBeforeExpiration:""}),[w,p]=C.useState(!1),[b,N]=C.useState(!1);C.useEffect(()=>{const T=(r==null?void 0:r.owner)||(r==null?void 0:r.user);T&&u(G=>({...G,fullName:T.ownerName||T.fullName||"",email:T.ownerEmail||T.email||"",libraryName:T.libraryName||"",ownerPhone:T.ownerPhone||""}))},[r]),C.useEffect(()=>{var T;i&&m({brevoTemplateId:i.brevoTemplateId||"",daysBeforeExpiration:((T=i.daysBeforeExpiration)==null?void 0:T.toString())||""})},[i]);const j=T=>{const{name:G,value:M}=T.target;u(V=>({...V,[G]:M}))},y=T=>{const{name:G,value:M}=T.target;m(V=>({...V,[G]:M}))},B=T=>{T.preventDefault(),t!=null&&t.isOwner?_.mutate({libraryName:A.libraryName,ownerName:A.fullName,ownerEmail:A.email,ownerPhone:A.ownerPhone}):I.mutate({fullName:A.fullName,email:A.email})},I=Ci({mutationFn:T=>Re.updateUserProfile(T),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),Ee.success("Profile updated successfully!")},onError:T=>Ee.error(T.message||"Failed to update profile")}),_=Ci({mutationFn:T=>Re.updateOwnerProfile(T),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),Ee.success("Profile updated successfully!")},onError:T=>Ee.error(T.message||"Failed to update profile")}),O=Ci({mutationFn:T=>t!=null&&t.isOwner?Re.changeOwnerPassword({currentPassword:T.currentPassword,newPassword:T.newPassword}):Re.changeUserPassword(T),onSuccess:()=>{e.invalidateQueries({queryKey:["userProfile"]}),Ee.success("Password changed successfully!"),u(T=>({...T,oldPassword:"",newPassword:"",confirmPassword:""}))},onError:T=>Ee.error(T.message||"Failed to change password")}),H=Ci({mutationFn:T=>Re.updateSettings(T),onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]}),Ee.success("Settings updated successfully!")},onError:T=>Ee.error(T.message||"Failed to update settings")}),D=T=>{if(T.preventDefault(),!A.oldPassword||!A.newPassword){Ee.error("Please fill current and new password fields");return}if(A.newPassword!==A.confirmPassword){Ee.error("New passwords do not match");return}O.mutate({currentPassword:A.oldPassword,newPassword:A.newPassword})},L=T=>{T.preventDefault();const G=parseInt(h.daysBeforeExpiration,10);if(isNaN(G)||G<=0){Ee.error("Days Before Expiration must be a positive number");return}H.mutate({brevoTemplateId:h.brevoTemplateId,daysBeforeExpiration:G})};return t?n?a.jsx("div",{children:"Loading..."}):s?a.jsxs("div",{children:["Error loading profile: ",s.message]}):a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[a.jsx("div",{className:`fixed inset-y-0 left-0 transform ${w?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${b?"md:w-16":"md:w-64"}`,children:a.jsx(wn,{isCollapsed:b,setIsCollapsed:N,onBarcodeClick:()=>{}})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-3 sm:p-4 rounded-2xl shadow-lg",children:a.jsx(TS,{className:"h-8 w-8 sm:h-10 sm:w-10 text-white"})}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-800 mb-2",children:"Settings & Configuration"}),a.jsx("p",{className:"text-gray-600 text-sm sm:text-base lg:text-lg font-medium",children:"Manage your profile, security, and system preferences"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center sm:justify-start gap-2 sm:gap-4 mt-6",children:[a.jsx("div",{className:"bg-blue-50 text-blue-700 rounded-full px-3 py-1.5 text-xs sm:text-sm font-semibold",children:" Secure"}),a.jsx("div",{className:"bg-green-50 text-green-700 rounded-full px-3 py-1.5 text-xs sm:text-sm font-semibold",children:" Fast"}),a.jsx("div",{className:"bg-purple-50 text-purple-700 rounded-full px-3 py-1.5 text-xs sm:text-sm font-semibold",children:" Modern"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-white via-blue-50 to-purple-50 rounded-3xl shadow-2xl border-2 border-blue-200 p-8 relative overflow-hidden group hover:shadow-3xl transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 to-purple-600/5 group-hover:from-blue-600/10 group-hover:to-purple-600/10 transition-all duration-300"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-2xl mr-4 shadow-xl",children:a.jsx(Wi,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:" Personal Information"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Update your profile details"})]})]}),a.jsxs("form",{onSubmit:B,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(t==null?void 0:t.isOwner)&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"libraryName",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(Io,{className:"h-4 w-4 mr-2 text-blue-600"})," Library Name"]}),a.jsx(Gr,{id:"libraryName",name:"libraryName",value:A.libraryName,onChange:j,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"fullName",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(Wi,{className:"h-4 w-4 mr-2 text-blue-600"}),t!=null&&t.isOwner?" Owner Name":" Full Name"]}),a.jsx(Gr,{id:"fullName",name:"fullName",value:A.fullName,onChange:j,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(Gl,{className:"h-4 w-4 mr-2 text-blue-600"})," Email Address"]}),a.jsx(Gr,{id:"email",name:"email",type:"email",value:A.email,onChange:j,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),(t==null?void 0:t.isOwner)&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"ownerPhone",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(li,{className:"h-4 w-4 mr-2 text-blue-600"})," Owner Phone"]}),a.jsx(Gr,{id:"ownerPhone",name:"ownerPhone",value:A.ownerPhone,onChange:j,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(Jt,{type:"submit",disabled:I.isPending||_.isPending,className:"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-700 hover:from-blue-700 hover:via-purple-700 hover:to-blue-800 text-white font-bold py-3 px-8 rounded-xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[a.jsx(jg,{className:"h-5 w-5 mr-2"}),I.isPending||_.isPending?" Saving...":" Save Changes"]})})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-white via-green-50 to-emerald-50 rounded-3xl shadow-2xl border-2 border-green-200 p-8 relative overflow-hidden group hover:shadow-3xl transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-600/5 to-emerald-600/5 group-hover:from-green-600/10 group-hover:to-emerald-600/10 transition-all duration-300"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-3 rounded-2xl mr-4 shadow-xl",children:a.jsx(Ol,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:" Security Settings"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Update your password securely"})]})]}),a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"oldPassword",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(Vy,{className:"h-4 w-4 mr-2 text-green-600"})," Current Password"]}),a.jsx(Gr,{id:"oldPassword",name:"oldPassword",value:A.oldPassword,onChange:j,type:"password",className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"newPassword",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(Ol,{className:"h-4 w-4 mr-2 text-green-600"})," New Password"]}),a.jsx(Gr,{id:"newPassword",name:"newPassword",value:A.newPassword,onChange:j,type:"password",className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"confirmPassword",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(Vy,{className:"h-4 w-4 mr-2 text-green-600"})," Confirm New Password"]}),a.jsx(Gr,{id:"confirmPassword",name:"confirmPassword",value:A.confirmPassword,onChange:j,type:"password",className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(Jt,{type:"submit",className:"bg-gradient-to-r from-green-600 via-emerald-600 to-green-700 hover:from-green-700 hover:via-emerald-700 hover:to-green-800 text-white font-bold py-3 px-8 rounded-xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[a.jsx(Ol,{className:"h-5 w-5 mr-2"})," Update Password"]})})]})]})]})]}),t.role==="admin"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-white via-orange-50 to-red-50 rounded-3xl shadow-2xl border-2 border-orange-200 p-8 relative overflow-hidden group hover:shadow-3xl transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-600/5 to-red-600/5 group-hover:from-orange-600/10 group-hover:to-red-600/10 transition-all duration-300"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 p-3 rounded-2xl mr-4 shadow-xl",children:a.jsx(Gl,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:" Email Configuration"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Configure email templates and notifications"})]})]}),o?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),a.jsx("span",{className:"ml-3 text-orange-600 font-medium",children:"Loading settings..."})]}):l?a.jsx("div",{className:"bg-red-100 border-2 border-red-200 rounded-xl p-4 text-red-700 font-medium",children:" Error loading settings"}):a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"brevoTemplateId",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(dv,{className:"h-4 w-4 mr-2 text-orange-600"})," Brevo Template ID"]}),a.jsx(Gr,{id:"brevoTemplateId",name:"brevoTemplateId",value:h.brevoTemplateId,onChange:y,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"daysBeforeExpiration",className:"flex items-center text-sm font-bold text-gray-700 mb-2",children:[a.jsx(WO,{className:"h-4 w-4 mr-2 text-orange-600"})," Remind Before Expiration (Days)"]}),a.jsx(Gr,{id:"daysBeforeExpiration",name:"daysBeforeExpiration",type:"number",value:h.daysBeforeExpiration,onChange:y,className:"border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300 bg-white/80 hover:bg-white font-medium p-4"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs(Jt,{type:"submit",className:"bg-gradient-to-r from-orange-600 via-red-600 to-orange-700 hover:from-orange-700 hover:via-red-700 hover:to-orange-800 text-white font-bold py-3 px-8 rounded-xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[a.jsx(jg,{className:"h-5 w-5 mr-2"})," Save Email Settings"]})})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-white via-purple-50 to-indigo-50 rounded-3xl shadow-2xl border-2 border-purple-200 p-8 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/5 to-indigo-600/5"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 p-3 rounded-2xl mr-4 shadow-xl",children:a.jsx(QO,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent",children:" Staff Management"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Manage team members and permissions"})]})]}),a.jsx(X1e,{})]})]})]})]})})]})]}):a.jsx("div",{children:"Please log in to access settings."})},Q_=({children:e})=>{const{user:t,isLoading:r}=ga();return r?a.jsx("div",{children:"Loading..."}):!t||t.role!=="admin"?a.jsx(bD,{to:"/owner-login"}):a.jsx(a.Fragment,{children:e})},Z1e=()=>{const e=Ur(),[t,r]=C.useState({username:"",password:"",role:"staff"}),n=i=>{const{name:o,value:l}=i.target;r(A=>({...A,[o]:l}))},s=async i=>{i.preventDefault();try{const o={username:t.username,password:t.password,role:t.role};await Re.addUser(o),Ee.success("User added successfully"),e("/dashboard")}catch(o){console.error("Failed to add user:",o.message),Ee.error("Failed to add user")}};return a.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add New User"}),a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),a.jsx("input",{type:"text",id:"username",name:"username",value:t.username,onChange:n,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:n,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{id:"role",name:"role",value:t.role,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",children:[a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"staff",children:"Staff"})]})]}),a.jsx("button",{type:"submit",className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-200",children:"Add User"})]})]})},J1e=()=>{const{id:e}=XA(),t=Ur(),[r,n]=C.useState({name:"",registrationNumber:"",fatherName:"",aadharNumber:"",email:"",phone:"",address:"",branchId:null,membershipStart:"",membershipEnd:"",shiftIds:[],seatId:null,lockerId:null,totalFee:"",cash:"",online:"",securityMoney:"",remark:"",discount:"0",profileImage:null,profileImageUrl:"",aadhaarFrontImage:null,aadhaarFrontUrl:"",aadhaarBackImage:null,aadhaarBackUrl:""}),[s,i]=C.useState([]),[o,l]=C.useState([]),[A,u]=C.useState([]),[h,m]=C.useState([]),[w,p]=C.useState(!1),[b,N]=C.useState(!0),[j,y]=C.useState(!1),B=e?parseInt(e,10):NaN;if(isNaN(B))return a.jsx("div",{className:"p-6 text-red-500 text-center",children:"Invalid student ID."});C.useEffect(()=>{(async()=>{var X,K,le,ne,U;try{const[Y,se,ce]=await Promise.all([Re.getStudent(B),Re.getBranches(),Re.getLockers()]),Ae=Y,ge=(Ae.assignments||[]).map(fe=>fe.shiftId).filter(Boolean);n({name:Ae.name||"",registrationNumber:Ae.registrationNumber||"",fatherName:Ae.fatherName||"",aadharNumber:Ae.aadharNumber||"",email:Ae.email||"",phone:Ae.phone||"",address:Ae.address||"",branchId:Ae.branchId||null,membershipStart:Ae.membershipStart.split("T")[0],membershipEnd:Ae.membershipEnd.split("T")[0],shiftIds:ge,seatId:((K=(X=Ae.assignments)==null?void 0:X[0])==null?void 0:K.seatId)||null,lockerId:Ae.lockerId||null,totalFee:Ae.totalFee.toString(),cash:Ae.cash.toString(),online:Ae.online.toString(),securityMoney:Ae.securityMoney.toString(),discount:Ae.discount?Ae.discount.toString():"0",remark:Ae.remark||"",profileImage:null,profileImageUrl:Ae.profileImageUrl||"",aadhaarFrontImage:null,aadhaarFrontUrl:Ae.aadhaarFrontUrl||"",aadhaarBackImage:null,aadhaarBackUrl:Ae.aadhaarBackUrl||""}),u(se),m(ce.lockers)}catch(Y){console.error("Failed to fetch data:",Y);const se=((le=Y.response)==null?void 0:le.status)===404?"Student not found":((U=(ne=Y.response)==null?void 0:ne.data)==null?void 0:U.message)||Y.message||"Failed to load student, shifts, branches, or lockers";Ee.error(se)}finally{N(!1)}})()},[B]),C.useEffect(()=>{(async()=>{if(!r.branchId){i([]);return}try{const K=(await Re.getSchedules(r.branchId)).schedules.map(le=>({...le,fee:le.fee??0}));i(K)}catch(X){console.error("Failed to fetch shifts:",X),Ee.error("Failed to load shifts for the selected branch."),i([])}})()},[r.branchId]),C.useEffect(()=>{(async()=>{var le,ne;const X=r.branchId,K=r.shiftIds&&r.shiftIds.length>0?r.shiftIds[0]:null;if(X&&K){p(!0);try{const Y=(await Re.getSeats({branchId:X,shiftId:K})).seats||[],se=Y.filter(ce=>{const Ae=(ce.shifts||[]).find(ge=>ge.shiftId===K);return Ae?!Ae.isAssigned:!0});if(r.seatId&&!se.some(ce=>ce.id===r.seatId)){const ce=Y.find(Ae=>Ae.id===r.seatId);ce&&se.push(ce)}l(se)}catch(U){console.error("Failed to fetch seats:",U),Ee.error(((ne=(le=U.response)==null?void 0:le.data)==null?void 0:ne.message)||"Failed to load seats"),l([])}finally{p(!1)}}else l(X?[]:[])})()},[r.branchId,r.shiftIds]);const I=W=>{const{name:X,value:K}=W.target;n(le=>({...le,[X]:K}))},_=(W,X)=>{const K=X?X.value:null;W==="branchId"?n(le=>({...le,branchId:K,seatId:null,shiftIds:[]})):W==="seatId"?n(le=>({...le,seatId:K})):W==="lockerId"&&n(le=>({...le,lockerId:K}))},O=W=>{const X=W?W.map(le=>le.value):[],K=s.filter(le=>X.includes(le.id)).reduce((le,ne)=>le+(ne.fee??0),0);n(le=>({...le,shiftIds:X,totalFee:K?K.toString():le.totalFee}))},H=(W,X)=>{const K=W.target.files?W.target.files[0]:null;if(K){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(K.type)){Ee.error(`Only JPEG, JPG, PNG, and GIF images are allowed for ${X}`);return}if(K.size>200*1024){Ee.error(`Image size exceeds 200KB limit for ${X}`);return}n(le=>({...le,[X]:K}))}},D=async()=>{var W,X;if(!r.name||!r.phone||!r.address||r.branchId===null||!r.membershipStart||!r.membershipEnd){Ee.error("Please fill in all required fields: Name, Phone, Address, Branch, Membership Start, Membership End");return}y(!0);try{let K=r.profileImageUrl;if(r.profileImage){const Y=new FormData;Y.append("image",r.profileImage),K=(await Re.uploadImage(Y)).imageUrl||""}let le=r.aadhaarFrontUrl;if(r.aadhaarFrontImage){const Y=new FormData;Y.append("image",r.aadhaarFrontImage),le=(await Re.uploadImage(Y)).imageUrl||""}let ne=r.aadhaarBackUrl;if(r.aadhaarBackImage){const Y=new FormData;Y.append("image",r.aadhaarBackImage),ne=(await Re.uploadImage(Y)).imageUrl||""}const U={name:r.name,registrationNumber:r.registrationNumber||"",fatherName:r.fatherName||"",aadharNumber:r.aadharNumber||"",email:r.email||"",phone:r.phone,address:r.address,branchId:r.branchId,membershipStart:r.membershipStart,membershipEnd:r.membershipEnd,totalFee:parseFloat(r.totalFee)||0,amountPaid:(parseFloat(r.cash)||0)+(parseFloat(r.online)||0),discount:parseFloat(r.discount)||0,shiftIds:r.shiftIds,seatId:r.seatId,lockerId:r.lockerId,cash:parseFloat(r.cash)||0,online:parseFloat(r.online)||0,securityMoney:parseFloat(r.securityMoney)||0,remark:r.remark||"",profileImageUrl:K||"",aadhaarFrontUrl:le||"",aadhaarBackUrl:ne||""};await Re.updateStudent(B,U),Ee.success("Student updated successfully"),t(`/students/${B}`)}catch(K){console.error("Failed to update student:",K),Ee.error(((X=(W=K.response)==null?void 0:W.data)==null?void 0:X.message)||K.message||"Failed to update student")}finally{y(!1)}},L=A.map(W=>({value:W.id,label:W.name})),T=[{value:null,label:"None"},...o.map(W=>({value:W.id,label:W.seatNumber}))],G=s.map(W=>({value:W.id,label:`${W.title} (${W.time} on ${W.eventDate})`})),M=[{value:null,label:"None"},...h.filter(W=>!W.isAssigned||W.studentId===B).map(W=>({value:W.id,label:W.lockerNumber}))],V=parseFloat(r.cash)||0,J=parseFloat(r.online)||0,Z=V+J,q=(parseFloat(r.totalFee)||0)-(parseFloat(r.discount)||0)-Z;return b?a.jsx("div",{className:"p-6 text-center",children:"Loading..."}):a.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsxs(Jt,{variant:"ghost",onClick:()=>t(`/students/${B}`),className:"mr-4",children:[a.jsx(dl,{className:"h-4 w-4 mr-2"})," Back"]}),a.jsx("h1",{className:"text-2xl font-bold",children:"Edit Student"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"registrationNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),a.jsx("input",{type:"text",id:"registrationNumber",name:"registrationNumber",value:r.registrationNumber,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fatherName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),a.jsx("input",{type:"text",id:"fatherName",name:"fatherName",value:r.fatherName,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadharNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),a.jsx("input",{type:"text",id:"aadharNumber",name:"aadharNumber",value:r.aadharNumber,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"text",id:"phone",name:"phone",value:r.phone,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("input",{type:"text",id:"address",name:"address",value:r.address,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"branchId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),a.jsx(bi,{options:L,value:L.find(W=>W.value===r.branchId)||null,onChange:W=>_("branchId",W),placeholder:"Select a branch",className:"w-full",isDisabled:A.length===0,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipStart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership Start"}),a.jsx("input",{type:"date",id:"membershipStart",name:"membershipStart",value:r.membershipStart,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"membershipEnd",className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership End"}),a.jsx("input",{type:"date",id:"membershipEnd",name:"membershipEnd",value:r.membershipEnd,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"shiftIds",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Shift(s)"}),a.jsx(bi,{isMulti:!0,options:G,value:G.filter(W=>r.shiftIds.includes(W.value)),onChange:O,placeholder:s.length===0?"No shifts for this branch":"Select one or more shifts",className:"w-full",isDisabled:s.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"seatId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Seat"}),a.jsx(bi,{options:T,value:T.find(W=>W.value===r.seatId)||null,onChange:W=>_("seatId",W),isLoading:w,placeholder:r.branchId?r.shiftIds.length===0?"Select a shift first":"Select a seat":"Select a branch first",className:"w-full",isDisabled:!r.branchId||r.shiftIds.length===0||o.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lockerId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Locker"}),a.jsx(bi,{options:M,value:M.find(W=>W.value===r.lockerId)||null,onChange:W=>_("lockerId",W),placeholder:r.branchId?"Select an available locker":"Select a branch first",className:"w-full",isDisabled:!r.branchId||h.length===0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"totalFee",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee"}),a.jsx("input",{type:"number",id:"totalFee",name:"totalFee",value:r.totalFee,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"discount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount"}),a.jsx("input",{type:"number",id:"discount",name:"discount",value:r.discount,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cash",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Payment"}),a.jsx("input",{type:"number",id:"cash",name:"cash",value:r.cash,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"online",className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Payment"}),a.jsx("input",{type:"number",id:"online",name:"online",value:r.online,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"securityMoney",className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money"}),a.jsx("input",{type:"number",id:"securityMoney",name:"securityMoney",value:r.securityMoney,onChange:I,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"amountPaid",className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount Paid"}),a.jsx("input",{type:"number",id:"amountPaid",name:"amountPaid",value:Z.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"dueAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),a.jsx("input",{type:"number",id:"dueAmount",name:"dueAmount",value:q.toFixed(2),readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"remark",className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{id:"remark",name:"remark",value:r.remark,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"profileImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image (max 200KB)"}),a.jsx("input",{type:"file",id:"profileImage",name:"profileImage",accept:"image/*",onChange:W=>H(W,"profileImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.profileImageUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:r.profileImageUrl,alt:"Profile Preview",className:"h-20 w-20 object-cover rounded"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarFrontImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Front Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarFrontImage",name:"aadhaarFrontImage",accept:"image/*",onChange:W=>H(W,"aadhaarFrontImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.aadhaarFrontUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:r.aadhaarFrontUrl,alt:"Aadhaar Front Preview",className:"h-20 w-20 object-cover rounded"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"aadhaarBackImage",className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhaar Back Image (max 200KB)"}),a.jsx("input",{type:"file",id:"aadhaarBackImage",name:"aadhaarBackImage",accept:"image/*",onChange:W=>H(W,"aadhaarBackImage"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"}),r.aadhaarBackUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:r.aadhaarBackUrl,alt:"Aadhaar Back Preview",className:"h-20 w-20 object-cover rounded"})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Jt,{variant:"outline",onClick:()=>t(`/students/${B}`),disabled:j,children:"Cancel"}),a.jsx(Jt,{onClick:D,disabled:j,children:j?"Updating...":"Update Student"})]})]})]})},exe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(null),[A,u]=C.useState(""),[h,m]=C.useState(!1),[w,p]=C.useState(!1),[b,N]=C.useState([]),[j,y]=C.useState(null),[B,I]=C.useState(""),[_,O]=C.useState(null),H=Ur(),{isAuthenticated:D,isLoading:L}=ga(),T=()=>{Ee.info("Barcode scanning functionality is not yet implemented.")};C.useEffect(()=>{!L&&!D&&H("/login")},[D,L,H]);const G=async()=>{try{const K=await Re.getBranches();N(K||[])}catch(K){Ee.error(K.message||"Failed to load branches"),N([])}},M=async(K=0)=>{try{i(!0);const ne={};j&&(ne.branchId=j),_&&(ne.shiftId=_);const U=await Re.getSeats(ne);if(U.seats&&Array.isArray(U.seats))t(U.seats.sort((Y,se)=>parseInt(Y.seatNumber)-parseInt(se.seatNumber))),l(null);else throw new Error("Invalid data format from API")}catch(ne){l(ne.message||"Failed to fetch seats. Please try again."),K<2?(await new Promise(U=>setTimeout(U,1e3*(K+1))),await M(K+1)):Ee.error(ne.message||"Failed to fetch seats after multiple attempts")}finally{i(!1)}},V=async(K=null)=>{try{const le=await Re.getSchedules(K);if(le.schedules&&Array.isArray(le.schedules)){const ne=le.schedules.sort((U,Y)=>{const se=U.eventDate.localeCompare(Y.eventDate);return se!==0?se:U.time.localeCompare(Y.time)});n(ne)}else throw new Error("Invalid schedules data format from API")}catch(le){console.error("Failed to fetch schedules:",le),Ee.error(le.message||"Failed to fetch schedules"),n([])}},J=async K=>{if(K.preventDefault(),!j){Ee.error("Please select a branch before adding seats");return}m(!0);try{const le=await Re.addSeats({seatNumbers:A,branchId:j});Ee.success(le.message||"Seats added successfully"),u(""),await M()}catch(le){Ee.error(le.message||"Failed to add seats")}finally{m(!1)}},Z=async K=>{if(window.confirm("Are you sure you want to delete this seat?"))try{const le=await Re.deleteSeat(K);Ee.success(le.message||"Seat deleted successfully"),await M()}catch(le){Ee.error(le.message||"Failed to delete seat")}};C.useEffect(()=>{D&&G()},[D]),C.useEffect(()=>{D&&V(j)},[D,j]),C.useEffect(()=>{D&&(M(),_&&r.length>0&&(r.some(le=>le.id===_)||O(null)))},[D,j,_,r]);const ee=e.filter(K=>K.seatNumber.includes(B)),q=ee.length,W=_?ee.filter(K=>K.shifts.some(le=>le.shiftId===_&&le.isAssigned)).length:ee.filter(K=>K.shifts.some(le=>le.isAssigned)).length,X=_?ee.filter(K=>{const le=K.shifts.find(ne=>ne.shiftId===_);return!le||le&&!le.isAssigned}).length:ee.filter(K=>K.shifts.some(le=>!le.isAssigned)||K.shifts.length===0).length;return L?a.jsx("div",{className:"flex min-h-screen justify-center items-center",children:a.jsx(Qs,{size:24,className:"animate-spin text-gray-500 dark:text-gray-400"})}):a.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(wn,{isCollapsed:w,setIsCollapsed:p,onBarcodeClick:T}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-end justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-gray-200",children:"Seat Assignments"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-400 mt-1",children:"Manage library seat availability"}),a.jsx("div",{className:"mt-3 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-sky-500 dark:from-indigo-600 dark:via-fuchsia-600 dark:to-sky-600 shadow-sm ring-1 ring-white/30"})]}),a.jsxs("button",{onClick:()=>H(-1),className:"flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[a.jsx(dl,{size:20,className:"mr-1"})," Back"]})]}),a.jsxs("div",{className:"mb-4 flex flex-wrap gap-4",children:[a.jsxs("div",{className:"rounded-lg bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 p-2 shadow-sm ring-1 ring-indigo-100/80 dark:ring-indigo-900/40 hover:ring-indigo-300/60 transition",children:[a.jsx("label",{htmlFor:"branch-select",className:"text-xs font-semibold text-indigo-700 dark:text-indigo-300 mr-2",children:"Branch"}),a.jsxs("select",{id:"branch-select",value:j??"",onChange:K=>y(K.target.value?parseInt(K.target.value,10):null),className:"border border-indigo-200 dark:border-indigo-700 rounded-md px-3 py-2 text-sm bg-white/95 dark:bg-gray-800/95 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-sm",children:[a.jsx("option",{value:"",children:"All Branches"}),b.map(K=>a.jsx("option",{value:K.id.toString(),children:K.name},K.id))]})]}),a.jsxs("div",{className:"rounded-lg bg-cyan-50 dark:bg-cyan-900/20 border border-cyan-200 dark:border-cyan-800 p-2 shadow-sm ring-1 ring-cyan-100/80 dark:ring-cyan-900/40 hover:ring-cyan-300/60 transition",children:[a.jsx("label",{className:"text-xs font-semibold text-cyan-700 dark:text-cyan-300 mr-2",children:"Search"}),a.jsx("input",{type:"text",value:B,onChange:K=>I(K.target.value),placeholder:"Enter seat number",className:"border border-cyan-200 dark:border-cyan-700 rounded-md px-3 py-2 text-sm bg-white/95 dark:bg-gray-800/95 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-cyan-400 focus:outline-none shadow-sm"})]}),a.jsxs("div",{className:"rounded-lg bg-sky-50 dark:bg-sky-900/20 border border-sky-200 dark:border-sky-800 p-2 shadow-sm ring-1 ring-sky-100/80 dark:ring-sky-900/40 hover:ring-sky-300/60 transition",children:[a.jsx("label",{className:"text-xs font-semibold text-sky-700 dark:text-sky-300 mr-2",children:"Shift"}),a.jsxs("select",{value:_??"",onChange:K=>O(K.target.value?parseInt(K.target.value,10):null),className:"border border-sky-200 dark:border-sky-700 rounded-md px-3 py-2 text-sm bg-white/95 dark:bg-gray-800/95 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-sky-400 focus:outline-none shadow-sm",children:[a.jsx("option",{value:"",children:"All Shifts"}),r.map(K=>a.jsx("option",{value:K.id,children:K.title},K.id))]})]})]}),a.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full px-3 py-1 bg-gradient-to-r from-indigo-50 to-violet-50 dark:from-gray-800 dark:to-gray-800 border border-indigo-200/70 dark:border-gray-700/70 ring-1 ring-indigo-100/60 shadow",children:[a.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Total"}),a.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:q})]}),a.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full px-3 py-1 bg-gradient-to-r from-emerald-100 to-teal-100 dark:from-emerald-900/20 dark:to-teal-900/20 border border-emerald-300 dark:border-emerald-800/70 ring-1 ring-emerald-200/70 shadow",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),a.jsx("span",{className:"text-xs font-medium text-emerald-700 dark:text-emerald-300",children:"Available"}),a.jsx("span",{className:"text-sm font-semibold text-emerald-700 dark:text-emerald-300",children:X})]}),a.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full px-3 py-1 bg-gradient-to-r from-rose-100 to-pink-100 dark:from-rose-900/20 dark:to-pink-900/20 border border-rose-300 dark:border-rose-800/70 ring-1 ring-rose-200/70 shadow",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500"}),a.jsx("span",{className:"text-xs font-medium text-rose-700 dark:text-rose-300",children:"Assigned"}),a.jsx("span",{className:"text-sm font-semibold text-rose-700 dark:text-rose-300",children:W})]})]}),s?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(Qs,{size:24,className:"animate-spin text-gray-500 dark:text-gray-400"})}):o?a.jsx("div",{className:"text-red-500 dark:text-red-400 bg-red-50 dark:bg-red-900/30 p-4 rounded-lg mb-6",children:o}):ee.length===0?a.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No seats found."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:ee.map(K=>a.jsx("div",{className:"rounded-2xl p-[3px] bg-gradient-to-br from-indigo-600/80 via-fuchsia-600/80 to-sky-500/80 hover:from-indigo-600/90 hover:via-fuchsia-600/90 hover:to-sky-500/90 transition-colors hover:shadow-xl shadow-lg",children:a.jsxs("div",{className:`rounded-[14px] border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all min-h-[180px] overflow-hidden 
                      ${(_?K.shifts.some(ne=>ne.shiftId===_&&ne.isAssigned):K.shifts.some(ne=>ne.isAssigned))?"bg-gradient-to-b from-rose-100 to-rose-200 dark:from-gray-800 dark:to-gray-800":"bg-gradient-to-b from-emerald-100 to-emerald-200 dark:from-gray-800 dark:to-gray-800"}
                    `,children:[(()=>{const le=_?K.shifts.some(Y=>Y.shiftId===_&&Y.isAssigned):K.shifts.some(Y=>Y.isAssigned),ne=le?"from-rose-600 to-pink-600":"from-emerald-600 to-teal-600",U=le?"Assigned":"Available";return a.jsxs("div",{className:`h-9 rounded-t-[14px] bg-gradient-to-r ${ne} flex items-center justify-between px-3 text-white`,children:[a.jsxs("span",{className:"text-sm font-semibold",children:["Seat ",K.seatNumber]}),a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-white/20 border border-white/30",children:U})]})})(),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex items-center gap-2",children:(_?K.shifts.some(ne=>ne.shiftId===_&&ne.isAssigned):K.shifts.some(ne=>ne.isAssigned))?a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-rose-100 text-rose-700 border border-rose-300 ring-1 ring-rose-200/70 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",children:"Assigned"}):a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-emerald-100 text-emerald-700 border border-emerald-300 ring-1 ring-emerald-200/70 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",children:"Available"})}),a.jsx("button",{onClick:()=>Z(K.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-800/50",children:a.jsx(pa,{size:14})})]}),K.shifts.length===0?a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"No shifts available."}):a.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:K.shifts.map(le=>a.jsxs("div",{className:`flex items-center gap-2 px-2.5 py-1.5 rounded-md text-xs border ${le.isAssigned?"bg-rose-200/90 dark:bg-red-900/30 text-rose-800 dark:text-red-300 border-rose-300 dark:border-red-800 ring-1 ring-rose-200/70":"bg-emerald-200/90 dark:bg-green-900/30 text-emerald-800 dark:text-green-300 border-emerald-300 dark:border-green-800 ring-1 ring-emerald-200/70"}`,children:[a.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${le.isAssigned?"bg-rose-500":"bg-emerald-600"}`}),a.jsxs("span",{className:"flex-1 truncate",children:[le.shiftTitle,le.description&&` (${le.description})`]}),le.isAssigned&&le.studentName&&a.jsx("span",{className:"text-[11px] font-medium truncate",children:le.studentName})]},le.shiftId))})]})]})},K.id))}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{htmlFor:"seat-numbers",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Add New Seats"}),a.jsx("input",{id:"seat-numbers",type:"text",value:A,onChange:K=>u(K.target.value),placeholder:"Enter seat numbers (e.g., 1,2,3)",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 text-sm bg-gray-50 dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,disabled:h||!j})]}),a.jsx("button",{onClick:J,className:"flex items-center gap-2 bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white px-4 py-2 rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 ring-1 ring-white/20 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:h||!A.trim()||!j,children:h?a.jsxs(a.Fragment,{children:[a.jsx(Qs,{size:16,className:"animate-spin"})," Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Gee,{size:16})," Add Seats"]})})]})})]})})]})]})},txe=Hv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),BA=C.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:Nr(txe({variant:t}),e),...r}));BA.displayName="Alert";const DE=C.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:Nr("mb-1 font-medium leading-none tracking-tight",e),...t}));DE.displayName="AlertTitle";const SA=C.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Nr("text-sm [&_p]:leading-relaxed",e),...t}));SA.displayName="AlertDescription";const OE=C.createContext({});function RE(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const ME=typeof window<"u",zQ=ME?C.useLayoutEffect:C.useEffect,$v=C.createContext(null),UE=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class rxe extends C.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=n instanceof HTMLElement&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function nxe({children:e,isPresent:t,anchorX:r}){const n=C.useId(),s=C.useRef(null),i=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=C.useContext(UE);return C.useInsertionEffect(()=>{const{width:l,height:A,top:u,left:h,right:m}=i.current;if(t||!s.current||!l||!A)return;const w=r==="left"?`left: ${h}`:`right: ${m}`;s.current.dataset.motionPopId=n;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${A}px !important;
            ${w}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[t]),a.jsx(rxe,{isPresent:t,childRef:s,sizeRef:i,children:C.cloneElement(e,{ref:s})})}const sxe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l})=>{const A=RE(axe),u=C.useId();let h=!0,m=C.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:r,custom:s,onExitComplete:w=>{A.set(w,!0);for(const p of A.values())if(!p)return;n&&n()},register:w=>(A.set(w,!1),()=>A.delete(w))}),[r,A,n]);return i&&h&&(m={...m}),C.useMemo(()=>{A.forEach((w,p)=>A.set(p,!1))},[r]),C.useEffect(()=>{!r&&!A.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(nxe,{isPresent:r,anchorX:l,children:e})),a.jsx($v.Provider,{value:m,children:e})};function axe(){return new Map}function $Q(e=!0){const t=C.useContext($v);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=C.useId();C.useEffect(()=>{if(e)return s(i)},[e]);const o=C.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const Aw=e=>e.key||"";function H_(e){const t=[];return C.Children.forEach(e,r=>{C.isValidElement(r)&&t.push(r)}),t}const ixe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left"})=>{const[A,u]=$Q(o),h=C.useMemo(()=>H_(e),[e]),m=o&&!A?[]:h.map(Aw),w=C.useRef(!0),p=C.useRef(h),b=RE(()=>new Map),[N,j]=C.useState(h),[y,B]=C.useState(h);zQ(()=>{w.current=!1,p.current=h;for(let O=0;O<y.length;O++){const H=Aw(y[O]);m.includes(H)?b.delete(H):b.get(H)!==!0&&b.set(H,!1)}},[y,m.length,m.join("-")]);const I=[];if(h!==N){let O=[...h];for(let H=0;H<y.length;H++){const D=y[H],L=Aw(D);m.includes(L)||(O.splice(H,0,D),I.push(D))}return i==="wait"&&I.length&&(O=I),B(H_(O)),j(h),null}const{forceRender:_}=C.useContext(OE);return a.jsx(a.Fragment,{children:y.map(O=>{const H=Aw(O),D=o&&!A?!1:h===y||m.includes(H),L=()=>{if(b.has(H))b.set(H,!0);else return;let T=!0;b.forEach(G=>{G||(T=!1)}),T&&(_==null||_(),B(p.current),o&&(u==null||u()),n&&n())};return a.jsx(sxe,{isPresent:D,initial:!w.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,onExitComplete:D?void 0:L,anchorX:l,children:O},H)})})};function QE(e,t){e.indexOf(t)===-1&&e.push(t)}function HE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const VA=(e,t,r)=>r>t?t:r<e?e:r;let g2=()=>{};const KA={},qQ=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),XQ=e=>/^0[^.\s]+$/u.test(e);function VE(e){let t;return()=>(t===void 0&&(t=e()),t)}const il=e=>e,oxe=(e,t)=>r=>t(e(r)),I1=(...e)=>e.reduce(oxe),Gg=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class KE{constructor(){this.subscriptions=[]}add(t){return QE(this.subscriptions,t),()=>HE(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _c=e=>e*1e3,Tc=e=>e/1e3;function YQ(e,t){return t?e*(1e3/t):0}const ZQ=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,lxe=1e-7,cxe=12;function Axe(e,t,r,n,s){let i,o,l=0;do o=t+(r-t)/2,i=ZQ(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>lxe&&++l<cxe);return o}function F1(e,t,r,n){if(e===t&&r===n)return il;const s=i=>Axe(i,0,1,e,r);return i=>i===0||i===1?i:ZQ(s(i),t,n)}const JQ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eH=e=>t=>1-e(1-t),tH=F1(.33,1.53,.69,.99),WE=eH(tH),rH=JQ(WE),nH=e=>(e*=2)<1?.5*WE(e):.5*(2-Math.pow(2,-10*(e-1))),GE=e=>1-Math.sin(Math.acos(e)),sH=eH(GE),aH=JQ(GE),uxe=F1(.42,0,1,1),dxe=F1(0,0,.58,1),iH=F1(.42,0,.58,1),hxe=e=>Array.isArray(e)&&typeof e[0]!="number",oH=e=>Array.isArray(e)&&typeof e[0]=="number",V_={linear:il,easeIn:uxe,easeInOut:iH,easeOut:dxe,circIn:GE,circInOut:aH,circOut:sH,backIn:WE,backInOut:rH,backOut:tH,anticipate:nH},fxe=e=>typeof e=="string",K_=e=>{if(oH(e)){g2(e.length===4);const[t,r,n,s]=e;return F1(t,r,n,s)}else if(fxe(e))return g2(V_[e]!==void 0),V_[e];return e},uw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],W_={value:null,addProjectionMetrics:null};function mxe(e,t){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},A=0;function u(m){o.has(m)&&(h.schedule(m),e()),A++,m(l)}const h={schedule:(m,w=!1,p=!1)=>{const N=p&&s?r:n;return w&&o.add(m),N.has(m)||N.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(l=m,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&W_.value&&W_.value.frameloop[t].push(A),A=0,r.clear(),s=!1,i&&(i=!1,h.process(m))}};return h}const pxe=40;function lH(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=uw.reduce((I,_)=>(I[_]=mxe(i,t?_:void 0),I),{}),{setup:l,read:A,resolveKeyframes:u,preUpdate:h,update:m,preRender:w,render:p,postRender:b}=o,N=()=>{const I=KA.useManualTiming?s.timestamp:performance.now();r=!1,KA.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(I-s.timestamp,pxe),1)),s.timestamp=I,s.isProcessing=!0,l.process(s),A.process(s),u.process(s),h.process(s),m.process(s),w.process(s),p.process(s),b.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(N))},j=()=>{r=!0,n=!0,s.isProcessing||e(N)};return{schedule:uw.reduce((I,_)=>{const O=o[_];return I[_]=(H,D=!1,L=!1)=>(r||j(),O.schedule(H,D,L)),I},{}),cancel:I=>{for(let _=0;_<uw.length;_++)o[uw[_]].cancel(I)},state:s,steps:o}}const{schedule:fs,cancel:Td,state:Fa,steps:jC}=lH(typeof requestAnimationFrame<"u"?requestAnimationFrame:il,!0);let ey;function gxe(){ey=void 0}const $i={now:()=>(ey===void 0&&$i.set(Fa.isProcessing||KA.useManualTiming?Fa.timestamp:performance.now()),ey),set:e=>{ey=e,queueMicrotask(gxe)}},cH=e=>t=>typeof t=="string"&&t.startsWith(e),zE=cH("--"),xxe=cH("var(--"),$E=e=>xxe(e)?wxe.test(e.split("/*")[0].trim()):!1,wxe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zg={...Nm,transform:e=>VA(0,1,e)},dw={...Nm,default:1},zp=e=>Math.round(e*1e5)/1e5,qE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yxe(e){return e==null}const vxe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,XE=(e,t)=>r=>!!(typeof r=="string"&&vxe.test(r)&&r.startsWith(e)||t&&!yxe(r)&&Object.prototype.hasOwnProperty.call(r,t)),AH=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(qE);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},bxe=e=>VA(0,255,e),IC={...Nm,transform:e=>Math.round(bxe(e))},xh={test:XE("rgb","red"),parse:AH("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+IC.transform(e)+", "+IC.transform(t)+", "+IC.transform(r)+", "+zp(zg.transform(n))+")"};function Cxe(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const T3={test:XE("#"),parse:Cxe,transform:xh.transform},k1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ku=k1("deg"),Lc=k1("%"),xr=k1("px"),Nxe=k1("vh"),Bxe=k1("vw"),G_={...Lc,parse:e=>Lc.parse(e)/100,transform:e=>Lc.transform(e*100)},n0={test:XE("hsl","hue"),parse:AH("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Lc.transform(zp(t))+", "+Lc.transform(zp(r))+", "+zp(zg.transform(n))+")"},ti={test:e=>xh.test(e)||T3.test(e)||n0.test(e),parse:e=>xh.test(e)?xh.parse(e):n0.test(e)?n0.parse(e):T3.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xh.transform(e):n0.transform(e)},Sxe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Exe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(qE))==null?void 0:t.length)||0)+(((r=e.match(Sxe))==null?void 0:r.length)||0)>0}const uH="number",dH="color",jxe="var",Ixe="var(",z_="${}",Fxe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $g(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(Fxe,A=>(ti.test(A)?(n.color.push(i),s.push(dH),r.push(ti.parse(A))):A.startsWith(Ixe)?(n.var.push(i),s.push(jxe),r.push(A)):(n.number.push(i),s.push(uH),r.push(parseFloat(A))),++i,z_)).split(z_);return{values:r,split:l,indexes:n,types:s}}function hH(e){return $g(e).values}function fH(e){const{split:t,types:r}=$g(e),n=t.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===uH?i+=zp(s[o]):l===dH?i+=ti.transform(s[o]):i+=s[o]}return i}}const kxe=e=>typeof e=="number"?0:e;function _xe(e){const t=hH(e);return fH(e)(t.map(kxe))}const Ld={test:Exe,parse:hH,createTransformer:fH,getAnimatableNone:_xe};function FC(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Txe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,A=2*r-l;s=FC(A,l,e+1/3),i=FC(A,l,e),o=FC(A,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function x2(e,t){return r=>r>0?t:e}const us=(e,t,r)=>e+(t-e)*r,kC=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},Lxe=[T3,xh,n0],Pxe=e=>Lxe.find(t=>t.test(e));function $_(e){const t=Pxe(e);if(!t)return!1;let r=t.parse(e);return t===n0&&(r=Txe(r)),r}const q_=(e,t)=>{const r=$_(e),n=$_(t);if(!r||!n)return x2(e,t);const s={...r};return i=>(s.red=kC(r.red,n.red,i),s.green=kC(r.green,n.green,i),s.blue=kC(r.blue,n.blue,i),s.alpha=us(r.alpha,n.alpha,i),xh.transform(s))},L3=new Set(["none","hidden"]);function Dxe(e,t){return L3.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Oxe(e,t){return r=>us(e,t,r)}function YE(e){return typeof e=="number"?Oxe:typeof e=="string"?$E(e)?x2:ti.test(e)?q_:Uxe:Array.isArray(e)?mH:typeof e=="object"?ti.test(e)?q_:Rxe:x2}function mH(e,t){const r=[...e],n=r.length,s=e.map((i,o)=>YE(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function Rxe(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=YE(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function Mxe(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][n[i]],l=e.values[o]??0;r[s]=l,n[i]++}return r}const Uxe=(e,t)=>{const r=Ld.createTransformer(t),n=$g(e),s=$g(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?L3.has(e)&&!s.values.length||L3.has(t)&&!n.values.length?Dxe(e,t):I1(mH(Mxe(n,s),s.values),r):x2(e,t)};function pH(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?us(e,t,r):YE(e)(e,t)}const Qxe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>fs.update(t,r),stop:()=>Td(t),now:()=>Fa.isProcessing?Fa.timestamp:$i.now()}},gH=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=e(i/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},w2=2e4;function ZE(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<w2;)t+=r,n=e.next(t);return t>=w2?1/0:t}function Hxe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(ZE(n),w2);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:Tc(s)}}const Vxe=5;function xH(e,t,r){const n=Math.max(t-Vxe,0);return YQ(r-e(n),t-n)}const Bs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_C=.001;function Kxe({duration:e=Bs.duration,bounce:t=Bs.bounce,velocity:r=Bs.velocity,mass:n=Bs.mass}){let s,i,o=1-t;o=VA(Bs.minDamping,Bs.maxDamping,o),e=VA(Bs.minDuration,Bs.maxDuration,Tc(e)),o<1?(s=u=>{const h=u*o,m=h*e,w=h-r,p=P3(u,o),b=Math.exp(-m);return _C-w/p*b},i=u=>{const m=u*o*e,w=m*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-m),N=P3(Math.pow(u,2),o);return(-s(u)+_C>0?-1:1)*((w-p)*b)/N}):(s=u=>{const h=Math.exp(-u*e),m=(u-r)*e+1;return-_C+h*m},i=u=>{const h=Math.exp(-u*e),m=(r-u)*(e*e);return h*m});const l=5/e,A=Gxe(s,i,l);if(e=_c(e),isNaN(A))return{stiffness:Bs.stiffness,damping:Bs.damping,duration:e};{const u=Math.pow(A,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const Wxe=12;function Gxe(e,t,r){let n=r;for(let s=1;s<Wxe;s++)n=n-e(n)/t(n);return n}function P3(e,t){return e*Math.sqrt(1-t*t)}const zxe=["duration","bounce"],$xe=["stiffness","damping","mass"];function X_(e,t){return t.some(r=>e[r]!==void 0)}function qxe(e){let t={velocity:Bs.velocity,stiffness:Bs.stiffness,damping:Bs.damping,mass:Bs.mass,isResolvedFromDuration:!1,...e};if(!X_(e,$xe)&&X_(e,zxe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*VA(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Bs.mass,stiffness:s,damping:i}}else{const r=Kxe(e);t={...t,...r,mass:Bs.mass},t.isResolvedFromDuration=!0}return t}function y2(e=Bs.visualDuration,t=Bs.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:A,damping:u,mass:h,duration:m,velocity:w,isResolvedFromDuration:p}=qxe({...r,velocity:-Tc(r.velocity||0)}),b=w||0,N=u/(2*Math.sqrt(A*h)),j=o-i,y=Tc(Math.sqrt(A/h)),B=Math.abs(j)<5;n||(n=B?Bs.restSpeed.granular:Bs.restSpeed.default),s||(s=B?Bs.restDelta.granular:Bs.restDelta.default);let I;if(N<1){const O=P3(y,N);I=H=>{const D=Math.exp(-N*y*H);return o-D*((b+N*y*j)/O*Math.sin(O*H)+j*Math.cos(O*H))}}else if(N===1)I=O=>o-Math.exp(-y*O)*(j+(b+y*j)*O);else{const O=y*Math.sqrt(N*N-1);I=H=>{const D=Math.exp(-N*y*H),L=Math.min(O*H,300);return o-D*((b+N*y*j)*Math.sinh(L)+O*j*Math.cosh(L))/O}}const _={calculatedDuration:p&&m||null,next:O=>{const H=I(O);if(p)l.done=O>=m;else{let D=O===0?b:0;N<1&&(D=O===0?_c(b):xH(I,O,H));const L=Math.abs(D)<=n,T=Math.abs(o-H)<=s;l.done=L&&T}return l.value=l.done?o:H,l},toString:()=>{const O=Math.min(ZE(_),w2),H=gH(D=>_.next(O*D).value,O,30);return O+"ms "+H},toTransition:()=>{}};return _}y2.applyToOptions=e=>{const t=Hxe(e,100,y2);return e.ease=t.ease,e.duration=_c(t.duration),e.type="keyframes",e};function D3({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:A,restDelta:u=.5,restSpeed:h}){const m=e[0],w={done:!1,value:m},p=L=>l!==void 0&&L<l||A!==void 0&&L>A,b=L=>l===void 0?A:A===void 0||Math.abs(l-L)<Math.abs(A-L)?l:A;let N=r*t;const j=m+N,y=o===void 0?j:o(j);y!==j&&(N=y-m);const B=L=>-N*Math.exp(-L/n),I=L=>y+B(L),_=L=>{const T=B(L),G=I(L);w.done=Math.abs(T)<=u,w.value=w.done?y:G};let O,H;const D=L=>{p(w.value)&&(O=L,H=y2({keyframes:[w.value,b(w.value)],velocity:xH(I,L,w.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return D(0),{calculatedDuration:null,next:L=>{let T=!1;return!H&&O===void 0&&(T=!0,_(L),D(L)),O!==void 0&&L>=O?H.next(L-O):(!T&&_(L),w)}}}function Xxe(e,t,r){const n=[],s=r||KA.mix||pH,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const A=Array.isArray(t)?t[o]||il:t;l=I1(A,l)}n.push(l)}return n}function Yxe(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(g2(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Xxe(t,n,s),A=l.length,u=h=>{if(o&&h<e[0])return t[0];let m=0;if(A>1)for(;m<e.length-2&&!(h<e[m+1]);m++);const w=Gg(e[m],e[m+1],h);return l[m](w)};return r?h=>u(VA(e[0],e[i-1],h)):u}function Zxe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Gg(0,t,n);e.push(us(r,1,s))}}function Jxe(e){const t=[0];return Zxe(t,e.length-1),t}function ewe(e,t){return e.map(r=>r*t)}function twe(e,t){return e.map(()=>t||iH).splice(0,e.length-1)}function $p({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=hxe(n)?n.map(K_):K_(n),i={done:!1,value:t[0]},o=ewe(r&&r.length===t.length?r:Jxe(t),e),l=Yxe(o,t,{ease:Array.isArray(s)?s:twe(t,s)});return{calculatedDuration:e,next:A=>(i.value=l(A),i.done=A>=e,i)}}const rwe=e=>e!==null;function JE(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(rwe),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const nwe={decay:D3,inertia:D3,tween:$p,keyframes:$p,spring:y2};function wH(e){typeof e.type=="string"&&(e.type=nwe[e.type])}class e6{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const swe=e=>e/100;class t6 extends e6{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:s}=this.options;s&&s.updatedAt!==$i.now()&&this.tick($i.now())}if(this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;wH(t);const{type:r=$p,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const A=r||$p;A!==$p&&typeof l[0]!="number"&&(this.mixKeyframes=I1(swe,pH(l[0],l[1])),l=[0,100]);const u=A({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=A({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=ZE(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:A}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:h,repeat:m,repeatType:w,repeatDelay:p,type:b,onUpdate:N,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let I=this.currentTime,_=n;if(m){const L=Math.min(this.currentTime,s)/l;let T=Math.floor(L),G=L%1;!G&&L>=1&&(G=1),G===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(w==="reverse"?(G=1-G,p&&(G-=p/l)):w==="mirror"&&(_=o)),I=VA(0,1,G)*l}const O=B?{done:!1,value:h[0]}:_.next(I);i&&(O.value=i(O.value));let{done:H}=O;!B&&A!==null&&(H=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return D&&b!==D3&&(O.value=JE(h,this.options,j,this.speed)),N&&N(O.value),D&&this.finish(),O}then(t,r){return this.finished.then(t,r)}get duration(){return Tc(this.calculatedDuration)}get time(){return Tc(this.currentTime)}set time(t){var r;t=_c(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime($i.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Tc(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Qxe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($i.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function awe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const wh=e=>e*180/Math.PI,O3=e=>{const t=wh(Math.atan2(e[1],e[0]));return R3(t)},iwe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:O3,rotateZ:O3,skewX:e=>wh(Math.atan(e[1])),skewY:e=>wh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},R3=e=>(e=e%360,e<0&&(e+=360),e),Y_=O3,Z_=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),J_=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),owe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Z_,scaleY:J_,scale:e=>(Z_(e)+J_(e))/2,rotateX:e=>R3(wh(Math.atan2(e[6],e[5]))),rotateY:e=>R3(wh(Math.atan2(-e[2],e[0]))),rotateZ:Y_,rotate:Y_,skewX:e=>wh(Math.atan(e[4])),skewY:e=>wh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function eT(e){return e.includes("scale")?1:0}function M3(e,t){if(!e||e==="none")return eT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=owe,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=iwe,s=l}if(!s)return eT(t);const i=n[t],o=s[1].split(",").map(cwe);return typeof i=="function"?i(o):o[i]}const lwe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return M3(r,t)};function cwe(e){return parseFloat(e.trim())}const Bm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sm=new Set(Bm),tT=e=>e===Nm||e===xr,Awe=new Set(["x","y","z"]),uwe=Bm.filter(e=>!Awe.has(e));function dwe(e){const t=[];return uwe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Uh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>M3(t,"x"),y:(e,{transform:t})=>M3(t,"y")};Uh.translateX=Uh.x;Uh.translateY=Uh.y;const Qh=new Set;let U3=!1,Q3=!1,H3=!1;function yH(){if(Q3){const e=Array.from(Qh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=dwe(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Q3=!1,U3=!1,Qh.forEach(e=>e.complete(H3)),Qh.clear()}function vH(){Qh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Q3=!0)})}function hwe(){H3=!0,vH(),yH(),H3=!1}class r6{constructor(t,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Qh.add(this),U3||(U3=!0,fs.read(vH),fs.resolveKeyframes(yH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}awe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Qh.delete(this)}cancel(){this.state==="scheduled"&&(Qh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fwe=e=>e.startsWith("--");function mwe(e,t,r){fwe(t)?e.style.setProperty(t,r):e.style[t]=r}const pwe=VE(()=>window.ScrollTimeline!==void 0),gwe={};function xwe(e,t){const r=VE(e);return()=>gwe[t]??r()}const bH=xwe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),bp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,rT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bp([0,.65,.55,1]),circOut:bp([.55,0,1,.45]),backIn:bp([.31,.01,.66,-.59]),backOut:bp([.33,1.53,.69,.99])};function CH(e,t){if(e)return typeof e=="function"?bH()?gH(e,t):"ease-out":oH(e)?bp(e):Array.isArray(e)?e.map(r=>CH(r,t)||rT.easeOut):rT[e]}function wwe(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:A}={},u=void 0){const h={[t]:r};A&&(h.offset=A);const m=CH(l,s);Array.isArray(m)&&(h.easing=m);const w={delay:n,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(w.pseudoElement=u),e.animate(h,w)}function NH(e){return typeof e=="function"&&"applyToOptions"in e}function ywe({type:e,...t}){return NH(e)&&bH()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vwe extends e6{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:A}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,g2(typeof t.type!="string");const u=ywe(t);this.animation=wwe(r,n,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=JE(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):mwe(r,n,h),this.animation.cancel()}A==null||A(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Tc(Number(t))}get time(){return Tc(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_c(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&pwe()?(this.animation.timeline=t,il):r(this)}}const BH={anticipate:nH,backInOut:rH,circInOut:aH};function bwe(e){return e in BH}function Cwe(e){typeof e.ease=="string"&&bwe(e.ease)&&(e.ease=BH[e.ease])}const nT=10;class Nwe extends vwe{constructor(t){Cwe(t),wH(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new t6({...o,autoplay:!1}),A=_c(this.finishedTime??this.time);r.setWithVelocity(l.sample(A-nT).value,l.sample(A).value,nT),l.stop()}}const sT=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ld.test(e)||e==="0")&&!e.startsWith("url("));function Bwe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Swe(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=sT(s,t),l=sT(i,t);return!o||!l?!1:Bwe(e)||(r==="spring"||NH(r))&&n}const Ewe=new Set(["opacity","clipPath","filter","transform"]),jwe=VE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Iwe(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:A}=t.owner.getProps();return jwe()&&r&&Ewe.has(r)&&(r!=="transform"||!A)&&!l&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const Fwe=40;class kwe extends e6{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:A,motionValue:u,element:h,...m}){var b;super(),this.stop=()=>{var N,j;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=$i.now();const w={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:A,motionValue:u,element:h,...m},p=(h==null?void 0:h.KeyframeResolver)||r6;this.keyframeResolver=new p(l,(N,j,y)=>this.onKeyframesResolved(N,j,w,!y),A,u,h),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:A,isHandoff:u,onUpdate:h}=n;this.resolvedAt=$i.now(),Swe(t,i,o,l)||((KA.instantAnimations||!A)&&(h==null||h(JE(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Fwe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!u&&Iwe(w)?new Nwe({...w,element:w.motionValue.owner.current}):new t6(w);p.finished.then(()=>this.notifyFinished()).catch(il),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),hwe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const _we=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Twe(e){const t=_we.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function SH(e,t,r=1){const[n,s]=Twe(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return qQ(o)?parseFloat(o):o}return $E(s)?SH(s,t,r+1):s}function n6(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const EH=new Set(["width","height","top","left","right","bottom",...Bm]),Lwe={test:e=>e==="auto",parse:e=>e},jH=e=>t=>t.test(e),IH=[Nm,xr,Lc,ku,Bxe,Nxe,Lwe],aT=e=>IH.find(jH(e));function Pwe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||XQ(e):!0}const Dwe=new Set(["brightness","contrast","saturate","opacity"]);function Owe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(qE)||[];if(!n)return e;const s=r.replace(n,"");let i=Dwe.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const Rwe=/\b([a-z-]*)\(.*?\)/gu,V3={...Ld,getAnimatableNone:e=>{const t=e.match(Rwe);return t?t.map(Owe).join(" "):e}},iT={...Nm,transform:Math.round},Mwe={rotate:ku,rotateX:ku,rotateY:ku,rotateZ:ku,scale:dw,scaleX:dw,scaleY:dw,scaleZ:dw,skew:ku,skewX:ku,skewY:ku,distance:xr,translateX:xr,translateY:xr,translateZ:xr,x:xr,y:xr,z:xr,perspective:xr,transformPerspective:xr,opacity:zg,originX:G_,originY:G_,originZ:xr},s6={borderWidth:xr,borderTopWidth:xr,borderRightWidth:xr,borderBottomWidth:xr,borderLeftWidth:xr,borderRadius:xr,radius:xr,borderTopLeftRadius:xr,borderTopRightRadius:xr,borderBottomRightRadius:xr,borderBottomLeftRadius:xr,width:xr,maxWidth:xr,height:xr,maxHeight:xr,top:xr,right:xr,bottom:xr,left:xr,padding:xr,paddingTop:xr,paddingRight:xr,paddingBottom:xr,paddingLeft:xr,margin:xr,marginTop:xr,marginRight:xr,marginBottom:xr,marginLeft:xr,backgroundPositionX:xr,backgroundPositionY:xr,...Mwe,zIndex:iT,fillOpacity:zg,strokeOpacity:zg,numOctaves:iT},Uwe={...s6,color:ti,backgroundColor:ti,outlineColor:ti,fill:ti,stroke:ti,borderColor:ti,borderTopColor:ti,borderRightColor:ti,borderBottomColor:ti,borderLeftColor:ti,filter:V3,WebkitFilter:V3},FH=e=>Uwe[e];function kH(e,t){let r=FH(e);return r!==V3&&(r=Ld),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Qwe=new Set(["auto","none","0"]);function Hwe(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!Qwe.has(i)&&$g(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=kH(r,s)}class Vwe extends r6{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let A=0;A<t.length;A++){let u=t[A];if(typeof u=="string"&&(u=u.trim(),$E(u))){const h=SH(u,r.current);h!==void 0&&(t[A]=h),A===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!EH.has(n)||t.length!==2)return;const[s,i]=t,o=aT(s),l=aT(i);if(o!==l)if(tT(o)&&tT(l))for(let A=0;A<t.length;A++){const u=t[A];typeof u=="string"&&(t[A]=parseFloat(u))}else Uh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||Pwe(t[s]))&&n.push(s);n.length&&Hwe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Uh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Uh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([A,u])=>{t.getValue(A).set(u)}),this.resolveNoneKeyframes()}}function Kwe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const oT=30,Wwe=e=>!isNaN(parseFloat(e));class Gwe{constructor(t,r={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{var o,l;const i=$i.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const A of this.dependents)A.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=$i.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Wwe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new KE);const n=this.events[t].add(r);return t==="change"?()=>{n(),fs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$i.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>oT)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,oT);return YQ(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function im(e,t){return new Gwe(e,t)}const _H=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:a6,cancel:Y4e}=lH(queueMicrotask,!1),El={x:!1,y:!1};function TH(){return El.x||El.y}function zwe(e){return e==="x"||e==="y"?El[e]?null:(El[e]=!0,()=>{El[e]=!1}):El.x||El.y?null:(El.x=El.y=!0,()=>{El.x=El.y=!1})}function LH(e,t){const r=Kwe(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function lT(e){return!(e.pointerType==="touch"||TH())}function $we(e,t,r={}){const[n,s,i]=LH(e,r),o=l=>{if(!lT(l))return;const{target:A}=l,u=t(A,l);if(typeof u!="function"||!A)return;const h=m=>{lT(m)&&(u(m),A.removeEventListener("pointerleave",h))};A.addEventListener("pointerleave",h,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const PH=(e,t)=>t?e===t?!0:PH(e,t.parentElement):!1,i6=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,qwe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Xwe(e){return qwe.has(e.tagName)||e.tabIndex!==-1}const ty=new WeakSet;function cT(e){return t=>{t.key==="Enter"&&e(t)}}function TC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ywe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=cT(()=>{if(ty.has(r))return;TC(r,"down");const s=cT(()=>{TC(r,"up")}),i=()=>TC(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function AT(e){return i6(e)&&!TH()}function Zwe(e,t,r={}){const[n,s,i]=LH(e,r),o=l=>{const A=l.currentTarget;if(!AT(l))return;ty.add(A);const u=t(A,l),h=(p,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",w),ty.has(A)&&ty.delete(A),AT(p)&&typeof u=="function"&&u(p,{success:b})},m=p=>{h(p,A===window||A===document||r.useGlobalTarget||PH(A,p.target))},w=p=>{h(p,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",w,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l instanceof HTMLElement&&(l.addEventListener("focus",u=>Ywe(u,s)),!Xwe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}const Jwe=[...IH,ti,Ld],eye=e=>Jwe.find(jH(e)),DH=C.createContext({strict:!1}),uT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},om={};for(const e in uT)om[e]={isEnabled:t=>uT[e].some(r=>!!t[r])};function tye(e){for(const t in e)om[t]={...om[t],...e[t]}}const rye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function v2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rye.has(e)}let OH=e=>!v2(e);function nye(e){e&&(OH=t=>t.startsWith("on")?!v2(t):e(t))}try{nye(require("@emotion/is-prop-valid").default)}catch{}function sye(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(OH(s)||r===!0&&v2(s)||!t&&!v2(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function aye(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const qv=C.createContext({});function Xv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function qg(e){return typeof e=="string"||Array.isArray(e)}const o6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],l6=["initial",...o6];function Yv(e){return Xv(e.animate)||l6.some(t=>qg(e[t]))}function RH(e){return!!(Yv(e)||e.variants)}function iye(e,t){if(Yv(e)){const{initial:r,animate:n}=e;return{initial:r===!1||qg(r)?r:void 0,animate:qg(n)?n:void 0}}return e.inherit!==!1?t:{}}function oye(e){const{initial:t,animate:r}=iye(e,C.useContext(qv));return C.useMemo(()=>({initial:t,animate:r}),[dT(t),dT(r)])}function dT(e){return Array.isArray(e)?e.join(" "):e}const lye=Symbol.for("motionComponentSymbol");function s0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function cye(e,t,r){return C.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):s0(r)&&(r.current=n))},[t])}const c6=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Aye="framerAppearId",MH="data-"+c6(Aye),UH=C.createContext({});function uye(e,t,r,n,s){var N,j;const{visualElement:i}=C.useContext(qv),o=C.useContext(DH),l=C.useContext($v),A=C.useContext(UE).reducedMotion,u=C.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:A}));const h=u.current,m=C.useContext(UH);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&dye(u.current,r,s,m);const w=C.useRef(!1);C.useInsertionEffect(()=>{h&&w.current&&h.update(r,l)});const p=r[MH],b=C.useRef(!!p&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,p))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,p)));return zQ(()=>{h&&(w.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),a6.render(h.render),b.current&&h.animationState&&h.animationState.animateChanges())}),C.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),b.current=!1))}),h}function dye(e,t,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:A,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:QH(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&s0(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:A,layoutRoot:u})}function QH(e){if(e)return e.options.allowProjection!==!1?e.projection:QH(e.parent)}function hye({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&tye(e);function i(l,A){let u;const h={...C.useContext(UE),...l,layoutId:fye(l)},{isStatic:m}=h,w=oye(l),p=n(l,m);if(!m&&ME){mye();const b=pye(h);u=b.MeasureLayout,w.visualElement=uye(s,p,h,t,b.ProjectionNode)}return a.jsxs(qv.Provider,{value:w,children:[u&&w.visualElement?a.jsx(u,{visualElement:w.visualElement,...h}):null,r(s,l,cye(p,w.visualElement,A),p,m,w.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=C.forwardRef(i);return o[lye]=s,o}function fye({layoutId:e}){const t=C.useContext(OE).id;return t&&e!==void 0?t+"-"+e:e}function mye(e,t){C.useContext(DH).strict}function pye(e){const{drag:t,layout:r}=om;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Xg={};function gye(e){for(const t in e)Xg[t]=e[t],zE(t)&&(Xg[t].isCSSVariable=!0)}function HH(e,{layout:t,layoutId:r}){return Sm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Xg[e]||e==="opacity")}const ai=e=>!!(e&&e.getVelocity),xye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wye=Bm.length;function yye(e,t,r){let n="",s=!0;for(let i=0;i<wye;i++){const o=Bm[i],l=e[o];if(l===void 0)continue;let A=!0;if(typeof l=="number"?A=l===(o.startsWith("scale")?1:0):A=parseFloat(l)===0,!A||r){const u=_H(l,s6[o]);if(!A){s=!1;const h=xye[o]||o;n+=`${h}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function A6(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const A in t){const u=t[A];if(Sm.has(A)){o=!0;continue}else if(zE(A)){s[A]=u;continue}else{const h=_H(u,s6[A]);A.startsWith("origin")?(l=!0,i[A]=h):n[A]=h}}if(t.transform||(o||r?n.transform=yye(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:A="50%",originY:u="50%",originZ:h=0}=i;n.transformOrigin=`${A} ${u} ${h}`}}const u6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VH(e,t,r){for(const n in t)!ai(t[n])&&!HH(n,r)&&(e[n]=t[n])}function vye({transformTemplate:e},t){return C.useMemo(()=>{const r=u6();return A6(r,t,e),Object.assign({},r.vars,r.style)},[t])}function bye(e,t){const r=e.style||{},n={};return VH(n,r,e),Object.assign(n,vye(e,t)),n}function Cye(e,t){const r={},n=bye(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Nye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function d6(e){return typeof e!="string"||e.includes("-")?!1:!!(Nye.indexOf(e)>-1||/[A-Z]/u.test(e))}const Bye={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sye={offset:"strokeDashoffset",array:"strokeDasharray"};function Eye(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?Bye:Sye;e[i.offset]=xr.transform(-n);const o=xr.transform(t),l=xr.transform(r);e[i.array]=`${o} ${l}`}function KH(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},A,u,h){if(A6(e,l,u),A){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:w}=e;m.transform&&(w.transform=m.transform,delete m.transform),(w.transform||m.transformOrigin)&&(w.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),w.transform&&(w.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),s!==void 0&&Eye(m,s,i,o,!1)}const WH=()=>({...u6(),attrs:{}}),GH=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jye(e,t,r,n){const s=C.useMemo(()=>{const i=WH();return KH(i,t,GH(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};VH(i,e.style,e),s.style={...i,...s.style}}return s}function Iye(e=!1){return(r,n,s,{latestValues:i},o)=>{const A=(d6(r)?jye:Cye)(n,i,o,r),u=sye(n,typeof r=="string",e),h=r!==C.Fragment?{...u,...A,ref:s}:{},{children:m}=n,w=C.useMemo(()=>ai(m)?m.get():m,[m]);return C.createElement(r,{...h,children:w})}}function hT(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function h6(e,t,r,n){if(typeof t=="function"){const[s,i]=hT(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=hT(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function ry(e){return ai(e)?e.get():e}function Fye({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:kye(r,n,s,e),renderState:t()}}const zH=e=>(t,r)=>{const n=C.useContext(qv),s=C.useContext($v),i=()=>Fye(e,t,n,s);return r?i():RE(i)};function kye(e,t,r,n){const s={},i=n(e,{});for(const w in i)s[w]=ry(i[w]);let{initial:o,animate:l}=e;const A=Yv(e),u=RH(e);t&&u&&!A&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Xv(m)){const w=Array.isArray(m)?m:[m];for(let p=0;p<w.length;p++){const b=h6(e,w[p]);if(b){const{transitionEnd:N,transition:j,...y}=b;for(const B in y){let I=y[B];if(Array.isArray(I)){const _=h?I.length-1:0;I=I[_]}I!==null&&(s[B]=I)}for(const B in N)s[B]=N[B]}}}return s}function f6(e,t,r){var i;const{style:n}=e,s={};for(const o in n)(ai(n[o])||t.style&&ai(t.style[o])||HH(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const _ye={useVisualState:zH({scrapeMotionValuesFromProps:f6,createRenderState:u6})};function $H(e,t,r){const n=f6(e,t,r);for(const s in e)if(ai(e[s])||ai(t[s])){const i=Bm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const Tye={useVisualState:zH({scrapeMotionValuesFromProps:$H,createRenderState:WH})};function Lye(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...d6(n)?Tye:_ye,preloadedFeatures:e,useRender:Iye(s),createVisualElement:t,Component:n};return hye(o)}}function Yg(e,t,r){const n=e.getProps();return h6(n,t,r!==void 0?r:n.custom,e)}const K3=e=>Array.isArray(e);function Pye(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,im(r))}function Dye(e){return K3(e)?e[e.length-1]||0:e}function Oye(e,t){const r=Yg(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=Dye(i[o]);Pye(e,o,l)}}function Rye(e){return!!(ai(e)&&e.add)}function W3(e,t){const r=e.getValue("willChange");if(Rye(r))return r.add(t);if(!r&&KA.WillChange){const n=new KA.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function qH(e){return e.props[MH]}const Mye=e=>e!==null;function Uye(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(Mye),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const Qye={type:"spring",stiffness:500,damping:25,restSpeed:10},Hye=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Vye={type:"keyframes",duration:.8},Kye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wye=(e,{keyframes:t})=>t.length>2?Vye:Sm.has(e)?e.startsWith("scale")?Hye(t[1]):Qye:Kye;function Gye({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:A,elapsed:u,...h}){return!!Object.keys(h).length}const m6=(e,t,r,n={},s,i)=>o=>{const l=n6(n,e)||{},A=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-_c(A);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:w=>{t.set(w),l.onUpdate&&l.onUpdate(w)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};Gye(l)||Object.assign(h,Wye(e,h)),h.duration&&(h.duration=_c(h.duration)),h.repeatDelay&&(h.repeatDelay=_c(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(m=!0)),(KA.instantAnimations||KA.skipAnimations)&&(m=!0,h.duration=0,h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&t.get()!==void 0){const w=Uye(h.keyframes,l);if(w!==void 0){fs.update(()=>{h.onUpdate(w),h.onComplete()});return}}return l.isSync?new t6(h):new kwe(h)};function zye({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function XH(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const A=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const m=e.getValue(h,e.latestValues[h]??null),w=l[h];if(w===void 0||u&&zye(u,h))continue;const p={delay:r,...n6(i||{},h)},b=m.get();if(b!==void 0&&!m.isAnimating&&!Array.isArray(w)&&w===b&&!p.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const y=qH(e);if(y){const B=window.MotionHandoffAnimation(y,h,fs);B!==null&&(p.startTime=B,N=!0)}}W3(e,h),m.start(m6(h,m,w,e.shouldReduceMotion&&EH.has(h)?{type:!1}:p,e,N));const j=m.animation;j&&A.push(j)}return o&&Promise.all(A).then(()=>{fs.update(()=>{o&&Oye(e,o)})}),A}function G3(e,t,r={}){var A;const n=Yg(e,t,r.type==="exit"?(A=e.presenceContext)==null?void 0:A.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(XH(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:w}=s;return $ye(e,t,h+u,m,w,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,h]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function $ye(e,t,r=0,n=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*n,A=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(qye).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(G3(u,t,{...i,delay:r+A(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function qye(e,t){return e.sortNodePosition(t)}function Xye(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>G3(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=G3(e,t,r);else{const s=typeof t=="function"?Yg(e,t,r.custom):t;n=Promise.all(XH(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function YH(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Yye=l6.length;function ZH(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?ZH(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Yye;r++){const n=l6[r],s=e.props[n];(qg(s)||s===!1)&&(t[n]=s)}return t}const Zye=[...o6].reverse(),Jye=o6.length;function e2e(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Xye(e,r,n)))}function t2e(e){let t=e2e(e),r=fT(),n=!0;const s=A=>(u,h)=>{var w;const m=Yg(e,h,A==="exit"?(w=e.presenceContext)==null?void 0:w.custom:void 0);if(m){const{transition:p,transitionEnd:b,...N}=m;u={...u,...N,...b}}return u};function i(A){t=A(e)}function o(A){const{props:u}=e,h=ZH(e.parent)||{},m=[],w=new Set;let p={},b=1/0;for(let j=0;j<Jye;j++){const y=Zye[j],B=r[y],I=u[y]!==void 0?u[y]:h[y],_=qg(I),O=y===A?B.isActive:null;O===!1&&(b=j);let H=I===h[y]&&I!==u[y]&&_;if(H&&n&&e.manuallyAnimateOnMount&&(H=!1),B.protectedKeys={...p},!B.isActive&&O===null||!I&&!B.prevProp||Xv(I)||typeof I=="boolean")continue;const D=r2e(B.prevProp,I);let L=D||y===A&&B.isActive&&!H&&_||j>b&&_,T=!1;const G=Array.isArray(I)?I:[I];let M=G.reduce(s(y),{});O===!1&&(M={});const{prevResolvedValues:V={}}=B,J={...V,...M},Z=W=>{L=!0,w.has(W)&&(T=!0,w.delete(W)),B.needsAnimating[W]=!0;const X=e.getValue(W);X&&(X.liveStyle=!1)};for(const W in J){const X=M[W],K=V[W];if(p.hasOwnProperty(W))continue;let le=!1;K3(X)&&K3(K)?le=!YH(X,K):le=X!==K,le?X!=null?Z(W):w.add(W):X!==void 0&&w.has(W)?Z(W):B.protectedKeys[W]=!0}B.prevProp=I,B.prevResolvedValues=M,B.isActive&&(p={...p,...M}),n&&e.blockInitialAnimation&&(L=!1),L&&(!(H&&D)||T)&&m.push(...G.map(W=>({animation:W,options:{type:y}})))}if(w.size){const j={};if(typeof u.initial!="boolean"){const y=Yg(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(j.transition=y.transition)}w.forEach(y=>{const B=e.getBaseTarget(y),I=e.getValue(y);I&&(I.liveStyle=!0),j[y]=B??null}),m.push({animation:j})}let N=!!m.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(N=!1),n=!1,N?t(m):Promise.resolve()}function l(A,u){var m;if(r[A].isActive===u)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(w=>{var p;return(p=w.animationState)==null?void 0:p.setActive(A,u)}),r[A].isActive=u;const h=o(A);for(const w in r)r[w].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=fT(),n=!0}}}function r2e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!YH(t,e):!1}function Jd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fT(){return{animate:Jd(!0),whileInView:Jd(),whileHover:Jd(),whileTap:Jd(),whileDrag:Jd(),whileFocus:Jd(),exit:Jd()}}class Vd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class n2e extends Vd{constructor(t){super(t),t.animationState||(t.animationState=t2e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Xv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let s2e=0;class a2e extends Vd{constructor(){super(...arguments),this.id=s2e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const i2e={animation:{Feature:n2e},exit:{Feature:a2e}};function Zg(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function _1(e){return{point:{x:e.pageX,y:e.pageY}}}const o2e=e=>t=>i6(t)&&e(t,_1(t));function qp(e,t,r,n){return Zg(e,t,o2e(r),n)}function JH({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function l2e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function c2e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const eV=1e-4,A2e=1-eV,u2e=1+eV,tV=.01,d2e=0-tV,h2e=0+tV;function Bi(e){return e.max-e.min}function f2e(e,t,r){return Math.abs(e-t)<=r}function mT(e,t,r,n=.5){e.origin=n,e.originPoint=us(t.min,t.max,e.origin),e.scale=Bi(r)/Bi(t),e.translate=us(r.min,r.max,e.origin)-e.originPoint,(e.scale>=A2e&&e.scale<=u2e||isNaN(e.scale))&&(e.scale=1),(e.translate>=d2e&&e.translate<=h2e||isNaN(e.translate))&&(e.translate=0)}function Xp(e,t,r,n){mT(e.x,t.x,r.x,n?n.originX:void 0),mT(e.y,t.y,r.y,n?n.originY:void 0)}function pT(e,t,r){e.min=r.min+t.min,e.max=e.min+Bi(t)}function m2e(e,t,r){pT(e.x,t.x,r.x),pT(e.y,t.y,r.y)}function gT(e,t,r){e.min=t.min-r.min,e.max=e.min+Bi(t)}function Yp(e,t,r){gT(e.x,t.x,r.x),gT(e.y,t.y,r.y)}const xT=()=>({translate:0,scale:1,origin:0,originPoint:0}),a0=()=>({x:xT(),y:xT()}),wT=()=>({min:0,max:0}),Ps=()=>({x:wT(),y:wT()});function qo(e){return[e("x"),e("y")]}function LC(e){return e===void 0||e===1}function z3({scale:e,scaleX:t,scaleY:r}){return!LC(e)||!LC(t)||!LC(r)}function sh(e){return z3(e)||rV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rV(e){return yT(e.x)||yT(e.y)}function yT(e){return e&&e!=="0%"}function b2(e,t,r){const n=e-r,s=t*n;return r+s}function vT(e,t,r,n,s){return s!==void 0&&(e=b2(e,s,n)),b2(e,r,n)+t}function $3(e,t=0,r=1,n,s){e.min=vT(e.min,t,r,n,s),e.max=vT(e.max,t,r,n,s)}function nV(e,{x:t,y:r}){$3(e.x,t.translate,t.scale,t.originPoint),$3(e.y,r.translate,r.scale,r.originPoint)}const bT=.999999999999,CT=1.0000000000001;function p2e(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:A}=i.options;A&&A.props.style&&A.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&o0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,nV(e,o)),n&&sh(i.latestValues)&&o0(e,i.latestValues))}t.x<CT&&t.x>bT&&(t.x=1),t.y<CT&&t.y>bT&&(t.y=1)}function i0(e,t){e.min=e.min+t,e.max=e.max+t}function NT(e,t,r,n,s=.5){const i=us(e.min,e.max,s);$3(e,t,r,i,n)}function o0(e,t){NT(e.x,t.x,t.scaleX,t.scale,t.originX),NT(e.y,t.y,t.scaleY,t.scale,t.originY)}function sV(e,t){return JH(c2e(e.getBoundingClientRect(),t))}function g2e(e,t,r){const n=sV(e,r),{scroll:s}=t;return s&&(i0(n.x,s.offset.x),i0(n.y,s.offset.y)),n}const aV=({current:e})=>e?e.ownerDocument.defaultView:null,BT=(e,t)=>Math.abs(e-t);function x2e(e,t){const r=BT(e.x,t.x),n=BT(e.y,t.y);return Math.sqrt(r**2+n**2)}class iV{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=DC(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,p=x2e(m.offset,{x:0,y:0})>=3;if(!w&&!p)return;const{point:b}=m,{timestamp:N}=Fa;this.history.push({...b,timestamp:N});const{onStart:j,onMove:y}=this.handlers;w||(j&&j(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,w)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=PC(w,this.transformPagePoint),fs.update(this.updatePoint,!0)},this.handlePointerUp=(m,w)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=DC(m.type==="pointercancel"?this.lastMoveEventInfo:PC(w,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,j),b&&b(m,j)},!i6(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=_1(t),l=PC(o,this.transformPagePoint),{point:A}=l,{timestamp:u}=Fa;this.history=[{...A,timestamp:u}];const{onSessionStart:h}=r;h&&h(t,DC(l,this.history)),this.removeListeners=I1(qp(this.contextWindow,"pointermove",this.handlePointerMove),qp(this.contextWindow,"pointerup",this.handlePointerUp),qp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Td(this.updatePoint)}}function PC(e,t){return t?{point:t(e.point)}:e}function ST(e,t){return{x:e.x-t.x,y:e.y-t.y}}function DC({point:e},t){return{point:e,delta:ST(e,oV(t)),offset:ST(e,w2e(t)),velocity:y2e(t,.1)}}function w2e(e){return e[0]}function oV(e){return e[e.length-1]}function y2e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=oV(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>_c(t)));)r--;if(!n)return{x:0,y:0};const i=Tc(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function v2e(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?us(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?us(r,e,n.max):Math.min(e,r)),e}function ET(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function b2e(e,{top:t,left:r,bottom:n,right:s}){return{x:ET(e.x,r,s),y:ET(e.y,t,n)}}function jT(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function C2e(e,t){return{x:jT(e.x,t.x),y:jT(e.y,t.y)}}function N2e(e,t){let r=.5;const n=Bi(e),s=Bi(t);return s>n?r=Gg(t.min,t.max-n,e.min):n>s&&(r=Gg(e.min,e.max-s,t.min)),VA(0,1,r)}function B2e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const q3=.35;function S2e(e=q3){return e===!1?e=0:e===!0&&(e=q3),{x:IT(e,"left","right"),y:IT(e,"top","bottom")}}function IT(e,t,r){return{min:FT(e,t),max:FT(e,r)}}function FT(e,t){return typeof e=="number"?e:e[t]||0}const E2e=new WeakMap;class j2e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ps(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(_1(h).point)},i=(h,m)=>{const{drag:w,dragPropagation:p,onDragStart:b}=this.getProps();if(w&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zwe(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qo(j=>{let y=this.getAxisMotionValue(j).get()||0;if(Lc.test(y)){const{projection:B}=this.visualElement;if(B&&B.layout){const I=B.layout.layoutBox[j];I&&(y=Bi(I)*(parseFloat(y)/100))}}this.originPoint[j]=y}),b&&fs.postRender(()=>b(h,m)),W3(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},o=(h,m)=>{const{dragPropagation:w,dragDirectionLock:p,onDirectionLock:b,onDrag:N}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:j}=m;if(p&&this.currentDirection===null){this.currentDirection=I2e(j),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,j),this.updateAxis("y",m.point,j),this.visualElement.render(),N&&N(h,m)},l=(h,m)=>this.stop(h,m),A=()=>qo(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new iV(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:A},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:aV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&fs.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!hw(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=v2e(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&s0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=b2e(n.layoutBox,t):this.constraints=!1,this.elastic=S2e(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&qo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=B2e(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!s0(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=g2e(n,s.root,this.visualElement.getTransformPagePoint());let o=C2e(s.layout.layoutBox,i);if(r){const l=r(l2e(o));this.hasMutatedConstraints=!!l,l&&(o=JH(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),A=this.constraints||{},u=qo(h=>{if(!hw(h,r,this.currentDirection))return;let m=A&&A[h]||{};o&&(m={min:0,max:0});const w=s?200:1e6,p=s?40:1e7,b={type:"inertia",velocity:n?t[h]:0,bounceStiffness:w,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return W3(this.visualElement,t),n.start(m6(t,n,0,r,this.visualElement,!1))}stopAnimation(){qo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){qo(r=>{const{drag:n}=this.getProps();if(!hw(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-us(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!s0(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};qo(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const A=l.get();s[o]=N2e({min:A,max:A},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),qo(o=>{if(!hw(o,t,null))return;const l=this.getAxisMotionValue(o),{min:A,max:u}=this.constraints[o];l.set(us(A,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;E2e.set(this.visualElement,this);const t=this.visualElement.current,r=qp(t,"pointerdown",A=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(A)}),n=()=>{const{dragConstraints:A}=this.getProps();s0(A)&&A.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),fs.read(n);const o=Zg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:A,hasLayoutChanged:u})=>{this.isDragging&&u&&(qo(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=A[h].translate,m.set(m.get()+A[h].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=q3,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function hw(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function I2e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class F2e extends Vd{constructor(t){super(t),this.removeGroupControls=il,this.removeListeners=il,this.controls=new j2e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||il}unmount(){this.removeGroupControls(),this.removeListeners()}}const kT=e=>(t,r)=>{e&&fs.postRender(()=>e(t,r))};class k2e extends Vd{constructor(){super(...arguments),this.removePointerDownListener=il}onPointerDown(t){this.session=new iV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:kT(t),onStart:kT(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&fs.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=qp(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ny={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _T(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const np={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xr.test(e))e=parseFloat(e);else return e;const r=_T(e,t.target.x),n=_T(e,t.target.y);return`${r}% ${n}%`}},_2e={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Ld.parse(e);if(s.length>5)return n;const i=Ld.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,A=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=A;const u=us(l,A,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class T2e extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;gye(L2e),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ny.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||fs.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),a6.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function lV(e){const[t,r]=$Q(),n=C.useContext(OE);return a.jsx(T2e,{...e,layoutGroup:n,switchLayoutGroup:C.useContext(UH),isPresent:t,safeToRemove:r})}const L2e={borderRadius:{...np,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:np,borderTopRightRadius:np,borderBottomLeftRadius:np,borderBottomRightRadius:np,boxShadow:_2e};function P2e(e,t,r){const n=ai(e)?e:im(e);return n.start(m6("",n,t,r)),n.animation}function D2e(e){return e instanceof SVGElement&&e.tagName!=="svg"}const O2e=(e,t)=>e.depth-t.depth;class R2e{constructor(){this.children=[],this.isDirty=!1}add(t){QE(this.children,t),this.isDirty=!0}remove(t){HE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(O2e),this.isDirty=!1,this.children.forEach(t)}}function M2e(e,t){const r=$i.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Td(n),e(i-t))};return fs.setup(n,!0),()=>Td(n)}const cV=["TopLeft","TopRight","BottomLeft","BottomRight"],U2e=cV.length,TT=e=>typeof e=="string"?parseFloat(e):e,LT=e=>typeof e=="number"||xr.test(e);function Q2e(e,t,r,n,s,i){s?(e.opacity=us(0,r.opacity??1,H2e(n)),e.opacityExit=us(t.opacity??1,0,V2e(n))):i&&(e.opacity=us(t.opacity??1,r.opacity??1,n));for(let o=0;o<U2e;o++){const l=`border${cV[o]}Radius`;let A=PT(t,l),u=PT(r,l);if(A===void 0&&u===void 0)continue;A||(A=0),u||(u=0),A===0||u===0||LT(A)===LT(u)?(e[l]=Math.max(us(TT(A),TT(u),n),0),(Lc.test(u)||Lc.test(A))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=us(t.rotate||0,r.rotate||0,n))}function PT(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const H2e=AV(0,.5,sH),V2e=AV(.5,.95,il);function AV(e,t,r){return n=>n<e?0:n>t?1:r(Gg(e,t,n))}function DT(e,t){e.min=t.min,e.max=t.max}function zo(e,t){DT(e.x,t.x),DT(e.y,t.y)}function OT(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function RT(e,t,r,n,s){return e-=t,e=b2(e,1/r,n),s!==void 0&&(e=b2(e,1/s,n)),e}function K2e(e,t=0,r=1,n=.5,s,i=e,o=e){if(Lc.test(t)&&(t=parseFloat(t),t=us(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=us(i.min,i.max,n);e===i&&(l-=t),e.min=RT(e.min,t,r,l,s),e.max=RT(e.max,t,r,l,s)}function MT(e,t,[r,n,s],i,o){K2e(e,t[r],t[n],t[s],t.scale,i,o)}const W2e=["x","scaleX","originX"],G2e=["y","scaleY","originY"];function UT(e,t,r,n){MT(e.x,t,W2e,r?r.x:void 0,n?n.x:void 0),MT(e.y,t,G2e,r?r.y:void 0,n?n.y:void 0)}function QT(e){return e.translate===0&&e.scale===1}function uV(e){return QT(e.x)&&QT(e.y)}function HT(e,t){return e.min===t.min&&e.max===t.max}function z2e(e,t){return HT(e.x,t.x)&&HT(e.y,t.y)}function VT(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function dV(e,t){return VT(e.x,t.x)&&VT(e.y,t.y)}function KT(e){return Bi(e.x)/Bi(e.y)}function WT(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $2e{constructor(){this.members=[]}add(t){QE(this.members,t),t.scheduleRender()}remove(t){if(HE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function q2e(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:h,rotateX:m,rotateY:w,skewX:p,skewY:b}=r;u&&(n=`perspective(${u}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),w&&(n+=`rotateY(${w}deg) `),p&&(n+=`skewX(${p}deg) `),b&&(n+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,A=e.y.scale*t.y;return(l!==1||A!==1)&&(n+=`scale(${l}, ${A})`),n||"none"}const OC=["","X","Y","Z"],X2e={visibility:"hidden"},Y2e=1e3;let Z2e=0;function RC(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function hV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=qH(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",fs,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&hV(n)}function fV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Z2e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tve),this.nodes.forEach(ive),this.nodes.forEach(ove),this.nodes.forEach(rve)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let A=0;A<this.path.length;A++)this.path[A].shouldResetTransform=!0;this.root===this&&(this.nodes=new R2e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new KE),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const A=this.eventHandlers.get(o);A&&A.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=D2e(o),this.instance=o;const{layoutId:l,layout:A,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(A||l)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=M2e(m,250),ny.hasAnimatedSinceResize&&(ny.hasAnimatedSinceResize=!1,this.nodes.forEach(zT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||A)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:w,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||dve,{onLayoutAnimationStart:N,onLayoutAnimationComplete:j}=u.getProps(),y=!this.targetLayout||!dV(this.targetLayout,p),B=!m&&w;if(this.options.layoutRoot||this.resumeFrom||B||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,B);const I={...n6(b,"layout"),onPlay:N,onComplete:j};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else m||zT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Td(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lve),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:A}=this.options;if(l===void 0&&!A)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GT);return}this.isUpdating||this.nodes.forEach(sve),this.isUpdating=!1,this.nodes.forEach(ave),this.nodes.forEach(J2e),this.nodes.forEach(eve),this.clearAllSnapshots();const l=$i.now();Fa.delta=VA(0,1e3/60,l-Fa.timestamp),Fa.timestamp=l,Fa.isProcessing=!0,jC.update.process(Fa),jC.preRender.process(Fa),jC.render.process(Fa),Fa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a6.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nve),this.sharedNodes.forEach(cve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bi(this.snapshot.measuredBox.x)&&!Bi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let A=0;A<this.path.length;A++)this.path[A].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ps(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const A=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:A,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:A}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!uV(this.projectionDelta),A=this.getTransformTemplate(),u=A?A(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||sh(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let A=this.removeElementScroll(l);return o&&(A=this.removeTransform(A)),hve(A),{animationId:this.root.animationId,measuredBox:l,layoutBox:A,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ps();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(fve))){const{scroll:h}=this.root;h&&(i0(l.x,h.offset.x),i0(l.y,h.offset.y))}return l}removeElementScroll(o){var A;const l=Ps();if(zo(l,o),(A=this.scroll)!=null&&A.wasRoot)return l;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:m,options:w}=h;h!==this.root&&m&&w.layoutScroll&&(m.wasRoot&&zo(l,o),i0(l.x,m.offset.x),i0(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const A=Ps();zo(A,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&o0(A,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),sh(h.latestValues)&&o0(A,h.latestValues)}return sh(this.latestValues)&&o0(A,this.latestValues),A}removeTransform(o){const l=Ps();zo(l,o);for(let A=0;A<this.path.length;A++){const u=this.path[A];if(!u.instance||!sh(u.latestValues))continue;z3(u.latestValues)&&u.updateSnapshot();const h=Ps(),m=u.measurePageBox();zo(h,m),UT(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return sh(this.latestValues)&&UT(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var w;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const A=!!this.resumingFrom||this!==l;if(!(o||A&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Fa.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ps(),this.relativeTargetOrigin=Ps(),Yp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),zo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ps(),this.targetWithTransforms=Ps()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),m2e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zo(this.target,this.layout.layoutBox),nV(this.target,this.targetDelta)):zo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ps(),this.relativeTargetOrigin=Ps(),Yp(this.relativeTargetOrigin,this.target,p.target),zo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||z3(this.parent.latestValues)||rV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let A=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(A=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(A=!1),this.resolvedRelativeTargetAt===Fa.timestamp&&(A=!1),A)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;zo(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,w=this.treeScale.y;p2e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ps());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OT(this.prevProjectionDelta.x,this.projectionDelta.x),OT(this.prevProjectionDelta.y,this.projectionDelta.y)),Xp(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==w||!WT(this.projectionDelta.x,this.prevProjectionDelta.x)||!WT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const A=this.getStack();A&&A.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=a0(),this.projectionDelta=a0(),this.projectionDeltaWithTransform=a0()}setAnimationOrigin(o,l=!1){const A=this.snapshot,u=A?A.latestValues:{},h={...this.latestValues},m=a0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const w=Ps(),p=A?A.source:void 0,b=this.layout?this.layout.source:void 0,N=p!==b,j=this.getStack(),y=!j||j.members.length<=1,B=!!(N&&!y&&this.options.crossfade===!0&&!this.path.some(uve));this.animationProgress=0;let I;this.mixTargetDelta=_=>{const O=_/1e3;$T(m.x,o.x,O),$T(m.y,o.y,O),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yp(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ave(this.relativeTarget,this.relativeTargetOrigin,w,O),I&&z2e(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Ps()),zo(I,this.relativeTarget)),N&&(this.animationValues=h,Q2e(h,u,this.latestValues,O,B,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,A,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(u=(A=this.resumingFrom)==null?void 0:A.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(Td(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fs.update(()=>{ny.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=im(0)),this.currentAnimation=P2e(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y2e),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:A,layout:u,latestValues:h}=o;if(!(!l||!A||!u)){if(this!==o&&this.layout&&u&&mV(this.options.animationType,this.layout.layoutBox,u.layoutBox)){A=this.target||Ps();const m=Bi(this.layout.layoutBox.x);A.x.min=o.target.x.min,A.x.max=A.x.min+m;const w=Bi(this.layout.layoutBox.y);A.y.min=o.target.y.min,A.y.max=A.y.min+w}zo(l,A),o0(l,h),Xp(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $2e),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:A}={}){const u=this.getStack();u&&u.promote(this,A),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:A}=o;if((A.z||A.rotate||A.rotateX||A.rotateY||A.rotateZ||A.skewX||A.skewY)&&(l=!0),!l)return;const u={};A.z&&RC("z",o,u,this.animationValues);for(let h=0;h<OC.length;h++)RC(`rotate${OC[h]}`,o,u,this.animationValues),RC(`skew${OC[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return X2e;const l={visibility:""},A=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ry(o==null?void 0:o.pointerEvents)||"",l.transform=A?A(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=ry(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!sh(this.latestValues)&&(p.transform=A?A({},""):"none",this.hasProjected=!1),p}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=q2e(this.projectionDeltaWithTransform,this.treeScale,h),A&&(l.transform=A(h,l.transform));const{x:m,y:w}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,u.animationValues?l.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in Xg){if(h[p]===void 0)continue;const{correct:b,applyTo:N,isCSSVariable:j}=Xg[p],y=l.transform==="none"?h[p]:b(h[p],u);if(N){const B=N.length;for(let I=0;I<B;I++)l[N[I]]=y}else j?this.options.visualElement.renderState.vars[p]=y:l[p]=y}return this.options.layoutId&&(l.pointerEvents=u===this?ry(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(GT),this.root.sharedNodes.clear()}}}function J2e(e){e.updateLayout()}function eve(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?qo(m=>{const w=o?t.measuredBox[m]:t.layoutBox[m],p=Bi(w);w.min=n[m].min,w.max=w.min+p}):mV(i,t.layoutBox,n)&&qo(m=>{const w=o?t.measuredBox[m]:t.layoutBox[m],p=Bi(n[m]);w.max=w.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const l=a0();Xp(l,n,t.layoutBox);const A=a0();o?Xp(A,e.applyTransform(s,!0),t.measuredBox):Xp(A,n,t.layoutBox);const u=!uV(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:w,layout:p}=m;if(w&&p){const b=Ps();Yp(b,t.layoutBox,w.layoutBox);const N=Ps();Yp(N,n,p.layoutBox),dV(b,N)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:A,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function tve(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rve(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nve(e){e.clearSnapshot()}function GT(e){e.clearMeasurements()}function sve(e){e.isLayoutDirty=!1}function ave(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ive(e){e.resolveTargetDelta()}function ove(e){e.calcProjection()}function lve(e){e.resetSkewAndRotation()}function cve(e){e.removeLeadSnapshot()}function $T(e,t,r){e.translate=us(t.translate,0,r),e.scale=us(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function qT(e,t,r,n){e.min=us(t.min,r.min,n),e.max=us(t.max,r.max,n)}function Ave(e,t,r,n){qT(e.x,t.x,r.x,n),qT(e.y,t.y,r.y,n)}function uve(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dve={duration:.45,ease:[.4,0,.1,1]},XT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),YT=XT("applewebkit/")&&!XT("chrome/")?Math.round:il;function ZT(e){e.min=YT(e.min),e.max=YT(e.max)}function hve(e){ZT(e.x),ZT(e.y)}function mV(e,t,r){return e==="position"||e==="preserve-aspect"&&!f2e(KT(t),KT(r),.2)}function fve(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const mve=fV({attachResizeListener:(e,t)=>Zg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),MC={current:void 0},pV=fV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!MC.current){const e=new mve({});e.mount(window),e.setOptions({layoutScroll:!0}),MC.current=e}return MC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pve={pan:{Feature:k2e},drag:{Feature:F2e,ProjectionNode:pV,MeasureLayout:lV}};function JT(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&fs.postRender(()=>i(t,_1(t)))}class gve extends Vd{mount(){const{current:t}=this.node;t&&(this.unmount=$we(t,(r,n)=>(JT(this.node,n,"Start"),s=>JT(this.node,s,"End"))))}unmount(){}}class xve extends Vd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=I1(Zg(this.node.current,"focus",()=>this.onFocus()),Zg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function eL(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&fs.postRender(()=>i(t,_1(t)))}class wve extends Vd{mount(){const{current:t}=this.node;t&&(this.unmount=Zwe(t,(r,n)=>(eL(this.node,n,"Start"),(s,{success:i})=>eL(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const X3=new WeakMap,UC=new WeakMap,yve=e=>{const t=X3.get(e.target);t&&t(e)},vve=e=>{e.forEach(yve)};function bve({root:e,...t}){const r=e||document;UC.has(r)||UC.set(r,{});const n=UC.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(vve,{root:e,...t})),n[s]}function Cve(e,t,r){const n=bve(t);return X3.set(e,r),n.observe(e),()=>{X3.delete(e),n.unobserve(e)}}const Nve={some:0,all:1};class Bve extends Vd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Nve[s]},l=A=>{const{isIntersecting:u}=A;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),w=u?h:m;w&&w(A)};return Cve(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Sve(t,r))&&this.startObserver()}unmount(){}}function Sve({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Eve={inView:{Feature:Bve},tap:{Feature:wve},focus:{Feature:xve},hover:{Feature:gve}},jve={layout:{ProjectionNode:pV,MeasureLayout:lV}},Y3={current:null},gV={current:!1};function Ive(){if(gV.current=!0,!!ME)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Y3.current=e.matches;e.addListener(t),t()}else Y3.current=!1}const Fve=new WeakMap;function kve(e,t,r){for(const n in t){const s=t[n],i=r[n];if(ai(s))e.addValue(n,s);else if(ai(i))e.addValue(n,im(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,im(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const tL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _ve{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=r6,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=$i.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,fs.render(this.render,!1,!0))};const{latestValues:A,renderState:u}=o;this.latestValues=A,this.baseTarget={...A},this.initialValues=r.initial?{...A}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Yv(r),this.isVariantNode=RH(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in m){const p=m[w];A[w]!==void 0&&ai(p)&&p.set(A[w],!1)}}mount(t){this.current=t,Fve.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),gV.current||Ive(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Y3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Td(this.notifyUpdate),Td(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Sm.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&fs.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in om){const r=om[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ps()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<tL.length;n++){const s=tL[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=kve(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=im(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(qQ(n)||XQ(n))?n=parseFloat(n):!eye(n)&&Ld.test(r)&&(n=kH(t,r)),this.setBaseTarget(t,ai(n)?n.get():n)),ai(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=h6(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ai(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new KE),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class xV extends _ve{constructor(){super(...arguments),this.KeyframeResolver=Vwe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ai(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function wV(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function Tve(e){return window.getComputedStyle(e)}class Lve extends xV{constructor(){super(...arguments),this.type="html",this.renderInstance=wV}readValueFromInstance(t,r){if(Sm.has(r))return lwe(t,r);{const n=Tve(t),s=(zE(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return sV(t,r)}build(t,r,n){A6(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return f6(t,r,n)}}const yV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Pve(e,t,r,n){wV(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(yV.has(s)?s:c6(s),t.attrs[s])}class Dve extends xV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ps}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Sm.has(r)){const n=FH(r);return n&&n.default||0}return r=yV.has(r)?r:c6(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return $H(t,r,n)}build(t,r,n){KH(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){Pve(t,r,n,s)}mount(t){this.isSVGTag=GH(t.tagName),super.mount(t)}}const Ove=(e,t)=>d6(e)?new Dve(t):new Lve(t,{allowProjection:e!==C.Fragment}),Rve=Lye({...i2e,...Eve,...pve,...jve},Ove),sn=aye(Rve),Mve=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(null),[o,l]=C.useState(!1),[A,u]=C.useState([]),[h,m]=C.useState("all");C.useEffect(()=>{(async()=>{try{const y=await Re.getSchedulesWithStudents();t(y.schedules||[])}catch(y){i("Failed to load shifts. Please try again later."),console.error("Failed to fetch shifts:",y)}finally{n(!1)}})()},[]),C.useEffect(()=>{(async()=>{try{const y=await Re.getBranches();u(y||[])}catch(y){console.error("Failed to load branches:",y)}})()},[]);const w=j=>{const y=new Date(j),B=new Date,I=new Date(B);return I.setDate(I.getDate()+1),y.toDateString()===B.toDateString()?"Today":y.toDateString()===I.toDateString()?"Tomorrow":new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(y)},p=j=>{const y=new Date,B=new Date(j),I=Math.floor((B.getTime()-y.getTime())/(1e3*60*60));return I>24?`${Math.floor(I/24)}d`:I>0?`${I}h`:I>-24?"Ongoing":"Completed"},b=j=>{const y=new Date,I=(new Date(j).getTime()-y.getTime())/(1e3*60*60);return I>24?"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300":I>0?"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-300":I>-3?"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"},N=Ze.useMemo(()=>{if(h==="all")return e;const j=parseInt(h,10);return Number.isNaN(j)?e:e.filter(y=>y.branchId===j)},[e,h]);return a.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(wn,{isCollapsed:o,setIsCollapsed:l,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(Mn,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-sm animate-fade-in",children:[a.jsxs(Pa,{className:"border-b border-gray-200 dark:border-gray-700 bg-gradient-to-br from-indigo-500 to-violet-600 text-white rounded-t-lg",children:[a.jsxs(Da,{className:"flex items-center gap-2 text-2xl sm:text-3xl font-bold",children:[a.jsx(Zn,{size:24,className:"text-white"}),"Shifts Overview"]}),a.jsx("p",{className:"text-sm text-white/80 mt-1",children:"View and manage your scheduled shifts"})]}),a.jsxs(Es,{className:"pt-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 mb-4",children:a.jsx("div",{className:"w-full sm:w-64",children:a.jsxs(Fc,{value:h,onValueChange:m,children:[a.jsx(Ul,{className:"ring-1 ring-indigo-100/70 dark:ring-indigo-900/40",children:a.jsx(kc,{placeholder:"Filter by branch"})}),a.jsxs(Ql,{children:[a.jsx(Hs,{value:"all",children:"All branches"}),A.map(j=>a.jsx(Hs,{value:String(j.id),children:j.name},j.id))]})]})})}),r?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(Qs,{size:28,className:"animate-spin text-indigo-500"})}):s?a.jsxs(BA,{variant:"destructive",className:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700",children:[a.jsx(DE,{className:"text-red-700 dark:text-red-300",children:"Error"}),a.jsx(SA,{className:"text-red-600 dark:text-red-400",children:s})]}):N.length===0?a.jsxs(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 px-4 bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-gray-800 dark:to-gray-800/50 rounded-xl border border-dashed border-indigo-200 dark:border-gray-700",children:[a.jsx(qs,{size:48,className:"mx-auto text-indigo-400 dark:text-indigo-500 mb-3"}),a.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-1",children:"No shifts scheduled"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:"Get started by adding a new shift to your schedule."})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:N.map((j,y)=>{const B=p(j.eventDate),I=b(j.eventDate);return a.jsxs(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},className:"group relative",children:[a.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-xl opacity-0 group-hover:opacity-100 blur transition duration-200 group-hover:duration-300"}),a.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl p-5 h-full border border-gray-200 dark:border-gray-700 hover:border-transparent group-hover:shadow-lg transition-all duration-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white mb-1",children:j.title}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-3",children:[a.jsx(qs,{size:14,className:"mr-1.5"}),w(j.eventDate)]})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I}`,children:B})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[a.jsxs("div",{className:"flex -space-x-2",children:[[1,2,3].map((_,O)=>a.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white dark:border-gray-800 bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-xs text-gray-500 dark:text-gray-400",children:O<j.studentCount?a.jsx(ji,{size:14,className:"text-emerald-500"}):a.jsx(e0,{size:14})},O)),j.studentCount>3&&a.jsxs("div",{className:"h-8 w-8 rounded-full border-2 border-white dark:border-gray-800 bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center text-xs font-medium text-indigo-600 dark:text-indigo-300",children:["+",j.studentCount-3]})]}),a.jsxs(Tt,{to:`/shifts/${j.id}/students`,className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 transition-colors group/button",children:["View details",a.jsx(gr,{size:16,className:"ml-1 group-hover/button:translate-x-0.5 transition-transform"})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between bg-indigo-50 dark:bg-indigo-900/20 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white dark:bg-gray-700/50 shadow-sm mr-3",children:a.jsx(Zn,{size:16,className:"text-indigo-600 dark:text-indigo-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:"Shift Time"}),a.jsx("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:j.description||"All day"})]})]}),a.jsx("div",{className:"h-10 w-px bg-gray-200 dark:bg-gray-600 mx-3"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white dark:bg-gray-700/50 shadow-sm mr-3",children:a.jsx(ci,{size:16,className:"text-indigo-600 dark:text-indigo-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-0.5",children:"Students"}),a.jsxs("p",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:[j.studentCount," ",j.studentCount===1?"Student":"Students"]})]})]})]})})]})]},j.id)})})]})]})})})]}),a.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        @keyframes fadeInRow {
          from {
            opacity: 0;
            transform: translateX(-10px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        .animate-fade-in {
          animation: fadeIn 0.5s ease-out forwards;
        }
        .animate-fade-in-row {
          animation: fadeInRow 0.3s ease-out forwards;
        }
      `})]})},Uve=()=>{const{id:e}=XA(),t=Ur(),[r,n]=C.useState([]),[s,i]=C.useState(""),[o,l]=C.useState({search:"",status:"all"}),[A,u]=C.useState(!0),[h,m]=C.useState(null),[w,p]=C.useState(!1),[b,N]=C.useState(!1),[j,y]=C.useState([]),[B,I]=C.useState("all"),_=()=>{Ee.info("Barcode scanning functionality is not yet implemented.")};C.useEffect(()=>{(async()=>{try{const T=parseInt(e,10);if(isNaN(T))throw new Error("Invalid shift ID");const G=await Re.getSchedule(T);i(G.title||`Shift ${T}`);const M=await Re.getStudentsByShift(T,o);if(!M||!Array.isArray(M.students))throw new Error("Invalid response: Students data is missing or not an array");n(M.students)}catch(T){const G=T.message||"Failed to load shift details or students. Please try again later.";m(G),Ee.error(G),console.error("Failed to fetch shift or students:",T)}finally{u(!1)}})()},[e,o]),C.useEffect(()=>{(async()=>{try{const T=await Re.getBranches();y(T||[])}catch(T){console.error("Failed to load branches:",T)}})()},[]);const O=L=>{const{name:T,value:G}=L.target;l(M=>({...M,[T]:G}))},H=L=>{l(T=>({...T,status:L}))},D=Ze.useMemo(()=>{if(B==="all")return r;const L=parseInt(B,10);return Number.isNaN(L)?r:r.filter(T=>T.branchId===L)},[r,B]);return a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx("button",{onClick:()=>p(!w),className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-md shadow-md dark:bg-gray-800 dark:text-gray-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})}),a.jsx("div",{className:`fixed inset-y-0 left-0 transform ${w?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${b?"md:w-16":"md:w-64"}`,children:a.jsx(wn,{isCollapsed:b,setIsCollapsed:N,onBarcodeClick:_})}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>p(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs(Mn,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[a.jsxs(Pa,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Da,{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:["Students in ",s]}),a.jsxs(Jt,{variant:"outline",onClick:()=>t("/shifts"),className:"flex items-center gap-2",children:[a.jsx(dl,{size:16}),"Back to Shifts"]})]}),a.jsxs(Es,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[a.jsx(Gr,{type:"text",name:"search",value:o.search,onChange:O,placeholder:"Search by name, phone, or Reg. No.",className:"max-w-sm"}),a.jsxs(Fc,{value:o.status,onValueChange:H,children:[a.jsx(Ul,{className:"w-[180px]",children:a.jsx(kc,{placeholder:"Filter by status"})}),a.jsxs(Ql,{children:[a.jsx(Hs,{value:"all",children:"All"}),a.jsx(Hs,{value:"active",children:"Active"}),a.jsx(Hs,{value:"expired",children:"Expired"})]})]}),a.jsxs(Fc,{value:B,onValueChange:I,children:[a.jsx(Ul,{className:"w-[200px]",children:a.jsx(kc,{placeholder:"Filter by branch"})}),a.jsxs(Ql,{children:[a.jsx(Hs,{value:"all",children:"All branches"}),j.map(L=>a.jsx(Hs,{value:String(L.id),children:L.name},L.id))]})]})]}),A?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Loading students..."}):h?a.jsxs(BA,{variant:"destructive",children:[a.jsx(DE,{children:"Error"}),a.jsx(SA,{children:h})]}):D.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No students found for this shift."}):a.jsxs(ZA,{children:[a.jsx(JA,{children:a.jsxs(js,{children:[a.jsx(hr,{children:"Name"}),a.jsx(hr,{children:"Registration Number"}),a.jsx(hr,{children:"Email"}),a.jsx(hr,{children:"Phone"}),a.jsx(hr,{children:"Status"})]})}),a.jsx(eu,{children:D.map(L=>a.jsxs(js,{children:[a.jsx(sr,{className:"font-medium",children:L.name}),a.jsx(sr,{children:L.registrationNumber||"N/A"}),a.jsx(sr,{children:L.email||"N/A"}),a.jsx(sr,{children:L.phone||"N/A"}),a.jsx(sr,{children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${L.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.status})})]},L.id))})]})]})]})})})]})]})},Qve=({onSubmit:e})=>{const[t,r]=C.useState(""),n=s=>{if(s.preventDefault(),!t){Ee.error("Branch name is required");return}e({name:t}),r("")};return a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 p-2 rounded-lg",children:a.jsx(Rl,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Add New Branch"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Create a new branch location"})]})]}),a.jsxs("form",{onSubmit:n,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Branch Name"}),a.jsx("input",{type:"text",value:t,onChange:s=>r(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400",placeholder:"Enter branch name",required:!0})]}),a.jsxs("button",{type:"submit",className:"flex items-center justify-center gap-2 w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-lg hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:[a.jsx(ef,{className:"h-4 w-4"}),"Add Branch"]})]})]})},vV=({branches:e,onSubmit:t,initialData:r})=>{var Pe,rt,qe,Me,wt,We,Wt,Nt;const[n,s]=C.useState((r==null?void 0:r.branchId)||(r==null?void 0:r.branch_id)||(!r&&e&&e.length>0?e[0].id:"")),[i,o]=C.useState((r==null?void 0:r.name)||""),[l,A]=C.useState((r==null?void 0:r.address)||""),[u,h]=C.useState((r==null?void 0:r.fatherName)||(r==null?void 0:r.father_name)||""),[m,w]=C.useState((r==null?void 0:r.motherName)||(r==null?void 0:r.mother_name)||""),[p,b]=C.useState((r==null?void 0:r.aadharNumber)||(r==null?void 0:r.aadhar_number)||""),[N,j]=C.useState((r==null?void 0:r.phoneNumber)||(r==null?void 0:r.phone_number)||""),[y,B]=C.useState((r==null?void 0:r.profileImageUrl)||(r==null?void 0:r.profile_image_url)||""),[I,_]=C.useState((r==null?void 0:r.aadharImageUrl)||(r==null?void 0:r.aadhar_image_url)||""),[O,H]=C.useState((r==null?void 0:r.religion)||""),[D,L]=C.useState((r==null?void 0:r.foodPreference)||(r==null?void 0:r.food_preference)||""),[T,G]=C.useState((r==null?void 0:r.gender)||""),[M,V]=C.useState(((Pe=r==null?void 0:r.securityMoney)==null?void 0:Pe.toString())||((rt=r==null?void 0:r.security_money)==null?void 0:rt.toString())||""),[J,Z]=C.useState((r==null?void 0:r.registrationNumber)||(r==null?void 0:r.registration_number)||""),[ee,q]=C.useState((r==null?void 0:r.stayStartDate)||(r==null?void 0:r.stay_start_date)||""),[W,X]=C.useState((r==null?void 0:r.stayEndDate)||(r==null?void 0:r.stay_end_date)||""),[K,le]=C.useState(((qe=r==null?void 0:r.totalFee)==null?void 0:qe.toString())||((Me=r==null?void 0:r.total_fee)==null?void 0:Me.toString())||""),[ne,U]=C.useState(((wt=r==null?void 0:r.cashPaid)==null?void 0:wt.toString())||((We=r==null?void 0:r.cash_paid)==null?void 0:We.toString())||""),[Y,se]=C.useState(((Wt=r==null?void 0:r.onlinePaid)==null?void 0:Wt.toString())||((Nt=r==null?void 0:r.online_paid)==null?void 0:Nt.toString())||""),[ce,Ae]=C.useState((r==null?void 0:r.roomNumber)||(r==null?void 0:r.room_number)||""),[ge,fe]=C.useState((r==null?void 0:r.remark)||""),[je,ke]=C.useState(0),[Te,De]=C.useState(!1),Qe=Ur();C.useEffect(()=>{const at=parseFloat(K)||0,pt=parseFloat(ne)||0,dt=parseFloat(Y)||0,xt=at-(pt+dt);ke(xt>=0?xt:0)},[K,ne,Y]),C.useEffect(()=>{var at,pt,dt,xt,It,gt,Ot,vt;r?(s(r.branchId||r.branch_id||(e&&e.length>0&&!r.branch_id&&!r.branchId?e[0].id:"")),o(r.name||""),A(r.address||""),h(r.fatherName||r.father_name||""),w(r.motherName||r.mother_name||""),b(r.aadharNumber||r.aadhar_number||""),j(r.phoneNumber||r.phone_number||""),B(r.profileImageUrl||r.profile_image_url||""),_(r.aadharImageUrl||r.aadhar_image_url||""),H(r.religion||""),L(r.foodPreference||r.food_preference||""),G(r.gender||""),V(((at=r.securityMoney)==null?void 0:at.toString())||((pt=r.security_money)==null?void 0:pt.toString())||""),Z(r.registrationNumber||r.registration_number||""),q(r.stayStartDate||r.stay_start_date||""),X(r.stayEndDate||r.stay_end_date||""),le(((dt=r.totalFee)==null?void 0:dt.toString())||((xt=r.total_fee)==null?void 0:xt.toString())||""),U(((It=r.cashPaid)==null?void 0:It.toString())||((gt=r.cash_paid)==null?void 0:gt.toString())||""),se(((Ot=r.onlinePaid)==null?void 0:Ot.toString())||((vt=r.online_paid)==null?void 0:vt.toString())||""),Ae(r.roomNumber||r.room_number||""),fe(r.remark||"")):!r&&e&&e.length>0&&!n&&s(e[0].id)},[r,e,n]);const Ne=async(at,pt)=>{De(!0);try{const dt=new FormData;dt.append("image",at);const xt=await Re.uploadImage(dt);if(!xt.imageUrl)throw new Error("No image URL returned");pt(xt.imageUrl),Ee.success("Image uploaded successfully")}catch(dt){console.error("Image upload error:",dt),Ee.error("Failed to upload image")}finally{De(!1)}},pe=async at=>{at.preventDefault();const pt=[];n||pt.push("Branch is required"),i.trim()||pt.push("Name is required"),ee||pt.push("Stay Start Date is required"),W||pt.push("Stay End Date is required");const dt=parseFloat(K);(isNaN(dt)||dt<0)&&pt.push("Total Fee must be a non-negative number"),ce.trim()||pt.push("Room Number is required"),O.trim()||pt.push("Religion is required"),D||pt.push("Food Preference is required"),T||pt.push("Gender is required");const xt=parseFloat(ne);ne&&(isNaN(xt)||xt<0)&&pt.push("Cash Paid must be a non-negative number");const It=parseFloat(Y);Y&&(isNaN(It)||It<0)&&pt.push("Online Paid must be a non-negative number");const gt=parseFloat(M);if(M&&(isNaN(gt)||gt<0)&&pt.push("Security Money must be a non-negative number"),p&&!/^\d{12}$/.test(p)&&pt.push("Aadhar Number must be a 12-digit number"),N&&!/^\d{10}$/.test(N)&&pt.push("Phone Number must be a 10-digit number"),pt.length>0){Ee.error(pt.join(", "));return}const Ot={branch_id:String(n),name:i.trim(),address:l.trim()||null,father_name:u.trim()||null,mother_name:m.trim()||null,aadhar_number:p||null,phone_number:N||null,profile_image_url:y||null,aadhar_image_url:I||null,religion:O.trim(),food_preference:D,gender:T,security_money:M?parseFloat(M):0,registration_number:J.trim()||null,stay_start_date:ee,stay_end_date:W,total_fee:dt,cash_paid:ne?parseFloat(ne):0,online_paid:Y?parseFloat(Y):0,room_number:ce.trim(),remark:ge.trim()||null};console.log("Submitting student data to API (HostelStudentForm.tsx):",JSON.stringify(Ot,null,2));try{await t(Ot),Ee.success(r?"Student updated successfully":"Student added successfully"),r||(s(e&&e.length>0?e[0].id:""),o(""),A(""),h(""),w(""),b(""),j(""),B(""),_(""),H(""),L(""),G(""),V(""),Z(""),q(""),X(""),le(""),U(""),se(""),Ae(""),fe(""))}catch(vt){console.error("Error submitting student data (HostelStudentForm.tsx):",vt),Ee.error(vt.message||"Failed to add/update student. Check the console for details.")}};return a.jsxs("form",{onSubmit:pe,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),a.jsxs("select",{value:n,onChange:at=>s(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Branch"}),e.map(at=>a.jsx("option",{value:at.id,children:at.name},at.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("input",{type:"text",value:i,onChange:at=>o(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("input",{type:"text",value:l,onChange:at=>A(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Father's Name"}),a.jsx("input",{type:"text",value:u,onChange:at=>h(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mother's Name"}),a.jsx("input",{type:"text",value:m,onChange:at=>w(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Number"}),a.jsx("input",{type:"text",value:p,onChange:at=>b(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),a.jsx("input",{type:"text",value:N,onChange:at=>j(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stay Start Date"}),a.jsx("input",{type:"date",value:ee,onChange:at=>q(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stay End Date"}),a.jsx("input",{type:"date",value:W,onChange:at=>X(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:K,onChange:at=>le(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Paid (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:ne,onChange:at=>U(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Paid (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:Y,onChange:at=>se(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount (in INR)"}),a.jsx("input",{type:"text",value:`${je.toFixed(2)}`,readOnly:!0,className:"block w-full rounded-md border-gray-300 bg-gray-100 shadow-sm sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),a.jsx("input",{type:"text",value:ce,onChange:at=>Ae(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Security Money (in INR)"}),a.jsx("input",{type:"number",step:"0.01",value:M,onChange:at=>V(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Number"}),a.jsx("input",{type:"text",value:J,onChange:at=>Z(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Religion"}),a.jsx("input",{type:"text",value:O,onChange:at=>H(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Food Preference"}),a.jsxs("select",{value:D,onChange:at=>L(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Food Preference"}),a.jsx("option",{value:"Veg",children:"Veg"}),a.jsx("option",{value:"Non-Veg",children:"Non-Veg"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),a.jsxs("select",{value:T,onChange:at=>G(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",required:!0,children:[a.jsx("option",{value:"",children:"Select Gender"}),a.jsx("option",{value:"Male",children:"Male"}),a.jsx("option",{value:"Female",children:"Female"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{value:ge,onChange:at=>fe(at.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 transition-colors",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profile Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:at=>at.target.files&&Ne(at.target.files[0],B),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",disabled:Te}),y&&a.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Uploaded: ",y.split("/").pop()]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aadhar Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:at=>at.target.files&&Ne(at.target.files[0],_),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",disabled:Te}),I&&a.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Uploaded: ",I.split("/").pop()]})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"submit",disabled:Te,className:"inline-flex justify-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors disabled:bg-indigo-400",children:Te?"Uploading...":r?"Update Student":"Add Student"}),a.jsx("button",{type:"button",onClick:()=>Qe(-1),className:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors",children:"Cancel"})]})]})},Hve=({branches:e,onUpdateBranch:t,onDeleteBranch:r})=>{const[n,s]=C.useState(null),[i,o]=C.useState(""),l=h=>{s(h),o(h.name)},A=()=>{n&&(t(n.id,i),s(null))},u=()=>{s(null)};return a.jsx("div",{className:"space-y-3",children:e.map(h=>a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-all duration-200",children:(n==null?void 0:n.id)===h.id?a.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",value:i,onChange:m=>o(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Branch name"})}),a.jsxs("button",{onClick:A,className:"flex items-center gap-1 px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium text-sm",children:[a.jsx(jg,{className:"h-4 w-4"}),"Save"]}),a.jsxs("button",{onClick:u,className:"flex items-center gap-1 px-3 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium text-sm",children:[a.jsx(Xl,{className:"h-4 w-4"}),"Cancel"]})]}):a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Tt,{to:`/hostel/branches/${h.id}/students`,className:"flex items-center gap-3 text-gray-800 hover:text-blue-600 font-medium transition-colors group",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 p-2 rounded-lg group-hover:from-blue-200 group-hover:to-indigo-200 transition-all",children:a.jsx(Rl,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-800",children:h.name}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[a.jsx(ci,{className:"h-4 w-4"}),h.studentCount," students"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>l(h),className:"flex items-center gap-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors font-medium text-sm",children:[a.jsx(NN,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:()=>r(h.id),disabled:h.studentCount>0,className:`flex items-center gap-1 px-3 py-2 rounded-lg font-medium text-sm transition-colors ${h.studentCount>0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-red-50 text-red-600 hover:bg-red-100"}`,children:[a.jsx(pa,{className:"h-4 w-4"}),"Delete"]})]})]})},h.id))})},Vve=()=>{const e=zA(),t=Ur(),{data:r,isLoading:n,error:s}=Vl({queryKey:["hostelBranches"],queryFn:()=>Re.getHostelBranches()}),i=Ci({mutationFn:w=>Re.addHostelBranch(w),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Ee.success("Branch added successfully")},onError:()=>{Ee.error("Failed to add branch")}}),o=Ci({mutationFn:({id:w,name:p})=>Re.updateHostelBranch(w,{name:p}),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Ee.success("Branch updated successfully")},onError:()=>{Ee.error("Failed to update branch")}}),l=Ci({mutationFn:w=>Re.deleteHostelBranch(w),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Ee.success("Branch deleted successfully")},onError:w=>{Ee.error(w.message||"Failed to delete branch")}}),A=Ci({mutationFn:w=>Re.addHostelStudent(w),onSuccess:()=>{e.invalidateQueries({queryKey:["hostelBranches"]}),Ee.success("Student added successfully")},onError:()=>{Ee.error("Failed to add student")}}),u=(w,p)=>{o.mutate({id:w,name:p})},h=w=>{window.confirm("Are you sure you want to delete this branch?")&&l.mutate(w)},m=w=>{const p={...w,branchId:parseInt(w.branchId,10)};A.mutate(p)};return n?a.jsx("div",{className:"p-6 animate-pulse",children:"Loading..."}):s?a.jsxs("div",{className:"p-6",children:["Error: ",s.message]}):a.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(dl,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Hostel Management"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Add Branch"}),a.jsx(Qve,{onSubmit:w=>i.mutate(w)})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Add Student"}),a.jsx(vV,{branches:r||[],onSubmit:m})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Branches"}),a.jsx(Hve,{branches:r||[],onUpdateBranch:u,onDeleteBranch:h})]})]})},Kve=({branchId:e})=>{const[t,r]=C.useState([]),[n,s]=C.useState(!0),[i,o]=C.useState(""),[l,A]=C.useState(1),u=10,h=Ur();C.useEffect(()=>{(async()=>{var I;try{const _=await Re.getHostelStudents(e);let O=[];Array.isArray(_)?O=_:_.students?O=_.students:(I=_.data)!=null&&I.students&&(O=_.data.students);const H=O.filter(D=>String(D.branch_id??D.branchId)===e);r(H)}catch{Ee.error("Failed to fetch students")}finally{s(!1)}})()},[e]);const m=async B=>{if(window.confirm("Are you sure you want to delete this student?"))try{await Re.deleteHostelStudent(B),r(I=>I.filter(_=>_.id!==B)),Ee.success("Student deleted successfully")}catch{Ee.error("Failed to delete student")}},w=B=>{h(`/hostel/students/${B}`)},p=t.filter(B=>{var I;return B.name.toLowerCase().includes(i.toLowerCase())||(((I=B.phoneNumber)==null?void 0:I.toLowerCase().includes(i.toLowerCase()))??!1)}),b=l*u,N=b-u,j=p.slice(N,b),y=Math.ceil(p.length/u);return a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"relative max-w-sm",children:[a.jsx(cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search students...",value:i,onChange:B=>o(B.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm transition-colors"})]})}),n?a.jsx("div",{className:"flex justify-center p-8 animate-pulse",children:"Loading students..."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900",children:"Name"}),a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900 hidden md:table-cell",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900 hidden md:table-cell",children:"Aadhar"}),a.jsx("th",{className:"px-6 py-3 font-medium text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:j.map(B=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:B.name}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:B.phoneNumber||"N/A"}),a.jsx("td",{className:"px-6 py-4 hidden md:table-cell",children:B.aadharNumber||"N/A"}),a.jsxs("td",{className:"px-6 py-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>w(B.id),className:"text-indigo-600 hover:text-indigo-800 p-1 transition-colors",title:"View Details",children:a.jsx(ma,{size:18})}),a.jsx("button",{onClick:()=>m(B.id),className:"text-red-600 hover:text-red-800 p-1 transition-colors",title:"Delete",children:a.jsx(pa,{size:18})})]})]},B.id))})]})}),y>1&&a.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>A(B=>Math.max(B-1,1)),disabled:l===1,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Ud,{className:"w-4 h-4 mr-2"}),"Previous"]}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",l," of ",y]}),a.jsxs("button",{onClick:()=>A(B=>Math.min(B+1,y)),disabled:l===y,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Next",a.jsx(gr,{className:"w-4 h-4 ml-2"})]})]})]})]})},Wve=()=>{const{branchId:e}=XA(),t=Ur();return e?a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(dl,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Branch Students"})]}),a.jsx(Kve,{branchId:e})]}):a.jsx("div",{className:"p-6",children:"Invalid branch ID"})},Gve=""+new URL("SDMLibLogo-BCZtqCjy.jpg",import.meta.url).href,zve=()=>{const{id:e}=XA(),t=Ur(),{data:r,isLoading:n,error:s}=Vl({queryKey:["hostelStudent",e],queryFn:()=>Re.getHostelStudent(e),enabled:!!e});if(n)return a.jsx("div",{className:"p-6 animate-pulse",children:"Loading student details..."});if(s)return a.jsxs("div",{className:"p-6 text-red-600",children:["Error loading student: ",s.message]});if(!r||!r.student)return a.jsx("div",{className:"p-6",children:"Student not found."});const{student:i,history:o}=r,l=o[0]||{};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(dl,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:()=>t(`/hostel/students/${e}/edit`),className:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-indigo-700 transition-colors",children:"Edit"}),a.jsx("button",{onClick:()=>window.print(),className:"inline-flex items-center rounded-md bg-gray-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-gray-700 transition-colors",children:"Print"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-6",children:[a.jsx("div",{className:"w-full",children:a.jsx("img",{src:Gve,alt:"SDM Boy's Hostel Banner",className:"w-full h-auto object-cover"})}),a.jsxs("div",{className:"flex space-x-4",children:[i.profileImageUrl&&a.jsx("img",{src:i.profileImageUrl,alt:"Profile",className:"w-24 h-24 object-cover rounded-lg border border-gray-200"}),i.aadharImageUrl&&a.jsx("img",{src:i.aadharImageUrl,alt:"Aadhar",className:"w-24 h-24 object-cover rounded-lg border border-gray-200"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{label:"Name",value:i.name||"N/A"},{label:"Address",value:i.address||"N/A"},{label:"Fathers Name",value:i.fatherName||"N/A"},{label:"Mothers Name",value:i.motherName||"N/A"},{label:"Aadhar Number",value:i.aadharNumber||"N/A"},{label:"Phone Number",value:i.phoneNumber||"N/A"},{label:"Branch",value:i.branchName||"N/A"},{label:"Security Money",value:`${(Number(i.securityMoney)||0).toFixed(2)}`},{label:"Registration Number",value:i.registrationNumber||"N/A"},{label:"Status",value:i.status||"N/A"},{label:"Current Room Number",value:l.roomNumber||"N/A"},{label:"Current Stay Start",value:l.stayStartDate?new Date(l.stayStartDate).toLocaleDateString():"N/A"},{label:"Current Stay End",value:l.stayEndDate?new Date(l.stayEndDate).toLocaleDateString():"N/A"},{label:"Current Total Fee",value:`${(l.totalFee||0).toFixed(2)}`},{label:"Current Cash Paid",value:`${(l.cashPaid||0).toFixed(2)}`},{label:"Current Online Paid",value:`${(l.onlinePaid||0).toFixed(2)}`},{label:"Current Due Amount",value:`${(l.dueAmount||0).toFixed(2)}`}].map((A,u)=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500",children:A.label}),a.jsx("span",{className:"text-gray-900",children:A.value})]},u))}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Stay History"}),o.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Fee"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cash Paid"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Online Paid"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Amount"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remark"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(A=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:new Date(A.stayStartDate).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:new Date(A.stayEndDate).toLocaleDateString()}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:A.roomNumber||"N/A"}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["",A.totalFee.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["",A.cashPaid.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:["",A.onlinePaid.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-red-600",children:["",A.dueAmount.toFixed(2)]}),a.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:A.remark||"N/A"})]},A.id))})]})}):a.jsx("p",{className:"text-gray-500",children:"No stay history available."})]})]})]})},$ve=()=>{var p,b,N;const{id:e}=XA(),t=zA(),r=Ur(),{data:n,isLoading:s,error:i}=Vl({queryKey:["hostelStudent",e],queryFn:()=>Re.getHostelStudent(e),enabled:!!e}),{data:o,isLoading:l,error:A}=Vl({queryKey:["hostelBranches"],queryFn:()=>Re.getHostelBranches()}),u=Ci({mutationFn:j=>Re.updateHostelStudent(e,j),onSuccess:j=>{t.invalidateQueries({queryKey:["hostelStudent",e]}),t.invalidateQueries({queryKey:["hostelStudents"]}),t.invalidateQueries({queryKey:["hostelBranches"]}),Ee.success("Student updated successfully"),r(`/hostel/students/${e}`)},onError:j=>{Ee.error(j.message||"Failed to update student")}});if(s||l)return a.jsx("div",{className:"p-6 animate-pulse",children:"Loading..."});if(i)return a.jsxs("div",{className:"p-6 text-red-500",children:["Error loading student data: ",i.message]});if(A)return a.jsxs("div",{className:"p-6 text-red-500",children:["Error loading branches: ",A.message]});if(!n||!n.student)return a.jsx("div",{className:"p-6",children:"Student data not found."});const h=n.student,m=n.history&&n.history.length>0?n.history[0]:{},w={...h,stayStartDate:m.stayStartDate||"",stayEndDate:m.stayEndDate||"",totalFee:((p=m.totalFee)==null?void 0:p.toString())||"",cashPaid:((b=m.cashPaid)==null?void 0:b.toString())||"",onlinePaid:((N=m.onlinePaid)==null?void 0:N.toString())||""};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("button",{onClick:()=>r(-1),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[a.jsx(dl,{className:"w-5 h-5 mr-2"}),"Back"]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Hostel Student"}),a.jsx("div",{})," "]}),a.jsx("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-lg",children:a.jsx(vV,{branches:o||[],onSubmit:u.mutate,initialData:w})})]})},qve=({onAddSuccess:e})=>{const[t,r]=C.useState(""),[n,s]=C.useState(""),[i,o]=C.useState(""),[l,A]=C.useState(""),[u,h]=C.useState(""),m=Ci({mutationFn:p=>Re.addTransaction(p),onSuccess:()=>{e(),r(""),s(""),o(""),A(""),h("")},onError:p=>{console.error("Failed to add transaction:",p.message),alert("Failed to add transaction: "+p.message)}}),w=p=>{if(p.preventDefault(),!t.trim()){alert("Name is required");return}const b={name:t.trim(),cashReceipt:n===""?0:parseFloat(n),onlineReceipt:i===""?0:parseFloat(i),cashExpense:l===""?0:parseFloat(l),onlineExpense:u===""?0:parseFloat(u)};m.mutate(b)};return a.jsx("form",{onSubmit:w,className:"mb-4",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("input",{type:"text",value:t,onChange:p=>r(p.target.value),placeholder:"Name",className:"border p-2 rounded",required:!0}),a.jsx("input",{type:"number",value:n,onChange:p=>s(p.target.value),placeholder:"Cash Receipt",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("input",{type:"number",value:i,onChange:p=>o(p.target.value),placeholder:"Online Receipt",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("input",{type:"number",value:l,onChange:p=>A(p.target.value),placeholder:"Cash Expense",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("input",{type:"number",value:u,onChange:p=>h(p.target.value),placeholder:"Online Expense",className:"border p-2 rounded",min:"0",step:"0.01"}),a.jsx("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 disabled:bg-blue-300",disabled:m.isPending,children:m.isPending?"Adding...":"Add Transaction"})]})})},Xve=({transaction:e})=>{const t=zA(),[r,n]=C.useState(e.name),[s,i]=C.useState(e.cashReceipt.toString()),[o,l]=C.useState(e.onlineReceipt.toString()),[A,u]=C.useState(e.cashExpense.toString()),[h,m]=C.useState(e.onlineExpense.toString()),w=((parseFloat(s)||0)+(parseFloat(o)||0)-(parseFloat(A)||0)-(parseFloat(h)||0)).toFixed(2),p=Ci({mutationFn:y=>Re.updateTransaction(e.id,y),onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]}),alert("Transaction updated successfully")},onError:y=>{console.error("Failed to update transaction:",y.message),alert("Failed to update transaction: "+y.message)}}),b=Ci({mutationFn:()=>Re.deleteTransaction(e.id),onSuccess:()=>{t.invalidateQueries({queryKey:["transactions"]}),alert("Transaction deleted successfully")},onError:y=>{console.error("Failed to delete transaction:",y.message),alert("Failed to delete transaction: "+y.message)}}),N=()=>{if(!r.trim()){alert("Name is required");return}const y={name:r.trim(),cashReceipt:parseFloat(s)||0,onlineReceipt:parseFloat(o)||0,cashExpense:parseFloat(A)||0,onlineExpense:parseFloat(h)||0};p.mutate(y)},j=()=>{window.confirm("Are you sure you want to delete this transaction?")&&b.mutate()};return a.jsxs("tr",{children:[a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"text",value:r,onChange:y=>n(y.target.value),className:"w-full border rounded p-1",required:!0})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:s,onChange:y=>i(y.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:o,onChange:y=>l(y.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:A,onChange:y=>u(y.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:a.jsx("input",{type:"number",value:h,onChange:y=>m(y.target.value),className:"w-full border rounded p-1",min:"0",step:"0.01"})}),a.jsx("td",{className:"py-2 px-4 border-b",children:w}),a.jsxs("td",{className:"py-2 px-4 border-b",children:[a.jsx("button",{onClick:N,className:"bg-green-500 text-white p-1 rounded mr-2 hover:bg-green-600 disabled:bg-green-300",disabled:p.isPending,children:p.isPending?"Saving...":"Save"}),a.jsx("button",{onClick:j,className:"bg-red-500 text-white p-1 rounded hover:bg-red-600 disabled:bg-red-300",disabled:b.isPending,children:b.isPending?"Deleting...":"Delete"})]})]})},Yve=()=>{const[e,t]=C.useState(!1),r=zA(),{data:n,isLoading:s,error:i}=Vl({queryKey:["transactions"],queryFn:Re.getTransactions}),o=()=>{r.invalidateQueries({queryKey:["transactions"]})},l=(n==null?void 0:n.transactions)||[];return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[a.jsx(wn,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsxs(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs("h1",{className:"text-3xl font-bold mb-2 text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[a.jsx("span",{role:"img","aria-label":"money",children:""})," Transactions"]}),a.jsx("div",{className:"mb-6 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-sky-500 dark:from-indigo-600 dark:via-fuchsia-600 dark:to-sky-600 shadow-sm ring-1 ring-white/30"}),a.jsx(sn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.4},className:"bg-white/95 dark:bg-gray-800/95 shadow-sm rounded-xl p-4 mb-6 w-full border border-gray-200 dark:border-gray-700 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40",children:a.jsx(qve,{onAddSuccess:o})}),s?a.jsxs("div",{className:"flex items-center justify-center text-gray-600 mt-6",children:[a.jsx(Qs,{className:"animate-spin mr-2"}),"Loading transactions..."]}):i?a.jsxs("div",{className:"flex items-center justify-center text-red-500 mt-6",children:[a.jsx(ta,{className:"mr-2"}),"Error: ",i.message]}):a.jsx(sn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"overflow-x-auto bg-white/95 dark:bg-gray-800/95 shadow-sm rounded-xl w-full border border-gray-200 dark:border-gray-700",children:a.jsxs("table",{className:"w-full text-sm text-left table-auto",children:[a.jsx("thead",{className:"bg-gradient-to-r from-indigo-50 via-fuchsia-50 to-sky-50 dark:from-gray-700 dark:via-gray-700 dark:to-gray-700 text-gray-700 dark:text-gray-200 font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"Name"}),a.jsx("th",{className:"px-4 py-3",children:"Cash Receipt"}),a.jsx("th",{className:"px-4 py-3",children:"Online Receipt"}),a.jsx("th",{className:"px-4 py-3",children:"Cash Expense"}),a.jsx("th",{className:"px-4 py-3",children:"Online Expense"}),a.jsx("th",{className:"px-4 py-3",children:"Total"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),a.jsx("tbody",{children:l.length>0?l.map(A=>a.jsx(Xve,{transaction:A},A.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-4 py-6 text-center text-gray-500",children:"No transactions found."})})})]})})]})})]})},Zve=()=>{var ge;const{user:e}=ga(),t=zA(),[r]=lS(),n=new Date().toISOString().slice(0,7),[s,i]=C.useState(!1),o=()=>{Ee.info("Barcode scanning functionality is not yet implemented.")},[l,A]=C.useState(""),[u,h]=C.useState(n),[m,w]=C.useState(null),[p,b]=C.useState([]),[N,j]=C.useState("cards"),[y,B]=C.useState(!1),[I,_]=C.useState(""),[O,H]=C.useState("");C.useEffect(()=>{r.get("showOnlyDue")==="true"&&B(!0)},[r]);const[D,L]=C.useState(!1),[T,G]=C.useState(null),[M,V]=C.useState(""),[J,Z]=C.useState(null);C.useEffect(()=>{Re.getBranches().then(b).catch(()=>Ee.error("Failed to load branches"))},[]);const{data:ee,isLoading:q}=Vl({queryKey:["collections",u,m,I,O],queryFn:()=>{const fe={branchId:m||void 0};return I&&O?(fe.fromDate=I,fe.toDate=O):fe.month=u,Re.getCollections(fe)}}),{data:W,isLoading:X}=Vl({queryKey:["collectionStats",u,m,I,O],queryFn:()=>{const fe={branchId:m||void 0};return I&&O?(fe.fromDate=I,fe.toDate=O):fe.month=u,Re.getCollectionStats(fe)},enabled:!!e&&e.role==="admin"}),K=Ci({mutationFn:fe=>Re.updateCollectionPayment(fe.historyId,{amount:fe.amount,method:fe.method}),onSuccess:()=>{Ee.success("Payment updated successfully"),L(!1),t.invalidateQueries({queryKey:["collections"]}),(e==null?void 0:e.role)==="admin"&&t.invalidateQueries({queryKey:["collectionStats"]})},onError:fe=>{Ee.error(fe.message||"Failed to update payment")}}),le=fe=>{G(fe),V(fe.dueAmount.toFixed(2)),Z(null),L(!0)},ne=()=>{if(!T||!J||!M){Ee.error("Please select a payment method and enter a payment amount");return}const fe=parseFloat(M);if(isNaN(fe)||fe<=0||fe>T.dueAmount+.01){Ee.error("Invalid payment amount. Cannot be zero or more than the due amount.");return}K.mutate({historyId:T.historyId,amount:fe,method:J})},U=async(fe,je=!0)=>{try{const ke=document.getElementById(`invoice-${fe.historyId}`);if(!ke)return null;const Te=await Qv(ke,{scale:2,useCORS:!0,logging:!0,allowTaint:!0}),De=Te.toDataURL("image/png"),Qe=new Zt("p","mm","a4"),Ne=Qe.internal.pageSize.getWidth(),pe=Te.height*Ne/Te.width;return Qe.addImage(De,"PNG",0,0,Ne,pe),je&&Qe.save(`invoice-${fe.studentId}-${new Date().toISOString().split("T")[0]}.pdf`),Qe}catch(ke){return console.error("Error generating PDF:",ke),Ee.error("Failed to generate invoice PDF"),null}},Y=async fe=>{await U(fe,!0)},se=async fe=>{try{const je=await U(fe,!1);if(!je)return;const ke=je.output("blob"),Te=new File([ke],`invoice-${fe.studentId}.pdf`,{type:"application/pdf"}),De=URL.createObjectURL(Te),Qe=document.createElement("a");Qe.href=De,Qe.download=`invoice-${fe.studentId}.pdf`,document.body.appendChild(Qe),Qe.click(),setTimeout(()=>{document.body.removeChild(Qe),URL.revokeObjectURL(De)},100);const Ne=`https://wa.me/?text=Here%20is%20the%20invoice%20for%20${encodeURIComponent(fe.name)}`;window.open(Ne,"_blank")}catch(je){console.error("Error sharing on WhatsApp:",je),Ee.error("Failed to share on WhatsApp")}},ce=((ge=ee==null?void 0:ee.collections)==null?void 0:ge.filter(fe=>{const je=(fe.name||"").toLowerCase().includes(l.toLowerCase()),ke=!y||Number(fe.dueAmount)>0;return je&&ke}))||[],Ae=(ee==null?void 0:ee.collections.length)||0;return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[a.jsx(wn,{isCollapsed:s,setIsCollapsed:i,onBarcodeClick:o}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:[a.jsxs(sn.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100",children:" Collection & Due"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Track fees, dues and payments"}),a.jsx("div",{className:"mt-3 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-amber-500 to-rose-500 dark:from-indigo-600 dark:via-amber-600 dark:to-rose-600 shadow-sm ring-1 ring-white/30"})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex-1 rounded-lg bg-cyan-50 dark:bg-cyan-900/20 border border-cyan-200 dark:border-cyan-800 p-2 shadow-sm ring-1 ring-cyan-100/80 dark:ring-cyan-900/40",children:[a.jsx("label",{className:"text-xs font-semibold text-cyan-700 dark:text-cyan-300 mr-2",children:"Search"}),a.jsx("input",{type:"text",placeholder:"Search by student name...",value:l,onChange:fe=>A(fe.target.value),className:"w-full sm:w-auto p-2 border border-cyan-200 dark:border-cyan-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-400 shadow-sm"})]}),a.jsxs("label",{className:"flex items-center space-x-2 p-2 border rounded-md bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800 shadow-sm ring-1 ring-amber-100/70 dark:ring-amber-900/40 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:y,onChange:fe=>B(fe.target.checked),className:"rounded"}),a.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Show Only Due"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"rounded-lg bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 p-2 shadow-sm ring-1 ring-indigo-100/80 dark:ring-indigo-900/40",children:[a.jsx("label",{className:"text-xs font-semibold text-indigo-700 dark:text-indigo-300 mr-2",children:"Month"}),a.jsx("input",{type:"month",value:u,onChange:fe=>h(fe.target.value),className:"p-2 border border-indigo-200 dark:border-indigo-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-indigo-400 shadow-sm",placeholder:"Month"})]}),a.jsxs("div",{className:"rounded-lg bg-sky-50 dark:bg-sky-900/20 border border-sky-200 dark:border-sky-800 p-2 shadow-sm ring-1 ring-sky-100/80 dark:ring-sky-900/40",children:[a.jsx("label",{className:"text-xs font-semibold text-sky-700 dark:text-sky-300 mr-2",children:"From"}),a.jsx("input",{type:"date",value:I,onChange:fe=>_(fe.target.value),className:"p-2 border border-sky-200 dark:border-sky-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-sky-400 shadow-sm",placeholder:"From Date"})]}),a.jsxs("div",{className:"rounded-lg bg-sky-50 dark:bg-sky-900/20 border border-sky-200 dark:border-sky-800 p-2 shadow-sm ring-1 ring-sky-100/80 dark:ring-sky-900/40",children:[a.jsx("label",{className:"text-xs font-semibold text-sky-700 dark:text-sky-300 mr-2",children:"To"}),a.jsx("input",{type:"date",value:O,onChange:fe=>H(fe.target.value),className:"p-2 border border-sky-200 dark:border-sky-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-sky-400 shadow-sm",placeholder:"To Date"})]}),a.jsxs("div",{className:"rounded-lg bg-emerald-50 dark:bg-green-900/20 border border-emerald-200 dark:border-green-800 p-2 shadow-sm ring-1 ring-emerald-100/80 dark:ring-green-900/40",children:[a.jsx("label",{className:"text-xs font-semibold text-emerald-700 dark:text-emerald-300 mr-2",children:"Branch"}),a.jsxs("select",{value:m||"",onChange:fe=>w(fe.target.value?Number(fe.target.value):null),className:"p-2 border border-emerald-200 dark:border-green-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-emerald-400 shadow-sm",children:[a.jsx("option",{value:"",children:"All Branches"}),p.map(fe=>a.jsx("option",{value:fe.id,children:fe.name},fe.id))]})]})]})]}),(e==null?void 0:e.role)==="admin"&&a.jsxs(sn.div,{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",initial:{opacity:0},animate:{opacity:1},children:[a.jsx(sp,{title:"Total Students",value:Ae,isLoading:q}),a.jsx(sp,{title:"Total Collected",value:W==null?void 0:W.totalPaid,isLoading:X,isCurrency:!0,color:"emerald"}),a.jsx(sp,{title:"Total Due",value:W==null?void 0:W.totalDue,isLoading:X,isCurrency:!0,color:"rose"}),a.jsx(sp,{title:"Cash Collected",value:W==null?void 0:W.totalCash,isLoading:X,isCurrency:!0,color:"sky"}),a.jsx(sp,{title:"Online Collected",value:W==null?void 0:W.totalOnline,isLoading:X,isCurrency:!0,color:"violet"})]}),a.jsx("div",{className:"mb-4 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-gradient-to-r from-indigo-500 via-amber-500 to-rose-500 text-white shadow-sm",children:"View"}),a.jsxs("div",{className:"inline-flex rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 ring-1 ring-indigo-200/60 dark:ring-indigo-900/40 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm",children:[a.jsx("button",{className:`px-3 py-1.5 text-sm transition-colors ${N==="table"?"bg-indigo-600 text-white":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>j("table"),children:"Table"}),a.jsx("button",{className:`px-3 py-1.5 text-sm transition-colors ${N==="cards"?"bg-indigo-600 text-white":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>j("cards"),children:"Cards"})]})]})}),N==="table"?a.jsx("div",{className:"bg-white/95 dark:bg-gray-800/95 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-x-auto",children:q?a.jsx("div",{className:"text-center p-8",children:a.jsx(Qs,{className:"h-8 w-8 animate-spin mx-auto"})}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gradient-to-r from-indigo-50 via-amber-50 to-rose-50 dark:from-gray-700 dark:via-gray-700 dark:to-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-200 uppercase",children:"Student Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Branch"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Shift"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Seat"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Fee"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cash"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Online"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Security"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Paid"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Due"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Remark"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:ce.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:13,className:"px-4 py-4 text-center text-gray-500",children:"No collections found."})}):ce.map(fe=>{var je;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:fe.name}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:((je=p.find(ke=>ke.id===fe.branchId))==null?void 0:je.name)||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:fe.shiftTitle||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:fe.seatNumber||"N/A"}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["",fe.totalFee.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["",fe.cash.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["",fe.online.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:["",fe.securityMoney.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-semibold text-emerald-700 dark:text-emerald-300",children:["",fe.amountPaid.toFixed(2)]}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-bold text-rose-700 dark:text-rose-300",children:["",fe.dueAmount.toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-wrap text-sm text-gray-500",children:fe.remark||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:fe.createdAt?new Date(fe.createdAt).toLocaleDateString():"N/A"}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:[fe.dueAmount>0&&a.jsx("button",{onClick:()=>le(fe),className:"px-2 py-1 text-xs rounded-md bg-rose-50 text-rose-700 border border-rose-200 hover:bg-rose-100 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800",children:"Pay Due"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{className:"p-1 text-gray-500 hover:text-sky-600",onClick:ke=>{ke.stopPropagation(),Y(fe)},title:"Download Invoice",children:a.jsx(Y0,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1 text-gray-500 hover:text-emerald-600",onClick:ke=>{ke.stopPropagation(),se(fe)},title:"Share on WhatsApp",children:a.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17.498 14.382v-.002c-.301-.15-1.767-.867-2.04-.966-.273-.101-.473-.15-.673.15-.197.295-.771.964-.944 1.162-.175.195-.349.21-.646.075-.3-.15-1.263-.465-2.403-1.485-.888-.795-1.484-1.761-1.66-2.059-.173-.297-.018-.458.13-.606.136-.135.297-.354.446-.521.146-.181.194-.296.297-.494.1-.21.049-.375-.025-.524-.075-.15-.672-1.62-.922-2.206-.24-.584-.487-.51-.672-.51-.172-.015-.371-.015-.571-.015-.2 0-.523.074-.797.359-.273.3-1.045 1.02-1.045 2.475s1.07 2.865 1.219 3.075c.15.195 2.105 3.195 5.1 4.485.714.3 1.27.489 1.704.621.714.227 1.365.195 1.88.121.574-.09 1.767-.721 2.016-1.426.255-.705.255-1.29.18-1.425-.074-.135-.27-.21-.57-.36m-5.446 7.443h-.016a9.87 9.87 0 01-5.031-1.379l-.36-.214-3.75.975 1.005-3.645-.239-.375a9.86 9.86 0 01-1.51-5.26c.001-5.445 4.455-9.885 9.942-9.885 2.654 0 5.145 1.035 7.021 2.91 1.875 1.86 2.909 4.35 2.909 6.99-.004 5.444-4.458 9.885-9.933 9.885M20.52 3.449C18.24 1.245 15.24 0 12.045 0 5.462 0 .103 5.334.101 11.893c0 2.096.549 4.14 1.595 5.945L0 24l6.335-1.652a12.01 12.01 0 005.71 1.447h.006c6.585 0 11.946-5.336 11.949-11.896 0-3.176-1.24-6.165-3.495-8.411"})})})]})]})]},fe.historyId)})})]})}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:q?a.jsx("div",{className:"text-center p-8 col-span-full",children:a.jsx(Qs,{className:"h-8 w-8 animate-spin mx-auto"})}):ce.map(fe=>{var je;return a.jsx(sn.div,{className:"rounded-2xl p-[3px] bg-gradient-to-br from-indigo-600/80 via-amber-500/80 to-rose-500/80 transition-colors shadow-lg",whileHover:{scale:1.02,rotateX:-2,rotateY:2},whileTap:{scale:.99},initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35},style:{transformStyle:"preserve-3d"},children:a.jsxs("div",{className:"rounded-[14px] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl",children:[a.jsxs("div",{className:"h-9 bg-gradient-to-r from-emerald-600 to-teal-600 text-white flex items-center justify-between px-3",children:[a.jsx("span",{className:"text-sm font-semibold truncate",children:fe.name}),fe.dueAmount>0?a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-white/20 border border-white/30",children:"Due"}):a.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-white/20 border border-white/30",children:"Paid"})]}),a.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"px-2 py-1 rounded-md text-xs bg-indigo-50 text-indigo-700 border border-indigo-200",children:((je=p.find(ke=>ke.id===fe.branchId))==null?void 0:je.name)||"N/A"}),a.jsx("span",{className:"px-2 py-1 rounded-md text-xs bg-sky-50 text-sky-700 border border-sky-200",children:fe.shiftTitle||"N/A"}),a.jsxs("span",{className:"px-2 py-1 rounded-md text-xs bg-violet-50 text-violet-700 border border-violet-200",children:["Seat ",fe.seatNumber||"N/A"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-emerald-50 text-emerald-800 border border-emerald-200",children:["Paid: ",fe.amountPaid.toFixed(2)]}),a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-rose-50 text-rose-800 border border-rose-200",children:["Due: ",fe.dueAmount.toFixed(2)]}),a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-amber-50 text-amber-800 border border-amber-200",children:["Total: ",fe.totalFee.toFixed(2)]}),a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-sky-50 text-sky-800 border border-sky-200",children:["Cash: ",fe.cash.toFixed(2)]}),a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-fuchsia-50 text-fuchsia-800 border border-fuchsia-200",children:["Online: ",fe.online.toFixed(2)]}),a.jsxs("div",{className:"rounded-md px-2.5 py-1.5 bg-teal-50 text-teal-800 border border-teal-200",children:["Security: ",fe.securityMoney.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsx("div",{className:"text-xs text-gray-500",children:fe.createdAt?new Date(fe.createdAt).toLocaleDateString():"N/A"}),a.jsxs("div",{className:"flex gap-2",children:[fe.dueAmount>0&&a.jsx("button",{onClick:()=>le(fe),className:"px-2 py-1 text-xs rounded-md bg-rose-50 text-rose-700 border border-rose-200 hover:bg-rose-100",children:"Pay Due"}),a.jsx("button",{className:"p-1 text-gray-500 hover:text-sky-600",onClick:ke=>{ke.stopPropagation(),Y(fe)},title:"Download Invoice",children:a.jsx(Y0,{className:"h-4 w-4"})}),a.jsx("button",{className:"p-1 text-gray-500 hover:text-emerald-600",onClick:ke=>{ke.stopPropagation(),se(fe)},title:"Share on WhatsApp",children:a.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17.498 14.382v-.002c-.301-.15-1.767-.867-2.04-.966-.273-.101-.473-.15-.673.15-.197.295-.771.964-.944 1.162-.175.195-.349.21-.646.075-.3-.15-1.263-.465-2.403-1.485-.888-.795-1.484-1.761-1.66-2.059-.173-.297-.018-.458.13-.606.136-.135.297-.354.446-.521.146-.181.194-.296.297-.494.1-.21.049-.375-.025-.524-.075-.15-.672-1.62-.922-2.206-.24-.584-.487-.51-.672-.51-.172-.015-.371-.015-.571-.015-.2 0-.523.074-.797.359-.273.3-1.045 1.02-1.045 2.475s1.07 2.865 1.219 3.075c.15.195 2.105 3.195 5.1 4.485.714.3 1.27.489 1.704.621.714.227 1.365.195 1.88.121.574-.09 1.767-.721 2.016-1.426.255-.705.255-1.29.18-1.425-.074-.135-.27-.21-.57-.36m-5.446 7.443h-.016a9.87 9.87 0 01-5.031-1.379l-.36-.214-3.75.975 1.005-3.645-.239-.375a9.86 9.86 0 01-1.51-5.26c.001-5.445 4.455-9.885 9.942-9.885 2.654 0 5.145 1.035 7.021 2.91 1.875 1.86 2.909 4.35 2.909 6.99-.004 5.444-4.458 9.885-9.933 9.885M20.52 3.449C18.24 1.245 15.24 0 12.045 0 5.462 0 .103 5.334.101 11.893c0 2.096.549 4.14 1.595 5.945L0 24l6.335-1.652a12.01 12.01 0 005.71 1.447h.006c6.585 0 11.946-5.336 11.949-11.896 0-3.176-1.24-6.165-3.495-8.411"})})})]})]})]})]})},fe.historyId)})})]}),D&&T&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-0 rounded-xl shadow-xl max-w-md w-full border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"h-10 bg-gradient-to-r from-rose-600 to-pink-600 text-white flex items-center px-4 font-semibold",children:"Pay Due"}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800 dark:text-gray-100",children:T.name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Total Due Amount: ",T.dueAmount.toFixed(2)]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Payment Method:"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center text-emerald-700 dark:text-emerald-300",children:[a.jsx("input",{type:"radio",name:"paymentMethod",value:"cash",checked:J==="cash",onChange:()=>Z("cash"),className:"mr-2"}),"Cash"]}),a.jsxs("label",{className:"flex items-center text-sky-700 dark:text-sky-300",children:[a.jsx("input",{type:"radio",name:"paymentMethod",value:"online",checked:J==="online",onChange:()=>Z("online"),className:"mr-2"}),"Online"]})]})]}),a.jsx("input",{type:"number",value:M,onChange:fe=>V(fe.target.value),placeholder:"Enter payment amount",className:"w-full p-2 border rounded-md mb-4 bg-white/95 dark:bg-gray-700/90 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-rose-300",max:T.dueAmount.toString()}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 border rounded-md dark:border-gray-600",children:"Cancel"}),a.jsx("button",{onClick:ne,disabled:K.isPending,className:"px-4 py-2 bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 disabled:opacity-60",children:K.isPending?a.jsx(Qs,{className:"h-4 w-4 animate-spin"}):"Submit Payment"})]})]})]})})]})]})},sp=({title:e,value:t,isLoading:r,isCurrency:n=!1,color:s="indigo"})=>{const i={indigo:"from-indigo-500 to-violet-500",emerald:"from-emerald-500 to-teal-500",rose:"from-rose-500 to-pink-500",sky:"from-sky-500 to-blue-500",violet:"from-violet-500 to-fuchsia-500"},o=i[s]||i.indigo;return a.jsxs("div",{className:"rounded-xl border border-white/20 bg-gradient-to-br text-white shadow-sm ring-1 ring-white/10 overflow-hidden",style:{backgroundImage:void 0},children:[a.jsx("div",{className:`bg-gradient-to-r ${o} px-4 py-2 text-xs font-semibold`,children:e}),a.jsx("div",{className:"bg-white/95 dark:bg-gray-800/95 px-4 py-3",children:a.jsx("div",{className:`text-xl font-bold ${s==="rose"?"text-rose-600 dark:text-rose-300":s==="emerald"?"text-emerald-600 dark:text-emerald-300":s==="sky"?"text-sky-600 dark:text-sky-300":s==="violet"?"text-violet-600 dark:text-violet-300":"text-indigo-600 dark:text-indigo-300"}`,children:r?a.jsx(Qs,{className:"h-5 w-5 animate-spin"}):n?`${(t||0).toFixed(2)}`:t||0})})]})},Jve=()=>{const[e]=lS(),[t,r]=C.useState(!1),[n,s]=C.useState([]),[i,o]=C.useState([]),[l,A]=C.useState([]),[u,h]=C.useState(void 0),[m,w]=C.useState({title:"",amount:"",date:"",remark:"",branchId:""}),[p,b]=C.useState(""),[N,j]=C.useState(!1),[y,B]=C.useState(null),[I,_]=C.useState(!0),[O,H]=C.useState(null);C.useEffect(()=>{const q=e.get("month"),W=e.get("view");q&&H(q),W==="profit"&&Ee.info("Viewing profit/loss details for the selected month")},[e]),C.useEffect(()=>{(async()=>{try{const W=await Re.getBranches();console.log("Fetched branches:",W),A(Array.isArray(W)?W:[])}catch(W){console.error("Failed to fetch branches:",W),Ee.error("Failed to load branches"),A([])}})()},[]),C.useEffect(()=>{(async()=>{_(!0);try{console.log("Fetching expenses with branchId:",u);const W=await Re.getExpenses(u);if(console.log("API response for expenses:",W),!W||!Array.isArray(W.expenses))throw new Error("Invalid API response: expenses is not an array");const X=W.expenses.map(K=>{const le=parseFloat(String(K.amount));return{id:K.id,title:K.title,amount:isNaN(le)?0:le,date:K.date,remark:K.remark,branchId:K.branchId??null,branchName:K.branchName??null}});console.log("Parsed expenses:",X),s(X),o(Array.isArray(W.products)?W.products:[])}catch(W){console.error("Failed to fetch expenses:",W),Ee.error("Failed to load expenses"),s([]),o([])}finally{_(!1)}})()},[u]),C.useEffect(()=>{var q;if(y){const W=y.date.includes("T")?y.date.split("T")[0]:y.date,X=i.some(K=>K.name===y.title);w({title:X?y.title:"Other",amount:y.amount.toString(),date:W,remark:y.remark||"",branchId:((q=y.branchId)==null?void 0:q.toString())||""}),j(!X),b(X?"":y.title)}else w({title:"",amount:"",date:"",remark:"",branchId:(u==null?void 0:u.toString())||""}),j(!1),b("")},[y,i,u]);const D=q=>{const{name:W,value:X}=q.target;W==="title"&&(j(X==="Other"),X!=="Other"&&b("")),w(K=>({...K,[W]:X}))},L=q=>{b(q.target.value)},T=q=>{const W=q.target.value?parseInt(q.target.value,10):void 0;h(W)},G=async()=>{const q=N&&p?p:m.title;if(!q||!m.amount||!m.date){Ee.error("Title, amount, and date are required");return}try{const W={title:q,amount:m.amount,date:m.date,remark:m.remark,branchId:m.branchId?parseInt(m.branchId,10):null};if(console.log("Submitting expense data:",W),y){const X=await Re.updateExpense(y.id,W),K={...X,amount:parseFloat(String(X.amount)),branchId:X.branchId??null,branchName:X.branchName??null};s(le=>le.map(ne=>ne.id===K.id?K:ne)),B(null),Ee.success("Expense updated successfully")}else{const X=await Re.addExpense(W),K={...X,amount:parseFloat(String(X.amount)),branchId:X.branchId??null,branchName:X.branchName??null};s(le=>[K,...le]),w({title:"",amount:"",date:"",remark:"",branchId:(u==null?void 0:u.toString())||""}),j(!1),b(""),Ee.success("Expense added successfully")}}catch(W){console.error("Failed to save expense:",W),Ee.error("Failed to save expense")}},M=q=>{console.log("Editing expense:",q),B(q)},V=async q=>{if(window.confirm("Are you sure you want to delete this expense?"))try{await Re.deleteExpense(q),s(W=>W.filter(X=>X.id!==q)),y&&y.id===q&&B(null),Ee.success("Expense deleted successfully")}catch(W){console.error("Failed to delete expense:",W),Ee.error("Failed to delete expense")}},J=n.reduce((q,W)=>{const X=new Date(W.date);if(isNaN(X.getTime()))return console.warn(`Invalid date for expense ${W.id}: ${W.date}`),q;const K=X.toLocaleString("default",{month:"long",year:"numeric"});return q[K]||(q[K]=[]),q[K].push(W),q},{}),Z=q=>{try{const W=new Date(q);return isNaN(W.getTime())?(console.warn(`Invalid date string: ${q}`),q):q.includes("T")?q.split("T")[0]:q}catch(W){return console.error("Error formatting date:",q,W),q}},ee=q=>{if(q.branchName)return q.branchName;if(q.branchId){const W=l.find(X=>X.id===q.branchId);return W?W.name:"Global"}return"Global"};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[a.jsx(wn,{isCollapsed:t,setIsCollapsed:r,onBarcodeClick:()=>{}}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:I?a.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):a.jsxs(sn.div,{className:"max-w-4xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(sn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100 mb-2 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:" Expenses"}),a.jsx("div",{className:"mb-6 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-amber-500 to-rose-500 dark:from-indigo-600 dark:via-amber-600 dark:to-rose-600 shadow-sm ring-1 ring-white/30"}),a.jsxs(sn.div,{className:"bg-white/95 dark:bg-gray-800/95 shadow-sm rounded-xl p-6 mb-4 border border-gray-200 dark:border-gray-700 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.15},children:[a.jsx("label",{className:"block text-gray-700 dark:text-gray-300 font-semibold mb-2",children:"Filter by Branch"}),a.jsxs("select",{value:u??"",onChange:T,className:"w-full sm:w-1/3 px-4 py-2 border border-indigo-200 dark:border-indigo-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-300 shadow-sm",children:[a.jsx("option",{value:"",children:"All Branches"}),l.map(q=>a.jsx("option",{value:q.id.toString(),children:q.name},q.id))]})]}),a.jsxs(sn.div,{className:"bg-white/95 dark:bg-gray-800/95 shadow-sm rounded-xl p-6 mb-8 border border-gray-200 dark:border-gray-700 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:.15},children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:y?"Edit Expense":"Add New Expense"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-4",children:[a.jsxs("select",{name:"title",value:m.title,onChange:D,className:"w-full px-4 py-2 border border-indigo-200 dark:border-indigo-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-300 shadow-sm",children:[a.jsx("option",{value:"",children:"Select Title"}),i.map(q=>a.jsx("option",{value:q.name,children:q.name},q.id)),a.jsx("option",{value:"Other",children:"Other"})]}),N&&a.jsx("input",{type:"text",name:"customTitle",value:p,onChange:L,placeholder:"Enter custom title",className:"w-full px-4 py-2 border border-cyan-200 dark:border-cyan-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-cyan-300 shadow-sm"}),a.jsx("input",{type:"number",name:"amount",value:m.amount,onChange:D,placeholder:"Amount",step:"0.01",className:"w-full px-4 py-2 border border-emerald-200 dark:border-emerald-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-300 shadow-sm"}),a.jsx("input",{type:"text",name:"remark",value:m.remark,onChange:D,placeholder:"Remark",className:"w-full px-4 py-2 border border-violet-200 dark:border-violet-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-violet-300 shadow-sm"}),a.jsx("input",{type:"date",name:"date",value:m.date,onChange:D,className:"w-full px-4 py-2 border border-sky-200 dark:border-sky-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-sky-300 shadow-sm"}),a.jsxs("select",{name:"branchId",value:m.branchId,onChange:D,className:"w-full px-4 py-2 border border-emerald-200 dark:border-emerald-700 rounded-md bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-300 shadow-sm",children:[a.jsx("option",{value:"",children:"Select Branch (Optional)"}),l.map(q=>a.jsx("option",{value:q.id.toString(),children:q.name},q.id))]})]}),a.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[a.jsx("button",{onClick:G,className:"bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white px-6 py-2 rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 ring-1 ring-white/20 transition",children:y?"Update Expense":"Add Expense"}),y&&a.jsx("button",{onClick:()=>B(null),className:"bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700 transition",children:"Cancel"})]})]}),Object.entries(J).sort(([q],[W])=>new Date(W).getTime()-new Date(q).getTime()).map(([q,W],X)=>{const K=W.reduce((ne,U)=>ne+(U.amount||0),0),le=O&&q.includes(new Date(O+"-01").toLocaleString("default",{month:"long",year:"numeric"}));return a.jsxs(sn.div,{className:`mb-8 ${le?"ring-2 ring-blue-500 rounded-lg p-4 bg-blue-50":""}`,initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2+X*.1},children:[a.jsxs("h2",{className:`text-xl font-semibold mb-4 ${le?"text-blue-800":"text-gray-800"}`,children:[q," ",le&&""]}),a.jsx("div",{className:"overflow-x-auto bg-white/95 dark:bg-gray-800/95 shadow-sm rounded-xl border border-gray-200 dark:border-gray-700",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"bg-gradient-to-r from-indigo-50 via-amber-50 to-rose-50 dark:from-gray-700 dark:via-gray-700 dark:to-gray-700 text-gray-700 dark:text-gray-200 font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"py-3 px-4 text-left",children:"Title"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Amount"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Remark"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Date"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Branch"}),a.jsx("th",{className:"py-3 px-4 text-left",children:"Actions"})]})}),a.jsx("tbody",{children:W.map((ne,U)=>a.jsxs(sn.tr,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.25+U*.02},className:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition",children:[a.jsx("td",{className:"py-3 px-4 border-b",children:ne.title||"Untitled"}),a.jsx("td",{className:"py-3 px-4 border-b",children:(ne.amount||0).toFixed(2)}),a.jsx("td",{className:"py-3 px-4 border-b",children:ne.remark||"-"}),a.jsx("td",{className:"py-3 px-4 border-b",children:Z(ne.date)}),a.jsx("td",{className:"py-3 px-4 border-b",children:ee(ne)}),a.jsx("td",{className:"py-3 px-4 border-b",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>M(ne),className:"px-2 py-1 text-xs rounded-md bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",children:"Edit"}),a.jsx("button",{onClick:()=>V(ne.id),className:"px-2 py-1 text-xs rounded-md bg-rose-50 text-rose-700 border border-rose-200 hover:bg-rose-100 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800",children:"Delete"})]})})]},ne.id))})]})}),a.jsxs("div",{className:"mt-2 text-right font-semibold",children:["Total for ",q,": Rs. ",K.toFixed(2)]})]},q)}),n.length===0&&!I&&a.jsx("div",{className:"p-6 text-center text-gray-500",children:"No expenses found."})]})})]})},ebe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState(new Date().toISOString().slice(0,7)),[s,i]=C.useState(null),[o,l]=C.useState([]),[A,u]=C.useState(null);C.useEffect(()=>{(async()=>{try{const w=await Re.getBranches();l(w)}catch(w){console.error("Failed to fetch branches:",w),Ee.error("Failed to load branches")}})()},[]);const h=async()=>{try{const m={month:r,branchId:s},w=await Re.getProfitLoss(m);u(w)}catch(m){console.error("Failed to fetch profit/loss:",m),Ee.error("Failed to load profit/loss data")}};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[a.jsx(wn,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsxs(sn.div,{className:"max-w-3xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(sn.h1,{className:"text-2xl md:text-3xl font-bold mb-2 text-gray-800 dark:text-gray-100 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},children:" Profit & Loss"}),a.jsx("div",{className:"mb-6 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-sky-500 dark:from-indigo-600 dark:via-fuchsia-600 dark:to-sky-600 shadow-sm ring-1 ring-white/30"}),a.jsxs(sn.div,{className:"bg-white/95 dark:bg-gray-800/95 rounded-xl shadow-sm p-6 mb-6 border border-gray-200 dark:border-gray-700 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40",initial:{opacity:0,scale:.97},animate:{opacity:1,scale:1},transition:{delay:.15},children:[a.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Month"}),a.jsx("input",{type:"month",id:"month",value:r,onChange:m=>n(m.target.value),className:"w-full px-4 py-2 border border-indigo-200 dark:border-indigo-700 rounded-lg bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-300 shadow-sm mb-4"}),a.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Branch"}),a.jsxs("select",{id:"branch",value:s||"",onChange:m=>i(m.target.value?Number(m.target.value):null),className:"w-full px-4 py-2 border border-emerald-200 dark:border-emerald-700 rounded-lg bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-emerald-300 shadow-sm mb-4",children:[a.jsx("option",{value:"",children:"All Branches"}),o.map(m=>a.jsx("option",{value:m.id,children:m.name},m.id))]}),a.jsx("button",{onClick:h,className:"w-full sm:w-auto bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white px-6 py-2 rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 ring-1 ring-white/20 transition",children:"Fetch Report"})]}),A&&a.jsx(sn.div,{className:"rounded-2xl p-[3px] bg-gradient-to-br from-indigo-600/80 via-amber-500/80 to-rose-500/80 shadow-lg",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},children:a.jsxs("div",{className:"rounded-[14px] bg-white/95 dark:bg-gray-800/95 border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"h-10 bg-gradient-to-r from-indigo-600 to-violet-600 text-white flex items-center px-4 font-semibold",children:"Financial Summary"}),a.jsxs("div",{className:"p-6 space-y-3 text-sm sm:text-base",children:[a.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:["Month: ",a.jsx("span",{className:"font-semibold",children:A.month})]}),a.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300",children:["Total Collected: ",a.jsx("span",{className:"font-semibold",children:A.totalCollected.toFixed(2)})]}),a.jsxs("p",{className:"text-rose-700 dark:text-rose-300",children:["Total Expenses: ",a.jsx("span",{className:"font-semibold",children:A.totalExpenses.toFixed(2)})]}),a.jsxs("p",{className:`font-semibold ${A.profitLoss>=0?"text-emerald-700 dark:text-emerald-300":"text-rose-700 dark:text-rose-300"}`,children:[A.profitLoss>=0?"Profit":"Loss",": ",Math.abs(A.profitLoss).toFixed(2)]})]})]})})]})})]})},tbe=()=>{const e=new Date().toISOString().slice(0,7),[t,r]=C.useState(!1),[n,s]=C.useState([]),[i,o]=C.useState(!0),[l,A]=C.useState(null),[u,h]=C.useState(""),[m,w]=C.useState(e),[p,b]=C.useState([]),[N,j]=C.useState(""),[y,B]=C.useState([]),[I,_]=C.useState(!1),[O,H]=C.useState(null),[D,L]=C.useState(""),[T,G]=C.useState("cash"),[M,V]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const Y=await Re.getHostelBranches();b(Y||[])}catch(Y){console.error("Failed to fetch branches for filter:",Y),Ee.error("Failed to load branches for filter.")}})()},[]);const J=async(U,Y)=>{o(!0),A(null);try{const se={};U&&(se.month=U),Y&&Y!==""&&(se.branch_id=Y),console.log("[HostelCollectionDue] Fetching collections with params:",se);const ce=await Re.getHostelCollections(se);if(console.log("[HostelCollectionDue] API Response (after camelCasing by interceptor):",JSON.stringify(ce,null,2)),!ce||typeof ce!="object")throw console.error("[HostelCollectionDue] Invalid response structure (not an object):",ce),new Error("Invalid response structure from server: Response is not an object");if(!Array.isArray(ce.collections))throw console.error("[HostelCollectionDue] Invalid response structure (collections not an array):",ce),new Error('Invalid response structure from server: Expected "responseData.collections" to be an array');s(ce.collections.map(Ae=>({historyId:Ae.historyId,studentId:Ae.studentId,studentName:Ae.studentName||null,branchId:Ae.branchId||null,branchName:Ae.branchName||null,studentPhoneNumber:Ae.studentPhoneNumber||null,studentRegistrationNumber:Ae.studentRegistrationNumber||null,studentCurrentRoomNumber:Ae.studentCurrentRoomNumber||null,studentSecurityMoney:parseFloat(String(Ae.studentSecurityMoney||0)),stayStartDate:Ae.stayStartDate,stayEndDate:Ae.stayEndDate,totalFee:parseFloat(String(Ae.totalFee||0)),cashPaid:parseFloat(String(Ae.cashPaid||0)),onlinePaid:parseFloat(String(Ae.onlinePaid||0)),dueAmount:parseFloat(String(Ae.dueAmount||0)),historyRemark:Ae.historyRemark||null,historyCreatedAt:Ae.historyCreatedAt,historyUpdatedAt:Ae.historyUpdatedAt||null})))}catch(se){console.error("[HostelCollectionDue] Failed to fetch collections:",se);const ce=se.message||"Failed to load collection data";A(ce),s([]),Ee.error(ce)}finally{o(!1)}};C.useEffect(()=>{J(m,N)},[m,N]),C.useEffect(()=>{B(n.filter(U=>{const Y=U.studentName??"",se=U.studentCurrentRoomNumber??"",ce=U.studentRegistrationNumber??"",Ae=U.studentPhoneNumber??"",ge=U.branchName??"",fe=u.toLowerCase();return Y.toLowerCase().includes(fe)||se.toLowerCase().includes(fe)||ce.toLowerCase().includes(fe)||ge.toLowerCase().includes(fe)||Ae.includes(fe)}))},[n,u]);const Z=y.length,ee=y.reduce((U,Y)=>U+Y.cashPaid+Y.onlinePaid,0),q=y.reduce((U,Y)=>U+Y.dueAmount,0),W=y.reduce((U,Y)=>U+Y.cashPaid,0),X=y.reduce((U,Y)=>U+Y.onlinePaid,0),K=y.reduce((U,Y)=>U+(Y.studentSecurityMoney||0),0),le=U=>{H(U),L(U.dueAmount>0?U.dueAmount.toFixed(2):""),G("cash"),_(!0)},ne=async()=>{if(!O){Ee.error("No collection selected for payment.");return}if(!D){Ee.error("Payment amount is required");return}const U=parseFloat(D);if(isNaN(U)||U<=0){Ee.error("Invalid payment amount. Must be greater than 0.");return}if(U>O.dueAmount+.001){Ee.error(`Payment amount (${U.toFixed(2)}) cannot exceed current due amount (${O.dueAmount.toFixed(2)}).`);return}V(!0);try{await Re.updateHostelCollectionPayment(String(O.historyId),{payment_amount:U,payment_type:T}),Ee.success("Payment updated successfully"),_(!1),H(null),await J(m,N)}catch(Y){console.error("[HostelCollectionDue] Failed to update payment:",Y),Ee.error(Y.message||"Failed to update payment")}finally{V(!1)}};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(wn,{isCollapsed:t,setIsCollapsed:r}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:a.jsxs(sn.div,{className:"max-w-full mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(sn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:" Hostel Collections & Due"}),a.jsx("p",{className:"text-gray-600 mb-6 text-sm md:text-base",children:"View and manage hostel student payment history and dues."}),a.jsxs(sn.div,{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:[a.jsx("input",{type:"text",placeholder:"Search by Name, Room, Reg No, Phone...",value:u,onChange:U=>h(U.target.value),className:"md:col-span-1 p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base"}),a.jsx("input",{type:"month",value:m,onChange:U=>w(U.target.value),className:"p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base"}),a.jsxs("select",{value:N,onChange:U=>j(U.target.value),className:"p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-300 text-sm md:text-base",children:[a.jsx("option",{value:"",children:"All Branches"}),p.map(U=>a.jsx("option",{value:U.id,children:U.name},U.id))]})]}),a.jsxs(sn.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Filtered Records"}),a.jsx("p",{className:"text-xl font-bold text-gray-800",children:Z})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Collected"}),a.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",ee.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Security Money"}),a.jsxs("p",{className:"text-xl font-bold text-orange-600",children:["",K.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Due"}),a.jsxs("p",{className:"text-xl font-bold text-red-600",children:["",q.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Cash Collected"}),a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["",W.toFixed(2)]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Online Collected"}),a.jsxs("p",{className:"text-xl font-bold text-purple-600",children:["",X.toFixed(2)]})]})]}),i&&a.jsx("div",{className:"text-center text-gray-500 py-10",children:"Loading collections..."}),l&&!i&&a.jsxs("div",{className:"text-center text-red-500 py-10",children:["Error: ",l]}),!i&&!l&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Student Name"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Current Room (M)"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Security Money"})," ",a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Reg. No"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Stay Start"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Stay End"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Total Fee"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Cash Paid"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Online Paid"}),a.jsx("th",{className:"px-3 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Due Amount"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Remark (H)"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Created (H)"}),a.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:15,className:"px-3 py-4 text-center text-gray-500",children:[" ","No collections found for the selected criteria."]})}):y.map(U=>a.jsxs(sn.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:U.studentName||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:U.branchName||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:U.studentCurrentRoomNumber||"N/A"}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["",(U.studentSecurityMoney||0).toFixed(2)]})," ",a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:U.studentRegistrationNumber||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:U.studentPhoneNumber||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:U.stayStartDate?new Date(U.stayStartDate).toLocaleDateString():"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:U.stayEndDate?new Date(U.stayEndDate).toLocaleDateString():"N/A"}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["",U.totalFee.toFixed(2)]}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["",U.cashPaid.toFixed(2)]}),a.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-right",children:["",U.onlinePaid.toFixed(2)]}),a.jsxs("td",{className:`px-3 py-4 whitespace-nowrap text-right font-semibold ${U.dueAmount>0?"text-red-600":"text-green-600"}`,children:["",U.dueAmount.toFixed(2)]}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap truncate max-w-xs",title:U.historyRemark||"",children:U.historyRemark||"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:U.historyCreatedAt?new Date(U.historyCreatedAt).toLocaleString():"N/A"}),a.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:U.dueAmount>0&&a.jsx("button",{onClick:()=>le(U),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Pay Due"})})]},U.historyId))})]})}),I&&O&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm",children:a.jsxs(sn.div,{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full m-4",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},children:[a.jsxs("h3",{className:"text-lg font-semibold mb-1 text-gray-800",children:["Pay Due for ",O.studentName||"N/A"]}),a.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Room: ",O.studentCurrentRoomNumber||"N/A"," | Branch: ",O.branchName||"N/A"]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Current Due: ",a.jsxs("span",{className:"font-bold text-red-600",children:["",O.dueAmount.toFixed(2)]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"paymentAmount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount"}),a.jsx("input",{id:"paymentAmount",type:"number",value:D,onChange:U=>L(U.target.value),placeholder:"Enter payment amount",className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400",step:"0.01",min:"0.01",max:O.dueAmount.toString(),required:!0})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"paymentType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Type"}),a.jsxs("select",{id:"paymentType",value:T,onChange:U=>G(U.target.value),className:"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400",children:[a.jsx("option",{value:"cash",children:"Cash"}),a.jsx("option",{value:"online",children:"Online"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",children:"Cancel"}),a.jsx("button",{type:"button",onClick:ne,disabled:M,className:"px-4 py-2 bg-purple-600 text-white rounded-md text-sm font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:bg-purple-300",children:M?"Processing...":"Submit Payment"})]})]})})]})})]})},rbe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(null),[A,u]=C.useState(!1),[h,m]=C.useState(null),[w,p]=C.useState(""),[b,N]=C.useState(""),[j,y]=C.useState(""),[B,I]=C.useState(""),[_,O]=C.useState(""),[H,D]=C.useState(""),[L,T]=C.useState(""),[G,M]=C.useState(0),[V,J]=C.useState(0);C.useEffect(()=>{(async()=>{try{const W=await Re.getExpiredHostelStudents();if(!W||!Array.isArray(W.expiredStudents))throw new Error("Invalid data structure received from server");n(W.expiredStudents),l(null)}catch(W){console.error("Failed to fetch expired students:",W),l(W.message||"Failed to fetch expired students"),n([]),Ee.error(W.message||"Failed to fetch expired students")}finally{i(!1)}})()},[]),C.useEffect(()=>{const q=parseFloat(B)||0,W=parseFloat(_)||0,X=q+W,le=(parseFloat(j)||0)-X;M(X),J(le>=0?le:0)},[B,_,j]);const Z=q=>{m(q),p(""),N(""),y(""),I(""),O(""),D(""),T(""),u(!0)},ee=async()=>{if(!h||!w||!b||!j){Ee.error("Required fields are missing");return}try{await Re.renewHostelStudent(h.id,{stay_start_date:w,stay_end_date:b,total_fee:parseFloat(j),cash_paid:parseFloat(B)||0,online_paid:parseFloat(_)||0,room_number:H,remark:L}),Ee.success("Student renewed successfully"),u(!1);const q=await Re.getExpiredHostelStudents();q&&Array.isArray(q.expiredStudents)?n(q.expiredStudents):(n([]),Ee.error("Invalid data structure received after renewal"))}catch(q){Ee.error(q.message||"Failed to renew student")}};return a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(wn,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:s?a.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):o?a.jsx("div",{className:"text-center text-red-500",children:o}):a.jsxs(sn.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(sn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:" Expired Hostel Memberships"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aadhar"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Latest End Date"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-4 text-center text-gray-500",children:"No expired memberships found"})}):r.map(q=>a.jsxs(sn.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.name||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.phoneNumber||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.aadharNumber||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:q.latestStayEndDate?new Date(q.latestStayEndDate).toLocaleDateString():"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:a.jsx("button",{onClick:()=>Z(q),className:"text-purple-600 hover:text-purple-800 font-medium",children:"Renew"})})]},q.id))})]})}),A&&h&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Renew Membership for ",h.name]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),a.jsx("input",{type:"date",value:w,onChange:q=>p(q.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),a.jsx("input",{type:"date",value:b,onChange:q=>N(q.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Fee"}),a.jsx("input",{type:"number",step:"0.01",value:j,onChange:q=>y(q.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Paid"}),a.jsx("input",{type:"number",step:"0.01",value:B,onChange:q=>I(q.target.value),className:"w-full p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Online Paid"}),a.jsx("input",{type:"number",step:"0.01",value:_,onChange:q=>O(q.target.value),className:"w-full p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Paid"}),a.jsx("input",{type:"text",value:`${G.toFixed(2)}`,disabled:!0,className:"w-full p-2 border rounded-md bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Amount"}),a.jsx("input",{type:"text",value:`${V.toFixed(2)}`,disabled:!0,className:"w-full p-2 border rounded-md bg-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),a.jsx("input",{type:"text",value:H,onChange:q=>D(q.target.value),className:"w-full p-2 border rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remark"}),a.jsx("textarea",{value:L,onChange:q=>T(q.target.value),className:"w-full p-2 border rounded-md",rows:3})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border rounded-md text-gray-600 hover:bg-gray-100",children:"Cancel"}),a.jsx("button",{onClick:ee,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700",children:"Renew"})]})]})})]})})]})},nbe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState({name:"",code:"",address:"",phone:"",email:""}),[s,i]=C.useState(null),[o,l]=C.useState(!1),[A,u]=C.useState(""),[h,m]=C.useState("grid"),[w,p]=C.useState(!1),[b,N]=C.useState(!0),{refreshUser:j}=ga(),y=[{bg:"bg-blue-50 dark:bg-blue-950/30",text:"text-blue-700 dark:text-blue-300",border:"border-blue-200 dark:border-blue-800/50",accent:"from-blue-500 to-sky-600",hover:"hover:border-blue-400 dark:hover:border-blue-600/50",badge:"bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-200"},{bg:"bg-emerald-50 dark:bg-emerald-950/30",text:"text-emerald-700 dark:text-emerald-300",border:"border-emerald-200 dark:border-emerald-800/50",accent:"from-emerald-500 to-teal-600",hover:"hover:border-emerald-400 dark:hover:border-emerald-600/50",badge:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-200"},{bg:"bg-purple-50 dark:bg-purple-950/30",text:"text-purple-700 dark:text-purple-300",border:"border-purple-200 dark:border-purple-800/50",accent:"from-purple-500 to-violet-600",hover:"hover:border-purple-400 dark:hover:border-purple-600/50",badge:"bg-purple-100 text-purple-800 dark:bg-purple-900/40 dark:text-purple-200"},{bg:"bg-amber-50 dark:bg-amber-950/30",text:"text-amber-700 dark:text-amber-300",border:"border-amber-200 dark:border-amber-800/50",accent:"from-amber-500 to-orange-600",hover:"hover:border-amber-400 dark:hover:border-amber-600/50",badge:"bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200"},{bg:"bg-rose-50 dark:bg-rose-950/30",text:"text-rose-700 dark:text-rose-300",border:"border-rose-200 dark:border-rose-800/50",accent:"from-rose-500 to-pink-600",hover:"hover:border-rose-400 dark:hover:border-rose-600/50",badge:"bg-rose-100 text-rose-800 dark:bg-rose-900/40 dark:text-rose-200"},{bg:"bg-indigo-50 dark:bg-indigo-950/30",text:"text-indigo-700 dark:text-indigo-300",border:"border-indigo-200 dark:border-indigo-800/50",accent:"from-indigo-500 to-blue-600",hover:"hover:border-indigo-400 dark:hover:border-indigo-600/50",badge:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/40 dark:text-indigo-200"}],B=L=>y[L%y.length];C.useEffect(()=>{(async()=>{N(!0);try{await j();const T=await Re.getBranches(),G=await Promise.all((T||[]).map(async M=>{try{const V={studentCount:Math.floor(Math.random()*150)+10},J=M.id%y.length,Z=B(M.id);return{...M,studentCount:V.studentCount||0,color:Z.badge,cardBg:`${Z.bg} ${Z.border} ${Z.hover} transition-colors duration-200`,accentGradient:Z.accent}}catch(V){console.error(`Failed to fetch stats for branch ${M.id}:`,V);const J=M.id%y.length,Z=B(M.id);return{...M,studentCount:0,color:Z.badge,cardBg:`${Z.bg} ${Z.border} ${Z.hover} transition-colors duration-200`,accentGradient:Z.accent}}}));t(G)}catch(T){console.error("Failed to load branches:",T),Ee.error(T.message||"Could not fetch branches"),t([])}finally{N(!1)}})()},[j]);const I=L=>{const{name:T,value:G}=L.target;n(M=>T in M?{...M,[T]:G}:M)},_=async()=>{try{if(await j(),s){const L=await Re.updateBranch(s.id,r);t(T=>T.map(G=>G.id===L.id?L:G)),i(null)}else{const L=await Re.addBranch(r);t(T=>[...T,L]),n({name:"",code:"",address:"",phone:"",email:""})}Ee.success("Branch saved successfully")}catch(L){console.error("Save error:",L),Ee.error(L.message||"Failed to save branch")}},O=async L=>{if(window.confirm("Are you sure?"))try{await j(),await Re.deleteBranch(L),t(T=>T.filter(G=>G.id!==L)),Ee.success("Branch deleted")}catch(T){console.error("Delete error:",T),Ee.error(T.message||"Failed to delete branch")}},H=e.filter(L=>{var T;return L.name.toLowerCase().includes(A.toLowerCase())||((T=L.code)==null?void 0:T.toLowerCase().includes(A.toLowerCase()))}),D=L=>{L.preventDefault(),_()};return a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(wn,{isCollapsed:o,setIsCollapsed:l,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:"Manage Branches"}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[H.length," ",H.length===1?"branch":"branches"," found"]})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-4 sm:mt-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx(cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search branches...",className:"pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white/50 dark:bg-gray-800/50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:A,onChange:L=>u(L.target.value)})]}),a.jsxs("div",{className:"flex bg-white dark:bg-gray-800 rounded-lg p-1 border border-gray-200 dark:border-gray-700",children:[a.jsx("button",{onClick:()=>m("grid"),className:`p-2 rounded-md ${h==="grid"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:a.jsx(VO,{size:18})}),a.jsx("button",{onClick:()=>m("list"),className:`p-2 rounded-md ${h==="list"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-300":"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:a.jsx(zee,{size:18})})]}),a.jsxs("button",{onClick:()=>{n({name:"",code:"",address:"",phone:"",email:""}),i(null),p(!0)},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-colors shadow-sm",children:[a.jsx(ef,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Add Branch"})]})]})]}),a.jsx(ixe,{children:w&&a.jsx(sn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 mb-6 overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[a.jsx("span",{className:"w-3 h-3 rounded-full mr-2 bg-indigo-500"}),s?"Edit Branch":"Add New Branch"]}),a.jsx("button",{onClick:()=>{p(!1),i(null)},className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:a.jsx(Xl,{size:20})})]}),a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Branch Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:r.name,onChange:I,placeholder:"Enter branch name",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 dark:bg-gray-700/50",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Branch Code"}),a.jsx("input",{type:"text",name:"code",value:r.code,onChange:I,placeholder:"e.g., BR-001",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 dark:bg-gray-700/50"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),a.jsx("input",{type:"text",name:"address",value:r.address,onChange:I,placeholder:"Enter full address",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 dark:bg-gray-700/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),a.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:I,placeholder:"+1 (555) 000-0000",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 dark:bg-gray-700/50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:r.email,onChange:I,placeholder:"branch@example.com",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/50 dark:bg-gray-700/50"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 dark:border-gray-700 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>{p(!1),i(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-colors flex items-center gap-2",children:[a.jsx(Sg,{size:16}),s?"Update Branch":"Add Branch"]})]})]})]})})}),b?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):H.length===0?a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border-2 border-dashed border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-indigo-50 dark:bg-indigo-900/30 flex items-center justify-center mb-4",children:a.jsx(Rl,{size:32,className:"text-indigo-500"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"No branches found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4 max-w-md mx-auto",children:A?"No branches match your search. Try a different term.":"Get started by adding your first branch."}),!A&&a.jsxs("button",{onClick:()=>{n({name:"",code:"",address:"",phone:"",email:""}),i(null),p(!0)},className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-sm font-medium",children:[a.jsx(ef,{size:16,className:"mr-2"}),"Add Branch"]})]}):h==="grid"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(L=>a.jsx(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"group relative",children:a.jsxs("div",{className:`p-6 rounded-lg shadow-sm transition-all duration-300 hover:shadow-lg hover:-translate-y-1 border-l-4 ${L.accentGradient?`border-l-4 bg-gradient-to-r ${L.accentGradient} bg-[length:200%_100%] hover:bg-[100%_100%]`:""} ${L.cardBg} group cursor-pointer`,children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center mb-2",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium shadow-sm ${L.color}`,children:L.code||"BR-"+L.id.toString().padStart(3,"0")})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:L.name})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{n({name:L.name,code:L.code||"",address:L.address||"",phone:L.phone||"",email:L.email||""}),i(L),p(!0)},className:"p-1.5 rounded-md text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Edit branch",children:a.jsx(NN,{size:16})}),a.jsx("button",{onClick:()=>O(L.id),className:"p-1.5 rounded-md text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors","aria-label":"Delete branch",children:a.jsx(pa,{size:16})})]})]}),a.jsxs("div",{className:"mt-4 space-y-3 text-sm",children:[L.address&&a.jsxs("div",{className:"flex items-start",children:[a.jsx(Rl,{className:"flex-shrink-0 h-4 w-4 text-gray-400 mt-0.5 mr-2"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:L.address})]}),(L.phone||L.email)&&a.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:[L.phone&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(li,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("a",{href:`tel:${L.phone}`,className:"text-indigo-600 dark:text-indigo-400 hover:underline",children:L.phone})]}),L.email&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Gl,{className:"h-4 w-4 text-gray-400 mr-2"}),a.jsx("a",{href:`mailto:${L.email}`,className:"text-indigo-600 dark:text-indigo-400 hover:underline truncate",children:L.email})]})]})]})]})},L.id))}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700/50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:"Branch Name"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:"Code"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-200 uppercase tracking-wider",children:"Contact"}),a.jsx("th",{scope:"col",className:"relative px-6 py-4",children:a.jsx("span",{className:"sr-only",children:"Actions"})})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:H.map(L=>a.jsxs(sn.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors duration-200",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-lg flex items-center justify-center mr-3 shadow-sm ${L.color}`,children:a.jsx(Rl,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:L.name}),L.address&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs",children:L.address})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${L.color}`,children:L.code||"BR-"+L.id.toString().padStart(3,"0")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[L.phone&&a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:a.jsx("a",{href:`tel:${L.phone}`,className:"hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:L.phone})}),L.email&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs",children:a.jsx("a",{href:`mailto:${L.email}`,className:"hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:L.email})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>{n({name:L.name,code:L.code||"",address:L.address||"",phone:L.phone||"",email:L.email||""}),i(L),p(!0)},className:"text-gray-500 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400 transition-colors p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Edit branch",children:a.jsx(NN,{size:16})}),a.jsx("button",{onClick:()=>O(L.id),className:"text-gray-500 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-400 transition-colors p-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20",title:"Delete branch",children:a.jsx(pa,{size:16})})]})})]},L.id))})]})})})]})})]})]})},sbe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState({name:""}),[s,i]=C.useState(null),[o,l]=C.useState(!1),A=()=>{};C.useEffect(()=>{(async()=>{const b=await Re.getProducts();t(b)})()},[]);const u=p=>{const{name:b,value:N}=p.target;n(j=>({...j,[b]:N}))},h=async()=>{try{if(s){const p=await Re.updateProduct(s.id,r);t(b=>b.map(N=>N.id===p.id?p:N)),i(null)}else{const p=await Re.addProduct(r);t(b=>[...b,p]),n({name:""})}Ee.success("Product saved successfully")}catch{Ee.error("Failed to save product")}},m=p=>{i(p),n({name:p.name})},w=async p=>{window.confirm("Are you sure?")&&(await Re.deleteProduct(p),t(b=>b.filter(N=>N.id!==p)),Ee.success("Product deleted"))};return a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(wn,{isCollapsed:o,setIsCollapsed:l,onBarcodeClick:A}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-4 sm:mb-6",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-gray-100",children:"Products"}),a.jsx("div",{className:"mt-3 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-sky-500 dark:from-indigo-600 dark:via-fuchsia-600 dark:to-sky-600 shadow-sm ring-1 ring-white/30"})]}),a.jsx("div",{className:"bg-white/95 dark:bg-gray-800/95 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[a.jsx("input",{name:"name",value:r.name,onChange:u,placeholder:"Product Name",className:"w-full sm:w-auto flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white/95 dark:bg-gray-700/80 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-300 shadow-sm"}),a.jsxs("button",{onClick:h,className:"px-4 py-2 bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 ring-1 ring-white/20",children:[s?"Update":"Add"," Product"]})]})}),a.jsx("div",{className:"bg-white/95 dark:bg-gray-800/95 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[480px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-indigo-50 via-fuchsia-50 to-sky-50 dark:from-gray-700 dark:via-gray-700 dark:to-gray-700",children:[a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-semibold text-gray-600 dark:text-gray-200",children:"Name"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-semibold text-gray-600 dark:text-gray-200",children:"Actions"})]})}),a.jsx("tbody",{children:e.map(p=>a.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[a.jsx("td",{className:"px-4 sm:px-6 py-3 text-gray-800 dark:text-gray-100",children:p.name}),a.jsx("td",{className:"px-4 sm:px-6 py-3",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>m(p),className:"px-2 py-1 text-xs rounded-md bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",children:"Edit"}),a.jsx("button",{onClick:()=>w(p.id),className:"px-2 py-1 text-xs rounded-md bg-rose-50 text-rose-700 border border-rose-200 hover:bg-rose-100 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800",children:"Delete"})]})})]},p.id))})]})})]})})]})]})},abe=()=>{const e=Ur();try{const o=ga();if(!o||!o.user)throw new Error("Auth context is not available")}catch(o){return console.error("Auth context error:",o),Ee.error("Authentication error. Please log in again."),e("/login"),null}const[t,r]=C.useState({totalStudents:0,branches:[],expiredCount:0,totalCollection:0,totalDue:0}),[n,s]=C.useState(!0),i=async()=>{var o;s(!0);try{const[l,A,u,h]=await Promise.all([Re.getHostelBranches(),Re.getHostelStudents(),Re.getExpiredHostelStudents(),Re.getHostelCollections()]),m=(A??[]).reduce((y,B)=>{const I=B.branchId;return I&&(y[I]=(y[I]||0)+1),y},{}),w=(Array.isArray(l)?l:[]).map(y=>({...y,studentCount:m[y.id]||0})),p=((o=u==null?void 0:u.expiredStudents)==null?void 0:o.length)??0,b=(h==null?void 0:h.collections)??[],N=b.reduce((y,B)=>y+parseFloat(String(B.cashPaid||0))+parseFloat(String(B.onlinePaid||0)),0),j=b.reduce((y,B)=>y+parseFloat(String(B.dueAmount||0)),0);r({totalStudents:Array.isArray(A)?A.length:0,branches:w,expiredCount:p,totalCollection:N,totalDue:j})}catch(l){Ee.error("Failed to load hostel statistics"),console.error("Error fetching hostel stats:",l)}finally{s(!1)}};return C.useEffect(()=>{i()},[]),a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(wn,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Hostel Dashboard"}),a.jsx("div",{className:"my-8",children:n?a.jsx("div",{className:"text-center p-4 bg-white rounded-lg shadow",children:"Loading hostel stats..."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx(Hn,{title:"Total Hostel Students",value:t.totalStudents,icon:a.jsx(ci,{className:"h-6 w-6 text-cyan-500"}),iconBgColor:"bg-cyan-100",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-cyan-400"})}),a.jsx(Tt,{to:"/hostel/collections",className:"block",children:a.jsx(Hn,{title:"Total Hostel Collection",value:t.totalCollection,icon:a.jsx(Eg,{className:"h-6 w-6 text-green-500"}),iconBgColor:"bg-green-100",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-green-400"})})}),a.jsx(Tt,{to:"/hostel/collections",className:"block",children:a.jsx(Hn,{title:"Total Hostel Due",value:t.totalDue,icon:a.jsx(ta,{className:"h-6 w-6 text-red-500"}),iconBgColor:"bg-red-100",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-red-400"})})}),a.jsx(Tt,{to:"/hostel/expired",className:"block",children:a.jsx(Hn,{title:"Expired Students",value:t.expiredCount,icon:a.jsx(ji,{className:"h-6 w-6 text-orange-500"}),iconBgColor:"bg-orange-100",arrowIcon:a.jsx(gr,{className:"h-5 w-5 text-orange-400"})})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:"Branch Details"}),t.branches.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.branches.map(o=>a.jsxs(Tt,{to:`/hostel/branches/${o.id}/students`,className:"block p-4 bg-white rounded-lg shadow-md hover:shadow-lg hover:scale-105 transition-all duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-semibold text-lg text-gray-800 truncate",children:o.name}),a.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:a.jsx(jS,{className:"h-5 w-5 text-indigo-500"})})]}),a.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-600",children:[a.jsx(ci,{className:"h-4 w-4 mr-2 text-gray-400"}),a.jsxs("span",{children:[o.studentCount," Students"]})]})]},o.id))}):a.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-center text-gray-500",children:"No hostel branches have been added yet."})]})]})})]})})]})]})},ibe=()=>{const[e,t]=C.useState(!1),[r,n]=C.useState([]),[s,i]=C.useState(!0),[o,l]=C.useState(null);return C.useEffect(()=>{(async()=>{i(!0),l(null);try{const u=await Re.getHostelStudents();if(!Array.isArray(u))throw new Error("Invalid data received from server");const h=new Date;h.setHours(0,0,0,0);const m=u.filter(w=>w.stayEndDate?new Date(w.stayEndDate)>=h:!1).map(w=>({id:w.id,name:w.name,phoneNumber:w.studentPhoneNumber||"N/A",branchName:w.branchName||"N/A",stayEndDate:new Date(w.stayEndDate).toLocaleDateString()}));n(m)}catch(u){console.error("Failed to fetch active students:",u);const h=u.message||"Failed to fetch active students";l(h),Ee.error(h)}finally{i(!1)}})()},[]),a.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#fef9f6]",children:[a.jsx(wn,{isCollapsed:e,setIsCollapsed:t}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:s?a.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):o?a.jsx("div",{className:"text-center text-red-500",children:o}):a.jsxs(sn.div,{className:"max-w-7xl mx-auto",initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(sn.h1,{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-4 flex items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:" Active Hostel Students"}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Membership End Date"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-4 py-4 text-center text-gray-500",children:"No active students found."})}):r.map(A=>a.jsxs(sn.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.name}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.phoneNumber}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.branchName}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-800",children:A.stayEndDate})]},A.id))})]})})]})})]})},obe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(!1),[o,l]=C.useState("card"),[A,u]=C.useState(""),[h,m]=C.useState(1),[w,p]=C.useState(12),b=ul();Ur();const N=async()=>{try{n(!0);const O=await Re.getInactiveStudents();t(O.students)}catch(O){console.error("Failed to fetch inactive students:",O.message),Ee.error("Failed to fetch inactive students")}finally{n(!1)}};C.useEffect(()=>{N()},[]);const j=async O=>{if(window.confirm("Are you sure you want to reactivate this student?"))try{await Re.updateStudentStatus(O,{isActive:!0}),Ee.success("Student activated successfully"),N()}catch(H){console.error("Failed to activate student:",H.message),Ee.error("Failed to activate student")}},y=e.filter(O=>O.name.toLowerCase().includes(A.toLowerCase())||O.phone&&O.phone.includes(A)||O.registrationNumber&&O.registrationNumber.toLowerCase().includes(A.toLowerCase())||O.branchName&&O.branchName.toLowerCase().includes(A.toLowerCase())),B=h*w,I=B-w,_=y.slice(I,B);return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(wn,{isCollapsed:s,setIsCollapsed:i,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"border-b bg-white/80 backdrop-blur-md",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6",children:a.jsxs("div",{className:"flex gap-3 overflow-x-auto py-3",children:[a.jsxs(Tt,{to:"/students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-indigo-50 via-sky-50 to-indigo-100 text-indigo-700 ring-1 ring-indigo-200/50 ${b.pathname.startsWith("/students")&&!b.pathname.startsWith("/students/")?"ring-2 ring-indigo-300":""}`,children:[a.jsx(ci,{className:"h-4 w-4"}),"All Students"]}),a.jsxs(Tt,{to:"/active-students",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-emerald-50 via-teal-50 to-emerald-100 text-emerald-700 ring-1 ring-emerald-200/50 ${b.pathname.startsWith("/active-students")?"ring-2 ring-emerald-300":""}`,children:[a.jsx(ji,{className:"h-4 w-4"}),"Active Students"]}),a.jsxs(Tt,{to:"/expired-memberships",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-rose-50 via-pink-50 to-rose-100 text-rose-700 ring-1 ring-rose-200/50 ${b.pathname.startsWith("/expired-memberships")?"ring-2 ring-rose-300":""}`,children:[a.jsx(ta,{className:"h-4 w-4"}),"Expired Memberships"]}),a.jsxs(Tt,{to:"/expiring-memberships?range=1-2",className:`inline-flex items-center gap-2 px-4 py-2 rounded-full text-sm md:text-base font-medium shadow-sm bg-gradient-to-r from-amber-50 via-orange-50 to-amber-100 text-amber-700 ring-1 ring-amber-200/50 ${b.pathname.startsWith("/expiring-memberships")?"ring-2 ring-amber-300":""}`,children:[a.jsx(Zn,{className:"h-4 w-4"}),"Expiring 12 Days"]})]})})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Inactive Students"}),a.jsx("p",{className:"text-gray-500",children:"List of all manually deactivated students."})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-col md:flex-row items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("h3",{className:"text-lg font-medium flex-1",children:"Inactive Students"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>l("list"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${o==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"List View",children:[a.jsx(Fd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"List"})]}),a.jsxs("button",{onClick:()=>l("card"),className:`flex items-center gap-1 px-3 py-1.5 rounded-md text-sm ${o==="card"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,title:"Card View",children:[a.jsx(UA,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Cards"})]})]})]}),a.jsx("div",{className:"relative w-full md:w-64",children:a.jsx("input",{type:"text",placeholder:"Search inactive students...",className:"w-full pl-3 pr-3 py-2 text-sm rounded-lg border border-gray-200 focus:outline-none focus:ring-1 focus:ring-purple-300",value:A,onChange:O=>u(O.target.value)})})]}),o==="list"?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ZA,{children:[a.jsx(JA,{children:a.jsxs(js,{children:[a.jsx(hr,{children:"Name"}),a.jsx(hr,{children:"Registration Number"}),a.jsx(hr,{children:"Phone"}),a.jsx(hr,{children:"Branch"}),a.jsx(hr,{children:"Actions"})]})}),a.jsx(eu,{children:r?a.jsx(js,{children:a.jsx(sr,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):y.length>0?_.map(O=>a.jsxs(js,{children:[a.jsx(sr,{children:O.name}),a.jsx(sr,{children:O.registrationNumber||"N/A"}),a.jsx(sr,{children:O.phone}),a.jsx(sr,{children:O.branchName||"N/A"}),a.jsx(sr,{children:a.jsxs("button",{onClick:()=>j(O.id),className:"flex items-center gap-2 text-green-600 hover:text-green-800 font-semibold p-2",title:"Reactivate Student",children:[a.jsx(Ky,{size:18}),a.jsx("span",{children:"Activate"})]})})]},O.id)):a.jsx(js,{children:a.jsx(sr,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No inactive students found."})})})]})}):a.jsx("div",{className:"p-4",children:r?a.jsx("div",{className:"text-center text-gray-500 py-8",children:"Loading..."}):_.length>0?a.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 items-stretch",children:_.map(O=>a.jsxs("div",{className:"rounded-xl border shadow-md p-4 flex flex-col h-full bg-gradient-to-br from-amber-50 via-orange-50 to-amber-100 border-amber-200 ring-1 ring-white/60 transition-transform duration-200 ease-out transform-gpu will-change-transform hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.5deg]",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:O.name}),a.jsxs("p",{className:"mt-0.5 text-xs text-gray-600 flex items-center gap-1",children:[a.jsx(IS,{className:"h-3.5 w-3.5 text-amber-500/80"})," Reg: ",O.registrationNumber||"N/A"]})]}),a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-800",children:"Inactive"})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-gray-700",children:[a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(li,{className:"h-3.5 w-3.5 text-slate-400"})," Phone"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:O.phone})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-600 flex items-center gap-1",children:[a.jsx(Io,{className:"h-3.5 w-3.5 text-slate-400"})," Branch"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-slate-800",children:O.branchName||"N/A"})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/70 border border-white/60 col-span-2",children:[a.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-600",children:"Actions"}),a.jsx("div",{className:"mt-1",children:a.jsxs("button",{onClick:()=>j(O.id),className:"inline-flex items-center gap-2 text-green-700 bg-green-50 hover:bg-green-100 border border-green-200 px-3 py-1.5 rounded-md text-sm font-semibold",title:"Reactivate Student",children:[a.jsx(Ky,{size:16})," Activate"]})})]})]})]},O.id))}):a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No inactive students found."})})]}),!r&&y.length>0&&a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between border-t p-4 gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:w,onChange:O=>{p(Number(O.target.value)),m(1)},className:"text-sm border rounded py-2 px-3",children:[a.jsx("option",{value:12,children:"12"}),a.jsx("option",{value:24,children:"24"}),a.jsx("option",{value:48,children:"48"})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"per page"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{disabled:h===1,onClick:()=>m(O=>Math.max(1,O-1)),className:"px-3 py-1.5 rounded-md border text-sm disabled:opacity-50",children:"Prev"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",h," of ",Math.max(1,Math.ceil(y.length/w))]}),a.jsx("button",{disabled:B>=y.length,onClick:()=>m(O=>O+1),className:"px-3 py-1.5 rounded-md border text-sm disabled:opacity-50",children:"Next"})]})]})]})})]})]})},lbe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState([]),[s,i]=C.useState(null),[o,l]=C.useState(!0),[A,u]=C.useState(null),[h,m]=C.useState({lockerNumber:"",branchId:null}),[w,p]=C.useState(!1),b=()=>{};C.useEffect(()=>{(async()=>{try{const H=await Re.getBranches();n(H)}catch(H){Ee.error("Failed to load branches"),console.error("Failed to fetch branches:",H)}finally{l(!1)}})()},[]),C.useEffect(()=>{(async()=>{if(s&&s.value){l(!0);try{const H=await Re.getLockers(s.value);t(H.lockers)}catch(H){Ee.error("Failed to load lockers for this branch"),console.error("Failed to fetch lockers:",H)}finally{l(!1)}}else t([])})()},[s]);const N=async()=>{if(!h.lockerNumber){Ee.error("Locker number is required");return}if(!s||!s.value){Ee.error("Please select a branch first");return}try{const O=await Re.createLocker({lockerNumber:h.lockerNumber,branchId:s.value});t(H=>[O.locker,...H]),m({lockerNumber:"",branchId:null}),Ee.success("Locker created successfully")}catch(O){console.error("Failed to create locker:",O),Ee.error(O.message||"Failed to create locker")}},j=async()=>{if(!A||!h.lockerNumber||!h.branchId){Ee.error("Locker number and branch are required");return}try{const O=await Re.updateLocker(A.id,{lockerNumber:h.lockerNumber,branchId:h.branchId});if(s&&s.value){const H=await Re.getLockers(s.value);t(H.lockers)}u(null),m({lockerNumber:"",branchId:null}),Ee.success("Locker updated successfully")}catch(O){console.error("Failed to update locker:",O),Ee.error(O.message||"Failed to update locker")}},y=async O=>{if(window.confirm("Are you sure you want to delete this locker? This action cannot be undone."))try{await Re.deleteLocker(O),t(e.filter(H=>H.id!==O)),Ee.success("Locker deleted successfully")}catch(H){console.error("Failed to delete locker:",H),Ee.error(H.message||"Failed to delete locker")}},B=r.map(O=>({value:O.id,label:O.name})),I=O=>{u(O),m({lockerNumber:O.lockerNumber,branchId:O.branchId||null})},_=()=>{u(null),m({lockerNumber:"",branchId:null})};return a.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(wn,{isCollapsed:w,setIsCollapsed:p,onBarcodeClick:b}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2 sm:mb-3 text-gray-800 dark:text-gray-100",children:"Locker Management"}),a.jsx("div",{className:"mb-6 h-2 rounded-full bg-gradient-to-r from-indigo-500 via-fuchsia-500 to-sky-500 dark:from-indigo-600 dark:via-fuchsia-600 dark:to-sky-600 shadow-sm ring-1 ring-white/30"}),a.jsxs("div",{className:"mb-6 max-w-sm",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Branch"}),a.jsx(bi,{options:B,value:s,onChange:O=>i(O),placeholder:"Select a branch to view lockers",isClearable:!0})]}),a.jsxs("div",{className:`mb-6 bg-white/95 dark:bg-gray-800/95 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm p-4 ring-1 ring-indigo-100/70 dark:ring-indigo-900/40 ${s?"":"opacity-50"}`,children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:A?`Editing Locker: ${A.lockerNumber}`:"Add New Locker"}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[a.jsx("input",{type:"text",value:h.lockerNumber,onChange:O=>m(H=>({...H,lockerNumber:O.target.value})),placeholder:"Enter locker number",className:"flex-1 px-4 py-2 border border-indigo-200 dark:border-indigo-700 rounded-lg bg-white/95 dark:bg-gray-800/90 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-300 shadow-sm",disabled:!s&&!A}),A&&a.jsx("div",{className:"w-full sm:w-48",children:a.jsx(bi,{options:B,value:B.find(O=>O.value===h.branchId),onChange:O=>m(H=>({...H,branchId:(O==null?void 0:O.value)||null}))})}),A?a.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[a.jsxs("button",{onClick:j,className:"flex items-center px-4 py-2 bg-gradient-to-r from-violet-600 via-fuchsia-500 to-sky-500 text-white rounded-md shadow-md hover:from-violet-500 hover:via-fuchsia-400 hover:to-sky-400 focus:ring-2 focus:ring-violet-300 ring-1 ring-white/20",children:[a.jsx(jg,{size:16,className:"mr-2"})," Save"]}),a.jsxs("button",{onClick:_,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:[a.jsx(Xl,{size:16,className:"mr-2"})," Cancel"]})]}):a.jsxs("button",{onClick:N,disabled:!s,className:"flex items-center px-4 py-2 bg-gradient-to-r from-emerald-600 to-teal-500 text-white rounded-md shadow-md hover:from-emerald-500 hover:to-teal-400 disabled:bg-gray-400",children:[a.jsx(ef,{size:16,className:"mr-2"})," Add Locker"]})]}),!s&&!A&&a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Please select a branch to add a new locker."})]}),a.jsx("div",{className:"bg-white/95 dark:bg-gray-800/95 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm overflow-x-auto",children:a.jsxs("table",{className:"w-full min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-indigo-50 via-amber-50 to-rose-50 dark:from-gray-700 dark:via-gray-700 dark:to-gray-700",children:[a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Locker Number"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Branch"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Status"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Assigned Student"}),a.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs sm:text-sm font-medium text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-4",children:"Loading..."})}):e.length>0?e.map(O=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 sm:px-6 py-4 font-medium",children:O.lockerNumber}),a.jsx("td",{className:"px-4 sm:px-6 py-4 text-gray-600",children:O.branchName}),a.jsx("td",{className:"px-4 sm:px-6 py-4",children:a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${O.isAssigned?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:O.isAssigned?"Assigned":"Available"})}),a.jsx("td",{className:"px-4 sm:px-6 py-4 text-gray-600",children:O.studentName||"N/A"}),a.jsx("td",{className:"px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[a.jsx("button",{onClick:()=>I(O),className:"px-2 py-1 text-xs rounded-md bg-indigo-50 text-indigo-700 border border-indigo-200 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",title:"Edit Locker",children:a.jsx(LS,{size:16})}),a.jsx("button",{onClick:()=>y(O.id),className:"px-2 py-1 text-xs rounded-md bg-rose-50 text-rose-700 border border-rose-200 hover:bg-rose-100 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800",title:"Delete Locker",children:a.jsx(pa,{size:16})})]})})]},O.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:s?"No lockers found for this branch.":"Please select a branch to view lockers."})})})]})})]})})]})]})},cbe=()=>{var se;const[e,t]=C.useState([]),[r,n]=C.useState(null),[s,i]=C.useState(!0),[o,l]=C.useState(""),[A,u]=C.useState(new Date().toISOString().split("T")[0]),[h,m]=C.useState(!1),[w,p]=C.useState(!1),[b,N]=C.useState(null),[j,y]=C.useState("daily"),[B,I]=C.useState(!1),[_,O]=C.useState({startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[H,D]=C.useState(new Date().toISOString().slice(0,7)),[L,T]=C.useState("all"),[G,M]=C.useState({page:1,limit:50,total:0}),V=ce=>{l(ce),M(Ae=>({...Ae,page:1}))},J=ce=>{D(ce),M(Ae=>({...Ae,page:1}))},Z=ce=>{y(ce),M(Ae=>({...Ae,page:1}))},ee=ce=>{T(ce),M(Ae=>({...Ae,page:1}))},q=()=>{l(""),u(new Date().toISOString().split("T")[0]),D(new Date().toISOString().slice(0,7)),T("all"),I(!1),M(ce=>({...ce,page:1}))};C.useEffect(()=>{X(),K(),W()},[j,A,H,L,o,G.page]);const W=async()=>{try{const ce=await Re.getLibraryProfile();N({id:ce.library.id,library_code:ce.library.libraryCode,name:ce.library.libraryName})}catch(ce){console.error("Error loading library info:",ce)}},X=async()=>{i(!0);try{const ce={page:G.page,limit:G.limit,view:j,search:o.trim()};if(j==="daily")B&&_.startDate&&_.endDate?ce.date=_.startDate:ce.date=A;else if(j==="monthly"){const[ge,fe]=H.split("-");ce.month=parseInt(fe),ce.year=parseInt(ge)}console.log("Loading attendance with filters:",ce);const Ae=await Re.fetchAttendance(ce);t(Ae.attendance||[]),M(ge=>{var fe;return{...ge,total:((fe=Ae.pagination)==null?void 0:fe.totalRecords)||0}})}catch(ce){console.error("Error loading attendance:",ce),ar.error(ce.message||"Failed to load attendance records"),t([])}finally{i(!1)}},K=async()=>{try{const[ce,Ae,ge]=await Promise.all([Re.getDashboardStats(),Re.getTotalStudentsCount().catch(()=>0),Re.getActiveStudentsCount().catch(()=>0)]);n({totalCollection:ce.totalCollection||0,totalDue:ce.totalDue||0,totalExpense:ce.totalExpense||0,profitLoss:ce.profitLoss||0,totalStudents:Number(Ae)||0,activeStudents:Number(ge)||0,todayAttendance:e.length,monthlyAttendance:e.length})}catch(ce){console.error("Error loading stats:",ce),n({totalCollection:0,totalDue:0,totalExpense:0,profitLoss:0,totalStudents:0,activeStudents:0,todayAttendance:e.length,monthlyAttendance:e.length})}},le=()=>{p(!0)},ne=ce=>{if(!ce)return"--:--";try{return new Date(ce).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})}catch{return"--:--"}},U=ce=>{try{return new Date(ce).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}catch{return ce}},Y=()=>{const Ae=[["Student Name","Registration Number","Phone","Date","First In","Last Out","Total Scans"].join(","),...e.map(ke=>[ke.studentName,ke.registrationNumber,ke.phone,U(ke.date),ne(ke.firstIn),ne(ke.lastOut),ke.totalScans].join(","))].join(`
`),ge=new Blob([Ae],{type:"text/csv"}),fe=window.URL.createObjectURL(ge),je=document.createElement("a");je.href=fe,je.download=`attendance-${j}-${A||H}.csv`,je.click(),window.URL.revokeObjectURL(fe)};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(wn,{isCollapsed:h,setIsCollapsed:m,onBarcodeClick:le}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-auto p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Attendance Management"}),a.jsx("p",{className:"text-blue-100",children:"Monitor and analyze student attendance patterns"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex bg-white/20 backdrop-blur-sm rounded-lg p-1",children:[a.jsxs("button",{onClick:()=>Z("daily"),className:`px-4 py-2 rounded-md transition-all duration-200 flex items-center space-x-2 ${j==="daily"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[a.jsx(Hee,{className:"w-4 h-4"}),a.jsx("span",{children:"Daily"})]}),a.jsxs("button",{onClick:()=>Z("monthly"),className:`px-4 py-2 rounded-md transition-all duration-200 flex items-center space-x-2 ${j==="monthly"?"bg-white text-blue-600 shadow-lg":"text-white hover:bg-white/20"}`,children:[a.jsx(sI,{className:"w-4 h-4"}),a.jsx("span",{children:"Monthly"})]})]}),a.jsxs("button",{onClick:()=>I(!B),className:`bg-white/20 backdrop-blur-sm hover:bg-white/30 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2 ${B?"ring-2 ring-white/50":""}`,children:[a.jsx(ES,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"})]}),a.jsxs("button",{onClick:Y,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2",children:[a.jsx(Y0,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]}),a.jsxs("button",{onClick:X,disabled:s,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 disabled:opacity-50 px-4 py-2 rounded-lg transition-all duration-200 flex items-center space-x-2",children:[a.jsx(BN,{className:`w-4 h-4 ${s?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]})]})]}),B&&a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 mb-4 border border-white/20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Search Students"}),a.jsxs("div",{className:"relative",children:[a.jsx(cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-blue-200"}),a.jsx("input",{type:"text",placeholder:"Name, phone, or reg. no.",value:o,onChange:ce=>V(ce.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),j==="daily"?a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Date Range"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"date",value:_.startDate,onChange:ce=>O(Ae=>({...Ae,startDate:ce.target.value})),className:"flex-1 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"}),a.jsx("input",{type:"date",value:_.endDate,onChange:ce=>O(Ae=>({...Ae,endDate:ce.target.value})),className:"flex-1 px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}):a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Select Month"}),a.jsx("input",{type:"month",value:H,onChange:ce=>J(ce.target.value),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100",children:"Filter by Status"}),a.jsxs("select",{value:L,onChange:ce=>ee(ce.target.value),className:"w-full px-3 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[a.jsx("option",{value:"all",className:"text-gray-800",children:"All Students"}),a.jsx("option",{value:"present",className:"text-gray-800",children:"Present Only"}),a.jsx("option",{value:"absent",className:"text-gray-800",children:"Absent Only"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-blue-100 opacity-0",children:"Action"}),a.jsxs("button",{onClick:X,className:"w-full bg-white/30 hover:bg-white/40 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2",children:[a.jsx(ma,{className:"w-4 h-4"}),a.jsx("span",{children:"Apply Filters"})]})]})]}),(o||L!=="all")&&a.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:a.jsxs("button",{onClick:q,className:"text-white/80 hover:text-white text-sm flex items-center space-x-1",children:[a.jsx(Xl,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear all filters"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ji,{className:"w-8 h-8 text-green-300 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length}),a.jsx("p",{className:"text-blue-100 text-sm",children:j==="daily"?"Present Today":"Monthly Records"})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wi,{className:"w-8 h-8 text-blue-300 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:(r==null?void 0:r.totalStudents)||0}),a.jsx("p",{className:"text-blue-100 text-sm",children:"Total Students"})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"w-8 h-8 text-yellow-300 mr-3"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length>0?ne((se=e[0])==null?void 0:se.firstIn):"--:--"}),a.jsx("p",{className:"text-blue-100 text-sm",children:"First Check-in"})]})]})}),a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(jN,{className:"w-8 h-8 text-purple-300 mr-3"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:[r?Math.round(e.length/r.totalStudents*100):0,"%"]}),a.jsx("p",{className:"text-blue-100 text-sm",children:"Attendance Rate"})]})]})})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:s?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(BN,{className:"w-8 h-8 animate-spin text-blue-500"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading attendance records..."})]}):e.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Wi,{className:"w-4 h-4 mr-2"}),"Student Details"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(qs,{className:"w-4 h-4 mr-2"}),"Date"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"w-4 h-4 mr-2"}),"First In"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Last Out"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(sI,{className:"w-4 h-4 mr-2"}),"Total Scans"]})}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Status"]})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:e.map((ce,Ae)=>{var ge,fe;return a.jsxs("tr",{className:`hover:bg-blue-50 transition-colors duration-150 ${Ae%2===0?"bg-white":"bg-gray-50/50"}`,children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold text-sm",children:((fe=(ge=ce.studentName)==null?void 0:ge.charAt(0))==null?void 0:fe.toUpperCase())||"S"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:ce.studentName}),a.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[a.jsx(li,{className:"w-3 h-3 mr-1"}),ce.phone]}),ce.registrationNumber&&a.jsxs("div",{className:"text-xs text-gray-400",children:["Reg: ",ce.registrationNumber]})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:U(ce.date)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:a.jsx(Zn,{className:"w-4 h-4 text-green-600"})}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ne(ce.firstIn)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-red-100 p-2 rounded-lg mr-3",children:a.jsx(Zn,{className:"w-4 h-4 text-red-600"})}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ne(ce.lastOut)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[ce.totalScans," scans"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ce.lastOut?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:ce.lastOut?"Checked Out":"Checked In"})})]},`${ce.studentId}-${ce.date}`)})})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ta,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No attendance records found"}),a.jsx("p",{className:"text-gray-500",children:o||L!=="all"?"Try adjusting your filters or search terms.":`No attendance records for ${j==="daily"?"this date":"this month"}.`})]})}),G.total>G.limit&&a.jsxs("div",{className:"flex items-center justify-between bg-white px-6 py-3 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"flex items-center text-sm text-gray-700",children:a.jsxs("span",{children:["Showing ",(G.page-1)*G.limit+1," to ",Math.min(G.page*G.limit,G.total)," of ",G.total," results"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>M(ce=>({...ce,page:Math.max(1,ce.page-1)})),disabled:G.page===1,className:"p-2 rounded-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Ud,{className:"w-4 h-4"})}),a.jsxs("span",{className:"px-3 py-1 text-sm font-medium text-gray-700",children:["Page ",G.page," of ",Math.ceil(G.total/G.limit)]}),a.jsx("button",{onClick:()=>M(ce=>({...ce,page:Math.min(Math.ceil(G.total/G.limit),ce.page+1)})),disabled:G.page>=Math.ceil(G.total/G.limit),className:"p-2 rounded-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(gr,{className:"w-4 h-4"})})]})]})]})})]}),b&&w&&a.jsx(g1,{isOpen:w,onClose:()=>p(!1),libraryCode:b.library_code,libraryName:b.name,libraryId:b.id})]})},Abe=()=>{const[e,t]=C.useState(null),[r,n]=C.useState(!1),[s,i]=C.useState(!0),[o,l]=C.useState(null);C.useEffect(()=>{A()},[]);const A=async()=>{i(!0),l(null);try{console.log("Testing QR Code Generation..."),console.log("Step 1: Testing API accessibility...");const h=await Re.getLibraryProfile();if(console.log("API Response:",h),!h||!h.library)throw new Error("No library data received from API");console.log("Step 2: Checking library data structure...");const m=h.library;if(!m.id||!m.libraryCode||!m.libraryName)throw new Error(`Missing required library fields: ${JSON.stringify(m)}`);console.log("Step 3: Setting library data for QR generation..."),t({id:m.id,library_code:m.libraryCode,name:m.libraryName}),console.log("QR Code test completed successfully!"),ar.success("QR Code generation test passed!")}catch(h){console.error("QR Code test failed:",h),l(h.message||"Failed to load library information"),ar.error(`QR Code test failed: ${h.message}`)}finally{i(!1)}},u=()=>{if(!e){ar.error("Library information not available");return}n(!0)};return a.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-md mx-auto",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx(IA,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"QR Code Test"}),a.jsx("p",{className:"text-gray-600",children:"Testing QR code generation functionality"})]}),s&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Testing QR code generation..."})]}),o&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ei,{className:"w-5 h-5 text-red-500 mr-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-red-800",children:"Test Failed"}),a.jsx("p",{className:"text-sm text-red-600 mt-1",children:o})]})]}),a.jsx("button",{onClick:A,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry Test"})]}),e&&!s&&!o&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Sc,{className:"w-5 h-5 text-green-500 mr-2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-green-800",children:"Test Passed"}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Library data loaded successfully"})]})]})}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Library Information:"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"ID:"})," ",e.id]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Code:"})," ",e.library_code]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Name:"})," ",e.name]})]})]}),a.jsxs("button",{onClick:u,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[a.jsx(IA,{className:"w-4 h-4 mr-2"}),"Generate QR Code"]})]}),e&&r&&a.jsx(g1,{isOpen:r,onClose:()=>n(!1),libraryCode:e.library_code,libraryName:e.name,libraryId:e.id})]})},ube=()=>new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},document.body.appendChild(t)}),dbe=()=>{Ur();const{user:e}=ga(),[t,r]=C.useState(null),[n,s]=C.useState(!0),[i,o]=C.useState(!1),[l,A]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const b=await Wn.get("/api/subscriptions/status");r(b.data.subscription)}catch(b){console.error("Error fetching subscription info:",b)}finally{s(!1)}})()},[]);const u=async(p,b)=>{try{if((await Wn.post("/api/subscriptions/verify-payment",{razorpay_order_id:p.razorpay_order_id,razorpay_payment_id:p.razorpay_payment_id,razorpay_signature:p.razorpay_signature,planId:b.id})).data.success){const j=await Wn.get("/api/subscriptions/status");r(j.data.subscription),alert("Payment successful! Your subscription has been activated.")}else alert("Payment verification failed. Please contact support.")}catch(N){console.error("Error verifying payment:",N),alert("Error verifying payment. Please contact support.")}},h=async p=>{if(!await ube()){alert("Failed to load Razorpay. Please check your internet connection.");return}try{const N=await Wn.post("/api/subscriptions/create-order",{planId:p.id,amount:p.amount}),j={key:"rzp_live_R9JUr6fbSLyOOM",amount:N.data.amount,currency:"INR",name:"StudyLib",description:`Subscription for ${p.name}`,order_id:N.data.id,handler:async function(B){await u(B,p)},prefill:{name:(e==null?void 0:e.username)||"",email:"",contact:""},notes:{plan_id:p.id},theme:{color:"#6366f1"}};new window.Razorpay(j).open()}catch(N){console.error("Error creating Razorpay order:",N),alert("Error initiating payment. Please try again.")}},m=p=>{if(!t||t.plan!==p)return!1;const b=t.endDate?new Date(t.endDate):null,N=new Date;return!!t.isActive&&!!b&&b.getTime()>N.getTime()},w=[{id:"free_trial",name:"Free Trial Plan",description:"Kickstart Your Journey  7 Days Free",price:"0",originalPrice:null,amount:0,features:["Full access to all features","Manage unlimited students","Track attendance","Generate reports"],cta:"Current Plan",isCurrent:m("free_trial"),disabled:!0,discount:null},{id:"1_month",name:"1-Month Plan",description:"One Month to Build a Routine",price:"225",originalPrice:"300",amount:22500,features:["Unlimited student addition","All library management features","Priority support","No restrictions"],cta:"Start My Focus Journey",isCurrent:m("1_month"),disabled:!1,discount:"25% OFF"},{id:"3_month",name:"3-Month Plan",description:"Stay Focused for 90 Days",price:"650",originalPrice:"850",amount:65e3,features:["Unlimited students","All features included","Discounted rate","Priority support"],cta:"I'm In  Let's Go",isCurrent:m("3_month"),disabled:!1,discount:"24% OFF"},{id:"6_month",name:"6-Month Plan",description:"Make This Your Growth Phase",price:"1200",originalPrice:"1600",amount:12e4,features:["Great value package","All premium features","Extended support","Best for growing libraries"],cta:"Fuel My Discipline",isCurrent:m("6_month"),disabled:!1,discount:"25% OFF"},{id:"12_month",name:"12-Month Plan",description:"All In for the Year",price:"1999",originalPrice:"3000",amount:199900,features:["Best value","All features unlocked","24/7 priority support","Focus for the long term"],cta:"Commit to Success",isCurrent:m("12_month"),disabled:!1,discount:"33% OFF"},{id:"1_day",name:"1-Day Plan",description:"Full access for 24 hours",price:"10",originalPrice:null,amount:1e3,features:["All features for 1 day","Great for quick needs","Priority support"],cta:"Get 1 Day Access",isCurrent:m("1_day"),disabled:!1,discount:null}];return n?a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[a.jsx("div",{className:`fixed inset-y-0 left-0 transform ${i?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${l?"md:w-16":"md:w-64"}`,children:a.jsx(wn,{isCollapsed:l,setIsCollapsed:A,onBarcodeClick:()=>{}})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("main",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading subscription details..."})]})})]})]}):a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[a.jsx("div",{className:`fixed inset-y-0 left-0 transform ${i?"translate-x-0":"-translate-x-full"} md:relative md:translate-x-0 transition-transform duration-300 ease-in-out z-40 ${l?"md:w-16":"md:w-64"}`,children:a.jsx(wn,{isCollapsed:l,setIsCollapsed:A,onBarcodeClick:()=>{}})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-3xl shadow-2xl p-10 mb-16 text-center relative overflow-hidden transform hover:scale-105 transition-all duration-300",children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 opacity-20 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-center mb-6",children:[a.jsx("span",{className:"text-5xl mr-4 animate-bounce",children:""}),a.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white tracking-wide drop-shadow-lg",children:"Durga Puja Festival Offer"}),a.jsx("span",{className:"text-5xl ml-4 animate-bounce",children:""})]}),a.jsx("p",{className:"text-2xl md:text-3xl text-white font-bold mb-4 drop-shadow-md",children:"Celebrate with up to 35% OFF on all plans!"}),a.jsx("p",{className:"text-xl text-orange-100 font-medium",children:"Limited time offer - Transform your library management this festive season"}),a.jsx("div",{className:"mt-6 inline-flex items-center bg-gradient-to-r from-yellow-400 to-orange-400 text-orange-900 rounded-full px-8 py-3 font-black text-lg shadow-xl transform hover:scale-110 transition-all duration-300",children:a.jsx("span",{children:" Festival Special Pricing "})})]}),a.jsx("div",{className:"absolute top-4 left-4 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("div",{className:"absolute top-8 right-8 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-3xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 left-8 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:""})}),a.jsx("div",{className:"absolute bottom-8 right-4 text-yellow-300 opacity-50",children:a.jsx("span",{className:"text-2xl",children:""})})]}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-5xl font-black bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 bg-clip-text text-transparent mb-6 tracking-tight",children:"Subscription Plans"}),a.jsx("p",{className:"text-xl text-gray-700 max-w-3xl mx-auto font-medium leading-relaxed",children:"Choose a plan that fits your library's growth journey and unlock the full potential of modern library management"})]}),(e==null?void 0:e.is_trial)&&(t==null?void 0:t.daysLeft)!==null&&(t==null?void 0:t.daysLeft)>0&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-8 text-center",children:a.jsxs("p",{className:"font-bold",children:[" 7-Day Free Trial Active  ",t.daysLeft," Days Left"]})}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl shadow-2xl p-8 mb-12 text-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 opacity-20 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4 drop-shadow-lg",children:"Most people don't finish what they start. Not you."}),a.jsx("p",{className:"text-lg text-blue-100 font-medium leading-relaxed",children:"This subscription isn't just a payment  it's your decision to run things smarter. And it starts now."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[w.map(p=>a.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl overflow-hidden border-2 relative transform hover:scale-105 transition-all duration-300 hover:shadow-3xl ${p.isCurrent?"border-purple-500 ring-4 ring-purple-200":"border-gray-200"}`,children:[p.discount&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 via-pink-500 to-orange-500 text-white px-4 py-2 rounded-full text-sm font-black shadow-2xl z-10 animate-pulse",children:p.discount}),a.jsx("div",{className:`h-2 ${p.discount?"bg-gradient-to-r from-orange-400 to-red-500":"bg-gradient-to-r from-blue-400 to-purple-500"}`}),a.jsxs("div",{className:"p-8",children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3 tracking-tight",children:p.name}),a.jsx("p",{className:"text-gray-600 mb-6 font-medium text-lg leading-relaxed",children:p.description}),a.jsx("div",{className:"mb-8",children:p.originalPrice?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:p.price}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Previously:"}),a.jsx("div",{className:"text-xl text-red-500 line-through font-bold bg-red-50 px-3 py-1 rounded-full",children:p.originalPrice})]})]}):a.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:p.price})}),a.jsx("ul",{className:"space-y-4 mb-8",children:p.features.map((b,N)=>a.jsxs("li",{className:"flex items-center group",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 rounded-full p-1 mr-4 group-hover:scale-110 transition-transform duration-200",children:a.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-gray-700 font-medium text-lg group-hover:text-gray-900 transition-colors duration-200",children:b})]},N))}),a.jsx("button",{onClick:()=>h(p),disabled:p.disabled||p.isCurrent,className:`w-full py-4 px-6 rounded-xl font-black text-lg transition-all duration-300 transform hover:scale-105 ${p.isCurrent?"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 cursor-default shadow-lg":p.disabled?"bg-gray-300 text-gray-500 cursor-not-allowed":p.discount?"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 text-white hover:from-orange-600 hover:via-red-600 hover:to-pink-600 shadow-2xl hover:shadow-3xl":"bg-gradient-to-r from-blue-500 via-purple-500 to-indigo-500 text-white hover:from-blue-600 hover:via-purple-600 hover:to-indigo-600 shadow-xl hover:shadow-2xl"}`,children:p.isCurrent?" Current Plan":p.cta})]})]},p.id)),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border-2 border-gray-200 relative transform hover:scale-105 transition-all duration-300 hover:shadow-3xl",children:[a.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-red-500 via-pink-500 to-orange-500 text-white px-4 py-2 rounded-full text-sm font-black shadow-2xl z-10 animate-pulse",children:"25% OFF"}),a.jsx("div",{className:"h-2 bg-gradient-to-r from-orange-400 to-red-500"}),a.jsxs("div",{className:"p-8",children:[a.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3 tracking-tight",children:"9-Month Plan"}),a.jsx("p",{className:"text-gray-600 mb-6 font-medium text-lg leading-relaxed",children:"The Transformation Period"}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"1650"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Previously:"}),a.jsx("div",{className:"text-xl text-red-500 line-through font-bold bg-red-50 px-3 py-1 rounded-full",children:"2200"})]})]})}),a.jsxs("ul",{className:"space-y-4 mb-8",children:[a.jsxs("li",{className:"flex items-center group",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 rounded-full p-1 mr-4 group-hover:scale-110 transition-transform duration-200",children:a.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-gray-700 font-medium text-lg group-hover:text-gray-900 transition-colors duration-200",children:"All premium features"})]}),a.jsxs("li",{className:"flex items-center group",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 rounded-full p-1 mr-4 group-hover:scale-110 transition-transform duration-200",children:a.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-gray-700 font-medium text-lg group-hover:text-gray-900 transition-colors duration-200",children:"Best value for serious libraries"})]}),a.jsxs("li",{className:"flex items-center group",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 rounded-full p-1 mr-4 group-hover:scale-110 transition-transform duration-200",children:a.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"text-gray-700 font-medium text-lg group-hover:text-gray-900 transition-colors duration-200",children:"Extended support period"})]})]}),(()=>{const p=m("9_month");return a.jsx("button",{onClick:()=>h({id:"9_month",name:"9-Month Plan",amount:165e3}),disabled:p,className:`w-full py-4 px-6 rounded-xl font-black text-lg transition-all duration-300 transform hover:scale-105 ${p?"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 cursor-default shadow-lg":"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 text-white hover:from-orange-600 hover:via-red-600 hover:to-pink-600 shadow-2xl hover:shadow-3xl"}`,children:p?" Current Plan":"Transform My Library"})})()]})]})]}),a.jsxs("div",{className:"mt-16 text-center",children:[a.jsx("div",{className:"bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-2xl shadow-2xl p-8 mb-8",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-black text-white mb-4 drop-shadow-lg",children:" Smart Investment, Smarter Results"}),a.jsx("p",{className:"text-xl text-emerald-100 font-bold mb-2",children:'"Just 10/day to manage your study space professionally."'}),a.jsx("p",{className:"text-lg text-emerald-100 font-medium",children:'"Join 300+ libraries building distraction-free environments."'})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300",children:[a.jsx("div",{className:"text-3xl mb-3",children:""}),a.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Fast Setup"}),a.jsx("p",{className:"text-gray-600",children:"Get started in minutes, not hours"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300",children:[a.jsx("div",{className:"text-3xl mb-3",children:""}),a.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Secure & Reliable"}),a.jsx("p",{className:"text-gray-600",children:"Your data is safe with us"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300",children:[a.jsx("div",{className:"text-3xl mb-3",children:""}),a.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"24/7 Support"}),a.jsx("p",{className:"text-gray-600",children:"We're here when you need us"})]})]})]})]})})]})]})},hbe=()=>{const e=Ur(),[t,r]=C.useState({ownerName:"",ownerEmail:"",ownerPhone:"",libraryName:"",password:"",confirmPassword:"",libraryCode:""}),[n,s]=C.useState(!1),[i,o]=C.useState(!1),[l,A]=C.useState(!1),[u,h]=C.useState(null),[m,w]=C.useState(!1),p=j=>{const{name:y,value:B}=j.target;r(I=>({...I,[y]:B})),y==="libraryCode"&&h(null)},b=async()=>{if(!t.libraryCode||t.libraryCode.length<3){h(null);return}w(!0);try{const y=await(await Ta(`/owner-auth/check-code/${t.libraryCode}`)).json();h(y.available)}catch(j){console.error("Error checking library code:",j),ar.error("Error checking library code availability")}finally{w(!1)}},N=async j=>{if(j.preventDefault(),!t.ownerName||!t.ownerEmail||!t.ownerPhone||!t.libraryName||!t.password||!t.confirmPassword){ar.error("All fields are required");return}if(t.password!==t.confirmPassword){ar.error("Passwords do not match");return}if(t.password.length<6){ar.error("Password must be at least 6 characters long");return}if(t.ownerPhone.length!==10||!/^\d+$/.test(t.ownerPhone)){ar.error("Phone number must be exactly 10 digits");return}if(t.libraryCode&&u===!1){ar.error("Library code is not available. Please choose a different one.");return}A(!0);try{const y=await Ta("/owner-auth/register",{method:"POST",body:JSON.stringify(t)}),B=await y.json();y.ok?(ar.success("Registration successful! Please login with your credentials."),e("/owner-login")):ar.error(B.message||"Registration failed")}catch(y){console.error("Registration error:",y),ar.error("Network error. Please try again.")}finally{A(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-purple-600 to-orange-400 rounded-full flex items-center justify-center mb-4",children:a.jsx(Io,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Register Your Library"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create an account to manage your library"})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Name *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Wi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"ownerName",value:t.ownerName,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",name:"ownerEmail",value:t.ownerEmail,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",name:"ownerPhone",value:t.ownerPhone,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter 10-digit phone number",maxLength:10,required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Name *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryName",value:t.libraryName,onChange:p,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your library name",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code *"}),a.jsxs("div",{className:"relative",children:[a.jsx(UO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryCode",value:t.libraryCode,onChange:p,onBlur:b,className:`w-full pl-10 pr-20 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u===!0?"border-green-300":u===!1?"border-red-300":"border-gray-300"}`,placeholder:"Leave empty to auto-generate",maxLength:20}),m&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600"})}),!m&&u===!0&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-600 text-sm",children:" Available"}),!m&&u===!1&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-red-600 text-sm",children:" Taken"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Students will use this code to log in. If left empty, we'll generate one for you."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:n?"text":"password",name:"password",value:t.password,onChange:p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter password (min 6 characters)",required:!0}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?a.jsx(Z0,{className:"w-5 h-5"}):a.jsx(ma,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:p,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?a.jsx(Z0,{className:"w-5 h-5"}):a.jsx(ma,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:l?"Creating Account...":"Register Library"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",a.jsx(Tt,{to:"/owner-login",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Sign in here"})]})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(Tt,{to:"/student-login",className:"text-sm text-gray-500 hover:text-gray-700",children:"Student Login "})})]})})},fbe=({onBack:e,mode:t})=>{const[r,n]=C.useState("verify"),[s,i]=C.useState(!1),[o,l]=C.useState({email:"",phone:"",libraryCode:""}),[A,u]=C.useState({newPassword:"",confirmPassword:""}),h=async w=>{w.preventDefault(),i(!0);try{let p;t==="owner"?p=await Ta("/owner-auth/forgot-password/verify",{method:"POST",body:JSON.stringify({email:o.email,phone:o.phone})}):p=await Ta("/auth/forgot-password/verify",{method:"POST",body:JSON.stringify({email:o.email,phone:o.phone,libraryCode:o.libraryCode})});const b=await p.json();p.ok?(ar.success("Account verified! You can now reset your password."),n("reset")):ar.error(b.message||"Verification failed")}catch(p){console.error("Verification error:",p),ar.error("Network error. Please try again.")}finally{i(!1)}},m=async w=>{if(w.preventDefault(),A.newPassword!==A.confirmPassword){ar.error("Passwords do not match");return}if(A.newPassword.length<6){ar.error("Password must be at least 6 characters long");return}i(!0);try{let p;t==="owner"?p=await Ta("/owner-auth/forgot-password/reset",{method:"POST",body:JSON.stringify(A)}):p=await Ta("/auth/forgot-password/reset",{method:"POST",body:JSON.stringify(A)});const b=await p.json();p.ok?(ar.success("Password reset successfully! You can now log in."),e()):ar.error(b.message||"Password reset failed")}catch(p){console.error("Password reset error:",p),ar.error("Network error. Please try again.")}finally{i(!1)}};return a.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-purple-600 to-orange-400 rounded-full flex items-center justify-center mb-4",children:a.jsx(Ol,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r==="verify"?"Forgot Password":"Reset Password"}),a.jsx("p",{className:"text-gray-600 mt-2",children:r==="verify"?`Verify your ${t==="owner"?"owner":"staff"} account`:"Enter your new password"})]}),r==="verify"?a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[t==="user"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(Io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:o.libraryCode,onChange:w=>l(p=>({...p,libraryCode:w.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter library code",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"email",value:o.email,onChange:w=>l(p=>({...p,email:w.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email address",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",value:o.phone,onChange:w=>l(p=>({...p,phone:w.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your phone number",required:!0})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:s?"Verifying...":"Verify Account"})]}):a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"password",value:A.newPassword,onChange:w=>u(p=>({...p,newPassword:w.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter new password",required:!0,minLength:6})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"password",value:A.confirmPassword,onChange:w=>u(p=>({...p,confirmPassword:w.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm new password",required:!0,minLength:6})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-purple-600 to-orange-400 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-orange-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:s?"Resetting Password...":"Reset Password"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("button",{onClick:e,className:"inline-flex items-center text-purple-600 hover:text-purple-700 font-medium",children:[a.jsx(dl,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})},mbe=()=>{const e=Ur(),{login:t}=ga(),[r,n]=C.useState("owner"),[s,i]=C.useState(!1),[o,l]=C.useState({phone:"",password:""}),[A,u]=C.useState({username:"",password:"",libraryCode:""}),[h,m]=C.useState(!1),[w,p]=C.useState(!1),[b,N]=C.useState(!1),j=B=>{const{name:I,value:_}=B.target;l(O=>({...O,[I]:_}))},y=async B=>{if(B.preventDefault(),r==="owner"){if(!o.phone||!o.password){ar.error("Phone number and password are required");return}p(!0);try{const I=await Ta("/owner-auth/login",{method:"POST",body:JSON.stringify(o)}),_=await I.json();I.ok?(ar.success("Login successful!"),t(_.owner),e("/dashboard"),setTimeout(()=>window.location.reload(),500)):ar.error(_.message||"Login failed")}catch(I){console.error("Login error:",I),ar.error("Network error. Please try again.")}finally{p(!1)}}else{if(!A.username||!A.password){ar.error("Username and password are required");return}N(!0);try{const I=await Re.login({username:A.username,password:A.password,libraryCode:A.libraryCode});I&&(ar.success("Login successful!"),t({...I,permissions:I.permissions||[]}),e("/dashboard"),setTimeout(()=>window.location.reload(),300))}catch(I){ar.error((I==null?void 0:I.message)||"Login failed")}finally{N(!1)}}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100 flex items-center justify-center p-4",children:s?a.jsxs("div",{className:"w-full max-w-md space-y-6",children:[a.jsx(Tg,{variant:"compact",clickable:!1}),a.jsx(fbe,{mode:r,onBack:()=>i(!1)})]}):a.jsxs("div",{className:"w-full max-w-md space-y-6",children:[a.jsx(Tg,{variant:"compact",clickable:!1}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm border border-white/20",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-r from-purple-600 via-pink-500 to-orange-400 rounded-full flex items-center justify-center mb-6 shadow-xl",children:a.jsx(Io,{className:"w-10 h-10 text-white"})}),a.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"Sign In"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Owner or Staff/Admin Access"})]}),a.jsxs("div",{className:"flex mb-8 p-2 bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl",children:[a.jsx("button",{type:"button",onClick:()=>n("owner"),className:`flex-1 py-3 rounded-lg text-sm font-bold transition-all duration-300 ${r==="owner"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-xl transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,children:" Owner"}),a.jsx("button",{type:"button",onClick:()=>n("user"),className:`flex-1 py-3 rounded-lg text-sm font-bold transition-all duration-300 ${r==="user"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-xl transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,children:" Staff / Admin"})]}),a.jsx("form",{onSubmit:y,className:"space-y-6",children:r==="owner"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:j,className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter your phone number",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ol,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:h?"text":"password",name:"password",value:o.password,onChange:j,className:"w-full pl-12 pr-12 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:h?a.jsx(Z0,{className:"w-5 h-5"}):a.jsx(ma,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:w,className:"w-full bg-gradient-to-r from-purple-600 via-pink-600 to-orange-400 text-white py-4 px-6 rounded-xl font-black text-lg hover:from-purple-700 hover:via-pink-700 hover:to-orange-500 focus:outline-none focus:ring-4 focus:ring-purple-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl",children:w?" Signing In...":" Sign In as Owner"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(Io,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryCode",value:A.libraryCode,onChange:B=>u(I=>({...I,libraryCode:B.target.value})),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium uppercase",placeholder:"Enter library code",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"username",value:A.username,onChange:B=>u(I=>({...I,username:B.target.value})),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter username",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ol,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:h?"text":"password",name:"user_password",value:A.password,onChange:B=>u(I=>({...I,password:B.target.value})),className:"w-full pl-12 pr-12 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:h?a.jsx(Z0,{className:"w-5 h-5"}):a.jsx(ma,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:b,className:"w-full bg-gradient-to-r from-purple-600 via-pink-600 to-orange-400 text-white py-4 px-6 rounded-xl font-black text-lg hover:from-purple-700 hover:via-pink-700 hover:to-orange-500 focus:outline-none focus:ring-4 focus:ring-purple-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl",children:b?" Signing In...":" Sign In as Staff/Admin"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>i(!0),className:"text-purple-600 hover:text-purple-700 font-bold text-sm transition-colors duration-200",children:" Forgot Password?"})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-4",children:a.jsxs("p",{className:"text-gray-700 font-medium",children:["Don't have an account?"," ",a.jsx(Tt,{to:"/owner-register",className:"text-purple-600 hover:text-purple-700 font-bold transition-colors duration-200",children:" Register your library"})]})})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(Tt,{to:"/student-login",className:"text-sm text-gray-500 hover:text-gray-700 font-medium transition-colors duration-200",children:" Student Login "})})]})]})})},pbe=()=>{const e=Ur(),[t,r]=C.useState({libraryCode:"",phone:"",password:""}),[n,s]=C.useState(!1),[i,o]=C.useState(!1),l=u=>{const{name:h,value:m}=u.target;r(w=>({...w,[h]:h==="libraryCode"?m.toUpperCase():m}))},A=async u=>{if(u.preventDefault(),!t.libraryCode||!t.phone||!t.password){ar.error("All fields are required");return}if(t.phone.length!==10||!/^\d+$/.test(t.phone)){ar.error("Phone number must be exactly 10 digits");return}o(!0);try{const h=await Ta("/student-auth/login",{method:"POST",body:JSON.stringify({libraryCode:t.libraryCode,phone:t.phone,password:t.password})}),m=await h.json();h.ok?(ar.success(`Welcome, ${m.student.name}!`),e("/student-dashboard")):ar.error(m.message||"Login failed")}catch(h){console.error("Student login error:",h),ar.error("Network error. Please try again.")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-blue-50 to-cyan-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md space-y-6",children:[a.jsx(Tg,{variant:"compact",clickable:!1}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 backdrop-blur-sm border border-white/20",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 rounded-full flex items-center justify-center mb-6 shadow-xl",children:a.jsx(HO,{className:"w-10 h-10 text-white"})}),a.jsx("h1",{className:"text-3xl font-black bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"Student Login"}),a.jsx("p",{className:"text-gray-600 font-medium",children:"Access your library account"})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(UO,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",name:"libraryCode",value:t.libraryCode,onChange:l,className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium uppercase",placeholder:"Enter library code",maxLength:20,required:!0})]}),a.jsx("p",{className:"text-xs text-blue-600 mt-2 font-medium",children:" Ask your library for the library code"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(li,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:l,className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter your phone number",maxLength:10,required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ol,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:n?"text":"password",name:"password",value:t.password,onChange:l,className:"w-full pl-12 pr-12 py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 bg-gray-50 hover:bg-white font-medium",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:n?a.jsx(Z0,{className:"w-5 h-5"}):a.jsx(ma,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-xs text-blue-600 mt-2 font-medium",children:" Your password is the same as your phone number"})]}),a.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white py-4 px-6 rounded-xl font-black text-lg hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-4 focus:ring-blue-300 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl",children:i?" Signing In...":" Sign In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 rounded-xl p-4",children:a.jsx("p",{className:"text-gray-700 text-sm font-medium",children:" Don't have an account? Contact your library to get registered."})})}),a.jsxs("div",{className:"mt-4 text-center space-y-2",children:[a.jsx(Tt,{to:"/owner-login",className:"block text-sm text-gray-500 hover:text-gray-700 font-medium transition-colors duration-200",children:" Library Owner Login "}),a.jsx(Tt,{to:"/",className:"block text-sm text-gray-500 hover:text-gray-700 font-medium transition-colors duration-200",children:"  Register Library"})]})]})]})})},QC=C.forwardRef(({studentId:e,studentName:t,className:r="",variant:n="default",children:s},i)=>{const[o,l]=C.useState(!1),A=C.useRef(null),u=i||A,h=C.useCallback(async()=>{const b=u.current;if(!b)throw new Error("No content to generate PDF from");try{const N=b.cloneNode(!0);N.style.position="absolute",N.style.left="-9999px",N.style.top="0",document.body.appendChild(N);const j=await Qv(N,{scale:2,useCORS:!0,logging:!0,backgroundColor:"#ffffff",allowTaint:!0,imageTimeout:15e3,onclone:G=>{const M=Array.from(G.images);return M.length>0?Promise.all(M.map(V=>V.complete?Promise.resolve():new Promise(J=>{V.onload=J,V.onerror=J}))):Promise.resolve()}});if(document.body.removeChild(N),!j)throw new Error("Failed to capture content");const y=j.toDataURL("image/png");if(!y||y==="data:,")throw new Error("Failed to generate image data from content");const B=new Zt("p","mm","a4"),I=B.internal.pageSize.getWidth(),_=B.internal.pageSize.getHeight(),O=I/j.width,H=_/j.height,D=Math.min(O,H,1),L=(I-j.width*D)/2,T=10;try{B.addImage(y,"PNG",L,T,j.width*D,j.height*D,void 0,"FAST")}catch(G){throw console.error("Error adding image to PDF:",G),new Error("Failed to add content to PDF. The content might contain unsupported elements.")}return B}catch(N){throw console.error("Error generating PDF:",N),N}},[u]),m=C.useCallback(async()=>{if(!o){l(!0);try{const b=await h();if(!b)return;const N=`invoice_${t.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;b.save(N),Ee.success("Invoice downloaded as PDF!")}catch(b){console.error("Error generating PDF:",b),Ee.error(b instanceof Error?b.message:"Failed to generate PDF")}finally{l(!1)}}},[h,o,t]),w=WR.useReactToPrint({pageContent:()=>u.current||null,onAfterPrint:()=>{l(!1),Ee.success("Invoice printed successfully!")},onBeforeGetContent:async()=>(l(!0),new Promise(b=>{setTimeout(b,500)})),onBeforePrint:()=>new Promise(b=>{setTimeout(b,500)}),pageStyle:`
      @page { 
        size: A4;
        margin: 10mm;
      }
      @media print {
        body { 
          -webkit-print-color-adjust: exact; 
        }
        .no-print, .print-hide { 
          display: none !important; 
        }
      }
    `,documentTitle:`Invoice_${t}_${new Date().toISOString().split("T")[0]}`,removeAfterPrint:!1,onPrintError:b=>{console.error("Print error:",b),l(!1),Ee.error("Failed to print. Please try again.")}}),p=n==="text"?"text-blue-600 hover:text-blue-800 hover:bg-blue-50 px-2 py-1 rounded":"px-3 py-1.5 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500";return a.jsxs("div",{className:r,children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:m,disabled:o,className:`inline-flex items-center ${p} disabled:opacity-50`,type:"button",children:[a.jsx(Y0,{className:"h-4 w-4 mr-1.5"}),o?"Generating...":n==="text"?"Download":"Download Invoice"]}),a.jsxs("button",{onClick:w,disabled:o,className:`inline-flex items-center ${p} disabled:opacity-50`,type:"button",children:[a.jsx(_S,{className:"h-4 w-4 mr-1.5"}),n==="text"?"Print":"Print Invoice"]})]}),a.jsx("div",{className:"hidden",children:a.jsx("div",{ref:A,className:"p-6 bg-white",children:s})})]})});var Dt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Dt||(Dt={}));var rL=new Map([[Dt.QR_CODE,"QR_CODE"],[Dt.AZTEC,"AZTEC"],[Dt.CODABAR,"CODABAR"],[Dt.CODE_39,"CODE_39"],[Dt.CODE_93,"CODE_93"],[Dt.CODE_128,"CODE_128"],[Dt.DATA_MATRIX,"DATA_MATRIX"],[Dt.MAXICODE,"MAXICODE"],[Dt.ITF,"ITF"],[Dt.EAN_13,"EAN_13"],[Dt.EAN_8,"EAN_8"],[Dt.PDF_417,"PDF_417"],[Dt.RSS_14,"RSS_14"],[Dt.RSS_EXPANDED,"RSS_EXPANDED"],[Dt.UPC_A,"UPC_A"],[Dt.UPC_E,"UPC_E"],[Dt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),nL;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(nL||(nL={}));function gbe(e){return Object.values(Dt).includes(e)}var C2;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(C2||(C2={}));var xbe=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[C2.SCAN_TYPE_CAMERA,C2.SCAN_TYPE_FILE],e}(),bV=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!rL.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,rL.get(t))},e}(),sL=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Z3;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Z3||(Z3={}));var wbe=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Z3.UNKWOWN_ERROR}},e}(),ybe=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function mA(e){return typeof e>"u"||e===null}var l0=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),CV=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(s),o=Object.keys(t),l=0,A=o;l<A.length;l++){var u=A[l];if(i.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e}(),J3={exports:{}};(function(e,t){(function(r,n){n(t)})(Of,function(r){function n(te){return te==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,c){te.__proto__=c}||function(te,c){for(var d in c)c.hasOwnProperty(d)&&(te[d]=c[d])};function i(te,c){s(te,c);function d(){this.constructor=te}te.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}function o(te,c){var d=Object.setPrototypeOf;d?d(te,c):te.__proto__=c}function l(te,c){c===void 0&&(c=te.constructor);var d=Error.captureStackTrace;d&&d(te,c)}var A=function(te){i(c,te);function c(d){var f=this.constructor,g=te.call(this,d)||this;return Object.defineProperty(g,"name",{value:f.name,enumerable:!1}),o(g,f.prototype),l(g),g}return c}(Error);class u extends A{constructor(c=void 0){super(c),this.message=c}getKind(){return this.constructor.kind}}u.kind="Exception";class h extends u{}h.kind="ArgumentException";class m extends u{}m.kind="IllegalArgumentException";class w{constructor(c){if(this.binarizer=c,c===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(c,d){return this.binarizer.getBlackRow(c,d)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(c,d,f,g){const x=this.binarizer.getLuminanceSource().crop(c,d,f,g);return new w(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(c))}rotateCounterClockwise45(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(c))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class p extends u{static getChecksumInstance(){return new p}}p.kind="ChecksumException";class b{constructor(c){this.source=c}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(c,d,f,g,x){for(;x--;)f[g++]=c[d++]}static currentTimeMillis(){return Date.now()}}class j extends u{}j.kind="IndexOutOfBoundsException";class y extends j{constructor(c=void 0,d=void 0){super(d),this.index=c,this.message=d}}y.kind="ArrayIndexOutOfBoundsException";class B{static fill(c,d){for(let f=0,g=c.length;f<g;f++)c[f]=d}static fillWithin(c,d,f,g){B.rangeCheck(c.length,d,f);for(let x=d;x<f;x++)c[x]=g}static rangeCheck(c,d,f){if(d>f)throw new m("fromIndex("+d+") > toIndex("+f+")");if(d<0)throw new y(d);if(f>c)throw new y(f)}static asList(...c){return c}static create(c,d,f){return Array.from({length:c}).map(x=>Array.from({length:d}).fill(f))}static createInt32Array(c,d,f){return Array.from({length:c}).map(x=>Int32Array.from({length:d}).fill(f))}static equals(c,d){if(!c||!d||!c.length||!d.length||c.length!==d.length)return!1;for(let f=0,g=c.length;f<g;f++)if(c[f]!==d[f])return!1;return!0}static hashCode(c){if(c===null)return 0;let d=1;for(const f of c)d=31*d+f;return d}static fillUint8Array(c,d){for(let f=0;f!==c.length;f++)c[f]=d}static copyOf(c,d){return c.slice(0,d)}static copyOfUint8Array(c,d){if(c.length<=d){const f=new Uint8Array(d);return f.set(c),f}return c.slice(0,d)}static copyOfRange(c,d,f){const g=f-d,x=new Int32Array(g);return N.arraycopy(c,d,x,0,g),x}static binarySearch(c,d,f){f===void 0&&(f=B.numberComparator);let g=0,x=c.length-1;for(;g<=x;){const v=x+g>>1,E=f(d,c[v]);if(E>0)g=v+1;else if(E<0)x=v-1;else return v}return-g-1}static numberComparator(c,d){return c-d}}class I{static numberOfTrailingZeros(c){let d;if(c===0)return 32;let f=31;return d=c<<16,d!==0&&(f-=16,c=d),d=c<<8,d!==0&&(f-=8,c=d),d=c<<4,d!==0&&(f-=4,c=d),d=c<<2,d!==0&&(f-=2,c=d),f-(c<<1>>>31)}static numberOfLeadingZeros(c){if(c===0)return 32;let d=1;return c>>>16||(d+=16,c<<=16),c>>>24||(d+=8,c<<=8),c>>>28||(d+=4,c<<=4),c>>>30||(d+=2,c<<=2),d-=c>>>31,d}static toHexString(c){return c.toString(16)}static toBinaryString(c){return String(parseInt(String(c),2))}static bitCount(c){return c=c-(c>>>1&1431655765),c=(c&858993459)+(c>>>2&858993459),c=c+(c>>>4)&252645135,c=c+(c>>>8),c=c+(c>>>16),c&63}static truncDivision(c,d){return Math.trunc(c/d)}static parseInt(c,d=void 0){return parseInt(c,d)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class _{constructor(c,d){c===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=c,d==null?this.bits=_.makeArray(c):this.bits=d)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(c){if(c>this.bits.length*32){const d=_.makeArray(c);N.arraycopy(this.bits,0,d,0,this.bits.length),this.bits=d}}get(c){return(this.bits[Math.floor(c/32)]&1<<(c&31))!==0}set(c){this.bits[Math.floor(c/32)]|=1<<(c&31)}flip(c){this.bits[Math.floor(c/32)]^=1<<(c&31)}getNextSet(c){const d=this.size;if(c>=d)return d;const f=this.bits;let g=Math.floor(c/32),x=f[g];x&=~((1<<(c&31))-1);const v=f.length;for(;x===0;){if(++g===v)return d;x=f[g]}const E=g*32+I.numberOfTrailingZeros(x);return E>d?d:E}getNextUnset(c){const d=this.size;if(c>=d)return d;const f=this.bits;let g=Math.floor(c/32),x=~f[g];x&=~((1<<(c&31))-1);const v=f.length;for(;x===0;){if(++g===v)return d;x=~f[g]}const E=g*32+I.numberOfTrailingZeros(x);return E>d?d:E}setBulk(c,d){this.bits[Math.floor(c/32)]=d}setRange(c,d){if(d<c||c<0||d>this.size)throw new m;if(d===c)return;d--;const f=Math.floor(c/32),g=Math.floor(d/32),x=this.bits;for(let v=f;v<=g;v++){const E=v>f?0:c&31,P=(2<<(v<g?31:d&31))-(1<<E);x[v]|=P}}clear(){const c=this.bits.length,d=this.bits;for(let f=0;f<c;f++)d[f]=0}isRange(c,d,f){if(d<c||c<0||d>this.size)throw new m;if(d===c)return!0;d--;const g=Math.floor(c/32),x=Math.floor(d/32),v=this.bits;for(let E=g;E<=x;E++){const k=E>g?0:c&31,z=(2<<(E<x?31:d&31))-(1<<k)&4294967295;if((v[E]&z)!==(f?z:0))return!1}return!0}appendBit(c){this.ensureCapacity(this.size+1),c&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(c,d){if(d<0||d>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+d);for(let f=d;f>0;f--)this.appendBit((c>>f-1&1)===1)}appendBitArray(c){const d=c.size;this.ensureCapacity(this.size+d);for(let f=0;f<d;f++)this.appendBit(c.get(f))}xor(c){if(this.size!==c.size)throw new m("Sizes don't match");const d=this.bits;for(let f=0,g=d.length;f<g;f++)d[f]^=c.bits[f]}toBytes(c,d,f,g){for(let x=0;x<g;x++){let v=0;for(let E=0;E<8;E++)this.get(c)&&(v|=1<<7-E),c++;d[f+x]=v}}getBitArray(){return this.bits}reverse(){const c=new Int32Array(this.bits.length),d=Math.floor((this.size-1)/32),f=d+1,g=this.bits;for(let x=0;x<f;x++){let v=g[x];v=v>>1&1431655765|(v&1431655765)<<1,v=v>>2&858993459|(v&858993459)<<2,v=v>>4&252645135|(v&252645135)<<4,v=v>>8&16711935|(v&16711935)<<8,v=v>>16&65535|(v&65535)<<16,c[d-x]=v}if(this.size!==f*32){const x=f*32-this.size;let v=c[0]>>>x;for(let E=1;E<f;E++){const k=c[E];v|=k<<32-x,c[E-1]=v,v=k>>>x}c[f-1]=v}this.bits=c}static makeArray(c){return new Int32Array(Math.floor((c+31)/32))}equals(c){if(!(c instanceof _))return!1;const d=c;return this.size===d.size&&B.equals(this.bits,d.bits)}hashCode(){return 31*this.size+B.hashCode(this.bits)}toString(){let c="";for(let d=0,f=this.size;d<f;d++)d&7||(c+=" "),c+=this.get(d)?"X":".";return c}clone(){return new _(this.size,this.bits.slice())}}var O;(function(te){te[te.OTHER=0]="OTHER",te[te.PURE_BARCODE=1]="PURE_BARCODE",te[te.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",te[te.TRY_HARDER=3]="TRY_HARDER",te[te.CHARACTER_SET=4]="CHARACTER_SET",te[te.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",te[te.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",te[te.ASSUME_GS1=7]="ASSUME_GS1",te[te.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",te[te.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",te[te.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(O||(O={}));var H=O;class D extends u{static getFormatInstance(){return new D}}D.kind="FormatException";var L;(function(te){te[te.Cp437=0]="Cp437",te[te.ISO8859_1=1]="ISO8859_1",te[te.ISO8859_2=2]="ISO8859_2",te[te.ISO8859_3=3]="ISO8859_3",te[te.ISO8859_4=4]="ISO8859_4",te[te.ISO8859_5=5]="ISO8859_5",te[te.ISO8859_6=6]="ISO8859_6",te[te.ISO8859_7=7]="ISO8859_7",te[te.ISO8859_8=8]="ISO8859_8",te[te.ISO8859_9=9]="ISO8859_9",te[te.ISO8859_10=10]="ISO8859_10",te[te.ISO8859_11=11]="ISO8859_11",te[te.ISO8859_13=12]="ISO8859_13",te[te.ISO8859_14=13]="ISO8859_14",te[te.ISO8859_15=14]="ISO8859_15",te[te.ISO8859_16=15]="ISO8859_16",te[te.SJIS=16]="SJIS",te[te.Cp1250=17]="Cp1250",te[te.Cp1251=18]="Cp1251",te[te.Cp1252=19]="Cp1252",te[te.Cp1256=20]="Cp1256",te[te.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",te[te.UTF8=22]="UTF8",te[te.ASCII=23]="ASCII",te[te.Big5=24]="Big5",te[te.GB18030=25]="GB18030",te[te.EUC_KR=26]="EUC_KR"})(L||(L={}));class T{constructor(c,d,f,...g){this.valueIdentifier=c,this.name=f,typeof d=="number"?this.values=Int32Array.from([d]):this.values=d,this.otherEncodingNames=g,T.VALUE_IDENTIFIER_TO_ECI.set(c,this),T.NAME_TO_ECI.set(f,this);const x=this.values;for(let v=0,E=x.length;v!==E;v++){const k=x[v];T.VALUES_TO_ECI.set(k,this)}for(const v of g)T.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(c){if(c<0||c>=900)throw new D("incorect value");const d=T.VALUES_TO_ECI.get(c);if(d===void 0)throw new D("incorect value");return d}static getCharacterSetECIByName(c){const d=T.NAME_TO_ECI.get(c);if(d===void 0)throw new D("incorect value");return d}equals(c){if(!(c instanceof T))return!1;const d=c;return this.getName()===d.getName()}}T.VALUE_IDENTIFIER_TO_ECI=new Map,T.VALUES_TO_ECI=new Map,T.NAME_TO_ECI=new Map,T.Cp437=new T(L.Cp437,Int32Array.from([0,2]),"Cp437"),T.ISO8859_1=new T(L.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),T.ISO8859_2=new T(L.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),T.ISO8859_3=new T(L.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),T.ISO8859_4=new T(L.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),T.ISO8859_5=new T(L.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),T.ISO8859_6=new T(L.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),T.ISO8859_7=new T(L.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),T.ISO8859_8=new T(L.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),T.ISO8859_9=new T(L.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),T.ISO8859_10=new T(L.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),T.ISO8859_11=new T(L.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),T.ISO8859_13=new T(L.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),T.ISO8859_14=new T(L.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),T.ISO8859_15=new T(L.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),T.ISO8859_16=new T(L.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),T.SJIS=new T(L.SJIS,20,"SJIS","Shift_JIS"),T.Cp1250=new T(L.Cp1250,21,"Cp1250","windows-1250"),T.Cp1251=new T(L.Cp1251,22,"Cp1251","windows-1251"),T.Cp1252=new T(L.Cp1252,23,"Cp1252","windows-1252"),T.Cp1256=new T(L.Cp1256,24,"Cp1256","windows-1256"),T.UnicodeBigUnmarked=new T(L.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),T.UTF8=new T(L.UTF8,26,"UTF8","UTF-8"),T.ASCII=new T(L.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),T.Big5=new T(L.Big5,28,"Big5"),T.GB18030=new T(L.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),T.EUC_KR=new T(L.EUC_KR,30,"EUC_KR","EUC-KR");class G extends u{}G.kind="UnsupportedOperationException";class M{static decode(c,d){const f=this.encodingName(d);return this.customDecoder?this.customDecoder(c,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(c,f):new TextDecoder(f).decode(c)}static shouldDecodeOnFallback(c){return!M.isBrowser()&&c==="ISO-8859-1"}static encode(c,d){const f=this.encodingName(d);return this.customEncoder?this.customEncoder(c,f):typeof TextEncoder>"u"?this.encodeFallback(c):new TextEncoder().encode(c)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(c){return typeof c=="string"?c:c.getName()}static encodingCharacterSet(c){return c instanceof T?c:T.getCharacterSetECIByName(c)}static decodeFallback(c,d){const f=this.encodingCharacterSet(d);if(M.isDecodeFallbackSupported(f)){let g="";for(let x=0,v=c.length;x<v;x++){let E=c[x].toString(16);E.length<2&&(E="0"+E),g+="%"+E}return decodeURIComponent(g)}if(f.equals(T.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(c.buffer));throw new G(`Encoding ${this.encodingName(d)} not supported by fallback.`)}static isDecodeFallbackSupported(c){return c.equals(T.UTF8)||c.equals(T.ISO8859_1)||c.equals(T.ASCII)}static encodeFallback(c){const f=btoa(unescape(encodeURIComponent(c))).split(""),g=[];for(let x=0;x<f.length;x++)g.push(f[x].charCodeAt(0));return new Uint8Array(g)}}class V{static castAsNonUtf8Char(c,d=null){const f=d?d.getName():this.ISO88591;return M.decode(new Uint8Array([c]),f)}static guessEncoding(c,d){if(d!=null&&d.get(H.CHARACTER_SET)!==void 0)return d.get(H.CHARACTER_SET).toString();const f=c.length;let g=!0,x=!0,v=!0,E=0,k=0,P=0,z=0,re=0,oe=0,we=0,Be=0,Se=0,Oe=0,$e=0;const ct=c.length>3&&c[0]===239&&c[1]===187&&c[2]===191;for(let ht=0;ht<f&&(g||x||v);ht++){const At=c[ht]&255;v&&(E>0?At&128?E--:v=!1:At&128&&(At&64?(E++,At&32?(E++,At&16?(E++,At&8?v=!1:z++):P++):k++):v=!1)),g&&(At>127&&At<160?g=!1:At>159&&(At<192||At===215||At===247)&&$e++),x&&(re>0?At<64||At===127||At>252?x=!1:re--:At===128||At===160||At>239?x=!1:At>160&&At<224?(oe++,Be=0,we++,we>Se&&(Se=we)):At>127?(re++,we=0,Be++,Be>Oe&&(Oe=Be)):(we=0,Be=0))}return v&&E>0&&(v=!1),x&&re>0&&(x=!1),v&&(ct||k+P+z>0)?V.UTF8:x&&(V.ASSUME_SHIFT_JIS||Se>=3||Oe>=3)?V.SHIFT_JIS:g&&x?Se===2&&oe===2||$e*10>=f?V.SHIFT_JIS:V.ISO88591:g?V.ISO88591:x?V.SHIFT_JIS:v?V.UTF8:V.PLATFORM_DEFAULT_ENCODING}static format(c,...d){let f=-1;function g(v,E,k,P,z,re){if(v==="%%")return"%";if(d[++f]===void 0)return;v=P?parseInt(P.substr(1)):void 0;let oe=z?parseInt(z.substr(1)):void 0,we;switch(re){case"s":we=d[f];break;case"c":we=d[f][0];break;case"f":we=parseFloat(d[f]).toFixed(v);break;case"p":we=parseFloat(d[f]).toPrecision(v);break;case"e":we=parseFloat(d[f]).toExponential(v);break;case"x":we=parseInt(d[f]).toString(oe||16);break;case"d":we=parseFloat(parseInt(d[f],oe||10).toPrecision(v)).toFixed(0);break}we=typeof we=="object"?JSON.stringify(we):(+we).toString(oe);let Be=parseInt(k),Se=k&&k[0]+""=="0"?"0":" ";for(;we.length<Be;)we=E!==void 0?we+Se:Se+we;return we}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(x,g)}static getBytes(c,d){return M.encode(c,d)}static getCharCode(c,d=0){return c.charCodeAt(d)}static getCharAt(c){return String.fromCharCode(c)}}V.SHIFT_JIS=T.SJIS.getName(),V.GB2312="GB2312",V.ISO88591=T.ISO8859_1.getName(),V.EUC_JP="EUC_JP",V.UTF8=T.UTF8.getName(),V.PLATFORM_DEFAULT_ENCODING=V.UTF8,V.ASSUME_SHIFT_JIS=!1;class J{constructor(c=""){this.value=c}enableDecoding(c){return this.encoding=c,this}append(c){return typeof c=="string"?this.value+=c.toString():this.encoding?this.value+=V.castAsNonUtf8Char(c,this.encoding):this.value+=String.fromCharCode(c),this}appendChars(c,d,f){for(let g=d;d<d+f;g++)this.append(c[g]);return this}length(){return this.value.length}charAt(c){return this.value.charAt(c)}deleteCharAt(c){this.value=this.value.substr(0,c)+this.value.substring(c+1)}setCharAt(c,d){this.value=this.value.substr(0,c)+d+this.value.substr(c+1)}substring(c,d){return this.value.substring(c,d)}setLengthToZero(){this.value=""}toString(){return this.value}insert(c,d){this.value=this.value.substr(0,c)+d+this.value.substr(c+d.length)}}class Z{constructor(c,d,f,g){if(this.width=c,this.height=d,this.rowSize=f,this.bits=g,d==null&&(d=c),this.height=d,c<1||d<1)throw new m("Both dimensions must be greater than 0");f==null&&(f=Math.floor((c+31)/32)),this.rowSize=f,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(c){const d=c.length,f=c[0].length,g=new Z(f,d);for(let x=0;x<d;x++){const v=c[x];for(let E=0;E<f;E++)v[E]&&g.set(E,x)}return g}static parseFromString(c,d,f){if(c===null)throw new m("stringRepresentation cannot be null");const g=new Array(c.length);let x=0,v=0,E=-1,k=0,P=0;for(;P<c.length;)if(c.charAt(P)===`
`||c.charAt(P)==="\r"){if(x>v){if(E===-1)E=x-v;else if(x-v!==E)throw new m("row lengths do not match");v=x,k++}P++}else if(c.substring(P,P+d.length)===d)P+=d.length,g[x]=!0,x++;else if(c.substring(P,P+f.length)===f)P+=f.length,g[x]=!1,x++;else throw new m("illegal character encountered: "+c.substring(P));if(x>v){if(E===-1)E=x-v;else if(x-v!==E)throw new m("row lengths do not match");k++}const z=new Z(E,k);for(let re=0;re<x;re++)g[re]&&z.set(Math.floor(re%E),Math.floor(re/E));return z}get(c,d){const f=d*this.rowSize+Math.floor(c/32);return(this.bits[f]>>>(c&31)&1)!==0}set(c,d){const f=d*this.rowSize+Math.floor(c/32);this.bits[f]|=1<<(c&31)&4294967295}unset(c,d){const f=d*this.rowSize+Math.floor(c/32);this.bits[f]&=~(1<<(c&31)&4294967295)}flip(c,d){const f=d*this.rowSize+Math.floor(c/32);this.bits[f]^=1<<(c&31)&4294967295}xor(c){if(this.width!==c.getWidth()||this.height!==c.getHeight()||this.rowSize!==c.getRowSize())throw new m("input matrix dimensions do not match");const d=new _(Math.floor(this.width/32)+1),f=this.rowSize,g=this.bits;for(let x=0,v=this.height;x<v;x++){const E=x*f,k=c.getRow(x,d).getBitArray();for(let P=0;P<f;P++)g[E+P]^=k[P]}}clear(){const c=this.bits,d=c.length;for(let f=0;f<d;f++)c[f]=0}setRegion(c,d,f,g){if(d<0||c<0)throw new m("Left and top must be nonnegative");if(g<1||f<1)throw new m("Height and width must be at least 1");const x=c+f,v=d+g;if(v>this.height||x>this.width)throw new m("The region must fit inside the matrix");const E=this.rowSize,k=this.bits;for(let P=d;P<v;P++){const z=P*E;for(let re=c;re<x;re++)k[z+Math.floor(re/32)]|=1<<(re&31)&4294967295}}getRow(c,d){d==null||d.getSize()<this.width?d=new _(this.width):d.clear();const f=this.rowSize,g=this.bits,x=c*f;for(let v=0;v<f;v++)d.setBulk(v*32,g[x+v]);return d}setRow(c,d){N.arraycopy(d.getBitArray(),0,this.bits,c*this.rowSize,this.rowSize)}rotate180(){const c=this.getWidth(),d=this.getHeight();let f=new _(c),g=new _(c);for(let x=0,v=Math.floor((d+1)/2);x<v;x++)f=this.getRow(x,f),g=this.getRow(d-1-x,g),f.reverse(),g.reverse(),this.setRow(x,g),this.setRow(d-1-x,f)}getEnclosingRectangle(){const c=this.width,d=this.height,f=this.rowSize,g=this.bits;let x=c,v=d,E=-1,k=-1;for(let P=0;P<d;P++)for(let z=0;z<f;z++){const re=g[P*f+z];if(re!==0){if(P<v&&(v=P),P>k&&(k=P),z*32<x){let oe=0;for(;!(re<<31-oe&4294967295);)oe++;z*32+oe<x&&(x=z*32+oe)}if(z*32+31>E){let oe=31;for(;!(re>>>oe);)oe--;z*32+oe>E&&(E=z*32+oe)}}}return E<x||k<v?null:Int32Array.from([x,v,E-x+1,k-v+1])}getTopLeftOnBit(){const c=this.rowSize,d=this.bits;let f=0;for(;f<d.length&&d[f]===0;)f++;if(f===d.length)return null;const g=f/c;let x=f%c*32;const v=d[f];let E=0;for(;!(v<<31-E&4294967295);)E++;return x+=E,Int32Array.from([x,g])}getBottomRightOnBit(){const c=this.rowSize,d=this.bits;let f=d.length-1;for(;f>=0&&d[f]===0;)f--;if(f<0)return null;const g=Math.floor(f/c);let x=Math.floor(f%c)*32;const v=d[f];let E=31;for(;!(v>>>E);)E--;return x+=E,Int32Array.from([x,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(c){if(!(c instanceof Z))return!1;const d=c;return this.width===d.width&&this.height===d.height&&this.rowSize===d.rowSize&&B.equals(this.bits,d.bits)}hashCode(){let c=this.width;return c=31*c+this.width,c=31*c+this.height,c=31*c+this.rowSize,c=31*c+B.hashCode(this.bits),c}toString(c="X ",d="  ",f=`
`){return this.buildToString(c,d,f)}buildToString(c,d,f){let g=new J;for(let x=0,v=this.height;x<v;x++){for(let E=0,k=this.width;E<k;E++)g.append(this.get(E,x)?c:d);g.append(f)}return g.toString()}clone(){return new Z(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends u{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class q extends b{constructor(c){super(c),this.luminances=q.EMPTY,this.buckets=new Int32Array(q.LUMINANCE_BUCKETS)}getBlackRow(c,d){const f=this.getLuminanceSource(),g=f.getWidth();d==null||d.getSize()<g?d=new _(g):d.clear(),this.initArrays(g);const x=f.getRow(c,this.luminances),v=this.buckets;for(let k=0;k<g;k++)v[(x[k]&255)>>q.LUMINANCE_SHIFT]++;const E=q.estimateBlackPoint(v);if(g<3)for(let k=0;k<g;k++)(x[k]&255)<E&&d.set(k);else{let k=x[0]&255,P=x[1]&255;for(let z=1;z<g-1;z++){const re=x[z+1]&255;(P*4-k-re)/2<E&&d.set(z),k=P,P=re}}return d}getBlackMatrix(){const c=this.getLuminanceSource(),d=c.getWidth(),f=c.getHeight(),g=new Z(d,f);this.initArrays(d);const x=this.buckets;for(let k=1;k<5;k++){const P=Math.floor(f*k/5),z=c.getRow(P,this.luminances),re=Math.floor(d*4/5);for(let oe=Math.floor(d/5);oe<re;oe++){const we=z[oe]&255;x[we>>q.LUMINANCE_SHIFT]++}}const v=q.estimateBlackPoint(x),E=c.getMatrix();for(let k=0;k<f;k++){const P=k*d;for(let z=0;z<d;z++)(E[P+z]&255)<v&&g.set(z,k)}return g}createBinarizer(c){return new q(c)}initArrays(c){this.luminances.length<c&&(this.luminances=new Uint8ClampedArray(c));const d=this.buckets;for(let f=0;f<q.LUMINANCE_BUCKETS;f++)d[f]=0}static estimateBlackPoint(c){const d=c.length;let f=0,g=0,x=0;for(let z=0;z<d;z++)c[z]>x&&(g=z,x=c[z]),c[z]>f&&(f=c[z]);let v=0,E=0;for(let z=0;z<d;z++){const re=z-g,oe=c[z]*re*re;oe>E&&(v=z,E=oe)}if(g>v){const z=g;g=v,v=z}if(v-g<=d/16)throw new ee;let k=v-1,P=-1;for(let z=v-1;z>g;z--){const re=z-g,oe=re*re*(v-z)*(f-c[z]);oe>P&&(k=z,P=oe)}return k<<q.LUMINANCE_SHIFT}}q.LUMINANCE_BITS=5,q.LUMINANCE_SHIFT=8-q.LUMINANCE_BITS,q.LUMINANCE_BUCKETS=1<<q.LUMINANCE_BITS,q.EMPTY=Uint8ClampedArray.from([0]);class W extends q{constructor(c){super(c),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const c=this.getLuminanceSource(),d=c.getWidth(),f=c.getHeight();if(d>=W.MINIMUM_DIMENSION&&f>=W.MINIMUM_DIMENSION){const g=c.getMatrix();let x=d>>W.BLOCK_SIZE_POWER;d&W.BLOCK_SIZE_MASK&&x++;let v=f>>W.BLOCK_SIZE_POWER;f&W.BLOCK_SIZE_MASK&&v++;const E=W.calculateBlackPoints(g,x,v,d,f),k=new Z(d,f);W.calculateThresholdForBlock(g,x,v,d,f,E,k),this.matrix=k}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(c){return new W(c)}static calculateThresholdForBlock(c,d,f,g,x,v,E){const k=x-W.BLOCK_SIZE,P=g-W.BLOCK_SIZE;for(let z=0;z<f;z++){let re=z<<W.BLOCK_SIZE_POWER;re>k&&(re=k);const oe=W.cap(z,2,f-3);for(let we=0;we<d;we++){let Be=we<<W.BLOCK_SIZE_POWER;Be>P&&(Be=P);const Se=W.cap(we,2,d-3);let Oe=0;for(let ct=-2;ct<=2;ct++){const ht=v[oe+ct];Oe+=ht[Se-2]+ht[Se-1]+ht[Se]+ht[Se+1]+ht[Se+2]}const $e=Oe/25;W.thresholdBlock(c,Be,re,$e,g,E)}}}static cap(c,d,f){return c<d?d:c>f?f:c}static thresholdBlock(c,d,f,g,x,v){for(let E=0,k=f*x+d;E<W.BLOCK_SIZE;E++,k+=x)for(let P=0;P<W.BLOCK_SIZE;P++)(c[k+P]&255)<=g&&v.set(d+P,f+E)}static calculateBlackPoints(c,d,f,g,x){const v=x-W.BLOCK_SIZE,E=g-W.BLOCK_SIZE,k=new Array(f);for(let P=0;P<f;P++){k[P]=new Int32Array(d);let z=P<<W.BLOCK_SIZE_POWER;z>v&&(z=v);for(let re=0;re<d;re++){let oe=re<<W.BLOCK_SIZE_POWER;oe>E&&(oe=E);let we=0,Be=255,Se=0;for(let $e=0,ct=z*g+oe;$e<W.BLOCK_SIZE;$e++,ct+=g){for(let ht=0;ht<W.BLOCK_SIZE;ht++){const At=c[ct+ht]&255;we+=At,At<Be&&(Be=At),At>Se&&(Se=At)}if(Se-Be>W.MIN_DYNAMIC_RANGE)for($e++,ct+=g;$e<W.BLOCK_SIZE;$e++,ct+=g)for(let ht=0;ht<W.BLOCK_SIZE;ht++)we+=c[ct+ht]&255}let Oe=we>>W.BLOCK_SIZE_POWER*2;if(Se-Be<=W.MIN_DYNAMIC_RANGE&&(Oe=Be/2,P>0&&re>0)){const $e=(k[P-1][re]+2*k[P][re-1]+k[P-1][re-1])/4;Be<$e&&(Oe=$e)}k[P][re]=Oe}}return k}}W.BLOCK_SIZE_POWER=3,W.BLOCK_SIZE=1<<W.BLOCK_SIZE_POWER,W.BLOCK_SIZE_MASK=W.BLOCK_SIZE-1,W.MINIMUM_DIMENSION=W.BLOCK_SIZE*5,W.MIN_DYNAMIC_RANGE=24;class X{constructor(c,d){this.width=c,this.height=d}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(c,d,f,g){throw new G("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new G("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new G("This luminance source does not support rotation by 45 degrees.")}toString(){const c=new Uint8ClampedArray(this.width);let d=new J;for(let f=0;f<this.height;f++){const g=this.getRow(f,c);for(let x=0;x<this.width;x++){const v=g[x]&255;let E;v<64?E="#":v<128?E="+":v<192?E=".":E=" ",d.append(E)}d.append(`
`)}return d.toString()}}class K extends X{constructor(c){super(c.getWidth(),c.getHeight()),this.delegate=c}getRow(c,d){const f=this.delegate.getRow(c,d),g=this.getWidth();for(let x=0;x<g;x++)f[x]=255-(f[x]&255);return f}getMatrix(){const c=this.delegate.getMatrix(),d=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(d);for(let g=0;g<d;g++)f[g]=255-(c[g]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(c,d,f,g){return new K(this.delegate.crop(c,d,f,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new K(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new K(this.delegate.rotateCounterClockwise45())}}class le extends X{constructor(c){super(c.width,c.height),this.canvas=c,this.tempCanvasElement=null,this.buffer=le.makeBufferFromCanvasImageData(c)}static makeBufferFromCanvasImageData(c){const d=c.getContext("2d").getImageData(0,0,c.width,c.height);return le.toGrayscaleBuffer(d.data,c.width,c.height)}static toGrayscaleBuffer(c,d,f){const g=new Uint8ClampedArray(d*f);for(let x=0,v=0,E=c.length;x<E;x+=4,v++){let k;if(c[x+3]===0)k=255;else{const z=c[x],re=c[x+1],oe=c[x+2];k=306*z+601*re+117*oe+512>>10}g[v]=k}return g}getRow(c,d){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const f=this.getWidth(),g=c*f;return d===null?d=this.buffer.slice(g,g+f):(d.length<f&&(d=new Uint8ClampedArray(f)),d.set(this.buffer.slice(g,g+f))),d}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(c,d,f,g){return super.crop(c,d,f,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const c=this.canvas.ownerDocument.createElement("canvas");c.width=this.canvas.width,c.height=this.canvas.height,this.tempCanvasElement=c}return this.tempCanvasElement}rotate(c){const d=this.getTempCanvasElement(),f=d.getContext("2d"),g=c*le.DEGREE_TO_RADIANS,x=this.canvas.width,v=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(g))*x+Math.abs(Math.sin(g))*v),k=Math.ceil(Math.abs(Math.sin(g))*x+Math.abs(Math.cos(g))*v);return d.width=E,d.height=k,f.translate(E/2,k/2),f.rotate(g),f.drawImage(this.canvas,x/-2,v/-2),this.buffer=le.makeBufferFromCanvasImageData(d),this}invert(){return new K(this)}}le.DEGREE_TO_RADIANS=Math.PI/180;class ne{constructor(c,d,f){this.deviceId=c,this.label=d,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var U=(globalThis||Of||self||window||void 0)&&(globalThis||Of||self||window||void 0).__awaiter||function(te,c,d,f){function g(x){return x instanceof d?x:new d(function(v){v(x)})}return new(d||(d=Promise))(function(x,v){function E(z){try{P(f.next(z))}catch(re){v(re)}}function k(z){try{P(f.throw(z))}catch(re){v(re)}}function P(z){z.done?x(z.value):g(z.value).then(E,k)}P((f=f.apply(te,c||[])).next())})};class Y{constructor(c,d=500,f){this.reader=c,this.timeBetweenScansMillis=d,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(c){this._timeBetweenDecodingAttempts=c<0?0:c}set hints(c){this._hints=c||null}get hints(){return this._hints}listVideoInputDevices(){return U(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const c=yield navigator.mediaDevices.enumerateDevices(),d=[];for(const f of c){const g=f.kind==="video"?"videoinput":f.kind;if(g!=="videoinput")continue;const x=f.deviceId||f.id,v=f.label||`Video device ${d.length+1}`,E=f.groupId,k={deviceId:x,label:v,kind:g,groupId:E};d.push(k)}return d})}getVideoInputDevices(){return U(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(d=>new ne(d.deviceId,d.label))})}findDeviceById(c){return U(this,void 0,void 0,function*(){const d=yield this.listVideoInputDevices();return d?d.find(f=>f.deviceId===c):null})}decodeFromInputVideoDevice(c,d){return U(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(c,d)})}decodeOnceFromVideoDevice(c,d){return U(this,void 0,void 0,function*(){this.reset();let f;c?f={deviceId:{exact:c}}:f={facingMode:"environment"};const g={video:f};return yield this.decodeOnceFromConstraints(g,d)})}decodeOnceFromConstraints(c,d){return U(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeOnceFromStream(f,d)})}decodeOnceFromStream(c,d){return U(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(c,d);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(c,d,f){return U(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(c,d,f)})}decodeFromVideoDevice(c,d,f){return U(this,void 0,void 0,function*(){let g;c?g={deviceId:{exact:c}}:g={facingMode:"environment"};const x={video:g};return yield this.decodeFromConstraints(x,d,f)})}decodeFromConstraints(c,d,f){return U(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeFromStream(g,d,f)})}decodeFromStream(c,d,f){return U(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(c,d);return yield this.decodeContinuously(g,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(c,d){return U(this,void 0,void 0,function*(){const f=this.prepareVideoElement(d);return this.addVideoSource(f,c),this.videoElement=f,this.stream=c,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(c){return new Promise((d,f)=>this.playVideoOnLoad(c,()=>d()))}playVideoOnLoad(c,d){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(c),c.addEventListener("ended",this.videoEndedListener),c.addEventListener("canplay",this.videoCanPlayListener),c.addEventListener("playing",d),this.tryPlayVideo(c)}isVideoPlaying(c){return c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2}tryPlayVideo(c){return U(this,void 0,void 0,function*(){if(this.isVideoPlaying(c)){console.warn("Trying to play video that is already playing.");return}try{yield c.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(c,d){const f=document.getElementById(c);if(!f)throw new h(`element with id '${c}' not found`);if(f.nodeName.toLowerCase()!==d.toLowerCase())throw new h(`element with id '${c}' must be an ${d} element`);return f}decodeFromImage(c,d){if(!c&&!d)throw new h("either imageElement with a src set or an url must be provided");return d&&!c?this.decodeFromImageUrl(d):this.decodeFromImageElement(c)}decodeFromVideo(c,d){if(!c&&!d)throw new h("Either an element with a src set or an URL must be provided");return d&&!c?this.decodeFromVideoUrl(d):this.decodeFromVideoElement(c)}decodeFromVideoContinuously(c,d,f){if(c===void 0&&d===void 0)throw new h("Either an element with a src set or an URL must be provided");return d&&!c?this.decodeFromVideoUrlContinuously(d,f):this.decodeFromVideoElementContinuously(c,f)}decodeFromImageElement(c){if(!c)throw new h("An image element must be provided.");this.reset();const d=this.prepareImageElement(c);this.imageElement=d;let f;return this.isImageLoaded(d)?f=this.decodeOnce(d,!1,!0):f=this._decodeOnLoadImage(d),f}decodeFromVideoElement(c){const d=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideo(d)}decodeFromVideoElementContinuously(c,d){const f=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideoContinuously(f,d)}_decodeFromVideoElementSetup(c){if(!c)throw new h("A video element must be provided.");this.reset();const d=this.prepareVideoElement(c);return this.videoElement=d,d}decodeFromImageUrl(c){if(!c)throw new h("An URL must be provided.");this.reset();const d=this.prepareImageElement();this.imageElement=d;const f=this._decodeOnLoadImage(d);return d.src=c,f}decodeFromVideoUrl(c){if(!c)throw new h("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),f=this.decodeFromVideoElement(d);return d.src=c,f}decodeFromVideoUrlContinuously(c,d){if(!c)throw new h("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(f,d);return f.src=c,g}_decodeOnLoadImage(c){return new Promise((d,f)=>{this.imageLoadedListener=()=>this.decodeOnce(c,!1,!0).then(d,f),c.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(c){return U(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(c),yield this.decodeOnce(c)})}_decodeOnLoadVideoContinuously(c,d){return U(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(c),this.decodeContinuously(c,d)})}isImageLoaded(c){return!(!c.complete||c.naturalWidth===0)}prepareImageElement(c){let d;return typeof c>"u"&&(d=document.createElement("img"),d.width=200,d.height=200),typeof c=="string"&&(d=this.getMediaElement(c,"img")),c instanceof HTMLImageElement&&(d=c),d}prepareVideoElement(c){let d;return!c&&typeof document<"u"&&(d=document.createElement("video"),d.width=200,d.height=200),typeof c=="string"&&(d=this.getMediaElement(c,"video")),c instanceof HTMLVideoElement&&(d=c),d.setAttribute("autoplay","true"),d.setAttribute("muted","true"),d.setAttribute("playsinline","true"),d}decodeOnce(c,d=!0,f=!0){this._stopAsyncDecode=!1;const g=(x,v)=>{if(this._stopAsyncDecode){v(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(c);x(E)}catch(E){const k=d&&E instanceof ee,z=(E instanceof p||E instanceof D)&&f;if(k||z)return setTimeout(g,this._timeBetweenDecodingAttempts,x,v);v(E)}};return new Promise((x,v)=>g(x,v))}decodeContinuously(c,d){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(c);d(g,null),setTimeout(f,this.timeBetweenScansMillis)}catch(g){d(null,g);const x=g instanceof p||g instanceof D,v=g instanceof ee;(x||v)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(c){const d=this.createBinaryBitmap(c);return this.decodeBitmap(d)}_isHTMLVideoElement(c){return c.videoWidth!==0}drawFrameOnCanvas(c,d,f){d||(d={sx:0,sy:0,sWidth:c.videoWidth,sHeight:c.videoHeight,dx:0,dy:0,dWidth:c.videoWidth,dHeight:c.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(c,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}drawImageOnCanvas(c,d,f=this.captureCanvasContext){d||(d={sx:0,sy:0,sWidth:c.naturalWidth,sHeight:c.naturalHeight,dx:0,dy:0,dWidth:c.naturalWidth,dHeight:c.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(c,d.sx,d.sy,d.sWidth,d.sHeight,d.dx,d.dy,d.dWidth,d.dHeight)}createBinaryBitmap(c){this.getCaptureCanvasContext(c),this._isHTMLVideoElement(c)?this.drawFrameOnCanvas(c):this.drawImageOnCanvas(c);const d=this.getCaptureCanvas(c),f=new le(d),g=new W(f);return new w(g)}getCaptureCanvasContext(c){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(c).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(c){if(!this.captureCanvas){const d=this.createCaptureCanvas(c);this.captureCanvas=d}return this.captureCanvas}decodeBitmap(c){return this.reader.decode(c,this._hints)}createCaptureCanvas(c){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const d=document.createElement("canvas");let f,g;return typeof c<"u"&&(c instanceof HTMLVideoElement?(f=c.videoWidth,g=c.videoHeight):c instanceof HTMLImageElement&&(f=c.naturalWidth||c.width,g=c.naturalHeight||c.height)),d.style.width=f+"px",d.style.height=g+"px",d.width=f,d.height=g,d}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(c=>c.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(c,d){try{c.srcObject=d}catch{c.src=URL.createObjectURL(d)}}cleanVideoSource(c){try{c.srcObject=null}catch{c.src=""}this.videoElement.removeAttribute("src")}}class se{constructor(c,d,f=d==null?0:8*d.length,g,x,v=N.currentTimeMillis()){this.text=c,this.rawBytes=d,this.numBits=f,this.resultPoints=g,this.format=x,this.timestamp=v,this.text=c,this.rawBytes=d,f==null?this.numBits=d==null?0:8*d.length:this.numBits=f,this.resultPoints=g,this.format=x,this.resultMetadata=null,v==null?this.timestamp=N.currentTimeMillis():this.timestamp=v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(c,d){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(c,d)}putAllMetadata(c){c!==null&&(this.resultMetadata===null?this.resultMetadata=c:this.resultMetadata=new Map(c))}addResultPoints(c){const d=this.resultPoints;if(d===null)this.resultPoints=c;else if(c!==null&&c.length>0){const f=new Array(d.length+c.length);N.arraycopy(d,0,f,0,d.length),N.arraycopy(c,0,f,d.length,c.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ce;(function(te){te[te.AZTEC=0]="AZTEC",te[te.CODABAR=1]="CODABAR",te[te.CODE_39=2]="CODE_39",te[te.CODE_93=3]="CODE_93",te[te.CODE_128=4]="CODE_128",te[te.DATA_MATRIX=5]="DATA_MATRIX",te[te.EAN_8=6]="EAN_8",te[te.EAN_13=7]="EAN_13",te[te.ITF=8]="ITF",te[te.MAXICODE=9]="MAXICODE",te[te.PDF_417=10]="PDF_417",te[te.QR_CODE=11]="QR_CODE",te[te.RSS_14=12]="RSS_14",te[te.RSS_EXPANDED=13]="RSS_EXPANDED",te[te.UPC_A=14]="UPC_A",te[te.UPC_E=15]="UPC_E",te[te.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ce||(ce={}));var Ae=ce,ge;(function(te){te[te.OTHER=0]="OTHER",te[te.ORIENTATION=1]="ORIENTATION",te[te.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",te[te.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",te[te.ISSUE_NUMBER=4]="ISSUE_NUMBER",te[te.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",te[te.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",te[te.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",te[te.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",te[te.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",te[te.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ge||(ge={}));var fe=ge;class je{constructor(c,d,f,g,x=-1,v=-1){this.rawBytes=c,this.text=d,this.byteSegments=f,this.ecLevel=g,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=v,this.numBits=c==null?0:8*c.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(c){this.numBits=c}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(c){this.errorsCorrected=c}getErasures(){return this.erasures}setErasures(c){this.erasures=c}getOther(){return this.other}setOther(c){this.other=c}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ke{exp(c){return this.expTable[c]}log(c){if(c===0)throw new m;return this.logTable[c]}static addOrSubtract(c,d){return c^d}}class Te{constructor(c,d){if(d.length===0)throw new m;this.field=c;const f=d.length;if(f>1&&d[0]===0){let g=1;for(;g<f&&d[g]===0;)g++;g===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-g),N.arraycopy(d,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);const d=this.coefficients;let f;if(c===1){f=0;for(let v=0,E=d.length;v!==E;v++){const k=d[v];f=ke.addOrSubtract(f,k)}return f}f=d[0];const g=d.length,x=this.field;for(let v=1;v<g;v++)f=ke.addOrSubtract(x.multiply(c,f),d[v]);return f}addOrSubtract(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return c;if(c.isZero())return this;let d=this.coefficients,f=c.coefficients;if(d.length>f.length){const v=d;d=f,f=v}let g=new Int32Array(f.length);const x=f.length-d.length;N.arraycopy(f,0,g,0,x);for(let v=x;v<f.length;v++)g[v]=ke.addOrSubtract(d[v-x],f[v]);return new Te(this.field,g)}multiply(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||c.isZero())return this.field.getZero();const d=this.coefficients,f=d.length,g=c.coefficients,x=g.length,v=new Int32Array(f+x-1),E=this.field;for(let k=0;k<f;k++){const P=d[k];for(let z=0;z<x;z++)v[k+z]=ke.addOrSubtract(v[k+z],E.multiply(P,g[z]))}return new Te(E,v)}multiplyScalar(c){if(c===0)return this.field.getZero();if(c===1)return this;const d=this.coefficients.length,f=this.field,g=new Int32Array(d),x=this.coefficients;for(let v=0;v<d;v++)g[v]=f.multiply(x[v],c);return new Te(f,g)}multiplyByMonomial(c,d){if(c<0)throw new m;if(d===0)return this.field.getZero();const f=this.coefficients,g=f.length,x=new Int32Array(g+c),v=this.field;for(let E=0;E<g;E++)x[E]=v.multiply(f[E],d);return new Te(v,x)}divide(c){if(!this.field.equals(c.field))throw new m("GenericGFPolys do not have same GenericGF field");if(c.isZero())throw new m("Divide by 0");const d=this.field;let f=d.getZero(),g=this;const x=c.getCoefficient(c.getDegree()),v=d.inverse(x);for(;g.getDegree()>=c.getDegree()&&!g.isZero();){const E=g.getDegree()-c.getDegree(),k=d.multiply(g.getCoefficient(g.getDegree()),v),P=c.multiplyByMonomial(E,k),z=d.buildMonomial(E,k);f=f.addOrSubtract(z),g=g.addOrSubtract(P)}return[f,g]}toString(){let c="";for(let d=this.getDegree();d>=0;d--){let f=this.getCoefficient(d);if(f!==0){if(f<0?(c+=" - ",f=-f):c.length>0&&(c+=" + "),d===0||f!==1){const g=this.field.log(f);g===0?c+="1":g===1?c+="a":(c+="a^",c+=g)}d!==0&&(d===1?c+="x":(c+="x^",c+=d))}}return c}}class De extends u{}De.kind="ArithmeticException";class Qe extends ke{constructor(c,d,f){super(),this.primitive=c,this.size=d,this.generatorBase=f;const g=new Int32Array(d);let x=1;for(let E=0;E<d;E++)g[E]=x,x*=2,x>=d&&(x^=c,x&=d-1);this.expTable=g;const v=new Int32Array(d);for(let E=0;E<d-1;E++)v[g[E]]=E;this.logTable=v,this.zero=new Te(this,Int32Array.from([0])),this.one=new Te(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,d){if(c<0)throw new m;if(d===0)return this.zero;const f=new Int32Array(c+1);return f[0]=d,new Te(this,f)}inverse(c){if(c===0)throw new De;return this.expTable[this.size-this.logTable[c]-1]}multiply(c,d){return c===0||d===0?0:this.expTable[(this.logTable[c]+this.logTable[d])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(c){return c===this}}Qe.AZTEC_DATA_12=new Qe(4201,4096,1),Qe.AZTEC_DATA_10=new Qe(1033,1024,1),Qe.AZTEC_DATA_6=new Qe(67,64,1),Qe.AZTEC_PARAM=new Qe(19,16,1),Qe.QR_CODE_FIELD_256=new Qe(285,256,0),Qe.DATA_MATRIX_FIELD_256=new Qe(301,256,1),Qe.AZTEC_DATA_8=Qe.DATA_MATRIX_FIELD_256,Qe.MAXICODE_FIELD_64=Qe.AZTEC_DATA_6;class Ne extends u{}Ne.kind="ReedSolomonException";class pe extends u{}pe.kind="IllegalStateException";class Pe{constructor(c){this.field=c}decode(c,d){const f=this.field,g=new Te(f,c),x=new Int32Array(d);let v=!0;for(let we=0;we<d;we++){const Be=g.evaluateAt(f.exp(we+f.getGeneratorBase()));x[x.length-1-we]=Be,Be!==0&&(v=!1)}if(v)return;const E=new Te(f,x),k=this.runEuclideanAlgorithm(f.buildMonomial(d,1),E,d),P=k[0],z=k[1],re=this.findErrorLocations(P),oe=this.findErrorMagnitudes(z,re);for(let we=0;we<re.length;we++){const Be=c.length-1-f.log(re[we]);if(Be<0)throw new Ne("Bad error location");c[Be]=Qe.addOrSubtract(c[Be],oe[we])}}runEuclideanAlgorithm(c,d,f){if(c.getDegree()<d.getDegree()){const we=c;c=d,d=we}const g=this.field;let x=c,v=d,E=g.getZero(),k=g.getOne();for(;v.getDegree()>=(f/2|0);){let we=x,Be=E;if(x=v,E=k,x.isZero())throw new Ne("r_{i-1} was zero");v=we;let Se=g.getZero();const Oe=x.getCoefficient(x.getDegree()),$e=g.inverse(Oe);for(;v.getDegree()>=x.getDegree()&&!v.isZero();){const ct=v.getDegree()-x.getDegree(),ht=g.multiply(v.getCoefficient(v.getDegree()),$e);Se=Se.addOrSubtract(g.buildMonomial(ct,ht)),v=v.addOrSubtract(x.multiplyByMonomial(ct,ht))}if(k=Se.multiply(E).addOrSubtract(Be),v.getDegree()>=x.getDegree())throw new pe("Division algorithm failed to reduce polynomial?")}const P=k.getCoefficient(0);if(P===0)throw new Ne("sigmaTilde(0) was zero");const z=g.inverse(P),re=k.multiplyScalar(z),oe=v.multiplyScalar(z);return[re,oe]}findErrorLocations(c){const d=c.getDegree();if(d===1)return Int32Array.from([c.getCoefficient(1)]);const f=new Int32Array(d);let g=0;const x=this.field;for(let v=1;v<x.getSize()&&g<d;v++)c.evaluateAt(v)===0&&(f[g]=x.inverse(v),g++);if(g!==d)throw new Ne("Error locator degree does not match number of roots");return f}findErrorMagnitudes(c,d){const f=d.length,g=new Int32Array(f),x=this.field;for(let v=0;v<f;v++){const E=x.inverse(d[v]);let k=1;for(let P=0;P<f;P++)if(v!==P){const z=x.multiply(d[P],E),re=z&1?z&-2:z|1;k=x.multiply(k,re)}g[v]=x.multiply(c.evaluateAt(E),x.inverse(k)),x.getGeneratorBase()!==0&&(g[v]=x.multiply(g[v],E))}return g}}var rt;(function(te){te[te.UPPER=0]="UPPER",te[te.LOWER=1]="LOWER",te[te.MIXED=2]="MIXED",te[te.DIGIT=3]="DIGIT",te[te.PUNCT=4]="PUNCT",te[te.BINARY=5]="BINARY"})(rt||(rt={}));class qe{decode(c){this.ddata=c;let d=c.getBits(),f=this.extractBits(d),g=this.correctBits(f),x=qe.convertBoolArrayToByteArray(g),v=qe.getEncodedData(g),E=new je(x,v,null,null);return E.setNumBits(g.length),E}static highLevelDecode(c){return this.getEncodedData(c)}static getEncodedData(c){let d=c.length,f=rt.UPPER,g=rt.UPPER,x="",v=0;for(;v<d;)if(g===rt.BINARY){if(d-v<5)break;let E=qe.readCode(c,v,5);if(v+=5,E===0){if(d-v<11)break;E=qe.readCode(c,v,11)+31,v+=11}for(let k=0;k<E;k++){if(d-v<8){v=d;break}const P=qe.readCode(c,v,8);x+=V.castAsNonUtf8Char(P),v+=8}g=f}else{let E=g===rt.DIGIT?4:5;if(d-v<E)break;let k=qe.readCode(c,v,E);v+=E;let P=qe.getCharacter(g,k);P.startsWith("CTRL_")?(f=g,g=qe.getTable(P.charAt(5)),P.charAt(6)==="L"&&(f=g)):(x+=P,g=f)}return x}static getTable(c){switch(c){case"L":return rt.LOWER;case"P":return rt.PUNCT;case"M":return rt.MIXED;case"D":return rt.DIGIT;case"B":return rt.BINARY;case"U":default:return rt.UPPER}}static getCharacter(c,d){switch(c){case rt.UPPER:return qe.UPPER_TABLE[d];case rt.LOWER:return qe.LOWER_TABLE[d];case rt.MIXED:return qe.MIXED_TABLE[d];case rt.PUNCT:return qe.PUNCT_TABLE[d];case rt.DIGIT:return qe.DIGIT_TABLE[d];default:throw new pe("Bad table")}}correctBits(c){let d,f;this.ddata.getNbLayers()<=2?(f=6,d=Qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,d=Qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,d=Qe.AZTEC_DATA_10):(f=12,d=Qe.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),x=c.length/f;if(x<g)throw new D;let v=c.length%f,E=new Int32Array(x);for(let oe=0;oe<x;oe++,v+=f)E[oe]=qe.readCode(c,v,f);try{new Pe(d).decode(E,x-g)}catch(oe){throw new D(oe)}let k=(1<<f)-1,P=0;for(let oe=0;oe<g;oe++){let we=E[oe];if(we===0||we===k)throw new D;(we===1||we===k-1)&&P++}let z=new Array(g*f-P),re=0;for(let oe=0;oe<g;oe++){let we=E[oe];if(we===1||we===k-1)z.fill(we>1,re,re+f-1),re+=f-1;else for(let Be=f-1;Be>=0;--Be)z[re++]=(we&1<<Be)!==0}return z}extractBits(c){let d=this.ddata.isCompact(),f=this.ddata.getNbLayers(),g=(d?11:14)+f*4,x=new Int32Array(g),v=new Array(this.totalBitsInLayer(f,d));if(d)for(let E=0;E<x.length;E++)x[E]=E;else{let E=g+1+2*I.truncDivision(I.truncDivision(g,2)-1,15),k=g/2,P=I.truncDivision(E,2);for(let z=0;z<k;z++){let re=z+I.truncDivision(z,15);x[k-z-1]=P-re-1,x[k+z]=P+re+1}}for(let E=0,k=0;E<f;E++){let P=(f-E)*4+(d?9:12),z=E*2,re=g-1-z;for(let oe=0;oe<P;oe++){let we=oe*2;for(let Be=0;Be<2;Be++)v[k+we+Be]=c.get(x[z+Be],x[z+oe]),v[k+2*P+we+Be]=c.get(x[z+oe],x[re-Be]),v[k+4*P+we+Be]=c.get(x[re-Be],x[re-oe]),v[k+6*P+we+Be]=c.get(x[re-oe],x[z+Be])}k+=P*8}return v}static readCode(c,d,f){let g=0;for(let x=d;x<d+f;x++)g<<=1,c[x]&&(g|=1);return g}static readByte(c,d){let f=c.length-d;return f>=8?qe.readCode(c,d,8):qe.readCode(c,d,f)<<8-f}static convertBoolArrayToByteArray(c){let d=new Uint8Array((c.length+7)/8);for(let f=0;f<d.length;f++)d[f]=qe.readByte(c,8*f);return d}totalBitsInLayer(c,d){return((d?88:112)+16*c)*c}}qe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],qe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],qe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],qe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],qe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Me{constructor(){}static round(c){return c===NaN?0:c<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:c>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:c+(c<0?-.5:.5)|0}static distance(c,d,f,g){const x=c-f,v=d-g;return Math.sqrt(x*x+v*v)}static sum(c){let d=0;for(let f=0,g=c.length;f!==g;f++){const x=c[f];d+=x}return d}}class wt{static floatToIntBits(c){return c}}wt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class We{constructor(c,d){this.x=c,this.y=d}getX(){return this.x}getY(){return this.y}equals(c){if(c instanceof We){const d=c;return this.x===d.x&&this.y===d.y}return!1}hashCode(){return 31*wt.floatToIntBits(this.x)+wt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(c){const d=this.distance(c[0],c[1]),f=this.distance(c[1],c[2]),g=this.distance(c[0],c[2]);let x,v,E;if(f>=d&&f>=g?(v=c[0],x=c[1],E=c[2]):g>=f&&g>=d?(v=c[1],x=c[0],E=c[2]):(v=c[2],x=c[0],E=c[1]),this.crossProductZ(x,v,E)<0){const k=x;x=E,E=k}c[0]=x,c[1]=v,c[2]=E}static distance(c,d){return Me.distance(c.x,c.y,d.x,d.y)}static crossProductZ(c,d,f){const g=d.x,x=d.y;return(f.x-g)*(c.y-x)-(f.y-x)*(c.x-g)}}class Wt{constructor(c,d){this.bits=c,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class Nt extends Wt{constructor(c,d,f,g,x){super(c,d),this.compact=f,this.nbDatablocks=g,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class at{constructor(c,d,f,g){this.image=c,this.height=c.getHeight(),this.width=c.getWidth(),d==null&&(d=at.INIT_SIZE),f==null&&(f=c.getWidth()/2|0),g==null&&(g=c.getHeight()/2|0);const x=d/2|0;if(this.leftInit=f-x,this.rightInit=f+x,this.upInit=g-x,this.downInit=g+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let c=this.leftInit,d=this.rightInit,f=this.upInit,g=this.downInit,x=!1,v=!0,E=!1,k=!1,P=!1,z=!1,re=!1;const oe=this.width,we=this.height;for(;v;){v=!1;let Be=!0;for(;(Be||!k)&&d<oe;)Be=this.containsBlackPoint(f,g,d,!1),Be?(d++,v=!0,k=!0):k||d++;if(d>=oe){x=!0;break}let Se=!0;for(;(Se||!P)&&g<we;)Se=this.containsBlackPoint(c,d,g,!0),Se?(g++,v=!0,P=!0):P||g++;if(g>=we){x=!0;break}let Oe=!0;for(;(Oe||!z)&&c>=0;)Oe=this.containsBlackPoint(f,g,c,!1),Oe?(c--,v=!0,z=!0):z||c--;if(c<0){x=!0;break}let $e=!0;for(;($e||!re)&&f>=0;)$e=this.containsBlackPoint(c,d,f,!0),$e?(f--,v=!0,re=!0):re||f--;if(f<0){x=!0;break}v&&(E=!0)}if(!x&&E){const Be=d-c;let Se=null;for(let ht=1;Se===null&&ht<Be;ht++)Se=this.getBlackPointOnSegment(c,g-ht,c+ht,g);if(Se==null)throw new ee;let Oe=null;for(let ht=1;Oe===null&&ht<Be;ht++)Oe=this.getBlackPointOnSegment(c,f+ht,c+ht,f);if(Oe==null)throw new ee;let $e=null;for(let ht=1;$e===null&&ht<Be;ht++)$e=this.getBlackPointOnSegment(d,f+ht,d-ht,f);if($e==null)throw new ee;let ct=null;for(let ht=1;ct===null&&ht<Be;ht++)ct=this.getBlackPointOnSegment(d,g-ht,d-ht,g);if(ct==null)throw new ee;return this.centerEdges(ct,Se,$e,Oe)}else throw new ee}getBlackPointOnSegment(c,d,f,g){const x=Me.round(Me.distance(c,d,f,g)),v=(f-c)/x,E=(g-d)/x,k=this.image;for(let P=0;P<x;P++){const z=Me.round(c+P*v),re=Me.round(d+P*E);if(k.get(z,re))return new We(z,re)}return null}centerEdges(c,d,f,g){const x=c.getX(),v=c.getY(),E=d.getX(),k=d.getY(),P=f.getX(),z=f.getY(),re=g.getX(),oe=g.getY(),we=at.CORR;return x<this.width/2?[new We(re-we,oe+we),new We(E+we,k+we),new We(P-we,z-we),new We(x+we,v-we)]:[new We(re+we,oe+we),new We(E+we,k-we),new We(P-we,z+we),new We(x-we,v-we)]}containsBlackPoint(c,d,f,g){const x=this.image;if(g){for(let v=c;v<=d;v++)if(x.get(v,f))return!0}else for(let v=c;v<=d;v++)if(x.get(f,v))return!0;return!1}}at.INIT_SIZE=10,at.CORR=1;class pt{static checkAndNudgePoints(c,d){const f=c.getWidth(),g=c.getHeight();let x=!0;for(let v=0;v<d.length&&x;v+=2){const E=Math.floor(d[v]),k=Math.floor(d[v+1]);if(E<-1||E>f||k<-1||k>g)throw new ee;x=!1,E===-1?(d[v]=0,x=!0):E===f&&(d[v]=f-1,x=!0),k===-1?(d[v+1]=0,x=!0):k===g&&(d[v+1]=g-1,x=!0)}x=!0;for(let v=d.length-2;v>=0&&x;v-=2){const E=Math.floor(d[v]),k=Math.floor(d[v+1]);if(E<-1||E>f||k<-1||k>g)throw new ee;x=!1,E===-1?(d[v]=0,x=!0):E===f&&(d[v]=f-1,x=!0),k===-1?(d[v+1]=0,x=!0):k===g&&(d[v+1]=g-1,x=!0)}}}class dt{constructor(c,d,f,g,x,v,E,k,P){this.a11=c,this.a21=d,this.a31=f,this.a12=g,this.a22=x,this.a32=v,this.a13=E,this.a23=k,this.a33=P}static quadrilateralToQuadrilateral(c,d,f,g,x,v,E,k,P,z,re,oe,we,Be,Se,Oe){const $e=dt.quadrilateralToSquare(c,d,f,g,x,v,E,k);return dt.squareToQuadrilateral(P,z,re,oe,we,Be,Se,Oe).times($e)}transformPoints(c){const d=c.length,f=this.a11,g=this.a12,x=this.a13,v=this.a21,E=this.a22,k=this.a23,P=this.a31,z=this.a32,re=this.a33;for(let oe=0;oe<d;oe+=2){const we=c[oe],Be=c[oe+1],Se=x*we+k*Be+re;c[oe]=(f*we+v*Be+P)/Se,c[oe+1]=(g*we+E*Be+z)/Se}}transformPointsWithValues(c,d){const f=this.a11,g=this.a12,x=this.a13,v=this.a21,E=this.a22,k=this.a23,P=this.a31,z=this.a32,re=this.a33,oe=c.length;for(let we=0;we<oe;we++){const Be=c[we],Se=d[we],Oe=x*Be+k*Se+re;c[we]=(f*Be+v*Se+P)/Oe,d[we]=(g*Be+E*Se+z)/Oe}}static squareToQuadrilateral(c,d,f,g,x,v,E,k){const P=c-f+x-E,z=d-g+v-k;if(P===0&&z===0)return new dt(f-c,x-f,c,g-d,v-g,d,0,0,1);{const re=f-x,oe=E-x,we=g-v,Be=k-v,Se=re*Be-oe*we,Oe=(P*Be-oe*z)/Se,$e=(re*z-P*we)/Se;return new dt(f-c+Oe*f,E-c+$e*E,c,g-d+Oe*g,k-d+$e*k,d,Oe,$e,1)}}static quadrilateralToSquare(c,d,f,g,x,v,E,k){return dt.squareToQuadrilateral(c,d,f,g,x,v,E,k).buildAdjoint()}buildAdjoint(){return new dt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(c){return new dt(this.a11*c.a11+this.a21*c.a12+this.a31*c.a13,this.a11*c.a21+this.a21*c.a22+this.a31*c.a23,this.a11*c.a31+this.a21*c.a32+this.a31*c.a33,this.a12*c.a11+this.a22*c.a12+this.a32*c.a13,this.a12*c.a21+this.a22*c.a22+this.a32*c.a23,this.a12*c.a31+this.a22*c.a32+this.a32*c.a33,this.a13*c.a11+this.a23*c.a12+this.a33*c.a13,this.a13*c.a21+this.a23*c.a22+this.a33*c.a23,this.a13*c.a31+this.a23*c.a32+this.a33*c.a33)}}class xt extends pt{sampleGrid(c,d,f,g,x,v,E,k,P,z,re,oe,we,Be,Se,Oe,$e,ct,ht){const At=dt.quadrilateralToQuadrilateral(g,x,v,E,k,P,z,re,oe,we,Be,Se,Oe,$e,ct,ht);return this.sampleGridWithTransform(c,d,f,At)}sampleGridWithTransform(c,d,f,g){if(d<=0||f<=0)throw new ee;const x=new Z(d,f),v=new Float32Array(2*d);for(let E=0;E<f;E++){const k=v.length,P=E+.5;for(let z=0;z<k;z+=2)v[z]=z/2+.5,v[z+1]=P;g.transformPoints(v),pt.checkAndNudgePoints(c,v);try{for(let z=0;z<k;z+=2)c.get(Math.floor(v[z]),Math.floor(v[z+1]))&&x.set(z/2,E)}catch{throw new ee}}return x}}class It{static setGridSampler(c){It.gridSampler=c}static getInstance(){return It.gridSampler}}It.gridSampler=new xt;class gt{constructor(c,d){this.x=c,this.y=d}toResultPoint(){return new We(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ot{constructor(c){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=c}detect(){return this.detectMirror(!1)}detectMirror(c){let d=this.getMatrixCenter(),f=this.getBullsEyeCorners(d);if(c){let v=f[0];f[0]=f[2],f[2]=v}this.extractParameters(f);let g=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),x=this.getMatrixCornerPoints(f);return new Nt(g,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(c){if(!this.isValidPoint(c[0])||!this.isValidPoint(c[1])||!this.isValidPoint(c[2])||!this.isValidPoint(c[3]))throw new ee;let d=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(c[0],c[1],d),this.sampleLine(c[1],c[2],d),this.sampleLine(c[2],c[3],d),this.sampleLine(c[3],c[0],d)]);this.shift=this.getRotation(f,d);let g=0;for(let v=0;v<4;v++){let E=f[(this.shift+v)%4];this.compact?(g<<=7,g+=E>>1&127):(g<<=10,g+=(E>>2&992)+(E>>1&31))}let x=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(c,d){let f=0;c.forEach((g,x,v)=>{let E=(g>>d-2<<1)+(g&1);f=(f<<3)+E}),f=((f&1)<<11)+(f>>1);for(let g=0;g<4;g++)if(I.bitCount(f^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new ee}getCorrectedParameterData(c,d){let f,g;d?(f=7,g=2):(f=10,g=4);let x=f-g,v=new Int32Array(f);for(let k=f-1;k>=0;--k)v[k]=c&15,c>>=4;try{new Pe(Qe.AZTEC_PARAM).decode(v,x)}catch{throw new ee}let E=0;for(let k=0;k<g;k++)E=(E<<4)+v[k];return E}getBullsEyeCorners(c){let d=c,f=c,g=c,x=c,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let re=this.getFirstDifferent(d,v,1,-1),oe=this.getFirstDifferent(f,v,1,1),we=this.getFirstDifferent(g,v,-1,1),Be=this.getFirstDifferent(x,v,-1,-1);if(this.nbCenterLayers>2){let Se=this.distancePoint(Be,re)*this.nbCenterLayers/(this.distancePoint(x,d)*(this.nbCenterLayers+2));if(Se<.75||Se>1.25||!this.isWhiteOrBlackRectangle(re,oe,we,Be))break}d=re,f=oe,g=we,x=Be,v=!v}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let E=new We(d.getX()+.5,d.getY()-.5),k=new We(f.getX()+.5,f.getY()+.5),P=new We(g.getX()-.5,g.getY()+.5),z=new We(x.getX()-.5,x.getY()-.5);return this.expandSquare([E,k,P,z],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let c,d,f,g;try{let E=new at(this.image).detect();c=E[0],d=E[1],f=E[2],g=E[3]}catch{let k=this.image.getWidth()/2,P=this.image.getHeight()/2;c=this.getFirstDifferent(new gt(k+7,P-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new gt(k+7,P+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new gt(k-7,P+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new gt(k-7,P-7),!1,-1,-1).toResultPoint()}let x=Me.round((c.getX()+g.getX()+d.getX()+f.getX())/4),v=Me.round((c.getY()+g.getY()+d.getY()+f.getY())/4);try{let E=new at(this.image,15,x,v).detect();c=E[0],d=E[1],f=E[2],g=E[3]}catch{c=this.getFirstDifferent(new gt(x+7,v-7),!1,1,-1).toResultPoint(),d=this.getFirstDifferent(new gt(x+7,v+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new gt(x-7,v+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new gt(x-7,v-7),!1,-1,-1).toResultPoint()}return x=Me.round((c.getX()+g.getX()+d.getX()+f.getX())/4),v=Me.round((c.getY()+g.getY()+d.getY()+f.getY())/4),new gt(x,v)}getMatrixCornerPoints(c){return this.expandSquare(c,2*this.nbCenterLayers,this.getDimension())}sampleGrid(c,d,f,g,x){let v=It.getInstance(),E=this.getDimension(),k=E/2-this.nbCenterLayers,P=E/2+this.nbCenterLayers;return v.sampleGrid(c,E,E,k,k,P,k,P,P,k,P,d.getX(),d.getY(),f.getX(),f.getY(),g.getX(),g.getY(),x.getX(),x.getY())}sampleLine(c,d,f){let g=0,x=this.distanceResultPoint(c,d),v=x/f,E=c.getX(),k=c.getY(),P=v*(d.getX()-c.getX())/x,z=v*(d.getY()-c.getY())/x;for(let re=0;re<f;re++)this.image.get(Me.round(E+re*P),Me.round(k+re*z))&&(g|=1<<f-re-1);return g}isWhiteOrBlackRectangle(c,d,f,g){let x=3;c=new gt(c.getX()-x,c.getY()+x),d=new gt(d.getX()-x,d.getY()-x),f=new gt(f.getX()+x,f.getY()-x),g=new gt(g.getX()+x,g.getY()+x);let v=this.getColor(g,c);if(v===0)return!1;let E=this.getColor(c,d);return E!==v||(E=this.getColor(d,f),E!==v)?!1:(E=this.getColor(f,g),E===v)}getColor(c,d){let f=this.distancePoint(c,d),g=(d.getX()-c.getX())/f,x=(d.getY()-c.getY())/f,v=0,E=c.getX(),k=c.getY(),P=this.image.get(c.getX(),c.getY()),z=Math.ceil(f);for(let oe=0;oe<z;oe++)E+=g,k+=x,this.image.get(Me.round(E),Me.round(k))!==P&&v++;let re=v/f;return re>.1&&re<.9?0:re<=.1===P?1:-1}getFirstDifferent(c,d,f,g){let x=c.getX()+f,v=c.getY()+g;for(;this.isValid(x,v)&&this.image.get(x,v)===d;)x+=f,v+=g;for(x-=f,v-=g;this.isValid(x,v)&&this.image.get(x,v)===d;)x+=f;for(x-=f;this.isValid(x,v)&&this.image.get(x,v)===d;)v+=g;return v-=g,new gt(x,v)}expandSquare(c,d,f){let g=f/(2*d),x=c[0].getX()-c[2].getX(),v=c[0].getY()-c[2].getY(),E=(c[0].getX()+c[2].getX())/2,k=(c[0].getY()+c[2].getY())/2,P=new We(E+g*x,k+g*v),z=new We(E-g*x,k-g*v);x=c[1].getX()-c[3].getX(),v=c[1].getY()-c[3].getY(),E=(c[1].getX()+c[3].getX())/2,k=(c[1].getY()+c[3].getY())/2;let re=new We(E+g*x,k+g*v),oe=new We(E-g*x,k-g*v);return[P,re,z,oe]}isValid(c,d){return c>=0&&c<this.image.getWidth()&&d>0&&d<this.image.getHeight()}isValidPoint(c){let d=Me.round(c.getX()),f=Me.round(c.getY());return this.isValid(d,f)}distancePoint(c,d){return Me.distance(c.getX(),c.getY(),d.getX(),d.getY())}distanceResultPoint(c,d){return Me.distance(c.getX(),c.getY(),d.getX(),d.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class vt{decode(c,d=null){let f=null,g=new Ot(c.getBlackMatrix()),x=null,v=null;try{let z=g.detectMirror(!1);x=z.getPoints(),this.reportFoundResultPoints(d,x),v=new qe().decode(z)}catch(z){f=z}if(v==null)try{let z=g.detectMirror(!0);x=z.getPoints(),this.reportFoundResultPoints(d,x),v=new qe().decode(z)}catch(z){throw f??z}let E=new se(v.getText(),v.getRawBytes(),v.getNumBits(),x,Ae.AZTEC,N.currentTimeMillis()),k=v.getByteSegments();k!=null&&E.putMetadata(fe.BYTE_SEGMENTS,k);let P=v.getECLevel();return P!=null&&E.putMetadata(fe.ERROR_CORRECTION_LEVEL,P),E}reportFoundResultPoints(c,d){if(c!=null){let f=c.get(H.NEED_RESULT_POINT_CALLBACK);f!=null&&d.forEach((g,x,v)=>{f.foundPossibleResultPoint(g)})}}reset(){}}class Hr extends Y{constructor(c=500){super(new vt,c)}}class Gt{decode(c,d){try{return this.doDecode(c,d)}catch{if(d&&d.get(H.TRY_HARDER)===!0&&c.isRotateSupported()){const x=c.rotateCounterClockwise(),v=this.doDecode(x,d),E=v.getResultMetadata();let k=270;E!==null&&E.get(fe.ORIENTATION)===!0&&(k=k+E.get(fe.ORIENTATION)%360),v.putMetadata(fe.ORIENTATION,k);const P=v.getResultPoints();if(P!==null){const z=x.getHeight();for(let re=0;re<P.length;re++)P[re]=new We(z-P[re].getY()-1,P[re].getX())}return v}else throw new ee}}reset(){}doDecode(c,d){const f=c.getWidth(),g=c.getHeight();let x=new _(f);const v=d&&d.get(H.TRY_HARDER)===!0,E=Math.max(1,g>>(v?8:5));let k;v?k=g:k=15;const P=Math.trunc(g/2);for(let z=0;z<k;z++){const re=Math.trunc((z+1)/2),oe=(z&1)===0,we=P+E*(oe?re:-re);if(we<0||we>=g)break;try{x=c.getBlackRow(we,x)}catch{continue}for(let Be=0;Be<2;Be++){if(Be===1&&(x.reverse(),d&&d.get(H.NEED_RESULT_POINT_CALLBACK)===!0)){const Se=new Map;d.forEach((Oe,$e)=>Se.set($e,Oe)),Se.delete(H.NEED_RESULT_POINT_CALLBACK),d=Se}try{const Se=this.decodeRow(we,x,d);if(Be===1){Se.putMetadata(fe.ORIENTATION,180);const Oe=Se.getResultPoints();Oe!==null&&(Oe[0]=new We(f-Oe[0].getX()-1,Oe[0].getY()),Oe[1]=new We(f-Oe[1].getX()-1,Oe[1].getY()))}return Se}catch{}}}throw new ee}static recordPattern(c,d,f){const g=f.length;for(let P=0;P<g;P++)f[P]=0;const x=c.getSize();if(d>=x)throw new ee;let v=!c.get(d),E=0,k=d;for(;k<x;){if(c.get(k)!==v)f[E]++;else{if(++E===g)break;f[E]=1,v=!v}k++}if(!(E===g||E===g-1&&k===x))throw new ee}static recordPatternInReverse(c,d,f){let g=f.length,x=c.get(d);for(;d>0&&g>=0;)c.get(--d)!==x&&(g--,x=!x);if(g>=0)throw new ee;Gt.recordPattern(c,d+1,f)}static patternMatchVariance(c,d,f){const g=c.length;let x=0,v=0;for(let P=0;P<g;P++)x+=c[P],v+=d[P];if(x<v)return Number.POSITIVE_INFINITY;const E=x/v;f*=E;let k=0;for(let P=0;P<g;P++){const z=c[P],re=d[P]*E,oe=z>re?z-re:re-z;if(oe>f)return Number.POSITIVE_INFINITY;k+=oe}return k/x}}class Ge extends Gt{static findStartPattern(c){const d=c.getSize(),f=c.getNextSet(0);let g=0,x=Int32Array.from([0,0,0,0,0,0]),v=f,E=!1;const k=6;for(let P=f;P<d;P++)if(c.get(P)!==E)x[g]++;else{if(g===k-1){let z=Ge.MAX_AVG_VARIANCE,re=-1;for(let oe=Ge.CODE_START_A;oe<=Ge.CODE_START_C;oe++){const we=Gt.patternMatchVariance(x,Ge.CODE_PATTERNS[oe],Ge.MAX_INDIVIDUAL_VARIANCE);we<z&&(z=we,re=oe)}if(re>=0&&c.isRange(Math.max(0,v-(P-v)/2),v,!1))return Int32Array.from([v,P,re]);v+=x[0]+x[1],x=x.slice(2,x.length-1),x[g-1]=0,x[g]=0,g--}else g++;x[g]=1,E=!E}throw new ee}static decodeCode(c,d,f){Gt.recordPattern(c,f,d);let g=Ge.MAX_AVG_VARIANCE,x=-1;for(let v=0;v<Ge.CODE_PATTERNS.length;v++){const E=Ge.CODE_PATTERNS[v],k=this.patternMatchVariance(d,E,Ge.MAX_INDIVIDUAL_VARIANCE);k<g&&(g=k,x=v)}if(x>=0)return x;throw new ee}decodeRow(c,d,f){const g=f&&f.get(H.ASSUME_GS1)===!0,x=Ge.findStartPattern(d),v=x[2];let E=0;const k=new Uint8Array(20);k[E++]=v;let P;switch(v){case Ge.CODE_START_A:P=Ge.CODE_CODE_A;break;case Ge.CODE_START_B:P=Ge.CODE_CODE_B;break;case Ge.CODE_START_C:P=Ge.CODE_CODE_C;break;default:throw new D}let z=!1,re=!1,oe="",we=x[0],Be=x[1];const Se=Int32Array.from([0,0,0,0,0,0]);let Oe=0,$e=0,ct=v,ht=0,At=!0,Qr=!1,Cr=!1;for(;!z;){const nA=re;switch(re=!1,Oe=$e,$e=Ge.decodeCode(d,Se,Be),k[E++]=$e,$e!==Ge.CODE_STOP&&(At=!0),$e!==Ge.CODE_STOP&&(ht++,ct+=ht*$e),we=Be,Be+=Se.reduce((D1,Xd)=>D1+Xd,0),$e){case Ge.CODE_START_A:case Ge.CODE_START_B:case Ge.CODE_START_C:throw new D}switch(P){case Ge.CODE_CODE_A:if($e<64)Cr===Qr?oe+=String.fromCharCode(32+$e):oe+=String.fromCharCode(32+$e+128),Cr=!1;else if($e<96)Cr===Qr?oe+=String.fromCharCode($e-64):oe+=String.fromCharCode($e+64),Cr=!1;else switch($e!==Ge.CODE_STOP&&(At=!1),$e){case Ge.CODE_FNC_1:g&&(oe.length===0?oe+="]C1":oe+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_A:!Qr&&Cr?(Qr=!0,Cr=!1):Qr&&Cr?(Qr=!1,Cr=!1):Cr=!0;break;case Ge.CODE_SHIFT:re=!0,P=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_B:P=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_C:P=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:z=!0;break}break;case Ge.CODE_CODE_B:if($e<96)Cr===Qr?oe+=String.fromCharCode(32+$e):oe+=String.fromCharCode(32+$e+128),Cr=!1;else switch($e!==Ge.CODE_STOP&&(At=!1),$e){case Ge.CODE_FNC_1:g&&(oe.length===0?oe+="]C1":oe+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_B:!Qr&&Cr?(Qr=!0,Cr=!1):Qr&&Cr?(Qr=!1,Cr=!1):Cr=!0;break;case Ge.CODE_SHIFT:re=!0,P=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_A:P=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_C:P=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:z=!0;break}break;case Ge.CODE_CODE_C:if($e<100)$e<10&&(oe+="0"),oe+=$e;else switch($e!==Ge.CODE_STOP&&(At=!1),$e){case Ge.CODE_FNC_1:g&&(oe.length===0?oe+="]C1":oe+="");break;case Ge.CODE_CODE_A:P=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_B:P=Ge.CODE_CODE_B;break;case Ge.CODE_STOP:z=!0;break}break}nA&&(P=P===Ge.CODE_CODE_A?Ge.CODE_CODE_B:Ge.CODE_CODE_A)}const Ca=Be-we;if(Be=d.getNextUnset(Be),!d.isRange(Be,Math.min(d.getSize(),Be+(Be-we)/2),!1))throw new ee;if(ct-=ht*Oe,ct%103!==Oe)throw new p;const Di=oe.length;if(Di===0)throw new ee;Di>0&&At&&(P===Ge.CODE_CODE_C?oe=oe.substring(0,Di-2):oe=oe.substring(0,Di-1));const Na=(x[1]+x[0])/2,pn=we+Ca/2,Ws=k.length,Va=new Uint8Array(Ws);for(let nA=0;nA<Ws;nA++)Va[nA]=k[nA];const rA=[new We(Na,c),new We(pn,c)];return new se(oe,Va,0,rA,Ae.CODE_128,new Date().getTime())}}Ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ge.MAX_AVG_VARIANCE=.25,Ge.MAX_INDIVIDUAL_VARIANCE=.7,Ge.CODE_SHIFT=98,Ge.CODE_CODE_C=99,Ge.CODE_CODE_B=100,Ge.CODE_CODE_A=101,Ge.CODE_FNC_1=102,Ge.CODE_FNC_2=97,Ge.CODE_FNC_3=96,Ge.CODE_FNC_4_A=101,Ge.CODE_FNC_4_B=100,Ge.CODE_START_A=103,Ge.CODE_START_B=104,Ge.CODE_START_C=105,Ge.CODE_STOP=106;class jt extends Gt{constructor(c=!1,d=!1){super(),this.usingCheckDigit=c,this.extendedMode=d,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(c,d,f){let g=this.counters;g.fill(0),this.decodeRowResult="";let x=jt.findAsteriskPattern(d,g),v=d.getNextSet(x[1]),E=d.getSize(),k,P;do{jt.recordPattern(d,v,g);let Se=jt.toNarrowWidePattern(g);if(Se<0)throw new ee;k=jt.patternToChar(Se),this.decodeRowResult+=k,P=v;for(let Oe of g)v+=Oe;v=d.getNextSet(v)}while(k!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let z=0;for(let Se of g)z+=Se;let re=v-P-z;if(v!==E&&re*2<z)throw new ee;if(this.usingCheckDigit){let Se=this.decodeRowResult.length-1,Oe=0;for(let $e=0;$e<Se;$e++)Oe+=jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($e));if(this.decodeRowResult.charAt(Se)!==jt.ALPHABET_STRING.charAt(Oe%43))throw new p;this.decodeRowResult=this.decodeRowResult.substring(0,Se)}if(this.decodeRowResult.length===0)throw new ee;let oe;this.extendedMode?oe=jt.decodeExtended(this.decodeRowResult):oe=this.decodeRowResult;let we=(x[1]+x[0])/2,Be=P+z/2;return new se(oe,null,0,[new We(we,c),new We(Be,c)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(c,d){let f=c.getSize(),g=c.getNextSet(0),x=0,v=g,E=!1,k=d.length;for(let P=g;P<f;P++)if(c.get(P)!==E)d[x]++;else{if(x===k-1){if(this.toNarrowWidePattern(d)===jt.ASTERISK_ENCODING&&c.isRange(Math.max(0,v-Math.floor((P-v)/2)),v,!1))return[v,P];v+=d[0]+d[1],d.copyWithin(0,2,2+x-1),d[x-1]=0,d[x]=0,x--}else x++;d[x]=1,E=!E}throw new ee}static toNarrowWidePattern(c){let d=c.length,f=0,g;do{let x=2147483647;for(let k of c)k<x&&k>f&&(x=k);f=x,g=0;let v=0,E=0;for(let k=0;k<d;k++){let P=c[k];P>f&&(E|=1<<d-1-k,g++,v+=P)}if(g===3){for(let k=0;k<d&&g>0;k++){let P=c[k];if(P>f&&(g--,P*2>=v))return-1}return E}}while(g>3);return-1}static patternToChar(c){for(let d=0;d<jt.CHARACTER_ENCODINGS.length;d++)if(jt.CHARACTER_ENCODINGS[d]===c)return jt.ALPHABET_STRING.charAt(d);if(c===jt.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(c){let d=c.length,f="";for(let g=0;g<d;g++){let x=c.charAt(g);if(x==="+"||x==="$"||x==="%"||x==="/"){let v=c.charAt(g+1),E="\0";switch(x){case"+":if(v>="A"&&v<="Z")E=String.fromCharCode(v.charCodeAt(0)+32);else throw new D;break;case"$":if(v>="A"&&v<="Z")E=String.fromCharCode(v.charCodeAt(0)-64);else throw new D;break;case"%":if(v>="A"&&v<="E")E=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")E=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")E=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")E=String.fromCharCode(v.charCodeAt(0)+43);else if(v==="U")E="\0";else if(v==="V")E="@";else if(v==="W")E="`";else if(v==="X"||v==="Y"||v==="Z")E="";else throw new D;break;case"/":if(v>="A"&&v<="O")E=String.fromCharCode(v.charCodeAt(0)-32);else if(v==="Z")E=":";else throw new D;break}f+=E,g++}else f+=x}return f}}jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],jt.ASTERISK_ENCODING=148;class Ht extends Gt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(c,d,f){let g=this.decodeStart(d),x=this.decodeEnd(d),v=new J;Ht.decodeMiddle(d,g[1],x[0],v);let E=v.toString(),k=null;f!=null&&(k=f.get(H.ALLOWED_LENGTHS)),k==null&&(k=Ht.DEFAULT_ALLOWED_LENGTHS);let P=E.length,z=!1,re=0;for(let Be of k){if(P===Be){z=!0;break}Be>re&&(re=Be)}if(!z&&P>re&&(z=!0),!z)throw new D;const oe=[new We(g[1],c),new We(x[0],c)];return new se(E,null,0,oe,Ae.ITF,new Date().getTime())}static decodeMiddle(c,d,f,g){let x=new Int32Array(10),v=new Int32Array(5),E=new Int32Array(5);for(x.fill(0),v.fill(0),E.fill(0);d<f;){Gt.recordPattern(c,d,x);for(let P=0;P<5;P++){let z=2*P;v[P]=x[z],E[P]=x[z+1]}let k=Ht.decodeDigit(v);g.append(k.toString()),k=this.decodeDigit(E),g.append(k.toString()),x.forEach(function(P){d+=P})}}decodeStart(c){let d=Ht.skipWhiteSpace(c),f=Ht.findGuardPattern(c,d,Ht.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(c,f[0]),f}validateQuietZone(c,d){let f=this.narrowLineWidth*10;f=f<d?f:d;for(let g=d-1;f>0&&g>=0&&!c.get(g);g--)f--;if(f!==0)throw new ee}static skipWhiteSpace(c){const d=c.getSize(),f=c.getNextSet(0);if(f===d)throw new ee;return f}decodeEnd(c){c.reverse();try{let d=Ht.skipWhiteSpace(c),f;try{f=Ht.findGuardPattern(c,d,Ht.END_PATTERN_REVERSED[0])}catch(x){x instanceof ee&&(f=Ht.findGuardPattern(c,d,Ht.END_PATTERN_REVERSED[1]))}this.validateQuietZone(c,f[0]);let g=f[0];return f[0]=c.getSize()-f[1],f[1]=c.getSize()-g,f}finally{c.reverse()}}static findGuardPattern(c,d,f){let g=f.length,x=new Int32Array(g),v=c.getSize(),E=!1,k=0,P=d;x.fill(0);for(let z=d;z<v;z++)if(c.get(z)!==E)x[k]++;else{if(k===g-1){if(Gt.patternMatchVariance(x,f,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return[P,z];P+=x[0]+x[1],N.arraycopy(x,2,x,0,k-1),x[k-1]=0,x[k]=0,k--}else k++;x[k]=1,E=!E}throw new ee}static decodeDigit(c){let d=Ht.MAX_AVG_VARIANCE,f=-1,g=Ht.PATTERNS.length;for(let x=0;x<g;x++){let v=Ht.PATTERNS[x],E=Gt.patternMatchVariance(c,v,Ht.MAX_INDIVIDUAL_VARIANCE);E<d?(d=E,f=x):E===d&&(f=-1)}if(f>=0)return f%10;throw new ee}}Ht.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ht.MAX_AVG_VARIANCE=.38,Ht.MAX_INDIVIDUAL_VARIANCE=.5,Ht.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ht.START_PATTERN=Int32Array.from([1,1,1,1]),Ht.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class bt extends Gt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(c){let d=!1,f,g=0,x=Int32Array.from([0,0,0]);for(;!d;){x=Int32Array.from([0,0,0]),f=bt.findGuardPattern(c,g,!1,this.START_END_PATTERN,x);let v=f[0];g=f[1];let E=v-(g-v);E>=0&&(d=c.isRange(E,v,!1))}return f}static checkChecksum(c){return bt.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let d=c.length;if(d===0)return!1;let f=parseInt(c.charAt(d-1),10);return bt.getStandardUPCEANChecksum(c.substring(0,d-1))===f}static getStandardUPCEANChecksum(c){let d=c.length,f=0;for(let g=d-1;g>=0;g-=2){let x=c.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new D;f+=x}f*=3;for(let g=d-2;g>=0;g-=2){let x=c.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new D;f+=x}return(1e3-f)%10}static decodeEnd(c,d){return bt.findGuardPattern(c,d,!1,bt.START_END_PATTERN,new Int32Array(bt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(c,d,f,g){return this.findGuardPattern(c,d,f,g,new Int32Array(g.length))}static findGuardPattern(c,d,f,g,x){let v=c.getSize();d=f?c.getNextUnset(d):c.getNextSet(d);let E=0,k=d,P=g.length,z=f;for(let re=d;re<v;re++)if(c.get(re)!==z)x[E]++;else{if(E===P-1){if(Gt.patternMatchVariance(x,g,bt.MAX_INDIVIDUAL_VARIANCE)<bt.MAX_AVG_VARIANCE)return Int32Array.from([k,re]);k+=x[0]+x[1];let oe=x.slice(2,x.length-1);for(let we=0;we<E-1;we++)x[we]=oe[we];x[E-1]=0,x[E]=0,E--}else E++;x[E]=1,z=!z}throw new ee}static decodeDigit(c,d,f,g){this.recordPattern(c,f,d);let x=this.MAX_AVG_VARIANCE,v=-1,E=g.length;for(let k=0;k<E;k++){let P=g[k],z=Gt.patternMatchVariance(d,P,bt.MAX_INDIVIDUAL_VARIANCE);z<x&&(x=z,v=k)}if(v>=0)return v;throw new ee}}bt.MAX_AVG_VARIANCE=.48,bt.MAX_INDIVIDUAL_VARIANCE=.7,bt.START_END_PATTERN=Int32Array.from([1,1,1]),bt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),bt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),bt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class vr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,d,f){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(d,f,g),v=g.toString(),E=vr.parseExtensionString(v),k=[new We((f[0]+f[1])/2,c),new We(x,c)],P=new se(v,null,0,k,Ae.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&P.putAllMetadata(E),P}decodeMiddle(c,d,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=c.getSize(),v=d[1],E=0;for(let P=0;P<5&&v<x;P++){let z=bt.decodeDigit(c,g,v,bt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+z%10);for(let re of g)v+=re;z>=10&&(E|=1<<4-P),P!==4&&(v=c.getNextSet(v),v=c.getNextUnset(v))}if(f.length!==5)throw new ee;let k=this.determineCheckDigit(E);if(vr.extensionChecksum(f.toString())!==k)throw new ee;return v}static extensionChecksum(c){let d=c.length,f=0;for(let g=d-2;g>=0;g-=2)f+=c.charAt(g).charCodeAt(0)-48;f*=3;for(let g=d-1;g>=0;g-=2)f+=c.charAt(g).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(c){for(let d=0;d<10;d++)if(c===this.CHECK_DIGIT_ENCODINGS[d])return d;throw new ee}static parseExtensionString(c){if(c.length!==5)return null;let d=vr.parseExtension5String(c);return d==null?null:new Map([[fe.SUGGESTED_PRICE,d]])}static parseExtension5String(c){let d;switch(c.charAt(0)){case"0":d="";break;case"5":d="$";break;case"9":switch(c){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}d="";break;default:d="";break}let f=parseInt(c.substring(1)),g=(f/100).toString(),x=f%100,v=x<10?"0"+x:x.toString();return d+g+"."+v}}class ze{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,d,f){let g=this.decodeRowStringBuffer,x=this.decodeMiddle(d,f,g),v=g.toString(),E=ze.parseExtensionString(v),k=[new We((f[0]+f[1])/2,c),new We(x,c)],P=new se(v,null,0,k,Ae.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&P.putAllMetadata(E),P}decodeMiddle(c,d,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=c.getSize(),v=d[1],E=0;for(let k=0;k<2&&v<x;k++){let P=bt.decodeDigit(c,g,v,bt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+P%10);for(let z of g)v+=z;P>=10&&(E|=1<<1-k),k!==1&&(v=c.getNextSet(v),v=c.getNextUnset(v))}if(f.length!==2)throw new ee;if(parseInt(f.toString())%4!==E)throw new ee;return v}static parseExtensionString(c){return c.length!==2?null:new Map([[fe.ISSUE_NUMBER,parseInt(c)]])}}class Yt{static decodeRow(c,d,f){let g=bt.findGuardPattern(d,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new vr().decodeRow(c,d,g)}catch{return new ze().decodeRow(c,d,g)}}}Yt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class it extends bt{constructor(){super(),this.decodeRowStringBuffer="",it.L_AND_G_PATTERNS=it.L_PATTERNS.map(c=>Int32Array.from(c));for(let c=10;c<20;c++){let d=it.L_PATTERNS[c-10],f=new Int32Array(d.length);for(let g=0;g<d.length;g++)f[g]=d[d.length-g-1];it.L_AND_G_PATTERNS[c]=f}}decodeRow(c,d,f){let g=it.findStartGuardPattern(d),x=f==null?null:f.get(H.NEED_RESULT_POINT_CALLBACK);if(x!=null){const At=new We((g[0]+g[1])/2,c);x.foundPossibleResultPoint(At)}let v=this.decodeMiddle(d,g,this.decodeRowStringBuffer),E=v.rowOffset,k=v.resultString;if(x!=null){const At=new We(E,c);x.foundPossibleResultPoint(At)}let P=this.decodeEnd(d,E);if(x!=null){const At=new We((P[0]+P[1])/2,c);x.foundPossibleResultPoint(At)}let z=P[1],re=z+(z-P[0]);if(re>=d.getSize()||!d.isRange(z,re,!1))throw new ee;let oe=k.toString();if(oe.length<8)throw new D;if(!it.checkChecksum(oe))throw new p;let we=(g[1]+g[0])/2,Be=(P[1]+P[0])/2,Se=this.getBarcodeFormat(),Oe=[new We(we,c),new We(Be,c)],$e=new se(oe,null,0,Oe,Se,new Date().getTime()),ct=0;try{let At=Yt.decodeRow(c,d,P[1]);$e.putMetadata(fe.UPC_EAN_EXTENSION,At.getText()),$e.putAllMetadata(At.getResultMetadata()),$e.addResultPoints(At.getResultPoints()),ct=At.getText().length}catch{}let ht=f==null?null:f.get(H.ALLOWED_EAN_EXTENSIONS);if(ht!=null){let At=!1;for(let Qr in ht)if(ct.toString()===Qr){At=!0;break}if(!At)throw new ee}return $e}decodeEnd(c,d){return it.findGuardPattern(c,d,!1,it.START_END_PATTERN,new Int32Array(it.START_END_PATTERN.length).fill(0))}static checkChecksum(c){return it.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let d=c.length;if(d===0)return!1;let f=parseInt(c.charAt(d-1),10);return it.getStandardUPCEANChecksum(c.substring(0,d-1))===f}static getStandardUPCEANChecksum(c){let d=c.length,f=0;for(let g=d-1;g>=0;g-=2){let x=c.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new D;f+=x}f*=3;for(let g=d-2;g>=0;g-=2){let x=c.charAt(g).charCodeAt(0)-48;if(x<0||x>9)throw new D;f+=x}return(1e3-f)%10}}class Bt extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,d,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=c.getSize(),v=d[1],E=0;for(let P=0;P<6&&v<x;P++){let z=it.decodeDigit(c,g,v,it.L_AND_G_PATTERNS);f+=String.fromCharCode(48+z%10);for(let re of g)v+=re;z>=10&&(E|=1<<5-P)}f=Bt.determineFirstDigit(f,E),v=it.findGuardPattern(c,v,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<6&&v<x;P++){let z=it.decodeDigit(c,g,v,it.L_PATTERNS);f+=String.fromCharCode(48+z);for(let re of g)v+=re}return{rowOffset:v,resultString:f}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(c,d){for(let f=0;f<10;f++)if(d===this.FIRST_DIGIT_ENCODINGS[f])return c=String.fromCharCode(48+f)+c,c;throw new ee}}Bt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ut extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,d,f){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=c.getSize(),v=d[1];for(let k=0;k<4&&v<x;k++){let P=it.decodeDigit(c,g,v,it.L_PATTERNS);f+=String.fromCharCode(48+P);for(let z of g)v+=z}v=it.findGuardPattern(c,v,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<4&&v<x;k++){let P=it.decodeDigit(c,g,v,it.L_PATTERNS);f+=String.fromCharCode(48+P);for(let z of g)v+=z}return{rowOffset:v,resultString:f}}getBarcodeFormat(){return Ae.EAN_8}}class Ir extends it{constructor(){super(...arguments),this.ean13Reader=new Bt}getBarcodeFormat(){return Ae.UPC_A}decode(c,d){return this.maybeReturnResult(this.ean13Reader.decode(c))}decodeRow(c,d,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(c,d,f))}decodeMiddle(c,d,f){return this.ean13Reader.decodeMiddle(c,d,f)}maybeReturnResult(c){let d=c.getText();if(d.charAt(0)==="0"){let f=new se(d.substring(1),null,null,c.getResultPoints(),Ae.UPC_A);return c.getResultMetadata()!=null&&f.putAllMetadata(c.getResultMetadata()),f}else throw new ee}reset(){this.ean13Reader.reset()}}class Ct extends it{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(c,d,f){const g=this.decodeMiddleCounters.map(P=>P);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const x=c.getSize();let v=d[1],E=0;for(let P=0;P<6&&v<x;P++){const z=Ct.decodeDigit(c,g,v,Ct.L_AND_G_PATTERNS);f+=String.fromCharCode(48+z%10);for(let re of g)v+=re;z>=10&&(E|=1<<5-P)}let k=Ct.determineNumSysAndCheckDigit(f,E);return{rowOffset:v,resultString:k}}decodeEnd(c,d){return Ct.findGuardPatternWithoutCounters(c,d,!0,Ct.MIDDLE_END_PATTERN)}checkChecksum(c){return it.checkChecksum(Ct.convertUPCEtoUPCA(c))}static determineNumSysAndCheckDigit(c,d){for(let f=0;f<=1;f++)for(let g=0;g<10;g++)if(d===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][g]){let x=String.fromCharCode(48+f),v=String.fromCharCode(48+g);return x+c+v}throw ee.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(c){const d=c.slice(1,7).split("").map(x=>x.charCodeAt(0)),f=new J;f.append(c.charAt(0));let g=d[5];switch(g){case 0:case 1:case 2:f.appendChars(d,0,2),f.append(g),f.append("0000"),f.appendChars(d,2,3);break;case 3:f.appendChars(d,0,3),f.append("00000"),f.appendChars(d,3,2);break;case 4:f.appendChars(d,0,4),f.append("00000"),f.append(d[4]);break;default:f.appendChars(d,0,5),f.append("0000"),f.append(g);break}return c.length>=8&&f.append(c.charAt(7)),f.toString()}}Ct.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class tr extends Gt{constructor(c){super();let d=c==null?null:c.get(H.POSSIBLE_FORMATS),f=[];n(d)?(f.push(new Bt),f.push(new Ir),f.push(new Ut),f.push(new Ct)):(d.indexOf(Ae.EAN_13)>-1&&f.push(new Bt),d.indexOf(Ae.UPC_A)>-1&&f.push(new Ir),d.indexOf(Ae.EAN_8)>-1&&f.push(new Ut),d.indexOf(Ae.UPC_E)>-1&&f.push(new Ct)),this.readers=f}decodeRow(c,d,f){for(let g of this.readers)try{const x=g.decodeRow(c,d,f),v=x.getBarcodeFormat()===Ae.EAN_13&&x.getText().charAt(0)==="0",E=f==null?null:f.get(H.POSSIBLE_FORMATS),k=E==null||E.includes(Ae.UPC_A);if(v&&k){const P=x.getRawBytes(),z=new se(x.getText().substring(1),P,P?P.length:null,x.getResultPoints(),Ae.UPC_A);return z.putAllMetadata(x.getResultMetadata()),z}return x}catch{}throw new ee}reset(){for(let c of this.readers)c.reset()}}class nr extends Gt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(c,d){for(let f=0;f<d.length;f++)if(Gt.patternMatchVariance(c,d[f],nr.MAX_INDIVIDUAL_VARIANCE)<nr.MAX_AVG_VARIANCE)return f;throw new ee}static count(c){return Me.sum(new Int32Array(c))}static increment(c,d){let f=0,g=d[0];for(let x=1;x<c.length;x++)d[x]>g&&(g=d[x],f=x);c[f]++}static decrement(c,d){let f=0,g=d[0];for(let x=1;x<c.length;x++)d[x]<g&&(g=d[x],f=x);c[f]--}static isFinderPattern(c){let d=c[0]+c[1],f=d+c[2]+c[3],g=d/f;if(g>=nr.MIN_FINDER_PATTERN_RATIO&&g<=nr.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;for(let E of c)E>v&&(v=E),E<x&&(x=E);return v<10*x}return!1}}nr.MAX_AVG_VARIANCE=.2,nr.MAX_INDIVIDUAL_VARIANCE=.45,nr.MIN_FINDER_PATTERN_RATIO=9.5/12,nr.MAX_FINDER_PATTERN_RATIO=12.5/14;class ln{constructor(c,d){this.value=c,this.checksumPortion=d}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(c){if(!(c instanceof ln))return!1;const d=c;return this.value===d.value&&this.checksumPortion===d.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ft{constructor(c,d,f,g,x){this.value=c,this.startEnd=d,this.value=c,this.startEnd=d,this.resultPoints=new Array,this.resultPoints.push(new We(f,x)),this.resultPoints.push(new We(g,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(c){if(!(c instanceof Ft))return!1;const d=c;return this.value===d.value}hashCode(){return this.value}}class cn{constructor(){}static getRSSvalue(c,d,f){let g=0;for(let k of c)g+=k;let x=0,v=0,E=c.length;for(let k=0;k<E-1;k++){let P;for(P=1,v|=1<<k;P<c[k];P++,v&=~(1<<k)){let z=cn.combins(g-P-1,E-k-2);if(f&&v===0&&g-P-(E-k-1)>=E-k-1&&(z-=cn.combins(g-P-(E-k),E-k-2)),E-k-1>1){let re=0;for(let oe=g-P-(E-k-2);oe>d;oe--)re+=cn.combins(g-P-oe-1,E-k-3);z-=re*(E-1-k)}else g-P>d&&z--;x+=z}g-=P}return x}static combins(c,d){let f,g;c-d>d?(g=d,f=c-d):(g=c-d,f=d);let x=1,v=1;for(let E=c;E>f;E--)x*=E,v<=g&&(x/=v,v++);for(;v<=g;)x/=v,v++;return x}}class ps{static buildBitArray(c){let d=c.length*2-1;c[c.length-1].getRightChar()==null&&(d-=1);let f=12*d,g=new _(f),x=0,E=c[0].getRightChar().getValue();for(let k=11;k>=0;--k)E&1<<k&&g.set(x),x++;for(let k=1;k<c.length;++k){let P=c[k],z=P.getLeftChar().getValue();for(let re=11;re>=0;--re)z&1<<re&&g.set(x),x++;if(P.getRightChar()!=null){let re=P.getRightChar().getValue();for(let oe=11;oe>=0;--oe)re&1<<oe&&g.set(x),x++}}return g}}class zr{constructor(c,d){d?this.decodedInformation=null:(this.finished=c,this.decodedInformation=d)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class In{constructor(c){this.newPosition=c}getNewPosition(){return this.newPosition}}class Dr extends In{constructor(c,d){super(c),this.value=d}getValue(){return this.value}isFNC1(){return this.value===Dr.FNC1}}Dr.FNC1="$";class yn extends In{constructor(c,d,f){super(c),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=d}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class rn extends In{constructor(c,d,f){if(super(c),d<0||d>10||f<0||f>10)throw new D;this.firstDigit=d,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===rn.FNC1}isSecondDigitFNC1(){return this.secondDigit===rn.FNC1}isAnyFNC1(){return this.firstDigit===rn.FNC1||this.secondDigit===rn.FNC1}}rn.FNC1=10;class St{constructor(){}static parseFieldsInGeneralPurpose(c){if(!c)return null;if(c.length<2)throw new ee;let d=c.substring(0,2);for(let x of St.TWO_DIGIT_DATA_LENGTH)if(x[0]===d)return x[1]===St.VARIABLE_LENGTH?St.processVariableAI(2,x[2],c):St.processFixedAI(2,x[1],c);if(c.length<3)throw new ee;let f=c.substring(0,3);for(let x of St.THREE_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===St.VARIABLE_LENGTH?St.processVariableAI(3,x[2],c):St.processFixedAI(3,x[1],c);for(let x of St.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===f)return x[1]===St.VARIABLE_LENGTH?St.processVariableAI(4,x[2],c):St.processFixedAI(4,x[1],c);if(c.length<4)throw new ee;let g=c.substring(0,4);for(let x of St.FOUR_DIGIT_DATA_LENGTH)if(x[0]===g)return x[1]===St.VARIABLE_LENGTH?St.processVariableAI(4,x[2],c):St.processFixedAI(4,x[1],c);throw new ee}static processFixedAI(c,d,f){if(f.length<c)throw new ee;let g=f.substring(0,c);if(f.length<c+d)throw new ee;let x=f.substring(c,c+d),v=f.substring(c+d),E="("+g+")"+x,k=St.parseFieldsInGeneralPurpose(v);return k==null?E:E+k}static processVariableAI(c,d,f){let g=f.substring(0,c),x;f.length<c+d?x=f.length:x=c+d;let v=f.substring(c,x),E=f.substring(x),k="("+g+")"+v,P=St.parseFieldsInGeneralPurpose(E);return P==null?k:k+P}}St.VARIABLE_LENGTH=[],St.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",St.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",St.VARIABLE_LENGTH,20],["22",St.VARIABLE_LENGTH,29],["30",St.VARIABLE_LENGTH,8],["37",St.VARIABLE_LENGTH,8],["90",St.VARIABLE_LENGTH,30],["91",St.VARIABLE_LENGTH,30],["92",St.VARIABLE_LENGTH,30],["93",St.VARIABLE_LENGTH,30],["94",St.VARIABLE_LENGTH,30],["95",St.VARIABLE_LENGTH,30],["96",St.VARIABLE_LENGTH,30],["97",St.VARIABLE_LENGTH,3],["98",St.VARIABLE_LENGTH,30],["99",St.VARIABLE_LENGTH,30]],St.THREE_DIGIT_DATA_LENGTH=[["240",St.VARIABLE_LENGTH,30],["241",St.VARIABLE_LENGTH,30],["242",St.VARIABLE_LENGTH,6],["250",St.VARIABLE_LENGTH,30],["251",St.VARIABLE_LENGTH,30],["253",St.VARIABLE_LENGTH,17],["254",St.VARIABLE_LENGTH,20],["400",St.VARIABLE_LENGTH,30],["401",St.VARIABLE_LENGTH,30],["402",17],["403",St.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",St.VARIABLE_LENGTH,20],["421",St.VARIABLE_LENGTH,15],["422",3],["423",St.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],St.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",St.VARIABLE_LENGTH,15],["391",St.VARIABLE_LENGTH,18],["392",St.VARIABLE_LENGTH,15],["393",St.VARIABLE_LENGTH,18],["703",St.VARIABLE_LENGTH,30]],St.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",St.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",St.VARIABLE_LENGTH,20],["8003",St.VARIABLE_LENGTH,30],["8004",St.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",St.VARIABLE_LENGTH,30],["8008",St.VARIABLE_LENGTH,12],["8018",18],["8020",St.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",St.VARIABLE_LENGTH,70],["8200",St.VARIABLE_LENGTH,70]];class Ai{constructor(c){this.buffer=new J,this.information=c}decodeAllCodes(c,d){let f=d,g=null;do{let x=this.decodeGeneralPurposeField(f,g),v=St.parseFieldsInGeneralPurpose(x.getNewString());if(v!=null&&c.append(v),x.isRemaining()?g=""+x.getRemainingValue():g=null,f===x.getNewPosition())break;f=x.getNewPosition()}while(!0);return c.toString()}isStillNumeric(c){if(c+7>this.information.getSize())return c+4<=this.information.getSize();for(let d=c;d<c+3;++d)if(this.information.get(d))return!0;return this.information.get(c+3)}decodeNumeric(c){if(c+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(c,4);return x===0?new rn(this.information.getSize(),rn.FNC1,rn.FNC1):new rn(this.information.getSize(),x-1,rn.FNC1)}let d=this.extractNumericValueFromBitArray(c,7),f=(d-8)/11,g=(d-8)%11;return new rn(c+7,f,g)}extractNumericValueFromBitArray(c,d){return Ai.extractNumericValueFromBitArray(this.information,c,d)}static extractNumericValueFromBitArray(c,d,f){let g=0;for(let x=0;x<f;++x)c.get(d+x)&&(g|=1<<f-x-1);return g}decodeGeneralPurposeField(c,d){this.buffer.setLengthToZero(),d!=null&&this.buffer.append(d),this.current.setPosition(c);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new yn(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new yn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let c,d;do{let f=this.current.getPosition();if(this.current.isAlpha()?(d=this.parseAlphaBlock(),c=d.isFinished()):this.current.isIsoIec646()?(d=this.parseIsoIec646Block(),c=d.isFinished()):(d=this.parseNumericBlock(),c=d.isFinished()),!(f!==this.current.getPosition())&&!c)break}while(!c);return d.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let c=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFirstDigitFNC1()){let d;return c.isSecondDigitFNC1()?d=new yn(this.current.getPosition(),this.buffer.toString()):d=new yn(this.current.getPosition(),this.buffer.toString(),c.getSecondDigit()),new zr(!0,d)}if(this.buffer.append(c.getFirstDigit()),c.isSecondDigitFNC1()){let d=new yn(this.current.getPosition(),this.buffer.toString());return new zr(!0,d)}this.buffer.append(c.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new zr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let c=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let d=new yn(this.current.getPosition(),this.buffer.toString());return new zr(!0,d)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new zr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let c=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let d=new yn(this.current.getPosition(),this.buffer.toString());return new zr(!0,d)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new zr(!1)}isStillIsoIec646(c){if(c+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(c,5);if(d>=5&&d<16)return!0;if(c+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,7);if(f>=64&&f<116)return!0;if(c+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(c,8);return g>=232&&g<253}decodeIsoIec646(c){let d=this.extractNumericValueFromBitArray(c,5);if(d===15)return new Dr(c+5,Dr.FNC1);if(d>=5&&d<15)return new Dr(c+5,"0"+(d-5));let f=this.extractNumericValueFromBitArray(c,7);if(f>=64&&f<90)return new Dr(c+7,""+(f+1));if(f>=90&&f<116)return new Dr(c+7,""+(f+7));let g=this.extractNumericValueFromBitArray(c,8),x;switch(g){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new D}return new Dr(c+8,x)}isStillAlpha(c){if(c+5>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(c,5);if(d>=5&&d<16)return!0;if(c+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,6);return f>=16&&f<63}decodeAlphanumeric(c){let d=this.extractNumericValueFromBitArray(c,5);if(d===15)return new Dr(c+5,Dr.FNC1);if(d>=5&&d<15)return new Dr(c+5,"0"+(d-5));let f=this.extractNumericValueFromBitArray(c,6);if(f>=32&&f<58)return new Dr(c+6,""+(f+33));let g;switch(f){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new pe("Decoding invalid alphanumeric value: "+f)}return new Dr(c+6,g)}isAlphaTo646ToAlphaLatch(c){if(c+1>this.information.getSize())return!1;for(let d=0;d<5&&d+c<this.information.getSize();++d)if(d===2){if(!this.information.get(c+2))return!1}else if(this.information.get(c+d))return!1;return!0}isAlphaOr646ToNumericLatch(c){if(c+3>this.information.getSize())return!1;for(let d=c;d<c+3;++d)if(this.information.get(d))return!1;return!0}isNumericToAlphaNumericLatch(c){if(c+1>this.information.getSize())return!1;for(let d=0;d<4&&d+c<this.information.getSize();++d)if(this.information.get(c+d))return!1;return!0}}class ui{constructor(c){this.information=c,this.generalDecoder=new Ai(c)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class zn extends ui{constructor(c){super(c)}encodeCompressedGtin(c,d){c.append("(01)");let f=c.length();c.append("9"),this.encodeCompressedGtinWithoutAI(c,d,f)}encodeCompressedGtinWithoutAI(c,d,f){for(let g=0;g<4;++g){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(d+10*g,10);x/100===0&&c.append("0"),x/10===0&&c.append("0"),c.append(x)}zn.appendCheckDigit(c,f)}static appendCheckDigit(c,d){let f=0;for(let g=0;g<13;g++){let x=c.charAt(g+d).charCodeAt(0)-48;f+=g&1?x:3*x}f=10-f%10,f===10&&(f=0),c.append(f)}}zn.GTIN_SIZE=40;class ia extends zn{constructor(c){super(c)}parseInformation(){let c=new J;c.append("(01)");let d=c.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(ia.HEADER_SIZE,4);return c.append(f),this.encodeCompressedGtinWithoutAI(c,ia.HEADER_SIZE+4,d),this.getGeneralDecoder().decodeAllCodes(c,ia.HEADER_SIZE+44)}}ia.HEADER_SIZE=4;class Ma extends ui{constructor(c){super(c)}parseInformation(){let c=new J;return this.getGeneralDecoder().decodeAllCodes(c,Ma.HEADER_SIZE)}}Ma.HEADER_SIZE=5;class wa extends zn{constructor(c){super(c)}encodeCompressedWeight(c,d,f){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(d,f);this.addWeightCode(c,g);let x=this.checkWeight(g),v=1e5;for(let E=0;E<5;++E)x/v===0&&c.append("0"),v/=10;c.append(x)}}class oa extends wa{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()!=oa.HEADER_SIZE+wa.GTIN_SIZE+oa.WEIGHT_SIZE)throw new ee;let c=new J;return this.encodeCompressedGtin(c,oa.HEADER_SIZE),this.encodeCompressedWeight(c,oa.HEADER_SIZE+wa.GTIN_SIZE,oa.WEIGHT_SIZE),c.toString()}}oa.HEADER_SIZE=5,oa.WEIGHT_SIZE=15;class Po extends oa{constructor(c){super(c)}addWeightCode(c,d){c.append("(3103)")}checkWeight(c){return c}}class Wc extends oa{constructor(c){super(c)}addWeightCode(c,d){d<1e4?c.append("(3202)"):c.append("(3203)")}checkWeight(c){return c<1e4?c:c-1e4}}class ya extends zn{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<ya.HEADER_SIZE+zn.GTIN_SIZE)throw new ee;let c=new J;this.encodeCompressedGtin(c,ya.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(ya.HEADER_SIZE+zn.GTIN_SIZE,ya.LAST_DIGIT_SIZE);c.append("(392"),c.append(d),c.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(ya.HEADER_SIZE+zn.GTIN_SIZE+ya.LAST_DIGIT_SIZE,null);return c.append(f.getNewString()),c.toString()}}ya.HEADER_SIZE=8,ya.LAST_DIGIT_SIZE=2;class gs extends zn{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<gs.HEADER_SIZE+zn.GTIN_SIZE)throw new ee;let c=new J;this.encodeCompressedGtin(c,gs.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(gs.HEADER_SIZE+zn.GTIN_SIZE,gs.LAST_DIGIT_SIZE);c.append("(393"),c.append(d),c.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(gs.HEADER_SIZE+zn.GTIN_SIZE+gs.LAST_DIGIT_SIZE,gs.FIRST_THREE_DIGITS_SIZE);f/100==0&&c.append("0"),f/10==0&&c.append("0"),c.append(f);let g=this.getGeneralDecoder().decodeGeneralPurposeField(gs.HEADER_SIZE+zn.GTIN_SIZE+gs.LAST_DIGIT_SIZE+gs.FIRST_THREE_DIGITS_SIZE,null);return c.append(g.getNewString()),c.toString()}}gs.HEADER_SIZE=8,gs.LAST_DIGIT_SIZE=2,gs.FIRST_THREE_DIGITS_SIZE=10;class un extends wa{constructor(c,d,f){super(c),this.dateCode=f,this.firstAIdigits=d}parseInformation(){if(this.getInformation().getSize()!=un.HEADER_SIZE+un.GTIN_SIZE+un.WEIGHT_SIZE+un.DATE_SIZE)throw new ee;let c=new J;return this.encodeCompressedGtin(c,un.HEADER_SIZE),this.encodeCompressedWeight(c,un.HEADER_SIZE+un.GTIN_SIZE,un.WEIGHT_SIZE),this.encodeCompressedDate(c,un.HEADER_SIZE+un.GTIN_SIZE+un.WEIGHT_SIZE),c.toString()}encodeCompressedDate(c,d){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(d,un.DATE_SIZE);if(f==38400)return;c.append("("),c.append(this.dateCode),c.append(")");let g=f%32;f/=32;let x=f%12+1;f/=12;let v=f;v/10==0&&c.append("0"),c.append(v),x/10==0&&c.append("0"),c.append(x),g/10==0&&c.append("0"),c.append(g)}addWeightCode(c,d){c.append("("),c.append(this.firstAIdigits),c.append(d/1e5),c.append(")")}checkWeight(c){return c%1e5}}un.HEADER_SIZE=8,un.WEIGHT_SIZE=20,un.DATE_SIZE=16;function gf(te){try{if(te.get(1))return new ia(te);if(!te.get(2))return new Ma(te);switch(Ai.extractNumericValueFromBitArray(te,1,4)){case 4:return new Po(te);case 5:return new Wc(te)}switch(Ai.extractNumericValueFromBitArray(te,1,5)){case 12:return new ya(te);case 13:return new gs(te)}switch(Ai.extractNumericValueFromBitArray(te,1,7)){case 56:return new un(te,"310","11");case 57:return new un(te,"320","11");case 58:return new un(te,"310","13");case 59:return new un(te,"320","13");case 60:return new un(te,"310","15");case 61:return new un(te,"320","15");case 62:return new un(te,"310","17");case 63:return new un(te,"320","17")}}catch(c){throw console.log(c),new pe("unknown decoder: "+te)}}class _i{constructor(c,d,f,g){this.leftchar=c,this.rightchar=d,this.finderpattern=f,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(c,d){return c instanceof _i?_i.equalsOrNull(c.leftchar,d.leftchar)&&_i.equalsOrNull(c.rightchar,d.rightchar)&&_i.equalsOrNull(c.finderpattern,d.finderpattern):!1}static equalsOrNull(c,d){return c===null?d===null:_i.equals(c,d)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ru{constructor(c,d,f){this.pairs=c,this.rowNumber=d,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(c){return this.checkEqualitity(this,c)}toString(){return"{ "+this.pairs+" }"}equals(c,d){return c instanceof ru?this.checkEqualitity(c,d)&&c.wasReversed===d.wasReversed:!1}checkEqualitity(c,d){if(!c||!d)return;let f;return c.forEach((g,x)=>{d.forEach(v=>{g.getLeftChar().getValue()===v.getLeftChar().getValue()&&g.getRightChar().getValue()===v.getRightChar().getValue()&&g.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(f=!0)})}),f}}class nt extends nr{constructor(c){super(...arguments),this.pairs=new Array(nt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=c===!0}decodeRow(c,d,f){this.pairs.length=0,this.startFromEven=!1;try{return nt.constructResult(this.decodeRow2pairs(c,d))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,nt.constructResult(this.decodeRow2pairs(c,d))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(c,d){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(d,this.pairs,c))}catch(x){if(x instanceof ee){if(!this.pairs.length)throw new ee;f=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(c,!1),g){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new ee}checkRowsBoolean(c){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,c&&(this.rows=this.rows.reverse());let d=null;try{d=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return c&&(this.rows=this.rows.reverse()),d}checkRows(c,d){for(let f=d;f<this.rows.length;f++){let g=this.rows[f];this.pairs.length=0;for(let v of c)this.pairs.push(v.getPairs());if(this.pairs.push(g.getPairs()),!nt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(c);x.push(g);try{return this.checkRows(x,f+1)}catch(v){this.verbose&&console.log(v)}}throw new ee}static isValidSequence(c){for(let d of nt.FINDER_PATTERN_SEQUENCES){if(c.length>d.length)continue;let f=!0;for(let g=0;g<c.length;g++)if(c[g].getFinderPattern().getValue()!=d[g]){f=!1;break}if(f)return!0}return!1}storeRow(c,d){let f=0,g=!1,x=!1;for(;f<this.rows.length;){let v=this.rows[f];if(v.getRowNumber()>c){x=v.isEquivalent(this.pairs);break}g=v.isEquivalent(this.pairs),f++}x||g||nt.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new ru(this.pairs,c,d)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(c,d){for(let f of d)if(f.getPairs().length!==c.length){for(let g of f.getPairs())for(let x of c)if(_i.equals(g,x))break}}static isPartialRow(c,d){for(let f of d){let g=!0;for(let x of c){let v=!1;for(let E of f.getPairs())if(x.equals(E)){v=!0;break}if(!v){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(c){let d=ps.buildBitArray(c),g=gf(d).parseInformation(),x=c[0].getFinderPattern().getResultPoints(),v=c[c.length-1].getFinderPattern().getResultPoints(),E=[x[0],x[1],v[0],v[1]];return new se(g,null,null,E,Ae.RSS_EXPANDED,null)}checkChecksum(){let c=this.pairs.get(0),d=c.getLeftChar(),f=c.getRightChar();if(f==null)return!1;let g=f.getChecksumPortion(),x=2;for(let E=1;E<this.pairs.size();++E){let k=this.pairs.get(E);g+=k.getLeftChar().getChecksumPortion(),x++;let P=k.getRightChar();P!=null&&(g+=P.getChecksumPortion(),x++)}return g%=211,211*(x-4)+g==d.getValue()}static getNextSecondBar(c,d){let f;return c.get(d)?(f=c.getNextUnset(d),f=c.getNextSet(f)):(f=c.getNextSet(d),f=c.getNextUnset(f)),f}retrieveNextPair(c,d,f){let g=d.length%2==0;this.startFromEven&&(g=!g);let x,v=!0,E=-1;do this.findNextPair(c,d,E),x=this.parseFoundFinderPattern(c,f,g),x==null?E=nt.getNextSecondBar(c,this.startEnd[0]):v=!1;while(v);let k=this.decodeDataCharacter(c,x,g,!0);if(!this.isEmptyPair(d)&&d[d.length-1].mustBeLast())throw new ee;let P;try{P=this.decodeDataCharacter(c,x,g,!1)}catch(z){P=null,this.verbose&&console.log(z)}return new _i(k,P,x,!0)}isEmptyPair(c){return c.length===0}findNextPair(c,d,f){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let x=c.getSize(),v;f>=0?v=f:this.isEmptyPair(d)?v=0:v=d[d.length-1].getFinderPattern().getStartEnd()[1];let E=d.length%2!=0;this.startFromEven&&(E=!E);let k=!1;for(;v<x&&(k=!c.get(v),!!k);)v++;let P=0,z=v;for(let re=v;re<x;re++)if(c.get(re)!=k)g[P]++;else{if(P==3){if(E&&nt.reverseCounters(g),nt.isFinderPattern(g)){this.startEnd[0]=z,this.startEnd[1]=re;return}E&&nt.reverseCounters(g),z+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,P--}else P++;g[P]=1,k=!k}throw new ee}static reverseCounters(c){let d=c.length;for(let f=0;f<d/2;++f){let g=c[f];c[f]=c[d-f-1],c[d-f-1]=g}}parseFoundFinderPattern(c,d,f){let g,x,v;if(f){let P=this.startEnd[0]-1;for(;P>=0&&!c.get(P);)P--;P++,g=this.startEnd[0]-P,x=P,v=this.startEnd[1]}else x=this.startEnd[0],v=c.getNextUnset(this.startEnd[1]+1),g=v-this.startEnd[1];let E=this.getDecodeFinderCounters();N.arraycopy(E,0,E,1,E.length-1),E[0]=g;let k;try{k=this.parseFinderValue(E,nt.FINDER_PATTERNS)}catch{return null}return new Ft(k,[x,v],x,v,d)}decodeDataCharacter(c,d,f,g){let x=this.getDataCharacterCounters();for(let pn=0;pn<x.length;pn++)x[pn]=0;if(g)nt.recordPatternInReverse(c,d.getStartEnd()[0],x);else{nt.recordPattern(c,d.getStartEnd()[1],x);for(let pn=0,Ws=x.length-1;pn<Ws;pn++,Ws--){let Va=x[pn];x[pn]=x[Ws],x[Ws]=Va}}let v=17,E=Me.sum(new Int32Array(x))/v,k=(d.getStartEnd()[1]-d.getStartEnd()[0])/15;if(Math.abs(E-k)/k>.3)throw new ee;let P=this.getOddCounts(),z=this.getEvenCounts(),re=this.getOddRoundingErrors(),oe=this.getEvenRoundingErrors();for(let pn=0;pn<x.length;pn++){let Ws=1*x[pn]/E,Va=Ws+.5;if(Va<1){if(Ws<.3)throw new ee;Va=1}else if(Va>8){if(Ws>8.7)throw new ee;Va=8}let rA=pn/2;pn&1?(z[rA]=Va,oe[rA]=Ws-Va):(P[rA]=Va,re[rA]=Ws-Va)}this.adjustOddEvenCounts(v);let we=4*d.getValue()+(f?0:2)+(g?0:1)-1,Be=0,Se=0;for(let pn=P.length-1;pn>=0;pn--){if(nt.isNotA1left(d,f,g)){let Ws=nt.WEIGHTS[we][2*pn];Se+=P[pn]*Ws}Be+=P[pn]}let Oe=0;for(let pn=z.length-1;pn>=0;pn--)if(nt.isNotA1left(d,f,g)){let Ws=nt.WEIGHTS[we][2*pn+1];Oe+=z[pn]*Ws}let $e=Se+Oe;if(Be&1||Be>13||Be<4)throw new ee;let ct=(13-Be)/2,ht=nt.SYMBOL_WIDEST[ct],At=9-ht,Qr=cn.getRSSvalue(P,ht,!0),Cr=cn.getRSSvalue(z,At,!1),Ca=nt.EVEN_TOTAL_SUBSET[ct],Di=nt.GSUM[ct],Na=Qr*Ca+Cr+Di;return new ln(Na,$e)}static isNotA1left(c,d,f){return!(c.getValue()==0&&d&&f)}adjustOddEvenCounts(c){let d=Me.sum(new Int32Array(this.getOddCounts())),f=Me.sum(new Int32Array(this.getEvenCounts())),g=!1,x=!1;d>13?x=!0:d<4&&(g=!0);let v=!1,E=!1;f>13?E=!0:f<4&&(v=!0);let k=d+f-c,P=(d&1)==1,z=(f&1)==0;if(k==1)if(P){if(z)throw new ee;x=!0}else{if(!z)throw new ee;E=!0}else if(k==-1)if(P){if(z)throw new ee;g=!0}else{if(!z)throw new ee;v=!0}else if(k==0){if(P){if(!z)throw new ee;d<f?(g=!0,E=!0):(x=!0,v=!0)}else if(z)throw new ee}else throw new ee;if(g){if(x)throw new ee;nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(E)throw new ee;nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}nt.SYMBOL_WIDEST=[7,5,4,3,1],nt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],nt.GSUM=[0,348,1388,2948,3988],nt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],nt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],nt.FINDER_PAT_A=0,nt.FINDER_PAT_B=1,nt.FINDER_PAT_C=2,nt.FINDER_PAT_D=3,nt.FINDER_PAT_E=4,nt.FINDER_PAT_F=5,nt.FINDER_PATTERN_SEQUENCES=[[nt.FINDER_PAT_A,nt.FINDER_PAT_A],[nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B],[nt.FINDER_PAT_A,nt.FINDER_PAT_C,nt.FINDER_PAT_B,nt.FINDER_PAT_D],[nt.FINDER_PAT_A,nt.FINDER_PAT_E,nt.FINDER_PAT_B,nt.FINDER_PAT_D,nt.FINDER_PAT_C],[nt.FINDER_PAT_A,nt.FINDER_PAT_E,nt.FINDER_PAT_B,nt.FINDER_PAT_D,nt.FINDER_PAT_D,nt.FINDER_PAT_F],[nt.FINDER_PAT_A,nt.FINDER_PAT_E,nt.FINDER_PAT_B,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_F,nt.FINDER_PAT_F],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_D],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_E],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_F,nt.FINDER_PAT_F],[nt.FINDER_PAT_A,nt.FINDER_PAT_A,nt.FINDER_PAT_B,nt.FINDER_PAT_B,nt.FINDER_PAT_C,nt.FINDER_PAT_D,nt.FINDER_PAT_D,nt.FINDER_PAT_E,nt.FINDER_PAT_E,nt.FINDER_PAT_F,nt.FINDER_PAT_F]],nt.MAX_PAIRS=11;class Ti extends ln{constructor(c,d,f){super(c,d),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Fn extends nr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(c,d,f){const g=this.decodePair(d,!1,c,f);Fn.addOrTally(this.possibleLeftPairs,g),d.reverse();let x=this.decodePair(d,!0,c,f);Fn.addOrTally(this.possibleRightPairs,x),d.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&Fn.checkChecksum(v,E))return Fn.constructResult(v,E)}throw new ee}static addOrTally(c,d){if(d==null)return;let f=!1;for(let g of c)if(g.getValue()===d.getValue()){g.incrementCount(),f=!0;break}f||c.push(d)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(c,d){let f=4537077*c.getValue()+d.getValue(),g=new String(f).toString(),x=new J;for(let P=13-g.length;P>0;P--)x.append("0");x.append(g);let v=0;for(let P=0;P<13;P++){let z=x.charAt(P).charCodeAt(0)-48;v+=P&1?z:3*z}v=10-v%10,v===10&&(v=0),x.append(v.toString());let E=c.getFinderPattern().getResultPoints(),k=d.getFinderPattern().getResultPoints();return new se(x.toString(),null,0,[E[0],E[1],k[0],k[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(c,d){let f=(c.getChecksumPortion()+16*d.getChecksumPortion())%79,g=9*c.getFinderPattern().getValue()+d.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,f===g}decodePair(c,d,f,g){try{let x=this.findFinderPattern(c,d),v=this.parseFoundFinderPattern(c,f,d,x),E=g==null?null:g.get(H.NEED_RESULT_POINT_CALLBACK);if(E!=null){let z=(x[0]+x[1])/2;d&&(z=c.getSize()-1-z),E.foundPossibleResultPoint(new We(z,f))}let k=this.decodeDataCharacter(c,v,!0),P=this.decodeDataCharacter(c,v,!1);return new Ti(1597*k.getValue()+P.getValue(),k.getChecksumPortion()+4*P.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(c,d,f){let g=this.getDataCharacterCounters();for(let Oe=0;Oe<g.length;Oe++)g[Oe]=0;if(f)Gt.recordPatternInReverse(c,d.getStartEnd()[0],g);else{Gt.recordPattern(c,d.getStartEnd()[1]+1,g);for(let Oe=0,$e=g.length-1;Oe<$e;Oe++,$e--){let ct=g[Oe];g[Oe]=g[$e],g[$e]=ct}}let x=f?16:15,v=Me.sum(new Int32Array(g))/x,E=this.getOddCounts(),k=this.getEvenCounts(),P=this.getOddRoundingErrors(),z=this.getEvenRoundingErrors();for(let Oe=0;Oe<g.length;Oe++){let $e=g[Oe]/v,ct=Math.floor($e+.5);ct<1?ct=1:ct>8&&(ct=8);let ht=Math.floor(Oe/2);Oe&1?(k[ht]=ct,z[ht]=$e-ct):(E[ht]=ct,P[ht]=$e-ct)}this.adjustOddEvenCounts(f,x);let re=0,oe=0;for(let Oe=E.length-1;Oe>=0;Oe--)oe*=9,oe+=E[Oe],re+=E[Oe];let we=0,Be=0;for(let Oe=k.length-1;Oe>=0;Oe--)we*=9,we+=k[Oe],Be+=k[Oe];let Se=oe+3*we;if(f){if(re&1||re>12||re<4)throw new ee;let Oe=(12-re)/2,$e=Fn.OUTSIDE_ODD_WIDEST[Oe],ct=9-$e,ht=cn.getRSSvalue(E,$e,!1),At=cn.getRSSvalue(k,ct,!0),Qr=Fn.OUTSIDE_EVEN_TOTAL_SUBSET[Oe],Cr=Fn.OUTSIDE_GSUM[Oe];return new ln(ht*Qr+At+Cr,Se)}else{if(Be&1||Be>10||Be<4)throw new ee;let Oe=(10-Be)/2,$e=Fn.INSIDE_ODD_WIDEST[Oe],ct=9-$e,ht=cn.getRSSvalue(E,$e,!0),At=cn.getRSSvalue(k,ct,!1),Qr=Fn.INSIDE_ODD_TOTAL_SUBSET[Oe],Cr=Fn.INSIDE_GSUM[Oe];return new ln(At*Qr+ht+Cr,Se)}}findFinderPattern(c,d){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let g=c.getSize(),x=!1,v=0;for(;v<g&&(x=!c.get(v),d!==x);)v++;let E=0,k=v;for(let P=v;P<g;P++)if(c.get(P)!==x)f[E]++;else{if(E===3){if(nr.isFinderPattern(f))return[k,P];k+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,E--}else E++;f[E]=1,x=!x}throw new ee}parseFoundFinderPattern(c,d,f,g){let x=c.get(g[0]),v=g[0]-1;for(;v>=0&&x!==c.get(v);)v--;v++;const E=g[0]-v,k=this.getDecodeFinderCounters(),P=new Int32Array(k.length);N.arraycopy(k,0,P,1,k.length-1),P[0]=E;const z=this.parseFinderValue(P,Fn.FINDER_PATTERNS);let re=v,oe=g[1];return f&&(re=c.getSize()-1-re,oe=c.getSize()-1-oe),new Ft(z,[v,g[1]],re,oe,d)}adjustOddEvenCounts(c,d){let f=Me.sum(new Int32Array(this.getOddCounts())),g=Me.sum(new Int32Array(this.getEvenCounts())),x=!1,v=!1,E=!1,k=!1;c?(f>12?v=!0:f<4&&(x=!0),g>12?k=!0:g<4&&(E=!0)):(f>11?v=!0:f<5&&(x=!0),g>10?k=!0:g<4&&(E=!0));let P=f+g-d,z=(f&1)===(c?1:0),re=(g&1)===1;if(P===1)if(z){if(re)throw new ee;v=!0}else{if(!re)throw new ee;k=!0}else if(P===-1)if(z){if(re)throw new ee;x=!0}else{if(!re)throw new ee;E=!0}else if(P===0){if(z){if(!re)throw new ee;f<g?(x=!0,k=!0):(v=!0,E=!0)}else if(re)throw new ee}else throw new ee;if(x){if(v)throw new ee;nr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&nr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(k)throw new ee;nr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}k&&nr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Fn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Fn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Fn.OUTSIDE_GSUM=[0,161,961,2015,2715],Fn.INSIDE_GSUM=[0,336,1036,1516],Fn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Fn.INSIDE_ODD_WIDEST=[2,4,6,8],Fn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class fl extends Gt{constructor(c,d){super(),this.readers=[],this.verbose=d===!0;const f=c?c.get(H.POSSIBLE_FORMATS):null,g=c&&c.get(H.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(Ae.EAN_13)||f.includes(Ae.UPC_A)||f.includes(Ae.EAN_8)||f.includes(Ae.UPC_E))&&this.readers.push(new tr(c)),f.includes(Ae.CODE_39)&&this.readers.push(new jt(g)),f.includes(Ae.CODE_128)&&this.readers.push(new Ge),f.includes(Ae.ITF)&&this.readers.push(new Ht),f.includes(Ae.RSS_14)&&this.readers.push(new Fn),f.includes(Ae.RSS_EXPANDED)&&this.readers.push(new nt(this.verbose))):(this.readers.push(new tr(c)),this.readers.push(new jt),this.readers.push(new tr(c)),this.readers.push(new Ge),this.readers.push(new Ht),this.readers.push(new Fn),this.readers.push(new nt(this.verbose)))}decodeRow(c,d,f){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(c,d,f)}catch{}throw new ee}reset(){this.readers.forEach(c=>c.reset())}}class Kd extends Y{constructor(c=500,d){super(new fl(d),c,d)}}class $r{constructor(c,d,f){this.ecCodewords=c,this.ecBlocks=[d],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Kr{constructor(c,d){this.count=c,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Or{constructor(c,d,f,g,x,v){this.versionNumber=c,this.symbolSizeRows=d,this.symbolSizeColumns=f,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=x,this.ecBlocks=v;let E=0;const k=v.getECCodewords(),P=v.getECBlocks();for(let z of P)E+=z.getCount()*(z.getDataCodewords()+k);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(c,d){if(c&1||d&1)throw new D;for(let f of Or.VERSIONS)if(f.symbolSizeRows===c&&f.symbolSizeColumns===d)return f;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new Or(1,10,10,8,8,new $r(5,new Kr(1,3))),new Or(2,12,12,10,10,new $r(7,new Kr(1,5))),new Or(3,14,14,12,12,new $r(10,new Kr(1,8))),new Or(4,16,16,14,14,new $r(12,new Kr(1,12))),new Or(5,18,18,16,16,new $r(14,new Kr(1,18))),new Or(6,20,20,18,18,new $r(18,new Kr(1,22))),new Or(7,22,22,20,20,new $r(20,new Kr(1,30))),new Or(8,24,24,22,22,new $r(24,new Kr(1,36))),new Or(9,26,26,24,24,new $r(28,new Kr(1,44))),new Or(10,32,32,14,14,new $r(36,new Kr(1,62))),new Or(11,36,36,16,16,new $r(42,new Kr(1,86))),new Or(12,40,40,18,18,new $r(48,new Kr(1,114))),new Or(13,44,44,20,20,new $r(56,new Kr(1,144))),new Or(14,48,48,22,22,new $r(68,new Kr(1,174))),new Or(15,52,52,24,24,new $r(42,new Kr(2,102))),new Or(16,64,64,14,14,new $r(56,new Kr(2,140))),new Or(17,72,72,16,16,new $r(36,new Kr(4,92))),new Or(18,80,80,18,18,new $r(48,new Kr(4,114))),new Or(19,88,88,20,20,new $r(56,new Kr(4,144))),new Or(20,96,96,22,22,new $r(68,new Kr(4,174))),new Or(21,104,104,24,24,new $r(56,new Kr(6,136))),new Or(22,120,120,18,18,new $r(68,new Kr(6,175))),new Or(23,132,132,20,20,new $r(62,new Kr(8,163))),new Or(24,144,144,22,22,new $r(62,new Kr(8,156),new Kr(2,155))),new Or(25,8,18,6,16,new $r(7,new Kr(1,5))),new Or(26,8,32,6,14,new $r(11,new Kr(1,10))),new Or(27,12,26,10,24,new $r(14,new Kr(1,16))),new Or(28,12,36,10,16,new $r(18,new Kr(1,22))),new Or(29,16,36,14,16,new $r(24,new Kr(1,32))),new Or(30,16,48,14,22,new $r(28,new Kr(1,49)))]}}Or.VERSIONS=Or.buildVersions();class tc{constructor(c){const d=c.getHeight();if(d<8||d>144||d&1)throw new D;this.version=tc.readVersion(c),this.mappingBitMatrix=this.extractDataRegion(c),this.readMappingMatrix=new Z(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(c){const d=c.getHeight(),f=c.getWidth();return Or.getVersionForDimensions(d,f)}readCodewords(){const c=new Int8Array(this.version.getTotalCodewords());let d=0,f=4,g=0;const x=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let E=!1,k=!1,P=!1,z=!1;do if(f===x&&g===0&&!E)c[d++]=this.readCorner1(x,v)&255,f-=2,g+=2,E=!0;else if(f===x-2&&g===0&&v&3&&!k)c[d++]=this.readCorner2(x,v)&255,f-=2,g+=2,k=!0;else if(f===x+4&&g===2&&!(v&7)&&!P)c[d++]=this.readCorner3(x,v)&255,f-=2,g+=2,P=!0;else if(f===x-2&&g===0&&(v&7)===4&&!z)c[d++]=this.readCorner4(x,v)&255,f-=2,g+=2,z=!0;else{do f<x&&g>=0&&!this.readMappingMatrix.get(g,f)&&(c[d++]=this.readUtah(f,g,x,v)&255),f-=2,g+=2;while(f>=0&&g<v);f+=1,g+=3;do f>=0&&g<v&&!this.readMappingMatrix.get(g,f)&&(c[d++]=this.readUtah(f,g,x,v)&255),f+=2,g-=2;while(f<x&&g>=0);f+=3,g+=1}while(f<x||g<v);if(d!==this.version.getTotalCodewords())throw new D;return c}readModule(c,d,f,g){return c<0&&(c+=f,d+=4-(f+4&7)),d<0&&(d+=g,c+=4-(g+4&7)),this.readMappingMatrix.set(d,c),this.mappingBitMatrix.get(d,c)}readUtah(c,d,f,g){let x=0;return this.readModule(c-2,d-2,f,g)&&(x|=1),x<<=1,this.readModule(c-2,d-1,f,g)&&(x|=1),x<<=1,this.readModule(c-1,d-2,f,g)&&(x|=1),x<<=1,this.readModule(c-1,d-1,f,g)&&(x|=1),x<<=1,this.readModule(c-1,d,f,g)&&(x|=1),x<<=1,this.readModule(c,d-2,f,g)&&(x|=1),x<<=1,this.readModule(c,d-1,f,g)&&(x|=1),x<<=1,this.readModule(c,d,f,g)&&(x|=1),x}readCorner1(c,d){let f=0;return this.readModule(c-1,0,c,d)&&(f|=1),f<<=1,this.readModule(c-1,1,c,d)&&(f|=1),f<<=1,this.readModule(c-1,2,c,d)&&(f|=1),f<<=1,this.readModule(0,d-2,c,d)&&(f|=1),f<<=1,this.readModule(0,d-1,c,d)&&(f|=1),f<<=1,this.readModule(1,d-1,c,d)&&(f|=1),f<<=1,this.readModule(2,d-1,c,d)&&(f|=1),f<<=1,this.readModule(3,d-1,c,d)&&(f|=1),f}readCorner2(c,d){let f=0;return this.readModule(c-3,0,c,d)&&(f|=1),f<<=1,this.readModule(c-2,0,c,d)&&(f|=1),f<<=1,this.readModule(c-1,0,c,d)&&(f|=1),f<<=1,this.readModule(0,d-4,c,d)&&(f|=1),f<<=1,this.readModule(0,d-3,c,d)&&(f|=1),f<<=1,this.readModule(0,d-2,c,d)&&(f|=1),f<<=1,this.readModule(0,d-1,c,d)&&(f|=1),f<<=1,this.readModule(1,d-1,c,d)&&(f|=1),f}readCorner3(c,d){let f=0;return this.readModule(c-1,0,c,d)&&(f|=1),f<<=1,this.readModule(c-1,d-1,c,d)&&(f|=1),f<<=1,this.readModule(0,d-3,c,d)&&(f|=1),f<<=1,this.readModule(0,d-2,c,d)&&(f|=1),f<<=1,this.readModule(0,d-1,c,d)&&(f|=1),f<<=1,this.readModule(1,d-3,c,d)&&(f|=1),f<<=1,this.readModule(1,d-2,c,d)&&(f|=1),f<<=1,this.readModule(1,d-1,c,d)&&(f|=1),f}readCorner4(c,d){let f=0;return this.readModule(c-3,0,c,d)&&(f|=1),f<<=1,this.readModule(c-2,0,c,d)&&(f|=1),f<<=1,this.readModule(c-1,0,c,d)&&(f|=1),f<<=1,this.readModule(0,d-2,c,d)&&(f|=1),f<<=1,this.readModule(0,d-1,c,d)&&(f|=1),f<<=1,this.readModule(1,d-1,c,d)&&(f|=1),f<<=1,this.readModule(2,d-1,c,d)&&(f|=1),f<<=1,this.readModule(3,d-1,c,d)&&(f|=1),f}extractDataRegion(c){const d=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(c.getHeight()!==d)throw new m("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),v=d/g|0,E=f/x|0,k=v*g,P=E*x,z=new Z(P,k);for(let re=0;re<v;++re){const oe=re*g;for(let we=0;we<E;++we){const Be=we*x;for(let Se=0;Se<g;++Se){const Oe=re*(g+2)+1+Se,$e=oe+Se;for(let ct=0;ct<x;++ct){const ht=we*(x+2)+1+ct;if(c.get(ht,Oe)){const At=Be+ct;z.set(At,$e)}}}}}return z}}class Wd{constructor(c,d){this.numDataCodewords=c,this.codewords=d}static getDataBlocks(c,d){const f=d.getECBlocks();let g=0;const x=f.getECBlocks();for(let Se of x)g+=Se.getCount();const v=new Array(g);let E=0;for(let Se of x)for(let Oe=0;Oe<Se.getCount();Oe++){const $e=Se.getDataCodewords(),ct=f.getECCodewords()+$e;v[E++]=new Wd($e,new Uint8Array(ct))}const P=v[0].codewords.length-f.getECCodewords(),z=P-1;let re=0;for(let Se=0;Se<z;Se++)for(let Oe=0;Oe<E;Oe++)v[Oe].codewords[Se]=c[re++];const oe=d.getVersionNumber()===24,we=oe?8:E;for(let Se=0;Se<we;Se++)v[Se].codewords[P-1]=c[re++];const Be=v[0].codewords.length;for(let Se=P;Se<Be;Se++)for(let Oe=0;Oe<E;Oe++){const $e=oe?(Oe+8)%E:Oe,ct=oe&&$e>7?Se-1:Se;v[$e].codewords[ct]=c[re++]}if(re!==c.length)throw new m;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class rs{constructor(c){this.bytes=c,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(c){if(c<1||c>32||c>this.available())throw new m(""+c);let d=0,f=this.bitOffset,g=this.byteOffset;const x=this.bytes;if(f>0){const v=8-f,E=c<v?c:v,k=v-E,P=255>>8-E<<k;d=(x[g]&P)>>k,c-=E,f+=E,f===8&&(f=0,g++)}if(c>0){for(;c>=8;)d=d<<8|x[g]&255,g++,c-=8;if(c>0){const v=8-c,E=255>>v<<v;d=d<<c|(x[g]&E)>>v,f+=c}}return this.bitOffset=f,this.byteOffset=g,d}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var ns;(function(te){te[te.PAD_ENCODE=0]="PAD_ENCODE",te[te.ASCII_ENCODE=1]="ASCII_ENCODE",te[te.C40_ENCODE=2]="C40_ENCODE",te[te.TEXT_ENCODE=3]="TEXT_ENCODE",te[te.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",te[te.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",te[te.BASE256_ENCODE=6]="BASE256_ENCODE"})(ns||(ns={}));class so{static decode(c){const d=new rs(c),f=new J,g=new J,x=new Array;let v=ns.ASCII_ENCODE;do if(v===ns.ASCII_ENCODE)v=this.decodeAsciiSegment(d,f,g);else{switch(v){case ns.C40_ENCODE:this.decodeC40Segment(d,f);break;case ns.TEXT_ENCODE:this.decodeTextSegment(d,f);break;case ns.ANSIX12_ENCODE:this.decodeAnsiX12Segment(d,f);break;case ns.EDIFACT_ENCODE:this.decodeEdifactSegment(d,f);break;case ns.BASE256_ENCODE:this.decodeBase256Segment(d,f,x);break;default:throw new D}v=ns.ASCII_ENCODE}while(v!==ns.PAD_ENCODE&&d.available()>0);return g.length()>0&&f.append(g.toString()),new je(c,f.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(c,d,f){let g=!1;do{let x=c.readBits(8);if(x===0)throw new D;if(x<=128)return g&&(x+=128),d.append(String.fromCharCode(x-1)),ns.ASCII_ENCODE;if(x===129)return ns.PAD_ENCODE;if(x<=229){const v=x-130;v<10&&d.append("0"),d.append(""+v)}else switch(x){case 230:return ns.C40_ENCODE;case 231:return ns.BASE256_ENCODE;case 232:d.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:d.append("[)>05"),f.insert(0,"");break;case 237:d.append("[)>06"),f.insert(0,"");break;case 238:return ns.ANSIX12_ENCODE;case 239:return ns.TEXT_ENCODE;case 240:return ns.EDIFACT_ENCODE;case 241:break;default:if(x!==254||c.available()!==0)throw new D;break}}while(c.available()>0);return ns.ASCII_ENCODE}static decodeC40Segment(c,d){let f=!1;const g=[];let x=0;do{if(c.available()===8)return;const v=c.readBits(8);if(v===254)return;this.parseTwoBytes(v,c.readBits(8),g);for(let E=0;E<3;E++){const k=g[E];switch(x){case 0:if(k<3)x=k+1;else if(k<this.C40_BASIC_SET_CHARS.length){const P=this.C40_BASIC_SET_CHARS[k];f?(d.append(String.fromCharCode(P.charCodeAt(0)+128)),f=!1):d.append(P)}else throw new D;break;case 1:f?(d.append(String.fromCharCode(k+128)),f=!1):d.append(String.fromCharCode(k)),x=0;break;case 2:if(k<this.C40_SHIFT2_SET_CHARS.length){const P=this.C40_SHIFT2_SET_CHARS[k];f?(d.append(String.fromCharCode(P.charCodeAt(0)+128)),f=!1):d.append(P)}else switch(k){case 27:d.append("");break;case 30:f=!0;break;default:throw new D}x=0;break;case 3:f?(d.append(String.fromCharCode(k+224)),f=!1):d.append(String.fromCharCode(k+96)),x=0;break;default:throw new D}}}while(c.available()>0)}static decodeTextSegment(c,d){let f=!1,g=[],x=0;do{if(c.available()===8)return;const v=c.readBits(8);if(v===254)return;this.parseTwoBytes(v,c.readBits(8),g);for(let E=0;E<3;E++){const k=g[E];switch(x){case 0:if(k<3)x=k+1;else if(k<this.TEXT_BASIC_SET_CHARS.length){const P=this.TEXT_BASIC_SET_CHARS[k];f?(d.append(String.fromCharCode(P.charCodeAt(0)+128)),f=!1):d.append(P)}else throw new D;break;case 1:f?(d.append(String.fromCharCode(k+128)),f=!1):d.append(String.fromCharCode(k)),x=0;break;case 2:if(k<this.TEXT_SHIFT2_SET_CHARS.length){const P=this.TEXT_SHIFT2_SET_CHARS[k];f?(d.append(String.fromCharCode(P.charCodeAt(0)+128)),f=!1):d.append(P)}else switch(k){case 27:d.append("");break;case 30:f=!0;break;default:throw new D}x=0;break;case 3:if(k<this.TEXT_SHIFT3_SET_CHARS.length){const P=this.TEXT_SHIFT3_SET_CHARS[k];f?(d.append(String.fromCharCode(P.charCodeAt(0)+128)),f=!1):d.append(P),x=0}else throw new D;break;default:throw new D}}}while(c.available()>0)}static decodeAnsiX12Segment(c,d){const f=[];do{if(c.available()===8)return;const g=c.readBits(8);if(g===254)return;this.parseTwoBytes(g,c.readBits(8),f);for(let x=0;x<3;x++){const v=f[x];switch(v){case 0:d.append("\r");break;case 1:d.append("*");break;case 2:d.append(">");break;case 3:d.append(" ");break;default:if(v<14)d.append(String.fromCharCode(v+44));else if(v<40)d.append(String.fromCharCode(v+51));else throw new D;break}}}while(c.available()>0)}static parseTwoBytes(c,d,f){let g=(c<<8)+d-1,x=Math.floor(g/1600);f[0]=x,g-=x*1600,x=Math.floor(g/40),f[1]=x,f[2]=g-x*40}static decodeEdifactSegment(c,d){do{if(c.available()<=16)return;for(let f=0;f<4;f++){let g=c.readBits(6);if(g===31){const x=8-c.getBitOffset();x!==8&&c.readBits(x);return}g&32||(g|=64),d.append(String.fromCharCode(g))}}while(c.available()>0)}static decodeBase256Segment(c,d,f){let g=1+c.getByteOffset();const x=this.unrandomize255State(c.readBits(8),g++);let v;if(x===0?v=c.available()/8|0:x<250?v=x:v=250*(x-249)+this.unrandomize255State(c.readBits(8),g++),v<0)throw new D;const E=new Uint8Array(v);for(let k=0;k<v;k++){if(c.available()<8)throw new D;E[k]=this.unrandomize255State(c.readBits(8),g++)}f.push(E);try{d.append(M.decode(E,V.ISO88591))}catch(k){throw new pe("Platform does not support required encoding: "+k.message)}}static unrandomize255State(c,d){const f=149*d%255+1,g=c-f;return g>=0?g:g+256}}so.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],so.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],so.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],so.TEXT_SHIFT2_SET_CHARS=so.C40_SHIFT2_SET_CHARS,so.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ml{constructor(){this.rsDecoder=new Pe(Qe.DATA_MATRIX_FIELD_256)}decode(c){const d=new tc(c),f=d.getVersion(),g=d.readCodewords(),x=Wd.getDataBlocks(g,f);let v=0;for(let P of x)v+=P.getNumDataCodewords();const E=new Uint8Array(v),k=x.length;for(let P=0;P<k;P++){const z=x[P],re=z.getCodewords(),oe=z.getNumDataCodewords();this.correctErrors(re,oe);for(let we=0;we<oe;we++)E[we*k+P]=re[we]}return so.decode(E)}correctErrors(c,d){const f=new Int32Array(c);try{this.rsDecoder.decode(f,c.length-d)}catch{throw new p}for(let g=0;g<d;g++)c[g]=f[g]}}class vn{constructor(c){this.image=c,this.rectangleDetector=new at(this.image)}detect(){const c=this.rectangleDetector.detect();let d=this.detectSolid1(c);if(d=this.detectSolid2(d),d[3]=this.correctTopRight(d),!d[3])throw new ee;d=this.shiftToModuleCenter(d);const f=d[0],g=d[1],x=d[2],v=d[3];let E=this.transitionsBetween(f,v)+1,k=this.transitionsBetween(x,v)+1;(E&1)===1&&(E+=1),(k&1)===1&&(k+=1),4*E<7*k&&4*k<7*E&&(E=k=Math.max(E,k));let P=vn.sampleGrid(this.image,f,g,x,v,E,k);return new Wt(P,[f,g,x,v])}static shiftPoint(c,d,f){let g=(d.getX()-c.getX())/(f+1),x=(d.getY()-c.getY())/(f+1);return new We(c.getX()+g,c.getY()+x)}static moveAway(c,d,f){let g=c.getX(),x=c.getY();return g<d?g-=1:g+=1,x<f?x-=1:x+=1,new We(g,x)}detectSolid1(c){let d=c[0],f=c[1],g=c[3],x=c[2],v=this.transitionsBetween(d,f),E=this.transitionsBetween(f,g),k=this.transitionsBetween(g,x),P=this.transitionsBetween(x,d),z=v,re=[x,d,f,g];return z>E&&(z=E,re[0]=d,re[1]=f,re[2]=g,re[3]=x),z>k&&(z=k,re[0]=f,re[1]=g,re[2]=x,re[3]=d),z>P&&(re[0]=g,re[1]=x,re[2]=d,re[3]=f),re}detectSolid2(c){let d=c[0],f=c[1],g=c[2],x=c[3],v=this.transitionsBetween(d,x),E=vn.shiftPoint(f,g,(v+1)*4),k=vn.shiftPoint(g,f,(v+1)*4),P=this.transitionsBetween(E,d),z=this.transitionsBetween(k,x);return P<z?(c[0]=d,c[1]=f,c[2]=g,c[3]=x):(c[0]=f,c[1]=g,c[2]=x,c[3]=d),c}correctTopRight(c){let d=c[0],f=c[1],g=c[2],x=c[3],v=this.transitionsBetween(d,x),E=this.transitionsBetween(f,x),k=vn.shiftPoint(d,f,(E+1)*4),P=vn.shiftPoint(g,f,(v+1)*4);v=this.transitionsBetween(k,x),E=this.transitionsBetween(P,x);let z=new We(x.getX()+(g.getX()-f.getX())/(v+1),x.getY()+(g.getY()-f.getY())/(v+1)),re=new We(x.getX()+(d.getX()-f.getX())/(E+1),x.getY()+(d.getY()-f.getY())/(E+1));if(!this.isValid(z))return this.isValid(re)?re:null;if(!this.isValid(re))return z;let oe=this.transitionsBetween(k,z)+this.transitionsBetween(P,z),we=this.transitionsBetween(k,re)+this.transitionsBetween(P,re);return oe>we?z:re}shiftToModuleCenter(c){let d=c[0],f=c[1],g=c[2],x=c[3],v=this.transitionsBetween(d,x)+1,E=this.transitionsBetween(g,x)+1,k=vn.shiftPoint(d,f,E*4),P=vn.shiftPoint(g,f,v*4);v=this.transitionsBetween(k,x)+1,E=this.transitionsBetween(P,x)+1,(v&1)===1&&(v+=1),(E&1)===1&&(E+=1);let z=(d.getX()+f.getX()+g.getX()+x.getX())/4,re=(d.getY()+f.getY()+g.getY()+x.getY())/4;d=vn.moveAway(d,z,re),f=vn.moveAway(f,z,re),g=vn.moveAway(g,z,re),x=vn.moveAway(x,z,re);let oe,we;return k=vn.shiftPoint(d,f,E*4),k=vn.shiftPoint(k,x,v*4),oe=vn.shiftPoint(f,d,E*4),oe=vn.shiftPoint(oe,g,v*4),P=vn.shiftPoint(g,x,E*4),P=vn.shiftPoint(P,f,v*4),we=vn.shiftPoint(x,g,E*4),we=vn.shiftPoint(we,d,v*4),[k,oe,P,we]}isValid(c){return c.getX()>=0&&c.getX()<this.image.getWidth()&&c.getY()>0&&c.getY()<this.image.getHeight()}static sampleGrid(c,d,f,g,x,v,E){return It.getInstance().sampleGrid(c,v,E,.5,.5,v-.5,.5,v-.5,E-.5,.5,E-.5,d.getX(),d.getY(),x.getX(),x.getY(),g.getX(),g.getY(),f.getX(),f.getY())}transitionsBetween(c,d){let f=Math.trunc(c.getX()),g=Math.trunc(c.getY()),x=Math.trunc(d.getX()),v=Math.trunc(d.getY()),E=Math.abs(v-g)>Math.abs(x-f);if(E){let Se=f;f=g,g=Se,Se=x,x=v,v=Se}let k=Math.abs(x-f),P=Math.abs(v-g),z=-k/2,re=g<v?1:-1,oe=f<x?1:-1,we=0,Be=this.image.get(E?g:f,E?f:g);for(let Se=f,Oe=g;Se!==x;Se+=oe){let $e=this.image.get(E?Oe:Se,E?Se:Oe);if($e!==Be&&(we++,Be=$e),z+=P,z>0){if(Oe===v)break;Oe+=re,z-=k}}return we}}class Vs{constructor(){this.decoder=new ml}decode(c,d=null){let f,g;if(d!=null&&d.has(H.PURE_BARCODE)){const P=Vs.extractPureBits(c.getBlackMatrix());f=this.decoder.decode(P),g=Vs.NO_POINTS}else{const P=new vn(c.getBlackMatrix()).detect();f=this.decoder.decode(P.getBits()),g=P.getPoints()}const x=f.getRawBytes(),v=new se(f.getText(),x,8*x.length,g,Ae.DATA_MATRIX,N.currentTimeMillis()),E=f.getByteSegments();E!=null&&v.putMetadata(fe.BYTE_SEGMENTS,E);const k=f.getECLevel();return k!=null&&v.putMetadata(fe.ERROR_CORRECTION_LEVEL,k),v}reset(){}static extractPureBits(c){const d=c.getTopLeftOnBit(),f=c.getBottomRightOnBit();if(d==null||f==null)throw new ee;const g=this.moduleSize(d,c);let x=d[1];const v=f[1];let E=d[0];const P=(f[0]-E+1)/g,z=(v-x+1)/g;if(P<=0||z<=0)throw new ee;const re=g/2;x+=re,E+=re;const oe=new Z(P,z);for(let we=0;we<z;we++){const Be=x+we*g;for(let Se=0;Se<P;Se++)c.get(E+Se*g,Be)&&oe.set(Se,we)}return oe}static moduleSize(c,d){const f=d.getWidth();let g=c[0];const x=c[1];for(;g<f&&d.get(g,x);)g++;if(g===f)throw new ee;const v=g-c[0];if(v===0)throw new ee;return v}}Vs.NO_POINTS=[];class Gc extends Y{constructor(c=500){super(new Vs,c)}}var kn;(function(te){te[te.L=0]="L",te[te.M=1]="M",te[te.Q=2]="Q",te[te.H=3]="H"})(kn||(kn={}));class An{constructor(c,d,f){this.value=c,this.stringValue=d,this.bits=f,An.FOR_BITS.set(f,this),An.FOR_VALUE.set(c,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(c){switch(c){case"L":return An.L;case"M":return An.M;case"Q":return An.Q;case"H":return An.H;default:throw new h(c+"not available")}}toString(){return this.stringValue}equals(c){if(!(c instanceof An))return!1;const d=c;return this.value===d.value}static forBits(c){if(c<0||c>=An.FOR_BITS.size)throw new m;return An.FOR_BITS.get(c)}}An.FOR_BITS=new Map,An.FOR_VALUE=new Map,An.L=new An(kn.L,"L",1),An.M=new An(kn.M,"M",0),An.Q=new An(kn.Q,"Q",3),An.H=new An(kn.H,"H",2);class Ks{constructor(c){this.errorCorrectionLevel=An.forBits(c>>3&3),this.dataMask=c&7}static numBitsDiffering(c,d){return I.bitCount(c^d)}static decodeFormatInformation(c,d){const f=Ks.doDecodeFormatInformation(c,d);return f!==null?f:Ks.doDecodeFormatInformation(c^Ks.FORMAT_INFO_MASK_QR,d^Ks.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(c,d){let f=Number.MAX_SAFE_INTEGER,g=0;for(const x of Ks.FORMAT_INFO_DECODE_LOOKUP){const v=x[0];if(v===c||v===d)return new Ks(x[1]);let E=Ks.numBitsDiffering(c,v);E<f&&(g=x[1],f=E),c!==d&&(E=Ks.numBitsDiffering(d,v),E<f&&(g=x[1],f=E))}return f<=3?new Ks(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(c){if(!(c instanceof Ks))return!1;const d=c;return this.errorCorrectionLevel===d.errorCorrectionLevel&&this.dataMask===d.dataMask}}Ks.FORMAT_INFO_MASK_QR=21522,Ks.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class He{constructor(c,...d){this.ecCodewordsPerBlock=c,this.ecBlocks=d}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let c=0;const d=this.ecBlocks;for(const f of d)c+=f.getCount();return c}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ye{constructor(c,d){this.count=c,this.dataCodewords=d}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Lt{constructor(c,d,...f){this.versionNumber=c,this.alignmentPatternCenters=d,this.ecBlocks=f;let g=0;const x=f[0].getECCodewordsPerBlock(),v=f[0].getECBlocks();for(const E of v)g+=E.getCount()*(E.getDataCodewords()+x);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(c){return this.ecBlocks[c.getValue()]}static getProvisionalVersionForDimension(c){if(c%4!==1)throw new D;try{return this.getVersionForNumber((c-17)/4)}catch{throw new D}}static getVersionForNumber(c){if(c<1||c>40)throw new m;return Lt.VERSIONS[c-1]}static decodeVersionInformation(c){let d=Number.MAX_SAFE_INTEGER,f=0;for(let g=0;g<Lt.VERSION_DECODE_INFO.length;g++){const x=Lt.VERSION_DECODE_INFO[g];if(x===c)return Lt.getVersionForNumber(g+7);const v=Ks.numBitsDiffering(c,x);v<d&&(f=g+7,d=v)}return d<=3?Lt.getVersionForNumber(f):null}buildFunctionPattern(){const c=this.getDimensionForVersion(),d=new Z(c);d.setRegion(0,0,9,9),d.setRegion(c-8,0,8,9),d.setRegion(0,c-8,9,8);const f=this.alignmentPatternCenters.length;for(let g=0;g<f;g++){const x=this.alignmentPatternCenters[g]-2;for(let v=0;v<f;v++)g===0&&(v===0||v===f-1)||g===f-1&&v===0||d.setRegion(this.alignmentPatternCenters[v]-2,x,5,5)}return d.setRegion(6,9,1,c-17),d.setRegion(9,6,c-17,1),this.versionNumber>6&&(d.setRegion(c-11,0,3,6),d.setRegion(0,c-11,6,3)),d}toString(){return""+this.versionNumber}}Lt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Lt.VERSIONS=[new Lt(1,new Int32Array(0),new He(7,new ye(1,19)),new He(10,new ye(1,16)),new He(13,new ye(1,13)),new He(17,new ye(1,9))),new Lt(2,Int32Array.from([6,18]),new He(10,new ye(1,34)),new He(16,new ye(1,28)),new He(22,new ye(1,22)),new He(28,new ye(1,16))),new Lt(3,Int32Array.from([6,22]),new He(15,new ye(1,55)),new He(26,new ye(1,44)),new He(18,new ye(2,17)),new He(22,new ye(2,13))),new Lt(4,Int32Array.from([6,26]),new He(20,new ye(1,80)),new He(18,new ye(2,32)),new He(26,new ye(2,24)),new He(16,new ye(4,9))),new Lt(5,Int32Array.from([6,30]),new He(26,new ye(1,108)),new He(24,new ye(2,43)),new He(18,new ye(2,15),new ye(2,16)),new He(22,new ye(2,11),new ye(2,12))),new Lt(6,Int32Array.from([6,34]),new He(18,new ye(2,68)),new He(16,new ye(4,27)),new He(24,new ye(4,19)),new He(28,new ye(4,15))),new Lt(7,Int32Array.from([6,22,38]),new He(20,new ye(2,78)),new He(18,new ye(4,31)),new He(18,new ye(2,14),new ye(4,15)),new He(26,new ye(4,13),new ye(1,14))),new Lt(8,Int32Array.from([6,24,42]),new He(24,new ye(2,97)),new He(22,new ye(2,38),new ye(2,39)),new He(22,new ye(4,18),new ye(2,19)),new He(26,new ye(4,14),new ye(2,15))),new Lt(9,Int32Array.from([6,26,46]),new He(30,new ye(2,116)),new He(22,new ye(3,36),new ye(2,37)),new He(20,new ye(4,16),new ye(4,17)),new He(24,new ye(4,12),new ye(4,13))),new Lt(10,Int32Array.from([6,28,50]),new He(18,new ye(2,68),new ye(2,69)),new He(26,new ye(4,43),new ye(1,44)),new He(24,new ye(6,19),new ye(2,20)),new He(28,new ye(6,15),new ye(2,16))),new Lt(11,Int32Array.from([6,30,54]),new He(20,new ye(4,81)),new He(30,new ye(1,50),new ye(4,51)),new He(28,new ye(4,22),new ye(4,23)),new He(24,new ye(3,12),new ye(8,13))),new Lt(12,Int32Array.from([6,32,58]),new He(24,new ye(2,92),new ye(2,93)),new He(22,new ye(6,36),new ye(2,37)),new He(26,new ye(4,20),new ye(6,21)),new He(28,new ye(7,14),new ye(4,15))),new Lt(13,Int32Array.from([6,34,62]),new He(26,new ye(4,107)),new He(22,new ye(8,37),new ye(1,38)),new He(24,new ye(8,20),new ye(4,21)),new He(22,new ye(12,11),new ye(4,12))),new Lt(14,Int32Array.from([6,26,46,66]),new He(30,new ye(3,115),new ye(1,116)),new He(24,new ye(4,40),new ye(5,41)),new He(20,new ye(11,16),new ye(5,17)),new He(24,new ye(11,12),new ye(5,13))),new Lt(15,Int32Array.from([6,26,48,70]),new He(22,new ye(5,87),new ye(1,88)),new He(24,new ye(5,41),new ye(5,42)),new He(30,new ye(5,24),new ye(7,25)),new He(24,new ye(11,12),new ye(7,13))),new Lt(16,Int32Array.from([6,26,50,74]),new He(24,new ye(5,98),new ye(1,99)),new He(28,new ye(7,45),new ye(3,46)),new He(24,new ye(15,19),new ye(2,20)),new He(30,new ye(3,15),new ye(13,16))),new Lt(17,Int32Array.from([6,30,54,78]),new He(28,new ye(1,107),new ye(5,108)),new He(28,new ye(10,46),new ye(1,47)),new He(28,new ye(1,22),new ye(15,23)),new He(28,new ye(2,14),new ye(17,15))),new Lt(18,Int32Array.from([6,30,56,82]),new He(30,new ye(5,120),new ye(1,121)),new He(26,new ye(9,43),new ye(4,44)),new He(28,new ye(17,22),new ye(1,23)),new He(28,new ye(2,14),new ye(19,15))),new Lt(19,Int32Array.from([6,30,58,86]),new He(28,new ye(3,113),new ye(4,114)),new He(26,new ye(3,44),new ye(11,45)),new He(26,new ye(17,21),new ye(4,22)),new He(26,new ye(9,13),new ye(16,14))),new Lt(20,Int32Array.from([6,34,62,90]),new He(28,new ye(3,107),new ye(5,108)),new He(26,new ye(3,41),new ye(13,42)),new He(30,new ye(15,24),new ye(5,25)),new He(28,new ye(15,15),new ye(10,16))),new Lt(21,Int32Array.from([6,28,50,72,94]),new He(28,new ye(4,116),new ye(4,117)),new He(26,new ye(17,42)),new He(28,new ye(17,22),new ye(6,23)),new He(30,new ye(19,16),new ye(6,17))),new Lt(22,Int32Array.from([6,26,50,74,98]),new He(28,new ye(2,111),new ye(7,112)),new He(28,new ye(17,46)),new He(30,new ye(7,24),new ye(16,25)),new He(24,new ye(34,13))),new Lt(23,Int32Array.from([6,30,54,78,102]),new He(30,new ye(4,121),new ye(5,122)),new He(28,new ye(4,47),new ye(14,48)),new He(30,new ye(11,24),new ye(14,25)),new He(30,new ye(16,15),new ye(14,16))),new Lt(24,Int32Array.from([6,28,54,80,106]),new He(30,new ye(6,117),new ye(4,118)),new He(28,new ye(6,45),new ye(14,46)),new He(30,new ye(11,24),new ye(16,25)),new He(30,new ye(30,16),new ye(2,17))),new Lt(25,Int32Array.from([6,32,58,84,110]),new He(26,new ye(8,106),new ye(4,107)),new He(28,new ye(8,47),new ye(13,48)),new He(30,new ye(7,24),new ye(22,25)),new He(30,new ye(22,15),new ye(13,16))),new Lt(26,Int32Array.from([6,30,58,86,114]),new He(28,new ye(10,114),new ye(2,115)),new He(28,new ye(19,46),new ye(4,47)),new He(28,new ye(28,22),new ye(6,23)),new He(30,new ye(33,16),new ye(4,17))),new Lt(27,Int32Array.from([6,34,62,90,118]),new He(30,new ye(8,122),new ye(4,123)),new He(28,new ye(22,45),new ye(3,46)),new He(30,new ye(8,23),new ye(26,24)),new He(30,new ye(12,15),new ye(28,16))),new Lt(28,Int32Array.from([6,26,50,74,98,122]),new He(30,new ye(3,117),new ye(10,118)),new He(28,new ye(3,45),new ye(23,46)),new He(30,new ye(4,24),new ye(31,25)),new He(30,new ye(11,15),new ye(31,16))),new Lt(29,Int32Array.from([6,30,54,78,102,126]),new He(30,new ye(7,116),new ye(7,117)),new He(28,new ye(21,45),new ye(7,46)),new He(30,new ye(1,23),new ye(37,24)),new He(30,new ye(19,15),new ye(26,16))),new Lt(30,Int32Array.from([6,26,52,78,104,130]),new He(30,new ye(5,115),new ye(10,116)),new He(28,new ye(19,47),new ye(10,48)),new He(30,new ye(15,24),new ye(25,25)),new He(30,new ye(23,15),new ye(25,16))),new Lt(31,Int32Array.from([6,30,56,82,108,134]),new He(30,new ye(13,115),new ye(3,116)),new He(28,new ye(2,46),new ye(29,47)),new He(30,new ye(42,24),new ye(1,25)),new He(30,new ye(23,15),new ye(28,16))),new Lt(32,Int32Array.from([6,34,60,86,112,138]),new He(30,new ye(17,115)),new He(28,new ye(10,46),new ye(23,47)),new He(30,new ye(10,24),new ye(35,25)),new He(30,new ye(19,15),new ye(35,16))),new Lt(33,Int32Array.from([6,30,58,86,114,142]),new He(30,new ye(17,115),new ye(1,116)),new He(28,new ye(14,46),new ye(21,47)),new He(30,new ye(29,24),new ye(19,25)),new He(30,new ye(11,15),new ye(46,16))),new Lt(34,Int32Array.from([6,34,62,90,118,146]),new He(30,new ye(13,115),new ye(6,116)),new He(28,new ye(14,46),new ye(23,47)),new He(30,new ye(44,24),new ye(7,25)),new He(30,new ye(59,16),new ye(1,17))),new Lt(35,Int32Array.from([6,30,54,78,102,126,150]),new He(30,new ye(12,121),new ye(7,122)),new He(28,new ye(12,47),new ye(26,48)),new He(30,new ye(39,24),new ye(14,25)),new He(30,new ye(22,15),new ye(41,16))),new Lt(36,Int32Array.from([6,24,50,76,102,128,154]),new He(30,new ye(6,121),new ye(14,122)),new He(28,new ye(6,47),new ye(34,48)),new He(30,new ye(46,24),new ye(10,25)),new He(30,new ye(2,15),new ye(64,16))),new Lt(37,Int32Array.from([6,28,54,80,106,132,158]),new He(30,new ye(17,122),new ye(4,123)),new He(28,new ye(29,46),new ye(14,47)),new He(30,new ye(49,24),new ye(10,25)),new He(30,new ye(24,15),new ye(46,16))),new Lt(38,Int32Array.from([6,32,58,84,110,136,162]),new He(30,new ye(4,122),new ye(18,123)),new He(28,new ye(13,46),new ye(32,47)),new He(30,new ye(48,24),new ye(14,25)),new He(30,new ye(42,15),new ye(32,16))),new Lt(39,Int32Array.from([6,26,54,82,110,138,166]),new He(30,new ye(20,117),new ye(4,118)),new He(28,new ye(40,47),new ye(7,48)),new He(30,new ye(43,24),new ye(22,25)),new He(30,new ye(10,15),new ye(67,16))),new Lt(40,Int32Array.from([6,30,58,86,114,142,170]),new He(30,new ye(19,118),new ye(6,119)),new He(28,new ye(18,47),new ye(31,48)),new He(30,new ye(34,24),new ye(34,25)),new He(30,new ye(20,15),new ye(61,16)))];var cs;(function(te){te[te.DATA_MASK_000=0]="DATA_MASK_000",te[te.DATA_MASK_001=1]="DATA_MASK_001",te[te.DATA_MASK_010=2]="DATA_MASK_010",te[te.DATA_MASK_011=3]="DATA_MASK_011",te[te.DATA_MASK_100=4]="DATA_MASK_100",te[te.DATA_MASK_101=5]="DATA_MASK_101",te[te.DATA_MASK_110=6]="DATA_MASK_110",te[te.DATA_MASK_111=7]="DATA_MASK_111"})(cs||(cs={}));class va{constructor(c,d){this.value=c,this.isMasked=d}unmaskBitMatrix(c,d){for(let f=0;f<d;f++)for(let g=0;g<d;g++)this.isMasked(f,g)&&c.flip(g,f)}}va.values=new Map([[cs.DATA_MASK_000,new va(cs.DATA_MASK_000,(te,c)=>(te+c&1)===0)],[cs.DATA_MASK_001,new va(cs.DATA_MASK_001,(te,c)=>(te&1)===0)],[cs.DATA_MASK_010,new va(cs.DATA_MASK_010,(te,c)=>c%3===0)],[cs.DATA_MASK_011,new va(cs.DATA_MASK_011,(te,c)=>(te+c)%3===0)],[cs.DATA_MASK_100,new va(cs.DATA_MASK_100,(te,c)=>(Math.floor(te/2)+Math.floor(c/3)&1)===0)],[cs.DATA_MASK_101,new va(cs.DATA_MASK_101,(te,c)=>te*c%6===0)],[cs.DATA_MASK_110,new va(cs.DATA_MASK_110,(te,c)=>te*c%6<3)],[cs.DATA_MASK_111,new va(cs.DATA_MASK_111,(te,c)=>(te+c+te*c%3&1)===0)]]);class rc{constructor(c){const d=c.getHeight();if(d<21||(d&3)!==1)throw new D;this.bitMatrix=c}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let c=0;for(let x=0;x<6;x++)c=this.copyBit(x,8,c);c=this.copyBit(7,8,c),c=this.copyBit(8,8,c),c=this.copyBit(8,7,c);for(let x=5;x>=0;x--)c=this.copyBit(8,x,c);const d=this.bitMatrix.getHeight();let f=0;const g=d-7;for(let x=d-1;x>=g;x--)f=this.copyBit(8,x,f);for(let x=d-8;x<d;x++)f=this.copyBit(x,8,f);if(this.parsedFormatInfo=Ks.decodeFormatInformation(c,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const c=this.bitMatrix.getHeight(),d=Math.floor((c-17)/4);if(d<=6)return Lt.getVersionForNumber(d);let f=0;const g=c-11;for(let v=5;v>=0;v--)for(let E=c-9;E>=g;E--)f=this.copyBit(E,v,f);let x=Lt.decodeVersionInformation(f);if(x!==null&&x.getDimensionForVersion()===c)return this.parsedVersion=x,x;f=0;for(let v=5;v>=0;v--)for(let E=c-9;E>=g;E--)f=this.copyBit(v,E,f);if(x=Lt.decodeVersionInformation(f),x!==null&&x.getDimensionForVersion()===c)return this.parsedVersion=x,x;throw new D}copyBit(c,d,f){return(this.isMirror?this.bitMatrix.get(d,c):this.bitMatrix.get(c,d))?f<<1|1:f<<1}readCodewords(){const c=this.readFormatInformation(),d=this.readVersion(),f=va.values.get(c.getDataMask()),g=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,g);const x=d.buildFunctionPattern();let v=!0;const E=new Uint8Array(d.getTotalCodewords());let k=0,P=0,z=0;for(let re=g-1;re>0;re-=2){re===6&&re--;for(let oe=0;oe<g;oe++){const we=v?g-1-oe:oe;for(let Be=0;Be<2;Be++)x.get(re-Be,we)||(z++,P<<=1,this.bitMatrix.get(re-Be,we)&&(P|=1),z===8&&(E[k++]=P,z=0,P=0))}v=!v}if(k!==d.getTotalCodewords())throw new D;return E}remask(){if(this.parsedFormatInfo===null)return;const c=va.values[this.parsedFormatInfo.getDataMask()],d=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,d)}setMirror(c){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=c}mirror(){const c=this.bitMatrix;for(let d=0,f=c.getWidth();d<f;d++)for(let g=d+1,x=c.getHeight();g<x;g++)c.get(d,g)!==c.get(g,d)&&(c.flip(g,d),c.flip(d,g))}}class zc{constructor(c,d){this.numDataCodewords=c,this.codewords=d}static getDataBlocks(c,d,f){if(c.length!==d.getTotalCodewords())throw new m;const g=d.getECBlocksForLevel(f);let x=0;const v=g.getECBlocks();for(const Be of v)x+=Be.getCount();const E=new Array(x);let k=0;for(const Be of v)for(let Se=0;Se<Be.getCount();Se++){const Oe=Be.getDataCodewords(),$e=g.getECCodewordsPerBlock()+Oe;E[k++]=new zc(Oe,new Uint8Array($e))}const P=E[0].codewords.length;let z=E.length-1;for(;z>=0&&E[z].codewords.length!==P;)z--;z++;const re=P-g.getECCodewordsPerBlock();let oe=0;for(let Be=0;Be<re;Be++)for(let Se=0;Se<k;Se++)E[Se].codewords[Be]=c[oe++];for(let Be=z;Be<k;Be++)E[Be].codewords[re]=c[oe++];const we=E[0].codewords.length;for(let Be=re;Be<we;Be++)for(let Se=0;Se<k;Se++){const Oe=Se<z?Be:Be+1;E[Se].codewords[Oe]=c[oe++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ua;(function(te){te[te.TERMINATOR=0]="TERMINATOR",te[te.NUMERIC=1]="NUMERIC",te[te.ALPHANUMERIC=2]="ALPHANUMERIC",te[te.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",te[te.BYTE=4]="BYTE",te[te.ECI=5]="ECI",te[te.KANJI=6]="KANJI",te[te.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",te[te.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",te[te.HANZI=9]="HANZI"})(Ua||(Ua={}));class rr{constructor(c,d,f,g){this.value=c,this.stringValue=d,this.characterCountBitsForVersions=f,this.bits=g,rr.FOR_BITS.set(g,this),rr.FOR_VALUE.set(c,this)}static forBits(c){const d=rr.FOR_BITS.get(c);if(d===void 0)throw new m;return d}getCharacterCountBits(c){const d=c.getVersionNumber();let f;return d<=9?f=0:d<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(c){if(!(c instanceof rr))return!1;const d=c;return this.value===d.value}toString(){return this.stringValue}}rr.FOR_BITS=new Map,rr.FOR_VALUE=new Map,rr.TERMINATOR=new rr(Ua.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rr.NUMERIC=new rr(Ua.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rr.ALPHANUMERIC=new rr(Ua.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rr.STRUCTURED_APPEND=new rr(Ua.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rr.BYTE=new rr(Ua.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rr.ECI=new rr(Ua.ECI,"ECI",Int32Array.from([0,0,0]),7),rr.KANJI=new rr(Ua.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rr.FNC1_FIRST_POSITION=new rr(Ua.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rr.FNC1_SECOND_POSITION=new rr(Ua.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rr.HANZI=new rr(Ua.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Pn{static decode(c,d,f,g){const x=new rs(c);let v=new J;const E=new Array;let k=-1,P=-1;try{let z=null,re=!1,oe;do{if(x.available()<4)oe=rr.TERMINATOR;else{const we=x.readBits(4);oe=rr.forBits(we)}switch(oe){case rr.TERMINATOR:break;case rr.FNC1_FIRST_POSITION:case rr.FNC1_SECOND_POSITION:re=!0;break;case rr.STRUCTURED_APPEND:if(x.available()<16)throw new D;k=x.readBits(8),P=x.readBits(8);break;case rr.ECI:const we=Pn.parseECIValue(x);if(z=T.getCharacterSetECIByValue(we),z===null)throw new D;break;case rr.HANZI:const Be=x.readBits(4),Se=x.readBits(oe.getCharacterCountBits(d));Be===Pn.GB2312_SUBSET&&Pn.decodeHanziSegment(x,v,Se);break;default:const Oe=x.readBits(oe.getCharacterCountBits(d));switch(oe){case rr.NUMERIC:Pn.decodeNumericSegment(x,v,Oe);break;case rr.ALPHANUMERIC:Pn.decodeAlphanumericSegment(x,v,Oe,re);break;case rr.BYTE:Pn.decodeByteSegment(x,v,Oe,z,E,g);break;case rr.KANJI:Pn.decodeKanjiSegment(x,v,Oe);break;default:throw new D}break}}while(oe!==rr.TERMINATOR)}catch{throw new D}return new je(c,v.toString(),E.length===0?null:E,f===null?null:f.toString(),k,P)}static decodeHanziSegment(c,d,f){if(f*13>c.available())throw new D;const g=new Uint8Array(2*f);let x=0;for(;f>0;){const v=c.readBits(13);let E=v/96<<8&4294967295|v%96;E<959?E+=41377:E+=42657,g[x]=E>>8&255,g[x+1]=E&255,x+=2,f--}try{d.append(M.decode(g,V.GB2312))}catch(v){throw new D(v)}}static decodeKanjiSegment(c,d,f){if(f*13>c.available())throw new D;const g=new Uint8Array(2*f);let x=0;for(;f>0;){const v=c.readBits(13);let E=v/192<<8&4294967295|v%192;E<7936?E+=33088:E+=49472,g[x]=E>>8,g[x+1]=E,x+=2,f--}try{d.append(M.decode(g,V.SHIFT_JIS))}catch(v){throw new D(v)}}static decodeByteSegment(c,d,f,g,x,v){if(8*f>c.available())throw new D;const E=new Uint8Array(f);for(let P=0;P<f;P++)E[P]=c.readBits(8);let k;g===null?k=V.guessEncoding(E,v):k=g.getName();try{d.append(M.decode(E,k))}catch(P){throw new D(P)}x.push(E)}static toAlphaNumericChar(c){if(c>=Pn.ALPHANUMERIC_CHARS.length)throw new D;return Pn.ALPHANUMERIC_CHARS[c]}static decodeAlphanumericSegment(c,d,f,g){const x=d.length();for(;f>1;){if(c.available()<11)throw new D;const v=c.readBits(11);d.append(Pn.toAlphaNumericChar(Math.floor(v/45))),d.append(Pn.toAlphaNumericChar(v%45)),f-=2}if(f===1){if(c.available()<6)throw new D;d.append(Pn.toAlphaNumericChar(c.readBits(6)))}if(g)for(let v=x;v<d.length();v++)d.charAt(v)==="%"&&(v<d.length()-1&&d.charAt(v+1)==="%"?d.deleteCharAt(v+1):d.setCharAt(v,""))}static decodeNumericSegment(c,d,f){for(;f>=3;){if(c.available()<10)throw new D;const g=c.readBits(10);if(g>=1e3)throw new D;d.append(Pn.toAlphaNumericChar(Math.floor(g/100))),d.append(Pn.toAlphaNumericChar(Math.floor(g/10)%10)),d.append(Pn.toAlphaNumericChar(g%10)),f-=3}if(f===2){if(c.available()<7)throw new D;const g=c.readBits(7);if(g>=100)throw new D;d.append(Pn.toAlphaNumericChar(Math.floor(g/10))),d.append(Pn.toAlphaNumericChar(g%10))}else if(f===1){if(c.available()<4)throw new D;const g=c.readBits(4);if(g>=10)throw new D;d.append(Pn.toAlphaNumericChar(g))}}static parseECIValue(c){const d=c.readBits(8);if(!(d&128))return d&127;if((d&192)===128){const f=c.readBits(8);return(d&63)<<8&4294967295|f}if((d&224)===192){const f=c.readBits(16);return(d&31)<<16&4294967295|f}throw new D}}Pn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Pn.GB2312_SUBSET=1;class nu{constructor(c){this.mirrored=c}isMirrored(){return this.mirrored}applyMirroredCorrection(c){if(!this.mirrored||c===null||c.length<3)return;const d=c[0];c[0]=c[2],c[2]=d}}class $c{constructor(){this.rsDecoder=new Pe(Qe.QR_CODE_FIELD_256)}decodeBooleanArray(c,d){return this.decodeBitMatrix(Z.parseFromBooleanArray(c),d)}decodeBitMatrix(c,d){const f=new rc(c);let g=null;try{return this.decodeBitMatrixParser(f,d)}catch(x){g=x}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const x=this.decodeBitMatrixParser(f,d);return x.setOther(new nu(!0)),x}catch(x){throw g!==null?g:x}}decodeBitMatrixParser(c,d){const f=c.readVersion(),g=c.readFormatInformation().getErrorCorrectionLevel(),x=c.readCodewords(),v=zc.getDataBlocks(x,f,g);let E=0;for(const z of v)E+=z.getNumDataCodewords();const k=new Uint8Array(E);let P=0;for(const z of v){const re=z.getCodewords(),oe=z.getNumDataCodewords();this.correctErrors(re,oe);for(let we=0;we<oe;we++)k[P++]=re[we]}return Pn.decode(k,f,g,d)}correctErrors(c,d){const f=new Int32Array(c);try{this.rsDecoder.decode(f,c.length-d)}catch{throw new p}for(let g=0;g<d;g++)c[g]=f[g]}}class Do extends We{constructor(c,d,f){super(c,d),this.estimatedModuleSize=f}aboutEquals(c,d,f){if(Math.abs(d-this.getY())<=c&&Math.abs(f-this.getX())<=c){const g=Math.abs(c-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(c,d,f){const g=(this.getX()+d)/2,x=(this.getY()+c)/2,v=(this.estimatedModuleSize+f)/2;return new Do(g,x,v)}}class su{constructor(c,d,f,g,x,v,E){this.image=c,this.startX=d,this.startY=f,this.width=g,this.height=x,this.moduleSize=v,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const c=this.startX,d=this.height,f=this.width,g=c+f,x=this.startY+d/2,v=new Int32Array(3),E=this.image;for(let k=0;k<d;k++){const P=x+(k&1?-Math.floor((k+1)/2):Math.floor((k+1)/2));v[0]=0,v[1]=0,v[2]=0;let z=c;for(;z<g&&!E.get(z,P);)z++;let re=0;for(;z<g;){if(E.get(z,P))if(re===1)v[1]++;else if(re===2){if(this.foundPatternCross(v)){const oe=this.handlePossibleCenter(v,P,z);if(oe!==null)return oe}v[0]=v[2],v[1]=1,v[2]=0,re=1}else v[++re]++;else re===1&&re++,v[re]++;z++}if(this.foundPatternCross(v)){const oe=this.handlePossibleCenter(v,P,g);if(oe!==null)return oe}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(c,d){return d-c[2]-c[1]/2}foundPatternCross(c){const d=this.moduleSize,f=d/2;for(let g=0;g<3;g++)if(Math.abs(d-c[g])>=f)return!1;return!0}crossCheckVertical(c,d,f,g){const x=this.image,v=x.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let k=c;for(;k>=0&&x.get(d,k)&&E[1]<=f;)E[1]++,k--;if(k<0||E[1]>f)return NaN;for(;k>=0&&!x.get(d,k)&&E[0]<=f;)E[0]++,k--;if(E[0]>f)return NaN;for(k=c+1;k<v&&x.get(d,k)&&E[1]<=f;)E[1]++,k++;if(k===v||E[1]>f)return NaN;for(;k<v&&!x.get(d,k)&&E[2]<=f;)E[2]++,k++;if(E[2]>f)return NaN;const P=E[0]+E[1]+E[2];return 5*Math.abs(P-g)>=2*g?NaN:this.foundPatternCross(E)?su.centerFromEnd(E,k):NaN}handlePossibleCenter(c,d,f){const g=c[0]+c[1]+c[2],x=su.centerFromEnd(c,f),v=this.crossCheckVertical(d,x,2*c[1],g);if(!isNaN(v)){const E=(c[0]+c[1]+c[2])/3;for(const P of this.possibleCenters)if(P.aboutEquals(E,v,x))return P.combineEstimate(v,x,E);const k=new Do(x,v,E);this.possibleCenters.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return null}}class pl extends We{constructor(c,d,f,g){super(c,d),this.estimatedModuleSize=f,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(c,d,f){if(Math.abs(d-this.getY())<=c&&Math.abs(f-this.getX())<=c){const g=Math.abs(c-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(c,d,f){const g=this.count+1,x=(this.count*this.getX()+d)/g,v=(this.count*this.getY()+c)/g,E=(this.count*this.estimatedModuleSize+f)/g;return new pl(x,v,E,g)}}class Gd{constructor(c){this.bottomLeft=c[0],this.topLeft=c[1],this.topRight=c[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Vt{constructor(c,d){this.image=c,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=d}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(c){const d=c!=null&&c.get(H.TRY_HARDER)!==void 0,f=c!=null&&c.get(H.PURE_BARCODE)!==void 0,g=this.image,x=g.getHeight(),v=g.getWidth();let E=Math.floor(3*x/(4*Vt.MAX_MODULES));(E<Vt.MIN_SKIP||d)&&(E=Vt.MIN_SKIP);let k=!1;const P=new Int32Array(5);for(let re=E-1;re<x&&!k;re+=E){P[0]=0,P[1]=0,P[2]=0,P[3]=0,P[4]=0;let oe=0;for(let we=0;we<v;we++)if(g.get(we,re))(oe&1)===1&&oe++,P[oe]++;else if(oe&1)P[oe]++;else if(oe===4)if(Vt.foundPatternCross(P)){if(this.handlePossibleCenter(P,re,we,f)===!0)if(E=2,this.hasSkipped===!0)k=this.haveMultiplyConfirmedCenters();else{const Se=this.findRowSkip();Se>P[2]&&(re+=Se-P[2]-E,we=v-1)}else{P[0]=P[2],P[1]=P[3],P[2]=P[4],P[3]=1,P[4]=0,oe=3;continue}oe=0,P[0]=0,P[1]=0,P[2]=0,P[3]=0,P[4]=0}else P[0]=P[2],P[1]=P[3],P[2]=P[4],P[3]=1,P[4]=0,oe=3;else P[++oe]++;Vt.foundPatternCross(P)&&this.handlePossibleCenter(P,re,v,f)===!0&&(E=P[0],this.hasSkipped&&(k=this.haveMultiplyConfirmedCenters()))}const z=this.selectBestPatterns();return We.orderBestPatterns(z),new Gd(z)}static centerFromEnd(c,d){return d-c[4]-c[3]-c[2]/2}static foundPatternCross(c){let d=0;for(let x=0;x<5;x++){const v=c[x];if(v===0)return!1;d+=v}if(d<7)return!1;const f=d/7,g=f/2;return Math.abs(f-c[0])<g&&Math.abs(f-c[1])<g&&Math.abs(3*f-c[2])<3*g&&Math.abs(f-c[3])<g&&Math.abs(f-c[4])<g}getCrossCheckStateCount(){const c=this.crossCheckStateCount;return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c}crossCheckDiagonal(c,d,f,g){const x=this.getCrossCheckStateCount();let v=0;const E=this.image;for(;c>=v&&d>=v&&E.get(d-v,c-v);)x[2]++,v++;if(c<v||d<v)return!1;for(;c>=v&&d>=v&&!E.get(d-v,c-v)&&x[1]<=f;)x[1]++,v++;if(c<v||d<v||x[1]>f)return!1;for(;c>=v&&d>=v&&E.get(d-v,c-v)&&x[0]<=f;)x[0]++,v++;if(x[0]>f)return!1;const k=E.getHeight(),P=E.getWidth();for(v=1;c+v<k&&d+v<P&&E.get(d+v,c+v);)x[2]++,v++;if(c+v>=k||d+v>=P)return!1;for(;c+v<k&&d+v<P&&!E.get(d+v,c+v)&&x[3]<f;)x[3]++,v++;if(c+v>=k||d+v>=P||x[3]>=f)return!1;for(;c+v<k&&d+v<P&&E.get(d+v,c+v)&&x[4]<f;)x[4]++,v++;if(x[4]>=f)return!1;const z=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(z-g)<2*g&&Vt.foundPatternCross(x)}crossCheckVertical(c,d,f,g){const x=this.image,v=x.getHeight(),E=this.getCrossCheckStateCount();let k=c;for(;k>=0&&x.get(d,k);)E[2]++,k--;if(k<0)return NaN;for(;k>=0&&!x.get(d,k)&&E[1]<=f;)E[1]++,k--;if(k<0||E[1]>f)return NaN;for(;k>=0&&x.get(d,k)&&E[0]<=f;)E[0]++,k--;if(E[0]>f)return NaN;for(k=c+1;k<v&&x.get(d,k);)E[2]++,k++;if(k===v)return NaN;for(;k<v&&!x.get(d,k)&&E[3]<f;)E[3]++,k++;if(k===v||E[3]>=f)return NaN;for(;k<v&&x.get(d,k)&&E[4]<f;)E[4]++,k++;if(E[4]>=f)return NaN;const P=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(P-g)>=2*g?NaN:Vt.foundPatternCross(E)?Vt.centerFromEnd(E,k):NaN}crossCheckHorizontal(c,d,f,g){const x=this.image,v=x.getWidth(),E=this.getCrossCheckStateCount();let k=c;for(;k>=0&&x.get(k,d);)E[2]++,k--;if(k<0)return NaN;for(;k>=0&&!x.get(k,d)&&E[1]<=f;)E[1]++,k--;if(k<0||E[1]>f)return NaN;for(;k>=0&&x.get(k,d)&&E[0]<=f;)E[0]++,k--;if(E[0]>f)return NaN;for(k=c+1;k<v&&x.get(k,d);)E[2]++,k++;if(k===v)return NaN;for(;k<v&&!x.get(k,d)&&E[3]<f;)E[3]++,k++;if(k===v||E[3]>=f)return NaN;for(;k<v&&x.get(k,d)&&E[4]<f;)E[4]++,k++;if(E[4]>=f)return NaN;const P=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(P-g)>=g?NaN:Vt.foundPatternCross(E)?Vt.centerFromEnd(E,k):NaN}handlePossibleCenter(c,d,f,g){const x=c[0]+c[1]+c[2]+c[3]+c[4];let v=Vt.centerFromEnd(c,f),E=this.crossCheckVertical(d,Math.floor(v),c[2],x);if(!isNaN(E)&&(v=this.crossCheckHorizontal(Math.floor(v),Math.floor(E),c[2],x),!isNaN(v)&&(!g||this.crossCheckDiagonal(Math.floor(E),Math.floor(v),c[2],x)))){const k=x/7;let P=!1;const z=this.possibleCenters;for(let re=0,oe=z.length;re<oe;re++){const we=z[re];if(we.aboutEquals(k,E,v)){z[re]=we.combineEstimate(E,v,k),P=!0;break}}if(!P){const re=new pl(v,E,k);z.push(re),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(re)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let d=null;for(const f of this.possibleCenters)if(f.getCount()>=Vt.CENTER_QUORUM)if(d==null)d=f;else return this.hasSkipped=!0,Math.floor((Math.abs(d.getX()-f.getX())-Math.abs(d.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let c=0,d=0;const f=this.possibleCenters.length;for(const v of this.possibleCenters)v.getCount()>=Vt.CENTER_QUORUM&&(c++,d+=v.getEstimatedModuleSize());if(c<3)return!1;const g=d/f;let x=0;for(const v of this.possibleCenters)x+=Math.abs(v.getEstimatedModuleSize()-g);return x<=.05*d}selectBestPatterns(){const c=this.possibleCenters.length;if(c<3)throw new ee;const d=this.possibleCenters;let f;if(c>3){let g=0,x=0;for(const k of this.possibleCenters){const P=k.getEstimatedModuleSize();g+=P,x+=P*P}f=g/c;let v=Math.sqrt(x/c-f*f);d.sort((k,P)=>{const z=Math.abs(P.getEstimatedModuleSize()-f),re=Math.abs(k.getEstimatedModuleSize()-f);return z<re?-1:z>re?1:0});const E=Math.max(.2*f,v);for(let k=0;k<d.length&&d.length>3;k++){const P=d[k];Math.abs(P.getEstimatedModuleSize()-f)>E&&(d.splice(k,1),k--)}}if(d.length>3){let g=0;for(const x of d)g+=x.getEstimatedModuleSize();f=g/d.length,d.sort((x,v)=>{if(v.getCount()===x.getCount()){const E=Math.abs(v.getEstimatedModuleSize()-f),k=Math.abs(x.getEstimatedModuleSize()-f);return E<k?1:E>k?-1:0}else return v.getCount()-x.getCount()}),d.splice(3)}return[d[0],d[1],d[2]]}}Vt.CENTER_QUORUM=2,Vt.MIN_SKIP=3,Vt.MAX_MODULES=57;class qc{constructor(c){this.image=c}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(c){this.resultPointCallback=c==null?null:c.get(H.NEED_RESULT_POINT_CALLBACK);const f=new Vt(this.image,this.resultPointCallback).find(c);return this.processFinderPatternInfo(f)}processFinderPatternInfo(c){const d=c.getTopLeft(),f=c.getTopRight(),g=c.getBottomLeft(),x=this.calculateModuleSize(d,f,g);if(x<1)throw new ee("No pattern found in proccess finder.");const v=qc.computeDimension(d,f,g,x),E=Lt.getProvisionalVersionForDimension(v),k=E.getDimensionForVersion()-7;let P=null;if(E.getAlignmentPatternCenters().length>0){const we=f.getX()-d.getX()+g.getX(),Be=f.getY()-d.getY()+g.getY(),Se=1-3/k,Oe=Math.floor(d.getX()+Se*(we-d.getX())),$e=Math.floor(d.getY()+Se*(Be-d.getY()));for(let ct=4;ct<=16;ct<<=1)try{P=this.findAlignmentInRegion(x,Oe,$e,ct);break}catch(ht){if(!(ht instanceof ee))throw ht}}const z=qc.createTransform(d,f,g,P,v),re=qc.sampleGrid(this.image,z,v);let oe;return P===null?oe=[g,d,f]:oe=[g,d,f,P],new Wt(re,oe)}static createTransform(c,d,f,g,x){const v=x-3.5;let E,k,P,z;return g!==null?(E=g.getX(),k=g.getY(),P=v-3,z=P):(E=d.getX()-c.getX()+f.getX(),k=d.getY()-c.getY()+f.getY(),P=v,z=v),dt.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,P,z,3.5,v,c.getX(),c.getY(),d.getX(),d.getY(),E,k,f.getX(),f.getY())}static sampleGrid(c,d,f){return It.getInstance().sampleGridWithTransform(c,f,f,d)}static computeDimension(c,d,f,g){const x=Me.round(We.distance(c,d)/g),v=Me.round(We.distance(c,f)/g);let E=Math.floor((x+v)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new ee("Dimensions could be not found.")}return E}calculateModuleSize(c,d,f){return(this.calculateModuleSizeOneWay(c,d)+this.calculateModuleSizeOneWay(c,f))/2}calculateModuleSizeOneWay(c,d){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(d.getX()),Math.floor(d.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(c.getX()),Math.floor(c.getY()));return isNaN(f)?g/7:isNaN(g)?f/7:(f+g)/14}sizeOfBlackWhiteBlackRunBothWays(c,d,f,g){let x=this.sizeOfBlackWhiteBlackRun(c,d,f,g),v=1,E=c-(f-c);E<0?(v=c/(c-E),E=0):E>=this.image.getWidth()&&(v=(this.image.getWidth()-1-c)/(E-c),E=this.image.getWidth()-1);let k=Math.floor(d-(g-d)*v);return v=1,k<0?(v=d/(d-k),k=0):k>=this.image.getHeight()&&(v=(this.image.getHeight()-1-d)/(k-d),k=this.image.getHeight()-1),E=Math.floor(c+(E-c)*v),x+=this.sizeOfBlackWhiteBlackRun(c,d,E,k),x-1}sizeOfBlackWhiteBlackRun(c,d,f,g){const x=Math.abs(g-d)>Math.abs(f-c);if(x){let we=c;c=d,d=we,we=f,f=g,g=we}const v=Math.abs(f-c),E=Math.abs(g-d);let k=-v/2;const P=c<f?1:-1,z=d<g?1:-1;let re=0;const oe=f+P;for(let we=c,Be=d;we!==oe;we+=P){const Se=x?Be:we,Oe=x?we:Be;if(re===1===this.image.get(Se,Oe)){if(re===2)return Me.distance(we,Be,c,d);re++}if(k+=E,k>0){if(Be===g)break;Be+=z,k-=v}}return re===2?Me.distance(f+P,g,c,d):NaN}findAlignmentInRegion(c,d,f,g){const x=Math.floor(g*c),v=Math.max(0,d-x),E=Math.min(this.image.getWidth()-1,d+x);if(E-v<c*3)throw new ee("Alignment top exceeds estimated module size.");const k=Math.max(0,f-x),P=Math.min(this.image.getHeight()-1,f+x);if(P-k<c*3)throw new ee("Alignment bottom exceeds estimated module size.");return new su(this.image,v,k,E-v,P-k,c,this.resultPointCallback).find()}}class Oo{constructor(){this.decoder=new $c}getDecoder(){return this.decoder}decode(c,d){let f,g;if(d!=null&&d.get(H.PURE_BARCODE)!==void 0){const k=Oo.extractPureBits(c.getBlackMatrix());f=this.decoder.decodeBitMatrix(k,d),g=Oo.NO_POINTS}else{const k=new qc(c.getBlackMatrix()).detect(d);f=this.decoder.decodeBitMatrix(k.getBits(),d),g=k.getPoints()}f.getOther()instanceof nu&&f.getOther().applyMirroredCorrection(g);const x=new se(f.getText(),f.getRawBytes(),void 0,g,Ae.QR_CODE,void 0),v=f.getByteSegments();v!==null&&x.putMetadata(fe.BYTE_SEGMENTS,v);const E=f.getECLevel();return E!==null&&x.putMetadata(fe.ERROR_CORRECTION_LEVEL,E),f.hasStructuredAppend()&&(x.putMetadata(fe.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),x.putMetadata(fe.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),x}reset(){}static extractPureBits(c){const d=c.getTopLeftOnBit(),f=c.getBottomRightOnBit();if(d===null||f===null)throw new ee;const g=this.moduleSize(d,c);let x=d[1],v=f[1],E=d[0],k=f[0];if(E>=k||x>=v)throw new ee;if(v-x!==k-E&&(k=E+(v-x),k>=c.getWidth()))throw new ee;const P=Math.round((k-E+1)/g),z=Math.round((v-x+1)/g);if(P<=0||z<=0)throw new ee;if(z!==P)throw new ee;const re=Math.floor(g/2);x+=re,E+=re;const oe=E+Math.floor((P-1)*g)-k;if(oe>0){if(oe>re)throw new ee;E-=oe}const we=x+Math.floor((z-1)*g)-v;if(we>0){if(we>re)throw new ee;x-=we}const Be=new Z(P,z);for(let Se=0;Se<z;Se++){const Oe=x+Math.floor(Se*g);for(let $e=0;$e<P;$e++)c.get(E+Math.floor($e*g),Oe)&&Be.set($e,Se)}return Be}static moduleSize(c,d){const f=d.getHeight(),g=d.getWidth();let x=c[0],v=c[1],E=!0,k=0;for(;x<g&&v<f;){if(E!==d.get(x,v)){if(++k===5)break;E=!E}x++,v++}if(x===g||v===f)throw new ee;return(x-c[0])/7}}Oo.NO_POINTS=new Array;class lr{PDF417Common(){}static getBitCountSum(c){return Me.sum(c)}static toIntArray(c){if(c==null||!c.length)return lr.EMPTY_INT_ARRAY;const d=new Int32Array(c.length);let f=0;for(const g of c)d[f++]=g;return d}static getCodeword(c){const d=B.binarySearch(lr.SYMBOL_TABLE,c&262143);return d<0?-1:(lr.CODEWORD_TABLE[d]-1)%lr.NUMBER_OF_CODEWORDS}}lr.NUMBER_OF_CODEWORDS=929,lr.MAX_CODEWORDS_IN_BARCODE=lr.NUMBER_OF_CODEWORDS-1,lr.MIN_ROWS_IN_BARCODE=3,lr.MAX_ROWS_IN_BARCODE=90,lr.MODULES_IN_CODEWORD=17,lr.MODULES_IN_STOP_PATTERN=18,lr.BARS_IN_MODULE=8,lr.EMPTY_INT_ARRAY=new Int32Array([]),lr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),lr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Em{constructor(c,d){this.bits=c,this.points=d}getBits(){return this.bits}getPoints(){return this.points}}class fr{static detectMultiple(c,d,f){let g=c.getBlackMatrix(),x=fr.detect(f,g);return x.length||(g=g.clone(),g.rotate180(),x=fr.detect(f,g)),new Em(g,x)}static detect(c,d){const f=new Array;let g=0,x=0,v=!1;for(;g<d.getHeight();){const E=fr.findVertices(d,g,x);if(E[0]==null&&E[3]==null){if(!v)break;v=!1,x=0;for(const k of f)k[1]!=null&&(g=Math.trunc(Math.max(g,k[1].getY()))),k[3]!=null&&(g=Math.max(g,Math.trunc(k[3].getY())));g+=fr.ROW_STEP;continue}if(v=!0,f.push(E),!c)break;E[2]!=null?(x=Math.trunc(E[2].getX()),g=Math.trunc(E[2].getY())):(x=Math.trunc(E[4].getX()),g=Math.trunc(E[4].getY()))}return f}static findVertices(c,d,f){const g=c.getHeight(),x=c.getWidth(),v=new Array(8);return fr.copyToResult(v,fr.findRowsWithPattern(c,g,x,d,f,fr.START_PATTERN),fr.INDEXES_START_PATTERN),v[4]!=null&&(f=Math.trunc(v[4].getX()),d=Math.trunc(v[4].getY())),fr.copyToResult(v,fr.findRowsWithPattern(c,g,x,d,f,fr.STOP_PATTERN),fr.INDEXES_STOP_PATTERN),v}static copyToResult(c,d,f){for(let g=0;g<f.length;g++)c[f[g]]=d[g]}static findRowsWithPattern(c,d,f,g,x,v){const E=new Array(4);let k=!1;const P=new Int32Array(v.length);for(;g<d;g+=fr.ROW_STEP){let re=fr.findGuardPattern(c,x,g,f,!1,v,P);if(re!=null){for(;g>0;){const oe=fr.findGuardPattern(c,x,--g,f,!1,v,P);if(oe!=null)re=oe;else{g++;break}}E[0]=new We(re[0],g),E[1]=new We(re[1],g),k=!0;break}}let z=g+1;if(k){let re=0,oe=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;z<d;z++){const we=fr.findGuardPattern(c,oe[0],z,f,!1,v,P);if(we!=null&&Math.abs(oe[0]-we[0])<fr.MAX_PATTERN_DRIFT&&Math.abs(oe[1]-we[1])<fr.MAX_PATTERN_DRIFT)oe=we,re=0;else{if(re>fr.SKIPPED_ROW_COUNT_MAX)break;re++}}z-=re+1,E[2]=new We(oe[0],z),E[3]=new We(oe[1],z)}return z-g<fr.BARCODE_MIN_HEIGHT&&B.fill(E,null),E}static findGuardPattern(c,d,f,g,x,v,E){B.fillWithin(E,0,E.length,0);let k=d,P=0;for(;c.get(k,f)&&k>0&&P++<fr.MAX_PIXEL_DRIFT;)k--;let z=k,re=0,oe=v.length;for(let we=x;z<g;z++)if(c.get(z,f)!==we)E[re]++;else{if(re===oe-1){if(fr.patternMatchVariance(E,v,fr.MAX_INDIVIDUAL_VARIANCE)<fr.MAX_AVG_VARIANCE)return new Int32Array([k,z]);k+=E[0]+E[1],N.arraycopy(E,2,E,0,re-1),E[re-1]=0,E[re]=0,re--}else re++;E[re]=1,we=!we}return re===oe-1&&fr.patternMatchVariance(E,v,fr.MAX_INDIVIDUAL_VARIANCE)<fr.MAX_AVG_VARIANCE?new Int32Array([k,z-1]):null}static patternMatchVariance(c,d,f){let g=c.length,x=0,v=0;for(let P=0;P<g;P++)x+=c[P],v+=d[P];if(x<v)return 1/0;let E=x/v;f*=E;let k=0;for(let P=0;P<g;P++){let z=c[P],re=d[P]*E,oe=z>re?z-re:re-z;if(oe>f)return 1/0;k+=oe}return k/x}}fr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),fr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),fr.MAX_AVG_VARIANCE=.42,fr.MAX_INDIVIDUAL_VARIANCE=.8,fr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),fr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),fr.MAX_PIXEL_DRIFT=3,fr.MAX_PATTERN_DRIFT=5,fr.SKIPPED_ROW_COUNT_MAX=25,fr.ROW_STEP=5,fr.BARCODE_MIN_HEIGHT=10;class Dn{constructor(c,d){if(d.length===0)throw new m;this.field=c;let f=d.length;if(f>1&&d[0]===0){let g=1;for(;g<f&&d[g]===0;)g++;g===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-g),N.arraycopy(d,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=d}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);if(c===1){let g=0;for(let x of this.coefficients)g=this.field.add(g,x);return g}let d=this.coefficients[0],f=this.coefficients.length;for(let g=1;g<f;g++)d=this.field.add(this.field.multiply(c,d),this.coefficients[g]);return d}add(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return c;if(c.isZero())return this;let d=this.coefficients,f=c.coefficients;if(d.length>f.length){let v=d;d=f,f=v}let g=new Int32Array(f.length),x=f.length-d.length;N.arraycopy(f,0,g,0,x);for(let v=x;v<f.length;v++)g[v]=this.field.add(d[v-x],f[v]);return new Dn(this.field,g)}subtract(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");return c.isZero()?this:this.add(c.negative())}multiply(c){return c instanceof Dn?this.multiplyOther(c):this.multiplyScalar(c)}multiplyOther(c){if(!this.field.equals(c.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||c.isZero())return new Dn(this.field,new Int32Array([0]));let d=this.coefficients,f=d.length,g=c.coefficients,x=g.length,v=new Int32Array(f+x-1);for(let E=0;E<f;E++){let k=d[E];for(let P=0;P<x;P++)v[E+P]=this.field.add(v[E+P],this.field.multiply(k,g[P]))}return new Dn(this.field,v)}negative(){let c=this.coefficients.length,d=new Int32Array(c);for(let f=0;f<c;f++)d[f]=this.field.subtract(0,this.coefficients[f]);return new Dn(this.field,d)}multiplyScalar(c){if(c===0)return new Dn(this.field,new Int32Array([0]));if(c===1)return this;let d=this.coefficients.length,f=new Int32Array(d);for(let g=0;g<d;g++)f[g]=this.field.multiply(this.coefficients[g],c);return new Dn(this.field,f)}multiplyByMonomial(c,d){if(c<0)throw new m;if(d===0)return new Dn(this.field,new Int32Array([0]));let f=this.coefficients.length,g=new Int32Array(f+c);for(let x=0;x<f;x++)g[x]=this.field.multiply(this.coefficients[x],d);return new Dn(this.field,g)}toString(){let c=new J;for(let d=this.getDegree();d>=0;d--){let f=this.getCoefficient(d);f!==0&&(f<0?(c.append(" - "),f=-f):c.length()>0&&c.append(" + "),(d===0||f!==1)&&c.append(f),d!==0&&(d===1?c.append("x"):(c.append("x^"),c.append(d))))}return c.toString()}}class jm{add(c,d){return(c+d)%this.modulus}subtract(c,d){return(this.modulus+c-d)%this.modulus}exp(c){return this.expTable[c]}log(c){if(c===0)throw new m;return this.logTable[c]}inverse(c){if(c===0)throw new De;return this.expTable[this.modulus-this.logTable[c]-1]}multiply(c,d){return c===0||d===0?0:this.expTable[(this.logTable[c]+this.logTable[d])%(this.modulus-1)]}getSize(){return this.modulus}equals(c){return c===this}}class zd extends jm{constructor(c,d){super(),this.modulus=c,this.expTable=new Int32Array(c),this.logTable=new Int32Array(c);let f=1;for(let g=0;g<c;g++)this.expTable[g]=f,f=f*d%c;for(let g=0;g<c-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new Dn(this,new Int32Array([0])),this.one=new Dn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,d){if(c<0)throw new m;if(d===0)return this.zero;let f=new Int32Array(c+1);return f[0]=d,new Dn(this,f)}}zd.PDF417_GF=new zd(lr.NUMBER_OF_CODEWORDS,3);class Xc{constructor(){this.field=zd.PDF417_GF}decode(c,d,f){let g=new Dn(this.field,c),x=new Int32Array(d),v=!1;for(let Be=d;Be>0;Be--){let Se=g.evaluateAt(this.field.exp(Be));x[d-Be]=Se,Se!==0&&(v=!0)}if(!v)return 0;let E=this.field.getOne();if(f!=null)for(const Be of f){let Se=this.field.exp(c.length-1-Be),Oe=new Dn(this.field,new Int32Array([this.field.subtract(0,Se),1]));E=E.multiply(Oe)}let k=new Dn(this.field,x),P=this.runEuclideanAlgorithm(this.field.buildMonomial(d,1),k,d),z=P[0],re=P[1],oe=this.findErrorLocations(z),we=this.findErrorMagnitudes(re,z,oe);for(let Be=0;Be<oe.length;Be++){let Se=c.length-1-this.field.log(oe[Be]);if(Se<0)throw p.getChecksumInstance();c[Se]=this.field.subtract(c[Se],we[Be])}return oe.length}runEuclideanAlgorithm(c,d,f){if(c.getDegree()<d.getDegree()){let oe=c;c=d,d=oe}let g=c,x=d,v=this.field.getZero(),E=this.field.getOne();for(;x.getDegree()>=Math.round(f/2);){let oe=g,we=v;if(g=x,v=E,g.isZero())throw p.getChecksumInstance();x=oe;let Be=this.field.getZero(),Se=g.getCoefficient(g.getDegree()),Oe=this.field.inverse(Se);for(;x.getDegree()>=g.getDegree()&&!x.isZero();){let $e=x.getDegree()-g.getDegree(),ct=this.field.multiply(x.getCoefficient(x.getDegree()),Oe);Be=Be.add(this.field.buildMonomial($e,ct)),x=x.subtract(g.multiplyByMonomial($e,ct))}E=Be.multiply(v).subtract(we).negative()}let k=E.getCoefficient(0);if(k===0)throw p.getChecksumInstance();let P=this.field.inverse(k),z=E.multiply(P),re=x.multiply(P);return[z,re]}findErrorLocations(c){let d=c.getDegree(),f=new Int32Array(d),g=0;for(let x=1;x<this.field.getSize()&&g<d;x++)c.evaluateAt(x)===0&&(f[g]=this.field.inverse(x),g++);if(g!==d)throw p.getChecksumInstance();return f}findErrorMagnitudes(c,d,f){let g=d.getDegree(),x=new Int32Array(g);for(let P=1;P<=g;P++)x[g-P]=this.field.multiply(P,d.getCoefficient(P));let v=new Dn(this.field,x),E=f.length,k=new Int32Array(E);for(let P=0;P<E;P++){let z=this.field.inverse(f[P]),re=this.field.subtract(0,c.evaluateAt(z)),oe=this.field.inverse(v.evaluateAt(z));k[P]=this.field.multiply(re,oe)}return k}}class ao{constructor(c,d,f,g,x){c instanceof ao?this.constructor_2(c):this.constructor_1(c,d,f,g,x)}constructor_1(c,d,f,g,x){const v=d==null||f==null,E=g==null||x==null;if(v&&E)throw new ee;v?(d=new We(0,g.getY()),f=new We(0,x.getY())):E&&(g=new We(c.getWidth()-1,d.getY()),x=new We(c.getWidth()-1,f.getY())),this.image=c,this.topLeft=d,this.bottomLeft=f,this.topRight=g,this.bottomRight=x,this.minX=Math.trunc(Math.min(d.getX(),f.getX())),this.maxX=Math.trunc(Math.max(g.getX(),x.getX())),this.minY=Math.trunc(Math.min(d.getY(),g.getY())),this.maxY=Math.trunc(Math.max(f.getY(),x.getY()))}constructor_2(c){this.image=c.image,this.topLeft=c.getTopLeft(),this.bottomLeft=c.getBottomLeft(),this.topRight=c.getTopRight(),this.bottomRight=c.getBottomRight(),this.minX=c.getMinX(),this.maxX=c.getMaxX(),this.minY=c.getMinY(),this.maxY=c.getMaxY()}static merge(c,d){return c==null?d:d==null?c:new ao(c.image,c.topLeft,c.bottomLeft,d.topRight,d.bottomRight)}addMissingRows(c,d,f){let g=this.topLeft,x=this.bottomLeft,v=this.topRight,E=this.bottomRight;if(c>0){let k=f?this.topLeft:this.topRight,P=Math.trunc(k.getY()-c);P<0&&(P=0);let z=new We(k.getX(),P);f?g=z:v=z}if(d>0){let k=f?this.bottomLeft:this.bottomRight,P=Math.trunc(k.getY()+d);P>=this.image.getHeight()&&(P=this.image.getHeight()-1);let z=new We(k.getX(),P);f?x=z:E=z}return new ao(this.image,g,x,v,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Yc{constructor(c,d,f,g){this.columnCount=c,this.errorCorrectionLevel=g,this.rowCountUpperPart=d,this.rowCountLowerPart=f,this.rowCount=d+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ro{constructor(){this.buffer=""}static form(c,d){let f=-1;function g(v,E,k,P,z,re){if(v==="%%")return"%";if(d[++f]===void 0)return;v=P?parseInt(P.substr(1)):void 0;let oe=z?parseInt(z.substr(1)):void 0,we;switch(re){case"s":we=d[f];break;case"c":we=d[f][0];break;case"f":we=parseFloat(d[f]).toFixed(v);break;case"p":we=parseFloat(d[f]).toPrecision(v);break;case"e":we=parseFloat(d[f]).toExponential(v);break;case"x":we=parseInt(d[f]).toString(oe||16);break;case"d":we=parseFloat(parseInt(d[f],oe||10).toPrecision(v)).toFixed(0);break}we=typeof we=="object"?JSON.stringify(we):(+we).toString(oe);let Be=parseInt(k),Se=k&&k[0]+""=="0"?"0":" ";for(;we.length<Be;)we=E!==void 0?we+Se:Se+we;return we}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(x,g)}format(c,...d){this.buffer+=Ro.form(c,d)}toString(){return this.buffer}}class Mo{constructor(c){this.boundingBox=new ao(c),this.codewords=new Array(c.getMaxY()-c.getMinY()+1)}getCodewordNearby(c){let d=this.getCodeword(c);if(d!=null)return d;for(let f=1;f<Mo.MAX_NEARBY_DISTANCE;f++){let g=this.imageRowToCodewordIndex(c)-f;if(g>=0&&(d=this.codewords[g],d!=null)||(g=this.imageRowToCodewordIndex(c)+f,g<this.codewords.length&&(d=this.codewords[g],d!=null)))return d}return null}imageRowToCodewordIndex(c){return c-this.boundingBox.getMinY()}setCodeword(c,d){this.codewords[this.imageRowToCodewordIndex(c)]=d}getCodeword(c){return this.codewords[this.imageRowToCodewordIndex(c)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const c=new Ro;let d=0;for(const f of this.codewords){if(f==null){c.format("%3d:    |   %n",d++);continue}c.format("%3d: %3d|%3d%n",d++,f.getRowNumber(),f.getValue())}return c.toString()}}Mo.MAX_NEARBY_DISTANCE=5;class Zc{constructor(){this.values=new Map}setValue(c){c=Math.trunc(c);let d=this.values.get(c);d==null&&(d=0),d++,this.values.set(c,d)}getValue(){let c=-1,d=new Array;for(const[f,g]of this.values.entries()){const x={getKey:()=>f,getValue:()=>g};x.getValue()>c?(c=x.getValue(),d=[],d.push(x.getKey())):x.getValue()===c&&d.push(x.getKey())}return lr.toIntArray(d)}getConfidence(c){return this.values.get(c)}}class au extends Mo{constructor(c,d){super(c),this._isLeft=d}setRowNumbers(){for(let c of this.getCodewords())c!=null&&c.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(c){let d=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(d,c);let f=this.getBoundingBox(),g=this._isLeft?f.getTopLeft():f.getTopRight(),x=this._isLeft?f.getBottomLeft():f.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(g.getY())),E=this.imageRowToCodewordIndex(Math.trunc(x.getY())),k=-1,P=1,z=0;for(let re=v;re<E;re++){if(d[re]==null)continue;let oe=d[re],we=oe.getRowNumber()-k;if(we===0)z++;else if(we===1)P=Math.max(P,z),z=1,k=oe.getRowNumber();else if(we<0||oe.getRowNumber()>=c.getRowCount()||we>re)d[re]=null;else{let Be;P>2?Be=(P-2)*we:Be=we;let Se=Be>=re;for(let Oe=1;Oe<=Be&&!Se;Oe++)Se=d[re-Oe]!=null;Se?d[re]=null:(k=oe.getRowNumber(),z=1)}}}getRowHeights(){let c=this.getBarcodeMetadata();if(c==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);let d=new Int32Array(c.getRowCount());for(let f of this.getCodewords())if(f!=null){let g=f.getRowNumber();if(g>=d.length)continue;d[g]++}return d}adjustIncompleteIndicatorColumnRowNumbers(c){let d=this.getBoundingBox(),f=this._isLeft?d.getTopLeft():d.getTopRight(),g=this._isLeft?d.getBottomLeft():d.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=this.imageRowToCodewordIndex(Math.trunc(g.getY())),E=this.getCodewords(),k=-1;for(let P=x;P<v;P++){if(E[P]==null)continue;let z=E[P];z.setRowNumberAsRowIndicatorColumn();let re=z.getRowNumber()-k;re===0||(re===1?k=z.getRowNumber():z.getRowNumber()>=c.getRowCount()?E[P]=null:k=z.getRowNumber())}}getBarcodeMetadata(){let c=this.getCodewords(),d=new Zc,f=new Zc,g=new Zc,x=new Zc;for(let E of c){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let k=E.getValue()%30,P=E.getRowNumber();switch(this._isLeft||(P+=2),P%3){case 0:f.setValue(k*3+1);break;case 1:x.setValue(k/3),g.setValue(k%3);break;case 2:d.setValue(k+1);break}}if(d.getValue().length===0||f.getValue().length===0||g.getValue().length===0||x.getValue().length===0||d.getValue()[0]<1||f.getValue()[0]+g.getValue()[0]<lr.MIN_ROWS_IN_BARCODE||f.getValue()[0]+g.getValue()[0]>lr.MAX_ROWS_IN_BARCODE)return null;let v=new Yc(d.getValue()[0],f.getValue()[0],g.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(c,v),v}removeIncorrectCodewords(c,d){for(let f=0;f<c.length;f++){let g=c[f];if(c[f]==null)continue;let x=g.getValue()%30,v=g.getRowNumber();if(v>d.getRowCount()){c[f]=null;continue}switch(this._isLeft||(v+=2),v%3){case 0:x*3+1!==d.getRowCountUpperPart()&&(c[f]=null);break;case 1:(Math.trunc(x/3)!==d.getErrorCorrectionLevel()||x%3!==d.getRowCountLowerPart())&&(c[f]=null);break;case 2:x+1!==d.getColumnCount()&&(c[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class gl{constructor(c,d){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=c,this.barcodeColumnCount=c.getColumnCount(),this.boundingBox=d,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let c=lr.MAX_CODEWORDS_IN_BARCODE,d;do d=c,c=this.adjustRowNumbersAndGetCount();while(c>0&&c<d);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(c){c!=null&&c.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let c=this.adjustRowNumbersByRow();if(c===0)return 0;for(let d=1;d<this.barcodeColumnCount+1;d++){let f=this.detectionResultColumns[d].getCodewords();for(let g=0;g<f.length;g++)f[g]!=null&&(f[g].hasValidRowNumber()||this.adjustRowNumbers(d,g,f))}return c}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let c=this.detectionResultColumns[0].getCodewords(),d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<c.length;f++)if(c[f]!=null&&d[f]!=null&&c[f].getRowNumber()===d[f].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let x=this.detectionResultColumns[g].getCodewords()[f];x!=null&&(x.setRowNumber(c[f].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let c=0,d=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<d.length;f++){if(d[f]==null)continue;let g=d[f].getRowNumber(),x=0;for(let v=this.barcodeColumnCount+1;v>0&&x<this.ADJUST_ROW_NUMBER_SKIP;v--){let E=this.detectionResultColumns[v].getCodewords()[f];E!=null&&(x=gl.adjustRowNumberIfValid(g,x,E),E.hasValidRowNumber()||c++)}}return c}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let c=0,d=this.detectionResultColumns[0].getCodewords();for(let f=0;f<d.length;f++){if(d[f]==null)continue;let g=d[f].getRowNumber(),x=0;for(let v=1;v<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;v++){let E=this.detectionResultColumns[v].getCodewords()[f];E!=null&&(x=gl.adjustRowNumberIfValid(g,x,E),E.hasValidRowNumber()||c++)}}return c}static adjustRowNumberIfValid(c,d,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(c)?(f.setRowNumber(c),d=0):++d),d}adjustRowNumbers(c,d,f){if(!this.detectionResultColumns[c-1])return;let g=f[d],x=this.detectionResultColumns[c-1].getCodewords(),v=x;this.detectionResultColumns[c+1]!=null&&(v=this.detectionResultColumns[c+1].getCodewords());let E=new Array(14);E[2]=x[d],E[3]=v[d],d>0&&(E[0]=f[d-1],E[4]=x[d-1],E[5]=v[d-1]),d>1&&(E[8]=f[d-2],E[10]=x[d-2],E[11]=v[d-2]),d<f.length-1&&(E[1]=f[d+1],E[6]=x[d+1],E[7]=v[d+1]),d<f.length-2&&(E[9]=f[d+2],E[12]=x[d+2],E[13]=v[d+2]);for(let k of E)if(gl.adjustRowNumber(g,k))return}static adjustRowNumber(c,d){return d==null?!1:d.hasValidRowNumber()&&d.getBucket()===c.getBucket()?(c.setRowNumber(d.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(c){this.boundingBox=c}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(c,d){this.detectionResultColumns[c]=d}getDetectionResultColumn(c){return this.detectionResultColumns[c]}toString(){let c=this.detectionResultColumns[0];c==null&&(c=this.detectionResultColumns[this.barcodeColumnCount+1]);let d=new Ro;for(let f=0;f<c.getCodewords().length;f++){d.format("CW %3d:",f);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){d.format("    |   ");continue}let x=this.detectionResultColumns[g].getCodewords()[f];if(x==null){d.format("    |   ");continue}d.format(" %3d|%3d",x.getRowNumber(),x.getValue())}d.format("%n")}return d.toString()}}class io{constructor(c,d,f,g){this.rowNumber=io.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(c),this.endX=Math.trunc(d),this.bucket=Math.trunc(f),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(c){return c!==io.BARCODE_ROW_UNKNOWN&&this.bucket===c%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(c){this.rowNumber=c}toString(){return this.rowNumber+"|"+this.value}}io.BARCODE_ROW_UNKNOWN=-1;class xs{static initialize(){for(let c=0;c<lr.SYMBOL_TABLE.length;c++){let d=lr.SYMBOL_TABLE[c],f=d&1;for(let g=0;g<lr.BARS_IN_MODULE;g++){let x=0;for(;(d&1)===f;)x+=1,d>>=1;f=d&1,xs.RATIOS_TABLE[c]||(xs.RATIOS_TABLE[c]=new Array(lr.BARS_IN_MODULE)),xs.RATIOS_TABLE[c][lr.BARS_IN_MODULE-g-1]=Math.fround(x/lr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(c){let d=xs.getDecodedCodewordValue(xs.sampleBitCounts(c));return d!==-1?d:xs.getClosestDecodedValue(c)}static sampleBitCounts(c){let d=Me.sum(c),f=new Int32Array(lr.BARS_IN_MODULE),g=0,x=0;for(let v=0;v<lr.MODULES_IN_CODEWORD;v++){let E=d/(2*lr.MODULES_IN_CODEWORD)+v*d/lr.MODULES_IN_CODEWORD;x+c[g]<=E&&(x+=c[g],g++),f[g]++}return f}static getDecodedCodewordValue(c){let d=xs.getBitValue(c);return lr.getCodeword(d)===-1?-1:d}static getBitValue(c){let d=0;for(let f=0;f<c.length;f++)for(let g=0;g<c[f];g++)d=d<<1|(f%2===0?1:0);return Math.trunc(d)}static getClosestDecodedValue(c){let d=Me.sum(c),f=new Array(lr.BARS_IN_MODULE);if(d>1)for(let v=0;v<f.length;v++)f[v]=Math.fround(c[v]/d);let g=wt.MAX_VALUE,x=-1;this.bSymbolTableReady||xs.initialize();for(let v=0;v<xs.RATIOS_TABLE.length;v++){let E=0,k=xs.RATIOS_TABLE[v];for(let P=0;P<lr.BARS_IN_MODULE;P++){let z=Math.fround(k[P]-f[P]);if(E+=Math.fround(z*z),E>=g)break}E<g&&(g=E,x=lr.SYMBOL_TABLE[v])}return x}}xs.bSymbolTableReady=!1,xs.RATIOS_TABLE=new Array(lr.SYMBOL_TABLE.length).map(te=>new Array(lr.BARS_IN_MODULE));class iu{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(c){this.segmentIndex=c}getFileId(){return this.fileId}setFileId(c){this.fileId=c}getOptionalData(){return this.optionalData}setOptionalData(c){this.optionalData=c}isLastSegment(){return this.lastSegment}setLastSegment(c){this.lastSegment=c}getSegmentCount(){return this.segmentCount}setSegmentCount(c){this.segmentCount=c}getSender(){return this.sender||null}setSender(c){this.sender=c}getAddressee(){return this.addressee||null}setAddressee(c){this.addressee=c}getFileName(){return this.fileName}setFileName(c){this.fileName=c}getFileSize(){return this.fileSize}setFileSize(c){this.fileSize=c}getChecksum(){return this.checksum}setChecksum(c){this.checksum=c}getTimestamp(){return this.timestamp}setTimestamp(c){this.timestamp=c}}class Jc{static parseLong(c,d=void 0){return parseInt(c,d)}}class ou extends u{}ou.kind="NullPointerException";class eA{writeBytes(c){this.writeBytesOffset(c,0,c.length)}writeBytesOffset(c,d,f){if(c==null)throw new ou;if(d<0||d>c.length||f<0||d+f>c.length||d+f<0)throw new j;if(f===0)return;for(let g=0;g<f;g++)this.write(c[d+g])}flush(){}close(){}}class $d extends u{}class qd extends eA{constructor(c=32){if(super(),this.count=0,c<0)throw new m("Negative initial size: "+c);this.buf=new Uint8Array(c)}ensureCapacity(c){c-this.buf.length>0&&this.grow(c)}grow(c){let f=this.buf.length<<1;if(f-c<0&&(f=c),f<0){if(c<0)throw new $d;f=I.MAX_VALUE}this.buf=B.copyOfUint8Array(this.buf,f)}write(c){this.ensureCapacity(this.count+1),this.buf[this.count]=c,this.count+=1}writeBytesOffset(c,d,f){if(d<0||d>c.length||f<0||d+f-c.length>0)throw new j;this.ensureCapacity(this.count+f),N.arraycopy(c,d,this.buf,this.count,f),this.count+=f}writeTo(c){c.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return B.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(c){return c?typeof c=="string"?this.toString_string(c):this.toString_number(c):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(c){return new String(this.buf).toString()}toString_number(c){return new String(this.buf).toString()}close(){}}var Fr;(function(te){te[te.ALPHA=0]="ALPHA",te[te.LOWER=1]="LOWER",te[te.MIXED=2]="MIXED",te[te.PUNCT=3]="PUNCT",te[te.ALPHA_SHIFT=4]="ALPHA_SHIFT",te[te.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Fr||(Fr={}));function oo(){if(typeof window<"u")return window.BigInt||null;if(typeof Of<"u")return Of.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let R;function ae(te){if(typeof R>"u"&&(R=oo()),R===null)throw new Error("BigInt is not supported!");return R(te)}function ve(){let te=[];te[0]=ae(1);let c=ae(900);te[1]=c;for(let d=2;d<16;d++)te[d]=te[d-1]*c;return te}class de{static decode(c,d){let f=new J(""),g=T.ISO8859_1;f.enableDecoding(g);let x=1,v=c[x++],E=new iu;for(;x<c[0];){switch(v){case de.TEXT_COMPACTION_MODE_LATCH:x=de.textCompaction(c,x,f);break;case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:x=de.byteCompaction(v,c,g,x,f);break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(c[x++]);break;case de.NUMERIC_COMPACTION_MODE_LATCH:x=de.numericCompaction(c,x,f);break;case de.ECI_CHARSET:T.getCharacterSetECIByValue(c[x++]);break;case de.ECI_GENERAL_PURPOSE:x+=2;break;case de.ECI_USER_DEFINED:x++;break;case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=de.decodeMacroBlock(c,x,E);break;case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:throw new D;default:x--,x=de.textCompaction(c,x,f);break}if(x<c.length)v=c[x++];else throw D.getFormatInstance()}if(f.length()===0)throw D.getFormatInstance();let k=new je(null,f.toString(),null,d);return k.setOther(E),k}static decodeMacroBlock(c,d,f){if(d+de.NUMBER_OF_SEQUENCE_CODEWORDS>c[0])throw D.getFormatInstance();let g=new Int32Array(de.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<de.NUMBER_OF_SEQUENCE_CODEWORDS;E++,d++)g[E]=c[d];f.setSegmentIndex(I.parseInt(de.decodeBase900toBase10(g,de.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new J;d=de.textCompaction(c,d,x),f.setFileId(x.toString());let v=-1;for(c[d]===de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=d+1);d<c[0];)switch(c[d]){case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(d++,c[d]){case de.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new J;d=de.textCompaction(c,d+1,E),f.setFileName(E.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let k=new J;d=de.textCompaction(c,d+1,k),f.setSender(k.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let P=new J;d=de.textCompaction(c,d+1,P),f.setAddressee(P.toString());break;case de.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let z=new J;d=de.numericCompaction(c,d+1,z),f.setSegmentCount(I.parseInt(z.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let re=new J;d=de.numericCompaction(c,d+1,re),f.setTimestamp(Jc.parseLong(re.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let oe=new J;d=de.numericCompaction(c,d+1,oe),f.setChecksum(I.parseInt(oe.toString()));break;case de.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let we=new J;d=de.numericCompaction(c,d+1,we),f.setFileSize(Jc.parseLong(we.toString()));break;default:throw D.getFormatInstance()}break;case de.MACRO_PDF417_TERMINATOR:d++,f.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(v!==-1){let E=d-v;f.isLastSegment()&&E--,f.setOptionalData(B.copyOfRange(c,v,v+E))}return d}static textCompaction(c,d,f){let g=new Int32Array((c[0]-d)*2),x=new Int32Array((c[0]-d)*2),v=0,E=!1;for(;d<c[0]&&!E;){let k=c[d++];if(k<de.TEXT_COMPACTION_MODE_LATCH)g[v]=k/30,g[v+1]=k%30,v+=2;else switch(k){case de.TEXT_COMPACTION_MODE_LATCH:g[v++]=de.TEXT_COMPACTION_MODE_LATCH;break;case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:d--,E=!0;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[v]=de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,k=c[d++],x[v]=k,v++;break}}return de.decodeTextCompaction(g,x,v,f),d}static decodeTextCompaction(c,d,f,g){let x=Fr.ALPHA,v=Fr.ALPHA,E=0;for(;E<f;){let k=c[E],P="";switch(x){case Fr.ALPHA:if(k<26)P=String.fromCharCode(65+k);else switch(k){case 26:P=" ";break;case de.LL:x=Fr.LOWER;break;case de.ML:x=Fr.MIXED;break;case de.PS:v=x,x=Fr.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(d[E]);break;case de.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.LOWER:if(k<26)P=String.fromCharCode(97+k);else switch(k){case 26:P=" ";break;case de.AS:v=x,x=Fr.ALPHA_SHIFT;break;case de.ML:x=Fr.MIXED;break;case de.PS:v=x,x=Fr.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(d[E]);break;case de.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.MIXED:if(k<de.PL)P=de.MIXED_CHARS[k];else switch(k){case de.PL:x=Fr.PUNCT;break;case 26:P=" ";break;case de.LL:x=Fr.LOWER;break;case de.AL:x=Fr.ALPHA;break;case de.PS:v=x,x=Fr.PUNCT_SHIFT;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(d[E]);break;case de.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.PUNCT:if(k<de.PAL)P=de.PUNCT_CHARS[k];else switch(k){case de.PAL:x=Fr.ALPHA;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(d[E]);break;case de.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.ALPHA_SHIFT:if(x=v,k<26)P=String.fromCharCode(65+k);else switch(k){case 26:P=" ";break;case de.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break;case Fr.PUNCT_SHIFT:if(x=v,k<de.PAL)P=de.PUNCT_CHARS[k];else switch(k){case de.PAL:x=Fr.ALPHA;break;case de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(d[E]);break;case de.TEXT_COMPACTION_MODE_LATCH:x=Fr.ALPHA;break}break}P!==""&&g.append(P),E++}}static byteCompaction(c,d,f,g,x){let v=new qd,E=0,k=0,P=!1;switch(c){case de.BYTE_COMPACTION_MODE_LATCH:let z=new Int32Array(6),re=d[g++];for(;g<d[0]&&!P;)switch(z[E++]=re,k=900*k+re,re=d[g++],re){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:g--,P=!0;break;default:if(E%5===0&&E>0){for(let oe=0;oe<6;++oe)v.write(Number(ae(k)>>ae(8*(5-oe))));k=0,E=0}break}g===d[0]&&re<de.TEXT_COMPACTION_MODE_LATCH&&(z[E++]=re);for(let oe=0;oe<E;oe++)v.write(z[oe]);break;case de.BYTE_COMPACTION_MODE_LATCH_6:for(;g<d[0]&&!P;){let oe=d[g++];if(oe<de.TEXT_COMPACTION_MODE_LATCH)E++,k=900*k+oe;else switch(oe){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.NUMERIC_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:g--,P=!0;break}if(E%5===0&&E>0){for(let we=0;we<6;++we)v.write(Number(ae(k)>>ae(8*(5-we))));k=0,E=0}}break}return x.append(M.decode(v.toByteArray(),f)),g}static numericCompaction(c,d,f){let g=0,x=!1,v=new Int32Array(de.MAX_NUMERIC_CODEWORDS);for(;d<c[0]&&!x;){let E=c[d++];if(d===c[0]&&(x=!0),E<de.TEXT_COMPACTION_MODE_LATCH)v[g]=E,g++;else switch(E){case de.TEXT_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH:case de.BYTE_COMPACTION_MODE_LATCH_6:case de.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case de.MACRO_PDF417_TERMINATOR:d--,x=!0;break}(g%de.MAX_NUMERIC_CODEWORDS===0||E===de.NUMERIC_COMPACTION_MODE_LATCH||x)&&g>0&&(f.append(de.decodeBase900toBase10(v,g)),g=0)}return d}static decodeBase900toBase10(c,d){let f=ae(0);for(let x=0;x<d;x++)f+=de.EXP900[d-x-1]*ae(c[x]);let g=f.toString();if(g.charAt(0)!=="1")throw new D;return g.substring(1)}}de.TEXT_COMPACTION_MODE_LATCH=900,de.BYTE_COMPACTION_MODE_LATCH=901,de.NUMERIC_COMPACTION_MODE_LATCH=902,de.BYTE_COMPACTION_MODE_LATCH_6=924,de.ECI_USER_DEFINED=925,de.ECI_GENERAL_PURPOSE=926,de.ECI_CHARSET=927,de.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,de.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,de.MACRO_PDF417_TERMINATOR=922,de.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,de.MAX_NUMERIC_CODEWORDS=15,de.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,de.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,de.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,de.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,de.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,de.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,de.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,de.PL=25,de.LL=27,de.AS=27,de.ML=28,de.AL=28,de.PS=29,de.PAL=29,de.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,de.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",de.EXP900=oo()?ve():[],de.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ie{constructor(){}static decode(c,d,f,g,x,v,E){let k=new ao(c,d,f,g,x),P=null,z=null,re;for(let Be=!0;;Be=!1){if(d!=null&&(P=Ie.getRowIndicatorColumn(c,k,d,!0,v,E)),g!=null&&(z=Ie.getRowIndicatorColumn(c,k,g,!1,v,E)),re=Ie.merge(P,z),re==null)throw ee.getNotFoundInstance();let Se=re.getBoundingBox();if(Be&&Se!=null&&(Se.getMinY()<k.getMinY()||Se.getMaxY()>k.getMaxY()))k=Se;else break}re.setBoundingBox(k);let oe=re.getBarcodeColumnCount()+1;re.setDetectionResultColumn(0,P),re.setDetectionResultColumn(oe,z);let we=P!=null;for(let Be=1;Be<=oe;Be++){let Se=we?Be:oe-Be;if(re.getDetectionResultColumn(Se)!==void 0)continue;let Oe;Se===0||Se===oe?Oe=new au(k,Se===0):Oe=new Mo(k),re.setDetectionResultColumn(Se,Oe);let $e=-1,ct=$e;for(let ht=k.getMinY();ht<=k.getMaxY();ht++){if($e=Ie.getStartColumn(re,Se,ht,we),$e<0||$e>k.getMaxX()){if(ct===-1)continue;$e=ct}let At=Ie.detectCodeword(c,k.getMinX(),k.getMaxX(),we,$e,ht,v,E);At!=null&&(Oe.setCodeword(ht,At),ct=$e,v=Math.min(v,At.getWidth()),E=Math.max(E,At.getWidth()))}}return Ie.createDecoderResult(re)}static merge(c,d){if(c==null&&d==null)return null;let f=Ie.getBarcodeMetadata(c,d);if(f==null)return null;let g=ao.merge(Ie.adjustBoundingBox(c),Ie.adjustBoundingBox(d));return new gl(f,g)}static adjustBoundingBox(c){if(c==null)return null;let d=c.getRowHeights();if(d==null)return null;let f=Ie.getMax(d),g=0;for(let E of d)if(g+=f-E,E>0)break;let x=c.getCodewords();for(let E=0;g>0&&x[E]==null;E++)g--;let v=0;for(let E=d.length-1;E>=0&&(v+=f-d[E],!(d[E]>0));E--);for(let E=x.length-1;v>0&&x[E]==null;E--)v--;return c.getBoundingBox().addMissingRows(g,v,c.isLeft())}static getMax(c){let d=-1;for(let f of c)d=Math.max(d,f);return d}static getBarcodeMetadata(c,d){let f;if(c==null||(f=c.getBarcodeMetadata())==null)return d==null?null:d.getBarcodeMetadata();let g;return d==null||(g=d.getBarcodeMetadata())==null?f:f.getColumnCount()!==g.getColumnCount()&&f.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&f.getRowCount()!==g.getRowCount()?null:f}static getRowIndicatorColumn(c,d,f,g,x,v){let E=new au(d,g);for(let k=0;k<2;k++){let P=k===0?1:-1,z=Math.trunc(Math.trunc(f.getX()));for(let re=Math.trunc(Math.trunc(f.getY()));re<=d.getMaxY()&&re>=d.getMinY();re+=P){let oe=Ie.detectCodeword(c,0,c.getWidth(),g,z,re,x,v);oe!=null&&(E.setCodeword(re,oe),g?z=oe.getStartX():z=oe.getEndX())}}return E}static adjustCodewordCount(c,d){let f=d[0][1],g=f.getValue(),x=c.getBarcodeColumnCount()*c.getBarcodeRowCount()-Ie.getNumberOfECCodeWords(c.getBarcodeECLevel());if(g.length===0){if(x<1||x>lr.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();f.setValue(x)}else g[0]!==x&&f.setValue(x)}static createDecoderResult(c){let d=Ie.createBarcodeMatrix(c);Ie.adjustCodewordCount(c,d);let f=new Array,g=new Int32Array(c.getBarcodeRowCount()*c.getBarcodeColumnCount()),x=[],v=new Array;for(let k=0;k<c.getBarcodeRowCount();k++)for(let P=0;P<c.getBarcodeColumnCount();P++){let z=d[k][P+1].getValue(),re=k*c.getBarcodeColumnCount()+P;z.length===0?f.push(re):z.length===1?g[re]=z[0]:(v.push(re),x.push(z))}let E=new Array(x.length);for(let k=0;k<E.length;k++)E[k]=x[k];return Ie.createDecoderResultFromAmbiguousValues(c.getBarcodeECLevel(),g,lr.toIntArray(f),lr.toIntArray(v),E)}static createDecoderResultFromAmbiguousValues(c,d,f,g,x){let v=new Int32Array(g.length),E=100;for(;E-- >0;){for(let k=0;k<v.length;k++)d[g[k]]=x[k][v[k]];try{return Ie.decodeCodewords(d,c,f)}catch(k){if(!(k instanceof p))throw k}if(v.length===0)throw p.getChecksumInstance();for(let k=0;k<v.length;k++)if(v[k]<x[k].length-1){v[k]++;break}else if(v[k]=0,k===v.length-1)throw p.getChecksumInstance()}throw p.getChecksumInstance()}static createBarcodeMatrix(c){let d=Array.from({length:c.getBarcodeRowCount()},()=>new Array(c.getBarcodeColumnCount()+2));for(let g=0;g<d.length;g++)for(let x=0;x<d[g].length;x++)d[g][x]=new Zc;let f=0;for(let g of c.getDetectionResultColumns()){if(g!=null){for(let x of g.getCodewords())if(x!=null){let v=x.getRowNumber();if(v>=0){if(v>=d.length)continue;d[v][f].setValue(x.getValue())}}}f++}return d}static isValidBarcodeColumn(c,d){return d>=0&&d<=c.getBarcodeColumnCount()+1}static getStartColumn(c,d,f,g){let x=g?1:-1,v=null;if(Ie.isValidBarcodeColumn(c,d-x)&&(v=c.getDetectionResultColumn(d-x).getCodeword(f)),v!=null)return g?v.getEndX():v.getStartX();if(v=c.getDetectionResultColumn(d).getCodewordNearby(f),v!=null)return g?v.getStartX():v.getEndX();if(Ie.isValidBarcodeColumn(c,d-x)&&(v=c.getDetectionResultColumn(d-x).getCodewordNearby(f)),v!=null)return g?v.getEndX():v.getStartX();let E=0;for(;Ie.isValidBarcodeColumn(c,d-x);){d-=x;for(let k of c.getDetectionResultColumn(d).getCodewords())if(k!=null)return(g?k.getEndX():k.getStartX())+x*E*(k.getEndX()-k.getStartX());E++}return g?c.getBoundingBox().getMinX():c.getBoundingBox().getMaxX()}static detectCodeword(c,d,f,g,x,v,E,k){x=Ie.adjustCodewordStartColumn(c,d,f,g,x,v);let P=Ie.getModuleBitCount(c,d,f,g,x,v);if(P==null)return null;let z,re=Me.sum(P);if(g)z=x+re;else{for(let Be=0;Be<P.length/2;Be++){let Se=P[Be];P[Be]=P[P.length-1-Be],P[P.length-1-Be]=Se}z=x,x=z-re}if(!Ie.checkCodewordSkew(re,E,k))return null;let oe=xs.getDecodedValue(P),we=lr.getCodeword(oe);return we===-1?null:new io(x,z,Ie.getCodewordBucketNumber(oe),we)}static getModuleBitCount(c,d,f,g,x,v){let E=x,k=new Int32Array(8),P=0,z=g?1:-1,re=g;for(;(g?E<f:E>=d)&&P<k.length;)c.get(E,v)===re?(k[P]++,E+=z):(P++,re=!re);return P===k.length||E===(g?f:d)&&P===k.length-1?k:null}static getNumberOfECCodeWords(c){return 2<<c}static adjustCodewordStartColumn(c,d,f,g,x,v){let E=x,k=g?-1:1;for(let P=0;P<2;P++){for(;(g?E>=d:E<f)&&g===c.get(E,v);){if(Math.abs(x-E)>Ie.CODEWORD_SKEW_SIZE)return x;E+=k}k=-k,g=!g}return E}static checkCodewordSkew(c,d,f){return d-Ie.CODEWORD_SKEW_SIZE<=c&&c<=f+Ie.CODEWORD_SKEW_SIZE}static decodeCodewords(c,d,f){if(c.length===0)throw D.getFormatInstance();let g=1<<d+1,x=Ie.correctErrors(c,f,g);Ie.verifyCodewordCount(c,g);let v=de.decode(c,""+d);return v.setErrorsCorrected(x),v.setErasures(f.length),v}static correctErrors(c,d,f){if(d!=null&&d.length>f/2+Ie.MAX_ERRORS||f<0||f>Ie.MAX_EC_CODEWORDS)throw p.getChecksumInstance();return Ie.errorCorrection.decode(c,f,d)}static verifyCodewordCount(c,d){if(c.length<4)throw D.getFormatInstance();let f=c[0];if(f>c.length)throw D.getFormatInstance();if(f===0)if(d<c.length)c[0]=c.length-d;else throw D.getFormatInstance()}static getBitCountForCodeword(c){let d=new Int32Array(8),f=0,g=d.length-1;for(;!((c&1)!==f&&(f=c&1,g--,g<0));)d[g]++,c>>=1;return d}static getCodewordBucketNumber(c){return c instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(c):this.getCodewordBucketNumber_number(c)}static getCodewordBucketNumber_number(c){return Ie.getCodewordBucketNumber(Ie.getBitCountForCodeword(c))}static getCodewordBucketNumber_Int32Array(c){return(c[0]-c[2]+c[4]-c[6]+9)%9}static toString(c){let d=new Ro;for(let f=0;f<c.length;f++){d.format("Row %2d: ",f);for(let g=0;g<c[f].length;g++){let x=c[f][g];x.getValue().length===0?d.format("        ",null):d.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}d.format("%n")}return d.toString()}}Ie.CODEWORD_SKEW_SIZE=2,Ie.MAX_ERRORS=3,Ie.MAX_EC_CODEWORDS=512,Ie.errorCorrection=new Xc;class Xe{decode(c,d=null){let f=Xe.decode(c,d,!1);if(f==null||f.length===0||f[0]==null)throw ee.getNotFoundInstance();return f[0]}decodeMultiple(c,d=null){try{return Xe.decode(c,d,!0)}catch(f){throw f instanceof D||f instanceof p?ee.getNotFoundInstance():f}}static decode(c,d,f){const g=new Array,x=fr.detectMultiple(c,d,f);for(const v of x.getPoints()){const E=Ie.decode(x.getBits(),v[4],v[5],v[6],v[7],Xe.getMinCodewordWidth(v),Xe.getMaxCodewordWidth(v)),k=new se(E.getText(),E.getRawBytes(),void 0,v,Ae.PDF_417);k.putMetadata(fe.ERROR_CORRECTION_LEVEL,E.getECLevel());const P=E.getOther();P!=null&&k.putMetadata(fe.PDF417_EXTRA_METADATA,P),g.push(k)}return g.map(v=>v)}static getMaxWidth(c,d){return c==null||d==null?0:Math.trunc(Math.abs(c.getX()-d.getX()))}static getMinWidth(c,d){return c==null||d==null?I.MAX_VALUE:Math.trunc(Math.abs(c.getX()-d.getX()))}static getMaxCodewordWidth(c){return Math.floor(Math.max(Math.max(Xe.getMaxWidth(c[0],c[4]),Xe.getMaxWidth(c[6],c[2])*lr.MODULES_IN_CODEWORD/lr.MODULES_IN_STOP_PATTERN),Math.max(Xe.getMaxWidth(c[1],c[5]),Xe.getMaxWidth(c[7],c[3])*lr.MODULES_IN_CODEWORD/lr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(c){return Math.floor(Math.min(Math.min(Xe.getMinWidth(c[0],c[4]),Xe.getMinWidth(c[6],c[2])*lr.MODULES_IN_CODEWORD/lr.MODULES_IN_STOP_PATTERN),Math.min(Xe.getMinWidth(c[1],c[5]),Xe.getMinWidth(c[7],c[3])*lr.MODULES_IN_CODEWORD/lr.MODULES_IN_STOP_PATTERN)))}reset(){}}class st extends u{}st.kind="ReaderException";class Rt{constructor(c,d){this.verbose=c===!0,d&&this.setHints(d)}decode(c,d){return d&&this.setHints(d),this.decodeInternal(c)}decodeWithState(c){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(c)}setHints(c){this.hints=c;const d=!n(c)&&c.get(H.TRY_HARDER)===!0,f=n(c)?null:c.get(H.POSSIBLE_FORMATS),g=new Array;if(!n(f)){const x=f.some(v=>v===Ae.UPC_A||v===Ae.UPC_E||v===Ae.EAN_13||v===Ae.EAN_8||v===Ae.CODABAR||v===Ae.CODE_39||v===Ae.CODE_93||v===Ae.CODE_128||v===Ae.ITF||v===Ae.RSS_14||v===Ae.RSS_EXPANDED);x&&!d&&g.push(new fl(c,this.verbose)),f.includes(Ae.QR_CODE)&&g.push(new Oo),f.includes(Ae.DATA_MATRIX)&&g.push(new Vs),f.includes(Ae.AZTEC)&&g.push(new vt),f.includes(Ae.PDF_417)&&g.push(new Xe),x&&d&&g.push(new fl(c,this.verbose))}g.length===0&&(d||g.push(new fl(c,this.verbose)),g.push(new Oo),g.push(new Vs),g.push(new vt),g.push(new Xe),d&&g.push(new fl(c,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const c of this.readers)c.reset()}decodeInternal(c){if(this.readers===null)throw new st("No readers where selected, nothing can be read.");for(const d of this.readers)try{return d.decode(c,this.hints)}catch(f){if(f instanceof st)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class zt extends Y{constructor(c=null,d=500){const f=new Rt;f.setHints(c),super(f,d)}decodeBitmap(c){return this.reader.decodeWithState(c)}}class pr extends Y{constructor(c=500){super(new Xe,c)}}class Br extends Y{constructor(c=500){super(new Oo,c)}}var qr;(function(te){te[te.ERROR_CORRECTION=0]="ERROR_CORRECTION",te[te.CHARACTER_SET=1]="CHARACTER_SET",te[te.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",te[te.MIN_SIZE=3]="MIN_SIZE",te[te.MAX_SIZE=4]="MAX_SIZE",te[te.MARGIN=5]="MARGIN",te[te.PDF417_COMPACT=6]="PDF417_COMPACT",te[te.PDF417_COMPACTION=7]="PDF417_COMPACTION",te[te.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",te[te.AZTEC_LAYERS=9]="AZTEC_LAYERS",te[te.QR_VERSION=10]="QR_VERSION"})(qr||(qr={}));var Er=qr;class ss{constructor(c){this.field=c,this.cachedGenerators=[],this.cachedGenerators.push(new Te(c,Int32Array.from([1])))}buildGenerator(c){const d=this.cachedGenerators;if(c>=d.length){let f=d[d.length-1];const g=this.field;for(let x=d.length;x<=c;x++){const v=f.multiply(new Te(g,Int32Array.from([1,g.exp(x-1+g.getGeneratorBase())])));d.push(v),f=v}}return d[c]}encode(c,d){if(d===0)throw new m("No error correction bytes");const f=c.length-d;if(f<=0)throw new m("No data bytes provided");const g=this.buildGenerator(d),x=new Int32Array(f);N.arraycopy(c,0,x,0,f);let v=new Te(this.field,x);v=v.multiplyByMonomial(d,1);const k=v.divide(g)[1].getCoefficients(),P=d-k.length;for(let z=0;z<P;z++)c[f+z]=0;N.arraycopy(k,0,c,f+P,k.length)}}class ur{constructor(){}static applyMaskPenaltyRule1(c){return ur.applyMaskPenaltyRule1Internal(c,!0)+ur.applyMaskPenaltyRule1Internal(c,!1)}static applyMaskPenaltyRule2(c){let d=0;const f=c.getArray(),g=c.getWidth(),x=c.getHeight();for(let v=0;v<x-1;v++){const E=f[v];for(let k=0;k<g-1;k++){const P=E[k];P===E[k+1]&&P===f[v+1][k]&&P===f[v+1][k+1]&&d++}}return ur.N2*d}static applyMaskPenaltyRule3(c){let d=0;const f=c.getArray(),g=c.getWidth(),x=c.getHeight();for(let v=0;v<x;v++)for(let E=0;E<g;E++){const k=f[v];E+6<g&&k[E]===1&&k[E+1]===0&&k[E+2]===1&&k[E+3]===1&&k[E+4]===1&&k[E+5]===0&&k[E+6]===1&&(ur.isWhiteHorizontal(k,E-4,E)||ur.isWhiteHorizontal(k,E+7,E+11))&&d++,v+6<x&&f[v][E]===1&&f[v+1][E]===0&&f[v+2][E]===1&&f[v+3][E]===1&&f[v+4][E]===1&&f[v+5][E]===0&&f[v+6][E]===1&&(ur.isWhiteVertical(f,E,v-4,v)||ur.isWhiteVertical(f,E,v+7,v+11))&&d++}return d*ur.N3}static isWhiteHorizontal(c,d,f){d=Math.max(d,0),f=Math.min(f,c.length);for(let g=d;g<f;g++)if(c[g]===1)return!1;return!0}static isWhiteVertical(c,d,f,g){f=Math.max(f,0),g=Math.min(g,c.length);for(let x=f;x<g;x++)if(c[x][d]===1)return!1;return!0}static applyMaskPenaltyRule4(c){let d=0;const f=c.getArray(),g=c.getWidth(),x=c.getHeight();for(let k=0;k<x;k++){const P=f[k];for(let z=0;z<g;z++)P[z]===1&&d++}const v=c.getHeight()*c.getWidth();return Math.floor(Math.abs(d*2-v)*10/v)*ur.N4}static getDataMaskBit(c,d,f){let g,x;switch(c){case 0:g=f+d&1;break;case 1:g=f&1;break;case 2:g=d%3;break;case 3:g=(f+d)%3;break;case 4:g=Math.floor(f/2)+Math.floor(d/3)&1;break;case 5:x=f*d,g=(x&1)+x%3;break;case 6:x=f*d,g=(x&1)+x%3&1;break;case 7:x=f*d,g=x%3+(f+d&1)&1;break;default:throw new m("Invalid mask pattern: "+c)}return g===0}static applyMaskPenaltyRule1Internal(c,d){let f=0;const g=d?c.getHeight():c.getWidth(),x=d?c.getWidth():c.getHeight(),v=c.getArray();for(let E=0;E<g;E++){let k=0,P=-1;for(let z=0;z<x;z++){const re=d?v[E][z]:v[z][E];re===P?k++:(k>=5&&(f+=ur.N1+(k-5)),k=1,P=re)}k>=5&&(f+=ur.N1+(k-5))}return f}}ur.N1=3,ur.N2=3,ur.N3=40,ur.N4=10;class as{constructor(c,d){this.width=c,this.height=d;const f=new Array(d);for(let g=0;g!==d;g++)f[g]=new Uint8Array(c);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(c,d){return this.bytes[d][c]}getArray(){return this.bytes}setNumber(c,d,f){this.bytes[d][c]=f}setBoolean(c,d,f){this.bytes[d][c]=f?1:0}clear(c){for(const d of this.bytes)B.fill(d,c)}equals(c){if(!(c instanceof as))return!1;const d=c;if(this.width!==d.width||this.height!==d.height)return!1;for(let f=0,g=this.height;f<g;++f){const x=this.bytes[f],v=d.bytes[f];for(let E=0,k=this.width;E<k;++E)if(x[E]!==v[E])return!1}return!0}toString(){const c=new J;for(let d=0,f=this.height;d<f;++d){const g=this.bytes[d];for(let x=0,v=this.width;x<v;++x)switch(g[x]){case 0:c.append(" 0");break;case 1:c.append(" 1");break;default:c.append("  ");break}c.append(`
`)}return c.toString()}}class _n{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const c=new J;return c.append(`<<
`),c.append(" mode: "),c.append(this.mode?this.mode.toString():"null"),c.append(`
 ecLevel: `),c.append(this.ecLevel?this.ecLevel.toString():"null"),c.append(`
 version: `),c.append(this.version?this.version.toString():"null"),c.append(`
 maskPattern: `),c.append(this.maskPattern.toString()),this.matrix?(c.append(`
 matrix:
`),c.append(this.matrix.toString())):c.append(`
 matrix: null
`),c.append(`>>
`),c.toString()}setMode(c){this.mode=c}setECLevel(c){this.ecLevel=c}setVersion(c){this.version=c}setMaskPattern(c){this.maskPattern=c}setMatrix(c){this.matrix=c}static isValidMaskPattern(c){return c>=0&&c<_n.NUM_MASK_PATTERNS}}_n.NUM_MASK_PATTERNS=8;class br extends u{}br.kind="WriterException";class $t{constructor(){}static clearMatrix(c){c.clear(255)}static buildMatrix(c,d,f,g,x){$t.clearMatrix(x),$t.embedBasicPatterns(f,x),$t.embedTypeInfo(d,g,x),$t.maybeEmbedVersionInfo(f,x),$t.embedDataBits(c,g,x)}static embedBasicPatterns(c,d){$t.embedPositionDetectionPatternsAndSeparators(d),$t.embedDarkDotAtLeftBottomCorner(d),$t.maybeEmbedPositionAdjustmentPatterns(c,d),$t.embedTimingPatterns(d)}static embedTypeInfo(c,d,f){const g=new _;$t.makeTypeInfoBits(c,d,g);for(let x=0,v=g.getSize();x<v;++x){const E=g.get(g.getSize()-1-x),k=$t.TYPE_INFO_COORDINATES[x],P=k[0],z=k[1];if(f.setBoolean(P,z,E),x<8){const re=f.getWidth()-x-1;f.setBoolean(re,8,E)}else{const oe=f.getHeight()-7+(x-8);f.setBoolean(8,oe,E)}}}static maybeEmbedVersionInfo(c,d){if(c.getVersionNumber()<7)return;const f=new _;$t.makeVersionInfoBits(c,f);let g=6*3-1;for(let x=0;x<6;++x)for(let v=0;v<3;++v){const E=f.get(g);g--,d.setBoolean(x,d.getHeight()-11+v,E),d.setBoolean(d.getHeight()-11+v,x,E)}}static embedDataBits(c,d,f){let g=0,x=-1,v=f.getWidth()-1,E=f.getHeight()-1;for(;v>0;){for(v===6&&(v-=1);E>=0&&E<f.getHeight();){for(let k=0;k<2;++k){const P=v-k;if(!$t.isEmpty(f.get(P,E)))continue;let z;g<c.getSize()?(z=c.get(g),++g):z=!1,d!==255&&ur.getDataMaskBit(d,P,E)&&(z=!z),f.setBoolean(P,E,z)}E+=x}x=-x,E+=x,v-=2}if(g!==c.getSize())throw new br("Not all bits consumed: "+g+"/"+c.getSize())}static findMSBSet(c){return 32-I.numberOfLeadingZeros(c)}static calculateBCHCode(c,d){if(d===0)throw new m("0 polynomial");const f=$t.findMSBSet(d);for(c<<=f-1;$t.findMSBSet(c)>=f;)c^=d<<$t.findMSBSet(c)-f;return c}static makeTypeInfoBits(c,d,f){if(!_n.isValidMaskPattern(d))throw new br("Invalid mask pattern");const g=c.getBits()<<3|d;f.appendBits(g,5);const x=$t.calculateBCHCode(g,$t.TYPE_INFO_POLY);f.appendBits(x,10);const v=new _;if(v.appendBits($t.TYPE_INFO_MASK_PATTERN,15),f.xor(v),f.getSize()!==15)throw new br("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(c,d){d.appendBits(c.getVersionNumber(),6);const f=$t.calculateBCHCode(c.getVersionNumber(),$t.VERSION_INFO_POLY);if(d.appendBits(f,12),d.getSize()!==18)throw new br("should not happen but we got: "+d.getSize())}static isEmpty(c){return c===255}static embedTimingPatterns(c){for(let d=8;d<c.getWidth()-8;++d){const f=(d+1)%2;$t.isEmpty(c.get(d,6))&&c.setNumber(d,6,f),$t.isEmpty(c.get(6,d))&&c.setNumber(6,d,f)}}static embedDarkDotAtLeftBottomCorner(c){if(c.get(8,c.getHeight()-8)===0)throw new br;c.setNumber(8,c.getHeight()-8,1)}static embedHorizontalSeparationPattern(c,d,f){for(let g=0;g<8;++g){if(!$t.isEmpty(f.get(c+g,d)))throw new br;f.setNumber(c+g,d,0)}}static embedVerticalSeparationPattern(c,d,f){for(let g=0;g<7;++g){if(!$t.isEmpty(f.get(c,d+g)))throw new br;f.setNumber(c,d+g,0)}}static embedPositionAdjustmentPattern(c,d,f){for(let g=0;g<5;++g){const x=$t.POSITION_ADJUSTMENT_PATTERN[g];for(let v=0;v<5;++v)f.setNumber(c+v,d+g,x[v])}}static embedPositionDetectionPattern(c,d,f){for(let g=0;g<7;++g){const x=$t.POSITION_DETECTION_PATTERN[g];for(let v=0;v<7;++v)f.setNumber(c+v,d+g,x[v])}}static embedPositionDetectionPatternsAndSeparators(c){const d=$t.POSITION_DETECTION_PATTERN[0].length;$t.embedPositionDetectionPattern(0,0,c),$t.embedPositionDetectionPattern(c.getWidth()-d,0,c),$t.embedPositionDetectionPattern(0,c.getWidth()-d,c);const f=8;$t.embedHorizontalSeparationPattern(0,f-1,c),$t.embedHorizontalSeparationPattern(c.getWidth()-f,f-1,c),$t.embedHorizontalSeparationPattern(0,c.getWidth()-f,c);const g=7;$t.embedVerticalSeparationPattern(g,0,c),$t.embedVerticalSeparationPattern(c.getHeight()-g-1,0,c),$t.embedVerticalSeparationPattern(g,c.getHeight()-g,c)}static maybeEmbedPositionAdjustmentPatterns(c,d){if(c.getVersionNumber()<2)return;const f=c.getVersionNumber()-1,g=$t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let x=0,v=g.length;x!==v;x++){const E=g[x];if(E>=0)for(let k=0;k!==v;k++){const P=g[k];P>=0&&$t.isEmpty(d.get(P,E))&&$t.embedPositionAdjustmentPattern(P-2,E-2,d)}}}}$t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),$t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),$t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),$t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),$t.VERSION_INFO_POLY=7973,$t.TYPE_INFO_POLY=1335,$t.TYPE_INFO_MASK_PATTERN=21522;class nc{constructor(c,d){this.dataBytes=c,this.errorCorrectionBytes=d}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class bn{constructor(){}static calculateMaskPenalty(c){return ur.applyMaskPenaltyRule1(c)+ur.applyMaskPenaltyRule2(c)+ur.applyMaskPenaltyRule3(c)+ur.applyMaskPenaltyRule4(c)}static encode(c,d,f=null){let g=bn.DEFAULT_BYTE_MODE_ENCODING;const x=f!==null&&f.get(Er.CHARACTER_SET)!==void 0;x&&(g=f.get(Er.CHARACTER_SET).toString());const v=this.chooseMode(c,g),E=new _;if(v===rr.BYTE&&(x||bn.DEFAULT_BYTE_MODE_ENCODING!==g)){const ht=T.getCharacterSetECIByName(g);ht!==void 0&&this.appendECI(ht,E)}this.appendModeInfo(v,E);const k=new _;this.appendBytes(c,v,k,g);let P;if(f!==null&&f.get(Er.QR_VERSION)!==void 0){const ht=Number.parseInt(f.get(Er.QR_VERSION).toString(),10);P=Lt.getVersionForNumber(ht);const At=this.calculateBitsNeeded(v,E,k,P);if(!this.willFit(At,P,d))throw new br("Data too big for requested version")}else P=this.recommendVersion(d,v,E,k);const z=new _;z.appendBitArray(E);const re=v===rr.BYTE?k.getSizeInBytes():c.length;this.appendLengthInfo(re,P,v,z),z.appendBitArray(k);const oe=P.getECBlocksForLevel(d),we=P.getTotalCodewords()-oe.getTotalECCodewords();this.terminateBits(we,z);const Be=this.interleaveWithECBytes(z,P.getTotalCodewords(),we,oe.getNumBlocks()),Se=new _n;Se.setECLevel(d),Se.setMode(v),Se.setVersion(P);const Oe=P.getDimensionForVersion(),$e=new as(Oe,Oe),ct=this.chooseMaskPattern(Be,d,P,$e);return Se.setMaskPattern(ct),$t.buildMatrix(Be,d,P,ct,$e),Se.setMatrix($e),Se}static recommendVersion(c,d,f,g){const x=this.calculateBitsNeeded(d,f,g,Lt.getVersionForNumber(1)),v=this.chooseVersion(x,c),E=this.calculateBitsNeeded(d,f,g,v);return this.chooseVersion(E,c)}static calculateBitsNeeded(c,d,f,g){return d.getSize()+c.getCharacterCountBits(g)+f.getSize()}static getAlphanumericCode(c){return c<bn.ALPHANUMERIC_TABLE.length?bn.ALPHANUMERIC_TABLE[c]:-1}static chooseMode(c,d=null){if(T.SJIS.getName()===d&&this.isOnlyDoubleByteKanji(c))return rr.KANJI;let f=!1,g=!1;for(let x=0,v=c.length;x<v;++x){const E=c.charAt(x);if(bn.isDigit(E))f=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)g=!0;else return rr.BYTE}return g?rr.ALPHANUMERIC:f?rr.NUMERIC:rr.BYTE}static isOnlyDoubleByteKanji(c){let d;try{d=M.encode(c,T.SJIS)}catch{return!1}const f=d.length;if(f%2!==0)return!1;for(let g=0;g<f;g+=2){const x=d[g]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(c,d,f,g){let x=Number.MAX_SAFE_INTEGER,v=-1;for(let E=0;E<_n.NUM_MASK_PATTERNS;E++){$t.buildMatrix(c,d,f,E,g);let k=this.calculateMaskPenalty(g);k<x&&(x=k,v=E)}return v}static chooseVersion(c,d){for(let f=1;f<=40;f++){const g=Lt.getVersionForNumber(f);if(bn.willFit(c,g,d))return g}throw new br("Data too big")}static willFit(c,d,f){const g=d.getTotalCodewords(),v=d.getECBlocksForLevel(f).getTotalECCodewords(),E=g-v,k=(c+7)/8;return E>=k}static terminateBits(c,d){const f=c*8;if(d.getSize()>f)throw new br("data bits cannot fit in the QR Code"+d.getSize()+" > "+f);for(let v=0;v<4&&d.getSize()<f;++v)d.appendBit(!1);const g=d.getSize()&7;if(g>0)for(let v=g;v<8;v++)d.appendBit(!1);const x=c-d.getSizeInBytes();for(let v=0;v<x;++v)d.appendBits(v&1?17:236,8);if(d.getSize()!==f)throw new br("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(c,d,f,g,x,v){if(g>=f)throw new br("Block ID too large");const E=c%f,k=f-E,P=Math.floor(c/f),z=P+1,re=Math.floor(d/f),oe=re+1,we=P-re,Be=z-oe;if(we!==Be)throw new br("EC bytes mismatch");if(f!==k+E)throw new br("RS blocks mismatch");if(c!==(re+we)*k+(oe+Be)*E)throw new br("Total bytes mismatch");g<k?(x[0]=re,v[0]=we):(x[0]=oe,v[0]=Be)}static interleaveWithECBytes(c,d,f,g){if(c.getSizeInBytes()!==f)throw new br("Number of bits and data bytes does not match");let x=0,v=0,E=0;const k=new Array;for(let z=0;z<g;++z){const re=new Int32Array(1),oe=new Int32Array(1);bn.getNumDataBytesAndNumECBytesForBlockID(d,f,g,z,re,oe);const we=re[0],Be=new Uint8Array(we);c.toBytes(8*x,Be,0,we);const Se=bn.generateECBytes(Be,oe[0]);k.push(new nc(Be,Se)),v=Math.max(v,we),E=Math.max(E,Se.length),x+=re[0]}if(f!==x)throw new br("Data bytes does not match offset");const P=new _;for(let z=0;z<v;++z)for(const re of k){const oe=re.getDataBytes();z<oe.length&&P.appendBits(oe[z],8)}for(let z=0;z<E;++z)for(const re of k){const oe=re.getErrorCorrectionBytes();z<oe.length&&P.appendBits(oe[z],8)}if(d!==P.getSizeInBytes())throw new br("Interleaving error: "+d+" and "+P.getSizeInBytes()+" differ.");return P}static generateECBytes(c,d){const f=c.length,g=new Int32Array(f+d);for(let v=0;v<f;v++)g[v]=c[v]&255;new ss(Qe.QR_CODE_FIELD_256).encode(g,d);const x=new Uint8Array(d);for(let v=0;v<d;v++)x[v]=g[f+v];return x}static appendModeInfo(c,d){d.appendBits(c.getBits(),4)}static appendLengthInfo(c,d,f,g){const x=f.getCharacterCountBits(d);if(c>=1<<x)throw new br(c+" is bigger than "+((1<<x)-1));g.appendBits(c,x)}static appendBytes(c,d,f,g){switch(d){case rr.NUMERIC:bn.appendNumericBytes(c,f);break;case rr.ALPHANUMERIC:bn.appendAlphanumericBytes(c,f);break;case rr.BYTE:bn.append8BitBytes(c,f,g);break;case rr.KANJI:bn.appendKanjiBytes(c,f);break;default:throw new br("Invalid mode: "+d)}}static getDigit(c){return c.charCodeAt(0)-48}static isDigit(c){const d=bn.getDigit(c);return d>=0&&d<=9}static appendNumericBytes(c,d){const f=c.length;let g=0;for(;g<f;){const x=bn.getDigit(c.charAt(g));if(g+2<f){const v=bn.getDigit(c.charAt(g+1)),E=bn.getDigit(c.charAt(g+2));d.appendBits(x*100+v*10+E,10),g+=3}else if(g+1<f){const v=bn.getDigit(c.charAt(g+1));d.appendBits(x*10+v,7),g+=2}else d.appendBits(x,4),g++}}static appendAlphanumericBytes(c,d){const f=c.length;let g=0;for(;g<f;){const x=bn.getAlphanumericCode(c.charCodeAt(g));if(x===-1)throw new br;if(g+1<f){const v=bn.getAlphanumericCode(c.charCodeAt(g+1));if(v===-1)throw new br;d.appendBits(x*45+v,11),g+=2}else d.appendBits(x,6),g++}}static append8BitBytes(c,d,f){let g;try{g=M.encode(c,f)}catch(x){throw new br(x)}for(let x=0,v=g.length;x!==v;x++){const E=g[x];d.appendBits(E,8)}}static appendKanjiBytes(c,d){let f;try{f=M.encode(c,T.SJIS)}catch(x){throw new br(x)}const g=f.length;for(let x=0;x<g;x+=2){const v=f[x]&255,E=f[x+1]&255,k=v<<8&4294967295|E;let P=-1;if(k>=33088&&k<=40956?P=k-33088:k>=57408&&k<=60351&&(P=k-49472),P===-1)throw new br("Invalid byte sequence");const z=(P>>8)*192+(P&255);d.appendBits(z,13)}}static appendECI(c,d){d.appendBits(rr.ECI.getBits(),4),d.appendBits(c.getValue(),8)}}bn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),bn.DEFAULT_BYTE_MODE_ENCODING=T.UTF8.getName();class Uo{write(c,d,f,g=null){if(c.length===0)throw new m("Found empty contents");if(d<0||f<0)throw new m("Requested dimensions are too small: "+d+"x"+f);let x=An.L,v=Uo.QUIET_ZONE_SIZE;g!==null&&(g.get(Er.ERROR_CORRECTION)!==void 0&&(x=An.fromString(g.get(Er.ERROR_CORRECTION).toString())),g.get(Er.MARGIN)!==void 0&&(v=Number.parseInt(g.get(Er.MARGIN).toString(),10)));const E=bn.encode(c,x,g);return this.renderResult(E,d,f,v)}writeToDom(c,d,f,g,x=null){typeof c=="string"&&(c=document.querySelector(c));const v=this.write(d,f,g,x);c&&c.appendChild(v)}renderResult(c,d,f,g){const x=c.getMatrix();if(x===null)throw new pe;const v=x.getWidth(),E=x.getHeight(),k=v+g*2,P=E+g*2,z=Math.max(d,k),re=Math.max(f,P),oe=Math.min(Math.floor(z/k),Math.floor(re/P)),we=Math.floor((z-v*oe)/2),Be=Math.floor((re-E*oe)/2),Se=this.createSVGElement(z,re);for(let Oe=0,$e=Be;Oe<E;Oe++,$e+=oe)for(let ct=0,ht=we;ct<v;ct++,ht+=oe)if(x.get(ct,Oe)===1){const At=this.createSvgRectElement(ht,$e,oe,oe);Se.appendChild(At)}return Se}createSVGElement(c,d){const f=document.createElementNS(Uo.SVG_NS,"svg");return f.setAttributeNS(null,"height",c.toString()),f.setAttributeNS(null,"width",d.toString()),f}createSvgRectElement(c,d,f,g){const x=document.createElementNS(Uo.SVG_NS,"rect");return x.setAttributeNS(null,"x",c.toString()),x.setAttributeNS(null,"y",d.toString()),x.setAttributeNS(null,"height",f.toString()),x.setAttributeNS(null,"width",g.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Uo.QUIET_ZONE_SIZE=4,Uo.SVG_NS="http://www.w3.org/2000/svg";class Li{encode(c,d,f,g,x){if(c.length===0)throw new m("Found empty contents");if(d!==Ae.QR_CODE)throw new m("Can only encode QR_CODE, but got "+d);if(f<0||g<0)throw new m(`Requested dimensions are too small: ${f}x${g}`);let v=An.L,E=Li.QUIET_ZONE_SIZE;x!==null&&(x.get(Er.ERROR_CORRECTION)!==void 0&&(v=An.fromString(x.get(Er.ERROR_CORRECTION).toString())),x.get(Er.MARGIN)!==void 0&&(E=Number.parseInt(x.get(Er.MARGIN).toString(),10)));const k=bn.encode(c,v,x);return Li.renderResult(k,f,g,E)}static renderResult(c,d,f,g){const x=c.getMatrix();if(x===null)throw new pe;const v=x.getWidth(),E=x.getHeight(),k=v+g*2,P=E+g*2,z=Math.max(d,k),re=Math.max(f,P),oe=Math.min(Math.floor(z/k),Math.floor(re/P)),we=Math.floor((z-v*oe)/2),Be=Math.floor((re-E*oe)/2),Se=new Z(z,re);for(let Oe=0,$e=Be;Oe<E;Oe++,$e+=oe)for(let ct=0,ht=we;ct<v;ct++,ht+=oe)x.get(ct,Oe)===1&&Se.setRegion(ht,$e,oe,oe);return Se}}Li.QUIET_ZONE_SIZE=4;class lo{encode(c,d,f,g,x){let v;switch(d){case Ae.QR_CODE:v=new Li;break;default:throw new m("No encoder available for format "+d)}return v.encode(c,d,f,g,x)}}class Qa extends X{constructor(c,d,f,g,x,v,E,k){if(super(v,E),this.yuvData=c,this.dataWidth=d,this.dataHeight=f,this.left=g,this.top=x,g+v>d||x+E>f)throw new m("Crop rectangle does not fit within image data.");k&&this.reverseHorizontal(v,E)}getRow(c,d){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const f=this.getWidth();(d==null||d.length<f)&&(d=new Uint8ClampedArray(f));const g=(c+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,g,d,0,f),d}getMatrix(){const c=this.getWidth(),d=this.getHeight();if(c===this.dataWidth&&d===this.dataHeight)return this.yuvData;const f=c*d,g=new Uint8ClampedArray(f);let x=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return N.arraycopy(this.yuvData,x,g,0,f),g;for(let v=0;v<d;v++){const E=v*c;N.arraycopy(this.yuvData,x,g,E,c),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(c,d,f,g){return new Qa(this.yuvData,this.dataWidth,this.dataHeight,this.left+c,this.top+d,f,g,!1)}renderThumbnail(){const c=this.getWidth()/Qa.THUMBNAIL_SCALE_FACTOR,d=this.getHeight()/Qa.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(c*d),g=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let v=0;v<d;v++){const E=v*c;for(let k=0;k<c;k++){const P=g[x+k*Qa.THUMBNAIL_SCALE_FACTOR]&255;f[E+k]=4278190080|P*65793}x+=this.dataWidth*Qa.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/Qa.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Qa.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(c,d){const f=this.yuvData;for(let g=0,x=this.top*this.dataWidth+this.left;g<d;g++,x+=this.dataWidth){const v=x+c/2;for(let E=x,k=x+c-1;E<v;E++,k--){const P=f[E];f[E]=f[k],f[k]=P}}}invert(){return new K(this)}}Qa.THUMBNAIL_SCALE_FACTOR=2;class sc extends X{constructor(c,d,f,g,x,v,E){if(super(d,f),this.dataWidth=g,this.dataHeight=x,this.left=v,this.top=E,c.BYTES_PER_ELEMENT===4){const k=d*f,P=new Uint8ClampedArray(k);for(let z=0;z<k;z++){const re=c[z],oe=re>>16&255,we=re>>7&510,Be=re&255;P[z]=(oe+we+Be)/4&255}this.luminances=P}else this.luminances=c;if(g===void 0&&(this.dataWidth=d),x===void 0&&(this.dataHeight=f),v===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+d>this.dataWidth||this.top+f>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(c,d){if(c<0||c>=this.getHeight())throw new m("Requested row is outside the image: "+c);const f=this.getWidth();(d==null||d.length<f)&&(d=new Uint8ClampedArray(f));const g=(c+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,g,d,0,f),d}getMatrix(){const c=this.getWidth(),d=this.getHeight();if(c===this.dataWidth&&d===this.dataHeight)return this.luminances;const f=c*d,g=new Uint8ClampedArray(f);let x=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return N.arraycopy(this.luminances,x,g,0,f),g;for(let v=0;v<d;v++){const E=v*c;N.arraycopy(this.luminances,x,g,E,c),x+=this.dataWidth}return g}isCropSupported(){return!0}crop(c,d,f,g){return new sc(this.luminances,f,g,this.dataWidth,this.dataHeight,this.left+c,this.top+d)}invert(){return new K(this)}}class xl extends T{static forName(c){return this.getCharacterSetECIByName(c)}}class ws{}ws.ISO_8859_1=T.ISO8859_1;class Qo{isCompact(){return this.compact}setCompact(c){this.compact=c}getSize(){return this.size}setSize(c){this.size=c}getLayers(){return this.layers}setLayers(c){this.layers=c}getCodeWords(){return this.codeWords}setCodeWords(c){this.codeWords=c}getMatrix(){return this.matrix}setMatrix(c){this.matrix=c}}class Ho{static singletonList(c){return[c]}static min(c,d){return c.sort(d)[0]}}class lu{constructor(c){this.previous=c}getPrevious(){return this.previous}}class Vo extends lu{constructor(c,d,f){super(c),this.value=d,this.bitCount=f}appendTo(c,d){c.appendBits(this.value,this.bitCount)}add(c,d){return new Vo(this,c,d)}addBinaryShift(c,d){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Vo(this,c,d)}toString(){let c=this.value&(1<<this.bitCount)-1;return c|=1<<this.bitCount,"<"+I.toBinaryString(c|1<<this.bitCount).substring(1)+">"}}class Xs extends Vo{constructor(c,d,f){super(c,0,0),this.binaryShiftStart=d,this.binaryShiftByteCount=f}appendTo(c,d){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(c.appendBits(31,5),this.binaryShiftByteCount>62?c.appendBits(this.binaryShiftByteCount-31,16):f===0?c.appendBits(Math.min(this.binaryShiftByteCount,31),5):c.appendBits(this.binaryShiftByteCount-31,5)),c.appendBits(d[this.binaryShiftStart+f],8)}addBinaryShift(c,d){return new Xs(this,c,d)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function xf(te,c,d){return new Xs(te,c,d)}function Ko(te,c,d){return new Vo(te,c,d)}const wf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Tn=0,ba=1,la=2,cu=3,Ys=4,Au=new Vo(null,0,0),ca=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ha(te){for(let c of te)B.fill(c,-1);return te[Tn][Ys]=0,te[ba][Ys]=0,te[ba][Tn]=28,te[cu][Ys]=0,te[la][Ys]=0,te[la][Tn]=15,te}const ac=Ha(B.createInt32Array(6,6));class ks{constructor(c,d,f,g){this.token=c,this.mode=d,this.binaryShiftByteCount=f,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(c,d){let f=this.bitCount,g=this.token;if(c!==this.mode){let v=ca[this.mode][c];g=Ko(g,v&65535,v>>16),f+=v>>16}let x=c===la?4:5;return g=Ko(g,d,x),new ks(g,c,0,f+x)}shiftAndAppend(c,d){let f=this.token,g=this.mode===la?4:5;return f=Ko(f,ac[this.mode][c],g),f=Ko(f,d,5),new ks(f,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(c){let d=this.token,f=this.mode,g=this.bitCount;if(this.mode===Ys||this.mode===la){let E=ca[f][Tn];d=Ko(d,E&65535,E>>16),g+=E>>16,f=Tn}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,v=new ks(d,f,this.binaryShiftByteCount+1,g+x);return v.binaryShiftByteCount===2078&&(v=v.endBinaryShift(c+1)),v}endBinaryShift(c){if(this.binaryShiftByteCount===0)return this;let d=this.token;return d=xf(d,c-this.binaryShiftByteCount,this.binaryShiftByteCount),new ks(d,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(c){let d=this.bitCount+(ca[this.mode][c.mode]>>16);return this.binaryShiftByteCount<c.binaryShiftByteCount?d+=ks.calculateBinaryShiftCost(c)-ks.calculateBinaryShiftCost(this):this.binaryShiftByteCount>c.binaryShiftByteCount&&c.binaryShiftByteCount>0&&(d+=10),d<=c.bitCount}toBitArray(c){let d=[];for(let g=this.endBinaryShift(c.length).token;g!==null;g=g.getPrevious())d.unshift(g);let f=new _;for(const g of d)g.appendTo(f,c);return f}toString(){return V.format("%s bits=%d bytes=%d",wf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(c){return c.binaryShiftByteCount>62?21:c.binaryShiftByteCount>31?20:c.binaryShiftByteCount>0?10:0}}ks.INITIAL_STATE=new ks(Au,Tn,0,0);function ic(te){const c=V.getCharCode(" "),d=V.getCharCode("."),f=V.getCharCode(",");te[Tn][c]=1;const g=V.getCharCode("Z"),x=V.getCharCode("A");for(let oe=x;oe<=g;oe++)te[Tn][oe]=oe-x+2;te[ba][c]=1;const v=V.getCharCode("z"),E=V.getCharCode("a");for(let oe=E;oe<=v;oe++)te[ba][oe]=oe-E+2;te[la][c]=1;const k=V.getCharCode("9"),P=V.getCharCode("0");for(let oe=P;oe<=k;oe++)te[la][oe]=oe-P+2;te[la][f]=12,te[la][d]=13;const z=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let oe=0;oe<z.length;oe++)te[cu][V.getCharCode(z[oe])]=oe;const re=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let oe=0;oe<re.length;oe++)V.getCharCode(re[oe])>0&&(te[Ys][V.getCharCode(re[oe])]=oe);return te}const tA=ic(B.createInt32Array(5,256));class Pi{constructor(c){this.text=c}encode(){const c=V.getCharCode(" "),d=V.getCharCode(`
`);let f=Ho.singletonList(ks.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let v,E=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case V.getCharCode("\r"):v=E===d?2:0;break;case V.getCharCode("."):v=E===c?3:0;break;case V.getCharCode(","):v=E===c?4:0;break;case V.getCharCode(":"):v=E===c?5:0;break;default:v=0}v>0?(f=Pi.updateStateListForPair(f,x,v),x++):f=this.updateStateListForChar(f,x)}return Ho.min(f,(x,v)=>x.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(c,d){const f=[];for(let g of c)this.updateStateForChar(g,d,f);return Pi.simplifyStates(f)}updateStateForChar(c,d,f){let g=this.text[d]&255,x=tA[c.getMode()][g]>0,v=null;for(let E=0;E<=Ys;E++){let k=tA[E][g];if(k>0){if(v==null&&(v=c.endBinaryShift(d)),!x||E===c.getMode()||E===la){const P=v.latchAndAppend(E,k);f.push(P)}if(!x&&ac[c.getMode()][E]>=0){const P=v.shiftAndAppend(E,k);f.push(P)}}}if(c.getBinaryShiftByteCount()>0||tA[c.getMode()][g]===0){let E=c.addBinaryShiftChar(d);f.push(E)}}static updateStateListForPair(c,d,f){const g=[];for(let x of c)this.updateStateForPair(x,d,f,g);return this.simplifyStates(g)}static updateStateForPair(c,d,f,g){let x=c.endBinaryShift(d);if(g.push(x.latchAndAppend(Ys,f)),c.getMode()!==Ys&&g.push(x.shiftAndAppend(Ys,f)),f===3||f===4){let v=x.latchAndAppend(la,16-f).latchAndAppend(la,1);g.push(v)}if(c.getBinaryShiftByteCount()>0){let v=c.addBinaryShiftChar(d).addBinaryShiftChar(d+1);g.push(v)}}static simplifyStates(c){let d=[];for(const f of c){let g=!0;for(const x of d){if(x.isBetterThanOrEqualTo(f)){g=!1;break}f.isBetterThanOrEqualTo(x)&&(d=d.filter(v=>v!==x))}g&&d.push(f)}return d}}class ir{constructor(){}static encodeBytes(c){return ir.encode(c,ir.DEFAULT_EC_PERCENT,ir.DEFAULT_AZTEC_LAYERS)}static encode(c,d,f){let g=new Pi(c).encode(),x=I.truncDivision(g.getSize()*d,100)+11,v=g.getSize()+x,E,k,P,z,re;if(f!==ir.DEFAULT_AZTEC_LAYERS){if(E=f<0,k=Math.abs(f),k>(E?ir.MAX_NB_BITS_COMPACT:ir.MAX_NB_BITS))throw new m(V.format("Illegal value %s for layers",f));P=ir.totalBitsInLayer(k,E),z=ir.WORD_SIZE[k];let At=P-P%z;if(re=ir.stuffBits(g,z),re.getSize()+x>At)throw new m("Data to large for user specified layer");if(E&&re.getSize()>z*64)throw new m("Data to large for user specified layer")}else{z=0,re=null;for(let At=0;;At++){if(At>ir.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(E=At<=3,k=E?At+1:At,P=ir.totalBitsInLayer(k,E),v>P)continue;(re==null||z!==ir.WORD_SIZE[k])&&(z=ir.WORD_SIZE[k],re=ir.stuffBits(g,z));let Qr=P-P%z;if(!(E&&re.getSize()>z*64)&&re.getSize()+x<=Qr)break}}let oe=ir.generateCheckWords(re,P,z),we=re.getSize()/z,Be=ir.generateModeMessage(E,k,we),Se=(E?11:14)+k*4,Oe=new Int32Array(Se),$e;if(E){$e=Se;for(let At=0;At<Oe.length;At++)Oe[At]=At}else{$e=Se+1+2*I.truncDivision(I.truncDivision(Se,2)-1,15);let At=I.truncDivision(Se,2),Qr=I.truncDivision($e,2);for(let Cr=0;Cr<At;Cr++){let Ca=Cr+I.truncDivision(Cr,15);Oe[At-Cr-1]=Qr-Ca-1,Oe[At+Cr]=Qr+Ca+1}}let ct=new Z($e);for(let At=0,Qr=0;At<k;At++){let Cr=(k-At)*4+(E?9:12);for(let Ca=0;Ca<Cr;Ca++){let Di=Ca*2;for(let Na=0;Na<2;Na++)oe.get(Qr+Di+Na)&&ct.set(Oe[At*2+Na],Oe[At*2+Ca]),oe.get(Qr+Cr*2+Di+Na)&&ct.set(Oe[At*2+Ca],Oe[Se-1-At*2-Na]),oe.get(Qr+Cr*4+Di+Na)&&ct.set(Oe[Se-1-At*2-Na],Oe[Se-1-At*2-Ca]),oe.get(Qr+Cr*6+Di+Na)&&ct.set(Oe[Se-1-At*2-Ca],Oe[At*2+Na])}Qr+=Cr*8}if(ir.drawModeMessage(ct,E,$e,Be),E)ir.drawBullsEye(ct,I.truncDivision($e,2),5);else{ir.drawBullsEye(ct,I.truncDivision($e,2),7);for(let At=0,Qr=0;At<I.truncDivision(Se,2)-1;At+=15,Qr+=16)for(let Cr=I.truncDivision($e,2)&1;Cr<$e;Cr+=2)ct.set(I.truncDivision($e,2)-Qr,Cr),ct.set(I.truncDivision($e,2)+Qr,Cr),ct.set(Cr,I.truncDivision($e,2)-Qr),ct.set(Cr,I.truncDivision($e,2)+Qr)}let ht=new Qo;return ht.setCompact(E),ht.setSize($e),ht.setLayers(k),ht.setCodeWords(we),ht.setMatrix(ct),ht}static drawBullsEye(c,d,f){for(let g=0;g<f;g+=2)for(let x=d-g;x<=d+g;x++)c.set(x,d-g),c.set(x,d+g),c.set(d-g,x),c.set(d+g,x);c.set(d-f,d-f),c.set(d-f+1,d-f),c.set(d-f,d-f+1),c.set(d+f,d-f),c.set(d+f,d-f+1),c.set(d+f,d+f-1)}static generateModeMessage(c,d,f){let g=new _;return c?(g.appendBits(d-1,2),g.appendBits(f-1,6),g=ir.generateCheckWords(g,28,4)):(g.appendBits(d-1,5),g.appendBits(f-1,11),g=ir.generateCheckWords(g,40,4)),g}static drawModeMessage(c,d,f,g){let x=I.truncDivision(f,2);if(d)for(let v=0;v<7;v++){let E=x-3+v;g.get(v)&&c.set(E,x-5),g.get(v+7)&&c.set(x+5,E),g.get(20-v)&&c.set(E,x+5),g.get(27-v)&&c.set(x-5,E)}else for(let v=0;v<10;v++){let E=x-5+v+I.truncDivision(v,5);g.get(v)&&c.set(E,x-7),g.get(v+10)&&c.set(x+7,E),g.get(29-v)&&c.set(E,x+7),g.get(39-v)&&c.set(x-7,E)}}static generateCheckWords(c,d,f){let g=c.getSize()/f,x=new ss(ir.getGF(f)),v=I.truncDivision(d,f),E=ir.bitsToWords(c,f,v);x.encode(E,v-g);let k=d%f,P=new _;P.appendBits(0,k);for(const z of Array.from(E))P.appendBits(z,f);return P}static bitsToWords(c,d,f){let g=new Int32Array(f),x,v;for(x=0,v=c.getSize()/d;x<v;x++){let E=0;for(let k=0;k<d;k++)E|=c.get(x*d+k)?1<<d-k-1:0;g[x]=E}return g}static getGF(c){switch(c){case 4:return Qe.AZTEC_PARAM;case 6:return Qe.AZTEC_DATA_6;case 8:return Qe.AZTEC_DATA_8;case 10:return Qe.AZTEC_DATA_10;case 12:return Qe.AZTEC_DATA_12;default:throw new m("Unsupported word size "+c)}}static stuffBits(c,d){let f=new _,g=c.getSize(),x=(1<<d)-2;for(let v=0;v<g;v+=d){let E=0;for(let k=0;k<d;k++)(v+k>=g||c.get(v+k))&&(E|=1<<d-1-k);(E&x)===x?(f.appendBits(E&x,d),v--):E&x?f.appendBits(E,d):(f.appendBits(E|1,d),v--)}return f}static totalBitsInLayer(c,d){return((d?88:112)+16*c)*c}}ir.DEFAULT_EC_PERCENT=33,ir.DEFAULT_AZTEC_LAYERS=0,ir.MAX_NB_BITS=32,ir.MAX_NB_BITS_COMPACT=4,ir.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class uu{encode(c,d,f,g){return this.encodeWithHints(c,d,f,g,null)}encodeWithHints(c,d,f,g,x){let v=ws.ISO_8859_1,E=ir.DEFAULT_EC_PERCENT,k=ir.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(Er.CHARACTER_SET)&&(v=xl.forName(x.get(Er.CHARACTER_SET).toString())),x.has(Er.ERROR_CORRECTION)&&(E=I.parseInt(x.get(Er.ERROR_CORRECTION).toString())),x.has(Er.AZTEC_LAYERS)&&(k=I.parseInt(x.get(Er.AZTEC_LAYERS).toString()))),uu.encodeLayers(c,d,f,g,v,E,k)}static encodeLayers(c,d,f,g,x,v,E){if(d!==Ae.AZTEC)throw new m("Can only encode AZTEC, but got "+d);let k=ir.encode(V.getBytes(c,x),v,E);return uu.renderResult(k,f,g)}static renderResult(c,d,f){let g=c.getMatrix();if(g==null)throw new pe;let x=g.getWidth(),v=g.getHeight(),E=Math.max(d,x),k=Math.max(f,v),P=Math.min(E/x,k/v),z=(E-x*P)/2,re=(k-v*P)/2,oe=new Z(E,k);for(let we=0,Be=re;we<v;we++,Be+=P)for(let Se=0,Oe=z;Se<x;Se++,Oe+=P)g.get(Se,we)&&oe.setRegion(Oe,Be,P,P);return oe}}r.AbstractExpandedDecoder=ui,r.ArgumentException=h,r.ArithmeticException=De,r.AztecCode=Qo,r.AztecCodeReader=vt,r.AztecCodeWriter=uu,r.AztecDecoder=qe,r.AztecDetector=Ot,r.AztecDetectorResult=Nt,r.AztecEncoder=ir,r.AztecHighLevelEncoder=Pi,r.AztecPoint=gt,r.BarcodeFormat=Ae,r.Binarizer=b,r.BinaryBitmap=w,r.BitArray=_,r.BitMatrix=Z,r.BitSource=rs,r.BrowserAztecCodeReader=Hr,r.BrowserBarcodeReader=Kd,r.BrowserCodeReader=Y,r.BrowserDatamatrixCodeReader=Gc,r.BrowserMultiFormatReader=zt,r.BrowserPDF417Reader=pr,r.BrowserQRCodeReader=Br,r.BrowserQRCodeSvgWriter=Uo,r.CharacterSetECI=T,r.ChecksumException=p,r.Code128Reader=Ge,r.Code39Reader=jt,r.DataMatrixDecodedBitStreamParser=so,r.DataMatrixReader=Vs,r.DecodeHintType=H,r.DecoderResult=je,r.DefaultGridSampler=xt,r.DetectorResult=Wt,r.EAN13Reader=Bt,r.EncodeHintType=Er,r.Exception=u,r.FormatException=D,r.GenericGF=Qe,r.GenericGFPoly=Te,r.GlobalHistogramBinarizer=q,r.GridSampler=pt,r.GridSamplerInstance=It,r.HTMLCanvasElementLuminanceSource=le,r.HybridBinarizer=W,r.ITFReader=Ht,r.IllegalArgumentException=m,r.IllegalStateException=pe,r.InvertedLuminanceSource=K,r.LuminanceSource=X,r.MathUtils=Me,r.MultiFormatOneDReader=fl,r.MultiFormatReader=Rt,r.MultiFormatWriter=lo,r.NotFoundException=ee,r.OneDReader=Gt,r.PDF417DecodedBitStreamParser=de,r.PDF417DecoderErrorCorrection=Xc,r.PDF417Reader=Xe,r.PDF417ResultMetadata=iu,r.PerspectiveTransform=dt,r.PlanarYUVLuminanceSource=Qa,r.QRCodeByteMatrix=as,r.QRCodeDataMask=va,r.QRCodeDecodedBitStreamParser=Pn,r.QRCodeDecoderErrorCorrectionLevel=An,r.QRCodeDecoderFormatInformation=Ks,r.QRCodeEncoder=bn,r.QRCodeEncoderQRCode=_n,r.QRCodeMaskUtil=ur,r.QRCodeMatrixUtil=$t,r.QRCodeMode=rr,r.QRCodeReader=Oo,r.QRCodeVersion=Lt,r.QRCodeWriter=Li,r.RGBLuminanceSource=sc,r.RSS14Reader=Fn,r.RSSExpandedReader=nt,r.ReaderException=st,r.ReedSolomonDecoder=Pe,r.ReedSolomonEncoder=ss,r.ReedSolomonException=Ne,r.Result=se,r.ResultMetadataType=fe,r.ResultPoint=We,r.StringUtils=V,r.UnsupportedOperationException=G,r.VideoInputDevice=ne,r.WhiteRectangleDetector=at,r.WriterException=br,r.ZXingArrays=B,r.ZXingCharset=xl,r.ZXingInteger=I,r.ZXingStandardCharsets=ws,r.ZXingStringBuilder=J,r.ZXingStringEncoding=M,r.ZXingSystem=N,r.createAbstractExpandedDecoder=gf,Object.defineProperty(r,"__esModule",{value:!0})})})(J3,J3.exports);var Yn=J3.exports;const vbe=n1(Yn),bbe=DL({__proto__:null,default:vbe},[Yn]);var aL=function(){function e(t,r,n){if(this.formatMap=new Map([[Dt.QR_CODE,Yn.BarcodeFormat.QR_CODE],[Dt.AZTEC,Yn.BarcodeFormat.AZTEC],[Dt.CODABAR,Yn.BarcodeFormat.CODABAR],[Dt.CODE_39,Yn.BarcodeFormat.CODE_39],[Dt.CODE_93,Yn.BarcodeFormat.CODE_93],[Dt.CODE_128,Yn.BarcodeFormat.CODE_128],[Dt.DATA_MATRIX,Yn.BarcodeFormat.DATA_MATRIX],[Dt.MAXICODE,Yn.BarcodeFormat.MAXICODE],[Dt.ITF,Yn.BarcodeFormat.ITF],[Dt.EAN_13,Yn.BarcodeFormat.EAN_13],[Dt.EAN_8,Yn.BarcodeFormat.EAN_8],[Dt.PDF_417,Yn.BarcodeFormat.PDF_417],[Dt.RSS_14,Yn.BarcodeFormat.RSS_14],[Dt.RSS_EXPANDED,Yn.BarcodeFormat.RSS_EXPANDED],[Dt.UPC_A,Yn.BarcodeFormat.UPC_A],[Dt.UPC_E,Yn.BarcodeFormat.UPC_E],[Dt.UPC_EAN_EXTENSION,Yn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!bbe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var s=this.createZXingFormats(t),i=new Map;i.set(Yn.DecodeHintType.POSSIBLE_FORMATS,s),i.set(Yn.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,s){try{n(r.decode(t))}catch(i){s(i)}})},e.prototype.decode=function(t){var r=new Yn.MultiFormatReader(this.verbose,this.hints),n=new Yn.HTMLCanvasElementLuminanceSource(t),s=new Yn.BinaryBitmap(new Yn.HybridBinarizer(n)),i=r.decode(s);return{text:i.text,format:bV.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,s){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,s=t;n<s.length;n++){var i=s[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Cbe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,t||[])).next())})},Nbe=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},iL=function(){function e(t,r,n){if(this.formatMap=new Map([[Dt.QR_CODE,"qr_code"],[Dt.AZTEC,"aztec"],[Dt.CODABAR,"codabar"],[Dt.CODE_39,"code_39"],[Dt.CODE_93,"code_93"],[Dt.CODE_128,"code_128"],[Dt.DATA_MATRIX,"data_matrix"],[Dt.ITF,"itf"],[Dt.EAN_13,"ean_13"],[Dt.EAN_8,"ean_8"],[Dt.PDF_417,"pdf417"],[Dt.UPC_A,"upc_a"],[Dt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Cbe(this,void 0,void 0,function(){var r,n;return Nbe(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=s.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:bV.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,s=0,i=t;s<i.length;s++){var o=i[s],l=o.boundingBox.width*o.boundingBox.height;l>n&&(n=l,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,s=t;n<s.length;n++){var i=s[n];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,s){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),oL=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,t||[])).next())})},lL=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Bbe=function(){function e(t,r,n,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&iL.isSupported()?(this.primaryDecoder=new iL(t,n,s),this.secondaryDecoder=new aL(t,n,s)):this.primaryDecoder=new aL(t,n,s)}return e.prototype.decodeAsync=function(t){return oL(this,void 0,void 0,function(){var r;return lL(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return oL(this,void 0,void 0,function(){var r,n;return lL(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(n=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var s=n[r];t+=s}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),p6=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N2=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,t||[])).next())})},B2=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},NV=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),Sbe=function(e){p6(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var s={advanced:[n]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(NV),Ebe=function(e){p6(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(Sbe),jbe=function(e){p6(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(NV),Ibe=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Ebe(this.track)},e.prototype.torchFeature=function(){return new jbe(this.track)},e}(),Fbe=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,s),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,s){return N2(this,void 0,void 0,function(){var i,o;return B2(this,function(l){switch(l.label){case 0:return i=new e(t,r,s),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:l.sent(),l.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return N2(this,void 0,void 0,function(){return B2(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var s=t.mediaStream.getVideoTracks(),i=s.length,o=0;t.mediaStream.getVideoTracks().forEach(function(l){t.mediaStream.removeTrack(l),l.stop(),++o,o>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Ibe(this.getFirstTrackOrFail())},e}(),kbe=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return N2(this,void 0,void 0,function(){return B2(this,function(s){return[2,Fbe.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return N2(this,void 0,void 0,function(){var r,n;return B2(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=s.sent(),[2,new e(n)]}})})},e}(),cL=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,t||[])).next())})},AL=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},_be=function(){function e(){}return e.failIfNotSupported=function(){return cL(this,void 0,void 0,function(){return AL(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return cL(this,void 0,void 0,function(){return AL(this,function(r){return[2,kbe.create(t)]})})},e}(),Tbe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(m){o(m)}}function A(h){try{u(n.throw(h))}catch(m){o(m)}}function u(h){h.done?i(h.value):s(h.value).then(l,A)}u((n=n.apply(e,t||[])).next())})},Lbe=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(h){return A([u,h])}}function A(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(h){u=[6,h],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Pbe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=l0.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=l0.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Tbe(this,void 0,void 0,function(){var t,r,n,s,i,o,l;return Lbe(this,function(A){switch(A.label){case 0:return t=function(u){for(var h=u.getVideoTracks(),m=0,w=h;m<w.length;m++){var p=w[m];p.enabled=!1,p.stop(),u.removeTrack(p)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=A.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=A.sent(),s=[],i=0,o=n;i<o.length;i++)l=o[i],l.kind==="videoinput"&&s.push({id:l.deviceId,label:l.label});return t(r),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(i){for(var o=[],l=0,A=i;l<A.length;l++){var u=A[l];u.kind==="video"&&o.push({id:u.id,label:u.label})}t(o)},s=MediaStreamTrack;s.getSources(n)})},e}(),Ns;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ns||(Ns={}));var Dbe=function(){function e(){this.state=Ns.NOT_STARTED,this.onGoingTransactionNewState=Ns.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ns.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ns.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ns.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ns.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ns.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ns.UNKNOWN:throw"Transition from unknown is not allowed";case Ns.NOT_STARTED:this.failIfNewStateIs(t,[Ns.PAUSED]);break;case Ns.SCANNING:break;case Ns.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,s=r;n<s.length;n++){var i=s[n];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Obe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ns.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ns.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ns.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ns.PAUSED},e}(),Rbe=function(){function e(){}return e.create=function(){return new Obe(new Dbe)},e}(),Mbe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xo=function(e){Mbe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(xbe),Ube=function(){function e(t,r){this.logger=r,this.fps=xo.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=xo.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?CV.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!mA(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Qbe=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new ybe(this.verbose),this.qrcode=new Bbe(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Rbe.create()}return e.prototype.start=function(t,r,n,s){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;s?o=s:o=this.verbose?this.logger.log:function(){};var l=Ube.create(r,this.logger);this.clearElement();var A=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?A=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=A,h=document.getElementById(this.elementId);h.clientWidth?h.clientWidth:xo.DEFAULT_WIDTH,h.style.position="relative",this.shouldScan=!0,this.element=h;var m=this,w=this.stateManagerProxy.startTransition(Ns.SCANNING);return new Promise(function(p,b){var N=u?l.videoConstraints:m.createVideoConstraints(t);if(!N){w.cancel(),b("videoConstraints should be defined");return}var j={};(!u||l.aspectRatio)&&(j.aspectRatio=l.aspectRatio);var y={onRenderSurfaceReady:function(B,I){m.setupUi(B,I,l),m.isScanning=!0,m.foreverScan(l,n,o)}};_be.failIfNotSupported().then(function(B){B.create(N).then(function(I){return I.render(i.element,j,y).then(function(_){m.renderedCamera=_,w.execute(),p(null)}).catch(function(_){w.cancel(),b(_)})}).catch(function(I){w.cancel(),b(l0.errorGettingUserMedia(I))})}).catch(function(B){w.cancel(),b(l0.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ns.PAUSED),this.showPausedState(),(mA(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Ns.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Ns.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var i=document.getElementById(xo.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),n(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),r.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(mA(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var l=o.width,A=o.height,u=document.getElementById(n.elementId),h=u.clientWidth?u.clientWidth:xo.DEFAULT_WIDTH,m=Math.max(u.clientHeight?u.clientHeight:A,xo.FILE_SCAN_MIN_HEIGHT),w=n.computeCanvasDrawConfig(l,A,h,m);if(r){var p=n.createCanvasElement(h,m,"qr-canvas-visible");p.style.display="inline-block",u.appendChild(p);var b=p.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=h,b.canvas.height=m,b.drawImage(o,0,0,l,A,w.x,w.y,w.width,w.height)}var N=xo.FILE_SCAN_HIDDEN_CANVAS_PADDING,j=Math.max(o.width,w.width),y=Math.max(o.height,w.height),B=j+2*N,I=y+2*N,_=n.createCanvasElement(B,I);u.appendChild(_);var O=_.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=B,O.canvas.height=I,O.drawImage(o,0,0,l,A,N,N,j,y);try{n.qrcode.decodeRobustlyAsync(_).then(function(H){s(sL.createFromQrcodeResult(H))}).catch(i)}catch(H){i("QR code parse error, error = ".concat(H))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Pbe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!CV.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Dt.QR_CODE,Dt.AZTEC,Dt.CODABAR,Dt.CODE_39,Dt.CODE_93,Dt.CODE_128,Dt.DATA_MATRIX,Dt.MAXICODE,Dt.ITF,Dt.EAN_13,Dt.EAN_8,Dt.PDF_417,Dt.RSS_14,Dt.RSS_EXPANDED,Dt.UPC_A,Dt.UPC_E,Dt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],s=0,i=t.formatsToSupport;s<i.length;s++){var o=i[s];gbe(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(mA(t))return!0;if(!mA(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(mA(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return mA(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var s=this,i=n.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,r,i),l=function(u){if(u<xo.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(xo.MIN_QR_BOX_SIZE,"px.")},A=function(u){return u>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};l(o.width),l(o.height),o.width=A(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var s=mA(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(s);var i=this.toQrdimensions(t,r,s);i.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&i.height<=r,l={x:0,y:0,width:t,height:r},A=o?this.getShadedRegionBounds(t,r,i):l,u=this.createCanvasElement(A.width,A.height),h={willReadFrequently:!0},m=u.getContext("2d",h);m.canvas.width=A.width,m.canvas.height=A.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,t,r,i),this.createScannerPausedUiElement(this.element),this.qrRegion=A,this.context=m,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=l0.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,sL.createFromQrcodeResult(s)),n.possiblyUpdateShaders(!0),!0}).catch(function(s){n.possiblyUpdateShaders(!1);var i=l0.codeParseError(s);return r(i,wbe.createFrom(i)),!1})},e.prototype.foreverScan=function(t,r,n){var s=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,l=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var A=this.qrRegion.width*o,u=this.qrRegion.height*l,h=this.qrRegion.x*o,m=this.qrRegion.y*l;this.context.drawImage(i,h,m,A,u,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,r,n)},s.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(p){!p&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(r,n).finally(function(){w()})):w()}).catch(function(p){s.logger.logError("Error happend while scanning context",p),w()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",s={user:!0,environment:!0},i="exact",o=function(b){if(b in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(b,"'")},l=Object.keys(t);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var A=Object.keys(t)[0];if(A!==r&&A!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(A===r){var u=t.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(i in u){if(o(u["".concat(i)]))return{facingMode:{exact:u["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var h=typeof u;throw"Invalid type of 'facingMode' = ".concat(h)}}else{var m=t.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(i in m)return{deviceId:{exact:m["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var w=typeof m;throw"Invalid type of 'deviceId' = ".concat(w)}}}var p=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(p)},e.prototype.computeCanvasDrawConfig=function(t,r,n,s){if(t<=n&&r<=s){var i=(n-t)/2,o=(s-r)/2;return{x:i,y:o,width:t,height:r}}else{var l=t,A=r;return t>n&&(r=n/t*r,t=n),r>s&&(t=s/r*t,r=s),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(A)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?xo.BORDER_SHADER_MATCH_COLOR:xo.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var s=t,i=r,o=document.createElement("canvas");return o.style.width="".concat(s,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=mA(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,s){if(!(r-s.width<1||n-s.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(r-s.width)/2,l=(n-s.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(xo.SHADED_REGION_ELEMENT_ID),r-s.width<11||n-s.height<11)this.hasBorderShaders=!1;else{var A=5,u=40;this.insertShaderBorders(i,u,A,-A,null,0,!0),this.insertShaderBorders(i,u,A,-A,null,0,!1),this.insertShaderBorders(i,u,A,null,-A,0,!0),this.insertShaderBorders(i,u,A,null,-A,0,!1),this.insertShaderBorders(i,A,u+A,-A,null,-A,!0),this.insertShaderBorders(i,A,u+A,null,-A,-A,!0),this.insertShaderBorders(i,A,u+A,-A,null,-A,!1),this.insertShaderBorders(i,A,u+A,null,-A,-A,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,r,n,s,i,o,l){var A=document.createElement("div");A.style.position="absolute",A.style.backgroundColor=xo.BORDER_SHADER_DEFAULT_COLOR,A.style.width="".concat(r,"px"),A.style.height="".concat(n,"px"),s!==null&&(A.style.top="".concat(s,"px")),i!==null&&(A.style.bottom="".concat(i,"px")),l?A.style.left="".concat(o,"px"):A.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(A),t.appendChild(A)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),uL;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(uL||(uL={}));const Hbe=({onScanSuccess:e,onClose:t,isOpen:r})=>{const n=C.useRef(null),[s,i]=C.useState(!1),[o,l]=C.useState(null),[A,u]=C.useState(null),[h,m]=C.useState([]),[w,p]=C.useState(!1),[b,N]=C.useState("environment"),j=C.useRef("qr-reader-"+Math.random().toString(36).substring(2)),y=C.useRef(!1),B=typeof window.cordova<"u",I=async()=>{var M,V;if(!B)return!0;try{const J=(V=(M=window.cordova)==null?void 0:M.plugins)==null?void 0:V.permissions;if(!J)return!0;const Z=J.CAMERA||"android.permission.CAMERA";return await new Promise(ee=>{typeof J.hasPermission=="function"?J.hasPermission(Z,q=>{q&&q.hasPermission?ee(!0):J.requestPermission(Z,W=>ee(!!(W&&W.hasPermission)),()=>ee(!1))},()=>{J.requestPermission(Z,q=>ee(!!(q&&q.hasPermission)),()=>ee(!1))}):typeof J.checkPermission=="function"?J.checkPermission(Z,q=>{q&&q.hasPermission?ee(!0):J.requestPermission(Z,W=>ee(!!(W&&W.hasPermission)),()=>ee(!1))},()=>{J.requestPermission(Z,q=>ee(!!(q&&q.hasPermission)),()=>ee(!1))}):ee(!0)})}catch(J){return console.warn("requestCameraPermission failed, allowing fallback:",J),!0}},_=async()=>{if(!await I()){l("Camera permission is required to scan QR codes. Please allow it when prompted or enable it in Settings.");return}try{window.cordova.plugins.barcodeScanner.scan(V=>{V.cancelled||e(V.text),t()},V=>{console.error("Cordova scan failed:",V),l("Scanning failed: "+((V==null?void 0:V.message)||V))},{showTorchButton:!0,prompt:"Place a QR code inside the scan area",orientation:"portrait"})}catch(V){console.error("startCordovaScanner error:",V),l("Failed to start native scanner.")}},O=async()=>{try{const V=(await navigator.mediaDevices.enumerateDevices()).filter(J=>J.kind==="videoinput");return m(V),V}catch(M){return console.error("Error getting cameras:",M),l("Could not access camera devices."),[]}},H=async(M,V)=>{try{if(y.current)return;if(y.current=!0,l(null),i(!0),!await I()){i(!1),y.current=!1,l("Camera permission denied. Please grant camera access in app settings.");return}if(n.current){try{await n.current.stop()}catch{}try{await n.current.clear()}catch{}n.current=null}const Z=document.getElementById(j.current);Z&&(Z.innerHTML="");let ee=0;for(;!document.getElementById(j.current)&&ee<5;)await new Promise(requestAnimationFrame),ee++;const q=new Qbe(j.current);n.current=q;const W={fps:10,qrbox:{width:250,height:250},aspectRatio:1};await q.start(V?{facingMode:V}:M||{facingMode:b},W,X=>{console.log("Barcode scanned:",X),e(X)},X=>{const K=typeof X=="string"?X:X&&X.message?X.message:"";K&&!K.includes("No QR code found")&&console.warn("QR Code scan error:",X)}),p(!0),i(!1),y.current=!1}catch(J){console.error("Scanner error:",J),l(J.message||"Failed to start camera"),i(!1),p(!1),y.current=!1}},D=async()=>{try{if(n.current){try{await n.current.stop()}catch{}try{await n.current.clear()}catch{}n.current=null}p(!1)}catch(M){console.error("Error stopping scanner:",M)}},L=async()=>{y.current||(w?await D():await H(A||void 0))},T=async()=>{if(!h.length||y.current)return;const V=(h.findIndex(Z=>Z.deviceId===A)+1)%h.length,J=h[V].deviceId;u(J),await H(J)},G=async()=>{if(y.current)return;const M=b==="environment"?"user":"environment";N(M),u(null),await H(void 0,M)};return C.useEffect(()=>(r&&(B?(async()=>{if(!await I()){l("Camera permission is required to scan QR codes.");return}_()})():(async()=>{if(!await I()){l("Camera permission is required to scan QR codes.");return}const V=await O();V.length>0?(u(V[0].deviceId),await H(V[0].deviceId)):l("No cameras found on this device.")})()),()=>{B||D()}),[r]),!r||B?null:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[a.jsx(Vee,{className:"w-5 h-5 mr-2 text-blue-600"}),"Scan Library Barcode"]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Xl,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[o?a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 flex-1 flex flex-col items-center justify-center",children:[a.jsx(Ei,{className:"w-12 h-12 text-red-500 mb-3"}),a.jsx("p",{className:"text-red-700 text-center mb-4",children:o}),a.jsxs("button",{onClick:()=>{l(null),H(A||void 0)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[a.jsx(cI,{className:"w-4 h-4 mr-2"}),"Try Again"]})]}):a.jsxs("div",{className:"relative flex-1 bg-black rounded-lg overflow-hidden",children:[a.jsx("div",{id:j.current,className:"w-full h-full",style:{minHeight:"300px"}}),s&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg shadow-lg flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-blue-500 mr-2"}),a.jsx("span",{children:"Initializing camera..."})]})})]}),a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Position the library's barcode within the scanning area"}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx("button",{onClick:L,className:"p-3 bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors",title:w?"Turn off camera":"Turn on camera",children:w?a.jsx(ste,{className:"w-6 h-6"}):a.jsx(ate,{className:"w-6 h-6"})}),a.jsx("button",{onClick:G,className:"p-3 bg-indigo-100 text-indigo-700 rounded-full hover:bg-indigo-200 transition-colors",title:`Flip to ${b==="environment"?"front":"back"} camera`,children:a.jsx(BN,{className:"w-6 h-6"})}),h.length>1&&a.jsx("button",{onClick:T,className:"p-3 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",title:"Switch camera",children:a.jsx(cI,{className:"w-6 h-6"})})]})]})]}),a.jsx("div",{className:"p-4 border-t bg-gray-50",children:a.jsx("button",{onClick:t,className:"w-full px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close Scanner"})})]})})},Vbe=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0);C.useEffect(()=>{(async()=>{try{n(!0);const o=await Re.getAnnouncements();t(o)}catch(o){console.error("Error fetching announcements:",o),Ee.error("Failed to load announcements")}finally{n(!1)}})()},[]);const s=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?a.jsx("div",{className:"flex justify-center items-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[a.jsx(Jh,{className:"h-6 w-6 text-blue-600"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Announcements"})]}),e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Jh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No announcements"}),a.jsx("p",{className:"text-gray-500",children:"No announcements available at the moment."})]}):a.jsx("div",{className:"space-y-4",children:e.map(i=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"mb-3",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title})}),a.jsx("div",{className:"text-gray-700 mb-4 whitespace-pre-wrap",children:i.content}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Wi,{className:"h-4 w-4"}),a.jsxs("span",{children:["By ",i.created_by_name]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(qs,{className:"h-4 w-4"}),a.jsx("span",{children:s(i.created_at)})]}),a.jsx("div",{className:"flex items-center space-x-1",children:i.is_global?a.jsxs(a.Fragment,{children:[a.jsx(dv,{className:"h-4 w-4"}),a.jsx("span",{children:"Global"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Rl,{className:"h-4 w-4"}),a.jsx("span",{children:"Branch Specific"})]})}),(i.start_date||i.end_date)&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ei,{className:"h-4 w-4"}),a.jsxs("span",{children:[i.start_date&&`From ${s(i.start_date)}`,i.start_date&&i.end_date&&" ",i.end_date&&`Until ${s(i.end_date)}`]})]})]})]},i.id))})]})},Kbe=e=>{switch(e){case"Approved":return"bg-green-100 text-green-800";case"Not Approved":return"bg-red-100 text-red-800";case"Done":return"bg-blue-100 text-blue-800";case"Not Done":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},BV=()=>{const[e,t]=C.useState([]),[r,n]=C.useState(!0),[s,i]=C.useState(null),o=Ur();return C.useEffect(()=>{(async()=>{try{n(!0);const u=(await Re.getQueries()).sort((h,m)=>m.upvotes-h.upvotes);t(u)}catch(A){i("Failed to load queries"),console.error("Error fetching queries:",A)}finally{n(!1)}})()},[]),r?a.jsx("div",{className:"p-6 text-center",children:"Loading..."}):s?a.jsx("div",{className:"p-6 text-center text-red-500",children:s}):a.jsx("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Public Queries"}),a.jsx("button",{onClick:()=>o("/queries/new"),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg shadow-sm hover:bg-indigo-700 transition-colors",children:"Ask a Question"})]}),a.jsx("div",{className:"space-y-4",children:e.map(l=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-5 cursor-pointer hover:shadow-md transition-shadow border border-gray-200",onClick:()=>o(`/queries/${l.id}`),children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:l.title}),a.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${Kbe(l.status)}`,children:l.status})]}),a.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Posted by ",a.jsx("span",{className:"font-medium text-gray-700",children:l.studentName})," on ",new Date(l.createdAt).toLocaleDateString()]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:l.description}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 pt-3 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(DS,{className:"w-4 h-4 text-green-500"}),l.upvotes]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(PS,{className:"w-4 h-4 text-red-500"}),l.downvotes]})]}),a.jsx("span",{className:"text-xs text-gray-400",children:new Date(l.updatedAt).toLocaleDateString()!==new Date(l.createdAt).toLocaleDateString()?`Updated on ${new Date(l.updatedAt).toLocaleDateString()}`:""})]})]},l.id))})]})})},Wbe=()=>{const e=Ur(),[t,r]=C.useState(null),[n,s]=C.useState(!0),[i,o]=C.useState(!1),[l,A]=C.useState([]),[u,h]=C.useState([]),[m,w]=C.useState([]),[p,b]=C.useState([]),[N,j]=C.useState("overview"),[y,B]=C.useState("monthly"),[I,_]=C.useState(new Date),[O,H]=C.useState(!1),[D,L]=C.useState(null);C.useState(!1);const T=async()=>{try{const K=await Re.getAttendanceStatus();L(K)}catch(K){console.error("Error fetching attendance status:",K),ar.error("Failed to load attendance status")}},G=C.useCallback(async()=>{if(t){H(!0);try{const K={view:y};y==="monthly"?(K.month=I.getMonth()+1,K.year=I.getFullYear()):K.date=I.toISOString().split("T")[0],console.log("Fetching attendance with params:",K);const le=await Re.getStudentAttendanceHistory(K);A(le.attendance||[])}catch(K){ar.error("Failed to fetch attendance records."),console.error("Error fetching attendance data:",K)}finally{H(!1)}}},[t,y,I]);C.useEffect(()=>{(async()=>{try{s(!0);const[le,ne,U]=await Promise.all([Re.getStudentProfile(),Re.getStudentMembershipHistory(),Re.getStudentTransactions()]);le&&le.student&&r(le.student),ne&&(ne.membershipHistory&&h(ne.membershipHistory),ne.monthlySummary&&w(ne.monthlySummary)),U&&U.transactions&&b(U.transactions),await T()}catch(le){ar.error("Failed to load student data."),console.error("Error fetching student data:",le)}finally{s(!1)}})()},[]),C.useEffect(()=>{N==="attendance"&&t&&G()},[N,t,G]);const M=async K=>{o(!1);try{const le=await Re.markAttendanceWithQR(K);le&&le.message&&(ar.success(le.message),await G())}catch(le){ar.error("Failed to mark attendance."),console.error("Error marking attendance with QR:",le)}},V=async()=>{try{await Ta("/student-auth/logout",{method:"POST"}),e("/student-login")}catch(K){console.error("Logout error:",K),e("/student-login")}},J=K=>{switch(K.toLowerCase()){case"active":case"paid":return"text-green-600 bg-green-100";case"expired":return"text-red-600 bg-red-100";case"inactive":return"text-gray-600 bg-gray-100";default:return"text-yellow-600 bg-yellow-100"}},Z=K=>{switch(K.toLowerCase()){case"active":return a.jsx(Sc,{className:"w-4 h-4"});case"expired":return a.jsx(pd,{className:"w-4 h-4"});default:return a.jsx(Ei,{className:"w-4 h-4"})}},ee=K=>{const le=typeof K=="string"?parseFloat(K):K;return le==null||isNaN(le)?"0.00":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(le)},q=K=>{if(!K)return"N/A";const le=new Date(K);return isNaN(le.getTime())?"Invalid Date":le.toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})},W=K=>{const le=new Date(K),ne=new Date,U=le.getTime()-ne.getTime(),Y=Math.ceil(U/(1e3*60*60*24));return Y<=30&&Y>0},X=K=>new Date(K)<new Date;return n?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 text-center",children:"Loading your dashboard..."})]})}):t?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 py-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:a.jsx(Wi,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Dashboard"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome back, ",t.name,"!"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 overflow-x-auto whitespace-nowrap w-full sm:w-auto",children:[a.jsx(QC,{studentId:t.id,studentName:t.name,className:"mr-2 shrink-0",id:"invoice",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Student Details"}),a.jsxs("p",{className:"text-gray-600",children:["Generated on: ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",t.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",t.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",t.phone]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Registration #:"})," ",t.registrationNumber]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Membership Status"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${t.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Start Date:"})," ",new Date(t.membershipStart).toLocaleDateString()]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"End Date:"})," ",new Date(t.membershipEnd).toLocaleDateString()]})]})]})]}),l.length>0&&a.jsxs("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Attendance"}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First In"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Out"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.slice(0,5).map(K=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(K.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.firstIn?new Date(K.firstIn).toLocaleTimeString():"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:K.lastOut?new Date(K.lastOut).toLocaleTimeString():"N/A"})]},K.id))})]})})]}),a.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:a.jsx("p",{children:"This is an auto-generated report. For any discrepancies, please contact support."})})]})}),a.jsxs("button",{onClick:V,className:"shrink-0 flex items-center space-x-2 bg-red-100 text-red-700 px-3 py-2 sm:px-4 rounded-lg hover:bg-red-200 transition-colors text-sm",children:[a.jsx(FS,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.membershipEnd&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg border ${X(t.membershipEnd)?"bg-red-50 border-red-200 text-red-800":W(t.membershipEnd)?"bg-yellow-50 border-yellow-200 text-yellow-800":"bg-green-50 border-green-200 text-green-800"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[X(t.membershipEnd)?a.jsx(pd,{className:"w-5 h-5"}):W(t.membershipEnd)?a.jsx(Ei,{className:"w-5 h-5"}):a.jsx(Sc,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:X(t.membershipEnd)?"Membership Expired":W(t.membershipEnd)?"Membership Expiring Soon":"Membership Active"})]}),a.jsx("p",{className:"mt-1 text-sm",children:X(t.membershipEnd)?`Your membership expired on ${q(t.membershipEnd)}. Please renew to continue library services.`:W(t.membershipEnd)?`Your membership expires on ${q(t.membershipEnd)}. Please renew soon.`:`Your membership is active until ${q(t.membershipEnd)}.`})]}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[a.jsx(IA,{className:"w-5 h-5"}),a.jsx("span",{children:"Scan QR Code"})]}),a.jsxs("button",{onClick:()=>j("attendance"),className:"flex items-center space-x-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[a.jsx(Zn,{className:"w-5 h-5"}),a.jsx("span",{children:"View Attendance"})]}),a.jsxs("button",{onClick:()=>j("membership"),className:"flex items-center space-x-2 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors shadow-sm",children:[a.jsx(Wm,{className:"w-5 h-5"}),a.jsx("span",{children:"Membership History"})]})]})]})}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto whitespace-nowrap px-1",children:[{id:"overview",label:"Overview",icon:Wi},{id:"attendance",label:"Attendance",icon:Zn},{id:"membership",label:"Membership History",icon:Wm},{id:"announcements",label:"Announcements",icon:Jh},{id:"queries",label:"Public Queries",icon:Wee}].map(({id:K,label:le,icon:ne})=>a.jsxs("button",{onClick:()=>j(K),className:`shrink-0 flex items-center gap-2 py-3 px-2 sm:px-1 border-b-2 font-medium text-sm ${N===K?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(ne,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:le})]},K))})})}),N==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(Wi,{className:"w-5 h-5"}),a.jsx("span",{children:"Profile Information"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Wi,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.name})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(li,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Phone Number"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.phone})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Gl,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Email Address"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.email})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(IS,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Registration Number"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.registrationNumber})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Rl,{className:"w-5 h-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Address"}),a.jsx("p",{className:"font-medium text-gray-900",children:t.address})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[Z(t.status),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(t.status)}`,children:t.status})]})]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(qs,{className:"w-5 h-5"}),a.jsx("span",{children:"Current Membership"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Membership Start Date"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:q(t.membershipStart)})]})}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Membership End Date"}),a.jsx("p",{className:`text-2xl font-bold ${X(t.membershipEnd)?"text-red-600":W(t.membershipEnd)?"text-yellow-600":"text-green-600"}`,children:q(t.membershipEnd)})]})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Hy,{className:"w-5 h-5"}),a.jsx("span",{children:"Invoices"})]}),a.jsx(QC,{studentId:t.id,studentName:t.name,className:"text-sm",variant:"text"})]})}),a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:'View and download your membership invoices. Click the "Download Invoice" button above to get the latest invoice.'}),u.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Invoices"}),a.jsx("ul",{className:"divide-y divide-gray-200",children:u.slice(0,3).map((K,le)=>a.jsxs("li",{className:"py-3 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[q(K.membershipStart)," - ",q(K.membershipEnd)]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[ee(K.amountPaid)," paid  ",q(K.changed_at)]})]}),a.jsx(QC,{studentId:t.id,studentName:t.name,className:"text-xs",variant:"text"})]},le))}),u.length>3&&a.jsx("button",{onClick:()=>j("membership"),className:"mt-2 text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"View all invoices"})]})]})})]})]}),N==="attendance"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(Zn,{className:"w-5 h-5"}),a.jsx("span",{children:"Today's Status"})]})}),a.jsx("div",{className:"p-6",children:D?a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-3 h-3 rounded-full animate-pulse ${D.currentStatus==="checked_in"?"bg-green-500":"bg-gray-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:D.currentStatus==="checked_in"?"Currently Checked In":"Currently Checked Out"}),a.jsx("p",{className:"text-sm text-gray-500",children:D.hasMarkedToday?`First check-in today at ${D.firstIn?new Date(D.firstIn).toLocaleTimeString("en-IN"):"N/A"}`:"No attendance recorded yet today."})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Next Action"}),a.jsxs("p",{className:"text-lg font-semibold text-blue-600 capitalize",children:["Scan to Check ",D.nextAction]})]})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{children:"Loading today's status..."})})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(Wm,{className:"w-5 h-5"}),a.jsx("span",{children:"Attendance History"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center bg-gray-200 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>B("daily"),className:`px-3 py-1 text-sm font-medium rounded-md ${y==="daily"?"bg-white text-gray-800 shadow-sm":"bg-transparent text-gray-600"}`,children:"Daily"}),a.jsx("button",{onClick:()=>B("monthly"),className:`px-3 py-1 text-sm font-medium rounded-md ${y==="monthly"?"bg-white text-gray-800 shadow-sm":"bg-transparent text-gray-600"}`,children:"Monthly"})]}),y==="daily"&&a.jsx("input",{type:"date",value:I.toISOString().split("T")[0],onChange:K=>_(new Date(K.target.value)),className:"p-1.5 border border-gray-300 rounded-lg text-sm"}),y==="monthly"&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>_(K=>new Date(K.getFullYear(),K.getMonth()-1,1)),className:"p-2 rounded-l-lg bg-gray-200 hover:bg-gray-300",children:a.jsx(Ud,{className:"w-4 h-4"})}),a.jsx("input",{type:"month",value:`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}`,onChange:K=>_(new Date(K.target.value)),className:"p-1.5 border-t border-b border-gray-300 text-sm w-36 text-center"}),a.jsx("button",{onClick:()=>_(K=>new Date(K.getFullYear(),K.getMonth()+1,1)),className:"p-2 rounded-r-lg bg-gray-200 hover:bg-gray-300",children:a.jsx(gr,{className:"w-4 h-4"})})]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:O?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"First Check-in"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Check-out"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Hours"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.length>0?l.map(K=>{const le=K.firstIn?new Date(K.firstIn):null,ne=K.lastOut?new Date(K.lastOut):null;let U="",Y="Absent",se="bg-red-100 text-red-800";if(le)if(ne){const ce=ne.getTime()-le.getTime();if(ce>=0){const Ae=Math.floor(ce/36e5),ge=Math.floor(ce%36e5/6e4);U=`${Ae}h ${ge}m`,Y="Completed",se="bg-green-100 text-green-800"}else U="Error",Y="Error"}else U="Ongoing",Y="Present",se="bg-yellow-100 text-yellow-800";return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q(K.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${se}`,children:Y})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:le?le.toLocaleTimeString("en-IN"):"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ne?ne.toLocaleTimeString("en-IN"):"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:U})]},K.id)}):a.jsx("tr",{children:a.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(Zn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No attendance records found for this period."})]})})})]})})]})]}),N==="membership"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 border-b",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(Wm,{className:"w-5 h-5"}),a.jsx("span",{children:"Membership History"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Complete payment and membership details"})]}),a.jsx("div",{className:"p-4 sm:p-6",children:u.length>0?a.jsx("div",{className:"space-y-6",children:u.map(K=>a.jsxs("div",{className:"border rounded-xl p-4 sm:p-6 hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4",children:[a.jsx("div",{className:"mb-2 sm:mb-0",children:a.jsxs("p",{className:"text-lg font-semibold text-gray-900 mb-1",children:[q(K.membershipStart)," - ",q(K.membershipEnd)]})}),a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${J(K.status)} self-start`,children:K.status})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(iI,{className:"w-4 h-4 text-blue-600"}),a.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Total Fee"})]}),a.jsx("p",{className:"text-xl font-bold text-blue-900",children:ee(K.totalFee)})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Sc,{className:"w-4 h-4 text-green-600"}),a.jsx("p",{className:"text-sm font-medium text-green-800",children:"Total Paid"})]}),a.jsx("p",{className:"text-xl font-bold text-green-900",children:ee(K.amountPaid)})]}),a.jsxs("div",{className:`rounded-lg p-4 ${K.dueAmount>0?"bg-red-50":"bg-green-50"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Ei,{className:`w-4 h-4 ${K.dueAmount>0?"text-red-600":"text-green-600"}`}),a.jsx("p",{className:`text-sm font-medium ${K.dueAmount>0?"text-red-800":"text-green-800"}`,children:"Due Amount"})]}),a.jsx("p",{className:`text-xl font-bold ${K.dueAmount>0?"text-red-900":"text-green-900"}`,children:ee(K.dueAmount)})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Pw,{className:"w-4 h-4 text-purple-600"}),a.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Payment Status"})]}),a.jsx("p",{className:`text-sm font-semibold ${K.dueAmount>0?"text-red-600":"text-green-600"}`,children:K.dueAmount>0?"Pending":"Completed"})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center space-x-2",children:[a.jsx(iI,{className:"w-4 h-4"}),a.jsx("span",{children:"Payment Breakdown"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Cash Payment"})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ee(K.cash||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Online Payment"})]}),a.jsx("span",{className:"text-sm font-semibold text-gray-900",children:ee(K.online||0)})]})]})]}),(K.remark||K.shift_id||K.seat_id)&&a.jsxs("div",{className:"border-t pt-4 mt-4",children:[a.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center space-x-2",children:[a.jsx(Hy,{className:"w-4 h-4"}),a.jsx("span",{children:"Additional Details"})]}),a.jsxs("div",{className:"space-y-2",children:[K.shift_id&&a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500 w-20",children:"Shift ID:"}),a.jsx("span",{className:"text-sm text-gray-900",children:K.shift_id})]}),K.seat_id&&a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500 w-20",children:"Seat ID:"}),a.jsx("span",{className:"text-sm text-gray-900",children:K.seat_id})]}),K.remark&&a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start",children:[a.jsx("span",{className:"text-sm font-medium text-gray-500 w-20 flex-shrink-0",children:"Remark:"}),a.jsx("span",{className:"text-sm text-gray-900 mt-1 sm:mt-0",children:K.remark})]})]})]})]},K.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wm,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-gray-500",children:"No membership history found"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Your membership records will appear here"})]})})]}),N==="transactions"&&a.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[a.jsx(Pw,{className:"w-5 h-5"}),a.jsx("span",{children:"Transaction History"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.length>0?p.map(K=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:q(K.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K.type.toLowerCase()==="payment"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:K.type})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:ee(K.amount)})]},K.id)):a.jsx("tr",{children:a.jsxs("td",{colSpan:3,className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(Pw,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No transactions found"})]})})})]})})]}),N==="announcements"&&a.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:a.jsx("div",{className:"p-6",children:a.jsx(Vbe,{branchId:t==null?void 0:t.branchId})})}),N==="queries"&&a.jsx(BV,{})]}),i&&a.jsx(Hbe,{isOpen:i,onScanSuccess:M,onClose:()=>o(!1)})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center",children:[a.jsx(pd,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Could not load profile"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please try refreshing the page or contact support."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})})},Gbe=()=>{const e=Ur();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-br from-blue-400 to-indigo-400 rounded-full opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-yellow-400 to-orange-400 rounded-full opacity-10 animate-spin",style:{animationDuration:"20s"}})]}),a.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:a.jsxs("div",{className:"max-w-7xl w-full",children:[a.jsx("div",{className:"lg:hidden mb-4 sm:mb-6",children:a.jsxs("div",{className:"bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-5 text-center relative overflow-hidden mx-2 sm:mx-0",children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-center mb-3",children:[a.jsx("span",{className:"text-2xl sm:text-3xl mr-2 animate-bounce",children:""}),a.jsx("h3",{className:"text-lg sm:text-xl font-black text-white tracking-wide drop-shadow-lg",children:"Durga Puja Festival Offer"}),a.jsx("span",{className:"text-2xl sm:text-3xl ml-2 animate-bounce",children:""})]}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-orange-900 rounded-full px-4 py-2 font-black text-base sm:text-lg shadow-xl mb-3",children:a.jsx("span",{children:"UP TO 35% OFF"})}),a.jsx("p",{className:"text-white font-bold text-sm sm:text-base mb-3 drop-shadow-md",children:"Transform your library management this festive season"}),a.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-full px-4 py-2 font-black text-sm animate-pulse shadow-xl",children:" LIMITED TIME OFFER - GRAB NOW! "})]})]})}),a.jsx("div",{className:"hidden lg:block mb-8",children:a.jsx(Tg,{variant:"minimal",clickable:!1})}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:gap-12 items-start justify-center",children:[a.jsxs("div",{className:"flex-1 w-full max-w-4xl mx-auto px-2 sm:px-4 lg:px-0",children:[a.jsx("div",{className:"text-center mb-8 sm:mb-12 lg:mb-16",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center mb-6 sm:mb-8",children:[a.jsxs("div",{className:"relative mb-4 sm:mb-0",children:[a.jsx(Uee,{className:"h-12 w-12 sm:h-14 sm:w-14 lg:h-16 lg:w-16 text-transparent bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text sm:mr-4 lg:mr-6",style:{WebkitBackgroundClip:"text"}}),a.jsx(tte,{className:"absolute -top-1 -right-1 sm:-top-2 sm:-right-2 h-4 w-4 sm:h-5 sm:w-5 lg:h-6 lg:w-6 text-yellow-400 animate-bounce"})]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent tracking-tight",children:"HAVENN"}),a.jsx("div",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-bold text-gray-700 mt-2 lg:mt-3",children:"Library Management System"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 max-w-5xl mx-auto mb-8 sm:mb-12 lg:mb-16",children:[a.jsxs(Mn,{className:"relative overflow-hidden bg-gradient-to-br from-white via-blue-50 to-purple-50 hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-blue-300 transform hover:scale-105",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/10 to-purple-600/10"}),a.jsxs(Pa,{className:"text-center relative z-10",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full blur-lg opacity-30"}),a.jsx("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-full",children:a.jsx(ci,{className:"h-8 w-8 text-white"})})]})}),a.jsx(Da,{className:"text-xl font-black bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:" Library Owner / Staff"}),a.jsx(Mc,{className:"text-gray-700 font-medium text-sm",children:"Complete library ecosystem management with advanced analytics"})]}),a.jsxs(Es,{className:"space-y-3 sm:space-y-4 relative z-10 p-4 sm:p-6",children:[a.jsx(Jt,{onClick:()=>e("/owner-login"),className:"w-full bg-gradient-to-r from-blue-600 via-purple-600 to-blue-700 hover:from-blue-700 hover:via-purple-700 hover:to-blue-800 text-white font-bold py-3 sm:py-4 text-sm sm:text-base rounded-xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:" Owner Login"}),a.jsx(Jt,{onClick:()=>e("/owner-register"),variant:"outline",className:"w-full border-2 border-blue-600 text-blue-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 font-bold py-3 sm:py-4 text-sm sm:text-base rounded-xl transition-all duration-300 transform hover:scale-105",children:" Register New Library"}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs sm:text-sm text-gray-600 font-medium",children:[a.jsx(Vy,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600"}),a.jsx("span",{children:"Secure & Multi-tenant"})]})]})]}),a.jsxs(Mn,{className:"relative overflow-hidden bg-gradient-to-br from-white via-green-50 to-emerald-50 hover:shadow-2xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-green-300 transform hover:scale-105",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-600/10 to-emerald-600/10"}),a.jsxs(Pa,{className:"text-center relative z-10",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600 to-emerald-600 rounded-full blur-lg opacity-30"}),a.jsx("div",{className:"relative bg-gradient-to-r from-green-600 to-emerald-600 p-3 rounded-full",children:a.jsx(HO,{className:"h-8 w-8 text-white"})})]})}),a.jsx(Da,{className:"text-xl font-black bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:" Student Access"}),a.jsx(Mc,{className:"text-gray-700 font-medium text-sm",children:"Smart attendance tracking and personalized dashboard"})]}),a.jsxs(Es,{className:"space-y-3 sm:space-y-4 relative z-10 p-4 sm:p-6",children:[a.jsx(Jt,{onClick:()=>e("/student-login"),className:"w-full bg-gradient-to-r from-green-600 via-emerald-600 to-green-700 hover:from-green-700 hover:via-emerald-700 hover:to-green-800 text-white font-bold py-3 sm:py-4 text-sm sm:text-base rounded-xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:" Student Login"}),a.jsx("div",{className:"bg-gradient-to-r from-green-100 to-emerald-100 rounded-xl p-2 sm:p-3 text-center",children:a.jsx("div",{className:"text-xs sm:text-sm text-green-800 font-bold",children:" Use library code + phone number"})}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs sm:text-sm text-gray-600 font-medium",children:[a.jsx(WO,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"}),a.jsx("span",{children:"Instant Access"})]})]})]})]})]}),a.jsx("div",{className:"hidden lg:block lg:w-80 xl:w-96 order-first lg:order-last",children:a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 via-red-500 to-pink-500 rounded-3xl shadow-2xl p-8 text-center relative overflow-hidden sticky top-8 border-4 border-yellow-300 animate-pulse",children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400 opacity-20 animate-pulse"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-center mb-6",children:[a.jsx("span",{className:"text-4xl mr-3 animate-bounce",children:""}),a.jsx("h3",{className:"text-2xl font-black text-white tracking-wide drop-shadow-lg",children:"Durga Puja Festival"}),a.jsx("span",{className:"text-4xl ml-3 animate-bounce",children:""})]}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-orange-900 rounded-full px-6 py-4 font-black text-2xl shadow-xl mb-6 transform -rotate-1",children:a.jsx("span",{children:"UP TO 35% OFF"})}),a.jsx("p",{className:"text-white font-bold text-lg mb-8 drop-shadow-md leading-relaxed",children:"Transform your library management this festive season with our special pricing"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gradient-to-r from-yellow-300 to-orange-300 text-orange-900 rounded-2xl p-4 shadow-2xl border-2 border-yellow-400",children:[a.jsx("div",{className:"text-xl font-black mb-2",children:" SPECIAL FESTIVAL PRICING"}),a.jsx("div",{className:"text-sm font-bold",children:"Multiple plans available with huge discounts!"})]}),a.jsx("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-full px-6 py-4 font-black text-lg animate-bounce shadow-xl",children:" LIMITED TIME OFFER - GRAB NOW! "})]})]}),a.jsx("div",{className:"absolute top-4 left-4 text-yellow-300 opacity-80 animate-spin",style:{animationDuration:"3s"},children:a.jsx("span",{className:"text-3xl",children:""})}),a.jsx("div",{className:"absolute top-4 right-4 text-yellow-300 opacity-80 animate-bounce",children:a.jsx("span",{className:"text-4xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 left-4 text-yellow-300 opacity-80 animate-pulse",children:a.jsx("span",{className:"text-3xl",children:""})}),a.jsx("div",{className:"absolute bottom-4 right-4 text-yellow-300 opacity-80 animate-spin",style:{animationDuration:"2s"},children:a.jsx("span",{className:"text-3xl",children:""})})]})})]})]})})]})},zbe=()=>{const e=Ur();ga();const[t,r]=C.useState(null),[n,s]=C.useState(!0);C.useEffect(()=>{i()},[]);const i=async()=>{try{r({id:1,library_code:"MSL001",name:"MAA SARASWATI LIBRARY"})}catch(l){console.error("Error loading library data:",l),Ee.error("Failed to load library information")}finally{s(!1)}},o=()=>{e("/")};return n?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading barcode..."})]})}):t?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("button",{onClick:o,className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(dl,{className:"w-5 h-5 mr-2"}),"Back to Dashboard"]})}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(IA,{className:"w-6 h-6 text-purple-600 mr-2"}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Library Barcode"})]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-orange-400 px-6 py-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:t.name}),a.jsxs("p",{className:"text-purple-100 mt-1",children:["Library Code: ",t.library_code]})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Student Attendance Barcode"}),a.jsx("p",{className:"text-gray-600",children:"Students can scan this barcode to mark their attendance automatically"})]}),a.jsx(g1,{libraryCode:t.library_code,libraryName:t.name,libraryId:t.id,isOpen:!0,onClose:()=>{}}),a.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[a.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-3",children:"How to Use This Barcode"}),a.jsxs("div",{className:"space-y-3 text-blue-800",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"1"}),a.jsx("p",{children:"Display this barcode prominently at your library entrance"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"2"}),a.jsx("p",{children:"Students can scan it using their phone camera or the scanner in their student account"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"3"}),a.jsx("p",{children:"Attendance will be marked automatically with in/out toggle functionality"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-200 rounded-full flex items-center justify-center text-sm font-semibold mr-3 mt-0.5",children:"4"}),a.jsx("p",{children:"Only students registered with your library can mark attendance using this barcode"})]})]})]}),a.jsx("div",{className:"mt-6 bg-amber-50 border border-amber-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(IA,{className:"h-5 w-5 text-amber-400"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Security Notice"}),a.jsx("div",{className:"mt-2 text-sm text-amber-700",children:a.jsx("p",{children:"This barcode is unique to your library and contains your library code. Students from other libraries cannot use this barcode to mark attendance. Each scan is verified against the student's registered library."})})]})]})})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-orange-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(IA,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load library information"}),a.jsx("button",{onClick:o,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Go Back"})]})})},$be=()=>a.jsx("div",{className:"flex justify-center items-center w-full h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}),qbe=({isAdmin:e,onAdd:t})=>a.jsxs("div",{className:"text-center bg-white rounded-xl shadow-sm border border-gray-200 p-12 mt-6",children:[a.jsx(Jh,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Announcements Yet"}),a.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:e?"It's a bit quiet in here. Click 'New Announcement' to share updates with everyone.":"There are currently no announcements to display. Please check back later."}),e&&t&&a.jsxs("button",{onClick:t,className:"mt-6 flex items-center mx-auto space-x-2 bg-indigo-600 text-white px-5 py-2.5 rounded-lg hover:bg-indigo-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[a.jsx(ef,{className:"h-5 w-5"}),a.jsx("span",{children:"Create First Announcement"})]})]}),dL=({isAdmin:e=!1,branchId:t,onEdit:r,onAdd:n,viewMode:s="list"})=>{const[i,o]=C.useState([]),[l,A]=C.useState(!0),[u,h]=C.useState(null),m=async()=>{try{A(!0);const y=t&&!e?{branch_id:t}:{},I=(await Re.getAnnouncements(y)).map(_=>({id:_.id,title:_.title,content:_.content,branchId:_.branchId??_.branch_id??null,branchName:_.branchName??_.branch_name??null,isGlobal:_.isGlobal??_.is_global??!1,startDate:_.startDate??_.start_date??null,endDate:_.endDate??_.end_date??null,createdBy:_.createdBy??_.created_by??0,createdByName:_.createdByName??_.created_by_name??"",createdAt:_.createdAt??_.created_at??new Date().toISOString(),updatedAt:_.updatedAt??_.updated_at??new Date().toISOString(),isActive:_.isActive??_.is_active??!0}));o(I.sort((_,O)=>new Date(O.createdAt).getTime()-new Date(_.createdAt).getTime()))}catch(y){console.error("Error fetching announcements:",y),Ee.error("Failed to load announcements. Please try again.")}finally{A(!1)}},w=async y=>{h(y);try{await Re.deleteAnnouncement(y),Ee.success("Announcement deleted successfully"),o(B=>B.filter(I=>I.id!==y))}catch(B){console.error("Error deleting announcement:",B),Ee.error("Failed to delete announcement.")}finally{h(null)}};C.useEffect(()=>{m()},[t]);const p=y=>y?new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):null;if(l)return a.jsx($be,{});const b=s!=="list",N="rounded-xl border shadow-md transition-transform duration-200 ease-out transform-gpu will-change-transform ring-1 ring-white/20 hover:-translate-y-1 hover:scale-[1.02] hover:shadow-lg hover:rotate-[1.25deg] overflow-hidden text-white",j=y=>{if(y.isGlobal)return"bg-gradient-to-br from-indigo-500 to-violet-600 border-transparent";const B=y.id%3;return B===0?"bg-gradient-to-br from-emerald-500 to-teal-600 border-transparent":B===1?"bg-gradient-to-br from-amber-500 to-orange-600 border-transparent":"bg-gradient-to-br from-rose-500 to-red-600 border-transparent"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:e?"Manage Announcements":"Latest Updates"}),a.jsx("p",{className:"mt-1 text-md text-gray-500",children:"View, create, and manage all company-wide and branch-specific announcements."})]}),e&&n&&a.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[a.jsx(ef,{className:"h-5 w-5"}),a.jsx("span",{className:"hidden sm:block",children:"New Announcement"})]})]}),i.length===0?a.jsx(qbe,{isAdmin:e,onAdd:n}):a.jsx("div",{className:b?"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"space-y-4",children:i.map(y=>a.jsxs("div",{className:`${N} ${j(y)} ${y.isActive?"":"opacity-90"}`,children:[a.jsxs("div",{className:`${s==="compact"?"p-3":"p-5"} border-b border-white/20 flex justify-between items-start gap-4`,children:[a.jsxs("div",{children:[a.jsx("h3",{className:`${s==="compact"?"text-lg":"text-xl"} font-bold text-white`,children:y.title}),!y.isActive&&a.jsx("span",{className:"text-xs font-medium bg-white/20 text-white px-2 py-0.5 rounded-full mt-2 inline-block border border-white/20",children:"Inactive"})]}),e&&a.jsxs("div",{className:"flex space-x-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>r&&r(y),className:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-md transition-colors",title:"Edit announcement",children:a.jsx(LS,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>w(y.id),disabled:u===y.id,className:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-md transition-colors disabled:opacity-50",title:"Delete announcement",children:u===y.id?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):a.jsx(pa,{className:"h-5 w-5"})})]})]}),a.jsx("div",{className:`${s==="compact"?"p-3":"p-5"} text-white/95 text-base leading-relaxed whitespace-pre-wrap`,children:y.content}),a.jsxs("div",{className:`${s==="compact"?"px-3 py-3":"px-5 py-4"} bg-white/10 border-t border-white/20 flex flex-wrap items-center gap-x-6 gap-y-3 text-sm text-white/90`,children:[a.jsxs("div",{className:"flex items-center space-x-2",title:"Author",children:[a.jsx(Wi,{className:"h-4 w-4"}),a.jsx("span",{children:y.createdByName})]}),a.jsxs("div",{className:"flex items-center space-x-2",title:`Published on ${p(y.createdAt)}`,children:[a.jsx(qs,{className:"h-4 w-4"}),a.jsx("span",{children:p(y.createdAt)})]}),a.jsxs("div",{className:"flex items-center space-x-2",title:y.isGlobal?"Global Announcement":`Branch: ${y.branchName||"Unknown"}`,children:[y.isGlobal?a.jsx(dv,{className:"h-4 w-4 text-white"}):a.jsx(Rl,{className:"h-4 w-4 text-white"}),a.jsx("span",{children:y.isGlobal?"Global":y.branchName?`Branch: ${y.branchName}`:"Branch Specific"})]}),(y.startDate||y.endDate)&&a.jsxs("div",{className:"flex items-center space-x-2",title:"Active Dates",children:[a.jsx(Zn,{className:"h-4 w-4 text-white"}),a.jsxs("span",{children:[p(y.startDate)," - ",p(y.endDate)||"Ongoing"]})]})]})]},y.id))})]})};var Xbe=Object.defineProperty,Ybe=(e,t,r)=>t in e?Xbe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,HC=(e,t,r)=>(Ybe(e,typeof t!="symbol"?t+"":t,r),r);let Zbe=class{constructor(){HC(this,"current",this.detect()),HC(this,"handoffState","pending"),HC(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Pc=new Zbe;function Zv(e){var t,r;return Pc.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function Jv(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function tu(){let e=[],t={addEventListener(r,n,s,i){return r.addEventListener(n,s,i),t.add(()=>r.removeEventListener(n,s,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Jv(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=tu();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function g6(){let[e]=C.useState(tu);return C.useEffect(()=>()=>e.dispose(),[e]),e}let ii=(e,t)=>{Pc.isServer?C.useEffect(e,t):C.useLayoutEffect(e,t)};function pf(e){let t=C.useRef(e);return ii(()=>{t.current=e},[e]),t}let Un=function(e){let t=pf(e);return Ze.useCallback((...r)=>t.current(...r),[t])},Jbe=C.createContext(void 0);function e5e(){return C.useContext(Jbe)}function eB(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function WA(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,WA),n}var S2=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(S2||{}),ad=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ad||{});function hl(){let e=r5e();return C.useCallback(t=>t5e({mergeRefs:e,...t}),[e])}function t5e({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??n5e;let A=SV(t,e);if(i)return fw(A,r,n,o,l);let u=s??0;if(u&2){let{static:h=!1,...m}=A;if(h)return fw(m,r,n,o,l)}if(u&1){let{unmount:h=!0,...m}=A;return WA(h?0:1,{0(){return null},1(){return fw({...m,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return fw(A,r,n,o,l)}function fw(e,t={},r,n,s){let{as:i=r,children:o,refName:l="ref",...A}=VC(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},h=typeof o=="function"?o(t):o;"className"in A&&A.className&&typeof A.className=="function"&&(A.className=A.className(t)),A["aria-labelledby"]&&A["aria-labelledby"]===A.id&&(A["aria-labelledby"]=void 0);let m={};if(t){let w=!1,p=[];for(let[b,N]of Object.entries(t))typeof N=="boolean"&&(w=!0),N===!0&&p.push(b.replace(/([A-Z])/g,j=>`-${j.toLowerCase()}`));if(w){m["data-headlessui-state"]=p.join(" ");for(let b of p)m[`data-${b}`]=""}}if(i===C.Fragment&&(Object.keys(ah(A)).length>0||Object.keys(ah(m)).length>0))if(!C.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(ah(A)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ah(A)).concat(Object.keys(ah(m))).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`))}else{let w=h.props,p=w==null?void 0:w.className,b=typeof p=="function"?(...y)=>eB(p(...y),A.className):eB(p,A.className),N=b?{className:b}:{},j=SV(h.props,ah(VC(A,["ref"])));for(let y in m)y in j&&delete m[y];return C.cloneElement(h,Object.assign({},j,m,u,{ref:s(s5e(h),u.ref)},N))}return C.createElement(i,Object.assign({},VC(A,["ref"]),i!==C.Fragment&&u,i!==C.Fragment&&m),h)}function r5e(){let e=C.useRef([]),t=C.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function n5e(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function SV(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let n in r)Object.assign(t,{[n](s,...i){let o=r[n];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return t}function no(e){var t;return Object.assign(C.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ah(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function VC(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function s5e(e){return Ze.version.split(".")[0]>="19"?e.props.ref:e.ref}let a5e="span";var E2=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(E2||{});function i5e(e,t){var r;let{features:n=1,...s}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return hl()({ourProps:i,theirProps:s,slot:{},defaultTag:a5e,name:"Hidden"})}let tB=no(i5e);function EV(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Cd(e){return EV(e)&&"tagName"in e}function lf(e){return Cd(e)&&"accessKey"in e}function id(e){return Cd(e)&&"tabIndex"in e}function o5e(e){return Cd(e)&&"style"in e}function l5e(e){return lf(e)&&e.nodeName==="IFRAME"}function c5e(e){return lf(e)&&e.nodeName==="INPUT"}let jV=Symbol();function A5e(e,t=!0){return Object.assign(e,{[jV]:t})}function Kc(...e){let t=C.useRef(e);C.useEffect(()=>{t.current=e},[e]);let r=Un(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||(n==null?void 0:n[jV]))?void 0:r}let x6=C.createContext(null);x6.displayName="DescriptionContext";function IV(){let e=C.useContext(x6);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,IV),t}return e}function u5e(){let[e,t]=C.useState([]);return[e.length>0?e.join(" "):void 0,C.useMemo(()=>function(r){let n=Un(i=>(t(o=>[...o,i]),()=>t(o=>{let l=o.slice(),A=l.indexOf(i);return A!==-1&&l.splice(A,1),l}))),s=C.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Ze.createElement(x6.Provider,{value:s},r.children)},[t])]}let d5e="p";function h5e(e,t){let r=C.useId(),n=e5e(),{id:s=`headlessui-description-${r}`,...i}=e,o=IV(),l=Kc(t);ii(()=>o.register(s),[s,o.register]);let A=n||!1,u=C.useMemo(()=>({...o.slot,disabled:A}),[o.slot,A]),h={ref:l,...o.props,id:s};return hl()({ourProps:h,theirProps:i,slot:u,defaultTag:d5e,name:o.name||"Description"})}let f5e=no(h5e),m5e=Object.assign(f5e,{});var FV=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(FV||{});let p5e=C.createContext(()=>{});function g5e({value:e,children:t}){return Ze.createElement(p5e.Provider,{value:e},t)}let kV=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var x5e=Object.defineProperty,w5e=(e,t,r)=>t in e?x5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y5e=(e,t,r)=>(w5e(e,t+"",r),r),_V=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},$o=(e,t,r)=>(_V(e,t,"read from private field"),r?r.call(e):t.get(e)),KC=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},hL=(e,t,r,n)=>(_V(e,t,"write to private field"),t.set(e,r),r),dc,Cp,Np;let v5e=class{constructor(t){KC(this,dc,{}),KC(this,Cp,new kV(()=>new Set)),KC(this,Np,new Set),y5e(this,"disposables",tu()),hL(this,dc,t),Pc.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return $o(this,dc)}subscribe(t,r){if(Pc.isServer)return()=>{};let n={selector:t,callback:r,current:t($o(this,dc))};return $o(this,Np).add(n),this.disposables.add(()=>{$o(this,Np).delete(n)})}on(t,r){return Pc.isServer?()=>{}:($o(this,Cp).get(t).add(r),this.disposables.add(()=>{$o(this,Cp).get(t).delete(r)}))}send(t){let r=this.reduce($o(this,dc),t);if(r!==$o(this,dc)){hL(this,dc,r);for(let n of $o(this,Np)){let s=n.selector($o(this,dc));TV(n.current,s)||(n.current=s,n.callback(s))}for(let n of $o(this,Cp).get(t.type))n($o(this,dc),t)}}};dc=new WeakMap,Cp=new WeakMap,Np=new WeakMap;function TV(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:WC(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:WC(e.entries(),t.entries()):fL(e)&&fL(t)?WC(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function WC(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function fL(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var b5e=Object.defineProperty,C5e=(e,t,r)=>t in e?b5e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mL=(e,t,r)=>(C5e(e,typeof t!="symbol"?t+"":t,r),r),N5e=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(N5e||{});let B5e={0(e,t){let r=t.id,n=e.stack,s=e.stack.indexOf(r);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(r),n=i,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let s=e.stack.slice();return s.splice(n,1),{...e,stack:s}}},S5e=class LV extends v5e{constructor(){super(...arguments),mL(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),mL(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new LV({stack:[]})}reduce(t,r){return WA(r.type,B5e,t,r)}};const PV=new kV(()=>S5e.new());var DV={exports:{}},OV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1=C;function E5e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var j5e=typeof Object.is=="function"?Object.is:E5e,I5e=T1.useSyncExternalStore,F5e=T1.useRef,k5e=T1.useEffect,_5e=T1.useMemo,T5e=T1.useDebugValue;OV.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=F5e(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=_5e(function(){function A(p){if(!u){if(u=!0,h=p,p=n(p),s!==void 0&&o.hasValue){var b=o.value;if(s(b,p))return m=b}return m=p}if(b=m,j5e(h,p))return b;var N=n(p);return s!==void 0&&s(b,N)?(h=p,b):(h=p,m=N)}var u=!1,h,m,w=r===void 0?null:r;return[function(){return A(t())},w===null?void 0:function(){return A(w())}]},[t,r,n,s]);var l=I5e(e,i[0],i[1]);return k5e(function(){o.hasValue=!0,o.value=l},[l]),T5e(l),l};DV.exports=OV;var L5e=DV.exports;function RV(e,t,r=TV){return L5e.useSyncExternalStoreWithSelector(Un(n=>e.subscribe(P5e,n)),Un(()=>e.state),Un(()=>e.state),Un(t),r)}function P5e(e){return e}function L1(e,t){let r=C.useId(),n=PV.get(t),[s,i]=RV(n,C.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return ii(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?i?s:!0:!1}let rB=new Map,Zp=new Map;function pL(e){var t;let r=(t=Zp.get(e))!=null?t:0;return Zp.set(e,r+1),r!==0?()=>gL(e):(rB.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>gL(e))}function gL(e){var t;let r=(t=Zp.get(e))!=null?t:1;if(r===1?Zp.delete(e):Zp.set(e,r-1),r!==1)return;let n=rB.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,rB.delete(e))}function D5e(e,{allowed:t,disallowed:r}={}){let n=L1(e,"inert-others");ii(()=>{var s,i;if(!n)return;let o=tu();for(let A of(s=r==null?void 0:r())!=null?s:[])A&&o.add(pL(A));let l=(i=t==null?void 0:t())!=null?i:[];for(let A of l){if(!A)continue;let u=Zv(A);if(!u)continue;let h=A.parentElement;for(;h&&h!==u.body;){for(let m of h.children)l.some(w=>m.contains(w))||o.add(pL(m));h=h.parentElement}}return o.dispose},[n,t,r])}function O5e(e,t,r){let n=pf(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&r()});C.useEffect(()=>{if(!e)return;let s=t===null?null:lf(t)?t:t.current;if(!s)return;let i=tu();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[t,n,e])}let j2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),R5e=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var bA=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(bA||{}),nB=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(nB||{}),M5e=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(M5e||{});function U5e(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(j2)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Q5e(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(R5e)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var MV=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(MV||{});function H5e(e,t=0){var r;return e===((r=Zv(e))==null?void 0:r.body)?!1:WA(t,{0(){return e.matches(j2)},1(){let n=e;for(;n!==null;){if(n.matches(j2))return!0;n=n.parentElement}return!1}})}var V5e=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(V5e||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function kA(e){e==null||e.focus({preventScroll:!0})}let K5e=["textarea","input"].join(",");function W5e(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,K5e))!=null?r:!1}function G5e(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),i=t(n);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Jp(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?G5e(e):e:t&64?Q5e(e):U5e(e);s.length>0&&o.length>1&&(o=o.filter(p=>!s.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===p:b===p))),n=n??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),A=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},h=0,m=o.length,w;do{if(h>=m||h+m<=0)return 0;let p=A+h;if(t&16)p=(p+m)%m;else{if(p<0)return 3;if(p>=m)return 1}w=o[p],w==null||w.focus(u),h+=l}while(w!==i.activeElement);return t&6&&W5e(w)&&w.select(),2}function UV(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function z5e(){return/Android/gi.test(window.navigator.userAgent)}function xL(){return UV()||z5e()}function mw(e,t,r,n){let s=pf(r);C.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[e,t,n])}function QV(e,t,r,n){let s=pf(r);C.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[e,t,n])}const wL=30;function $5e(e,t,r){let n=pf(r),s=C.useCallback(function(l,A){if(l.defaultPrevented)return;let u=A(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let h=function m(w){return typeof w=="function"?m(w()):Array.isArray(w)||w instanceof Set?w:[w]}(t);for(let m of h)if(m!==null&&(m.contains(u)||l.composed&&l.composedPath().includes(m)))return;return!H5e(u,MV.Loose)&&u.tabIndex!==-1&&l.preventDefault(),n.current(l,u)},[n,t]),i=C.useRef(null);mw(e,"pointerdown",l=>{var A,u;xL()||(i.current=((u=(A=l.composedPath)==null?void 0:A.call(l))==null?void 0:u[0])||l.target)},!0),mw(e,"pointerup",l=>{if(xL()||!i.current)return;let A=i.current;return i.current=null,s(l,()=>A)},!0);let o=C.useRef({x:0,y:0});mw(e,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),mw(e,"touchend",l=>{let A={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(A.x-o.current.x)>=wL||Math.abs(A.y-o.current.y)>=wL))return s(l,()=>id(l.target)?l.target:null)},!0),QV(e,"blur",l=>s(l,()=>l5e(window.document.activeElement)?window.document.activeElement:null),!0)}function eb(...e){return C.useMemo(()=>Zv(...e),[...e])}function HV(e,t,r,n){let s=pf(r);C.useEffect(()=>{e=e??window;function i(o){s.current(o)}return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)},[e,t,n])}function q5e(e){return C.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function X5e(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...i){let o=t[s].call(r,...i);o&&(r=o,n.forEach(l=>l()))}}}function Y5e(){let e;return{before({doc:t}){var r;let n=t.documentElement,s=(r=t.defaultView)!=null?r:window;e=Math.max(0,s.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,s=Math.max(0,n.clientWidth-n.offsetWidth),i=Math.max(0,e-s);r.style(n,"paddingRight",`${i}px`)}}}function Z5e(){return UV()?{before({doc:e,d:t,meta:r}){function n(s){return r.containers.flatMap(i=>i()).some(i=>i.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=tu();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(id(l.target))try{let A=l.target.closest("a");if(!A)return;let{hash:u}=new URL(A.href),h=e.querySelector(u);id(h)&&!n(h)&&(o=h)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(id(l.target)&&o5e(l.target))if(n(l.target)){let A=l.target;for(;A.parentElement&&n(A.parentElement);)A=A.parentElement;t.style(A,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(id(l.target)){if(c5e(l.target))return;if(n(l.target)){let A=l.target;for(;A.parentElement&&A.dataset.headlessuiPortal!==""&&!(A.scrollHeight>A.clientHeight||A.scrollWidth>A.clientWidth);)A=A.parentElement;A.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let A=(l=window.scrollY)!=null?l:window.pageYOffset;i!==A&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function J5e(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function eCe(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let yh=X5e(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:tu(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:eCe(r)},s=[Z5e(),Y5e(),J5e()];s.forEach(({before:i})=>i==null?void 0:i(n)),s.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});yh.subscribe(()=>{let e=yh.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&yh.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&yh.dispatch("TEARDOWN",r)}});function tCe(e,t,r=()=>({containers:[]})){let n=q5e(yh),s=t?n.get(t):void 0,i=s?s.count>0:!1;return ii(()=>{if(!(!t||!e))return yh.dispatch("PUSH",t,r),()=>yh.dispatch("POP",t,r)},[e,t]),i}function rCe(e,t,r=()=>[document.body]){let n=L1(e,"scroll-lock");tCe(n,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],r]}})}function nCe(e=0){let[t,r]=C.useState(e),n=C.useCallback(A=>r(A),[t]),s=C.useCallback(A=>r(u=>u|A),[t]),i=C.useCallback(A=>(t&A)===A,[t]),o=C.useCallback(A=>r(u=>u&~A),[r]),l=C.useCallback(A=>r(u=>u^A),[r]);return{flags:t,setFlag:n,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:l}}var sCe={},yL,vL;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((yL=process==null?void 0:sCe)==null?void 0:yL.NODE_ENV)==="test"&&typeof((vL=Element==null?void 0:Element.prototype)==null?void 0:vL.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var aCe=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(aCe||{});function iCe(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function oCe(e,t,r,n){let[s,i]=C.useState(r),{hasFlag:o,addFlag:l,removeFlag:A}=nCe(e&&s?3:0),u=C.useRef(!1),h=C.useRef(!1),m=g6();return ii(()=>{var w;if(e){if(r&&i(!0),!t){r&&l(3);return}return(w=n==null?void 0:n.start)==null||w.call(n,r),lCe(t,{inFlight:u,prepare(){h.current?h.current=!1:h.current=u.current,u.current=!0,!h.current&&(r?(l(3),A(4)):(l(4),A(2)))},run(){h.current?r?(A(3),l(4)):(A(4),l(3)):r?A(1):l(1)},done(){var p;h.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,A(7),r||i(!1),(p=n==null?void 0:n.end)==null||p.call(n,r))}})}},[e,r,t,m]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function lCe(e,{prepare:t,run:r,done:n,inFlight:s}){let i=tu();return ACe(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{r(),i.requestAnimationFrame(()=>{i.add(cCe(e,n))})}),i.dispose}function cCe(e,t){var r,n;let s=tu();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(l=>l instanceof CSSTransition))!=null?n:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{i||t()}),s.dispose)}function ACe(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function w6(e,t){let r=C.useRef([]),n=Un(e);C.useEffect(()=>{let s=[...r.current];for(let[i,o]of t.entries())if(r.current[i]!==o){let l=n(t,s);return r.current=t,l}},[n,...t])}let tb=C.createContext(null);tb.displayName="OpenClosedContext";var Ll=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ll||{});function rb(){return C.useContext(tb)}function uCe({value:e,children:t}){return Ze.createElement(tb.Provider,{value:e},t)}function dCe({children:e}){return Ze.createElement(tb.Provider,{value:null},e)}function hCe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Mu=[];hCe(()=>{function e(t){if(!id(t.target)||t.target===document.body||Mu[0]===t.target)return;let r=t.target;r=r.closest(j2),Mu.unshift(r??t.target),Mu=Mu.filter(n=>n!=null&&n.isConnected),Mu.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function VV(e){let t=Un(e),r=C.useRef(!1);C.useEffect(()=>(r.current=!1,()=>{r.current=!0,Jv(()=>{r.current&&t()})}),[t])}function fCe(){let e=typeof document>"u";return"useSyncExternalStore"in U0?(t=>t.useSyncExternalStore)(U0)(()=>()=>{},()=>!1,()=>!e):!1}function P1(){let e=fCe(),[t,r]=C.useState(Pc.isHandoffComplete);return t&&Pc.isHandoffComplete===!1&&r(!1),C.useEffect(()=>{t!==!0&&r(!0)},[t]),C.useEffect(()=>Pc.handoff(),[]),e?!1:t}let KV=C.createContext(!1);function mCe(){return C.useContext(KV)}function bL(e){return Ze.createElement(KV.Provider,{value:e.force},e.children)}function pCe(e){let t=mCe(),r=C.useContext(GV),[n,s]=C.useState(()=>{var i;if(!t&&r!==null)return(i=r.current)!=null?i:null;if(Pc.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return C.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),C.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),n}let WV=C.Fragment,gCe=no(function(e,t){let{ownerDocument:r=null,...n}=e,s=C.useRef(null),i=Kc(A5e(p=>{s.current=p}),t),o=eb(s),l=r??o,A=pCe(l),[u]=C.useState(()=>{var p;return Pc.isServer?null:(p=l==null?void 0:l.createElement("div"))!=null?p:null}),h=C.useContext(sB),m=P1();ii(()=>{!A||!u||A.contains(u)||(u.setAttribute("data-headlessui-portal",""),A.appendChild(u))},[A,u]),ii(()=>{if(u&&h)return h.register(u)},[h,u]),VV(()=>{var p;!A||!u||(EV(u)&&A.contains(u)&&A.removeChild(u),A.childNodes.length<=0&&((p=A.parentElement)==null||p.removeChild(A)))});let w=hl();return m?!A||!u?null:Rd.createPortal(w({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:WV,name:"Portal"}),u):null});function xCe(e,t){let r=Kc(t),{enabled:n=!0,ownerDocument:s,...i}=e,o=hl();return n?Ze.createElement(gCe,{...i,ownerDocument:s,ref:r}):o({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:WV,name:"Portal"})}let wCe=C.Fragment,GV=C.createContext(null);function yCe(e,t){let{target:r,...n}=e,s={ref:Kc(t)},i=hl();return Ze.createElement(GV.Provider,{value:r},i({ourProps:s,theirProps:n,defaultTag:wCe,name:"Popover.Group"}))}let sB=C.createContext(null);function vCe(){let e=C.useContext(sB),t=C.useRef([]),r=Un(i=>(t.current.push(i),e&&e.register(i),()=>n(i))),n=Un(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),s=C.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,C.useMemo(()=>function({children:i}){return Ze.createElement(sB.Provider,{value:s},i)},[s])]}let bCe=no(xCe),zV=no(yCe),CCe=Object.assign(bCe,{Group:zV});function NCe(e,t=typeof document<"u"?document.defaultView:null,r){let n=L1(e,"escape");HV(t,"keydown",s=>{n&&(s.defaultPrevented||s.key===FV.Escape&&r(s))})}function BCe(){var e;let[t]=C.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=C.useState((e=t==null?void 0:t.matches)!=null?e:!1);return ii(()=>{if(!t)return;function s(i){n(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),r}function SCe({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=eb(r),s=Un(()=>{var i,o;let l=[];for(let A of e)A!==null&&(Cd(A)?l.push(A):"current"in A&&Cd(A.current)&&l.push(A.current));if(t!=null&&t.current)for(let A of t.current)l.push(A);for(let A of(i=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?i:[])A!==document.body&&A!==document.head&&Cd(A)&&A.id!=="headlessui-portal-root"&&(r&&(A.contains(r)||A.contains((o=r==null?void 0:r.getRootNode())==null?void 0:o.host))||l.some(u=>A.contains(u))||l.push(A));return l});return{resolveContainers:s,contains:Un(i=>s().some(o=>o.contains(i)))}}let $V=C.createContext(null);function CL({children:e,node:t}){let[r,n]=C.useState(null),s=qV(t??r);return Ze.createElement($V.Provider,{value:s},e,s===null&&Ze.createElement(tB,{features:E2.Hidden,ref:i=>{var o,l;if(i){for(let A of(l=(o=Zv(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(A!==document.body&&A!==document.head&&Cd(A)&&A!=null&&A.contains(i)){n(A);break}}}}))}function qV(e=null){var t;return(t=C.useContext($V))!=null?t:e}function y6(){let e=C.useRef(!1);return ii(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Bp=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Bp||{});function ECe(){let e=C.useRef(0);return QV(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function XV(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Cd(r.current)&&t.add(r.current);return t}let jCe="div";var lh=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(lh||{});function ICe(e,t){let r=C.useRef(null),n=Kc(r,t),{initialFocus:s,initialFocusFallback:i,containers:o,features:l=15,...A}=e;P1()||(l=0);let u=eb(r);TCe(l,{ownerDocument:u});let h=LCe(l,{ownerDocument:u,container:r,initialFocus:s,initialFocusFallback:i});PCe(l,{ownerDocument:u,container:r,containers:o,previousActiveElement:h});let m=ECe(),w=Un(B=>{if(!lf(r.current))return;let I=r.current;(_=>_())(()=>{WA(m.current,{[Bp.Forwards]:()=>{Jp(I,bA.First,{skipElements:[B.relatedTarget,i]})},[Bp.Backwards]:()=>{Jp(I,bA.Last,{skipElements:[B.relatedTarget,i]})}})})}),p=L1(!!(l&2),"focus-trap#tab-lock"),b=g6(),N=C.useRef(!1),j={ref:n,onKeyDown(B){B.key=="Tab"&&(N.current=!0,b.requestAnimationFrame(()=>{N.current=!1}))},onBlur(B){if(!(l&4))return;let I=XV(o);lf(r.current)&&I.add(r.current);let _=B.relatedTarget;id(_)&&_.dataset.headlessuiFocusGuard!=="true"&&(YV(I,_)||(N.current?Jp(r.current,WA(m.current,{[Bp.Forwards]:()=>bA.Next,[Bp.Backwards]:()=>bA.Previous})|bA.WrapAround,{relativeTo:B.target}):id(B.target)&&kA(B.target)))}},y=hl();return Ze.createElement(Ze.Fragment,null,p&&Ze.createElement(tB,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:E2.Focusable}),y({ourProps:j,theirProps:A,defaultTag:jCe,name:"FocusTrap"}),p&&Ze.createElement(tB,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:E2.Focusable}))}let FCe=no(ICe),kCe=Object.assign(FCe,{features:lh});function _Ce(e=!0){let t=C.useRef(Mu.slice());return w6(([r],[n])=>{n===!0&&r===!1&&Jv(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Mu.slice())},[e,Mu,t]),Un(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function TCe(e,{ownerDocument:t}){let r=!!(e&8),n=_Ce(r);w6(()=>{r||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&kA(n())},[r]),VV(()=>{r&&kA(n())})}function LCe(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:s}){let i=C.useRef(null),o=L1(!!(e&1),"focus-trap#initial-focus"),l=y6();return w6(()=>{if(e===0)return;if(!o){s!=null&&s.current&&kA(s.current);return}let A=r.current;A&&Jv(()=>{if(!l.current)return;let u=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===u){i.current=u;return}}else if(A.contains(u)){i.current=u;return}if(n!=null&&n.current)kA(n.current);else{if(e&16){if(Jp(A,bA.First|bA.AutoFocus)!==nB.Error)return}else if(Jp(A,bA.First)!==nB.Error)return;if(s!=null&&s.current&&(kA(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[s,o,e]),i}function PCe(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:s}){let i=y6(),o=!!(e&4);HV(t==null?void 0:t.defaultView,"focus",l=>{if(!o||!i.current)return;let A=XV(n);lf(r.current)&&A.add(r.current);let u=s.current;if(!u)return;let h=l.target;lf(h)?YV(A,h)?(s.current=h,kA(h)):(l.preventDefault(),l.stopPropagation(),kA(u)):kA(s.current)},!0)}function YV(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function ZV(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:eK)!==C.Fragment||Ze.Children.count(e.children)===1}let nb=C.createContext(null);nb.displayName="TransitionContext";var DCe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(DCe||{});function OCe(){let e=C.useContext(nb);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function RCe(){let e=C.useContext(sb);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let sb=C.createContext(null);sb.displayName="NestingContext";function ab(e){return"children"in e?ab(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function JV(e,t){let r=pf(e),n=C.useRef([]),s=y6(),i=g6(),o=Un((p,b=ad.Hidden)=>{let N=n.current.findIndex(({el:j})=>j===p);N!==-1&&(WA(b,{[ad.Unmount](){n.current.splice(N,1)},[ad.Hidden](){n.current[N].state="hidden"}}),i.microTask(()=>{var j;!ab(n)&&s.current&&((j=r.current)==null||j.call(r))}))}),l=Un(p=>{let b=n.current.find(({el:N})=>N===p);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:p,state:"visible"}),()=>o(p,ad.Unmount)}),A=C.useRef([]),u=C.useRef(Promise.resolve()),h=C.useRef({enter:[],leave:[]}),m=Un((p,b,N)=>{A.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([j])=>j!==p)),t==null||t.chains.current[b].push([p,new Promise(j=>{A.current.push(j)})]),t==null||t.chains.current[b].push([p,new Promise(j=>{Promise.all(h.current[b].map(([y,B])=>B)).then(()=>j())})]),b==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>N(b)):N(b)}),w=Un((p,b,N)=>{Promise.all(h.current[b].splice(0).map(([j,y])=>y)).then(()=>{var j;(j=A.current.shift())==null||j()}).then(()=>N(b))});return C.useMemo(()=>({children:n,register:l,unregister:o,onStart:m,onStop:w,wait:u,chains:h}),[l,o,n,m,w,h,u])}let eK=C.Fragment,tK=S2.RenderStrategy;function MCe(e,t){var r,n;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:l,afterLeave:A,enter:u,enterFrom:h,enterTo:m,entered:w,leave:p,leaveFrom:b,leaveTo:N,...j}=e,[y,B]=C.useState(null),I=C.useRef(null),_=ZV(e),O=Kc(..._?[I,t,B]:t===null?[]:[t]),H=(r=j.unmount)==null||r?ad.Unmount:ad.Hidden,{show:D,appear:L,initial:T}=OCe(),[G,M]=C.useState(D?"visible":"hidden"),V=RCe(),{register:J,unregister:Z}=V;ii(()=>J(I),[J,I]),ii(()=>{if(H===ad.Hidden&&I.current){if(D&&G!=="visible"){M("visible");return}return WA(G,{hidden:()=>Z(I),visible:()=>J(I)})}},[G,I,J,Z,D,H]);let ee=P1();ii(()=>{if(_&&ee&&G==="visible"&&I.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[I,G,ee,_]);let q=T&&!L,W=L&&D&&T,X=C.useRef(!1),K=JV(()=>{X.current||(M("hidden"),Z(I))},V),le=Un(ge=>{X.current=!0;let fe=ge?"enter":"leave";K.onStart(I,fe,je=>{je==="enter"?i==null||i():je==="leave"&&(l==null||l())})}),ne=Un(ge=>{let fe=ge?"enter":"leave";X.current=!1,K.onStop(I,fe,je=>{je==="enter"?o==null||o():je==="leave"&&(A==null||A())}),fe==="leave"&&!ab(K)&&(M("hidden"),Z(I))});C.useEffect(()=>{_&&s||(le(D),ne(D))},[D,_,s]);let U=!(!s||!_||!ee||q),[,Y]=oCe(U,y,D,{start:le,end:ne}),se=ah({ref:O,className:((n=eB(j.className,W&&u,W&&h,Y.enter&&u,Y.enter&&Y.closed&&h,Y.enter&&!Y.closed&&m,Y.leave&&p,Y.leave&&!Y.closed&&b,Y.leave&&Y.closed&&N,!Y.transition&&D&&w))==null?void 0:n.trim())||void 0,...iCe(Y)}),ce=0;G==="visible"&&(ce|=Ll.Open),G==="hidden"&&(ce|=Ll.Closed),D&&G==="hidden"&&(ce|=Ll.Opening),!D&&G==="visible"&&(ce|=Ll.Closing);let Ae=hl();return Ze.createElement(sb.Provider,{value:K},Ze.createElement(uCe,{value:ce},Ae({ourProps:se,theirProps:j,defaultTag:eK,features:tK,visible:G==="visible",name:"Transition.Child"})))}function UCe(e,t){let{show:r,appear:n=!1,unmount:s=!0,...i}=e,o=C.useRef(null),l=ZV(e),A=Kc(...l?[o,t]:t===null?[]:[t]);P1();let u=rb();if(r===void 0&&u!==null&&(r=(u&Ll.Open)===Ll.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,m]=C.useState(r?"visible":"hidden"),w=JV(()=>{r||m("hidden")}),[p,b]=C.useState(!0),N=C.useRef([r]);ii(()=>{p!==!1&&N.current[N.current.length-1]!==r&&(N.current.push(r),b(!1))},[N,r]);let j=C.useMemo(()=>({show:r,appear:n,initial:p}),[r,n,p]);ii(()=>{r?m("visible"):!ab(w)&&o.current!==null&&m("hidden")},[r,w]);let y={unmount:s},B=Un(()=>{var O;p&&b(!1),(O=e.beforeEnter)==null||O.call(e)}),I=Un(()=>{var O;p&&b(!1),(O=e.beforeLeave)==null||O.call(e)}),_=hl();return Ze.createElement(sb.Provider,{value:w},Ze.createElement(nb.Provider,{value:j},_({ourProps:{...y,as:C.Fragment,children:Ze.createElement(rK,{ref:A,...y,...i,beforeEnter:B,beforeLeave:I})},theirProps:{},defaultTag:C.Fragment,features:tK,visible:h==="visible",name:"Transition"})))}function QCe(e,t){let r=C.useContext(nb)!==null,n=rb()!==null;return Ze.createElement(Ze.Fragment,null,!r&&n?Ze.createElement(aB,{ref:t,...e}):Ze.createElement(rK,{ref:t,...e}))}let aB=no(UCe),rK=no(MCe),v6=no(QCe),sy=Object.assign(aB,{Child:v6,Root:aB});var HCe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(HCe||{}),VCe=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(VCe||{});let KCe={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},b6=C.createContext(null);b6.displayName="DialogContext";function ib(e){let t=C.useContext(b6);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ib),r}return t}function WCe(e,t){return WA(t.type,KCe,e,t)}let NL=no(function(e,t){let r=C.useId(),{id:n=`headlessui-dialog-${r}`,open:s,onClose:i,initialFocus:o,role:l="dialog",autoFocus:A=!0,__demoMode:u=!1,unmount:h=!1,...m}=e,w=C.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(w.current||(w.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=rb();s===void 0&&p!==null&&(s=(p&Ll.Open)===Ll.Open);let b=C.useRef(null),N=Kc(b,t),j=eb(b),y=s?0:1,[B,I]=C.useReducer(WCe,{titleId:null,descriptionId:null,panelRef:C.createRef()}),_=Un(()=>i(!1)),O=Un(Y=>I({type:0,id:Y})),H=P1()?y===0:!1,[D,L]=vCe(),T={get current(){var Y;return(Y=B.panelRef.current)!=null?Y:b.current}},G=qV(),{resolveContainers:M}=SCe({mainTreeNode:G,portals:D,defaultContainers:[T]}),V=p!==null?(p&Ll.Closing)===Ll.Closing:!1;D5e(u||V?!1:H,{allowed:Un(()=>{var Y,se;return[(se=(Y=b.current)==null?void 0:Y.closest("[data-headlessui-portal]"))!=null?se:null]}),disallowed:Un(()=>{var Y;return[(Y=G==null?void 0:G.closest("body > *:not(#headlessui-portal-root)"))!=null?Y:null]})});let J=PV.get(null);ii(()=>{if(H)return J.actions.push(n),()=>J.actions.pop(n)},[J,n,H]);let Z=RV(J,C.useCallback(Y=>J.selectors.isTop(Y,n),[J,n]));$5e(Z,M,Y=>{Y.preventDefault(),_()}),NCe(Z,j==null?void 0:j.defaultView,Y=>{Y.preventDefault(),Y.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),_()}),rCe(u||V?!1:H,j,M),O5e(H,b,_);let[ee,q]=u5e(),W=C.useMemo(()=>[{dialogState:y,close:_,setTitleId:O,unmount:h},B],[y,B,_,O,h]),X=C.useMemo(()=>({open:y===0}),[y]),K={ref:N,id:n,role:l,tabIndex:-1,"aria-modal":u?void 0:y===0?!0:void 0,"aria-labelledby":B.titleId,"aria-describedby":ee,unmount:h},le=!BCe(),ne=lh.None;H&&!u&&(ne|=lh.RestoreFocus,ne|=lh.TabLock,A&&(ne|=lh.AutoFocus),le&&(ne|=lh.InitialFocus));let U=hl();return Ze.createElement(dCe,null,Ze.createElement(bL,{force:!0},Ze.createElement(CCe,null,Ze.createElement(b6.Provider,{value:W},Ze.createElement(zV,{target:b},Ze.createElement(bL,{force:!1},Ze.createElement(q,{slot:X},Ze.createElement(L,null,Ze.createElement(kCe,{initialFocus:o,initialFocusFallback:b,containers:M,features:ne},Ze.createElement(g5e,{value:_},U({ourProps:K,theirProps:m,slot:X,defaultTag:GCe,features:zCe,visible:y===0,name:"Dialog"})))))))))))}),GCe="div",zCe=S2.RenderStrategy|S2.Static;function $Ce(e,t){let{transition:r=!1,open:n,...s}=e,i=rb(),o=e.hasOwnProperty("open")||i!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!s.static?Ze.createElement(CL,null,Ze.createElement(sy,{show:n,transition:r,unmount:s.unmount},Ze.createElement(NL,{ref:t,...s}))):Ze.createElement(CL,null,Ze.createElement(NL,{ref:t,open:n,...s}))}let qCe="div";function XCe(e,t){let r=C.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:s=!1,...i}=e,[{dialogState:o,unmount:l},A]=ib("Dialog.Panel"),u=Kc(t,A.panelRef),h=C.useMemo(()=>({open:o===0}),[o]),m=Un(j=>{j.stopPropagation()}),w={ref:u,id:n,onClick:m},p=s?v6:C.Fragment,b=s?{unmount:l}:{},N=hl();return Ze.createElement(p,{...b},N({ourProps:w,theirProps:i,slot:h,defaultTag:qCe,name:"Dialog.Panel"}))}let YCe="div";function ZCe(e,t){let{transition:r=!1,...n}=e,[{dialogState:s,unmount:i}]=ib("Dialog.Backdrop"),o=C.useMemo(()=>({open:s===0}),[s]),l={ref:t,"aria-hidden":!0},A=r?v6:C.Fragment,u=r?{unmount:i}:{},h=hl();return Ze.createElement(A,{...u},h({ourProps:l,theirProps:n,slot:o,defaultTag:YCe,name:"Dialog.Backdrop"}))}let JCe="h2";function e4e(e,t){let r=C.useId(),{id:n=`headlessui-dialog-title-${r}`,...s}=e,[{dialogState:i,setTitleId:o}]=ib("Dialog.Title"),l=Kc(t);C.useEffect(()=>(o(n),()=>o(null)),[n,o]);let A=C.useMemo(()=>({open:i===0}),[i]),u={ref:l,id:n};return hl()({ourProps:u,theirProps:s,slot:A,defaultTag:JCe,name:"Dialog.Title"})}let t4e=no($Ce),r4e=no(XCe);no(ZCe);let n4e=no(e4e),GC=Object.assign(t4e,{Panel:r4e,Title:n4e,Description:m5e});const s4e=({enabled:e,setEnabled:t})=>a.jsx("button",{type:"button",onClick:()=>t(!e),className:`${e?"bg-indigo-600":"bg-gray-200"} relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2`,children:a.jsx("span",{className:`${e?"translate-x-5":"translate-x-0"} inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out`})}),BL=({announcement:e,onClose:t,onSuccess:r})=>{const[n,s]=C.useState({title:"",content:"",branchId:null,isGlobal:!0,startDate:null,endDate:null,isActive:!0}),[i,o]=C.useState([]),[l,A]=C.useState(!1),[u,h]=C.useState({});C.useEffect(()=>{(async()=>{try{const N=await Re.getBranches();o(N)}catch{Ee.error("Failed to load branches")}})()},[]),C.useEffect(()=>{e&&s({...e,startDate:e.startDate?e.startDate.split("T")[0]:e.startDate===null?null:"",endDate:e.endDate?e.endDate.split("T")[0]:e.endDate===null?null:""})},[e]);const m=()=>{const b={};return n.title.trim()||(b.title="Title cannot be empty."),n.content.trim()||(b.content="Content is required."),!n.isGlobal&&!n.branchId&&(b.branchId="Please select a branch for a non-global announcement."),n.startDate&&n.endDate&&new Date(n.startDate)>new Date(n.endDate)&&(b.endDate="End date cannot be before the start date."),h(b),Object.keys(b).length===0},w=async b=>{var N,j;if(b.preventDefault(),!m()){Ee.warning("Please fix the errors before submitting.");return}A(!0);try{const y={...n,branchId:n.isGlobal?null:n.branchId};e!=null&&e.id?(await Re.updateAnnouncement(e.id,y),Ee.success("Announcement updated successfully!")):(await Re.createAnnouncement(y),Ee.success("Announcement created successfully!")),r()}catch(y){Ee.error(((j=(N=y.response)==null?void 0:N.data)==null?void 0:j.message)||"Failed to save announcement.")}finally{A(!1)}},p=(b,N)=>{s(j=>({...j,[b]:N})),u[b]&&h(j=>{const y={...j};return delete y[b],y})};return a.jsx(sy.Root,{show:!0,as:C.Fragment,children:a.jsxs(GC,{as:"div",className:"relative z-50",onClose:t,children:[a.jsx(sy.Child,{as:C.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 transition-opacity"})}),a.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx(sy.Child,{as:C.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsx(GC.Panel,{className:"relative transform overflow-hidden rounded-xl bg-white text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-2xl",children:a.jsxs("form",{onSubmit:w,children:[a.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-200",children:[a.jsx(GC.Title,{as:"h3",className:"text-xl font-semibold text-gray-900",children:e?"Edit Announcement":"Create New Announcement"}),a.jsx("button",{type:"button",onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(Xl,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:n.title,onChange:b=>p("title",b.target.value),className:`w-full form-input ${u.title?"border-red-500":"border-gray-300"}`,placeholder:"e.g., System Maintenance Alert"}),u.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),a.jsx("textarea",{value:n.content,onChange:b=>p("content",b.target.value),rows:5,className:`w-full form-input ${u.content?"border-red-500":"border-gray-300"}`,placeholder:"Provide details about the announcement..."}),u.content&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.content})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibility"}),a.jsxs("div",{className:"flex rounded-lg p-1 bg-gray-100",children:[a.jsxs("button",{type:"button",onClick:()=>p("isGlobal",!0),className:`w-1/2 py-2 text-sm rounded-md flex items-center justify-center gap-2 transition-colors ${n.isGlobal?"bg-white text-indigo-700 shadow-sm":"text-gray-600 hover:bg-gray-200"}`,children:[a.jsx(dv,{className:"h-4 w-4"})," Global"]}),a.jsxs("button",{type:"button",onClick:()=>p("isGlobal",!1),className:`w-1/2 py-2 text-sm rounded-md flex items-center justify-center gap-2 transition-colors ${n.isGlobal?"text-gray-600 hover:bg-gray-200":"bg-white text-indigo-700 shadow-sm"}`,children:[a.jsx(Rl,{className:"h-4 w-4"})," Branch Specific"]})]})]}),!n.isGlobal&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),a.jsxs("select",{value:n.branchId||"",onChange:b=>p("branchId",b.target.value?parseInt(b.target.value):null),className:`w-full form-select ${u.branchId?"border-red-500":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select a branch..."}),i.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]}),u.branchId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.branchId})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date (Optional)"}),a.jsx("input",{type:"date",value:n.startDate||"",onChange:b=>p("startDate",b.target.value||null),className:"w-full form-input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date (Optional)"}),a.jsx("input",{type:"date",value:n.endDate||"",onChange:b=>p("endDate",b.target.value||null),className:`w-full form-input ${u.endDate?"border-red-500":"border-gray-300"}`}),u.endDate&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.endDate})]})]}),a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"Set as Active"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Inactive announcements will be hidden from view."})]}),a.jsx(s4e,{enabled:n.isActive,setEnabled:b=>p("isActive",b)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 p-5 bg-gray-50 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:l,className:"flex items-center space-x-2 px-5 py-2.5 text-sm font-medium bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-60 disabled:cursor-not-allowed transition-colors",children:[a.jsx(jg,{className:"h-4 w-4"}),a.jsx("span",{children:l?"Saving...":e?"Save Changes":"Create Announcement"})]})]})]})})})})})]})})},zC=768;function a4e(){const[e,t]=C.useState(void 0);return C.useEffect(()=>{const r=window.matchMedia(`(max-width: ${zC-1}px)`),n=()=>{t(window.innerWidth<zC)};return r.addEventListener("change",n),t(window.innerWidth<zC),()=>r.removeEventListener("change",n)},[]),!!e}const i4e=({children:e,withBottomNav:t})=>a.jsx("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"env(safe-area-inset-top)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)",paddingBottom:`calc(env(safe-area-inset-bottom) + ${t?"60px":"0px"})`},children:e}),o4e=[{to:"/dashboard",label:"Home",icon:jS},{to:"/students",label:"Students",icon:ci},{to:"/attendance",label:"Attend",icon:qs},{to:"/announcements",label:"News",icon:Jh},{to:"/settings",label:"Settings",icon:TS}],l4e=()=>a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 bg-white/95 backdrop-blur border-t border-gray-200",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:a.jsx("ul",{className:"grid grid-cols-5",children:o4e.map(({to:e,label:t,icon:r})=>a.jsx("li",{children:a.jsxs(EX,{to:e,className:({isActive:n})=>`flex flex-col items-center justify-center py-2.5 text-xs ${n?"text-indigo-600":"text-gray-600"}`,children:[a.jsx(r,{size:20}),a.jsx("span",{className:"mt-1.5 leading-none",children:t})]})},e))})}),c4e=()=>{const e=a4e(),[t,r]=C.useState(!1),[n,s]=C.useState(),[i,o]=C.useState(0),[l,A]=C.useState("grid"),[u,h]=C.useState(!1),m=()=>{s(void 0),r(!0)},w=N=>{s(N),r(!0)},p=()=>{r(!1),s(void 0)},b=()=>{p(),o(N=>N+1)};return e?a.jsxs(i4e,{withBottomNav:!0,children:[a.jsxs("header",{className:"sticky top-0 z-30 bg-white/90 backdrop-blur border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[a.jsx("h1",{className:"text-base font-semibold",children:"Announcements"}),a.jsx("button",{onClick:m,className:"px-3 py-1.5 text-sm rounded-md bg-indigo-600 text-white active:scale-[0.98]",children:"New"})]}),a.jsxs("main",{className:"p-4 pb-24",children:[a.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[a.jsx("div",{className:"text-xs text-slate-500",children:"View"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>A("list"),className:`px-3 py-1.5 rounded-md text-sm ${l==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(Fd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>A("grid"),className:`px-3 py-1.5 rounded-md text-sm ${l==="grid"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(UA,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>A("compact"),className:`px-3 py-1.5 rounded-md text-sm ${l==="compact"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(CN,{className:"h-4 w-4"})})]})]}),a.jsx(dL,{isAdmin:!0,onEdit:w,onAdd:m,viewMode:l},i)]}),a.jsx(l4e,{}),t&&a.jsx(BL,{announcement:n,onClose:p,onSuccess:b})]}):a.jsxs("div",{className:"flex h-screen bg-gray-50/50",children:[a.jsx(wn,{isCollapsed:u,setIsCollapsed:h,onBarcodeClick:()=>{}}),a.jsxs("div",{className:"flex flex-col flex-1",children:[a.jsx(Fs,{}),a.jsx("main",{className:"flex-1 p-6 lg:p-8 overflow-y-auto",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:"View"}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>A("list"),className:`px-3 py-1.5 rounded-md text-sm ${l==="list"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(Fd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>A("grid"),className:`px-3 py-1.5 rounded-md text-sm ${l==="grid"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(UA,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>A("compact"),className:`px-3 py-1.5 rounded-md text-sm ${l==="compact"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,children:a.jsx(CN,{className:"h-4 w-4"})})]})]}),a.jsx(dL,{isAdmin:!0,onEdit:w,onAdd:m,viewMode:l},i)]})})]}),t&&a.jsx(BL,{announcement:n,onClose:p,onSuccess:b})]})},A4e=e=>{switch(e){case"Approved":return"bg-green-100 text-green-800";case"Not Approved":return"bg-red-100 text-red-800";case"Done":return"bg-blue-100 text-blue-800";case"Not Done":return"bg-orange-100 text-orange-800";case"Posted":default:return"bg-yellow-100 text-yellow-800"}},u4e=()=>{const[e,t]=C.useState([]),[r,n]=C.useState("newest"),[s,i]=C.useState("All"),[o,l]=C.useState(!0),[A,u]=C.useState(null),h=Ur(),[m,w]=C.useState(!1),p=()=>{},b=async()=>{try{l(!0),u(null);const B=await Re.getAllQueriesForAdmin();t(B)}catch(B){console.error("Error fetching queries:",B),u(B.message||"Failed to load queries.")}finally{l(!1)}};C.useEffect(()=>{b()},[]);const N=async(B,I)=>{if(!["Approved","Not Approved","Done","Not Done","Posted"].includes(I)){console.error("Invalid status update:",I),u("Invalid status selected.");return}try{await Re.updateQueryStatus(B,I),await b()}catch(O){console.error("Error updating query status:",O),u(O.message||"Failed to update status.")}},j=B=>{h(`/queries/${B}`)},y=C.useMemo(()=>e.filter(I=>s==="All"||I.status===s).sort((I,_)=>{switch(r){case"upvotes":return(_.upvotes||0)-(I.upvotes||0);case"status":return I.status.localeCompare(_.status);case"newest":default:return new Date(_.createdAt).getTime()-new Date(I.createdAt).getTime()}}),[e,r,s]);return o?a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(wn,{isCollapsed:m,setIsCollapsed:w,onBarcodeClick:p}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx("div",{className:"text-center p-8 bg-white rounded-lg shadow-sm border",children:"Loading queries..."})})})]})]}):a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(wn,{isCollapsed:m,setIsCollapsed:w,onBarcodeClick:p}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-4 sm:mb-6",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"Manage Public Queries"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"View, filter, and update the status of all student queries."})]}),a.jsx("div",{className:"mb-4 bg-white p-3 sm:p-4 rounded-lg shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3 sm:gap-6",children:[a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{htmlFor:"filter",className:"text-sm font-medium text-gray-700",children:"Filter by status"}),a.jsxs("select",{id:"filter",value:s,onChange:B=>i(B.target.value),className:"mt-1 w-full sm:w-56 text-sm rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"All",children:"All"}),a.jsx("option",{value:"Posted",children:"Posted"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"Not Approved",children:"Not Approved"}),a.jsx("option",{value:"Done",children:"Done"}),a.jsx("option",{value:"Not Done",children:"Not Done"})]})]}),a.jsxs("div",{className:"w-full sm:w-auto",children:[a.jsx("label",{htmlFor:"sort",className:"text-sm font-medium text-gray-700",children:"Sort by"}),a.jsxs("select",{id:"sort",value:r,onChange:B=>n(B.target.value),className:"mt-1 w-full sm:w-56 text-sm rounded-md border-gray-300 shadow-sm",children:[a.jsx("option",{value:"newest",children:"Newest"}),a.jsx("option",{value:"upvotes",children:"Most Upvoted"}),a.jsx("option",{value:"status",children:"Status"})]})]})]})}),A&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:A}),a.jsx("div",{className:"space-y-3 sm:space-y-4",children:y.map(B=>a.jsxs("div",{className:"p-4 sm:p-5 border rounded-lg shadow-sm bg-white transition-all hover:shadow-md",children:[a.jsxs("div",{className:"flex justify-between items-start gap-3",children:[a.jsxs("div",{className:"flex-grow cursor-pointer",onClick:()=>j(B.id),children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 hover:text-indigo-600",children:B.title}),a.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:["Posted by ",a.jsx("span",{className:"font-medium",children:B.studentName})," on ",new Date(B.createdAt).toLocaleDateString()]})]}),a.jsx("span",{className:`text-[10px] sm:text-xs font-medium mr-1 sm:mr-2 px-2 py-0.5 sm:px-2.5 sm:py-1 rounded-full ${A4e(B.status)}`,children:B.status})]}),a.jsxs("p",{className:"text-gray-600 mt-2 mb-3 sm:mb-4 text-sm",children:[B.description.substring(0,150),B.description.length>150&&"..."]}),a.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm border-t pt-2 sm:pt-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 text-gray-600",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(DS,{className:"w-4 h-4 mr-1 text-green-500"})," ",B.upvotes||0]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(PS,{className:"w-4 h-4 mr-1 text-red-500"})," ",B.downvotes||0]})]}),a.jsx("div",{className:"relative inline-block text-left",children:a.jsxs("select",{onChange:I=>N(B.id,I.target.value),value:B.status,className:"text-xs sm:text-sm border-gray-300 rounded-md shadow-sm bg-white hover:border-gray-400 focus:ring-0 focus:border-gray-400",onClick:I=>I.stopPropagation(),children:[a.jsx("option",{children:"Posted"}),a.jsx("option",{children:"Approved"}),a.jsx("option",{children:"Not Approved"}),a.jsx("option",{children:"Done"}),a.jsx("option",{children:"Not Done"})]})})]})]},B.id))}),y.length===0&&!o&&a.jsx("div",{className:"text-center p-8 bg-white rounded-lg shadow-sm border",children:a.jsx("p",{className:"text-gray-600",children:"No queries match the current filter."})})]})})]})]})},d4e=()=>{var _,O,H;const{id:e}=XA(),t=Ur(),{user:r}=ga(),[n,s]=C.useState(null),[i,o]=C.useState(!0),[l,A]=C.useState(null),[u,h]=C.useState(""),[m,w]=C.useState(null),p=async()=>{try{o(!0);const D=await Re.getQueryById(Number(e)),L=D.comments||[],T={};L.forEach(M=>{T[M.id]={...M,replies:[]}});const G=[];L.forEach(M=>{M.parentCommentId&&T[M.parentCommentId]?T[M.parentCommentId].replies.push(T[M.id]):G.push(T[M.id])}),s({...D,comments:G})}catch(D){A("Failed to load query"),console.error("Error fetching query:",D)}finally{o(!1)}};C.useEffect(()=>{p()},[e]);const b=async D=>{if(n)try{await Re.voteOnQuery(n.id,D),await p()}catch(L){console.error("Error voting:",L)}},N=async D=>{if(n)try{await Re.updateQueryStatus(n.id,D),await p()}catch(L){console.error("Error updating status:",L)}},j=async D=>{if(D.preventDefault(),!(!u.trim()||!n))try{const L={comment_text:u,parent_comment_id:m};await Re.postComment(n.id,L),h(""),w(null),await p()}catch(L){console.error("Error posting comment:",L)}},y=(D,L=0)=>D.map(T=>a.jsxs("div",{className:`flex space-x-4 mt-4 ${L>0?"pl-6":""}`,children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-600",children:T.commenterName.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold text-sm text-gray-800",children:T.commenterName}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(T.createdAt).toLocaleString()})]}),a.jsx("p",{className:"text-gray-700 mt-1 text-sm",children:T.commentText})]}),a.jsx("button",{onClick:()=>w(T.id),className:"text-xs text-indigo-600 hover:underline mt-1 pl-1",children:"Reply"}),m===T.id&&a.jsxs("form",{onSubmit:j,className:"mt-2",children:[a.jsx("textarea",{value:u,onChange:G=>h(G.target.value),className:"w-full p-2 border rounded-md text-sm",placeholder:"Write your reply...",rows:2}),a.jsxs("div",{className:"mt-2 space-x-2",children:[a.jsx("button",{type:"submit",className:"bg-indigo-600 text-white px-3 py-1 rounded text-sm shadow-sm",children:"Post"}),a.jsx("button",{type:"button",onClick:()=>w(null),className:"text-gray-600 text-sm",children:"Cancel"})]})]}),T.replies&&y(T.replies,L+1)]})]},T.id));if(i)return a.jsx("div",{className:"p-6 text-center",children:"Loading..."});if(l)return a.jsx("div",{className:"p-6 text-center text-red-500",children:l});if(!n)return a.jsx("div",{className:"p-6 text-center",children:"Query not found"});const B={Posted:"bg-yellow-100 text-yellow-800",Approved:"bg-green-100 text-green-800","Not Approved":"bg-red-100 text-red-800",Done:"bg-blue-100 text-blue-800","Not Done":"bg-orange-100 text-orange-800"},I=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="owner";return a.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:[a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("button",{onClick:()=>t(-1),className:"mb-4 text-indigo-600 hover:underline flex items-center gap-2 text-sm",children:[a.jsx(dl,{className:"w-4 h-4"}),"Back to Queries"]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-800",children:n.title}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${B[n.status]}`,children:n.status})]}),a.jsxs("div",{className:"text-sm text-gray-500 mb-4 border-b pb-4",children:["Posted by ",a.jsx("span",{className:"font-medium text-gray-700",children:n.studentName})," on ",new Date(n.createdAt).toLocaleDateString()]}),a.jsx("p",{className:"text-gray-700 mb-5",children:n.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>b("up"),className:`flex items-center space-x-1.5 text-gray-600 hover:text-green-600 ${n.userVote==="upvote"?"text-green-600 font-semibold":""}`,children:[a.jsx(DS,{className:"w-5 h-5"}),a.jsx("span",{children:n.upvotes})]}),a.jsxs("button",{onClick:()=>b("down"),className:`flex items-center space-x-1.5 text-gray-600 hover:text-red-600 ${n.userVote==="downvote"?"text-red-600 font-semibold":""}`,children:[a.jsx(PS,{className:"w-5 h-5"}),a.jsx("span",{children:n.downvotes})]})]}),I&&a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{onChange:D=>N(D.target.value),value:n.status,className:"text-xs border-gray-300 rounded-md shadow-sm",children:[a.jsx("option",{children:"Posted"}),a.jsx("option",{children:"Approved"}),a.jsx("option",{children:"Not Approved"}),a.jsx("option",{children:"Done"}),a.jsx("option",{children:"Not Done"})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[a.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[a.jsx(kS,{className:"w-5 h-5 text-gray-500"}),"Discussion (",((_=n.comments)==null?void 0:_.length)||0,")"]}),a.jsxs("form",{onSubmit:j,className:"mb-6 flex items-start space-x-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex-shrink-0"}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("textarea",{value:u,onChange:D=>h(D.target.value),className:"w-full p-2 border rounded-md mb-2 text-sm",placeholder:m?"Write your reply...":"Add to the discussion...",rows:m?2:3}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-1.5 rounded-md text-sm shadow-sm hover:bg-indigo-700 flex items-center gap-2",children:[a.jsx(Yee,{className:"w-4 h-4"}),"Post"]}),m&&a.jsx("button",{type:"button",onClick:()=>{w(null),h("")},className:"text-gray-600 text-sm",children:"Cancel Reply"})]})]})]}),a.jsx("div",{children:n.comments&&n.comments.length>0?y(n.comments):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No comments yet. Be the first to say something!"})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[((O=n.comments)==null?void 0:O.length)||0," ",((H=n.comments)==null?void 0:H.length)===1?"Comment":"Comments"]}),a.jsxs("form",{onSubmit:j,className:"mb-6",children:[a.jsx("textarea",{value:u,onChange:D=>h(D.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Add a comment...",rows:3}),a.jsx("div",{className:"mt-2 flex justify-end",children:a.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",disabled:!u.trim(),children:"Post Comment"})})]}),a.jsx("div",{className:"space-y-4",children:n.comments&&n.comments.length>0?y(n.comments):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"No comments yet. Be the first to comment!"})})]})]})},h4e=()=>{const[e,t]=C.useState(""),[r,n]=C.useState(""),[s,i]=C.useState(!1),o=Ur(),l=async A=>{if(A.preventDefault(),!e.trim()||!r.trim()){Ee.error("Title and description cannot be empty.");return}i(!0);try{const u=await Re.postQuery({title:e,description:r});Ee.success("Query submitted successfully!"),o(`/queries/${u.id}`)}catch(u){console.error("Failed to post query:",u),Ee.error("Failed to submit query. Please try again.")}finally{i(!1)}};return a.jsx("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:a.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-md",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-6",children:"Ask a New Question"}),a.jsxs("form",{onSubmit:l,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",id:"title",value:e,onChange:A=>t(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter a concise title for your query",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{id:"description",value:r,onChange:A=>n(A.target.value),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Provide a detailed description of your question or suggestion",required:!0})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",disabled:s,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg shadow-sm hover:bg-indigo-700 transition-colors disabled:bg-indigo-300 disabled:cursor-not-allowed",children:s?"Submitting...":"Submit Query"})})]})]})})};function f4e(e,t=[]){let r=[];function n(i,o){const l=C.createContext(o),A=r.length;r=[...r,o];function u(m){const{scope:w,children:p,...b}=m,N=(w==null?void 0:w[e][A])||l,j=C.useMemo(()=>b,Object.values(b));return a.jsx(N.Provider,{value:j,children:p})}function h(m,w){const p=(w==null?void 0:w[e][A])||l,b=C.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=r.map(o=>C.createContext(o));return function(l){const A=(l==null?void 0:l[e])||i;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:A}}),[l,A])}};return s.scopeName=e,[n,m4e(s,...t)]}function m4e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:A,scopeName:u})=>{const m=A(i)[`__scope${u}`];return{...l,...m}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var $C="rovingFocusGroup.onEntryFocus",p4e={bubbles:!1,cancelable:!0},ob="RovingFocusGroup",[iB,nK,g4e]=nQ(ob),[x4e,sK]=f4e(ob,[g4e]),[w4e,y4e]=x4e(ob),aK=C.forwardRef((e,t)=>a.jsx(iB.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(iB.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(v4e,{...e,ref:t})})}));aK.displayName=ob;var v4e=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:A,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...m}=e,w=C.useRef(null),p=ts(t,w),b=TE(i),[N=null,j]=Yh({prop:o,defaultProp:l,onChange:A}),[y,B]=C.useState(!1),I=Dc(u),_=nK(r),O=C.useRef(!1),[H,D]=C.useState(0);return C.useEffect(()=>{const L=w.current;if(L)return L.addEventListener($C,I),()=>L.removeEventListener($C,I)},[I]),a.jsx(w4e,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:N,onItemFocus:C.useCallback(L=>j(L),[j]),onItemShiftTab:C.useCallback(()=>B(!0),[]),onFocusableItemAdd:C.useCallback(()=>D(L=>L+1),[]),onFocusableItemRemove:C.useCallback(()=>D(L=>L-1),[]),children:a.jsx(Jr.div,{tabIndex:y||H===0?-1:0,"data-orientation":n,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:_r(e.onMouseDown,()=>{O.current=!0}),onFocus:_r(e.onFocus,L=>{const T=!O.current;if(L.target===L.currentTarget&&T&&!y){const G=new CustomEvent($C,p4e);if(L.currentTarget.dispatchEvent(G),!G.defaultPrevented){const M=_().filter(q=>q.focusable),V=M.find(q=>q.active),J=M.find(q=>q.id===N),ee=[V,J,...M].filter(Boolean).map(q=>q.ref.current);lK(ee,h)}}O.current=!1}),onBlur:_r(e.onBlur,()=>B(!1))})})}),iK="RovingFocusGroupItem",oK=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,...o}=e,l=jA(),A=i||l,u=y4e(iK,r),h=u.currentTabStopId===A,m=nK(r),{onFocusableItemAdd:w,onFocusableItemRemove:p}=u;return C.useEffect(()=>{if(n)return w(),()=>p()},[n,w,p]),a.jsx(iB.ItemSlot,{scope:r,id:A,focusable:n,active:s,children:a.jsx(Jr.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:_r(e.onMouseDown,b=>{n?u.onItemFocus(A):b.preventDefault()}),onFocus:_r(e.onFocus,()=>u.onItemFocus(A)),onKeyDown:_r(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const N=N4e(b,u.orientation,u.dir);if(N!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=m().filter(B=>B.focusable).map(B=>B.ref.current);if(N==="last")y.reverse();else if(N==="prev"||N==="next"){N==="prev"&&y.reverse();const B=y.indexOf(b.currentTarget);y=u.loop?B4e(y,B+1):y.slice(B+1)}setTimeout(()=>lK(y))}})})})});oK.displayName=iK;var b4e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function C4e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function N4e(e,t,r){const n=C4e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return b4e[n]}function lK(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function B4e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var S4e=aK,E4e=oK,C6="Tabs",[j4e,rNe]=A1(C6,[sK]),cK=sK(),[I4e,N6]=j4e(C6),AK=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:A="automatic",...u}=e,h=TE(l),[m,w]=Yh({prop:n,onChange:s,defaultProp:i});return a.jsx(I4e,{scope:r,baseId:jA(),value:m,onValueChange:w,orientation:o,dir:h,activationMode:A,children:a.jsx(Jr.div,{dir:h,"data-orientation":o,...u,ref:t})})});AK.displayName=C6;var uK="TabsList",dK=C.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=N6(uK,r),o=cK(r);return a.jsx(S4e,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Jr.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});dK.displayName=uK;var hK="TabsTrigger",fK=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=N6(hK,r),l=cK(r),A=gK(o.baseId,n),u=xK(o.baseId,n),h=n===o.value;return a.jsx(E4e,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(Jr.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:A,...i,ref:t,onMouseDown:_r(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:_r(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:_r(e.onFocus,()=>{const m=o.activationMode!=="manual";!h&&!s&&m&&o.onValueChange(n)})})})});fK.displayName=hK;var mK="TabsContent",pK=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=N6(mK,r),A=gK(l.baseId,n),u=xK(l.baseId,n),h=n===l.value,m=C.useRef(h);return C.useEffect(()=>{const w=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(w)},[]),a.jsx(hf,{present:s||h,children:({present:w})=>a.jsx(Jr.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":A,hidden:!w,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:w&&i})})});pK.displayName=mK;function gK(e,t){return`${e}-trigger-${t}`}function xK(e,t){return`${e}-content-${t}`}var F4e=AK,wK=dK,yK=fK,vK=pK;const k4e=F4e,bK=C.forwardRef(({className:e,...t},r)=>a.jsx(wK,{ref:r,className:Nr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));bK.displayName=wK.displayName;const Sp=C.forwardRef(({className:e,...t},r)=>a.jsx(yK,{ref:r,className:Nr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Sp.displayName=yK.displayName;const Ep=C.forwardRef(({className:e,...t},r)=>a.jsx(vK,{ref:r,className:Nr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ep.displayName=vK.displayName;const _4e=()=>{const[e,t]=C.useState([]),[r,n]=C.useState({pending:0,accepted:0,rejected:0,total:0}),[s,i]=C.useState({currentPage:1,totalPages:1,totalCount:0,limit:20}),[o,l]=C.useState(!0),[A,u]=C.useState(null),[h,m]=C.useState("all"),[w,p]=C.useState(1),[b,N]=C.useState(null),[j,y]=C.useState(!1),[B,I]=C.useState(!1),[_,O]=C.useState(""),[H,D]=C.useState("grid"),[L,T]=C.useState(!1),G=Ur(),{user:M}=ga();C.useEffect(()=>{J(),Z()},[h,w]);const V=()=>{console.log("Barcode clicked in AdmissionRequests"),G("/barcode")};if(!M)return null;const J=async()=>{try{l(!0);const ne=await Ta(`/admission-requests?status=${h}&page=${w}&limit=20`);if(!ne.ok)throw new Error("Failed to fetch admission requests");const U=await ne.json();t(U.requests),i(U.pagination)}catch(ne){console.error("Error fetching requests:",ne),Ee.error("Failed to load admission requests")}finally{l(!1)}},Z=async()=>{try{const ne=await Ta("/admission-requests/stats/summary");if(ne.ok){const U=await ne.json();n(U)}}catch(ne){console.error("Error fetching stats:",ne)}},ee=async ne=>{try{u(ne);const U=await Ta(`/admission-requests/${ne}/accept`,{method:"POST"});if(!U.ok){let Y="Failed to accept request";try{Y=(await U.json()).message||Y}catch{}throw new Error(Y)}Ee.success("Registration request accepted successfully!"),j&&y(!1),J(),Z()}catch(U){console.error("Error accepting request:",U),Ee.error(U instanceof Error?U.message:"Failed to accept request")}finally{u(null)}},q=async()=>{if(b)try{u(b.id);const ne=await Ta(`/admission-requests/${b.id}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:_})});if(!ne.ok){let U="Failed to reject request";try{U=(await ne.json()).message||U}catch{}throw new Error(U)}Ee.success("Registration request rejected"),I(!1),O(""),N(null),j&&y(!1),J(),Z()}catch(ne){console.error("Error rejecting request:",ne),Ee.error(ne instanceof Error?ne.message:"Failed to reject request")}finally{u(null)}},W=ne=>{switch(ne){case"pending":return a.jsx(Zn,{className:"h-4 w-4"});case"accepted":return a.jsx(Sc,{className:"h-4 w-4"});case"rejected":return a.jsx(pd,{className:"h-4 w-4"});default:return a.jsx(Ei,{className:"h-4 w-4"})}},X=ne=>{switch(ne){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-300 dark:border-yellow-700";case"accepted":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/40 dark:text-green-300 dark:border-green-700";case"rejected":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/40 dark:text-red-300 dark:border-red-700";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-700"}},K=ne=>new Date(ne).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),le=ne=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(ne);return a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50",children:[a.jsx(wn,{isCollapsed:L,setIsCollapsed:T,onBarcodeClick:V}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fs,{}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx(hO,{children:a.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admission Requests"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage student registration requests"})]}),a.jsxs(Jt,{variant:"outline",onClick:()=>G(-1),children:[a.jsx(dl,{className:"h-4 w-4 mr-2"}),"Go Back"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(Mn,{className:"bg-gradient-to-br from-indigo-500 to-violet-600 border-0 text-white ring-1 ring-white/10 transition-transform duration-200 ease-out transform-gpu hover:-translate-y-1 hover:scale-[1.02] hover:rotate-[1deg]",children:a.jsx(Es,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white/80",children:"Total Requests"}),a.jsx("p",{className:"text-2xl font-bold",children:r.total})]}),a.jsx(ci,{className:"h-8 w-8 text-white"})]})})}),a.jsx(Mn,{className:"bg-gradient-to-br from-amber-500 to-orange-600 border-0 text-white ring-1 ring-white/10 transition-transform duration-200 ease-out transform-gpu hover:-translate-y-1 hover:scale-[1.02] hover:rotate-[1deg]",children:a.jsx(Es,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white/80",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold",children:r.pending})]}),a.jsx(Zn,{className:"h-8 w-8 text-white"})]})})}),a.jsx(Mn,{className:"bg-gradient-to-br from-emerald-500 to-teal-600 border-0 text-white ring-1 ring-white/10 transition-transform duration-200 ease-out transform-gpu hover:-translate-y-1 hover:scale-[1.02] hover:rotate-[1deg]",children:a.jsx(Es,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white/80",children:"Accepted"}),a.jsx("p",{className:"text-2xl font-bold",children:r.accepted})]}),a.jsx(Sc,{className:"h-8 w-8 text-white"})]})})}),a.jsx(Mn,{className:"bg-gradient-to-br from-rose-500 to-red-600 border-0 text-white ring-1 ring-white/10 transition-transform duration-200 ease-out transform-gpu hover:-translate-y-1 hover:scale-[1.02] hover:rotate-[1deg]",children:a.jsx(Es,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-white/80",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold",children:r.rejected})]}),a.jsx(pd,{className:"h-8 w-8 text-white"})]})})})]}),a.jsx(Mn,{children:a.jsx(Es,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(ES,{className:"h-4 w-4"}),a.jsx(Pt,{children:"Filter by Status:"})]}),a.jsxs(Fc,{value:h,onValueChange:m,children:[a.jsx(Ul,{className:"w-full sm:w-48",children:a.jsx(kc,{})}),a.jsxs(Ql,{children:[a.jsx(Hs,{value:"all",children:"All Requests"}),a.jsx(Hs,{value:"pending",children:"Pending"}),a.jsx(Hs,{value:"accepted",children:"Accepted"}),a.jsx(Hs,{value:"rejected",children:"Rejected"})]})]})]})})}),a.jsxs(Mn,{children:[a.jsx(Pa,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx(Da,{children:"Registration Requests"}),a.jsxs(Mc,{children:[s.totalCount," total requests  Page ",s.currentPage," of ",s.totalPages]})]}),a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1 w-fit",children:[a.jsx("button",{onClick:()=>D("table"),className:`px-3 py-1.5 rounded-md text-sm ${H==="table"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,title:"Table View",children:a.jsx(Fd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>D("grid"),className:`px-3 py-1.5 rounded-md text-sm ${H==="grid"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,title:"Grid View",children:a.jsx(UA,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>D("compact"),className:`px-3 py-1.5 rounded-md text-sm ${H==="compact"?"bg-white text-indigo-600 shadow-sm":"text-gray-600"}`,title:"Compact",children:a.jsx(CN,{className:"h-4 w-4"})})]})]})}),a.jsx(Es,{children:o?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Qs,{className:"h-8 w-8 animate-spin"})}):e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ci,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No requests found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:h==="all"?"No admission requests have been submitted yet.":`No ${h} requests found.`})]}):a.jsxs(a.Fragment,{children:[H==="table"?a.jsx(a.Fragment,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(ZA,{children:[a.jsx(JA,{children:a.jsxs(js,{children:[a.jsx(hr,{children:"Student"}),a.jsx(hr,{className:"hidden md:table-cell",children:"Contact"}),a.jsx(hr,{className:"hidden lg:table-cell",children:"Branch"}),a.jsx(hr,{children:"Status"}),a.jsx(hr,{className:"hidden xl:table-cell",children:"Submitted"}),a.jsx(hr,{className:"text-right",children:"Actions"})]})}),a.jsx(eu,{children:e.map(ne=>a.jsxs(js,{children:[a.jsx(sr,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ne.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: #",ne.id]})]})}),a.jsx(sr,{className:"hidden md:table-cell",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(li,{className:"h-3 w-3"}),ne.phone]}),ne.email&&a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(Gl,{className:"h-3 w-3"}),ne.email]})]})}),a.jsx(sr,{className:"hidden lg:table-cell",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Io,{className:"h-3 w-3"}),ne.branch_name||"Not specified"]})}),a.jsx(sr,{children:a.jsxs(sd,{className:`${X(ne.status)} flex items-center gap-1 w-fit`,children:[W(ne.status),a.jsx("span",{className:"capitalize",children:ne.status})]})}),a.jsx(sr,{className:"hidden xl:table-cell",children:a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(qs,{className:"h-3 w-3"}),K(ne.created_at)]})}),a.jsx(sr,{children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs(r5,{children:[a.jsx(n5,{asChild:!0,children:a.jsx(Jt,{size:"sm",variant:"outline",onClick:()=>{N(ne),y(!0)},children:a.jsx(ma,{className:"h-4 w-4"})})}),a.jsx(kw,{children:"View Details"})]}),ne.status==="pending"?a.jsxs(a.Fragment,{children:[a.jsxs(r5,{children:[a.jsx(n5,{asChild:!0,children:a.jsx(Jt,{size:"sm",variant:"default",onClick:()=>ee(ne.id),disabled:A===ne.id,children:A===ne.id?a.jsx(Qs,{className:"h-4 w-4 animate-spin"}):a.jsx(ji,{className:"h-4 w-4"})})}),a.jsx(kw,{children:"Accept Request"})]}),a.jsxs(r5,{children:[a.jsx(n5,{asChild:!0,children:a.jsx(Jt,{size:"sm",variant:"destructive",onClick:()=>{N(ne),I(!0)},disabled:A===ne.id,children:a.jsx(e0,{className:"h-4 w-4"})})}),a.jsx(kw,{children:"Reject Request"})]})]}):null]})})]},ne.id))})]})})}):a.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:e.map(ne=>a.jsxs("div",{className:`rounded-xl border-0 ring-1 ring-white/10 shadow-md p-4 flex flex-col h-full text-white bg-gradient-to-br ${ne.status==="accepted"?"from-emerald-500 to-teal-600":ne.status==="rejected"?"from-rose-500 to-red-600":"from-amber-500 to-orange-600"} transition-transform duration-200 ease-out transform-gpu hover:-translate-y-1 hover:scale-[1.02] hover:rotate-[1deg]`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-white",children:ne.name}),a.jsxs("p",{className:"text-xs text-white/80",children:["ID: #",ne.id]})]}),a.jsxs(sd,{className:"bg-white/20 text-white border border-white/30 flex items-center gap-1 w-fit",children:[W(ne.status),a.jsx("span",{className:"capitalize",children:ne.status})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3 text-sm text-white",children:[a.jsxs("div",{className:"rounded-lg p-3 bg-white/10 border border-white/20",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-white/80 flex items-center gap-1",children:[a.jsx(li,{className:"h-3.5 w-3.5 text-white/80"})," Phone"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-white",children:ne.phone})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/10 border border-white/20",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-white/80 flex items-center gap-1",children:[a.jsx(Io,{className:"h-3.5 w-3.5 text-white/80"})," Branch"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-white",children:ne.branch_name||"Not specified"})]}),a.jsxs("div",{className:"rounded-lg p-3 bg-white/10 border border-white/20 col-span-2",children:[a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-white/80 flex items-center gap-1",children:[a.jsx(qs,{className:"h-3.5 w-3.5 text-white/80"})," Submitted"]}),a.jsx("div",{className:"mt-0.5 font-semibold text-white",children:K(ne.created_at)})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Jt,{size:"sm",variant:"outline",onClick:()=>{N(ne),y(!0)},title:"View Details",className:"border-white/40 text-white hover:bg-white/10",children:a.jsx(ma,{className:"h-4 w-4"})})}),ne.status==="pending"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{size:"sm",onClick:()=>ee(ne.id),disabled:A===ne.id,className:"bg-white/20 hover:bg-white/30 text-white",children:A===ne.id?a.jsx(Qs,{className:"h-4 w-4 animate-spin"}):a.jsx(ji,{className:"h-4 w-4"})}),a.jsx(Jt,{size:"sm",variant:"destructive",onClick:()=>{N(ne),I(!0)},disabled:A===ne.id,className:"bg-white/20 hover:bg-white/30 text-white border-0",children:a.jsx(e0,{className:"h-4 w-4"})})]})]})]},ne.id))}),s.totalPages>1&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-4 px-2",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(s.currentPage-1)*s.limit+1," to ",Math.min(s.currentPage*s.limit,s.totalCount)," of ",s.totalCount," requests"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{variant:"outline",size:"sm",onClick:()=>p(Math.max(1,w-1)),disabled:w===1,children:"Previous"}),a.jsxs("span",{className:"text-sm font-medium",children:["Page ",s.currentPage," of ",s.totalPages]}),a.jsx(Jt,{variant:"outline",size:"sm",onClick:()=>p(Math.min(s.totalPages,w+1)),disabled:w===s.totalPages,children:"Next"})]})]})]})})]}),a.jsx(S0,{open:j,onOpenChange:y,children:a.jsxs(Ph,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[a.jsxs(Dh,{children:[a.jsx(Rh,{children:"Registration Request Details"}),a.jsxs(Mh,{children:["Request ID: #",b==null?void 0:b.id,"  Submitted: ",b&&K(b.created_at)]})]}),b&&a.jsxs("div",{className:"space-y-6 flex-grow overflow-y-auto -mx-6 px-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsxs(sd,{className:`${X(b.status)} flex items-center gap-1`,children:[W(b.status),a.jsx("span",{className:"capitalize",children:b.status})]})]}),a.jsxs(k4e,{defaultValue:"personal",className:"w-full",children:[a.jsxs(bK,{className:"grid w-full grid-cols-2 sm:grid-cols-4",children:[a.jsx(Sp,{value:"personal",children:"Personal"}),a.jsx(Sp,{value:"membership",children:"Membership"}),a.jsx(Sp,{value:"payment",children:"Payment"}),a.jsx(Sp,{value:"status",children:"Status"})]}),a.jsxs("div",{className:"pt-4",children:[a.jsxs(Ep,{value:"personal",className:"space-y-4 m-0",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Pt,{children:"Full Name"}),a.jsx("p",{className:"text-sm font-medium",children:b.name})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Father's Name"}),a.jsx("p",{className:"text-sm",children:b.father_name||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Phone"}),a.jsx("p",{className:"text-sm",children:b.phone})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Email"}),a.jsx("p",{className:"text-sm",children:b.email||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Aadhar Number"}),a.jsx("p",{className:"text-sm",children:b.aadhar_number||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Registration Number"}),a.jsx("p",{className:"text-sm",children:b.registration_number||"Not provided"})]})]}),b.address&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Pt,{children:"Address"}),a.jsx("p",{className:"text-sm",children:b.address})]})]}),a.jsx(Ep,{value:"membership",className:"space-y-4 m-0",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Pt,{children:"Branch"}),a.jsx("p",{className:"text-sm",children:b.branch_name||"Not specified"})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Seat"}),a.jsx("p",{className:"text-sm",children:b.seat_number||"No preference"})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Locker"}),a.jsx("p",{className:"text-sm",children:b.locker_number||"Not requested"})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Membership Start"}),a.jsx("p",{className:"text-sm",children:b.membership_start?K(b.membership_start):"Not specified"})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Membership End"}),a.jsx("p",{className:"text-sm",children:b.membership_end?K(b.membership_end):"Not specified"})]})]})}),a.jsx(Ep,{value:"payment",className:"space-y-4 m-0",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Pt,{children:"Total Fee"}),a.jsx("p",{className:"text-sm font-medium",children:le(b.total_fee)})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Cash Payment"}),a.jsx("p",{className:"text-sm",children:le(b.cash)})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Online Payment"}),a.jsx("p",{className:"text-sm",children:le(b.online)})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Security Money"}),a.jsx("p",{className:"text-sm",children:le(b.security_money)})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Discount"}),a.jsx("p",{className:"text-sm",children:le(b.discount)})]}),a.jsxs("div",{children:[a.jsx(Pt,{children:"Due Amount"}),a.jsx("p",{className:"text-sm font-medium text-red-600",children:le(b.due_amount)})]})]})}),a.jsx(Ep,{value:"status",className:"space-y-4 m-0",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx(Pt,{children:"Current Status"}),a.jsx("div",{className:"flex items-center gap-2 mt-1",children:a.jsxs(sd,{className:`${X(b.status)} flex items-center gap-1`,children:[W(b.status),a.jsx("span",{className:"capitalize",children:b.status})]})})]}),b.processed_at&&a.jsxs("div",{children:[a.jsx(Pt,{children:"Processed At"}),a.jsx("p",{className:"text-sm",children:K(b.processed_at)})]}),b.processed_by_username&&a.jsxs("div",{children:[a.jsx(Pt,{children:"Processed By"}),a.jsx("p",{className:"text-sm",children:b.processed_by_username})]}),b.rejection_reason&&a.jsxs("div",{children:[a.jsx(Pt,{children:"Rejection Reason"}),a.jsx("p",{className:"text-sm text-red-600",children:b.rejection_reason})]}),b.remark&&a.jsxs("div",{children:[a.jsx(Pt,{children:"Student's Notes"}),a.jsx("p",{className:"text-sm",children:b.remark})]})]})})]})]})]}),a.jsx(Oh,{className:"pt-4 mt-auto",children:a.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2 w-full",children:[a.jsx(Jt,{variant:"outline",onClick:()=>y(!1),children:"Close"}),(b==null?void 0:b.status)==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(Jt,{variant:"destructive",onClick:()=>{y(!1),I(!0)},disabled:A===(b==null?void 0:b.id),children:[a.jsx(e0,{className:"mr-2 h-4 w-4"}),"Reject Request"]}),a.jsxs(Jt,{onClick:()=>b&&ee(b.id),disabled:A===(b==null?void 0:b.id),children:[A===(b==null?void 0:b.id)?a.jsx(Qs,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(ji,{className:"mr-2 h-4 w-4"}),"Accept Request"]})]})]})})]})}),a.jsx(S0,{open:B,onOpenChange:I,children:a.jsxs(Ph,{children:[a.jsxs(Dh,{children:[a.jsx(Rh,{children:"Reject Registration Request"}),a.jsx(Mh,{children:"Are you sure you want to reject this registration request? This action cannot be undone."})]}),a.jsx("div",{className:"space-y-4 py-2",children:a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"rejectionReason",children:"Reason for Rejection (Optional)"}),a.jsx(am,{id:"rejectionReason",placeholder:"Provide a reason for rejection...",value:_,onChange:ne=>O(ne.target.value),rows:3,className:"mt-2"})]})}),a.jsx(Oh,{children:a.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2 w-full",children:[a.jsx(Jt,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),a.jsxs(Jt,{variant:"destructive",onClick:q,disabled:A===(b==null?void 0:b.id),children:[A===(b==null?void 0:b.id)?a.jsx(Qs,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(e0,{className:"mr-2 h-4 w-4"}),"Reject Request"]})]})})]})})]})})})})]})]})},T4e=()=>{const{libraryCode:e}=XA(),t=Ur(),[r,n]=C.useState(null),[s,i]=C.useState(!0),[o,l]=C.useState(!1),[A,u]=C.useState(null),[h,m]=C.useState(!1),[w,p]=C.useState(null),[b,N]=C.useState({name:"",email:"",phone:"",address:"",father_name:"",aadhar_number:"",registration_number:"",branch_id:"",membership_start:"",membership_end:"",total_fee:"0",amount_paid:"0",cash:"0",online:"0",security_money:"0",discount:"0",shift_ids:[],seat_id:"",locker_id:"",remark:""});C.useEffect(()=>{e&&j()},[e]);const j=async()=>{try{i(!0);const I=await fetch(`${Cg}/public-registration/library/${e}`);if(!I.ok)throw I.status===404?new Error("Library not found. Please check the registration link."):new Error("Failed to load library information");const _=await I.json();n(_)}catch(I){u(I instanceof Error?I.message:"Failed to load library information")}finally{i(!1)}},y=(I,_)=>{N(O=>({...O,[I]:_}))},B=async I=>{if(I.preventDefault(),!b.name||!b.phone||!b.branch_id){Ee.error("Please fill in all required fields (Name, Phone, Branch)");return}try{l(!0),u(null);const _=await fetch(`${Cg}/public-registration/library/${e}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...b,shift_ids:b.shift_ids.map(H=>parseInt(H)),branch_id:parseInt(b.branch_id),seat_id:b.seat_id&&b.seat_id!=="none"?parseInt(b.seat_id):null,locker_id:b.locker_id&&b.locker_id!=="none"?parseInt(b.locker_id):null})}),O=await _.json();if(!_.ok)throw new Error(O.message||"Registration failed");m(!0),p(O.requestId),Ee.success("Registration request submitted successfully!")}catch(_){const O=_ instanceof Error?_.message:"Registration failed";u(O),Ee.error(O)}finally{l(!1)}};return s?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Qs,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading registration form..."})]})}):A&&!r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs(Mn,{className:"w-full max-w-md",children:[a.jsx(Pa,{children:a.jsxs(Da,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(Ei,{className:"h-5 w-5"}),"Error"]})}),a.jsxs(Es,{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:A}),a.jsx(Jt,{onClick:()=>t("/"),variant:"outline",className:"w-full",children:"Go Home"})]})]})}):h?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:a.jsxs(Mn,{className:"w-full max-w-md",children:[a.jsx(Pa,{children:a.jsxs(Da,{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Sc,{className:"h-5 w-5"}),"Registration Submitted!"]})}),a.jsxs(Es,{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 mb-2",children:"Your registration request has been submitted successfully."}),a.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Request ID: ",a.jsxs("span",{className:"font-mono font-medium",children:["#",w]})]})]}),a.jsxs(BA,{children:[a.jsx(Ei,{className:"h-4 w-4"}),a.jsx(SA,{children:"Your request is now pending review by the library administration. You will be contacted once your request is processed."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Jt,{onClick:()=>t(`/registration-status/${e}/${b.phone}`),className:"w-full",children:"Check Status"}),a.jsx(Jt,{onClick:()=>window.location.reload(),variant:"outline",className:"w-full",children:"Submit Another Request"})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(Mn,{className:"mb-6",children:a.jsxs(Pa,{children:[a.jsxs(Da,{className:"flex items-center gap-2",children:[a.jsx(Io,{className:"h-6 w-6"}),r==null?void 0:r.library.name]}),a.jsxs(Mc,{children:["Student Registration Form  Library Code: ",r==null?void 0:r.library.code]})]})}),a.jsxs(Mn,{children:[a.jsxs(Pa,{children:[a.jsx(Da,{children:"Student Registration"}),a.jsx(Mc,{children:"Please fill out all required information. Your request will be reviewed by the library administration."})]}),a.jsx(Es,{children:a.jsxs("form",{onSubmit:B,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(Wi,{className:"h-5 w-5"}),"Personal Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"name",children:"Full Name *"}),a.jsx(Gr,{id:"name",value:b.name,onChange:I=>y("name",I.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"father_name",children:"Father's Name"}),a.jsx(Gr,{id:"father_name",value:b.father_name,onChange:I=>y("father_name",I.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"phone",children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(li,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(Gr,{id:"phone",type:"tel",className:"pl-10",value:b.phone,onChange:I=>y("phone",I.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"email",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(Gr,{id:"email",type:"email",className:"pl-10",value:b.email,onChange:I=>y("email",I.target.value)})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"aadhar_number",children:"Aadhar Number"}),a.jsx(Gr,{id:"aadhar_number",value:b.aadhar_number,onChange:I=>y("aadhar_number",I.target.value)})]}),a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"registration_number",children:"Registration Number"}),a.jsx(Gr,{id:"registration_number",value:b.registration_number,onChange:I=>y("registration_number",I.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"address",children:"Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Rl,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(am,{id:"address",className:"pl-10",value:b.address,onChange:I=>y("address",I.target.value),rows:3})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(Io,{className:"h-5 w-5"}),"Library Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"branch_id",children:"Branch *"}),a.jsxs(Fc,{value:b.branch_id,onValueChange:I=>y("branch_id",I),children:[a.jsx(Ul,{children:a.jsx(kc,{placeholder:"Select a branch"})}),a.jsx(Ql,{children:r==null?void 0:r.branches.map(I=>a.jsx(Hs,{value:I.id.toString(),children:I.name},I.id))})]})]}),a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"seat_id",children:"Preferred Seat (Optional)"}),a.jsxs(Fc,{value:b.seat_id,onValueChange:I=>y("seat_id",I),children:[a.jsx(Ul,{children:a.jsx(kc,{placeholder:"Select a seat"})}),a.jsxs(Ql,{children:[a.jsx(Hs,{value:"none",children:"No preference"}),r==null?void 0:r.seats.map(I=>a.jsxs(Hs,{value:I.id.toString(),children:["Seat ",I.seat_number]},I.id))]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"locker_id",children:"Preferred Locker (Optional)"}),a.jsxs(Fc,{value:b.locker_id,onValueChange:I=>y("locker_id",I),children:[a.jsx(Ul,{children:a.jsx(kc,{placeholder:"Select a locker"})}),a.jsxs(Ql,{children:[a.jsx(Hs,{value:"none",children:"No locker needed"}),r==null?void 0:r.lockers.map(I=>a.jsxs(Hs,{value:I.id.toString(),children:["Locker ",I.locker_number]},I.id))]})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(qs,{className:"h-5 w-5"}),"Membership Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"membership_start",children:"Membership Start Date"}),a.jsx(Gr,{id:"membership_start",type:"date",value:b.membership_start,onChange:I=>y("membership_start",I.target.value)})]}),a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"membership_end",children:"Membership End Date"}),a.jsx(Gr,{id:"membership_end",type:"date",value:b.membership_end,onChange:I=>y("membership_end",I.target.value)})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[a.jsx(Eg,{className:"h-5 w-5"}),"Payment Information (Optional)"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"total_fee",children:"Total Fee"}),a.jsx(Gr,{id:"total_fee",type:"number",min:"0",step:"0.01",value:b.total_fee,onChange:I=>y("total_fee",I.target.value)})]}),a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"cash",children:"Cash Payment"}),a.jsx(Gr,{id:"cash",type:"number",min:"0",step:"0.01",value:b.cash,onChange:I=>y("cash",I.target.value)})]}),a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"online",children:"Online Payment"}),a.jsx(Gr,{id:"online",type:"number",min:"0",step:"0.01",value:b.online,onChange:I=>y("online",I.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"security_money",children:"Security Money"}),a.jsx(Gr,{id:"security_money",type:"number",min:"0",step:"0.01",value:b.security_money,onChange:I=>y("security_money",I.target.value)})]}),a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"discount",children:"Discount"}),a.jsx(Gr,{id:"discount",type:"number",min:"0",step:"0.01",value:b.discount,onChange:I=>y("discount",I.target.value)})]})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"remark",children:"Additional Notes"}),a.jsx(am,{id:"remark",value:b.remark,onChange:I=>y("remark",I.target.value),rows:3,placeholder:"Any additional information you'd like to share..."})]})}),A&&a.jsxs(BA,{variant:"destructive",children:[a.jsx(Ei,{className:"h-4 w-4"}),a.jsx(SA,{children:A})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(Jt,{type:"submit",disabled:o,className:"flex-1",children:o?a.jsxs(a.Fragment,{children:[a.jsx(Qs,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Registration Request"}),a.jsx(Jt,{type:"button",variant:"outline",onClick:()=>t("/"),disabled:o,children:"Cancel"})]})]})})]})]})})},L4e=()=>{const{user:e}=ga(),[t,r]=C.useState(!1),[n,s]=C.useState(null);return C.useEffect(()=>{e&&(async()=>{try{const o=await Re.getLibraryProfile();o&&o.library&&s({id:o.library.id,library_code:o.library.libraryCode,name:o.library.libraryName})}catch(o){console.error("Failed to load library profile",o),Ee.error("Could not load library information")}})()},[e]),a.jsxs("div",{className:"flex h-screen bg-gray-100",children:[a.jsx(wn,{isCollapsed:t,setIsCollapsed:r,onBarcodeClick:()=>{}}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Public Registration"}),n?a.jsx(HR,{libraryCode:n.library_code,libraryName:n.name}):a.jsx("div",{className:"bg-white rounded-lg shadow p-6 text-gray-500",children:"Loading library information..."})]})})]})},P4e=()=>{const{libraryCode:e,phone:t}=XA(),r=Ur(),[n,s]=C.useState(e||""),[i,o]=C.useState(t||""),[l,A]=C.useState(null),[u,h]=C.useState(!1),[m,w]=C.useState(null),[p,b]=C.useState(!1);C.useEffect(()=>{e&&t&&N()},[e,t]);const N=async()=>{if(!n||!i){Ee.error("Please enter both library code and phone number");return}try{h(!0),w(null),b(!0);const I=await fetch(`${Cg}/public-registration/library/${n}/status/${i}`);if(!I.ok){if(I.status===404){const O=await I.json();throw new Error(O.message||"No registration request found")}throw new Error("Failed to check registration status")}const _=await I.json();A(_)}catch(I){const _=I instanceof Error?I.message:"Failed to check registration status";w(_),A(null)}finally{h(!1)}},j=I=>{switch(I){case"pending":return a.jsx(Zn,{className:"h-4 w-4"});case"accepted":return a.jsx(Sc,{className:"h-4 w-4"});case"rejected":return a.jsx(pd,{className:"h-4 w-4"});default:return a.jsx(Ei,{className:"h-4 w-4"})}},y=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"accepted":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},B=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsx(Mn,{className:"mb-6",children:a.jsxs(Pa,{children:[a.jsxs(Da,{className:"flex items-center gap-2",children:[a.jsx(cl,{className:"h-6 w-6"}),"Check Registration Status"]}),a.jsx(Mc,{children:"Enter your library code and phone number to check your registration request status"})]})}),a.jsx(Mn,{className:"mb-6",children:a.jsx(Es,{className:"pt-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"libraryCode",children:"Library Code"}),a.jsxs("div",{className:"relative",children:[a.jsx(Io,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(Gr,{id:"libraryCode",placeholder:"e.g., LIB001",className:"pl-10",value:n,onChange:I=>s(I.target.value.toUpperCase())})]})]}),a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"phone",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx(li,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(Gr,{id:"phone",type:"tel",placeholder:"Your phone number",className:"pl-10",value:i,onChange:I=>o(I.target.value)})]})]})]}),a.jsx(Jt,{onClick:N,disabled:u,className:"w-full",children:u?a.jsxs(a.Fragment,{children:[a.jsx(Qs,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cl,{className:"mr-2 h-4 w-4"}),"Check Status"]})})]})})}),m&&p&&a.jsxs(BA,{variant:"destructive",className:"mb-6",children:[a.jsx(Ei,{className:"h-4 w-4"}),a.jsx(SA,{children:m})]}),l&&a.jsxs(Mn,{children:[a.jsxs(Pa,{children:[a.jsxs(Da,{className:"flex items-center gap-2",children:[a.jsx(Io,{className:"h-5 w-5"}),l.library.name]}),a.jsxs(Mc,{children:["Library Code: ",l.library.code]})]}),a.jsxs(Es,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Wi,{className:"h-5 w-5 text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:l.request.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Request ID: #",l.request.id]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Status:"}),a.jsxs(sd,{className:`${y(l.request.status)} flex items-center gap-1`,children:[j(l.request.status),l.request.status.charAt(0).toUpperCase()+l.request.status.slice(1)]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-sm font-medium",children:"Submitted"}),a.jsx("span",{className:"text-sm text-gray-600",children:B(l.request.submittedAt)})]}),l.request.lastUpdated!==l.request.submittedAt&&a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-sm font-medium",children:"Last Updated"}),a.jsx("span",{className:"text-sm text-gray-600",children:B(l.request.lastUpdated)})]}),l.request.processedAt&&a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[a.jsx("span",{className:"text-sm font-medium",children:"Processed"}),a.jsx("span",{className:"text-sm text-gray-600",children:B(l.request.processedAt)})]})]}),l.request.status==="pending"&&a.jsxs(BA,{children:[a.jsx(Zn,{className:"h-4 w-4"}),a.jsx(SA,{children:"Your registration request is currently being reviewed by the library administration. You will be contacted once a decision is made."})]}),l.request.status==="accepted"&&a.jsxs(BA,{className:"border-green-200 bg-green-50",children:[a.jsx(Sc,{className:"h-4 w-4 text-green-600"}),a.jsx(SA,{className:"text-green-800",children:"Congratulations! Your registration request has been accepted. You should have received contact information from the library administration."})]}),l.request.status==="rejected"&&a.jsxs(BA,{variant:"destructive",children:[a.jsx(pd,{className:"h-4 w-4"}),a.jsxs(SA,{children:["Your registration request has been rejected.",l.request.rejectionReason&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),a.jsx("strong",{children:"Reason:"})," ",l.request.rejectionReason]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(Jt,{onClick:()=>r(`/register/${l.library.code}`),variant:"outline",className:"flex-1",children:"New Registration"}),a.jsx(Jt,{onClick:()=>window.location.reload(),variant:"outline",className:"flex-1",children:"Refresh Status"})]})]})]}),p&&!l&&!m&&!u&&a.jsx(Mn,{children:a.jsxs(Es,{className:"pt-6 text-center",children:[a.jsx(Ei,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Registration Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"No registration request was found for the provided library code and phone number."}),a.jsx(Jt,{onClick:()=>r("/"),variant:"outline",children:"Go Home"})]})})]})})},D4e=new uq;function Mr({children:e}){const{isLoading:t,isAuthenticated:r}=ga();return t?a.jsx("div",{children:"Loading..."}):r?e:a.jsx(bD,{to:"/owner-login"})}function O4e(){return a.jsxs(mX,{children:[a.jsx(dr,{path:"/owner-register",element:a.jsx(hbe,{})}),a.jsx(dr,{path:"/owner-login",element:a.jsx(mbe,{})}),a.jsx(dr,{path:"/student-login",element:a.jsx(pbe,{})}),a.jsx(dr,{path:"/student-dashboard",element:a.jsx(Wbe,{})}),a.jsx(dr,{path:"/",element:a.jsx(Gbe,{})}),a.jsx(dr,{path:"/dashboard",element:a.jsx(Mr,{children:a.jsx(Rae,{})})}),a.jsx(dr,{path:"/barcode",element:a.jsx(Mr,{children:a.jsx(zbe,{})})}),a.jsx(dr,{path:"/hostel-dashboard",element:a.jsx(Mr,{children:a.jsx(abe,{})})}),a.jsx(dr,{path:"/hostel/active-students",element:a.jsx(Mr,{children:a.jsx(ibe,{})})}),a.jsx(dr,{path:"/students",element:a.jsx(Mr,{children:a.jsx(f0e,{})})}),a.jsx(dr,{path:"/students/add",element:a.jsx(Mr,{children:a.jsx(UR,{})})}),a.jsx(dr,{path:"/students/:id",element:a.jsx(Mr,{children:a.jsx(i1e,{})})}),a.jsx(dr,{path:"/students/:id/edit",element:a.jsx(Mr,{children:a.jsx(J1e,{})})}),a.jsx(dr,{path:"/attendance",element:a.jsx(Mr,{children:a.jsx(cbe,{})})}),a.jsx(dr,{path:"/qr-test",element:a.jsx(Mr,{children:a.jsx(Abe,{})})}),a.jsx(dr,{path:"/active-students",element:a.jsx(Mr,{children:a.jsx(Qae,{})})}),a.jsx(dr,{path:"/expired-memberships",element:a.jsx(Mr,{children:a.jsx(a1e,{})})}),a.jsx(dr,{path:"/expiring-memberships",element:a.jsx(Mr,{children:a.jsx(m_,{})})}),a.jsx(dr,{path:"/inactive-students",element:a.jsx(Mr,{children:a.jsx(obe,{})})}),a.jsx(dr,{path:"/expiring-memberships",element:a.jsx(Mr,{children:a.jsx(m_,{})})}),a.jsx(dr,{path:"/schedule",element:a.jsx(Mr,{children:a.jsx(V1e,{})})}),a.jsx(dr,{path:"/shifts",element:a.jsx(Mr,{children:a.jsx(Mve,{})})}),a.jsx(dr,{path:"/shifts/:id/students",element:a.jsx(Mr,{children:a.jsx(Uve,{})})}),a.jsx(dr,{path:"/seats",element:a.jsx(Mr,{children:a.jsx(exe,{})})}),a.jsx(dr,{path:"/settings",element:a.jsx(Mr,{children:a.jsx(Y1e,{})})}),a.jsx(dr,{path:"/users/new",element:a.jsx(Q_,{children:a.jsx(Z1e,{})})}),a.jsx(dr,{path:"/hostel",element:a.jsx(Mr,{children:a.jsx(Vve,{})})}),a.jsx(dr,{path:"/hostel/branches/:branchId/students",element:a.jsx(Mr,{children:a.jsx(Wve,{})})}),a.jsx(dr,{path:"/hostel/students/:id",element:a.jsx(Mr,{children:a.jsx(zve,{})})}),a.jsx(dr,{path:"/hostel/students/:id/edit",element:a.jsx(Mr,{children:a.jsx($ve,{})})}),a.jsx(dr,{path:"/hostel/collections",element:a.jsx(Mr,{children:a.jsx(tbe,{})})}),a.jsx(dr,{path:"/hostel/expired",element:a.jsx(Mr,{children:a.jsx(rbe,{})})}),a.jsx(dr,{path:"/transactions",element:a.jsx(Mr,{children:a.jsx(Yve,{})})}),a.jsx(dr,{path:"/collections",element:a.jsx(Mr,{children:a.jsx(Zve,{})})}),a.jsx(dr,{path:"/expenses",element:a.jsx(Mr,{children:a.jsx(Jve,{})})}),a.jsx(dr,{path:"/profit-loss",element:a.jsx(Mr,{children:a.jsx(ebe,{})})}),a.jsx(dr,{path:"/public-registration",element:a.jsx(Mr,{children:a.jsx(L4e,{})})}),a.jsx(dr,{path:"/branches",element:a.jsx(Mr,{children:a.jsx(nbe,{})})}),a.jsx(dr,{path:"/products",element:a.jsx(Mr,{children:a.jsx(sbe,{})})}),a.jsx(dr,{path:"/announcements",element:a.jsx(Mr,{children:a.jsx(c4e,{})})}),a.jsx(dr,{path:"/admission-requests",element:a.jsx(Mr,{children:a.jsx(_4e,{})})}),a.jsx(dr,{path:"/register/:libraryCode",element:a.jsx(T4e,{})}),a.jsx(dr,{path:"/registration-status/:libraryCode?/:phone?",element:a.jsx(P4e,{})}),a.jsx(dr,{path:"/public-queries",element:a.jsx(Mr,{children:a.jsx(BV,{})})}),a.jsx(dr,{path:"/admin/queries",element:a.jsx(Q_,{children:a.jsx(u4e,{})})}),a.jsx(dr,{path:"/queries/new",element:a.jsx(Mr,{children:a.jsx(h4e,{})})}),a.jsx(dr,{path:"/queries/:id",element:a.jsx(Mr,{children:a.jsx(d4e,{})})}),a.jsx(dr,{path:"/lockers",element:a.jsx(Mr,{children:a.jsx(lbe,{})})}),a.jsx(dr,{path:"/subscription",element:a.jsx(Mr,{children:a.jsx(dbe,{})})}),a.jsx(dr,{path:"*",element:a.jsx(Mae,{})})]})}function R4e(){return a.jsx(pq,{client:D4e,children:a.jsx(hO,{children:a.jsx(Lee,{children:a.jsxs(NX,{children:[a.jsx(O4e,{}),a.jsx(a$,{}),a.jsx(q$,{position:"top-right"})]})})})})}XP(document.getElementById("root")).render(a.jsx(R4e,{}));export{Ap as _,Of as c,n1 as g};
